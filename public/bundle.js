/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@dead50f7/adbkit/lib/adb/protocol.js":
/*!***********************************************************!*\
  !*** ./node_modules/@dead50f7/adbkit/lib/adb/protocol.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

var Protocol = /** @class */ (function () {
    function Protocol() {
    }
    Protocol.decodeLength = function (length) {
        return parseInt(length, 16);
    };
    Protocol.encodeLength = function (length) {
        return ('0000' + length.toString(16)).slice(-4).toUpperCase();
    };
    Protocol.encodeData = function (data) {
        if (!Buffer.isBuffer(data)) {
            data = new Buffer(data);
        }
        return Buffer.concat([new Buffer(Protocol.encodeLength(data.length)), data]);
    };
    Protocol.OKAY = 'OKAY';
    Protocol.FAIL = 'FAIL';
    Protocol.STAT = 'STAT';
    Protocol.LIST = 'LIST';
    Protocol.DENT = 'DENT';
    Protocol.RECV = 'RECV';
    Protocol.DATA = 'DATA';
    Protocol.DONE = 'DONE';
    Protocol.SEND = 'SEND';
    Protocol.QUIT = 'QUIT';
    return Protocol;
}());
module.exports = Protocol;


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/***/ ((module, exports, __webpack_require__) => {

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */

exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
exports.destroy = (() => {
	let warned = false;

	return () => {
		if (!warned) {
			warned = true;
			console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
		}
	};
})();

/**
 * Colors.
 */

exports.colors = [
	'#0000CC',
	'#0000FF',
	'#0033CC',
	'#0033FF',
	'#0066CC',
	'#0066FF',
	'#0099CC',
	'#0099FF',
	'#00CC00',
	'#00CC33',
	'#00CC66',
	'#00CC99',
	'#00CCCC',
	'#00CCFF',
	'#3300CC',
	'#3300FF',
	'#3333CC',
	'#3333FF',
	'#3366CC',
	'#3366FF',
	'#3399CC',
	'#3399FF',
	'#33CC00',
	'#33CC33',
	'#33CC66',
	'#33CC99',
	'#33CCCC',
	'#33CCFF',
	'#6600CC',
	'#6600FF',
	'#6633CC',
	'#6633FF',
	'#66CC00',
	'#66CC33',
	'#9900CC',
	'#9900FF',
	'#9933CC',
	'#9933FF',
	'#99CC00',
	'#99CC33',
	'#CC0000',
	'#CC0033',
	'#CC0066',
	'#CC0099',
	'#CC00CC',
	'#CC00FF',
	'#CC3300',
	'#CC3333',
	'#CC3366',
	'#CC3399',
	'#CC33CC',
	'#CC33FF',
	'#CC6600',
	'#CC6633',
	'#CC9900',
	'#CC9933',
	'#CCCC00',
	'#CCCC33',
	'#FF0000',
	'#FF0033',
	'#FF0066',
	'#FF0099',
	'#FF00CC',
	'#FF00FF',
	'#FF3300',
	'#FF3333',
	'#FF3366',
	'#FF3399',
	'#FF33CC',
	'#FF33FF',
	'#FF6600',
	'#FF6633',
	'#FF9900',
	'#FF9933',
	'#FFCC00',
	'#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

// eslint-disable-next-line complexity
function useColors() {
	// NB: In an Electron preload script, document will be defined but not fully
	// initialized. Since we know we're in Chrome, we'll just detect this case
	// explicitly
	if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
		return true;
	}

	// Internet Explorer and Edge do not support colors.
	if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
		return false;
	}

	let m;

	// Is webkit? http://stackoverflow.com/a/16459606/376773
	// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
	return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
		// Is firebug? http://stackoverflow.com/a/398120/376773
		(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
		// Is firefox >= v31?
		// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
		(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(m[1], 10) >= 31) ||
		// Double check webkit in userAgent just in case we are in a worker
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
	args[0] = (this.useColors ? '%c' : '') +
		this.namespace +
		(this.useColors ? ' %c' : ' ') +
		args[0] +
		(this.useColors ? '%c ' : ' ') +
		'+' + module.exports.humanize(this.diff);

	if (!this.useColors) {
		return;
	}

	const c = 'color: ' + this.color;
	args.splice(1, 0, c, 'color: inherit');

	// The final "%c" is somewhat tricky, because there could be other
	// arguments passed either before or after the %c, so we need to
	// figure out the correct index to insert the CSS into
	let index = 0;
	let lastC = 0;
	args[0].replace(/%[a-zA-Z%]/g, match => {
		if (match === '%%') {
			return;
		}
		index++;
		if (match === '%c') {
			// We only are interested in the *last* %c
			// (the user may have provided their own)
			lastC = index;
		}
	});

	args.splice(lastC, 0, c);
}

/**
 * Invokes `console.debug()` when available.
 * No-op when `console.debug` is not a "function".
 * If `console.debug` is not available, falls back
 * to `console.log`.
 *
 * @api public
 */
exports.log = console.debug || console.log || (() => {});

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */
function save(namespaces) {
	try {
		if (namespaces) {
			exports.storage.setItem('debug', namespaces);
		} else {
			exports.storage.removeItem('debug');
		}
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */
function load() {
	let r;
	try {
		r = exports.storage.getItem('debug');
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}

	// If debug isn't set in LS, and we're in Electron, try to load $DEBUG
	if (!r && typeof process !== 'undefined' && 'env' in process) {
		r = process.env.DEBUG;
	}

	return r;
}

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
	try {
		// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
		// The Browser also has localStorage in the global context.
		return localStorage;
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

module.exports = __webpack_require__(/*! ./common */ "./node_modules/debug/src/common.js")(exports);

const {formatters} = module.exports;

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
	try {
		return JSON.stringify(v);
	} catch (error) {
		return '[UnexpectedJSONParseError]: ' + error.message;
	}
};


/***/ }),

/***/ "./node_modules/debug/src/common.js":
/*!******************************************!*\
  !*** ./node_modules/debug/src/common.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */

function setup(env) {
	createDebug.debug = createDebug;
	createDebug.default = createDebug;
	createDebug.coerce = coerce;
	createDebug.disable = disable;
	createDebug.enable = enable;
	createDebug.enabled = enabled;
	createDebug.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");
	createDebug.destroy = destroy;

	Object.keys(env).forEach(key => {
		createDebug[key] = env[key];
	});

	/**
	* The currently active debug mode names, and names to skip.
	*/

	createDebug.names = [];
	createDebug.skips = [];

	/**
	* Map of special "%n" handling functions, for the debug "format" argument.
	*
	* Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
	*/
	createDebug.formatters = {};

	/**
	* Selects a color for a debug namespace
	* @param {String} namespace The namespace string for the debug instance to be colored
	* @return {Number|String} An ANSI color code for the given namespace
	* @api private
	*/
	function selectColor(namespace) {
		let hash = 0;

		for (let i = 0; i < namespace.length; i++) {
			hash = ((hash << 5) - hash) + namespace.charCodeAt(i);
			hash |= 0; // Convert to 32bit integer
		}

		return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
	}
	createDebug.selectColor = selectColor;

	/**
	* Create a debugger with the given `namespace`.
	*
	* @param {String} namespace
	* @return {Function}
	* @api public
	*/
	function createDebug(namespace) {
		let prevTime;
		let enableOverride = null;
		let namespacesCache;
		let enabledCache;

		function debug(...args) {
			// Disabled?
			if (!debug.enabled) {
				return;
			}

			const self = debug;

			// Set `diff` timestamp
			const curr = Number(new Date());
			const ms = curr - (prevTime || curr);
			self.diff = ms;
			self.prev = prevTime;
			self.curr = curr;
			prevTime = curr;

			args[0] = createDebug.coerce(args[0]);

			if (typeof args[0] !== 'string') {
				// Anything else let's inspect with %O
				args.unshift('%O');
			}

			// Apply any `formatters` transformations
			let index = 0;
			args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
				// If we encounter an escaped % then don't increase the array index
				if (match === '%%') {
					return '%';
				}
				index++;
				const formatter = createDebug.formatters[format];
				if (typeof formatter === 'function') {
					const val = args[index];
					match = formatter.call(self, val);

					// Now we need to remove `args[index]` since it's inlined in the `format`
					args.splice(index, 1);
					index--;
				}
				return match;
			});

			// Apply env-specific formatting (colors, etc.)
			createDebug.formatArgs.call(self, args);

			const logFn = self.log || createDebug.log;
			logFn.apply(self, args);
		}

		debug.namespace = namespace;
		debug.useColors = createDebug.useColors();
		debug.color = createDebug.selectColor(namespace);
		debug.extend = extend;
		debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.

		Object.defineProperty(debug, 'enabled', {
			enumerable: true,
			configurable: false,
			get: () => {
				if (enableOverride !== null) {
					return enableOverride;
				}
				if (namespacesCache !== createDebug.namespaces) {
					namespacesCache = createDebug.namespaces;
					enabledCache = createDebug.enabled(namespace);
				}

				return enabledCache;
			},
			set: v => {
				enableOverride = v;
			}
		});

		// Env-specific initialization logic for debug instances
		if (typeof createDebug.init === 'function') {
			createDebug.init(debug);
		}

		return debug;
	}

	function extend(namespace, delimiter) {
		const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
		newDebug.log = this.log;
		return newDebug;
	}

	/**
	* Enables a debug mode by namespaces. This can include modes
	* separated by a colon and wildcards.
	*
	* @param {String} namespaces
	* @api public
	*/
	function enable(namespaces) {
		createDebug.save(namespaces);
		createDebug.namespaces = namespaces;

		createDebug.names = [];
		createDebug.skips = [];

		let i;
		const split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
		const len = split.length;

		for (i = 0; i < len; i++) {
			if (!split[i]) {
				// ignore empty strings
				continue;
			}

			namespaces = split[i].replace(/\*/g, '.*?');

			if (namespaces[0] === '-') {
				createDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));
			} else {
				createDebug.names.push(new RegExp('^' + namespaces + '$'));
			}
		}
	}

	/**
	* Disable debug output.
	*
	* @return {String} namespaces
	* @api public
	*/
	function disable() {
		const namespaces = [
			...createDebug.names.map(toNamespace),
			...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)
		].join(',');
		createDebug.enable('');
		return namespaces;
	}

	/**
	* Returns true if the given mode name is enabled, false otherwise.
	*
	* @param {String} name
	* @return {Boolean}
	* @api public
	*/
	function enabled(name) {
		if (name[name.length - 1] === '*') {
			return true;
		}

		let i;
		let len;

		for (i = 0, len = createDebug.skips.length; i < len; i++) {
			if (createDebug.skips[i].test(name)) {
				return false;
			}
		}

		for (i = 0, len = createDebug.names.length; i < len; i++) {
			if (createDebug.names[i].test(name)) {
				return true;
			}
		}

		return false;
	}

	/**
	* Convert regexp to namespace
	*
	* @param {RegExp} regxep
	* @return {String} namespace
	* @api private
	*/
	function toNamespace(regexp) {
		return regexp.toString()
			.substring(2, regexp.toString().length - 2)
			.replace(/\.\*\?$/, '*');
	}

	/**
	* Coerce `val`.
	*
	* @param {Mixed} val
	* @return {Mixed}
	* @api private
	*/
	function coerce(val) {
		if (val instanceof Error) {
			return val.stack || val.message;
		}
		return val;
	}

	/**
	* XXX DO NOT USE. This is a temporary stub function.
	* XXX It WILL be removed in the next major release.
	*/
	function destroy() {
		console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
	}

	createDebug.enable(createDebug.load());

	return createDebug;
}

module.exports = setup;


/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/***/ ((module) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var R = typeof Reflect === 'object' ? Reflect : null
var ReflectApply = R && typeof R.apply === 'function'
  ? R.apply
  : function ReflectApply(target, receiver, args) {
    return Function.prototype.apply.call(target, receiver, args);
  }

var ReflectOwnKeys
if (R && typeof R.ownKeys === 'function') {
  ReflectOwnKeys = R.ownKeys
} else if (Object.getOwnPropertySymbols) {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target)
      .concat(Object.getOwnPropertySymbols(target));
  };
} else {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target);
  };
}

function ProcessEmitWarning(warning) {
  if (console && console.warn) console.warn(warning);
}

var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {
  return value !== value;
}

function EventEmitter() {
  EventEmitter.init.call(this);
}
module.exports = EventEmitter;
module.exports.once = once;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._eventsCount = 0;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

function checkListener(listener) {
  if (typeof listener !== 'function') {
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
  }
}

Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
  enumerable: true,
  get: function() {
    return defaultMaxListeners;
  },
  set: function(arg) {
    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + '.');
    }
    defaultMaxListeners = arg;
  }
});

EventEmitter.init = function() {

  if (this._events === undefined ||
      this._events === Object.getPrototypeOf(this)._events) {
    this._events = Object.create(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
};

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + '.');
  }
  this._maxListeners = n;
  return this;
};

function _getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return _getMaxListeners(this);
};

EventEmitter.prototype.emit = function emit(type) {
  var args = [];
  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);
  var doError = (type === 'error');

  var events = this._events;
  if (events !== undefined)
    doError = (doError && events.error === undefined);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    var er;
    if (args.length > 0)
      er = args[0];
    if (er instanceof Error) {
      // Note: The comments on the `throw` lines are intentional, they show
      // up in Node's output if this results in an unhandled exception.
      throw er; // Unhandled 'error' event
    }
    // At least give some kind of context to the user
    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));
    err.context = er;
    throw err; // Unhandled 'error' event
  }

  var handler = events[type];

  if (handler === undefined)
    return false;

  if (typeof handler === 'function') {
    ReflectApply(handler, this, args);
  } else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      ReflectApply(listeners[i], this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  checkListener(listener);

  events = target._events;
  if (events === undefined) {
    events = target._events = Object.create(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener !== undefined) {
      target.emit('newListener', type,
                  listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (existing === undefined) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
        prepend ? [listener, existing] : [existing, listener];
      // If we've already got an array, just append.
    } else if (prepend) {
      existing.unshift(listener);
    } else {
      existing.push(listener);
    }

    // Check for listener leak
    m = _getMaxListeners(target);
    if (m > 0 && existing.length > m && !existing.warned) {
      existing.warned = true;
      // No error code for this since it is a Warning
      // eslint-disable-next-line no-restricted-syntax
      var w = new Error('Possible EventEmitter memory leak detected. ' +
                          existing.length + ' ' + String(type) + ' listeners ' +
                          'added. Use emitter.setMaxListeners() to ' +
                          'increase limit');
      w.name = 'MaxListenersExceededWarning';
      w.emitter = target;
      w.type = type;
      w.count = existing.length;
      ProcessEmitWarning(w);
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    if (arguments.length === 0)
      return this.listener.call(this.target);
    return this.listener.apply(this.target, arguments);
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = onceWrapper.bind(state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  checkListener(listener);
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      checkListener(listener);

      events = this._events;
      if (events === undefined)
        return this;

      list = events[type];
      if (list === undefined)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener !== undefined)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.off = EventEmitter.prototype.removeListener;

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (events === undefined)
        return this;

      // not listening for removeListener, no need to emit
      if (events.removeListener === undefined) {
        if (arguments.length === 0) {
          this._events = Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== undefined) {
          if (--this._eventsCount === 0)
            this._events = Object.create(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = Object.create(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners !== undefined) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (events === undefined)
    return [];

  var evlistener = events[type];
  if (evlistener === undefined)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ?
    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events !== undefined) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener !== undefined) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
};

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function spliceOne(list, index) {
  for (; index + 1 < list.length; index++)
    list[index] = list[index + 1];
  list.pop();
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function once(emitter, name) {
  return new Promise(function (resolve, reject) {
    function errorListener(err) {
      emitter.removeListener(name, resolver);
      reject(err);
    }

    function resolver() {
      if (typeof emitter.removeListener === 'function') {
        emitter.removeListener('error', errorListener);
      }
      resolve([].slice.call(arguments));
    };

    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
    if (name !== 'error') {
      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
    }
  });
}

function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
  if (typeof emitter.on === 'function') {
    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);
  }
}

function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
  if (typeof emitter.on === 'function') {
    if (flags.once) {
      emitter.once(name, listener);
    } else {
      emitter.on(name, listener);
    }
  } else if (typeof emitter.addEventListener === 'function') {
    // EventTarget does not have `error` event semantics like Node
    // EventEmitters, we do not listen for `error` events here.
    emitter.addEventListener(name, function wrapListener(arg) {
      // IE does not have builtin `{ once: true }` support so we
      // have to do it manually.
      if (flags.once) {
        emitter.removeEventListener(name, wrapListener);
      }
      listener(arg);
    });
  } else {
    throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
  }
}


/***/ }),

/***/ "./src/public/images/multitouch/center_point.png":
/*!*******************************************************!*\
  !*** ./src/public/images/multitouch/center_point.png ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "1279f368b5bb729ca7b35990042f9928.png");

/***/ }),

/***/ "./src/public/images/multitouch/touch_point.png":
/*!******************************************************!*\
  !*** ./src/public/images/multitouch/touch_point.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "0adc36cf9cddfe4b6056c3ca47abaca0.png");

/***/ }),

/***/ "./vendor/Broadway/avc.wasm.asset":
/*!****************************************!*\
  !*** ./vendor/Broadway/avc.wasm.asset ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "avc.wasm");

/***/ }),

/***/ "./node_modules/h264-converter/dist/h264-parser.js":
/*!*********************************************************!*\
  !*** ./node_modules/h264-converter/dist/h264-parser.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var bit_stream_1 = __webpack_require__(/*! ./util/bit-stream */ "./node_modules/h264-converter/dist/util/bit-stream.js");
var debug = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
var NALU_1 = __webpack_require__(/*! ./util/NALU */ "./node_modules/h264-converter/dist/util/NALU.js");
var H264Parser = (function () {
    function H264Parser(remuxer) {
        this.remuxer = remuxer;
        this.track = remuxer.mp4track;
    }
    H264Parser.prototype.parseSEI = function (sei) {
        var messages = H264Parser.readSEI(sei);
        for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {
            var m = messages_1[_i];
            switch (m.type) {
                case 0:
                    this.track.seiBuffering = true;
                    break;
                case 5:
                    return true;
                default:
                    break;
            }
        }
        return false;
    };
    H264Parser.prototype.parseSPS = function (sps) {
        var config = H264Parser.readSPS(sps);
        this.track.width = config.width;
        this.track.height = config.height;
        this.track.sps = [sps];
        this.track.codec = 'avc1.';
        var codecArray = new DataView(sps.buffer, sps.byteOffset + 1, 4);
        for (var i = 0; i < 3; ++i) {
            var h = codecArray.getUint8(i).toString(16);
            if (h.length < 2) {
                h = '0' + h;
            }
            this.track.codec += h;
        }
    };
    H264Parser.prototype.parsePPS = function (pps) {
        this.track.pps = [pps];
    };
    H264Parser.prototype.parseNAL = function (unit) {
        if (!unit) {
            return false;
        }
        var push = false;
        switch (unit.type()) {
            case NALU_1.default.NDR:
            case NALU_1.default.IDR:
                push = true;
                break;
            case NALU_1.default.SEI:
                push = this.parseSEI(unit.getData().subarray(4));
                break;
            case NALU_1.default.SPS:
                this.parseSPS(unit.getData().subarray(4));
                debug.log(" Found SPS type NALU frame.");
                if (!this.remuxer.readyToDecode && this.track.pps.length > 0 && this.track.sps.length > 0) {
                    this.remuxer.readyToDecode = true;
                }
                break;
            case NALU_1.default.PPS:
                this.parsePPS(unit.getData().subarray(4));
                debug.log(" Found PPS type NALU frame.");
                if (!this.remuxer.readyToDecode && this.track.pps.length > 0 && this.track.sps.length > 0) {
                    this.remuxer.readyToDecode = true;
                }
                break;
            default:
                debug.log(" Found Unknown type NALU frame. type=" + unit.type());
                break;
        }
        return push;
    };
    H264Parser.skipScalingList = function (decoder, count) {
        var lastScale = 8;
        var nextScale = 8;
        for (var j = 0; j < count; j++) {
            if (nextScale !== 0) {
                var deltaScale = decoder.readEG();
                nextScale = (lastScale + deltaScale + 256) % 256;
            }
            lastScale = (nextScale === 0) ? lastScale : nextScale;
        }
    };
    H264Parser.readSPS = function (data) {
        var _a = this.parseSPS(data), pic_width_in_mbs_minus1 = _a.pic_width_in_mbs_minus1, frame_crop_left_offset = _a.frame_crop_left_offset, frame_crop_right_offset = _a.frame_crop_right_offset, frame_mbs_only_flag = _a.frame_mbs_only_flag, pic_height_in_map_units_minus1 = _a.pic_height_in_map_units_minus1, frame_crop_top_offset = _a.frame_crop_top_offset, frame_crop_bottom_offset = _a.frame_crop_bottom_offset, sar = _a.sar;
        var sarScale = sar[0] / sar[1];
        return {
            width: Math.ceil((((pic_width_in_mbs_minus1 + 1) * 16) - frame_crop_left_offset * 2 - frame_crop_right_offset * 2) * sarScale),
            height: ((2 - frame_mbs_only_flag) * (pic_height_in_map_units_minus1 + 1) * 16) -
                ((frame_mbs_only_flag ? 2 : 4) * (frame_crop_top_offset + frame_crop_bottom_offset)),
        };
    };
    H264Parser.parseSPS = function (data) {
        var decoder = new bit_stream_1.default(data);
        var frame_crop_left_offset = 0;
        var frame_crop_right_offset = 0;
        var frame_crop_top_offset = 0;
        var frame_crop_bottom_offset = 0;
        decoder.readUByte();
        var profile_idc = decoder.readUByte();
        var constraint_set_flags = decoder.readUByte();
        var level_idc = decoder.readBits(8);
        var seq_parameter_set_id = decoder.readUEG();
        if (profile_idc === 100 ||
            profile_idc === 110 ||
            profile_idc === 122 ||
            profile_idc === 244 ||
            profile_idc === 44 ||
            profile_idc === 83 ||
            profile_idc === 86 ||
            profile_idc === 118 ||
            profile_idc === 128 ||
            profile_idc === 138 ||
            profile_idc === 139 ||
            profile_idc === 134) {
            var chromaFormatIdc = decoder.readUEG();
            if (chromaFormatIdc === 3) {
                decoder.skipBits(1);
            }
            decoder.skipUEG();
            decoder.skipUEG();
            decoder.skipBits(1);
            if (decoder.readBoolean()) {
                var scalingListCount = (chromaFormatIdc !== 3) ? 8 : 12;
                for (var i = 0; i < scalingListCount; ++i) {
                    if (decoder.readBoolean()) {
                        if (i < 6) {
                            H264Parser.skipScalingList(decoder, 16);
                        }
                        else {
                            H264Parser.skipScalingList(decoder, 64);
                        }
                    }
                }
            }
        }
        decoder.skipUEG();
        var picOrderCntType = decoder.readUEG();
        if (picOrderCntType === 0) {
            decoder.readUEG();
        }
        else if (picOrderCntType === 1) {
            decoder.skipBits(1);
            decoder.skipEG();
            decoder.skipEG();
            var numRefFramesInPicOrderCntCycle = decoder.readUEG();
            for (var i = 0; i < numRefFramesInPicOrderCntCycle; ++i) {
                decoder.skipEG();
            }
        }
        decoder.skipUEG();
        decoder.skipBits(1);
        var pic_width_in_mbs_minus1 = decoder.readUEG();
        var pic_height_in_map_units_minus1 = decoder.readUEG();
        var frame_mbs_only_flag = decoder.readBits(1);
        if (frame_mbs_only_flag === 0) {
            decoder.skipBits(1);
        }
        decoder.skipBits(1);
        if (decoder.readBoolean()) {
            frame_crop_left_offset = decoder.readUEG();
            frame_crop_right_offset = decoder.readUEG();
            frame_crop_top_offset = decoder.readUEG();
            frame_crop_bottom_offset = decoder.readUEG();
        }
        var vui_parameters_present_flag = decoder.readBoolean();
        var aspect_ratio_info_present_flag = false;
        var sar = [1, 1];
        if (vui_parameters_present_flag) {
            aspect_ratio_info_present_flag = decoder.readBoolean();
            if (aspect_ratio_info_present_flag) {
                var aspectRatioIdc = decoder.readUByte();
                switch (aspectRatioIdc) {
                    case 1:
                        sar = [1, 1];
                        break;
                    case 2:
                        sar = [12, 11];
                        break;
                    case 3:
                        sar = [10, 11];
                        break;
                    case 4:
                        sar = [16, 11];
                        break;
                    case 5:
                        sar = [40, 33];
                        break;
                    case 6:
                        sar = [24, 11];
                        break;
                    case 7:
                        sar = [20, 11];
                        break;
                    case 8:
                        sar = [32, 11];
                        break;
                    case 9:
                        sar = [80, 33];
                        break;
                    case 10:
                        sar = [18, 11];
                        break;
                    case 11:
                        sar = [15, 11];
                        break;
                    case 12:
                        sar = [64, 33];
                        break;
                    case 13:
                        sar = [160, 99];
                        break;
                    case 14:
                        sar = [4, 3];
                        break;
                    case 15:
                        sar = [3, 2];
                        break;
                    case 16:
                        sar = [2, 1];
                        break;
                    case 255: {
                        sar = [decoder.readUByte() << 8 | decoder.readUByte(), decoder.readUByte() << 8 | decoder.readUByte()];
                        break;
                    }
                    default: {
                        debug.error("  H264: Unknown aspectRatioIdc=" + aspectRatioIdc);
                    }
                }
            }
            if (decoder.readBoolean()) {
                decoder.skipBits(1);
            }
            if (decoder.readBoolean()) {
                decoder.skipBits(4);
                if (decoder.readBoolean()) {
                    decoder.skipBits(24);
                }
            }
            if (decoder.readBoolean()) {
                decoder.skipUEG();
                decoder.skipUEG();
            }
            if (decoder.readBoolean()) {
                if (decoder.bitsAvailable > 64) {
                    var unitsInTick = decoder.readUInt();
                    var timeScale = decoder.readUInt();
                    var fixedFrameRate = decoder.readBoolean();
                    var frameDuration = timeScale / (2 * unitsInTick);
                    debug.log("timescale: " + timeScale + "; unitsInTick: " + unitsInTick + "; " +
                        ("fixedFramerate: " + fixedFrameRate + "; avgFrameDuration: " + frameDuration));
                }
                else {
                    debug.log("Truncated VUI (" + decoder.bitsAvailable + ")");
                }
            }
        }
        return {
            profile_idc: profile_idc,
            constraint_set_flags: constraint_set_flags,
            level_idc: level_idc,
            seq_parameter_set_id: seq_parameter_set_id,
            pic_width_in_mbs_minus1: pic_width_in_mbs_minus1,
            pic_height_in_map_units_minus1: pic_height_in_map_units_minus1,
            frame_mbs_only_flag: frame_mbs_only_flag,
            frame_crop_left_offset: frame_crop_left_offset,
            frame_crop_right_offset: frame_crop_right_offset,
            frame_crop_top_offset: frame_crop_top_offset,
            frame_crop_bottom_offset: frame_crop_bottom_offset,
            sar: sar,
        };
    };
    H264Parser.readSEI = function (data) {
        var decoder = new bit_stream_1.default(data);
        decoder.skipBits(8);
        var result = [];
        while (decoder.bitsAvailable > 3 * 8) {
            result.push(this.readSEIMessage(decoder));
        }
        return result;
    };
    H264Parser.readSEIMessage = function (decoder) {
        function get() {
            var result = 0;
            while (true) {
                var value = decoder.readUByte();
                result += value;
                if (value !== 0xff) {
                    break;
                }
            }
            return result;
        }
        var payloadType = get();
        var payloadSize = get();
        return this.readSEIPayload(decoder, payloadType, payloadSize);
    };
    H264Parser.readSEIPayload = function (decoder, type, size) {
        var result;
        switch (type) {
            default:
                result = { type: type };
                decoder.skipBits(size * 8);
        }
        decoder.skipBits(decoder.bitsAvailable % 8);
        return result;
    };
    return H264Parser;
}());
exports["default"] = H264Parser;


/***/ }),

/***/ "./node_modules/h264-converter/dist/h264-remuxer.js":
/*!**********************************************************!*\
  !*** ./node_modules/h264-converter/dist/h264-remuxer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var h264_parser_1 = __webpack_require__(/*! ./h264-parser */ "./node_modules/h264-converter/dist/h264-parser.js");
var debug = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
var NALU_1 = __webpack_require__(/*! ./util/NALU */ "./node_modules/h264-converter/dist/util/NALU.js");
var trackId = 1;
var H264Remuxer = (function () {
    function H264Remuxer(fps, framePerFragment, timescale) {
        this.fps = fps;
        this.framePerFragment = framePerFragment;
        this.timescale = timescale;
        this.readyToDecode = false;
        this.totalDTS = 0;
        this.stepDTS = Math.round(this.timescale / this.fps);
        this.frameCount = 0;
        this.seq = 1;
        this.mp4track = {
            id: H264Remuxer.getTrackID(),
            type: 'video',
            len: 0,
            codec: '',
            sps: [],
            pps: [],
            seiBuffering: false,
            width: 0,
            height: 0,
            timescale: timescale,
            duration: timescale,
            samples: [],
            isKeyFrame: true,
        };
        this.unitSamples = [[]];
        this.parser = new h264_parser_1.default(this);
    }
    H264Remuxer.getTrackID = function () {
        return trackId++;
    };
    Object.defineProperty(H264Remuxer.prototype, "seqNum", {
        get: function () {
            return this.seq;
        },
        enumerable: true,
        configurable: true
    });
    H264Remuxer.prototype.remux = function (nalu) {
        if (this.mp4track.seiBuffering && nalu.type() === NALU_1.default.SEI) {
            return this.createNextFrame();
        }
        if (this.parser.parseNAL(nalu)) {
            this.unitSamples[this.unitSamples.length - 1].push(nalu);
            this.mp4track.len += nalu.getSize();
            this.mp4track.isKeyFrame = nalu.isKeyframe();
        }
        if (!this.mp4track.seiBuffering && (nalu.type() === NALU_1.default.IDR || nalu.type() === NALU_1.default.NDR)) {
            return this.createNextFrame();
        }
        return;
    };
    H264Remuxer.prototype.createNextFrame = function () {
        if (this.mp4track.len > 0) {
            this.frameCount++;
            if (this.frameCount % this.framePerFragment === 0) {
                var fragment = this.getFragment();
                if (fragment) {
                    var dts = this.totalDTS;
                    this.totalDTS = this.stepDTS * this.frameCount;
                    return [dts, fragment];
                }
                else {
                    debug.log("No mp4 sample data.");
                }
            }
            this.unitSamples.push([]);
        }
        return;
    };
    H264Remuxer.prototype.flush = function () {
        this.seq++;
        this.mp4track.len = 0;
        this.mp4track.samples = [];
        this.mp4track.isKeyFrame = false;
        this.unitSamples = [[]];
    };
    H264Remuxer.prototype.getFragment = function () {
        if (!this.checkReadyToDecode()) {
            return undefined;
        }
        var payload = new Uint8Array(this.mp4track.len);
        this.mp4track.samples = [];
        var offset = 0;
        for (var i = 0, len = this.unitSamples.length; i < len; i++) {
            var units = this.unitSamples[i];
            if (units.length === 0) {
                continue;
            }
            var mp4Sample = {
                size: 0,
                cts: this.stepDTS * i,
            };
            for (var _i = 0, units_1 = units; _i < units_1.length; _i++) {
                var unit = units_1[_i];
                mp4Sample.size += unit.getSize();
                payload.set(unit.getData(), offset);
                offset += unit.getSize();
            }
            this.mp4track.samples.push(mp4Sample);
        }
        if (offset === 0) {
            return undefined;
        }
        return payload;
    };
    H264Remuxer.prototype.checkReadyToDecode = function () {
        if (!this.readyToDecode || this.unitSamples.filter(function (array) { return array.length > 0; }).length === 0) {
            debug.log("Not ready to decode! readyToDecode(" + this.readyToDecode + ") is false or units is empty.");
            return false;
        }
        return true;
    };
    return H264Remuxer;
}());
exports["default"] = H264Remuxer;


/***/ }),

/***/ "./node_modules/h264-converter/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/h264-converter/dist/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var h264_remuxer_1 = __webpack_require__(/*! ./h264-remuxer */ "./node_modules/h264-converter/dist/h264-remuxer.js");
var mp4_generator_1 = __webpack_require__(/*! ./mp4-generator */ "./node_modules/h264-converter/dist/mp4-generator.js");
var debug = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
var nalu_stream_buffer_1 = __webpack_require__(/*! ./util/nalu-stream-buffer */ "./node_modules/h264-converter/dist/util/nalu-stream-buffer.js");
exports.mimeType = 'video/mp4; codecs="avc1.42E01E"';
var debug_1 = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
exports.setLogger = debug_1.setLogger;
var VideoConverter = (function () {
    function VideoConverter(element, fps, fpf) {
        if (fps === void 0) { fps = 60; }
        if (fpf === void 0) { fpf = fps; }
        this.element = element;
        this.fps = fps;
        this.fpf = fpf;
        this.receiveBuffer = new nalu_stream_buffer_1.default();
        this.queue = [];
        if (!MediaSource || !MediaSource.isTypeSupported(exports.mimeType)) {
            throw new Error("Your browser is not supported: " + exports.mimeType);
        }
        this.reset();
    }
    Object.defineProperty(VideoConverter, "errorNotes", {
        get: function () {
            var _a;
            return _a = {},
                _a[MediaError.MEDIA_ERR_ABORTED] = 'fetching process aborted by user',
                _a[MediaError.MEDIA_ERR_NETWORK] = 'error occurred when downloading',
                _a[MediaError.MEDIA_ERR_DECODE] = 'error occurred when decoding',
                _a[MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED] = 'audio/video not supported',
                _a;
        },
        enumerable: true,
        configurable: true
    });
    VideoConverter.prototype.setup = function () {
        var _this = this;
        this.mediaReadyPromise = new Promise(function (resolve, _reject) {
            _this.mediaSource.addEventListener('sourceopen', function () {
                debug.log("Media Source opened.");
                _this.sourceBuffer = _this.mediaSource.addSourceBuffer(exports.mimeType);
                _this.sourceBuffer.addEventListener('updateend', function () {
                    debug.log("  SourceBuffer updateend");
                    debug.log("    sourceBuffer.buffered.length=" + _this.sourceBuffer.buffered.length);
                    for (var i = 0, len = _this.sourceBuffer.buffered.length; i < len; i++) {
                        debug.log("    sourceBuffer.buffered [" + i + "]: " +
                            (_this.sourceBuffer.buffered.start(i) + ", " + _this.sourceBuffer.buffered.end(i)));
                    }
                    debug.log("  mediasource.duration=" + _this.mediaSource.duration);
                    debug.log("  mediasource.readyState=" + _this.mediaSource.readyState);
                    debug.log("  video.duration=" + _this.element.duration);
                    debug.log("    video.buffered.length=" + _this.element.buffered.length);
                    if (debug.isEnable()) {
                        for (var i = 0, len = _this.element.buffered.length; i < len; i++) {
                            debug.log("    video.buffered [" + i + "]: " + _this.element.buffered.start(i) + ", " + _this.element.buffered.end(i));
                        }
                    }
                    debug.log("  video.currentTime=" + _this.element.currentTime);
                    debug.log("  video.readyState=" + _this.element.readyState);
                    if (_this.sourceBuffer.updating) {
                        return;
                    }
                    var data = _this.queue.shift();
                    if (data) {
                        _this.doAppend(data);
                    }
                });
                _this.sourceBuffer.addEventListener('error', function () {
                    debug.error('  SourceBuffer errored!');
                });
                _this.mediaReady = true;
                resolve();
            }, false);
            _this.mediaSource.addEventListener('sourceclose', function () {
                debug.log("Media Source closed.");
                _this.mediaReady = false;
            }, false);
            _this.element.src = URL.createObjectURL(_this.mediaSource);
        });
        return this.mediaReadyPromise;
    };
    VideoConverter.prototype.play = function () {
        var _this = this;
        if (!this.element.paused) {
            return;
        }
        if (this.mediaReady && this.element.readyState >= 2) {
            this.element.play();
        }
        else {
            var handler_1 = function () {
                _this.play();
                _this.element.removeEventListener('canplaythrough', handler_1);
            };
            this.element.addEventListener('canplaythrough', handler_1);
        }
    };
    VideoConverter.prototype.pause = function () {
        if (this.element.paused) {
            return;
        }
        this.element.pause();
    };
    VideoConverter.prototype.reset = function () {
        this.receiveBuffer.clear();
        if (this.mediaSource && this.mediaSource.readyState === 'open') {
            if (this.sourceBuffer.updating) {
                var mediaSource_1 = this.mediaSource;
                this.sourceBuffer.addEventListener('updateend', function () {
                    mediaSource_1.endOfStream();
                });
            }
        }
        this.mediaSource = new MediaSource();
        this.remuxer = new h264_remuxer_1.default(this.fps, this.fpf, this.fps * 60);
        this.mediaReady = false;
        this.mediaReadyPromise = undefined;
        this.queue = [];
        this.setup();
    };
    VideoConverter.prototype.appendRawData = function (data) {
        var nalus = this.receiveBuffer.append(data);
        for (var _i = 0, nalus_1 = nalus; _i < nalus_1.length; _i++) {
            var nalu = nalus_1[_i];
            var ret = this.remuxer.remux(nalu);
            if (ret) {
                this.writeFragment(ret[0], ret[1]);
            }
        }
    };
    VideoConverter.prototype.writeFragment = function (dts, pay) {
        var remuxer = this.remuxer;
        if (remuxer.mp4track.isKeyFrame) {
            this.writeBuffer(mp4_generator_1.default.initSegment([remuxer.mp4track], Infinity, remuxer.timescale));
        }
        if (pay && pay.byteLength) {
            debug.log(" Put fragment: " + remuxer.seqNum + ", frames=" + remuxer.mp4track.samples.length + ", size=" + pay.byteLength);
            var fragment = mp4_generator_1.default.fragmentSegment(remuxer.seqNum, dts, remuxer.mp4track, pay);
            this.writeBuffer(fragment);
            remuxer.flush();
        }
        else {
            debug.error("Nothing payload!");
        }
    };
    VideoConverter.prototype.writeBuffer = function (data) {
        var _this = this;
        if (this.mediaReady) {
            if (this.sourceBuffer.updating || this.queue.length) {
                this.queue.push(data);
            }
            else {
                this.doAppend(data);
            }
        }
        else {
            this.queue.push(data);
            if (this.mediaReadyPromise) {
                this.mediaReadyPromise.then(function () {
                    if (!_this.sourceBuffer.updating) {
                        var d = _this.queue.shift();
                        if (d) {
                            _this.doAppend(d);
                        }
                    }
                });
                this.mediaReadyPromise = undefined;
            }
        }
    };
    VideoConverter.prototype.doAppend = function (data) {
        var error = this.element.error;
        if (error) {
            debug.error("MSE Error Occured: " + VideoConverter.errorNotes[error.code]);
            this.element.pause();
            if (this.mediaSource.readyState === 'open') {
                this.mediaSource.endOfStream();
            }
        }
        else {
            try {
                this.sourceBuffer.appendBuffer(data);
                debug.log("  appended buffer: size=" + data.byteLength);
            }
            catch (err) {
                debug.error("MSE Error occured while appending buffer. " + err.name + ": " + err.message);
            }
        }
    };
    return VideoConverter;
}());
exports["default"] = VideoConverter;


/***/ }),

/***/ "./node_modules/h264-converter/dist/mp4-generator.js":
/*!***********************************************************!*\
  !*** ./node_modules/h264-converter/dist/mp4-generator.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var MP4 = (function () {
    function MP4() {
    }
    MP4.init = function () {
        MP4.initalized = true;
        MP4.types = {
            avc1: [],
            avcC: [],
            btrt: [],
            dinf: [],
            dref: [],
            esds: [],
            ftyp: [],
            hdlr: [],
            mdat: [],
            mdhd: [],
            mdia: [],
            mfhd: [],
            minf: [],
            moof: [],
            moov: [],
            mp4a: [],
            mvex: [],
            mvhd: [],
            sdtp: [],
            stbl: [],
            stco: [],
            stsc: [],
            stsd: [],
            stsz: [],
            stts: [],
            styp: [],
            tfdt: [],
            tfhd: [],
            traf: [],
            trak: [],
            trun: [],
            trep: [],
            trex: [],
            tkhd: [],
            vmhd: [],
            smhd: [],
        };
        for (var type in MP4.types) {
            if (MP4.types.hasOwnProperty(type)) {
                MP4.types[type] = [
                    type.charCodeAt(0),
                    type.charCodeAt(1),
                    type.charCodeAt(2),
                    type.charCodeAt(3),
                ];
            }
        }
        var hdlr = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x76, 0x69, 0x64, 0x65,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x56, 0x69, 0x64, 0x65,
            0x6f, 0x48, 0x61, 0x6e,
            0x64, 0x6c, 0x65, 0x72, 0x00,
        ]);
        var dref = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x0c,
            0x75, 0x72, 0x6c, 0x20,
            0x00,
            0x00, 0x00, 0x01,
        ]);
        var stco = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
        ]);
        MP4.STTS = MP4.STSC = MP4.STCO = stco;
        MP4.STSZ = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
        ]);
        MP4.VMHD = new Uint8Array([
            0x00,
            0x00, 0x00, 0x01,
            0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
        ]);
        MP4.SMHD = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
        ]);
        MP4.STSD = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01
        ]);
        MP4.FTYP = MP4.box(MP4.types.ftyp, new Uint8Array([
            0x69, 0x73, 0x6f, 0x35,
            0x00, 0x00, 0x00, 0x01,
            0x61, 0x76, 0x63, 0x31,
            0x69, 0x73, 0x6f, 0x35,
            0x64, 0x61, 0x73, 0x68,
        ]));
        MP4.STYP = MP4.box(MP4.types.styp, new Uint8Array([
            0x6d, 0x73, 0x64, 0x68,
            0x00, 0x00, 0x00, 0x00,
            0x6d, 0x73, 0x64, 0x68,
            0x6d, 0x73, 0x69, 0x78,
        ]));
        MP4.DINF = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, dref));
        MP4.HDLR = MP4.box(MP4.types.hdlr, hdlr);
    };
    MP4.box = function (type) {
        var payload = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            payload[_i - 1] = arguments[_i];
        }
        var size = 8;
        for (var _a = 0, payload_1 = payload; _a < payload_1.length; _a++) {
            var p = payload_1[_a];
            size += p.byteLength;
        }
        var result = new Uint8Array(size);
        result[0] = (size >> 24) & 0xff;
        result[1] = (size >> 16) & 0xff;
        result[2] = (size >> 8) & 0xff;
        result[3] = size & 0xff;
        result.set(type, 4);
        size = 8;
        for (var _b = 0, payload_2 = payload; _b < payload_2.length; _b++) {
            var box = payload_2[_b];
            result.set(box, size);
            size += box.byteLength;
        }
        return result;
    };
    MP4.mdat = function (data) {
        return MP4.box(MP4.types.mdat, data);
    };
    MP4.mdhd = function (timescale) {
        return MP4.box(MP4.types.mdhd, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x02,
            (timescale >> 24) & 0xFF,
            (timescale >> 16) & 0xFF,
            (timescale >> 8) & 0xFF,
            timescale & 0xFF,
            0x00, 0x00, 0x00, 0x00,
            0x55, 0xc4,
            0x00, 0x00,
        ]));
    };
    MP4.mdia = function (track) {
        return MP4.box(MP4.types.mdia, MP4.mdhd(track.timescale), MP4.HDLR, MP4.minf(track));
    };
    MP4.mfhd = function (sequenceNumber) {
        return MP4.box(MP4.types.mfhd, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            (sequenceNumber >> 24),
            (sequenceNumber >> 16) & 0xFF,
            (sequenceNumber >> 8) & 0xFF,
            sequenceNumber & 0xFF,
        ]));
    };
    MP4.minf = function (track) {
        return MP4.box(MP4.types.minf, MP4.box(MP4.types.vmhd, MP4.VMHD), MP4.DINF, MP4.stbl(track));
    };
    MP4.moof = function (sn, baseMediaDecodeTime, track) {
        return MP4.box(MP4.types.moof, MP4.mfhd(sn), MP4.traf(track, baseMediaDecodeTime));
    };
    MP4.moov = function (tracks, duration, timescale) {
        var boxes = [];
        for (var _i = 0, tracks_1 = tracks; _i < tracks_1.length; _i++) {
            var track = tracks_1[_i];
            boxes.push(MP4.trak(track));
        }
        return MP4.box.apply(MP4, [MP4.types.moov, MP4.mvhd(timescale, duration), MP4.mvex(tracks)].concat(boxes));
    };
    MP4.mvhd = function (timescale, duration) {
        var bytes = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x02,
            (timescale >> 24) & 0xFF,
            (timescale >> 16) & 0xFF,
            (timescale >> 8) & 0xFF,
            timescale & 0xFF,
            (duration >> 24) & 0xFF,
            (duration >> 16) & 0xFF,
            (duration >> 8) & 0xFF,
            duration & 0xFF,
            0x00, 0x01, 0x00, 0x00,
            0x01, 0x00,
            0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x40, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x02,
        ]);
        return MP4.box(MP4.types.mvhd, bytes);
    };
    MP4.mvex = function (tracks) {
        var boxes = [];
        for (var _i = 0, tracks_2 = tracks; _i < tracks_2.length; _i++) {
            var track = tracks_2[_i];
            boxes.push(MP4.trex(track));
        }
        return MP4.box.apply(MP4, [MP4.types.mvex].concat(boxes, [MP4.trep()]));
    };
    MP4.trep = function () {
        return MP4.box(MP4.types.trep, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
        ]));
    };
    MP4.stbl = function (track) {
        return MP4.box(MP4.types.stbl, MP4.stsd(track), MP4.box(MP4.types.stts, MP4.STTS), MP4.box(MP4.types.stsc, MP4.STSC), MP4.box(MP4.types.stsz, MP4.STSZ), MP4.box(MP4.types.stco, MP4.STCO));
    };
    MP4.avc1 = function (track) {
        var sps = [];
        var pps = [];
        for (var _i = 0, _a = track.sps; _i < _a.length; _i++) {
            var data = _a[_i];
            var len = data.byteLength;
            sps.push((len >>> 8) & 0xFF);
            sps.push((len & 0xFF));
            sps = sps.concat(Array.prototype.slice.call(data));
        }
        for (var _b = 0, _c = track.pps; _b < _c.length; _b++) {
            var data = _c[_b];
            var len = data.byteLength;
            pps.push((len >>> 8) & 0xFF);
            pps.push((len & 0xFF));
            pps = pps.concat(Array.prototype.slice.call(data));
        }
        var avcc = MP4.box(MP4.types.avcC, new Uint8Array([
            0x01,
            sps[3],
            sps[4],
            sps[5],
            0xfc | 3,
            0xE0 | track.sps.length,
        ].concat(sps).concat([
            track.pps.length,
        ]).concat(pps)));
        var width = track.width;
        var height = track.height;
        return MP4.box(MP4.types.avc1, new Uint8Array([
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00,
            0x00, 0x01,
            0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            (width >> 8) & 0xFF,
            width & 0xff,
            (height >> 8) & 0xFF,
            height & 0xff,
            0x00, 0x48, 0x00, 0x00,
            0x00, 0x48, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01,
            0x12,
            0x62, 0x69, 0x6E, 0x65,
            0x6C, 0x70, 0x72, 0x6F,
            0x2E, 0x72, 0x75, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00,
            0x00, 0x18,
            0x11, 0x11
        ]), avcc, MP4.box(MP4.types.btrt, new Uint8Array([
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x2d, 0xc6, 0xc0,
            0x00, 0x2d, 0xc6, 0xc0,
        ])));
    };
    MP4.stsd = function (track) {
        return MP4.box(MP4.types.stsd, MP4.STSD, MP4.avc1(track));
    };
    MP4.tkhd = function (track) {
        var id = track.id;
        var width = track.width;
        var height = track.height;
        return MP4.box(MP4.types.tkhd, new Uint8Array([
            0x00,
            0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x02,
            (id >> 24) & 0xFF,
            (id >> 16) & 0xFF,
            (id >> 8) & 0xFF,
            id & 0xFF,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
            (track.type === 'audio' ? 0x01 : 0x00), 0x00,
            0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x40, 0x00, 0x00, 0x00,
            (width >> 8) & 0xFF,
            width & 0xFF,
            0x00, 0x00,
            (height >> 8) & 0xFF,
            height & 0xFF,
            0x00, 0x00,
        ]));
    };
    MP4.traf = function (track, baseMediaDecodeTime) {
        var id = track.id;
        return MP4.box(MP4.types.traf, MP4.box(MP4.types.tfhd, new Uint8Array([
            0x00,
            0x02, 0x00, 0x00,
            (id >> 24),
            (id >> 16) & 0XFF,
            (id >> 8) & 0XFF,
            (id & 0xFF),
        ])), MP4.box(MP4.types.tfdt, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            (baseMediaDecodeTime >> 24),
            (baseMediaDecodeTime >> 16) & 0XFF,
            (baseMediaDecodeTime >> 8) & 0XFF,
            (baseMediaDecodeTime & 0xFF),
        ])), MP4.trun(track, 16 +
            16 +
            8 +
            16 +
            8 +
            8));
    };
    MP4.trak = function (track) {
        track.duration = track.duration || 0xffffffff;
        return MP4.box(MP4.types.trak, MP4.tkhd(track), MP4.mdia(track));
    };
    MP4.trex = function (track) {
        var id = track.id;
        return MP4.box(MP4.types.trex, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            (id >> 24),
            (id >> 16) & 0XFF,
            (id >> 8) & 0XFF,
            (id & 0xFF),
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x3c,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
        ]));
    };
    MP4.trun = function (track, offset) {
        var samples = track.samples || [];
        var len = samples.length;
        var additionalLen = track.isKeyFrame ? 4 : 0;
        var arraylen = 12 + additionalLen + (4 * len);
        var array = new Uint8Array(arraylen);
        offset += 8 + arraylen;
        array.set([
            0x00,
            0x00, 0x02, (track.isKeyFrame ? 0x05 : 0x01),
            (len >>> 24) & 0xFF,
            (len >>> 16) & 0xFF,
            (len >>> 8) & 0xFF,
            len & 0xFF,
            (offset >>> 24) & 0xFF,
            (offset >>> 16) & 0xFF,
            (offset >>> 8) & 0xFF,
            offset & 0xFF,
        ], 0);
        if (track.isKeyFrame) {
            array.set([
                0x00, 0x00, 0x00, 0x00,
            ], 12);
        }
        for (var i = 0; i < len; i++) {
            var sample = samples[i];
            var size = sample.size;
            array.set([
                (size >>> 24) & 0xFF,
                (size >>> 16) & 0xFF,
                (size >>> 8) & 0xFF,
                size & 0xFF,
            ], 12 + additionalLen + 4 * i);
        }
        return MP4.box(MP4.types.trun, array);
    };
    MP4.initSegment = function (tracks, duration, timescale) {
        if (!MP4.initalized) {
            MP4.init();
        }
        var movie = MP4.moov(tracks, duration, timescale);
        var result = new Uint8Array(MP4.FTYP.byteLength + movie.byteLength);
        result.set(MP4.FTYP);
        result.set(movie, MP4.FTYP.byteLength);
        return result;
    };
    MP4.fragmentSegment = function (sn, baseMediaDecodeTime, track, payload) {
        var moof = MP4.moof(sn, baseMediaDecodeTime, track);
        var mdat = MP4.mdat(payload);
        var result = new Uint8Array(MP4.STYP.byteLength + moof.byteLength + mdat.byteLength);
        result.set(MP4.STYP);
        result.set(moof, MP4.STYP.byteLength);
        result.set(mdat, MP4.STYP.byteLength + moof.byteLength);
        return result;
    };
    MP4.types = {};
    MP4.initalized = false;
    return MP4;
}());
exports["default"] = MP4;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/NALU.js":
/*!*******************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/NALU.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var NALU = (function () {
    function NALU(data) {
        this.data = data;
        this.nri = (data[0] & 0x60) >> 5;
        this.ntype = data[0] & 0x1f;
    }
    Object.defineProperty(NALU, "NDR", {
        get: function () { return 1; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "IDR", {
        get: function () { return 5; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "SEI", {
        get: function () { return 6; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "SPS", {
        get: function () { return 7; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "PPS", {
        get: function () { return 8; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "TYPES", {
        get: function () {
            var _a;
            return _a = {},
                _a[NALU.IDR] = 'IDR',
                _a[NALU.SEI] = 'SEI',
                _a[NALU.SPS] = 'SPS',
                _a[NALU.PPS] = 'PPS',
                _a[NALU.NDR] = 'NDR',
                _a;
        },
        enumerable: true,
        configurable: true
    });
    NALU.type = function (nalu) {
        if (nalu.ntype in NALU.TYPES) {
            return NALU.TYPES[nalu.ntype];
        }
        else {
            return 'UNKNOWN';
        }
    };
    NALU.prototype.type = function () {
        return this.ntype;
    };
    NALU.prototype.isKeyframe = function () {
        return this.ntype === NALU.IDR;
    };
    NALU.prototype.getSize = function () {
        return 4 + this.data.byteLength;
    };
    NALU.prototype.getData = function () {
        var result = new Uint8Array(this.getSize());
        var view = new DataView(result.buffer);
        view.setUint32(0, this.getSize() - 4);
        result.set(this.data, 4);
        return result;
    };
    return NALU;
}());
exports["default"] = NALU;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/bit-stream.js":
/*!*************************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/bit-stream.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var BitStream = (function () {
    function BitStream(data) {
        this.data = data;
        this.index = 0;
        this.bitLength = data.byteLength * 8;
    }
    Object.defineProperty(BitStream.prototype, "bitsAvailable", {
        get: function () {
            return this.bitLength - this.index;
        },
        enumerable: true,
        configurable: true
    });
    BitStream.prototype.skipBits = function (size) {
        if (this.bitsAvailable < size) {
            throw new Error('no bytes available');
        }
        this.index += size;
    };
    BitStream.prototype.readBits = function (size) {
        var result = this.getBits(size, this.index);
        return result;
    };
    BitStream.prototype.getBits = function (size, offsetBits, moveIndex) {
        if (moveIndex === void 0) { moveIndex = true; }
        if (this.bitsAvailable < size) {
            throw new Error('no bytes available');
        }
        var offset = offsetBits % 8;
        var byte = this.data[(offsetBits / 8) | 0] & (0xff >>> offset);
        var bits = 8 - offset;
        if (bits >= size) {
            if (moveIndex) {
                this.index += size;
            }
            return byte >> (bits - size);
        }
        else {
            if (moveIndex) {
                this.index += bits;
            }
            var nextSize = size - bits;
            return (byte << nextSize) | this.getBits(nextSize, offsetBits + bits, moveIndex);
        }
    };
    BitStream.prototype.skipLZ = function () {
        var leadingZeroCount;
        for (leadingZeroCount = 0; leadingZeroCount < this.bitLength - this.index; ++leadingZeroCount) {
            if (0 !== this.getBits(1, this.index + leadingZeroCount, false)) {
                this.index += leadingZeroCount;
                return leadingZeroCount;
            }
        }
        return leadingZeroCount;
    };
    BitStream.prototype.skipUEG = function () {
        this.skipBits(1 + this.skipLZ());
    };
    BitStream.prototype.skipEG = function () {
        this.skipBits(1 + this.skipLZ());
    };
    BitStream.prototype.readUEG = function () {
        var prefix = this.skipLZ();
        return this.readBits(prefix + 1) - 1;
    };
    BitStream.prototype.readEG = function () {
        var value = this.readUEG();
        if (0x01 & value) {
            return (1 + value) >>> 1;
        }
        else {
            return -1 * (value >>> 1);
        }
    };
    BitStream.prototype.readBoolean = function () {
        return 1 === this.readBits(1);
    };
    BitStream.prototype.readUByte = function () {
        return this.readBits(8);
    };
    BitStream.prototype.readUShort = function () {
        return this.readBits(16);
    };
    BitStream.prototype.readUInt = function () {
        return this.readBits(32);
    };
    return BitStream;
}());
exports["default"] = BitStream;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/debug.js":
/*!********************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/debug.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var mLogger;
var mErrorLogger;
function setLogger(logger, errorLogger) {
    mLogger = logger;
    mErrorLogger = errorLogger != null ? errorLogger : logger;
}
exports.setLogger = setLogger;
function isEnable() {
    return mLogger != null;
}
exports.isEnable = isEnable;
function log(message) {
    var optionalParams = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        optionalParams[_i - 1] = arguments[_i];
    }
    if (mLogger) {
        mLogger.apply(void 0, [message].concat(optionalParams));
    }
}
exports.log = log;
function error(message) {
    var optionalParams = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        optionalParams[_i - 1] = arguments[_i];
    }
    if (mErrorLogger) {
        mErrorLogger.apply(void 0, [message].concat(optionalParams));
    }
}
exports.error = error;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/nalu-stream-buffer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/nalu-stream-buffer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var NALU_1 = __webpack_require__(/*! ./NALU */ "./node_modules/h264-converter/dist/util/NALU.js");
var VideoStreamBuffer = (function () {
    function VideoStreamBuffer() {
    }
    VideoStreamBuffer.prototype.clear = function () {
        this.buffer = undefined;
    };
    VideoStreamBuffer.prototype.append = function (value) {
        var nextNalHeader = function (b) {
            var i = 3;
            return function () {
                var count = 0;
                for (; i < b.length; i++) {
                    switch (b[i]) {
                        case 0:
                            count++;
                            break;
                        case 1:
                            if (count === 3) {
                                return i - 3;
                            }
                        default:
                            count = 0;
                    }
                }
                return;
            };
        };
        var result = [];
        var buffer;
        if (this.buffer) {
            if (value[3] === 1 && value[2] === 0 && value[1] === 0 && value[0] === 0) {
                result.push(new NALU_1.default(this.buffer.subarray(4)));
                buffer = Uint8Array.from(value);
            }
        }
        if (buffer == null) {
            buffer = this.mergeBuffer(value);
        }
        var lastIndex = 0;
        var f = nextNalHeader(buffer);
        for (var index = f(); index != null; index = f()) {
            result.push(new NALU_1.default(buffer.subarray(lastIndex + 4, index)));
            lastIndex = index;
        }
        this.buffer = buffer.subarray(lastIndex);
        return result;
    };
    VideoStreamBuffer.prototype.mergeBuffer = function (value) {
        if (this.buffer == null) {
            return Uint8Array.from(value);
        }
        else {
            var newBuffer = new Uint8Array(this.buffer.byteLength + value.length);
            if (this.buffer.byteLength > 0) {
                newBuffer.set(this.buffer, 0);
            }
            newBuffer.set(value, this.buffer.byteLength);
            return newBuffer;
        }
    };
    return VideoStreamBuffer;
}());
exports["default"] = VideoStreamBuffer;


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/xterm/css/xterm.css":
/*!******************************************!*\
  !*** ./node_modules/xterm/css/xterm.css ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/app.css":
/*!***************************!*\
  !*** ./src/style/app.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/devicelist.css":
/*!**********************************!*\
  !*** ./src/style/devicelist.css ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/devtools.css":
/*!********************************!*\
  !*** ./src/style/devtools.css ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/dialog.css":
/*!******************************!*\
  !*** ./src/style/dialog.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/filelisting.css":
/*!***********************************!*\
  !*** ./src/style/filelisting.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/morebox.css":
/*!*******************************!*\
  !*** ./src/style/morebox.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/***/ ((module) => {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isFinite(val)) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}


/***/ }),

/***/ "./node_modules/path-browserify/index.js":
/*!***********************************************!*\
  !*** ./node_modules/path-browserify/index.js ***!
  \***********************************************/
/***/ ((module) => {

"use strict";
// 'path' module extracted from Node.js v8.11.1 (only the posix part)
// transplited with Babel

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



function assertPath(path) {
  if (typeof path !== 'string') {
    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));
  }
}

// Resolves . and .. elements in a path with directory names
function normalizeStringPosix(path, allowAboveRoot) {
  var res = '';
  var lastSegmentLength = 0;
  var lastSlash = -1;
  var dots = 0;
  var code;
  for (var i = 0; i <= path.length; ++i) {
    if (i < path.length)
      code = path.charCodeAt(i);
    else if (code === 47 /*/*/)
      break;
    else
      code = 47 /*/*/;
    if (code === 47 /*/*/) {
      if (lastSlash === i - 1 || dots === 1) {
        // NOOP
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {
          if (res.length > 2) {
            var lastSlashIndex = res.lastIndexOf('/');
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = '';
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = '';
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0)
            res += '/..';
          else
            res = '..';
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0)
          res += '/' + path.slice(lastSlash + 1, i);
        else
          res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 /*.*/ && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}

function _format(sep, pathObject) {
  var dir = pathObject.dir || pathObject.root;
  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');
  if (!dir) {
    return base;
  }
  if (dir === pathObject.root) {
    return dir + base;
  }
  return dir + sep + base;
}

var posix = {
  // path.resolve([from ...], to)
  resolve: function resolve() {
    var resolvedPath = '';
    var resolvedAbsolute = false;
    var cwd;

    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
      var path;
      if (i >= 0)
        path = arguments[i];
      else {
        if (cwd === undefined)
          cwd = process.cwd();
        path = cwd;
      }

      assertPath(path);

      // Skip empty entries
      if (path.length === 0) {
        continue;
      }

      resolvedPath = path + '/' + resolvedPath;
      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;
    }

    // At this point the path should be resolved to a full absolute path, but
    // handle relative paths to be safe (might happen when process.cwd() fails)

    // Normalize the path
    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);

    if (resolvedAbsolute) {
      if (resolvedPath.length > 0)
        return '/' + resolvedPath;
      else
        return '/';
    } else if (resolvedPath.length > 0) {
      return resolvedPath;
    } else {
      return '.';
    }
  },

  normalize: function normalize(path) {
    assertPath(path);

    if (path.length === 0) return '.';

    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;
    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;

    // Normalize the path
    path = normalizeStringPosix(path, !isAbsolute);

    if (path.length === 0 && !isAbsolute) path = '.';
    if (path.length > 0 && trailingSeparator) path += '/';

    if (isAbsolute) return '/' + path;
    return path;
  },

  isAbsolute: function isAbsolute(path) {
    assertPath(path);
    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;
  },

  join: function join() {
    if (arguments.length === 0)
      return '.';
    var joined;
    for (var i = 0; i < arguments.length; ++i) {
      var arg = arguments[i];
      assertPath(arg);
      if (arg.length > 0) {
        if (joined === undefined)
          joined = arg;
        else
          joined += '/' + arg;
      }
    }
    if (joined === undefined)
      return '.';
    return posix.normalize(joined);
  },

  relative: function relative(from, to) {
    assertPath(from);
    assertPath(to);

    if (from === to) return '';

    from = posix.resolve(from);
    to = posix.resolve(to);

    if (from === to) return '';

    // Trim any leading backslashes
    var fromStart = 1;
    for (; fromStart < from.length; ++fromStart) {
      if (from.charCodeAt(fromStart) !== 47 /*/*/)
        break;
    }
    var fromEnd = from.length;
    var fromLen = fromEnd - fromStart;

    // Trim any leading backslashes
    var toStart = 1;
    for (; toStart < to.length; ++toStart) {
      if (to.charCodeAt(toStart) !== 47 /*/*/)
        break;
    }
    var toEnd = to.length;
    var toLen = toEnd - toStart;

    // Compare paths to find the longest common path from root
    var length = fromLen < toLen ? fromLen : toLen;
    var lastCommonSep = -1;
    var i = 0;
    for (; i <= length; ++i) {
      if (i === length) {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === 47 /*/*/) {
            // We get here if `from` is the exact base path for `to`.
            // For example: from='/foo/bar'; to='/foo/bar/baz'
            return to.slice(toStart + i + 1);
          } else if (i === 0) {
            // We get here if `from` is the root
            // For example: from='/'; to='/foo'
            return to.slice(toStart + i);
          }
        } else if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {
            // We get here if `to` is the exact base path for `from`.
            // For example: from='/foo/bar/baz'; to='/foo/bar'
            lastCommonSep = i;
          } else if (i === 0) {
            // We get here if `to` is the root.
            // For example: from='/foo'; to='/'
            lastCommonSep = 0;
          }
        }
        break;
      }
      var fromCode = from.charCodeAt(fromStart + i);
      var toCode = to.charCodeAt(toStart + i);
      if (fromCode !== toCode)
        break;
      else if (fromCode === 47 /*/*/)
        lastCommonSep = i;
    }

    var out = '';
    // Generate the relative path based on the path difference between `to`
    // and `from`
    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {
        if (out.length === 0)
          out += '..';
        else
          out += '/..';
      }
    }

    // Lastly, append the rest of the destination (`to`) path that comes after
    // the common path parts
    if (out.length > 0)
      return out + to.slice(toStart + lastCommonSep);
    else {
      toStart += lastCommonSep;
      if (to.charCodeAt(toStart) === 47 /*/*/)
        ++toStart;
      return to.slice(toStart);
    }
  },

  _makeLong: function _makeLong(path) {
    return path;
  },

  dirname: function dirname(path) {
    assertPath(path);
    if (path.length === 0) return '.';
    var code = path.charCodeAt(0);
    var hasRoot = code === 47 /*/*/;
    var end = -1;
    var matchedSlash = true;
    for (var i = path.length - 1; i >= 1; --i) {
      code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
        // We saw the first non-path separator
        matchedSlash = false;
      }
    }

    if (end === -1) return hasRoot ? '/' : '.';
    if (hasRoot && end === 1) return '//';
    return path.slice(0, end);
  },

  basename: function basename(path, ext) {
    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('"ext" argument must be a string');
    assertPath(path);

    var start = 0;
    var end = -1;
    var matchedSlash = true;
    var i;

    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {
      if (ext.length === path.length && ext === path) return '';
      var extIdx = ext.length - 1;
      var firstNonSlashEnd = -1;
      for (i = path.length - 1; i >= 0; --i) {
        var code = path.charCodeAt(i);
        if (code === 47 /*/*/) {
            // If we reached a path separator that was not part of a set of path
            // separators at the end of the string, stop now
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
          if (firstNonSlashEnd === -1) {
            // We saw the first non-path separator, remember this index in case
            // we need it if the extension ends up not matching
            matchedSlash = false;
            firstNonSlashEnd = i + 1;
          }
          if (extIdx >= 0) {
            // Try to match the explicit extension
            if (code === ext.charCodeAt(extIdx)) {
              if (--extIdx === -1) {
                // We matched the extension, so mark this as the end of our path
                // component
                end = i;
              }
            } else {
              // Extension does not match, so our result is the entire path
              // component
              extIdx = -1;
              end = firstNonSlashEnd;
            }
          }
        }
      }

      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;
      return path.slice(start, end);
    } else {
      for (i = path.length - 1; i >= 0; --i) {
        if (path.charCodeAt(i) === 47 /*/*/) {
            // If we reached a path separator that was not part of a set of path
            // separators at the end of the string, stop now
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else if (end === -1) {
          // We saw the first non-path separator, mark this as the end of our
          // path component
          matchedSlash = false;
          end = i + 1;
        }
      }

      if (end === -1) return '';
      return path.slice(start, end);
    }
  },

  extname: function extname(path) {
    assertPath(path);
    var startDot = -1;
    var startPart = 0;
    var end = -1;
    var matchedSlash = true;
    // Track the state of characters (if any) we see before our first dot and
    // after any path separator we find
    var preDotState = 0;
    for (var i = path.length - 1; i >= 0; --i) {
      var code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          // If we reached a path separator that was not part of a set of path
          // separators at the end of the string, stop now
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
      if (end === -1) {
        // We saw the first non-path separator, mark this as the end of our
        // extension
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46 /*.*/) {
          // If this is our first dot, mark it as the start of our extension
          if (startDot === -1)
            startDot = i;
          else if (preDotState !== 1)
            preDotState = 1;
      } else if (startDot !== -1) {
        // We saw a non-dot and non-path separator before our dot, so we should
        // have a good chance at having a non-empty extension
        preDotState = -1;
      }
    }

    if (startDot === -1 || end === -1 ||
        // We saw a non-dot character immediately before the dot
        preDotState === 0 ||
        // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      return '';
    }
    return path.slice(startDot, end);
  },

  format: function format(pathObject) {
    if (pathObject === null || typeof pathObject !== 'object') {
      throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof pathObject);
    }
    return _format('/', pathObject);
  },

  parse: function parse(path) {
    assertPath(path);

    var ret = { root: '', dir: '', base: '', ext: '', name: '' };
    if (path.length === 0) return ret;
    var code = path.charCodeAt(0);
    var isAbsolute = code === 47 /*/*/;
    var start;
    if (isAbsolute) {
      ret.root = '/';
      start = 1;
    } else {
      start = 0;
    }
    var startDot = -1;
    var startPart = 0;
    var end = -1;
    var matchedSlash = true;
    var i = path.length - 1;

    // Track the state of characters (if any) we see before our first dot and
    // after any path separator we find
    var preDotState = 0;

    // Get non-dir info
    for (; i >= start; --i) {
      code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          // If we reached a path separator that was not part of a set of path
          // separators at the end of the string, stop now
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
      if (end === -1) {
        // We saw the first non-path separator, mark this as the end of our
        // extension
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46 /*.*/) {
          // If this is our first dot, mark it as the start of our extension
          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
        } else if (startDot !== -1) {
        // We saw a non-dot and non-path separator before our dot, so we should
        // have a good chance at having a non-empty extension
        preDotState = -1;
      }
    }

    if (startDot === -1 || end === -1 ||
    // We saw a non-dot character immediately before the dot
    preDotState === 0 ||
    // The (right-most) trimmed path component is exactly '..'
    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      if (end !== -1) {
        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);
      }
    } else {
      if (startPart === 0 && isAbsolute) {
        ret.name = path.slice(1, startDot);
        ret.base = path.slice(1, end);
      } else {
        ret.name = path.slice(startPart, startDot);
        ret.base = path.slice(startPart, end);
      }
      ret.ext = path.slice(startDot, end);
    }

    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';

    return ret;
  },

  sep: '/',
  delimiter: ':',
  win32: null,
  posix: null
};

posix.posix = posix;

module.exports = posix;


/***/ }),

/***/ "./src/public/images/buttons/arrow_back.svg":
/*!**************************************************!*\
  !*** ./src/public/images/buttons/arrow_back.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20,11H7.83l5.59,-5.59L12,4l-8,8 8,8 1.41,-1.41L7.83,13H20v-2z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/cancel.svg":
/*!**********************************************!*\
  !*** ./src/public/images/buttons/cancel.svg ***!
  \**********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12,2C6.47,2 2,6.47 2,12s4.47,10 10,10 10,-4.47 10,-10S17.53,2 12,2zM12,20c-4.41,0 -8,-3.59 -8,-8s3.59,-8 8,-8 8,3.59 8,8 -3.59,8 -8,8zM15.59,7L12,10.59 8.41,7 7,8.41 10.59,12 7,15.59 8.41,17 12,13.41 15.59,17 17,15.59 13.41,12 17,8.41z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/ic_paste.svg":
/*!************************************************!*\
  !*** ./src/public/images/buttons/ic_paste.svg ***!
  \************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\"><path style=\"fill:#000000\" d=\"m 107.72824,97.71032 c 0.45166,-0.19661 1.1065,-0.7575 1.45521,-1.24642 0.63315,-0.88773 0.63411,-0.90038 0.70684,-9.3556 0.0672,-7.80929 0.0348,-8.53857 -0.41645,-9.39271 -0.66011,-1.24936 -2.38149,-2.11667 -4.20105,-2.11667 -1.11664,0 -1.44522,-0.10348 -1.67157,-0.52643 -0.91567,-1.71093 -4.894802,-1.73579 -5.804352,-0.0363 -0.20434,0.3818 -0.66801,0.51919 -2.097482,0.62146 -3.2905,0.23544 -4.270464,1.43324 -4.270464,5.21977 v 2.39439 h -1.45104 c -1.22901,0 -1.58324,0.11805 -2.3151,0.77149 l -0.86407,0.77149 -0.0909,2.98426 c -0.0789,2.59075 -0.0305,3.02843 0.36728,3.3193 0.32191,0.23538 0.60473,0.25662 0.95082,0.0714 0.42921,-0.22971 0.49262,-0.59884 0.49262,-2.86777 0,-1.89632 0.0996,-2.68682 0.36657,-2.90836 0.24933,-0.20692 1.62449,-0.28075 4.299484,-0.23083 l 3.932912,0.0734 0.072,5.12525 c 0.0507,3.60995 -0.0192,5.23514 -0.236522,5.49696 -0.24455,0.29466 -1.10954,0.35658 -4.17302,0.29871 l -3.864514,-0.073 -0.37848,-0.8599 c -0.26905,-0.61126 -0.55447,-0.85989 -0.98715,-0.85989 -1.40385,0 -0.8538,2.50163 0.73014,3.32072 0.66363,0.34318 1.57918,0.40401 5.044954,0.33521 l 4.234182,-0.0841 0.7714,-0.86407 0.7714,-0.86407 v -5.43293 c 0,-7.16685 -0.18863,-7.52331 -3.981192,-7.52331 h -1.83963 v -2.19008 c 0,-2.33513 0.32341,-3.18145 1.31482,-3.44071 0.49288,-0.12889 0.5376,-0.0169 0.54132,1.35608 0.002,0.82312 0.10018,1.64806 0.21768,1.83319 0.16356,0.25771 1.41844,0.31973 5.353754,0.26459 l 5.14013,-0.072 0.0782,-1.78594 c 0.043,-0.98227 0.14016,-1.78594 0.21584,-1.78594 0.31045,0 1.31506,0.64378 1.61574,1.03541 0.23659,0.30814 0.32456,2.55185 0.33073,8.43547 l 0.008,8.01568 -0.64943,0.64943 c -0.60226,0.60225 -0.84015,0.64943 -3.2749,0.64943 -2.90138,0 -3.51754,0.2715 -2.96389,1.306 0.2666,0.49815 0.52946,0.54517 2.99492,0.53573 1.66623,-0.006 3.01759,-0.14745 3.52387,-0.36784 z M 97.036358,78.46006 c -0.0794,-0.9549 -0.0601,-0.97706 0.92383,-1.05834 0.75985,-0.0628 1.02856,-0.21206 1.10177,-0.61217 0.16255,-0.88845 0.58723,-1.19063 1.673272,-1.19063 0.93784,0 1.07726,0.0905 1.42636,0.92604 0.31975,0.76526 0.52413,0.92605 1.17713,0.92605 0.74646,0 0.7902,0.059 0.7902,1.06601 v 1.06601 l -3.50573,-0.0738 -3.505722,-0.0738 z m -1.884862,13.38856 c 0.25238,-0.3041 0.2715,-0.53998 0.0697,-0.8599 -0.2212,-0.35066 -0.70517,-0.44084 -2.36591,-0.44084 -1.999314,0 -2.091624,0.0268 -2.177134,0.63154 -0.12303,0.87013 0.33501,1.0795 2.372014,1.0842 1.2809,0.003 1.84728,-0.1089 2.10132,-0.415 z m -0.009,-3.42919 c 0.64644,-0.77892 -0.009,-1.30129 -1.74594,-1.39213 -2.266064,-0.11848 -2.813404,0.0733 -2.712304,0.95012 0.0811,0.70328 0.12505,0.71999 2.092334,0.79492 1.59683,0.0608 2.08269,-0.0117 2.36591,-0.35291 z\" id=\"path1-6-6\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/ic_paste2.svg":
/*!*************************************************!*\
  !*** ./src/public/images/buttons/ic_paste2.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 28.867472 24.303806\" version=\"1.1\" id=\"svg1\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\"><defs id=\"defs1\"></defs><g id=\"layer1\" transform=\"translate(-82.942225,-107.06003)\"><path style=\"fill:#000000\" d=\"m 90.757418,130.99502 c -0.45166,-0.19661 -1.1065,-0.7575 -1.45521,-1.24642 -0.63315,-0.88773 -0.63411,-0.90038 -0.70684,-9.3556 -0.0672,-7.80929 -0.0348,-8.53857 0.41645,-9.39271 0.66011,-1.24936 2.38149,-2.11667 4.20105,-2.11667 1.11664,0 1.44522,-0.10348 1.67157,-0.52643 0.91567,-1.71093 4.8948,-1.73579 5.804352,-0.0363 0.20434,0.3818 0.66802,0.51919 2.09749,0.62146 3.2905,0.23544 4.27046,1.43324 4.27046,5.21977 v 2.39439 h 1.45104 c 1.22901,0 1.58324,0.11805 2.3151,0.77149 l 0.86407,0.77149 0.0909,2.98426 c 0.0789,2.59075 0.0305,3.02843 -0.36728,3.3193 -0.32191,0.23538 -0.60473,0.25662 -0.95082,0.0714 -0.42921,-0.22971 -0.49262,-0.59884 -0.49262,-2.86777 0,-1.89632 -0.0996,-2.68682 -0.36657,-2.90836 -0.24933,-0.20692 -1.62449,-0.28075 -4.29948,-0.23083 l -3.93291,0.0734 -0.072,5.12525 c -0.0507,3.60995 0.0192,5.23514 0.23652,5.49696 0.24455,0.29466 1.10954,0.35658 4.17302,0.29871 l 3.86451,-0.073 0.37848,-0.8599 c 0.26905,-0.61126 0.55447,-0.85989 0.98715,-0.85989 1.40385,0 0.8538,2.50163 -0.73014,3.32072 -0.66363,0.34318 -1.57918,0.40401 -5.04495,0.33521 l -4.23418,-0.0841 -0.77141,-0.86407 -0.771402,-0.86407 v -5.43293 c 0,-7.16685 0.18863,-7.52331 3.981202,-7.52331 h 1.83963 v -2.19008 c 0,-2.33513 -0.32341,-3.18145 -1.31482,-3.44071 -0.49288,-0.12889 -0.5376,-0.0169 -0.54132,1.35608 -0.002,0.82312 -0.10018,1.64806 -0.21768,1.83319 -0.16356,0.25771 -1.41844,0.31973 -5.353762,0.26459 l -5.14013,-0.072 -0.0782,-1.78594 c -0.043,-0.98227 -0.14016,-1.78594 -0.21584,-1.78594 -0.31045,0 -1.31506,0.64378 -1.61574,1.03541 -0.23659,0.30814 -0.32456,2.55185 -0.33073,8.43547 l -0.008,8.01568 0.64943,0.64943 c 0.60226,0.60225 0.84015,0.64943 3.2749,0.64943 2.90138,0 3.51754,0.2715 2.96389,1.306 -0.2666,0.49815 -0.52946,0.54517 -2.99492,0.53573 -1.66623,-0.006 -3.01759,-0.14745 -3.52387,-0.36784 z m 10.691892,-19.25026 c 0.0794,-0.9549 0.0601,-0.97706 -0.92384,-1.05834 -0.759852,-0.0628 -1.028562,-0.21206 -1.101772,-0.61217 -0.16255,-0.88845 -0.58723,-1.19063 -1.67327,-1.19063 -0.93784,0 -1.07726,0.0905 -1.42636,0.92604 -0.31975,0.76526 -0.52413,0.92605 -1.17713,0.92605 -0.74646,0 -0.7902,0.059 -0.7902,1.06601 v 1.06601 l 3.50573,-0.0738 3.505732,-0.0738 z m 1.88486,13.38856 c -0.25238,-0.3041 -0.2715,-0.53998 -0.0697,-0.8599 0.2212,-0.35066 0.70517,-0.44084 2.36591,-0.44084 1.99931,0 2.09162,0.0268 2.17713,0.63154 0.12303,0.87013 -0.33501,1.0795 -2.37201,1.0842 -1.2809,0.003 -1.84728,-0.1089 -2.10132,-0.415 z m 0.009,-3.42919 c -0.64644,-0.77892 0.009,-1.30129 1.74594,-1.39213 2.26606,-0.11848 2.8134,0.0733 2.7123,0.95012 -0.0811,0.70328 -0.12505,0.71999 -2.09233,0.79492 -1.59683,0.0608 -2.08269,-0.0117 -2.36591,-0.35291 z\" id=\"path1\"></path><path style=\"fill:#000000;stroke-width:0.443785\" d=\"m 84.890728,121.56246 c -1.90681,-1.90753 -1.9485,-1.95458 -1.9485,-2.19876 0,-0.24421 0.0414,-0.29095 1.95018,-2.19896 l 1.95018,-1.94944 0.52831,0.53108 0.52832,0.53107 -1.08992,1.09125 -1.08992,1.09126 h 4.63088 4.63088 v 0.87329 0.87329 h -4.58476 c -2.52162,0 -4.58477,0.0208 -4.58477,0.0461 0,0.0254 0.47733,0.52406 1.06075,1.10818 l 1.06074,1.06205 -0.54693,0.5444 -0.54693,0.5444 z\" id=\"path2\"></path></g></svg>"

/***/ }),

/***/ "./src/public/images/buttons/ic_paste3.svg":
/*!*************************************************!*\
  !*** ./src/public/images/buttons/ic_paste3.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 28.867456 24.303799\" version=\"1.1\" id=\"svg1\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\"><defs id=\"defs1\"></defs><g id=\"layer1\" transform=\"translate(-85.173357,-140.34472)\"><path style=\"fill:#000000\" d=\"m 106.22562,164.27972 c 0.45166,-0.19661 1.1065,-0.7575 1.45521,-1.24642 0.63315,-0.88773 0.63411,-0.90038 0.70684,-9.3556 0.0672,-7.80929 0.0348,-8.53857 -0.41645,-9.39271 -0.66011,-1.24936 -2.38149,-2.11667 -4.20105,-2.11667 -1.11664,0 -1.44522,-0.10348 -1.67157,-0.52643 -0.91567,-1.71093 -4.8948,-1.73579 -5.80435,-0.0363 -0.20434,0.3818 -0.66801,0.51919 -2.09748,0.62146 -3.2905,0.23544 -4.270464,1.43324 -4.270464,5.21977 v 2.39439 h -1.45104 c -1.22901,0 -1.58324,0.11805 -2.3151,0.77149 l -0.86407,0.77149 -0.0909,2.98426 c -0.0789,2.59075 -0.0305,3.02843 0.36728,3.3193 0.32191,0.23538 0.60473,0.25662 0.95082,0.0714 0.42921,-0.22971 0.49262,-0.59884 0.49262,-2.86777 0,-1.89632 0.0996,-2.68682 0.36657,-2.90836 0.24933,-0.20692 1.62449,-0.28075 4.299484,-0.23083 l 3.93291,0.0734 0.072,5.12525 c 0.0507,3.60995 -0.0192,5.23514 -0.23652,5.49696 -0.24455,0.29466 -1.10954,0.35658 -4.17302,0.29871 l -3.864514,-0.073 -0.37848,-0.8599 c -0.26905,-0.61126 -0.55447,-0.85989 -0.98715,-0.85989 -1.40385,0 -0.8538,2.50163 0.73014,3.32072 0.66363,0.34318 1.57918,0.40401 5.044954,0.33521 l 4.23418,-0.0841 0.7714,-0.86407 0.7714,-0.86407 v -5.43293 c 0,-7.16685 -0.18863,-7.52331 -3.98119,-7.52331 h -1.83963 v -2.19008 c 0,-2.33513 0.32341,-3.18145 1.31482,-3.44071 0.49288,-0.12889 0.5376,-0.0169 0.54132,1.35608 0.002,0.82312 0.10018,1.64806 0.21768,1.83319 0.16356,0.25771 1.41844,0.31973 5.35375,0.26459 l 5.14013,-0.072 0.0782,-1.78594 c 0.043,-0.98227 0.14016,-1.78594 0.21584,-1.78594 0.31045,0 1.31506,0.64378 1.61574,1.03541 0.23659,0.30814 0.32456,2.55185 0.33073,8.43547 l 0.008,8.01568 -0.64943,0.64943 c -0.60226,0.60225 -0.84015,0.64943 -3.2749,0.64943 -2.90138,0 -3.51754,0.2715 -2.96389,1.306 0.2666,0.49815 0.52946,0.54517 2.99492,0.53573 1.66623,-0.006 3.01759,-0.14745 3.52387,-0.36784 z M 95.53374,145.02946 c -0.0794,-0.9549 -0.0601,-0.97706 0.92383,-1.05834 0.75985,-0.0628 1.02856,-0.21206 1.10177,-0.61217 0.16255,-0.88845 0.58723,-1.19063 1.67327,-1.19063 0.93784,0 1.07726,0.0905 1.42636,0.92604 0.31975,0.76526 0.52413,0.92605 1.17713,0.92605 0.74646,0 0.7902,0.059 0.7902,1.06601 v 1.06601 l -3.50573,-0.0738 -3.50572,-0.0738 z m -1.88486,13.38856 c 0.25238,-0.3041 0.2715,-0.53998 0.0697,-0.8599 -0.2212,-0.35066 -0.70517,-0.44084 -2.36591,-0.44084 -1.999314,0 -2.091624,0.0268 -2.177134,0.63154 -0.12303,0.87013 0.33501,1.0795 2.372014,1.0842 1.2809,0.003 1.84728,-0.1089 2.10132,-0.415 z m -0.009,-3.42919 c 0.64644,-0.77892 -0.009,-1.30129 -1.74594,-1.39213 -2.266064,-0.11848 -2.813404,0.0733 -2.712304,0.95012 0.0811,0.70328 0.12505,0.71999 2.092334,0.79492 1.59683,0.0608 2.08269,-0.0117 2.36591,-0.35291 z\" id=\"path1-6\"></path><path style=\"fill:#000000;stroke-width:0.443785\" d=\"m 112.09231,154.84716 c 1.90681,-1.90753 1.9485,-1.95458 1.9485,-2.19876 0,-0.24421 -0.0414,-0.29095 -1.95018,-2.19896 l -1.95018,-1.94944 -0.52831,0.53108 -0.52832,0.53107 1.08992,1.09125 1.08992,1.09126 h -4.63088 -4.63088 v 0.87329 0.87329 h 4.58476 c 2.52162,0 4.58477,0.0208 4.58477,0.0461 0,0.0254 -0.47733,0.52406 -1.06075,1.10818 l -1.06074,1.06205 0.54693,0.5444 0.54693,0.5444 z\" id=\"path2-7\"></path></g></svg>"

/***/ }),

/***/ "./src/public/images/buttons/menu.svg":
/*!********************************************!*\
  !*** ./src/public/images/buttons/menu.svg ***!
  \********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3,18h18v-2L3,16v2zM3,13h18v-2L3,11v2zM3,6v2h18L21,6L3,6z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/offline.svg":
/*!***********************************************!*\
  !*** ./src/public/images/buttons/offline.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12,2.02c-5.51,0 -9.98,4.47 -9.98,9.98s4.47,9.98 9.98,9.98 9.98,-4.47 9.98,-9.98S17.51,2.02 12,2.02zM12,19.98c-4.4,0 -7.98,-3.58 -7.98,-7.98S7.6,4.02 12,4.02 19.98,7.6 19.98,12 16.4,19.98 12,19.98zM12.75,5l-4.5,8.5h3.14L11.39,19l4.36,-8.5h-3z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/refresh.svg":
/*!***********************************************!*\
  !*** ./src/public/images/buttons/refresh.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.65,6.35C16.2,4.9 14.21,4 12,4c-4.42,0 -7.99,3.58 -7.99,8s3.57,8 7.99,8c3.73,0 6.84,-2.55 7.73,-6h-2.08c-0.82,2.33 -3.04,4 -5.65,4 -3.31,0 -6,-2.69 -6,-6s2.69,-6 6,-6c1.66,0 3.14,0.69 4.22,1.78L13,11h7V4l-2.35,2.35z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/settings.svg":
/*!************************************************!*\
  !*** ./src/public/images/buttons/settings.svg ***!
  \************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19.43,12.98c0.04,-0.32 0.07,-0.64 0.07,-0.98 0,-0.34 -0.03,-0.66 -0.07,-0.98l2.11,-1.65c0.19,-0.15 0.24,-0.42 0.12,-0.64l-2,-3.46c-0.09,-0.16 -0.26,-0.25 -0.44,-0.25 -0.06,0 -0.12,0.01 -0.17,0.03l-2.49,1c-0.52,-0.4 -1.08,-0.73 -1.69,-0.98l-0.38,-2.65C14.46,2.18 14.25,2 14,2h-4c-0.25,0 -0.46,0.18 -0.49,0.42l-0.38,2.65c-0.61,0.25 -1.17,0.59 -1.69,0.98l-2.49,-1c-0.06,-0.02 -0.12,-0.03 -0.18,-0.03 -0.17,0 -0.34,0.09 -0.43,0.25l-2,3.46c-0.13,0.22 -0.07,0.49 0.12,0.64l2.11,1.65c-0.04,0.32 -0.07,0.65 -0.07,0.98 0,0.33 0.03,0.66 0.07,0.98l-2.11,1.65c-0.19,0.15 -0.24,0.42 -0.12,0.64l2,3.46c0.09,0.16 0.26,0.25 0.44,0.25 0.06,0 0.12,-0.01 0.17,-0.03l2.49,-1c0.52,0.4 1.08,0.73 1.69,0.98l0.38,2.65c0.03,0.24 0.24,0.42 0.49,0.42h4c0.25,0 0.46,-0.18 0.49,-0.42l0.38,-2.65c0.61,-0.25 1.17,-0.59 1.69,-0.98l2.49,1c0.06,0.02 0.12,0.03 0.18,0.03 0.17,0 0.34,-0.09 0.43,-0.25l2,-3.46c0.12,-0.22 0.07,-0.49 -0.12,-0.64l-2.11,-1.65zM17.45,11.27c0.04,0.31 0.05,0.52 0.05,0.73 0,0.21 -0.02,0.43 -0.05,0.73l-0.14,1.13 0.89,0.7 1.08,0.84 -0.7,1.21 -1.27,-0.51 -1.04,-0.42 -0.9,0.68c-0.43,0.32 -0.84,0.56 -1.25,0.73l-1.06,0.43 -0.16,1.13 -0.2,1.35h-1.4l-0.19,-1.35 -0.16,-1.13 -1.06,-0.43c-0.43,-0.18 -0.83,-0.41 -1.23,-0.71l-0.91,-0.7 -1.06,0.43 -1.27,0.51 -0.7,-1.21 1.08,-0.84 0.89,-0.7 -0.14,-1.13c-0.03,-0.31 -0.05,-0.54 -0.05,-0.74s0.02,-0.43 0.05,-0.73l0.14,-1.13 -0.89,-0.7 -1.08,-0.84 0.7,-1.21 1.27,0.51 1.04,0.42 0.9,-0.68c0.43,-0.32 0.84,-0.56 1.25,-0.73l1.06,-0.43 0.16,-1.13 0.2,-1.35h1.39l0.19,1.35 0.16,1.13 1.06,0.43c0.43,0.18 0.83,0.41 1.23,0.71l0.91,0.7 1.06,-0.43 1.27,-0.51 0.7,1.21 -1.07,0.85 -0.89,0.7 0.14,1.13zM12,8c-2.21,0 -4,1.79 -4,4s1.79,4 4,4 4,-1.79 4,-4 -1.79,-4 -4,-4zM12,14c-1.1,0 -2,-0.9 -2,-2s0.9,-2 2,-2 2,0.9 2,2 -0.9,2 -2,2z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/toggle_off.svg":
/*!**************************************************!*\
  !*** ./src/public/images/buttons/toggle_off.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17,7H7c-2.76,0 -5,2.24 -5,5s2.24,5 5,5h10c2.76,0 5,-2.24 5,-5s-2.24,-5 -5,-5zM7,15c-1.66,0 -3,-1.34 -3,-3s1.34,-3 3,-3 3,1.34 3,3 -1.34,3 -3,3z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/toggle_on.svg":
/*!*************************************************!*\
  !*** ./src/public/images/buttons/toggle_on.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17,7L7,7c-2.76,0 -5,2.24 -5,5s2.24,5 5,5h10c2.76,0 5,-2.24 5,-5s-2.24,-5 -5,-5zM17,15c-1.66,0 -3,-1.34 -3,-3s1.34,-3 3,-3 3,1.34 3,3 -1.34,3 -3,3z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/System_Back_678.svg":
/*!**********************************************************!*\
  !*** ./src/public/images/skin-light/System_Back_678.svg ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 48 48\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>Artboard 1</title><desc>Created with Sketch.</desc><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"Artboard-1\" sketch:type=\"MSArtboardGroup\"><g id=\"System_Back\" sketch:type=\"MSLayerGroup\"><g id=\"Page-1\" sketch:type=\"MSShapeGroup\"><g id=\"System_Back\"><g id=\"Rectangle-118-+-back-12-Copy-11\"><rect id=\"Rectangle-118\" x=\"0\" y=\"0\" width=\"48\" height=\"48\"></rect><path d=\"M36.7088473,10.9494765 L36.7088478,37.6349688 C36.7088478,39.4039498 35.4820844,40.0949115 33.9646508,39.1757647 L12.1373795,25.9544497 C10.6218013,25.0364267 10.6199459,23.5491414 12.1373794,22.6299946 L33.9646503,9.40868054 C35.4802284,8.49065763 36.7088473,9.16835511 36.7088473,10.9494765 Z M33.5088482,13.4305237 L33.5088482,35.1305245 L15.5088482,24.2805241 L33.5088482,13.4305237 Z\" id=\"Shape\" fill=\"var(--svg-button-fill)\"></path></g></g></g></g></g></g></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/System_Home_678.svg":
/*!**********************************************************!*\
  !*** ./src/public/images/skin-light/System_Home_678.svg ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 48 48\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>System_Home</title><desc>Created with Sketch.</desc><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"System_Home\" sketch:type=\"MSArtboardGroup\"><g id=\"Rectangle-119-+-home-12-Copy-11\" sketch:type=\"MSLayerGroup\"><rect id=\"Rectangle-119\" sketch:type=\"MSShapeGroup\" x=\"0\" y=\"0\" width=\"48\" height=\"48\"></rect><path d=\"M24,35.2 L24,35.2 C30.1855892,35.2 35.2,30.1855892 35.2,24 C35.2,17.8144108 30.1855892,12.8 24,12.8 C17.8144108,12.8 12.8,17.8144108 12.8,24 C12.8,30.1855892 17.8144108,35.2 24,35.2 L24,35.2 Z M24,38.4 L24,38.4 C16.0470996,38.4 9.6,31.9529004 9.6,24 C9.6,16.0470996 16.0470996,9.6 24,9.6 C31.9529004,9.6 38.4,16.0470996 38.4,24 C38.4,31.9529004 31.9529004,38.4 24,38.4 L24,38.4 Z\" id=\"Shape\" fill=\"var(--svg-button-fill)\" sketch:type=\"MSShapeGroup\"></path></g></g></g></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/System_Overview_678.svg":
/*!**************************************************************!*\
  !*** ./src/public/images/skin-light/System_Overview_678.svg ***!
  \**************************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 48 48\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>System_Overview</title><desc>Created with Sketch.</desc><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"System_Overview\" sketch:type=\"MSArtboardGroup\"><g id=\"Rectangle-120-+-recent-12-Copy-11\" sketch:type=\"MSLayerGroup\"><rect id=\"Rectangle-120\" sketch:type=\"MSShapeGroup\" x=\"0\" y=\"0\" width=\"48\" height=\"48\"></rect><path d=\"M12.7921429,12.8 L12.7921429,12.8 C12.7959945,12.8 12.8,12.7959954 12.8,12.7921429 L12.8,35.2078571 C12.8,35.2040055 12.7959954,35.2 12.7921429,35.2 L35.2078571,35.2 C35.2040055,35.2 35.2,35.2040046 35.2,35.2078571 L35.2,12.7921429 C35.2,12.7959945 35.2040046,12.8 35.2078571,12.8 L12.7921429,12.8 Z M12.7921429,9.6 L12.7921429,9.6 L35.2078571,9.6 C36.9718035,9.6 38.4,11.029171 38.4,12.7921429 L38.4,35.2078571 C38.4,36.9718035 36.970829,38.4 35.2078571,38.4 L12.7921429,38.4 C11.0281965,38.4 9.6,36.970829 9.6,35.2078571 L9.6,12.7921429 C9.6,11.0281965 11.029171,9.6 12.7921429,9.6 L12.7921429,9.6 Z\" id=\"Shape\" fill=\"var(--svg-button-fill)\" sketch:type=\"MSShapeGroup\"></path></g></g></g></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_keyboard_678_48dp.svg":
/*!***************************************************************!*\
  !*** ./src/public/images/skin-light/ic_keyboard_678_48dp.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" fill=\"var(--svg-button-fill)\"><path d=\"M40 10H8c-2.21 0-3.98 1.79-3.98 4L4 34c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V14c0-2.21-1.79-4-4-4zm-18 6h4v4h-4v-4zm0 6h4v4h-4v-4zm-6-6h4v4h-4v-4zm0 6h4v4h-4v-4zm-2 4h-4v-4h4v4zm0-6h-4v-4h4v4zm18 14H16v-4h16v4zm0-8h-4v-4h4v4zm0-6h-4v-4h4v4zm6 6h-4v-4h4v4zm0-6h-4v-4h4v4z\"></path><path d=\"M0 0h48v48H0zm0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_more_horiz_678_48dp.svg":
/*!*****************************************************************!*\
  !*** ./src/public/images/skin-light/ic_more_horiz_678_48dp.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" fill=\"var(--svg-button-fill)\"><path d=\"M0 0h48v48H0z\" fill=\"none\"></path><path d=\"M12 20c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm24 0c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-12 0c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_photo_camera_678_48dp.svg":
/*!*******************************************************************!*\
  !*** ./src/public/images/skin-light/ic_photo_camera_678_48dp.svg ***!
  \*******************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" fill=\"var(--svg-button-fill)\"><circle cx=\"24\" cy=\"24\" r=\"6.4\"></circle><path d=\"M18 4l-3.66 4H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4h-6.34L30 4H18zm6 30c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10z\"></path><path d=\"M0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_power_settings_new_678_48px.svg":
/*!*************************************************************************!*\
  !*** ./src/public/images/skin-light/ic_power_settings_new_678_48px.svg ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path fill=\"none\" d=\"M0 0h48v48H0z\"></path><path d=\"M26 6h-4v20h4V6zm9.67 4.33l-2.83 2.83C35.98 15.73 38 19.62 38 24c0 7.73-6.27 14-14 14s-14-6.27-14-14c0-4.38 2.02-8.27 5.16-10.84l-2.83-2.83C8.47 13.63 6 18.52 6 24c0 9.94 8.06 18 18 18s18-8.06 18-18c0-5.48-2.47-10.37-6.33-13.67z\" fill=\"var(--svg-button-fill)\" stroke=\"var(--svg-button-fill)\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_volume_down_678_48px.svg":
/*!******************************************************************!*\
  !*** ./src/public/images/skin-light/ic_volume_down_678_48px.svg ***!
  \******************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path d=\"M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z\" fill=\"var(--svg-button-fill)\" stroke=\"var(--svg-button-fill)\"></path><path d=\"M0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_volume_up_678_48px.svg":
/*!****************************************************************!*\
  !*** ./src/public/images/skin-light/ic_volume_up_678_48px.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path d=\"M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z\" fill=\"var(--svg-button-fill)\" stroke=\"var(--svg-button-fill)\"></path><path d=\"M0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./node_modules/sylvester.js/lib/index.js":
/*!************************************************!*\
  !*** ./node_modules/sylvester.js/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel

var global = (Function('return this'))();

exports.Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");
global.$V = exports.Vector.create;
exports.Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");
global.$M = exports.Matrix.create;
exports.Line = __webpack_require__(/*! ./line */ "./node_modules/sylvester.js/lib/line.js");
global.$L = exports.Line.create;
exports.Plane = __webpack_require__(/*! ./plane */ "./node_modules/sylvester.js/lib/plane.js");
global.$P = exports.Plane.create;
exports.Line.Segment = __webpack_require__(/*! ./line.segment */ "./node_modules/sylvester.js/lib/line.segment.js");
exports.Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");


/***/ }),

/***/ "./node_modules/sylvester.js/lib/line.js":
/*!***********************************************!*\
  !*** ./node_modules/sylvester.js/lib/line.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");
var Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");
var Plane = __webpack_require__(/*! ./plane */ "./node_modules/sylvester.js/lib/plane.js");
var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");

// Line class - depends on Vector, and some methods require Matrix and Plane.

function Line() {}
Line.prototype = {

  // Returns true if the argument occupies the same space as the line
  eql: function(line) {
    return (this.isParallelTo(line) && this.contains(line.anchor));
  },

  // Returns a copy of the line
  dup: function() {
    return Line.create(this.anchor, this.direction);
  },

  // Returns the result of translating the line by the given vector/array
  translate: function(vector) {
    var V = vector.elements || vector;
    return Line.create([
      this.anchor.elements[0] + V[0],
      this.anchor.elements[1] + V[1],
      this.anchor.elements[2] + (V[2] || 0)
    ], this.direction);
  },

  // Returns true if the line is parallel to the argument. Here, 'parallel to'
  // means that the argument's direction is either parallel or antiparallel to
  // the line's own direction. A line is parallel to a plane if the two do not
  // have a unique intersection.
  isParallelTo: function(obj) {
    if (obj.normal || (obj.start && obj.end)) { return obj.isParallelTo(this); }
    var theta = this.direction.angleFrom(obj.direction);
    return (Math.abs(theta) <= Sylvester.precision || Math.abs(theta - Math.PI) <= Sylvester.precision);
  },

  // Returns the line's perpendicular distance from the argument,
  // which can be a point, a line or a plane
  distanceFrom: function(obj) {
    if (obj.normal || (obj.start && obj.end)) { return obj.distanceFrom(this); }
    if (obj.direction) {
      // obj is a line
      if (this.isParallelTo(obj)) { return this.distanceFrom(obj.anchor); }
      var N = this.direction.cross(obj.direction).toUnitVector().elements;
      var A = this.anchor.elements, B = obj.anchor.elements;
      return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      var A = this.anchor.elements, D = this.direction.elements;
      var PA1 = P[0] - A[0], PA2 = P[1] - A[1], PA3 = (P[2] || 0) - A[2];
      var modPA = Math.sqrt(PA1*PA1 + PA2*PA2 + PA3*PA3);
      if (modPA === 0) return 0;
      // Assumes direction vector is normalized
      var cosTheta = (PA1 * D[0] + PA2 * D[1] + PA3 * D[2]) / modPA;
      var sin2 = 1 - cosTheta*cosTheta;
      return Math.abs(modPA * Math.sqrt(sin2 < 0 ? 0 : sin2));
    }
  },

  // Returns true iff the argument is a point on the line, or if the argument
  // is a line segment lying within the receiver
  contains: function(obj) {
    if (obj.start && obj.end) { return this.contains(obj.start) && this.contains(obj.end); }
    var dist = this.distanceFrom(obj);
    return (dist !== null && dist <= Sylvester.precision);
  },

  // Returns the distance from the anchor of the given point. Negative values are
  // returned for points that are in the opposite direction to the line's direction from
  // the line's anchor point.
  positionOf: function(point) {
    if (!this.contains(point)) { return null; }
    var P = point.elements || point;
    var A = this.anchor.elements, D = this.direction.elements;
    return (P[0] - A[0]) * D[0] + (P[1] - A[1]) * D[1] + ((P[2] || 0) - A[2]) * D[2];
  },

  // Returns true iff the line lies in the given plane
  liesIn: function(plane) {
    return plane.contains(this);
  },

  // Returns true iff the line has a unique point of intersection with the argument
  intersects: function(obj) {
    if (obj.normal) { return obj.intersects(this); }
    return (!this.isParallelTo(obj) && this.distanceFrom(obj) <= Sylvester.precision);
  },

  // Returns the unique intersection point with the argument, if one exists
  intersectionWith: function(obj) {
    if (obj.normal || (obj.start && obj.end)) { return obj.intersectionWith(this); }
    if (!this.intersects(obj)) { return null; }
    var P = this.anchor.elements, X = this.direction.elements,
        Q = obj.anchor.elements, Y = obj.direction.elements;
    var X1 = X[0], X2 = X[1], X3 = X[2], Y1 = Y[0], Y2 = Y[1], Y3 = Y[2];
    var PsubQ1 = P[0] - Q[0], PsubQ2 = P[1] - Q[1], PsubQ3 = P[2] - Q[2];
    var XdotQsubP = - X1*PsubQ1 - X2*PsubQ2 - X3*PsubQ3;
    var YdotPsubQ = Y1*PsubQ1 + Y2*PsubQ2 + Y3*PsubQ3;
    var XdotX = X1*X1 + X2*X2 + X3*X3;
    var YdotY = Y1*Y1 + Y2*Y2 + Y3*Y3;
    var XdotY = X1*Y1 + X2*Y2 + X3*Y3;
    var k = (XdotQsubP * YdotY / XdotX + XdotY * YdotPsubQ) / (YdotY - XdotY * XdotY);
    return Vector.create([P[0] + k*X1, P[1] + k*X2, P[2] + k*X3]);
  },

  // Returns the point on the line that is closest to the given point or line/line segment
  pointClosestTo: function(obj) {
    if (obj.start && obj.end) {
      // obj is a line segment
      var P = obj.pointClosestTo(this);
      return (P === null) ? null : this.pointClosestTo(P);
    } else if (obj.direction) {
      // obj is a line
      if (this.intersects(obj)) { return this.intersectionWith(obj); }
      if (this.isParallelTo(obj)) { return null; }
      var D = this.direction.elements, E = obj.direction.elements;
      var D1 = D[0], D2 = D[1], D3 = D[2], E1 = E[0], E2 = E[1], E3 = E[2];
      // Create plane containing obj and the shared normal and intersect this with it
      // Thank you: http://www.cgafaq.info/wiki/Line-line_distance
      var x = (D3 * E1 - D1 * E3), y = (D1 * E2 - D2 * E1), z = (D2 * E3 - D3 * E2);
      var N = [x * E3 - y * E2, y * E1 - z * E3, z * E2 - x * E1];
      var P = Plane.create(obj.anchor, N);
      return P.intersectionWith(this);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      if (this.contains(P)) { return Vector.create(P); }
      var A = this.anchor.elements, D = this.direction.elements;
      var D1 = D[0], D2 = D[1], D3 = D[2], A1 = A[0], A2 = A[1], A3 = A[2];
      var x = D1 * (P[1]-A2) - D2 * (P[0]-A1), y = D2 * ((P[2] || 0) - A3) - D3 * (P[1]-A2),
          z = D3 * (P[0]-A1) - D1 * ((P[2] || 0) - A3);
      var V = Vector.create([D2 * x - D3 * z, D3 * y - D1 * x, D1 * z - D2 * y]);
      var k = this.distanceFrom(P) / V.modulus();
      return Vector.create([
        P[0] + V.elements[0] * k,
        P[1] + V.elements[1] * k,
        (P[2] || 0) + V.elements[2] * k
      ]);
    }
  },

  // Returns a copy of the line rotated by t radians about the given line. Works by
  // finding the argument's closest point to this line's anchor point (call this C) and
  // rotating the anchor about C. Also rotates the line's direction about the argument's.
  // Be careful with this - the rotation axis' direction affects the outcome!
  rotate: function(t, line) {
    // If we're working in 2D
    if (typeof(line.direction) == 'undefined') { line = Line.create(line.to3D(), Vector.k); }
    var R = Matrix.Rotation(t, line.direction).elements;
    var C = line.pointClosestTo(this.anchor).elements;
    var A = this.anchor.elements, D = this.direction.elements;
    var C1 = C[0], C2 = C[1], C3 = C[2], A1 = A[0], A2 = A[1], A3 = A[2];
    var x = A1 - C1, y = A2 - C2, z = A3 - C3;
    return Line.create([
      C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z,
      C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z,
      C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z
    ], [
      R[0][0] * D[0] + R[0][1] * D[1] + R[0][2] * D[2],
      R[1][0] * D[0] + R[1][1] * D[1] + R[1][2] * D[2],
      R[2][0] * D[0] + R[2][1] * D[1] + R[2][2] * D[2]
    ]);
  },

  // Returns a copy of the line with its direction vector reversed.
  // Useful when using lines for rotations.
  reverse: function() {
    return Line.create(this.anchor, this.direction.x(-1));
  },

  // Returns the line's reflection in the given point or line
  reflectionIn: function(obj) {
    if (obj.normal) {
      // obj is a plane
      var A = this.anchor.elements, D = this.direction.elements;
      var A1 = A[0], A2 = A[1], A3 = A[2], D1 = D[0], D2 = D[1], D3 = D[2];
      var newA = this.anchor.reflectionIn(obj).elements;
      // Add the line's direction vector to its anchor, then mirror that in the plane
      var AD1 = A1 + D1, AD2 = A2 + D2, AD3 = A3 + D3;
      var Q = obj.pointClosestTo([AD1, AD2, AD3]).elements;
      var newD = [Q[0] + (Q[0] - AD1) - newA[0], Q[1] + (Q[1] - AD2) - newA[1], Q[2] + (Q[2] - AD3) - newA[2]];
      return Line.create(newA, newD);
    } else if (obj.direction) {
      // obj is a line - reflection obtained by rotating PI radians about obj
      return this.rotate(Math.PI, obj);
    } else {
      // obj is a point - just reflect the line's anchor in it
      var P = obj.elements || obj;
      return Line.create(this.anchor.reflectionIn([P[0], P[1], (P[2] || 0)]), this.direction);
    }
  },

  // Set the line's anchor point and direction.
  setVectors: function(anchor, direction) {
    // Need to do this so that line's properties are not
    // references to the arguments passed in
    anchor = Vector.create(anchor);
    direction = Vector.create(direction);
    if (anchor.elements.length == 2) {anchor.elements.push(0); }
    if (direction.elements.length == 2) { direction.elements.push(0); }
    if (anchor.elements.length > 3 || direction.elements.length > 3) { return null; }
    var mod = direction.modulus();
    if (mod === 0) { return null; }
    this.anchor = anchor;
    this.direction = Vector.create([
      direction.elements[0] / mod,
      direction.elements[1] / mod,
      direction.elements[2] / mod
    ]);
    return this;
  }
};

// Constructor function
Line.create = function(anchor, direction) {
  var L = new Line();
  return L.setVectors(anchor, direction);
};

// Axes
Line.X = Line.create(Vector.Zero(3), Vector.i);
Line.Y = Line.create(Vector.Zero(3), Vector.j);
Line.Z = Line.create(Vector.Zero(3), Vector.k);

module.exports = Line;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/line.segment.js":
/*!*******************************************************!*\
  !*** ./node_modules/sylvester.js/lib/line.segment.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// Line.Segment class - depends on Line and its dependencies.

var Line = __webpack_require__(/*! ./line */ "./node_modules/sylvester.js/lib/line.js");
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");

Line.Segment = function() {};
Line.Segment.prototype = {

  // Returns true iff the line segment is equal to the argument
  eql: function(segment) {
    return (this.start.eql(segment.start) && this.end.eql(segment.end)) ||
        (this.start.eql(segment.end) && this.end.eql(segment.start));
  },

  // Returns a copy of the line segment
  dup: function() {
    return Line.Segment.create(this.start, this.end);
  },

  // Returns the length of the line segment
  length: function() {
    var A = this.start.elements, B = this.end.elements;
    var C1 = B[0] - A[0], C2 = B[1] - A[1], C3 = B[2] - A[2];
    return Math.sqrt(C1*C1 + C2*C2 + C3*C3);
  },

  // Returns the line segment as a vector equal to its
  // end point relative to its endpoint
  toVector: function() {
    var A = this.start.elements, B = this.end.elements;
    return Vector.create([B[0] - A[0], B[1] - A[1], B[2] - A[2]]);
  },

  // Returns the segment's midpoint as a vector
  midpoint: function() {
    var A = this.start.elements, B = this.end.elements;
    return Vector.create([(B[0] + A[0])/2, (B[1] + A[1])/2, (B[2] + A[2])/2]);
  },

  // Returns the plane that bisects the segment
  bisectingPlane: function() {
    return Plane.create(this.midpoint(), this.toVector());
  },

  // Returns the result of translating the line by the given vector/array
  translate: function(vector) {
    var V = vector.elements || vector;
    var S = this.start.elements, E = this.end.elements;
    return Line.Segment.create(
      [S[0] + V[0], S[1] + V[1], S[2] + (V[2] || 0)],
      [E[0] + V[0], E[1] + V[1], E[2] + (V[2] || 0)]
    );
  },

  // Returns true iff the line segment is parallel to the argument. It simply forwards
  // the method call onto its line property.
  isParallelTo: function(obj) {
    return this.line.isParallelTo(obj);
  },

  // Returns the distance between the argument and the line segment's closest point to the argument
  distanceFrom: function(obj) {
    var P = this.pointClosestTo(obj);
    return (P === null) ? null : P.distanceFrom(obj);
  },

  // Returns true iff the given point lies on the segment
  contains: function(obj) {
    if (obj.start && obj.end) { return this.contains(obj.start) && this.contains(obj.end); }
    var P = (obj.elements || obj).slice();
    if (P.length == 2) { P.push(0); }
    if (this.start.eql(P)) { return true; }
    var S = this.start.elements;
    var V = Vector.create([S[0] - P[0], S[1] - P[1], S[2] - (P[2] || 0)]);
    var vect = this.toVector();
    return V.isAntiparallelTo(vect) && V.modulus() <= vect.modulus();
  },

  // Returns true iff the line segment intersects the argument
  intersects: function(obj) {
    return (this.intersectionWith(obj) !== null);
  },

  // Returns the unique point of intersection with the argument
  intersectionWith: function(obj) {
    if (!this.line.intersects(obj)) { return null; }
    var P = this.line.intersectionWith(obj);
    return (this.contains(P) ? P : null);
  },

  // Returns the point on the line segment closest to the given object
  pointClosestTo: function(obj) {
    if (obj.normal) {
      // obj is a plane
      var V = this.line.intersectionWith(obj);
      if (V === null) { return null; }
      return this.pointClosestTo(V);
    } else {
      // obj is a line (segment) or point
      var P = this.line.pointClosestTo(obj);
      if (P === null) { return null; }
      if (this.contains(P)) { return P; }
      return (this.line.positionOf(P) < 0 ? this.start : this.end).dup();
    }
  },

  // Set the start and end-points of the segment
  setPoints: function(startPoint, endPoint) {
    startPoint = Vector.create(startPoint).to3D();
    endPoint = Vector.create(endPoint).to3D();
    if (startPoint === null || endPoint === null) { return null; }
    this.line = Line.create(startPoint, endPoint.subtract(startPoint));
    this.start = startPoint;
    this.end = endPoint;
    return this;
  }
};

// Constructor function
Line.Segment.create = function(v1, v2) {
  var S = new Line.Segment();
  return S.setPoints(v1, v2);
};

module.exports = Line.Segment;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/matrix.js":
/*!*************************************************!*\
  !*** ./node_modules/sylvester.js/lib/matrix.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// Matrix class - depends on Vector.

var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");

// augment a matrix M with identity rows/cols
function identSize(M, m, n, k) {
    var e = M.elements;
    var i = k - 1;

    while(i--) {
	var row = [];
	
	for(var j = 0; j < n; j++)
	    row.push(j == i ? 1 : 0);
	
        e.unshift(row);
    }
    
    for(var i = k - 1; i < m; i++) {
        while(e[i].length < n)
            e[i].unshift(0);
    }

    return $M(e);
}

function pca(X) {
    var Sigma = X.transpose().x(X).x(1 / X.rows());
    var svd = Sigma.svd();
    return {U: svd.U, S: svd.S};
}

// singular value decomposition in pure javascript
function svdJs() {
    var A = this;
    var V = Matrix.I(A.rows());
    var S = A.transpose();
    var U = Matrix.I(A.cols());
    var err = Number.MAX_VALUE;
    var i = 0;
    var maxLoop = 100;

    while(err > 2.2737e-13 && i < maxLoop) {
        var qr = S.transpose().qrJs();
        S = qr.R;
        V = V.x(qr.Q);
        qr = S.transpose().qrJs();
        U = U.x(qr.Q);
        S = qr.R;

        var e = S.triu(1).unroll().norm();
        var f = S.diagonal().norm();

        if(f == 0)
            f = 1;

        err = e / f;

        i++;
    }

    var ss = S.diagonal();
    var s = [];

    for(var i = 1; i <= ss.cols(); i++) {
        var ssn = ss.e(i);
        s.push(Math.abs(ssn));

        if(ssn < 0) {
            for(var j = 0; j < U.rows(); j++) {
                V.elements[j][i - 1] = -(V.elements[j][i - 1]);
            }
        }
    }

    return {U: U, S: $V(s).toDiagonalMatrix(), V: V};
}



// QR decomposition in pure javascript
function qrJs() {
    var m = this.rows();
    var n = this.cols();
    var Q = Matrix.I(m);
    var A = this;
    
    for(var k = 1; k < Math.min(m, n); k++) {
	var ak = A.slice(k, 0, k, k).col(1);
	var oneZero = [1];
	
	while(oneZero.length <=  m - k)
	    oneZero.push(0);
	
	oneZero = $V(oneZero);
	var vk = ak.add(oneZero.x(ak.norm() * Math.sign(ak.e(1))));
	var Vk = $M(vk);
	var Hk = Matrix.I(m - k + 1).subtract(Vk.x(2).x(Vk.transpose()).div(Vk.transpose().x(Vk).e(1, 1)));
	var Qk = identSize(Hk, m, n, k);
	A = Qk.x(A);
	// slow way to compute Q
	Q = Q.x(Qk);
    }
    
    return {Q: Q, R: A};
}




function Matrix() {}
Matrix.prototype = {
    // solve a system of linear equations (work in progress)
    solve: function(b) {
	var lu = this.lu();
	b = lu.P.x(b);
	var y = lu.L.forwardSubstitute(b);
	var x = lu.U.backSubstitute(y);
	return lu.P.x(x);
	//return this.inv().x(b);
    },

    // project a matrix onto a lower dim
    pcaProject: function(k, U) {
	var U = U || pca(this).U;
	var Ureduce= U.slice(1, U.rows(), 1, k);
	return {Z: this.x(Ureduce), U: U};
    },

    // recover a matrix to a higher dimension
    pcaRecover: function(U) {
	var k = this.cols();
	var Ureduce = U.slice(1, U.rows(), 1, k);
	return this.x(Ureduce.transpose());
    },    

    // grab the upper triangular part of the matrix
    triu: function(k) {
	if(!k)
	    k = 0;
	
	return this.map(function(x, i, j) {
	    return j - i >= k ? x : 0;
	});
    },

    // unroll a matrix into a vector
    unroll: function() {
	var v = [];
	
	for(var i = 1; i <= this.cols(); i++) {
	    for(var j = 1; j <= this.rows(); j++) {
		v.push(this.e(j, i));
	    }
	}

	return $V(v);
    },

    // return a sub-block of the matrix
    slice: function(startRow, endRow, startCol, endCol) {
	var x = [];
	
	if(endRow == 0)
	    endRow = this.rows();
	
	if(endCol == 0)
	    endCol = this.cols();

	for(i = startRow; i <= endRow; i++) {
	    var row = [];

	    for(j = startCol; j <= endCol; j++) {
		row.push(this.e(i, j));
	    }

	    x.push(row);
	}

	return $M(x);
    },

    // Returns element (i,j) of the matrix
    e: function(i,j) {
	if (i < 1 || i > this.elements.length || j < 1 || j > this.elements[0].length) { return null; }
	return this.elements[i - 1][j - 1];
    },

    // Returns row k of the matrix as a vector
    row: function(i) {
	if (i > this.elements.length) { return null; }
	return $V(this.elements[i - 1]);
    },

    // Returns column k of the matrix as a vector
    col: function(j) {
	if (j > this.elements[0].length) { return null; }
	var col = [], n = this.elements.length;
	for (var i = 0; i < n; i++) { col.push(this.elements[i][j - 1]); }
	return $V(col);
    },

    // Returns the number of rows/columns the matrix has
    dimensions: function() {
	return {rows: this.elements.length, cols: this.elements[0].length};
    },

    // Returns the number of rows in the matrix
    rows: function() {
	return this.elements.length;
    },

    // Returns the number of columns in the matrix
    cols: function() {
	return this.elements[0].length;
    },

    approxEql: function(matrix) {
	return this.eql(matrix, Sylvester.approxPrecision);
    },

    // Returns true iff the matrix is equal to the argument. You can supply
    // a vector as the argument, in which case the receiver must be a
    // one-column matrix equal to the vector.
    eql: function(matrix, precision) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	if (this.elements.length != M.length ||
            this.elements[0].length != M[0].length) { return false; }
	var i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) { j = nj;
		      while (j--) {
			  if (Math.abs(this.elements[i][j] - M[i][j]) > (precision || Sylvester.precision)) { return false; }
		      }
		    }
	return true;
    },

    // Returns a copy of the matrix
    dup: function() {
	return Matrix.create(this.elements);
    },

    // Maps the matrix to another matrix (of the same dimensions) according to the given function
    map: function(fn) {
    var els = [], i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) { j = nj;
		      els[i] = [];
		      while (j--) {
			  els[i][j] = fn(this.elements[i][j], i + 1, j + 1);
		      }
		    }
	return Matrix.create(els);
    },

    // Returns true iff the argument has the same dimensions as the matrix
    isSameSizeAs: function(matrix) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	return (this.elements.length == M.length &&
		this.elements[0].length == M[0].length);
    },

    // Returns the result of adding the argument to the matrix
    add: function(matrix) {
	if(typeof(matrix) == 'number') {
	    return this.map(function(x, i, j) { return x + matrix});
	} else {
	    var M = matrix.elements || matrix;
	    if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	    if (!this.isSameSizeAs(M)) { return null; }
	    return this.map(function(x, i, j) { return x + M[i - 1][j - 1]; });
	}
    },

    // Returns the result of subtracting the argument from the matrix
    subtract: function(matrix) {
	if(typeof(matrix) == 'number') {
	    return this.map(function(x, i, j) { return x - matrix});
	} else {
	    var M = matrix.elements || matrix;
	    if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	    if (!this.isSameSizeAs(M)) { return null; }
	    return this.map(function(x, i, j) { return x - M[i - 1][j - 1]; });
	}
    },

    // Returns true iff the matrix can multiply the argument from the left
    canMultiplyFromLeft: function(matrix) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	// this.columns should equal matrix.rows
	return (this.elements[0].length == M.length);
    },

    // Returns the result of a multiplication-style operation the matrix from the right by the argument.
    // If the argument is a scalar then just operate on all the elements. If the argument is
    // a vector, a vector is returned, which saves you having to remember calling
    // col(1) on the result.
    mulOp: function(matrix, op) {
	if (!matrix.elements) {
	    return this.map(function(x) { return op(x, matrix); });
	}

	var returnVector = matrix.modulus ? true : false;
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') 
	    M = Matrix.create(M).elements;
	if (!this.canMultiplyFromLeft(M)) 
	    return null; 
	var e = this.elements, rowThis, rowElem, elements = [],
        sum, m = e.length, n = M[0].length, o = e[0].length, i = m, j, k;

	while (i--) {
            rowElem = [];
            rowThis = e[i];
            j = n;

            while (j--) {
		sum = 0;
		k = o;

		while (k--) {
                    sum += op(rowThis[k], M[k][j]);
		}

		rowElem[j] = sum;
            }

            elements[i] = rowElem;
	}

	var M = Matrix.create(elements);
	return returnVector ? M.col(1) : M;
    },

    // Returns the result of dividing the matrix from the right by the argument.
    // If the argument is a scalar then just divide all the elements. If the argument is
    // a vector, a vector is returned, which saves you having to remember calling
    // col(1) on the result.
    div: function(matrix) {
	return this.mulOp(matrix, function(x, y) { return x / y});
    },

    // Returns the result of multiplying the matrix from the right by the argument.
    // If the argument is a scalar then just multiply all the elements. If the argument is
    // a vector, a vector is returned, which saves you having to remember calling
    // col(1) on the result.
    multiply: function(matrix) {
	return this.mulOp(matrix, function(x, y) { return x * y});
    },

    x: function(matrix) { return this.multiply(matrix); },

    elementMultiply: function(v) {
        return this.map(function(k, i, j) {
            return v.e(i, j) * k;
        });
    },

    // sum all elements in the matrix
    sum: function() {
        var sum = 0;

        this.map(function(x) { sum += x;});

        return sum;
    },

    // Returns a Vector of each colum averaged.
    mean: function() {
      var dim = this.dimensions();
      var r = [];
      for (var i = 1; i <= dim.cols; i++) {
        r.push(this.col(i).sum() / dim.rows);
      }
      return $V(r);
    },

    column: function(n) {
	return this.col(n);
    },

    // element-wise log
    log: function() {
	return this.map(function(x) { return Math.log(x); });
    },

    // Returns a submatrix taken from the matrix
    // Argument order is: start row, start col, nrows, ncols
    // Element selection wraps if the required index is outside the matrix's bounds, so you could
    // use this to perform row/column cycling or copy-augmenting.
    minor: function(a, b, c, d) {
	var elements = [], ni = c, i, nj, j;
	var rows = this.elements.length, cols = this.elements[0].length;
	while (ni--) {
	    i = c - ni - 1;
	    elements[i] = [];
	    nj = d;
	    while (nj--) {
		j = d - nj - 1;
		elements[i][j] = this.elements[(a + i - 1) % rows][(b + j - 1) % cols];
	    }
	}
	return Matrix.create(elements);
    },

    // Returns the transpose of the matrix
    transpose: function() {
    var rows = this.elements.length, i, cols = this.elements[0].length, j;
	var elements = [], i = cols;
	while (i--) {
	    j = rows;
	    elements[i] = [];
	    while (j--) {
		elements[i][j] = this.elements[j][i];
	    }
	}
	return Matrix.create(elements);
    },

    // Returns true iff the matrix is square
    isSquare: function() {
	return (this.elements.length == this.elements[0].length);
    },

    // Returns the (absolute) largest element of the matrix
    max: function() {
	var m = 0, i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) {
	    j = nj;
	    while (j--) {
		if (Math.abs(this.elements[i][j]) > Math.abs(m)) { m = this.elements[i][j]; }
	    }
	}
	return m;
    },

    // Returns the indeces of the first match found by reading row-by-row from left to right
    indexOf: function(x) {
	var index = null, ni = this.elements.length, i, nj = this.elements[0].length, j;
	for (i = 0; i < ni; i++) {
	    for (j = 0; j < nj; j++) {
		if (this.elements[i][j] == x) { return {i: i + 1, j: j + 1}; }
	    }
	}
	return null;
    },

    // If the matrix is square, returns the diagonal elements as a vector.
    // Otherwise, returns null.
    diagonal: function() {
	if (!this.isSquare) { return null; }
	var els = [], n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    els.push(this.elements[i][i]);
	}
	return $V(els);
    },

    // Make the matrix upper (right) triangular by Gaussian elimination.
    // This method only adds multiples of rows to other rows. No rows are
    // scaled up or switched, and the determinant is preserved.
    toRightTriangular: function() {
	var M = this.dup(), els;
	var n = this.elements.length, i, j, np = this.elements[0].length, p;
	for (i = 0; i < n; i++) {
	    if (M.elements[i][i] == 0) {
		for (j = i + 1; j < n; j++) {
		    if (M.elements[j][i] != 0) {
			els = [];
			for (p = 0; p < np; p++) { els.push(M.elements[i][p] + M.elements[j][p]); }
			M.elements[i] = els;
			break;
		    }
		}
	    }
	    if (M.elements[i][i] != 0) {
		for (j = i + 1; j < n; j++) {
		    var multiplier = M.elements[j][i] / M.elements[i][i];
		    els = [];
		    for (p = 0; p < np; p++) {
			// Elements with column numbers up to an including the number
			// of the row that we're subtracting can safely be set straight to
			// zero, since that's the point of this routine and it avoids having
			// to loop over and correct rounding errors later
			els.push(p <= i ? 0 : M.elements[j][p] - M.elements[i][p] * multiplier);
		    }
		    M.elements[j] = els;
		}
	    }
	}
	return M;
    },

    toUpperTriangular: function() { return this.toRightTriangular(); },

    // Returns the determinant for square matrices
    determinant: function() {
	if (!this.isSquare()) { return null; }
	if (this.cols == 1 && this.rows == 1) { return this.row(1); }
	if (this.cols == 0 && this.rows == 0) { return 1; }
	var M = this.toRightTriangular();
	var det = M.elements[0][0], n = M.elements.length;
	for (var i = 1; i < n; i++) {
	    det = det * M.elements[i][i];
	}
	return det;
    },
    det: function() { return this.determinant(); },

    // Returns true iff the matrix is singular
    isSingular: function() {
	return (this.isSquare() && this.determinant() === 0);
    },

    // Returns the trace for square matrices
    trace: function() {
	if (!this.isSquare()) { return null; }
	var tr = this.elements[0][0], n = this.elements.length;
	for (var i = 1; i < n; i++) {
	    tr += this.elements[i][i];
	}
	return tr;
    },

    tr: function() { return this.trace(); },

    // Returns the rank of the matrix
    rank: function() {
	var M = this.toRightTriangular(), rank = 0;
	var i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) {
	    j = nj;
	    while (j--) {
		if (Math.abs(M.elements[i][j]) > Sylvester.precision) { rank++; break; }
	    }
	}
	return rank;
    },

    rk: function() { return this.rank(); },

    // Returns the result of attaching the given argument to the right-hand side of the matrix
    augment: function(matrix) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	var T = this.dup(), cols = T.elements[0].length;
	var i = T.elements.length, nj = M[0].length, j;
	if (i != M.length) { return null; }
	while (i--) {
	    j = nj;
	    while (j--) {
		T.elements[i][cols + j] = M[i][j];
	    }
	}
	return T;
    },

    // Returns the inverse (if one exists) using Gauss-Jordan
    inverse: function() {
	if (!this.isSquare() || this.isSingular()) { return null; }
	var n = this.elements.length, i = n, j;
	var M = this.augment(Matrix.I(n)).toRightTriangular();
	var np = M.elements[0].length, p, els, divisor;
	var inverse_elements = [], new_element;
	// Matrix is non-singular so there will be no zeros on the diagonal
	// Cycle through rows from last to first
	while (i--) {
	    // First, normalise diagonal elements to 1
	    els = [];
	    inverse_elements[i] = [];
	    divisor = M.elements[i][i];
	    for (p = 0; p < np; p++) {
        new_element = M.elements[i][p] / divisor;
		els.push(new_element);
		// Shuffle off the current row of the right hand side into the results
		// array as it will not be modified by later runs through this loop
		if (p >= n) { inverse_elements[i].push(new_element); }
	    }
	    M.elements[i] = els;
	    // Then, subtract this row from those above it to
	    // give the identity matrix on the left hand side
	    j = i;
	    while (j--) {
		els = [];
		for (p = 0; p < np; p++) {
		    els.push(M.elements[j][p] - M.elements[i][p] * M.elements[j][i]);
		}
		M.elements[j] = els;
	    }
	}
	return Matrix.create(inverse_elements);
    },

    inv: function() { return this.inverse(); },

    // Returns the result of rounding all the elements
    round: function() {
	return this.map(function(x) { return Math.round(x); });
    },

    // Returns a copy of the matrix with elements set to the given value if they
    // differ from it by less than Sylvester.precision
    snapTo: function(x) {
	return this.map(function(p) {
	    return (Math.abs(p - x) <= Sylvester.precision) ? x : p;
	});
    },

    // Returns a string representation of the matrix
    inspect: function() {
	var matrix_rows = [];
	var n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    matrix_rows.push($V(this.elements[i]).inspect());
	}
	return matrix_rows.join('\n');
    },

    // Returns a array representation of the matrix
    toArray: function() {
    	var matrix_rows = [];
    	var n = this.elements.length;
    	for (var i = 0; i < n; i++) {
        matrix_rows.push(this.elements[i]);
    	}
      return matrix_rows;
    },


    // Set the matrix's elements from an array. If the argument passed
    // is a vector, the resulting matrix will be a single column.
    setElements: function(els) {
	var i, j, elements = els.elements || els;
	if (typeof(elements[0][0]) != 'undefined') {
	    i = elements.length;
	    this.elements = [];
	    while (i--) {
		j = elements[i].length;
		this.elements[i] = [];
		while (j--) {
		    this.elements[i][j] = elements[i][j];
		}
	    }
	    return this;
	}
	var n = elements.length;
	this.elements = [];
	for (i = 0; i < n; i++) {
	    this.elements.push([elements[i]]);
	}
	return this;
    },

    // return the indexes of the columns with the largest value
    // for each row
    maxColumnIndexes: function() {
	var maxes = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var max = null;
	    var maxIndex = -1;

	    for(var j = 1; j <= this.cols(); j++) {
		if(max === null || this.e(i, j) > max) {
		    max = this.e(i, j);
		    maxIndex = j;
		}
	    }

	    maxes.push(maxIndex);
	}

	return $V(maxes);
    },

    // return the largest values in each row
    maxColumns: function() {
	var maxes = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var max = null;

	    for(var j = 1; j <= this.cols(); j++) {
		if(max === null || this.e(i, j) > max) {
		    max = this.e(i, j);
		}
	    }

	    maxes.push(max);
	}

	return $V(maxes);
    },

    // return the indexes of the columns with the smallest values
    // for each row
    minColumnIndexes: function() {
	var mins = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var min = null;
	    var minIndex = -1;

	    for(var j = 1; j <= this.cols(); j++) {
		if(min === null || this.e(i, j) < min) {
		    min = this.e(i, j);
		    minIndex = j;
		}
	    }

	    mins.push(minIndex);
	}

	return $V(mins);
    },

    // return the smallest values in each row
    minColumns: function() {
	var mins = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var min = null;

	    for(var j = 1; j <= this.cols(); j++) {
		if(min === null || this.e(i, j) < min) {
		    min = this.e(i, j);
		}
	    }

	    mins.push(min);
	}

	return $V(mins);
    },
    
    // perorm a partial pivot on the matrix. essentially move the largest
    // row below-or-including the pivot and replace the pivot's row with it.
    // a pivot matrix is returned so multiplication can perform the transform.
    partialPivot: function(k, j, P, A, L) {
	var maxIndex = 0;
	var maxValue = 0;

	for(var i = k; i <= A.rows(); i++) {
	    if(Math.abs(A.e(i, j)) > maxValue) {
		maxValue = Math.abs(A.e(k, j));
		maxIndex = i;
	    }
	}

	if(maxIndex != k) {
	    var tmp = A.elements[k - 1];
	    A.elements[k - 1] = A.elements[maxIndex - 1];
	    A.elements[maxIndex - 1] = tmp;
	    
	    P.elements[k - 1][k - 1] = 0;
	    P.elements[k - 1][maxIndex - 1] = 1;
	    P.elements[maxIndex - 1][maxIndex - 1] = 0;
	    P.elements[maxIndex - 1][k - 1] = 1;
	}
	
	return P;
    },

    // solve lower-triangular matrix * x = b via forward substitution
    forwardSubstitute: function(b) {
	var xa = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var w = 0;

	    for(var j = 1; j < i; j++) {
		w += this.e(i, j) * xa[j - 1];
	    }

	    xa.push((b.e(i) - w) / this.e(i, i));
	}

	return $V(xa);
    },

    // solve an upper-triangular matrix * x = b via back substitution
    backSubstitute: function(b) {
	var xa = [];

	for(var i = this.rows(); i > 0; i--) {
	    var w = 0;

	    for(var j = this.cols(); j > i; j--) {
		w += this.e(i, j) * xa[this.rows() - j];
	    }

	    xa.push((b.e(i) - w) / this.e(i, i));
	}

	return $V(xa.reverse());
    },
    
    luJs: luJs,
    svdJs: svdJs,
    qrJs: qrJs,
};


var tolerance =  1.4901e-08;

// pure Javascript LU factorization
function luJs() {
    var A = this.dup();
    var L = Matrix.I(A.rows());
    var P = Matrix.I(A.rows());
    var U = Matrix.Zeros(A.rows(), A.cols());
    var p = 1;

    for(var k = 1; k <= Math.min(A.cols(), A.rows()); k++) {
	P = A.partialPivot(k, p, P, A, L);
	
	for(var i = k + 1; i <= A.rows(); i++) {
	    var l = A.e(i, p) / A.e(k, p);
	    L.elements[i - 1][k - 1] = l;
	    
	    for(var j = k + 1 ; j <= A.cols(); j++) {
		A.elements[i - 1][j - 1] -= A.e(k, j) * l;
	    }
	}
	
	for(var j = k; j <= A.cols(); j++) {
	    U.elements[k - 1][j - 1] = A.e(k, j);
	}

	if(p < A.cols())
	    p++;
    }    
    
    return {L: L, U: U, P: P};
}



Matrix.prototype.svd = svdJs;
Matrix.prototype.qr = qrJs;
Matrix.prototype.lu = luJs;

// Constructor function
Matrix.create = function(aElements) {
    var M = new Matrix().setElements(aElements);
    return M;
};

// Identity matrix of size n
Matrix.I = function(n) {
    var els = [], i = n, j;
    while (i--) {
	j = n;
	els[i] = [];
	while (j--) {
	    els[i][j] = (i == j) ? 1 : 0;
	}
    }
    return Matrix.create(els);
};

Matrix.loadFile = function(file) {
    var fs = __webpack_require__(/*! fs */ "fs");
    var contents = fs.readFileSync(file, 'utf-8');
    var matrix = [];

    var rowArray = contents.split('\n');
    for (var i = 0; i < rowArray.length; i++) {
	var d = rowArray[i].split(',');
	if (d.length > 1) {
	    matrix.push(d);
	}
    }

    var M = new Matrix();
    return M.setElements(matrix);
};

// Diagonal matrix - all off-diagonal elements are zero
Matrix.Diagonal = function(elements) {
    var i = elements.length;
    var M = Matrix.I(i);
    while (i--) {
	M.elements[i][i] = elements[i];
    }
    return M;
};

// Rotation matrix about some axis. If no axis is
// supplied, assume we're after a 2D transform
Matrix.Rotation = function(theta, a) {
    if (!a) {
	return Matrix.create([
	    [Math.cos(theta), -Math.sin(theta)],
	    [Math.sin(theta), Math.cos(theta)]
	]);
    }
    var axis = a.dup();
    if (axis.elements.length != 3) { return null; }
    var mod = axis.modulus();
    var x = axis.elements[0] / mod, y = axis.elements[1] / mod, z = axis.elements[2] / mod;
    var s = Math.sin(theta), c = Math.cos(theta), t = 1 - c;
    // Formula derived here: http://www.gamedev.net/reference/articles/article1199.asp
    // That proof rotates the co-ordinate system so theta
    // becomes -theta and sin becomes -sin here.
    return Matrix.create([
	[t * x * x + c, t * x * y - s * z, t * x * z + s * y],
	[t * x * y + s * z, t * y * y + c, t * y * z - s * x],
	[t * x * z - s * y, t * y * z + s * x, t * z * z + c]
    ]);
};

// Special case rotations
Matrix.RotationX = function(t) {
    var c = Math.cos(t), s = Math.sin(t);
    return Matrix.create([
	[1, 0, 0],
	[0, c, -s],
	[0, s, c]
    ]);
};

Matrix.RotationY = function(t) {
    var c = Math.cos(t), s = Math.sin(t);
    return Matrix.create([
	[c, 0, s],
	[0, 1, 0],
	[-s, 0, c]
    ]);
};

Matrix.RotationZ = function(t) {
    var c = Math.cos(t), s = Math.sin(t);
    return Matrix.create([
	[c, -s, 0],
	[s, c, 0],
	[0, 0, 1]
    ]);
};

// Random matrix of n rows, m columns
Matrix.Random = function(n, m) {
    if (arguments.length === 1) m = n;
    return Matrix.Zero(n, m).map(
	function() { return Math.random(); }
  );
};

Matrix.Fill = function(n, m, v) {
    if (arguments.length === 2) {
	v = m;
	m = n;
    }

    var els = [], i = n, j;

    while (i--) {
	j = m;
	els[i] = [];

	while (j--) {
	    els[i][j] = v;
	}
    }

    return Matrix.create(els);
};

// Matrix filled with zeros
Matrix.Zero = function(n, m) {
    return Matrix.Fill(n, m, 0);
};

// Matrix filled with zeros
Matrix.Zeros = function(n, m) {
    return Matrix.Zero(n, m);
};

// Matrix filled with ones
Matrix.One = function(n, m) {
    return Matrix.Fill(n, m, 1);
};

// Matrix filled with ones
Matrix.Ones = function(n, m) {
    return Matrix.One(n, m);
};

module.exports = Matrix;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/plane.js":
/*!************************************************!*\
  !*** ./node_modules/sylvester.js/lib/plane.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// Plane class - depends on Vector. Some methods require Matrix and Line.
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");
var Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");
var Line = __webpack_require__(/*! ./line */ "./node_modules/sylvester.js/lib/line.js");

var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");

function Plane() {}
Plane.prototype = {

  // Returns true iff the plane occupies the same space as the argument
  eql: function(plane) {
    return (this.contains(plane.anchor) && this.isParallelTo(plane));
  },

  // Returns a copy of the plane
  dup: function() {
    return Plane.create(this.anchor, this.normal);
  },

  // Returns the result of translating the plane by the given vector
  translate: function(vector) {
    var V = vector.elements || vector;
    return Plane.create([
      this.anchor.elements[0] + V[0],
      this.anchor.elements[1] + V[1],
      this.anchor.elements[2] + (V[2] || 0)
    ], this.normal);
  },

  // Returns true iff the plane is parallel to the argument. Will return true
  // if the planes are equal, or if you give a line and it lies in the plane.
  isParallelTo: function(obj) {
    var theta;
    if (obj.normal) {
      // obj is a plane
      theta = this.normal.angleFrom(obj.normal);
      return (Math.abs(theta) <= Sylvester.precision || Math.abs(Math.PI - theta) <= Sylvester.precision);
    } else if (obj.direction) {
      // obj is a line
      return this.normal.isPerpendicularTo(obj.direction);
    }
    return null;
  },

  // Returns true iff the receiver is perpendicular to the argument
  isPerpendicularTo: function(plane) {
    var theta = this.normal.angleFrom(plane.normal);
    return (Math.abs(Math.PI/2 - theta) <= Sylvester.precision);
  },

  // Returns the plane's distance from the given object (point, line or plane)
  distanceFrom: function(obj) {
    if (this.intersects(obj) || this.contains(obj)) { return 0; }
    if (obj.anchor) {
      // obj is a plane or line
      var A = this.anchor.elements, B = obj.anchor.elements, N = this.normal.elements;
      return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      var A = this.anchor.elements, N = this.normal.elements;
      return Math.abs((A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2]);
    }
  },

  // Returns true iff the plane contains the given point or line
  contains: function(obj) {
    if (obj.normal) { return null; }
    if (obj.direction) {
      return (this.contains(obj.anchor) && this.contains(obj.anchor.add(obj.direction)));
    } else {
      var P = obj.elements || obj;
      var A = this.anchor.elements, N = this.normal.elements;
      var diff = Math.abs(N[0]*(A[0] - P[0]) + N[1]*(A[1] - P[1]) + N[2]*(A[2] - (P[2] || 0)));
      return (diff <= Sylvester.precision);
    }
  },

  // Returns true iff the plane has a unique point/line of intersection with the argument
  intersects: function(obj) {
    if (typeof(obj.direction) == 'undefined' && typeof(obj.normal) == 'undefined') { return null; }
    return !this.isParallelTo(obj);
  },

  // Returns the unique intersection with the argument, if one exists. The result
  // will be a vector if a line is supplied, and a line if a plane is supplied.
  intersectionWith: function(obj) {
    if (!this.intersects(obj)) { return null; }
    if (obj.direction) {
      // obj is a line
      var A = obj.anchor.elements, D = obj.direction.elements,
          P = this.anchor.elements, N = this.normal.elements;
      var multiplier = (N[0]*(P[0]-A[0]) + N[1]*(P[1]-A[1]) + N[2]*(P[2]-A[2])) / (N[0]*D[0] + N[1]*D[1] + N[2]*D[2]);
      return Vector.create([A[0] + D[0]*multiplier, A[1] + D[1]*multiplier, A[2] + D[2]*multiplier]);
    } else if (obj.normal) {
      // obj is a plane
      var direction = this.normal.cross(obj.normal).toUnitVector();
      // To find an anchor point, we find one co-ordinate that has a value
      // of zero somewhere on the intersection, and remember which one we picked
      var N = this.normal.elements, A = this.anchor.elements,
          O = obj.normal.elements, B = obj.anchor.elements;
      var solver = Matrix.Zero(2,2), i = 0;
      while (solver.isSingular()) {
        i++;
        solver = Matrix.create([
          [ N[i%3], N[(i+1)%3] ],
          [ O[i%3], O[(i+1)%3]  ]
        ]);
      }
      // Then we solve the simultaneous equations in the remaining dimensions
      var inverse = solver.inverse().elements;
      var x = N[0]*A[0] + N[1]*A[1] + N[2]*A[2];
      var y = O[0]*B[0] + O[1]*B[1] + O[2]*B[2];
      var intersection = [
        inverse[0][0] * x + inverse[0][1] * y,
        inverse[1][0] * x + inverse[1][1] * y
      ];
      var anchor = [];
      for (var j = 1; j <= 3; j++) {
        // This formula picks the right element from intersection by
        // cycling depending on which element we set to zero above
        anchor.push((i == j) ? 0 : intersection[(j + (5 - i)%3)%3]);
      }
      return Line.create(anchor, direction);
    }
  },

  // Returns the point in the plane closest to the given point
  pointClosestTo: function(point) {
    var P = point.elements || point;
    var A = this.anchor.elements, N = this.normal.elements;
    var dot = (A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2];
    return Vector.create([P[0] + N[0] * dot, P[1] + N[1] * dot, (P[2] || 0) + N[2] * dot]);
  },

  // Returns a copy of the plane, rotated by t radians about the given line
  // See notes on Line#rotate.
  rotate: function(t, line) {
    var R = t.determinant ? t.elements : Matrix.Rotation(t, line.direction).elements;
    var C = line.pointClosestTo(this.anchor).elements;
    var A = this.anchor.elements, N = this.normal.elements;
    var C1 = C[0], C2 = C[1], C3 = C[2], A1 = A[0], A2 = A[1], A3 = A[2];
    var x = A1 - C1, y = A2 - C2, z = A3 - C3;
    return Plane.create([
      C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z,
      C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z,
      C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z
    ], [
      R[0][0] * N[0] + R[0][1] * N[1] + R[0][2] * N[2],
      R[1][0] * N[0] + R[1][1] * N[1] + R[1][2] * N[2],
      R[2][0] * N[0] + R[2][1] * N[1] + R[2][2] * N[2]
    ]);
  },

  // Returns the reflection of the plane in the given point, line or plane.
  reflectionIn: function(obj) {
    if (obj.normal) {
      // obj is a plane
      var A = this.anchor.elements, N = this.normal.elements;
      var A1 = A[0], A2 = A[1], A3 = A[2], N1 = N[0], N2 = N[1], N3 = N[2];
      var newA = this.anchor.reflectionIn(obj).elements;
      // Add the plane's normal to its anchor, then mirror that in the other plane
      var AN1 = A1 + N1, AN2 = A2 + N2, AN3 = A3 + N3;
      var Q = obj.pointClosestTo([AN1, AN2, AN3]).elements;
      var newN = [Q[0] + (Q[0] - AN1) - newA[0], Q[1] + (Q[1] - AN2) - newA[1], Q[2] + (Q[2] - AN3) - newA[2]];
      return Plane.create(newA, newN);
    } else if (obj.direction) {
      // obj is a line
      return this.rotate(Math.PI, obj);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      return Plane.create(this.anchor.reflectionIn([P[0], P[1], (P[2] || 0)]), this.normal);
    }
  },

  // Sets the anchor point and normal to the plane. If three arguments are specified,
  // the normal is calculated by assuming the three points should lie in the same plane.
  // If only two are sepcified, the second is taken to be the normal. Normal vector is
  // normalised before storage.
  setVectors: function(anchor, v1, v2) {
    anchor = Vector.create(anchor);
    anchor = anchor.to3D(); if (anchor === null) { return null; }
    v1 = Vector.create(v1);
    v1 = v1.to3D(); if (v1 === null) { return null; }
    if (typeof(v2) == 'undefined') {
      v2 = null;
    } else {
      v2 = Vector.create(v2);
      v2 = v2.to3D(); if (v2 === null) { return null; }
    }
    var A1 = anchor.elements[0], A2 = anchor.elements[1], A3 = anchor.elements[2];
    var v11 = v1.elements[0], v12 = v1.elements[1], v13 = v1.elements[2];
    var normal, mod;
    if (v2 !== null) {
      var v21 = v2.elements[0], v22 = v2.elements[1], v23 = v2.elements[2];
      normal = Vector.create([
        (v12 - A2) * (v23 - A3) - (v13 - A3) * (v22 - A2),
        (v13 - A3) * (v21 - A1) - (v11 - A1) * (v23 - A3),
        (v11 - A1) * (v22 - A2) - (v12 - A2) * (v21 - A1)
      ]);
      mod = normal.modulus();
      if (mod === 0) { return null; }
      normal = Vector.create([normal.elements[0] / mod, normal.elements[1] / mod, normal.elements[2] / mod]);
    } else {
      mod = Math.sqrt(v11*v11 + v12*v12 + v13*v13);
      if (mod === 0) { return null; }
      normal = Vector.create([v1.elements[0] / mod, v1.elements[1] / mod, v1.elements[2] / mod]);
    }
    this.anchor = anchor;
    this.normal = normal;
    return this;
  }
};

// Constructor function
Plane.create = function(anchor, v1, v2) {
  var P = new Plane();
  return P.setVectors(anchor, v1, v2);
};

// X-Y-Z planes
Plane.XY = Plane.create(Vector.Zero(3), Vector.k);
Plane.YZ = Plane.create(Vector.Zero(3), Vector.i);
Plane.ZX = Plane.create(Vector.Zero(3), Vector.j);
Plane.YX = Plane.XY; Plane.ZY = Plane.YZ; Plane.XZ = Plane.ZX;

// Returns the plane containing the given points (can be arrays as
// well as vectors). If the points are not coplanar, returns null.
Plane.fromPoints = function(points) {
  var np = points.length, list = [], i, P, n, N, A, B, C, D, theta, prevN, totalN = Vector.Zero(3);
  for (i = 0; i < np; i++) {
    P = Vector.create(points[i]).to3D();
    if (P === null) { return null; }
    list.push(P);
    n = list.length;
    if (n > 2) {
      // Compute plane normal for the latest three points
      A = list[n-1].elements; B = list[n-2].elements; C = list[n-3].elements;
      N = Vector.create([
        (A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]),
        (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]),
        (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])
      ]).toUnitVector();
      if (n > 3) {
        // If the latest normal is not (anti)parallel to the previous one, we've strayed off the plane.
        // This might be a slightly long-winded way of doing things, but we need the sum of all the normals
        // to find which way the plane normal should point so that the points form an anticlockwise list.
        theta = N.angleFrom(prevN);
        if (theta !== null) {
          if (!(Math.abs(theta) <= Sylvester.precision || Math.abs(theta - Math.PI) <= Sylvester.precision)) { return null; }
        }
      }
      totalN = totalN.add(N);
      prevN = N;
    }
  }
  // We need to add in the normals at the start and end points, which the above misses out
  A = list[1].elements; B = list[0].elements; C = list[n-1].elements; D = list[n-2].elements;
  totalN = totalN.add(Vector.create([
    (A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]),
    (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]),
    (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])
  ]).toUnitVector()).add(Vector.create([
    (B[1] - C[1]) * (D[2] - C[2]) - (B[2] - C[2]) * (D[1] - C[1]),
    (B[2] - C[2]) * (D[0] - C[0]) - (B[0] - C[0]) * (D[2] - C[2]),
    (B[0] - C[0]) * (D[1] - C[1]) - (B[1] - C[1]) * (D[0] - C[0])
  ]).toUnitVector());
  return Plane.create(list[0], totalN);
};

module.exports = Plane;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/sylvester.js":
/*!****************************************************!*\
  !*** ./node_modules/sylvester.js/lib/sylvester.js ***!
  \****************************************************/
/***/ ((module) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// This file is required in order for any other classes to work. Some Vector methods work with the
// other Sylvester classes and are useless unless they are included. Other classes such as Line and
// Plane will not function at all without Vector being loaded first.           

Math.sign = function(x) {
    return x < 0 ? -1: 1;
}
                                              
var Sylvester = {
    precision: 1e-6,
    approxPrecision: 1e-5
};

module.exports = Sylvester;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/vector.js":
/*!*************************************************!*\
  !*** ./node_modules/sylvester.js/lib/vector.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// This file is required in order for any other classes to work. Some Vector methods work with the
// other Sylvester classes and are useless unless they are included. Other classes such as Line and
// Plane will not function at all without Vector being loaded first.

var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js"),
Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");

function Vector() {}
Vector.prototype = {

    norm: function() {
	var n = this.elements.length;
	var sum = 0;

	while (n--) {
	    sum += Math.pow(this.elements[n], 2);
	}

	return Math.sqrt(sum);
    },

    // Returns element i of the vector
    e: function(i) {
      return (i < 1 || i > this.elements.length) ? null : this.elements[i - 1];
    },

    // Returns the number of rows/columns the vector has
    dimensions: function() {
      return {rows: 1, cols: this.elements.length};
    },

    // Returns the number of rows in the vector
    rows: function() {
      return 1;
    },

    // Returns the number of columns in the vector
    cols: function() {
      return this.elements.length;
    },

    // Returns the modulus ('length') of the vector
    modulus: function() {
      return Math.sqrt(this.dot(this));
    },

    // Returns true iff the vector is equal to the argument
    eql: function(vector) {
    	var n = this.elements.length;
    	var V = vector.elements || vector;
    	if (n != V.length) { return false; }
    	while (n--) {
    	    if (Math.abs(this.elements[n] - V[n]) > Sylvester.precision) { return false; }
    	}
    	return true;
    },

    // Returns a copy of the vector
    dup: function() {
	    return Vector.create(this.elements);
    },

    // Maps the vector to another vector according to the given function
    map: function(fn) {
	var elements = [];
	this.each(function(x, i) {
	    elements.push(fn(x, i));
	});
	return Vector.create(elements);
    },

    // Calls the iterator for each element of the vector in turn
    each: function(fn) {
	var n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    fn(this.elements[i], i + 1);
	}
    },

    // Returns a new vector created by normalizing the receiver
    toUnitVector: function() {
	var r = this.modulus();
	if (r === 0) { return this.dup(); }
	return this.map(function(x) { return x / r; });
    },

    // Returns the angle between the vector and the argument (also a vector)
    angleFrom: function(vector) {
	var V = vector.elements || vector;
	var n = this.elements.length, k = n, i;
	if (n != V.length) { return null; }
	var dot = 0, mod1 = 0, mod2 = 0;
	// Work things out in parallel to save time
	this.each(function(x, i) {
	    dot += x * V[i - 1];
	    mod1 += x * x;
	    mod2 += V[i - 1] * V[i - 1];
	});
	mod1 = Math.sqrt(mod1); mod2 = Math.sqrt(mod2);
	if (mod1 * mod2 === 0) { return null; }
	var theta = dot / (mod1 * mod2);
	if (theta < -1) { theta = -1; }
	if (theta > 1) { theta = 1; }
	return Math.acos(theta);
    },

    // Returns true iff the vector is parallel to the argument
    isParallelTo: function(vector) {
	var angle = this.angleFrom(vector);
	return (angle === null) ? null : (angle <= Sylvester.precision);
    },

    // Returns true iff the vector is antiparallel to the argument
    isAntiparallelTo: function(vector) {
	var angle = this.angleFrom(vector);
	return (angle === null) ? null : (Math.abs(angle - Math.PI) <= Sylvester.precision);
    },

    // Returns true iff the vector is perpendicular to the argument
    isPerpendicularTo: function(vector) {
	var dot = this.dot(vector);
	return (dot === null) ? null : (Math.abs(dot) <= Sylvester.precision);
    },

    // Returns the result of adding the argument to the vector
    add: function(value) {
	var V = value.elements || value;

	if (this.elements.length != V.length) 
	    return this.map(function(v) { return v + value });
	else
	    return this.map(function(x, i) { return x + V[i - 1]; });
    },

    // Returns the result of subtracting the argument from the vector
    subtract: function(v) {
	if (typeof(v) == 'number')
	    return this.map(function(k) { return k - v; });

	var V = v.elements || v;
	if (this.elements.length != V.length) { return null; }
	return this.map(function(x, i) { return x - V[i - 1]; });
    },

    // Returns the result of multiplying the elements of the vector by the argument
    multiply: function(k) {
	return this.map(function(x) { return x * k; });
    },

    elementMultiply: function(v) {
	return this.map(function(k, i) {
	    return v.e(i) * k;
	});
    },

    sum: function() {
	var sum = 0;
	this.map(function(x) { sum += x;});
	return sum;
    },

    chomp: function(n) {
	var elements = [];

	for (var i = n; i < this.elements.length; i++) {
	    elements.push(this.elements[i]);
	}

	return Vector.create(elements);
    },

    top: function(n) {
	var elements = [];

	for (var i = 0; i < n; i++) {
	    elements.push(this.elements[i]);
	}

	return Vector.create(elements);
    },

    augment: function(elements) {
	var newElements = this.elements;

	for (var i = 0; i < elements.length; i++) {
	    newElements.push(elements[i]);
	}

	return Vector.create(newElements);
    },

    x: function(k) { return this.multiply(k); },

    log: function() {
	return Vector.log(this);
    },

    elementDivide: function(vector) {
	return this.map(function(v, i) {
	    return v / vector.e(i);
	});
    },

    product: function() {
	var p = 1;

	this.map(function(v) {
	    p *= v;
	});

	return p;
    },

    // Returns the scalar product of the vector with the argument
    // Both vectors must have equal dimensionality
    dot: function(vector) {
	var V = vector.elements || vector;
	var i, product = 0, n = this.elements.length;	
	if (n != V.length) { return null; }
	while (n--) { product += this.elements[n] * V[n]; }
	return product;
    },

    // Returns the vector product of the vector with the argument
    // Both vectors must have dimensionality 3
    cross: function(vector) {
	var B = vector.elements || vector;
	if (this.elements.length != 3 || B.length != 3) { return null; }
	var A = this.elements;
	return Vector.create([
	    (A[1] * B[2]) - (A[2] * B[1]),
	    (A[2] * B[0]) - (A[0] * B[2]),
	    (A[0] * B[1]) - (A[1] * B[0])
	]);
    },

    // Returns the (absolute) largest element of the vector
    max: function() {
	var m = 0, i = this.elements.length;
	while (i--) {
	    if (Math.abs(this.elements[i]) > Math.abs(m)) { m = this.elements[i]; }
	}
	return m;
    },


    maxIndex: function() {
	var m = 0, i = this.elements.length;
	var maxIndex = -1;

	while (i--) {
	    if (Math.abs(this.elements[i]) > Math.abs(m)) { 
		m = this.elements[i]; 
		maxIndex = i + 1;
	    }
	}

	return maxIndex;
    },


    // Returns the index of the first match found
    indexOf: function(x) {
	var index = null, n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    if (index === null && this.elements[i] == x) {
		index = i + 1;
	    }
	}
	return index;
    },

    // Returns a diagonal matrix with the vector's elements as its diagonal elements
    toDiagonalMatrix: function() {
	return Matrix.Diagonal(this.elements);
    },

    // Returns the result of rounding the elements of the vector
    round: function() {
	return this.map(function(x) { return Math.round(x); });
    },

    // Transpose a Vector, return a 1xn Matrix
    transpose: function() {
	var rows = this.elements.length;
	var elements = [];

	for (var i = 0; i < rows; i++) {
	    elements.push([this.elements[i]]);
	}
	return Matrix.create(elements);
    },

    // Returns a copy of the vector with elements set to the given value if they
    // differ from it by less than Sylvester.precision
    snapTo: function(x) {
	return this.map(function(y) {
	    return (Math.abs(y - x) <= Sylvester.precision) ? x : y;
	});
    },

    // Returns the vector's distance from the argument, when considered as a point in space
    distanceFrom: function(obj) {
	if (obj.anchor || (obj.start && obj.end)) { return obj.distanceFrom(this); }
	var V = obj.elements || obj;
	if (V.length != this.elements.length) { return null; }
	var sum = 0, part;
	this.each(function(x, i) {
	    part = x - V[i - 1];
	    sum += part * part;
	});
	return Math.sqrt(sum);
    },

    // Returns true if the vector is point on the given line
    liesOn: function(line) {
	return line.contains(this);
    },

    // Return true iff the vector is a point in the given plane
    liesIn: function(plane) {
	return plane.contains(this);
    },

    // Rotates the vector about the given object. The object should be a
    // point if the vector is 2D, and a line if it is 3D. Be careful with line directions!
    rotate: function(t, obj) {
	var V, R = null, x, y, z;
	if (t.determinant) { R = t.elements; }
	switch (this.elements.length) {
	case 2:
            V = obj.elements || obj;
            if (V.length != 2) { return null; }
            if (!R) { R = Matrix.Rotation(t).elements; }
            x = this.elements[0] - V[0];
            y = this.elements[1] - V[1];
            return Vector.create([
		V[0] + R[0][0] * x + R[0][1] * y,
		V[1] + R[1][0] * x + R[1][1] * y
            ]);
            break;
	case 3:
            if (!obj.direction) { return null; }
            var C = obj.pointClosestTo(this).elements;
            if (!R) { R = Matrix.Rotation(t, obj.direction).elements; }
            x = this.elements[0] - C[0];
            y = this.elements[1] - C[1];
            z = this.elements[2] - C[2];
            return Vector.create([
		C[0] + R[0][0] * x + R[0][1] * y + R[0][2] * z,
		C[1] + R[1][0] * x + R[1][1] * y + R[1][2] * z,
		C[2] + R[2][0] * x + R[2][1] * y + R[2][2] * z
            ]);
            break;
	default:
            return null;
	}
    },

    // Returns the result of reflecting the point in the given point, line or plane
    reflectionIn: function(obj) {
	if (obj.anchor) {
	    // obj is a plane or line
	    var P = this.elements.slice();
	    var C = obj.pointClosestTo(P).elements;
	    return Vector.create([C[0] + (C[0] - P[0]), C[1] + (C[1] - P[1]), C[2] + (C[2] - (P[2] || 0))]);
	} else {
	    // obj is a point
	    var Q = obj.elements || obj;
	    if (this.elements.length != Q.length) { return null; }
	    return this.map(function(x, i) { return Q[i - 1] + (Q[i - 1] - x); });
	}
    },

    // Utility to make sure vectors are 3D. If they are 2D, a zero z-component is added
    to3D: function() {
	var V = this.dup();
	switch (V.elements.length) {
	case 3: break;
	case 2: V.elements.push(0); break;
	default: return null;
	}
	return V;
    },

    // Returns a string representation of the vector
    inspect: function() {
	return '[' + this.elements.join(', ') + ']';
    },

    // Set vector's elements from an array
    setElements: function(els) {
	this.elements = (els.elements || els).slice();
	return this;
    }
};

// Constructor function
Vector.create = function(elements) {
    var V = new Vector();
    return V.setElements(elements);
};

// i, j, k unit vectors
Vector.i = Vector.create([1, 0, 0]);
Vector.j = Vector.create([0, 1, 0]);
Vector.k = Vector.create([0, 0, 1]);

// Random vector of size n
Vector.Random = function(n) {
    var elements = [];
    while (n--) { elements.push(Math.random()); }
    return Vector.create(elements);
};

Vector.Fill = function(n, v) {
    var elements = [];
    while (n--) { elements.push(v); }
    return Vector.create(elements);
};

// Vector filled with zeros
Vector.Zero = function(n) {
    return Vector.Fill(n, 0);
};

Vector.One = function(n) {
    return Vector.Fill(n, 1);
};

Vector.log = function(v) {
    return v.map(function(x) {
	return Math.log(x);
    });
};

module.exports = Vector;


/***/ }),

/***/ "./src/app/Attribute.ts":
/*!******************************!*\
  !*** ./src/app/Attribute.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Attribute = void 0;
exports.Attribute = {
    COMMAND: 'data-command',
    FULL_NAME: 'data-full-name',
    NAME: 'data-name',
    PID: 'data-pid',
    UDID: 'data-udid',
    URL: 'data-url',
    USE_PROXY: 'data-use-proxy',
    SECURE: 'data-secure',
    HOSTNAME: 'data-hostname',
    PORT: 'data-port',
    PATHNAME: 'data-pathname',
    VALUE: 'data-value',
};


/***/ }),

/***/ "./src/app/DisplayInfo.ts":
/*!********************************!*\
  !*** ./src/app/DisplayInfo.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DisplayInfo = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Size */ "./src/app/Size.ts"));
var DisplayInfo = (function () {
    function DisplayInfo(displayId, size, rotation, layerStack, flags) {
        this.displayId = displayId;
        this.size = size;
        this.rotation = rotation;
        this.layerStack = layerStack;
        this.flags = flags;
    }
    DisplayInfo.prototype.toBuffer = function () {
        var temp = Buffer.alloc(DisplayInfo.BUFFER_LENGTH);
        var offset = 0;
        offset = temp.writeInt32BE(this.displayId, offset);
        offset = temp.writeInt32BE(this.size.width, offset);
        offset = temp.writeInt32BE(this.size.height, offset);
        offset = temp.writeInt32BE(this.rotation, offset);
        offset = temp.writeInt32BE(this.layerStack, offset);
        console.log("toBuffer.this.size", this.size);
        temp.writeInt32BE(this.flags, offset);
        return temp;
    };
    DisplayInfo.prototype.toString = function () {
        return "DisplayInfo{displayId=".concat(this.displayId, ", size=").concat(this.size, ", rotation=").concat(this.rotation, ", layerStack=").concat(this.layerStack, ", flags=").concat(this.flags, "}");
    };
    DisplayInfo.fromBuffer = function (buffer) {
        if (buffer.length !== DisplayInfo.BUFFER_LENGTH) {
            throw Error("Incorrect buffer length. Expected: ".concat(DisplayInfo.BUFFER_LENGTH, ", received: ").concat(buffer.length));
        }
        var offset = 0;
        var displayId = buffer.readInt32BE(offset);
        offset += 4;
        var width = buffer.readInt32BE(offset);
        offset += 4;
        var height = buffer.readInt32BE(offset);
        offset += 4;
        var rotation = buffer.readInt32BE(offset);
        offset += 4;
        var layerStack = buffer.readInt32BE(offset);
        offset += 4;
        var flags = buffer.readInt32BE(offset);
        console.log("fromBuffer.width", width);
        console.log("fromBuffer.height", height);
        return new DisplayInfo(displayId, new Size_1.default(width, height), rotation, layerStack, flags);
    };
    DisplayInfo.DEFAULT_DISPLAY = 0x00000000;
    DisplayInfo.FLAG_ROUND = 16;
    DisplayInfo.FLAG_PRESENTATION = 8;
    DisplayInfo.FLAG_PRIVATE = 4;
    DisplayInfo.FLAG_SECURE = 2;
    DisplayInfo.FLAG_SUPPORTS_PROTECTED_BUFFERS = 1;
    DisplayInfo.INVALID_DISPLAY = -1;
    DisplayInfo.BUFFER_LENGTH = 24;
    return DisplayInfo;
}());
exports.DisplayInfo = DisplayInfo;


/***/ }),

/***/ "./src/app/MotionEvent.ts":
/*!********************************!*\
  !*** ./src/app/MotionEvent.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var MotionEvent = (function () {
    function MotionEvent() {
    }
    MotionEvent.ACTION_DOWN = 0;
    MotionEvent.ACTION_UP = 1;
    MotionEvent.ACTION_MOVE = 2;
    MotionEvent.BUTTON_PRIMARY = 1 << 0;
    MotionEvent.BUTTON_SECONDARY = 1 << 1;
    MotionEvent.BUTTON_TERTIARY = 1 << 2;
    return MotionEvent;
}());
exports["default"] = MotionEvent;


/***/ }),

/***/ "./src/app/Point.ts":
/*!**************************!*\
  !*** ./src/app/Point.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Point = (function () {
    function Point(x, y) {
        this.x = Math.round(x);
        this.y = Math.round(y);
    }
    Point.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (o === null) {
            return false;
        }
        return this.x === o.x && this.y === o.y;
    };
    Point.prototype.distance = function (to) {
        var x = this.x - to.x;
        var y = this.y - to.y;
        return Math.sqrt(x * x + y * y);
    };
    Point.prototype.toString = function () {
        return "Point{x=".concat(this.x, ", y=").concat(this.y, "}");
    };
    Point.prototype.toJSON = function () {
        return {
            x: this.x,
            y: this.y,
        };
    };
    return Point;
}());
exports["default"] = Point;


/***/ }),

/***/ "./src/app/Position.ts":
/*!*****************************!*\
  !*** ./src/app/Position.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Point_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Point */ "./src/app/Point.ts"));
var Position = (function () {
    function Position(point, screenSize) {
        this.point = point;
        this.screenSize = screenSize;
    }
    Position.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (o === null) {
            return false;
        }
        return this.point.equals(o.point) && this.screenSize.equals(o.screenSize);
    };
    Position.prototype.rotate = function (rotation) {
        switch (rotation) {
            case 1:
                return new Position(new Point_1.default(this.screenSize.height - this.point.y, this.point.x), this.screenSize.rotate());
            case 2:
                return new Position(new Point_1.default(this.screenSize.width - this.point.x, this.screenSize.height - this.point.y), this.screenSize);
            case 3:
                return new Position(new Point_1.default(this.point.y, this.screenSize.width - this.point.x), this.screenSize.rotate());
            default:
                return this;
        }
    };
    Position.prototype.toString = function () {
        return "Position{point=".concat(this.point, ", screenSize=").concat(this.screenSize, "}");
    };
    Position.prototype.toJSON = function () {
        return {
            point: this.point.toJSON(),
            screenSize: this.screenSize.toJSON(),
        };
    };
    return Position;
}());
exports["default"] = Position;


/***/ }),

/***/ "./src/app/Rect.ts":
/*!*************************!*\
  !*** ./src/app/Rect.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Rect = (function () {
    function Rect(left, top, right, bottom) {
        this.left = left;
        this.top = top;
        this.right = right;
        this.bottom = bottom;
        this.left = left;
        this.top = top;
        this.right = right;
        this.bottom = bottom;
    }
    Rect.equals = function (a, b) {
        if (!a && !b) {
            return true;
        }
        return !!a && !!b && a.equals(b);
    };
    Rect.copy = function (a) {
        if (!a) {
            return null;
        }
        return new Rect(a.left, a.top, a.right, a.bottom);
    };
    Rect.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (!o) {
            return false;
        }
        return this.left === o.left && this.top === o.top && this.right === o.right && this.bottom === o.bottom;
    };
    Rect.prototype.getWidth = function () {
        return this.right - this.left;
    };
    Rect.prototype.getHeight = function () {
        return this.bottom - this.top;
    };
    Rect.prototype.toString = function () {
        return "Rect{left=".concat(this.left, ", top=").concat(this.top, ", right=").concat(this.right, ", bottom=").concat(this.bottom, "}");
    };
    Rect.prototype.toJSON = function () {
        return {
            left: this.left,
            right: this.right,
            top: this.top,
            bottom: this.bottom,
        };
    };
    return Rect;
}());
exports["default"] = Rect;


/***/ }),

/***/ "./src/app/ScreenInfo.ts":
/*!*******************************!*\
  !*** ./src/app/ScreenInfo.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Rect */ "./src/app/Rect.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Size */ "./src/app/Size.ts"));
var ScreenInfo = (function () {
    function ScreenInfo(contentRect, videoSize, deviceRotation) {
        this.contentRect = contentRect;
        this.videoSize = videoSize;
        this.deviceRotation = deviceRotation;
    }
    ScreenInfo.fromBuffer = function (buffer) {
        var left = buffer.readInt32BE(0);
        var top = buffer.readInt32BE(4);
        var right = buffer.readInt32BE(8);
        var bottom = buffer.readInt32BE(12);
        var width = buffer.readInt32BE(16);
        var height = buffer.readInt32BE(20);
        var deviceRotation = buffer.readUInt8(24);
        return new ScreenInfo(new Rect_1.default(left, top, right, bottom), new Size_1.default(width, height), deviceRotation);
    };
    ScreenInfo.prototype.equals = function (o) {
        if (!o) {
            return false;
        }
        return (this.contentRect.equals(o.contentRect) &&
            this.videoSize.equals(o.videoSize) &&
            this.deviceRotation === o.deviceRotation);
    };
    ScreenInfo.prototype.toString = function () {
        return "ScreenInfo{contentRect=".concat(this.contentRect, ", videoSize=").concat(this.videoSize, ", deviceRotation=").concat(this.deviceRotation, "}");
    };
    ScreenInfo.BUFFER_LENGTH = 25;
    return ScreenInfo;
}());
exports["default"] = ScreenInfo;


/***/ }),

/***/ "./src/app/Size.ts":
/*!*************************!*\
  !*** ./src/app/Size.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Size = (function () {
    function Size(width, height) {
        this.width = width;
        this.height = height;
        this.w = width;
        this.h = height;
    }
    Size.equals = function (a, b) {
        if (!a && !b) {
            return true;
        }
        return !!a && !!b && a.equals(b);
    };
    Size.copy = function (a) {
        if (!a) {
            return null;
        }
        return new Size(a.width, a.height);
    };
    Size.prototype.length = function () {
        return this.w * this.h;
    };
    Size.prototype.rotate = function () {
        return new Size(this.height, this.width);
    };
    Size.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (!o) {
            return false;
        }
        return this.width === o.width && this.height === o.height;
    };
    Size.prototype.intersect = function (o) {
        if (!o) {
            return this;
        }
        var minH = Math.min(this.height, o.height);
        var minW = Math.min(this.width, o.width);
        return new Size(minW, minH);
    };
    Size.prototype.getHalfSize = function () {
        return new Size(this.width >>> 1, this.height >>> 1);
    };
    Size.prototype.toString = function () {
        return "Size{width=".concat(this.width, ", height=").concat(this.height, "}");
    };
    Size.prototype.toJSON = function () {
        return {
            width: this.width,
            height: this.height,
        };
    };
    return Size;
}());
exports["default"] = Size;


/***/ }),

/***/ "./src/app/UIEventsCode.ts":
/*!*********************************!*\
  !*** ./src/app/UIEventsCode.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var UIEventsCode = (function () {
    function UIEventsCode() {
    }
    UIEventsCode.Backquote = 'Backquote';
    UIEventsCode.Backslash = 'Backslash';
    UIEventsCode.BracketLeft = 'BracketLeft';
    UIEventsCode.BracketRight = 'BracketRight';
    UIEventsCode.Comma = 'Comma';
    UIEventsCode.Digit0 = 'Digit0';
    UIEventsCode.Digit1 = 'Digit1';
    UIEventsCode.Digit2 = 'Digit2';
    UIEventsCode.Digit3 = 'Digit3';
    UIEventsCode.Digit4 = 'Digit4';
    UIEventsCode.Digit5 = 'Digit5';
    UIEventsCode.Digit6 = 'Digit6';
    UIEventsCode.Digit7 = 'Digit7';
    UIEventsCode.Digit8 = 'Digit8';
    UIEventsCode.Digit9 = 'Digit9';
    UIEventsCode.Equal = 'Equal';
    UIEventsCode.IntlBackslash = 'IntlBackslash';
    UIEventsCode.IntlRo = 'IntlRo';
    UIEventsCode.IntlYen = 'IntlYen';
    UIEventsCode.KeyA = 'KeyA';
    UIEventsCode.KeyB = 'KeyB';
    UIEventsCode.KeyC = 'KeyC';
    UIEventsCode.KeyD = 'KeyD';
    UIEventsCode.KeyE = 'KeyE';
    UIEventsCode.KeyF = 'KeyF';
    UIEventsCode.KeyG = 'KeyG';
    UIEventsCode.KeyH = 'KeyH';
    UIEventsCode.KeyI = 'KeyI';
    UIEventsCode.KeyJ = 'KeyJ';
    UIEventsCode.KeyK = 'KeyK';
    UIEventsCode.KeyL = 'KeyL';
    UIEventsCode.KeyM = 'KeyM';
    UIEventsCode.KeyN = 'KeyN';
    UIEventsCode.KeyO = 'KeyO';
    UIEventsCode.KeyP = 'KeyP';
    UIEventsCode.KeyQ = 'KeyQ';
    UIEventsCode.KeyR = 'KeyR';
    UIEventsCode.KeyS = 'KeyS';
    UIEventsCode.KeyT = 'KeyT';
    UIEventsCode.KeyU = 'KeyU';
    UIEventsCode.KeyV = 'KeyV';
    UIEventsCode.KeyW = 'KeyW';
    UIEventsCode.KeyX = 'KeyX';
    UIEventsCode.KeyY = 'KeyY';
    UIEventsCode.KeyZ = 'KeyZ';
    UIEventsCode.Minus = 'Minus';
    UIEventsCode.Period = 'Period';
    UIEventsCode.Quote = 'Quote';
    UIEventsCode.Semicolon = 'Semicolon';
    UIEventsCode.Slash = 'Slash';
    UIEventsCode.AltLeft = 'AltLeft';
    UIEventsCode.AltRight = 'AltRight';
    UIEventsCode.Backspace = 'Backspace';
    UIEventsCode.CapsLock = 'CapsLock';
    UIEventsCode.ContextMenu = 'ContextMenu';
    UIEventsCode.ControlLeft = 'ControlLeft';
    UIEventsCode.ControlRight = 'ControlRight';
    UIEventsCode.Enter = 'Enter';
    UIEventsCode.MetaLeft = 'MetaLeft';
    UIEventsCode.MetaRight = 'MetaRight';
    UIEventsCode.ShiftLeft = 'ShiftLeft';
    UIEventsCode.ShiftRight = 'ShiftRight';
    UIEventsCode.Space = 'Space';
    UIEventsCode.Tab = 'Tab';
    UIEventsCode.Convert = 'Convert';
    UIEventsCode.KanaMode = 'KanaMode';
    UIEventsCode.Lang1 = 'Lang1';
    UIEventsCode.Lang2 = 'Lang2';
    UIEventsCode.Lang3 = 'Lang3';
    UIEventsCode.Lang4 = 'Lang4';
    UIEventsCode.Lang5 = 'Lang5';
    UIEventsCode.NonConvert = 'NonConvert';
    UIEventsCode.Delete = 'Delete';
    UIEventsCode.End = 'End';
    UIEventsCode.Help = 'Help';
    UIEventsCode.Home = 'Home';
    UIEventsCode.Insert = 'Insert';
    UIEventsCode.PageDown = 'PageDown';
    UIEventsCode.PageUp = 'PageUp';
    UIEventsCode.ArrowDown = 'ArrowDown';
    UIEventsCode.ArrowLeft = 'ArrowLeft';
    UIEventsCode.ArrowRight = 'ArrowRight';
    UIEventsCode.ArrowUp = 'ArrowUp';
    UIEventsCode.NumLock = 'NumLock';
    UIEventsCode.Numpad0 = 'Numpad0';
    UIEventsCode.Numpad1 = 'Numpad1';
    UIEventsCode.Numpad2 = 'Numpad2';
    UIEventsCode.Numpad3 = 'Numpad3';
    UIEventsCode.Numpad4 = 'Numpad4';
    UIEventsCode.Numpad5 = 'Numpad5';
    UIEventsCode.Numpad6 = 'Numpad6';
    UIEventsCode.Numpad7 = 'Numpad7';
    UIEventsCode.Numpad8 = 'Numpad8';
    UIEventsCode.Numpad9 = 'Numpad9';
    UIEventsCode.NumpadAdd = 'NumpadAdd';
    UIEventsCode.NumpadBackspace = 'NumpadBackspace';
    UIEventsCode.NumpadClear = 'NumpadClear';
    UIEventsCode.NumpadClearEntry = 'NumpadClearEntry';
    UIEventsCode.NumpadComma = 'NumpadComma';
    UIEventsCode.NumpadDecimal = 'NumpadDecimal';
    UIEventsCode.NumpadDivide = 'NumpadDivide';
    UIEventsCode.NumpadEnter = 'NumpadEnter';
    UIEventsCode.NumpadEqual = 'NumpadEqual';
    UIEventsCode.NumpadHash = 'NumpadHash';
    UIEventsCode.NumpadMemoryAdd = 'NumpadMemoryAdd';
    UIEventsCode.NumpadMemoryClear = 'NumpadMemoryClear';
    UIEventsCode.NumpadMemoryRecall = 'NumpadMemoryRecall';
    UIEventsCode.NumpadMemoryStore = 'NumpadMemoryStore';
    UIEventsCode.NumpadMemorySubtract = 'NumpadMemorySubtract';
    UIEventsCode.NumpadMultiply = 'NumpadMultiply';
    UIEventsCode.NumpadParenLeft = 'NumpadParenLeft';
    UIEventsCode.NumpadParenRight = 'NumpadParenRight';
    UIEventsCode.NumpadStar = 'NumpadStar';
    UIEventsCode.NumpadSubtract = 'NumpadSubtract';
    UIEventsCode.Escape = 'Escape';
    UIEventsCode.F1 = 'F1';
    UIEventsCode.F2 = 'F2';
    UIEventsCode.F3 = 'F3';
    UIEventsCode.F4 = 'F4';
    UIEventsCode.F5 = 'F5';
    UIEventsCode.F6 = 'F6';
    UIEventsCode.F7 = 'F7';
    UIEventsCode.F8 = 'F8';
    UIEventsCode.F9 = 'F9';
    UIEventsCode.F10 = 'F10';
    UIEventsCode.F11 = 'F11';
    UIEventsCode.F12 = 'F12';
    UIEventsCode.Fn = 'Fn';
    UIEventsCode.FnLock = 'FnLock';
    UIEventsCode.PrintScreen = 'PrintScreen';
    UIEventsCode.ScrollLock = 'ScrollLock';
    UIEventsCode.Pause = 'Pause';
    UIEventsCode.BrowserBack = 'BrowserBack';
    UIEventsCode.BrowserFavorites = 'BrowserFavorites';
    UIEventsCode.BrowserForward = 'BrowserForward';
    UIEventsCode.BrowserHome = 'BrowserHome';
    UIEventsCode.BrowserRefresh = 'BrowserRefresh';
    UIEventsCode.BrowserSearch = 'BrowserSearch';
    UIEventsCode.BrowserStop = 'BrowserStop';
    UIEventsCode.Eject = 'Eject';
    UIEventsCode.LaunchApp1 = 'LaunchApp1';
    UIEventsCode.LaunchApp2 = 'LaunchApp2';
    UIEventsCode.LaunchMail = 'LaunchMail';
    UIEventsCode.MediaPlayPause = 'MediaPlayPause';
    UIEventsCode.MediaSelect = 'MediaSelect';
    UIEventsCode.MediaStop = 'MediaStop';
    UIEventsCode.MediaTrackNext = 'MediaTrackNext';
    UIEventsCode.MediaTrackPrevious = 'MediaTrackPrevious';
    UIEventsCode.Power = 'Power';
    UIEventsCode.Sleep = 'Sleep';
    UIEventsCode.AudioVolumeDown = 'AudioVolumeDown';
    UIEventsCode.AudioVolumeMute = 'AudioVolumeMute';
    UIEventsCode.AudioVolumeUp = 'AudioVolumeUp';
    UIEventsCode.WakeUp = 'WakeUp';
    UIEventsCode.Hyper = 'Hyper';
    UIEventsCode.Super = 'Super';
    UIEventsCode.Turbo = 'Turbo';
    UIEventsCode.Abort = 'Abort';
    UIEventsCode.Resume = 'Resume';
    UIEventsCode.Suspend = 'Suspend';
    UIEventsCode.Again = 'Again';
    UIEventsCode.Copy = 'Copy';
    UIEventsCode.Cut = 'Cut';
    UIEventsCode.Find = 'Find';
    UIEventsCode.Open = 'Open';
    UIEventsCode.Paste = 'Paste';
    UIEventsCode.Props = 'Props';
    UIEventsCode.Select = 'Select';
    UIEventsCode.Undo = 'Undo';
    UIEventsCode.Hiragana = 'Hiragana';
    UIEventsCode.Katakana = 'Katakana';
    UIEventsCode.Unidentified = 'Unidentified';
    return UIEventsCode;
}());
exports["default"] = UIEventsCode;


/***/ }),

/***/ "./src/app/Util.ts":
/*!*************************!*\
  !*** ./src/app/Util.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Util = (function () {
    function Util() {
    }
    Util.filterTrailingZeroes = function (bytes) {
        var b = 0;
        return bytes
            .reverse()
            .filter(function (i) { return b || (b = i); })
            .reverse();
    };
    Util.prettyBytes = function (value) {
        var suffix = 0;
        while (value >= 512) {
            suffix++;
            value /= 1024;
        }
        return "".concat(value.toFixed(suffix ? 1 : 0)).concat(Util.SUFFIX[suffix]);
    };
    Util.escapeUdid = function (udid) {
        return 'udid_' + udid.replace(/[. :]/g, '_');
    };
    Util.parse = function (params, name, required) {
        var value = params.get(name);
        if (required && value === null) {
            throw TypeError("Missing required parameter \"".concat(name, "\""));
        }
        return value;
    };
    Util.parseString = function (params, name, required) {
        var value = params.get(name);
        if (required && value === null) {
            throw TypeError("Missing required parameter \"".concat(name, "\""));
        }
        return value || '';
    };
    Util.parseBoolean = function (params, name, required) {
        var value = this.parse(params, name, required);
        return value === '1' || (!!value && value.toString() === 'true');
    };
    Util.parseInt = function (params, name, required) {
        var value = this.parse(params, name, required);
        if (value === null) {
            return 0;
        }
        var int = parseInt(value, 10);
        if (isNaN(int)) {
            return 0;
        }
        return int;
    };
    Util.parseBooleanEnv = function (input) {
        if (typeof input === 'boolean') {
            return input;
        }
        if (typeof input === 'undefined' || input === null) {
            return undefined;
        }
        if (Array.isArray(input)) {
            input = input[input.length - 1];
        }
        return input === '1' || input.toLowerCase() === 'true';
    };
    Util.parseStringEnv = function (input) {
        if (typeof input === 'undefined' || input === null) {
            return undefined;
        }
        if (Array.isArray(input)) {
            input = input[input.length - 1];
        }
        return input;
    };
    Util.parseIntEnv = function (input) {
        if (typeof input === 'number') {
            return input;
        }
        if (typeof input === 'undefined' || input === null) {
            return undefined;
        }
        if (Array.isArray(input)) {
            input = input[input.length - 1];
        }
        var int = parseInt(input, 10);
        if (isNaN(int)) {
            return undefined;
        }
        return int;
    };
    Util.utf8ByteArrayToString = function (bytes) {
        var out = [], pos = 0, c = 0;
        while (pos < bytes.length) {
            var c1 = bytes[pos++];
            if (c1 < 128) {
                out[c++] = String.fromCharCode(c1);
            }
            else if (c1 > 191 && c1 < 224) {
                var c2 = bytes[pos++];
                out[c++] = String.fromCharCode((c1 & 31) << 6 | c2 & 63);
            }
            else if (c1 > 239 && c1 < 365) {
                var c2 = bytes[pos++];
                var c3 = bytes[pos++];
                var c4 = bytes[pos++];
                var u = ((c1 & 7) << 18 | (c2 & 63) << 12 | (c3 & 63) << 6 | c4 & 63) -
                    0x10000;
                out[c++] = String.fromCharCode(0xD800 + (u >> 10));
                out[c++] = String.fromCharCode(0xDC00 + (u & 1023));
            }
            else {
                var c2 = bytes[pos++];
                var c3 = bytes[pos++];
                out[c++] =
                    String.fromCharCode((c1 & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
            }
        }
        return out.join('');
    };
    ;
    Util.supportsPassive = function () {
        if (typeof Util.supportsPassiveValue === 'boolean') {
            return Util.supportsPassiveValue;
        }
        var supportsPassive = false;
        try {
            var opts = Object.defineProperty({}, 'passive', {
                get: function () {
                    supportsPassive = true;
                }
            });
            window.addEventListener('testPassive', null, opts);
            window.removeEventListener('testPassive', null, opts);
        }
        catch (error) { }
        return Util.supportsPassiveValue = supportsPassive;
    };
    Util.setImmediate = function (fn) {
        Promise.resolve().then(fn);
    };
    Util.SUFFIX = {
        0: 'B',
        1: 'KiB',
        2: 'MiB',
        3: 'GiB',
        4: 'TiB',
    };
    Util.stringToUtf8ByteArray = function (str) {
        var out = [], p = 0;
        for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            if (c < 128) {
                out[p++] = c;
            }
            else if (c < 2048) {
                out[p++] = (c >> 6) | 192;
                out[p++] = (c & 63) | 128;
            }
            else if (((c & 0xFC00) == 0xD800) && (i + 1) < str.length &&
                ((str.charCodeAt(i + 1) & 0xFC00) == 0xDC00)) {
                c = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);
                out[p++] = (c >> 18) | 240;
                out[p++] = ((c >> 12) & 63) | 128;
                out[p++] = ((c >> 6) & 63) | 128;
                out[p++] = (c & 63) | 128;
            }
            else {
                out[p++] = (c >> 12) | 224;
                out[p++] = ((c >> 6) & 63) | 128;
                out[p++] = (c & 63) | 128;
            }
        }
        return Uint8Array.from(out);
    };
    return Util;
}());
exports["default"] = Util;


/***/ }),

/***/ "./src/app/VideoSettings.ts":
/*!**********************************!*\
  !*** ./src/app/VideoSettings.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Rect */ "./src/app/Rect.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Size */ "./src/app/Size.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Util */ "./src/app/Util.ts"));
var VideoSettings = (function () {
    function VideoSettings(data, bytesLength) {
        if (bytesLength === void 0) { bytesLength = VideoSettings.BASE_BUFFER_LENGTH; }
        this.bytesLength = bytesLength;
        this.crop = null;
        this.bitrate = 0;
        this.bounds = null;
        this.maxFps = 0;
        this.iFrameInterval = 0;
        this.sendFrameMeta = false;
        this.lockedVideoOrientation = -1;
        this.displayId = 0;
        if (data) {
            this.crop = data.crop;
            this.bitrate = data.bitrate;
            this.bounds = data.bounds;
            this.maxFps = data.maxFps;
            this.iFrameInterval = data.iFrameInterval;
            this.sendFrameMeta = data.sendFrameMeta || false;
            this.lockedVideoOrientation = data.lockedVideoOrientation || -1;
            if (typeof data.displayId === 'number' && !isNaN(data.displayId) && data.displayId >= 0) {
                this.displayId = data.displayId;
            }
            if (data.codecOptions) {
                this.codecOptions = data.codecOptions.trim();
            }
            if (data.encoderName) {
                this.encoderName = data.encoderName.trim();
            }
        }
    }
    VideoSettings.fromBuffer = function (buffer) {
        var offset = 0;
        var bitrate = buffer.readInt32BE(offset);
        offset += 4;
        var maxFps = 24;
        offset += 4;
        var iFrameInterval = buffer.readInt8(offset);
        offset += 1;
        var width = buffer.readInt16BE(offset);
        offset += 2;
        var height = buffer.readInt16BE(offset);
        offset += 2;
        var left = buffer.readInt16BE(offset);
        offset += 2;
        var top = buffer.readInt16BE(offset);
        offset += 2;
        var right = buffer.readInt16BE(offset);
        offset += 2;
        var bottom = buffer.readInt16BE(offset);
        offset += 2;
        var sendFrameMeta = !!buffer.readInt8(offset);
        offset += 1;
        var lockedVideoOrientation = buffer.readInt8(offset);
        offset += 1;
        var displayId = buffer.readInt32BE(offset);
        offset += 4;
        var bounds = null;
        var crop = null;
        if (width !== 0 && height !== 0) {
            bounds = new Size_1.default(360, 806);
        }
        if (left || top || right || bottom) {
            crop = new Rect_1.default(left, top, right, bottom);
        }
        console.log("VideoSettings:fromBuffer width height", width, height);
        console.log("VideoSettings:fromBuffer bounds", bounds);
        var codecOptions;
        var encoderName;
        var codecOptionsLength = buffer.readInt32BE(offset);
        offset += 4;
        if (codecOptionsLength) {
            var codecOptionsBytes = buffer.slice(offset, offset + codecOptionsLength);
            offset += codecOptionsLength;
            codecOptions = Util_1.default.utf8ByteArrayToString(codecOptionsBytes);
        }
        var encoderNameLength = buffer.readInt32BE(offset);
        offset += 4;
        if (encoderNameLength) {
            var encoderNameBytes = buffer.slice(offset, offset + encoderNameLength);
            offset += encoderNameLength;
            encoderName = Util_1.default.utf8ByteArrayToString(encoderNameBytes);
        }
        return new VideoSettings({
            crop: crop,
            bitrate: bitrate,
            bounds: bounds,
            maxFps: maxFps,
            iFrameInterval: iFrameInterval,
            lockedVideoOrientation: lockedVideoOrientation,
            displayId: displayId,
            sendFrameMeta: sendFrameMeta,
            codecOptions: codecOptions,
            encoderName: encoderName,
        }, offset);
    };
    VideoSettings.copy = function (a) {
        return new VideoSettings({
            bitrate: a.bitrate,
            crop: Rect_1.default.copy(a.crop),
            bounds: Size_1.default.copy(a.bounds),
            maxFps: a.maxFps,
            iFrameInterval: a.iFrameInterval,
            lockedVideoOrientation: a.lockedVideoOrientation,
            displayId: a.displayId,
            sendFrameMeta: a.sendFrameMeta,
            codecOptions: a.codecOptions,
            encoderName: a.encoderName,
        }, a.bytesLength);
    };
    VideoSettings.prototype.equals = function (o) {
        if (!o) {
            return false;
        }
        return (this.encoderName === o.encoderName &&
            this.codecOptions === o.codecOptions &&
            Rect_1.default.equals(this.crop, o.crop) &&
            this.lockedVideoOrientation === o.lockedVideoOrientation &&
            this.displayId === o.displayId &&
            Size_1.default.equals(this.bounds, o.bounds) &&
            this.bitrate === o.bitrate &&
            this.maxFps === o.maxFps &&
            this.iFrameInterval === o.iFrameInterval);
    };
    VideoSettings.prototype.toBuffer = function () {
        var additionalLength = 0;
        var codecOptionsBytes;
        var encoderNameBytes;
        if (this.codecOptions) {
            codecOptionsBytes = Util_1.default.stringToUtf8ByteArray(this.codecOptions);
            additionalLength += codecOptionsBytes.length;
        }
        if (this.encoderName) {
            encoderNameBytes = Util_1.default.stringToUtf8ByteArray(this.encoderName);
            additionalLength += encoderNameBytes.length;
        }
        var buffer = Buffer.alloc(VideoSettings.BASE_BUFFER_LENGTH + additionalLength);
        var _a = this.bounds || {}, _b = _a.width, width = _b === void 0 ? 0 : _b, _c = _a.height, height = _c === void 0 ? 0 : _c;
        var _d = this.crop || {}, _e = _d.left, left = _e === void 0 ? 0 : _e, _f = _d.top, top = _f === void 0 ? 0 : _f, _g = _d.right, right = _g === void 0 ? 0 : _g, _h = _d.bottom, bottom = _h === void 0 ? 0 : _h;
        var offset = 0;
        offset = buffer.writeInt32BE(this.bitrate, offset);
        offset = buffer.writeInt32BE(this.maxFps, offset);
        offset = buffer.writeInt8(this.iFrameInterval, offset);
        offset = buffer.writeInt16BE(width, offset);
        offset = buffer.writeInt16BE(height, offset);
        offset = buffer.writeInt16BE(left, offset);
        offset = buffer.writeInt16BE(top, offset);
        offset = buffer.writeInt16BE(right, offset);
        offset = buffer.writeInt16BE(bottom, offset);
        offset = buffer.writeInt8(this.sendFrameMeta ? 1 : 0, offset);
        offset = buffer.writeInt8(this.lockedVideoOrientation, offset);
        offset = buffer.writeInt32BE(this.displayId, offset);
        console.log("VideoSettings.width", width);
        console.log("VideoSettings.height", height);
        if (codecOptionsBytes) {
            offset = buffer.writeInt32BE(codecOptionsBytes.length, offset);
            buffer.fill(codecOptionsBytes, offset);
            offset += codecOptionsBytes.length;
        }
        else {
            offset = buffer.writeInt32BE(0, offset);
        }
        if (encoderNameBytes) {
            offset = buffer.writeInt32BE(encoderNameBytes.length, offset);
            buffer.fill(encoderNameBytes, offset);
            offset += encoderNameBytes.length;
        }
        else {
            buffer.writeInt32BE(0, offset);
        }
        return buffer;
    };
    VideoSettings.prototype.toString = function () {
        return "VideoSettings{bitrate=".concat(this.bitrate, ", maxFps=").concat(this.maxFps, ", iFrameInterval=").concat(this.iFrameInterval, ", bounds=").concat(this.bounds, ", crop=").concat(this.crop, ", metaFrame=").concat(this.sendFrameMeta, ", lockedVideoOrientation=").concat(this.lockedVideoOrientation, ", displayId=").concat(this.displayId, ", codecOptions=").concat(this.codecOptions, ", encoderName=").concat(this.encoderName, "}");
    };
    VideoSettings.prototype.toJSON = function () {
        return {
            bitrate: this.bitrate,
            maxFps: this.maxFps,
            iFrameInterval: this.iFrameInterval,
            bounds: this.bounds,
            crop: this.crop,
            sendFrameMeta: this.sendFrameMeta,
            lockedVideoOrientation: this.lockedVideoOrientation,
            displayId: this.displayId,
            codecOptions: this.codecOptions,
            encoderName: this.encoderName,
        };
    };
    VideoSettings.BASE_BUFFER_LENGTH = 35;
    return VideoSettings;
}());
exports["default"] = VideoSettings;


/***/ }),

/***/ "./src/app/applDevice/client/DeviceTracker.ts":
/*!****************************************************!*\
  !*** ./src/app/applDevice/client/DeviceTracker.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DeviceTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var DeviceState_1 = __webpack_require__(/*! ../../../common/DeviceState */ "./src/common/DeviceState.ts");
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var DeviceTracker = (function (_super) {
    tslib_1.__extends(DeviceTracker, _super);
    function DeviceTracker(params, directUrl) {
        var _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({}, params), { action: DeviceTracker.ACTION }), directUrl) || this;
        _this.tableId = 'appl_devices_list';
        DeviceTracker.instancesByUrl.set(directUrl, _this);
        _this.buildDeviceTable();
        _this.openNewConnection();
        return _this;
    }
    DeviceTracker.start = function (hostItem) {
        var url = this.buildUrlForTracker(hostItem).toString();
        var instance = this.instancesByUrl.get(url);
        if (!instance) {
            instance = new DeviceTracker(hostItem, url);
        }
        return instance;
    };
    DeviceTracker.getInstance = function (hostItem) {
        return this.start(hostItem);
    };
    DeviceTracker.prototype.onSocketOpen = function () {
    };
    DeviceTracker.prototype.buildDeviceRow = function (tbody, device) {
        var _this = this;
        var blockClass = 'desc-block';
        var fullName = "".concat(this.id, "_").concat(Util_1.default.escapeUdid(device.udid));
        var isActive = device.state === DeviceState_1.DeviceState.CONNECTED;
        var servicesId = "device_services_".concat(fullName);
        var row = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">\"", "\"</div>\n                <div class=\"device-model\">", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"], ["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">\"", "\"</div>\n                <div class=\"device-model\">", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"])), isActive ? 'active' : 'not-active', device.name, device.model, device.udid, device.version, device.state, servicesId).content;
        var services = row.getElementById(servicesId);
        if (!services) {
            return;
        }
        DeviceTracker.tools.forEach(function (tool) {
            var entry = tool.createEntryForDeviceList(device, blockClass, _this.params);
            if (entry) {
                if (Array.isArray(entry)) {
                    entry.forEach(function (item) {
                        item && services.appendChild(item);
                    });
                }
                else {
                    services.appendChild(entry);
                }
            }
        });
        tbody.appendChild(row);
    };
    DeviceTracker.prototype.getChannelCode = function () {
        return ChannelCode_1.ChannelCode.ATRC;
    };
    DeviceTracker.ACTION = Action_1.ACTION.APPL_DEVICE_LIST;
    DeviceTracker.tools = new Set();
    DeviceTracker.instancesByUrl = new Map();
    return DeviceTracker;
}(BaseDeviceTracker_1.BaseDeviceTracker));
exports.DeviceTracker = DeviceTracker;
var templateObject_1;


/***/ }),

/***/ "./src/app/client/BaseClient.ts":
/*!**************************************!*\
  !*** ./src/app/client/BaseClient.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var TypedEmitter_1 = __webpack_require__(/*! ../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var BaseClient = (function (_super) {
    tslib_1.__extends(BaseClient, _super);
    function BaseClient(params) {
        var _this = _super.call(this) || this;
        _this.title = 'BaseClient';
        _this.params = params;
        return _this;
    }
    BaseClient.parseParameters = function (query) {
        var action = Util_1.default.parseStringEnv(query.get('action'));
        if (!action) {
            throw TypeError('Invalid action');
        }
        return {
            action: action,
            useProxy: Util_1.default.parseBooleanEnv(query.get('useProxy')),
            secure: Util_1.default.parseBooleanEnv(query.get('secure')),
            hostname: Util_1.default.parseStringEnv(query.get('hostname')),
            port: Util_1.default.parseIntEnv(query.get('port')),
            pathname: Util_1.default.parseStringEnv(query.get('pathname')),
        };
    };
    BaseClient.prototype.setTitle = function (text) {
        if (text === void 0) { text = this.title; }
        var titleTag = document.querySelector('head > title');
        if (!titleTag) {
            titleTag = document.createElement('title');
        }
        titleTag.innerText = text;
    };
    BaseClient.prototype.setBodyClass = function (text) {
        document.body.className = text;
    };
    return BaseClient;
}(TypedEmitter_1.TypedEmitter));
exports.BaseClient = BaseClient;


/***/ }),

/***/ "./src/app/client/BaseDeviceTracker.ts":
/*!*********************************************!*\
  !*** ./src/app/client/BaseDeviceTracker.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseDeviceTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ManagerClient_1 = __webpack_require__(/*! ./ManagerClient */ "./src/app/client/ManagerClient.ts");
var HtmlTag_1 = __webpack_require__(/*! ../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var TAG = '[BaseDeviceTracker]';
var BaseDeviceTracker = (function (_super) {
    tslib_1.__extends(BaseDeviceTracker, _super);
    function BaseDeviceTracker(params, directUrl) {
        var _this = _super.call(this, params) || this;
        _this.directUrl = directUrl;
        _this.title = 'Device list';
        _this.tableId = 'base_device_list';
        _this.descriptors = [];
        _this.trackerName = '';
        _this.id = '';
        _this.created = false;
        _this.messageId = 0;
        _this.elementId = "tracker_instance".concat(++BaseDeviceTracker.instanceId);
        _this.trackerName = "Unavailable. Host: ".concat(params.hostname, ", type: ").concat(params.type);
        _this.setBodyClass('list');
        _this.setTitle();
        return _this;
    }
    BaseDeviceTracker.registerTool = function (tool) {
        this.tools.add(tool);
    };
    BaseDeviceTracker.buildUrl = function (item) {
        var _a;
        var secure = item.secure, port = item.port, hostname = item.hostname;
        var pathname = (_a = item.pathname) !== null && _a !== void 0 ? _a : '/';
        var protocol = secure ? 'wss:' : 'ws:';
        var url = new URL("".concat(protocol, "//").concat(hostname).concat(pathname));
        if (port) {
            url.port = port.toString();
        }
        return url;
    };
    BaseDeviceTracker.buildUrlForTracker = function (params) {
        var wsUrl = this.buildUrl(params);
        wsUrl.searchParams.set('action', this.ACTION);
        return wsUrl;
    };
    BaseDeviceTracker.buildLink = function (q, text, params) {
        var _a;
        var hostname = params.hostname;
        var port = params.port;
        var pathname = (_a = params.pathname) !== null && _a !== void 0 ? _a : location.pathname;
        var protocol = params.secure ? 'https:' : 'http:';
        if (params.useProxy) {
            q.hostname = hostname;
            q.port = port;
            q.pathname = pathname;
            q.secure = params.secure;
            q.useProxy = true;
            protocol = location.protocol;
            hostname = location.hostname;
            port = location.port;
            pathname = location.pathname;
        }
        var hash = "#!".concat(new URLSearchParams(q).toString());
        var a = document.createElement('a');
        a.setAttribute('href', "".concat(protocol, "//").concat(hostname, ":").concat(port).concat(pathname).concat(hash));
        a.setAttribute('rel', 'noopener noreferrer');
        a.setAttribute('target', '_blank');
        a.classList.add("link-".concat(q.action));
        a.innerText = text;
        return a;
    };
    BaseDeviceTracker.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var type = Util_1.default.parseString(params, 'type', true);
        if (type !== 'android' && type !== 'ios') {
            throw Error('Incorrect type');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { type: type });
    };
    BaseDeviceTracker.prototype.getNextId = function () {
        return ++this.messageId;
    };
    BaseDeviceTracker.prototype.buildDeviceTable = function () {
        var _this = this;
        var data = this.descriptors;
        var devices = this.getOrCreateTableHolder();
        var tbody = this.getOrBuildTableBody(devices);
        var block = this.getOrCreateTrackerBlock(tbody, this.trackerName);
        data.forEach(function (item) {
            _this.buildDeviceRow(block, item);
        });
    };
    BaseDeviceTracker.prototype.setNameValue = function (parent, name) {
        if (!parent) {
            return;
        }
        var nameBlockId = "".concat(this.elementId, "_name");
        var nameEl = document.getElementById(nameBlockId);
        if (!nameEl) {
            nameEl = document.createElement('div');
            nameEl.id = nameBlockId;
            nameEl.className = 'tracker-name';
        }
        nameEl.innerText = name;
        parent.insertBefore(nameEl, parent.firstChild);
    };
    BaseDeviceTracker.prototype.getOrCreateTrackerBlock = function (parent, controlCenterName) {
        var el = document.getElementById(this.elementId);
        if (!el) {
            el = document.createElement('div');
            el.id = this.elementId;
            parent.appendChild(el);
            this.created = true;
        }
        else {
            while (el.children.length) {
                el.removeChild(el.children[0]);
            }
        }
        this.setNameValue(el, controlCenterName);
        return el;
    };
    BaseDeviceTracker.prototype.onSocketClose = function (event) {
        var _this = this;
        if (this.destroyed) {
            return;
        }
        console.log(TAG, "Connection closed: ".concat(event.reason));
        setTimeout(function () {
            _this.openNewConnection();
        }, 2000);
    };
    BaseDeviceTracker.prototype.onSocketMessage = function (event) {
        var message;
        try {
            message = JSON.parse(event.data);
        }
        catch (error) {
            console.error(TAG, error.message);
            console.log(TAG, error.data);
            return;
        }
        switch (message.type) {
            case BaseDeviceTracker.ACTION_LIST: {
                var event_1 = message.data;
                this.descriptors = event_1.list;
                this.setIdAndHostName(event_1.id, event_1.name);
                this.buildDeviceTable();
                break;
            }
            case BaseDeviceTracker.ACTION_DEVICE: {
                var event_2 = message.data;
                this.setIdAndHostName(event_2.id, event_2.name);
                this.updateDescriptor(event_2.device);
                this.buildDeviceTable();
                break;
            }
            default:
                console.log(TAG, "Unknown message type: ".concat(message.type));
        }
    };
    BaseDeviceTracker.prototype.setIdAndHostName = function (id, trackerName) {
        if (this.id === id && this.trackerName === trackerName) {
            return;
        }
        this.id = id;
        this.trackerName = trackerName;
        this.setNameValue(document.getElementById(this.elementId), trackerName);
    };
    BaseDeviceTracker.prototype.getOrCreateTableHolder = function () {
        var id = BaseDeviceTracker.HOLDER_ELEMENT_ID;
        var devices = document.getElementById(id);
        if (!devices) {
            devices = document.createElement('div');
            devices.id = id;
            devices.className = 'table-wrapper';
            document.body.appendChild(devices);
        }
        return devices;
    };
    BaseDeviceTracker.prototype.updateDescriptor = function (descriptor) {
        var idx = this.descriptors.findIndex(function (item) {
            return item.udid === descriptor.udid;
        });
        if (idx !== -1) {
            this.descriptors[idx] = descriptor;
        }
        else {
            this.descriptors.push(descriptor);
        }
    };
    BaseDeviceTracker.prototype.getOrBuildTableBody = function (parent) {
        var className = 'device-list';
        var tbody = document.querySelector("#".concat(BaseDeviceTracker.HOLDER_ELEMENT_ID, " #").concat(this.tableId, ".").concat(className));
        if (!tbody) {
            var fragment = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div id=\"", "\" class=\"", "\"></div>"], ["<div id=\"", "\" class=\"", "\"></div>"])), this.tableId, className).content;
            parent.appendChild(fragment);
            var last = parent.children.item(parent.children.length - 1);
            if (last) {
                tbody = last;
            }
        }
        return tbody;
    };
    BaseDeviceTracker.prototype.getDescriptorByUdid = function (udid) {
        if (!this.descriptors.length) {
            return;
        }
        return this.descriptors.find(function (descriptor) {
            return descriptor.udid === udid;
        });
    };
    BaseDeviceTracker.prototype.destroy = function () {
        _super.prototype.destroy.call(this);
        if (this.created) {
            var el = document.getElementById(this.elementId);
            if (el) {
                var parentElement = el.parentElement;
                el.remove();
                if (parentElement && !parentElement.children.length) {
                    parentElement.remove();
                }
            }
        }
        var holder = document.getElementById(BaseDeviceTracker.HOLDER_ELEMENT_ID);
        if (holder && !holder.children.length) {
            holder.remove();
        }
    };
    BaseDeviceTracker.prototype.supportMultiplexing = function () {
        return true;
    };
    BaseDeviceTracker.prototype.getChannelCode = function () {
        throw Error('Not implemented. Must override');
    };
    BaseDeviceTracker.prototype.getChannelInitData = function () {
        var code = this.getChannelCode();
        var buffer = Buffer.alloc(code.length);
        buffer.write(code, 'ascii');
        return buffer;
    };
    BaseDeviceTracker.ACTION_LIST = 'devicelist';
    BaseDeviceTracker.ACTION_DEVICE = 'device';
    BaseDeviceTracker.HOLDER_ELEMENT_ID = 'devices';
    BaseDeviceTracker.AttributePrefixInterfaceSelectFor = 'interface_select_for_';
    BaseDeviceTracker.AttributePlayerFullName = 'data-player-full-name';
    BaseDeviceTracker.AttributePlayerCodeName = 'data-player-code-name';
    BaseDeviceTracker.AttributePrefixPlayerFor = 'player_for_';
    BaseDeviceTracker.tools = new Set();
    BaseDeviceTracker.instanceId = 0;
    return BaseDeviceTracker;
}(ManagerClient_1.ManagerClient));
exports.BaseDeviceTracker = BaseDeviceTracker;
var templateObject_1;


/***/ }),

/***/ "./src/app/client/HostTracker.ts":
/*!***************************************!*\
  !*** ./src/app/client/HostTracker.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HostTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ManagerClient_1 = __webpack_require__(/*! ./ManagerClient */ "./src/app/client/ManagerClient.ts");
var HostTrackerMessage_1 = __webpack_require__(/*! ../../common/HostTrackerMessage */ "./src/common/HostTrackerMessage.ts");
var Action_1 = __webpack_require__(/*! ../../common/Action */ "./src/common/Action.ts");
var DeviceTracker_1 = __webpack_require__(/*! ../googDevice/client/DeviceTracker */ "./src/app/googDevice/client/DeviceTracker.ts");
var DeviceTracker_2 = __webpack_require__(/*! ../applDevice/client/DeviceTracker */ "./src/app/applDevice/client/DeviceTracker.ts");
var ChannelCode_1 = __webpack_require__(/*! ../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var TAG = '[HostTracker]';
var HostTracker = (function (_super) {
    tslib_1.__extends(HostTracker, _super);
    function HostTracker() {
        var _this = _super.call(this, { action: Action_1.ACTION.LIST_HOSTS }) || this;
        _this.trackers = [];
        _this.openNewConnection();
        if (_this.ws) {
            _this.ws.binaryType = 'arraybuffer';
        }
        return _this;
    }
    HostTracker.start = function () {
        this.getInstance();
    };
    HostTracker.getInstance = function () {
        if (!this.instance) {
            this.instance = new HostTracker();
        }
        return this.instance;
    };
    HostTracker.prototype.onSocketClose = function (ev) {
        console.log(TAG, 'WS closed');
        this.emit('disconnected', ev);
    };
    HostTracker.prototype.onSocketMessage = function (event) {
        var _this = this;
        var message;
        try {
            message = JSON.parse(event.data);
        }
        catch (error) {
            console.error(TAG, error.message);
            console.log(TAG, error.data);
            return;
        }
        switch (message.type) {
            case HostTrackerMessage_1.MessageType.ERROR: {
                var msg = message;
                console.error(TAG, msg.data);
                this.emit('error', msg.data);
                break;
            }
            case HostTrackerMessage_1.MessageType.HOSTS: {
                var msg = message;
                if (msg.data.local) {
                    msg.data.local.forEach(function (_a) {
                        var type = _a.type;
                        var secure = location.protocol === 'https:';
                        var port = location.port ? parseInt(location.port, 10) : secure ? 443 : 80;
                        var hostname = location.hostname, pathname = location.pathname;
                        if (type !== 'android' && type !== 'ios') {
                            console.warn(TAG, "Unsupported host type: \"".concat(type, "\""));
                            return;
                        }
                        var hostItem = { useProxy: false, secure: secure, port: port, hostname: hostname, pathname: pathname, type: type };
                        _this.startTracker(hostItem);
                    });
                }
                if (msg.data.remote) {
                    msg.data.remote.forEach(function (item) { return _this.startTracker(item); });
                }
                break;
            }
            default:
                console.log(TAG, "Unknown message type: ".concat(message.type));
        }
    };
    HostTracker.prototype.startTracker = function (hostItem) {
        switch (hostItem.type) {
            case 'android':
                this.trackers.push(DeviceTracker_1.DeviceTracker.start(hostItem));
                break;
            case 'ios':
                this.trackers.push(DeviceTracker_2.DeviceTracker.start(hostItem));
                break;
            default:
                console.warn(TAG, "Unsupported host type: \"".concat(hostItem.type, "\""));
        }
    };
    HostTracker.prototype.onSocketOpen = function () {
    };
    HostTracker.prototype.destroy = function () {
        _super.prototype.destroy.call(this);
        this.trackers.forEach(function (tracker) {
            tracker.destroy();
        });
        this.trackers.length = 0;
    };
    HostTracker.prototype.supportMultiplexing = function () {
        return true;
    };
    HostTracker.prototype.getChannelInitData = function () {
        var buffer = Buffer.alloc(4);
        buffer.write(ChannelCode_1.ChannelCode.HSTS, 'ascii');
        return buffer;
    };
    return HostTracker;
}(ManagerClient_1.ManagerClient));
exports.HostTracker = HostTracker;


/***/ }),

/***/ "./src/app/client/ManagerClient.ts":
/*!*****************************************!*\
  !*** ./src/app/client/ManagerClient.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ManagerClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseClient_1 = __webpack_require__(/*! ./BaseClient */ "./src/app/client/BaseClient.ts");
var Action_1 = __webpack_require__(/*! ../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var Multiplexer_1 = __webpack_require__(/*! ../../packages/multiplexer/Multiplexer */ "./src/packages/multiplexer/Multiplexer.ts");
var ManagerClient = (function (_super) {
    tslib_1.__extends(ManagerClient, _super);
    function ManagerClient(params) {
        var _this = _super.call(this, params) || this;
        _this.destroyed = false;
        _this.action = Util_1.default.parseStringEnv(params.action);
        _this.url = _this.buildWebSocketUrl();
        return _this;
    }
    ManagerClient.start = function () {
        var _rest = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            _rest[_i] = arguments[_i];
        }
        throw Error('Not implemented');
    };
    ManagerClient.prototype.hasConnection = function () {
        return !!(this.ws && this.ws.readyState === this.ws.OPEN);
    };
    ManagerClient.prototype.openNewConnection = function () {
        if (this.ws && this.ws.readyState === this.ws.OPEN) {
            this.ws.close();
            delete this.ws;
        }
        var url = this.url.toString();
        if (this.supportMultiplexing()) {
            var openedMultiplexer = ManagerClient.sockets.get(url);
            if (!openedMultiplexer) {
                var ws_1 = new WebSocket(url);
                ws_1.addEventListener('close', function () {
                    ManagerClient.sockets.delete(url);
                });
                var newMultiplexer_1 = Multiplexer_1.Multiplexer.wrap(ws_1);
                newMultiplexer_1.on('empty', function () {
                    newMultiplexer_1.close();
                });
                ManagerClient.sockets.set(url, newMultiplexer_1);
                openedMultiplexer = newMultiplexer_1;
            }
            var ws = openedMultiplexer.createChannel(this.getChannelInitData());
            ws.addEventListener('open', this.onSocketOpen.bind(this));
            ws.addEventListener('message', this.onSocketMessage.bind(this));
            ws.addEventListener('close', this.onSocketClose.bind(this));
            this.ws = ws;
        }
        else {
            var ws = new WebSocket(url);
            ws.addEventListener('open', this.onSocketOpen.bind(this));
            ws.addEventListener('message', this.onSocketMessage.bind(this));
            ws.addEventListener('close', this.onSocketClose.bind(this));
            this.ws = ws;
        }
        return this.ws;
    };
    ManagerClient.prototype.destroy = function () {
        if (this.destroyed) {
            console.error(new Error('Already disposed'));
            return;
        }
        this.destroyed = true;
        if (this.ws) {
            if (this.ws.readyState === this.ws.OPEN) {
                this.ws.close();
            }
        }
    };
    ManagerClient.prototype.buildWebSocketUrl = function () {
        var directUrl = this.buildDirectWebSocketUrl();
        if (this.params.useProxy && !this.supportMultiplexing()) {
            return this.wrapInProxy(directUrl);
        }
        return directUrl;
    };
    ManagerClient.prototype.buildDirectWebSocketUrl = function () {
        var _a;
        var _b = this.params, hostname = _b.hostname, port = _b.port, secure = _b.secure, action = _b.action;
        var pathname = (_a = this.params.pathname) !== null && _a !== void 0 ? _a : location.pathname;
        var urlString;
        if (typeof hostname === 'string' && typeof port === 'number') {
            var protocol = secure ? 'wss:' : 'ws:';
            urlString = "".concat(protocol, "//").concat(hostname, ":").concat(port).concat(pathname);
        }
        else {
            var protocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            urlString = "".concat(protocol).concat(location.host).concat(pathname);
        }
        var directUrl = new URL(urlString);
        if (this.supportMultiplexing()) {
            directUrl.searchParams.set('action', Action_1.ACTION.MULTIPLEX);
        }
        else {
            if (action) {
                directUrl.searchParams.set('action', action);
            }
        }
        return directUrl;
    };
    ManagerClient.prototype.wrapInProxy = function (directUrl) {
        var localProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
        var localUrl = new URL("".concat(localProtocol, "//").concat(location.host));
        localUrl.searchParams.set('action', Action_1.ACTION.PROXY_WS);
        localUrl.searchParams.set('ws', directUrl.toString());
        return localUrl;
    };
    ManagerClient.prototype.supportMultiplexing = function () {
        return false;
    };
    ManagerClient.prototype.getChannelInitData = function () {
        return Buffer.from(ManagerClient.CODE);
    };
    ManagerClient.ACTION = 'unknown';
    ManagerClient.CODE = 'NONE';
    ManagerClient.sockets = new Map();
    return ManagerClient;
}(BaseClient_1.BaseClient));
exports.ManagerClient = ManagerClient;


/***/ }),

/***/ "./src/app/client/StreamReceiver.ts":
/*!******************************************!*\
  !*** ./src/app/client/StreamReceiver.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamReceiver = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ManagerClient_1 = __webpack_require__(/*! ./ManagerClient */ "./src/app/client/ManagerClient.ts");
var DeviceMessage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../googDevice/DeviceMessage */ "./src/app/googDevice/DeviceMessage.ts"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var ScreenInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ScreenInfo */ "./src/app/ScreenInfo.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var DisplayInfo_1 = __webpack_require__(/*! ../DisplayInfo */ "./src/app/DisplayInfo.ts");
var DEVICE_NAME_FIELD_LENGTH = 64;
var MAGIC_BYTES_INITIAL = Util_1.default.stringToUtf8ByteArray('scrcpy_initial');
var TAG = '[StreamReceiver]';
var StreamReceiver = (function (_super) {
    tslib_1.__extends(StreamReceiver, _super);
    function StreamReceiver(params) {
        var _this = _super.call(this, params) || this;
        _this.events = [];
        _this.encodersSet = new Set();
        _this.clientId = -1;
        _this.deviceName = '';
        _this.displayInfoMap = new Map();
        _this.connectionCountMap = new Map();
        _this.screenInfoMap = new Map();
        _this.videoSettingsMap = new Map();
        _this.hasInitialInfo = false;
        _this.openNewConnection();
        if (_this.ws) {
            _this.ws.binaryType = 'arraybuffer';
        }
        return _this;
    }
    StreamReceiver.prototype.handleInitialInfo = function (data) {
        console.log("handleInitialInfo started");
        var offset = MAGIC_BYTES_INITIAL.length;
        var nameBytes = new Uint8Array(data, offset, DEVICE_NAME_FIELD_LENGTH);
        offset += DEVICE_NAME_FIELD_LENGTH;
        var rest = Buffer.from(new Uint8Array(data, offset));
        var displaysCount = rest.readInt32BE(0);
        this.displayInfoMap.clear();
        this.connectionCountMap.clear();
        this.screenInfoMap.clear();
        this.videoSettingsMap.clear();
        rest = rest.slice(4);
        for (var i = 0; i < displaysCount; i++) {
            var displayInfoBuffer = rest.slice(0, DisplayInfo_1.DisplayInfo.BUFFER_LENGTH);
            var displayInfo = DisplayInfo_1.DisplayInfo.fromBuffer(displayInfoBuffer);
            var displayId = displayInfo.displayId;
            this.displayInfoMap.set(displayId, displayInfo);
            rest = rest.slice(DisplayInfo_1.DisplayInfo.BUFFER_LENGTH);
            this.connectionCountMap.set(displayId, rest.readInt32BE(0));
            rest = rest.slice(4);
            var screenInfoBytesCount = rest.readInt32BE(0);
            rest = rest.slice(4);
            console.log("if screenInfoBytesCount");
            if (screenInfoBytesCount) {
                console.log("screenInfoBytesCount", screenInfoBytesCount);
                this.screenInfoMap.set(displayId, ScreenInfo_1.default.fromBuffer(rest.slice(0, screenInfoBytesCount)));
                rest = rest.slice(screenInfoBytesCount);
            }
            var videoSettingsBytesCount = rest.readInt32BE(0);
            rest = rest.slice(4);
            console.log("if videoSettingsBytesCount");
            if (videoSettingsBytesCount) {
                console.log("videoSettingsBytesCount", videoSettingsBytesCount);
                this.videoSettingsMap.set(displayId, VideoSettings_1.default.fromBuffer(rest.slice(0, videoSettingsBytesCount)));
                console.log("before of .fromBuffer ");
                rest = rest.slice(videoSettingsBytesCount);
            }
        }
        this.encodersSet.clear();
        var encodersCount = rest.readInt32BE(0);
        rest = rest.slice(4);
        for (var i = 0; i < encodersCount; i++) {
            var nameLength = rest.readInt32BE(0);
            rest = rest.slice(4);
            var nameBytes_1 = rest.slice(0, nameLength);
            rest = rest.slice(nameLength);
            var name_1 = Util_1.default.utf8ByteArrayToString(nameBytes_1);
            this.encodersSet.add(name_1);
        }
        this.clientId = rest.readInt32BE(0);
        nameBytes = Util_1.default.filterTrailingZeroes(nameBytes);
        this.deviceName = Util_1.default.utf8ByteArrayToString(nameBytes);
        this.hasInitialInfo = true;
        this.triggerInitialInfoEvents();
        console.log("handleInitialInfo ended");
    };
    StreamReceiver.EqualArrays = function (a, b) {
        if (a.length !== b.length) {
            return false;
        }
        for (var i = 0, l = a.length; i < l; i++) {
            if (a[i] !== b[i]) {
                return false;
            }
        }
        return true;
    };
    StreamReceiver.prototype.buildDirectWebSocketUrl = function () {
        var localUrl = _super.prototype.buildDirectWebSocketUrl.call(this);
        if (this.supportMultiplexing()) {
            return localUrl;
        }
        localUrl.searchParams.set('udid', this.params.udid);
        return localUrl;
    };
    StreamReceiver.prototype.onSocketClose = function (ev) {
        console.log("".concat(TAG, ". WS closed: ").concat(ev.reason));
        this.emit('disconnected', ev);
    };
    StreamReceiver.prototype.onSocketMessage = function (event) {
        if (event.data instanceof ArrayBuffer) {
            if (event.data.byteLength > MAGIC_BYTES_INITIAL.length) {
                var magicBytes = new Uint8Array(event.data, 0, MAGIC_BYTES_INITIAL.length);
                if (StreamReceiver.EqualArrays(magicBytes, MAGIC_BYTES_INITIAL)) {
                    this.handleInitialInfo(event.data);
                    return;
                }
                if (StreamReceiver.EqualArrays(magicBytes, DeviceMessage_1.default.MAGIC_BYTES_MESSAGE)) {
                    var message = DeviceMessage_1.default.fromBuffer(event.data);
                    this.emit('deviceMessage', message);
                    return;
                }
            }
            this.emit('video', new Uint8Array(event.data));
        }
    };
    StreamReceiver.prototype.onSocketOpen = function () {
        this.emit('connected', void 0);
        var e = this.events.shift();
        while (e) {
            this.sendEvent(e);
            e = this.events.shift();
        }
    };
    StreamReceiver.prototype.sendEvent = function (event) {
        if (this.ws && this.ws.readyState === this.ws.OPEN) {
            this.ws.send(event.toBuffer());
        }
        else {
            this.events.push(event);
        }
    };
    StreamReceiver.prototype.stop = function () {
        if (this.ws && this.ws.readyState === this.ws.OPEN) {
            this.ws.close();
        }
        this.events.length = 0;
    };
    StreamReceiver.prototype.getEncoders = function () {
        return Array.from(this.encodersSet.values());
    };
    StreamReceiver.prototype.getDeviceName = function () {
        return this.deviceName;
    };
    StreamReceiver.prototype.triggerInitialInfoEvents = function () {
        var _this = this;
        if (this.hasInitialInfo) {
            var encoders = this.getEncoders();
            this.emit('encoders', encoders);
            var _a = this, clientId = _a.clientId, deviceName = _a.deviceName;
            this.emit('clientsStats', { clientId: clientId, deviceName: deviceName });
            var infoArray_1 = [];
            console.log("triggerInitialInfoEvents.hasInitialInfo");
            this.displayInfoMap.forEach(function (displayInfo, displayId) {
                var connectionCount = _this.connectionCountMap.get(displayId) || 0;
                infoArray_1.push({
                    displayInfo: displayInfo,
                    videoSettings: _this.videoSettingsMap.get(displayId),
                    screenInfo: _this.screenInfoMap.get(displayId),
                    connectionCount: connectionCount,
                });
            });
            console.log("triggerInitialInfoEvents.infoArray", infoArray_1);
            this.emit('displayInfo', infoArray_1);
        }
    };
    StreamReceiver.prototype.getDisplayInfo = function (displayId) {
        return this.displayInfoMap.get(displayId);
    };
    return StreamReceiver;
}(ManagerClient_1.ManagerClient));
exports.StreamReceiver = StreamReceiver;


/***/ }),

/***/ "./src/app/controlMessage/CommandControlMessage.ts":
/*!*********************************************************!*\
  !*** ./src/app/controlMessage/CommandControlMessage.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommandControlMessage = exports.FilePushState = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var FilePushState;
(function (FilePushState) {
    FilePushState[FilePushState["NEW"] = 0] = "NEW";
    FilePushState[FilePushState["START"] = 1] = "START";
    FilePushState[FilePushState["APPEND"] = 2] = "APPEND";
    FilePushState[FilePushState["FINISH"] = 3] = "FINISH";
    FilePushState[FilePushState["CANCEL"] = 4] = "CANCEL";
})(FilePushState = exports.FilePushState || (exports.FilePushState = {}));
var CommandControlMessage = (function (_super) {
    tslib_1.__extends(CommandControlMessage, _super);
    function CommandControlMessage(type) {
        var _this = _super.call(this, type) || this;
        _this.type = type;
        return _this;
    }
    CommandControlMessage.createSetVideoSettingsCommand = function (videoSettings) {
        var temp = videoSettings.toBuffer();
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS);
        var offset = CommandControlMessage.PAYLOAD_LENGTH + 1;
        var buffer = Buffer.alloc(offset + temp.length);
        buffer.writeUInt8(event.type, 0);
        temp.forEach(function (byte, index) {
            buffer.writeUInt8(byte, index + offset);
        });
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createSetClipboardCommand = function (text, paste) {
        if (paste === void 0) { paste = false; }
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_SET_CLIPBOARD);
        var textBytes = text ? Util_1.default.stringToUtf8ByteArray(text) : null;
        var textLength = textBytes ? textBytes.length : 0;
        var offset = 0;
        var buffer = Buffer.alloc(1 + 1 + 4 + textLength);
        offset = buffer.writeInt8(event.type, offset);
        offset = buffer.writeInt8(paste ? 1 : 0, offset);
        offset = buffer.writeInt32BE(textLength, offset);
        if (textBytes) {
            textBytes.forEach(function (byte, index) {
                buffer.writeUInt8(byte, index + offset);
            });
        }
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createSetScreenPowerModeCommand = function (mode) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_SET_SCREEN_POWER_MODE);
        var offset = 0;
        var buffer = Buffer.alloc(1 + 1);
        offset = buffer.writeInt8(event.type, offset);
        buffer.writeUInt8(mode ? 1 : 0, offset);
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createPushFileCommand = function (params) {
        var id = params.id, fileName = params.fileName, fileSize = params.fileSize, chunk = params.chunk, state = params.state;
        if (state === FilePushState.START) {
            return this.createPushFileStartCommand(id, fileName, fileSize);
        }
        if (state === FilePushState.APPEND) {
            if (!chunk) {
                throw TypeError('Invalid type');
            }
            return this.createPushFileChunkCommand(id, chunk);
        }
        if (state === FilePushState.CANCEL || state === FilePushState.FINISH || state === FilePushState.NEW) {
            return this.createPushFileOtherCommand(id, state);
        }
        throw TypeError("Unsupported state: \"".concat(state, "\""));
    };
    CommandControlMessage.createPushFileStartCommand = function (id, fileName, fileSize) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_PUSH_FILE);
        var text = Util_1.default.stringToUtf8ByteArray(fileName);
        var typeField = 1;
        var idField = 2;
        var stateField = 1;
        var sizeField = 4;
        var textLengthField = 2;
        var textLength = text.length;
        var offset = CommandControlMessage.PAYLOAD_LENGTH;
        var buffer = Buffer.alloc(offset + typeField + idField + stateField + sizeField + textLengthField + textLength);
        buffer.writeUInt8(event.type, offset);
        offset += typeField;
        buffer.writeInt16BE(id, offset);
        offset += idField;
        buffer.writeInt8(FilePushState.START, offset);
        offset += stateField;
        buffer.writeUInt32BE(fileSize, offset);
        offset += sizeField;
        buffer.writeUInt16BE(textLength, offset);
        offset += textLengthField;
        text.forEach(function (byte, index) {
            buffer.writeUInt8(byte, index + offset);
        });
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createPushFileChunkCommand = function (id, chunk) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_PUSH_FILE);
        var typeField = 1;
        var idField = 2;
        var stateField = 1;
        var chunkLengthField = 4;
        var chunkLength = chunk.byteLength;
        var offset = CommandControlMessage.PAYLOAD_LENGTH;
        var buffer = Buffer.alloc(offset + typeField + idField + stateField + chunkLengthField + chunkLength);
        buffer.writeUInt8(event.type, offset);
        offset += typeField;
        buffer.writeInt16BE(id, offset);
        offset += idField;
        buffer.writeInt8(FilePushState.APPEND, offset);
        offset += stateField;
        buffer.writeUInt32BE(chunkLength, offset);
        offset += chunkLengthField;
        Array.from(chunk).forEach(function (byte, index) {
            buffer.writeUInt8(byte, index + offset);
        });
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createPushFileOtherCommand = function (id, state) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_PUSH_FILE);
        var typeField = 1;
        var idField = 2;
        var stateField = 1;
        var offset = CommandControlMessage.PAYLOAD_LENGTH;
        var buffer = Buffer.alloc(offset + typeField + idField + stateField);
        buffer.writeUInt8(event.type, offset);
        offset += typeField;
        buffer.writeInt16BE(id, offset);
        offset += idField;
        buffer.writeInt8(state, offset);
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.pushFileCommandFromBuffer = function (buffer) {
        var offset = 0;
        var type = buffer.readUInt8(offset);
        offset += 1;
        if (type !== CommandControlMessage.TYPE_PUSH_FILE) {
            throw TypeError("Incorrect type: \"".concat(type, "\""));
        }
        var id = buffer.readInt16BE(offset);
        offset += 2;
        var state = buffer.readInt8(offset);
        offset += 1;
        var chunk;
        var fileSize;
        var fileName;
        if (state === FilePushState.APPEND) {
            var chunkLength = buffer.readUInt32BE(offset);
            offset += 4;
            chunk = buffer.slice(offset, offset + chunkLength);
        }
        else if (state === FilePushState.START) {
            fileSize = buffer.readUInt32BE(offset);
            offset += 4;
            var textLength = buffer.readUInt16BE(offset);
            offset += 2;
            fileName = Util_1.default.utf8ByteArrayToString(buffer.slice(offset, offset + textLength));
        }
        return { id: id, state: state, chunk: chunk, fileName: fileName, fileSize: fileSize };
    };
    CommandControlMessage.prototype.toBuffer = function () {
        if (!this.buffer) {
            var buffer = Buffer.alloc(CommandControlMessage.PAYLOAD_LENGTH + 1);
            buffer.writeUInt8(this.type, 0);
            this.buffer = buffer;
        }
        return this.buffer;
    };
    CommandControlMessage.prototype.toString = function () {
        var buffer = this.buffer ? ", buffer=[".concat(this.buffer.join(','), "]") : '';
        return "CommandControlMessage{action=".concat(this.type).concat(buffer, "}");
    };
    CommandControlMessage.PAYLOAD_LENGTH = 0;
    CommandControlMessage.Commands = new Map([
        [ControlMessage_1.ControlMessage.TYPE_EXPAND_NOTIFICATION_PANEL, 'Expandir notificaciones'],
        [ControlMessage_1.ControlMessage.TYPE_EXPAND_SETTINGS_PANEL, 'Expandir configuraciones'],
        [ControlMessage_1.ControlMessage.TYPE_COLLAPSE_PANELS, 'Contraer paneles'],
        [ControlMessage_1.ControlMessage.TYPE_GET_CLIPBOARD, 'Obtener portapapeles'],
        [ControlMessage_1.ControlMessage.TYPE_SET_CLIPBOARD, 'Pegar portapapeles'],
        [ControlMessage_1.ControlMessage.TYPE_ROTATE_DEVICE, 'Girar dispositivo'],
        [ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS, 'Cambiar configuracin(video)'],
    ]);
    return CommandControlMessage;
}(ControlMessage_1.ControlMessage));
exports.CommandControlMessage = CommandControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/ControlMessage.ts":
/*!**************************************************!*\
  !*** ./src/app/controlMessage/ControlMessage.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ControlMessage = void 0;
var ControlMessage = (function () {
    function ControlMessage(type) {
        this.type = type;
    }
    ControlMessage.prototype.toBuffer = function () {
        throw Error('Not implemented');
    };
    ControlMessage.prototype.toString = function () {
        return 'ControlMessage';
    };
    ControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
        };
    };
    ControlMessage.TYPE_KEYCODE = 0;
    ControlMessage.TYPE_TEXT = 1;
    ControlMessage.TYPE_TOUCH = 2;
    ControlMessage.TYPE_SCROLL = 3;
    ControlMessage.TYPE_BACK_OR_SCREEN_ON = 4;
    ControlMessage.TYPE_EXPAND_NOTIFICATION_PANEL = 5;
    ControlMessage.TYPE_EXPAND_SETTINGS_PANEL = 6;
    ControlMessage.TYPE_COLLAPSE_PANELS = 7;
    ControlMessage.TYPE_GET_CLIPBOARD = 8;
    ControlMessage.TYPE_SET_CLIPBOARD = 9;
    ControlMessage.TYPE_SET_SCREEN_POWER_MODE = 10;
    ControlMessage.TYPE_ROTATE_DEVICE = 11;
    ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS = 101;
    ControlMessage.TYPE_PUSH_FILE = 102;
    return ControlMessage;
}());
exports.ControlMessage = ControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/KeyCodeControlMessage.ts":
/*!*********************************************************!*\
  !*** ./src/app/controlMessage/KeyCodeControlMessage.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyCodeControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var buffer_1 = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var KeyCodeControlMessage = (function (_super) {
    tslib_1.__extends(KeyCodeControlMessage, _super);
    function KeyCodeControlMessage(action, keycode, repeat, metaState) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_KEYCODE) || this;
        _this.action = action;
        _this.keycode = keycode;
        _this.repeat = repeat;
        _this.metaState = metaState;
        return _this;
    }
    KeyCodeControlMessage.prototype.toBuffer = function () {
        var buffer = buffer_1.Buffer.alloc(KeyCodeControlMessage.PAYLOAD_LENGTH + 1);
        var offset = 0;
        offset = buffer.writeInt8(this.type, offset);
        offset = buffer.writeInt8(this.action, offset);
        offset = buffer.writeInt32BE(this.keycode, offset);
        offset = buffer.writeInt32BE(this.repeat, offset);
        buffer.writeInt32BE(this.metaState, offset);
        return buffer;
    };
    KeyCodeControlMessage.prototype.toString = function () {
        return "KeyCodeControlMessage{action=".concat(this.action, ", keycode=").concat(this.keycode, ", metaState=").concat(this.metaState, "}");
    };
    KeyCodeControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            action: this.action,
            keycode: this.keycode,
            metaState: this.metaState,
            repeat: this.repeat,
        };
    };
    KeyCodeControlMessage.PAYLOAD_LENGTH = 13;
    return KeyCodeControlMessage;
}(ControlMessage_1.ControlMessage));
exports.KeyCodeControlMessage = KeyCodeControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/ScrollControlMessage.ts":
/*!********************************************************!*\
  !*** ./src/app/controlMessage/ScrollControlMessage.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ScrollControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var ScrollControlMessage = (function (_super) {
    tslib_1.__extends(ScrollControlMessage, _super);
    function ScrollControlMessage(position, hScroll, vScroll) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_SCROLL) || this;
        _this.position = position;
        _this.hScroll = hScroll;
        _this.vScroll = vScroll;
        return _this;
    }
    ScrollControlMessage.prototype.toBuffer = function () {
        var buffer = Buffer.alloc(ScrollControlMessage.PAYLOAD_LENGTH + 1);
        var offset = 0;
        offset = buffer.writeUInt8(this.type, offset);
        offset = buffer.writeUInt32BE(this.position.point.x, offset);
        offset = buffer.writeUInt32BE(this.position.point.y, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.width, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.height, offset);
        offset = buffer.writeInt32BE(this.hScroll, offset);
        buffer.writeInt32BE(this.vScroll, offset);
        return buffer;
    };
    ScrollControlMessage.prototype.toString = function () {
        return "ScrollControlMessage{hScroll=".concat(this.hScroll, ", vScroll=").concat(this.vScroll, ", position=").concat(this.position, "}");
    };
    ScrollControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            position: this.position.toJSON(),
            hScroll: this.hScroll,
            vScroll: this.vScroll,
        };
    };
    ScrollControlMessage.PAYLOAD_LENGTH = 20;
    return ScrollControlMessage;
}(ControlMessage_1.ControlMessage));
exports.ScrollControlMessage = ScrollControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/TextControlMessage.ts":
/*!******************************************************!*\
  !*** ./src/app/controlMessage/TextControlMessage.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var buffer_1 = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var TextControlMessage = (function (_super) {
    tslib_1.__extends(TextControlMessage, _super);
    function TextControlMessage(text) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_TEXT) || this;
        _this.text = text;
        return _this;
    }
    TextControlMessage.prototype.getText = function () {
        return this.text;
    };
    TextControlMessage.prototype.toBuffer = function () {
        var length = this.text.length;
        var buffer = buffer_1.Buffer.alloc(length + 1 + TextControlMessage.TEXT_SIZE_FIELD_LENGTH);
        var offset = 0;
        offset = buffer.writeUInt8(this.type, offset);
        offset = buffer.writeUInt32BE(length, offset);
        buffer.write(this.text, offset);
        return buffer;
    };
    TextControlMessage.prototype.toString = function () {
        return "TextControlMessage{text=".concat(this.text, "}");
    };
    TextControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            text: this.text,
        };
    };
    TextControlMessage.TEXT_SIZE_FIELD_LENGTH = 4;
    return TextControlMessage;
}(ControlMessage_1.ControlMessage));
exports.TextControlMessage = TextControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/TouchControlMessage.ts":
/*!*******************************************************!*\
  !*** ./src/app/controlMessage/TouchControlMessage.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TouchControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var TouchControlMessage = (function (_super) {
    tslib_1.__extends(TouchControlMessage, _super);
    function TouchControlMessage(action, pointerId, position, pressure, buttons) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_TOUCH) || this;
        _this.action = action;
        _this.pointerId = pointerId;
        _this.position = position;
        _this.pressure = pressure;
        _this.buttons = buttons;
        return _this;
    }
    TouchControlMessage.prototype.toBuffer = function () {
        var buffer = Buffer.alloc(TouchControlMessage.PAYLOAD_LENGTH + 1);
        var offset = 0;
        offset = buffer.writeUInt8(this.type, offset);
        offset = buffer.writeUInt8(this.action, offset);
        offset = buffer.writeUInt32BE(0, offset);
        offset = buffer.writeUInt32BE(this.pointerId, offset);
        offset = buffer.writeUInt32BE(this.position.point.x, offset);
        offset = buffer.writeUInt32BE(this.position.point.y, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.width, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.height, offset);
        offset = buffer.writeUInt16BE(this.pressure * TouchControlMessage.MAX_PRESSURE_VALUE, offset);
        buffer.writeUInt32BE(this.buttons, offset);
        return buffer;
    };
    TouchControlMessage.prototype.toString = function () {
        return "TouchControlMessage{action=".concat(this.action, ", pointerId=").concat(this.pointerId, ", position=").concat(this.position, ", pressure=").concat(this.pressure, ", buttons=").concat(this.buttons, "}");
    };
    TouchControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            action: this.action,
            pointerId: this.pointerId,
            position: this.position.toJSON(),
            pressure: this.pressure,
            buttons: this.buttons,
        };
    };
    TouchControlMessage.PAYLOAD_LENGTH = 28;
    TouchControlMessage.MAX_PRESSURE_VALUE = 0xffff;
    return TouchControlMessage;
}(ControlMessage_1.ControlMessage));
exports.TouchControlMessage = TouchControlMessage;


/***/ }),

/***/ "./src/app/googDevice/DeviceMessage.ts":
/*!*********************************************!*\
  !*** ./src/app/googDevice/DeviceMessage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var DeviceMessage = (function () {
    function DeviceMessage(type, buffer) {
        this.type = type;
        this.buffer = buffer;
    }
    DeviceMessage.fromBuffer = function (data) {
        var magicSize = this.MAGIC_BYTES_MESSAGE.length;
        var buffer = Buffer.from(data, magicSize, data.byteLength - magicSize);
        var type = buffer.readUInt8(0);
        return new DeviceMessage(type, buffer);
    };
    DeviceMessage.prototype.getText = function () {
        if (this.type !== DeviceMessage.TYPE_CLIPBOARD) {
            throw TypeError("Wrong message type: ".concat(this.type));
        }
        if (!this.buffer) {
            throw Error('Empty buffer');
        }
        var offset = 1;
        var length = this.buffer.readInt32BE(offset);
        offset += 4;
        var textBytes = this.buffer.slice(offset, offset + length);
        return Util_1.default.utf8ByteArrayToString(textBytes);
    };
    DeviceMessage.prototype.getPushStats = function () {
        if (this.type !== DeviceMessage.TYPE_PUSH_RESPONSE) {
            throw TypeError("Wrong message type: ".concat(this.type));
        }
        if (!this.buffer) {
            throw Error('Empty buffer');
        }
        var id = this.buffer.readInt16BE(1);
        var code = this.buffer.readInt8(3);
        return { id: id, code: code };
    };
    DeviceMessage.prototype.toString = function () {
        var desc;
        if (this.type === DeviceMessage.TYPE_CLIPBOARD && this.buffer) {
            desc = ", text=[".concat(this.getText(), "]");
        }
        else {
            desc = this.buffer ? ", buffer=[".concat(this.buffer.join(','), "]") : '';
        }
        return "DeviceMessage{type=".concat(this.type).concat(desc, "}");
    };
    DeviceMessage.TYPE_CLIPBOARD = 0;
    DeviceMessage.TYPE_PUSH_RESPONSE = 101;
    DeviceMessage.MAGIC_BYTES_MESSAGE = Util_1.default.stringToUtf8ByteArray('scrcpy_message');
    return DeviceMessage;
}());
exports["default"] = DeviceMessage;


/***/ }),

/***/ "./src/app/googDevice/DragAndDropHandler.ts":
/*!**************************************************!*\
  !*** ./src/app/googDevice/DragAndDropHandler.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DragAndDropHandler = void 0;
var DragAndDropHandler = (function () {
    function DragAndDropHandler() {
    }
    DragAndDropHandler.attachListeners = function (element) {
        element.addEventListener('drop', this.dropHandler);
        element.addEventListener('dragover', this.dragOverHandler);
        element.addEventListener('dragleave', this.dragLeaveHandler);
        element.addEventListener('dragenter', this.dragEnterHandler);
    };
    DragAndDropHandler.detachListeners = function (element) {
        element.removeEventListener('drop', this.dropHandler);
        element.removeEventListener('dragover', this.dragOverHandler);
        element.removeEventListener('dragleave', this.dragLeaveHandler);
        element.removeEventListener('dragenter', this.dragEnterHandler);
    };
    DragAndDropHandler.addEventListener = function (listener) {
        if (this.listeners.has(listener)) {
            return;
        }
        this.attachListeners(listener.getElement());
        this.listeners.add(listener);
    };
    DragAndDropHandler.removeEventListener = function (listener) {
        if (!this.listeners.has(listener)) {
            return;
        }
        this.detachListeners(listener.getElement());
        this.listeners.delete(listener);
    };
    DragAndDropHandler.listeners = new Set();
    DragAndDropHandler.dropHandler = function (ev) {
        if (!ev.dataTransfer) {
            return false;
        }
        var files = [];
        if (ev.dataTransfer.items) {
            for (var i = 0; i < ev.dataTransfer.items.length; i++) {
                if (ev.dataTransfer.items[i].kind === 'file') {
                    var file = ev.dataTransfer.items[i].getAsFile();
                    if (file) {
                        files.push(file);
                    }
                }
            }
        }
        else {
            for (var i = 0; i < ev.dataTransfer.files.length; i++) {
                files.push(ev.dataTransfer.files[i]);
            }
        }
        var handled = false;
        DragAndDropHandler.listeners.forEach(function (listener) {
            var element = listener.getElement();
            if (element === ev.currentTarget) {
                handled = handled || listener.onFilesDrop(files);
            }
        });
        if (handled) {
            ev.preventDefault();
            return true;
        }
        return false;
    };
    DragAndDropHandler.dragOverHandler = function (ev) {
        ev.preventDefault();
    };
    DragAndDropHandler.dragLeaveHandler = function (ev) {
        var handled = false;
        DragAndDropHandler.listeners.forEach(function (listener) {
            var element = listener.getElement();
            if (element === ev.currentTarget) {
                handled = handled || listener.onDragLeave();
            }
        });
        if (handled) {
            ev.preventDefault();
            return true;
        }
        return false;
    };
    DragAndDropHandler.dragEnterHandler = function (ev) {
        var handled = false;
        DragAndDropHandler.listeners.forEach(function (listener) {
            var element = listener.getElement();
            if (element === ev.currentTarget) {
                handled = handled || listener.onDragEnter();
            }
        });
        if (handled) {
            ev.preventDefault();
            return true;
        }
        return false;
    };
    return DragAndDropHandler;
}());
exports.DragAndDropHandler = DragAndDropHandler;


/***/ }),

/***/ "./src/app/googDevice/DragAndPushLogger.ts":
/*!*************************************************!*\
  !*** ./src/app/googDevice/DragAndPushLogger.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ./filePush/FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var TAG = '[DragAndPushLogger]';
var DragAndPushLogger = (function () {
    function DragAndPushLogger(element) {
        var _this = this;
        this.ctx = null;
        this.timeoutMap = new Map();
        this.dirtyMap = new Map();
        this.pushLineMap = new Map();
        this.linePushMap = new Map();
        this.dirtyLines = [];
        this.cleanDirtyLine = function (line) {
            if (!_this.ctx) {
                return;
            }
            var X = DragAndPushLogger.X, Y = DragAndPushLogger.Y, HEIGHT = DragAndPushLogger.HEIGHT;
            var x = X;
            var y = Y + HEIGHT * line * 2;
            var dirty = _this.dirtyMap.get(line);
            if (dirty) {
                var p = DragAndPushLogger.HEIGHT / 2;
                var d = p * 2;
                _this.ctx.clearRect(x - p, y - HEIGHT - p, dirty + d, HEIGHT + d);
            }
            _this.dirtyLines[line] = false;
        };
        if (element instanceof HTMLCanvasElement) {
            var canvas = element;
            this.ctx = canvas.getContext('2d');
        }
    }
    DragAndPushLogger.prototype.logText = function (text, line, scheduleCleanup, error) {
        var _this = this;
        if (scheduleCleanup === void 0) { scheduleCleanup = false; }
        if (error === void 0) { error = false; }
        if (!this.ctx) {
            error ? console.error(TAG, text) : console.log(TAG, text);
            return;
        }
        if (error) {
            console.error(TAG, text);
        }
        this.cleanDirtyLine(line);
        var X = DragAndPushLogger.X, Y = DragAndPushLogger.Y, HEIGHT = DragAndPushLogger.HEIGHT;
        var x = X;
        var y = Y + HEIGHT * line * 2;
        this.ctx.save();
        this.ctx.font = "".concat(HEIGHT, "px monospace");
        var textMetrics = this.ctx.measureText(text);
        var width = Math.abs(textMetrics.actualBoundingBoxLeft) + Math.abs(textMetrics.actualBoundingBoxRight);
        this.dirtyMap.set(line, width);
        this.ctx.fillStyle = DragAndPushLogger.LOG_BACKGROUND;
        var p = DragAndPushLogger.HEIGHT / 2 - 1;
        var d = p * 2;
        this.ctx.fillRect(x - p, y - HEIGHT - p, width + d, HEIGHT + d);
        this.ctx.fillStyle = error ? DragAndPushLogger.ERROR_COLOR : DragAndPushLogger.DEBUG_COLOR;
        this.ctx.fillText(text, x, y);
        this.ctx.restore();
        if (scheduleCleanup) {
            this.dirtyLines[line] = true;
            var timeout = this.timeoutMap.get(line);
            if (timeout) {
                clearTimeout(timeout);
            }
            timeout = window.setTimeout(function () {
                _this.cleanDirtyLine(line);
                var key = _this.linePushMap.get(line);
                if (typeof key === 'string') {
                    _this.linePushMap.delete(line);
                    _this.pushLineMap.delete(key);
                }
            }, 5000);
            this.timeoutMap.set(line, timeout);
        }
    };
    DragAndPushLogger.prototype.onDragEnter = function () {
        this.logText('Drop APK files here', 1);
        return true;
    };
    DragAndPushLogger.prototype.onDragLeave = function () {
        this.cleanDirtyLine(1);
        return true;
    };
    DragAndPushLogger.prototype.onDrop = function () {
        this.cleanDirtyLine(1);
        return true;
    };
    DragAndPushLogger.prototype.onError = function (error) {
        var text = typeof error === 'string' ? error : error.message;
        this.logText(text, 1, true);
    };
    DragAndPushLogger.prototype.onFilePushUpdate = function (data) {
        var pushId = data.pushId, message = data.message, fileName = data.fileName, error = data.error;
        var key = "".concat(pushId, "/").concat(fileName);
        var firstKey = "".concat(FilePushHandler_1.default.REQUEST_NEW_PUSH_ID, "/").concat(fileName);
        var line = this.pushLineMap.get(key);
        var update = false;
        if (typeof line === 'undefined' && key !== firstKey) {
            line = this.pushLineMap.get(firstKey);
            if (typeof line !== 'undefined') {
                this.pushLineMap.delete(firstKey);
                update = true;
            }
        }
        if (typeof line === 'undefined') {
            line = 2;
            while (this.dirtyLines[line]) {
                line++;
            }
            update = true;
        }
        if (update) {
            this.pushLineMap.set(key, line);
            this.linePushMap.set(line, key);
        }
        this.logText("Upload \"".concat(fileName, "\": ").concat(message), line, true, error);
    };
    DragAndPushLogger.X = 20;
    DragAndPushLogger.Y = 40;
    DragAndPushLogger.HEIGHT = 12;
    DragAndPushLogger.LOG_BACKGROUND = 'rgba(0,0,0, 0.5)';
    DragAndPushLogger.DEBUG_COLOR = 'hsl(136, 85%,50%)';
    DragAndPushLogger.ERROR_COLOR = 'hsl(336,85%,50%)';
    return DragAndPushLogger;
}());
exports["default"] = DragAndPushLogger;


/***/ }),

/***/ "./src/app/googDevice/Entry.ts":
/*!*************************************!*\
  !*** ./src/app/googDevice/Entry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Entry = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Stats_1 = __webpack_require__(/*! ./Stats */ "./src/app/googDevice/Stats.ts");
var Entry = (function (_super) {
    tslib_1.__extends(Entry, _super);
    function Entry(name, mode, size, mtime) {
        var _this = _super.call(this, mode, size, mtime) || this;
        _this.name = name;
        return _this;
    }
    Entry.prototype.toString = function () {
        return this.name;
    };
    return Entry;
}(Stats_1.Stats));
exports.Entry = Entry;


/***/ }),

/***/ "./src/app/googDevice/KeyInputHandler.ts":
/*!***********************************************!*\
  !*** ./src/app/googDevice/KeyInputHandler.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyInputHandler = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var KeyCodeControlMessage_1 = __webpack_require__(/*! ../controlMessage/KeyCodeControlMessage */ "./src/app/controlMessage/KeyCodeControlMessage.ts");
var KeyEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ./android/KeyEvent */ "./src/app/googDevice/android/KeyEvent.ts"));
var KeyToCodeMap_1 = __webpack_require__(/*! ./KeyToCodeMap */ "./src/app/googDevice/KeyToCodeMap.ts");
var KeyInputHandler = (function () {
    function KeyInputHandler() {
    }
    KeyInputHandler.attachListeners = function () {
        document.body.addEventListener('keydown', this.handler);
        document.body.addEventListener('keyup', this.handler);
    };
    KeyInputHandler.detachListeners = function () {
        document.body.removeEventListener('keydown', this.handler);
        document.body.removeEventListener('keyup', this.handler);
    };
    KeyInputHandler.addEventListener = function (listener) {
        if (!this.listeners.size) {
            this.attachListeners();
        }
        this.listeners.add(listener);
    };
    KeyInputHandler.removeEventListener = function (listener) {
        this.listeners.delete(listener);
        if (!this.listeners.size) {
            this.detachListeners();
        }
    };
    KeyInputHandler.repeatCounter = new Map();
    KeyInputHandler.listeners = new Set();
    KeyInputHandler.handler = function (event) {
        var keyboardEvent = event;
        var keyCode = KeyToCodeMap_1.KeyToCodeMap.get(keyboardEvent.code);
        if (!keyCode) {
            return;
        }
        var action;
        var repeatCount = 0;
        if (keyboardEvent.type === 'keydown') {
            action = KeyEvent_1.default.ACTION_DOWN;
            if (keyboardEvent.repeat) {
                var count = KeyInputHandler.repeatCounter.get(keyCode);
                if (typeof count !== 'number') {
                    count = 1;
                }
                else {
                    count++;
                }
                repeatCount = count;
                KeyInputHandler.repeatCounter.set(keyCode, count);
            }
        }
        else if (keyboardEvent.type === 'keyup') {
            action = KeyEvent_1.default.ACTION_UP;
            KeyInputHandler.repeatCounter.delete(keyCode);
        }
        else {
            return;
        }
        var metaState = (keyboardEvent.getModifierState('Alt') ? KeyEvent_1.default.META_ALT_ON : 0) |
            (keyboardEvent.getModifierState('Shift') ? KeyEvent_1.default.META_SHIFT_ON : 0) |
            (keyboardEvent.getModifierState('Control') ? KeyEvent_1.default.META_CTRL_ON : 0) |
            (keyboardEvent.getModifierState('Meta') ? KeyEvent_1.default.META_META_ON : 0) |
            (keyboardEvent.getModifierState('CapsLock') ? KeyEvent_1.default.META_CAPS_LOCK_ON : 0) |
            (keyboardEvent.getModifierState('ScrollLock') ? KeyEvent_1.default.META_SCROLL_LOCK_ON : 0) |
            (keyboardEvent.getModifierState('NumLock') ? KeyEvent_1.default.META_NUM_LOCK_ON : 0);
        var controlMessage = new KeyCodeControlMessage_1.KeyCodeControlMessage(action, keyCode, repeatCount, metaState);
        KeyInputHandler.listeners.forEach(function (listener) {
            listener.onKeyEvent(controlMessage);
        });
        event.preventDefault();
    };
    return KeyInputHandler;
}());
exports.KeyInputHandler = KeyInputHandler;


/***/ }),

/***/ "./src/app/googDevice/KeyToCodeMap.ts":
/*!********************************************!*\
  !*** ./src/app/googDevice/KeyToCodeMap.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyToCodeMap = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var KeyEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ./android/KeyEvent */ "./src/app/googDevice/android/KeyEvent.ts"));
var UIEventsCode_1 = tslib_1.__importDefault(__webpack_require__(/*! ../UIEventsCode */ "./src/app/UIEventsCode.ts"));
exports.KeyToCodeMap = new Map([
    [UIEventsCode_1.default.Backquote, KeyEvent_1.default.KEYCODE_GRAVE],
    [UIEventsCode_1.default.Backslash, KeyEvent_1.default.KEYCODE_BACKSLASH],
    [UIEventsCode_1.default.BracketLeft, KeyEvent_1.default.KEYCODE_LEFT_BRACKET],
    [UIEventsCode_1.default.BracketRight, KeyEvent_1.default.KEYCODE_RIGHT_BRACKET],
    [UIEventsCode_1.default.Comma, KeyEvent_1.default.KEYCODE_COMMA],
    [UIEventsCode_1.default.Digit0, KeyEvent_1.default.KEYCODE_0],
    [UIEventsCode_1.default.Digit1, KeyEvent_1.default.KEYCODE_1],
    [UIEventsCode_1.default.Digit2, KeyEvent_1.default.KEYCODE_2],
    [UIEventsCode_1.default.Digit3, KeyEvent_1.default.KEYCODE_3],
    [UIEventsCode_1.default.Digit4, KeyEvent_1.default.KEYCODE_4],
    [UIEventsCode_1.default.Digit5, KeyEvent_1.default.KEYCODE_5],
    [UIEventsCode_1.default.Digit6, KeyEvent_1.default.KEYCODE_6],
    [UIEventsCode_1.default.Digit7, KeyEvent_1.default.KEYCODE_7],
    [UIEventsCode_1.default.Digit8, KeyEvent_1.default.KEYCODE_8],
    [UIEventsCode_1.default.Digit9, KeyEvent_1.default.KEYCODE_9],
    [UIEventsCode_1.default.Equal, KeyEvent_1.default.KEYCODE_EQUALS],
    [UIEventsCode_1.default.IntlRo, KeyEvent_1.default.KEYCODE_RO],
    [UIEventsCode_1.default.IntlYen, KeyEvent_1.default.KEYCODE_YEN],
    [UIEventsCode_1.default.KeyA, KeyEvent_1.default.KEYCODE_A],
    [UIEventsCode_1.default.KeyB, KeyEvent_1.default.KEYCODE_B],
    [UIEventsCode_1.default.KeyC, KeyEvent_1.default.KEYCODE_C],
    [UIEventsCode_1.default.KeyD, KeyEvent_1.default.KEYCODE_D],
    [UIEventsCode_1.default.KeyE, KeyEvent_1.default.KEYCODE_E],
    [UIEventsCode_1.default.KeyF, KeyEvent_1.default.KEYCODE_F],
    [UIEventsCode_1.default.KeyG, KeyEvent_1.default.KEYCODE_G],
    [UIEventsCode_1.default.KeyH, KeyEvent_1.default.KEYCODE_H],
    [UIEventsCode_1.default.KeyI, KeyEvent_1.default.KEYCODE_I],
    [UIEventsCode_1.default.KeyJ, KeyEvent_1.default.KEYCODE_J],
    [UIEventsCode_1.default.KeyK, KeyEvent_1.default.KEYCODE_K],
    [UIEventsCode_1.default.KeyL, KeyEvent_1.default.KEYCODE_L],
    [UIEventsCode_1.default.KeyM, KeyEvent_1.default.KEYCODE_M],
    [UIEventsCode_1.default.KeyN, KeyEvent_1.default.KEYCODE_N],
    [UIEventsCode_1.default.KeyO, KeyEvent_1.default.KEYCODE_O],
    [UIEventsCode_1.default.KeyP, KeyEvent_1.default.KEYCODE_P],
    [UIEventsCode_1.default.KeyQ, KeyEvent_1.default.KEYCODE_Q],
    [UIEventsCode_1.default.KeyR, KeyEvent_1.default.KEYCODE_R],
    [UIEventsCode_1.default.KeyS, KeyEvent_1.default.KEYCODE_S],
    [UIEventsCode_1.default.KeyT, KeyEvent_1.default.KEYCODE_T],
    [UIEventsCode_1.default.KeyU, KeyEvent_1.default.KEYCODE_U],
    [UIEventsCode_1.default.KeyV, KeyEvent_1.default.KEYCODE_V],
    [UIEventsCode_1.default.KeyW, KeyEvent_1.default.KEYCODE_W],
    [UIEventsCode_1.default.KeyX, KeyEvent_1.default.KEYCODE_X],
    [UIEventsCode_1.default.KeyY, KeyEvent_1.default.KEYCODE_Y],
    [UIEventsCode_1.default.KeyZ, KeyEvent_1.default.KEYCODE_Z],
    [UIEventsCode_1.default.Minus, KeyEvent_1.default.KEYCODE_MINUS],
    [UIEventsCode_1.default.Period, KeyEvent_1.default.KEYCODE_PERIOD],
    [UIEventsCode_1.default.Quote, KeyEvent_1.default.KEYCODE_APOSTROPHE],
    [UIEventsCode_1.default.Semicolon, KeyEvent_1.default.KEYCODE_SEMICOLON],
    [UIEventsCode_1.default.Slash, KeyEvent_1.default.KEYCODE_SLASH],
    [UIEventsCode_1.default.KanaMode, KeyEvent_1.default.KEYCODE_KANA],
    [UIEventsCode_1.default.Delete, KeyEvent_1.default.KEYCODE_FORWARD_DEL],
    [UIEventsCode_1.default.End, KeyEvent_1.default.KEYCODE_MOVE_END],
    [UIEventsCode_1.default.Help, KeyEvent_1.default.KEYCODE_HELP],
    [UIEventsCode_1.default.Home, KeyEvent_1.default.KEYCODE_MOVE_HOME],
    [UIEventsCode_1.default.Insert, KeyEvent_1.default.KEYCODE_INSERT],
    [UIEventsCode_1.default.PageDown, KeyEvent_1.default.KEYCODE_PAGE_DOWN],
    [UIEventsCode_1.default.PageUp, KeyEvent_1.default.KEYCODE_PAGE_UP],
    [UIEventsCode_1.default.AltLeft, KeyEvent_1.default.KEYCODE_ALT_LEFT],
    [UIEventsCode_1.default.AltRight, KeyEvent_1.default.KEYCODE_ALT_RIGHT],
    [UIEventsCode_1.default.Backspace, KeyEvent_1.default.KEYCODE_DEL],
    [UIEventsCode_1.default.CapsLock, KeyEvent_1.default.KEYCODE_CAPS_LOCK],
    [UIEventsCode_1.default.ControlLeft, KeyEvent_1.default.KEYCODE_CTRL_LEFT],
    [UIEventsCode_1.default.ControlRight, KeyEvent_1.default.KEYCODE_CTRL_RIGHT],
    [UIEventsCode_1.default.Enter, KeyEvent_1.default.KEYCODE_ENTER],
    [UIEventsCode_1.default.MetaLeft, KeyEvent_1.default.KEYCODE_META_LEFT],
    [UIEventsCode_1.default.MetaRight, KeyEvent_1.default.KEYCODE_META_RIGHT],
    [UIEventsCode_1.default.ShiftLeft, KeyEvent_1.default.KEYCODE_SHIFT_LEFT],
    [UIEventsCode_1.default.ShiftRight, KeyEvent_1.default.KEYCODE_SHIFT_RIGHT],
    [UIEventsCode_1.default.Space, KeyEvent_1.default.KEYCODE_SPACE],
    [UIEventsCode_1.default.Tab, KeyEvent_1.default.KEYCODE_TAB],
    [UIEventsCode_1.default.ArrowLeft, KeyEvent_1.default.KEYCODE_DPAD_LEFT],
    [UIEventsCode_1.default.ArrowUp, KeyEvent_1.default.KEYCODE_DPAD_UP],
    [UIEventsCode_1.default.ArrowRight, KeyEvent_1.default.KEYCODE_DPAD_RIGHT],
    [UIEventsCode_1.default.ArrowDown, KeyEvent_1.default.KEYCODE_DPAD_DOWN],
    [UIEventsCode_1.default.NumLock, KeyEvent_1.default.KEYCODE_NUM_LOCK],
    [UIEventsCode_1.default.Numpad0, KeyEvent_1.default.KEYCODE_NUMPAD_0],
    [UIEventsCode_1.default.Numpad1, KeyEvent_1.default.KEYCODE_NUMPAD_1],
    [UIEventsCode_1.default.Numpad2, KeyEvent_1.default.KEYCODE_NUMPAD_2],
    [UIEventsCode_1.default.Numpad3, KeyEvent_1.default.KEYCODE_NUMPAD_3],
    [UIEventsCode_1.default.Numpad4, KeyEvent_1.default.KEYCODE_NUMPAD_4],
    [UIEventsCode_1.default.Numpad5, KeyEvent_1.default.KEYCODE_NUMPAD_5],
    [UIEventsCode_1.default.Numpad6, KeyEvent_1.default.KEYCODE_NUMPAD_6],
    [UIEventsCode_1.default.Numpad7, KeyEvent_1.default.KEYCODE_NUMPAD_7],
    [UIEventsCode_1.default.Numpad8, KeyEvent_1.default.KEYCODE_NUMPAD_8],
    [UIEventsCode_1.default.Numpad9, KeyEvent_1.default.KEYCODE_NUMPAD_9],
    [UIEventsCode_1.default.NumpadAdd, KeyEvent_1.default.KEYCODE_NUMPAD_ADD],
    [UIEventsCode_1.default.NumpadComma, KeyEvent_1.default.KEYCODE_NUMPAD_COMMA],
    [UIEventsCode_1.default.NumpadDecimal, KeyEvent_1.default.KEYCODE_NUMPAD_DOT],
    [UIEventsCode_1.default.NumpadDivide, KeyEvent_1.default.KEYCODE_NUMPAD_DIVIDE],
    [UIEventsCode_1.default.NumpadEnter, KeyEvent_1.default.KEYCODE_NUMPAD_ENTER],
    [UIEventsCode_1.default.NumpadEqual, KeyEvent_1.default.KEYCODE_NUMPAD_EQUALS],
    [UIEventsCode_1.default.NumpadMultiply, KeyEvent_1.default.KEYCODE_NUMPAD_MULTIPLY],
    [UIEventsCode_1.default.NumpadParenLeft, KeyEvent_1.default.KEYCODE_NUMPAD_LEFT_PAREN],
    [UIEventsCode_1.default.NumpadParenRight, KeyEvent_1.default.KEYCODE_NUMPAD_RIGHT_PAREN],
    [UIEventsCode_1.default.NumpadSubtract, KeyEvent_1.default.KEYCODE_NUMPAD_SUBTRACT],
    [UIEventsCode_1.default.Escape, KeyEvent_1.default.KEYCODE_ESCAPE],
    [UIEventsCode_1.default.F1, KeyEvent_1.default.KEYCODE_F1],
    [UIEventsCode_1.default.F2, KeyEvent_1.default.KEYCODE_F2],
    [UIEventsCode_1.default.F3, KeyEvent_1.default.KEYCODE_F3],
    [UIEventsCode_1.default.F4, KeyEvent_1.default.KEYCODE_F4],
    [UIEventsCode_1.default.F5, KeyEvent_1.default.KEYCODE_F5],
    [UIEventsCode_1.default.F6, KeyEvent_1.default.KEYCODE_F6],
    [UIEventsCode_1.default.F7, KeyEvent_1.default.KEYCODE_F7],
    [UIEventsCode_1.default.F8, KeyEvent_1.default.KEYCODE_F8],
    [UIEventsCode_1.default.F9, KeyEvent_1.default.KEYCODE_F9],
    [UIEventsCode_1.default.F10, KeyEvent_1.default.KEYCODE_F10],
    [UIEventsCode_1.default.F11, KeyEvent_1.default.KEYCODE_F11],
    [UIEventsCode_1.default.F12, KeyEvent_1.default.KEYCODE_F12],
    [UIEventsCode_1.default.Fn, KeyEvent_1.default.KEYCODE_FUNCTION],
    [UIEventsCode_1.default.PrintScreen, KeyEvent_1.default.KEYCODE_SYSRQ],
    [UIEventsCode_1.default.Pause, KeyEvent_1.default.KEYCODE_BREAK],
]);


/***/ }),

/***/ "./src/app/googDevice/Stats.ts":
/*!*************************************!*\
  !*** ./src/app/googDevice/Stats.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Stats = void 0;
var Stats = (function () {
    function Stats(mode, size, mtime) {
        this.mode = mode;
        this.size = size;
        this.mtime = new Date(mtime * 1000);
    }
    Stats.prototype.checkModeProperty = function (property) {
        return (this.mode & Stats.S_IFMT) === property;
    };
    Stats.prototype.isBlockDevice = function () {
        return this.checkModeProperty(Stats.S_IFBLK);
    };
    Stats.prototype.isCharacterDevice = function () {
        return this.checkModeProperty(Stats.S_IFCHR);
    };
    Stats.prototype.isDirectory = function () {
        return this.checkModeProperty(Stats.S_IFDIR);
    };
    Stats.prototype.isFIFO = function () {
        return this.checkModeProperty(Stats.S_IFIFO);
    };
    Stats.prototype.isisSocket = function () {
        return this.checkModeProperty(Stats.S_IFSOCK);
    };
    Stats.prototype.isSymbolicLink = function () {
        return this.checkModeProperty(Stats.S_IFLNK);
    };
    Stats.prototype.isFile = function () {
        return this.checkModeProperty(Stats.S_IFREG);
    };
    Stats.S_IFMT = 61440;
    Stats.S_IFSOCK = 49152;
    Stats.S_IFLNK = 40960;
    Stats.S_IFREG = 32768;
    Stats.S_IFBLK = 24576;
    Stats.S_IFDIR = 16384;
    Stats.S_IFCHR = 8192;
    Stats.S_IFIFO = 4096;
    Stats.S_ISUID = 2048;
    Stats.S_ISGID = 1024;
    Stats.S_ISVTX = 512;
    Stats.S_IRWXU = 448;
    Stats.S_IRUSR = 256;
    Stats.S_IWUSR = 128;
    Stats.S_IXUSR = 64;
    Stats.S_IRWXG = 56;
    Stats.S_IRGRP = 32;
    return Stats;
}());
exports.Stats = Stats;


/***/ }),

/***/ "./src/app/googDevice/android/KeyEvent.ts":
/*!************************************************!*\
  !*** ./src/app/googDevice/android/KeyEvent.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var KeyEvent = (function () {
    function KeyEvent() {
    }
    KeyEvent.ACTION_DOWN = 0;
    KeyEvent.ACTION_UP = 1;
    KeyEvent.KEYCODE_0 = 7;
    KeyEvent.KEYCODE_1 = 8;
    KeyEvent.KEYCODE_11 = 227;
    KeyEvent.KEYCODE_12 = 228;
    KeyEvent.KEYCODE_2 = 9;
    KeyEvent.KEYCODE_3 = 10;
    KeyEvent.KEYCODE_3D_MODE = 206;
    KeyEvent.KEYCODE_4 = 11;
    KeyEvent.KEYCODE_5 = 12;
    KeyEvent.KEYCODE_6 = 13;
    KeyEvent.KEYCODE_7 = 14;
    KeyEvent.KEYCODE_8 = 15;
    KeyEvent.KEYCODE_9 = 16;
    KeyEvent.KEYCODE_A = 29;
    KeyEvent.KEYCODE_ALL_APPS = 284;
    KeyEvent.KEYCODE_ALT_LEFT = 57;
    KeyEvent.KEYCODE_ALT_RIGHT = 58;
    KeyEvent.KEYCODE_APOSTROPHE = 75;
    KeyEvent.KEYCODE_APP_SWITCH = 187;
    KeyEvent.KEYCODE_ASSIST = 219;
    KeyEvent.KEYCODE_AT = 77;
    KeyEvent.KEYCODE_AVR_INPUT = 182;
    KeyEvent.KEYCODE_AVR_POWER = 181;
    KeyEvent.KEYCODE_B = 30;
    KeyEvent.KEYCODE_BACK = 4;
    KeyEvent.KEYCODE_BACKSLASH = 73;
    KeyEvent.KEYCODE_BOOKMARK = 174;
    KeyEvent.KEYCODE_BREAK = 121;
    KeyEvent.KEYCODE_BRIGHTNESS_DOWN = 220;
    KeyEvent.KEYCODE_BRIGHTNESS_UP = 221;
    KeyEvent.KEYCODE_BUTTON_1 = 188;
    KeyEvent.KEYCODE_BUTTON_10 = 197;
    KeyEvent.KEYCODE_BUTTON_11 = 198;
    KeyEvent.KEYCODE_BUTTON_12 = 199;
    KeyEvent.KEYCODE_BUTTON_13 = 200;
    KeyEvent.KEYCODE_BUTTON_14 = 201;
    KeyEvent.KEYCODE_BUTTON_15 = 202;
    KeyEvent.KEYCODE_BUTTON_16 = 203;
    KeyEvent.KEYCODE_BUTTON_2 = 189;
    KeyEvent.KEYCODE_BUTTON_3 = 190;
    KeyEvent.KEYCODE_BUTTON_4 = 191;
    KeyEvent.KEYCODE_BUTTON_5 = 192;
    KeyEvent.KEYCODE_BUTTON_6 = 193;
    KeyEvent.KEYCODE_BUTTON_7 = 194;
    KeyEvent.KEYCODE_BUTTON_8 = 195;
    KeyEvent.KEYCODE_BUTTON_9 = 196;
    KeyEvent.KEYCODE_BUTTON_A = 96;
    KeyEvent.KEYCODE_BUTTON_B = 97;
    KeyEvent.KEYCODE_BUTTON_C = 98;
    KeyEvent.KEYCODE_BUTTON_L1 = 102;
    KeyEvent.KEYCODE_BUTTON_L2 = 104;
    KeyEvent.KEYCODE_BUTTON_MODE = 110;
    KeyEvent.KEYCODE_BUTTON_R1 = 103;
    KeyEvent.KEYCODE_BUTTON_R2 = 105;
    KeyEvent.KEYCODE_BUTTON_SELECT = 109;
    KeyEvent.KEYCODE_BUTTON_START = 108;
    KeyEvent.KEYCODE_BUTTON_THUMBL = 106;
    KeyEvent.KEYCODE_BUTTON_THUMBR = 107;
    KeyEvent.KEYCODE_BUTTON_X = 99;
    KeyEvent.KEYCODE_BUTTON_Y = 100;
    KeyEvent.KEYCODE_BUTTON_Z = 101;
    KeyEvent.KEYCODE_C = 31;
    KeyEvent.KEYCODE_CALCULATOR = 210;
    KeyEvent.KEYCODE_CALENDAR = 208;
    KeyEvent.KEYCODE_CALL = 5;
    KeyEvent.KEYCODE_CAMERA = 27;
    KeyEvent.KEYCODE_CAPS_LOCK = 115;
    KeyEvent.KEYCODE_CAPTIONS = 175;
    KeyEvent.KEYCODE_CHANNEL_DOWN = 167;
    KeyEvent.KEYCODE_CHANNEL_UP = 166;
    KeyEvent.KEYCODE_CLEAR = 28;
    KeyEvent.KEYCODE_COMMA = 55;
    KeyEvent.KEYCODE_CONTACTS = 207;
    KeyEvent.KEYCODE_COPY = 278;
    KeyEvent.KEYCODE_CTRL_LEFT = 113;
    KeyEvent.KEYCODE_CTRL_RIGHT = 114;
    KeyEvent.KEYCODE_CUT = 277;
    KeyEvent.KEYCODE_D = 32;
    KeyEvent.KEYCODE_DEL = 67;
    KeyEvent.KEYCODE_DPAD_CENTER = 23;
    KeyEvent.KEYCODE_DPAD_DOWN = 20;
    KeyEvent.KEYCODE_DPAD_DOWN_LEFT = 269;
    KeyEvent.KEYCODE_DPAD_DOWN_RIGHT = 271;
    KeyEvent.KEYCODE_DPAD_LEFT = 21;
    KeyEvent.KEYCODE_DPAD_RIGHT = 22;
    KeyEvent.KEYCODE_DPAD_UP = 19;
    KeyEvent.KEYCODE_DPAD_UP_LEFT = 268;
    KeyEvent.KEYCODE_DPAD_UP_RIGHT = 270;
    KeyEvent.KEYCODE_DVR = 173;
    KeyEvent.KEYCODE_E = 33;
    KeyEvent.KEYCODE_EISU = 212;
    KeyEvent.KEYCODE_ENDCALL = 6;
    KeyEvent.KEYCODE_ENTER = 66;
    KeyEvent.KEYCODE_ENVELOPE = 65;
    KeyEvent.KEYCODE_EQUALS = 70;
    KeyEvent.KEYCODE_ESCAPE = 111;
    KeyEvent.KEYCODE_EXPLORER = 64;
    KeyEvent.KEYCODE_F = 34;
    KeyEvent.KEYCODE_F1 = 131;
    KeyEvent.KEYCODE_F10 = 140;
    KeyEvent.KEYCODE_F11 = 141;
    KeyEvent.KEYCODE_F12 = 142;
    KeyEvent.KEYCODE_F2 = 132;
    KeyEvent.KEYCODE_F3 = 133;
    KeyEvent.KEYCODE_F4 = 134;
    KeyEvent.KEYCODE_F5 = 135;
    KeyEvent.KEYCODE_F6 = 136;
    KeyEvent.KEYCODE_F7 = 137;
    KeyEvent.KEYCODE_F8 = 138;
    KeyEvent.KEYCODE_F9 = 139;
    KeyEvent.KEYCODE_FOCUS = 80;
    KeyEvent.KEYCODE_FORWARD = 125;
    KeyEvent.KEYCODE_FORWARD_DEL = 112;
    KeyEvent.KEYCODE_FUNCTION = 119;
    KeyEvent.KEYCODE_G = 35;
    KeyEvent.KEYCODE_GRAVE = 68;
    KeyEvent.KEYCODE_GUIDE = 172;
    KeyEvent.KEYCODE_H = 36;
    KeyEvent.KEYCODE_HEADSETHOOK = 79;
    KeyEvent.KEYCODE_HELP = 259;
    KeyEvent.KEYCODE_HENKAN = 214;
    KeyEvent.KEYCODE_HOME = 3;
    KeyEvent.KEYCODE_I = 37;
    KeyEvent.KEYCODE_INFO = 165;
    KeyEvent.KEYCODE_INSERT = 124;
    KeyEvent.KEYCODE_J = 38;
    KeyEvent.KEYCODE_K = 39;
    KeyEvent.KEYCODE_KANA = 218;
    KeyEvent.KEYCODE_KATAKANA_HIRAGANA = 215;
    KeyEvent.KEYCODE_L = 40;
    KeyEvent.KEYCODE_LANGUAGE_SWITCH = 204;
    KeyEvent.KEYCODE_LAST_CHANNEL = 229;
    KeyEvent.KEYCODE_LEFT_BRACKET = 71;
    KeyEvent.KEYCODE_M = 41;
    KeyEvent.KEYCODE_MANNER_MODE = 205;
    KeyEvent.KEYCODE_MEDIA_AUDIO_TRACK = 222;
    KeyEvent.KEYCODE_MEDIA_CLOSE = 128;
    KeyEvent.KEYCODE_MEDIA_EJECT = 129;
    KeyEvent.KEYCODE_MEDIA_FAST_FORWARD = 90;
    KeyEvent.KEYCODE_MEDIA_NEXT = 87;
    KeyEvent.KEYCODE_MEDIA_PAUSE = 127;
    KeyEvent.KEYCODE_MEDIA_PLAY = 126;
    KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE = 85;
    KeyEvent.KEYCODE_MEDIA_PREVIOUS = 88;
    KeyEvent.KEYCODE_MEDIA_RECORD = 130;
    KeyEvent.KEYCODE_MEDIA_REWIND = 89;
    KeyEvent.KEYCODE_MEDIA_SKIP_BACKWARD = 273;
    KeyEvent.KEYCODE_MEDIA_SKIP_FORWARD = 272;
    KeyEvent.KEYCODE_MEDIA_STEP_BACKWARD = 275;
    KeyEvent.KEYCODE_MEDIA_STEP_FORWARD = 274;
    KeyEvent.KEYCODE_MEDIA_STOP = 86;
    KeyEvent.KEYCODE_MEDIA_TOP_MENU = 226;
    KeyEvent.KEYCODE_MENU = 82;
    KeyEvent.KEYCODE_META_LEFT = 117;
    KeyEvent.KEYCODE_META_RIGHT = 118;
    KeyEvent.KEYCODE_MINUS = 69;
    KeyEvent.KEYCODE_MOVE_END = 123;
    KeyEvent.KEYCODE_MOVE_HOME = 122;
    KeyEvent.KEYCODE_MUHENKAN = 213;
    KeyEvent.KEYCODE_MUSIC = 209;
    KeyEvent.KEYCODE_MUTE = 91;
    KeyEvent.KEYCODE_N = 42;
    KeyEvent.KEYCODE_NAVIGATE_IN = 262;
    KeyEvent.KEYCODE_NAVIGATE_NEXT = 261;
    KeyEvent.KEYCODE_NAVIGATE_OUT = 263;
    KeyEvent.KEYCODE_NAVIGATE_PREVIOUS = 260;
    KeyEvent.KEYCODE_NOTIFICATION = 83;
    KeyEvent.KEYCODE_NUM = 78;
    KeyEvent.KEYCODE_NUMPAD_0 = 144;
    KeyEvent.KEYCODE_NUMPAD_1 = 145;
    KeyEvent.KEYCODE_NUMPAD_2 = 146;
    KeyEvent.KEYCODE_NUMPAD_3 = 147;
    KeyEvent.KEYCODE_NUMPAD_4 = 148;
    KeyEvent.KEYCODE_NUMPAD_5 = 149;
    KeyEvent.KEYCODE_NUMPAD_6 = 150;
    KeyEvent.KEYCODE_NUMPAD_7 = 151;
    KeyEvent.KEYCODE_NUMPAD_8 = 152;
    KeyEvent.KEYCODE_NUMPAD_9 = 153;
    KeyEvent.KEYCODE_NUMPAD_ADD = 157;
    KeyEvent.KEYCODE_NUMPAD_COMMA = 159;
    KeyEvent.KEYCODE_NUMPAD_DIVIDE = 154;
    KeyEvent.KEYCODE_NUMPAD_DOT = 158;
    KeyEvent.KEYCODE_NUMPAD_ENTER = 160;
    KeyEvent.KEYCODE_NUMPAD_EQUALS = 161;
    KeyEvent.KEYCODE_NUMPAD_LEFT_PAREN = 162;
    KeyEvent.KEYCODE_NUMPAD_MULTIPLY = 155;
    KeyEvent.KEYCODE_NUMPAD_RIGHT_PAREN = 163;
    KeyEvent.KEYCODE_NUMPAD_SUBTRACT = 156;
    KeyEvent.KEYCODE_NUM_LOCK = 143;
    KeyEvent.KEYCODE_O = 43;
    KeyEvent.KEYCODE_P = 44;
    KeyEvent.KEYCODE_PAGE_DOWN = 93;
    KeyEvent.KEYCODE_PAGE_UP = 92;
    KeyEvent.KEYCODE_PAIRING = 225;
    KeyEvent.KEYCODE_PASTE = 279;
    KeyEvent.KEYCODE_PERIOD = 56;
    KeyEvent.KEYCODE_PICTSYMBOLS = 94;
    KeyEvent.KEYCODE_PLUS = 81;
    KeyEvent.KEYCODE_POUND = 18;
    KeyEvent.KEYCODE_POWER = 26;
    KeyEvent.KEYCODE_PROFILE_SWITCH = 288;
    KeyEvent.KEYCODE_PROG_BLUE = 186;
    KeyEvent.KEYCODE_PROG_GREEN = 184;
    KeyEvent.KEYCODE_PROG_RED = 183;
    KeyEvent.KEYCODE_PROG_YELLOW = 185;
    KeyEvent.KEYCODE_Q = 45;
    KeyEvent.KEYCODE_R = 46;
    KeyEvent.KEYCODE_REFRESH = 285;
    KeyEvent.KEYCODE_RIGHT_BRACKET = 72;
    KeyEvent.KEYCODE_RO = 217;
    KeyEvent.KEYCODE_S = 47;
    KeyEvent.KEYCODE_SCROLL_LOCK = 116;
    KeyEvent.KEYCODE_SEARCH = 84;
    KeyEvent.KEYCODE_SEMICOLON = 74;
    KeyEvent.KEYCODE_SETTINGS = 176;
    KeyEvent.KEYCODE_SHIFT_LEFT = 59;
    KeyEvent.KEYCODE_SHIFT_RIGHT = 60;
    KeyEvent.KEYCODE_SLASH = 76;
    KeyEvent.KEYCODE_SLEEP = 223;
    KeyEvent.KEYCODE_SOFT_LEFT = 1;
    KeyEvent.KEYCODE_SOFT_RIGHT = 2;
    KeyEvent.KEYCODE_SOFT_SLEEP = 276;
    KeyEvent.KEYCODE_SPACE = 62;
    KeyEvent.KEYCODE_STAR = 17;
    KeyEvent.KEYCODE_STB_INPUT = 180;
    KeyEvent.KEYCODE_STB_POWER = 179;
    KeyEvent.KEYCODE_STEM_1 = 265;
    KeyEvent.KEYCODE_STEM_2 = 266;
    KeyEvent.KEYCODE_STEM_3 = 267;
    KeyEvent.KEYCODE_STEM_PRIMARY = 264;
    KeyEvent.KEYCODE_SWITCH_CHARSET = 95;
    KeyEvent.KEYCODE_SYM = 63;
    KeyEvent.KEYCODE_SYSRQ = 120;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_DOWN = 281;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_LEFT = 282;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_RIGHT = 283;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_UP = 280;
    KeyEvent.KEYCODE_T = 48;
    KeyEvent.KEYCODE_TAB = 61;
    KeyEvent.KEYCODE_THUMBS_DOWN = 287;
    KeyEvent.KEYCODE_THUMBS_UP = 286;
    KeyEvent.KEYCODE_TV = 170;
    KeyEvent.KEYCODE_TV_ANTENNA_CABLE = 242;
    KeyEvent.KEYCODE_TV_AUDIO_DESCRIPTION = 252;
    KeyEvent.KEYCODE_TV_AUDIO_DESCRIPTION_MIX_DOWN = 254;
    KeyEvent.KEYCODE_TV_AUDIO_DESCRIPTION_MIX_UP = 253;
    KeyEvent.KEYCODE_TV_CONTENTS_MENU = 256;
    KeyEvent.KEYCODE_TV_DATA_SERVICE = 230;
    KeyEvent.KEYCODE_TV_INPUT = 178;
    KeyEvent.KEYCODE_TV_INPUT_COMPONENT_1 = 249;
    KeyEvent.KEYCODE_TV_INPUT_COMPONENT_2 = 250;
    KeyEvent.KEYCODE_TV_INPUT_COMPOSITE_1 = 247;
    KeyEvent.KEYCODE_TV_INPUT_COMPOSITE_2 = 248;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_1 = 243;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_2 = 244;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_3 = 245;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_4 = 246;
    KeyEvent.KEYCODE_TV_INPUT_VGA_1 = 251;
    KeyEvent.KEYCODE_TV_MEDIA_CONTEXT_MENU = 257;
    KeyEvent.KEYCODE_TV_NETWORK = 241;
    KeyEvent.KEYCODE_TV_NUMBER_ENTRY = 234;
    KeyEvent.KEYCODE_TV_POWER = 177;
    KeyEvent.KEYCODE_TV_RADIO_SERVICE = 232;
    KeyEvent.KEYCODE_TV_SATELLITE = 237;
    KeyEvent.KEYCODE_TV_SATELLITE_BS = 238;
    KeyEvent.KEYCODE_TV_SATELLITE_CS = 239;
    KeyEvent.KEYCODE_TV_SATELLITE_SERVICE = 240;
    KeyEvent.KEYCODE_TV_TELETEXT = 233;
    KeyEvent.KEYCODE_TV_TERRESTRIAL_ANALOG = 235;
    KeyEvent.KEYCODE_TV_TERRESTRIAL_DIGITAL = 236;
    KeyEvent.KEYCODE_TV_TIMER_PROGRAMMING = 258;
    KeyEvent.KEYCODE_TV_ZOOM_MODE = 255;
    KeyEvent.KEYCODE_U = 49;
    KeyEvent.KEYCODE_UNKNOWN = 0;
    KeyEvent.KEYCODE_V = 50;
    KeyEvent.KEYCODE_VOICE_ASSIST = 231;
    KeyEvent.KEYCODE_VOLUME_DOWN = 25;
    KeyEvent.KEYCODE_VOLUME_MUTE = 164;
    KeyEvent.KEYCODE_VOLUME_UP = 24;
    KeyEvent.KEYCODE_W = 51;
    KeyEvent.KEYCODE_WAKEUP = 224;
    KeyEvent.KEYCODE_WINDOW = 171;
    KeyEvent.KEYCODE_X = 52;
    KeyEvent.KEYCODE_Y = 53;
    KeyEvent.KEYCODE_YEN = 216;
    KeyEvent.KEYCODE_Z = 54;
    KeyEvent.KEYCODE_ZENKAKU_HANKAKU = 211;
    KeyEvent.KEYCODE_ZOOM_IN = 168;
    KeyEvent.KEYCODE_ZOOM_OUT = 169;
    KeyEvent.META_ALT_LEFT_ON = 16;
    KeyEvent.META_ALT_MASK = 50;
    KeyEvent.META_ALT_ON = 2;
    KeyEvent.META_ALT_RIGHT_ON = 32;
    KeyEvent.META_CAPS_LOCK_ON = 1048576;
    KeyEvent.META_CTRL_LEFT_ON = 8192;
    KeyEvent.META_CTRL_MASK = 28672;
    KeyEvent.META_CTRL_ON = 4096;
    KeyEvent.META_CTRL_RIGHT_ON = 16384;
    KeyEvent.META_FUNCTION_ON = 8;
    KeyEvent.META_META_LEFT_ON = 131072;
    KeyEvent.META_META_MASK = 458752;
    KeyEvent.META_META_ON = 65536;
    KeyEvent.META_META_RIGHT_ON = 262144;
    KeyEvent.META_NUM_LOCK_ON = 2097152;
    KeyEvent.META_SCROLL_LOCK_ON = 4194304;
    KeyEvent.META_SHIFT_LEFT_ON = 64;
    KeyEvent.META_SHIFT_MASK = 193;
    KeyEvent.META_SHIFT_ON = 1;
    KeyEvent.META_SHIFT_RIGHT_ON = 128;
    KeyEvent.META_SYM_ON = 4;
    return KeyEvent;
}());
exports["default"] = KeyEvent;


/***/ }),

/***/ "./src/app/googDevice/client/ConfigureScrcpy.ts":
/*!******************************************************!*\
  !*** ./src/app/googDevice/client/ConfigureScrcpy.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConfigureScrcpy = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/dialog.css */ "./src/style/dialog.css");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../VideoSettings */ "./src/app/VideoSettings.ts"));
var StreamClientScrcpy_1 = __webpack_require__(/*! ./StreamClientScrcpy */ "./src/app/googDevice/client/StreamClientScrcpy.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Size */ "./src/app/Size.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var DisplayInfo_1 = __webpack_require__(/*! ../../DisplayInfo */ "./src/app/DisplayInfo.ts");
var ToolBoxButton_1 = __webpack_require__(/*! ../../toolbox/ToolBoxButton */ "./src/app/toolbox/ToolBoxButton.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var ToolBoxCheckbox_1 = __webpack_require__(/*! ../../toolbox/ToolBoxCheckbox */ "./src/app/toolbox/ToolBoxCheckbox.ts");
var Attribute_1 = __webpack_require__(/*! ../../Attribute */ "./src/app/Attribute.ts");
var StreamReceiverScrcpy_1 = __webpack_require__(/*! ./StreamReceiverScrcpy */ "./src/app/googDevice/client/StreamReceiverScrcpy.ts");
var BaseClient_1 = __webpack_require__(/*! ../../client/BaseClient */ "./src/app/client/BaseClient.ts");
var ConfigureScrcpy = (function (_super) {
    tslib_1.__extends(ConfigureScrcpy, _super);
    function ConfigureScrcpy(tracker, descriptor, params) {
        var _this = _super.call(this, params) || this;
        _this.tracker = tracker;
        _this.statusText = '';
        _this.connectionCount = 0;
        _this.onEncoders = function (encoders) {
            var select = _this.encoderSelectElement || document.createElement('select');
            var child;
            while ((child = select.firstChild)) {
                select.removeChild(child);
            }
            encoders.unshift('');
            encoders.forEach(function (value) {
                var optionElement = document.createElement('option');
                optionElement.setAttribute('value', value);
                optionElement.innerText = value;
                select.appendChild(optionElement);
            });
            _this.encoderSelectElement = select;
        };
        _this.onDisplayInfo = function (infoArray) {
            var _a;
            _this.statusText = 'Ready';
            _this.updateStatus();
            (_a = _this.dialogContainer) === null || _a === void 0 ? void 0 : _a.classList.add('ready');
            var select = _this.displayIdSelectElement || document.createElement('select');
            var child;
            while ((child = select.firstChild)) {
                select.removeChild(child);
            }
            var selectedOptionIdx = -1;
            infoArray.forEach(function (value, idx) {
                var displayInfo = value.displayInfo;
                var displayId = displayInfo.displayId, size = displayInfo.size;
                var optionElement = document.createElement('option');
                optionElement.setAttribute('value', displayId.toString());
                optionElement.innerText = "ID: ".concat(displayId, "; ").concat(size.width, "x").concat(size.height);
                select.appendChild(optionElement);
                if ((_this.displayInfo && _this.displayInfo.displayId === displayId) ||
                    (!_this.displayInfo && displayId === DisplayInfo_1.DisplayInfo.DEFAULT_DISPLAY)) {
                    selectedOptionIdx = idx;
                }
            });
            if (selectedOptionIdx > -1) {
                select.selectedIndex = selectedOptionIdx;
                var _b = infoArray[selectedOptionIdx], videoSettings = _b.videoSettings, connectionCount = _b.connectionCount, displayInfo = _b.displayInfo;
                _this.displayInfo = displayInfo;
                if (connectionCount > 0 && videoSettings) {
                    _this.fillInputsFromVideoSettings(videoSettings, false);
                }
                else {
                    _this.updateVideoSettingsForPlayer();
                }
                _this.connectionCount = connectionCount;
                _this.updateStatus();
            }
            _this.displayIdSelectElement = select;
            if (_this.dialogBody) {
                _this.dialogBody.classList.remove('hidden');
                _this.dialogBody.classList.add('visible');
            }
        };
        _this.onConnected = function () {
            _this.statusText = 'Waiting for info...';
            _this.updateStatus();
            if (_this.okButton) {
                _this.okButton.disabled = false;
            }
        };
        _this.onDisconnected = function () {
            _this.statusText = 'Disconnected';
            _this.updateStatus();
            if (_this.okButton) {
                _this.okButton.disabled = true;
            }
            if (_this.dialogBody) {
                _this.dialogBody.classList.remove('visible');
                _this.dialogBody.classList.add('hidden');
            }
        };
        _this.onPlayerChange = function () {
            _this.updateVideoSettingsForPlayer();
        };
        _this.onDisplayIdChange = function () {
            var select = _this.displayIdSelectElement;
            if (!select || !_this.streamReceiver) {
                return;
            }
            var value = select.options[select.selectedIndex].value;
            var displayId = parseInt(value, 10);
            if (!isNaN(displayId)) {
                _this.displayInfo = _this.streamReceiver.getDisplayInfo(displayId);
            }
            _this.updateVideoSettingsForPlayer();
        };
        _this.onBackgroundClick = function (event) {
            if (event.target !== event.currentTarget) {
                return;
            }
            _this.cancel();
        };
        _this.cancel = function () {
            if (_this.streamReceiver) {
                _this.detachEventsListeners(_this.streamReceiver);
                _this.streamReceiver.stop();
            }
            _this.emit('closed', { dialog: _this, result: false });
            _this.removeUI();
        };
        _this.resetSettings = function () {
            var player = _this.getPlayer();
            if (player) {
                _this.fillInputsFromVideoSettings(player.getPreferredVideoSetting(), false);
            }
        };
        _this.loadSettings = function () {
            _this.updateVideoSettingsForPlayer();
        };
        _this.saveSettings = function () {
            var videoSettings = _this.buildVideoSettings();
            var player = _this.getPlayer();
            if (videoSettings && player) {
                var fitToScreen = _this.getFitToScreenValue();
                player.saveVideoSettings(_this.udid, videoSettings, fitToScreen, _this.displayInfo);
            }
        };
        _this.openStream = function () {
            var videoSettings = _this.buildVideoSettings();
            if (!videoSettings || !_this.streamReceiver || !_this.playerName) {
                return;
            }
            var fitToScreen = _this.getFitToScreenValue();
            _this.detachEventsListeners(_this.streamReceiver);
            _this.emit('closed', { dialog: _this, result: true });
            _this.removeUI();
            var player = StreamClientScrcpy_1.StreamClientScrcpy.createPlayer(_this.playerName, _this.udid, _this.displayInfo);
            if (!player) {
                return;
            }
            _this.setPreviouslyUsedPlayer(_this.playerName);
            player.setVideoSettings(videoSettings, fitToScreen, false);
            var params = tslib_1.__assign(tslib_1.__assign({}, _this.params), { udid: _this.udid, fitToScreen: fitToScreen });
            StreamClientScrcpy_1.StreamClientScrcpy.start(params, _this.streamReceiver, player, fitToScreen, videoSettings);
            _this.streamReceiver.triggerInitialInfoEvents();
        };
        _this.udid = descriptor.udid;
        _this.escapedUdid = Util_1.default.escapeUdid(_this.udid);
        _this.playerStorageKey = "configure_stream::".concat(_this.escapedUdid, "::player");
        _this.deviceName = descriptor['ro.product.model'];
        _this.TAG = "ConfigureScrcpy[".concat(_this.udid, "]");
        _this.createStreamReceiver(params);
        _this.setTitle("".concat(_this.deviceName, ". Configure stream"));
        _this.background = _this.createUI();
        return _this;
    }
    ConfigureScrcpy.prototype.getTracker = function () {
        return this.tracker;
    };
    ConfigureScrcpy.prototype.createStreamReceiver = function (params) {
        if (this.streamReceiver) {
            this.detachEventsListeners(this.streamReceiver);
            this.streamReceiver.stop();
        }
        this.streamReceiver = new StreamReceiverScrcpy_1.StreamReceiverScrcpy(params);
        this.attachEventsListeners(this.streamReceiver);
    };
    ConfigureScrcpy.prototype.attachEventsListeners = function (streamReceiver) {
        streamReceiver.on('encoders', this.onEncoders);
        streamReceiver.on('displayInfo', this.onDisplayInfo);
        streamReceiver.on('connected', this.onConnected);
        streamReceiver.on('disconnected', this.onDisconnected);
    };
    ConfigureScrcpy.prototype.detachEventsListeners = function (streamReceiver) {
        streamReceiver.off('encoders', this.onEncoders);
        streamReceiver.off('displayInfo', this.onDisplayInfo);
        streamReceiver.off('connected', this.onConnected);
        streamReceiver.off('disconnected', this.onDisconnected);
    };
    ConfigureScrcpy.prototype.updateStatus = function () {
        if (!this.connectionStatusElement) {
            return;
        }
        var text = this.statusText;
        if (this.connectionCount) {
            text = "".concat(text, ". Other clients: ").concat(this.connectionCount, ".");
        }
        this.connectionStatusElement.innerText = text;
    };
    ConfigureScrcpy.prototype.getPlayer = function () {
        if (!this.playerSelectElement) {
            return;
        }
        var playerName = this.playerSelectElement.options[this.playerSelectElement.selectedIndex].value;
        return StreamClientScrcpy_1.StreamClientScrcpy.getPlayers().find(function (playerClass) {
            return playerClass.playerFullName === playerName;
        });
    };
    ConfigureScrcpy.prototype.updateVideoSettingsForPlayer = function () {
        var player = this.getPlayer();
        if (player) {
            this.playerName = player.playerFullName;
            var storedOrPreferred = player.loadVideoSettings(this.udid, this.displayInfo);
            var fitToScreen = player.getFitToScreenStatus(this.udid, this.displayInfo);
            this.fillInputsFromVideoSettings(storedOrPreferred, fitToScreen);
        }
    };
    ConfigureScrcpy.prototype.getBasicInput = function (id) {
        var element = document.getElementById("".concat(id, "_").concat(this.escapedUdid));
        if (!element) {
            return null;
        }
        return element;
    };
    ConfigureScrcpy.prototype.fillInputsFromVideoSettings = function (videoSettings, fitToScreen) {
        if (this.displayInfo && this.displayInfo.displayId !== videoSettings.displayId) {
            console.error(this.TAG, "Display id from VideoSettings and DisplayInfo don't match");
        }
        console.log("fillInputsFromVideoSettings", videoSettings);
        this.fillBasicInput({ id: 'bitrate' }, videoSettings);
        this.fillBasicInput({ id: 'maxFps' }, videoSettings);
        this.fillBasicInput({ id: 'iFrameInterval' }, videoSettings);
        this.fillBasicInput({ id: 'codecOptions' }, videoSettings);
        if (videoSettings.bounds) {
            var _a = videoSettings.bounds, width = _a.width, height = _a.height;
            var widthInput = this.getBasicInput('maxWidth');
            if (widthInput) {
                widthInput.value = width.toString(10);
            }
            var heightInput = this.getBasicInput('maxHeight');
            if (heightInput) {
                heightInput.value = height.toString(10);
            }
        }
        if (this.encoderSelectElement) {
            var encoderName_1 = videoSettings.encoderName || '';
            var option = Array.from(this.encoderSelectElement.options).find(function (element) {
                return element.value === encoderName_1;
            });
            if (option) {
                this.encoderSelectElement.selectedIndex = option.index;
            }
        }
        if (this.fitToScreenCheckbox) {
            this.fitToScreenCheckbox.checked = fitToScreen;
            this.onFitToScreenChanged(fitToScreen);
        }
    };
    ConfigureScrcpy.prototype.onFitToScreenChanged = function (checked) {
        var heightInput = this.getBasicInput('maxHeight');
        var widthInput = this.getBasicInput('maxWidth');
        if (!this.fitToScreenCheckbox || !heightInput || !widthInput) {
            return;
        }
        heightInput.disabled = widthInput.disabled = checked;
        if (checked) {
            heightInput.setAttribute(Attribute_1.Attribute.VALUE, heightInput.value);
            heightInput.value = '';
            widthInput.setAttribute(Attribute_1.Attribute.VALUE, widthInput.value);
            widthInput.value = '';
        }
        else {
            var storedHeight = heightInput.getAttribute(Attribute_1.Attribute.VALUE);
            if (typeof storedHeight === 'string') {
                heightInput.value = storedHeight;
                heightInput.removeAttribute(Attribute_1.Attribute.VALUE);
            }
            var storedWidth = widthInput.getAttribute(Attribute_1.Attribute.VALUE);
            if (typeof storedWidth === 'string') {
                widthInput.value = storedWidth;
                widthInput.removeAttribute(Attribute_1.Attribute.VALUE);
            }
        }
    };
    ConfigureScrcpy.prototype.fillBasicInput = function (opts, videoSettings) {
        var input = this.getBasicInput(opts.id);
        var value = videoSettings[opts.id];
        if (input) {
            if (typeof value !== 'undefined' && value !== '-' && value !== 0 && value !== null) {
                input.value = value.toString(10);
                if (input.getAttribute('type') === 'range') {
                    input.dispatchEvent(new Event('input'));
                }
            }
            else {
                input.value = '';
            }
        }
    };
    ConfigureScrcpy.prototype.appendBasicInput = function (parent, opts) {
        var label = document.createElement('label');
        label.classList.add('label');
        label.innerText = "".concat(opts.label, ":");
        label.id = "label_".concat(opts.id, "_").concat(this.escapedUdid);
        parent.appendChild(label);
        var input = document.createElement('input');
        input.classList.add('input');
        input.id = label.htmlFor = "".concat(opts.id, "_").concat(this.escapedUdid);
        var range = opts.range;
        if (range) {
            label.setAttribute('title', opts.label);
            input.oninput = function () {
                var value = range.formatter ? range.formatter(parseInt(input.value, 10)) : input.value;
                label.innerText = "".concat(opts.label, " (").concat(value, "):");
            };
            input.setAttribute('type', 'range');
            input.setAttribute('max', range.max.toString());
            input.setAttribute('min', range.min.toString());
            input.setAttribute('step', range.step.toString());
        }
        parent.appendChild(input);
        return input;
    };
    ConfigureScrcpy.prototype.getNumberValueFromInput = function (name) {
        var value = document.getElementById("".concat(name, "_").concat(this.escapedUdid)).value;
        return parseInt(value, 10);
    };
    ConfigureScrcpy.prototype.getStringValueFromInput = function (name) {
        return document.getElementById("".concat(name, "_").concat(this.escapedUdid)).value;
    };
    ConfigureScrcpy.prototype.getValueFromSelect = function (name) {
        var select = document.getElementById("".concat(name, "_").concat(this.escapedUdid));
        return select.options[select.selectedIndex].value;
    };
    ConfigureScrcpy.prototype.buildVideoSettings = function () {
        try {
            var bitrate = this.getNumberValueFromInput('bitrate');
            var maxFps = this.getNumberValueFromInput('maxFps');
            var iFrameInterval = this.getNumberValueFromInput('iFrameInterval');
            var maxWidth = this.getNumberValueFromInput('maxWidth');
            var maxHeight = this.getNumberValueFromInput('maxHeight');
            var displayId = this.getNumberValueFromInput('displayId');
            var codecOptions = this.getStringValueFromInput('codecOptions') || undefined;
            var bounds = void 0;
            if (!isNaN(maxWidth) && !isNaN(maxHeight) && maxWidth && maxHeight) {
                bounds = new Size_1.default(maxWidth, maxHeight);
            }
            var encoderName = this.getValueFromSelect('encoderName') || undefined;
            return new VideoSettings_1.default({
                bitrate: bitrate,
                bounds: bounds,
                maxFps: maxFps,
                iFrameInterval: iFrameInterval,
                displayId: displayId,
                codecOptions: codecOptions,
                encoderName: encoderName,
            });
        }
        catch (error) {
            console.error(this.TAG, error.message);
            return null;
        }
    };
    ConfigureScrcpy.prototype.getFitToScreenValue = function () {
        if (!this.fitToScreenCheckbox) {
            return false;
        }
        return this.fitToScreenCheckbox.checked;
    };
    ConfigureScrcpy.prototype.getPreviouslyUsedPlayer = function () {
        if (!window.localStorage) {
            return '';
        }
        var result = window.localStorage.getItem(this.playerStorageKey);
        if (result) {
            return result;
        }
        else {
            return '';
        }
    };
    ConfigureScrcpy.prototype.setPreviouslyUsedPlayer = function (playerName) {
        if (!window.localStorage) {
            return;
        }
        window.localStorage.setItem(this.playerStorageKey, playerName);
    };
    ConfigureScrcpy.prototype.createUI = function () {
        var _this = this;
        var dialogName = 'configureDialog';
        var blockClass = 'dialog-block';
        var background = document.createElement('div');
        background.classList.add('dialog-background', dialogName);
        var dialogContainer = (this.dialogContainer = document.createElement('div'));
        dialogContainer.classList.add('dialog-container', dialogName);
        var dialogHeader = document.createElement('div');
        dialogHeader.classList.add('dialog-header', dialogName, 'control-wrapper');
        var backButton = new ToolBoxButton_1.ToolBoxButton('Back', SvgImage_1.default.Icon.ARROW_BACK);
        backButton.addEventListener('click', function () {
            _this.cancel();
        });
        backButton.getAllElements().forEach(function (el) {
            dialogHeader.appendChild(el);
        });
        var deviceName = document.createElement('span');
        deviceName.classList.add('dialog-title', 'main-title');
        deviceName.innerText = this.deviceName;
        dialogHeader.appendChild(deviceName);
        var dialogBody = (this.dialogBody = document.createElement('div'));
        dialogBody.classList.add('dialog-body', blockClass, dialogName, 'hidden');
        var playerWrapper = document.createElement('div');
        playerWrapper.classList.add('controls');
        var playerLabel = document.createElement('label');
        playerLabel.classList.add('label');
        playerLabel.innerText = 'Player:';
        playerWrapper.appendChild(playerLabel);
        var playerSelect = (this.playerSelectElement = document.createElement('select'));
        playerSelect.classList.add('input');
        playerSelect.id = playerLabel.htmlFor = "player_".concat(this.escapedUdid);
        playerWrapper.appendChild(playerSelect);
        dialogBody.appendChild(playerWrapper);
        var previouslyUsedPlayer = this.getPreviouslyUsedPlayer();
        StreamClientScrcpy_1.StreamClientScrcpy.getPlayers().forEach(function (playerClass, index) {
            var playerFullName = playerClass.playerFullName;
            var optionElement = document.createElement('option');
            optionElement.setAttribute('value', playerFullName);
            optionElement.innerText = playerFullName;
            playerSelect.appendChild(optionElement);
            if (playerFullName === previouslyUsedPlayer) {
                playerSelect.selectedIndex = index;
            }
        });
        playerSelect.onchange = this.onPlayerChange;
        this.updateVideoSettingsForPlayer();
        var controls = document.createElement('div');
        controls.classList.add('controls', 'control-wrapper');
        var displayIdLabel = document.createElement('label');
        displayIdLabel.classList.add('label');
        displayIdLabel.innerText = 'Display:';
        controls.appendChild(displayIdLabel);
        if (!this.displayIdSelectElement) {
            this.displayIdSelectElement = document.createElement('select');
        }
        controls.appendChild(this.displayIdSelectElement);
        this.displayIdSelectElement.classList.add('input');
        this.displayIdSelectElement.id = displayIdLabel.htmlFor = "displayId_".concat(this.escapedUdid);
        this.displayIdSelectElement.onchange = this.onDisplayIdChange;
        this.appendBasicInput(controls, {
            label: 'Bitrate',
            id: 'bitrate',
            range: { min: 524288, max: 8388608, step: 524288, formatter: Util_1.default.prettyBytes },
        });
        this.appendBasicInput(controls, {
            label: 'Max FPS',
            id: 'maxFps',
            range: { min: 1, max: 60, step: 1 },
        });
        this.appendBasicInput(controls, { label: 'I-Frame interval', id: 'iFrameInterval' });
        var fitLabel = document.createElement('label');
        fitLabel.innerText = 'Fit to screen';
        fitLabel.classList.add('label');
        controls.appendChild(fitLabel);
        var fitToggle = new ToolBoxCheckbox_1.ToolBoxCheckbox('Fit to screen', { off: SvgImage_1.default.Icon.TOGGLE_OFF, on: SvgImage_1.default.Icon.TOGGLE_ON }, 'fit_to_screen');
        fitToggle.getAllElements().forEach(function (el) {
            controls.appendChild(el);
            if (el instanceof HTMLLabelElement) {
                fitLabel.htmlFor = el.htmlFor;
                el.classList.add('input');
            }
            if (el instanceof HTMLInputElement) {
                _this.fitToScreenCheckbox = el;
            }
        });
        fitToggle.addEventListener('click', function (_, el) {
            var element = el.getElement();
            _this.onFitToScreenChanged(element.checked);
        });
        this.appendBasicInput(controls, { label: 'Max width', id: 'maxWidth' });
        this.appendBasicInput(controls, { label: 'Max height', id: 'maxHeight' });
        this.appendBasicInput(controls, { label: 'Codec options', id: 'codecOptions' });
        var encoderLabel = document.createElement('label');
        encoderLabel.classList.add('label');
        encoderLabel.innerText = 'Encoder:';
        controls.appendChild(encoderLabel);
        if (!this.encoderSelectElement) {
            this.encoderSelectElement = document.createElement('select');
        }
        controls.appendChild(this.encoderSelectElement);
        this.encoderSelectElement.classList.add('input');
        this.encoderSelectElement.id = encoderLabel.htmlFor = "encoderName_".concat(this.escapedUdid);
        dialogBody.appendChild(controls);
        var buttonsWrapper = document.createElement('div');
        buttonsWrapper.classList.add('controls');
        var resetSettingsButton = (this.resetSettingsButton = document.createElement('button'));
        resetSettingsButton.classList.add('button');
        resetSettingsButton.innerText = 'Reset settings';
        resetSettingsButton.addEventListener('click', this.resetSettings);
        buttonsWrapper.appendChild(resetSettingsButton);
        var loadSettingsButton = (this.loadSettingsButton = document.createElement('button'));
        loadSettingsButton.classList.add('button');
        loadSettingsButton.innerText = 'Load settings';
        loadSettingsButton.addEventListener('click', this.loadSettings);
        buttonsWrapper.appendChild(loadSettingsButton);
        var saveSettingsButton = (this.saveSettingsButton = document.createElement('button'));
        saveSettingsButton.classList.add('button');
        saveSettingsButton.innerText = 'Save settings';
        saveSettingsButton.addEventListener('click', this.saveSettings);
        buttonsWrapper.appendChild(saveSettingsButton);
        dialogBody.appendChild(buttonsWrapper);
        var dialogFooter = document.createElement('div');
        dialogFooter.classList.add('dialog-footer', blockClass, dialogName);
        var statusElement = document.createElement('span');
        statusElement.classList.add('subtitle');
        this.connectionStatusElement = statusElement;
        dialogFooter.appendChild(statusElement);
        this.statusText = "Connecting...";
        this.updateStatus();
        var okButton = (this.okButton = document.createElement('button'));
        okButton.innerText = 'Open';
        okButton.disabled = true;
        okButton.addEventListener('click', this.openStream);
        dialogFooter.appendChild(okButton);
        dialogBody.appendChild(dialogFooter);
        dialogContainer.appendChild(dialogHeader);
        dialogContainer.appendChild(dialogBody);
        dialogContainer.appendChild(dialogFooter);
        background.appendChild(dialogContainer);
        background.addEventListener('click', this.onBackgroundClick);
        document.body.appendChild(background);
        return background;
    };
    ConfigureScrcpy.prototype.removeUI = function () {
        var _a, _b, _c, _d;
        document.body.removeChild(this.background);
        (_a = this.okButton) === null || _a === void 0 ? void 0 : _a.removeEventListener('click', this.openStream);
        (_b = this.resetSettingsButton) === null || _b === void 0 ? void 0 : _b.removeEventListener('click', this.resetSettings);
        (_c = this.loadSettingsButton) === null || _c === void 0 ? void 0 : _c.removeEventListener('click', this.loadSettings);
        (_d = this.saveSettingsButton) === null || _d === void 0 ? void 0 : _d.removeEventListener('click', this.saveSettings);
        this.background.removeEventListener('click', this.onBackgroundClick);
    };
    return ConfigureScrcpy;
}(BaseClient_1.BaseClient));
exports.ConfigureScrcpy = ConfigureScrcpy;


/***/ }),

/***/ "./src/app/googDevice/client/DeviceTracker.ts":
/*!****************************************************!*\
  !*** ./src/app/googDevice/client/DeviceTracker.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DeviceTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/devicelist.css */ "./src/style/devicelist.css");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Constants_1 = __webpack_require__(/*! ../../../common/Constants */ "./src/common/Constants.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var ControlCenterCommand_1 = __webpack_require__(/*! ../../../common/ControlCenterCommand */ "./src/common/ControlCenterCommand.ts");
var StreamClientScrcpy_1 = __webpack_require__(/*! ./StreamClientScrcpy */ "./src/app/googDevice/client/StreamClientScrcpy.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var Attribute_1 = __webpack_require__(/*! ../../Attribute */ "./src/app/Attribute.ts");
var DeviceState_1 = __webpack_require__(/*! ../../../common/DeviceState */ "./src/common/DeviceState.ts");
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var DESC_COLUMNS = [
    {
        title: 'Net Interface',
        field: 'interfaces',
    },
    {
        title: 'Server PID',
        field: 'pid',
    },
];
var DeviceTracker = (function (_super) {
    tslib_1.__extends(DeviceTracker, _super);
    function DeviceTracker(params, directUrl) {
        var _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({}, params), { action: DeviceTracker.ACTION }), directUrl) || this;
        _this.tableId = 'goog_device_list';
        _this.onInterfaceSelected = function (event) {
            var selectElement = event.currentTarget;
            var option = selectElement.selectedOptions[0];
            var url = decodeURI(option.getAttribute(Attribute_1.Attribute.URL) || '');
            var name = option.getAttribute(Attribute_1.Attribute.NAME) || '';
            var fullName = decodeURIComponent(selectElement.getAttribute(Attribute_1.Attribute.FULL_NAME) || '');
            var udid = selectElement.getAttribute(Attribute_1.Attribute.UDID) || '';
            _this.updateLink({ url: url, name: name, fullName: fullName, udid: udid, store: true });
        };
        _this.onActionButtonClick = function (event) {
            var button = event.currentTarget;
            var udid = button.getAttribute(Attribute_1.Attribute.UDID);
            var pidString = button.getAttribute(Attribute_1.Attribute.PID) || '';
            var command = button.getAttribute(Attribute_1.Attribute.COMMAND);
            var pid = parseInt(pidString, 10);
            var data = {
                id: _this.getNextId(),
                type: command,
                data: {
                    udid: typeof udid === 'string' ? udid : undefined,
                    pid: isNaN(pid) ? undefined : pid,
                },
            };
            if (_this.ws && _this.ws.readyState === _this.ws.OPEN) {
                _this.ws.send(JSON.stringify(data));
            }
        };
        DeviceTracker.instancesByUrl.set(directUrl, _this);
        _this.buildDeviceTable();
        _this.openNewConnection();
        return _this;
    }
    DeviceTracker.start = function (hostItem) {
        var url = this.buildUrlForTracker(hostItem).toString();
        var instance = this.instancesByUrl.get(url);
        if (!instance) {
            instance = new DeviceTracker(hostItem, url);
        }
        return instance;
    };
    DeviceTracker.getInstance = function (hostItem) {
        return this.start(hostItem);
    };
    DeviceTracker.prototype.onSocketOpen = function () {
    };
    DeviceTracker.prototype.setIdAndHostName = function (id, hostName) {
        var e_1, _a;
        _super.prototype.setIdAndHostName.call(this, id, hostName);
        try {
            for (var _b = tslib_1.__values(DeviceTracker.instancesByUrl.values()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var value = _c.value;
                if (value.id === id && value !== this) {
                    console.warn("Tracker with url: \"".concat(this.url, "\" has the same id(").concat(this.id, ") as tracker with url \"").concat(value.url, "\""));
                    console.warn("This tracker will shut down");
                    this.destroy();
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    DeviceTracker.prototype.updateLink = function (params) {
        var _this = this;
        var url = params.url, name = params.name, fullName = params.fullName, udid = params.udid, store = params.store;
        var playerTds = document.getElementsByName(encodeURIComponent("".concat(DeviceTracker.AttributePrefixPlayerFor).concat(fullName)));
        if (typeof udid !== 'string') {
            return;
        }
        if (store) {
            var localStorageKey = DeviceTracker.getLocalStorageKey(fullName || '');
            if (localStorage && name) {
                localStorage.setItem(localStorageKey, name);
            }
        }
        var action = Action_1.ACTION.STREAM_SCRCPY;
        playerTds.forEach(function (item) {
            item.innerHTML = '';
            var playerFullName = item.getAttribute(DeviceTracker.AttributePlayerFullName);
            var playerCodeName = item.getAttribute(DeviceTracker.AttributePlayerCodeName);
            if (!playerFullName || !playerCodeName) {
                return;
            }
            var link = DeviceTracker.buildLink({
                action: action,
                udid: udid,
                player: decodeURIComponent(playerCodeName),
                ws: url,
            }, decodeURIComponent(playerFullName), _this.params);
            item.appendChild(link);
        });
    };
    DeviceTracker.getLocalStorageKey = function (udid) {
        return "device_list::".concat(udid, "::interface");
    };
    DeviceTracker.createUrl = function (params, udid) {
        if (udid === void 0) { udid = ''; }
        var secure = !!params.secure;
        var hostname = params.hostname || location.hostname;
        var port = typeof params.port === 'number' ? params.port : secure ? 443 : 80;
        var pathname = params.pathname || location.pathname;
        var urlObject = this.buildUrl(tslib_1.__assign(tslib_1.__assign({}, params), { secure: secure, hostname: hostname, port: port, pathname: pathname }));
        if (udid) {
            urlObject.searchParams.set('action', Action_1.ACTION.PROXY_ADB);
            urlObject.searchParams.set('remote', "tcp:".concat(Constants_1.SERVER_PORT.toString(10)));
            urlObject.searchParams.set('udid', udid);
        }
        return urlObject;
    };
    DeviceTracker.createInterfaceOption = function (name, url) {
        var optionElement = document.createElement('option');
        optionElement.setAttribute(Attribute_1.Attribute.URL, url);
        optionElement.setAttribute(Attribute_1.Attribute.NAME, name);
        optionElement.innerText = "proxy over adb";
        return optionElement;
    };
    DeviceTracker.titleToClassName = function (title) {
        return title.toLowerCase().replace(/\s/g, '_');
    };
    DeviceTracker.prototype.buildDeviceRow = function (tbody, device) {
        var _this = this;
        var selectedInterfaceUrl = '';
        var selectedInterfaceName = '';
        var blockClass = 'desc-block';
        var fullName = "".concat(this.id, "_").concat(Util_1.default.escapeUdid(device.udid));
        var isActive = device.state === DeviceState_1.DeviceState.DEVICE;
        var hasPid = false;
        var servicesId = "device_services_".concat(fullName);
        var row = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">", " ", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                    <div class=\"sdk-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"], ["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">", " ", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                    <div class=\"sdk-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"])), isActive ? 'active' : 'not-active', device['ro.product.manufacturer'], device['ro.product.model'], device.udid, device['ro.build.version.release'], device['ro.build.version.sdk'], device.state, servicesId).content;
        var services = row.getElementById(servicesId);
        if (!services) {
            return;
        }
        DeviceTracker.tools.forEach(function (tool) {
            var entry = tool.createEntryForDeviceList(device, blockClass, _this.params);
            if (entry) {
                if (Array.isArray(entry)) {
                    entry.forEach(function (item) {
                        item && services.appendChild(item);
                    });
                }
                else {
                    services.appendChild(entry);
                }
            }
        });
        var streamEntry = StreamClientScrcpy_1.StreamClientScrcpy.createEntryForDeviceList(device, blockClass, fullName, this.params);
        streamEntry && services.appendChild(streamEntry);
        DESC_COLUMNS.forEach(function (item) {
            var title = item.title;
            var fieldName = item.field;
            var value;
            if (typeof item.field === 'string') {
                value = '' + device[item.field];
            }
            else {
                value = item.field(device);
            }
            var td = document.createElement('div');
            td.classList.add(DeviceTracker.titleToClassName(title), blockClass);
            services.appendChild(td);
            if (fieldName === 'pid') {
                hasPid = value !== '-1';
                var actionButton = document.createElement('button');
                actionButton.className = 'action-button kill-server-button';
                actionButton.setAttribute(Attribute_1.Attribute.UDID, device.udid);
                actionButton.setAttribute(Attribute_1.Attribute.PID, value);
                var command = void 0;
                if (isActive) {
                    actionButton.classList.add('active');
                    actionButton.onclick = _this.onActionButtonClick;
                    if (hasPid) {
                        command = ControlCenterCommand_1.ControlCenterCommand.KILL_SERVER;
                        actionButton.title = 'Kill server';
                        actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.CANCEL));
                    }
                    else {
                        command = ControlCenterCommand_1.ControlCenterCommand.START_SERVER;
                        actionButton.title = 'Start server';
                        actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.REFRESH));
                    }
                    actionButton.setAttribute(Attribute_1.Attribute.COMMAND, command);
                }
                else {
                    var timestamp = device['last.update.timestamp'];
                    if (timestamp) {
                        var date = new Date(timestamp);
                        actionButton.title = "Last update on ".concat(date.toLocaleDateString(), " at ").concat(date.toLocaleTimeString());
                    }
                    else {
                        actionButton.title = "Not active";
                    }
                    actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.OFFLINE));
                }
                var span = document.createElement('span');
                span.innerText = value;
                actionButton.appendChild(span);
                td.appendChild(actionButton);
            }
            else if (fieldName === 'interfaces') {
                var proxyInterfaceUrl = DeviceTracker.createUrl(_this.params, device.udid).toString();
                var proxyInterfaceName = 'proxy';
                var localStorageKey = DeviceTracker.getLocalStorageKey(fullName);
                var lastSelected_1 = localStorage && localStorage.getItem(localStorageKey);
                var selectElement_1 = document.createElement('select');
                selectElement_1.setAttribute(Attribute_1.Attribute.UDID, device.udid);
                selectElement_1.setAttribute(Attribute_1.Attribute.FULL_NAME, fullName);
                selectElement_1.setAttribute('name', encodeURIComponent("".concat(DeviceTracker.AttributePrefixInterfaceSelectFor).concat(fullName)));
                device.interfaces.forEach(function (value) {
                    var params = tslib_1.__assign(tslib_1.__assign({}, _this.params), { secure: false, hostname: value.ipv4, port: Constants_1.SERVER_PORT });
                    var url = DeviceTracker.createUrl(params).toString();
                    var optionElement = DeviceTracker.createInterfaceOption(value.name, url);
                    optionElement.innerText = "".concat(value.name, ": ").concat(value.ipv4);
                    selectElement_1.appendChild(optionElement);
                    if (lastSelected_1) {
                        if (lastSelected_1 === value.name || !selectedInterfaceName) {
                            optionElement.selected = true;
                            selectedInterfaceUrl = url;
                            selectedInterfaceName = value.name;
                        }
                    }
                    else if (device['wifi.interface'] === value.name) {
                        optionElement.selected = true;
                    }
                });
                if (isActive) {
                    var adbProxyOption = DeviceTracker.createInterfaceOption(proxyInterfaceName, proxyInterfaceUrl);
                    if (lastSelected_1 === proxyInterfaceName || !selectedInterfaceName) {
                        adbProxyOption.selected = true;
                        selectedInterfaceUrl = proxyInterfaceUrl;
                        selectedInterfaceName = proxyInterfaceName;
                    }
                    selectElement_1.appendChild(adbProxyOption);
                    var actionButton = document.createElement('button');
                    actionButton.className = 'action-button update-interfaces-button active';
                    actionButton.title = "Update information";
                    actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.REFRESH));
                    actionButton.setAttribute(Attribute_1.Attribute.UDID, device.udid);
                    actionButton.setAttribute(Attribute_1.Attribute.COMMAND, ControlCenterCommand_1.ControlCenterCommand.UPDATE_INTERFACES);
                    actionButton.onclick = _this.onActionButtonClick;
                    td.appendChild(actionButton);
                }
                selectElement_1.onchange = _this.onInterfaceSelected;
                td.appendChild(selectElement_1);
            }
            else {
                td.innerText = value;
            }
        });
        if (DeviceTracker.CREATE_DIRECT_LINKS) {
            var name_1 = "".concat(DeviceTracker.AttributePrefixPlayerFor).concat(fullName);
            StreamClientScrcpy_1.StreamClientScrcpy.getPlayers().forEach(function (playerClass) {
                var playerCodeName = playerClass.playerCodeName, playerFullName = playerClass.playerFullName;
                var playerTd = document.createElement('div');
                playerTd.classList.add(blockClass);
                playerTd.setAttribute('name', encodeURIComponent(name_1));
                playerTd.setAttribute(DeviceTracker.AttributePlayerFullName, encodeURIComponent(playerFullName));
                playerTd.setAttribute(DeviceTracker.AttributePlayerCodeName, encodeURIComponent(playerCodeName));
                services.appendChild(playerTd);
            });
        }
        tbody.appendChild(row);
        if (DeviceTracker.CREATE_DIRECT_LINKS && hasPid && selectedInterfaceUrl) {
            this.updateLink({
                url: selectedInterfaceUrl,
                name: selectedInterfaceName,
                fullName: fullName,
                udid: device.udid,
                store: false,
            });
        }
    };
    DeviceTracker.prototype.getChannelCode = function () {
        return ChannelCode_1.ChannelCode.GTRC;
    };
    DeviceTracker.prototype.destroy = function () {
        _super.prototype.destroy.call(this);
        DeviceTracker.instancesByUrl.delete(this.url.toString());
        if (!DeviceTracker.instancesByUrl.size) {
            var holder = document.getElementById(BaseDeviceTracker_1.BaseDeviceTracker.HOLDER_ELEMENT_ID);
            if (holder && holder.parentElement) {
                holder.parentElement.removeChild(holder);
            }
        }
    };
    DeviceTracker.ACTION = Action_1.ACTION.GOOG_DEVICE_LIST;
    DeviceTracker.CREATE_DIRECT_LINKS = true;
    DeviceTracker.instancesByUrl = new Map();
    DeviceTracker.tools = new Set();
    return DeviceTracker;
}(BaseDeviceTracker_1.BaseDeviceTracker));
exports.DeviceTracker = DeviceTracker;
var templateObject_1;


/***/ }),

/***/ "./src/app/googDevice/client/DevtoolsClient.ts":
/*!*****************************************************!*\
  !*** ./src/app/googDevice/client/DevtoolsClient.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DevtoolsClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/devtools.css */ "./src/style/devtools.css");
var ManagerClient_1 = __webpack_require__(/*! ../../client/ManagerClient */ "./src/app/client/ManagerClient.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var RemoteDevtoolsCommand_1 = __webpack_require__(/*! ../../../types/RemoteDevtoolsCommand */ "./src/types/RemoteDevtoolsCommand.ts");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var FRONTEND_RE = /^https?:\/\/chrome-devtools-frontend\.appspot\.com\/serve_rev\/(@.*)/;
var TAG = '[DevtoolsClient]';
var DevtoolsClient = (function (_super) {
    tslib_1.__extends(DevtoolsClient, _super);
    function DevtoolsClient(params) {
        var _this = _super.call(this, params) || this;
        _this.requestListUpdate = function () {
            _this.timeout = undefined;
            if (!_this.ws || _this.ws.readyState !== _this.ws.OPEN) {
                return;
            }
            _this.ws.send(JSON.stringify({
                command: RemoteDevtoolsCommand_1.RemoteDevtoolsCommand.LIST_DEVTOOLS,
            }));
        };
        _this.onDevtoolsLinkClick = function (event) {
            var a = event.target;
            var url = a.getAttribute('href');
            if (!url) {
                return;
            }
            _this.hiddenInput.value = url;
            _this.hiddenInput.removeAttribute('hidden');
            _this.hiddenInput.select();
            _this.hiddenInput.setSelectionRange(0, url.length);
            document.execCommand('copy');
            _this.hiddenInput.setAttribute('hidden', 'hidden');
            _this.tooltip.style.left = "".concat(event.clientX, "px");
            _this.tooltip.style.top = "".concat(event.clientY, "px");
            _this.tooltip.style.display = 'block';
            _this.hideTooltip();
            event.preventDefault();
        };
        _this.udid = _this.params.udid;
        _this.openNewConnection();
        _this.setTitle("Devtools ".concat(_this.udid));
        _this.setBodyClass('devtools');
        _this.hiddenInput = document.createElement('input');
        _this.hiddenInput.className = 'hidden';
        _this.hiddenInput.setAttribute('hidden', 'hidden');
        document.body.appendChild(_this.hiddenInput);
        _this.tooltip = document.createElement('span');
        _this.tooltip.innerText = 'Copied!';
        _this.tooltip.className = 'tooltip';
        _this.tooltip.style.display = 'none';
        document.body.appendChild(_this.tooltip);
        return _this;
    }
    DevtoolsClient.start = function (params) {
        return new DevtoolsClient(params);
    };
    DevtoolsClient.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.DEVTOOLS) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true) });
    };
    DevtoolsClient.prototype.buildDirectWebSocketUrl = function () {
        var localUrl = _super.prototype.buildDirectWebSocketUrl.call(this);
        if (typeof this.params.udid === 'string') {
            localUrl.searchParams.set('udid', this.params.udid);
        }
        return localUrl;
    };
    DevtoolsClient.prototype.onSocketClose = function (event) {
        var _this = this;
        console.error(TAG, "Socket closed. Code: ".concat(event.code, ".").concat(event.reason ? ' Reason: ' + event.reason : ''));
        setTimeout(function () {
            _this.openNewConnection();
        }, 2000);
    };
    DevtoolsClient.prototype.onSocketMessage = function (event) {
        var message;
        try {
            message = JSON.parse(event.data);
        }
        catch (error) {
            console.error(TAG, error.message);
            console.log(TAG, error.data);
            return;
        }
        if (message.type !== DevtoolsClient.ACTION) {
            console.log(TAG, "Unknown message type: ".concat(message.type));
            return;
        }
        var list = message.data;
        this.buildList(list);
        if (!this.timeout) {
            this.timeout = window.setTimeout(this.requestListUpdate, DevtoolsClient.TIMEOUT);
        }
    };
    DevtoolsClient.prototype.onSocketOpen = function () {
        this.requestListUpdate();
    };
    DevtoolsClient.prototype.createDeviceBlock = function (info) {
        var d = document.createElement('div');
        d.className = 'device';
        d.id = "device:".concat(info.deviceSerial);
        return d;
    };
    DevtoolsClient.prototype.createDeviceHeader = function (info) {
        var h = document.createElement('div');
        h.className = 'device-header';
        var n = document.createElement('div');
        n.className = 'device-name';
        n.innerText = info.deviceName;
        var s = document.createElement('div');
        s.className = 'device-serial';
        s.innerText = "#".concat(info.deviceSerial.toUpperCase());
        var p = document.createElement('div');
        p.className = 'device-ports';
        h.appendChild(n);
        h.appendChild(s);
        h.appendChild(p);
        return h;
    };
    DevtoolsClient.prototype.createBrowsersBlock = function (info) {
        var _this = this;
        var deviceSerial = info.deviceSerial;
        var bs = document.createElement('div');
        bs.className = 'browsers';
        info.browsers.sort(DevtoolsClient.compareBrowsers).forEach(function (browser) {
            var b = _this.createBrowserBlock(deviceSerial, browser);
            bs.appendChild(b);
        });
        return bs;
    };
    DevtoolsClient.prototype.createBrowserBlock = function (serial, info) {
        var _this = this;
        var socket = info.socket;
        var b = document.createElement('div');
        b.id = "".concat(serial, ":").concat(socket);
        b.className = 'browser';
        var h = document.createElement('div');
        h.className = 'browser-header';
        b.appendChild(h);
        var n = document.createElement('div');
        n.className = 'browser-name';
        h.appendChild(n);
        var pkg = info.version['Android-Package'];
        var browser = info.version.Browser;
        var version;
        var temp = browser.split('/');
        if (temp.length > 1) {
            version = temp[1];
        }
        else {
            version = browser;
        }
        var prefix = socket.indexOf('webview') === 0 ? 'WebView in ' : '';
        n.innerText = "".concat(prefix).concat(pkg, "(").concat(version, ")");
        var s = document.createElement('span');
        s.setAttribute('tabIndex', '1');
        s.className = 'action';
        s.innerText = 'trace';
        s.setAttribute('hidden', 'hidden');
        h.appendChild(s);
        var pages = document.createElement('div');
        pages.className = 'list pages';
        info.targets.forEach(function (page) {
            pages.appendChild(_this.createPageBlock(page, version));
        });
        b.appendChild(pages);
        return b;
    };
    DevtoolsClient.prototype.createPageBlock = function (page, version) {
        var row = document.createElement('div');
        row.className = 'row';
        var props = document.createElement('div');
        props.className = 'properties-box';
        row.appendChild(props);
        if (page.faviconUrl) {
            var img = document.createElement('img');
            img.src = page.faviconUrl;
            props.appendChild(img);
        }
        var subrow = document.createElement('div');
        subrow.className = 'subrow-box';
        props.appendChild(subrow);
        var sub1 = document.createElement('div');
        sub1.className = 'subrow';
        subrow.appendChild(sub1);
        var n = document.createElement('div');
        n.className = 'name';
        if (page.title) {
            n.innerText = page.title;
        }
        sub1.appendChild(n);
        var u = document.createElement('div');
        u.className = 'url';
        if (page.url) {
            u.innerText = page.url;
        }
        sub1.appendChild(u);
        var sub2 = document.createElement('div');
        sub2.className = 'subrow webview';
        subrow.appendChild(sub2);
        if (page.description) {
            try {
                var desc = JSON.parse(page.description);
                var position = document.createElement('div');
                position.className = 'position';
                position.innerText = "at (".concat(desc.screenX, ", ").concat(desc.screenY, ")");
                sub2.appendChild(position);
                var size = document.createElement('div');
                size.className = 'size';
                size.innerText = "size ".concat(desc.width, " \u00D7 ").concat(desc.height);
                sub2.appendChild(size);
            }
            catch (error) { }
        }
        var absoluteAddress = page.devtoolsFrontendUrl && page.devtoolsFrontendUrl.startsWith('http');
        var actions = document.createElement('div');
        actions.className = 'actions';
        subrow.appendChild(actions);
        var inspect = document.createElement('a');
        inspect.setAttribute('tabIndex', '1');
        inspect.className = 'action';
        inspect.innerText = 'inspect';
        actions.appendChild(inspect);
        if (page.devtoolsFrontendUrl) {
            inspect.setAttribute('href', page.devtoolsFrontendUrl);
            inspect.setAttribute('rel', 'noopener noreferrer');
            inspect.setAttribute('target', '_blank');
        }
        else {
            inspect.classList.add('disabled');
        }
        if (!absoluteAddress) {
            inspect.classList.add('disabled');
        }
        if (page.webSocketDebuggerUrl) {
            var bundled = document.createElement('a');
            bundled.setAttribute('tabIndex', '1');
            bundled.className = 'action copy';
            bundled.innerText = 'bundled';
            bundled.title = 'Copy link and open manually';
            actions.appendChild(bundled);
            var base = 'devtools://devtools/bundled/inspector.html?experiments=true&ws=';
            bundled.setAttribute('href', "".concat(base).concat(page.webSocketDebuggerUrl));
            bundled.setAttribute('rel', 'noopener noreferrer');
            bundled.setAttribute('target', '_blank');
            bundled.onclick = this.onDevtoolsLinkClick;
        }
        if (page.devtoolsFrontendUrl && page.webSocketDebuggerUrl && absoluteAddress) {
            var ur = new URL(page.devtoolsFrontendUrl);
            ur.searchParams.delete('ws');
            var urStr = ur.toString();
            var match = urStr.match(FRONTEND_RE);
            if (match) {
                var str = match[1];
                var temp = str.split('/');
                var revision = temp.shift();
                var rest = temp.join('/');
                var remoteVersion = version ? "remoteVersion=".concat(version, "&") : '';
                var opts = "remoteFrontend=true&dockSide=undocked&";
                var ws = "ws=".concat(page.webSocketDebuggerUrl);
                var url = "devtools://devtools/remote/serve_rev/".concat(revision, "/").concat(rest, "?").concat(remoteVersion).concat(opts).concat(ws);
                var remote = document.createElement('a');
                remote.setAttribute('tabIndex', '1');
                remote.className = 'action copy';
                remote.innerText = 'remote';
                remote.title = 'Copy link and open manually';
                actions.appendChild(remote);
                remote.setAttribute('href', url);
                remote.setAttribute('rel', 'noopener noreferrer');
                remote.setAttribute('target', '_blank');
                remote.onclick = this.onDevtoolsLinkClick;
            }
        }
        var pause = document.createElement('span');
        pause.setAttribute('hidden', 'hidden');
        pause.setAttribute('tabIndex', '1');
        pause.className = 'action';
        pause.innerText = 'pause';
        actions.appendChild(pause);
        return row;
    };
    DevtoolsClient.prototype.hideTooltip = function () {
        var _this = this;
        if (this.hideTimeout) {
            clearTimeout(this.hideTimeout);
        }
        this.hideTimeout = window.setTimeout(function () {
            _this.hideTimeout = undefined;
            _this.tooltip.style.display = 'none';
        }, 1000);
    };
    DevtoolsClient.prototype.buildList = function (info) {
        var _a;
        var block = this.createDeviceBlock(info);
        var header = this.createDeviceHeader(info);
        var browsers = this.createBrowsersBlock(info);
        block.appendChild(header);
        block.appendChild(browsers);
        var old = document.getElementById(block.id);
        if (old) {
            (_a = old.parentElement) === null || _a === void 0 ? void 0 : _a.replaceChild(block, old);
        }
        else {
            document.body.appendChild(block);
        }
    };
    DevtoolsClient.createEntryForDeviceList = function (descriptor, blockClass, params) {
        if (descriptor.state !== 'device') {
            return;
        }
        var entry = document.createElement('div');
        entry.classList.add('devtools', blockClass);
        entry.appendChild(BaseDeviceTracker_1.BaseDeviceTracker.buildLink({
            action: Action_1.ACTION.DEVTOOLS,
            udid: descriptor.udid,
        }, 'devtools', params));
        return entry;
    };
    DevtoolsClient.ACTION = Action_1.ACTION.DEVTOOLS;
    DevtoolsClient.TIMEOUT = 1000;
    DevtoolsClient.compareBrowsers = function (a, b) {
        var aBrowser = a.version.Browser;
        var bBrowser = b.version.Browser;
        if (aBrowser > bBrowser) {
            return 1;
        }
        else if (aBrowser < bBrowser) {
            return -1;
        }
        return 0;
    };
    return DevtoolsClient;
}(ManagerClient_1.ManagerClient));
exports.DevtoolsClient = DevtoolsClient;


/***/ }),

/***/ "./src/app/googDevice/client/FileListingClient.ts":
/*!********************************************************!*\
  !*** ./src/app/googDevice/client/FileListingClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

var _a;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileListingClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/filelisting.css */ "./src/style/filelisting.css");
var ManagerClient_1 = __webpack_require__(/*! ../../client/ManagerClient */ "./src/app/client/ManagerClient.ts");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var protocol_1 = tslib_1.__importDefault(__webpack_require__(/*! @dead50f7/adbkit/lib/adb/protocol */ "./node_modules/@dead50f7/adbkit/lib/adb/protocol.js"));
var Entry_1 = __webpack_require__(/*! ../Entry */ "./src/app/googDevice/Entry.ts");
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var path = tslib_1.__importStar(__webpack_require__(/*! path */ "./node_modules/path-browserify/index.js"));
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var Multiplexer_1 = __webpack_require__(/*! ../../../packages/multiplexer/Multiplexer */ "./src/packages/multiplexer/Multiplexer.ts");
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ../filePush/FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var AdbkitFilePushStream_1 = __webpack_require__(/*! ../filePush/AdbkitFilePushStream */ "./src/app/googDevice/filePush/AdbkitFilePushStream.ts");
var TAG = '[FileListing]';
var parentDirLinkBox = 'parentDirLinkBox';
var rootDirLinkBox = 'rootDirLinkBox';
var tempDirLinkBox = 'tempDirLinkBox';
var storageDirLinkBox = 'storageDirLinkBox';
var rootPath = '/';
var tempPath = '/data/local/tmp';
var storagePath = '/storage';
var Foreground;
(function (Foreground) {
    Foreground["Drop"] = "drop-target";
    Foreground["Connect"] = "connect";
})(Foreground || (Foreground = {}));
var Message = (_a = {},
    _a[Foreground.Drop] = 'Drop files here',
    _a[Foreground.Connect] = 'Connection lost',
    _a);
var FileListingClient = (function (_super) {
    tslib_1.__extends(FileListingClient, _super);
    function FileListingClient(params) {
        var _this = _super.call(this, params) || this;
        _this.enterCount = 0;
        _this.entries = [];
        _this.requireClean = false;
        _this.requestedPath = '';
        _this.downloads = new Map();
        _this.uploads = new Map();
        _this.channels = new Set();
        _this.parent = document.body;
        _this.serial = _this.params.udid;
        _this.path = _this.params.path;
        _this.openNewConnection();
        _this.setTitle("Listing ".concat(_this.serial));
        _this.setBodyClass('file-listing');
        _this.name = "".concat(TAG, " [").concat(_this.serial, "]");
        _this.tableBodyId = "".concat(Util_1.default.escapeUdid(_this.serial), "_list");
        _this.wrapperId = "wrapper_".concat(_this.tableBodyId);
        var fragment = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div id=\"", "\" class=\"listing\">\n            <h1 id=\"header\">Contents ", "</h1>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon up\" href=\"#!\" ", "=\"..\"> [parent] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "\"> [root] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [storage] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [temp] </a>\n            </div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Size</th>\n                        <th>MTime</th>\n                    </tr>\n                </thead>\n                <tbody id=\"", "\"></tbody>\n            </table>\n        </div>"], ["<div id=\"", "\" class=\"listing\">\n            <h1 id=\"header\">Contents ", "</h1>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon up\" href=\"#!\" ", "=\"..\"> [parent] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "\"> [root] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [storage] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [temp] </a>\n            </div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Size</th>\n                        <th>MTime</th>\n                    </tr>\n                </thead>\n                <tbody id=\"", "\"></tbody>\n            </table>\n        </div>"])), _this.wrapperId, _this.path, parentDirLinkBox, FileListingClient.PROPERTY_NAME, rootDirLinkBox, FileListingClient.PROPERTY_NAME, rootPath, storageDirLinkBox, FileListingClient.PROPERTY_NAME, storagePath, tempDirLinkBox, FileListingClient.PROPERTY_NAME, tempPath, _this.tableBodyId).content;
        _this.tableBody = fragment.getElementById(_this.tableBodyId);
        var wrapper = fragment.getElementById(_this.wrapperId);
        if (wrapper) {
            wrapper.addEventListener('click', function (e) {
                if (!e.target || !(e.target instanceof HTMLElement)) {
                    return;
                }
                var name = e.target.getAttribute(FileListingClient.PROPERTY_NAME);
                if (!name) {
                    return;
                }
                e.preventDefault();
                e.cancelBubble = true;
                var newPath = path.resolve(_this.path, name);
                if (newPath !== _this.path) {
                    var entryIdString = e.target.getAttribute(FileListingClient.PROPERTY_ENTRY_ID);
                    var entry = void 0;
                    var anchor = void 0;
                    if (entryIdString) {
                        var entryId = parseInt(entryIdString, 10);
                        if (!isNaN(entryId) && _this.entries[entryId]) {
                            entry = _this.entries[entryId];
                            anchor = e.target;
                        }
                    }
                    _this.loadContent(newPath, entry, anchor);
                }
            });
            if (_this.ws instanceof Multiplexer_1.Multiplexer) {
                _this.filePushHandler = new FilePushHandler_1.default(_this.parent, new AdbkitFilePushStream_1.AdbkitFilePushStream(_this.ws, _this));
                _this.filePushHandler.addEventListener(_this);
            }
        }
        _this.parent.appendChild(fragment);
        return _this;
    }
    FileListingClient.start = function (params) {
        return new FileListingClient(params);
    };
    FileListingClient.createEntryForDeviceList = function (descriptor, blockClass, params) {
        if (descriptor.state !== 'device') {
            return;
        }
        var entry = document.createElement('div');
        entry.classList.add('file-listing', blockClass);
        entry.appendChild(BaseDeviceTracker_1.BaseDeviceTracker.buildLink({
            action: Action_1.ACTION.FILE_LISTING,
            udid: descriptor.udid,
            path: "".concat(tempPath, "/"),
        }, 'list files', params));
        return entry;
    };
    FileListingClient.prototype.onDragEnter = function () {
        if (this.enterCount === 0) {
            this.addForeground(Foreground.Drop);
        }
        this.enterCount++;
        return true;
    };
    FileListingClient.prototype.onDragLeave = function () {
        this.enterCount--;
        if (this.enterCount < 0) {
            this.enterCount = 0;
        }
        if (this.enterCount === 0) {
            this.removeForeground(Foreground.Drop);
        }
        return true;
    };
    FileListingClient.prototype.onDrop = function () {
        this.enterCount = 0;
        this.removeForeground(Foreground.Drop);
        return true;
    };
    FileListingClient.prototype.findOrCreateEntryRow = function (fileName) {
        var row = document.getElementById("entry-".concat(fileName));
        if (row) {
            return row;
        }
        return this.addRow(true, fileName, 'file');
    };
    FileListingClient.prototype.onFilePushUpdate = function (data) {
        var _this = this;
        var fileName = data.fileName, progress = data.progress, error = data.error, message = data.message, finished = data.finished;
        var upload = this.uploads.get(fileName);
        if (!upload || document.getElementById(upload.anchor.id) !== upload.anchor) {
            var row_1 = this.findOrCreateEntryRow(fileName);
            var anchor_1 = row_1.getElementsByTagName('a')[0];
            if (!anchor_1.id) {
                anchor_1.id = "upload_".concat(fileName);
            }
            var progressEl_1 = this.appendProgressElement(anchor_1);
            upload = { row: row_1, progressEl: progressEl_1, anchor: anchor_1, timeout: null };
            this.uploads.set(fileName, upload);
        }
        var row = upload.row, progressEl = upload.progressEl, anchor = upload.anchor;
        if (error) {
            this.uploads.delete(fileName);
            progressEl.style.width = "100%";
            progressEl.classList.add('error');
            if (!anchor.classList.contains('error')) {
                anchor.classList.add('error');
                anchor.innerText = "".concat(fileName, ". ").concat(message);
            }
            if (!upload.timeout) {
                upload.timeout = window.setTimeout(function () {
                    var parent = row.parentElement;
                    if (parent) {
                        parent.removeChild(row);
                        _this.reload();
                    }
                }, FileListingClient.REMOVE_ROW_TIMEOUT);
            }
        }
        else {
            anchor.innerText = "".concat(fileName, ". ").concat(message);
            progressEl.style.width = "".concat(progress, "%");
        }
        if (finished && !error) {
            this.uploads.delete(fileName);
            this.reload();
        }
    };
    FileListingClient.prototype.onError = function (error) {
        console.error(this.name, 'FIXME: implement', error);
    };
    FileListingClient.prototype.addForeground = function (type) {
        var fragment = (0, HtmlTag_1.html)(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject(["<div class=\"foreground ", "\">\n            <div class=\"foreground-message ", "-message\">", "</div>\n        </div>"], ["<div class=\"foreground ", "\">\n            <div class=\"foreground-message ", "-message\">", "</div>\n        </div>"])), type, type, Message[type]).content;
        this.parent.appendChild(fragment);
    };
    FileListingClient.prototype.removeForeground = function (type) {
        var _this = this;
        var els = this.parent.getElementsByClassName(type);
        Array.from(els).forEach(function (el) {
            _this.parent.removeChild(el);
        });
    };
    FileListingClient.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.FILE_LISTING) {
            throw Error('Incorrect action');
        }
        var pathParam = params.get('path');
        var path = pathParam || '/data/local/tmp';
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true), path: path });
    };
    FileListingClient.prototype.buildDirectWebSocketUrl = function () {
        var localUrl = _super.prototype.buildDirectWebSocketUrl.call(this);
        localUrl.searchParams.set('action', Action_1.ACTION.MULTIPLEX);
        return localUrl;
    };
    FileListingClient.prototype.onSocketClose = function (event) {
        if (this.filePushHandler) {
            this.filePushHandler.release();
        }
        console.error(this.name, 'socket closed', event.reason);
        this.addForeground(Foreground.Connect);
    };
    FileListingClient.prototype.onSocketMessage = function (_e) {
    };
    FileListingClient.prototype.onSocketOpen = function () {
        this.loadContent(this.path);
    };
    FileListingClient.prototype.loadContent = function (path, entry, anchor, pathToLoadAfter) {
        var _this = this;
        if (pathToLoadAfter === void 0) { pathToLoadAfter = ''; }
        if (!this.ws || this.ws.readyState !== this.ws.OPEN || !(this.ws instanceof Multiplexer_1.Multiplexer)) {
            return;
        }
        if (!entry && (this.channels.size || this.uploads.size)) {
            return;
        }
        this.requireClean = true;
        this.requestedPath = path;
        var cmd;
        if (!entry) {
            cmd = protocol_1.default.STAT;
        }
        else if (entry.isFile()) {
            cmd = protocol_1.default.RECV;
        }
        else {
            cmd = protocol_1.default.LIST;
        }
        var len = Buffer.byteLength(path, 'utf-8');
        var payload = Buffer.alloc(cmd.length + 4 + len);
        var pos = payload.write(cmd, 0);
        pos = payload.writeUInt32LE(len, pos);
        payload.write(path, pos);
        var channel = this.ws.createChannel(payload);
        this.channels.add(channel);
        var download = {
            receivedBytes: 0,
            path: path,
            entry: entry,
            anchor: anchor,
            chunks: [],
            pathToLoadAfter: pathToLoadAfter,
        };
        this.downloads.set(channel, download);
        var onMessage = function (event) {
            _this.handleReply(channel, event);
        };
        var onClose = function () {
            _this.channels.delete(channel);
            _this.downloads.delete(channel);
            channel.removeEventListener('message', onMessage);
            channel.removeEventListener('close', onClose);
        };
        channel.addEventListener('message', onMessage);
        channel.addEventListener('close', onClose);
    };
    FileListingClient.prototype.clean = function () {
        this.tableBody.innerHTML = '';
        var header = document.getElementById('header');
        if (header) {
            header.innerText = "Content ".concat(this.path);
        }
        this.toggleQuickLinks(this.path);
        var hash = location.hash.replace(/#!/, '');
        var params = new URLSearchParams(hash);
        if (params.get('action') === Action_1.ACTION.FILE_LISTING) {
            params.set('path', this.path);
            location.hash = "#!".concat(params.toString());
        }
    };
    FileListingClient.prototype.toggleQuickLinks = function (path) {
        var isRoot = path === rootPath;
        var parentEl = document.getElementById(parentDirLinkBox);
        if (parentEl) {
            parentEl.classList.toggle('hidden', isRoot);
        }
        var rootEl = document.getElementById(rootDirLinkBox);
        if (rootEl) {
            rootEl.classList.toggle('hidden', isRoot);
        }
        var isTemp = path === tempPath;
        var tempEl = document.getElementById(tempDirLinkBox);
        if (tempEl) {
            tempEl.classList.toggle('hidden', isTemp);
        }
        var isStorage = path === storagePath;
        var storageEl = document.getElementById(storageDirLinkBox);
        if (storageEl) {
            storageEl.classList.toggle('hidden', isStorage);
        }
    };
    FileListingClient.prototype.handleReply = function (channel, e) {
        var data = Buffer.from(e.data);
        var reply = data.slice(0, 4).toString('ascii');
        switch (reply) {
            case protocol_1.default.DENT:
                var stat = data.slice(4);
                var mode = stat.readUInt32LE(0);
                var size = stat.readUInt32LE(4);
                var mtime = stat.readUInt32LE(8);
                var namelen = stat.readUInt32LE(12);
                var name_1 = Util_1.default.utf8ByteArrayToString(stat.slice(16, 16 + namelen));
                this.addEntry(new Entry_1.Entry(name_1, mode, size, mtime));
                return;
            case protocol_1.default.DONE:
                this.finishDownload(channel);
                return;
            case protocol_1.default.STAT: {
                var download_1 = this.downloads.get(channel);
                if (!download_1) {
                    return;
                }
                var stat_1 = data.slice(4);
                var mode_1 = stat_1.readUInt32LE(0);
                var size_1 = stat_1.readUInt32LE(4);
                var mtime_1 = stat_1.readUInt32LE(8);
                var nameString = path.basename(download_1.path);
                if (mode_1 === 0) {
                    console.error('FIXME: show error in UI');
                    console.error("Error: no entity \"".concat(download_1.path, "\""));
                    this.channels.delete(channel);
                    this.loadContent(tempPath);
                    return;
                }
                var entry = new Entry_1.Entry(nameString, mode_1, size_1, mtime_1);
                var anchor = void 0;
                var nextPath = '';
                if (!entry.isDirectory()) {
                    nextPath = this.requestedPath = path.dirname(download_1.path);
                    var row = this.addEntry(entry);
                    anchor = row ? row.getElementsByTagName('a')[0] : undefined;
                }
                this.loadContent(download_1.path, entry, anchor, nextPath);
                break;
            }
            case protocol_1.default.FAIL:
                var length_1 = data.readUInt32LE(4);
                var message = Util_1.default.utf8ByteArrayToString(data.slice(8, 8 + length_1));
                console.error(TAG, "FAIL: ".concat(message));
                return;
            case protocol_1.default.DATA:
                var download = this.downloads.get(channel);
                if (!download) {
                    return;
                }
                download.chunks.push(data.slice(4));
                download.receivedBytes += data.length - 4;
                if (download.anchor) {
                    var progressElement = download.progressEl;
                    if (!progressElement) {
                        progressElement = this.appendProgressElement(download.anchor);
                        download.progressEl = progressElement;
                    }
                    if (download.entry) {
                        var size_2 = download.entry.size;
                        var percent = (download.receivedBytes * 100) / size_2;
                        progressElement.style.width = "".concat(percent, "%");
                    }
                }
                return;
            default:
                console.error("Unexpected \"".concat(reply, "\""));
        }
    };
    FileListingClient.prototype.appendProgressElement = function (anchor) {
        var progressElement = document.createElement('span');
        progressElement.className = 'background-progress';
        var parent = anchor.parentElement;
        if (parent) {
            parent.appendChild(progressElement);
        }
        return progressElement;
    };
    FileListingClient.prototype.addEntry = function (entry) {
        if (this.requireClean) {
            this.path = this.requestedPath;
            this.requestedPath = '';
            this.clean();
            this.requireClean = false;
            this.entries.length = 0;
        }
        this.entries.push(entry);
        var entryId = (this.entries.length - 1).toString();
        if (entry.name === '.') {
            return;
        }
        if (entry.name === FileListingClient.PARENT_DIR) {
            var el = document.getElementById(parentDirLinkBox);
            if (el) {
                var a = el.children[0];
                if (a) {
                    a.setAttribute(FileListingClient.PROPERTY_ENTRY_ID, entryId);
                }
            }
            return;
        }
        var type = entry.isDirectory() ? 'dir' : entry.isSymbolicLink() ? 'link' : entry.isFile() ? 'file' : 'else';
        var date = entry.mtime.toLocaleString();
        return this.addRow(false, entry.name, type, entry.size.toString(), date, entryId);
    };
    FileListingClient.prototype.addRow = function (push, name, typeClass, size, date, entryId) {
        if (size === void 0) { size = ''; }
        if (date === void 0) { date = ''; }
        if (entryId === void 0) { entryId = ''; }
        var row = document.createElement('tr');
        row.id = "entry-".concat(name);
        row.classList.add('entry-row');
        var nameTd = document.createElement('td');
        nameTd.classList.add('entry-name');
        var link = document.createElement('a');
        link.classList.add('icon', typeClass);
        link.setAttribute(FileListingClient.PROPERTY_NAME, name);
        if (entryId) {
            link.setAttribute(FileListingClient.PROPERTY_ENTRY_ID, entryId);
        }
        link.innerText = name;
        nameTd.appendChild(link);
        row.appendChild(nameTd);
        if (push) {
            nameTd.colSpan = 3;
            link.classList.add('push');
        }
        else {
            var href = new URL(location.href);
            var hash = new URLSearchParams(href.hash.replace(/^#!/, ''));
            hash.set('path', path.join(this.path, name));
            href.hash = "#!".concat(hash.toString());
            link.href = href.toString();
            var sizeTd = document.createElement('td');
            sizeTd.classList.add('entry-size');
            sizeTd.innerText = size;
            row.appendChild(sizeTd);
            var mtimeTd = document.createElement('td');
            mtimeTd.classList.add('entry-time');
            mtimeTd.innerText = date;
            row.appendChild(mtimeTd);
        }
        if (push || !this.tableBody.children.length) {
            this.tableBody.insertBefore(row, this.tableBody.firstChild);
        }
        else {
            this.tableBody.appendChild(row);
        }
        return row;
    };
    FileListingClient.prototype.finishDownload = function (channel) {
        var download = this.downloads.get(channel);
        if (!download) {
            return;
        }
        this.downloads.delete(channel);
        var el = download.progressEl;
        if (el) {
            this.cleanProgress(el);
        }
        var name;
        if (download.entry && download.entry.isFile()) {
            name = download.entry.name;
        }
        else {
            name = path.basename(this.path);
        }
        if (download.pathToLoadAfter) {
            this.channels.delete(channel);
            this.loadContent(download.pathToLoadAfter);
        }
        var file = new File(download.chunks, name, { type: 'application/octet-stream' });
        var a = document.createElement('a');
        a.href = URL.createObjectURL(file);
        a.download = "".concat(name);
        a.click();
    };
    FileListingClient.prototype.cleanProgress = function (el) {
        el.classList.add('finished');
        setTimeout(function () {
            var parent = el.parentElement;
            if (parent) {
                parent.removeChild(el);
            }
        });
    };
    FileListingClient.prototype.getPath = function () {
        return this.path;
    };
    FileListingClient.prototype.reload = function () {
        this.loadContent(this.path);
    };
    FileListingClient.prototype.supportMultiplexing = function () {
        return true;
    };
    FileListingClient.prototype.getChannelInitData = function () {
        var serial = Util_1.default.stringToUtf8ByteArray(this.serial);
        var buffer = Buffer.alloc(4 + 4 + serial.byteLength);
        buffer.write(ChannelCode_1.ChannelCode.FSLS, 'ascii');
        buffer.writeUInt32LE(serial.length, 4);
        buffer.set(serial, 8);
        return buffer;
    };
    FileListingClient.ACTION = Action_1.ACTION.FILE_LISTING;
    FileListingClient.PARENT_DIR = '..';
    FileListingClient.PROPERTY_NAME = 'data-name';
    FileListingClient.PROPERTY_ENTRY_ID = 'data-entry-id';
    FileListingClient.REMOVE_ROW_TIMEOUT = 2000;
    return FileListingClient;
}(ManagerClient_1.ManagerClient));
exports.FileListingClient = FileListingClient;
var templateObject_1, templateObject_2;


/***/ }),

/***/ "./src/app/googDevice/client/ShellClient.ts":
/*!**************************************************!*\
  !*** ./src/app/googDevice/client/ShellClient.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShellClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! xterm/css/xterm.css */ "./node_modules/xterm/css/xterm.css");
var ManagerClient_1 = __webpack_require__(/*! ../../client/ManagerClient */ "./src/app/client/ManagerClient.ts");
var xterm_1 = __webpack_require__(/*! xterm */ "./node_modules/xterm/lib/xterm.js");
var xterm_addon_attach_1 = __webpack_require__(/*! xterm-addon-attach */ "./node_modules/xterm-addon-attach/lib/xterm-addon-attach.js");
var xterm_addon_fit_1 = __webpack_require__(/*! xterm-addon-fit */ "./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var TAG = '[ShellClient]';
var ShellClient = (function (_super) {
    tslib_1.__extends(ShellClient, _super);
    function ShellClient(params) {
        var _this = _super.call(this, params) || this;
        _this.onSocketOpen = function () {
            _this.startShell(_this.udid);
        };
        _this.udid = params.udid;
        _this.openNewConnection();
        _this.setTitle("Shell ".concat(_this.udid));
        _this.setBodyClass('shell');
        if (!_this.ws) {
            throw Error('No WebSocket');
        }
        _this.term = new xterm_1.Terminal();
        _this.term.loadAddon(new xterm_addon_attach_1.AttachAddon(_this.ws));
        _this.fitAddon = new xterm_addon_fit_1.FitAddon();
        _this.term.loadAddon(_this.fitAddon);
        _this.escapedUdid = Util_1.default.escapeUdid(_this.udid);
        _this.term.open(ShellClient.getOrCreateContainer(_this.escapedUdid));
        _this.updateTerminalSize();
        _this.term.focus();
        return _this;
    }
    ShellClient.start = function (params) {
        return new ShellClient(params);
    };
    ShellClient.prototype.supportMultiplexing = function () {
        return true;
    };
    ShellClient.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.SHELL) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true) });
    };
    ShellClient.prototype.onSocketClose = function (event) {
        console.log(TAG, "Connection closed: ".concat(event.reason));
        this.term.dispose();
    };
    ShellClient.prototype.onSocketMessage = function () {
    };
    ShellClient.prototype.startShell = function (udid) {
        if (!udid || !this.ws || this.ws.readyState !== this.ws.OPEN) {
            return;
        }
        var _a = this.fitAddon.proposeDimensions(), rows = _a.rows, cols = _a.cols;
        var message = {
            id: 1,
            type: 'shell',
            data: {
                type: 'start',
                rows: rows,
                cols: cols,
                udid: udid,
            },
        };
        this.ws.send(JSON.stringify(message));
    };
    ShellClient.getOrCreateContainer = function (udid) {
        var container = document.getElementById(udid);
        if (!container) {
            container = document.createElement('div');
            container.className = 'terminal-container';
            container.id = udid;
            document.body.appendChild(container);
        }
        return container;
    };
    ShellClient.prototype.updateTerminalSize = function () {
        var term = this.term;
        var terminalContainer = ShellClient.getOrCreateContainer(this.escapedUdid);
        var _a = this.fitAddon.proposeDimensions(), rows = _a.rows, cols = _a.cols;
        var width = (cols * term._core._renderService.dimensions.actualCellWidth + term._core.viewport.scrollBarWidth).toFixed(2) + 'px';
        var height = (rows * term._core._renderService.dimensions.actualCellHeight).toFixed(2) + 'px';
        terminalContainer.style.width = width;
        terminalContainer.style.height = height;
        this.fitAddon.fit();
    };
    ShellClient.createEntryForDeviceList = function (descriptor, blockClass, params) {
        if (descriptor.state !== 'device') {
            return;
        }
        var entry = document.createElement('div');
        entry.classList.add('shell', blockClass);
        entry.appendChild(BaseDeviceTracker_1.BaseDeviceTracker.buildLink({
            action: Action_1.ACTION.SHELL,
            udid: descriptor.udid,
        }, 'shell', params));
        return entry;
    };
    ShellClient.prototype.getChannelInitData = function () {
        var buffer = Buffer.alloc(4);
        buffer.write(ChannelCode_1.ChannelCode.SHEL, 'ascii');
        return buffer;
    };
    ShellClient.ACTION = Action_1.ACTION.SHELL;
    return ShellClient;
}(ManagerClient_1.ManagerClient));
exports.ShellClient = ShellClient;


/***/ }),

/***/ "./src/app/googDevice/client/StreamClientScrcpy.ts":
/*!*********************************************************!*\
  !*** ./src/app/googDevice/client/StreamClientScrcpy.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamClientScrcpy = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseClient_1 = __webpack_require__(/*! ../../client/BaseClient */ "./src/app/client/BaseClient.ts");
var GoogMoreBox_1 = __webpack_require__(/*! ../toolbox/GoogMoreBox */ "./src/app/googDevice/toolbox/GoogMoreBox.ts");
var GoogToolBox_1 = __webpack_require__(/*! ../toolbox/GoogToolBox */ "./src/app/googDevice/toolbox/GoogToolBox.ts");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../VideoSettings */ "./src/app/VideoSettings.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Size */ "./src/app/Size.ts"));
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ../filePush/FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var DragAndPushLogger_1 = tslib_1.__importDefault(__webpack_require__(/*! ../DragAndPushLogger */ "./src/app/googDevice/DragAndPushLogger.ts"));
var KeyInputHandler_1 = __webpack_require__(/*! ../KeyInputHandler */ "./src/app/googDevice/KeyInputHandler.ts");
var BasePlayer_1 = __webpack_require__(/*! ../../player/BasePlayer */ "./src/app/player/BasePlayer.ts");
var ConfigureScrcpy_1 = __webpack_require__(/*! ./ConfigureScrcpy */ "./src/app/googDevice/client/ConfigureScrcpy.ts");
var DeviceTracker_1 = __webpack_require__(/*! ./DeviceTracker */ "./src/app/googDevice/client/DeviceTracker.ts");
var ControlCenterCommand_1 = __webpack_require__(/*! ../../../common/ControlCenterCommand */ "./src/common/ControlCenterCommand.ts");
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var FeaturedInteractionHandler_1 = __webpack_require__(/*! ../../interactionHandler/FeaturedInteractionHandler */ "./src/app/interactionHandler/FeaturedInteractionHandler.ts");
var Attribute_1 = __webpack_require__(/*! ../../Attribute */ "./src/app/Attribute.ts");
var HostTracker_1 = __webpack_require__(/*! ../../client/HostTracker */ "./src/app/client/HostTracker.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var StreamReceiverScrcpy_1 = __webpack_require__(/*! ./StreamReceiverScrcpy */ "./src/app/googDevice/client/StreamReceiverScrcpy.ts");
var ScrcpyFilePushStream_1 = __webpack_require__(/*! ../filePush/ScrcpyFilePushStream */ "./src/app/googDevice/filePush/ScrcpyFilePushStream.ts");
var TAG = '[StreamClientScrcpy]';
var StreamClientScrcpy = (function (_super) {
    tslib_1.__extends(StreamClientScrcpy, _super);
    function StreamClientScrcpy(params, streamReceiver, player, fitToScreen, videoSettings) {
        var _this = _super.call(this, params) || this;
        _this.deviceName = '';
        _this.clientId = -1;
        _this.clientsCount = -1;
        _this.joinedStream = false;
        _this.OnDeviceMessage = function (message) {
            if (_this.moreBox) {
                _this.moreBox.OnDeviceMessage(message);
            }
        };
        _this.onVideo = function (data) {
            if (!_this.player) {
                return;
            }
            var STATE = BasePlayer_1.BasePlayer.STATE;
            if (_this.player.getState() === STATE.PAUSED) {
                _this.player.play();
            }
            if (_this.player.getState() === STATE.PLAYING) {
                _this.player.pushFrame(new Uint8Array(data));
            }
        };
        _this.onClientsStats = function (stats) {
            _this.deviceName = stats.deviceName;
            _this.clientId = stats.clientId;
        };
        _this.onDisplayInfo = function (infoArray) {
            var _a;
            if (!_this.player) {
                return;
            }
            var currentSettings = _this.player.getVideoSettings();
            var displayId = currentSettings.displayId;
            var info = infoArray.find(function (value) {
                return value.displayInfo.displayId === displayId;
            });
            if (!info) {
                return;
            }
            if (_this.player.getState() === BasePlayer_1.BasePlayer.STATE.PAUSED) {
                _this.player.play();
            }
            var videoSettings = info.videoSettings, screenInfo = info.screenInfo;
            _this.player.setDisplayInfo(info.displayInfo);
            if (typeof _this.fitToScreen !== 'boolean') {
                _this.fitToScreen = _this.player.getFitToScreenStatus();
            }
            if (_this.fitToScreen) {
                var newBounds = _this.getMaxSize();
                if (newBounds) {
                    currentSettings = StreamClientScrcpy.createVideoSettingsWithBounds(currentSettings, newBounds);
                    _this.player.setVideoSettings(currentSettings, _this.fitToScreen, false);
                }
            }
            if (!videoSettings || !screenInfo) {
                _this.joinedStream = true;
                _this.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetVideoSettingsCommand(currentSettings));
                return;
            }
            _this.clientsCount = info.connectionCount;
            var min = VideoSettings_1.default.copy(videoSettings);
            var oldInfo = _this.player.getScreenInfo();
            if (!screenInfo.equals(oldInfo)) {
                _this.player.setScreenInfo(screenInfo);
            }
            if (!videoSettings.equals(currentSettings)) {
                _this.applyNewVideoSettings(videoSettings, videoSettings.equals(_this.requestedVideoSettings));
            }
            if (!oldInfo) {
                var bounds = currentSettings.bounds;
                var videoSize = screenInfo.videoSize;
                var onlyOneClient = _this.clientsCount === 0;
                var smallerThenCurrent = bounds && (bounds.width < videoSize.width || bounds.height < videoSize.height);
                if (onlyOneClient || smallerThenCurrent) {
                    min = currentSettings;
                }
                var minBounds = (_a = currentSettings.bounds) === null || _a === void 0 ? void 0 : _a.intersect(min.bounds);
                if (minBounds && !minBounds.equals(min.bounds)) {
                    min = StreamClientScrcpy.createVideoSettingsWithBounds(min, minBounds);
                }
            }
            if (!min.equals(videoSettings) || !_this.joinedStream) {
                _this.joinedStream = true;
                _this.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetVideoSettingsCommand(min));
            }
        };
        _this.onDisconnected = function () {
            var _a, _b;
            _this.streamReceiver.off('deviceMessage', _this.OnDeviceMessage);
            _this.streamReceiver.off('video', _this.onVideo);
            _this.streamReceiver.off('clientsStats', _this.onClientsStats);
            _this.streamReceiver.off('displayInfo', _this.onDisplayInfo);
            _this.streamReceiver.off('disconnected', _this.onDisconnected);
            (_a = _this.filePushHandler) === null || _a === void 0 ? void 0 : _a.release();
            _this.filePushHandler = undefined;
            (_b = _this.touchHandler) === null || _b === void 0 ? void 0 : _b.release();
            _this.touchHandler = undefined;
        };
        if (streamReceiver) {
            _this.streamReceiver = streamReceiver;
        }
        else {
            _this.streamReceiver = new StreamReceiverScrcpy_1.StreamReceiverScrcpy(_this.params);
        }
        var _a = _this.params, udid = _a.udid, playerName = _a.player;
        _this.startStream({ udid: udid, player: player, playerName: playerName, fitToScreen: fitToScreen, videoSettings: videoSettings });
        _this.setBodyClass('stream');
        return _this;
    }
    StreamClientScrcpy.registerPlayer = function (playerClass) {
        if (playerClass.isSupported()) {
            this.players.set(playerClass.playerFullName, playerClass);
        }
    };
    StreamClientScrcpy.getPlayers = function () {
        return Array.from(this.players.values());
    };
    StreamClientScrcpy.getPlayerClass = function (playerName) {
        var e_1, _a;
        var playerClass;
        try {
            for (var _b = tslib_1.__values(StreamClientScrcpy.players.values()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var value = _c.value;
                if (value.playerFullName === playerName || value.playerCodeName === playerName) {
                    playerClass = value;
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return playerClass;
    };
    StreamClientScrcpy.createPlayer = function (playerName, udid, displayInfo) {
        var playerClass = this.getPlayerClass(playerName);
        if (!playerClass) {
            return;
        }
        return new playerClass(udid, displayInfo);
    };
    StreamClientScrcpy.getFitToScreen = function (playerName, udid, displayInfo) {
        var playerClass = this.getPlayerClass(playerName);
        if (!playerClass) {
            return false;
        }
        return playerClass.getFitToScreenStatus(udid, displayInfo);
    };
    StreamClientScrcpy.start = function (query, streamReceiver, player, fitToScreen, videoSettings) {
        if (query instanceof URLSearchParams) {
            var params = StreamClientScrcpy.parseParameters(query);
            return new StreamClientScrcpy(params, streamReceiver, player, fitToScreen, videoSettings);
        }
        else {
            return new StreamClientScrcpy(query, streamReceiver, player, fitToScreen, videoSettings);
        }
    };
    StreamClientScrcpy.createVideoSettingsWithBounds = function (old, newBounds) {
        return new VideoSettings_1.default({
            crop: old.crop,
            bitrate: old.bitrate,
            bounds: newBounds,
            maxFps: old.maxFps,
            iFrameInterval: old.iFrameInterval,
            sendFrameMeta: old.sendFrameMeta,
            lockedVideoOrientation: old.lockedVideoOrientation,
            displayId: old.displayId,
            codecOptions: old.codecOptions,
            encoderName: old.encoderName,
        });
    };
    StreamClientScrcpy.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.STREAM_SCRCPY) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, player: Util_1.default.parseString(params, 'player', true), udid: Util_1.default.parseString(params, 'udid', true), ws: Util_1.default.parseString(params, 'ws', true) });
    };
    StreamClientScrcpy.prototype.startStream = function (_a) {
        var _this = this;
        var udid = _a.udid, player = _a.player, playerName = _a.playerName, videoSettings = _a.videoSettings, fitToScreen = _a.fitToScreen;
        if (!udid) {
            throw Error("Invalid udid value: \"".concat(udid, "\""));
        }
        this.fitToScreen = fitToScreen;
        if (!player) {
            if (typeof playerName !== 'string') {
                throw Error('Must provide BasePlayer instance or playerName');
            }
            var displayInfo = void 0;
            if (this.streamReceiver && videoSettings) {
                displayInfo = this.streamReceiver.getDisplayInfo(videoSettings.displayId);
            }
            var p = StreamClientScrcpy.createPlayer(playerName, udid, displayInfo);
            if (!p) {
                throw Error("Unsupported player: \"".concat(playerName, "\""));
            }
            if (typeof fitToScreen !== 'boolean') {
                fitToScreen = StreamClientScrcpy.getFitToScreen(playerName, udid, displayInfo);
            }
            player = p;
        }
        this.player = player;
        this.setTouchListeners(player);
        if (!videoSettings) {
            videoSettings = player.getVideoSettings();
        }
        var deviceView = document.createElement('div');
        deviceView.className = 'device-view';
        var stop = function (ev) {
            if (ev && ev instanceof Event && ev.type === 'error') {
                console.error(TAG, ev);
            }
            var parent;
            parent = deviceView.parentElement;
            if (parent) {
                parent.removeChild(deviceView);
            }
            parent = moreBox.parentElement;
            if (parent) {
                parent.removeChild(moreBox);
            }
            _this.streamReceiver.stop();
            if (_this.player) {
                _this.player.stop();
            }
        };
        var googMoreBox = (this.moreBox = new GoogMoreBox_1.GoogMoreBox(udid, player, this));
        var moreBox = googMoreBox.getHolderElement();
        googMoreBox.setOnStop(stop);
        var googToolBox = GoogToolBox_1.GoogToolBox.createToolBox(udid, player, this, moreBox);
        this.controlButtons = googToolBox.getHolderElement();
        deviceView.appendChild(this.controlButtons);
        var video = document.createElement('div');
        video.className = 'video';
        deviceView.appendChild(video);
        deviceView.appendChild(moreBox);
        player.setParent(video);
        player.pause();
        document.body.appendChild(deviceView);
        var divMove = document.createElement('div');
        divMove.className = 'div-move';
        var spanLeft = document.createElement('span');
        var spanRight = document.createElement('span');
        spanLeft.innerHTML = "";
        spanRight.innerHTML = "";
        divMove.appendChild(spanLeft);
        divMove.appendChild(spanRight);
        var hash = location.hash.replace(/^#!/, '');
        var parsedQuery = new URLSearchParams(hash);
        var number = parsedQuery.get('number');
        var ips = parsedQuery.get('ips') == undefined ? '172.20.50.123:7000' : parsedQuery.get('ips');
        var devices = null;
        var prevNumber = "";
        var nextNumber = "";
        var prevUdid = "";
        var nextUdid = "";
        var prevServer = "";
        var nextServer = "";
        console.log("number", number);
        console.log("udid", udid);
        console.log("ips", ips);
        fetch("http://" + ips + "/devices").then(function (x) { return x.json(); })
            .then(function (data) {
            devices = data;
            console.log("devices", devices);
            devices.sort(function (a, b) {
                if (a.number < b.number)
                    return -1;
                if (a.number > b.number)
                    return 1;
                return 0;
            });
            for (var i = 0; i < devices.length; i++) {
                if (devices[i].number == number) {
                    prevNumber = (i - 1) >= 0 ? devices[i - 1].number : devices[devices.length - 1].number;
                    nextNumber = (i + 1) < devices.length ? devices[i + 1].number : devices[0].number;
                    prevUdid = (i - 1) >= 0 ? devices[i - 1].serial : devices[devices.length - 1].serial;
                    nextUdid = (i + 1) < devices.length ? devices[i + 1].serial : devices[0].serial;
                    prevServer = (i - 1) >= 0 ? devices[i - 1].clusterAddress : devices[devices.length - 1].clusterAddress;
                    nextServer = (i + 1) < devices.length ? devices[i + 1].clusterAddress : devices[0].clusterAddress;
                }
                console.log("devices", devices);
                console.log("prevNumber nextNumber", prevNumber, nextNumber);
                console.log("prevUdid nextUdid", prevUdid, nextUdid);
                console.log("prevServer nextServer", prevServer, nextServer);
            }
        });
        var goLeft = function () {
            var currentUrl = "http://".concat(prevServer, ":8000/#!action=stream&ips=").concat(ips, "&number=").concat(prevNumber, "&udid=").concat(prevUdid, "&player=broadway&ws=ws%3A%2F%2F").concat(prevServer, "%3A8000%2F%3Faction%3Dproxy-adb%26remote%3Dtcp%253A8886%26udid%3D").concat(prevUdid);
            console.log('currentUrl1', currentUrl);
            location.replace(currentUrl);
            location.reload();
        };
        var goRight = function () {
            var currentUrl = "http://".concat(nextServer, ":8000/#!action=stream&ips=").concat(ips, "&number=").concat(nextNumber, "&udid=").concat(nextUdid, "&player=broadway&ws=ws%3A%2F%2F").concat(nextServer, "%3A8000%2F%3Faction%3Dproxy-adb%26remote%3Dtcp%253A8886%26udid%3D").concat(nextUdid);
            console.log('currentUrl1', currentUrl);
            setTimeout(function () { document.location.href = currentUrl; }, 500);
            location.replace(currentUrl);
            location.reload();
        };
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowLeft') {
                goLeft();
            }
            if (event.key === 'ArrowRight') {
                goRight();
            }
        });
        spanLeft.addEventListener('click', function () {
            goLeft();
        });
        spanRight.addEventListener('click', function () {
            goRight();
        });
        document.body.appendChild(divMove);
        if (fitToScreen) {
            var newBounds = this.getMaxSize();
            if (newBounds) {
                videoSettings = StreamClientScrcpy.createVideoSettingsWithBounds(videoSettings, newBounds);
            }
        }
        this.applyNewVideoSettings(videoSettings, false);
        var element = player.getTouchableElement();
        var logger = new DragAndPushLogger_1.default(element);
        this.filePushHandler = new FilePushHandler_1.default(element, new ScrcpyFilePushStream_1.ScrcpyFilePushStream(this.streamReceiver));
        this.filePushHandler.addEventListener(logger);
        var streamReceiver = this.streamReceiver;
        streamReceiver.on('deviceMessage', this.OnDeviceMessage);
        streamReceiver.on('video', this.onVideo);
        streamReceiver.on('clientsStats', this.onClientsStats);
        streamReceiver.on('displayInfo', this.onDisplayInfo);
        streamReceiver.on('disconnected', this.onDisconnected);
        console.log(TAG, player.getName(), udid);
    };
    StreamClientScrcpy.prototype.sendMessage = function (message) {
        this.streamReceiver.sendEvent(message);
    };
    StreamClientScrcpy.prototype.getDeviceName = function () {
        return this.deviceName;
    };
    StreamClientScrcpy.prototype.setHandleKeyboardEvents = function (enabled) {
        if (enabled) {
            KeyInputHandler_1.KeyInputHandler.addEventListener(this);
        }
        else {
            KeyInputHandler_1.KeyInputHandler.removeEventListener(this);
        }
    };
    StreamClientScrcpy.prototype.onKeyEvent = function (event) {
        this.sendMessage(event);
    };
    StreamClientScrcpy.prototype.sendNewVideoSetting = function (videoSettings) {
        this.requestedVideoSettings = videoSettings;
        this.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetVideoSettingsCommand(videoSettings));
    };
    StreamClientScrcpy.prototype.getClientId = function () {
        return this.clientId;
    };
    StreamClientScrcpy.prototype.getClientsCount = function () {
        return this.clientsCount;
    };
    StreamClientScrcpy.prototype.getMaxSize = function () {
        if (!this.controlButtons) {
            return;
        }
        var body = document.body;
        var width = (body.clientWidth - this.controlButtons.clientWidth) & ~15;
        var height = body.clientHeight & ~15;
        return new Size_1.default(width, height);
    };
    StreamClientScrcpy.prototype.setTouchListeners = function (player) {
        if (this.touchHandler) {
            return;
        }
        this.touchHandler = new FeaturedInteractionHandler_1.FeaturedInteractionHandler(player, this);
    };
    StreamClientScrcpy.prototype.applyNewVideoSettings = function (videoSettings, saveToStorage) {
        var fitToScreen = false;
        if (videoSettings.bounds && videoSettings.bounds.equals(this.getMaxSize())) {
            fitToScreen = true;
        }
        if (this.player) {
            this.player.setVideoSettings(videoSettings, fitToScreen, saveToStorage);
        }
    };
    StreamClientScrcpy.createEntryForDeviceList = function (descriptor, blockClass, fullName, params) {
        var hasPid = descriptor.pid !== -1;
        if (hasPid) {
            var configureButtonId = "configure_".concat(Util_1.default.escapeUdid(descriptor.udid));
            var e = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div class=\"stream ", "\">\n                <button\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    id=\"", "\"\n                    class=\"active action-button\"\n                >\n                    Configure stream\n                </button>\n            </div>"], ["<div class=\"stream ", "\">\n                <button\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    id=\"", "\"\n                    class=\"active action-button\"\n                >\n                    Configure stream\n                </button>\n            </div>"])), blockClass, Attribute_1.Attribute.UDID, descriptor.udid, Attribute_1.Attribute.COMMAND, ControlCenterCommand_1.ControlCenterCommand.CONFIGURE_STREAM, Attribute_1.Attribute.FULL_NAME, fullName, Attribute_1.Attribute.SECURE, params.secure, Attribute_1.Attribute.HOSTNAME, params.hostname, Attribute_1.Attribute.PORT, params.port, Attribute_1.Attribute.PATHNAME, params.pathname, Attribute_1.Attribute.USE_PROXY, params.useProxy, configureButtonId);
            var a = e.content.getElementById(configureButtonId);
            a && (a.onclick = this.onConfigureStreamClick);
            return e.content;
        }
        return;
    };
    StreamClientScrcpy.ACTION = 'stream';
    StreamClientScrcpy.players = new Map();
    StreamClientScrcpy.onConfigureStreamClick = function (event) {
        var button = event.currentTarget;
        var udid = Util_1.default.parseStringEnv(button.getAttribute(Attribute_1.Attribute.UDID) || '');
        var fullName = button.getAttribute(Attribute_1.Attribute.FULL_NAME);
        var secure = Util_1.default.parseBooleanEnv(button.getAttribute(Attribute_1.Attribute.SECURE) || undefined) || false;
        var hostname = Util_1.default.parseStringEnv(button.getAttribute(Attribute_1.Attribute.HOSTNAME) || undefined) || '';
        var port = Util_1.default.parseIntEnv(button.getAttribute(Attribute_1.Attribute.PORT) || undefined);
        var pathname = Util_1.default.parseStringEnv(button.getAttribute(Attribute_1.Attribute.PATHNAME) || undefined) || '';
        var useProxy = Util_1.default.parseBooleanEnv(button.getAttribute(Attribute_1.Attribute.USE_PROXY) || undefined);
        if (!udid) {
            throw Error("Invalid udid value: \"".concat(udid, "\""));
        }
        if (typeof port !== 'number') {
            throw Error("Invalid port type: ".concat(typeof port));
        }
        var tracker = DeviceTracker_1.DeviceTracker.getInstance({
            type: 'android',
            secure: secure,
            hostname: hostname,
            port: port,
            pathname: pathname,
            useProxy: useProxy,
        });
        var descriptor = tracker.getDescriptorByUdid(udid);
        if (!descriptor) {
            return;
        }
        event.preventDefault();
        var elements = document.getElementsByName("".concat(DeviceTracker_1.DeviceTracker.AttributePrefixInterfaceSelectFor).concat(fullName));
        if (!elements || !elements.length) {
            return;
        }
        var select = elements[0];
        var optionElement = select.options[select.selectedIndex];
        var ws = optionElement.getAttribute(Attribute_1.Attribute.URL);
        var name = optionElement.getAttribute(Attribute_1.Attribute.NAME);
        if (!ws || !name) {
            return;
        }
        var options = {
            udid: udid,
            ws: ws,
            player: '',
            action: Action_1.ACTION.STREAM_SCRCPY,
            secure: secure,
            hostname: hostname,
            port: port,
            pathname: pathname,
            useProxy: useProxy,
        };
        var dialog = new ConfigureScrcpy_1.ConfigureScrcpy(tracker, descriptor, options);
        dialog.on('closed', StreamClientScrcpy.onConfigureDialogClosed);
    };
    StreamClientScrcpy.onConfigureDialogClosed = function (event) {
        event.dialog.off('closed', StreamClientScrcpy.onConfigureDialogClosed);
        if (event.result) {
            HostTracker_1.HostTracker.getInstance().destroy();
        }
    };
    return StreamClientScrcpy;
}(BaseClient_1.BaseClient));
exports.StreamClientScrcpy = StreamClientScrcpy;
var templateObject_1;


/***/ }),

/***/ "./src/app/googDevice/client/StreamReceiverScrcpy.ts":
/*!***********************************************************!*\
  !*** ./src/app/googDevice/client/StreamReceiverScrcpy.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamReceiverScrcpy = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var StreamReceiver_1 = __webpack_require__(/*! ../../client/StreamReceiver */ "./src/app/client/StreamReceiver.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var StreamReceiverScrcpy = (function (_super) {
    tslib_1.__extends(StreamReceiverScrcpy, _super);
    function StreamReceiverScrcpy() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StreamReceiverScrcpy.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.STREAM_SCRCPY) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true), ws: Util_1.default.parseString(params, 'ws', true), player: Util_1.default.parseString(params, 'player', true) });
    };
    StreamReceiverScrcpy.prototype.buildDirectWebSocketUrl = function () {
        return new URL(this.params.ws);
    };
    return StreamReceiverScrcpy;
}(StreamReceiver_1.StreamReceiver));
exports.StreamReceiverScrcpy = StreamReceiverScrcpy;


/***/ }),

/***/ "./src/app/googDevice/filePush/AdbkitFilePushStream.ts":
/*!*************************************************************!*\
  !*** ./src/app/googDevice/filePush/AdbkitFilePushStream.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AdbkitFilePushStream = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var FilePushStream_1 = __webpack_require__(/*! ./FilePushStream */ "./src/app/googDevice/filePush/FilePushStream.ts");
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var FilePushResponseStatus_1 = __webpack_require__(/*! ./FilePushResponseStatus */ "./src/app/googDevice/filePush/FilePushResponseStatus.ts");
var protocol_1 = tslib_1.__importDefault(__webpack_require__(/*! @dead50f7/adbkit/lib/adb/protocol */ "./node_modules/@dead50f7/adbkit/lib/adb/protocol.js"));
var path = tslib_1.__importStar(__webpack_require__(/*! path */ "./node_modules/path-browserify/index.js"));
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ./FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var AdbkitFilePushStream = (function (_super) {
    tslib_1.__extends(AdbkitFilePushStream, _super);
    function AdbkitFilePushStream(socket, fileListingClient) {
        var _this = _super.call(this) || this;
        _this.socket = socket;
        _this.fileListingClient = fileListingClient;
        _this.channels = new Map();
        return _this;
    }
    AdbkitFilePushStream.prototype.hasConnection = function () {
        return this.socket.readyState == this.socket.OPEN;
    };
    AdbkitFilePushStream.prototype.isAllowedFile = function () {
        return true;
    };
    AdbkitFilePushStream.prototype.getChannel = function (id) {
        var channel = this.channels.get(id);
        var code = FilePushResponseStatus_1.FilePushResponseStatus.NO_ERROR;
        if (!channel) {
            code = FilePushResponseStatus_1.FilePushResponseStatus.ERROR_UNKNOWN_ID;
        }
        if (code) {
            this.emit('response', { id: id, code: code });
            return;
        }
        return channel;
    };
    AdbkitFilePushStream.prototype.sendEventAppend = function (_a) {
        var id = _a.id, chunk = _a.chunk;
        var appendParams = { id: id, chunk: chunk, state: CommandControlMessage_1.FilePushState.APPEND };
        var channel = this.getChannel(id);
        if (!channel) {
            return;
        }
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(appendParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.sendEventFinish = function (_a) {
        var id = _a.id;
        var finishParams = { id: id, state: CommandControlMessage_1.FilePushState.FINISH };
        var channel = this.getChannel(id);
        if (!channel) {
            return;
        }
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(finishParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.sendEventNew = function (_a) {
        var _this = this;
        var id = _a.id;
        var pushId = id;
        var newParams = { id: id, state: CommandControlMessage_1.FilePushState.NEW };
        var channel = this.socket.createChannel(Buffer.from(protocol_1.default.SEND));
        var onMessage = function (event) {
            var offset = 0;
            var buffer = Buffer.from(event.data);
            var id = buffer.readInt16BE(offset);
            offset += 2;
            var code = buffer.readInt8(offset);
            if (code === FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID) {
                _this.channels.set(id, channel);
                pushId = id;
            }
            _this.emit('response', { id: id, code: code });
        };
        var onClose = function (event) {
            if (!event.wasClean) {
                var code = 4000 - event.code;
                _this.emit('error', {
                    id: pushId,
                    error: new Error(FilePushHandler_1.default.getErrorMessage(code, event.reason)),
                });
            }
            channel.removeEventListener('message', onMessage);
            channel.removeEventListener('close', onClose);
        };
        channel.addEventListener('message', onMessage);
        channel.addEventListener('close', onClose);
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(newParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.sendEventStart = function (_a) {
        var id = _a.id, fileName = _a.fileName, fileSize = _a.fileSize;
        var filePath = path.join(this.fileListingClient.getPath(), fileName);
        var startParams = { id: id, fileName: filePath, fileSize: fileSize, state: CommandControlMessage_1.FilePushState.START };
        var channel = this.getChannel(id);
        if (!channel) {
            return;
        }
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(startParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.release = function () {
        this.channels.forEach(function (channel) {
            channel.close();
        });
    };
    return AdbkitFilePushStream;
}(FilePushStream_1.FilePushStream));
exports.AdbkitFilePushStream = AdbkitFilePushStream;


/***/ }),

/***/ "./src/app/googDevice/filePush/FilePushHandler.ts":
/*!********************************************************!*\
  !*** ./src/app/googDevice/filePush/FilePushHandler.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var DragAndDropHandler_1 = __webpack_require__(/*! ../DragAndDropHandler */ "./src/app/googDevice/DragAndDropHandler.ts");
var FilePushResponseStatus_1 = __webpack_require__(/*! ./FilePushResponseStatus */ "./src/app/googDevice/filePush/FilePushResponseStatus.ts");
var TAG = '[FilePushHandler]';
var FilePushHandler = (function () {
    function FilePushHandler(element, filePushStream) {
        var _this = this;
        this.element = element;
        this.filePushStream = filePushStream;
        this.responseWaiter = new Map();
        this.listeners = new Set();
        this.pushIdFileNameMap = new Map();
        this.onStreamError = function (_a) {
            var pushId = _a.id, error = _a.error;
            var fileName = _this.pushIdFileNameMap.get(pushId) || 'Unknown file';
            _this.sendUpdate({ pushId: pushId, fileName: fileName, message: error.message, progress: -1, error: true, finished: true });
        };
        this.onStreamResponse = function (response) {
            var func;
            var value;
            var code = response.code, idInResponse = response.id;
            var id = code === FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID ? FilePushHandler.REQUEST_NEW_PUSH_ID : response.id;
            var resolve = _this.responseWaiter.get(id);
            if (!resolve) {
                console.warn(TAG, "Unexpected push id: \"".concat(id, "\", ").concat(JSON.stringify(response)));
                return;
            }
            if (Array.isArray(resolve)) {
                func = resolve.shift();
                if (!resolve.length) {
                    _this.responseWaiter.delete(id);
                }
            }
            else {
                func = resolve;
                _this.responseWaiter.delete(id);
            }
            if (code === FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID) {
                value = { id: id, code: idInResponse };
            }
            else {
                value = { id: id, code: code };
            }
            func(value);
        };
        DragAndDropHandler_1.DragAndDropHandler.addEventListener(this);
        filePushStream.on('response', this.onStreamResponse);
        filePushStream.on('error', this.onStreamError);
    }
    FilePushHandler.prototype.sendUpdate = function (params) {
        if (params.error) {
            this.pushIdFileNameMap.delete(params.pushId);
        }
        this.listeners.forEach(function (listener) {
            listener.onFilePushUpdate(params);
        });
    };
    FilePushHandler.prototype.logError = function (pushId, fileName, code) {
        var msg = RESPONSE_CODES.get(code) || "Unknown error (".concat(code, ")");
        this.sendUpdate({ pushId: pushId, fileName: fileName, message: "error: \"".concat(msg, "\""), progress: -1, error: true, finished: true });
    };
    FilePushHandler.getStreamReader = function (file) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var blob, reader, result;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4, new Response(file).blob()];
                    case 1:
                        blob = _a.sent();
                        reader = blob.stream().getReader();
                        return [4, reader.read()];
                    case 2:
                        result = _a.sent();
                        return [2, { reader: reader, result: result }];
                }
            });
        });
    };
    FilePushHandler.prototype.pushFile = function (file) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var start, fileName, fileSize, id, pushId, waitPromise, _a, startResponseCode, _b, reader, result, receivedBytes, processData;
            var _this = this;
            return tslib_1.__generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        start = Date.now();
                        fileName = file.name, fileSize = file.size;
                        if (!this.filePushStream.hasConnection()) {
                            this.listeners.forEach(function (listener) {
                                listener.onError('WebSocket is not ready');
                            });
                            return [2];
                        }
                        id = FilePushHandler.REQUEST_NEW_PUSH_ID;
                        this.sendUpdate({ pushId: id, fileName: fileName, message: 'begins...', progress: 0, error: false, finished: false });
                        this.filePushStream.sendEventNew({ id: id });
                        return [4, this.waitForResponse(id)];
                    case 1:
                        pushId = (_c.sent()).code;
                        if (pushId <= 0) {
                            return [2, this.logError(pushId, fileName, pushId)];
                        }
                        this.pushIdFileNameMap.set(pushId, fileName);
                        waitPromise = this.waitForResponse(pushId);
                        this.filePushStream.sendEventStart({ id: pushId, fileName: fileName, fileSize: fileSize });
                        return [4, Promise.all([
                                waitPromise,
                                FilePushHandler.getStreamReader(file),
                            ])];
                    case 2:
                        _a = tslib_1.__read.apply(void 0, [_c.sent(), 2]), startResponseCode = _a[0].code, _b = _a[1], reader = _b.reader, result = _b.result;
                        if (startResponseCode !== FilePushResponseStatus_1.FilePushResponseStatus.NO_ERROR) {
                            this.logError(pushId, fileName, startResponseCode);
                            return [2];
                        }
                        receivedBytes = 0;
                        processData = function (_a) {
                            var done = _a.done, value = _a.value;
                            return tslib_1.__awaiter(_this, void 0, void 0, function () {
                                var finishResponseCode, _b, appendResponseCode, result, progress, message;
                                return tslib_1.__generator(this, function (_c) {
                                    switch (_c.label) {
                                        case 0:
                                            if (!(done || !value)) return [3, 2];
                                            this.filePushStream.sendEventFinish({ id: pushId });
                                            return [4, this.waitForResponse(pushId)];
                                        case 1:
                                            finishResponseCode = (_c.sent()).code;
                                            if (finishResponseCode !== 0) {
                                                this.logError(pushId, fileName, finishResponseCode);
                                            }
                                            else {
                                                this.sendUpdate({
                                                    pushId: pushId,
                                                    fileName: fileName,
                                                    message: 'success!',
                                                    progress: 100,
                                                    error: false,
                                                    finished: true,
                                                });
                                            }
                                            console.log(TAG, "File \"".concat(fileName, "\" uploaded in ").concat(Date.now() - start, "ms"));
                                            return [2];
                                        case 2:
                                            receivedBytes += value.length;
                                            this.filePushStream.sendEventAppend({ id: pushId, chunk: value });
                                            return [4, Promise.all([
                                                    this.waitForResponse(pushId),
                                                    reader.read(),
                                                ])];
                                        case 3:
                                            _b = tslib_1.__read.apply(void 0, [_c.sent(), 2]), appendResponseCode = _b[0].code, result = _b[1];
                                            if (appendResponseCode !== 0) {
                                                this.logError(pushId, fileName, appendResponseCode);
                                                return [2];
                                            }
                                            progress = (receivedBytes * 100) / fileSize;
                                            message = "".concat(progress.toFixed(2), "%");
                                            this.sendUpdate({ pushId: pushId, fileName: fileName, message: message, progress: progress, error: false, finished: false });
                                            return [2, processData(result)];
                                    }
                                });
                            });
                        };
                        return [2, processData(result)];
                }
            });
        });
    };
    FilePushHandler.prototype.waitForResponse = function (pushId) {
        var _this = this;
        return new Promise(function (resolve) {
            var stored = _this.responseWaiter.get(pushId);
            if (Array.isArray(stored)) {
                stored.push(resolve);
            }
            else if (stored) {
                var arr = [stored];
                arr.push(resolve);
                _this.responseWaiter.set(pushId, arr);
            }
            else {
                _this.responseWaiter.set(pushId, resolve);
            }
        });
    };
    FilePushHandler.prototype.onFilesDrop = function (files) {
        var _this = this;
        this.listeners.forEach(function (listener) {
            listener.onDrop();
        });
        files.forEach(function (file) {
            var type = file.type, name = file.name;
            if (_this.filePushStream.isAllowedFile(file)) {
                _this.pushFile(file);
            }
            else {
                var errorParams = {
                    pushId: FilePushHandler.REQUEST_NEW_PUSH_ID,
                    fileName: name,
                    message: "Unsupported type \"".concat(type, "\""),
                    progress: -1,
                    error: true,
                    finished: true,
                };
                _this.sendUpdate(errorParams);
            }
        });
        return true;
    };
    FilePushHandler.getErrorMessage = function (code, message) {
        return message || RESPONSE_CODES.get(code) || 'Unknown error';
    };
    FilePushHandler.prototype.onDragEnter = function () {
        var handled = false;
        this.listeners.forEach(function (listener) {
            handled = handled || listener.onDragEnter();
        });
        return handled;
    };
    FilePushHandler.prototype.onDragLeave = function () {
        var handled = false;
        this.listeners.forEach(function (listener) {
            handled = handled || listener.onDragLeave();
        });
        return handled;
    };
    FilePushHandler.prototype.getElement = function () {
        return this.element;
    };
    FilePushHandler.prototype.release = function () {
        this.filePushStream.off('response', this.onStreamResponse);
        this.filePushStream.off('error', this.onStreamError);
        this.filePushStream.release();
        DragAndDropHandler_1.DragAndDropHandler.removeEventListener(this);
        this.listeners.clear();
    };
    FilePushHandler.prototype.addEventListener = function (listener) {
        this.listeners.add(listener);
    };
    FilePushHandler.prototype.removeEventListener = function (listener) {
        this.listeners.delete(listener);
    };
    FilePushHandler.REQUEST_NEW_PUSH_ID = 0;
    return FilePushHandler;
}());
exports["default"] = FilePushHandler;
var RESPONSE_CODES = new Map([
    [FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID, 'New push id'],
    [FilePushResponseStatus_1.FilePushResponseStatus.NO_ERROR, 'No error'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_INVALID_NAME, 'Invalid name'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_NO_SPACE, 'No space'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FAILED_TO_DELETE, 'Failed to delete existing'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FAILED_TO_CREATE, 'Failed to create new file'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FILE_NOT_FOUND, 'File not found'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FAILED_TO_WRITE, 'Failed to write to file'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FILE_IS_BUSY, 'File is busy'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_INVALID_STATE, 'Invalid state'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_UNKNOWN_ID, 'Unknown id'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_NO_FREE_ID, 'No free id'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_INCORRECT_SIZE, 'Incorrect size'],
]);


/***/ }),

/***/ "./src/app/googDevice/filePush/FilePushResponseStatus.ts":
/*!***************************************************************!*\
  !*** ./src/app/googDevice/filePush/FilePushResponseStatus.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilePushResponseStatus = void 0;
var FilePushResponseStatus;
(function (FilePushResponseStatus) {
    FilePushResponseStatus[FilePushResponseStatus["NEW_PUSH_ID"] = 1] = "NEW_PUSH_ID";
    FilePushResponseStatus[FilePushResponseStatus["NO_ERROR"] = 0] = "NO_ERROR";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_INVALID_NAME"] = -1] = "ERROR_INVALID_NAME";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_NO_SPACE"] = -2] = "ERROR_NO_SPACE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FAILED_TO_DELETE"] = -3] = "ERROR_FAILED_TO_DELETE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FAILED_TO_CREATE"] = -4] = "ERROR_FAILED_TO_CREATE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FILE_NOT_FOUND"] = -5] = "ERROR_FILE_NOT_FOUND";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FAILED_TO_WRITE"] = -6] = "ERROR_FAILED_TO_WRITE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FILE_IS_BUSY"] = -7] = "ERROR_FILE_IS_BUSY";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_INVALID_STATE"] = -8] = "ERROR_INVALID_STATE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_UNKNOWN_ID"] = -9] = "ERROR_UNKNOWN_ID";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_NO_FREE_ID"] = -10] = "ERROR_NO_FREE_ID";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_INCORRECT_SIZE"] = -11] = "ERROR_INCORRECT_SIZE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_OTHER"] = -12] = "ERROR_OTHER";
})(FilePushResponseStatus = exports.FilePushResponseStatus || (exports.FilePushResponseStatus = {}));


/***/ }),

/***/ "./src/app/googDevice/filePush/FilePushStream.ts":
/*!*******************************************************!*\
  !*** ./src/app/googDevice/filePush/FilePushStream.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilePushStream = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var TypedEmitter_1 = __webpack_require__(/*! ../../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var FilePushStream = (function (_super) {
    tslib_1.__extends(FilePushStream, _super);
    function FilePushStream() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return FilePushStream;
}(TypedEmitter_1.TypedEmitter));
exports.FilePushStream = FilePushStream;


/***/ }),

/***/ "./src/app/googDevice/filePush/ScrcpyFilePushStream.ts":
/*!*************************************************************!*\
  !*** ./src/app/googDevice/filePush/ScrcpyFilePushStream.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ScrcpyFilePushStream = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var FilePushStream_1 = __webpack_require__(/*! ./FilePushStream */ "./src/app/googDevice/filePush/FilePushStream.ts");
var DeviceMessage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../DeviceMessage */ "./src/app/googDevice/DeviceMessage.ts"));
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var ALLOWED_TYPES = ['application/vnd.android.package-archive'];
var ALLOWED_NAME_RE = /\.apk$/i;
var ScrcpyFilePushStream = (function (_super) {
    tslib_1.__extends(ScrcpyFilePushStream, _super);
    function ScrcpyFilePushStream(streamReceiver) {
        var _this = _super.call(this) || this;
        _this.streamReceiver = streamReceiver;
        _this.onDeviceMessage = function (ev) {
            if (ev.type !== DeviceMessage_1.default.TYPE_PUSH_RESPONSE) {
                return;
            }
            var stats = ev.getPushStats();
            _this.emit('response', stats);
        };
        streamReceiver.on('deviceMessage', _this.onDeviceMessage);
        return _this;
    }
    ScrcpyFilePushStream.prototype.hasConnection = function () {
        return this.streamReceiver.hasConnection();
    };
    ScrcpyFilePushStream.prototype.isAllowedFile = function (file) {
        var type = file.type, name = file.name;
        return (type && ALLOWED_TYPES.includes(type)) || (!type && ALLOWED_NAME_RE.test(name));
    };
    ScrcpyFilePushStream.prototype.sendEventAppend = function (_a) {
        var id = _a.id, chunk = _a.chunk;
        var appendParams = { id: id, chunk: chunk, state: CommandControlMessage_1.FilePushState.APPEND };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(appendParams));
    };
    ScrcpyFilePushStream.prototype.sendEventFinish = function (_a) {
        var id = _a.id;
        var finishParams = { id: id, state: CommandControlMessage_1.FilePushState.FINISH };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(finishParams));
    };
    ScrcpyFilePushStream.prototype.sendEventNew = function (_a) {
        var id = _a.id;
        var newParams = { id: id, state: CommandControlMessage_1.FilePushState.NEW };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(newParams));
    };
    ScrcpyFilePushStream.prototype.sendEventStart = function (_a) {
        var id = _a.id, fileName = _a.fileName, fileSize = _a.fileSize;
        var startParams = { id: id, fileName: fileName, fileSize: fileSize, state: CommandControlMessage_1.FilePushState.START };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(startParams));
    };
    ScrcpyFilePushStream.prototype.release = function () {
        this.streamReceiver.off('deviceMessage', this.onDeviceMessage);
    };
    return ScrcpyFilePushStream;
}(FilePushStream_1.FilePushStream));
exports.ScrcpyFilePushStream = ScrcpyFilePushStream;


/***/ }),

/***/ "./src/app/googDevice/toolbox/GoogMoreBox.ts":
/*!***************************************************!*\
  !*** ./src/app/googDevice/toolbox/GoogMoreBox.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GoogMoreBox = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/morebox.css */ "./src/style/morebox.css");
var BasePlayer_1 = __webpack_require__(/*! ../../player/BasePlayer */ "./src/app/player/BasePlayer.ts");
var TextControlMessage_1 = __webpack_require__(/*! ../../controlMessage/TextControlMessage */ "./src/app/controlMessage/TextControlMessage.ts");
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var ControlMessage_1 = __webpack_require__(/*! ../../controlMessage/ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Size */ "./src/app/Size.ts"));
var DeviceMessage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../DeviceMessage */ "./src/app/googDevice/DeviceMessage.ts"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../VideoSettings */ "./src/app/VideoSettings.ts"));
var TAG = '[GoogMoreBox]';
var GoogMoreBox = (function () {
    function GoogMoreBox(udid, player, client) {
        var e_1, _a;
        var _this = this;
        var _b, _c;
        this.player = player;
        this.client = client;
        this.onViewVideoResize = function (size) {
            _this.holder.style.width = "".concat(size.width - 2 * 10, "px");
        };
        this.onVideoSettings = function (videoSettings) {
            if (_this.bitrateInput) {
                _this.bitrateInput.value = videoSettings.bitrate.toString();
            }
            if (_this.maxFpsInput) {
                _this.maxFpsInput.value = videoSettings.maxFps.toString();
            }
            if (_this.iFrameIntervalInput) {
                _this.iFrameIntervalInput.value = videoSettings.iFrameInterval.toString();
            }
            if (videoSettings.bounds) {
                var _a = videoSettings.bounds, width = _a.width, height = _a.height;
                if (_this.maxWidthInput) {
                    _this.maxWidthInput.value = width.toString();
                }
                if (_this.maxHeightInput) {
                    _this.maxHeightInput.value = height.toString();
                }
            }
        };
        this.fit = function () {
            var _a = _this.client.getMaxSize() || GoogMoreBox.defaultSize, width = _a.width, height = _a.height;
            if (_this.maxWidthInput) {
                _this.maxWidthInput.value = width.toString();
            }
            if (_this.maxHeightInput) {
                _this.maxHeightInput.value = height.toString();
            }
        };
        this.reset = function () {
            var preferredSettings = _this.player.getPreferredVideoSetting();
            _this.onVideoSettings(preferredSettings);
        };
        var playerName = player.getName();
        var videoSettings = player.getVideoSettings();
        var displayId = videoSettings.displayId;
        var preferredSettings = player.getPreferredVideoSetting();
        var moreBox = document.createElement('div');
        moreBox.className = 'more-box';
        var nameBox = document.createElement('p');
        nameBox.innerText = "".concat(udid, " (").concat(playerName, ")");
        nameBox.className = 'text-with-shadow';
        moreBox.appendChild(nameBox);
        var input = (this.input = document.createElement('textarea'));
        input.classList.add('text-area');
        var sendButton = document.createElement('button');
        sendButton.innerText = 'Enviar como teclas';
        var inputWrapper = GoogMoreBox.wrap('p', [input, sendButton], moreBox);
        sendButton.onclick = function () {
            if (input.value) {
                client.sendMessage(new TextControlMessage_1.TextControlMessage(input.value));
            }
        };
        var commands = [];
        var codes = CommandControlMessage_1.CommandControlMessage.Commands;
        var _loop_1 = function (action, command) {
            var btn = document.createElement('button');
            var bitrateInput;
            var maxFpsInput;
            var iFrameIntervalInput;
            var maxWidthInput;
            var maxHeightInput;
            if (action === ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS) {
                var spoiler = document.createElement('div');
                var spoilerLabel = document.createElement('label');
                var spoilerCheck = document.createElement('input');
                var innerDiv = document.createElement('div');
                var id = "spoiler_video_".concat(udid, "_").concat(playerName, "_").concat(displayId, "_").concat(action);
                spoiler.className = 'spoiler';
                spoilerCheck.type = 'checkbox';
                spoilerCheck.id = id;
                spoilerLabel.htmlFor = id;
                spoilerLabel.innerText = command;
                innerDiv.className = 'box';
                spoiler.appendChild(spoilerCheck);
                spoiler.appendChild(spoilerLabel);
                spoiler.appendChild(innerDiv);
                var bitrateLabel = document.createElement('label');
                bitrateLabel.innerText = 'Bitrate:';
                bitrateInput = document.createElement('input');
                bitrateInput.placeholder = "".concat(preferredSettings.bitrate, " bps");
                bitrateInput.value = videoSettings.bitrate.toString();
                GoogMoreBox.wrap('div', [bitrateLabel, bitrateInput], innerDiv);
                this_1.bitrateInput = bitrateInput;
                var maxFpsLabel = document.createElement('label');
                maxFpsLabel.innerText = 'Max fps:';
                maxFpsInput = document.createElement('input');
                maxFpsInput.placeholder = "".concat(preferredSettings.maxFps, " fps");
                maxFpsInput.value = videoSettings.maxFps.toString();
                GoogMoreBox.wrap('div', [maxFpsLabel, maxFpsInput], innerDiv);
                this_1.maxFpsInput = maxFpsInput;
                var iFrameIntervalLabel = document.createElement('label');
                iFrameIntervalLabel.innerText = 'I-Frame Interval:';
                iFrameIntervalInput = document.createElement('input');
                iFrameIntervalInput.placeholder = "".concat(preferredSettings.iFrameInterval, " seconds");
                iFrameIntervalInput.value = videoSettings.iFrameInterval.toString();
                GoogMoreBox.wrap('div', [iFrameIntervalLabel, iFrameIntervalInput], innerDiv);
                this_1.iFrameIntervalInput = iFrameIntervalInput;
                var _g = videoSettings.bounds || client.getMaxSize() || GoogMoreBox.defaultSize, width = _g.width, height = _g.height;
                var pWidth = ((_b = preferredSettings.bounds) === null || _b === void 0 ? void 0 : _b.width) || width;
                var pHeight = ((_c = preferredSettings.bounds) === null || _c === void 0 ? void 0 : _c.height) || height;
                var maxWidthLabel = document.createElement('label');
                maxWidthLabel.innerText = 'Max width:';
                maxWidthInput = document.createElement('input');
                maxWidthInput.placeholder = "".concat(pWidth, " px");
                maxWidthInput.value = width.toString();
                GoogMoreBox.wrap('div', [maxWidthLabel, maxWidthInput], innerDiv);
                this_1.maxWidthInput = maxWidthInput;
                var maxHeightLabel = document.createElement('label');
                maxHeightLabel.innerText = 'Max height:';
                maxHeightInput = document.createElement('input');
                maxHeightInput.placeholder = "".concat(pHeight, " px");
                maxHeightInput.value = height.toString();
                GoogMoreBox.wrap('div', [maxHeightLabel, maxHeightInput], innerDiv);
                this_1.maxHeightInput = maxHeightInput;
                innerDiv.appendChild(btn);
                var fitButton = document.createElement('button');
                fitButton.innerText = 'Fit';
                fitButton.onclick = this_1.fit;
                innerDiv.insertBefore(fitButton, innerDiv.firstChild);
                var resetButton = document.createElement('button');
                resetButton.innerText = 'Reset';
                resetButton.onclick = this_1.reset;
                innerDiv.insertBefore(resetButton, innerDiv.firstChild);
                commands.push(spoiler);
            }
            else {
                if (action === CommandControlMessage_1.CommandControlMessage.TYPE_SET_CLIPBOARD ||
                    action === CommandControlMessage_1.CommandControlMessage.TYPE_GET_CLIPBOARD) {
                    inputWrapper.appendChild(btn);
                }
                else {
                    commands.push(btn);
                }
            }
            btn.innerText = command;
            if (action === ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS) {
                btn.onclick = function () {
                    var bitrate = parseInt(bitrateInput.value, 10);
                    var maxFps = parseInt(maxFpsInput.value, 10);
                    var iFrameInterval = parseInt(iFrameIntervalInput.value, 10);
                    if (isNaN(bitrate) || isNaN(maxFps)) {
                        return;
                    }
                    var width = parseInt(maxWidthInput.value, 10) & ~15;
                    var height = parseInt(maxHeightInput.value, 10) & ~15;
                    var bounds = new Size_1.default(width, height);
                    var current = player.getVideoSettings();
                    var lockedVideoOrientation = current.lockedVideoOrientation, sendFrameMeta = current.sendFrameMeta, displayId = current.displayId, codecOptions = current.codecOptions, encoderName = current.encoderName;
                    var videoSettings = new VideoSettings_1.default({
                        bounds: bounds,
                        bitrate: bitrate,
                        maxFps: maxFps,
                        iFrameInterval: iFrameInterval,
                        lockedVideoOrientation: lockedVideoOrientation,
                        sendFrameMeta: sendFrameMeta,
                        displayId: displayId,
                        codecOptions: codecOptions,
                        encoderName: encoderName,
                    });
                    client.sendNewVideoSetting(videoSettings);
                };
            }
            else if (action === CommandControlMessage_1.CommandControlMessage.TYPE_SET_CLIPBOARD) {
                var cbutton2_1 = document.createElement("button");
                cbutton2_1.className = "control-button";
                cbutton2_1.title = "Abrir Portapapeles en Remoto(URL)";
                var img2 = document.createElement("img");
                img2.src = "data:image/png;base64,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";
                cbutton2_1.appendChild(img2);
                cbutton2_1.addEventListener("mousedown", function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
                    var hash, parsedQuery, uuid, ips, text, requestOptions;
                    return tslib_1.__generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                hash = location.hash.replace(/^#!/, '');
                                parsedQuery = new URLSearchParams(hash);
                                uuid = parsedQuery.get('udid');
                                ips = parsedQuery.get('ips') == undefined ? '172.20.50.123:7000' : parsedQuery.get('ips');
                                console.log("uuid", uuid);
                                console.log("ips", ips);
                                return [4, navigator.clipboard.readText()];
                            case 1:
                                text = _a.sent();
                                input.value = text;
                                console.log("clipboard", text);
                                if (text.includes("http")) {
                                    requestOptions = {
                                        method: 'POST',
                                        headers: {
                                            'Content-Type': 'application/json'
                                        },
                                        body: JSON.stringify({ "data": { "devices": uuid,
                                                "action": "adb",
                                                "data": {
                                                    "command": "am start -a android.intent.action.VIEW -d " + text
                                                }
                                            }
                                        })
                                    };
                                    fetch('http://' + ips + '/adb', requestOptions);
                                }
                                else {
                                    client.sendMessage(new TextControlMessage_1.TextControlMessage(input.value));
                                }
                                return [2];
                        }
                    });
                }); });
                setTimeout(function () {
                    var divWrapper = document.getElementsByClassName("control-wrapper")[0];
                    divWrapper.appendChild(cbutton2_1);
                }, 1000);
                btn.onclick = function () {
                    var text = input.value;
                    if (text) {
                        client.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetClipboardCommand(text));
                    }
                };
            }
            else {
                if (action === CommandControlMessage_1.CommandControlMessage.TYPE_GET_CLIPBOARD) {
                    var cbutton3_1 = document.createElement("button");
                    cbutton3_1.className = "control-button";
                    cbutton3_1.title = "Abrir Portapapeles en Navegador(URL)";
                    var img3 = document.createElement("img");
                    img3.src = "data:image/png;base64,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";
                    cbutton3_1.appendChild(img3);
                    cbutton3_1.addEventListener("mousedown", function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
                        return tslib_1.__generator(this, function (_a) {
                            client.sendMessage(new CommandControlMessage_1.CommandControlMessage(action));
                            return [2];
                        });
                    }); });
                    setTimeout(function () {
                        var divWrapper = document.getElementsByClassName("control-wrapper")[0];
                        divWrapper.appendChild(cbutton3_1);
                    }, 1000);
                }
                btn.onclick = function () {
                    client.sendMessage(new CommandControlMessage_1.CommandControlMessage(action));
                };
            }
        };
        var this_1 = this;
        try {
            for (var _d = tslib_1.__values(codes.entries()), _e = _d.next(); !_e.done; _e = _d.next()) {
                var _f = tslib_1.__read(_e.value, 2), action = _f[0], command = _f[1];
                _loop_1(action, command);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
            }
            finally { if (e_1) throw e_1.error; }
        }
        GoogMoreBox.wrap('p', commands, moreBox);
        var screenPowerModeId = "screen_power_mode_".concat(udid, "_").concat(playerName, "_").concat(displayId);
        var screenPowerModeLabel = document.createElement('label');
        screenPowerModeLabel.style.display = 'none';
        var labelTextPrefix = 'Mode';
        var buttonTextPrefix = 'Ahorro de energa';
        var screenPowerModeCheck = document.createElement('input');
        screenPowerModeCheck.type = 'checkbox';
        var mode = (screenPowerModeCheck.checked = false) ? 'ON' : 'OFF';
        screenPowerModeCheck.id = screenPowerModeLabel.htmlFor = screenPowerModeId;
        screenPowerModeLabel.innerText = "".concat(labelTextPrefix, " ").concat(mode);
        screenPowerModeCheck.onchange = function () {
            mode = screenPowerModeCheck.checked ? 'ON' : 'OFF';
            screenPowerModeLabel.innerText = "".concat(labelTextPrefix, " ").concat(mode);
            sendScreenPowerModeButton.innerText = "".concat(buttonTextPrefix, " ").concat(mode);
        };
        var sendScreenPowerModeButton = document.createElement('button');
        sendScreenPowerModeButton.innerText = "".concat(buttonTextPrefix, " ").concat(mode);
        sendScreenPowerModeButton.onclick = function () {
            var message = CommandControlMessage_1.CommandControlMessage.createSetScreenPowerModeCommand(screenPowerModeCheck.checked);
            client.sendMessage(message);
        };
        GoogMoreBox.wrap('p', [screenPowerModeCheck, screenPowerModeLabel, sendScreenPowerModeButton], moreBox, [
            'flex-center',
        ]);
        var qualityId = "show_video_quality_".concat(udid, "_").concat(playerName, "_").concat(displayId);
        var qualityLabel = document.createElement('label');
        var qualityCheck = document.createElement('input');
        qualityCheck.type = 'checkbox';
        qualityCheck.checked = BasePlayer_1.BasePlayer.DEFAULT_SHOW_QUALITY_STATS;
        qualityCheck.id = qualityId;
        qualityLabel.htmlFor = qualityId;
        qualityLabel.innerText = 'Ver stats';
        GoogMoreBox.wrap('p', [qualityCheck, qualityLabel], moreBox, ['flex-center']);
        qualityCheck.onchange = function () {
            player.setShowQualityStats(qualityCheck.checked);
        };
        var stop = function (ev) {
            if (ev && ev instanceof Event && ev.type === 'error') {
                console.error(TAG, ev);
            }
            var parent = moreBox.parentElement;
            if (parent) {
                parent.removeChild(moreBox);
            }
            player.off('video-view-resize', _this.onViewVideoResize);
            if (_this.onStop) {
                _this.onStop();
                delete _this.onStop;
            }
        };
        var stopBtn = document.createElement('button');
        stopBtn.innerText = "Desconectar";
        stopBtn.onclick = stop;
        GoogMoreBox.wrap('p', [stopBtn], moreBox);
        player.on('video-view-resize', this.onViewVideoResize);
        player.on('video-settings', this.onVideoSettings);
        this.holder = moreBox;
    }
    GoogMoreBox.prototype.OnDeviceMessage = function (ev) {
        if (ev.type !== DeviceMessage_1.default.TYPE_CLIPBOARD) {
            return;
        }
        this.input.value = ev.getText();
        this.input.select();
        window.open(ev.getText(), '_blank');
        console.log("OnDeviceMessage.text", ev.getText());
        document.execCommand('copy');
    };
    GoogMoreBox.wrap = function (tagName, elements, parent, opt_classes) {
        var _a;
        var wrap = document.createElement(tagName);
        if (opt_classes) {
            (_a = wrap.classList).add.apply(_a, tslib_1.__spreadArray([], tslib_1.__read(opt_classes), false));
        }
        elements.forEach(function (e) {
            wrap.appendChild(e);
        });
        parent.appendChild(wrap);
        return wrap;
    };
    GoogMoreBox.prototype.getHolderElement = function () {
        return this.holder;
    };
    GoogMoreBox.prototype.setOnStop = function (listener) {
        this.onStop = listener;
    };
    GoogMoreBox.defaultSize = new Size_1.default(360, 806);
    return GoogMoreBox;
}());
exports.GoogMoreBox = GoogMoreBox;


/***/ }),

/***/ "./src/app/googDevice/toolbox/GoogToolBox.ts":
/*!***************************************************!*\
  !*** ./src/app/googDevice/toolbox/GoogToolBox.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GoogToolBox = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ToolBox_1 = __webpack_require__(/*! ../../toolbox/ToolBox */ "./src/app/toolbox/ToolBox.ts");
var KeyEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ../android/KeyEvent */ "./src/app/googDevice/android/KeyEvent.ts"));
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var KeyCodeControlMessage_1 = __webpack_require__(/*! ../../controlMessage/KeyCodeControlMessage */ "./src/app/controlMessage/KeyCodeControlMessage.ts");
var ToolBoxButton_1 = __webpack_require__(/*! ../../toolbox/ToolBoxButton */ "./src/app/toolbox/ToolBoxButton.ts");
var ToolBoxCheckbox_1 = __webpack_require__(/*! ../../toolbox/ToolBoxCheckbox */ "./src/app/toolbox/ToolBoxCheckbox.ts");
var BUTTONS = [
    {
        title: 'Subir Vol.',
        code: KeyEvent_1.default.KEYCODE_VOLUME_UP,
        icon: SvgImage_1.default.Icon.VOLUME_UP,
    },
    {
        title: 'Bajar Vol.',
        code: KeyEvent_1.default.KEYCODE_VOLUME_DOWN,
        icon: SvgImage_1.default.Icon.VOLUME_DOWN,
    },
    {
        title: 'Volver',
        code: KeyEvent_1.default.KEYCODE_BACK,
        icon: SvgImage_1.default.Icon.BACK,
    },
    {
        title: 'Home',
        code: KeyEvent_1.default.KEYCODE_HOME,
        icon: SvgImage_1.default.Icon.HOME,
    },
    {
        title: 'Switch',
        code: KeyEvent_1.default.KEYCODE_APP_SWITCH,
        icon: SvgImage_1.default.Icon.OVERVIEW,
    },
];
var GoogToolBox = (function (_super) {
    tslib_1.__extends(GoogToolBox, _super);
    function GoogToolBox(list) {
        return _super.call(this, list) || this;
    }
    GoogToolBox.createToolBox = function (udid, player, client, moreBox) {
        var playerName = player.getName();
        var list = BUTTONS.slice();
        var handler = function (type, element) {
            var _a;
            if (!((_a = element.optional) === null || _a === void 0 ? void 0 : _a.code)) {
                return;
            }
            var code = element.optional.code;
            var action = type === 'mousedown' ? KeyEvent_1.default.ACTION_DOWN : KeyEvent_1.default.ACTION_UP;
            var event = new KeyCodeControlMessage_1.KeyCodeControlMessage(action, code, 0, 0);
            client.sendMessage(event);
        };
        var elements = list.map(function (item) {
            var button = new ToolBoxButton_1.ToolBoxButton(item.title, item.icon, {
                code: item.code,
            });
            button.addEventListener('mousedown', handler);
            button.addEventListener('mouseup', handler);
            return button;
        });
        if (player.supportsScreenshot) {
            var screenshot = new ToolBoxButton_1.ToolBoxButton('Capturar pantalla', SvgImage_1.default.Icon.CAMERA);
            screenshot.addEventListener('click', function () {
                player.createScreenshot(client.getDeviceName());
            });
            elements.push(screenshot);
        }
        var keyboard = new ToolBoxCheckbox_1.ToolBoxCheckbox('Capture keyboard', SvgImage_1.default.Icon.KEYBOARD, "capture_keyboard_".concat(udid, "_").concat(playerName));
        keyboard.addEventListener('click', function (_, el) {
            var element = el.getElement();
            client.setHandleKeyboardEvents(element.checked);
        });
        elements.push(keyboard);
        if (moreBox) {
            var displayId = player.getVideoSettings().displayId;
            var id = "show_more_".concat(udid, "_").concat(playerName, "_").concat(displayId);
            var more = new ToolBoxCheckbox_1.ToolBoxCheckbox('Opciones', SvgImage_1.default.Icon.MORE, id);
            more.addEventListener('click', function (_, el) {
                var element = el.getElement();
                moreBox.style.display = element.checked ? 'block' : 'none';
            });
            elements.unshift(more);
        }
        return new GoogToolBox(elements);
    };
    return GoogToolBox;
}(ToolBox_1.ToolBox));
exports.GoogToolBox = GoogToolBox;


/***/ }),

/***/ "./src/app/interactionHandler/FeaturedInteractionHandler.ts":
/*!******************************************************************!*\
  !*** ./src/app/interactionHandler/FeaturedInteractionHandler.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FeaturedInteractionHandler = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var InteractionHandler_1 = __webpack_require__(/*! ./InteractionHandler */ "./src/app/interactionHandler/InteractionHandler.ts");
var MotionEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ../MotionEvent */ "./src/app/MotionEvent.ts"));
var ScrollControlMessage_1 = __webpack_require__(/*! ../controlMessage/ScrollControlMessage */ "./src/app/controlMessage/ScrollControlMessage.ts");
var TAG = '[FeaturedTouchHandler]';
var FeaturedInteractionHandler = (function (_super) {
    tslib_1.__extends(FeaturedInteractionHandler, _super);
    function FeaturedInteractionHandler(player, listener) {
        var _this = _super.call(this, player, FeaturedInteractionHandler.touchEventsNames, FeaturedInteractionHandler.keyEventsNames) || this;
        _this.listener = listener;
        _this.storedFromMouseEvent = new Map();
        _this.storedFromTouchEvent = new Map();
        _this.onMouseEnter = function () {
            _this.over = true;
        };
        _this.onMouseLeave = function () {
            _this.lastPosition = undefined;
            _this.over = false;
            _this.storedFromMouseEvent.forEach(function (message) {
                _this.listener.sendMessage(InteractionHandler_1.InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_UP, message));
            });
            _this.storedFromMouseEvent.clear();
            _this.clearCanvas();
        };
        _this.tag.addEventListener('mouseleave', _this.onMouseLeave);
        _this.tag.addEventListener('mouseenter', _this.onMouseEnter);
        return _this;
    }
    FeaturedInteractionHandler.prototype.buildScrollEvent = function (event, screenInfo) {
        var messages = [];
        var touchOnClient = InteractionHandler_1.InteractionHandler.buildTouchOnClient(event, screenInfo);
        if (touchOnClient) {
            var hScroll = event.deltaX > 0 ? -1 : event.deltaX < -0 ? 1 : 0;
            var vScroll = event.deltaY > 0 ? -1 : event.deltaY < -0 ? 1 : 0;
            var time = Date.now();
            if (!this.lastScrollEvent ||
                time - this.lastScrollEvent.time > FeaturedInteractionHandler.SCROLL_EVENT_THROTTLING_TIME ||
                this.lastScrollEvent.vScroll !== vScroll ||
                this.lastScrollEvent.hScroll !== hScroll) {
                this.lastScrollEvent = { time: time, hScroll: hScroll, vScroll: vScroll };
                messages.push(new ScrollControlMessage_1.ScrollControlMessage(touchOnClient.touch.position, hScroll, vScroll));
            }
        }
        return messages;
    };
    FeaturedInteractionHandler.prototype.onInteraction = function (event) {
        var _this = this;
        var screenInfo = this.player.getScreenInfo();
        if (!screenInfo) {
            return;
        }
        var messages;
        var storage;
        if (event instanceof MouseEvent) {
            if (event.target !== this.tag) {
                return;
            }
            if (window['WheelEvent'] && event instanceof WheelEvent) {
                messages = this.buildScrollEvent(event, screenInfo);
            }
            else {
                storage = this.storedFromMouseEvent;
                messages = this.buildTouchEvent(event, screenInfo, storage);
            }
            if (this.over) {
                this.lastPosition = event;
            }
        }
        else if (window['TouchEvent'] && event instanceof TouchEvent) {
            if (event.target !== this.tag) {
                return;
            }
            storage = this.storedFromTouchEvent;
            messages = this.formatTouchEvent(event, screenInfo, storage);
        }
        else {
            console.error(TAG, 'Unsupported event', event);
            return;
        }
        if (event.cancelable) {
            event.preventDefault();
        }
        event.stopPropagation();
        messages.forEach(function (message) {
            _this.listener.sendMessage(message);
        });
    };
    FeaturedInteractionHandler.prototype.onKey = function (event) {
        if (!this.lastPosition) {
            return;
        }
        var screenInfo = this.player.getScreenInfo();
        if (!screenInfo) {
            return;
        }
        var ctrlKey = event.ctrlKey, shiftKey = event.shiftKey;
        var _a = this.lastPosition, target = _a.target, button = _a.button, buttons = _a.buttons, clientY = _a.clientY, clientX = _a.clientX;
        var type = InteractionHandler_1.InteractionHandler.SIMULATE_MULTI_TOUCH;
        var props = { ctrlKey: ctrlKey, shiftKey: shiftKey, type: type, target: target, button: button, buttons: buttons, clientX: clientX, clientY: clientY };
        this.buildTouchEvent(props, screenInfo, new Map());
    };
    FeaturedInteractionHandler.prototype.release = function () {
        _super.prototype.release.call(this);
        this.tag.removeEventListener('mouseleave', this.onMouseLeave);
        this.tag.removeEventListener('mouseenter', this.onMouseEnter);
        this.storedFromMouseEvent.clear();
    };
    FeaturedInteractionHandler.touchEventsNames = [
        'touchstart',
        'touchend',
        'touchmove',
        'touchcancel',
        'mousedown',
        'mouseup',
        'mousemove',
        'wheel',
    ];
    FeaturedInteractionHandler.keyEventsNames = ['keydown', 'keyup'];
    FeaturedInteractionHandler.SCROLL_EVENT_THROTTLING_TIME = 30;
    return FeaturedInteractionHandler;
}(InteractionHandler_1.InteractionHandler));
exports.FeaturedInteractionHandler = FeaturedInteractionHandler;


/***/ }),

/***/ "./src/app/interactionHandler/InteractionHandler.ts":
/*!**********************************************************!*\
  !*** ./src/app/interactionHandler/InteractionHandler.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

var _a;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InteractionHandler = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var MotionEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ../MotionEvent */ "./src/app/MotionEvent.ts"));
var TouchControlMessage_1 = __webpack_require__(/*! ../controlMessage/TouchControlMessage */ "./src/app/controlMessage/TouchControlMessage.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var Point_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Point */ "./src/app/Point.ts"));
var Position_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Position */ "./src/app/Position.ts"));
var touch_point_png_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/multitouch/touch_point.png */ "./src/public/images/multitouch/touch_point.png"));
var center_point_png_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/multitouch/center_point.png */ "./src/public/images/multitouch/center_point.png"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var TAG = '[TouchHandler]';
var InteractionHandler = (function () {
    function InteractionHandler(player, touchEventsNames, keyEventsNames) {
        this.player = player;
        this.touchEventsNames = touchEventsNames;
        this.keyEventsNames = keyEventsNames;
        this.multiTouchActive = false;
        this.multiTouchShift = false;
        this.dirtyPlace = [];
        this.over = false;
        this.tag = player.getTouchableElement();
        this.ctx = this.tag.getContext('2d');
        InteractionHandler.loadImages();
        InteractionHandler.bindGlobalListeners(this);
    }
    InteractionHandler.bindGlobalListeners = function (interactionHandler) {
        var _this = this;
        interactionHandler.touchEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                set = new Set();
                document.body.addEventListener(eventName, _this.onInteractionEvent, InteractionHandler.options);
                _this.eventListeners.set(eventName, set);
            }
            set.add(interactionHandler);
        });
        interactionHandler.keyEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                set = new Set();
                document.body.addEventListener(eventName, _this.onKeyEvent);
                _this.eventListeners.set(eventName, set);
            }
            set.add(interactionHandler);
        });
    };
    InteractionHandler.unbindListeners = function (touchHandler) {
        var _this = this;
        touchHandler.touchEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                return;
            }
            set.delete(touchHandler);
            if (set.size <= 0) {
                _this.eventListeners.delete(eventName);
                document.body.removeEventListener(eventName, _this.onInteractionEvent);
            }
        });
        touchHandler.keyEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                return;
            }
            set.delete(touchHandler);
            if (set.size <= 0) {
                _this.eventListeners.delete(eventName);
                document.body.removeEventListener(eventName, _this.onKeyEvent);
            }
        });
    };
    InteractionHandler.loadImages = function () {
        var _this = this;
        if (this.pointImagesLoaded) {
            return;
        }
        var total = 2;
        var current = 0;
        var onload = function (event) {
            if (++current === total) {
                _this.pointImagesLoaded = true;
            }
            if (event.target === _this.touchPointImage) {
                _this.touchPointRadius = _this.touchPointImage.width / 2;
            }
            else if (event.target === _this.centerPointImage) {
                _this.centerPointRadius = _this.centerPointImage.width / 2;
            }
        };
        var touch = (this.touchPointImage = new Image());
        touch.src = touch_point_png_1.default;
        touch.onload = onload;
        var center = (this.centerPointImage = new Image());
        center.src = center_point_png_1.default;
        center.onload = onload;
    };
    InteractionHandler.getPointerId = function (type, identifier) {
        if (this.idToPointerMap.has(identifier)) {
            var pointerId_1 = this.idToPointerMap.get(identifier);
            if (type === 'touchend' || type === 'touchcancel') {
                this.idToPointerMap.delete(identifier);
                this.pointerToIdMap.delete(pointerId_1);
            }
            return pointerId_1;
        }
        var pointerId = 0;
        while (this.pointerToIdMap.has(pointerId)) {
            pointerId++;
        }
        this.idToPointerMap.set(identifier, pointerId);
        this.pointerToIdMap.set(pointerId, identifier);
        return pointerId;
    };
    InteractionHandler.buildTouchOnClient = function (event, screenInfo) {
        var action = this.mapTypeToAction(event.type);
        var _a = screenInfo.videoSize, width = _a.width, height = _a.height;
        var target = event.target;
        var rect = target.getBoundingClientRect();
        var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
        var touchX = event.clientX - rect.left;
        var touchY = event.clientY - rect.top;
        var invalid = false;
        if (touchX < 0 || touchX > clientWidth || touchY < 0 || touchY > clientHeight) {
            invalid = true;
        }
        var eps = 1e5;
        var ratio = width / height;
        var shouldBe = Math.round(eps * ratio);
        var haveNow = Math.round((eps * clientWidth) / clientHeight);
        if (shouldBe > haveNow) {
            var realHeight = Math.ceil(clientWidth / ratio);
            var top_1 = (clientHeight - realHeight) / 2;
            if (touchY < top_1 || touchY > top_1 + realHeight) {
                invalid = true;
            }
            touchY -= top_1;
            clientHeight = realHeight;
        }
        else if (shouldBe < haveNow) {
            var realWidth = Math.ceil(clientHeight * ratio);
            var left = (clientWidth - realWidth) / 2;
            if (touchX < left || touchX > left + realWidth) {
                invalid = true;
            }
            touchX -= left;
            clientWidth = realWidth;
        }
        var x = (touchX * width) / clientWidth;
        var y = (touchY * height) / clientHeight;
        var size = new Size_1.default(width, height);
        var point = new Point_1.default(x, y);
        var position = new Position_1.default(point, size);
        if (x < 0 || y < 0 || x > width || y > height) {
            invalid = true;
        }
        return {
            client: {
                width: clientWidth,
                height: clientHeight,
            },
            touch: {
                invalid: invalid,
                action: action,
                position: position,
                buttons: event.buttons,
            },
        };
    };
    InteractionHandler.validateMessage = function (originalEvent, message, storage, logPrefix) {
        var messages = [];
        var action = message.action, pointerId = message.pointerId;
        var previous = storage.get(pointerId);
        if (action === MotionEvent_1.default.ACTION_UP) {
            if (!previous) {
                console.warn(logPrefix, 'Received ACTION_UP while there are no DOWN stored');
            }
            else {
                storage.delete(pointerId);
                messages.push(message);
            }
        }
        else if (action === MotionEvent_1.default.ACTION_DOWN) {
            if (previous) {
                console.warn(logPrefix, 'Received ACTION_DOWN while already has one stored');
            }
            else {
                storage.set(pointerId, message);
                messages.push(message);
            }
        }
        else if (action === MotionEvent_1.default.ACTION_MOVE) {
            if (!previous) {
                if ((originalEvent instanceof MouseEvent && originalEvent.buttons) ||
                    (window['TouchEvent'] && originalEvent instanceof TouchEvent)) {
                    console.warn(logPrefix, 'Received ACTION_MOVE while there are no DOWN stored');
                    var emulated = InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_DOWN, message);
                    messages.push(emulated);
                    storage.set(pointerId, emulated);
                }
            }
            else {
                messages.push(message);
                storage.set(pointerId, message);
            }
        }
        return messages;
    };
    InteractionHandler.createEmulatedMessage = function (action, event) {
        var pointerId = event.pointerId, position = event.position, buttons = event.buttons;
        var pressure = event.pressure;
        if (action === MotionEvent_1.default.ACTION_UP) {
            pressure = 0;
        }
        return new TouchControlMessage_1.TouchControlMessage(action, pointerId, position, pressure, buttons);
    };
    InteractionHandler.mapTypeToAction = function (type) {
        return this.EVENT_ACTION_MAP[type];
    };
    InteractionHandler.prototype.getTouch = function (e, screenInfo, ctrlKey, shiftKey) {
        var touchOnClient = InteractionHandler.buildTouchOnClient(e, screenInfo);
        if (!touchOnClient) {
            return null;
        }
        var client = touchOnClient.client, touch = touchOnClient.touch;
        var result = [touch];
        if (!ctrlKey) {
            this.multiTouchActive = false;
            this.multiTouchCenter = undefined;
            this.multiTouchShift = false;
            this.clearCanvas();
            return result;
        }
        var position = touch.position, action = touch.action, buttons = touch.buttons;
        var point = position.point, screenSize = position.screenSize;
        var width = screenSize.width, height = screenSize.height;
        var x = point.x, y = point.y;
        if (!this.multiTouchActive) {
            if (shiftKey) {
                this.multiTouchCenter = point;
                this.multiTouchShift = true;
            }
            else {
                this.multiTouchCenter = new Point_1.default(client.width / 2, client.height / 2);
            }
        }
        this.multiTouchActive = true;
        var opposite;
        var invalid = false;
        if (this.multiTouchShift && this.multiTouchCenter) {
            var oppoX = 2 * this.multiTouchCenter.x - x;
            var oppoY = 2 * this.multiTouchCenter.y - y;
            opposite = new Point_1.default(oppoX, oppoY);
            if (!(oppoX <= width && oppoX >= 0 && oppoY <= height && oppoY >= 0)) {
                invalid = true;
            }
        }
        else {
            opposite = new Point_1.default(client.width - x, client.height - y);
            invalid = touch.invalid;
        }
        if (opposite) {
            result.push({
                invalid: invalid,
                action: action,
                buttons: buttons,
                position: new Position_1.default(opposite, screenSize),
            });
        }
        return result;
    };
    InteractionHandler.prototype.drawCircle = function (ctx, point, radius) {
        ctx.beginPath();
        ctx.arc(point.x, point.y, radius, 0, Math.PI * 2, true);
        ctx.stroke();
    };
    InteractionHandler.prototype.drawLine = function (point1, point2) {
        if (!this.ctx) {
            return;
        }
        this.ctx.save();
        this.ctx.strokeStyle = InteractionHandler.STROKE_STYLE;
        this.ctx.beginPath();
        this.ctx.moveTo(point1.x, point1.y);
        this.ctx.lineTo(point2.x, point2.y);
        this.ctx.stroke();
        this.ctx.restore();
    };
    InteractionHandler.prototype.drawPoint = function (point, radius, image) {
        if (!this.ctx) {
            return;
        }
        var lineWidth = this.ctx.lineWidth;
        if (InteractionHandler.pointImagesLoaded && image) {
            radius = image.width / 2;
            lineWidth = 0;
            this.ctx.drawImage(image, point.x - radius, point.y - radius);
        }
        else {
            this.drawCircle(this.ctx, point, radius);
        }
        var topLeft = new Point_1.default(point.x - radius - lineWidth, point.y - radius - lineWidth);
        var bottomRight = new Point_1.default(point.x + radius + lineWidth, point.y + radius + lineWidth);
        this.updateDirty(topLeft, bottomRight);
    };
    InteractionHandler.prototype.drawPointer = function (point) {
        this.drawPoint(point, InteractionHandler.touchPointRadius, InteractionHandler.touchPointImage);
        if (this.multiTouchCenter) {
            this.drawLine(this.multiTouchCenter, point);
        }
    };
    InteractionHandler.prototype.drawCenter = function (point) {
        this.drawPoint(point, InteractionHandler.centerPointRadius, InteractionHandler.centerPointImage);
    };
    InteractionHandler.prototype.updateDirty = function (topLeft, bottomRight) {
        if (!this.dirtyPlace.length) {
            this.dirtyPlace.push(topLeft, bottomRight);
            return;
        }
        var currentTopLeft = this.dirtyPlace[0];
        var currentBottomRight = this.dirtyPlace[1];
        var newTopLeft = new Point_1.default(Math.min(currentTopLeft.x, topLeft.x), Math.min(currentTopLeft.y, topLeft.y));
        var newBottomRight = new Point_1.default(Math.max(currentBottomRight.x, bottomRight.x), Math.max(currentBottomRight.y, bottomRight.y));
        this.dirtyPlace.length = 0;
        this.dirtyPlace.push(newTopLeft, newBottomRight);
    };
    InteractionHandler.prototype.clearCanvas = function () {
        var _a = this.tag, clientWidth = _a.clientWidth, clientHeight = _a.clientHeight;
        var ctx = this.ctx;
        if (ctx && this.dirtyPlace.length) {
            var topLeft = this.dirtyPlace[0];
            var bottomRight = this.dirtyPlace[1];
            this.dirtyPlace.length = 0;
            var x = Math.max(topLeft.x, 0);
            var y = Math.max(topLeft.y, 0);
            var w = Math.min(clientWidth, bottomRight.x - x);
            var h = Math.min(clientHeight, bottomRight.y - y);
            ctx.clearRect(x, y, w, h);
            ctx.strokeStyle = InteractionHandler.STROKE_STYLE;
        }
    };
    InteractionHandler.prototype.formatTouchEvent = function (e, screenInfo, storage) {
        var logPrefix = "".concat(TAG, "[formatTouchEvent]");
        var messages = [];
        var touches = e.changedTouches;
        if (touches && touches.length) {
            for (var i = 0, l = touches.length; i < l; i++) {
                var touch = touches[i];
                var pointerId = InteractionHandler.getPointerId(e.type, touch.identifier);
                if (touch.target !== this.tag) {
                    continue;
                }
                var previous = storage.get(pointerId);
                var item = {
                    clientX: touch.clientX,
                    clientY: touch.clientY,
                    type: e.type,
                    buttons: MotionEvent_1.default.BUTTON_PRIMARY,
                    target: e.target,
                };
                var event_1 = InteractionHandler.buildTouchOnClient(item, screenInfo);
                if (event_1) {
                    var _a = event_1.touch, action = _a.action, buttons = _a.buttons, position = _a.position, invalid = _a.invalid;
                    var pressure = 1;
                    if (action === MotionEvent_1.default.ACTION_UP) {
                        pressure = 0;
                    }
                    else if (typeof touch.force === 'number') {
                        pressure = touch.force;
                    }
                    if (!invalid) {
                        var message = new TouchControlMessage_1.TouchControlMessage(action, pointerId, position, pressure, buttons);
                        messages.push.apply(messages, tslib_1.__spreadArray([], tslib_1.__read(InteractionHandler.validateMessage(e, message, storage, "".concat(logPrefix, "[validate]"))), false));
                    }
                    else {
                        if (previous) {
                            messages.push(InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_UP, previous));
                            storage.delete(pointerId);
                        }
                    }
                }
                else {
                    console.error(logPrefix, "Failed to format touch", touch);
                }
            }
        }
        else {
            console.error(logPrefix, 'No "touches"', e);
        }
        return messages;
    };
    InteractionHandler.prototype.buildTouchEvent = function (e, screenInfo, storage) {
        var _this = this;
        var logPrefix = "".concat(TAG, "[buildTouchEvent]");
        var touches = this.getTouch(e, screenInfo, e.ctrlKey, e.shiftKey);
        if (!touches) {
            return [];
        }
        var messages = [];
        var points = [];
        this.clearCanvas();
        touches.forEach(function (touch, pointerId) {
            var action = touch.action, buttons = touch.buttons, position = touch.position;
            var previous = storage.get(pointerId);
            if (!touch.invalid) {
                var pressure = 1.0;
                if (action === MotionEvent_1.default.ACTION_UP) {
                    pressure = 0;
                }
                var message = new TouchControlMessage_1.TouchControlMessage(action, pointerId, position, pressure, buttons);
                messages.push.apply(messages, tslib_1.__spreadArray([], tslib_1.__read(InteractionHandler.validateMessage(e, message, storage, "".concat(logPrefix, "[validate]"))), false));
                points.push(touch.position.point);
            }
            else {
                if (previous) {
                    points.push(previous.position.point);
                }
            }
        });
        if (this.multiTouchActive) {
            if (this.multiTouchCenter) {
                this.drawCenter(this.multiTouchCenter);
            }
            points.forEach(function (point) {
                _this.drawPointer(point);
            });
        }
        var hasActionUp = messages.find(function (message) {
            return message.action === MotionEvent_1.default.ACTION_UP;
        });
        if (hasActionUp && storage.size) {
            console.warn(logPrefix, 'Looks like one of Multi-touch pointers was not raised up');
            storage.forEach(function (message) {
                messages.push(InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_UP, message));
            });
            storage.clear();
        }
        return messages;
    };
    InteractionHandler.prototype.release = function () {
        InteractionHandler.unbindListeners(this);
    };
    InteractionHandler.SIMULATE_MULTI_TOUCH = 'SIMULATE_MULTI_TOUCH';
    InteractionHandler.STROKE_STYLE = '#00BEA4';
    InteractionHandler.EVENT_ACTION_MAP = (_a = {
            touchstart: MotionEvent_1.default.ACTION_DOWN,
            touchend: MotionEvent_1.default.ACTION_UP,
            touchmove: MotionEvent_1.default.ACTION_MOVE,
            touchcancel: MotionEvent_1.default.ACTION_UP,
            mousedown: MotionEvent_1.default.ACTION_DOWN,
            mousemove: MotionEvent_1.default.ACTION_MOVE,
            mouseup: MotionEvent_1.default.ACTION_UP
        },
        _a[InteractionHandler.SIMULATE_MULTI_TOUCH] = -1,
        _a);
    InteractionHandler.options = Util_1.default.supportsPassive() ? { passive: false } : false;
    InteractionHandler.idToPointerMap = new Map();
    InteractionHandler.pointerToIdMap = new Map();
    InteractionHandler.touchPointRadius = 10;
    InteractionHandler.centerPointRadius = 5;
    InteractionHandler.pointImagesLoaded = false;
    InteractionHandler.eventListeners = new Map();
    InteractionHandler.onInteractionEvent = function (event) {
        var set = InteractionHandler.eventListeners.get(event.type);
        if (!set) {
            return;
        }
        set.forEach(function (instance) {
            instance.onInteraction(event);
        });
    };
    InteractionHandler.onKeyEvent = function (event) {
        var set = InteractionHandler.eventListeners.get(event.type);
        if (!set) {
            return;
        }
        set.forEach(function (instance) {
            instance.onKey(event);
        });
    };
    return InteractionHandler;
}());
exports.InteractionHandler = InteractionHandler;


/***/ }),

/***/ "./src/app/player/BaseCanvasBasedPlayer.ts":
/*!*************************************************!*\
  !*** ./src/app/player/BaseCanvasBasedPlayer.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseCanvasBasedPlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BasePlayer_1 = __webpack_require__(/*! ./BasePlayer */ "./src/app/player/BasePlayer.ts");
var BaseCanvasBasedPlayer = (function (_super) {
    tslib_1.__extends(BaseCanvasBasedPlayer, _super);
    function BaseCanvasBasedPlayer(udid, displayInfo, name, storageKeyPrefix, tag) {
        if (name === void 0) { name = 'Canvas'; }
        if (storageKeyPrefix === void 0) { storageKeyPrefix = 'DummyCanvas'; }
        if (tag === void 0) { tag = BaseCanvasBasedPlayer.createElement(); }
        var _this = _super.call(this, udid, displayInfo, name, storageKeyPrefix, tag) || this;
        _this.tag = tag;
        _this.framesList = [];
        _this.decodedFrames = [];
        _this.videoStats = [];
        _this.drawDecoded = function () {
            if (!_this.canvas) {
                return;
            }
            if (_this.receivedFirstFrame) {
                var data = _this.decodedFrames.shift();
                if (data) {
                    var frame = data.frame, width = data.width, height = data.height;
                    _this.canvas.decode(frame, width, height);
                }
            }
            if (_this.decodedFrames.length) {
                _this.animationFrameId = requestAnimationFrame(_this.drawDecoded);
            }
            else {
                _this.animationFrameId = undefined;
            }
        };
        return _this;
    }
    BaseCanvasBasedPlayer.hasWebGLSupport = function () {
        var testCanvas = document.createElement('canvas');
        var validContextNames = ['webgl', 'experimental-webgl', 'moz-webgl', 'webkit-3d'];
        var index = 0;
        var gl = null;
        while (!gl && index++ < validContextNames.length) {
            try {
                gl = testCanvas.getContext(validContextNames[index]);
            }
            catch (error) {
                gl = null;
            }
        }
        return !!gl;
    };
    BaseCanvasBasedPlayer.createElement = function (id) {
        var tag = document.createElement('canvas');
        if (typeof id === 'string') {
            tag.id = id;
        }
        tag.className = 'video-layer';
        return tag;
    };
    BaseCanvasBasedPlayer.prototype.onFrameDecoded = function (width, height, frame) {
        if (!this.receivedFirstFrame) {
            return;
        }
        var dropped = 0;
        var maxStored = this.videoSettings.maxFps / 10;
        while (this.decodedFrames.length > maxStored) {
            var data = this.decodedFrames.shift();
            if (data) {
                this.dropFrame(data.frame);
                dropped++;
            }
        }
        this.decodedFrames.push({ width: width, height: height, frame: frame });
        this.videoStats.push({
            decodedFrames: 1,
            droppedFrames: dropped,
            inputBytes: 0,
            inputFrames: 0,
            timestamp: Date.now(),
        });
        if (!this.animationFrameId) {
            this.animationFrameId = requestAnimationFrame(this.drawDecoded);
        }
    };
    BaseCanvasBasedPlayer.prototype.dropFrame = function (_frame) {
    };
    BaseCanvasBasedPlayer.prototype.shiftFrame = function () {
        if (this.getState() !== BasePlayer_1.BasePlayer.STATE.PLAYING) {
            return;
        }
        var first = this.framesList.shift();
        if (first) {
            this.decode(first);
        }
    };
    BaseCanvasBasedPlayer.prototype.calculateMomentumStats = function () {
        var timestamp = Date.now();
        var oneSecondBefore = timestamp - 1000;
        while (this.videoStats.length && this.videoStats[0].timestamp < oneSecondBefore) {
            this.videoStats.shift();
        }
        while (this.inputBytes.length && this.inputBytes[0].timestamp < oneSecondBefore) {
            this.inputBytes.shift();
        }
        var decodedFrames = 0;
        var droppedFrames = 0;
        var inputBytes = 0;
        this.videoStats.forEach(function (item) {
            decodedFrames += item.decodedFrames;
            droppedFrames += item.droppedFrames;
        });
        this.inputBytes.forEach(function (item) {
            inputBytes += item.bytes;
        });
        this.momentumQualityStats = {
            decodedFrames: decodedFrames,
            droppedFrames: droppedFrames,
            inputFrames: this.inputBytes.length,
            inputBytes: inputBytes,
            timestamp: timestamp,
        };
    };
    BaseCanvasBasedPlayer.prototype.resetStats = function () {
        _super.prototype.resetStats.call(this);
        this.videoStats = [];
    };
    BaseCanvasBasedPlayer.prototype.getImageDataURL = function () {
        return this.tag.toDataURL();
    };
    BaseCanvasBasedPlayer.prototype.initCanvas = function (width, height) {
        var _this = this;
        if (this.canvas) {
            var parent_1 = this.tag.parentNode;
            if (parent_1) {
                var tag = BaseCanvasBasedPlayer.createElement(this.tag.id);
                tag.className = this.tag.className;
                parent_1.replaceChild(tag, this.tag);
                parent_1.appendChild(this.touchableCanvas);
                this.tag = tag;
            }
        }
        this.tag.onerror = function (event) {
            console.error("[".concat(_this.name, "]"), event);
        };
        this.tag.oncontextmenu = function (event) {
            event.preventDefault();
        };
        this.tag.width = Math.round(width);
        this.tag.height = Math.round(height);
    };
    BaseCanvasBasedPlayer.prototype.play = function () {
        _super.prototype.play.call(this);
        if (this.getState() !== BasePlayer_1.BasePlayer.STATE.PLAYING || !this.screenInfo) {
            return;
        }
        if (!this.canvas) {
            var _a = this.screenInfo.videoSize, width = _a.width, height = _a.height;
            this.initCanvas(width, height);
            this.resetStats();
        }
        this.shiftFrame();
    };
    BaseCanvasBasedPlayer.prototype.stop = function () {
        _super.prototype.stop.call(this);
        this.clearState();
    };
    BaseCanvasBasedPlayer.prototype.setScreenInfo = function (screenInfo) {
        _super.prototype.setScreenInfo.call(this, screenInfo);
        this.clearState();
        var _a = screenInfo.videoSize, width = _a.width, height = _a.height;
        this.initCanvas(width, height);
        this.framesList = [];
        if (this.animationFrameId) {
            cancelAnimationFrame(this.animationFrameId);
            this.animationFrameId = undefined;
        }
    };
    BaseCanvasBasedPlayer.prototype.pushFrame = function (frame) {
        _super.prototype.pushFrame.call(this, frame);
        if (BasePlayer_1.BasePlayer.isIFrame(frame)) {
            if (this.videoSettings) {
                var maxFps = this.videoSettings.maxFps;
                if (this.framesList.length > maxFps / 2) {
                    var dropped = this.framesList.length;
                    this.framesList = [];
                    this.videoStats.push({
                        decodedFrames: 0,
                        droppedFrames: dropped,
                        inputBytes: 0,
                        inputFrames: 0,
                        timestamp: Date.now(),
                    });
                }
            }
        }
        this.framesList.push(frame);
        this.shiftFrame();
    };
    BaseCanvasBasedPlayer.prototype.clearState = function () {
        this.framesList = [];
    };
    return BaseCanvasBasedPlayer;
}(BasePlayer_1.BasePlayer));
exports.BaseCanvasBasedPlayer = BaseCanvasBasedPlayer;


/***/ }),

/***/ "./src/app/player/BasePlayer.ts":
/*!**************************************!*\
  !*** ./src/app/player/BasePlayer.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BasePlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var ScreenInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ScreenInfo */ "./src/app/ScreenInfo.ts"));
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Rect */ "./src/app/Rect.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var TypedEmitter_1 = __webpack_require__(/*! ../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var DisplayInfo_1 = __webpack_require__(/*! ../DisplayInfo */ "./src/app/DisplayInfo.ts");
var BasePlayer = (function (_super) {
    tslib_1.__extends(BasePlayer, _super);
    function BasePlayer(udid, displayInfo, name, storageKeyPrefix, tag) {
        if (name === void 0) { name = 'BasePlayer'; }
        if (storageKeyPrefix === void 0) { storageKeyPrefix = 'Dummy'; }
        if (tag === void 0) { tag = document.createElement('div'); }
        var _this = _super.call(this) || this;
        _this.udid = udid;
        _this.displayInfo = displayInfo;
        _this.name = name;
        _this.storageKeyPrefix = storageKeyPrefix;
        _this.tag = tag;
        _this.inputBytes = [];
        _this.bounds = null;
        _this.totalStats = {
            decodedFrames: 0,
            droppedFrames: 0,
            inputFrames: 0,
            inputBytes: 0,
            timestamp: 0,
        };
        _this.totalStatsCounter = 0;
        _this.dirtyStatsWidth = 0;
        _this.state = BasePlayer.STATE.STOPPED;
        _this.showQualityStats = BasePlayer.DEFAULT_SHOW_QUALITY_STATS;
        _this.receivedFirstFrame = false;
        _this.statLines = [];
        _this.supportsScreenshot = false;
        _this.resizeVideoToBounds = false;
        _this.videoHeight = -1;
        _this.videoWidth = -1;
        _this.updateQualityStats = function () {
            var now = Date.now();
            var oneSecondBefore = now - 1000;
            _this.calculateMomentumStats();
            if (!_this.momentumQualityStats) {
                return;
            }
            if (_this.totalStats.timestamp < oneSecondBefore) {
                _this.totalStats = {
                    timestamp: now,
                    decodedFrames: _this.totalStats.decodedFrames + _this.momentumQualityStats.decodedFrames,
                    droppedFrames: _this.totalStats.droppedFrames + _this.momentumQualityStats.droppedFrames,
                    inputFrames: _this.totalStats.inputFrames + _this.momentumQualityStats.inputFrames,
                    inputBytes: _this.totalStats.inputBytes + _this.momentumQualityStats.inputBytes,
                };
                if (_this.totalStatsCounter !== 0) {
                    _this.perSecondQualityStats = {
                        avgDecoded: _this.totalStats.decodedFrames / _this.totalStatsCounter,
                        avgDropped: _this.totalStats.droppedFrames / _this.totalStatsCounter,
                        avgInput: _this.totalStats.inputFrames / _this.totalStatsCounter,
                        avgSize: _this.totalStats.inputBytes / _this.totalStatsCounter,
                    };
                }
                _this.totalStatsCounter++;
            }
            _this.drawStats();
            if (_this.state !== BasePlayer.STATE.STOPPED) {
                _this.qualityAnimationId = requestAnimationFrame(_this.updateQualityStats);
            }
        };
        _this.touchableCanvas = document.createElement('canvas');
        _this.touchableCanvas.className = 'touch-layer';
        _this.touchableCanvas.oncontextmenu = function (event) {
            event.preventDefault();
        };
        var preferred = _this.getPreferredVideoSetting();
        _this.videoSettings = BasePlayer.getVideoSettingFromStorage(preferred, _this.storageKeyPrefix, udid, displayInfo);
        return _this;
    }
    BasePlayer.isSupported = function () {
        return false;
    };
    BasePlayer.prototype.calculateScreenInfoForBounds = function (videoWidth, videoHeight) {
        this.videoWidth = videoWidth;
        this.videoHeight = videoHeight;
        if (this.resizeVideoToBounds) {
            var w = videoWidth;
            var h = videoHeight;
            if (this.bounds) {
                var _a = this.bounds, boundsWidth = _a.w, boundsHeight = _a.h;
                if (w > boundsWidth || h > boundsHeight) {
                    var scaledHeight = void 0;
                    var scaledWidth = void 0;
                    if (boundsWidth > w) {
                        scaledHeight = h;
                    }
                    else {
                        scaledHeight = (boundsWidth * h) / w;
                    }
                    if (boundsHeight > scaledHeight) {
                        boundsHeight = scaledHeight;
                    }
                    if (boundsHeight == h) {
                        scaledWidth = w;
                    }
                    else {
                        scaledWidth = (boundsHeight * w) / h;
                    }
                    if (boundsWidth > scaledWidth) {
                        boundsWidth = scaledWidth;
                    }
                    w = boundsWidth | 0;
                    h = boundsHeight | 0;
                    this.tag.style.maxWidth = "".concat(w, "px");
                    this.tag.style.maxHeight = "".concat(h, "px");
                }
            }
            var realScreen = new ScreenInfo_1.default(new Rect_1.default(0, 0, videoWidth, videoHeight), new Size_1.default(w, h), 0);
            this.emit('input-video-resize', realScreen);
            this.setScreenInfo(new ScreenInfo_1.default(new Rect_1.default(0, 0, w, h), new Size_1.default(w, h), 0));
        }
    };
    BasePlayer.isIFrame = function (frame) {
        return frame && frame.length > 4 && (frame[4] & 31) === 5;
    };
    BasePlayer.getStorageKey = function (storageKeyPrefix, udid) {
        var innerHeight = window.innerHeight, innerWidth = window.innerWidth;
        return "".concat(storageKeyPrefix, ":").concat(udid, ":").concat(innerWidth, "x").concat(innerHeight);
    };
    BasePlayer.getFullStorageKey = function (storageKeyPrefix, udid, displayInfo) {
        var innerHeight = window.innerHeight, innerWidth = window.innerWidth;
        var base = "".concat(storageKeyPrefix, ":").concat(udid, ":").concat(innerWidth, "x").concat(innerHeight);
        if (displayInfo) {
            var displayId = displayInfo.displayId, size = displayInfo.size;
            base = "".concat(base, ":").concat(displayId, ":").concat(size.width, "x").concat(size.height);
        }
        return base;
    };
    BasePlayer.getFromStorageCompat = function (prefix, udid, displayInfo) {
        var shortKey = this.getStorageKey(prefix, udid);
        var savedInShort = window.localStorage.getItem(shortKey);
        if (!displayInfo) {
            return savedInShort;
        }
        var isDefaultDisplay = displayInfo.displayId === DisplayInfo_1.DisplayInfo.DEFAULT_DISPLAY;
        var fullKey = this.getFullStorageKey(prefix, udid, displayInfo);
        var savedInFull = window.localStorage.getItem(fullKey);
        if (savedInFull) {
            if (savedInShort && isDefaultDisplay) {
                window.localStorage.removeItem(shortKey);
            }
            return savedInFull;
        }
        if (isDefaultDisplay) {
            return savedInShort;
        }
        return null;
    };
    BasePlayer.getFitToScreenFromStorage = function (storageKeyPrefix, udid, displayInfo) {
        if (!window.localStorage) {
            return false;
        }
        var parsedValue = false;
        var key = "".concat(this.getFullStorageKey(storageKeyPrefix, udid, displayInfo), ":fit");
        var saved = window.localStorage.getItem(key);
        if (!saved) {
            return false;
        }
        try {
            parsedValue = JSON.parse(saved);
        }
        catch (error) {
            console.error("[".concat(this.name, "]"), 'Failed to parse', saved);
        }
        return parsedValue;
    };
    BasePlayer.getVideoSettingFromStorage = function (preferred, storageKeyPrefix, udid, displayInfo) {
        if (!window.localStorage) {
            return preferred;
        }
        var saved = this.getFromStorageCompat(storageKeyPrefix, udid, displayInfo);
        if (!saved) {
            return preferred;
        }
        var parsed = JSON.parse(saved);
        var displayId = parsed.displayId, crop = parsed.crop, bitrate = parsed.bitrate, iFrameInterval = parsed.iFrameInterval, sendFrameMeta = parsed.sendFrameMeta, lockedVideoOrientation = parsed.lockedVideoOrientation, codecOptions = parsed.codecOptions, encoderName = parsed.encoderName;
        var maxFps = isNaN(parsed.maxFps) ? parsed.frameRate : parsed.maxFps;
        var bounds = null;
        if (typeof parsed.bounds !== 'object' || isNaN(parsed.bounds.width) || isNaN(parsed.bounds.height)) {
            if (!isNaN(parsed.maxSize)) {
                bounds = new Size_1.default(parsed.maxSize, parsed.maxSize);
            }
        }
        else {
            bounds = new Size_1.default(parsed.bounds.width, parsed.bounds.height);
        }
        return new VideoSettings_1.default({
            displayId: typeof displayId === 'number' ? displayId : 0,
            crop: crop ? new Rect_1.default(crop.left, crop.top, crop.right, crop.bottom) : preferred.crop,
            bitrate: !isNaN(bitrate) ? bitrate : preferred.bitrate,
            bounds: bounds !== null ? bounds : preferred.bounds,
            maxFps: !isNaN(maxFps) ? maxFps : preferred.maxFps,
            iFrameInterval: !isNaN(iFrameInterval) ? iFrameInterval : preferred.iFrameInterval,
            sendFrameMeta: typeof sendFrameMeta === 'boolean' ? sendFrameMeta : preferred.sendFrameMeta,
            lockedVideoOrientation: !isNaN(lockedVideoOrientation)
                ? lockedVideoOrientation
                : preferred.lockedVideoOrientation,
            codecOptions: codecOptions,
            encoderName: encoderName,
        });
    };
    BasePlayer.putVideoSettingsToStorage = function (storageKeyPrefix, udid, videoSettings, fitToScreen, displayInfo) {
        if (!window.localStorage) {
            return;
        }
        var key = this.getFullStorageKey(storageKeyPrefix, udid, displayInfo);
        window.localStorage.setItem(key, JSON.stringify(videoSettings));
        var fitKey = "".concat(key, ":fit");
        window.localStorage.setItem(fitKey, JSON.stringify(fitToScreen));
    };
    BasePlayer.prototype.createScreenshot = function (deviceName) {
        var a = document.createElement('a');
        a.href = this.getImageDataURL();
        a.download = "".concat(deviceName, " ").concat(new Date().toLocaleString(), ".png");
        a.click();
    };
    BasePlayer.prototype.play = function () {
        if (this.needScreenInfoBeforePlay() && !this.screenInfo) {
            return;
        }
        this.state = BasePlayer.STATE.PLAYING;
    };
    BasePlayer.prototype.pause = function () {
        this.state = BasePlayer.STATE.PAUSED;
    };
    BasePlayer.prototype.stop = function () {
        this.state = BasePlayer.STATE.STOPPED;
    };
    BasePlayer.prototype.getState = function () {
        return this.state;
    };
    BasePlayer.prototype.pushFrame = function (frame) {
        if (!this.receivedFirstFrame) {
            this.receivedFirstFrame = true;
            if (typeof this.qualityAnimationId !== 'number') {
                this.qualityAnimationId = requestAnimationFrame(this.updateQualityStats);
            }
        }
        this.inputBytes.push({
            timestamp: Date.now(),
            bytes: frame.byteLength,
        });
    };
    BasePlayer.prototype.getTouchableElement = function () {
        return this.touchableCanvas;
    };
    BasePlayer.prototype.setParent = function (parent) {
        this.parentElement = parent;
        parent.appendChild(this.tag);
        parent.appendChild(this.touchableCanvas);
    };
    BasePlayer.prototype.needScreenInfoBeforePlay = function () {
        return true;
    };
    BasePlayer.prototype.getVideoSettings = function () {
        return this.videoSettings;
    };
    BasePlayer.prototype.setVideoSettings = function (videoSettings, fitToScreen, saveToStorage) {
        this.videoSettings = videoSettings;
        if (saveToStorage) {
            BasePlayer.putVideoSettingsToStorage(this.storageKeyPrefix, this.udid, videoSettings, fitToScreen, this.displayInfo);
        }
        this.resetStats();
        this.emit('video-settings', VideoSettings_1.default.copy(videoSettings));
    };
    BasePlayer.prototype.getScreenInfo = function () {
        return this.screenInfo;
    };
    BasePlayer.prototype.setScreenInfo = function (screenInfo) {
        if (this.needScreenInfoBeforePlay()) {
            this.pause();
        }
        this.receivedFirstFrame = false;
        this.screenInfo = screenInfo;
        var _a = screenInfo.videoSize, width = _a.width, height = _a.height;
        this.touchableCanvas.width = width;
        this.touchableCanvas.height = height;
        if (this.parentElement) {
            this.parentElement.style.height = "".concat(height, "px");
            this.parentElement.style.width = "".concat(width, "px");
        }
        var size = new Size_1.default(width, height);
        this.emit('video-view-resize', size);
    };
    BasePlayer.prototype.getName = function () {
        return this.name;
    };
    BasePlayer.prototype.resetStats = function () {
        this.receivedFirstFrame = false;
        this.totalStatsCounter = 0;
        this.totalStats = {
            droppedFrames: 0,
            decodedFrames: 0,
            inputFrames: 0,
            inputBytes: 0,
            timestamp: 0,
        };
        this.perSecondQualityStats = {
            avgDecoded: 0,
            avgDropped: 0,
            avgInput: 0,
            avgSize: 0,
        };
    };
    BasePlayer.prototype.drawStats = function () {
        if (!this.showQualityStats) {
            return;
        }
        var ctx = this.touchableCanvas.getContext('2d');
        if (!ctx) {
            return;
        }
        var newStats = [];
        if (this.perSecondQualityStats && this.momentumQualityStats) {
            var _a = this.momentumQualityStats, decodedFrames = _a.decodedFrames, droppedFrames = _a.droppedFrames, inputBytes = _a.inputBytes, inputFrames = _a.inputFrames;
            var _b = this.perSecondQualityStats, avgDecoded = _b.avgDecoded, avgDropped = _b.avgDropped, avgSize = _b.avgSize, avgInput = _b.avgInput;
            var padInput = inputFrames.toString().padStart(3, ' ');
            var padDecoded = decodedFrames.toString().padStart(3, ' ');
            var padDropped = droppedFrames.toString().padStart(3, ' ');
            var padAvgDecoded = avgDecoded.toFixed(1).padStart(5, ' ');
            var padAvgDropped = avgDropped.toFixed(1).padStart(5, ' ');
            var padAvgInput = avgInput.toFixed(1).padStart(5, ' ');
            var prettyBytes = Util_1.default.prettyBytes(inputBytes).padStart(8, ' ');
            var prettyAvgBytes = Util_1.default.prettyBytes(avgSize).padStart(8, ' ');
            newStats.push("Input bytes: ".concat(prettyBytes, " (avg: ").concat(prettyAvgBytes, "/s)"));
            newStats.push("Input   FPS: ".concat(padInput, " (avg: ").concat(padAvgInput, ")"));
            newStats.push("Dropped FPS: ".concat(padDropped, " (avg: ").concat(padAvgDropped, ")"));
            newStats.push("Decoded FPS: ".concat(padDecoded, " (avg: ").concat(padAvgDecoded, ")"));
        }
        else {
            newStats.push("Not supported");
        }
        var changed = this.statLines.length !== newStats.length;
        var i = 0;
        while (!changed && i++ < newStats.length) {
            if (newStats[i] !== this.statLines[i]) {
                changed = true;
            }
        }
        if (changed) {
            this.statLines = newStats;
            this.updateCanvas(false);
        }
    };
    BasePlayer.prototype.updateCanvas = function (onlyClear) {
        var _this = this;
        var ctx = this.touchableCanvas.getContext('2d');
        if (!ctx) {
            return;
        }
        var y = this.touchableCanvas.height;
        var height = BasePlayer.STATS_HEIGHT;
        var lines = this.statLines.length;
        var spaces = lines + 1;
        var p = height / 2;
        var d = p * 2;
        var totalHeight = height * lines + p * spaces;
        ctx.clearRect(0, y - totalHeight, this.dirtyStatsWidth + d, totalHeight);
        this.dirtyStatsWidth = 0;
        if (onlyClear) {
            return;
        }
        ctx.save();
        ctx.font = "".concat(height, "px monospace");
        this.statLines.forEach(function (text) {
            var textMetrics = ctx.measureText(text);
            var dirty = Math.abs(textMetrics.actualBoundingBoxLeft) + Math.abs(textMetrics.actualBoundingBoxRight);
            _this.dirtyStatsWidth = Math.max(dirty, _this.dirtyStatsWidth);
        });
        ctx.fillStyle = BasePlayer.STAT_BACKGROUND;
        ctx.fillRect(0, y - totalHeight, this.dirtyStatsWidth + d, totalHeight);
        ctx.fillStyle = BasePlayer.STAT_TEXT_COLOR;
        this.statLines.forEach(function (text, line) {
            ctx.fillText(text, p, y - p - line * (height + p));
        });
        ctx.restore();
    };
    BasePlayer.prototype.setShowQualityStats = function (value) {
        this.showQualityStats = value;
        if (!value) {
            this.updateCanvas(true);
        }
        else {
            this.drawStats();
        }
    };
    BasePlayer.prototype.getShowQualityStats = function () {
        return this.showQualityStats;
    };
    BasePlayer.prototype.setBounds = function (bounds) {
        this.bounds = Size_1.default.copy(bounds);
    };
    BasePlayer.prototype.getDisplayInfo = function () {
        return this.displayInfo;
    };
    BasePlayer.prototype.setDisplayInfo = function (displayInfo) {
        this.displayInfo = displayInfo;
    };
    BasePlayer.loadVideoSettings = function (udid, displayInfo) {
        return this.getVideoSettingFromStorage(this.preferredVideoSettings, this.storageKeyPrefix, udid, displayInfo);
    };
    BasePlayer.getFitToScreenStatus = function (udid, displayInfo) {
        return this.getFitToScreenFromStorage(this.storageKeyPrefix, udid, displayInfo);
    };
    BasePlayer.getPreferredVideoSetting = function () {
        return this.preferredVideoSettings;
    };
    BasePlayer.saveVideoSettings = function (udid, videoSettings, fitToScreen, displayInfo) {
        this.putVideoSettingsToStorage(this.storageKeyPrefix, udid, videoSettings, fitToScreen, displayInfo);
    };
    BasePlayer.STAT_BACKGROUND = 'rgba(0, 0, 0, 0.5)';
    BasePlayer.STAT_TEXT_COLOR = 'hsl(24, 85%, 50%)';
    BasePlayer.DEFAULT_SHOW_QUALITY_STATS = false;
    BasePlayer.STATE = {
        PLAYING: 1,
        PAUSED: 2,
        STOPPED: 3,
    };
    BasePlayer.STATS_HEIGHT = 12;
    BasePlayer.storageKeyPrefix = 'BaseDecoder';
    BasePlayer.playerFullName = 'BasePlayer';
    BasePlayer.playerCodeName = 'baseplayer';
    BasePlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 1080),
        sendFrameMeta: false,
    });
    return BasePlayer;
}(TypedEmitter_1.TypedEmitter));
exports.BasePlayer = BasePlayer;


/***/ }),

/***/ "./src/app/player/BroadwayPlayer.ts":
/*!******************************************!*\
  !*** ./src/app/player/BroadwayPlayer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BroadwayPlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../vendor/Broadway/avc.wasm.asset */ "./vendor/Broadway/avc.wasm.asset");
var BaseCanvasBasedPlayer_1 = __webpack_require__(/*! ./BaseCanvasBasedPlayer */ "./src/app/player/BaseCanvasBasedPlayer.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var YUVCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/h264-live-player/YUVCanvas */ "./vendor/h264-live-player/YUVCanvas.ts"));
var YUVWebGLCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/h264-live-player/YUVWebGLCanvas */ "./vendor/h264-live-player/YUVWebGLCanvas.ts"));
var Decoder_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/Broadway/Decoder */ "./vendor/Broadway/Decoder.js"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var BroadwayPlayer = (function (_super) {
    tslib_1.__extends(BroadwayPlayer, _super);
    function BroadwayPlayer(udid, displayInfo, name) {
        if (name === void 0) { name = BroadwayPlayer.playerFullName; }
        var _this = _super.call(this, udid, displayInfo, name, BroadwayPlayer.storageKeyPrefix) || this;
        _this.supportsScreenshot = true;
        return _this;
    }
    BroadwayPlayer.isSupported = function () {
        return typeof WebAssembly === 'object' && typeof WebAssembly.instantiate === 'function';
    };
    BroadwayPlayer.prototype.initCanvas = function (width, height) {
        var _this = this;
        _super.prototype.initCanvas.call(this, width, height);
        if (BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer.hasWebGLSupport()) {
            this.canvas = new YUVWebGLCanvas_1.default(this.tag, new Size_1.default(width, height));
        }
        else {
            this.canvas = new YUVCanvas_1.default(this.tag, new Size_1.default(width, height));
        }
        if (!this.avc) {
            this.avc = new Decoder_1.default();
        }
        this.avc.onPictureDecoded = function (buffer, width, height) {
            _this.onFrameDecoded(width, height, buffer);
        };
    };
    BroadwayPlayer.prototype.decode = function (data) {
        if (!this.avc) {
            return;
        }
        this.avc.decode(data);
    };
    BroadwayPlayer.prototype.getPreferredVideoSetting = function () {
        return BroadwayPlayer.preferredVideoSettings;
    };
    BroadwayPlayer.prototype.getFitToScreenStatus = function () {
        return BroadwayPlayer.getFitToScreenStatus(this.udid, this.displayInfo);
    };
    BroadwayPlayer.prototype.loadVideoSettings = function () {
        return BroadwayPlayer.loadVideoSettings(this.udid, this.displayInfo);
    };
    BroadwayPlayer.storageKeyPrefix = 'BroadwayDecoder';
    BroadwayPlayer.playerFullName = 'Noded Visor';
    BroadwayPlayer.playerCodeName = 'broadway';
    BroadwayPlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(360, 806),
        sendFrameMeta: false,
    });
    return BroadwayPlayer;
}(BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer));
exports.BroadwayPlayer = BroadwayPlayer;


/***/ }),

/***/ "./src/app/player/MsePlayer.ts":
/*!*************************************!*\
  !*** ./src/app/player/MsePlayer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MsePlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BasePlayer_1 = __webpack_require__(/*! ./BasePlayer */ "./src/app/player/BasePlayer.ts");
var h264_converter_1 = tslib_1.__importStar(__webpack_require__(/*! h264-converter */ "./node_modules/h264-converter/dist/index.js"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var MsePlayer = (function (_super) {
    tslib_1.__extends(MsePlayer, _super);
    function MsePlayer(udid, displayInfo, name, tag) {
        if (name === void 0) { name = MsePlayer.playerFullName; }
        if (tag === void 0) { tag = MsePlayer.createElement(); }
        var _this = _super.call(this, udid, displayInfo, name, MsePlayer.storageKeyPrefix, tag) || this;
        _this.tag = tag;
        _this.videoStats = [];
        _this.noDecodedFramesSince = -1;
        _this.currentTimeNotChangedSince = -1;
        _this.bigBufferSince = -1;
        _this.aheadOfBufferSince = -1;
        _this.fpf = MsePlayer.DEFAULT_FRAMES_PER_FRAGMENT;
        _this.supportsScreenshot = true;
        _this.waitUntilSegmentRemoved = false;
        _this.blocks = [];
        _this.frames = [];
        _this.jumpEnd = -1;
        _this.lastTime = -1;
        _this.canPlay = false;
        _this.seekingSince = -1;
        _this.isSafari = !!window['safari'];
        _this.isChrome = navigator.userAgent.includes('Chrome');
        _this.isMac = navigator.platform.startsWith('Mac');
        _this.MAX_TIME_TO_RECOVER = 200;
        _this.MAX_BUFFER = _this.isSafari ? 2 : _this.isChrome && _this.isMac ? 0.9 : 0.2;
        _this.MAX_AHEAD = -0.2;
        _this.onVideoError = function (event) {
            console.error("[".concat(_this.name, "]"), event);
        };
        _this.onVideoCanPlay = function () {
            _this.onCanPlayHandler();
        };
        _this.checkVideoResize = function () {
            if (!_this.tag) {
                return;
            }
            var _a = _this.tag, videoHeight = _a.videoHeight, videoWidth = _a.videoWidth;
            if (_this.videoHeight !== videoHeight || _this.videoWidth !== videoWidth) {
                _this.calculateScreenInfoForBounds(videoWidth, videoHeight);
            }
        };
        _this.cleanSourceBuffer = function () {
            if (!_this.sourceBuffer) {
                return;
            }
            if (_this.sourceBuffer.updating) {
                return;
            }
            if (_this.blocks.length < 10) {
                return;
            }
            try {
                _this.sourceBuffer.removeEventListener('updateend', _this.cleanSourceBuffer);
                _this.waitUntilSegmentRemoved = false;
                var removeStart = _this.blocks[0].start;
                var removeEnd = _this.blocks[4].end;
                _this.blocks = _this.blocks.slice(5);
                _this.sourceBuffer.remove(removeStart, removeEnd);
                var frame = _this.frames.shift();
                while (frame) {
                    if (!_this.checkForIFrame(frame)) {
                        _this.frames.unshift(frame);
                        break;
                    }
                    frame = _this.frames.shift();
                }
            }
            catch (error) {
                console.error("[".concat(_this.name, "]"), 'Failed to clean source buffer');
            }
        };
        _this.jumpToEnd = function () {
            if (!_this.sourceBuffer) {
                return;
            }
            if (_this.sourceBuffer.updating) {
                return;
            }
            if (!_this.tag.buffered.length) {
                return;
            }
            var end = _this.tag.buffered.end(_this.tag.seekable.length - 1);
            console.log("[".concat(_this.name, "]"), "Jumping to the end (".concat(_this.jumpEnd, ", ").concat(end - _this.jumpEnd, ")."));
            _this.tag.currentTime = end;
            _this.jumpEnd = -1;
            _this.sourceBuffer.removeEventListener('updateend', _this.jumpToEnd);
        };
        tag.oncontextmenu = function (event) {
            event.preventDefault();
            return false;
        };
        tag.addEventListener('error', _this.onVideoError);
        tag.addEventListener('canplay', _this.onVideoCanPlay);
        (0, h264_converter_1.setLogger)(function () { }, console.error);
        return _this;
    }
    MsePlayer.createElement = function (id) {
        var tag = document.createElement('video');
        tag.muted = true;
        tag.autoplay = true;
        tag.setAttribute('muted', 'muted');
        tag.setAttribute('autoplay', 'autoplay');
        if (typeof id === 'string') {
            tag.id = id;
        }
        tag.className = 'video-layer';
        return tag;
    };
    MsePlayer.isSupported = function () {
        return typeof MediaSource !== 'undefined' && MediaSource.isTypeSupported(h264_converter_1.mimeType);
    };
    MsePlayer.createConverter = function (tag, fps, fpf) {
        if (fps === void 0) { fps = MsePlayer.DEFAULT_FRAMES_PER_SECOND; }
        if (fpf === void 0) { fpf = MsePlayer.DEFAULT_FRAMES_PER_FRAGMENT; }
        return new h264_converter_1.default(tag, fps, fpf);
    };
    MsePlayer.prototype.getVideoPlaybackQuality = function () {
        var video = this.tag;
        if (typeof video.mozDecodedFrames !== 'undefined') {
            return null;
        }
        var now = Date.now();
        if (typeof this.tag.getVideoPlaybackQuality == 'function') {
            var temp = this.tag.getVideoPlaybackQuality();
            return {
                timestamp: now,
                decodedFrames: temp.totalVideoFrames,
                droppedFrames: temp.droppedVideoFrames,
            };
        }
        if (typeof video.webkitDecodedFrameCount !== 'undefined') {
            return {
                timestamp: now,
                decodedFrames: video.webkitDecodedFrameCount,
                droppedFrames: video.webkitDroppedFrameCount,
            };
        }
        return null;
    };
    MsePlayer.prototype.onCanPlayHandler = function () {
        this.canPlay = true;
        this.tag.play();
        this.tag.removeEventListener('canplay', this.onVideoCanPlay);
        this.checkVideoResize();
    };
    MsePlayer.prototype.calculateMomentumStats = function () {
        var stat = this.getVideoPlaybackQuality();
        if (!stat) {
            return;
        }
        var timestamp = Date.now();
        var oneSecondBefore = timestamp - 1000;
        this.videoStats.push(stat);
        while (this.videoStats.length && this.videoStats[0].timestamp < oneSecondBefore) {
            this.videoStats.shift();
        }
        while (this.inputBytes.length && this.inputBytes[0].timestamp < oneSecondBefore) {
            this.inputBytes.shift();
        }
        var inputBytes = 0;
        this.inputBytes.forEach(function (item) {
            inputBytes += item.bytes;
        });
        var inputFrames = this.inputBytes.length;
        if (this.videoStats.length) {
            var oldest = this.videoStats[0];
            var decodedFrames = stat.decodedFrames - oldest.decodedFrames;
            var droppedFrames = stat.droppedFrames - oldest.droppedFrames;
            this.momentumQualityStats = {
                decodedFrames: decodedFrames,
                droppedFrames: droppedFrames,
                inputBytes: inputBytes,
                inputFrames: inputFrames,
                timestamp: timestamp,
            };
        }
    };
    MsePlayer.prototype.resetStats = function () {
        _super.prototype.resetStats.call(this);
        this.videoStats = [];
    };
    MsePlayer.prototype.getImageDataURL = function () {
        var canvas = document.createElement('canvas');
        canvas.width = this.tag.clientWidth;
        canvas.height = this.tag.clientHeight;
        var ctx = canvas.getContext('2d');
        if (ctx) {
            ctx.drawImage(this.tag, 0, 0, canvas.width, canvas.height);
        }
        return canvas.toDataURL();
    };
    MsePlayer.prototype.play = function () {
        _super.prototype.play.call(this);
        if (this.getState() !== BasePlayer_1.BasePlayer.STATE.PLAYING) {
            return;
        }
        if (!this.converter) {
            var fps = MsePlayer.DEFAULT_FRAMES_PER_SECOND;
            if (this.videoSettings) {
                fps = this.videoSettings.maxFps;
            }
            this.converter = MsePlayer.createConverter(this.tag, fps, this.fpf);
            this.canPlay = false;
            this.resetStats();
        }
        this.converter.play();
    };
    MsePlayer.prototype.pause = function () {
        _super.prototype.pause.call(this);
        this.stopConverter();
    };
    MsePlayer.prototype.stop = function () {
        _super.prototype.stop.call(this);
        this.stopConverter();
    };
    MsePlayer.prototype.setVideoSettings = function (videoSettings, fitToScreen, saveToStorage) {
        if (this.videoSettings && this.videoSettings.maxFps !== videoSettings.maxFps) {
            var state = this.getState();
            if (this.converter) {
                this.stop();
                this.converter = MsePlayer.createConverter(this.tag, videoSettings.maxFps, this.fpf);
                this.canPlay = false;
            }
            if (state === BasePlayer_1.BasePlayer.STATE.PLAYING) {
                this.play();
            }
        }
        _super.prototype.setVideoSettings.call(this, videoSettings, fitToScreen, saveToStorage);
    };
    MsePlayer.prototype.getPreferredVideoSetting = function () {
        return MsePlayer.preferredVideoSettings;
    };
    MsePlayer.prototype.pushFrame = function (frame) {
        _super.prototype.pushFrame.call(this, frame);
        if (!this.checkForIFrame(frame)) {
            this.frames.push(frame);
        }
        else {
            this.checkForBadState();
        }
    };
    MsePlayer.prototype.checkForBadState = function () {
        var _this = this;
        var currentTime = this.tag.currentTime;
        var now = Date.now();
        var hasReasonToJump = false;
        if (this.momentumQualityStats) {
            if (this.momentumQualityStats.decodedFrames === 0 && this.momentumQualityStats.inputFrames > 0) {
                if (this.noDecodedFramesSince === -1) {
                    this.noDecodedFramesSince = now;
                }
                else {
                    var time = now - this.noDecodedFramesSince;
                    if (time > this.MAX_TIME_TO_RECOVER) {
                        hasReasonToJump = true;
                    }
                }
            }
            else {
                this.noDecodedFramesSince = -1;
            }
        }
        if (currentTime === this.lastTime && this.currentTimeNotChangedSince === -1) {
            this.currentTimeNotChangedSince = now;
        }
        else {
            this.currentTimeNotChangedSince = -1;
        }
        this.lastTime = currentTime;
        if (this.tag.buffered.length) {
            var end = this.tag.buffered.end(0);
            var buffered = end - currentTime;
            if ((end | 0) - currentTime > this.MAX_BUFFER) {
                if (this.bigBufferSince === -1) {
                    this.bigBufferSince = now;
                }
                else {
                    var time = now - this.bigBufferSince;
                    if (time > this.MAX_TIME_TO_RECOVER) {
                        hasReasonToJump = true;
                    }
                }
            }
            else {
                this.bigBufferSince = -1;
            }
            if (buffered < this.MAX_AHEAD) {
                if (this.aheadOfBufferSince === -1) {
                    this.aheadOfBufferSince = now;
                }
                else {
                    var time = now - this.aheadOfBufferSince;
                    if (time > this.MAX_TIME_TO_RECOVER) {
                        hasReasonToJump = true;
                    }
                }
            }
            else {
                this.aheadOfBufferSince = -1;
            }
            if (this.currentTimeNotChangedSince !== -1) {
                var time = now - this.currentTimeNotChangedSince;
                if (time > this.MAX_TIME_TO_RECOVER) {
                    hasReasonToJump = true;
                }
            }
            if (!hasReasonToJump) {
                return;
            }
            var waitingForSeekEnd = 0;
            if (this.seekingSince !== -1) {
                waitingForSeekEnd = now - this.seekingSince;
                if (waitingForSeekEnd < 1500) {
                    return;
                }
            }
            var onSeekEnd_1 = function () {
                _this.seekingSince = -1;
                _this.tag.removeEventListener('seeked', onSeekEnd_1);
                _this.tag.play();
            };
            if (this.seekingSince !== -1) {
                console.warn("[".concat(this.name, "]"), "Attempt to seek while already seeking! ".concat(waitingForSeekEnd));
            }
            this.seekingSince = now;
            this.tag.addEventListener('seeked', onSeekEnd_1);
            this.tag.currentTime = this.tag.buffered.end(0);
        }
    };
    MsePlayer.prototype.checkForIFrame = function (frame) {
        if (!this.converter) {
            return false;
        }
        this.sourceBuffer = this.converter.sourceBuffer;
        if (BasePlayer_1.BasePlayer.isIFrame(frame)) {
            var start = 0;
            var end = 0;
            if (this.tag.buffered && this.tag.buffered.length) {
                start = this.tag.buffered.start(0);
                end = this.tag.buffered.end(0);
            }
            if (end !== 0 && start < end) {
                var block = {
                    start: start,
                    end: end,
                };
                this.blocks.push(block);
                if (this.blocks.length > 10) {
                    this.waitUntilSegmentRemoved = true;
                    this.sourceBuffer.addEventListener('updateend', this.cleanSourceBuffer);
                    this.converter.appendRawData(frame);
                    return true;
                }
            }
            if (this.sourceBuffer) {
                this.sourceBuffer.onupdateend = this.checkVideoResize;
            }
        }
        if (this.waitUntilSegmentRemoved) {
            return false;
        }
        this.converter.appendRawData(frame);
        return true;
    };
    MsePlayer.prototype.stopConverter = function () {
        if (this.converter) {
            this.converter.appendRawData(new Uint8Array([]));
            this.converter.pause();
            delete this.converter;
        }
    };
    MsePlayer.prototype.getFitToScreenStatus = function () {
        return MsePlayer.getFitToScreenStatus(this.udid, this.displayInfo);
    };
    MsePlayer.prototype.loadVideoSettings = function () {
        return MsePlayer.loadVideoSettings(this.udid, this.displayInfo);
    };
    MsePlayer.storageKeyPrefix = 'MseDecoder';
    MsePlayer.playerFullName = 'H264 Converter';
    MsePlayer.playerCodeName = 'mse';
    MsePlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 7340032,
        maxFps: 60,
        iFrameInterval: 10,
        bounds: new Size_1.default(720, 720),
        sendFrameMeta: false,
    });
    MsePlayer.DEFAULT_FRAMES_PER_FRAGMENT = 1;
    MsePlayer.DEFAULT_FRAMES_PER_SECOND = 60;
    return MsePlayer;
}(BasePlayer_1.BasePlayer));
exports.MsePlayer = MsePlayer;


/***/ }),

/***/ "./src/app/player/TinyH264Player.ts":
/*!******************************************!*\
  !*** ./src/app/player/TinyH264Player.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TinyH264Player = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseCanvasBasedPlayer_1 = __webpack_require__(/*! ./BaseCanvasBasedPlayer */ "./src/app/player/BaseCanvasBasedPlayer.ts");
var H264NALDecoder_worker_1 = tslib_1.__importDefault(__webpack_require__(/*! worker-loader!./../../../vendor/tinyh264/H264NALDecoder.worker */ "./node_modules/worker-loader/dist/cjs.js!./vendor/tinyh264/H264NALDecoder.worker.ts"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var YUVWebGLCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/tinyh264/YUVWebGLCanvas */ "./vendor/tinyh264/YUVWebGLCanvas.ts"));
var YUVCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/tinyh264/YUVCanvas */ "./vendor/tinyh264/YUVCanvas.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var TinyH264Player = (function (_super) {
    tslib_1.__extends(TinyH264Player, _super);
    function TinyH264Player(udid, displayInfo, name) {
        if (name === void 0) { name = TinyH264Player.playerFullName; }
        var _this = _super.call(this, udid, displayInfo, name, TinyH264Player.storageKeyPrefix) || this;
        _this.isDecoderReady = false;
        _this.supportsScreenshot = true;
        _this.onWorkerMessage = function (event) {
            var message = event.data;
            switch (message.type) {
                case 'pictureReady':
                    var width = message.width, height = message.height, data = message.data;
                    _this.onFrameDecoded(width, height, new Uint8Array(data));
                    break;
                case 'decoderReady':
                    _this.isDecoderReady = true;
                    break;
                default:
                    console.error("[".concat(_this.name, "]"), Error("Wrong message type \"".concat(message.type, "\"")));
            }
        };
        return _this;
    }
    TinyH264Player.isSupported = function () {
        return typeof WebAssembly === 'object' && typeof WebAssembly.instantiate === 'function';
    };
    TinyH264Player.prototype.initWorker = function () {
        this.worker = new H264NALDecoder_worker_1.default();
        this.worker.addEventListener('message', this.onWorkerMessage);
    };
    TinyH264Player.prototype.initCanvas = function (width, height) {
        _super.prototype.initCanvas.call(this, width, height);
        if (BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer.hasWebGLSupport()) {
            this.canvas = new YUVWebGLCanvas_1.default(this.tag);
        }
        else {
            this.canvas = new YUVCanvas_1.default(this.tag);
        }
    };
    TinyH264Player.prototype.decode = function (data) {
        if (!this.worker || !this.isDecoderReady) {
            return;
        }
        this.worker.postMessage({
            type: 'decode',
            data: data.buffer,
            offset: data.byteOffset,
            length: data.byteLength,
            renderStateId: TinyH264Player.videoStreamId,
        }, [data.buffer]);
    };
    TinyH264Player.prototype.play = function () {
        _super.prototype.play.call(this);
        if (!this.worker) {
            this.initWorker();
        }
    };
    TinyH264Player.prototype.stop = function () {
        _super.prototype.stop.call(this);
        if (this.worker) {
            this.worker.removeEventListener('message', this.onWorkerMessage);
            this.worker.postMessage({ type: 'release', renderStateId: TinyH264Player.videoStreamId });
            delete this.worker;
        }
    };
    TinyH264Player.prototype.getPreferredVideoSetting = function () {
        return TinyH264Player.preferredVideoSettings;
    };
    TinyH264Player.prototype.clearState = function () {
        _super.prototype.clearState.call(this);
        if (this.worker) {
            this.worker.postMessage({ type: 'release', renderStateId: TinyH264Player.videoStreamId });
            TinyH264Player.videoStreamId++;
        }
    };
    TinyH264Player.prototype.getFitToScreenStatus = function () {
        return TinyH264Player.getFitToScreenStatus(this.udid, this.displayInfo);
    };
    TinyH264Player.prototype.loadVideoSettings = function () {
        return TinyH264Player.loadVideoSettings(this.udid, this.displayInfo);
    };
    TinyH264Player.storageKeyPrefix = 'Tinyh264Decoder';
    TinyH264Player.playerFullName = 'Tiny H264';
    TinyH264Player.playerCodeName = 'tinyh264';
    TinyH264Player.videoStreamId = 1;
    TinyH264Player.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 480),
        sendFrameMeta: false,
    });
    return TinyH264Player;
}(BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer));
exports.TinyH264Player = TinyH264Player;


/***/ }),

/***/ "./src/app/player/WebCodecsPlayer.ts":
/*!*******************************************!*\
  !*** ./src/app/player/WebCodecsPlayer.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebCodecsPlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseCanvasBasedPlayer_1 = __webpack_require__(/*! ./BaseCanvasBasedPlayer */ "./src/app/player/BaseCanvasBasedPlayer.ts");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var h264_parser_1 = tslib_1.__importDefault(__webpack_require__(/*! h264-converter/dist/h264-parser */ "./node_modules/h264-converter/dist/h264-parser.js"));
var NALU_1 = tslib_1.__importDefault(__webpack_require__(/*! h264-converter/dist/util/NALU */ "./node_modules/h264-converter/dist/util/NALU.js"));
var ScreenInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ScreenInfo */ "./src/app/ScreenInfo.ts"));
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Rect */ "./src/app/Rect.ts"));
function toHex(value) {
    return value.toString(16).padStart(2, '0').toUpperCase();
}
var WebCodecsPlayer = (function (_super) {
    tslib_1.__extends(WebCodecsPlayer, _super);
    function WebCodecsPlayer(udid, displayInfo, name) {
        if (name === void 0) { name = WebCodecsPlayer.playerFullName; }
        var _this = _super.call(this, udid, displayInfo, name, WebCodecsPlayer.storageKeyPrefix) || this;
        _this.supportsScreenshot = true;
        _this.hadIDR = false;
        _this.bufferedSPS = false;
        _this.bufferedPPS = false;
        _this.drawDecoded = function () {
            if (_this.receivedFirstFrame) {
                var data = _this.decodedFrames.shift();
                if (data) {
                    var frame = data.frame;
                    _this.context.drawImage(frame, 0, 0);
                    frame.close();
                }
            }
            if (_this.decodedFrames.length) {
                _this.animationFrameId = requestAnimationFrame(_this.drawDecoded);
            }
            else {
                _this.animationFrameId = undefined;
            }
        };
        var context = _this.tag.getContext('2d');
        if (!context) {
            throw Error('Failed to get 2d context from canvas');
        }
        _this.context = context;
        _this.decoder = _this.createDecoder();
        return _this;
    }
    WebCodecsPlayer.isSupported = function () {
        if (typeof VideoDecoder !== 'function' || typeof VideoDecoder.isConfigSupported !== 'function') {
            return false;
        }
        return true;
    };
    WebCodecsPlayer.parseSPS = function (data) {
        var _a = h264_parser_1.default.parseSPS(data), profile_idc = _a.profile_idc, constraint_set_flags = _a.constraint_set_flags, level_idc = _a.level_idc, pic_width_in_mbs_minus1 = _a.pic_width_in_mbs_minus1, frame_crop_left_offset = _a.frame_crop_left_offset, frame_crop_right_offset = _a.frame_crop_right_offset, frame_mbs_only_flag = _a.frame_mbs_only_flag, pic_height_in_map_units_minus1 = _a.pic_height_in_map_units_minus1, frame_crop_top_offset = _a.frame_crop_top_offset, frame_crop_bottom_offset = _a.frame_crop_bottom_offset, sar = _a.sar;
        var sarScale = sar[0] / sar[1];
        var codec = "avc1.".concat([profile_idc, constraint_set_flags, level_idc].map(toHex).join(''));
        var width = Math.ceil(((pic_width_in_mbs_minus1 + 1) * 16 - frame_crop_left_offset * 2 - frame_crop_right_offset * 2) * sarScale);
        var height = (2 - frame_mbs_only_flag) * (pic_height_in_map_units_minus1 + 1) * 16 -
            (frame_mbs_only_flag ? 2 : 4) * (frame_crop_top_offset + frame_crop_bottom_offset);
        return { codec: codec, width: width, height: height };
    };
    WebCodecsPlayer.prototype.createDecoder = function () {
        var _this = this;
        return new VideoDecoder({
            output: function (frame) {
                _this.onFrameDecoded(0, 0, frame);
            },
            error: function (error) {
                console.error(error, "code: ".concat(error.code));
                _this.stop();
            },
        });
    };
    WebCodecsPlayer.prototype.addToBuffer = function (data) {
        var array;
        if (this.buffer) {
            array = new Uint8Array(this.buffer.byteLength + data.byteLength);
            array.set(new Uint8Array(this.buffer));
            array.set(new Uint8Array(data), this.buffer.byteLength);
        }
        else {
            array = data;
        }
        this.buffer = array.buffer;
        return array;
    };
    WebCodecsPlayer.prototype.scaleCanvas = function (width, height) {
        var videoSize = new Size_1.default(width, height);
        var scale = 1;
        if (this.bounds && !this.bounds.intersect(videoSize).equals(videoSize)) {
            scale = Math.min(this.bounds.w / width, this.bounds.h / height);
        }
        var w = width * scale;
        var h = height * scale;
        var screenInfo = new ScreenInfo_1.default(new Rect_1.default(0, 0, width, height), new Size_1.default(w, h), 0);
        this.emit('input-video-resize', screenInfo);
        this.setScreenInfo(screenInfo);
        this.initCanvas(width, height);
        if (scale !== 1) {
            this.tag.style.transform = "scale(".concat(scale.toFixed(4), ")");
        }
        else {
            this.tag.style.transform = "";
        }
        this.tag.style.transformOrigin = 'top left';
    };
    WebCodecsPlayer.prototype.decode = function (data) {
        if (!data || data.length < 4) {
            return;
        }
        var type = data[4] & 31;
        var isIDR = type === NALU_1.default.IDR;
        if (type === NALU_1.default.SPS) {
            var _a = WebCodecsPlayer.parseSPS(data.subarray(4)), codec = _a.codec, width = _a.width, height = _a.height;
            this.scaleCanvas(width, height);
            var config = {
                codec: codec,
                optimizeForLatency: true,
            };
            this.decoder.configure(config);
            this.bufferedSPS = true;
            this.addToBuffer(data);
            this.hadIDR = false;
            return;
        }
        else if (type === NALU_1.default.PPS) {
            this.bufferedPPS = true;
            this.addToBuffer(data);
            return;
        }
        else if (type === NALU_1.default.SEI) {
            if (!this.bufferedSPS || !this.bufferedPPS) {
                return;
            }
        }
        var array = this.addToBuffer(data);
        this.hadIDR = this.hadIDR || isIDR;
        if (array && this.decoder.state === 'configured' && this.hadIDR) {
            this.buffer = undefined;
            this.bufferedPPS = false;
            this.bufferedSPS = false;
            this.decoder.decode(new EncodedVideoChunk({
                type: 'key',
                timestamp: 0,
                data: array.buffer,
            }));
            return;
        }
    };
    WebCodecsPlayer.prototype.dropFrame = function (frame) {
        frame.close();
    };
    WebCodecsPlayer.prototype.getFitToScreenStatus = function () {
        return false;
    };
    WebCodecsPlayer.prototype.getPreferredVideoSetting = function () {
        return WebCodecsPlayer.preferredVideoSettings;
    };
    WebCodecsPlayer.prototype.loadVideoSettings = function () {
        return WebCodecsPlayer.loadVideoSettings(this.udid, this.displayInfo);
    };
    WebCodecsPlayer.prototype.needScreenInfoBeforePlay = function () {
        return false;
    };
    WebCodecsPlayer.prototype.stop = function () {
        _super.prototype.stop.call(this);
        if (this.decoder.state === 'configured') {
            this.decoder.close();
        }
    };
    WebCodecsPlayer.storageKeyPrefix = 'WebCodecsPlayer';
    WebCodecsPlayer.playerFullName = 'WebCodecs';
    WebCodecsPlayer.playerCodeName = 'webcodecs';
    WebCodecsPlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 480),
        sendFrameMeta: false,
    });
    return WebCodecsPlayer;
}(BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer));
exports.WebCodecsPlayer = WebCodecsPlayer;


/***/ }),

/***/ "./src/app/toolbox/ToolBox.ts":
/*!************************************!*\
  !*** ./src/app/toolbox/ToolBox.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBox = void 0;
var ToolBox = (function () {
    function ToolBox(list) {
        var _this = this;
        this.holder = document.createElement('div');
        this.holder.classList.add('control-buttons-list', 'control-wrapper');
        list.forEach(function (item) {
            item.getAllElements().forEach(function (el) {
                _this.holder.appendChild(el);
            });
        });
    }
    ToolBox.prototype.getHolderElement = function () {
        return this.holder;
    };
    return ToolBox;
}());
exports.ToolBox = ToolBox;


/***/ }),

/***/ "./src/app/toolbox/ToolBoxButton.ts":
/*!******************************************!*\
  !*** ./src/app/toolbox/ToolBoxButton.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBoxButton = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ToolBoxElement_1 = __webpack_require__(/*! ./ToolBoxElement */ "./src/app/toolbox/ToolBoxElement.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var ToolBoxButton = (function (_super) {
    tslib_1.__extends(ToolBoxButton, _super);
    function ToolBoxButton(title, icon, optional) {
        var _this = _super.call(this, title, optional) || this;
        var btn = document.createElement('button');
        btn.classList.add('control-button');
        btn.title = title;
        btn.appendChild(SvgImage_1.default.create(icon));
        _this.btn = btn;
        return _this;
    }
    ToolBoxButton.prototype.getElement = function () {
        return this.btn;
    };
    ToolBoxButton.prototype.getAllElements = function () {
        return [this.btn];
    };
    return ToolBoxButton;
}(ToolBoxElement_1.ToolBoxElement));
exports.ToolBoxButton = ToolBoxButton;


/***/ }),

/***/ "./src/app/toolbox/ToolBoxCheckbox.ts":
/*!********************************************!*\
  !*** ./src/app/toolbox/ToolBoxCheckbox.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBoxCheckbox = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ToolBoxElement_1 = __webpack_require__(/*! ./ToolBoxElement */ "./src/app/toolbox/ToolBoxElement.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var ToolBoxCheckbox = (function (_super) {
    tslib_1.__extends(ToolBoxCheckbox, _super);
    function ToolBoxCheckbox(title, icons, opt_id, optional) {
        var _this = _super.call(this, title, optional) || this;
        var input = document.createElement('input');
        input.type = 'checkbox';
        var label = document.createElement('label');
        label.title = title;
        label.classList.add('control-button');
        var iconOff;
        var iconOn;
        if (typeof icons !== 'number') {
            iconOff = icons.off;
            iconOn = icons.on;
        }
        else {
            iconOff = icons;
        }
        _this.imageOff = SvgImage_1.default.create(iconOff);
        _this.imageOff.classList.add('image', 'image-off');
        label.appendChild(_this.imageOff);
        if (iconOn) {
            _this.imageOn = SvgImage_1.default.create(iconOn);
            _this.imageOn.classList.add('image', 'image-on');
            label.appendChild(_this.imageOn);
            input.classList.add('two-images');
        }
        var id = opt_id || title.toLowerCase().replace(' ', '_');
        label.htmlFor = input.id = "input_".concat(id);
        _this.input = input;
        _this.label = label;
        return _this;
    }
    ToolBoxCheckbox.prototype.getElement = function () {
        return this.input;
    };
    ToolBoxCheckbox.prototype.getAllElements = function () {
        return [this.input, this.label];
    };
    return ToolBoxCheckbox;
}(ToolBoxElement_1.ToolBoxElement));
exports.ToolBoxCheckbox = ToolBoxCheckbox;


/***/ }),

/***/ "./src/app/toolbox/ToolBoxElement.ts":
/*!*******************************************!*\
  !*** ./src/app/toolbox/ToolBoxElement.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBoxElement = void 0;
var ToolBoxElement = (function () {
    function ToolBoxElement(title, optional) {
        var _this = this;
        this.title = title;
        this.optional = optional;
        this.listeners = new Map();
        this.onEvent = function (ev) {
            var set = _this.listeners.get(ev.type);
            if (!set) {
                return;
            }
            var type = ev.type;
            set.forEach(function (listener) {
                listener(type, _this);
            });
        };
    }
    ToolBoxElement.prototype.addEventListener = function (type, listener, options) {
        var set = this.listeners.get(type) || new Set();
        if (!set.size) {
            var element = this.getElement();
            element.addEventListener(type, this.onEvent, options);
        }
        set.add(listener);
        this.listeners.set(type, set);
    };
    ToolBoxElement.prototype.removeEventListener = function (type, listener) {
        var set = this.listeners.get(type);
        if (!set) {
            return;
        }
        set.delete(listener);
        if (!set.size) {
            this.listeners.delete(type);
            var element = this.getElement();
            element.removeEventListener(type, this.onEvent);
        }
    };
    return ToolBoxElement;
}());
exports.ToolBoxElement = ToolBoxElement;


/***/ }),

/***/ "./src/app/ui/HtmlTag.ts":
/*!*******************************!*\
  !*** ./src/app/ui/HtmlTag.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.html = void 0;
function htmlValue(value) {
    if (value instanceof HTMLTemplateElement) {
        return value.innerHTML;
    }
    if (typeof value === 'undefined') {
        return 'undefined';
    }
    if (value === null) {
        return 'null';
    }
    var e = document.createElement('dummy');
    e.innerText = value.toString();
    return e.innerHTML;
}
var html = function html(strings) {
    var values = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        values[_i - 1] = arguments[_i];
    }
    var template = document.createElement('template');
    template.innerHTML = values.reduce(function (acc, v, idx) { return acc + htmlValue(v) + strings[idx + 1]; }, strings[0]).toString();
    return template;
};
exports.html = html;


/***/ }),

/***/ "./src/app/ui/SvgImage.ts":
/*!********************************!*\
  !*** ./src/app/ui/SvgImage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Icon = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ic_keyboard_678_48dp_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_keyboard_678_48dp.svg */ "./src/public/images/skin-light/ic_keyboard_678_48dp.svg"));
var ic_more_horiz_678_48dp_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_more_horiz_678_48dp.svg */ "./src/public/images/skin-light/ic_more_horiz_678_48dp.svg"));
var ic_photo_camera_678_48dp_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_photo_camera_678_48dp.svg */ "./src/public/images/skin-light/ic_photo_camera_678_48dp.svg"));
var ic_power_settings_new_678_48px_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_power_settings_new_678_48px.svg */ "./src/public/images/skin-light/ic_power_settings_new_678_48px.svg"));
var ic_volume_down_678_48px_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_volume_down_678_48px.svg */ "./src/public/images/skin-light/ic_volume_down_678_48px.svg"));
var ic_volume_up_678_48px_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_volume_up_678_48px.svg */ "./src/public/images/skin-light/ic_volume_up_678_48px.svg"));
var System_Back_678_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/System_Back_678.svg */ "./src/public/images/skin-light/System_Back_678.svg"));
var System_Home_678_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/System_Home_678.svg */ "./src/public/images/skin-light/System_Home_678.svg"));
var System_Overview_678_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/System_Overview_678.svg */ "./src/public/images/skin-light/System_Overview_678.svg"));
var cancel_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/cancel.svg */ "./src/public/images/buttons/cancel.svg"));
var offline_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/offline.svg */ "./src/public/images/buttons/offline.svg"));
var refresh_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/refresh.svg */ "./src/public/images/buttons/refresh.svg"));
var settings_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/settings.svg */ "./src/public/images/buttons/settings.svg"));
var menu_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/menu.svg */ "./src/public/images/buttons/menu.svg"));
var arrow_back_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/arrow_back.svg */ "./src/public/images/buttons/arrow_back.svg"));
var toggle_on_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/toggle_on.svg */ "./src/public/images/buttons/toggle_on.svg"));
var toggle_off_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/toggle_off.svg */ "./src/public/images/buttons/toggle_off.svg"));
var ic_paste_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/ic_paste.svg */ "./src/public/images/buttons/ic_paste.svg"));
var ic_paste2_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/ic_paste2.svg */ "./src/public/images/buttons/ic_paste2.svg"));
var ic_paste3_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/ic_paste3.svg */ "./src/public/images/buttons/ic_paste3.svg"));
var Icon;
(function (Icon) {
    Icon[Icon["BACK"] = 0] = "BACK";
    Icon[Icon["HOME"] = 1] = "HOME";
    Icon[Icon["OVERVIEW"] = 2] = "OVERVIEW";
    Icon[Icon["POWER"] = 3] = "POWER";
    Icon[Icon["VOLUME_UP"] = 4] = "VOLUME_UP";
    Icon[Icon["VOLUME_DOWN"] = 5] = "VOLUME_DOWN";
    Icon[Icon["MORE"] = 6] = "MORE";
    Icon[Icon["CAMERA"] = 7] = "CAMERA";
    Icon[Icon["KEYBOARD"] = 8] = "KEYBOARD";
    Icon[Icon["CANCEL"] = 9] = "CANCEL";
    Icon[Icon["OFFLINE"] = 10] = "OFFLINE";
    Icon[Icon["REFRESH"] = 11] = "REFRESH";
    Icon[Icon["SETTINGS"] = 12] = "SETTINGS";
    Icon[Icon["MENU"] = 13] = "MENU";
    Icon[Icon["ARROW_BACK"] = 14] = "ARROW_BACK";
    Icon[Icon["TOGGLE_ON"] = 15] = "TOGGLE_ON";
    Icon[Icon["TOGGLE_OFF"] = 16] = "TOGGLE_OFF";
    Icon[Icon["PASTE1"] = 17] = "PASTE1";
    Icon[Icon["PASTE2"] = 18] = "PASTE2";
    Icon[Icon["PASTE3"] = 19] = "PASTE3";
})(Icon = exports.Icon || (exports.Icon = {}));
var SvgImage = (function () {
    function SvgImage() {
    }
    SvgImage.getSvgString = function (type) {
        switch (type) {
            case Icon.KEYBOARD:
                return ic_keyboard_678_48dp_svg_1.default;
            case Icon.MORE:
                return ic_more_horiz_678_48dp_svg_1.default;
            case Icon.CAMERA:
                return ic_photo_camera_678_48dp_svg_1.default;
            case Icon.POWER:
                return ic_power_settings_new_678_48px_svg_1.default;
            case Icon.VOLUME_DOWN:
                return ic_volume_down_678_48px_svg_1.default;
            case Icon.VOLUME_UP:
                return ic_volume_up_678_48px_svg_1.default;
            case Icon.BACK:
                return System_Back_678_svg_1.default;
            case Icon.HOME:
                return System_Home_678_svg_1.default;
            case Icon.OVERVIEW:
                return System_Overview_678_svg_1.default;
            case Icon.CANCEL:
                return cancel_svg_1.default;
            case Icon.OFFLINE:
                return offline_svg_1.default;
            case Icon.REFRESH:
                return refresh_svg_1.default;
            case Icon.SETTINGS:
                return settings_svg_1.default;
            case Icon.MENU:
                return menu_svg_1.default;
            case Icon.ARROW_BACK:
                return arrow_back_svg_1.default;
            case Icon.TOGGLE_ON:
                return toggle_on_svg_1.default;
            case Icon.TOGGLE_OFF:
                return toggle_off_svg_1.default;
            case Icon.PASTE1:
                return ic_paste_svg_1.default;
            case Icon.PASTE2:
                return ic_paste2_svg_1.default;
            case Icon.PASTE3:
                return ic_paste3_svg_1.default;
            default:
                return '';
        }
    };
    SvgImage.create = function (type) {
        var dummy = document.createElement('div');
        dummy.innerHTML = this.getSvgString(type);
        var svg = dummy.children[0];
        var titles = svg.getElementsByTagName('title');
        for (var i = 0, l = titles.length; i < l; i++) {
            svg.removeChild(titles[i]);
        }
        return svg;
    };
    SvgImage.Icon = Icon;
    return SvgImage;
}());
exports["default"] = SvgImage;


/***/ }),

/***/ "./src/common/Action.ts":
/*!******************************!*\
  !*** ./src/common/Action.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ACTION = void 0;
var ACTION;
(function (ACTION) {
    ACTION["LIST_HOSTS"] = "list-hosts";
    ACTION["APPL_DEVICE_LIST"] = "appl-device-list";
    ACTION["GOOG_DEVICE_LIST"] = "goog-device-list";
    ACTION["MULTIPLEX"] = "multiplex";
    ACTION["SHELL"] = "shell";
    ACTION["PROXY_WS"] = "proxy-ws";
    ACTION["PROXY_ADB"] = "proxy-adb";
    ACTION["DEVTOOLS"] = "devtools";
    ACTION["STREAM_SCRCPY"] = "stream";
    ACTION["STREAM_WS_QVH"] = "stream-qvh";
    ACTION["STREAM_MJPEG"] = "stream-mjpeg";
    ACTION["PROXY_WDA"] = "proxy-wda";
    ACTION["FILE_LISTING"] = "list-files";
})(ACTION = exports.ACTION || (exports.ACTION = {}));


/***/ }),

/***/ "./src/common/ChannelCode.ts":
/*!***********************************!*\
  !*** ./src/common/ChannelCode.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ChannelCode = void 0;
var ChannelCode;
(function (ChannelCode) {
    ChannelCode["FSLS"] = "FSLS";
    ChannelCode["HSTS"] = "HSTS";
    ChannelCode["SHEL"] = "SHEL";
    ChannelCode["GTRC"] = "GTRC";
    ChannelCode["ATRC"] = "ATRC";
    ChannelCode["WDAP"] = "WDAP";
    ChannelCode["QVHS"] = "QVHS";
})(ChannelCode = exports.ChannelCode || (exports.ChannelCode = {}));


/***/ }),

/***/ "./src/common/Constants.ts":
/*!*********************************!*\
  !*** ./src/common/Constants.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ARGS_STRING = exports.SERVER_PROCESS_NAME = exports.LOG_LEVEL = exports.SERVER_TYPE = exports.SERVER_VERSION = exports.SERVER_PORT = exports.SERVER_PACKAGE = void 0;
exports.SERVER_PACKAGE = 'com.genymobile.scrcpy.Server';
exports.SERVER_PORT = 8886;
exports.SERVER_VERSION = '1.19-ws6';
exports.SERVER_TYPE = 'web';
exports.LOG_LEVEL = 'ERROR';
var SCRCPY_LISTENS_ON_ALL_INTERFACES;
SCRCPY_LISTENS_ON_ALL_INTERFACES = true;
var ARGUMENTS = [exports.SERVER_VERSION, exports.SERVER_TYPE, exports.LOG_LEVEL, exports.SERVER_PORT, SCRCPY_LISTENS_ON_ALL_INTERFACES];
exports.SERVER_PROCESS_NAME = 'app_process';
exports.ARGS_STRING = "/ ".concat(exports.SERVER_PACKAGE, " ").concat(ARGUMENTS.join(' '), " 2>&1 > /dev/null");


/***/ }),

/***/ "./src/common/ControlCenterCommand.ts":
/*!********************************************!*\
  !*** ./src/common/ControlCenterCommand.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ControlCenterCommand = void 0;
var ControlCenterCommand = (function () {
    function ControlCenterCommand() {
        this.id = -1;
        this.type = '';
        this.pid = 0;
        this.udid = '';
        this.method = '';
    }
    ControlCenterCommand.fromJSON = function (json) {
        var body = JSON.parse(json);
        if (!body) {
            throw new Error('Invalid input');
        }
        var command = new ControlCenterCommand();
        var data = (command.data = body.data);
        command.id = body.id;
        command.type = body.type;
        if (typeof data.udid === 'string') {
            command.udid = data.udid;
        }
        switch (body.type) {
            case this.KILL_SERVER:
                if (typeof data.pid !== 'number' && data.pid <= 0) {
                    throw new Error('Invalid "pid" value');
                }
                command.pid = data.pid;
                return command;
            case this.REQUEST_WDA:
                if (typeof data.method !== 'string') {
                    throw new Error('Invalid "method" value');
                }
                command.method = data.method;
                command.args = data.args;
                return command;
            case this.START_SERVER:
            case this.UPDATE_INTERFACES:
            case this.CONFIGURE_STREAM:
            case this.RUN_WDA:
                return command;
            default:
                throw new Error("Unknown command \"".concat(body.command, "\""));
        }
    };
    ControlCenterCommand.prototype.getType = function () {
        return this.type;
    };
    ControlCenterCommand.prototype.getPid = function () {
        return this.pid;
    };
    ControlCenterCommand.prototype.getUdid = function () {
        return this.udid;
    };
    ControlCenterCommand.prototype.getId = function () {
        return this.id;
    };
    ControlCenterCommand.prototype.getMethod = function () {
        return this.method;
    };
    ControlCenterCommand.prototype.getData = function () {
        return this.data;
    };
    ControlCenterCommand.prototype.getArgs = function () {
        return this.args;
    };
    ControlCenterCommand.KILL_SERVER = 'kill_server';
    ControlCenterCommand.START_SERVER = 'start_server';
    ControlCenterCommand.UPDATE_INTERFACES = 'update_interfaces';
    ControlCenterCommand.CONFIGURE_STREAM = 'configure_stream';
    ControlCenterCommand.RUN_WDA = 'run-wda';
    ControlCenterCommand.REQUEST_WDA = 'request-wda';
    return ControlCenterCommand;
}());
exports.ControlCenterCommand = ControlCenterCommand;


/***/ }),

/***/ "./src/common/DeviceState.ts":
/*!***********************************!*\
  !*** ./src/common/DeviceState.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DeviceState = void 0;
var DeviceState;
(function (DeviceState) {
    DeviceState["DEVICE"] = "device";
    DeviceState["DISCONNECTED"] = "disconnected";
    DeviceState["CONNECTED"] = "Connected";
})(DeviceState = exports.DeviceState || (exports.DeviceState = {}));


/***/ }),

/***/ "./src/common/HostTrackerMessage.ts":
/*!******************************************!*\
  !*** ./src/common/HostTrackerMessage.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageType = void 0;
var MessageType;
(function (MessageType) {
    MessageType["HOSTS"] = "hosts";
    MessageType["ERROR"] = "error";
})(MessageType = exports.MessageType || (exports.MessageType = {}));


/***/ }),

/***/ "./src/common/TypedEmitter.ts":
/*!************************************!*\
  !*** ./src/common/TypedEmitter.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TypedEmitter = void 0;
var events_1 = __webpack_require__(/*! events */ "./node_modules/events/events.js");
var TypedEmitter = (function () {
    function TypedEmitter() {
        this.emitter = new events_1.EventEmitter();
    }
    TypedEmitter.prototype.addEventListener = function (eventName, fn) {
        this.emitter.on(eventName, fn);
    };
    TypedEmitter.prototype.removeEventListener = function (eventName, fn) {
        this.emitter.off(eventName, fn);
    };
    TypedEmitter.prototype.dispatchEvent = function (event) {
        return this.emitter.emit(event.type, event);
    };
    TypedEmitter.prototype.on = function (eventName, fn) {
        this.emitter.on(eventName, fn);
    };
    TypedEmitter.prototype.once = function (eventName, fn) {
        this.emitter.once(eventName, fn);
    };
    TypedEmitter.prototype.off = function (eventName, fn) {
        this.emitter.off(eventName, fn);
    };
    TypedEmitter.prototype.emit = function (eventName, params) {
        return this.emitter.emit(eventName, params);
    };
    return TypedEmitter;
}());
exports.TypedEmitter = TypedEmitter;


/***/ }),

/***/ "./src/packages/multiplexer/CloseEventClass.ts":
/*!*****************************************************!*\
  !*** ./src/packages/multiplexer/CloseEventClass.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CloseEventClass = exports.CloseEvent2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var CloseEvent2 = (function (_super) {
    tslib_1.__extends(CloseEvent2, _super);
    function CloseEvent2(type, _a) {
        var _b = _a === void 0 ? {} : _a, code = _b.code, reason = _b.reason;
        var _this = _super.call(this, type) || this;
        _this.code = code || 0;
        _this.reason = reason || '';
        _this.wasClean = _this.code === 0;
        return _this;
    }
    return CloseEvent2;
}(Event_1.Event2));
exports.CloseEvent2 = CloseEvent2;
exports.CloseEventClass = typeof CloseEvent !== 'undefined' ? CloseEvent : CloseEvent2;


/***/ }),

/***/ "./src/packages/multiplexer/ErrorEventClass.ts":
/*!*****************************************************!*\
  !*** ./src/packages/multiplexer/ErrorEventClass.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ErrorEventClass = exports.ErrorEvent2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var ErrorEvent2 = (function (_super) {
    tslib_1.__extends(ErrorEvent2, _super);
    function ErrorEvent2(type, _a) {
        var _b = _a === void 0 ? {} : _a, colno = _b.colno, error = _b.error, filename = _b.filename, lineno = _b.lineno, message = _b.message;
        var _this = _super.call(this, type) || this;
        _this.error = error;
        _this.colno = colno || 0;
        _this.filename = filename || '';
        _this.lineno = lineno || 0;
        _this.message = message || '';
        return _this;
    }
    return ErrorEvent2;
}(Event_1.Event2));
exports.ErrorEvent2 = ErrorEvent2;
exports.ErrorEventClass = typeof ErrorEvent !== 'undefined' ? ErrorEvent : ErrorEvent2;


/***/ }),

/***/ "./src/packages/multiplexer/Event.ts":
/*!*******************************************!*\
  !*** ./src/packages/multiplexer/Event.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EventClass = exports.Event2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event2 = (function () {
    function Event2(type, options) {
        if (options === void 0) { options = { cancelable: true, bubbles: true, composed: false }; }
        this.isTrusted = true;
        this.AT_TARGET = 0;
        this.BUBBLING_PHASE = 0;
        this.CAPTURING_PHASE = 0;
        this.NONE = 0;
        var _a = tslib_1.__assign({}, options), cancelable = _a.cancelable, bubbles = _a.bubbles, composed = _a.composed;
        this.cancelable = !!cancelable;
        this.bubbles = !!bubbles;
        this.composed = !!composed;
        this.type = "".concat(type);
        this.defaultPrevented = false;
        this.timeStamp = Date.now();
        this.target = null;
    }
    Event2.prototype.stopImmediatePropagation = function () {
    };
    Event2.prototype.preventDefault = function () {
        this.defaultPrevented = true;
    };
    Object.defineProperty(Event2.prototype, "currentTarget", {
        get: function () {
            return this.target;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Event2.prototype, "srcElement", {
        get: function () {
            return this.target;
        },
        enumerable: false,
        configurable: true
    });
    Event2.prototype.composedPath = function () {
        return this.target ? [this.target] : [];
    };
    Object.defineProperty(Event2.prototype, "returnValue", {
        get: function () {
            return !this.defaultPrevented;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Event2.prototype, "eventPhase", {
        get: function () {
            return this.target ? Event.AT_TARGET : Event.NONE;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Event2.prototype, "cancelBubble", {
        get: function () {
            return false;
        },
        set: function (value) {
            if (value) {
                this.stopPropagation();
            }
        },
        enumerable: false,
        configurable: true
    });
    Event2.prototype.stopPropagation = function () {
    };
    Event2.prototype.initEvent = function (type, bubbles, cancelable) {
        this.type = type;
        if (arguments.length > 1) {
            this.bubbles = !!bubbles;
        }
        if (arguments.length > 2) {
            this.cancelable = !!cancelable;
        }
    };
    Event2.NONE = 0;
    Event2.CAPTURING_PHASE = 1;
    Event2.AT_TARGET = 2;
    Event2.BUBBLING_PHASE = 3;
    return Event2;
}());
exports.Event2 = Event2;
exports.EventClass = typeof Event !== 'undefined' ? Event : Event2;


/***/ }),

/***/ "./src/packages/multiplexer/Message.ts":
/*!*********************************************!*\
  !*** ./src/packages/multiplexer/Message.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Message = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var MessageType_1 = __webpack_require__(/*! ./MessageType */ "./src/packages/multiplexer/MessageType.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../app/Util */ "./src/app/Util.ts"));
var CloseEventClass_1 = __webpack_require__(/*! ./CloseEventClass */ "./src/packages/multiplexer/CloseEventClass.ts");
var Message = (function () {
    function Message(type, channelId, data) {
        this.type = type;
        this.channelId = channelId;
        this.data = data;
    }
    Message.parse = function (buffer) {
        var view = Buffer.from(buffer);
        var type = view.readUInt8(0);
        var channelId = view.readUInt32LE(1);
        var data = buffer.slice(5);
        return new Message(type, channelId, data);
    };
    Message.fromCloseEvent = function (id, code, reason) {
        var reasonBuffer = reason ? Util_1.default.stringToUtf8ByteArray(reason) : Buffer.alloc(0);
        var buffer = Buffer.alloc(2 + 4 + reasonBuffer.byteLength);
        buffer.writeUInt16LE(code, 0);
        if (reasonBuffer.byteLength) {
            buffer.writeUInt32LE(reasonBuffer.byteLength, 2);
            buffer.set(reasonBuffer, 6);
        }
        return new Message(MessageType_1.MessageType.CloseChannel, id, buffer);
    };
    Message.createBuffer = function (type, channelId, data) {
        var result = Buffer.alloc(5 + (data ? data.byteLength : 0));
        result.writeUInt8(type, 0);
        result.writeUInt32LE(channelId, 1);
        if (data === null || data === void 0 ? void 0 : data.byteLength) {
            result.set(Buffer.from(data), 5);
        }
        return result;
    };
    Message.prototype.toCloseEvent = function () {
        var code;
        var reason;
        if (this.data && this.data.byteLength) {
            var buffer = Buffer.from(this.data);
            code = buffer.readUInt16LE(0);
            if (buffer.byteLength > 6) {
                var length_1 = buffer.readUInt32LE(2);
                reason = Util_1.default.utf8ByteArrayToString(buffer.slice(6, 6 + length_1));
            }
        }
        return new CloseEventClass_1.CloseEventClass('close', {
            code: code,
            reason: reason,
            wasClean: code === 1000,
        });
    };
    Message.prototype.toBuffer = function () {
        return Message.createBuffer(this.type, this.channelId, this.data);
    };
    return Message;
}());
exports.Message = Message;


/***/ }),

/***/ "./src/packages/multiplexer/MessageEventClass.ts":
/*!*******************************************************!*\
  !*** ./src/packages/multiplexer/MessageEventClass.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageEventClass = exports.MessageEvent2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var MessageEvent2 = (function (_super) {
    tslib_1.__extends(MessageEvent2, _super);
    function MessageEvent2(type, _a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.data, data = _c === void 0 ? null : _c, _d = _b.origin, origin = _d === void 0 ? '' : _d, _e = _b.lastEventId, lastEventId = _e === void 0 ? '' : _e, _f = _b.source, source = _f === void 0 ? null : _f, _g = _b.ports, ports = _g === void 0 ? [] : _g;
        var _this = _super.call(this, type) || this;
        _this.data = data;
        _this.origin = "".concat(origin);
        _this.lastEventId = "".concat(lastEventId);
        _this.source = source;
        _this.ports = tslib_1.__spreadArray([], tslib_1.__read(ports), false);
        return _this;
    }
    MessageEvent2.prototype.initMessageEvent = function () {
        throw Error('Deprecated method');
    };
    return MessageEvent2;
}(Event_1.Event2));
exports.MessageEvent2 = MessageEvent2;
exports.MessageEventClass = typeof MessageEvent !== 'undefined' ? MessageEvent : MessageEvent2;


/***/ }),

/***/ "./src/packages/multiplexer/MessageType.ts":
/*!*************************************************!*\
  !*** ./src/packages/multiplexer/MessageType.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageType = void 0;
var MessageType;
(function (MessageType) {
    MessageType[MessageType["CreateChannel"] = 4] = "CreateChannel";
    MessageType[MessageType["CloseChannel"] = 8] = "CloseChannel";
    MessageType[MessageType["RawBinaryData"] = 16] = "RawBinaryData";
    MessageType[MessageType["RawStringData"] = 32] = "RawStringData";
    MessageType[MessageType["Data"] = 64] = "Data";
})(MessageType = exports.MessageType || (exports.MessageType = {}));


/***/ }),

/***/ "./src/packages/multiplexer/Multiplexer.ts":
/*!*************************************************!*\
  !*** ./src/packages/multiplexer/Multiplexer.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Multiplexer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var TypedEmitter_1 = __webpack_require__(/*! ../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var Message_1 = __webpack_require__(/*! ./Message */ "./src/packages/multiplexer/Message.ts");
var MessageType_1 = __webpack_require__(/*! ./MessageType */ "./src/packages/multiplexer/MessageType.ts");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var CloseEventClass_1 = __webpack_require__(/*! ./CloseEventClass */ "./src/packages/multiplexer/CloseEventClass.ts");
var ErrorEventClass_1 = __webpack_require__(/*! ./ErrorEventClass */ "./src/packages/multiplexer/ErrorEventClass.ts");
var MessageEventClass_1 = __webpack_require__(/*! ./MessageEventClass */ "./src/packages/multiplexer/MessageEventClass.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../app/Util */ "./src/app/Util.ts"));
var Multiplexer = (function (_super) {
    tslib_1.__extends(Multiplexer, _super);
    function Multiplexer(ws, _id, emitter) {
        if (_id === void 0) { _id = 0; }
        var _this = _super.call(this) || this;
        _this.ws = ws;
        _this._id = _id;
        _this.CONNECTING = 0;
        _this.OPEN = 1;
        _this.CLOSING = 2;
        _this.CLOSED = 3;
        _this.binaryType = 'blob';
        _this.channels = new Map();
        _this.nextId = 0;
        _this.maxId = 4294967296;
        _this.storage = [];
        _this.emptyTimerScheduled = false;
        _this.onclose = null;
        _this.onerror = null;
        _this.onmessage = null;
        _this.onopen = null;
        _this.url = '';
        _this.readyState = _this.CONNECTING;
        if (_this._id === 0) {
            ws.binaryType = 'arraybuffer';
            _this.readyState = _this.ws.readyState;
        }
        _this.messageEmitter = emitter || ws;
        var onOpenHandler = function (event) {
            _this.readyState = _this.ws.readyState;
            _this.dispatchEvent(event);
        };
        var onCloseHandler = function (event) {
            _this.readyState = _this.ws.readyState;
            _this.dispatchEvent(event);
            _this.channels.clear();
        };
        var onErrorHandler = function (event) {
            _this.readyState = _this.ws.readyState;
            _this.dispatchEvent(event);
            _this.channels.clear();
        };
        var onMessageHandler = function (event) {
            var data = event.data;
            var message = Message_1.Message.parse(data);
            switch (message.type) {
                case MessageType_1.MessageType.CreateChannel: {
                    var channelId = message.channelId, data_1 = message.data;
                    if (_this.nextId < channelId) {
                        _this.nextId = channelId;
                    }
                    var channel = _this._createChannel(channelId, false);
                    _this.emit('channel', { channel: channel, data: data_1 });
                    break;
                }
                case MessageType_1.MessageType.RawStringData: {
                    var data_2 = _this.channels.get(message.channelId);
                    if (data_2) {
                        var channel = data_2.channel;
                        var msg = new MessageEventClass_1.MessageEventClass('message', {
                            data: Util_1.default.utf8ByteArrayToString(Buffer.from(message.data)),
                            lastEventId: event.lastEventId,
                            origin: event.origin,
                            source: event.source,
                        });
                        channel.dispatchEvent(msg);
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                case MessageType_1.MessageType.RawBinaryData: {
                    var data_3 = _this.channels.get(message.channelId);
                    if (data_3) {
                        var channel = data_3.channel;
                        var msg = new MessageEventClass_1.MessageEventClass('message', {
                            data: message.data,
                            lastEventId: event.lastEventId,
                            origin: event.origin,
                            source: event.source,
                        });
                        channel.dispatchEvent(msg);
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                case MessageType_1.MessageType.Data: {
                    var data_4 = _this.channels.get(message.channelId);
                    if (data_4) {
                        var emitter_1 = data_4.emitter;
                        var msg = new MessageEventClass_1.MessageEventClass('message', {
                            data: message.data,
                            lastEventId: event.lastEventId,
                            origin: event.origin,
                            source: event.source,
                        });
                        emitter_1.dispatchEvent(msg);
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                case MessageType_1.MessageType.CloseChannel: {
                    var data_5 = _this.channels.get(message.channelId);
                    if (data_5) {
                        var channel = data_5.channel;
                        channel.readyState = channel.CLOSING;
                        try {
                            channel.dispatchEvent(message.toCloseEvent());
                        }
                        finally {
                            channel.readyState = channel.CLOSED;
                        }
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                default:
                    var error = new Error("Unsupported message type: ".concat(message.type));
                    _this.dispatchEvent(new ErrorEventClass_1.ErrorEventClass('error', { error: error }));
            }
        };
        var onThisOpenHandler = function () {
            if (!_this.storage.length) {
                return;
            }
            var ws = _this.ws;
            if (ws instanceof Multiplexer) {
                _this.storage.forEach(function (data) { return ws.sendData(data); });
            }
            else {
                _this.storage.forEach(function (data) { return ws.send(data); });
            }
            _this.storage.length = 0;
        };
        var onThisCloseHandler = function () {
            ws.removeEventListener('open', onOpenHandler);
            ws.removeEventListener('error', onErrorHandler);
            ws.removeEventListener('close', onCloseHandler);
            _this.messageEmitter.removeEventListener('message', onMessageHandler);
            _this.off('close', onThisCloseHandler);
            _this.off('open', onThisOpenHandler);
        };
        ws.addEventListener('open', onOpenHandler);
        ws.addEventListener('error', onErrorHandler);
        ws.addEventListener('close', onCloseHandler);
        _this.messageEmitter.addEventListener('message', onMessageHandler);
        _this.on('close', onThisCloseHandler);
        _this.on('open', onThisOpenHandler);
        _this.scheduleEmptyEvent();
        return _this;
    }
    Multiplexer.wrap = function (ws) {
        return new Multiplexer(ws);
    };
    Object.defineProperty(Multiplexer.prototype, "bufferedAmount", {
        get: function () {
            return 0;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Multiplexer.prototype, "extensions", {
        get: function () {
            return '';
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Multiplexer.prototype, "protocol", {
        get: function () {
            return '';
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Multiplexer.prototype, "id", {
        get: function () {
            return this._id;
        },
        enumerable: false,
        configurable: true
    });
    Multiplexer.prototype.scheduleEmptyEvent = function () {
        var _this = this;
        if (this.emptyTimerScheduled) {
            return;
        }
        this.emptyTimerScheduled = true;
        Promise.resolve().then(function () {
            if (_this.emptyTimerScheduled) {
                _this.emptyTimerScheduled = false;
                _this.emit('empty', _this);
            }
        });
    };
    Multiplexer.prototype.clearEmptyEvent = function () {
        if (this.emptyTimerScheduled) {
            this.emptyTimerScheduled = false;
        }
    };
    Multiplexer.prototype.close = function (code, reason) {
        if (code === void 0) { code = 1000; }
        if (this.readyState === this.CLOSED || this.readyState === this.CLOSING) {
            return;
        }
        if (this._id) {
            this.readyState = this.CLOSING;
            try {
                var message = Message_1.Message.fromCloseEvent(this._id, code, reason).toBuffer();
                if (this.ws instanceof Multiplexer) {
                    this.ws.sendData(message);
                }
                else {
                    this.ws.send(message);
                }
                this.emit('close', new CloseEventClass_1.CloseEventClass('close', { code: code, reason: reason }));
            }
            finally {
                this.readyState = this.CLOSED;
            }
        }
        else {
            this.ws.close(code, reason);
        }
    };
    Multiplexer.prototype.send = function (data) {
        if (this.ws instanceof Multiplexer) {
            if (typeof data === 'string') {
                data = Message_1.Message.createBuffer(MessageType_1.MessageType.RawStringData, this._id, Buffer.from(data));
            }
            else {
                data = Message_1.Message.createBuffer(MessageType_1.MessageType.RawBinaryData, this._id, Buffer.from(data));
            }
        }
        this._send(data);
    };
    Multiplexer.prototype.sendData = function (data) {
        if (this.ws instanceof Multiplexer) {
            data = Message_1.Message.createBuffer(MessageType_1.MessageType.Data, this._id, Buffer.from(data));
        }
        this._send(data);
    };
    Multiplexer.prototype._send = function (data) {
        var readyState = this.readyState;
        if (readyState === this.OPEN) {
            if (this.ws instanceof Multiplexer) {
                this.ws.sendData(data);
            }
            else {
                this.ws.send(data);
            }
        }
        else if (readyState === this.ws.CONNECTING) {
            this.storage.push(data);
        }
        else {
            throw Error("Socket is already in CLOSING or CLOSED state.");
        }
    };
    Multiplexer.prototype._createChannel = function (id, sendOpenEvent) {
        var _this = this;
        var emitter = new TypedEmitter_1.TypedEmitter();
        var channel = new Multiplexer(this, id, emitter);
        this.channels.set(id, { channel: channel, emitter: emitter });
        if (sendOpenEvent) {
            if (this.readyState === this.OPEN) {
                Util_1.default.setImmediate(function () {
                    channel.readyState = _this.OPEN;
                    channel.dispatchEvent(new Event_1.EventClass('open'));
                });
            }
        }
        else {
            channel.readyState = this.readyState;
        }
        channel.addEventListener('close', function () {
            _this.channels.delete(id);
            if (!_this.channels.size) {
                _this.scheduleEmptyEvent();
            }
        });
        this.clearEmptyEvent();
        return channel;
    };
    Multiplexer.prototype.createChannel = function (data) {
        if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {
            throw Error('Incorrect socket state');
        }
        var id = this.getNextId();
        var channel = this._createChannel(id, true);
        this.sendData(Message_1.Message.createBuffer(MessageType_1.MessageType.CreateChannel, id, data));
        return channel;
    };
    Multiplexer.prototype.getNextId = function () {
        var hitTop = false;
        while (this.channels.has(++this.nextId)) {
            if (this.nextId === this.maxId) {
                if (hitTop) {
                    throw Error('No available id');
                }
                this.nextId = 0;
                hitTop = true;
            }
        }
        return this.nextId;
    };
    Multiplexer.prototype.dispatchEvent = function (event) {
        if (event.type === 'close' && typeof this.onclose === 'function') {
            Reflect.apply(this.onclose, this, [event]);
        }
        if (event.type === 'open' && typeof this.onopen === 'function') {
            Reflect.apply(this.onopen, this, [event]);
        }
        if (event.type === 'message' && typeof this.onmessage === 'function') {
            Reflect.apply(this.onmessage, this, [event]);
        }
        if (event.type === 'error' && typeof this.onerror === 'function') {
            Reflect.apply(this.onerror, this, [event]);
        }
        return _super.prototype.dispatchEvent.call(this, event);
    };
    return Multiplexer;
}(TypedEmitter_1.TypedEmitter));
exports.Multiplexer = Multiplexer;


/***/ }),

/***/ "./src/types/RemoteDevtoolsCommand.ts":
/*!********************************************!*\
  !*** ./src/types/RemoteDevtoolsCommand.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RemoteDevtoolsCommand = void 0;
var RemoteDevtoolsCommand;
(function (RemoteDevtoolsCommand) {
    RemoteDevtoolsCommand["LIST_DEVTOOLS"] = "list_devtools";
})(RemoteDevtoolsCommand = exports.RemoteDevtoolsCommand || (exports.RemoteDevtoolsCommand = {}));


/***/ }),

/***/ "./vendor/h264-live-player/Canvas.ts":
/*!*******************************************!*\
  !*** ./vendor/h264-live-player/Canvas.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Canvas = (function () {
    function Canvas(canvas, size) {
        this.canvas = canvas;
        this.size = size;
    }
    return Canvas;
}());
exports["default"] = Canvas;


/***/ }),

/***/ "./vendor/h264-live-player/Program.ts":
/*!********************************************!*\
  !*** ./vendor/h264-live-player/Program.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var assert_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/assert */ "./vendor/h264-live-player/utils/assert.ts"));
var Program = (function () {
    function Program(gl) {
        this.gl = gl;
        this.program = this.gl.createProgram();
    }
    Program.prototype.attach = function (shader) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        if (!shader.shader) {
            throw Error("Shader type is ".concat(typeof shader.shader));
        }
        this.gl.attachShader(this.program, shader.shader);
    };
    Program.prototype.link = function () {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        this.gl.linkProgram(this.program);
        (0, assert_1.default)(this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS), 'Unable to initialize the shader program.');
    };
    Program.prototype.use = function () {
        this.gl.useProgram(this.program);
    };
    Program.prototype.getAttributeLocation = function (name) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        return this.gl.getAttribLocation(this.program, name);
    };
    Program.prototype.setMatrixUniform = function (name, array) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        var uniform = this.gl.getUniformLocation(this.program, name);
        this.gl.uniformMatrix4fv(uniform, false, array);
    };
    return Program;
}());
exports["default"] = Program;


/***/ }),

/***/ "./vendor/h264-live-player/Script.ts":
/*!*******************************************!*\
  !*** ./vendor/h264-live-player/Script.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Script = (function () {
    function Script(type, source) {
        this.type = type;
        this.source = source;
    }
    Script.createFromElementId = function (id) {
        var script = document.getElementById(id);
        if (!script) {
            throw Error('Could not find shader with ID: ' + id);
        }
        var source = '';
        var currentChild = script.firstChild;
        while (currentChild) {
            if (currentChild.nodeType === 3) {
                source += currentChild.textContent;
            }
            currentChild = currentChild.nextSibling;
        }
        return new Script(script.type, source);
    };
    Script.createFromSource = function (type, source) {
        return new Script(type, source);
    };
    return Script;
}());
exports["default"] = Script;


/***/ }),

/***/ "./vendor/h264-live-player/Shader.ts":
/*!*******************************************!*\
  !*** ./vendor/h264-live-player/Shader.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var error_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/error */ "./vendor/h264-live-player/utils/error.ts"));
var Shader = (function () {
    function Shader(gl, script) {
        this.gl = gl;
        this.script = script;
        if (script.type === 'x-shader/x-fragment') {
            this.shader = gl.createShader(gl.FRAGMENT_SHADER);
        }
        else if (script.type === 'x-shader/x-vertex') {
            this.shader = gl.createShader(gl.VERTEX_SHADER);
        }
        else {
            (0, error_1.default)("Unknown shader type: ".concat(script.type));
            return;
        }
        if (!this.shader) {
            (0, error_1.default)("Shader is ".concat(typeof this.shader));
            return;
        }
        gl.shaderSource(this.shader, script.source);
        gl.compileShader(this.shader);
        if (!gl.getShaderParameter(this.shader, gl.COMPILE_STATUS)) {
            (0, error_1.default)('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(this.shader));
            return;
        }
    }
    return Shader;
}());
exports["default"] = Shader;


/***/ }),

/***/ "./vendor/h264-live-player/Texture.ts":
/*!********************************************!*\
  !*** ./vendor/h264-live-player/Texture.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var assert_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/assert */ "./vendor/h264-live-player/utils/assert.ts"));
var Texture = (function () {
    function Texture(gl, size, format) {
        this.gl = gl;
        this.size = size;
        this.texture = gl.createTexture();
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        this.format = format ? format : gl.LUMINANCE;
        if (size) {
            gl.texImage2D(gl.TEXTURE_2D, 0, this.format, size.w, size.h, 0, this.format, gl.UNSIGNED_BYTE, null);
        }
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        this.textureIDs = [gl.TEXTURE0, gl.TEXTURE1, gl.TEXTURE2];
    }
    Texture.create = function (gl, format) {
        return new Texture(gl, undefined, format);
    };
    Texture.prototype.fill = function (textureData, useTexSubImage2D, w, h) {
        if (typeof w === 'undefined' || typeof h === 'undefined') {
            if (!this.size) {
                return;
            }
            w = this.size.w;
            h = this.size.h;
        }
        var gl = this.gl;
        (0, assert_1.default)(textureData.length >= w * h, 'Texture size mismatch, data:' + textureData.length + ', texture: ' + w * h);
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        if (useTexSubImage2D) {
            gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, w, h, this.format, gl.UNSIGNED_BYTE, textureData);
        }
        else {
            gl.texImage2D(gl.TEXTURE_2D, 0, this.format, w, h, 0, this.format, gl.UNSIGNED_BYTE, textureData);
        }
    };
    Texture.prototype.image2dBuffer = function (buffer, width, height) {
        this.fill(buffer, false, width, height);
    };
    Texture.prototype.bind = function (n, program, name) {
        var gl = this.gl;
        if (!program.program) {
            return;
        }
        gl.activeTexture(this.textureIDs[n]);
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        gl.uniform1i(gl.getUniformLocation(program.program, name), n);
    };
    return Texture;
}());
exports["default"] = Texture;


/***/ }),

/***/ "./vendor/h264-live-player/WebGLCanvas.ts":
/*!************************************************!*\
  !*** ./vendor/h264-live-player/WebGLCanvas.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Texture_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Texture */ "./vendor/h264-live-player/Texture.ts"));
var error_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/error */ "./vendor/h264-live-player/utils/error.ts"));
var sylvester_js_1 = __webpack_require__(/*! sylvester.js */ "./node_modules/sylvester.js/lib/index.js");
var Program_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Program */ "./vendor/h264-live-player/Program.ts"));
var Shader_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Shader */ "./vendor/h264-live-player/Shader.ts"));
var glUtils_1 = __webpack_require__(/*! ./utils/glUtils */ "./vendor/h264-live-player/utils/glUtils.ts");
var Script_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Script */ "./vendor/h264-live-player/Script.ts"));
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/h264-live-player/Canvas.ts"));
var WebGLCanvas = (function (_super) {
    tslib_1.__extends(WebGLCanvas, _super);
    function WebGLCanvas(canvas, size, useFrameBuffer) {
        var _this = _super.call(this, canvas, size) || this;
        _this.canvas = canvas;
        _this.size = size;
        _this.canvas.width = size.w;
        _this.canvas.height = size.h;
        _this.onInitWebGL();
        _this.onInitShaders();
        _this.initBuffers();
        if (useFrameBuffer) {
            _this.initFramebuffer();
        }
        _this.onInitTextures();
        _this.initScene();
        return _this;
    }
    WebGLCanvas.prototype.initFramebuffer = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.framebuffer = gl.createFramebuffer();
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);
        this.framebufferTexture = new Texture_1.default(gl, this.size, gl.RGBA);
        var renderbuffer = gl.createRenderbuffer();
        gl.bindRenderbuffer(gl.RENDERBUFFER, renderbuffer);
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.size.w, this.size.h);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.framebufferTexture.texture, 0);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderbuffer);
    };
    WebGLCanvas.prototype.initBuffers = function () {
        var tmp;
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.quadVPBuffer = gl.createBuffer();
        if (!this.quadVPBuffer) {
            (0, error_1.default)("quadVPBuffer type is ".concat(typeof gl));
            return;
        }
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVPBuffer);
        tmp = [
            1.0, 1.0, 0.0,
            -1.0, 1.0, 0.0,
            1.0, -1.0, 0.0,
            -1.0, -1.0, 0.0
        ];
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(tmp), gl.STATIC_DRAW);
        var scaleX = 1.0;
        var scaleY = 1.0;
        this.quadVTCBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVTCBuffer);
        tmp = [
            scaleX, 0.0,
            0.0, 0.0,
            scaleX, scaleY,
            0.0, scaleY
        ];
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(tmp), gl.STATIC_DRAW);
    };
    WebGLCanvas.prototype.mvIdentity = function () {
        this.mvMatrix = sylvester_js_1.Matrix.I(4);
    };
    WebGLCanvas.prototype.mvMultiply = function (m) {
        this.mvMatrix = this.mvMatrix.x(m);
    };
    WebGLCanvas.prototype.mvTranslate = function (m) {
        var $V = sylvester_js_1.Vector.create;
        this.mvMultiply(sylvester_js_1.Matrix.Translation($V([m[0], m[1], m[2]])).ensure4x4());
    };
    WebGLCanvas.prototype.setMatrixUniforms = function () {
        if (!this.program) {
            (0, error_1.default)("Program type is ".concat(typeof this.program));
            return;
        }
        this.program.setMatrixUniform('uPMatrix', new Float32Array(this.perspectiveMatrix.flatten()));
        this.program.setMatrixUniform('uMVMatrix', new Float32Array(this.mvMatrix.flatten()));
    };
    WebGLCanvas.prototype.initScene = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.perspectiveMatrix = (0, glUtils_1.makePerspective)(45, 1, 0.1, 100.0);
        this.mvIdentity();
        this.mvTranslate([0.0, 0.0, -2.4]);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVPBuffer);
        gl.vertexAttribPointer(this.vertexPositionAttribute, 3, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVTCBuffer);
        gl.vertexAttribPointer(this.textureCoordAttribute, 2, gl.FLOAT, false, 0, 0);
        this.onInitSceneTextures();
        this.setMatrixUniforms();
        if (this.framebuffer) {
            console.log('Bound Frame Buffer');
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);
        }
    };
    WebGLCanvas.prototype.toString = function () {
        return 'WebGLCanvas Size: ' + this.size;
    };
    WebGLCanvas.prototype.checkLastError = function (operation) {
        if (!this.gl || !this.glNames) {
            return;
        }
        var err = this.gl.getError();
        if (err !== this.gl.NO_ERROR) {
            var name_1 = this.glNames[err];
            name_1 = (name_1 !== undefined) ? name_1 + '(' + err + ')' :
                ('Unknown WebGL ENUM (0x' + err.toString(16) + ')');
            if (operation) {
                console.log('WebGL Error: %s, %s', operation, name_1);
            }
            else {
                console.log('WebGL Error: %s', name_1);
            }
            console.trace();
        }
    };
    WebGLCanvas.prototype.onInitWebGL = function () {
        try {
            this.gl = this.canvas.getContext('experimental-webgl', {
                preserveDrawingBuffer: true
            });
        }
        catch (e) {
        }
        if (!this.gl) {
            (0, error_1.default)('Unable to initialize WebGL. Your browser may not support it.');
            return;
        }
        if (this.glNames) {
            return;
        }
        this.glNames = {};
        for (var propertyName in this.gl) {
            if (this.gl.hasOwnProperty(propertyName)) {
                var value = this.gl[propertyName];
                if (typeof value === 'number') {
                    this.glNames[value] = propertyName;
                }
            }
        }
    };
    WebGLCanvas.prototype.onInitShaders = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.program = new Program_1.default(gl);
        this.program.attach(new Shader_1.default(gl, WebGLCanvas.vertexShaderScript));
        this.program.attach(new Shader_1.default(gl, WebGLCanvas.fragmentShaderScript));
        this.program.link();
        this.program.use();
        this.vertexPositionAttribute = this.program.getAttributeLocation('aVertexPosition');
        gl.enableVertexAttribArray(this.vertexPositionAttribute);
        this.textureCoordAttribute = this.program.getAttributeLocation('aTextureCoord');
        gl.enableVertexAttribArray(this.textureCoordAttribute);
    };
    WebGLCanvas.prototype.onInitTextures = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.texture = new Texture_1.default(gl, this.size, gl.RGBA);
    };
    WebGLCanvas.prototype.onInitSceneTextures = function () {
        if (!this.texture) {
            (0, error_1.default)("texture type is ".concat(typeof this.texture));
            return;
        }
        if (!this.program) {
            (0, error_1.default)("program type is ".concat(typeof this.texture));
            return;
        }
        this.texture.bind(0, this.program, 'texture');
    };
    WebGLCanvas.prototype.drawScene = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
    };
    WebGLCanvas.prototype.readPixels = function (buffer) {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        gl.readPixels(0, 0, this.size.w, this.size.h, gl.RGBA, gl.UNSIGNED_BYTE, buffer);
    };
    WebGLCanvas.vertexShaderScript = Script_1.default.createFromSource('x-shader/x-vertex', "\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      varying highp vec2 vTextureCoord;\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ");
    WebGLCanvas.fragmentShaderScript = Script_1.default.createFromSource('x-shader/x-fragment', "\n      precision highp float;\n      varying highp vec2 vTextureCoord;\n      uniform sampler2D texture;\n      void main(void) {\n        gl_FragColor = texture2D(texture, vTextureCoord);\n      }\n    ");
    return WebGLCanvas;
}(Canvas_1.default));
exports["default"] = WebGLCanvas;


/***/ }),

/***/ "./vendor/h264-live-player/YUVCanvas.ts":
/*!**********************************************!*\
  !*** ./vendor/h264-live-player/YUVCanvas.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/h264-live-player/Canvas.ts"));
var YUVCanvas = (function (_super) {
    tslib_1.__extends(YUVCanvas, _super);
    function YUVCanvas(canvas, size) {
        var _this = _super.call(this, canvas, size) || this;
        _this.canvas = canvas;
        _this.size = size;
        _this.canvasCtx = _this.canvas.getContext('2d');
        _this.canvasBuffer = _this.canvasCtx.createImageData(size.w, size.h);
        return _this;
    }
    YUVCanvas.prototype.decode = function (buffer, width, height) {
        if (!buffer) {
            return;
        }
        var lumaSize = width * height;
        var chromaSize = lumaSize >> 2;
        var ybuf = buffer.subarray(0, lumaSize);
        var ubuf = buffer.subarray(lumaSize, lumaSize + chromaSize);
        var vbuf = buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize);
        for (var y = 0; y < height; y++) {
            for (var x = 0; x < width; x++) {
                var yIndex = x + y * width;
                var uIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var vIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var R = 1.164 * (ybuf[yIndex] - 16) + 1.596 * (vbuf[vIndex] - 128);
                var G = 1.164 * (ybuf[yIndex] - 16) - 0.813 * (vbuf[vIndex] - 128) - 0.391 * (ubuf[uIndex] - 128);
                var B = 1.164 * (ybuf[yIndex] - 16) + 2.018 * (ubuf[uIndex] - 128);
                var rgbIndex = yIndex * 4;
                this.canvasBuffer.data[rgbIndex + 0] = R;
                this.canvasBuffer.data[rgbIndex + 1] = G;
                this.canvasBuffer.data[rgbIndex + 2] = B;
                this.canvasBuffer.data[rgbIndex + 3] = 0xff;
            }
        }
        this.canvasCtx.putImageData(this.canvasBuffer, 0, 0);
    };
    return YUVCanvas;
}(Canvas_1.default));
exports["default"] = YUVCanvas;


/***/ }),

/***/ "./vendor/h264-live-player/YUVWebGLCanvas.ts":
/*!***************************************************!*\
  !*** ./vendor/h264-live-player/YUVWebGLCanvas.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var WebGLCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./WebGLCanvas */ "./vendor/h264-live-player/WebGLCanvas.ts"));
var Program_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Program */ "./vendor/h264-live-player/Program.ts"));
var Shader_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Shader */ "./vendor/h264-live-player/Shader.ts"));
var Script_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Script */ "./vendor/h264-live-player/Script.ts"));
var Texture_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Texture */ "./vendor/h264-live-player/Texture.ts"));
var YUVWebGLCanvas = (function (_super) {
    tslib_1.__extends(YUVWebGLCanvas, _super);
    function YUVWebGLCanvas(canvas, size) {
        var _this = _super.call(this, canvas, size, false) || this;
        _this.canvas = canvas;
        _this.size = size;
        return _this;
    }
    YUVWebGLCanvas.prototype.onInitShaders = function () {
        if (!this.gl) {
            return;
        }
        this.program = new Program_1.default(this.gl);
        this.program.attach(new Shader_1.default(this.gl, YUVWebGLCanvas.vertexShaderScript));
        this.program.attach(new Shader_1.default(this.gl, YUVWebGLCanvas.fragmentShaderScript));
        this.program.link();
        this.program.use();
        this.vertexPositionAttribute = this.program.getAttributeLocation('aVertexPosition');
        this.gl.enableVertexAttribArray(this.vertexPositionAttribute);
        this.textureCoordAttribute = this.program.getAttributeLocation('aTextureCoord');
        this.gl.enableVertexAttribArray(this.textureCoordAttribute);
    };
    YUVWebGLCanvas.prototype.onInitTextures = function () {
        if (!this.gl) {
            return;
        }
        this.YTexture = new Texture_1.default(this.gl, this.size);
        this.UTexture = new Texture_1.default(this.gl, this.size.getHalfSize());
        this.VTexture = new Texture_1.default(this.gl, this.size.getHalfSize());
    };
    YUVWebGLCanvas.prototype.onInitSceneTextures = function () {
        if (!this.program) {
            return;
        }
        if (!this.YTexture || !this.UTexture || !this.VTexture) {
            return;
        }
        this.YTexture.bind(0, this.program, 'YTexture');
        this.UTexture.bind(1, this.program, 'UTexture');
        this.VTexture.bind(2, this.program, 'VTexture');
    };
    YUVWebGLCanvas.prototype.fillYUVTextures = function (y, u, v) {
        if (!this.YTexture || !this.UTexture || !this.VTexture) {
            return;
        }
        this.YTexture.fill(y);
        this.UTexture.fill(u);
        this.VTexture.fill(v);
    };
    YUVWebGLCanvas.prototype.decode = function (buffer, width, height) {
        if (!buffer) {
            return;
        }
        if (!this.YTexture || !this.UTexture || !this.VTexture) {
            return;
        }
        var lumaSize = width * height;
        var chromaSize = lumaSize >> 2;
        this.fillYUVTextures(buffer.subarray(0, lumaSize), buffer.subarray(lumaSize, lumaSize + chromaSize), buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize));
        this.drawScene();
    };
    YUVWebGLCanvas.prototype.toString = function () {
        return 'YUVCanvas Size: ' + this.size;
    };
    YUVWebGLCanvas.vertexShaderScript = Script_1.default.createFromSource('x-shader/x-vertex', "\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      varying highp vec2 vTextureCoord;\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ");
    YUVWebGLCanvas.fragmentShaderScript = Script_1.default.createFromSource('x-shader/x-fragment', "\n      precision highp float;\n      varying highp vec2 vTextureCoord;\n      uniform sampler2D YTexture;\n      uniform sampler2D UTexture;\n      uniform sampler2D VTexture;\n      const mat4 YUV2RGB = mat4\n      (\n       1.1643828125, 0, 1.59602734375, -.87078515625,\n       1.1643828125, -.39176171875, -.81296875, .52959375,\n       1.1643828125, 2.017234375, 0, -1.081390625,\n       0, 0, 0, 1\n      );\n\n      void main(void) {\n       gl_FragColor = vec4(\n         texture2D(YTexture,  vTextureCoord).x,\n         texture2D(UTexture, vTextureCoord).x,\n         texture2D(VTexture, vTextureCoord).x,\n         1\n       ) * YUV2RGB;\n      }");
    return YUVWebGLCanvas;
}(WebGLCanvas_1.default));
exports["default"] = YUVWebGLCanvas;


/***/ }),

/***/ "./vendor/h264-live-player/utils/assert.ts":
/*!*************************************************!*\
  !*** ./vendor/h264-live-player/utils/assert.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var error_1 = tslib_1.__importDefault(__webpack_require__(/*! ./error */ "./vendor/h264-live-player/utils/error.ts"));
function assert(condition, message) {
    if (!condition) {
        (0, error_1.default)(message);
        throw new Error(message);
    }
}
exports["default"] = assert;


/***/ }),

/***/ "./vendor/h264-live-player/utils/error.ts":
/*!************************************************!*\
  !*** ./vendor/h264-live-player/utils/error.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
function error(message) {
    console.error(message);
    console.trace();
}
exports["default"] = error;


/***/ }),

/***/ "./vendor/h264-live-player/utils/glUtils.ts":
/*!**************************************************!*\
  !*** ./vendor/h264-live-player/utils/glUtils.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.makePerspective = void 0;
var sylvester_js_1 = __webpack_require__(/*! sylvester.js */ "./node_modules/sylvester.js/lib/index.js");
var $M = sylvester_js_1.Matrix.create;
sylvester_js_1.Matrix.Translation = function (v) {
    if (v.elements.length === 2) {
        var r = sylvester_js_1.Matrix.I(3);
        r.elements[2][0] = v.elements[0];
        r.elements[2][1] = v.elements[1];
        return r;
    }
    if (v.elements.length === 3) {
        var r = sylvester_js_1.Matrix.I(4);
        r.elements[0][3] = v.elements[0];
        r.elements[1][3] = v.elements[1];
        r.elements[2][3] = v.elements[2];
        return r;
    }
    throw Error('Invalid length for Translation');
};
sylvester_js_1.Matrix.prototype.flatten = function () {
    var result = [];
    if (this.elements.length === 0) {
        return [];
    }
    for (var j = 0; j < this.elements[0].length; j++) {
        for (var i = 0; i < this.elements.length; i++) {
            result.push(this.elements[i][j]);
        }
    }
    return result;
};
sylvester_js_1.Matrix.prototype.ensure4x4 = function () {
    if (this.elements.length === 4 && this.elements[0].length === 4) {
        return this;
    }
    if (this.elements.length > 4 || this.elements[0].length > 4) {
        return null;
    }
    for (var i = 0; i < this.elements.length; i++) {
        for (var j = this.elements[i].length; j < 4; j++) {
            if (i === j) {
                this.elements[i].push(1);
            }
            else {
                this.elements[i].push(0);
            }
        }
    }
    for (var i = this.elements.length; i < 4; i++) {
        if (i === 0) {
            this.elements.push([1, 0, 0, 0]);
        }
        else if (i === 1) {
            this.elements.push([0, 1, 0, 0]);
        }
        else if (i === 2) {
            this.elements.push([0, 0, 1, 0]);
        }
        else if (i === 3) {
            this.elements.push([0, 0, 0, 1]);
        }
    }
    return this;
};
sylvester_js_1.Vector.prototype.flatten = function () {
    return this.elements;
};
function makePerspective(fovy, aspect, znear, zfar) {
    var ymax = znear * Math.tan(fovy * Math.PI / 360.0);
    var ymin = -ymax;
    var xmin = ymin * aspect;
    var xmax = ymax * aspect;
    return makeFrustum(xmin, xmax, ymin, ymax, znear, zfar);
}
exports.makePerspective = makePerspective;
function makeFrustum(left, right, bottom, top, znear, zfar) {
    var X = 2 * znear / (right - left);
    var Y = 2 * znear / (top - bottom);
    var A = (right + left) / (right - left);
    var B = (top + bottom) / (top - bottom);
    var C = -(zfar + znear) / (zfar - znear);
    var D = -2 * zfar * znear / (zfar - znear);
    return $M([[X, 0, A, 0],
        [0, Y, B, 0],
        [0, 0, C, D],
        [0, 0, -1, 0]]);
}


/***/ }),

/***/ "./vendor/tinyh264/Canvas.ts":
/*!***********************************!*\
  !*** ./vendor/tinyh264/Canvas.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Canvas = (function () {
    function Canvas(canvas) {
        this.canvas = canvas;
    }
    return Canvas;
}());
exports["default"] = Canvas;


/***/ }),

/***/ "./vendor/tinyh264/ShaderCompiler.ts":
/*!*******************************************!*\
  !*** ./vendor/tinyh264/ShaderCompiler.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var ShaderCompiler = (function () {
    function ShaderCompiler() {
    }
    ShaderCompiler.compile = function (gl, script) {
        var shader;
        if (script.type === 'x-shader/x-fragment') {
            shader = gl.createShader(gl.FRAGMENT_SHADER);
        }
        else if (script.type === 'x-shader/x-vertex') {
            shader = gl.createShader(gl.VERTEX_SHADER);
        }
        else {
            throw new Error('Unknown shader type: ' + script.type);
        }
        if (!shader) {
            throw new Error('Failed to create shader');
        }
        gl.shaderSource(shader, script.source);
        gl.compileShader(shader);
        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            throw new Error('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));
        }
        return shader;
    };
    return ShaderCompiler;
}());
exports["default"] = ShaderCompiler;


/***/ }),

/***/ "./vendor/tinyh264/ShaderProgram.ts":
/*!******************************************!*\
  !*** ./vendor/tinyh264/ShaderProgram.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var ShaderProgram = (function () {
    function ShaderProgram(gl) {
        this.gl = gl;
        this.program = this.gl.createProgram();
    }
    ShaderProgram.prototype.attach = function (shader) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        this.gl.attachShader(this.program, shader);
    };
    ShaderProgram.prototype.link = function () {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        this.gl.linkProgram(this.program);
        if (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {
            console.error('Unable to initialize the shader program.');
        }
    };
    ShaderProgram.prototype.use = function () {
        this.gl.useProgram(this.program);
    };
    ShaderProgram.prototype.getAttributeLocation = function (name) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        return this.gl.getAttribLocation(this.program, name);
    };
    ShaderProgram.prototype.getUniformLocation = function (name) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        return this.gl.getUniformLocation(this.program, name);
    };
    ShaderProgram.prototype.setUniformM4 = function (uniformLocation, array) {
        this.gl.uniformMatrix4fv(uniformLocation, false, array);
    };
    return ShaderProgram;
}());
exports["default"] = ShaderProgram;


/***/ }),

/***/ "./vendor/tinyh264/ShaderSources.ts":
/*!******************************************!*\
  !*** ./vendor/tinyh264/ShaderSources.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fragmentYUV = exports.vertexQuad = void 0;
exports.vertexQuad = {
    type: 'x-shader/x-vertex',
    source: "\n  precision mediump float;\n\n  uniform mat4 u_projection;\n  attribute vec2 a_position;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n  void main(){\n      v_texCoord = a_texCoord;\n      gl_Position = u_projection * vec4(a_position, 0.0, 1.0);\n  }\n",
};
exports.fragmentYUV = {
    type: 'x-shader/x-fragment',
    source: "\n  precision lowp float;\n  \n  varying vec2 v_texCoord;\n  \n  uniform sampler2D yTexture;\n  uniform sampler2D uTexture;\n  uniform sampler2D vTexture;\n    \n  const mat4 conversion = mat4(\n    1.0,     0.0,     1.402,  -0.701,\n    1.0,    -0.344,  -0.714,   0.529,\n    1.0,     1.772,   0.0,    -0.886,\n    0.0,     0.0,     0.0,     0.0\n  );\n\n  void main(void) {\n    float yChannel = texture2D(yTexture, v_texCoord).x;\n    float uChannel = texture2D(uTexture, v_texCoord).x;\n    float vChannel = texture2D(vTexture, v_texCoord).x;\n    vec4 channels = vec4(yChannel, uChannel, vChannel, 1.0);\n    vec3 rgb = (channels * conversion).xyz;\n    gl_FragColor = vec4(rgb, 1.0);\n  }\n",
};


/***/ }),

/***/ "./vendor/tinyh264/YUVCanvas.ts":
/*!**************************************!*\
  !*** ./vendor/tinyh264/YUVCanvas.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/tinyh264/Canvas.ts"));
var YUVCanvas = (function (_super) {
    tslib_1.__extends(YUVCanvas, _super);
    function YUVCanvas(canvas) {
        var _this = _super.call(this, canvas) || this;
        _this.canvasBuffer = null;
        _this.canvasCtx = _this.canvas.getContext('2d');
        return _this;
    }
    YUVCanvas.prototype.decode = function (buffer, width, height) {
        if (!buffer) {
            return;
        }
        if (!this.canvasBuffer) {
            this.canvasBuffer = this.canvasCtx.createImageData(width, height);
        }
        var lumaSize = width * height;
        var chromaSize = lumaSize >> 2;
        var ybuf = buffer.subarray(0, lumaSize);
        var ubuf = buffer.subarray(lumaSize, lumaSize + chromaSize);
        var vbuf = buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize);
        for (var y = 0; y < height; y++) {
            for (var x = 0; x < width; x++) {
                var yIndex = x + y * width;
                var uIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var vIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var R = 1.164 * (ybuf[yIndex] - 16) + 1.596 * (vbuf[vIndex] - 128);
                var G = 1.164 * (ybuf[yIndex] - 16) - 0.813 * (vbuf[vIndex] - 128) - 0.391 * (ubuf[uIndex] - 128);
                var B = 1.164 * (ybuf[yIndex] - 16) + 2.018 * (ubuf[uIndex] - 128);
                var rgbIndex = yIndex * 4;
                this.canvasBuffer.data[rgbIndex + 0] = R;
                this.canvasBuffer.data[rgbIndex + 1] = G;
                this.canvasBuffer.data[rgbIndex + 2] = B;
                this.canvasBuffer.data[rgbIndex + 3] = 0xff;
            }
        }
        this.canvasCtx.putImageData(this.canvasBuffer, 0, 0);
    };
    return YUVCanvas;
}(Canvas_1.default));
exports["default"] = YUVCanvas;


/***/ }),

/***/ "./vendor/tinyh264/YUVSurfaceShader.ts":
/*!*********************************************!*\
  !*** ./vendor/tinyh264/YUVSurfaceShader.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ShaderProgram_1 = tslib_1.__importDefault(__webpack_require__(/*! ./ShaderProgram */ "./vendor/tinyh264/ShaderProgram.ts"));
var ShaderCompiler_1 = tslib_1.__importDefault(__webpack_require__(/*! ./ShaderCompiler */ "./vendor/tinyh264/ShaderCompiler.ts"));
var ShaderSources_1 = __webpack_require__(/*! ./ShaderSources */ "./vendor/tinyh264/ShaderSources.ts");
var YUVSurfaceShader = (function () {
    function YUVSurfaceShader(gl, vertexBuffer, shaderArgs, program) {
        this.gl = gl;
        this.vertexBuffer = vertexBuffer;
        this.shaderArgs = shaderArgs;
        this.program = program;
    }
    YUVSurfaceShader.create = function (gl) {
        var program = this._initShaders(gl);
        var shaderArgs = this._initShaderArgs(gl, program);
        var vertexBuffer = this._initBuffers(gl);
        return new YUVSurfaceShader(gl, vertexBuffer, shaderArgs, program);
    };
    YUVSurfaceShader._initShaders = function (gl) {
        var program = new ShaderProgram_1.default(gl);
        program.attach(ShaderCompiler_1.default.compile(gl, ShaderSources_1.vertexQuad));
        program.attach(ShaderCompiler_1.default.compile(gl, ShaderSources_1.fragmentYUV));
        program.link();
        program.use();
        return program;
    };
    YUVSurfaceShader._initShaderArgs = function (gl, program) {
        var shaderArgs = {
            yTexture: program.getUniformLocation('yTexture'),
            uTexture: program.getUniformLocation('uTexture'),
            vTexture: program.getUniformLocation('vTexture'),
            u_projection: program.getUniformLocation('u_projection'),
            a_position: program.getAttributeLocation('a_position'),
            a_texCoord: program.getAttributeLocation('a_texCoord'),
        };
        gl.enableVertexAttribArray(shaderArgs.a_position);
        gl.enableVertexAttribArray(shaderArgs.a_texCoord);
        return shaderArgs;
    };
    YUVSurfaceShader._initBuffers = function (gl) {
        return gl.createBuffer();
    };
    YUVSurfaceShader.prototype.setTexture = function (textureY, textureU, textureV) {
        var gl = this.gl;
        gl.uniform1i(this.shaderArgs.yTexture, 0);
        gl.uniform1i(this.shaderArgs.uTexture, 1);
        gl.uniform1i(this.shaderArgs.vTexture, 2);
        gl.activeTexture(gl.TEXTURE0);
        gl.bindTexture(gl.TEXTURE_2D, textureY.texture);
        gl.activeTexture(gl.TEXTURE1);
        gl.bindTexture(gl.TEXTURE_2D, textureU.texture);
        gl.activeTexture(gl.TEXTURE2);
        gl.bindTexture(gl.TEXTURE_2D, textureV.texture);
    };
    YUVSurfaceShader.prototype.use = function () {
        this.program.use();
    };
    YUVSurfaceShader.prototype.release = function () {
        this.gl.useProgram(null);
    };
    YUVSurfaceShader.prototype.updateShaderData = function (encodedFrameSize, h264RenderState) {
        var w = encodedFrameSize.w, h = encodedFrameSize.h;
        this.gl.viewport(0, 0, w, h);
        this.program.setUniformM4(this.shaderArgs.u_projection, [
            2.0 / w, 0, 0, 0,
            0, 2.0 / -h, 0, 0,
            0, 0, 1, 0,
            -1, 1, 0, 1
        ]);
        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);
        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([
            0, 0, 0, 0,
            w, 0, h264RenderState.maxXTexCoord, 0,
            w, h, h264RenderState.maxXTexCoord, h264RenderState.maxYTexCoord,
            w, h, h264RenderState.maxXTexCoord, h264RenderState.maxYTexCoord,
            0, h, 0, h264RenderState.maxYTexCoord,
            0, 0, 0, 0
        ]), this.gl.DYNAMIC_DRAW);
        this.gl.vertexAttribPointer(this.shaderArgs.a_position, 2, this.gl.FLOAT, false, 16, 0);
        this.gl.vertexAttribPointer(this.shaderArgs.a_texCoord, 2, this.gl.FLOAT, false, 16, 8);
    };
    YUVSurfaceShader.prototype.draw = function () {
        var gl = this.gl;
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);
        gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 6);
        gl.bindTexture(gl.TEXTURE_2D, null);
    };
    return YUVSurfaceShader;
}());
exports["default"] = YUVSurfaceShader;


/***/ }),

/***/ "./vendor/tinyh264/YUVWebGLCanvas.ts":
/*!*******************************************!*\
  !*** ./vendor/tinyh264/YUVWebGLCanvas.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var YUVSurfaceShader_1 = tslib_1.__importDefault(__webpack_require__(/*! ./YUVSurfaceShader */ "./vendor/tinyh264/YUVSurfaceShader.ts"));
var Texture_1 = tslib_1.__importDefault(__webpack_require__(/*! ../h264-live-player/Texture */ "./vendor/h264-live-player/Texture.ts"));
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/tinyh264/Canvas.ts"));
var YUVWebGLCanvas = (function (_super) {
    tslib_1.__extends(YUVWebGLCanvas, _super);
    function YUVWebGLCanvas(canvas) {
        var _this = _super.call(this, canvas) || this;
        var gl = canvas.getContext('experimental-webgl', {
            preserveDrawingBuffer: true,
        });
        if (!gl) {
            throw new Error('Unable to initialize WebGL. Your browser may not support it.');
        }
        _this.yuvSurfaceShader = YUVSurfaceShader_1.default.create(gl);
        _this.yTexture = Texture_1.default.create(gl, gl.LUMINANCE);
        _this.uTexture = Texture_1.default.create(gl, gl.LUMINANCE);
        _this.vTexture = Texture_1.default.create(gl, gl.LUMINANCE);
        return _this;
    }
    YUVWebGLCanvas.prototype.decode = function (buffer, width, height) {
        this.canvas.width = width;
        this.canvas.height = height;
        var stride = width;
        var sourceWidth = width;
        var sourceHeight = height;
        var maxXTexCoord = sourceWidth / stride;
        var maxYTexCoord = sourceHeight / height;
        var lumaSize = stride * height;
        var chromaSize = lumaSize >> 2;
        var yBuffer = buffer.subarray(0, lumaSize);
        var uBuffer = buffer.subarray(lumaSize, lumaSize + chromaSize);
        var vBuffer = buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize);
        var chromaHeight = height >> 1;
        var chromaStride = stride >> 1;
        this.yTexture.image2dBuffer(yBuffer, stride, height);
        this.uTexture.image2dBuffer(uBuffer, chromaStride, chromaHeight);
        this.vTexture.image2dBuffer(vBuffer, chromaStride, chromaHeight);
        this.yuvSurfaceShader.setTexture(this.yTexture, this.uTexture, this.vTexture);
        this.yuvSurfaceShader.updateShaderData({ w: width, h: height }, { maxXTexCoord: maxXTexCoord, maxYTexCoord: maxYTexCoord });
        this.yuvSurfaceShader.draw();
    };
    return YUVWebGLCanvas;
}(Canvas_1.default));
exports["default"] = YUVWebGLCanvas;


/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js!./vendor/tinyh264/H264NALDecoder.worker.ts":
/*!*******************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js!./vendor/tinyh264/H264NALDecoder.worker.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Worker_fn)
/* harmony export */ });
function Worker_fn() {
  return new Worker(__webpack_require__.p + "bundle.worker.js");
}


/***/ }),

/***/ "./node_modules/xterm-addon-attach/lib/xterm-addon-attach.js":
/*!*******************************************************************!*\
  !*** ./node_modules/xterm-addon-attach/lib/xterm-addon-attach.js ***!
  \*******************************************************************/
/***/ ((module) => {

!function(t,e){ true?module.exports=e():0}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachAddon=void 0;var o=function(){function t(t,e){this._disposables=[],this._socket=t,this._socket.binaryType="arraybuffer",this._bidirectional=!e||!1!==e.bidirectional}return t.prototype.activate=function(t){var e=this;this._disposables.push(r(this._socket,"message",(function(e){var n=e.data;t.write("string"==typeof n?n:new Uint8Array(n))}))),this._bidirectional&&(this._disposables.push(t.onData((function(t){return e._sendData(t)}))),this._disposables.push(t.onBinary((function(t){return e._sendBinary(t)})))),this._disposables.push(r(this._socket,"close",(function(){return e.dispose()}))),this._disposables.push(r(this._socket,"error",(function(){return e.dispose()})))},t.prototype.dispose=function(){this._disposables.forEach((function(t){return t.dispose()}))},t.prototype._sendData=function(t){1===this._socket.readyState&&this._socket.send(t)},t.prototype._sendBinary=function(t){if(1===this._socket.readyState){for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);this._socket.send(e)}},t}();function r(t,e,n){return t.addEventListener(e,n),{dispose:function(){n&&t.removeEventListener(e,n)}}}e.AttachAddon=o}])}));
//# sourceMappingURL=xterm-addon-attach.js.map

/***/ }),

/***/ "./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js":
/*!*************************************************************!*\
  !*** ./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js ***!
  \*************************************************************/
/***/ ((module) => {

!function(e,t){ true?module.exports=t():0}(self,(function(){return(()=>{"use strict";var e={775:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var r=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core;if(0!==e._renderService.dimensions.actualCellWidth&&0!==e._renderService.dimensions.actualCellHeight){var t=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),n=window.getComputedStyle(this._terminal.element),o=r-(parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom"))),a=i-(parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(a/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/e._renderService.dimensions.actualCellHeight))}}}},e}();t.FitAddon=r}},t={};return function r(i){if(t[i])return t[i].exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}(775)})()}));
//# sourceMappingURL=xterm-addon-fit.js.map

/***/ }),

/***/ "./node_modules/xterm/lib/xterm.js":
/*!*****************************************!*\
  !*** ./node_modules/xterm/lib/xterm.js ***!
  \*****************************************/
/***/ ((module) => {

!function(e,t){if(true)module.exports=t();else { var i, r; }}(self,(function(){return(()=>{"use strict";var e={4567:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var o=r(9042),s=r(6114),a=r(9924),c=r(3656),l=r(844),h=r(5596),u=r(9631),f=function(e){function t(t,r){var i=e.call(this)||this;i._terminal=t,i._renderService=r,i._liveRegionLineCount=0,i._charsToConsume=[],i._charsToAnnounce="",i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._accessibilityTreeRoot.tabIndex=0,i._rowContainer=document.createElement("div"),i._rowContainer.setAttribute("role","list"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowElements=[];for(var n=0;n<i._terminal.rows;n++)i._rowElements[n]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[n]);if(i._topBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,0)},i._bottomBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new a.TimeBasedDebouncer(i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),!i._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.onResize((function(e){return i._onResize(e.rows)}))),i.register(i._terminal.onRender((function(e){return i._refreshRows(e.start,e.end)}))),i.register(i._terminal.onScroll((function(){return i._refreshRows()}))),i.register(i._terminal.onA11yChar((function(e){return i._onChar(e)}))),i.register(i._terminal.onLineFeed((function(){return i._onChar("\n")}))),i.register(i._terminal.onA11yTab((function(e){return i._onTab(e)}))),i.register(i._terminal.onKey((function(e){return i._onKey(e.key)}))),i.register(i._terminal.onBlur((function(){return i._clearLiveRegion()}))),i.register(i._renderService.onDimensionsChange((function(){return i._refreshRowsDimensions()}))),i._screenDprMonitor=new h.ScreenDprMonitor,i.register(i._screenDprMonitor),i._screenDprMonitor.setListener((function(){return i._refreshRowsDimensions()})),i.register((0,c.addDisposableDomListener)(window,"resize",(function(){return i._refreshRowsDimensions()}))),i}return n(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),(0,u.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var r=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(r.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===i){var n,o;if(0===t?(n=r,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(n=this._rowElements.shift(),o=r,this._rowContainer.removeChild(n)),n.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&(0,u.removeElementFromParent)(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var r=this._terminal.buffer,i=r.lines.length.toString(),n=e;n<=t;n++){var o=r.translateBufferLineToString(r.ydisp+n,!0),s=(r.ydisp+n+1).toString(),a=this._rowElements[n];a&&(0===o.length?a.innerText="":a.textContent=o,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",i))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(l.Disposable);t.AccessibilityManager=f},3614:(e,t)=>{function r(e){return e.replace(/\r?\n/g,"\r")}function i(e,t){return t?"[200~"+e+"[201~":e}function n(e,t,n){e=i(e=r(e),n.decPrivateModes.bracketedPasteMode),n.triggerDataEvent(e,!0),t.value=""}function o(e,t,r){var i=r.getBoundingClientRect(),n=e.clientX-i.left-10,o=e.clientY-i.top-10;t.style.width="20px",t.style.height="20px",t.style.left=n+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=r,t.bracketTextForPaste=i,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,r){e.stopPropagation(),e.clipboardData&&n(e.clipboardData.getData("text/plain"),t,r)},t.paste=n,t.moveTextAreaUnderMouseCursor=o,t.rightClickHandler=function(e,t,r,i,n){o(e,t,r),n&&i.rightClickSelect(e),t.value=i.selectionText,t.select()}},7239:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var r=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,r){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=r},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,r){this._color[e]||(this._color[e]={}),this._color[e][t]=r},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=r},5680:function(e,t,r){var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorManager=t.DEFAULT_ANSI_COLORS=void 0;var n=r(8055),o=r(7239),s=n.css.toColor("#ffffff"),a=n.css.toColor("#000000"),c=n.css.toColor("#ffffff"),l=n.css.toColor("#000000"),h={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var e=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],r=0;r<216;r++){var i=t[r/36%6|0],o=t[r/6%6|0],s=t[r%6];e.push({css:n.channels.toCss(i,o,s),rgba:n.channels.toRgba(i,o,s)})}for(r=0;r<24;r++){var a=8+10*r;e.push({css:n.channels.toCss(a,a,a),rgba:n.channels.toRgba(a,a,a)})}return e}());var u=function(){function e(e,r){this.allowTransparency=r;var i=e.createElement("canvas");i.width=1,i.height=1;var u=i.getContext("2d");if(!u)throw new Error("Could not get rendering context");this._ctx=u,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new o.ColorContrastCache,this.colors={foreground:s,background:a,cursor:c,cursorAccent:l,selectionTransparent:h,selectionOpaque:n.color.blend(a,h),selectionForeground:void 0,ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,s),this.colors.background=this._parseColor(e.background,a),this.colors.cursor=this._parseColor(e.cursor,c,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,l,!0),this.colors.selectionTransparent=this._parseColor(e.selection,h,!0),this.colors.selectionOpaque=n.color.blend(this.colors.background,this.colors.selectionTransparent);var r={css:"",rgba:0};this.colors.selectionForeground=e.selectionForeground?this._parseColor(e.selectionForeground,r):void 0,this.colors.selectionForeground===r&&(this.colors.selectionForeground=void 0),n.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=n.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},e.prototype.restoreColor=function(e){if(void 0!==e)switch(e){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[e]=this._restoreColors.ansi[e]}else for(var t=0;t<this._restoreColors.ansi.length;++t)this.colors.ansi[t]=this._restoreColors.ansi[t]},e.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}},e.prototype._parseColor=function(e,t,r){if(void 0===r&&(r=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var o=this._ctx.getImageData(0,0,1,1).data;if(255!==o[3]){if(!r)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var s=i(this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),4),a=s[0],c=s[1],l=s[2],h=s[3],u=Math.round(255*h);return{rgba:n.channels.toRgba(a,c,l,u),css:e}}return{css:this._ctx.fillStyle,rgba:n.channels.toRgba(o[0],o[1],o[2],o[3])}},e}();t.ColorManager=u},9631:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.removeElementFromParent=void 0,t.removeElementFromParent=function(){for(var e,t,i,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var s=r(n),a=s.next();!a.done;a=s.next()){var c=a.value;null===(i=null==c?void 0:c.parentElement)||void 0===i||i.removeChild(c)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,r,i){e.addEventListener(t,r,i);var n=!1;return{dispose:function(){n||(n=!0,e.removeEventListener(t,r,i))}}}},3551:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var o=r(8460),s=r(2585),a=function(){function e(e,t,r){this._bufferService=e,this._logService=t,this._unicodeService=r,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new o.EventEmitter,this._onHideLinkUnderline=new o.EventEmitter,this._onLinkTooltip=new o.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,r){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=r):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,r)),this._mouseZoneManager.clearAll(t,r),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return i._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var r=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,i=Math.ceil(2e3/this._bufferService.cols),n=this._bufferService.buffer.iterator(!1,t,r,i,i);n.hasNext();)for(var o=n.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,r){if(void 0===r&&(r={}),!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:r.matchIndex,validationCallback:r.validationCallback,hoverTooltipCallback:r.tooltipCallback,hoverLeaveCallback:r.leaveCallback,willLinkActivate:r.willLinkActivate,priority:r.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,r){for(var i,n=this,o=new RegExp(r.regex.source,(r.regex.flags||"")+"g"),s=-1,a=function(){var a=i["number"!=typeof r.matchIndex?0:r.matchIndex];if(!a)return c._logService.debug("match found without corresponding matchIndex",i,r),"break";if(s=t.indexOf(a,s+1),o.lastIndex=s+a.length,s<0)return"break";var l=c._bufferService.buffer.stringIndexToBufferIndex(e,s);if(l[0]<0)return"break";var h=c._bufferService.buffer.lines.get(l[0]);if(!h)return"break";var u=h.getFg(l[1]),f=u?u>>9&511:void 0;r.validationCallback?r.validationCallback(a,(function(e){n._rowsTimeoutId||e&&n._addLink(l[1],l[0]-n._bufferService.buffer.ydisp,a,r,f)})):c._addLink(l[1],l[0]-c._bufferService.buffer.ydisp,a,r,f)},c=this;null!==(i=o.exec(t))&&"break"!==a(););},e.prototype._addLink=function(e,t,r,i,n){var o=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(r),a=e%this._bufferService.cols,l=t+Math.floor(e/this._bufferService.cols),h=(a+s)%this._bufferService.cols,u=l+Math.floor((a+s)/this._bufferService.cols);0===h&&(h=this._bufferService.cols,u--),this._mouseZoneManager.add(new c(a+1,l+1,h+1,u+1,(function(e){if(i.handler)return i.handler(e,r);var t=window.open();t?(t.opener=null,t.location.href=r):console.warn("Opening link blocked as opener could not be cleared")}),(function(){o._onShowLinkUnderline.fire(o._createLinkHoverEvent(a,l,h,u,n)),o._element.classList.add("xterm-cursor-pointer")}),(function(e){o._onLinkTooltip.fire(o._createLinkHoverEvent(a,l,h,u,n)),i.hoverTooltipCallback&&i.hoverTooltipCallback(e,r,{start:{x:a,y:l},end:{x:h,y:u}})}),(function(){o._onHideLinkUnderline.fire(o._createLinkHoverEvent(a,l,h,u,n)),o._element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()}),(function(e){return!i.willLinkActivate||i.willLinkActivate(e,r)})))}},e.prototype._createLinkHoverEvent=function(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}},e._timeBeforeLatency=200,e=i([n(0,s.IBufferService),n(1,s.ILogService),n(2,s.IUnicodeService)],e)}();t.Linkifier=a;var c=function(e,t,r,i,n,o,s,a,c){this.x1=e,this.y1=t,this.x2=r,this.y2=i,this.clickCallback=n,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=c};t.MouseZone=c},6465:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var l=r(2585),h=r(8460),u=r(844),f=r(3656),_=function(e){function t(t){var r=e.call(this)||this;return r._bufferService=t,r._linkProviders=[],r._linkCacheDisposables=[],r._isMouseOut=!0,r._activeLine=-1,r._onShowLinkUnderline=r.register(new h.EventEmitter),r._onHideLinkUnderline=r.register(new h.EventEmitter),r.register((0,u.getDisposeArrayDisposable)(r._linkCacheDisposables)),r}return n(t,e),Object.defineProperty(t.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var r=t._linkProviders.indexOf(e);-1!==r&&t._linkProviders.splice(r,1)}}},t.prototype.attachToDom=function(e,t,r){var i=this;this._element=e,this._mouseService=t,this._renderService=r,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",(function(){i._isMouseOut=!0,i._clearCurrentLink()}))),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var r=e.composedPath(),i=0;i<r.length;i++){var n=r[i];if(n.classList.contains("xterm"))break;if(n.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,t){var r,i,n,o,s=this;this._activeProviderReplies&&t||(null===(n=this._activeProviderReplies)||void 0===n||n.forEach((function(e){null==e||e.forEach((function(e){e.link.dispose&&e.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=e.y);var l=!1,h=function(r,i){t?(null===(o=u._activeProviderReplies)||void 0===o?void 0:o.get(r))&&(l=u._checkLinkProviderResult(r,e,l)):i.provideLinks(e.y,(function(t){var i,n;if(!s._isMouseOut){var o=null==t?void 0:t.map((function(e){return{link:e}}));null===(i=s._activeProviderReplies)||void 0===i||i.set(r,o),l=s._checkLinkProviderResult(r,e,l),(null===(n=s._activeProviderReplies)||void 0===n?void 0:n.size)===s._linkProviders.length&&s._removeIntersectingLinks(e.y,s._activeProviderReplies)}}))},u=this;try{for(var f=a(this._linkProviders.entries()),_=f.next();!_.done;_=f.next()){var d=c(_.value,2);h(d[0],d[1])}}catch(e){r={error:e}}finally{try{_&&!_.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}},t.prototype._removeIntersectingLinks=function(e,t){for(var r=new Set,i=0;i<t.size;i++){var n=t.get(i);if(n)for(var o=0;o<n.length;o++)for(var s=n[o],a=s.link.range.start.y<e?0:s.link.range.start.x,c=s.link.range.end.y>e?this._bufferService.cols:s.link.range.end.x,l=a;l<=c;l++){if(r.has(l)){n.splice(o--,1);break}r.add(l)}}},t.prototype._checkLinkProviderResult=function(e,t,r){var i,n=this;if(!this._activeProviderReplies)return r;for(var o=this._activeProviderReplies.get(e),s=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(s=!0);if(!s&&o){var c=o.find((function(e){return n._linkAtPosition(e.link,t)}));c&&(r=!0,this._handleNewLink(c))}if(this._activeProviderReplies.size===this._linkProviders.length&&!r)for(a=0;a<this._activeProviderReplies.size;a++){var l=null===(i=this._activeProviderReplies.get(a))||void 0===i?void 0:i.find((function(e){return n._linkAtPosition(e.link,t)}));if(l){r=!0,this._handleNewLink(l);break}}return r},t.prototype._handleMouseDown=function(){this._mouseDownLink=this._currentLink},t.prototype._handleMouseUp=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,u.disposeArray)(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var r=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);r&&this._linkAtPosition(e.link,r)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var e,r;return null===(r=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===r?void 0:r.decorations.pointerCursor},set:function(e){var r,i;(null===(r=t._currentLink)||void 0===r?void 0:r.state)&&t._currentLink.state.decorations.pointerCursor!==e&&(t._currentLink.state.decorations.pointerCursor=e,t._currentLink.state.isHovered&&(null===(i=t._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,r;return null===(r=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===r?void 0:r.decorations.underline},set:function(r){var i,n,o;(null===(i=t._currentLink)||void 0===i?void 0:i.state)&&(null===(o=null===(n=t._currentLink)||void 0===n?void 0:n.state)||void 0===o?void 0:o.decorations.underline)!==r&&(t._currentLink.state.decorations.underline=r,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,r))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((function(e){var r=0===e.start?0:e.start+1+t._bufferService.buffer.ydisp;t._clearCurrentLink(r,e.end+1+t._bufferService.buffer.ydisp)}))))}},t.prototype._linkHover=function(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)},t.prototype._fireUnderlineEvent=function(e,t){var r=e.range,i=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-i-1,r.end.x,r.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)},t.prototype._linkLeave=function(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)},t.prototype._linkAtPosition=function(e,t){var r=e.range.start.y===e.range.end.y,i=e.range.start.y<t.y,n=e.range.end.y>t.y;return(r&&e.range.start.x<=t.x&&e.range.end.x>=t.x||i&&e.range.end.x>=t.x||n&&e.range.start.x<=t.x||i&&n)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},t.prototype._positionFromMouseEvent=function(e,t,r){var i=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}},o([s(0,l.IBufferService)],t)}(u.Disposable);t.Linkifier2=_},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=r(844),c=r(3656),l=r(4725),h=r(2585),u=function(e){function t(t,r,i,n,o,s){var a=e.call(this)||this;return a._element=t,a._screenElement=r,a._bufferService=i,a._mouseService=n,a._selectionService=o,a._optionsService=s,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register((0,c.addDisposableDomListener)(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return n(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var r=0;r<this._zones.length;r++){var i=this._zones[r];(i.y1>e&&i.y1<=t+1||i.y2>e&&i.y2<=t+1||i.y1<e&&i.y2>t+1)&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(r--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,r=this._findZoneEventAt(e);r!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),r&&(this._currentZone=r,r.hoverCallback&&r.hoverCallback(e),this._tooltipTimeout=window.setTimeout((function(){return t._onTooltip(e)}),this._optionsService.rawOptions.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);null==t||t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),r=this._getSelectionLength();t&&r===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var r=t[0],i=t[1],n=0;n<this._zones.length;n++){var o=this._zones[n];if(o.y1===o.y2){if(i===o.y1&&r>=o.x1&&r<o.x2)return o}else if(i===o.y1&&r>=o.x1||i===o.y2&&r<o.x2||i>o.y1&&i<o.y2)return o}},o([s(2,h.IBufferService),s(3,l.IMouseService),s(4,l.ISelectionService),s(5,h.IOptionsService)],t)}(a.Disposable);t.MouseZoneManager=u},6193:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var i=function(){function e(e){this._renderCallback=e,this._refreshCallbacks=[]}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.addRefreshCallback=function(e){var t=this;return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return t._innerRefresh()}))),this._animationFrame},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return i._innerRefresh()})))},e.prototype._innerRefresh=function(){if(this._animationFrame=void 0,void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}else this._runRefreshCallbacks()},e.prototype._runRefreshCallbacks=function(){var e,t;try{for(var i=r(this._refreshCallbacks),n=i.next();!n.done;n=i.next())(0,n.value)(0)}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._refreshCallbacks=[]},e}();t.RenderDebouncer=i},5596:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return n(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(r(844).Disposable);t.ScreenDprMonitor=o},3236:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var c=r(2950),l=r(1680),h=r(3614),u=r(2584),f=r(5435),_=r(3525),d=r(3551),p=r(9312),v=r(6114),y=r(3656),g=r(9042),m=r(357),b=r(6954),S=r(4567),C=r(1296),w=r(7399),L=r(8460),E=r(8437),x=r(5680),R=r(3230),k=r(4725),M=r(428),A=r(8934),O=r(6465),D=r(5114),T=r(8969),B=r(8055),P=r(4269),I=r(5941),H=r(3107),j=r(5744),F=r(9074),W=r(2585),U="undefined"!=typeof window?window.document:null,q=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r.browser=v,r._keyDownHandled=!1,r._keyDownSeen=!1,r._keyPressHandled=!1,r._unprocessedDeadKey=!1,r._onCursorMove=new L.EventEmitter,r._onKey=new L.EventEmitter,r._onRender=new L.EventEmitter,r._onSelectionChange=new L.EventEmitter,r._onTitleChange=new L.EventEmitter,r._onBell=new L.EventEmitter,r._onFocus=new L.EventEmitter,r._onBlur=new L.EventEmitter,r._onA11yCharEmitter=new L.EventEmitter,r._onA11yTabEmitter=new L.EventEmitter,r._setup(),r.linkifier=r._instantiationService.createInstance(d.Linkifier),r.linkifier2=r.register(r._instantiationService.createInstance(O.Linkifier2)),r._decorationService=r._instantiationService.createInstance(F.DecorationService),r._instantiationService.setService(W.IDecorationService,r._decorationService),r.register(r._inputHandler.onRequestBell((function(){return r.bell()}))),r.register(r._inputHandler.onRequestRefreshRows((function(e,t){return r.refresh(e,t)}))),r.register(r._inputHandler.onRequestSendFocus((function(){return r._reportFocus()}))),r.register(r._inputHandler.onRequestReset((function(){return r.reset()}))),r.register(r._inputHandler.onRequestWindowsOptionsReport((function(e){return r._reportWindowsOptions(e)}))),r.register(r._inputHandler.onColor((function(e){return r._handleColorEvent(e)}))),r.register((0,L.forwardEvent)(r._inputHandler.onCursorMove,r._onCursorMove)),r.register((0,L.forwardEvent)(r._inputHandler.onTitleChange,r._onTitleChange)),r.register((0,L.forwardEvent)(r._inputHandler.onA11yChar,r._onA11yCharEmitter)),r.register((0,L.forwardEvent)(r._inputHandler.onA11yTab,r._onA11yTabEmitter)),r.register(r._bufferService.onResize((function(e){return r._afterResize(e.cols,e.rows)}))),r}return n(t,e),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),t.prototype._handleColorEvent=function(e){var t,r,i,n;if(this._colorManager){try{for(var c=o(e),l=c.next();!l.done;l=c.next()){var h=l.value,f=void 0,_="";switch(h.index){case 256:f="foreground",_="10";break;case 257:f="background",_="11";break;case 258:f="cursor",_="12";break;default:f="ansi",_="4;"+h.index}if(f)switch(h.type){case 0:var d=B.color.toColorRGB("ansi"===f?this._colorManager.colors.ansi[h.index]:this._colorManager.colors[f]);this.coreService.triggerDataEvent(u.C0.ESC+"]"+_+";"+(0,I.toRgbString)(d)+u.C1_ESCAPED.ST);break;case 1:"ansi"===f?this._colorManager.colors.ansi[h.index]=B.rgba.toColor.apply(B.rgba,a([],s(h.color),!1)):this._colorManager.colors[f]=B.rgba.toColor.apply(B.rgba,a([],s(h.color),!1));break;case 2:this._colorManager.restoreColor(h.index)}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(n=this.viewport)||void 0===n||n.onThemeChange(this._colorManager.colors)}},t.prototype.dispose=function(){var t,r,i;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._renderService)||void 0===t||t.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(i=null===(r=this.element)||void 0===r?void 0:r.parentNode)||void 0===i||i.removeChild(this.element))},t.prototype._setup=function(){e.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._updateOptions=function(t){var r,i,n,o;switch(e.prototype._updateOptions.call(this,t),t){case"fontFamily":case"fontSize":null===(r=this._renderService)||void 0===r||r.clear(),null===(i=this._charSizeService)||void 0===i||i.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(n=this.viewport)||void 0===n||n.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new S.AccessibilityManager(this,this._renderService)):(null===(o=this._accessibilityManager)||void 0===o||o.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},t.prototype._onTextAreaFocus=function(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},t.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(t){var r=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.actualCellHeight,n=t.getWidth(r),o=this._renderService.dimensions.actualCellWidth*n,s=this.buffer.y*this._renderService.dimensions.actualCellHeight,a=r*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=a+"px",this.textarea.style.top=s+"px",this.textarea.style.width=o+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}}},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register((0,y.addDisposableDomListener)(this.element,"copy",(function(t){e.hasSelection()&&(0,h.copyHandler)(t,e._selectionService)})));var t=function(t){return(0,h.handlePasteEvent)(t,e.textarea,e.coreService)};this.register((0,y.addDisposableDomListener)(this.textarea,"paste",t)),this.register((0,y.addDisposableDomListener)(this.element,"paste",t)),v.isFirefox?this.register((0,y.addDisposableDomListener)(this.element,"mousedown",(function(t){2===t.button&&(0,h.rightClickHandler)(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register((0,y.addDisposableDomListener)(this.element,"contextmenu",(function(t){(0,h.rightClickHandler)(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),v.isLinux&&this.register((0,y.addDisposableDomListener)(this.element,"auxclick",(function(t){1===t.button&&(0,h.moveTextAreaUnderMouseCursor)(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register((0,y.addDisposableDomListener)(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register((0,y.addDisposableDomListener)(this.textarea,"input",(function(t){return e._inputEvent(t)}),!0)),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var r=U.createDocumentFragment();this._viewportElement=U.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),r.appendChild(this._viewportElement),this._viewportScrollArea=U.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=U.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=U.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),r.appendChild(this.screenElement),this.textarea=U.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,y.addDisposableDomListener)(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register((0,y.addDisposableDomListener)(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var i=this._instantiationService.createInstance(D.CoreBrowserService,this.textarea);this._instantiationService.setService(k.ICoreBrowserService,i),this._charSizeService=this._instantiationService.createInstance(M.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new x.ColorManager(U,this.options.allowTransparency),this.register(this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)}))),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(P.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService);var n=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(R.RenderService,n,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((function(e){return t._onRender.fire(e)}))),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._compositionView=U.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(r),this._soundService=this._instantiationService.createInstance(m.SoundService),this._instantiationService.setService(k.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,(function(e){return t.scrollLines(e,!0,1)}),this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar((function(){return t.viewport.syncScrollArea()}))),this.register(this.viewport),this.register(this.onCursorMove((function(){t._renderService.onCursorMove(),t._syncTextArea()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this.register(this._instantiationService.createInstance(p.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((function(e){return t.scrollLines(e.amount,e.suppressScrollEvent)}))),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRequestRedraw((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this._onScroll.event((function(e){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(b.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(H.BufferDecorationRenderer,this.screenElement)),this.register((0,y.addDisposableDomListener)(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new S.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this._instantiationService.createInstance(j.OverviewRulerRenderer,this._viewportElement,this.screenElement)),this.optionsService.onOptionChange((function(){!t._overviewRulerRenderer&&t.options.overviewRulerWidth&&t._viewportElement&&t.screenElement&&(t._overviewRulerRenderer=t._instantiationService.createInstance(j.OverviewRulerRenderer,t._viewportElement,t.screenElement))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(_.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(C.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,r,i;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(r=this._renderService)||void 0===r||r.setColors(this._colorManager.colors),null===(i=this.viewport)||void 0===i||i.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,r=this.element;function i(e){var r,i,n=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!n)return!1;switch(e.overrideType||e.type){case"mousemove":i=32,void 0===e.buttons?(r=3,void 0!==e.button&&(r=e.button<3?e.button:3)):r=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":i=0,r=e.button<3?e.button:3;break;case"mousedown":i=1,r=e.button<3?e.button:3;break;case"wheel":if(0===t.viewport.getLinesScrolled(e))return!1;i=e.deltaY<0?0:1,r=4;break;default:return!1}return!(void 0===i||void 0===r||r>4)&&t.coreMouseService.triggerMouseEvent({col:n.x-33,row:n.y-33,button:r,action:i,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o=function(t){return i(t),t.buttons||(e._document.removeEventListener("mouseup",n.mouseup),n.mousedrag&&e._document.removeEventListener("mousemove",n.mousedrag)),e.cancel(t)},s=function(t){return i(t),e.cancel(t,!0)},a=function(e){e.buttons&&i(e)},c=function(e){e.buttons||i(e)};this.register(this.coreMouseService.onProtocolChange((function(t){t?("debug"===e.optionsService.rawOptions.logLevel&&e._logService.debug("Binding to mouse events:",e.coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?n.mousemove||(r.addEventListener("mousemove",c),n.mousemove=c):(r.removeEventListener("mousemove",n.mousemove),n.mousemove=null),16&t?n.wheel||(r.addEventListener("wheel",s,{passive:!1}),n.wheel=s):(r.removeEventListener("wheel",n.wheel),n.wheel=null),2&t?n.mouseup||(n.mouseup=o):(e._document.removeEventListener("mouseup",n.mouseup),n.mouseup=null),4&t?n.mousedrag||(n.mousedrag=a):(e._document.removeEventListener("mousemove",n.mousedrag),n.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,y.addDisposableDomListener)(r,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e.coreMouseService.areMouseEventsActive&&!e._selectionService.shouldForceSelection(t))return i(t),n.mouseup&&e._document.addEventListener("mouseup",n.mouseup),n.mousedrag&&e._document.addEventListener("mousemove",n.mousedrag),e.cancel(t)}))),this.register((0,y.addDisposableDomListener)(r,"wheel",(function(t){if(!n.wheel){if(!e.buffer.hasScrollback){var r=e.viewport.getLinesScrolled(t);if(0===r)return;for(var i=u.C0.ESC+(e.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(r);s++)o+=i;return e.coreService.triggerDataEvent(o,!0),e.cancel(t,!0)}return e.viewport.onWheel(t)?e.cancel(t):void 0}}),{passive:!1})),this.register((0,y.addDisposableDomListener)(r,"touchstart",(function(t){if(!e.coreMouseService.areMouseEventsActive)return e.viewport.onTouchStart(t),e.cancel(t)}),{passive:!0})),this.register((0,y.addDisposableDomListener)(r,"touchmove",(function(t){if(!e.coreMouseService.areMouseEventsActive)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)}),{passive:!1}))},t.prototype.refresh=function(e,t){var r;null===(r=this._renderService)||void 0===r||r.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var r;null===(r=this.linkifier)||void 0===r||r.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scrollLines=function(t,r,i){void 0===i&&(i=0),e.prototype.scrollLines.call(this,t,r,i),this.refresh(0,this.rows-1)},t.prototype.paste=function(e){(0,h.paste)(e,this.textarea,this.coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,r){var i=this.linkifier.registerLinkMatcher(e,t,r);return this.refresh(0,this.rows-1),i},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.registerDecoration=function(e){return this._decorationService.registerDecoration(e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,r){this._selectionService.setSelection(e,t,r)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var r;null===(r=this._selectionService)||void 0===r||r.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;var t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);var r=(0,w.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===r.type||2===r.type){var i=this.rows-1;return this.scrollLines(2===r.type?-i:i),this.cancel(e,!0)}return 1===r.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(r.key!==u.C0.ETX&&r.key!==u.C0.CR||(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0))))},t.prototype._isThirdLevelShift=function(e,t){var r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?r:r&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)},t.prototype._keyPress=function(e){var t;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},t.prototype._inputEvent=function(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1},t.prototype.bell=function(){var e;this._soundBell()&&(null===(e=this._soundService)||void 0===e||e.playBellSound()),this._onBell.fire()},t.prototype.resize=function(t,r){t!==this.cols||r!==this.rows?e.prototype.resize.call(this,t,r):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},t.prototype._afterResize=function(e,t){var r,i;null===(r=this._charSizeService)||void 0===r||r.measure(),null===(i=this.viewport)||void 0===i||i.syncScrollArea(!0)},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(E.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},t.prototype.reset=function(){var t,r;this.options.rows=this.rows,this.options.cols=this.cols;var i=this._customKeyEventHandler;this._setup(),e.prototype.reset.call(this),null===(t=this._selectionService)||void 0===t||t.reset(),this._decorationService.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1),null===(r=this.viewport)||void 0===r||r.syncScrollArea()},t.prototype.clearTextureAtlas=function(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()},t.prototype._reportFocus=function(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(u.C0.ESC+"[I"):this.coreService.triggerDataEvent(u.C0.ESC+"[O")},t.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case f.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),r=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(u.C0.ESC+"[4;"+r+";"+t+"t");break;case f.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var i=this._renderService.dimensions.scaledCellWidth.toFixed(0),n=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(u.C0.ESC+"[6;"+n+";"+i+"t")}},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(T.CoreTerminal);t.Terminal=q},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0;var r=function(){function e(e,t){void 0===t&&(t=1e3),this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return e.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;var n=Date.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){var o=n-this._lastRefreshMs,s=this._debounceThresholdMS-o;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((function(){i._lastRefreshMs=Date.now(),i._innerRefresh(),i._additionalRefreshRequested=!1,i._refreshTimeoutID=void 0}),s)}},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},e}();t.TimeBasedDebouncer=r},1680:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=r(844),c=r(3656),l=r(4725),h=r(2585),u=function(e){function t(t,r,i,n,o,s,a,l){var h=e.call(this)||this;return h._scrollLines=t,h._viewportElement=r,h._scrollArea=i,h._element=n,h._bufferService=o,h._optionsService=s,h._charSizeService=a,h._renderService=l,h.scrollBarWidth=0,h._currentRowHeight=0,h._currentScaledCellHeight=0,h._lastRecordedBufferLength=0,h._lastRecordedViewportHeight=0,h._lastRecordedBufferHeight=0,h._lastTouchY=0,h._lastScrollTop=0,h._wheelPartialScroll=0,h._refreshAnimationFrame=null,h._ignoreNextScrollEvent=!1,h.scrollBarWidth=h._viewportElement.offsetWidth-h._scrollArea.offsetWidth||15,h.register((0,c.addDisposableDomListener)(h._viewportElement,"scroll",h._onScroll.bind(h))),h._activeBuffer=h._bufferService.buffer,h.register(h._bufferService.buffers.onBufferActivate((function(e){return h._activeBuffer=e.activeBuffer}))),h._renderDimensions=h._renderService.dimensions,h.register(h._renderService.onDimensionsChange((function(e){return h._renderDimensions=e}))),setTimeout((function(){return h.syncScrollArea()}),0),h}return n(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t)}},t.prototype._bubbleScroll=function(e,t){var r=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&r<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var r=this._optionsService.rawOptions.fastScrollModifier;return"alt"===r&&t.altKey||"ctrl"===r&&t.ctrlKey||"shift"===r&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([s(4,h.IBufferService),s(5,h.IOptionsService),s(6,l.ICharSizeService),s(7,l.IRenderService)],t)}(a.Disposable);t.Viewport=u},3107:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;var c=r(3656),l=r(4725),h=r(844),u=r(2585),f=function(e){function t(t,r,i,n){var o=e.call(this)||this;return o._screenElement=t,o._bufferService=r,o._decorationService=i,o._renderService=n,o._decorationElements=new Map,o._altBufferIsActive=!1,o._dimensionsChanged=!1,o._container=document.createElement("div"),o._container.classList.add("xterm-decoration-container"),o._screenElement.appendChild(o._container),o.register(o._renderService.onRenderedViewportChange((function(){return o._queueRefresh()}))),o.register(o._renderService.onDimensionsChange((function(){o._dimensionsChanged=!0,o._queueRefresh()}))),o.register((0,c.addDisposableDomListener)(window,"resize",(function(){return o._queueRefresh()}))),o.register(o._bufferService.buffers.onBufferActivate((function(){o._altBufferIsActive=o._bufferService.buffer===o._bufferService.buffers.alt}))),o.register(o._decorationService.onDecorationRegistered((function(){return o._queueRefresh()}))),o.register(o._decorationService.onDecorationRemoved((function(e){return o._removeDecoration(e)}))),o}return n(t,e),t.prototype.dispose=function(){this._container.remove(),this._decorationElements.clear(),e.prototype.dispose.call(this)},t.prototype._queueRefresh=function(){var e=this;void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback((function(){e.refreshDecorations(),e._animationFrame=void 0})))},t.prototype.refreshDecorations=function(){var e,t;try{for(var r=a(this._decorationService.decorations),i=r.next();!i.done;i=r.next()){var n=i.value;this._renderDecoration(n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._dimensionsChanged=!1},t.prototype._renderDecoration=function(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)},t.prototype._createElement=function(e){var t,r=document.createElement("div");r.classList.add("xterm-decoration"),r.style.width=Math.round((e.options.width||1)*this._renderService.dimensions.actualCellWidth)+"px",r.style.height=(e.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",r.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",r.style.lineHeight=this._renderService.dimensions.actualCellHeight+"px";var i=null!==(t=e.options.x)&&void 0!==t?t:0;return i&&i>this._bufferService.cols&&(r.style.display="none"),this._refreshXPosition(e,r),r},t.prototype._refreshStyle=function(e){var t=this,r=e.marker.line-this._bufferService.buffers.active.ydisp;if(r<0||r>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{var i=this._decorationElements.get(e);i||(e.onDispose((function(){return t._removeDecoration(e)})),i=this._createElement(e),e.element=i,this._decorationElements.set(e,i),this._container.appendChild(i)),i.style.top=r*this._renderService.dimensions.actualCellHeight+"px",i.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(i)}},t.prototype._refreshXPosition=function(e,t){var r;if(void 0===t&&(t=e.element),t){var i=null!==(r=e.options.x)&&void 0!==r?r:0;"right"===(e.options.anchor||"left")?t.style.right=i?i*this._renderService.dimensions.actualCellWidth+"px":"":t.style.left=i?i*this._renderService.dimensions.actualCellWidth+"px":""}},t.prototype._removeDecoration=function(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e)},o([s(1,u.IBufferService),s(2,u.IDecorationService),s(3,l.IRenderService)],t)}(h.Disposable);t.BufferDecorationRenderer=f},5871:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0;var i=function(){function e(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}return Object.defineProperty(e.prototype,"zones",{get:function(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._zones.length=0,this._zonePoolIndex=0},e.prototype.addDecoration=function(e){var t,i;if(e.options.overviewRulerOptions){try{for(var n=r(this._zones),o=n.next();!o.done;o=n.next()){var s=o.value;if(s.color===e.options.overviewRulerOptions.color&&s.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(s,e.marker.line))return;if(this._lineAdjacentToZone(s,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(s,e.marker.line)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}},e.prototype.setPadding=function(e){this._linePadding=e},e.prototype._lineIntersectsZone=function(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine},e.prototype._lineAdjacentToZone=function(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]},e.prototype._addLineToZone=function(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)},e}();t.ColorZoneStore=i},5744:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;var c=r(5871),l=r(3656),h=r(4725),u=r(844),f=r(2585),_={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},v=function(e){function t(t,r,i,n,o,s){var a,l=e.call(this)||this;l._viewportElement=t,l._screenElement=r,l._bufferService=i,l._decorationService=n,l._renderService=o,l._optionsService=s,l._colorZoneStore=new c.ColorZoneStore,l._shouldUpdateDimensions=!0,l._shouldUpdateAnchor=!0,l._lastKnownBufferLength=0,l._canvas=document.createElement("canvas"),l._canvas.classList.add("xterm-decoration-overview-ruler"),l._refreshCanvasDimensions(),null===(a=l._viewportElement.parentElement)||void 0===a||a.insertBefore(l._canvas,l._viewportElement);var h=l._canvas.getContext("2d");if(!h)throw new Error("Ctx cannot be null");return l._ctx=h,l._registerDecorationListeners(),l._registerBufferChangeListeners(),l._registerDimensionChangeListeners(),l}return n(t,e),Object.defineProperty(t.prototype,"_width",{get:function(){return this._optionsService.options.overviewRulerWidth||0},enumerable:!1,configurable:!0}),t.prototype._registerDecorationListeners=function(){var e=this;this.register(this._decorationService.onDecorationRegistered((function(){return e._queueRefresh(void 0,!0)}))),this.register(this._decorationService.onDecorationRemoved((function(){return e._queueRefresh(void 0,!0)})))},t.prototype._registerBufferChangeListeners=function(){var e=this;this.register(this._renderService.onRenderedViewportChange((function(){return e._queueRefresh()}))),this.register(this._bufferService.buffers.onBufferActivate((function(){e._canvas.style.display=e._bufferService.buffer===e._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((function(){e._lastKnownBufferLength!==e._bufferService.buffers.normal.lines.length&&(e._refreshDrawHeightConstants(),e._refreshColorZonePadding())})))},t.prototype._registerDimensionChangeListeners=function(){var e=this;this.register(this._renderService.onRender((function(){e._containerHeight&&e._containerHeight===e._screenElement.clientHeight||(e._queueRefresh(!0),e._containerHeight=e._screenElement.clientHeight)}))),this.register(this._optionsService.onOptionChange((function(t){"overviewRulerWidth"===t&&e._queueRefresh(!0)}))),this.register((0,l.addDisposableDomListener)(window,"resize",(function(){e._queueRefresh(!0)}))),this._queueRefresh(!0)},t.prototype.dispose=function(){var t;null===(t=this._canvas)||void 0===t||t.remove(),e.prototype.dispose.call(this)},t.prototype._refreshDrawConstants=function(){var e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=e,d.center=t,d.right=e,this._refreshDrawHeightConstants(),p.full=0,p.left=0,p.center=d.left,p.right=d.left+d.center},t.prototype._refreshDrawHeightConstants=function(){_.full=Math.round(2*window.devicePixelRatio);var e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*window.devicePixelRatio);_.left=t,_.center=t,_.right=t},t.prototype._refreshColorZonePadding=function(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length},t.prototype._refreshCanvasDimensions=function(){this._canvas.style.width=this._width+"px",this._canvas.width=Math.round(this._width*window.devicePixelRatio),this._canvas.style.height=this._screenElement.clientHeight+"px",this._canvas.height=Math.round(this._screenElement.clientHeight*window.devicePixelRatio),this._refreshDrawConstants(),this._refreshColorZonePadding()},t.prototype._refreshDecorations=function(){var e,t,r,i,n,o;this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();try{for(var s=a(this._decorationService.decorations),c=s.next();!c.done;c=s.next()){var l=c.value;this._colorZoneStore.addDecoration(l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this._ctx.lineWidth=1;var h=this._colorZoneStore.zones;try{for(var u=a(h),f=u.next();!f.done;f=u.next())"full"!==(p=f.value).position&&this._renderColorZone(p)}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}try{for(var _=a(h),d=_.next();!d.done;d=_.next()){var p;"full"===(p=d.value).position&&this._renderColorZone(p)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1},t.prototype._renderColorZone=function(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(p[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-_[e.position||"full"]/2),d[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+_[e.position||"full"]))},t.prototype._queueRefresh=function(e,t){var r=this;this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=window.requestAnimationFrame((function(){r._refreshDecorations(),r._animationFrame=void 0})))},o([s(2,f.IBufferService),s(3,f.IDecorationService),s(4,h.IRenderService),s(5,f.IOptionsService)],t)}(u.Disposable);t.OverviewRulerRenderer=v},2950:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var o=r(4725),s=r(2585),a=function(){function e(e,t,r,i,n,o){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=i,this._coreService=n,this._renderService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(e.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){var r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){if(t._isSendingComposition){t._isSendingComposition=!1;var e;r.start+=t._dataAlreadySent.length,(e=t._isComposing?t._textarea.value.substring(r.start,r.end):t._textarea.value.substring(r.start)).length>0&&t._coreService.triggerDataEvent(e,!0)}}),0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var r=e._textarea.value.replace(t,"");r.length>0&&(e._dataAlreadySent=r,e._coreService.triggerDataEvent(r,!0))}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),i=this._renderService.dimensions.actualCellHeight,n=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,o=r*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=o+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var s=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=n+"px",this._textarea.style.width=Math.max(s.width,1)+"px",this._textarea.style.height=Math.max(s.height,1)+"px",this._textarea.style.lineHeight=s.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},i([n(2,s.IBufferService),n(3,s.IOptionsService),n(4,s.ICoreService),n(5,o.IRenderService)],e)}();t.CompositionHelper=a},9806:(e,t)=>{function r(e,t,r){var i=r.getBoundingClientRect(),n=e.getComputedStyle(r),o=parseInt(n.getPropertyValue("padding-left")),s=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-i.left-o,t.clientY-i.top-s]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,i,n,o,s,a,c,l){if(s){var h=r(e,t,i);if(h)return h[0]=Math.ceil((h[0]+(l?a/2:0))/a),h[1]=Math.ceil(h[1]/c),h[0]=Math.min(Math.max(h[0],1),n+(l?1:0)),h[1]=Math.min(Math.max(h[1],1),o),h}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},9504:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var i=r(2584);function n(e,t,r,i){var n=e-o(r,e),a=t-o(r,t),h=Math.abs(n-a)-function(e,t,r){for(var i=0,n=e-o(r,e),a=t-o(r,t),c=0;c<Math.abs(n-a);c++){var l="A"===s(e,t)?-1:1,h=r.buffer.lines.get(n+l*c);(null==h?void 0:h.isWrapped)&&i++}return i}(e,t,r);return l(h,c(s(e,t),i))}function o(e,t){for(var r=0,i=e.buffer.lines.get(t),n=null==i?void 0:i.isWrapped;n&&t>=0&&t<e.rows;)r++,n=null==(i=e.buffer.lines.get(--t))?void 0:i.isWrapped;return r}function s(e,t){return e>t?"A":"B"}function a(e,t,r,i,n,o){for(var s=e,a=t,c="";s!==r||a!==i;)s+=n?1:-1,n&&s>o.cols-1?(c+=o.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!n&&s<0&&(c+=o.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=o.cols-1,a--);return c+o.buffer.translateBufferLineToString(a,!1,e,s)}function c(e,t){var r=t?"O":"[";return i.C0.ESC+r+e}function l(e,t){e=Math.floor(e);for(var r="",i=0;i<e;i++)r+=t;return r}t.moveToCellSequence=function(e,t,r,i){var s,h=r.buffer.x,u=r.buffer.y;if(!r.buffer.hasScrollback)return function(e,t,r,i,s,h){return 0===n(t,i,s,h).length?"":l(a(e,t,e,t-o(s,t),!1,s).length,c("D",h))}(h,u,0,t,r,i)+n(u,t,r,i)+function(e,t,r,i,s,h){var u;u=n(t,i,s,h).length>0?i-o(s,i):t;var f=i,_=function(e,t,r,i,s,a){var c;return c=n(r,i,s,a).length>0?i-o(s,i):t,e<r&&c<=i||e>=r&&c<i?"C":"D"}(e,t,r,i,s,h);return l(a(e,u,r,f,"C"===_,s).length,c(_,h))}(h,u,e,t,r,i);if(u===t)return s=h>e?"D":"C",l(Math.abs(h-e),c(s,i));s=u>t?"D":"C";var f=Math.abs(u-t);return l(function(e,t){return t.cols-e}(u>t?e:h,r)+(f-1)*r.cols+1+((u>t?h:e)-1),c(s,i))}},4389:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var o=r(3236),s=r(9042),a=r(7975),c=r(7090),l=r(5741),h=r(8285),u=["cols","rows"],f=function(){function e(e){var t=this;this._core=new o.Terminal(e),this._addonManager=new l.AddonManager,this._publicOptions=i({},this._core.options);var r=function(e){return t._core.options[e]},n=function(e,r){t._checkReadonlyOptions(e),t._core.options[e]=r};for(var s in this._core.options){var a={get:r.bind(this,s),set:n.bind(this,s)};Object.defineProperty(this._publicOptions,s,a)}}return e.prototype._checkReadonlyOptions=function(e){if(u.includes(e))throw new Error('Option "'+e+'" can only be set in the constructor')},e.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onWriteParsed",{get:function(){return this._core.onWriteParsed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new a.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new c.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new h.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modes",{get:function(){var e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._publicOptions},set:function(e){for(var t in e)this._publicOptions[t]=e[t]},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,r){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,r)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return void 0===e&&(e=0),this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.registerDecoration=function(e){var t,r,i;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(r=e.width)&&void 0!==r?r:0,null!==(i=e.height)&&void 0!==i?i:0),this._core.registerDecoration(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._checkReadonlyOptions(e),this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return s},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var o=n(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(a===1/0||isNaN(a)||a%1!=0)throw new Error("This API only accepts integers")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype._verifyPositiveIntegers=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var o=n(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(a&&(a===1/0||isNaN(a)||a%1!=0||a<0))throw new Error("This API only accepts positive integers")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}();t.Terminal=f},1546:function(e,t,r){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var n=r(643),o=r(8803),s=r(1420),a=r(3734),c=r(1752),l=r(8055),h=r(9631),u=r(8978),f=function(){function e(e,t,r,i,n,o,s,a,c){this._container=e,this._alpha=i,this._colors=n,this._rendererId=o,this._bufferService=s,this._optionsService=a,this._decorationService=c,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._columnSelectMode=!1,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;(0,h.removeElementFromParent)(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=(0,c.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,s.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype.clearTextureAtlas=function(){var e;null===(e=this._charAtlas)||void 0===e||e.clear()},e.prototype._fillCells=function(e,t,r,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype._fillMiddleLineAtCells=function(e,t,r){void 0===r&&(r=1);var i=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-i-window.devicePixelRatio,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillBottomLineAtCells=function(e,t,r){void 0===r&&(r=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,r){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*r,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,r,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,r,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,r){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=o.TEXT_BASELINE,this._clipRow(r);var i=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(i=(0,u.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),i||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},e.prototype._drawChars=function(e,t,r){var s,a,c,l=this._getContrastColor(e,t,r);if(l||e.isFgRGB()||e.isBgRGB())this._drawUncachedChars(e,t,r,l);else{var h,u;e.isInverse()?(h=e.isBgDefault()?o.INVERTED_DEFAULT_COLOR:e.getBgColor(),u=e.isFgDefault()?o.INVERTED_DEFAULT_COLOR:e.getFgColor()):(u=e.isBgDefault()?n.DEFAULT_COLOR:e.getBgColor(),h=e.isFgDefault()?n.DEFAULT_COLOR:e.getFgColor()),h+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&h<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||n.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||n.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=u,this._currentGlyphIdentifier.fg=h,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic();var f=!1;try{for(var _=i(this._decorationService.getDecorationsAtCell(t,r)),d=_.next();!d.done;d=_.next()){var p=d.value;if(p.backgroundColorRGB||p.foregroundColorRGB){f=!0;break}}}catch(e){s={error:e}}finally{try{d&&!d.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}!f&&(null===(c=this._charAtlas)||void 0===c?void 0:c.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(e,t,r)}},e.prototype._drawUncachedChars=function(e,t,r,i){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline=o.TEXT_BASELINE,e.isInverse())if(i)this._ctx.fillStyle=i.css;else if(e.isBgDefault())this._ctx.fillStyle=l.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var n=e.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),this._ctx.fillStyle=this._colors.ansi[n].css}else if(i)this._ctx.fillStyle=i.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var s=e.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&s<8&&(s+=8),this._ctx.fillStyle=this._colors.ansi[s].css}this._clipRow(r),e.isDim()&&(this._ctx.globalAlpha=o.DIM_OPACITY);var c=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(c=(0,u.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),c||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},e.prototype._getContrastColor=function(e,t,r){var n,o,s,a,h=!1;try{for(var u=i(this._decorationService.getDecorationsAtCell(t,r)),f=u.next();!f.done;f=u.next()){var _=f.value;"top"!==_.options.layer&&h||(_.backgroundColorRGB&&(s=_.backgroundColorRGB.rgba),_.foregroundColorRGB&&(a=_.foregroundColorRGB.rgba),h="top"===_.options.layer)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}if(h||this._colors.selectionForeground&&this._isCellInSelection(t,r)&&(a=this._colors.selectionForeground.rgba),s||a||1!==this._optionsService.rawOptions.minimumContrastRatio&&!(0,c.excludeFromContrastRatioDemands)(e.getCode())){if(!s&&!a){var d=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==d)return d||void 0}var p=e.getFgColor(),v=e.getFgColorMode(),y=e.getBgColor(),g=e.getBgColorMode(),m=!!e.isInverse(),b=!!e.isInverse();if(m){var S=p;p=y,y=S;var C=v;v=g,g=C}var w=this._resolveBackgroundRgba(void 0!==s?50331648:g,null!=s?s:y,m),L=this._resolveForegroundRgba(v,p,m,b),E=l.rgba.ensureContrastRatio(null!=s?s:w,null!=a?a:L,this._optionsService.rawOptions.minimumContrastRatio);if(!E){if(!a)return void this._colors.contrastCache.setColor(e.bg,e.fg,null);E=a}var x={css:l.channels.toCss(E>>24&255,E>>16&255,E>>8&255),rgba:E};return s||a||this._colors.contrastCache.setColor(e.bg,e.fg,x),x}},e.prototype._resolveBackgroundRgba=function(e,t,r){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return r?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,r,i){switch(e){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&i&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return r?this._colors.background.rgba:this._colors.foreground.rgba}},e.prototype._isCellInSelection=function(e,t){var r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?e>=r[0]&&t>=r[1]&&e<i[0]&&t<i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])},e}();t.BaseRenderLayer=f},2512:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var a=r(1546),c=r(511),l=r(2585),h=r(4725),u=600,f=function(e){function t(t,r,i,n,o,s,a,l,h,u){var f=e.call(this,t,"cursor",r,!0,i,n,s,a,u)||this;return f._onRequestRedraw=o,f._coreService=l,f._coreBrowserService=h,f._cell=new c.CellData,f._state={x:0,y:0,isFocused:!1,style:"",width:0},f._cursorRenderers={bar:f._renderBarCursor.bind(f),block:f._renderBlockCursor.bind(f),underline:f._renderUnderlineCursor.bind(f)},f}return n(t,e),t.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){var e;this._clearCursor(),null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation(),this.onOptionsChanged()},t.prototype.onBlur=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new _(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,r=t-this._bufferService.buffer.ydisp;if(r<0||r>=this._bufferService.rows)this._clearCursor();else{var i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(i,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var n=this._optionsService.rawOptions.cursorStyle;return n&&"block"!==n?this._cursorRenderers[n](i,r,this._cell):this._renderBlurCursor(i,r,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=r,this._state.isFocused=!1,this._state.style=n,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===i&&this._state.y===r&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](i,r,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=r,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,r.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(r,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,r){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,r.getWidth(),1),this._ctx.restore()},o([s(5,l.IBufferService),s(6,l.IOptionsService),s(7,l.ICoreService),s(8,h.ICoreBrowserService),s(9,l.IDecorationService)],t)}(a.BaseRenderLayer);t.CursorRenderLayer=f;var _=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=u),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=u-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=u-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),u)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:function(e,t,r){var i,n,o,s,a,c,l,h,u,f,_,d,p,v,y,g,m,b,S,C,w,L,E,x,R,k,M,A,O,D,T,B,P,I,H,j,F,W,U,q,N,z,K,G,V,X,Z,Y,J,$,Q,ee,te,re,ie,ne,oe,se,ae,ce,le,he,ue,fe,_e,de,pe,ve,ye,ge,me,be,Se,Ce,we,Le,Ee,xe,Re,ke,Me,Ae,Oe,De,Te,Be,Pe,Ie,He,je,Fe,We,Ue,qe,Ne,ze,Ke,Ge,Ve,Xe,Ze,Ye,Je,$e,Qe,et,tt,rt,it,nt,ot,st,at,ct,lt,ht,ut,ft,_t,dt,pt,vt,yt,gt,mt,bt,St,Ct,wt=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},Lt=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.tryDrawCustomChar=t.powerlineDefinitions=t.boxDrawingDefinitions=t.blockElementDefinitions=void 0;var Et=r(1752);t.blockElementDefinitions={"":[{x:0,y:0,w:8,h:4}],"":[{x:0,y:7,w:8,h:1}],"":[{x:0,y:6,w:8,h:2}],"":[{x:0,y:5,w:8,h:3}],"":[{x:0,y:4,w:8,h:4}],"":[{x:0,y:3,w:8,h:5}],"":[{x:0,y:2,w:8,h:6}],"":[{x:0,y:1,w:8,h:7}],"":[{x:0,y:0,w:8,h:8}],"":[{x:0,y:0,w:7,h:8}],"":[{x:0,y:0,w:6,h:8}],"":[{x:0,y:0,w:5,h:8}],"":[{x:0,y:0,w:4,h:8}],"":[{x:0,y:0,w:3,h:8}],"":[{x:0,y:0,w:2,h:8}],"":[{x:0,y:0,w:1,h:8}],"":[{x:4,y:0,w:4,h:8}],"":[{x:0,y:0,w:9,h:1}],"":[{x:7,y:0,w:1,h:8}],"":[{x:0,y:4,w:4,h:4}],"":[{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"":[{x:4,y:0,w:4,h:4}],"":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:1,y:0,w:1,h:8}],"":[{x:2,y:0,w:1,h:8}],"":[{x:3,y:0,w:1,h:8}],"":[{x:4,y:0,w:1,h:8}],"":[{x:5,y:0,w:1,h:8}],"":[{x:6,y:0,w:1,h:8}],"":[{x:0,y:1,w:8,h:1}],"":[{x:0,y:2,w:8,h:1}],"":[{x:0,y:3,w:8,h:1}],"":[{x:0,y:4,w:8,h:1}],"":[{x:0,y:5,w:8,h:1}],"":[{x:0,y:6,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:2}],"":[{x:0,y:0,w:8,h:3}],"":[{x:0,y:0,w:8,h:5}],"":[{x:0,y:0,w:8,h:6}],"":[{x:0,y:0,w:8,h:7}],"":[{x:6,y:0,w:2,h:8}],"":[{x:5,y:0,w:3,h:8}],"":[{x:3,y:0,w:5,h:8}],"":[{x:2,y:0,w:6,h:8}],"":[{x:1,y:0,w:7,h:8}],"":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var xt={"":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"":[[1,0],[0,0],[0,1],[0,0]],"":[[0,1],[1,1],[1,0],[1,1]]};t.boxDrawingDefinitions={"":(i={},i[1]="M0,.5 L1,.5",i),"":(n={},n[3]="M0,.5 L1,.5",n),"":(o={},o[1]="M.5,0 L.5,1",o),"":(s={},s[3]="M.5,0 L.5,1",s),"":(a={},a[1]="M0.5,1 L.5,.5 L1,.5",a),"":(c={},c[3]="M0.5,1 L.5,.5 L1,.5",c),"":(l={},l[1]="M0,.5 L.5,.5 L.5,1",l),"":(h={},h[3]="M0,.5 L.5,.5 L.5,1",h),"":(u={},u[1]="M.5,0 L.5,.5 L1,.5",u),"":(f={},f[3]="M.5,0 L.5,.5 L1,.5",f),"":(_={},_[1]="M.5,0 L.5,.5 L0,.5",_),"":(d={},d[3]="M.5,0 L.5,.5 L0,.5",d),"":(p={},p[1]="M.5,0 L.5,1 M.5,.5 L1,.5",p),"":(v={},v[3]="M.5,0 L.5,1 M.5,.5 L1,.5",v),"":(y={},y[1]="M.5,0 L.5,1 M.5,.5 L0,.5",y),"":(g={},g[3]="M.5,0 L.5,1 M.5,.5 L0,.5",g),"":(m={},m[1]="M0,.5 L1,.5 M.5,.5 L.5,1",m),"":(b={},b[3]="M0,.5 L1,.5 M.5,.5 L.5,1",b),"":(S={},S[1]="M0,.5 L1,.5 M.5,.5 L.5,0",S),"":(C={},C[3]="M0,.5 L1,.5 M.5,.5 L.5,0",C),"":(w={},w[1]="M0,.5 L1,.5 M.5,0 L.5,1",w),"":(L={},L[3]="M0,.5 L1,.5 M.5,0 L.5,1",L),"":(E={},E[1]="M.5,.5 L0,.5",E),"":(x={},x[3]="M.5,.5 L0,.5",x),"":(R={},R[1]="M.5,.5 L.5,0",R),"":(k={},k[3]="M.5,.5 L.5,0",k),"":(M={},M[1]="M.5,.5 L1,.5",M),"":(A={},A[3]="M.5,.5 L1,.5",A),"":(O={},O[1]="M.5,.5 L.5,1",O),"":(D={},D[3]="M.5,.5 L.5,1",D),"":(T={},T[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},T),"":(B={},B[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},B),"":(P={},P[1]=function(e,t){return"M.5,1 L.5,"+(.5-t)+" L1,"+(.5-t)+" M.5,"+(.5+t)+" L1,"+(.5+t)},P),"":(I={},I[1]=function(e,t){return"M"+(.5-e)+",1 L"+(.5-e)+",.5 L1,.5 M"+(.5+e)+",.5 L"+(.5+e)+",1"},I),"":(H={},H[1]=function(e,t){return"M1,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1"},H),"":(j={},j[1]=function(e,t){return"M0,"+(.5-t)+" L.5,"+(.5-t)+" L.5,1 M0,"+(.5+t)+" L.5,"+(.5+t)},j),"":(F={},F[1]=function(e,t){return"M"+(.5+e)+",1 L"+(.5+e)+",.5 L0,.5 M"+(.5-e)+",.5 L"+(.5-e)+",1"},F),"":(W={},W[1]=function(e,t){return"M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M0,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",1"},W),"":(U={},U[1]=function(e,t){return"M.5,0 L.5,"+(.5+t)+" L1,"+(.5+t)+" M.5,"+(.5-t)+" L1,"+(.5-t)},U),"":(q={},q[1]=function(e,t){return"M1,.5 L"+(.5-e)+",.5 L"+(.5-e)+",0 M"+(.5+e)+",.5 L"+(.5+e)+",0"},q),"":(N={},N[1]=function(e,t){return"M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0 M1,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",0"},N),"":(z={},z[1]=function(e,t){return"M0,"+(.5+t)+" L.5,"+(.5+t)+" L.5,0 M0,"+(.5-t)+" L.5,"+(.5-t)},z),"":(K={},K[1]=function(e,t){return"M0,.5 L"+(.5+e)+",.5 L"+(.5+e)+",0 M"+(.5-e)+",.5 L"+(.5-e)+",0"},K),"":(G={},G[1]=function(e,t){return"M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M0,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",0"},G),"":(V={},V[1]=function(e,t){return"M.5,0 L.5,1 M.5,"+(.5-t)+" L1,"+(.5-t)+" M.5,"+(.5+t)+" L1,"+(.5+t)},V),"":(X={},X[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1 M"+(.5+e)+",.5 L1,.5"},X),"":(Z={},Z[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},Z),"":(Y={},Y[1]=function(e,t){return"M.5,0 L.5,1 M0,"+(.5-t)+" L.5,"+(.5-t)+" M0,"+(.5+t)+" L.5,"+(.5+t)},Y),"":(J={},J[1]=function(e,t){return"M0,.5 L"+(.5-e)+",.5 M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},J),"":($={},$[1]=function(e,t){return"M"+(.5+e)+",0 L"+(.5+e)+",1 M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0"},$),"":(Q={},Q[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)+" M.5,"+(.5+t)+" L.5,1"},Q),"":(ee={},ee[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",.5 L"+(.5-e)+",1 M"+(.5+e)+",.5 L"+(.5+e)+",1"},ee),"":(te={},te[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1"},te),"":(re={},re[1]=function(e,t){return"M.5,0 L.5,"+(.5-t)+" M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},re),"":(ie={},ie[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",.5 L"+(.5-e)+",0 M"+(.5+e)+",.5 L"+(.5+e)+",0"},ie),"":(ne={},ne[1]=function(e,t){return"M0,"+(.5+t)+" L1,"+(.5+t)+" M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},ne),"":(oe={},oe[1]=function(e,t){return"M.5,0 L.5,1 M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},oe),"":(se={},se[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},se),"":(ae={},ae[1]=function(e,t){return"M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1 M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},ae),"":(ce={},ce[1]="M1,0 L0,1",ce),"":(le={},le[1]="M0,0 L1,1",le),"":(he={},he[1]="M1,0 L0,1 M0,0 L1,1",he),"":(ue={},ue[1]="M.5,.5 L0,.5",ue[3]="M.5,.5 L1,.5",ue),"":(fe={},fe[1]="M.5,.5 L.5,0",fe[3]="M.5,.5 L.5,1",fe),"":(_e={},_e[1]="M.5,.5 L1,.5",_e[3]="M.5,.5 L0,.5",_e),"":(de={},de[1]="M.5,.5 L.5,1",de[3]="M.5,.5 L.5,0",de),"":(pe={},pe[1]="M.5,.5 L.5,1",pe[3]="M.5,.5 L1,.5",pe),"":(ve={},ve[1]="M.5,.5 L1,.5",ve[3]="M.5,.5 L.5,1",ve),"":(ye={},ye[1]="M.5,.5 L.5,1",ye[3]="M.5,.5 L0,.5",ye),"":(ge={},ge[1]="M.5,.5 L0,.5",ge[3]="M.5,.5 L.5,1",ge),"":(me={},me[1]="M.5,.5 L.5,0",me[3]="M.5,.5 L1,.5",me),"":(be={},be[1]="M.5,.5 L1,.5",be[3]="M.5,.5 L.5,0",be),"":(Se={},Se[1]="M.5,.5 L.5,0",Se[3]="M.5,.5 L0,.5",Se),"":(Ce={},Ce[1]="M.5,.5 L0,.5",Ce[3]="M.5,.5 L.5,0",Ce),"":(we={},we[1]="M.5,0 L.5,1",we[3]="M.5,.5 L1,.5",we),"":(Le={},Le[1]="M0.5,1 L.5,.5 L1,.5",Le[3]="M.5,.5 L.5,0",Le),"":(Ee={},Ee[1]="M.5,0 L.5,.5 L1,.5",Ee[3]="M.5,.5 L.5,1",Ee),"":(xe={},xe[1]="M.5,.5 L1,.5",xe[3]="M.5,0 L.5,1",xe),"":(Re={},Re[1]="M.5,.5 L.5,1",Re[3]="M.5,0 L.5,.5 L1,.5",Re),"":(ke={},ke[1]="M.5,.5 L.5,0",ke[3]="M0.5,1 L.5,.5 L1,.5",ke),"":(Me={},Me[1]="M.5,0 L.5,1",Me[3]="M.5,.5 L0,.5",Me),"":(Ae={},Ae[1]="M0,.5 L.5,.5 L.5,1",Ae[3]="M.5,.5 L.5,0",Ae),"":(Oe={},Oe[1]="M.5,0 L.5,.5 L0,.5",Oe[3]="M.5,.5 L.5,1",Oe),"":(De={},De[1]="M.5,.5 L0,.5",De[3]="M.5,0 L.5,1",De),"":(Te={},Te[1]="M.5,.5 L.5,1",Te[3]="M.5,0 L.5,.5 L0,.5",Te),"":(Be={},Be[1]="M.5,.5 L.5,0",Be[3]="M0,.5 L.5,.5 L.5,1",Be),"":(Pe={},Pe[1]="M0.5,1 L.5,.5 L1,.5",Pe[3]="M.5,.5 L0,.5",Pe),"":(Ie={},Ie[1]="M0,.5 L.5,.5 L.5,1",Ie[3]="M.5,.5 L1,.5",Ie),"":(He={},He[1]="M.5,.5 L.5,1",He[3]="M0,.5 L1,.5",He),"":(je={},je[1]="M0,.5 L1,.5",je[3]="M.5,.5 L.5,1",je),"":(Fe={},Fe[1]="M.5,.5 L1,.5",Fe[3]="M0,.5 L.5,.5 L.5,1",Fe),"":(We={},We[1]="M.5,.5 L0,.5",We[3]="M0.5,1 L.5,.5 L1,.5",We),"":(Ue={},Ue[1]="M.5,0 L.5,.5 L1,.5",Ue[3]="M.5,.5 L0,.5",Ue),"":(qe={},qe[1]="M.5,0 L.5,.5 L0,.5",qe[3]="M.5,.5 L1,.5",qe),"":(Ne={},Ne[1]="M.5,.5 L.5,0",Ne[3]="M0,.5 L1,.5",Ne),"":(ze={},ze[1]="M0,.5 L1,.5",ze[3]="M.5,.5 L.5,0",ze),"":(Ke={},Ke[1]="M.5,.5 L1,.5",Ke[3]="M.5,0 L.5,.5 L0,.5",Ke),"":(Ge={},Ge[1]="M.5,.5 L0,.5",Ge[3]="M.5,0 L.5,.5 L1,.5",Ge),"":(Ve={},Ve[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Ve[3]="M.5,.5 L0,.5",Ve),"":(Xe={},Xe[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Xe[3]="M.5,.5 L1,.5",Xe),"":(Ze={},Ze[1]="M.5,0 L.5,1",Ze[3]="M0,.5 L1,.5",Ze),"":(Ye={},Ye[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Ye[3]="M.5,.5 L.5,0",Ye),"":(Je={},Je[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Je[3]="M.5,.5 L.5,1",Je),"":($e={},$e[1]="M0,.5 L1,.5",$e[3]="M.5,0 L.5,1",$e),"":(Qe={},Qe[1]="M0.5,1 L.5,.5 L1,.5",Qe[3]="M.5,0 L.5,.5 L0,.5",Qe),"":(et={},et[1]="M0,.5 L.5,.5 L.5,1",et[3]="M.5,0 L.5,.5 L1,.5",et),"":(tt={},tt[1]="M.5,0 L.5,.5 L1,.5",tt[3]="M0,.5 L.5,.5 L.5,1",tt),"":(rt={},rt[1]="M.5,0 L.5,.5 L0,.5",rt[3]="M0.5,1 L.5,.5 L1,.5",rt),"":(it={},it[1]="M.5,.5 L.5,1",it[3]="M.5,.5 L.5,0 M0,.5 L1,.5",it),"":(nt={},nt[1]="M.5,.5 L.5,0",nt[3]="M0,.5 L1,.5 M.5,.5 L.5,1",nt),"":(ot={},ot[1]="M.5,.5 L1,.5",ot[3]="M.5,0 L.5,1 M.5,.5 L0,.5",ot),"":(st={},st[1]="M.5,.5 L0,.5",st[3]="M.5,0 L.5,1 M.5,.5 L1,.5",st),"":(at={},at[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",at),"":(ct={},ct[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",ct),"":(lt={},lt[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",lt),"":(ht={},ht[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ht),"":(ut={},ut[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ut),"":(ft={},ft[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ft),"":(_t={},_t[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",_t),"":(dt={},dt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",dt),"":(pt={},pt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",pt),"":(vt={},vt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",vt),"":(yt={},yt[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",yt),"":(gt={},gt[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",gt),"":(mt={},mt[1]="C.5,1,.5,.5,1,.5",mt),"":(bt={},bt[1]="C.5,1,.5,.5,0,.5",bt),"":(St={},St[1]="C.5,0,.5,.5,0,.5",St),"":(Ct={},Ct[1]="C.5,0,.5,.5,1,.5",Ct)},t.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0},"":{d:"M0,0 L1,.5 L0,1",type:1,horizontalPadding:.5},"":{d:"M1,0 L0,.5 L1,1",type:0},"":{d:"M1,0 L0,.5 L1,1",type:1,horizontalPadding:.5}},t.tryDrawCustomChar=function(e,r,i,n,o,s){var a=t.blockElementDefinitions[r];if(a)return function(e,t,r,i,n,o){for(var s=0;s<t.length;s++){var a=t[s],c=n/8,l=o/8;e.fillRect(r+a.x*c,i+a.y*l,a.w*c,a.h*l)}}(e,a,i,n,o,s),!0;var c=xt[r];if(c)return function(e,t,r,i,n,o){var s,a=Rt.get(t);a||(a=new Map,Rt.set(t,a));var c=e.fillStyle;if("string"!=typeof c)throw new Error('Unexpected fillStyle type "'+c+'"');var l=a.get(c);if(!l){var h=t[0].length,u=t.length,f=document.createElement("canvas");f.width=h,f.height=u;var _=(0,Et.throwIfFalsy)(f.getContext("2d")),d=new ImageData(h,u),p=void 0,v=void 0,y=void 0,g=void 0;if(c.startsWith("#"))p=parseInt(c.slice(1,3),16),v=parseInt(c.slice(3,5),16),y=parseInt(c.slice(5,7),16),g=c.length>7&&parseInt(c.slice(7,9),16)||1;else{if(!c.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+c+'" when drawing pattern glyph');p=(s=wt(c.substring(5,c.length-1).split(",").map((function(e){return parseFloat(e)})),4))[0],v=s[1],y=s[2],g=s[3]}for(var m=0;m<u;m++)for(var b=0;b<h;b++)d.data[4*(m*h+b)]=p,d.data[4*(m*h+b)+1]=v,d.data[4*(m*h+b)+2]=y,d.data[4*(m*h+b)+3]=t[m][b]*(255*g);_.putImageData(d,0,0),l=(0,Et.throwIfFalsy)(e.createPattern(f,null)),a.set(c,l)}e.fillStyle=l,e.fillRect(r,i,n,o)}(e,c,i,n,o,s),!0;var l=t.boxDrawingDefinitions[r];if(l)return function(e,t,r,i,n,o){var s,a,c,l;e.strokeStyle=e.fillStyle;try{for(var h=Lt(Object.entries(t)),u=h.next();!u.done;u=h.next()){var f=wt(u.value,2),_=f[0],d=f[1];e.beginPath(),e.lineWidth=window.devicePixelRatio*Number.parseInt(_);var p=void 0;p="function"==typeof d?d(.15,.15/o*n):d;try{for(var v=(c=void 0,Lt(p.split(" "))),y=v.next();!y.done;y=v.next()){var g=y.value,m=g[0],b=Mt[m];if(b){var S=g.substring(1).split(",");S[0]&&S[1]&&b(e,At(S,n,o,r,i))}else console.error('Could not find drawing instructions for "'+m+'"')}}catch(e){c={error:e}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(c)throw c.error}}e.stroke(),e.closePath()}}catch(e){s={error:e}}finally{try{u&&!u.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}}(e,l,i,n,o,s),!0;var h=t.powerlineDefinitions[r];return!!h&&(function(e,t,r,i,n,o){var s,a;e.beginPath(),e.lineWidth=window.devicePixelRatio;try{for(var c=Lt(t.d.split(" ")),l=c.next();!l.done;l=c.next()){var h=l.value,u=h[0],f=Mt[u];if(f){var _=h.substring(1).split(",");_[0]&&_[1]&&f(e,At(_,n,o,r,i,t.horizontalPadding))}else console.error('Could not find drawing instructions for "'+u+'"')}}catch(e){s={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}1===t.type?(e.strokeStyle=e.fillStyle,e.stroke()):e.fill(),e.closePath()}(e,h,i,n,o,s),!0)};var Rt=new Map;function kt(e,t,r){return void 0===r&&(r=0),Math.max(Math.min(e,t),r)}var Mt={C:function(e,t){return e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},L:function(e,t){return e.lineTo(t[0],t[1])},M:function(e,t){return e.moveTo(t[0],t[1])}};function At(e,t,r,i,n,o){void 0===o&&(o=0);var s=e.map((function(e){return parseFloat(e)||parseInt(e)}));if(s.length<2)throw new Error("Too few arguments for instruction");for(var a=0;a<s.length;a+=2)s[a]*=t-2*o*window.devicePixelRatio,0!==s[a]&&(s[a]=kt(Math.round(s[a]+.5)-.5,t,0)),s[a]+=i+o*window.devicePixelRatio;for(var c=1;c<s.length;c+=2)s[c]*=r,0!==s[c]&&(s[c]=kt(Math.round(s[c]+.5)-.5,r,0)),s[c]+=n;return s}},3700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var r=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var r=0;r<e;r++){this.cache.length<=r&&this.cache.push([]);for(var i=this.cache[r].length;i<t;i++)this.cache[r].push(void 0);this.cache[r].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=r},5098:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var a=r(1546),c=r(8803),l=r(2040),h=r(2585),u=function(e){function t(t,r,i,n,o,s,a,c,l){var h=e.call(this,t,"link",r,!0,i,n,a,c,l)||this;return o.onShowLinkUnderline((function(e){return h._onShowLinkUnderline(e)})),o.onHideLinkUnderline((function(e){return h._onHideLinkUnderline(e)})),s.onShowLinkUnderline((function(e){return h._onShowLinkUnderline(e)})),s.onHideLinkUnderline((function(e){return h._onHideLinkUnderline(e)})),h}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===c.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,l.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},o([s(6,h.IBufferService),s(7,h.IOptionsService),s(8,h.IDecorationService)],t)}(a.BaseRenderLayer);t.LinkRenderLayer=u},3525:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var c=r(9596),l=r(4149),h=r(2512),u=r(5098),f=r(844),_=r(4725),d=r(2585),p=r(1420),v=r(8460),y=1,g=function(e){function t(t,r,i,n,o,s,a,f){var _=e.call(this)||this;_._colors=t,_._screenElement=r,_._bufferService=s,_._charSizeService=a,_._optionsService=f,_._id=y++,_._onRequestRedraw=new v.EventEmitter;var d=_._optionsService.rawOptions.allowTransparency;return _._renderLayers=[o.createInstance(c.TextRenderLayer,_._screenElement,0,_._colors,d,_._id),o.createInstance(l.SelectionRenderLayer,_._screenElement,1,_._colors,_._id),o.createInstance(u.LinkRenderLayer,_._screenElement,2,_._colors,_._id,i,n),o.createInstance(h.CursorRenderLayer,_._screenElement,3,_._colors,_._id,_._onRequestRedraw)],_.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},_._devicePixelRatio=window.devicePixelRatio,_._updateDimensions(),_.onOptionsChanged(),_}return n(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t,r;try{for(var i=a(this._renderLayers),n=i.next();!n.done;n=i.next())n.value.dispose()}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.prototype.dispose.call(this),(0,p.removeTerminalFromCache)(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t,r;this._colors=e;try{for(var i=a(this._renderLayers),n=i.next();!n.done;n=i.next()){var o=n.value;o.setColors(this._colors),o.reset()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.onResize=function(e,t){var r,i;this._updateDimensions();try{for(var n=a(this._renderLayers),o=n.next();!o.done;o=n.next())o.value.resize(this.dimensions)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._runOperation((function(i){return i.onSelectionChanged(e,t,r)})),this._colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){var t,r;try{for(var i=a(this._renderLayers),n=i.next();!n.done;n=i.next())e(n.value)}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.renderRows=function(e,t){var r,i;try{for(var n=a(this._renderLayers),o=n.next();!o.done;o=n.next())o.value.onGridChanged(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},t.prototype.clearTextureAtlas=function(){var e,t;try{for(var r=a(this._renderLayers),i=r.next();!i.done;i=r.next())i.value.clearTextureAtlas()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},o([s(4,d.IInstantiationService),s(5,d.IBufferService),s(6,_.ICharSizeService),s(7,d.IOptionsService)],t)}(f.Disposable);t.Renderer=g},1752:(e,t)=>{function r(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.excludeFromContrastRatioDemands=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=r,t.excludeFromContrastRatioDemands=function(e){return r(e)||function(e){return 9472<=e&&e<=9631}(e)}},4149:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var a=r(1546),c=r(2585),l=function(e){function t(t,r,i,n,o,s,a){var c=e.call(this,t,"selection",r,!0,i,n,o,s,a)||this;return c._clearState(),c}return n(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(t,r,i){if(e.prototype.onSelectionChanged.call(this,t,r,i),this._didStateChange(t,r,i,this._bufferService.buffer.ydisp))if(this._clearAll(),t&&r){var n=t[1]-this._bufferService.buffer.ydisp,o=r[1]-this._bufferService.buffer.ydisp,s=Math.max(n,0),a=Math.min(o,this._bufferService.rows-1);if(s>=this._bufferService.rows||a<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,i){var c=t[0],l=r[0]-c,h=a-s+1;this._fillCells(c,s,l,h)}else{c=n===s?t[0]:0;var u=s===o?r[0]:this._bufferService.cols;this._fillCells(c,s,u-c,1);var f=Math.max(a-s-1,0);if(this._fillCells(0,s+1,this._bufferService.cols,f),s!==a){var _=o===a?r[0]:this._bufferService.cols;this._fillCells(0,a,_,1)}}this._state.start=[t[0],t[1]],this._state.end=[r[0],r[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,r,i){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||r!==this._state.columnSelectMode||i!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},o([s(4,c.IBufferService),s(5,c.IOptionsService),s(6,c.IDecorationService)],t)}(a.BaseRenderLayer);t.SelectionRenderLayer=l},9596:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var c=r(3700),l=r(1546),h=r(3734),u=r(643),f=r(511),_=r(2585),d=r(4725),p=r(4269),v=function(e){function t(t,r,i,n,o,s,a,l,h){var u=e.call(this,t,"text",r,n,i,o,s,a,h)||this;return u._characterJoinerService=l,u._characterWidth=0,u._characterFont="",u._characterOverlapCache={},u._workCell=new f.CellData,u._state=new c.GridCache,u}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var r=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===r||(this._characterWidth=t.scaledCharWidth,this._characterFont=r,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,r){for(var i=e;i<=t;i++)for(var n=i+this._bufferService.buffer.ydisp,o=this._bufferService.buffer.lines.get(n),s=this._characterJoinerService.getJoinedCharacters(n),a=0;a<this._bufferService.cols;a++){o.loadCell(a,this._workCell);var c=this._workCell,l=!1,h=a;if(0!==c.getWidth()){if(s.length>0&&a===s[0][0]){l=!0;var f=s.shift();c=new p.JoinedCellData(this._workCell,o.translateToString(!0,f[0],f[1]),f[1]-f[0]),h=f[1]-1}!l&&this._isOverlapping(c)&&h<o.length-1&&o.getCodePoint(h+1)===u.NULL_CELL_CODE&&(c.content&=-12582913,c.content|=2<<22),r(c,a,i),a=h}}},t.prototype._drawBackground=function(e,t){var r=this,i=this._ctx,n=this._bufferService.cols,o=0,s=0,c=null;i.save(),this._forEachCell(e,t,(function(e,t,l){var u,f,_=null;e.isInverse()?_=e.isFgDefault()?r._colors.foreground.css:e.isFgRGB()?"rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":r._colors.ansi[e.getFgColor()].css:e.isBgRGB()?_="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(_=r._colors.ansi[e.getBgColor()].css);var d=!1;try{for(var p=a(r._decorationService.getDecorationsAtCell(t,r._bufferService.buffer.ydisp+l)),v=p.next();!v.done;v=p.next()){var y=v.value;"top"!==y.options.layer&&d||(y.backgroundColorRGB&&(_=y.backgroundColorRGB.css),d="top"===y.options.layer)}}catch(e){u={error:e}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(u)throw u.error}}null===c&&(o=t,s=l),l!==s?(i.fillStyle=c||"",r._fillCells(o,s,n-o,1),o=t,s=l):c!==_&&(i.fillStyle=c||"",r._fillCells(o,s,t-o,1),o=t,s=l),c=_})),null!==c&&(i.fillStyle=c,this._fillCells(o,s,n-o,1)),i.restore()},t.prototype._drawForeground=function(e,t){var r=this;this._forEachCell(e,t,(function(e,t,i){if(!e.isInvisible()&&(r._drawChars(e,t,i),e.isUnderline()||e.isStrikethrough())){if(r._ctx.save(),e.isInverse())if(e.isBgDefault())r._ctx.fillStyle=r._colors.background.css;else if(e.isBgRGB())r._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var n=e.getBgColor();r._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),r._ctx.fillStyle=r._colors.ansi[n].css}else if(e.isFgDefault())r._ctx.fillStyle=r._colors.foreground.css;else if(e.isFgRGB())r._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();r._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),r._ctx.fillStyle=r._colors.ansi[o].css}e.isStrikethrough()&&r._fillMiddleLineAtCells(t,i,e.getWidth()),e.isUnderline()&&r._fillBottomLineAtCells(t,i,e.getWidth()),r._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var r=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=r,r},o([s(5,_.IBufferService),s(6,_.IOptionsService),s(7,d.ICharacterJoinerService),s(8,_.IDecorationService)],t)}(l.BaseRenderLayer);t.TextRenderLayer=v},9616:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var r=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.clear=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=r},1420:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var i=r(2040),n=r(1906),o=[];t.acquireCharAtlas=function(e,t,r,s,a){for(var c=(0,i.generateConfig)(s,a,e,r),l=0;l<o.length;l++){var h=(u=o[l]).ownedBy.indexOf(t);if(h>=0){if((0,i.configEquals)(u.config,c))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),o.splice(l,1)):u.ownedBy.splice(h,1);break}}for(l=0;l<o.length;l++){var u=o[l];if((0,i.configEquals)(u.config,c))return u.ownedBy.push(t),u.atlas}var f={atlas:new n.DynamicCharAtlas(document,c),config:c,ownedBy:[t]};return o.push(f),f.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<o.length;t++){var r=o[t].ownedBy.indexOf(e);if(-1!==r){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(r,1);break}}}},2040:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var i=r(643);t.generateConfig=function(e,t,r,i){var n={foreground:i.foreground,background:i.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:i.ansi.slice()};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontWeightBold:r.fontWeightBold,allowTransparency:r.allowTransparency,colors:n}},t.configEquals=function(e,t){for(var r=0;r<e.colors.ansi.length;r++)if(e.colors.ansi[r].rgba!==t.colors.ansi[r].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<i.DEFAULT_COLOR}},8803:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;var i=r(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=i.isFirefox||i.isLegacyEdge?"bottom":"ideographic",t.CHAR_ATLAS_CELL_SPACING=1},1906:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var o=r(8803),s=r(9616),a=r(5680),c=r(7001),l=r(6114),h=r(1752),u=r(8055),f=1024,_=1024,d={css:"rgba(0, 0, 0, 0)",rgba:0};function p(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=p;var v=function(e){function t(t,r){var i=e.call(this)||this;i._config=r,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=t.createElement("canvas"),i._cacheCanvas.width=f,i._cacheCanvas.height=_,i._cacheCtx=(0,h.throwIfFalsy)(i._cacheCanvas.getContext("2d",{alpha:!0}));var n=t.createElement("canvas");n.width=i._config.scaledCharWidth,n.height=i._config.scaledCharHeight,i._tmpCtx=(0,h.throwIfFalsy)(n.getContext("2d",{alpha:i._config.allowTransparency})),i._width=Math.floor(f/i._config.scaledCharWidth),i._height=Math.floor(_/i._config.scaledCharHeight);var o=i._width*i._height;return i._cacheMap=new c.LRUMap(o),i._cacheMap.prealloc(o),i}return n(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.clear=function(){if(this._cacheMap.size>0){var e=this._width*this._height;this._cacheMap=new c.LRUMap(e),this._cacheMap.prealloc(e)}this._cacheCtx.clearRect(0,0,f,_),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},t.prototype.draw=function(e,t,r,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var n=p(t),o=this._cacheMap.get(n);if(null!=o)return this._drawFromCache(e,o,r,i),!0;if(this._drawToCacheCount<100){var s;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(n,a),this._drawFromCache(e,a,r,i),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,r,i){if(!t.isEmpty){var n=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,n,o,this._config.scaledCharWidth,this._config.scaledCharHeight,r,i,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?u.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var r=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=r.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var i=e.bold?this._config.fontWeightBold:this._config.fontWeight,n=e.italic?"italic":"";this._tmpCtx.font=n+" "+i+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=o.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight);var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;if(this._config.allowTransparency||(a=g(s,r)),a&&"_"===e.chars&&!this._config.allowTransparency)for(var c=1;c<=5&&(this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight-c),a=g(s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),r));c++);this._tmpCtx.restore();var l=this._toCoordinateX(t),h=this._toCoordinateY(t);this._cacheCtx.putImageData(s,l,h);var u={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(u),u},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||l.isFirefox||l.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(r){e._bitmap=r;for(var i=0;i<t.length;i++)t[i].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(s.BaseCharAtlas);t.DynamicCharAtlas=v;var y=function(e){function t(t,r){return e.call(this)||this}return n(t,e),t.prototype.draw=function(e,t,r,i){return!1},t}(s.BaseCharAtlas);function g(e,t){for(var r=!0,i=t.rgba>>>24,n=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===i&&e.data[s+1]===n&&e.data[s+2]===o?e.data[s+3]=0:r=!1;return r}t.NoneCharAtlas=y},7001:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var r=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,r=e.next;e===this._head&&(this._head=r),e===this._tail&&(this._tail=t),null!==t&&(t.next=r),null!==r&&(r.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,r=0;r<e;r++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var r=this._map[e];if(void 0!==r)r=this._map[e],this._unlinkNode(r),r.value=t;else if(this.size>=this.capacity)r=this._head,this._unlinkNode(r),delete this._map[r.key],r.key=e,r.value=t,this._map[e]=r;else{var i=this._nodePool;i.length>0?((r=i.pop()).key=e,r.value=t):r={prev:null,next:null,key:e,value:t},this._map[e]=r,this.size++}this._appendNode(r)},e}();t.LRUMap=r},1296:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var c=r(3787),l=r(8803),h=r(844),u=r(4725),f=r(2585),_=r(8460),d=r(8055),p=r(9631),v="xterm-dom-renderer-owner-",y="xterm-fg-",g="xterm-bg-",m="xterm-focus",b=1,S=function(e){function t(t,r,i,n,o,s,a,l,h,u){var f=e.call(this)||this;return f._colors=t,f._element=r,f._screenElement=i,f._viewportElement=n,f._linkifier=o,f._linkifier2=s,f._charSizeService=l,f._optionsService=h,f._bufferService=u,f._terminalClass=b++,f._rowElements=[],f._rowContainer=document.createElement("div"),f._rowContainer.classList.add("xterm-rows"),f._rowContainer.style.lineHeight="normal",f._rowContainer.setAttribute("aria-hidden","true"),f._refreshRowElements(f._bufferService.cols,f._bufferService.rows),f._selectionContainer=document.createElement("div"),f._selectionContainer.classList.add("xterm-selection"),f._selectionContainer.setAttribute("aria-hidden","true"),f.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},f._updateDimensions(),f._injectCss(),f._rowFactory=a.createInstance(c.DomRendererRowFactory,document,f._colors),f._element.classList.add(v+f._terminalClass),f._screenElement.appendChild(f._rowContainer),f._screenElement.appendChild(f._selectionContainer),f.register(f._linkifier.onShowLinkUnderline((function(e){return f._onLinkHover(e)}))),f.register(f._linkifier.onHideLinkUnderline((function(e){return f._onLinkLeave(e)}))),f.register(f._linkifier2.onShowLinkUnderline((function(e){return f._onLinkHover(e)}))),f.register(f._linkifier2.onHideLinkUnderline((function(e){return f._onLinkLeave(e)}))),f}return n(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return(new _.EventEmitter).event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove(v+this._terminalClass),(0,p.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e,t;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;try{for(var r=a(this._rowElements),i=r.next();!i.done;i=r.next()){var n=i.value;n.style.width=this.dimensions.canvasWidth+"px",n.style.height=this.dimensions.actualCellHeight+"px",n.style.lineHeight=this.dimensions.actualCellHeight+"px",n.style.overflow="hidden"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var o=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=o,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+c.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+c.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+c.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+c.CURSOR_CLASS+"."+c.CURSOR_BLINK_CLASS+":not(."+c.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+c.CURSOR_CLASS+"."+c.CURSOR_BLINK_CLASS+"."+c.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionOpaque.css+";}",this._colors.ansi.forEach((function(r,i){t+=e._terminalSelector+" ."+y+i+" { color: "+r.css+"; }"+e._terminalSelector+" ."+g+i+" { background-color: "+r.css+"; }"})),t+=this._terminalSelector+" ."+y+l.INVERTED_DEFAULT_COLOR+" { color: "+d.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+g+l.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var r=this._rowElements.length;r<=t;r++){var i=document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove(m)},t.prototype.onFocus=function(){this._rowContainer.classList.add(m)},t.prototype.onSelectionChanged=function(e,t,r){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),e&&t){var i=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,o=Math.max(i,0),s=Math.min(n,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(r){var c=e[0]>t[0];a.appendChild(this._createSelectionElement(o,c?t[0]:e[0],c?e[0]:t[0],s-o+1))}else{var l=i===o?e[0]:0,h=o===n?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,l,h));var u=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,u)),o!==s){var f=n===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,f))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,r,i){void 0===i&&(i=1);var n=document.createElement("div");return n.style.height=i*this.dimensions.actualCellHeight+"px",n.style.top=e*this.dimensions.actualCellHeight+"px",n.style.left=t*this.dimensions.actualCellWidth+"px",n.style.width=this.dimensions.actualCellWidth*(r-t)+"px",n},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){var e,t;try{for(var r=a(this._rowElements),i=r.next();!i.done;i=r.next())i.value.innerText=""}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.renderRows=function(e,t){for(var r=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._optionsService.rawOptions.cursorBlink,o=e;o<=t;o++){var s=this._rowElements[o];s.innerText="";var a=o+this._bufferService.buffer.ydisp,c=this._bufferService.buffer.lines.get(a),l=this._optionsService.rawOptions.cursorStyle;s.appendChild(this._rowFactory.createRow(c,a,a===r,l,i,n,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return"."+v+this._terminalClass},enumerable:!1,configurable:!0}),t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,r,i,n,o){for(;e!==t||r!==i;){var s=this._rowElements[r];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=n&&(e=0,r++)}},o([s(6,f.IInstantiationService),s(7,u.ICharSizeService),s(8,f.IOptionsService),s(9,f.IBufferService)],t)}(h.Disposable);t.DomRenderer=S},3787:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=t.CURSOR_STYLE_UNDERLINE_CLASS=t.CURSOR_STYLE_BAR_CLASS=t.CURSOR_STYLE_BLOCK_CLASS=t.CURSOR_BLINK_CLASS=t.CURSOR_CLASS=t.STRIKETHROUGH_CLASS=t.UNDERLINE_CLASS=t.ITALIC_CLASS=t.DIM_CLASS=t.BOLD_CLASS=void 0;var s=r(8803),a=r(643),c=r(511),l=r(2585),h=r(8055),u=r(4725),f=r(4269),_=r(1752);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.STRIKETHROUGH_CLASS="xterm-strikethrough",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var d=function(){function e(e,t,r,i,n,o){this._document=e,this._colors=t,this._characterJoinerService=r,this._optionsService=i,this._coreService=n,this._decorationService=o,this._workCell=new c.CellData,this._columnSelectMode=!1}return e.prototype.setColors=function(e){this._colors=e},e.prototype.onSelectionChanged=function(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r},e.prototype.createRow=function(e,r,i,n,c,l,u,_){for(var d,v,y=this._document.createDocumentFragment(),g=this._characterJoinerService.getJoinedCharacters(r),m=0,b=Math.min(e.length,_)-1;b>=0;b--)if(e.loadCell(b,this._workCell).getCode()!==a.NULL_CELL_CODE||i&&b===c){m=b+1;break}for(b=0;b<m;b++){e.loadCell(b,this._workCell);var S=this._workCell.getWidth();if(0!==S){var C=!1,w=b,L=this._workCell;if(g.length>0&&b===g[0][0]){C=!0;var E=g.shift();L=new f.JoinedCellData(this._workCell,e.translateToString(!0,E[0],E[1]),E[1]-E[0]),w=E[1]-1,S=L.getWidth()}var x=this._document.createElement("span");if(S>1&&(x.style.width=u*S+"px"),C&&(x.style.display="inline",c>=b&&c<=w&&(c=b)),!this._coreService.isCursorHidden&&i&&b===c)switch(x.classList.add(t.CURSOR_CLASS),l&&x.classList.add(t.CURSOR_BLINK_CLASS),n){case"bar":x.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":x.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:x.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}L.isBold()&&x.classList.add(t.BOLD_CLASS),L.isItalic()&&x.classList.add(t.ITALIC_CLASS),L.isDim()&&x.classList.add(t.DIM_CLASS),L.isUnderline()&&x.classList.add(t.UNDERLINE_CLASS),L.isInvisible()?x.textContent=a.WHITESPACE_CELL_CHAR:x.textContent=L.getChars()||a.WHITESPACE_CELL_CHAR,L.isStrikethrough()&&x.classList.add(t.STRIKETHROUGH_CLASS);var R=L.getFgColor(),k=L.getFgColorMode(),M=L.getBgColor(),A=L.getBgColorMode(),O=!!L.isInverse();if(O){var D=R;R=M,M=D;var T=k;k=A,A=T}var B=void 0,P=void 0,I=!1;try{for(var H=(d=void 0,o(this._decorationService.getDecorationsAtCell(b,r))),j=H.next();!j.done;j=H.next()){var F=j.value;"top"!==F.options.layer&&I||(F.backgroundColorRGB&&(A=50331648,M=F.backgroundColorRGB.rgba>>8&16777215,B=F.backgroundColorRGB),F.foregroundColorRGB&&(k=50331648,R=F.foregroundColorRGB.rgba>>8&16777215,P=F.foregroundColorRGB),I="top"===F.options.layer)}}catch(e){d={error:e}}finally{try{j&&!j.done&&(v=H.return)&&v.call(H)}finally{if(d)throw d.error}}var W=this._isCellInSelection(b,r);I||this._colors.selectionForeground&&W&&(k=50331648,R=this._colors.selectionForeground.rgba>>8&16777215,P=this._colors.selectionForeground),W&&(B=this._colors.selectionOpaque,I=!0),I&&x.classList.add("xterm-decoration-top");var U=void 0;switch(A){case 16777216:case 33554432:U=this._colors.ansi[M],x.classList.add("xterm-bg-"+M);break;case 50331648:U=h.rgba.toColor(M>>16,M>>8&255,255&M),this._addStyle(x,"background-color:#"+p((M>>>0).toString(16),"0",6));break;default:O?(U=this._colors.foreground,x.classList.add("xterm-bg-"+s.INVERTED_DEFAULT_COLOR)):U=this._colors.background}switch(k){case 16777216:case 33554432:L.isBold()&&R<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(R+=8),this._applyMinimumContrast(x,U,this._colors.ansi[R],L,B,void 0)||x.classList.add("xterm-fg-"+R);break;case 50331648:var q=h.rgba.toColor(R>>16&255,R>>8&255,255&R);this._applyMinimumContrast(x,U,q,L,B,P)||this._addStyle(x,"color:#"+p(R.toString(16),"0",6));break;default:this._applyMinimumContrast(x,U,this._colors.foreground,L,B,void 0)||O&&x.classList.add("xterm-fg-"+s.INVERTED_DEFAULT_COLOR)}y.appendChild(x),b=w}}return y},e.prototype._applyMinimumContrast=function(e,t,r,i,n,o){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,_.excludeFromContrastRatioDemands)(i.getCode()))return!1;var s=void 0;return n||o||(s=this._colors.contrastCache.getColor(t.rgba,r.rgba)),void 0===s&&(s=h.color.ensureContrastRatio(n||t,o||r,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((n||t).rgba,(o||r).rgba,null!=s?s:null)),!!s&&(this._addStyle(e,"color:"+s.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e.prototype._isCellInSelection=function(e,t){var r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?r[0]<=i[0]?e>=r[0]&&t>=r[1]&&e<i[0]&&t<=i[1]:e<r[0]&&t>=r[1]&&e>=i[0]&&t<=i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])},i([n(2,u.ICharacterJoinerService),n(3,l.IOptionsService),n(4,l.ICoreService),n(5,l.IDecorationService)],e)}();function p(e,t,r){for(;e.length<r;)e=t+e;return e}t.DomRendererRowFactory=d},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var r=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?(e=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?(e=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:void 0;var e},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=r},428:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var o=r(2585),s=r(8460),a=function(){function e(e,t,r){this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},i([n(2,o.IOptionsService)],e)}();t.CharSizeService=a;var c=function(){function e(e,t,r){this._document=e,this._parentElement=t,this._optionsService=r,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},4269:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;var a=r(3734),c=r(643),l=r(511),h=r(2585),u=function(e){function t(t,r,i){var n=e.call(this)||this;return n.content=0,n.combinedData="",n.fg=t.fg,n.bg=t.bg,n.combinedData=r,n._width=i,n}return n(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.JoinedCellData=u;var f=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new l.CellData}return e.prototype.register=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregister=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var r=[],i=t.translateToString(!0),n=0,o=0,s=0,a=t.getFg(0),l=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==a||this._workCell.bg!==l){if(h-n>1)for(var u=this._getJoinedRanges(i,s,o,t,n),f=0;f<u.length;f++)r.push(u[f]);n=h,s=o,a=this._workCell.fg,l=this._workCell.bg}o+=this._workCell.getChars().length||c.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-n>1)for(u=this._getJoinedRanges(i,s,o,t,n),f=0;f<u.length;f++)r.push(u[f]);return r},e.prototype._getJoinedRanges=function(t,r,i,n,o){var s=t.substring(r,i),a=[];try{a=this._characterJoiners[0].handler(s)}catch(e){console.error(e)}for(var c=1;c<this._characterJoiners.length;c++)try{for(var l=this._characterJoiners[c].handler(s),h=0;h<l.length;h++)e._mergeRanges(a,l[h])}catch(e){console.error(e)}return this._stringRangesToCellRanges(a,n,o),a},e.prototype._stringRangesToCellRanges=function(e,t,r){var i=0,n=!1,o=0,s=e[i];if(s){for(var a=r;a<this._bufferService.cols;a++){var l=t.getWidth(a),h=t.getString(a).length||c.WHITESPACE_CELL_CHAR.length;if(0!==l){if(!n&&s[0]<=o&&(s[0]=a,n=!0),s[1]<=o){if(s[1]=a,!(s=e[++i]))break;s[0]<=o?(s[0]=a,n=!0):n=!1}o+=h}}s&&(s[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var r=!1,i=0;i<e.length;i++){var n=e[i];if(r){if(t[1]<=n[0])return e[i-1][1]=t[1],e;if(t[1]<=n[1])return e[i-1][1]=Math.max(t[1],n[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=n[0])return e.splice(i,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),r=!0)}}return r?e[e.length-1][1]=t[1]:e.push(t),e},e=o([s(0,h.IBufferService)],e)}();t.CharacterJoinerService=f},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var r=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=r},8934:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var o=r(4725),s=r(9806),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,r,i,n){return(0,s.getCoords)(window,e,t,r,i,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,n)},e.prototype.getRawByteCoords=function(e,t,r,i){var n=this.getCoords(e,t,r,i);return(0,s.getRawByteCoords)(n)},i([n(0,o.IRenderService),n(1,o.ICharSizeService)],e)}();t.MouseService=a},3230:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var a=r(6193),c=r(8460),l=r(844),h=r(5596),u=r(3656),f=r(2585),_=r(4725),d=function(e){function t(t,r,i,n,o,s,l){var f=e.call(this)||this;if(f._renderer=t,f._rowCount=r,f._charSizeService=o,f._isPaused=!1,f._needsFullRefresh=!1,f._isNextRenderRedrawOnly=!0,f._needsSelectionRefresh=!1,f._canvasWidth=0,f._canvasHeight=0,f._selectionState={start:void 0,end:void 0,columnSelectMode:!1},f._onDimensionsChange=new c.EventEmitter,f._onRenderedViewportChange=new c.EventEmitter,f._onRender=new c.EventEmitter,f._onRefreshRequest=new c.EventEmitter,f.register({dispose:function(){return f._renderer.dispose()}}),f._renderDebouncer=new a.RenderDebouncer((function(e,t){return f._renderRows(e,t)})),f.register(f._renderDebouncer),f._screenDprMonitor=new h.ScreenDprMonitor,f._screenDprMonitor.setListener((function(){return f.onDevicePixelRatioChange()})),f.register(f._screenDprMonitor),f.register(l.onResize((function(){return f._fullRefresh()}))),f.register(l.buffers.onBufferActivate((function(){var e;return null===(e=f._renderer)||void 0===e?void 0:e.clear()}))),f.register(n.onOptionChange((function(){return f._handleOptionsChanged()}))),f.register(f._charSizeService.onCharSizeChange((function(){return f.onCharSizeChanged()}))),f.register(s.onDecorationRegistered((function(){return f._fullRefresh()}))),f.register(s.onDecorationRemoved((function(){return f._fullRefresh()}))),f._renderer.onRequestRedraw((function(e){return f.refreshRows(e.start,e.end,!0)})),f.register((0,u.addDisposableDomListener)(window,"resize",(function(){return f.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var _=new IntersectionObserver((function(e){return f._onIntersectionChange(e[e.length-1])}),{threshold:0});_.observe(i),f.register({dispose:function(){return _.disconnect()}})}return f}return n(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRenderedViewportChange",{get:function(){return this._onRenderedViewportChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t,r){void 0===r&&(r=!1),this._isPaused?this._needsFullRefresh=!0:(r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype._handleOptionsChanged=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw((function(e){return t.refreshRows(e.start,e.end,!0)})),this._needsSelectionRefresh=!0,this._fullRefresh()},t.prototype.addRefreshCallback=function(e){return this._renderDebouncer.addRefreshCallback(e)},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.clearTextureAtlas=function(){var e,t;null===(t=null===(e=this._renderer)||void 0===e?void 0:e.clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh()},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,r){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,this._renderer.onSelectionChanged(e,t,r)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},o([s(3,f.IOptionsService),s(4,_.ICharSizeService),s(5,f.IDecorationService),s(6,f.IBufferService)],t)}(l.Disposable);t.RenderService=d},9312:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var a=r(6114),c=r(456),l=r(511),h=r(8460),u=r(4725),f=r(2585),_=r(9806),d=r(9504),p=r(844),v=r(4841),y=String.fromCharCode(160),g=new RegExp(y,"g"),m=function(e){function t(t,r,i,n,o,s,a,u){var f=e.call(this)||this;return f._element=t,f._screenElement=r,f._linkifier=i,f._bufferService=n,f._coreService=o,f._mouseService=s,f._optionsService=a,f._renderService=u,f._dragScrollAmount=0,f._enabled=!0,f._workCell=new l.CellData,f._mouseDownTimeStamp=0,f._oldHasSelection=!1,f._oldSelectionStart=void 0,f._oldSelectionEnd=void 0,f._onLinuxMouseSelection=f.register(new h.EventEmitter),f._onRedrawRequest=f.register(new h.EventEmitter),f._onSelectionChange=f.register(new h.EventEmitter),f._onRequestScrollLines=f.register(new h.EventEmitter),f._mouseMoveListener=function(e){return f._onMouseMove(e)},f._mouseUpListener=function(e){return f._onMouseUp(e)},f._coreService.onUserInput((function(){f.hasSelection&&f.clearSelection()})),f._trimListener=f._bufferService.buffer.lines.onTrim((function(e){return f._onTrim(e)})),f.register(f._bufferService.buffers.onBufferActivate((function(e){return f._onBufferActivate(e)}))),f.enable(),f._model=new c.SelectionModel(f._bufferService),f._activeSelectionMode=0,f}return n(t,e),Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},t.prototype.reset=function(){this.clearSelection()},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var r=this._bufferService.buffer,i=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var n=e[0]<t[0]?e[0]:t[0],o=e[0]<t[0]?t[0]:e[0],s=e[1];s<=t[1];s++){var c=r.translateBufferLineToString(s,!0,n,o);i.push(c)}}else{var l=e[1]===t[1]?t[0]:void 0;for(i.push(r.translateBufferLineToString(e[1],!0,e[0],l)),s=e[1]+1;s<=t[1]-1;s++){var h=r.lines.get(s);c=r.translateBufferLineToString(s,!0),(null==h?void 0:h.isWrapped)?i[i.length-1]+=c:i.push(c)}e[1]!==t[1]&&(h=r.lines.get(t[1]),c=r.translateBufferLineToString(t[1],!0,0,t[0]),h&&h.isWrapped?i[i.length-1]+=c:i.push(c))}return i.map((function(e){return e.replace(g," ")})).join(a.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),a.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype._isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!!(r&&i&&t)&&this._areCoordsInSelection(t,r,i)},t.prototype.isCellInSelection=function(e,t){var r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!(!r||!i)&&this._areCoordsInSelection([e,t],r,i)},t.prototype._areCoordsInSelection=function(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype._selectWordAtCursor=function(e,t){var r,i,n=null===(i=null===(r=this._linkifier.currentLink)||void 0===r?void 0:r.link)||void 0===i?void 0:i.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=(0,v.getRangeLength)(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var o=this._getMouseBufferCoords(e);return!!o&&(this._selectWordAt(o,t),this._model.selectionEnd=void 0,!0)},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},t.prototype._getMouseEventScrollAmount=function(e){var t=(0,_.getCoordsRelativeToElement)(window,e,this._screenElement)[1],r=this._renderService.dimensions.canvasHeight;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},t.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){var i=r.lines.get(this._model.selectionEnd[1]);i&&0===i.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},t.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&void 0!==r[0]&&void 0!==r[1]){var i=(0,d.moveToCellSequence)(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this._fireEventIfSelectionChanged()},t.prototype._fireEventIfSelectionChanged=function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);r?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,r)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,r)},t.prototype._fireOnSelectionChange=function(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var r=t[0],i=0;t[0]>=i;i++){var n=e.loadCell(i,this._workCell).getChars().length;0===this._workCell.getWidth()?r--:n>1&&t[0]!==i&&(r+=n-1)}return r},t.prototype.setSelection=function(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()},t.prototype.rightClickSelect=function(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},t.prototype._getWordAt=function(e,t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),!(e[0]>=this._bufferService.cols)){var n=this._bufferService.buffer,o=n.lines.get(e[1]);if(o){var s=n.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(o,e),c=a,l=e[0]-a,h=0,u=0,f=0,_=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;c<s.length&&" "===s.charAt(c+1);)c++}else{var d=e[0],p=e[0];0===o.getWidth(d)&&(h++,d--),2===o.getWidth(p)&&(u++,p++);var v=o.getString(p).length;for(v>1&&(_+=v-1,c+=v-1);d>0&&a>0&&!this._isCharWordSeparator(o.loadCell(d-1,this._workCell));){o.loadCell(d-1,this._workCell);var y=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,d--):y>1&&(f+=y-1,a-=y-1),a--,d--}for(;p<o.length&&c+1<s.length&&!this._isCharWordSeparator(o.loadCell(p+1,this._workCell));){o.loadCell(p+1,this._workCell);var g=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,p++):g>1&&(_+=g-1,c+=g-1),c++,p++}}c++;var m=a+l-h+f,b=Math.min(this._bufferService.cols,c-a+h+u-f-_);if(t||""!==s.slice(a,c).trim()){if(r&&0===m&&32!==o.getCodePoint(0)){var S=n.lines.get(e[1]-1);if(S&&o.isWrapped&&32!==S.getCodePoint(this._bufferService.cols-1)){var C=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(C){var w=this._bufferService.cols-C.start;m-=w,b+=w}}}if(i&&m+b===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var L=n.lines.get(e[1]+1);if((null==L?void 0:L.isWrapped)&&32!==L.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(b+=E.length)}}return{start:m,length:b}}}}},t.prototype._selectWordAt=function(e,t){var r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var r=e[1];t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}},t.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0},t.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,v.getRangeLength)(r,this._bufferService.cols)},o([s(3,f.IBufferService),s(4,f.ICoreService),s(5,u.IMouseService),s(6,f.IOptionsService),s(7,u.IRenderService)],t)}(p.Disposable);t.SelectionService=m},4725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ICharacterJoinerService=t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var i=r(8343);t.ICharSizeService=(0,i.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,i.createDecorator)("CoreBrowserService"),t.IMouseService=(0,i.createDecorator)("MouseService"),t.IRenderService=(0,i.createDecorator)("RenderService"),t.ISelectionService=(0,i.createDecorator)("SelectionService"),t.ISoundService=(0,i.createDecorator)("SoundService"),t.ICharacterJoinerService=(0,i.createDecorator)("CharacterJoinerService")},357:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var o=r(2585),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!1,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var r=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),(function(e){r.buffer=e,r.connect(t.destination),r.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),r=t.length,i=new Uint8Array(r),n=0;n<r;n++)i[n]=t.charCodeAt(n);return i.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=i([n(0,o.IOptionsService)],e)}();t.SoundService=s},6349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var i=r(8460),n=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new i.EventEmitter,this.onInsertEmitter=new i.EventEmitter,this.onTrimEmitter=new i.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t){for(var n=e;n<this._length-t;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(n=this._length-1;n>=e;n--)this._array[this._getCyclicIndex(n+r.length)]=this._array[this._getCyclicIndex(n)];for(n=0;n<r.length;n++)this._array[this._getCyclicIndex(e+n)]=r[n];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){var o=this._length+r.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=r.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(var i=t-1;i>=0;i--)this.set(e+i+r,this.get(e+i));var n=e+t+r-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(i=0;i<t;i++)this.set(e+i+r,this.get(e+i))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=n},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,r){if(void 0===r&&(r=5),"object"!=typeof t)return t;var i=Array.isArray(t)?[]:{};for(var n in t)i[n]=r<=1?t[n]:t[n]&&e(t[n],r-1);return i}},8055:function(e,t){var r,i,n,o,s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function c(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,function(e){e.toCss=function(e,t,r,i){return void 0!==i?"#"+a(e)+a(t)+a(r)+a(i):"#"+a(e)+a(t)+a(r)},e.toRgba=function(e,t,r,i){return void 0===i&&(i=255),(e<<24|t<<16|r<<8|i)>>>0}}(r=t.channels||(t.channels={})),(i=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var n=t.rgba>>24&255,o=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,c=e.rgba>>16&255,l=e.rgba>>8&255,h=a+Math.round((n-a)*i),u=c+Math.round((o-c)*i),f=l+Math.round((s-l)*i);return{css:r.toCss(h,u,f),rgba:r.toRgba(h,u,f)}},i.isOpaque=function(e){return 255==(255&e.rgba)},i.ensureContrastRatio=function(e,t,r){var i=o.ensureContrastRatio(e.rgba,t.rgba,r);if(i)return o.toColor(i>>24&255,i>>16&255,i>>8&255)},i.opaque=function(e){var t=(255|e.rgba)>>>0,i=s(o.toChannels(t),3),n=i[0],a=i[1],c=i[2];return{css:r.toCss(n,a,c),rgba:t}},i.opacity=function(e,t){var i=Math.round(255*t),n=s(o.toChannels(e.rgba),3),a=n[0],c=n[1],l=n[2];return{css:r.toCss(a,c,l,i),rgba:r.toRgba(a,c,l,i)}},i.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]},(t.css||(t.css={})).toColor=function(e){if(e.match(/#[0-9a-f]{3,8}/i))switch(e.length){case 4:var t=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),i=parseInt(e.slice(3,4).repeat(2),16);return o.toColor(t,r,i);case 5:t=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),i=parseInt(e.slice(3,4).repeat(2),16);var n=parseInt(e.slice(4,5).repeat(2),16);return o.toColor(t,r,i,n);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}var s=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return t=parseInt(s[1]),r=parseInt(s[2]),i=parseInt(s[3]),n=Math.round(255*(void 0===s[5]?1:parseFloat(s[5]))),o.toColor(t,r,i,n);throw new Error("css.toColor: Unsupported css format")},function(e){function t(e,t,r){var i=e/255,n=t/255,o=r/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(n=t.rgb||(t.rgb={})),function(e){function t(e,t,r){for(var i=e>>24&255,o=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,h=t>>8&255,u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));u<r&&(a>0||l>0||h>0);)a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),h-=Math.max(0,Math.ceil(.1*h)),u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));return(a<<24|l<<16|h<<8|255)>>>0}function i(e,t,r){for(var i=e>>24&255,o=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,h=t>>8&255,u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));u<r&&(a<255||l<255||h<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),h=Math.min(255,h+Math.ceil(.1*(255-h))),u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));return(a<<24|l<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,r,o){var s=n.relativeLuminance(e>>8),a=n.relativeLuminance(r>>8);if(c(s,a)<o){if(a<s){var l=t(e,r,o),h=c(s,n.relativeLuminance(l>>8));if(h<o){var u=i(e,e,o);return h>c(s,n.relativeLuminance(u>>8))?l:u}return l}var f=i(e,r,o),_=c(s,n.relativeLuminance(f>>8));return _<o?(u=t(e,e,o),_>c(s,n.relativeLuminance(u>>8))?f:u):f}},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i,n){return{css:r.toCss(e,t,i,n),rgba:r.toRgba(e,t,i,n)}}}(o=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=c},8969:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var s=r(844),a=r(2585),c=r(4348),l=r(7866),h=r(744),u=r(7302),f=r(6975),_=r(8460),d=r(1753),p=r(3730),v=r(1480),y=r(7994),g=r(9282),m=r(5435),b=r(5981),S=!1,C=function(e){function t(t){var r=e.call(this)||this;return r._onBinary=new _.EventEmitter,r._onData=new _.EventEmitter,r._onLineFeed=new _.EventEmitter,r._onResize=new _.EventEmitter,r._onScroll=new _.EventEmitter,r._onWriteParsed=new _.EventEmitter,r._instantiationService=new c.InstantiationService,r.optionsService=new u.OptionsService(t),r._instantiationService.setService(a.IOptionsService,r.optionsService),r._bufferService=r.register(r._instantiationService.createInstance(h.BufferService)),r._instantiationService.setService(a.IBufferService,r._bufferService),r._logService=r._instantiationService.createInstance(l.LogService),r._instantiationService.setService(a.ILogService,r._logService),r.coreService=r.register(r._instantiationService.createInstance(f.CoreService,(function(){return r.scrollToBottom()}))),r._instantiationService.setService(a.ICoreService,r.coreService),r.coreMouseService=r._instantiationService.createInstance(d.CoreMouseService),r._instantiationService.setService(a.ICoreMouseService,r.coreMouseService),r._dirtyRowService=r._instantiationService.createInstance(p.DirtyRowService),r._instantiationService.setService(a.IDirtyRowService,r._dirtyRowService),r.unicodeService=r._instantiationService.createInstance(v.UnicodeService),r._instantiationService.setService(a.IUnicodeService,r.unicodeService),r._charsetService=r._instantiationService.createInstance(y.CharsetService),r._instantiationService.setService(a.ICharsetService,r._charsetService),r._inputHandler=new m.InputHandler(r._bufferService,r._charsetService,r.coreService,r._dirtyRowService,r._logService,r.optionsService,r.coreMouseService,r.unicodeService),r.register((0,_.forwardEvent)(r._inputHandler.onLineFeed,r._onLineFeed)),r.register(r._inputHandler),r.register((0,_.forwardEvent)(r._bufferService.onResize,r._onResize)),r.register((0,_.forwardEvent)(r.coreService.onData,r._onData)),r.register((0,_.forwardEvent)(r.coreService.onBinary,r._onBinary)),r.register(r.optionsService.onOptionChange((function(e){return r._updateOptions(e)}))),r.register(r._bufferService.onScroll((function(e){r._onScroll.fire({position:r._bufferService.buffer.ydisp,source:0}),r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop,r._bufferService.buffer.scrollBottom)}))),r.register(r._inputHandler.onScroll((function(e){r._onScroll.fire({position:r._bufferService.buffer.ydisp,source:0}),r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop,r._bufferService.buffer.scrollBottom)}))),r._writeBuffer=new b.WriteBuffer((function(e,t){return r._inputHandler.parse(e,t)})),r.register((0,_.forwardEvent)(r._writeBuffer.onWriteParsed,r._onWriteParsed)),r}return n(t,e),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){var e=this;return this._onScrollApi||(this._onScrollApi=new _.EventEmitter,this.register(this._onScroll.event((function(t){var r;null===(r=e._onScrollApi)||void 0===r||r.fire(t.position)})))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},set:function(e){for(var t in e)this.optionsService.options[t]=e[t]},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e,t){this._logService.logLevel<=a.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(e,t)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,h.MINIMUM_COLS),t=Math.max(t,h.MINIMUM_ROWS),this._bufferService.resize(e,t))},t.prototype.scroll=function(e,t){void 0===t&&(t=!1),this._bufferService.scroll(e,t)},t.prototype.scrollLines=function(e,t,r){this._bufferService.scrollLines(e,t,r)},t.prototype.scrollPages=function(e){this._bufferService.scrollPages(e)},t.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},t.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},t.prototype.scrollToLine=function(e){this._bufferService.scrollToLine(e)},t.prototype.registerEscHandler=function(e,t){return this._inputHandler.registerEscHandler(e,t)},t.prototype.registerDcsHandler=function(e,t){return this._inputHandler.registerDcsHandler(e,t)},t.prototype.registerCsiHandler=function(e,t){return this._inputHandler.registerCsiHandler(e,t)},t.prototype.registerOscHandler=function(e,t){return this._inputHandler.registerOscHandler(e,t)},t.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},t.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},t.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.registerCsiHandler({final:"H"},(function(){return(0,g.updateWindowsModeWrappedState)(e._bufferService),!1}))),this._windowsMode={dispose:function(){var e,r;try{for(var i=o(t),n=i.next();!n.done;n=i.next())n.value.dispose()}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}}},t}(s.Disposable);t.CoreTerminal=C},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var r=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var r=0;r<e._listeners.length;r++)if(e._listeners[r]===t)return void e._listeners.splice(r,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var r=[],i=0;i<this._listeners.length;i++)r.push(this._listeners[i]);for(i=0;i<r.length;i++)r[i].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=r,t.forwardEvent=function(e,t){return e((function(e){return t.fire(e)}))}},5435:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var o,s=r(2584),a=r(7116),c=r(2015),l=r(844),h=r(8273),u=r(482),f=r(8437),_=r(8460),d=r(643),p=r(511),v=r(3734),y=r(2585),g=r(6242),m=r(6351),b=r(5941),S={"(":0,")":1,"*":2,"+":3,"-":1,".":2},C=131072;function w(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(o=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}));var L=function(){function e(e,t,r,i){this._bufferService=e,this._coreService=t,this._logService=r,this._optionsService=i,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,r){this._data=(0,h.concat)(this._data,e.subarray(t,r))},e.prototype.unhook=function(e){if(!e)return this._data=new Uint32Array(0),!0;var t=(0,u.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),t){case'"q':this._coreService.triggerDataEvent(s.C0.ESC+'P1$r0"q'+s.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(s.C0.ESC+'P1$r61;1"p'+s.C0.ESC+"\\");break;case"r":var r=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+r+s.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(s.C0.ESC+"P1$r0m"+s.C0.ESC+"\\");break;case" q":var i={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];i-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+i+" q"+s.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(s.C0.ESC+"P0$r"+s.C0.ESC+"\\")}return!0},e}(),E=function(e){function t(t,r,i,n,o,l,h,d,v){void 0===v&&(v=new c.EscapeSequenceParser);var y=e.call(this)||this;y._bufferService=t,y._charsetService=r,y._coreService=i,y._dirtyRowService=n,y._logService=o,y._optionsService=l,y._coreMouseService=h,y._unicodeService=d,y._parser=v,y._parseBuffer=new Uint32Array(4096),y._stringDecoder=new u.StringToUtf32,y._utf8Decoder=new u.Utf8ToUtf32,y._workCell=new p.CellData,y._windowTitle="",y._iconName="",y._windowTitleStack=[],y._iconNameStack=[],y._curAttrData=f.DEFAULT_ATTR_DATA.clone(),y._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone(),y._onRequestBell=new _.EventEmitter,y._onRequestRefreshRows=new _.EventEmitter,y._onRequestReset=new _.EventEmitter,y._onRequestSendFocus=new _.EventEmitter,y._onRequestSyncScrollBar=new _.EventEmitter,y._onRequestWindowsOptionsReport=new _.EventEmitter,y._onA11yChar=new _.EventEmitter,y._onA11yTab=new _.EventEmitter,y._onCursorMove=new _.EventEmitter,y._onLineFeed=new _.EventEmitter,y._onScroll=new _.EventEmitter,y._onTitleChange=new _.EventEmitter,y._onColor=new _.EventEmitter,y._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},y._specialColors=[256,257,258],y.register(y._parser),y._activeBuffer=y._bufferService.buffer,y.register(y._bufferService.buffers.onBufferActivate((function(e){return y._activeBuffer=e.activeBuffer}))),y._parser.setCsiHandlerFallback((function(e,t){y._logService.debug("Unknown CSI code: ",{identifier:y._parser.identToString(e),params:t.toArray()})})),y._parser.setEscHandlerFallback((function(e){y._logService.debug("Unknown ESC code: ",{identifier:y._parser.identToString(e)})})),y._parser.setExecuteHandlerFallback((function(e){y._logService.debug("Unknown EXECUTE code: ",{code:e})})),y._parser.setOscHandlerFallback((function(e,t,r){y._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:r})})),y._parser.setDcsHandlerFallback((function(e,t,r){"HOOK"===t&&(r=r.toArray()),y._logService.debug("Unknown DCS code: ",{identifier:y._parser.identToString(e),action:t,payload:r})})),y._parser.setPrintHandler((function(e,t,r){return y.print(e,t,r)})),y._parser.registerCsiHandler({final:"@"},(function(e){return y.insertChars(e)})),y._parser.registerCsiHandler({intermediates:" ",final:"@"},(function(e){return y.scrollLeft(e)})),y._parser.registerCsiHandler({final:"A"},(function(e){return y.cursorUp(e)})),y._parser.registerCsiHandler({intermediates:" ",final:"A"},(function(e){return y.scrollRight(e)})),y._parser.registerCsiHandler({final:"B"},(function(e){return y.cursorDown(e)})),y._parser.registerCsiHandler({final:"C"},(function(e){return y.cursorForward(e)})),y._parser.registerCsiHandler({final:"D"},(function(e){return y.cursorBackward(e)})),y._parser.registerCsiHandler({final:"E"},(function(e){return y.cursorNextLine(e)})),y._parser.registerCsiHandler({final:"F"},(function(e){return y.cursorPrecedingLine(e)})),y._parser.registerCsiHandler({final:"G"},(function(e){return y.cursorCharAbsolute(e)})),y._parser.registerCsiHandler({final:"H"},(function(e){return y.cursorPosition(e)})),y._parser.registerCsiHandler({final:"I"},(function(e){return y.cursorForwardTab(e)})),y._parser.registerCsiHandler({final:"J"},(function(e){return y.eraseInDisplay(e)})),y._parser.registerCsiHandler({prefix:"?",final:"J"},(function(e){return y.eraseInDisplay(e)})),y._parser.registerCsiHandler({final:"K"},(function(e){return y.eraseInLine(e)})),y._parser.registerCsiHandler({prefix:"?",final:"K"},(function(e){return y.eraseInLine(e)})),y._parser.registerCsiHandler({final:"L"},(function(e){return y.insertLines(e)})),y._parser.registerCsiHandler({final:"M"},(function(e){return y.deleteLines(e)})),y._parser.registerCsiHandler({final:"P"},(function(e){return y.deleteChars(e)})),y._parser.registerCsiHandler({final:"S"},(function(e){return y.scrollUp(e)})),y._parser.registerCsiHandler({final:"T"},(function(e){return y.scrollDown(e)})),y._parser.registerCsiHandler({final:"X"},(function(e){return y.eraseChars(e)})),y._parser.registerCsiHandler({final:"Z"},(function(e){return y.cursorBackwardTab(e)})),y._parser.registerCsiHandler({final:"`"},(function(e){return y.charPosAbsolute(e)})),y._parser.registerCsiHandler({final:"a"},(function(e){return y.hPositionRelative(e)})),y._parser.registerCsiHandler({final:"b"},(function(e){return y.repeatPrecedingCharacter(e)})),y._parser.registerCsiHandler({final:"c"},(function(e){return y.sendDeviceAttributesPrimary(e)})),y._parser.registerCsiHandler({prefix:">",final:"c"},(function(e){return y.sendDeviceAttributesSecondary(e)})),y._parser.registerCsiHandler({final:"d"},(function(e){return y.linePosAbsolute(e)})),y._parser.registerCsiHandler({final:"e"},(function(e){return y.vPositionRelative(e)})),y._parser.registerCsiHandler({final:"f"},(function(e){return y.hVPosition(e)})),y._parser.registerCsiHandler({final:"g"},(function(e){return y.tabClear(e)})),y._parser.registerCsiHandler({final:"h"},(function(e){return y.setMode(e)})),y._parser.registerCsiHandler({prefix:"?",final:"h"},(function(e){return y.setModePrivate(e)})),y._parser.registerCsiHandler({final:"l"},(function(e){return y.resetMode(e)})),y._parser.registerCsiHandler({prefix:"?",final:"l"},(function(e){return y.resetModePrivate(e)})),y._parser.registerCsiHandler({final:"m"},(function(e){return y.charAttributes(e)})),y._parser.registerCsiHandler({final:"n"},(function(e){return y.deviceStatus(e)})),y._parser.registerCsiHandler({prefix:"?",final:"n"},(function(e){return y.deviceStatusPrivate(e)})),y._parser.registerCsiHandler({intermediates:"!",final:"p"},(function(e){return y.softReset(e)})),y._parser.registerCsiHandler({intermediates:" ",final:"q"},(function(e){return y.setCursorStyle(e)})),y._parser.registerCsiHandler({final:"r"},(function(e){return y.setScrollRegion(e)})),y._parser.registerCsiHandler({final:"s"},(function(e){return y.saveCursor(e)})),y._parser.registerCsiHandler({final:"t"},(function(e){return y.windowOptions(e)})),y._parser.registerCsiHandler({final:"u"},(function(e){return y.restoreCursor(e)})),y._parser.registerCsiHandler({intermediates:"'",final:"}"},(function(e){return y.insertColumns(e)})),y._parser.registerCsiHandler({intermediates:"'",final:"~"},(function(e){return y.deleteColumns(e)})),y._parser.setExecuteHandler(s.C0.BEL,(function(){return y.bell()})),y._parser.setExecuteHandler(s.C0.LF,(function(){return y.lineFeed()})),y._parser.setExecuteHandler(s.C0.VT,(function(){return y.lineFeed()})),y._parser.setExecuteHandler(s.C0.FF,(function(){return y.lineFeed()})),y._parser.setExecuteHandler(s.C0.CR,(function(){return y.carriageReturn()})),y._parser.setExecuteHandler(s.C0.BS,(function(){return y.backspace()})),y._parser.setExecuteHandler(s.C0.HT,(function(){return y.tab()})),y._parser.setExecuteHandler(s.C0.SO,(function(){return y.shiftOut()})),y._parser.setExecuteHandler(s.C0.SI,(function(){return y.shiftIn()})),y._parser.setExecuteHandler(s.C1.IND,(function(){return y.index()})),y._parser.setExecuteHandler(s.C1.NEL,(function(){return y.nextLine()})),y._parser.setExecuteHandler(s.C1.HTS,(function(){return y.tabSet()})),y._parser.registerOscHandler(0,new g.OscHandler((function(e){return y.setTitle(e),y.setIconName(e),!0}))),y._parser.registerOscHandler(1,new g.OscHandler((function(e){return y.setIconName(e)}))),y._parser.registerOscHandler(2,new g.OscHandler((function(e){return y.setTitle(e)}))),y._parser.registerOscHandler(4,new g.OscHandler((function(e){return y.setOrReportIndexedColor(e)}))),y._parser.registerOscHandler(10,new g.OscHandler((function(e){return y.setOrReportFgColor(e)}))),y._parser.registerOscHandler(11,new g.OscHandler((function(e){return y.setOrReportBgColor(e)}))),y._parser.registerOscHandler(12,new g.OscHandler((function(e){return y.setOrReportCursorColor(e)}))),y._parser.registerOscHandler(104,new g.OscHandler((function(e){return y.restoreIndexedColor(e)}))),y._parser.registerOscHandler(110,new g.OscHandler((function(e){return y.restoreFgColor(e)}))),y._parser.registerOscHandler(111,new g.OscHandler((function(e){return y.restoreBgColor(e)}))),y._parser.registerOscHandler(112,new g.OscHandler((function(e){return y.restoreCursorColor(e)}))),y._parser.registerEscHandler({final:"7"},(function(){return y.saveCursor()})),y._parser.registerEscHandler({final:"8"},(function(){return y.restoreCursor()})),y._parser.registerEscHandler({final:"D"},(function(){return y.index()})),y._parser.registerEscHandler({final:"E"},(function(){return y.nextLine()})),y._parser.registerEscHandler({final:"H"},(function(){return y.tabSet()})),y._parser.registerEscHandler({final:"M"},(function(){return y.reverseIndex()})),y._parser.registerEscHandler({final:"="},(function(){return y.keypadApplicationMode()})),y._parser.registerEscHandler({final:">"},(function(){return y.keypadNumericMode()})),y._parser.registerEscHandler({final:"c"},(function(){return y.fullReset()})),y._parser.registerEscHandler({final:"n"},(function(){return y.setgLevel(2)})),y._parser.registerEscHandler({final:"o"},(function(){return y.setgLevel(3)})),y._parser.registerEscHandler({final:"|"},(function(){return y.setgLevel(3)})),y._parser.registerEscHandler({final:"}"},(function(){return y.setgLevel(2)})),y._parser.registerEscHandler({final:"~"},(function(){return y.setgLevel(1)})),y._parser.registerEscHandler({intermediates:"%",final:"@"},(function(){return y.selectDefaultCharset()})),y._parser.registerEscHandler({intermediates:"%",final:"G"},(function(){return y.selectDefaultCharset()}));var m=function(e){b._parser.registerEscHandler({intermediates:"(",final:e},(function(){return y.selectCharset("("+e)})),b._parser.registerEscHandler({intermediates:")",final:e},(function(){return y.selectCharset(")"+e)})),b._parser.registerEscHandler({intermediates:"*",final:e},(function(){return y.selectCharset("*"+e)})),b._parser.registerEscHandler({intermediates:"+",final:e},(function(){return y.selectCharset("+"+e)})),b._parser.registerEscHandler({intermediates:"-",final:e},(function(){return y.selectCharset("-"+e)})),b._parser.registerEscHandler({intermediates:".",final:e},(function(){return y.selectCharset("."+e)})),b._parser.registerEscHandler({intermediates:"/",final:e},(function(){return y.selectCharset("/"+e)}))},b=this;for(var S in a.CHARSETS)m(S);return y._parser.registerEscHandler({intermediates:"#",final:"8"},(function(){return y.screenAlignmentPattern()})),y._parser.setErrorHandler((function(e){return y._logService.error("Parsing error: ",e),e})),y._parser.registerDcsHandler({intermediates:"$",final:"q"},new L(y._bufferService,y._coreService,y._logService,y._optionsService)),y}return n(t,e),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._preserveStack=function(e,t,r,i){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=i},t.prototype._logSlowResolvingAsync=function(e){this._logService.logLevel<=y.LogLevelEnum.WARN&&Promise.race([e,new Promise((function(e,t){return setTimeout((function(){return t("#SLOW_TIMEOUT")}),5e3)}))]).catch((function(e){if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")}))},t.prototype.parse=function(e,t){var r,i=this._activeBuffer.x,n=this._activeBuffer.y,o=0,s=this._parseStack.paused;if(s){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;i=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>C&&(o=this._parseStack.position+C)}if(this._logService.logLevel<=y.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof e?' "'+e+'"':' "'+Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("")+'"'),"string"==typeof e?e.split("").map((function(e){return e.charCodeAt(0)})):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<C&&(this._parseBuffer=new Uint32Array(Math.min(e.length,C))),s||this._dirtyRowService.clearRange(),e.length>C)for(var a=o;a<e.length;a+=C){var c=a+C<e.length?a+C:e.length,l="string"==typeof e?this._stringDecoder.decode(e.substring(a,c),this._parseBuffer):this._utf8Decoder.decode(e.subarray(a,c),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,l))return this._preserveStack(i,n,l,a),this._logSlowResolvingAsync(r),r}else if(!s&&(l="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),r=this._parser.parse(this._parseBuffer,l)))return this._preserveStack(i,n,l,0),this._logSlowResolvingAsync(r),r;this._activeBuffer.x===i&&this._activeBuffer.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,r){var i,n,o=this._charsetService.charset,s=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,c=this._coreService.decPrivateModes.wraparound,l=this._coreService.modes.insertMode,h=this._curAttrData,f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&2===f.getWidth(this._activeBuffer.x-1)&&f.setCellFromCodePoint(this._activeBuffer.x-1,0,1,h.fg,h.bg,h.extended);for(var _=t;_<r;++_){if(i=e[_],n=this._unicodeService.wcwidth(i),i<127&&o){var p=o[String.fromCharCode(i)];p&&(i=p.charCodeAt(0))}if(s&&this._onA11yChar.fire((0,u.stringFromCodePoint)(i)),n||!this._activeBuffer.x){if(this._activeBuffer.x+n-1>=a)if(c){for(;this._activeBuffer.x<a;)f.setCellFromCodePoint(this._activeBuffer.x++,0,1,h.fg,h.bg,h.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=a-1,2===n)continue;if(l&&(f.insertCells(this._activeBuffer.x,n,this._activeBuffer.getNullCell(h),h),2===f.getWidth(a-1)&&f.setCellFromCodePoint(a-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,h.fg,h.bg,h.extended)),f.setCellFromCodePoint(this._activeBuffer.x++,i,n,h.fg,h.bg,h.extended),n>0)for(;--n;)f.setCellFromCodePoint(this._activeBuffer.x++,0,0,h.fg,h.bg,h.extended)}else f.getWidth(this._activeBuffer.x-1)?f.addCodepointToCell(this._activeBuffer.x-1,i):f.addCodepointToCell(this._activeBuffer.x-2,i)}r-t>0&&(f.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<a&&r-t>0&&0===f.getWidth(this._activeBuffer.x)&&!f.hasContent(this._activeBuffer.x)&&f.setCellFromCodePoint(this._activeBuffer.x,0,1,h.fg,h.bg,h.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype.registerCsiHandler=function(e,t){var r=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,(function(e){return!w(e.params[0],r._optionsService.rawOptions.windowOptions)||t(e)}))},t.prototype.registerDcsHandler=function(e,t){return this._parser.registerDcsHandler(e,new m.DcsHandler(t))},t.prototype.registerEscHandler=function(e,t){return this._parser.registerEscHandler(e,t)},t.prototype.registerOscHandler=function(e,t){return this._parser.registerOscHandler(e,new g.OscHandler(t))},t.prototype.bell=function(){return this._onRequestBell.fire(),!0},t.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},t.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},t.prototype.backspace=function(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},t.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0},t.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},t.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},t.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)},t.prototype.cursorUp=function(e){var t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0},t.prototype.cursorDown=function(e){var t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0},t.prototype.cursorForward=function(e){return this._moveCursor(e.params[0]||1,0),!0},t.prototype.cursorBackward=function(e){return this._moveCursor(-(e.params[0]||1),0),!0},t.prototype.cursorNextLine=function(e){return this.cursorDown(e),this._activeBuffer.x=0,!0},t.prototype.cursorPrecedingLine=function(e){return this.cursorUp(e),this._activeBuffer.x=0,!0},t.prototype.cursorCharAbsolute=function(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0},t.prototype.cursorPosition=function(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0},t.prototype.charPosAbsolute=function(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0},t.prototype.hPositionRelative=function(e){return this._moveCursor(e.params[0]||1,0),!0},t.prototype.linePosAbsolute=function(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0},t.prototype.vPositionRelative=function(e){return this._moveCursor(0,e.params[0]||1),!0},t.prototype.hVPosition=function(e){return this.cursorPosition(e),!0},t.prototype.tabClear=function(e){var t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0},t.prototype.cursorForwardTab=function(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var t=e.params[0]||1;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},t.prototype.cursorBackwardTab=function(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var t=e.params[0]||1;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},t.prototype._eraseInBufferLine=function(e,t,r,i){void 0===i&&(i=!1);var n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i&&(n.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);t.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(t=this._activeBuffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._activeBuffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var r=this._activeBuffer.lines.length-this._bufferService.rows;r>0&&(this._activeBuffer.lines.trimStart(r),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-r,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-r,0),this._onScroll.fire(0))}return!0},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var r=this._activeBuffer.ybase+this._activeBuffer.y,i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-i+1;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var r,i=this._activeBuffer.ybase+this._activeBuffer.y;for(r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-r;t--;)this._activeBuffer.lines.splice(i,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(f.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollLeft=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollRight=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.insertColumns=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.deleteColumns=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.repeatPrecedingCharacter=function(e){if(!this._parser.precedingCodepoint)return!0;for(var t=e.params[0]||1,r=new Uint32Array(t),i=0;i<t;++i)r[i]=this._parser.precedingCodepoint;return this.print(r,0,r.length),!0},t.prototype.sendDeviceAttributesPrimary=function(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c")),!0},t.prototype.sendDeviceAttributesSecondary=function(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c")),!0},t.prototype._is=function(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)4===e.params[t]&&(this._coreService.modes.insertMode=!0);return!0},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)4===e.params[t]&&(this._coreService.modes.insertMode=!1);return!0},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},t.prototype._updateAttrColor=function(e,t,r,i,n){return 2===t?(e|=50331648,e&=-16777216,e|=v.AttributeData.fromColorRGB([r,i,n])):5===t&&(e&=-50331904,e|=33554432|255&r),e},t.prototype._extractColor=function(e,t,r){var i=[0,0,-1,0,0,0],n=0,o=0;do{if(i[o+n]=e.params[t+o],e.hasSubParams(t+o)){var s=e.getSubParams(t+o),a=0;do{5===i[1]&&(n=1),i[o+a+1+n]=s[a]}while(++a<s.length&&a+o+1+n<i.length);break}if(5===i[1]&&o+n>=2||2===i[1]&&o+n>=5)break;i[1]&&(n=1)}while(++o+t<e.length&&o+n<i.length);for(a=2;a<i.length;++a)-1===i[a]&&(i[a]=0);switch(i[0]){case 38:r.fg=this._updateAttrColor(r.fg,i[1],i[3],i[4],i[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,i[1],i[3],i[4],i[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,i[1],i[3],i[4],i[5])}return o},t.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=f.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=f.DEFAULT_ATTR_DATA.bg,!0;for(var t,r=e.length,i=this._curAttrData,n=0;n<r;n++)(t=e.params[n])>=30&&t<=37?(i.fg&=-50331904,i.fg|=16777216|t-30):t>=40&&t<=47?(i.bg&=-50331904,i.bg|=16777216|t-40):t>=90&&t<=97?(i.fg&=-50331904,i.fg|=16777224|t-90):t>=100&&t<=107?(i.bg&=-50331904,i.bg|=16777224|t-100):0===t?(i.fg=f.DEFAULT_ATTR_DATA.fg,i.bg=f.DEFAULT_ATTR_DATA.bg):1===t?i.fg|=134217728:3===t?i.bg|=67108864:4===t?(i.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,i)):5===t?i.fg|=536870912:7===t?i.fg|=67108864:8===t?i.fg|=1073741824:9===t?i.fg|=2147483648:2===t?i.bg|=134217728:21===t?this._processUnderline(2,i):22===t?(i.fg&=-134217729,i.bg&=-134217729):23===t?i.bg&=-67108865:24===t?i.fg&=-268435457:25===t?i.fg&=-536870913:27===t?i.fg&=-67108865:28===t?i.fg&=-1073741825:29===t?i.fg&=2147483647:39===t?(i.fg&=-67108864,i.fg|=16777215&f.DEFAULT_ATTR_DATA.fg):49===t?(i.bg&=-67108864,i.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?n+=this._extractColor(e,n,i):59===t?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):100===t?(i.fg&=-67108864,i.fg|=16777215&f.DEFAULT_ATTR_DATA.fg,i.bg&=-67108864,i.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t);return!0},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(s.C0.ESC+"[0n");break;case 6:var t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"["+t+";"+r+"R")}return!0},t.prototype.deviceStatusPrivate=function(e){if(6===e.params[0]){var t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"[?"+t+";"+r+"R")}return!0},t.prototype.softReset=function(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var r=t%2==1;return this._optionsService.options.cursorBlink=r,!0},t.prototype.setScrollRegion=function(e){var t,r=e.params[0]||1;return(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>r&&(this._activeBuffer.scrollTop=r-1,this._activeBuffer.scrollBottom=t-1,this._setCursor(0,0)),!0},t.prototype.windowOptions=function(e){if(!w(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;var t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(o.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(o.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(s.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},t.prototype.saveCursor=function(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},t.prototype.restoreCursor=function(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},t.prototype.setTitle=function(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0},t.prototype.setIconName=function(e){return this._iconName=e,!0},t.prototype.setOrReportIndexedColor=function(e){for(var t=[],r=e.split(";");r.length>1;){var i=r.shift(),n=r.shift();if(/^\d+$/.exec(i)){var o=parseInt(i);if(0<=o&&o<256)if("?"===n)t.push({type:0,index:o});else{var s=(0,b.parseColor)(n);s&&t.push({type:1,index:o,color:s})}}}return t.length&&this._onColor.fire(t),!0},t.prototype._setOrReportSpecialColor=function(e,t){for(var r=e.split(";"),i=0;i<r.length&&!(t>=this._specialColors.length);++i,++t)if("?"===r[i])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{var n=(0,b.parseColor)(r[i]);n&&this._onColor.fire([{type:1,index:this._specialColors[t],color:n}])}return!0},t.prototype.setOrReportFgColor=function(e){return this._setOrReportSpecialColor(e,0)},t.prototype.setOrReportBgColor=function(e){return this._setOrReportSpecialColor(e,1)},t.prototype.setOrReportCursorColor=function(e){return this._setOrReportSpecialColor(e,2)},t.prototype.restoreIndexedColor=function(e){if(!e)return this._onColor.fire([{type:2}]),!0;for(var t=[],r=e.split(";"),i=0;i<r.length;++i)if(/^\d+$/.exec(r[i])){var n=parseInt(r[i]);0<=n&&n<256&&t.push({type:2,index:n})}return t.length&&this._onColor.fire(t),!0},t.prototype.restoreFgColor=function(e){return this._onColor.fire([{type:2,index:256}]),!0},t.prototype.restoreBgColor=function(e){return this._onColor.fire([{type:2,index:257}]),!0},t.prototype.restoreCursorColor=function(e){return this._onColor.fire([{type:2,index:258}]),!0},t.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},t.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},t.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},t.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),!0},t.prototype.selectCharset=function(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(S[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET),!0)},t.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},t.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},t.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},t.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},t.prototype.reset=function(){this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){return this._charsetService.setgLevel(e),!0},t.prototype.screenAlignmentPattern=function(){var e=new p.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(var t=0;t<this._bufferService.rows;++t){var r=this._activeBuffer.ybase+this._activeBuffer.y+t,i=this._activeBuffer.lines.get(r);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},t}(l.Disposable);t.InputHandler=E},844:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var i=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){var e,t;this._isDisposed=!0;try{for(var i=r(this._disposables),n=i.next();!n.done;n=i.next())n.value.dispose()}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();function n(e){var t,i;try{for(var n=r(e),o=n.next();!o.done;o=n.next())o.value.dispose()}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}e.length=0}t.Disposable=i,t.disposeArray=n,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return n(e)}}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isLegacyEdge=t.isFirefox=void 0;var r="undefined"==typeof navigator,i=r?"node":navigator.userAgent,n=r?"node":navigator.platform;t.isFirefox=i.includes("Firefox"),t.isLegacyEdge=i.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(n),t.isIpad="iPad"===n,t.isIphone="iPhone"===n,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(n),t.isLinux=n.indexOf("Linux")>=0},6106:function(e,t){var r=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;var i=function(){function e(e){this._getKey=e,this._array=[]}return e.prototype.clear=function(){this._array.length=0},e.prototype.insert=function(e){if(0!==this._array.length){var t=this._search(this._getKey(e),0,this._array.length-1);this._array.splice(t,0,e)}else this._array.push(e)},e.prototype.delete=function(e){if(0===this._array.length)return!1;var t=this._getKey(e),r=this._search(t,0,this._array.length-1);if(this._getKey(this._array[r])!==t)return!1;do{if(this._array[r]===e)return this._array.splice(r,1),!0}while(++r<this._array.length&&this._getKey(this._array[r])===t);return!1},e.prototype.getKeyIterator=function(e){var t;return r(this,(function(r){switch(r.label){case 0:if(0===this._array.length)return[2];if((t=this._search(e,0,this._array.length-1))<0||t>=this._array.length)return[2];if(this._getKey(this._array[t])!==e)return[2];r.label=1;case 1:return[4,this._array[t]];case 2:r.sent(),r.label=3;case 3:if(++t<this._array.length&&this._getKey(this._array[t])===e)return[3,1];r.label=4;case 4:return[2]}}))},e.prototype.values=function(){return this._array.values()},e.prototype._search=function(e,t,r){if(r<t)return t;var i=Math.floor((t+r)/2);if(this._getKey(this._array[i])>e)return this._search(e,t,i-1);if(this._getKey(this._array[i])<e)return this._search(e,i+1,r);for(;i>0&&this._getKey(this._array[i-1])===e;)i--;return i},e}();t.SortedList=i},8273:(e,t)=>{function r(e,t,r,i){if(void 0===r&&(r=0),void 0===i&&(i=e.length),r>=e.length)return e;r=(e.length+r)%e.length,i=i>=e.length?e.length:(e.length+i)%e.length;for(var n=r;n<i;++n)e[n]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,i,n){return e.fill?e.fill(t,i,n):r(e,t,i,n)},t.fillFallback=r,t.concat=function(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}},9282:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var i=r(643);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),r=null==t?void 0:t.get(e.cols-1),n=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);n&&r&&(n.isWrapped=r[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&r[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var r=function(){function e(){this.fg=0,this.bg=0,this.extended=new i}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.isStrikethrough=function(){return 2147483648&this.fg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},e.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},e.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},e.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},e.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},e.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},e.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},e.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},e}();t.AttributeData=r;var i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=i},9092:function(e,t,r){var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStringIterator=t.Buffer=t.MAX_BUFFER_SIZE=void 0;var o=r(6349),s=r(8437),a=r(511),c=r(643),l=r(4634),h=r(4863),u=r(7116),f=r(3734);t.MAX_BUFFER_SIZE=4294967295;var _=function(){function e(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=a.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=a.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new s.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var r=e+this._optionsService.rawOptions.scrollback;return r>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:r},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=s.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var r=this.getNullCell(s.DEFAULT_ATTR_DATA),i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(var n=0;n<this.lines.length;n++)this.lines.get(n).resize(e,r);var o=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new s.BufferLine(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(e,r)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var c=this.lines.length-i;c>0&&(this.lines.trimStart(c),this.ybase=Math.max(this.ybase-c,0),this.ydisp=Math.max(this.ydisp-c,0),this.savedY=Math.max(this.savedY-c,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),o&&(this.y+=o),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(n=0;n<this.lines.length;n++)this.lines.get(n).resize(e,r);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var r=(0,l.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(r.length>0){var i=(0,l.reflowLargerCreateNewLayout)(this.lines,r);(0,l.reflowLargerApplyNewLayout)(this.lines,i.layout),this._reflowLargerAdjustViewport(e,t,i.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,r){for(var i=this.getNullCell(s.DEFAULT_ATTR_DATA),n=r;n-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new s.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)},e.prototype._reflowSmaller=function(e,t){for(var r=this.getNullCell(s.DEFAULT_ATTR_DATA),o=[],a=0,c=this.lines.length-1;c>=0;c--){var h=this.lines.get(c);if(!(!h||!h.isWrapped&&h.getTrimmedLength()<=e)){for(var u=[h];h.isWrapped&&c>0;)h=this.lines.get(--c),u.unshift(h);var f=this.ybase+this.y;if(!(f>=c&&f<c+u.length)){var _,d=u[u.length-1].getTrimmedLength(),p=(0,l.reflowSmallerGetNewLineLengths)(u,this._cols,e),v=p.length-u.length;_=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+v):Math.max(0,this.lines.length-this.lines.maxLength+v);for(var y=[],g=0;g<v;g++){var m=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);y.push(m)}y.length>0&&(o.push({start:c+u.length+a,newLines:y}),a+=y.length),u.push.apply(u,n([],i(y),!1));var b=p.length-1,S=p[b];0===S&&(S=p[--b]);for(var C=u.length-v-1,w=d;C>=0;){var L=Math.min(w,S);if(void 0===u[b])break;if(u[b].copyCellsFrom(u[C],w-L,S-L,L,!0),0==(S-=L)&&(S=p[--b]),0==(w-=L)){C--;var E=Math.max(C,0);w=(0,l.getWrappedLineTrimmedLength)(u,E,this._cols)}}for(g=0;g<u.length;g++)p[g]<e&&u[g].setCell(p[g],r);for(var x=v-_;x-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+a)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+v,this.ybase+t-1)}}}if(o.length>0){var R=[],k=[];for(g=0;g<this.lines.length;g++)k.push(this.lines.get(g));var M=this.lines.length,A=M-1,O=0,D=o[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+a);var T=0;for(g=Math.min(this.lines.maxLength-1,M+a-1);g>=0;g--)if(D&&D.start>A+T){for(var B=D.newLines.length-1;B>=0;B--)this.lines.set(g--,D.newLines[B]);g++,R.push({index:A+1,amount:D.newLines.length}),T+=D.newLines.length,D=o[++O]}else this.lines.set(g,k[A--]);var P=0;for(g=R.length-1;g>=0;g--)R[g].index+=P,this.lines.onInsertEmitter.fire(R[g]),P+=R[g].amount;var I=Math.max(0,M+a-this.lines.maxLength);I>0&&this.lines.onTrimEmitter.fire(I)}},e.prototype.stringIndexToBufferIndex=function(e,t,r){for(void 0===r&&(r=!1);t;){var i=this.lines.get(e);if(!i)return[-1,-1];for(var n=r?i.getTrimmedLength():i.length,o=0;o<n;++o)if(i.get(o)[c.CHAR_DATA_WIDTH_INDEX]&&(t-=i.get(o)[c.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,r,i){void 0===r&&(r=0);var n=this.lines.get(e);return n?n.translateToString(t,r,i):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,r=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.clearMarkers=function(e){this._isClearing=!0;for(var t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1},e.prototype.clearAllMarkers=function(){this._isClearing=!0;for(var e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1},e.prototype.addMarker=function(e){var t=this,r=new h.Marker(e);return this.markers.push(r),r.register(this.lines.onTrim((function(e){r.line-=e,r.line<0&&r.dispose()}))),r.register(this.lines.onInsert((function(e){r.line>=e.index&&(r.line+=e.amount)}))),r.register(this.lines.onDelete((function(e){r.line>=e.index&&r.line<e.index+e.amount&&r.dispose(),r.line>e.index&&(r.line-=e.amount)}))),r.register(r.onDispose((function(){return t._removeMarker(r)}))),r},e.prototype._removeMarker=function(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,r,i,n){return new d(this,e,t,r,i,n)},e}();t.Buffer=_;var d=function(){function e(e,t,r,i,n,o){void 0===r&&(r=0),void 0===i&&(i=e.lines.length),void 0===n&&(n=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=r,this._endIndex=i,this._startOverscan=n,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",r=e.first;r<=e.last;++r)t+=this._buffer.translateBufferLineToString(r,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=d},8437:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var i=r(482),n=r(643),o=r(511),s=r(3734);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var a=function(){function e(e,t,r){void 0===r&&(r=!1),this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var i=t||o.CellData.fromCharData([0,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,i);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],r=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:r?(0,i.stringFromCodePoint)(r):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):r]},e.prototype.set=function(e,t){this._data[3*e+1]=t[n.CHAR_DATA_ATTR_INDEX],t[n.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[n.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[n.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,i.stringFromCodePoint)(2097151&t):""},e.prototype.loadCell=function(e,t){var r=3*e;return t.content=this._data[r+0],t.fg=this._data[r+1],t.bg=this._data[r+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,r,i,n,o){268435456&n&&(this._extendedAttrs[e]=o),this._data[3*e+0]=t|r<<22,this._data[3*e+1]=i,this._data[3*e+2]=n},e.prototype.addCodepointToCell=function(e,t){var r=this._data[3*e+0];2097152&r?this._combined[e]+=(0,i.stringFromCodePoint)(t):(2097151&r?(this._combined[e]=(0,i.stringFromCodePoint)(2097151&r)+(0,i.stringFromCodePoint)(t),r&=-2097152,r|=2097152):r=t|1<<22,this._data[3*e+0]=r)},e.prototype.insertCells=function(e,t,r,i){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length-e){for(var n=new o.CellData,a=this.length-e-t-1;a>=0;--a)this.setCell(e+t+a,this.loadCell(e+a,n));for(a=0;a<t;++a)this.setCell(e+a,r)}else for(a=e;a<this.length;++a)this.setCell(a,r);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.deleteCells=function(e,t,r,i){if(e%=this.length,t<this.length-e){for(var n=new o.CellData,a=0;a<this.length-e-t;++a)this.setCell(e+a,this.loadCell(e+t+a,n));for(a=this.length-t;a<this.length;++a)this.setCell(a,r)}else for(a=e;a<this.length;++a)this.setCell(a,r);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.replaceCells=function(e,t,r,i){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,r)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var r=new Uint32Array(3*e);this.length&&(3*e<this._data.length?r.set(this._data.subarray(0,3*e)):r.set(this._data)),this._data=r;for(var i=this.length;i<e;++i)this.setCell(i,t)}else if(e){(r=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=r;var n=Object.keys(this._combined);for(i=0;i<n.length;i++){var o=parseInt(n[i],10);o>=e&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var r in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[r]=this._combined[r];for(var r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,r,i,n){var o=e._data;if(n)for(var s=i-1;s>=0;s--)for(var a=0;a<3;a++)this._data[3*(r+s)+a]=o[3*(t+s)+a];else for(s=0;s<i;s++)for(a=0;a<3;a++)this._data[3*(r+s)+a]=o[3*(t+s)+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var l=parseInt(c[a],10);l>=t&&(this._combined[l-t+r]=e._combined[l])}},e.prototype.translateToString=function(e,t,r){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===r&&(r=this.length),e&&(r=Math.min(r,this.getTrimmedLength()));for(var o="";t<r;){var s=this._data[3*t+0],a=2097151&s;o+=2097152&s?this._combined[t]:a?(0,i.stringFromCodePoint)(a):n.WHITESPACE_CELL_CHAR,t+=s>>22||1}return o},e}();t.BufferLine=a},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error("Buffer range end ("+e.end.x+", "+e.end.y+") cannot be before start ("+e.start.x+", "+e.start.y+")");return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function r(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();var i=!e[t].hasContent(r-1)&&1===e[t].getWidth(r-1),n=2===e[t+1].getWidth(0);return i&&n?r-1:r}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,n,o){for(var s=[],a=0;a<e.length-1;a++){var c=a,l=e.get(++c);if(l.isWrapped){for(var h=[e.get(a)];c<e.length&&l.isWrapped;)h.push(l),l=e.get(++c);if(n>=a&&n<c)a+=h.length-1;else{for(var u=0,f=r(h,u,t),_=1,d=0;_<h.length;){var p=r(h,_,t),v=p-d,y=i-f,g=Math.min(v,y);h[u].copyCellsFrom(h[_],d,f,g,!1),(f+=g)===i&&(u++,f=0),(d+=g)===p&&(_++,d=0),0===f&&0!==u&&2===h[u-1].getWidth(i-1)&&(h[u].copyCellsFrom(h[u-1],i-1,f++,1,!1),h[u-1].setCell(i-1,o))}h[u].replaceCells(f,i,o);for(var m=0,b=h.length-1;b>0&&(b>u||0===h[b].getTrimmedLength());b--)m++;m>0&&(s.push(a+h.length-m),s.push(m)),a+=h.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var r=[],i=0,n=t[i],o=0,s=0;s<e.length;s++)if(n===s){var a=t[++i];e.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,n=t[++i]}else r.push(s);return{layout:r,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var r=[],i=0;i<t.length;i++)r.push(e.get(t[i]));for(i=0;i<r.length;i++)e.set(i,r[i]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){for(var n=[],o=e.map((function(i,n){return r(e,n,t)})).reduce((function(e,t){return e+t})),s=0,a=0,c=0;c<o;){if(o-c<i){n.push(o-c);break}s+=i;var l=r(e,a,t);s>l&&(s-=l,a++);var h=2===e[a].getWidth(s-1);h&&s--;var u=h?i-1:i;n.push(u),c+=u}return n},t.getWrappedLineTrimmedLength=r},5295:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var o=r(9092),s=r(8460),a=function(e){function t(t,r){var i=e.call(this)||this;return i._optionsService=t,i._bufferService=r,i._onBufferActivate=i.register(new s.EventEmitter),i.reset(),i}return n(t,e),Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._normal=new o.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new o.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(r(844).Disposable);t.BufferSet=a},511:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var o=r(482),s=r(643),a=r(3734),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.extended=new a.ExtendedAttrs,t.combinedData="",t}return n(t,e),t.fromCharData=function(e){var r=new t;return r.setFromCharData(e),r},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,o.stringFromCodePoint)(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[s.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var r=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(r-55296)+i-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.CellData=c},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var o=r(8460),s=function(e){function t(r){var i=e.call(this)||this;return i.line=r,i._id=t._nextId++,i.isDisposed=!1,i._onDispose=new o.EventEmitter,i}return n(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),e.prototype.dispose.call(this))},t._nextId=1,t}(r(844).Disposable);t.Marker=s},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},t.CHARSETS.A={"#":""},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},t.CHARSETS.C=t.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},t.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},t.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.E=t.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},t.CHARSETS.H=t.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(e,t)=>{var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(r=t.C0||(t.C0={})),(i=t.C1||(t.C1={})).PAD="",i.HOP="",i.BPH="",i.NBH="",i.IND="",i.NEL="",i.SSA="",i.ESA="",i.HTS="",i.HTJ="",i.VTS="",i.PLD="",i.PLU="",i.RI="",i.SS2="",i.SS3="",i.DCS="",i.PU1="",i.PU2="",i.STS="",i.CCH="",i.MW="",i.SPA="",i.EPA="",i.SOS="",i.SGCI="",i.SCI="",i.CSI="",i.ST="",i.OSC="",i.PM="",i.APC="",(t.C1_ESCAPED||(t.C1_ESCAPED={})).ST=r.ESC+"\\"},7399:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var i=r(2584),n={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,r,o){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=i.C0.BS;break}if(e.altKey){s.key=i.C0.ESC+i.C0.DEL;break}s.key=i.C0.DEL;break;case 9:if(e.shiftKey){s.key=i.C0.ESC+"[Z";break}s.key=i.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?i.C0.ESC+i.C0.CR:i.C0.CR,s.cancel=!0;break;case 27:s.key=i.C0.ESC,e.altKey&&(s.key=i.C0.ESC+i.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"D",s.key===i.C0.ESC+"[1;3D"&&(s.key=i.C0.ESC+(r?"b":"[1;5D"))):s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"C",s.key===i.C0.ESC+"[1;3C"&&(s.key=i.C0.ESC+(r?"f":"[1;5C"))):s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"A",r||s.key!==i.C0.ESC+"[1;3A"||(s.key=i.C0.ESC+"[1;5A")):s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"B",r||s.key!==i.C0.ESC+"[1;3B"||(s.key=i.C0.ESC+"[1;5B")):s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=i.C0.ESC+"[2~");break;case 46:s.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:s.key=a?i.C0.ESC+"[1;"+(a+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:s.key=a?i.C0.ESC+"[1;"+(a+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:e.ctrlKey?s.key=i.C0.ESC+"[5;"+(a+1)+"~":s.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:e.ctrlKey?s.key=i.C0.ESC+"[6;"+(a+1)+"~":s.key=i.C0.ESC+"[6~";break;case 112:s.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:s.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:s.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:s.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:s.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:s.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:s.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:s.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:s.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:s.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:s.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:s.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(r&&!o||!e.altKey||e.metaKey)!r||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(s.key=i.C0.US),"@"===e.key&&(s.key=i.C0.NUL)):65===e.keyCode&&(s.type=1);else{var c=n[e.keyCode],l=null==c?void 0:c[e.shiftKey?1:0];if(l)s.key=i.C0.ESC+l;else if(e.keyCode>=65&&e.keyCode<=90){var h=e.ctrlKey?e.keyCode-64:e.keyCode+32,u=String.fromCharCode(h);e.shiftKey&&(u=u.toUpperCase()),s.key=i.C0.ESC+u}else"Dead"===e.key&&e.code.startsWith("Key")&&(u=e.code.slice(3,4),e.shiftKey||(u=u.toLowerCase()),s.key=i.C0.ESC+u,s.cancel=!0)}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=i.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=i.C0.DEL:219===e.keyCode?s.key=i.C0.ESC:220===e.keyCode?s.key=i.C0.FS:221===e.keyCode&&(s.key=i.C0.GS)}return s}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length);for(var i="",n=t;n<r;++n){var o=e[n];o>65535?(o-=65536,i+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):i+=String.fromCharCode(o)}return i};var r=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var i=0,n=0;this._interim&&(56320<=(a=e.charCodeAt(n++))&&a<=57343?t[i++]=1024*(this._interim-55296)+a-56320+65536:(t[i++]=this._interim,t[i++]=a),this._interim=0);for(var o=n;o<r;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=56319){if(++o>=r)return this._interim=s,i;var a;56320<=(a=e.charCodeAt(o))&&a<=57343?t[i++]=1024*(s-55296)+a-56320+65536:(t[i++]=s,t[i++]=a)}else 65279!==s&&(t[i++]=s)}return i},e}();t.StringToUtf32=r;var i=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var i,n,o,s,a=0,c=0,l=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var f=0,_=void 0;(_=63&this.interim[++f])&&f<4;)u<<=6,u|=_;for(var d=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,p=d-f;l<p;){if(l>=r)return 0;if(128!=(192&(_=e[l++]))){l--,h=!0;break}this.interim[f++]=_,u<<=6,u|=63&_}h||(2===d?u<128?l--:t[a++]=u:3===d?u<2048||u>=55296&&u<=57343||65279===u||(t[a++]=u):u<65536||u>1114111||(t[a++]=u)),this.interim.fill(0)}for(var v=r-4,y=l;y<r;){for(;!(!(y<v)||128&(i=e[y])||128&(n=e[y+1])||128&(o=e[y+2])||128&(s=e[y+3]));)t[a++]=i,t[a++]=n,t[a++]=o,t[a++]=s,y+=4;if((i=e[y++])<128)t[a++]=i;else if(192==(224&i)){if(y>=r)return this.interim[0]=i,a;if(128!=(192&(n=e[y++]))){y--;continue}if((c=(31&i)<<6|63&n)<128){y--;continue}t[a++]=c}else if(224==(240&i)){if(y>=r)return this.interim[0]=i,a;if(128!=(192&(n=e[y++]))){y--;continue}if(y>=r)return this.interim[0]=i,this.interim[1]=n,a;if(128!=(192&(o=e[y++]))){y--;continue}if((c=(15&i)<<12|(63&n)<<6|63&o)<2048||c>=55296&&c<=57343||65279===c)continue;t[a++]=c}else if(240==(248&i)){if(y>=r)return this.interim[0]=i,a;if(128!=(192&(n=e[y++]))){y--;continue}if(y>=r)return this.interim[0]=i,this.interim[1]=n,a;if(128!=(192&(o=e[y++]))){y--;continue}if(y>=r)return this.interim[0]=i,this.interim[1]=n,this.interim[2]=o,a;if(128!=(192&(s=e[y++]))){y--;continue}if((c=(7&i)<<18|(63&n)<<12|(63&o)<<6|63&s)<65536||c>1114111)continue;t[a++]=c}}return a},e}();t.Utf8ToUtf32=i},225:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var i,n=r(8273),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!i){i=new Uint8Array(65536),(0,n.fill)(i,1),i[0]=0,(0,n.fill)(i,0,1,32),(0,n.fill)(i,0,127,160),(0,n.fill)(i,2,4352,4448),i[9001]=2,i[9002]=2,(0,n.fill)(i,2,11904,42192),i[12351]=1,(0,n.fill)(i,2,44032,55204),(0,n.fill)(i,2,63744,64256),(0,n.fill)(i,2,65040,65050),(0,n.fill)(i,2,65072,65136),(0,n.fill)(i,2,65280,65377),(0,n.fill)(i,2,65504,65511);for(var e=0;e<o.length;++e)(0,n.fill)(i,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?i[e]:function(e,t){var r,i=0,n=t.length-1;if(e<t[0][0]||e>t[n][1])return!1;for(;n>=i;)if(e>t[r=i+n>>1][1])i=r+1;else{if(!(e<t[r][0]))return!0;n=r-1}return!1}(e,s)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},5981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var i=r(8460),n="undefined"==typeof queueMicrotask?function(e){Promise.resolve().then(e)}:queueMicrotask,o=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new i.EventEmitter}return Object.defineProperty(e.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),e.prototype.writeSync=function(e,t){if(void 0!==t&&this._syncCalls>t)this._syncCalls=0;else if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var r;for(this._isSyncWriting=!0;r=this._writeBuffer.shift();){this._action(r);var i=this._callbacks.shift();i&&i()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},e.prototype.write=function(e,t){var r=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return r._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(e,t){var r=this;void 0===e&&(e=0),void 0===t&&(t=!0);for(var i=e||Date.now();this._writeBuffer.length>this._bufferOffset;){var o=this._writeBuffer[this._bufferOffset],s=this._action(o,t);if(s)return void s.catch((function(e){return n((function(){throw e})),Promise.resolve(!1)})).then((function(e){return Date.now()-i>=12?setTimeout((function(){return r._innerWrite(0,e)})):r._innerWrite(i,e)}));var a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-i>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return r._innerWrite()}))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()},e}();t.WriteBuffer=o},5941:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;var i=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,n=/^[\da-f]+$/;function o(e,t){var r=e.toString(16),i=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return i;case 12:return(i+i).slice(0,3);default:return i+i}}t.parseColor=function(e){if(e){var t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);var r=i.exec(t);if(r){var o=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/o*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/o*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/o*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),n.exec(t)&&[3,6,9,12].includes(t.length))){for(var s=t.length/3,a=[0,0,0],c=0;c<3;++c){var l=parseInt(t.slice(s*c,s*c+s),16);a[c]=1===s?l<<4:2===s?l:3===s?l>>4:l>>8}return a}}},t.toRgbString=function(e,t){void 0===t&&(t=16);var i=r(e,3),n=i[0],s=i[1],a=i[2];return"rgb:"+o(n,t)+"/"+o(s,t)+"/"+o(a,t)}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var i=r(482),n=r(8742),o=r(5770),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=s},e.prototype.registerHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){if(this._active.length)for(var e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,r){if(this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,r);else this._handlerFb(this._ident,"PUT",(0,i.utf32ToString)(e,t,r))},e.prototype.unhook=function(e,t){if(void 0===t&&(t=!0),this._active.length){var r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===r){for(;i>=0&&!0!==(r=this._active[i].unhook(e));i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if((r=this._active[i].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var c=new n.Params;c.addParam(0);var l=function(){function e(e){this._handler=e,this._data="",this._params=c,this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.length>1||e.params[0]?e.clone():c,this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=(0,i.utf32ToString)(e,t,r),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t=this,r=!1;if(this._hitLimit)r=!1;else if(e&&(r=this._handler(this._data,this._params))instanceof Promise)return r.then((function(e){return t._params=c,t._data="",t._hitLimit=!1,e}));return this._params=c,this._data="",this._hitLimit=!1,r},e}();t.DcsHandler=l},2015:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;var o=r(844),s=r(8273),a=r(8742),c=r(6242),l=r(6351),h=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){(0,s.fill)(this.table,e<<4|t)},e.prototype.add=function(e,t,r,i){this.table[t<<8|e]=r<<4|i},e.prototype.addMany=function(e,t,r,i){for(var n=0;n<e.length;n++)this.table[t<<8|e[n]]=r<<4|i},e}();t.TransitionTable=h;var u=160;t.VT500_TRANSITION_TABLE=function(){var e=new h(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),r=function(e,r){return t.slice(e,r)},i=r(32,127),n=r(0,24);n.push(25),n.push.apply(n,r(28,32));var o,s=r(0,14);for(o in e.setDefault(1,0),e.addMany(i,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(r(128,144),o,3,0),e.addMany(r(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(u,0,2,0),e.add(u,8,5,8),e.add(u,6,0,6),e.add(u,11,0,11),e.add(u,13,13,13),e}();var f=function(e){function r(r){void 0===r&&(r=t.VT500_TRANSITION_TABLE);var i=e.call(this)||this;return i._transitions=r,i._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},i.initialState=0,i.currentState=i.initialState,i._params=new a.Params,i._params.addParam(0),i._collect=0,i.precedingCodepoint=0,i._printHandlerFb=function(e,t,r){},i._executeHandlerFb=function(e){},i._csiHandlerFb=function(e,t){},i._escHandlerFb=function(e){},i._errorHandlerFb=function(e){return e},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscParser=new c.OscParser,i._dcsParser=new l.DcsParser,i._errorHandler=i._errorHandlerFb,i.registerEscHandler({final:"\\"},(function(){return!0})),i}return n(r,e),r.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((r=e.prefix.charCodeAt(0))&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var i=0;i<e.intermediates.length;++i){var n=e.intermediates.charCodeAt(i);if(32>n||n>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=n}}if(1!==e.final.length)throw new Error("final must be a single byte");var o=e.final.charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(r<<=8)|o},r.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},r.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},r.prototype.setPrintHandler=function(e){this._printHandler=e},r.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},r.prototype.registerEscHandler=function(e,t){var r=this._identifier(e,[48,126]);void 0===this._escHandlers[r]&&(this._escHandlers[r]=[]);var i=this._escHandlers[r];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},r.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},r.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},r.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},r.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},r.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},r.prototype.registerCsiHandler=function(e,t){var r=this._identifier(e);void 0===this._csiHandlers[r]&&(this._csiHandlers[r]=[]);var i=this._csiHandlers[r];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},r.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},r.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},r.prototype.registerDcsHandler=function(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)},r.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},r.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},r.prototype.registerOscHandler=function(e,t){return this._oscParser.registerHandler(e,t)},r.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},r.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},r.prototype.setErrorHandler=function(e){this._errorHandler=e},r.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},r.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])},r.prototype._preserveStack=function(e,t,r,i,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=i,this._parseStack.chunkPos=n},r.prototype.parse=function(e,t,r){var i,n=0,o=0,s=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(void 0===r||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var a=this._parseStack.handlers,c=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===r&&c>-1)for(;c>=0&&!0!==(i=a[c](this._params));c--)if(i instanceof Promise)return this._parseStack.handlerPos=c,i;this._parseStack.handlers=[];break;case 4:if(!1===r&&c>-1)for(;c>=0&&!0!==(i=a[c]());c--)if(i instanceof Promise)return this._parseStack.handlerPos=c,i;this._parseStack.handlers=[];break;case 6:if(n=e[this._parseStack.chunkPos],i=this._dcsParser.unhook(24!==n&&26!==n,r))return i;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(n=e[this._parseStack.chunkPos],i=this._oscParser.end(24!==n&&26!==n,r))return i;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var l=s;l<t;++l){switch(n=e[l],(o=this._transitions.table[this.currentState<<8|(n<160?n:u)])>>4){case 2:for(var h=l+1;;++h){if(h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:l,code:n,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var f=(a=this._csiHandlers[this._collect<<8|n])?a.length-1:-1;f>=0&&!0!==(i=a[f](this._params));f--)if(i instanceof Promise)return this._preserveStack(3,a,f,o,l),i;f<0&&this._csiHandlerFb(this._collect<<8|n,this._params),this.precedingCodepoint=0;break;case 8:do{switch(n){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(n-48)}}while(++l<t&&(n=e[l])>47&&n<60);l--;break;case 9:this._collect<<=8,this._collect|=n;break;case 10:for(var _=this._escHandlers[this._collect<<8|n],d=_?_.length-1:-1;d>=0&&!0!==(i=_[d]());d--)if(i instanceof Promise)return this._preserveStack(4,_,d,o,l),i;d<0&&this._escHandlerFb(this._collect<<8|n),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|n,this._params);break;case 13:for(var p=l+1;;++p)if(p>=t||24===(n=e[p])||26===n||27===n||n>127&&n<u){this._dcsParser.put(e,l,p),l=p-1;break}break;case 14:if(i=this._dcsParser.unhook(24!==n&&26!==n))return this._preserveStack(6,[],0,o,l),i;27===n&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var v=l+1;;v++)if(v>=t||(n=e[v])<32||n>127&&n<u){this._oscParser.put(e,l,v),l=v-1;break}break;case 6:if(i=this._oscParser.end(24!==n&&26!==n))return this._preserveStack(5,[],0,o,l),i;27===n&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&o}},r}(o.Disposable);t.EscapeSequenceParser=f},6242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var i=r(5770),n=r(482),o=[],s=function(){function e(){this._state=0,this._active=o,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return e.prototype.registerHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=o},e.prototype.reset=function(){if(2===this._state)for(var e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=o,this._id=-1,this._state=0},e.prototype._start=function(){if(this._active=this._handlers[this._id]||o,this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,r){if(this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r);else this._handlerFb(this._id,"PUT",(0,n.utf32ToString)(e,t,r))},e.prototype.start=function(){this.reset(),this._state=1},e.prototype.put=function(e,t,r){if(3!==this._state){if(1===this._state)for(;t<r;){var i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&r-t>0&&this._put(e,t,r)}},e.prototype.end=function(e,t){if(void 0===t&&(t=!0),0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){var r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===r){for(;i>=0&&!0!==(r=this._active[i].end(e));i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if((r=this._active[i].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._id,"END",e);this._active=o,this._id=-1,this._state=0}},e}();t.OscParser=s;var a=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=(0,n.utf32ToString)(e,t,r),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t=this,r=!1;if(this._hitLimit)r=!1;else if(e&&(r=this._handler(this._data))instanceof Promise)return r.then((function(e){return t._data="",t._hitLimit=!1,e}));return this._data="",this._hitLimit=!1,r},e}();t.OscHandler=a},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var r=2147483647,i=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var r=new e;if(!t.length)return r;for(var i=Array.isArray(t[0])?1:0;i<t.length;++i){var n=t[i];if(Array.isArray(n))for(var o=0;o<n.length;++o)r.addSubParam(n[o]);else r.addParam(n)}return r},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&e.push(Array.prototype.slice.call(this._subParams,r,i))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>r?r:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>r?r:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,r=255&this._subParamsIdx[e];return r-t>0?this._subParams.subarray(t,r):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&(e[t]=this._subParams.slice(r,i))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,n=i[t-1];i[t-1]=~n?Math.min(10*n+e,r):e}},e}();t.Params=i},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var r=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var r=this,i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=function(){return r._wrappedAddonDispose(i)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=r},8771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;var i=r(3785),n=r(511),o=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new i.BufferLineApiView(t)},e.prototype.getNullCell=function(){return new n.CellData},e}();t.BufferApiView=o},3785:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;var i=r(511),n=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new i.CellData)},e.prototype.translateToString=function(e,t,r){return this._line.translateToString(e,t,r)},e}();t.BufferLineApiView=n},8285:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;var i=r(8771),n=r(8460),o=function(){function e(e){var t=this;this._core=e,this._onBufferChange=new n.EventEmitter,this._normal=new i.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new i.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),e}();t.BufferNamespaceApi=o},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0;var r=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.registerCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.registerDcsHandler(e,(function(e,r){return t(e,r.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.registerEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.registerOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}();t.ParserApi=r},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0;var r=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}();t.UnicodeApi=r},744:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;var a=r(2585),c=r(5295),l=r(8460),h=r(844);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var u=function(e){function r(r){var i=e.call(this)||this;return i._optionsService=r,i.isUserScrolling=!1,i._onResize=new l.EventEmitter,i._onScroll=new l.EventEmitter,i.cols=Math.max(r.rawOptions.cols||0,t.MINIMUM_COLS),i.rows=Math.max(r.rawOptions.rows||0,t.MINIMUM_ROWS),i.buffers=new c.BufferSet(r,i),i}return n(r,e),Object.defineProperty(r.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){e.prototype.dispose.call(this),this.buffers.dispose()},r.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},r.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},r.prototype.scroll=function(e,t){void 0===t&&(t=!1);var r,i=this.buffer;(r=this._cachedBlankLine)&&r.length===this.cols&&r.getFg(0)===e.fg&&r.getBg(0)===e.bg||(r=i.getBlankLine(e,t),this._cachedBlankLine=r),r.isWrapped=t;var n=i.ybase+i.scrollTop,o=i.ybase+i.scrollBottom;if(0===i.scrollTop){var s=i.lines.isFull;o===i.lines.length-1?s?i.lines.recycle().copyFrom(r):i.lines.push(r.clone()):i.lines.splice(o+1,0,r.clone()),s?this.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this.isUserScrolling||i.ydisp++)}else{var a=o-n+1;i.lines.shiftElements(n+1,a-1,-1),i.lines.set(o,r.clone())}this.isUserScrolling||(i.ydisp=i.ybase),this._onScroll.fire(i.ydisp)},r.prototype.scrollLines=function(e,t,r){var i=this.buffer;if(e<0){if(0===i.ydisp)return;this.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this.isUserScrolling=!1);var n=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),n!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))},r.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},r.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},r.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},r.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},o([s(0,a.IOptionsService)],r)}(h.Disposable);t.BufferService=u},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var r=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=r},1753:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var s=r(2585),a=r(8460),c={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function l(e,t){var r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(r|=64,r|=e.action):(r|=3&e.button,4&e.button&&(r|=64),8&e.button&&(r|=128),32===e.action?r|=32:0!==e.action||t||(r|=3)),r}var h=String.fromCharCode,u={DEFAULT:function(e){var t=[l(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+h(t[0])+h(t[1])+h(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"[<"+l(e,!0)+";"+e.col+";"+e.row+t}},f=function(){function e(e,t){var r,i,n,s;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new a.EventEmitter,this._lastEvent=null;try{for(var l=o(Object.keys(c)),h=l.next();!h.done;h=l.next()){var f=h.value;this.addProtocol(f,c[f])}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}try{for(var _=o(Object.keys(u)),d=_.next();!d.done;d=_.next()){var p=d.value;this.addEncoding(p,u[p])}}catch(e){n={error:e}}finally{try{d&&!d.done&&(s=_.return)&&s.call(_)}finally{if(n)throw n.error}}this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},i([n(0,s.IBufferService),n(1,s.ICoreService)],e)}();t.CoreMouseService=f},6975:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var a=r(2585),c=r(8460),l=r(1439),h=r(844),u=Object.freeze({insertMode:!1}),f=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),_=function(e){function t(t,r,i,n){var o=e.call(this)||this;return o._bufferService=r,o._logService=i,o._optionsService=n,o.isCursorInitialized=!1,o.isCursorHidden=!1,o._onData=o.register(new c.EventEmitter),o._onUserInput=o.register(new c.EventEmitter),o._onBinary=o.register(new c.EventEmitter),o._scrollToBottom=t,o.register({dispose:function(){return o._scrollToBottom=void 0}}),o.modes=(0,l.clone)(u),o.decPrivateModes=(0,l.clone)(f),o}return n(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=(0,l.clone)(u),this.decPrivateModes=(0,l.clone)(f)},t.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.rawOptions.disableStdin){var r=this._bufferService.buffer;r.ybase!==r.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},t.prototype.triggerBinaryEvent=function(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},o([s(1,a.IBufferService),s(2,a.ILogService),s(3,a.IOptionsService)],t)}(h.Disposable);t.CoreService=_},9074:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;var a=r(8055),c=r(8460),l=r(844),h=r(6106),u=function(e){function t(){var t=e.call(this)||this;return t._decorations=new h.SortedList((function(e){return e.marker.line})),t._onDecorationRegistered=t.register(new c.EventEmitter),t._onDecorationRemoved=t.register(new c.EventEmitter),t}return n(t,e),Object.defineProperty(t.prototype,"onDecorationRegistered",{get:function(){return this._onDecorationRegistered.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDecorationRemoved",{get:function(){return this._onDecorationRemoved.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decorations",{get:function(){return this._decorations.values()},enumerable:!1,configurable:!0}),t.prototype.registerDecoration=function(e){var t=this;if(!e.marker.isDisposed){var r=new f(e);if(r){var i=r.marker.onDispose((function(){return r.dispose()}));r.onDispose((function(){r&&(t._decorations.delete(r)&&t._onDecorationRemoved.fire(r),i.dispose())})),this._decorations.insert(r),this._onDecorationRegistered.fire(r)}return r}},t.prototype.reset=function(){var e,t;try{for(var r=s(this._decorations.values()),i=r.next();!i.done;i=r.next())i.value.dispose()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._decorations.clear()},t.prototype.getDecorationsAtLine=function(e){return o(this,(function(t){return[2,this._decorations.getKeyIterator(e)]}))},t.prototype.getDecorationsAtCell=function(e,t,r){var i,n,a,c,l,h,u,f,_,d,p;return o(this,(function(o){switch(o.label){case 0:i=0,n=0,o.label=1;case 1:o.trys.push([1,6,7,8]),a=s(this._decorations.getKeyIterator(t)),c=a.next(),o.label=2;case 2:return c.done?[3,5]:(l=c.value,i=null!==(_=l.options.x)&&void 0!==_?_:0,n=i+(null!==(d=l.options.width)&&void 0!==d?d:1),!(e>=i&&e<n)||r&&(null!==(p=l.options.layer)&&void 0!==p?p:"bottom")!==r?[3,4]:[4,l]);case 3:o.sent(),o.label=4;case 4:return c=a.next(),[3,2];case 5:return[3,8];case 6:return h=o.sent(),u={error:h},[3,8];case 7:try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(u)throw u.error}return[7];case 8:return[2]}}))},t.prototype.dispose=function(){var e,t;try{for(var r=s(this._decorations.values()),i=r.next();!i.done;i=r.next()){var n=i.value;this._onDecorationRemoved.fire(n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.reset()},t}(l.Disposable);t.DecorationService=u;var f=function(e){function t(t){var r=e.call(this)||this;return r.options=t,r.isDisposed=!1,r.onRenderEmitter=r.register(new c.EventEmitter),r.onRender=r.onRenderEmitter.event,r._onDispose=r.register(new c.EventEmitter),r.onDispose=r._onDispose.event,r._cachedBg=null,r._cachedFg=null,r.marker=t.marker,r.options.overviewRulerOptions&&!r.options.overviewRulerOptions.position&&(r.options.overviewRulerOptions.position="full"),r}return n(t,e),Object.defineProperty(t.prototype,"backgroundColorRGB",{get:function(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=a.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foregroundColorRGB",{get:function(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=a.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),e.prototype.dispose.call(this))},t}(l.Disposable)},3730:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var o=r(2585),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var r=e;e=t,t=r}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},i([n(0,o.IBufferService)],e)}();t.DirtyRowService=s},4348:function(e,t,r){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var s=r(2585),a=r(8343),c=function(){function e(){for(var e,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._entries=new Map;try{for(var s=i(r),a=s.next();!a.done;a=s.next()){var c=n(a.value,2),l=c[0],h=c[1];this.set(l,h)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}return e.prototype.set=function(e,t){var r=this._entries.get(e);return this._entries.set(e,t),r},e.prototype.forEach=function(e){this._entries.forEach((function(t,r){return e(r,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=c;var l=function(){function e(){this._services=new c,this._services.set(s.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t,r,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];var l=(0,a.getServiceDependencies)(e).sort((function(e,t){return e.index-t.index})),h=[];try{for(var u=i(l),f=u.next();!f.done;f=u.next()){var _=f.value,d=this._services.get(_.id);if(!d)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+_.id+".");h.push(d)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}var p=l.length>0?l[0].index:s.length;if(s.length!==p)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(p+1)+" conflicts with "+s.length+" static arguments");return new(e.bind.apply(e,o([void 0],n(o(o([],n(s),!1),n(h),!1)),!1)))},e}();t.InstantiationService=l},7866:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=void 0;var a=r(2585),c={debug:a.LogLevelEnum.DEBUG,info:a.LogLevelEnum.INFO,warn:a.LogLevelEnum.WARN,error:a.LogLevelEnum.ERROR,off:a.LogLevelEnum.OFF},l=function(){function e(e){var t=this;this._optionsService=e,this.logLevel=a.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this.logLevel=c[this._optionsService.rawOptions.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,r){this._evalLazyOptionalParams(r),e.call.apply(e,s([console,"xterm.js: "+t],o(r),!1))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.ERROR&&this._log(console.error,e,t)},i([n(0,a.IOptionsService)],e)}();t.LogService=l},7302:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=t.DEFAULT_BELL_SOUND=void 0;var n=r(8460),o=r(6114);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:o.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:void 0};var s=["normal","bold","100","200","300","400","500","600","700","800","900"],a=function(){function e(e){this._onOptionChange=new n.EventEmitter;var r=i({},t.DEFAULT_OPTIONS);for(var o in e)if(o in r)try{var s=e[o];r[o]=this._sanitizeAndValidateOption(o,s)}catch(e){console.error(e)}this.rawOptions=r,this.options=i({},r),this._setupOptions()}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype._setupOptions=function(){var e=this,r=function(r){if(!(r in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+r+'"');return e.rawOptions[r]},i=function(r,i){if(!(r in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+r+'"');i=e._sanitizeAndValidateOption(r,i),e.rawOptions[r]!==i&&(e.rawOptions[r]=i,e._onOptionChange.fire(r))};for(var n in this.rawOptions){var o={get:r.bind(this,n),set:i.bind(this,n)};Object.defineProperty(this.options,n,o)}},e.prototype.setOption=function(e,t){this.options[e]=t},e.prototype._sanitizeAndValidateOption=function(e,r){switch(e){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":r||(r=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof r&&1<=r&&r<=1e3)break;r=s.includes(r)?r:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(e+" cannot be less than 1, value: "+r);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+r);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+r);case"rows":case"cols":if(!r&&0!==r)throw new Error(e+" must be numeric, value: "+r)}return r},e.prototype.getOption=function(e){return this.options[e]},e}();t.OptionsService=a},8343:(e,t)=>{function r(e,t,r){t.di$target===t?t.di$dependencies.push({id:e,index:r}):(t.di$dependencies=[{id:e,index:r}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var i=function(e,t,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(i,e,n)};return i.toString=function(){return e},t.serviceRegistry.set(e,i),i}},2585:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var i,n=r(8343);t.IBufferService=(0,n.createDecorator)("BufferService"),t.ICoreMouseService=(0,n.createDecorator)("CoreMouseService"),t.ICoreService=(0,n.createDecorator)("CoreService"),t.ICharsetService=(0,n.createDecorator)("CharsetService"),t.IDirtyRowService=(0,n.createDecorator)("DirtyRowService"),t.IInstantiationService=(0,n.createDecorator)("InstantiationService"),(i=t.LogLevelEnum||(t.LogLevelEnum={}))[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=3]="ERROR",i[i.OFF=4]="OFF",t.ILogService=(0,n.createDecorator)("LogService"),t.IOptionsService=(0,n.createDecorator)("OptionsService"),t.IUnicodeService=(0,n.createDecorator)("UnicodeService"),t.IDecorationService=(0,n.createDecorator)("DecorationService")},1480:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var i=r(8460),n=r(225),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter;var e=new n.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,r=e.length,i=0;i<r;++i){var n=e.charCodeAt(i);if(55296<=n&&n<=56319){if(++i>=r)return t+this.wcwidth(n);var o=e.charCodeAt(i);56320<=o&&o<=57343?n=1024*(n-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(n)}return t},e}();t.UnicodeService=o}},t={};return function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}(4389)})()}));
//# sourceMappingURL=xterm.js.map

/***/ }),

/***/ "./vendor/Broadway/Decoder.js":
/*!************************************!*\
  !*** ./vendor/Broadway/Decoder.js ***!
  \************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// universal module definition
(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function () {
  
  var global;
  
  function initglobal(){
    global = this;
    if (!global){
      if (typeof window != "undefined"){
        global = window;
      }else if (typeof self != "undefined"){
        global = self;
      };
    };
  };
  initglobal();
  
  
  function error(message) {
    console.error(message);
    console.trace();
  };

  
  function assert(condition, message) {
    if (!condition) {
      error(message);
    };
  };
  
  
  
  
  var getModule = function(par_broadwayOnHeadersDecoded, par_broadwayOnPictureDecoded){
    
    
    /*var ModuleX = {
      'print': function(text) { console.log('stdout: ' + text); },
      'printErr': function(text) { console.log('stderr: ' + text); }
    };*/
    
    
    /*
    
      The reason why this is all packed into one file is that this file can also function as worker.
      you can integrate the file into your build system and provide the original file to be loaded into a worker.
    
    */
    
    //var Module = (function(){
    
    
var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=(function(status,toThrow){throw toThrow});Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){if(Module["ENVIRONMENT"]==="WEB"){ENVIRONMENT_IS_WEB=true}else if(Module["ENVIRONMENT"]==="WORKER"){ENVIRONMENT_IS_WORKER=true}else if(Module["ENVIRONMENT"]==="NODE"){ENVIRONMENT_IS_NODE=true}else if(Module["ENVIRONMENT"]==="SHELL"){ENVIRONMENT_IS_SHELL=true}else{throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.")}}else{ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof null==="function"&&0&&0;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER}if(ENVIRONMENT_IS_NODE){var nodeFS;var nodePath;Module["read"]=function shell_read(filename,binary){var ret;if(!nodeFS)nodeFS=(null)("fs");if(!nodePath)nodePath=(null)("path");filename=nodePath["normalize"](filename);ret=nodeFS["readFileSync"](filename);return binary?ret:ret.toString()};Module["readBinary"]=function readBinary(filename){var ret=Module["read"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(true){module["exports"]=Module}process["on"]("uncaughtException",(function(ex){if(!(ex instanceof ExitStatus)){throw ex}}));process["on"]("unhandledRejection",(function(reason,p){process["exit"](1)}));Module["inspect"]=(function(){return"[Emscripten Module object]"})}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function shell_read(f){return read(f)}}Module["readBinary"]=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=(function(status,toThrow){quit(status)})}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){Module["read"]=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}Module["readAsync"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)};Module["setWindowTitle"]=(function(title){document.title=title})}else{throw new Error("not compiled for this environment")}Module["print"]=typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null;Module["printErr"]=typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||Module["print"];Module.print=Module["print"];Module.printErr=Module["printErr"];for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function staticAlloc(size){assert(!staticSealed);var ret=STATICTOP;STATICTOP=STATICTOP+size+15&-16;return ret}function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;var ret=size=Math.ceil(size/factor)*factor;return ret}var asm2wasmImports={"f64-rem":(function(x,y){return x%y}),"debugger":(function(){debugger})};var functionPointers=new Array(0);var GLOBAL_BASE=1024;var ABORT=0;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function Pointer_stringify(ptr,length){if(length===0||!ptr)return"";var hasUtf=0;var t;var i=0;while(1){t=HEAPU8[ptr+i>>0];hasUtf|=t;if(t==0&&!length)break;i++;if(length&&i==length)break}if(!length)length=i;var ret="";if(hasUtf<128){var MAX_CHUNK=1024;var curr;while(length>0){curr=String.fromCharCode.apply(String,HEAPU8.subarray(ptr,ptr+Math.min(length,MAX_CHUNK)));ret=ret?ret+curr:curr;ptr+=MAX_CHUNK;length-=MAX_CHUNK}return ret}return UTF8ToString(ptr)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(u8Array,idx){var endPtr=idx;while(u8Array[endPtr])++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var u0,u1,u2,u3,u4,u5;var str="";while(1){u0=u8Array[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u3=u8Array[idx++]&63;if((u0&248)==240){u0=(u0&7)<<18|u1<<12|u2<<6|u3}else{u4=u8Array[idx++]&63;if((u0&252)==248){u0=(u0&3)<<24|u1<<18|u2<<12|u3<<6|u4}else{u5=u8Array[idx++]&63;u0=(u0&1)<<30|u1<<24|u2<<18|u3<<12|u4<<6|u5}}}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}}function UTF8ToString(ptr){return UTF8ArrayToString(HEAPU8,ptr)}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;var WASM_PAGE_SIZE=65536;var ASMJS_PAGE_SIZE=16777216;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(buf){Module["buffer"]=buffer=buf}function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880;var TOTAL_MEMORY=Module["TOTAL_MEMORY"]||52428800;if(TOTAL_MEMORY<TOTAL_STACK)Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){Module["wasmMemory"]=new WebAssembly.Memory({"initial":TOTAL_MEMORY/WASM_PAGE_SIZE,"maximum":TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=Module["wasmMemory"].buffer}else{buffer=new ArrayBuffer(TOTAL_MEMORY)}Module["buffer"]=buffer}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}HEAP32[0]=1668509029;HEAP16[1]=25459;if(HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_abs=Math.abs;var Math_cos=Math.cos;var Math_sin=Math.sin;var Math_tan=Math.tan;var Math_acos=Math.acos;var Math_asin=Math.asin;var Math_atan=Math.atan;var Math_atan2=Math.atan2;var Math_exp=Math.exp;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_imul=Math.imul;var Math_fround=Math.fround;var Math_round=Math.round;var Math_min=Math.min;var Math_max=Math.max;var Math_clz32=Math.clz32;var Math_trunc=Math.trunc;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):filename.indexOf(dataURIPrefix)===0}function integrateWasmJS(){var wasmTextFile="avc.wast";var wasmBinaryFile="avc.wasm";var asmjsCodeFile="avc.temp.asm.js";if(typeof Module["locateFile"]==="function"){if(!isDataURI(wasmTextFile)){wasmTextFile=Module["locateFile"](wasmTextFile)}if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=Module["locateFile"](wasmBinaryFile)}if(!isDataURI(asmjsCodeFile)){asmjsCodeFile=Module["locateFile"](asmjsCodeFile)}}var wasmPageSize=64*1024;var info={"global":null,"env":null,"asm2wasm":asm2wasmImports,"parent":Module};var exports=null;function mergeMemory(newBuffer){var oldBuffer=Module["buffer"];if(newBuffer.byteLength<oldBuffer.byteLength){Module["printErr"]("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here")}var oldView=new Int8Array(oldBuffer);var newView=new Int8Array(newBuffer);newView.set(oldView);updateGlobalBuffer(newBuffer);updateGlobalBufferViews()}function fixImports(imports){return imports}function getBinary(){try{if(Module["wasmBinary"]){return new Uint8Array(Module["wasmBinary"])}if(Module["readBinary"]){return Module["readBinary"](wasmBinaryFile)}else{throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}}catch(err){abort(err)}}function getBinaryPromise(){if(!Module["wasmBinary"]&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()})).catch((function(){return getBinary()}))}return new Promise((function(resolve,reject){resolve(getBinary())}))}function doNativeWasm(global,env,providedBuffer){if(typeof WebAssembly!=="object"){Module["printErr"]("no native wasm support detected");return false}if(!(Module["wasmMemory"]instanceof WebAssembly.Memory)){Module["printErr"]("no native wasm Memory in use");return false}env["memory"]=Module["wasmMemory"];info["global"]={"NaN":NaN,"Infinity":Infinity};info["global.Math"]=Math;info["env"]=env;function receiveInstance(instance,module){exports=instance.exports;if(exports.memory)mergeMemory(exports.memory);Module["asm"]=exports;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){Module["printErr"]("Module.instantiateWasm callback failed with error: "+e);return false}}function receiveInstantiatedSource(output){receiveInstance(output["instance"],output["module"])}function instantiateArrayBuffer(receiver){getBinaryPromise().then((function(binary){return WebAssembly.instantiate(binary,info)})).then(receiver).catch((function(reason){Module["printErr"]("failed to asynchronously prepare wasm: "+reason);abort(reason)}))}if(!Module["wasmBinary"]&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&typeof fetch==="function"){WebAssembly.instantiateStreaming(fetch(wasmBinaryFile,{credentials:"same-origin"}),info).then(receiveInstantiatedSource).catch((function(reason){Module["printErr"]("wasm streaming compile failed: "+reason);Module["printErr"]("falling back to ArrayBuffer instantiation");instantiateArrayBuffer(receiveInstantiatedSource)}))}else{instantiateArrayBuffer(receiveInstantiatedSource)}return{}}Module["asmPreload"]=Module["asm"];var asmjsReallocBuffer=Module["reallocBuffer"];var wasmReallocBuffer=(function(size){var PAGE_MULTIPLE=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;size=alignUp(size,PAGE_MULTIPLE);var old=Module["buffer"];var oldSize=old.byteLength;if(Module["usingWasm"]){try{var result=Module["wasmMemory"].grow((size-oldSize)/wasmPageSize);if(result!==(-1|0)){return Module["buffer"]=Module["wasmMemory"].buffer}else{return null}}catch(e){return null}}});Module["reallocBuffer"]=(function(size){if(finalMethod==="asmjs"){return asmjsReallocBuffer(size)}else{return wasmReallocBuffer(size)}});var finalMethod="";Module["asm"]=(function(global,env,providedBuffer){env=fixImports(env);if(!env["table"]){var TABLE_SIZE=Module["wasmTableSize"];if(TABLE_SIZE===undefined)TABLE_SIZE=1024;var MAX_TABLE_SIZE=Module["wasmMaxTableSize"];if(typeof WebAssembly==="object"&&typeof WebAssembly.Table==="function"){if(MAX_TABLE_SIZE!==undefined){env["table"]=new WebAssembly.Table({"initial":TABLE_SIZE,"maximum":MAX_TABLE_SIZE,"element":"anyfunc"})}else{env["table"]=new WebAssembly.Table({"initial":TABLE_SIZE,element:"anyfunc"})}}else{env["table"]=new Array(TABLE_SIZE)}Module["wasmTable"]=env["table"]}if(!env["memoryBase"]){env["memoryBase"]=Module["STATIC_BASE"]}if(!env["tableBase"]){env["tableBase"]=0}var exports;exports=doNativeWasm(global,env,providedBuffer);assert(exports,"no binaryen method succeeded.");return exports})}integrateWasmJS();STATIC_BASE=GLOBAL_BASE;STATICTOP=STATIC_BASE+9888;__ATINIT__.push();var STATIC_BUMP=9888;Module["STATIC_BASE"]=STATIC_BASE;Module["STATIC_BUMP"]=STATIC_BUMP;STATICTOP+=16;var SYSCALLS={varargs:0,get:(function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret}),getStr:(function(){var ret=Pointer_stringify(SYSCALLS.get());return ret}),get64:(function(){var low=SYSCALLS.get(),high=SYSCALLS.get();if(low>=0)assert(high===0);else assert(high===-1);return low}),getZero:(function(){assert(SYSCALLS.get()===0)})};function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get();var offset=offset_low;FS.llseek(stream,offset,whence);HEAP32[result>>2]=stream.position;if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.get(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();var ret=0;if(!___syscall146.buffers){___syscall146.buffers=[null,[],[]];___syscall146.printChar=(function(stream,curr){var buffer=___syscall146.buffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?Module["print"]:Module["printErr"])(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}})}for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){___syscall146.printChar(stream,HEAPU8[ptr+j])}ret+=len}return ret}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(which,varargs){SYSCALLS.varargs=varargs;try{return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function _broadwayOnHeadersDecoded(){par_broadwayOnHeadersDecoded()}Module["_broadwayOnHeadersDecoded"]=_broadwayOnHeadersDecoded;function _broadwayOnPictureDecoded($buffer,width,height){par_broadwayOnPictureDecoded($buffer,width,height)}Module["_broadwayOnPictureDecoded"]=_broadwayOnPictureDecoded;function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest);return dest}function ___setErrNo(value){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=value;return value}DYNAMICTOP_PTR=staticAlloc(4);STACK_BASE=STACKTOP=alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;Module["wasmTableSize"]=10;Module["wasmMaxTableSize"]=10;Module.asmGlobalArg={};Module.asmLibraryArg={"abort":abort,"enlargeMemory":enlargeMemory,"getTotalMemory":getTotalMemory,"abortOnCannotGrowMemory":abortOnCannotGrowMemory,"___setErrNo":___setErrNo,"___syscall140":___syscall140,"___syscall146":___syscall146,"___syscall54":___syscall54,"___syscall6":___syscall6,"_broadwayOnHeadersDecoded":_broadwayOnHeadersDecoded,"_broadwayOnPictureDecoded":_broadwayOnPictureDecoded,"_emscripten_memcpy_big":_emscripten_memcpy_big,"DYNAMICTOP_PTR":DYNAMICTOP_PTR,"STACKTOP":STACKTOP};var asm=Module["asm"](Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module["asm"]=asm;var _broadwayCreateStream=Module["_broadwayCreateStream"]=(function(){return Module["asm"]["_broadwayCreateStream"].apply(null,arguments)});var _broadwayExit=Module["_broadwayExit"]=(function(){return Module["asm"]["_broadwayExit"].apply(null,arguments)});var _broadwayGetMajorVersion=Module["_broadwayGetMajorVersion"]=(function(){return Module["asm"]["_broadwayGetMajorVersion"].apply(null,arguments)});var _broadwayGetMinorVersion=Module["_broadwayGetMinorVersion"]=(function(){return Module["asm"]["_broadwayGetMinorVersion"].apply(null,arguments)});var _broadwayInit=Module["_broadwayInit"]=(function(){return Module["asm"]["_broadwayInit"].apply(null,arguments)});var _broadwayPlayStream=Module["_broadwayPlayStream"]=(function(){return Module["asm"]["_broadwayPlayStream"].apply(null,arguments)});Module["asm"]=asm;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function runCaller(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=runCaller};function run(args){args=args||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function doRun(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){Module["setStatus"]("")}),1);doRun()}),1)}else{doRun()}}Module["run"]=run;function exit(status,implicit){if(implicit&&Module["noExitRuntime"]&&status===0){return}if(Module["noExitRuntime"]){}else{ABORT=true;EXITSTATUS=status;STACKTOP=initialStackTop;exitRuntime();if(Module["onExit"])Module["onExit"](status)}if(ENVIRONMENT_IS_NODE){process["exit"](status)}Module["quit"](status,new ExitStatus(status))}Module["exit"]=exit;function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}if(what!==undefined){Module.print(what);Module.printErr(what);what=JSON.stringify(what)}else{what=""}ABORT=true;EXITSTATUS=1;throw"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run()



    //   return Module;
    //})();
    
    var resultModule;
    if (typeof global !== "undefined"){
      if (global.Module){
        resultModule = global.Module;
      };
    };
    if (typeof Module != "undefined"){
      resultModule = Module;
    };

    resultModule._broadwayOnHeadersDecoded = par_broadwayOnHeadersDecoded;
    resultModule._broadwayOnPictureDecoded = par_broadwayOnPictureDecoded;
    
    var moduleIsReady = false;
    var cbFun;
    var moduleReady = function(){
      moduleIsReady = true;
      if (cbFun){
        cbFun(resultModule);
      }
    };
    
    resultModule.onRuntimeInitialized = function(){
      moduleReady(resultModule);
    };
    return function(callback){
      if (moduleIsReady){
        callback(resultModule);
      }else{
        cbFun = callback;
      };
    };
  };

  return (function(){
    "use strict";
  
  
  var nowValue = function(){
    return (new Date()).getTime();
  };
  
  if (typeof performance != "undefined"){
    if (performance.now){
      nowValue = function(){
        return performance.now();
      };
    };
  };
  
  
  var Decoder = function(parOptions){
    this.options = parOptions || {};
    
    this.now = nowValue;
    
    var asmInstance;
    
    var fakeWindow = {
    };
    
    var toU8Array;
    var toU32Array;
    
    var onPicFun = function ($buffer, width, height) {
      var buffer = this.pictureBuffers[$buffer];
      if (!buffer) {
        buffer = this.pictureBuffers[$buffer] = toU8Array($buffer, (width * height * 3) / 2);
      };
      
      var infos;
      var doInfo = false;
      if (this.infoAr.length){
        doInfo = true;
        infos = this.infoAr;
      };
      this.infoAr = [];
      
      if (this.options.rgb){
        if (!asmInstance){
          asmInstance = getAsm(width, height);
        };
        asmInstance.inp.set(buffer);
        asmInstance.doit();

        var copyU8 = new Uint8Array(asmInstance.outSize);
        copyU8.set( asmInstance.out );
        
        if (doInfo){
          infos[0].finishDecoding = nowValue();
        };
        
        this.onPictureDecoded(copyU8, width, height, infos);
        return;
        
      };
      
      if (doInfo){
        infos[0].finishDecoding = nowValue();
      };
      this.onPictureDecoded(buffer, width, height, infos);
    }.bind(this);
    
    var ignore = false;
    
    if (this.options.sliceMode){
      onPicFun = function ($buffer, width, height, $sliceInfo) {
        if (ignore){
          return;
        };
        var buffer = this.pictureBuffers[$buffer];
        if (!buffer) {
          buffer = this.pictureBuffers[$buffer] = toU8Array($buffer, (width * height * 3) / 2);
        };
        var sliceInfo = this.pictureBuffers[$sliceInfo];
        if (!sliceInfo) {
          sliceInfo = this.pictureBuffers[$sliceInfo] = toU32Array($sliceInfo, 18);
        };

        var infos;
        var doInfo = false;
        if (this.infoAr.length){
          doInfo = true;
          infos = this.infoAr;
        };
        this.infoAr = [];

        /*if (this.options.rgb){
        
        no rgb in slice mode

        };*/

        infos[0].finishDecoding = nowValue();
        var sliceInfoAr = [];
        for (var i = 0; i < 20; ++i){
          sliceInfoAr.push(sliceInfo[i]);
        };
        infos[0].sliceInfoAr = sliceInfoAr;

        this.onPictureDecoded(buffer, width, height, infos);
      }.bind(this);
    };
    
    var ModuleCallback = getModule.apply(fakeWindow, [function () {
    }, onPicFun]);
    

    var MAX_STREAM_BUFFER_LENGTH = 1024 * 1024;
    
    var instance = this;
    this.onPictureDecoded = function (buffer, width, height, infos) {

    };
    
    this.onDecoderReady = function(){};
    
    var bufferedCalls = [];
    this.decode = function decode(typedAr, parInfo, copyDoneFun) {
      bufferedCalls.push([typedAr, parInfo, copyDoneFun]);
    };
    
    ModuleCallback(function(Module){
      var HEAP8 = Module.HEAP8;
      var HEAPU8 = Module.HEAPU8;
      var HEAP16 = Module.HEAP16;
      var HEAP32 = Module.HEAP32;
      // from old constructor
      Module._broadwayInit();
      
      /**
     * Creates a typed array from a HEAP8 pointer. 
     */
      toU8Array = function(ptr, length) {
        return HEAPU8.subarray(ptr, ptr + length);
      };
      toU32Array = function(ptr, length) {
        //var tmp = HEAPU8.subarray(ptr, ptr + (length * 4));
        return new Uint32Array(HEAPU8.buffer, ptr, length);
      };
      instance.streamBuffer = toU8Array(Module._broadwayCreateStream(MAX_STREAM_BUFFER_LENGTH), MAX_STREAM_BUFFER_LENGTH);
      instance.pictureBuffers = {};
      // collect extra infos that are provided with the nal units
      instance.infoAr = [];

      /**
     * Decodes a stream buffer. This may be one single (unframed) NAL unit without the
     * start code, or a sequence of NAL units with framing start code prefixes. This
     * function overwrites stream buffer allocated by the codec with the supplied buffer.
     */

      var sliceNum = 0;
      if (instance.options.sliceMode){
        sliceNum = instance.options.sliceNum;

        instance.decode = function decode(typedAr, parInfo, copyDoneFun) {
          instance.infoAr.push(parInfo);
          parInfo.startDecoding = nowValue();
          var nals = parInfo.nals;
          var i;
          if (!nals){
            nals = [];
            parInfo.nals = nals;
            var l = typedAr.length;
            var foundSomething = false;
            var lastFound = 0;
            var lastStart = 0;
            for (i = 0; i < l; ++i){
              if (typedAr[i] === 1){
                if (
                  typedAr[i - 1] === 0 &&
                  typedAr[i - 2] === 0
                ){
                  var startPos = i - 2;
                  if (typedAr[i - 3] === 0){
                    startPos = i - 3;
                  };
                  // its a nal;
                  if (foundSomething){
                    nals.push({
                      offset: lastFound,
                      end: startPos,
                      type: typedAr[lastStart] & 31
                    });
                  };
                  lastFound = startPos;
                  lastStart = startPos + 3;
                  if (typedAr[i - 3] === 0){
                    lastStart = startPos + 4;
                  };
                  foundSomething = true;
                };
              };
            };
            if (foundSomething){
              nals.push({
                offset: lastFound,
                end: i,
                type: typedAr[lastStart] & 31
              });
            };
          };

          var currentSlice = 0;
          var playAr;
          var offset = 0;
          for (i = 0; i < nals.length; ++i){
            if (nals[i].type === 1 || nals[i].type === 5){
              if (currentSlice === sliceNum){
                playAr = typedAr.subarray(nals[i].offset, nals[i].end);
                instance.streamBuffer[offset] = 0;
                offset += 1;
                instance.streamBuffer.set(playAr, offset);
                offset += playAr.length;
              };
              currentSlice += 1;
            }else{
              playAr = typedAr.subarray(nals[i].offset, nals[i].end);
              instance.streamBuffer[offset] = 0;
              offset += 1;
              instance.streamBuffer.set(playAr, offset);
              offset += playAr.length;
              Module._broadwayPlayStream(offset);
              offset = 0;
            };
          };
          copyDoneFun();
          Module._broadwayPlayStream(offset);
        };

      }else{
        instance.decode = function decode(typedAr, parInfo) {
          // console.info("Decoding: " + buffer.length);
          // collect infos
          if (parInfo){
            instance.infoAr.push(parInfo);
            parInfo.startDecoding = nowValue();
          };

          instance.streamBuffer.set(typedAr);
          Module._broadwayPlayStream(typedAr.length);
        };
      };
      
      if (bufferedCalls.length){
        var bi = 0;
        for (bi = 0; bi < bufferedCalls.length; ++bi){
          instance.decode(bufferedCalls[bi][0], bufferedCalls[bi][1], bufferedCalls[bi][2]);
        };
        bufferedCalls = [];
      };
      
      instance.onDecoderReady(instance);

    });
  

  };

  
  Decoder.prototype = {
    
  };
  
  
  
  
  /*
  
    asm.js implementation of a yuv to rgb convertor
    provided by @soliton4
    
    based on 
    http://www.wordsaretoys.com/2013/10/18/making-yuv-conversion-a-little-faster/
  
  */
  
  
  // factory to create asm.js yuv -> rgb convertor for a given resolution
  var asmInstances = {};
  var getAsm = function(parWidth, parHeight){
    var idStr = "" + parWidth + "x" + parHeight;
    if (asmInstances[idStr]){
      return asmInstances[idStr];
    };

    var lumaSize = parWidth * parHeight;
    var chromaSize = (lumaSize|0) >> 2;

    var inpSize = lumaSize + chromaSize + chromaSize;
    var outSize = parWidth * parHeight * 4;
    var cacheSize = Math.pow(2, 24) * 4;
    var size = inpSize + outSize + cacheSize;

    var chunkSize = Math.pow(2, 24);
    var heapSize = chunkSize;
    while (heapSize < size){
      heapSize += chunkSize;
    };
    var heap = new ArrayBuffer(heapSize);

    var res = asmFactory(global, {}, heap);
    res.init(parWidth, parHeight);
    asmInstances[idStr] = res;

    res.heap = heap;
    res.out = new Uint8Array(heap, 0, outSize);
    res.inp = new Uint8Array(heap, outSize, inpSize);
    res.outSize = outSize;

    return res;
  };


  function asmFactory(stdlib, foreign, heap) {
    "use asm";

    var imul = stdlib.Math.imul;
    var min = stdlib.Math.min;
    var max = stdlib.Math.max;
    var pow = stdlib.Math.pow;
    var out = new stdlib.Uint8Array(heap);
    var out32 = new stdlib.Uint32Array(heap);
    var inp = new stdlib.Uint8Array(heap);
    var mem = new stdlib.Uint8Array(heap);
    var mem32 = new stdlib.Uint32Array(heap);

    // for double algo
    /*var vt = 1.370705;
    var gt = 0.698001;
    var gt2 = 0.337633;
    var bt = 1.732446;*/

    var width = 0;
    var height = 0;
    var lumaSize = 0;
    var chromaSize = 0;
    var inpSize = 0;
    var outSize = 0;

    var inpStart = 0;
    var outStart = 0;

    var widthFour = 0;

    var cacheStart = 0;


    function init(parWidth, parHeight){
      parWidth = parWidth|0;
      parHeight = parHeight|0;

      var i = 0;
      var s = 0;

      width = parWidth;
      widthFour = imul(parWidth, 4)|0;
      height = parHeight;
      lumaSize = imul(width|0, height|0)|0;
      chromaSize = (lumaSize|0) >> 2;
      outSize = imul(imul(width, height)|0, 4)|0;
      inpSize = ((lumaSize + chromaSize)|0 + chromaSize)|0;

      outStart = 0;
      inpStart = (outStart + outSize)|0;
      cacheStart = (inpStart + inpSize)|0;

      // initializing memory (to be on the safe side)
      s = ~~(+pow(+2, +24));
      s = imul(s, 4)|0;

      for (i = 0|0; ((i|0) < (s|0))|0; i = (i + 4)|0){
        mem32[((cacheStart + i)|0) >> 2] = 0;
      };
    };

    function doit(){
      var ystart = 0;
      var ustart = 0;
      var vstart = 0;

      var y = 0;
      var yn = 0;
      var u = 0;
      var v = 0;

      var o = 0;

      var line = 0;
      var col = 0;

      var usave = 0;
      var vsave = 0;

      var ostart = 0;
      var cacheAdr = 0;

      ostart = outStart|0;

      ystart = inpStart|0;
      ustart = (ystart + lumaSize|0)|0;
      vstart = (ustart + chromaSize)|0;

      for (line = 0; (line|0) < (height|0); line = (line + 2)|0){
        usave = ustart;
        vsave = vstart;
        for (col = 0; (col|0) < (width|0); col = (col + 2)|0){
          y = inp[ystart >> 0]|0;
          yn = inp[((ystart + width)|0) >> 0]|0;

          u = inp[ustart >> 0]|0;
          v = inp[vstart >> 0]|0;

          cacheAdr = (((((y << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(y,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[ostart >> 2] = o;

          cacheAdr = (((((yn << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(yn,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[((ostart + widthFour)|0) >> 2] = o;

          //yuv2rgb5(y, u, v, ostart);
          //yuv2rgb5(yn, u, v, (ostart + widthFour)|0);
          ostart = (ostart + 4)|0;

          // next step only for y. u and v stay the same
          ystart = (ystart + 1)|0;
          y = inp[ystart >> 0]|0;
          yn = inp[((ystart + width)|0) >> 0]|0;

          //yuv2rgb5(y, u, v, ostart);
          cacheAdr = (((((y << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(y,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[ostart >> 2] = o;

          //yuv2rgb5(yn, u, v, (ostart + widthFour)|0);
          cacheAdr = (((((yn << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(yn,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[((ostart + widthFour)|0) >> 2] = o;
          ostart = (ostart + 4)|0;

          //all positions inc 1

          ystart = (ystart + 1)|0;
          ustart = (ustart + 1)|0;
          vstart = (vstart + 1)|0;
        };
        ostart = (ostart + widthFour)|0;
        ystart = (ystart + width)|0;

      };

    };

    function yuv2rgbcalc(y, u, v){
      y = y|0;
      u = u|0;
      v = v|0;

      var r = 0;
      var g = 0;
      var b = 0;

      var o = 0;

      var a0 = 0;
      var a1 = 0;
      var a2 = 0;
      var a3 = 0;
      var a4 = 0;

      a0 = imul(1192, (y - 16)|0)|0;
      a1 = imul(1634, (v - 128)|0)|0;
      a2 = imul(832, (v - 128)|0)|0;
      a3 = imul(400, (u - 128)|0)|0;
      a4 = imul(2066, (u - 128)|0)|0;

      r = (((a0 + a1)|0) >> 10)|0;
      g = (((((a0 - a2)|0) - a3)|0) >> 10)|0;
      b = (((a0 + a4)|0) >> 10)|0;

      if ((((r & 255)|0) != (r|0))|0){
        r = min(255, max(0, r|0)|0)|0;
      };
      if ((((g & 255)|0) != (g|0))|0){
        g = min(255, max(0, g|0)|0)|0;
      };
      if ((((b & 255)|0) != (b|0))|0){
        b = min(255, max(0, b|0)|0)|0;
      };

      o = 255;
      o = (o << 8)|0;
      o = (o + b)|0;
      o = (o << 8)|0;
      o = (o + g)|0;
      o = (o << 8)|0;
      o = (o + r)|0;

      return o|0;

    };



    return {
      init: init,
      doit: doit
    };
  };

  
  /*
    potential worker initialization
  
  */
  
  
  if (typeof self != "undefined"){
    var isWorker = false;
    var decoder;
    var reuseMemory = false;
    var sliceMode = false;
    var sliceNum = 0;
    var sliceCnt = 0;
    var lastSliceNum = 0;
    var sliceInfoAr;
    var lastBuf;
    var awaiting = 0;
    var pile = [];
    var startDecoding;
    var finishDecoding;
    var timeDecoding;
    
    var memAr = [];
    var getMem = function(length){
      if (memAr.length){
        var u = memAr.shift();
        while (u && u.byteLength !== length){
          u = memAr.shift();
        };
        if (u){
          return u;
        };
      };
      return new ArrayBuffer(length);
    }; 
    
    var copySlice = function(source, target, infoAr, width, height){
      
      var length = width * height;
      var length4 = length / 4
      var plane2 = length;
      var plane3 = length + length4;
      
      var copy16 = function(parBegin, parEnd){
        var i = 0;
        for (i = 0; i < 16; ++i){
          var begin = parBegin + (width * i);
          var end = parEnd + (width * i)
          target.set(source.subarray(begin, end), begin);
        };
      };
      var copy8 = function(parBegin, parEnd){
        var i = 0;
        for (i = 0; i < 8; ++i){
          var begin = parBegin + ((width / 2) * i);
          var end = parEnd + ((width / 2) * i)
          target.set(source.subarray(begin, end), begin);
        };
      };
      var copyChunk = function(begin, end){
        target.set(source.subarray(begin, end), begin);
      };
      
      var begin = infoAr[0];
      var end = infoAr[1];
      if (end > 0){
        copy16(begin, end);
        copy8(infoAr[2], infoAr[3]);
        copy8(infoAr[4], infoAr[5]);
      };
      begin = infoAr[6];
      end = infoAr[7];
      if (end > 0){
        copy16(begin, end);
        copy8(infoAr[8], infoAr[9]);
        copy8(infoAr[10], infoAr[11]);
      };
      
      begin = infoAr[12];
      end = infoAr[15];
      if (end > 0){
        copyChunk(begin, end);
        copyChunk(infoAr[13], infoAr[16]);
        copyChunk(infoAr[14], infoAr[17]);
      };
      
    };
    
    var sliceMsgFun = function(){};
    
    var setSliceCnt = function(parSliceCnt){
      sliceCnt = parSliceCnt;
      lastSliceNum = sliceCnt - 1;
    };
    
    
    self.addEventListener('message', function(e) {
      
      if (isWorker){
        if (reuseMemory){
          if (e.data.reuse){
            memAr.push(e.data.reuse);
          };
        };
        if (e.data.buf){
          if (sliceMode && awaiting !== 0){
            pile.push(e.data);
          }else{
            decoder.decode(
              new Uint8Array(e.data.buf, e.data.offset || 0, e.data.length), 
              e.data.info, 
              function(){
                if (sliceMode && sliceNum !== lastSliceNum){
                  postMessage(e.data, [e.data.buf]);
                };
              }
            );
          };
          return;
        };
        
        if (e.data.slice){
          // update ref pic
          var copyStart = nowValue();
          copySlice(new Uint8Array(e.data.slice), lastBuf, e.data.infos[0].sliceInfoAr, e.data.width, e.data.height);
          // is it the one? then we need to update it
          if (e.data.theOne){
            copySlice(lastBuf, new Uint8Array(e.data.slice), sliceInfoAr, e.data.width, e.data.height);
            if (timeDecoding > e.data.infos[0].timeDecoding){
              e.data.infos[0].timeDecoding = timeDecoding;
            };
            e.data.infos[0].timeCopy += (nowValue() - copyStart);
          };
          // move on
          postMessage(e.data, [e.data.slice]);
          
          // next frame in the pipe?
          awaiting -= 1;
          if (awaiting === 0 && pile.length){
            var data = pile.shift();
            decoder.decode(
              new Uint8Array(data.buf, data.offset || 0, data.length), 
              data.info, 
              function(){
                if (sliceMode && sliceNum !== lastSliceNum){
                  postMessage(data, [data.buf]);
                };
              }
            );
          };
          return;
        };
        
        if (e.data.setSliceCnt){
          setSliceCnt(e.data.sliceCnt);
          return;
        };
        
      }else{
        if (e.data && e.data.type === "Broadway.js - Worker init"){
          isWorker = true;
          decoder = new Decoder(e.data.options);
          
          if (e.data.options.sliceMode){
            reuseMemory = true;
            sliceMode = true;
            sliceNum = e.data.options.sliceNum;
            setSliceCnt(e.data.options.sliceCnt);

            decoder.onPictureDecoded = function (buffer, width, height, infos) {
              
              // buffer needs to be copied because we give up ownership
              var copyU8 = new Uint8Array(getMem(buffer.length));
              copySlice(buffer, copyU8, infos[0].sliceInfoAr, width, height);
              
              startDecoding = infos[0].startDecoding;
              finishDecoding = infos[0].finishDecoding;
              timeDecoding = finishDecoding - startDecoding;
              infos[0].timeDecoding = timeDecoding;
              infos[0].timeCopy = 0;
              
              postMessage({
                slice: copyU8.buffer,
                sliceNum: sliceNum,
                width: width, 
                height: height, 
                infos: infos
              }, [copyU8.buffer]); // 2nd parameter is used to indicate transfer of ownership
              
              awaiting = sliceCnt - 1;
              
              lastBuf = buffer;
              sliceInfoAr = infos[0].sliceInfoAr;

            };
            
          }else if (e.data.options.reuseMemory){
            reuseMemory = true;
            decoder.onPictureDecoded = function (buffer, width, height, infos) {
              
              // buffer needs to be copied because we give up ownership
              var copyU8 = new Uint8Array(getMem(buffer.length));
              copyU8.set( buffer, 0, buffer.length );

              postMessage({
                buf: copyU8.buffer, 
                length: buffer.length,
                width: width, 
                height: height, 
                infos: infos
              }, [copyU8.buffer]); // 2nd parameter is used to indicate transfer of ownership

            };
            
          }else{
            decoder.onPictureDecoded = function (buffer, width, height, infos) {
              if (buffer) {
                buffer = new Uint8Array(buffer);
              };

              // buffer needs to be copied because we give up ownership
              var copyU8 = new Uint8Array(buffer.length);
              copyU8.set( buffer, 0, buffer.length );

              postMessage({
                buf: copyU8.buffer, 
                length: buffer.length,
                width: width, 
                height: height, 
                infos: infos
              }, [copyU8.buffer]); // 2nd parameter is used to indicate transfer of ownership

            };
          };
          postMessage({ consoleLog: "broadway worker initialized" });
        };
      };


    }, false);
  };
  
  Decoder.nowValue = nowValue;
  
  return Decoder;
  
  })();
  
  
}));



/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = fs;

/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/contrib/has-cors.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/contrib/has-cors.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hasCORS = void 0;
// imported from https://github.com/component/has-cors
let value = false;
try {
    value = typeof XMLHttpRequest !== 'undefined' &&
        'withCredentials' in new XMLHttpRequest();
}
catch (err) {
    // if XMLHttp support is disabled in IE then it will throw
    // when trying to create
}
exports.hasCORS = value;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/contrib/parseqs.js":
/*!********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/contrib/parseqs.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

// imported from https://github.com/galkn/querystring
/**
 * Compiles a querystring
 * Returns string representation of the object
 *
 * @param {Object}
 * @api private
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.encode = encode;
exports.decode = decode;
function encode(obj) {
    let str = '';
    for (let i in obj) {
        if (obj.hasOwnProperty(i)) {
            if (str.length)
                str += '&';
            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);
        }
    }
    return str;
}
/**
 * Parses a simple querystring into an object
 *
 * @param {String} qs
 * @api private
 */
function decode(qs) {
    let qry = {};
    let pairs = qs.split('&');
    for (let i = 0, l = pairs.length; i < l; i++) {
        let pair = pairs[i].split('=');
        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
    }
    return qry;
}


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/contrib/parseuri.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/contrib/parseuri.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parse = parse;
// imported from https://github.com/galkn/parseuri
/**
 * Parses a URI
 *
 * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.
 *
 * See:
 * - https://developer.mozilla.org/en-US/docs/Web/API/URL
 * - https://caniuse.com/url
 * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B
 *
 * History of the parse() method:
 * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c
 * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3
 * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */
const re = /^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
const parts = [
    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'
];
function parse(str) {
    if (str.length > 8000) {
        throw "URI too long";
    }
    const src = str, b = str.indexOf('['), e = str.indexOf(']');
    if (b != -1 && e != -1) {
        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);
    }
    let m = re.exec(str || ''), uri = {}, i = 14;
    while (i--) {
        uri[parts[i]] = m[i] || '';
    }
    if (b != -1 && e != -1) {
        uri.source = src;
        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');
        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');
        uri.ipv6uri = true;
    }
    uri.pathNames = pathNames(uri, uri['path']);
    uri.queryKey = queryKey(uri, uri['query']);
    return uri;
}
function pathNames(obj, path) {
    const regx = /\/{2,9}/g, names = path.replace(regx, "/").split("/");
    if (path.slice(0, 1) == '/' || path.length === 0) {
        names.splice(0, 1);
    }
    if (path.slice(-1) == '/') {
        names.splice(names.length - 1, 1);
    }
    return names;
}
function queryKey(uri, query) {
    const data = {};
    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {
        if ($1) {
            data[$1] = $2;
        }
    });
    return data;
}


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/globals.js":
/*!************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/globals.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultBinaryType = exports.globalThisShim = exports.nextTick = void 0;
exports.createCookieJar = createCookieJar;
exports.nextTick = (() => {
    const isPromiseAvailable = typeof Promise === "function" && typeof Promise.resolve === "function";
    if (isPromiseAvailable) {
        return (cb) => Promise.resolve().then(cb);
    }
    else {
        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);
    }
})();
exports.globalThisShim = (() => {
    if (typeof self !== "undefined") {
        return self;
    }
    else if (typeof window !== "undefined") {
        return window;
    }
    else {
        return Function("return this")();
    }
})();
exports.defaultBinaryType = "arraybuffer";
function createCookieJar() { }


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebTransport = exports.WebSocket = exports.NodeWebSocket = exports.XHR = exports.NodeXHR = exports.Fetch = exports.nextTick = exports.parse = exports.installTimerFunctions = exports.transports = exports.TransportError = exports.Transport = exports.protocol = exports.SocketWithUpgrade = exports.SocketWithoutUpgrade = exports.Socket = void 0;
const socket_js_1 = __webpack_require__(/*! ./socket.js */ "./node_modules/engine.io-client/build/cjs/socket.js");
Object.defineProperty(exports, "Socket", ({ enumerable: true, get: function () { return socket_js_1.Socket; } }));
var socket_js_2 = __webpack_require__(/*! ./socket.js */ "./node_modules/engine.io-client/build/cjs/socket.js");
Object.defineProperty(exports, "SocketWithoutUpgrade", ({ enumerable: true, get: function () { return socket_js_2.SocketWithoutUpgrade; } }));
Object.defineProperty(exports, "SocketWithUpgrade", ({ enumerable: true, get: function () { return socket_js_2.SocketWithUpgrade; } }));
exports.protocol = socket_js_1.Socket.protocol;
var transport_js_1 = __webpack_require__(/*! ./transport.js */ "./node_modules/engine.io-client/build/cjs/transport.js");
Object.defineProperty(exports, "Transport", ({ enumerable: true, get: function () { return transport_js_1.Transport; } }));
Object.defineProperty(exports, "TransportError", ({ enumerable: true, get: function () { return transport_js_1.TransportError; } }));
var index_js_1 = __webpack_require__(/*! ./transports/index.js */ "./node_modules/engine.io-client/build/cjs/transports/index.js");
Object.defineProperty(exports, "transports", ({ enumerable: true, get: function () { return index_js_1.transports; } }));
var util_js_1 = __webpack_require__(/*! ./util.js */ "./node_modules/engine.io-client/build/cjs/util.js");
Object.defineProperty(exports, "installTimerFunctions", ({ enumerable: true, get: function () { return util_js_1.installTimerFunctions; } }));
var parseuri_js_1 = __webpack_require__(/*! ./contrib/parseuri.js */ "./node_modules/engine.io-client/build/cjs/contrib/parseuri.js");
Object.defineProperty(exports, "parse", ({ enumerable: true, get: function () { return parseuri_js_1.parse; } }));
var globals_node_js_1 = __webpack_require__(/*! ./globals.node.js */ "./node_modules/engine.io-client/build/cjs/globals.js");
Object.defineProperty(exports, "nextTick", ({ enumerable: true, get: function () { return globals_node_js_1.nextTick; } }));
var polling_fetch_js_1 = __webpack_require__(/*! ./transports/polling-fetch.js */ "./node_modules/engine.io-client/build/cjs/transports/polling-fetch.js");
Object.defineProperty(exports, "Fetch", ({ enumerable: true, get: function () { return polling_fetch_js_1.Fetch; } }));
var polling_xhr_node_js_1 = __webpack_require__(/*! ./transports/polling-xhr.node.js */ "./node_modules/engine.io-client/build/cjs/transports/polling-xhr.js");
Object.defineProperty(exports, "NodeXHR", ({ enumerable: true, get: function () { return polling_xhr_node_js_1.XHR; } }));
var polling_xhr_js_1 = __webpack_require__(/*! ./transports/polling-xhr.js */ "./node_modules/engine.io-client/build/cjs/transports/polling-xhr.js");
Object.defineProperty(exports, "XHR", ({ enumerable: true, get: function () { return polling_xhr_js_1.XHR; } }));
var websocket_node_js_1 = __webpack_require__(/*! ./transports/websocket.node.js */ "./node_modules/engine.io-client/build/cjs/transports/websocket.js");
Object.defineProperty(exports, "NodeWebSocket", ({ enumerable: true, get: function () { return websocket_node_js_1.WS; } }));
var websocket_js_1 = __webpack_require__(/*! ./transports/websocket.js */ "./node_modules/engine.io-client/build/cjs/transports/websocket.js");
Object.defineProperty(exports, "WebSocket", ({ enumerable: true, get: function () { return websocket_js_1.WS; } }));
var webtransport_js_1 = __webpack_require__(/*! ./transports/webtransport.js */ "./node_modules/engine.io-client/build/cjs/transports/webtransport.js");
Object.defineProperty(exports, "WebTransport", ({ enumerable: true, get: function () { return webtransport_js_1.WT; } }));


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/socket.js":
/*!***********************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/socket.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Socket = exports.SocketWithUpgrade = exports.SocketWithoutUpgrade = void 0;
const index_js_1 = __webpack_require__(/*! ./transports/index.js */ "./node_modules/engine.io-client/build/cjs/transports/index.js");
const util_js_1 = __webpack_require__(/*! ./util.js */ "./node_modules/engine.io-client/build/cjs/util.js");
const parseqs_js_1 = __webpack_require__(/*! ./contrib/parseqs.js */ "./node_modules/engine.io-client/build/cjs/contrib/parseqs.js");
const parseuri_js_1 = __webpack_require__(/*! ./contrib/parseuri.js */ "./node_modules/engine.io-client/build/cjs/contrib/parseuri.js");
const component_emitter_1 = __webpack_require__(/*! @socket.io/component-emitter */ "./node_modules/@socket.io/component-emitter/lib/esm/index.js");
const engine_io_parser_1 = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/build/cjs/index.js");
const globals_node_js_1 = __webpack_require__(/*! ./globals.node.js */ "./node_modules/engine.io-client/build/cjs/globals.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("engine.io-client:socket"); // debug()
const withEventListeners = typeof addEventListener === "function" &&
    typeof removeEventListener === "function";
const OFFLINE_EVENT_LISTENERS = [];
if (withEventListeners) {
    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the
    // script, so we create one single event listener here which will forward the event to the socket instances
    addEventListener("offline", () => {
        debug("closing %d connection(s) because the network was lost", OFFLINE_EVENT_LISTENERS.length);
        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());
    }, false);
}
/**
 * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established
 * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.
 *
 * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that
 * successfully establishes the connection.
 *
 * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.
 *
 * @example
 * import { SocketWithoutUpgrade, WebSocket } from "engine.io-client";
 *
 * const socket = new SocketWithoutUpgrade({
 *   transports: [WebSocket]
 * });
 *
 * socket.on("open", () => {
 *   socket.send("hello");
 * });
 *
 * @see SocketWithUpgrade
 * @see Socket
 */
class SocketWithoutUpgrade extends component_emitter_1.Emitter {
    /**
     * Socket constructor.
     *
     * @param {String|Object} uri - uri or options
     * @param {Object} opts - options
     */
    constructor(uri, opts) {
        super();
        this.binaryType = globals_node_js_1.defaultBinaryType;
        this.writeBuffer = [];
        this._prevBufferLen = 0;
        this._pingInterval = -1;
        this._pingTimeout = -1;
        this._maxPayload = -1;
        /**
         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the
         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.
         */
        this._pingTimeoutTime = Infinity;
        if (uri && "object" === typeof uri) {
            opts = uri;
            uri = null;
        }
        if (uri) {
            const parsedUri = (0, parseuri_js_1.parse)(uri);
            opts.hostname = parsedUri.host;
            opts.secure =
                parsedUri.protocol === "https" || parsedUri.protocol === "wss";
            opts.port = parsedUri.port;
            if (parsedUri.query)
                opts.query = parsedUri.query;
        }
        else if (opts.host) {
            opts.hostname = (0, parseuri_js_1.parse)(opts.host).host;
        }
        (0, util_js_1.installTimerFunctions)(this, opts);
        this.secure =
            null != opts.secure
                ? opts.secure
                : typeof location !== "undefined" && "https:" === location.protocol;
        if (opts.hostname && !opts.port) {
            // if no port is specified manually, use the protocol default
            opts.port = this.secure ? "443" : "80";
        }
        this.hostname =
            opts.hostname ||
                (typeof location !== "undefined" ? location.hostname : "localhost");
        this.port =
            opts.port ||
                (typeof location !== "undefined" && location.port
                    ? location.port
                    : this.secure
                        ? "443"
                        : "80");
        this.transports = [];
        this._transportsByName = {};
        opts.transports.forEach((t) => {
            const transportName = t.prototype.name;
            this.transports.push(transportName);
            this._transportsByName[transportName] = t;
        });
        this.opts = Object.assign({
            path: "/engine.io",
            agent: false,
            withCredentials: false,
            upgrade: true,
            timestampParam: "t",
            rememberUpgrade: false,
            addTrailingSlash: true,
            rejectUnauthorized: true,
            perMessageDeflate: {
                threshold: 1024,
            },
            transportOptions: {},
            closeOnBeforeunload: false,
        }, opts);
        this.opts.path =
            this.opts.path.replace(/\/$/, "") +
                (this.opts.addTrailingSlash ? "/" : "");
        if (typeof this.opts.query === "string") {
            this.opts.query = (0, parseqs_js_1.decode)(this.opts.query);
        }
        if (withEventListeners) {
            if (this.opts.closeOnBeforeunload) {
                // Firefox closes the connection when the "beforeunload" event is emitted but not Chrome. This event listener
                // ensures every browser behaves the same (no "disconnect" event at the Socket.IO level when the page is
                // closed/reloaded)
                this._beforeunloadEventListener = () => {
                    if (this.transport) {
                        // silently close the transport
                        this.transport.removeAllListeners();
                        this.transport.close();
                    }
                };
                addEventListener("beforeunload", this._beforeunloadEventListener, false);
            }
            if (this.hostname !== "localhost") {
                debug("adding listener for the 'offline' event");
                this._offlineEventListener = () => {
                    this._onClose("transport close", {
                        description: "network connection lost",
                    });
                };
                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);
            }
        }
        if (this.opts.withCredentials) {
            this._cookieJar = (0, globals_node_js_1.createCookieJar)();
        }
        this._open();
    }
    /**
     * Creates transport of the given type.
     *
     * @param {String} name - transport name
     * @return {Transport}
     * @private
     */
    createTransport(name) {
        debug('creating transport "%s"', name);
        const query = Object.assign({}, this.opts.query);
        // append engine.io protocol identifier
        query.EIO = engine_io_parser_1.protocol;
        // transport name
        query.transport = name;
        // session id if we already have one
        if (this.id)
            query.sid = this.id;
        const opts = Object.assign({}, this.opts, {
            query,
            socket: this,
            hostname: this.hostname,
            secure: this.secure,
            port: this.port,
        }, this.opts.transportOptions[name]);
        debug("options: %j", opts);
        return new this._transportsByName[name](opts);
    }
    /**
     * Initializes transport to use and starts probe.
     *
     * @private
     */
    _open() {
        if (this.transports.length === 0) {
            // Emit error on next tick so it can be listened to
            this.setTimeoutFn(() => {
                this.emitReserved("error", "No transports available");
            }, 0);
            return;
        }
        const transportName = this.opts.rememberUpgrade &&
            SocketWithoutUpgrade.priorWebsocketSuccess &&
            this.transports.indexOf("websocket") !== -1
            ? "websocket"
            : this.transports[0];
        this.readyState = "opening";
        const transport = this.createTransport(transportName);
        transport.open();
        this.setTransport(transport);
    }
    /**
     * Sets the current transport. Disables the existing one (if any).
     *
     * @private
     */
    setTransport(transport) {
        debug("setting transport %s", transport.name);
        if (this.transport) {
            debug("clearing existing transport %s", this.transport.name);
            this.transport.removeAllListeners();
        }
        // set up transport
        this.transport = transport;
        // set up transport listeners
        transport
            .on("drain", this._onDrain.bind(this))
            .on("packet", this._onPacket.bind(this))
            .on("error", this._onError.bind(this))
            .on("close", (reason) => this._onClose("transport close", reason));
    }
    /**
     * Called when connection is deemed open.
     *
     * @private
     */
    onOpen() {
        debug("socket open");
        this.readyState = "open";
        SocketWithoutUpgrade.priorWebsocketSuccess =
            "websocket" === this.transport.name;
        this.emitReserved("open");
        this.flush();
    }
    /**
     * Handles a packet.
     *
     * @private
     */
    _onPacket(packet) {
        if ("opening" === this.readyState ||
            "open" === this.readyState ||
            "closing" === this.readyState) {
            debug('socket receive: type "%s", data "%s"', packet.type, packet.data);
            this.emitReserved("packet", packet);
            // Socket is live - any packet counts
            this.emitReserved("heartbeat");
            switch (packet.type) {
                case "open":
                    this.onHandshake(JSON.parse(packet.data));
                    break;
                case "ping":
                    this._sendPacket("pong");
                    this.emitReserved("ping");
                    this.emitReserved("pong");
                    this._resetPingTimeout();
                    break;
                case "error":
                    const err = new Error("server error");
                    // @ts-ignore
                    err.code = packet.data;
                    this._onError(err);
                    break;
                case "message":
                    this.emitReserved("data", packet.data);
                    this.emitReserved("message", packet.data);
                    break;
            }
        }
        else {
            debug('packet received with socket readyState "%s"', this.readyState);
        }
    }
    /**
     * Called upon handshake completion.
     *
     * @param {Object} data - handshake obj
     * @private
     */
    onHandshake(data) {
        this.emitReserved("handshake", data);
        this.id = data.sid;
        this.transport.query.sid = data.sid;
        this._pingInterval = data.pingInterval;
        this._pingTimeout = data.pingTimeout;
        this._maxPayload = data.maxPayload;
        this.onOpen();
        // In case open handler closes socket
        if ("closed" === this.readyState)
            return;
        this._resetPingTimeout();
    }
    /**
     * Sets and resets ping timeout timer based on server pings.
     *
     * @private
     */
    _resetPingTimeout() {
        this.clearTimeoutFn(this._pingTimeoutTimer);
        const delay = this._pingInterval + this._pingTimeout;
        this._pingTimeoutTime = Date.now() + delay;
        this._pingTimeoutTimer = this.setTimeoutFn(() => {
            this._onClose("ping timeout");
        }, delay);
        if (this.opts.autoUnref) {
            this._pingTimeoutTimer.unref();
        }
    }
    /**
     * Called on `drain` event
     *
     * @private
     */
    _onDrain() {
        this.writeBuffer.splice(0, this._prevBufferLen);
        // setting prevBufferLen = 0 is very important
        // for example, when upgrading, upgrade packet is sent over,
        // and a nonzero prevBufferLen could cause problems on `drain`
        this._prevBufferLen = 0;
        if (0 === this.writeBuffer.length) {
            this.emitReserved("drain");
        }
        else {
            this.flush();
        }
    }
    /**
     * Flush write buffers.
     *
     * @private
     */
    flush() {
        if ("closed" !== this.readyState &&
            this.transport.writable &&
            !this.upgrading &&
            this.writeBuffer.length) {
            const packets = this._getWritablePackets();
            debug("flushing %d packets in socket", packets.length);
            this.transport.send(packets);
            // keep track of current length of writeBuffer
            // splice writeBuffer and callbackBuffer on `drain`
            this._prevBufferLen = packets.length;
            this.emitReserved("flush");
        }
    }
    /**
     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP
     * long-polling)
     *
     * @private
     */
    _getWritablePackets() {
        const shouldCheckPayloadSize = this._maxPayload &&
            this.transport.name === "polling" &&
            this.writeBuffer.length > 1;
        if (!shouldCheckPayloadSize) {
            return this.writeBuffer;
        }
        let payloadSize = 1; // first packet type
        for (let i = 0; i < this.writeBuffer.length; i++) {
            const data = this.writeBuffer[i].data;
            if (data) {
                payloadSize += (0, util_js_1.byteLength)(data);
            }
            if (i > 0 && payloadSize > this._maxPayload) {
                debug("only send %d out of %d packets", i, this.writeBuffer.length);
                return this.writeBuffer.slice(0, i);
            }
            payloadSize += 2; // separator + packet type
        }
        debug("payload size is %d (max: %d)", payloadSize, this._maxPayload);
        return this.writeBuffer;
    }
    /**
     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.
     *
     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the
     * `write()` method then the message would not be buffered by the Socket.IO client.
     *
     * @return {boolean}
     * @private
     */
    /* private */ _hasPingExpired() {
        if (!this._pingTimeoutTime)
            return true;
        const hasExpired = Date.now() > this._pingTimeoutTime;
        if (hasExpired) {
            debug("throttled timer detected, scheduling connection close");
            this._pingTimeoutTime = 0;
            (0, globals_node_js_1.nextTick)(() => {
                this._onClose("ping timeout");
            }, this.setTimeoutFn);
        }
        return hasExpired;
    }
    /**
     * Sends a message.
     *
     * @param {String} msg - message.
     * @param {Object} options.
     * @param {Function} fn - callback function.
     * @return {Socket} for chaining.
     */
    write(msg, options, fn) {
        this._sendPacket("message", msg, options, fn);
        return this;
    }
    /**
     * Sends a message. Alias of {@link Socket#write}.
     *
     * @param {String} msg - message.
     * @param {Object} options.
     * @param {Function} fn - callback function.
     * @return {Socket} for chaining.
     */
    send(msg, options, fn) {
        this._sendPacket("message", msg, options, fn);
        return this;
    }
    /**
     * Sends a packet.
     *
     * @param {String} type: packet type.
     * @param {String} data.
     * @param {Object} options.
     * @param {Function} fn - callback function.
     * @private
     */
    _sendPacket(type, data, options, fn) {
        if ("function" === typeof data) {
            fn = data;
            data = undefined;
        }
        if ("function" === typeof options) {
            fn = options;
            options = null;
        }
        if ("closing" === this.readyState || "closed" === this.readyState) {
            return;
        }
        options = options || {};
        options.compress = false !== options.compress;
        const packet = {
            type: type,
            data: data,
            options: options,
        };
        this.emitReserved("packetCreate", packet);
        this.writeBuffer.push(packet);
        if (fn)
            this.once("flush", fn);
        this.flush();
    }
    /**
     * Closes the connection.
     */
    close() {
        const close = () => {
            this._onClose("forced close");
            debug("socket closing - telling transport to close");
            this.transport.close();
        };
        const cleanupAndClose = () => {
            this.off("upgrade", cleanupAndClose);
            this.off("upgradeError", cleanupAndClose);
            close();
        };
        const waitForUpgrade = () => {
            // wait for upgrade to finish since we can't send packets while pausing a transport
            this.once("upgrade", cleanupAndClose);
            this.once("upgradeError", cleanupAndClose);
        };
        if ("opening" === this.readyState || "open" === this.readyState) {
            this.readyState = "closing";
            if (this.writeBuffer.length) {
                this.once("drain", () => {
                    if (this.upgrading) {
                        waitForUpgrade();
                    }
                    else {
                        close();
                    }
                });
            }
            else if (this.upgrading) {
                waitForUpgrade();
            }
            else {
                close();
            }
        }
        return this;
    }
    /**
     * Called upon transport error
     *
     * @private
     */
    _onError(err) {
        debug("socket error %j", err);
        SocketWithoutUpgrade.priorWebsocketSuccess = false;
        if (this.opts.tryAllTransports &&
            this.transports.length > 1 &&
            this.readyState === "opening") {
            debug("trying next transport");
            this.transports.shift();
            return this._open();
        }
        this.emitReserved("error", err);
        this._onClose("transport error", err);
    }
    /**
     * Called upon transport close.
     *
     * @private
     */
    _onClose(reason, description) {
        if ("opening" === this.readyState ||
            "open" === this.readyState ||
            "closing" === this.readyState) {
            debug('socket close with reason: "%s"', reason);
            // clear timers
            this.clearTimeoutFn(this._pingTimeoutTimer);
            // stop event from firing again for transport
            this.transport.removeAllListeners("close");
            // ensure transport won't stay open
            this.transport.close();
            // ignore further transport communication
            this.transport.removeAllListeners();
            if (withEventListeners) {
                if (this._beforeunloadEventListener) {
                    removeEventListener("beforeunload", this._beforeunloadEventListener, false);
                }
                if (this._offlineEventListener) {
                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);
                    if (i !== -1) {
                        debug("removing listener for the 'offline' event");
                        OFFLINE_EVENT_LISTENERS.splice(i, 1);
                    }
                }
            }
            // set ready state
            this.readyState = "closed";
            // clear session id
            this.id = null;
            // emit close event
            this.emitReserved("close", reason, description);
            // clean buffers after, so users can still
            // grab the buffers on `close` event
            this.writeBuffer = [];
            this._prevBufferLen = 0;
        }
    }
}
exports.SocketWithoutUpgrade = SocketWithoutUpgrade;
SocketWithoutUpgrade.protocol = engine_io_parser_1.protocol;
/**
 * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established
 * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.
 *
 * This class comes with an upgrade mechanism, which means that once the connection is established with the first
 * low-level transport, it will try to upgrade to a better transport.
 *
 * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.
 *
 * @example
 * import { SocketWithUpgrade, WebSocket } from "engine.io-client";
 *
 * const socket = new SocketWithUpgrade({
 *   transports: [WebSocket]
 * });
 *
 * socket.on("open", () => {
 *   socket.send("hello");
 * });
 *
 * @see SocketWithoutUpgrade
 * @see Socket
 */
class SocketWithUpgrade extends SocketWithoutUpgrade {
    constructor() {
        super(...arguments);
        this._upgrades = [];
    }
    onOpen() {
        super.onOpen();
        if ("open" === this.readyState && this.opts.upgrade) {
            debug("starting upgrade probes");
            for (let i = 0; i < this._upgrades.length; i++) {
                this._probe(this._upgrades[i]);
            }
        }
    }
    /**
     * Probes a transport.
     *
     * @param {String} name - transport name
     * @private
     */
    _probe(name) {
        debug('probing transport "%s"', name);
        let transport = this.createTransport(name);
        let failed = false;
        SocketWithoutUpgrade.priorWebsocketSuccess = false;
        const onTransportOpen = () => {
            if (failed)
                return;
            debug('probe transport "%s" opened', name);
            transport.send([{ type: "ping", data: "probe" }]);
            transport.once("packet", (msg) => {
                if (failed)
                    return;
                if ("pong" === msg.type && "probe" === msg.data) {
                    debug('probe transport "%s" pong', name);
                    this.upgrading = true;
                    this.emitReserved("upgrading", transport);
                    if (!transport)
                        return;
                    SocketWithoutUpgrade.priorWebsocketSuccess =
                        "websocket" === transport.name;
                    debug('pausing current transport "%s"', this.transport.name);
                    this.transport.pause(() => {
                        if (failed)
                            return;
                        if ("closed" === this.readyState)
                            return;
                        debug("changing transport and sending upgrade packet");
                        cleanup();
                        this.setTransport(transport);
                        transport.send([{ type: "upgrade" }]);
                        this.emitReserved("upgrade", transport);
                        transport = null;
                        this.upgrading = false;
                        this.flush();
                    });
                }
                else {
                    debug('probe transport "%s" failed', name);
                    const err = new Error("probe error");
                    // @ts-ignore
                    err.transport = transport.name;
                    this.emitReserved("upgradeError", err);
                }
            });
        };
        function freezeTransport() {
            if (failed)
                return;
            // Any callback called by transport should be ignored since now
            failed = true;
            cleanup();
            transport.close();
            transport = null;
        }
        // Handle any error that happens while probing
        const onerror = (err) => {
            const error = new Error("probe error: " + err);
            // @ts-ignore
            error.transport = transport.name;
            freezeTransport();
            debug('probe transport "%s" failed because of error: %s', name, err);
            this.emitReserved("upgradeError", error);
        };
        function onTransportClose() {
            onerror("transport closed");
        }
        // When the socket is closed while we're probing
        function onclose() {
            onerror("socket closed");
        }
        // When the socket is upgraded while we're probing
        function onupgrade(to) {
            if (transport && to.name !== transport.name) {
                debug('"%s" works - aborting "%s"', to.name, transport.name);
                freezeTransport();
            }
        }
        // Remove all listeners on the transport and on self
        const cleanup = () => {
            transport.removeListener("open", onTransportOpen);
            transport.removeListener("error", onerror);
            transport.removeListener("close", onTransportClose);
            this.off("close", onclose);
            this.off("upgrading", onupgrade);
        };
        transport.once("open", onTransportOpen);
        transport.once("error", onerror);
        transport.once("close", onTransportClose);
        this.once("close", onclose);
        this.once("upgrading", onupgrade);
        if (this._upgrades.indexOf("webtransport") !== -1 &&
            name !== "webtransport") {
            // favor WebTransport
            this.setTimeoutFn(() => {
                if (!failed) {
                    transport.open();
                }
            }, 200);
        }
        else {
            transport.open();
        }
    }
    onHandshake(data) {
        this._upgrades = this._filterUpgrades(data.upgrades);
        super.onHandshake(data);
    }
    /**
     * Filters upgrades, returning only those matching client transports.
     *
     * @param {Array} upgrades - server upgrades
     * @private
     */
    _filterUpgrades(upgrades) {
        const filteredUpgrades = [];
        for (let i = 0; i < upgrades.length; i++) {
            if (~this.transports.indexOf(upgrades[i]))
                filteredUpgrades.push(upgrades[i]);
        }
        return filteredUpgrades;
    }
}
exports.SocketWithUpgrade = SocketWithUpgrade;
/**
 * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established
 * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.
 *
 * This class comes with an upgrade mechanism, which means that once the connection is established with the first
 * low-level transport, it will try to upgrade to a better transport.
 *
 * @example
 * import { Socket } from "engine.io-client";
 *
 * const socket = new Socket();
 *
 * socket.on("open", () => {
 *   socket.send("hello");
 * });
 *
 * @see SocketWithoutUpgrade
 * @see SocketWithUpgrade
 */
class Socket extends SocketWithUpgrade {
    constructor(uri, opts = {}) {
        const o = typeof uri === "object" ? uri : opts;
        if (!o.transports ||
            (o.transports && typeof o.transports[0] === "string")) {
            o.transports = (o.transports || ["polling", "websocket", "webtransport"])
                .map((transportName) => index_js_1.transports[transportName])
                .filter((t) => !!t);
        }
        super(uri, o);
    }
}
exports.Socket = Socket;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transport.js":
/*!**************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transport.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Transport = exports.TransportError = void 0;
const engine_io_parser_1 = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/build/cjs/index.js");
const component_emitter_1 = __webpack_require__(/*! @socket.io/component-emitter */ "./node_modules/@socket.io/component-emitter/lib/esm/index.js");
const util_js_1 = __webpack_require__(/*! ./util.js */ "./node_modules/engine.io-client/build/cjs/util.js");
const parseqs_js_1 = __webpack_require__(/*! ./contrib/parseqs.js */ "./node_modules/engine.io-client/build/cjs/contrib/parseqs.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("engine.io-client:transport"); // debug()
class TransportError extends Error {
    constructor(reason, description, context) {
        super(reason);
        this.description = description;
        this.context = context;
        this.type = "TransportError";
    }
}
exports.TransportError = TransportError;
class Transport extends component_emitter_1.Emitter {
    /**
     * Transport abstract constructor.
     *
     * @param {Object} opts - options
     * @protected
     */
    constructor(opts) {
        super();
        this.writable = false;
        (0, util_js_1.installTimerFunctions)(this, opts);
        this.opts = opts;
        this.query = opts.query;
        this.socket = opts.socket;
        this.supportsBinary = !opts.forceBase64;
    }
    /**
     * Emits an error.
     *
     * @param {String} reason
     * @param description
     * @param context - the error context
     * @return {Transport} for chaining
     * @protected
     */
    onError(reason, description, context) {
        super.emitReserved("error", new TransportError(reason, description, context));
        return this;
    }
    /**
     * Opens the transport.
     */
    open() {
        this.readyState = "opening";
        this.doOpen();
        return this;
    }
    /**
     * Closes the transport.
     */
    close() {
        if (this.readyState === "opening" || this.readyState === "open") {
            this.doClose();
            this.onClose();
        }
        return this;
    }
    /**
     * Sends multiple packets.
     *
     * @param {Array} packets
     */
    send(packets) {
        if (this.readyState === "open") {
            this.write(packets);
        }
        else {
            // this might happen if the transport was silently closed in the beforeunload event handler
            debug("transport is not open, discarding packets");
        }
    }
    /**
     * Called upon open
     *
     * @protected
     */
    onOpen() {
        this.readyState = "open";
        this.writable = true;
        super.emitReserved("open");
    }
    /**
     * Called with data.
     *
     * @param {String} data
     * @protected
     */
    onData(data) {
        const packet = (0, engine_io_parser_1.decodePacket)(data, this.socket.binaryType);
        this.onPacket(packet);
    }
    /**
     * Called with a decoded packet.
     *
     * @protected
     */
    onPacket(packet) {
        super.emitReserved("packet", packet);
    }
    /**
     * Called upon close.
     *
     * @protected
     */
    onClose(details) {
        this.readyState = "closed";
        super.emitReserved("close", details);
    }
    /**
     * Pauses the transport, in order not to lose packets during an upgrade.
     *
     * @param onPause
     */
    pause(onPause) { }
    createUri(schema, query = {}) {
        return (schema +
            "://" +
            this._hostname() +
            this._port() +
            this.opts.path +
            this._query(query));
    }
    _hostname() {
        const hostname = this.opts.hostname;
        return hostname.indexOf(":") === -1 ? hostname : "[" + hostname + "]";
    }
    _port() {
        if (this.opts.port &&
            ((this.opts.secure && Number(this.opts.port !== 443)) ||
                (!this.opts.secure && Number(this.opts.port) !== 80))) {
            return ":" + this.opts.port;
        }
        else {
            return "";
        }
    }
    _query(query) {
        const encodedQuery = (0, parseqs_js_1.encode)(query);
        return encodedQuery.length ? "?" + encodedQuery : "";
    }
}
exports.Transport = Transport;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transports/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transports/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.transports = void 0;
const polling_xhr_node_js_1 = __webpack_require__(/*! ./polling-xhr.node.js */ "./node_modules/engine.io-client/build/cjs/transports/polling-xhr.js");
const websocket_node_js_1 = __webpack_require__(/*! ./websocket.node.js */ "./node_modules/engine.io-client/build/cjs/transports/websocket.js");
const webtransport_js_1 = __webpack_require__(/*! ./webtransport.js */ "./node_modules/engine.io-client/build/cjs/transports/webtransport.js");
exports.transports = {
    websocket: websocket_node_js_1.WS,
    webtransport: webtransport_js_1.WT,
    polling: polling_xhr_node_js_1.XHR,
};


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transports/polling-fetch.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transports/polling-fetch.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Fetch = void 0;
const polling_js_1 = __webpack_require__(/*! ./polling.js */ "./node_modules/engine.io-client/build/cjs/transports/polling.js");
/**
 * HTTP long-polling based on the built-in `fetch()` method.
 *
 * Usage: browser, Node.js (since v18), Deno, Bun
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/API/fetch
 * @see https://caniuse.com/fetch
 * @see https://nodejs.org/api/globals.html#fetch
 */
class Fetch extends polling_js_1.Polling {
    doPoll() {
        this._fetch()
            .then((res) => {
            if (!res.ok) {
                return this.onError("fetch read error", res.status, res);
            }
            res.text().then((data) => this.onData(data));
        })
            .catch((err) => {
            this.onError("fetch read error", err);
        });
    }
    doWrite(data, callback) {
        this._fetch(data)
            .then((res) => {
            if (!res.ok) {
                return this.onError("fetch write error", res.status, res);
            }
            callback();
        })
            .catch((err) => {
            this.onError("fetch write error", err);
        });
    }
    _fetch(data) {
        var _a;
        const isPost = data !== undefined;
        const headers = new Headers(this.opts.extraHeaders);
        if (isPost) {
            headers.set("content-type", "text/plain;charset=UTF-8");
        }
        (_a = this.socket._cookieJar) === null || _a === void 0 ? void 0 : _a.appendCookies(headers);
        return fetch(this.uri(), {
            method: isPost ? "POST" : "GET",
            body: isPost ? data : null,
            headers,
            credentials: this.opts.withCredentials ? "include" : "omit",
        }).then((res) => {
            var _a;
            // @ts-ignore getSetCookie() was added in Node.js v19.7.0
            (_a = this.socket._cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(res.headers.getSetCookie());
            return res;
        });
    }
}
exports.Fetch = Fetch;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transports/polling-xhr.js":
/*!***************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transports/polling-xhr.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.XHR = exports.Request = exports.BaseXHR = void 0;
const polling_js_1 = __webpack_require__(/*! ./polling.js */ "./node_modules/engine.io-client/build/cjs/transports/polling.js");
const component_emitter_1 = __webpack_require__(/*! @socket.io/component-emitter */ "./node_modules/@socket.io/component-emitter/lib/esm/index.js");
const util_js_1 = __webpack_require__(/*! ../util.js */ "./node_modules/engine.io-client/build/cjs/util.js");
const globals_node_js_1 = __webpack_require__(/*! ../globals.node.js */ "./node_modules/engine.io-client/build/cjs/globals.js");
const has_cors_js_1 = __webpack_require__(/*! ../contrib/has-cors.js */ "./node_modules/engine.io-client/build/cjs/contrib/has-cors.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("engine.io-client:polling"); // debug()
function empty() { }
class BaseXHR extends polling_js_1.Polling {
    /**
     * XHR Polling constructor.
     *
     * @param {Object} opts
     * @package
     */
    constructor(opts) {
        super(opts);
        if (typeof location !== "undefined") {
            const isSSL = "https:" === location.protocol;
            let port = location.port;
            // some user agents have empty `location.port`
            if (!port) {
                port = isSSL ? "443" : "80";
            }
            this.xd =
                (typeof location !== "undefined" &&
                    opts.hostname !== location.hostname) ||
                    port !== opts.port;
        }
    }
    /**
     * Sends data.
     *
     * @param {String} data to send.
     * @param {Function} called upon flush.
     * @private
     */
    doWrite(data, fn) {
        const req = this.request({
            method: "POST",
            data: data,
        });
        req.on("success", fn);
        req.on("error", (xhrStatus, context) => {
            this.onError("xhr post error", xhrStatus, context);
        });
    }
    /**
     * Starts a poll cycle.
     *
     * @private
     */
    doPoll() {
        debug("xhr poll");
        const req = this.request();
        req.on("data", this.onData.bind(this));
        req.on("error", (xhrStatus, context) => {
            this.onError("xhr poll error", xhrStatus, context);
        });
        this.pollXhr = req;
    }
}
exports.BaseXHR = BaseXHR;
class Request extends component_emitter_1.Emitter {
    /**
     * Request constructor
     *
     * @param {Object} options
     * @package
     */
    constructor(createRequest, uri, opts) {
        super();
        this.createRequest = createRequest;
        (0, util_js_1.installTimerFunctions)(this, opts);
        this._opts = opts;
        this._method = opts.method || "GET";
        this._uri = uri;
        this._data = undefined !== opts.data ? opts.data : null;
        this._create();
    }
    /**
     * Creates the XHR object and sends the request.
     *
     * @private
     */
    _create() {
        var _a;
        const opts = (0, util_js_1.pick)(this._opts, "agent", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "autoUnref");
        opts.xdomain = !!this._opts.xd;
        const xhr = (this._xhr = this.createRequest(opts));
        try {
            debug("xhr open %s: %s", this._method, this._uri);
            xhr.open(this._method, this._uri, true);
            try {
                if (this._opts.extraHeaders) {
                    // @ts-ignore
                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);
                    for (let i in this._opts.extraHeaders) {
                        if (this._opts.extraHeaders.hasOwnProperty(i)) {
                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);
                        }
                    }
                }
            }
            catch (e) { }
            if ("POST" === this._method) {
                try {
                    xhr.setRequestHeader("Content-type", "text/plain;charset=UTF-8");
                }
                catch (e) { }
            }
            try {
                xhr.setRequestHeader("Accept", "*/*");
            }
            catch (e) { }
            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);
            // ie6 check
            if ("withCredentials" in xhr) {
                xhr.withCredentials = this._opts.withCredentials;
            }
            if (this._opts.requestTimeout) {
                xhr.timeout = this._opts.requestTimeout;
            }
            xhr.onreadystatechange = () => {
                var _a;
                if (xhr.readyState === 3) {
                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(
                    // @ts-ignore
                    xhr.getResponseHeader("set-cookie"));
                }
                if (4 !== xhr.readyState)
                    return;
                if (200 === xhr.status || 1223 === xhr.status) {
                    this._onLoad();
                }
                else {
                    // make sure the `error` event handler that's user-set
                    // does not throw in the same tick and gets caught here
                    this.setTimeoutFn(() => {
                        this._onError(typeof xhr.status === "number" ? xhr.status : 0);
                    }, 0);
                }
            };
            debug("xhr data %s", this._data);
            xhr.send(this._data);
        }
        catch (e) {
            // Need to defer since .create() is called directly from the constructor
            // and thus the 'error' event can only be only bound *after* this exception
            // occurs.  Therefore, also, we cannot throw here at all.
            this.setTimeoutFn(() => {
                this._onError(e);
            }, 0);
            return;
        }
        if (typeof document !== "undefined") {
            this._index = Request.requestsCount++;
            Request.requests[this._index] = this;
        }
    }
    /**
     * Called upon error.
     *
     * @private
     */
    _onError(err) {
        this.emitReserved("error", err, this._xhr);
        this._cleanup(true);
    }
    /**
     * Cleans up house.
     *
     * @private
     */
    _cleanup(fromError) {
        if ("undefined" === typeof this._xhr || null === this._xhr) {
            return;
        }
        this._xhr.onreadystatechange = empty;
        if (fromError) {
            try {
                this._xhr.abort();
            }
            catch (e) { }
        }
        if (typeof document !== "undefined") {
            delete Request.requests[this._index];
        }
        this._xhr = null;
    }
    /**
     * Called upon load.
     *
     * @private
     */
    _onLoad() {
        const data = this._xhr.responseText;
        if (data !== null) {
            this.emitReserved("data", data);
            this.emitReserved("success");
            this._cleanup();
        }
    }
    /**
     * Aborts the request.
     *
     * @package
     */
    abort() {
        this._cleanup();
    }
}
exports.Request = Request;
Request.requestsCount = 0;
Request.requests = {};
/**
 * Aborts pending requests when unloading the window. This is needed to prevent
 * memory leaks (e.g. when using IE) and to ensure that no spurious error is
 * emitted.
 */
if (typeof document !== "undefined") {
    // @ts-ignore
    if (typeof attachEvent === "function") {
        // @ts-ignore
        attachEvent("onunload", unloadHandler);
    }
    else if (typeof addEventListener === "function") {
        const terminationEvent = "onpagehide" in globals_node_js_1.globalThisShim ? "pagehide" : "unload";
        addEventListener(terminationEvent, unloadHandler, false);
    }
}
function unloadHandler() {
    for (let i in Request.requests) {
        if (Request.requests.hasOwnProperty(i)) {
            Request.requests[i].abort();
        }
    }
}
const hasXHR2 = (function () {
    const xhr = newRequest({
        xdomain: false,
    });
    return xhr && xhr.responseType !== null;
})();
/**
 * HTTP long-polling based on the built-in `XMLHttpRequest` object.
 *
 * Usage: browser
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest
 */
class XHR extends BaseXHR {
    constructor(opts) {
        super(opts);
        const forceBase64 = opts && opts.forceBase64;
        this.supportsBinary = hasXHR2 && !forceBase64;
    }
    request(opts = {}) {
        Object.assign(opts, { xd: this.xd }, this.opts);
        return new Request(newRequest, this.uri(), opts);
    }
}
exports.XHR = XHR;
function newRequest(opts) {
    const xdomain = opts.xdomain;
    // XMLHttpRequest can be disabled on IE
    try {
        if ("undefined" !== typeof XMLHttpRequest && (!xdomain || has_cors_js_1.hasCORS)) {
            return new XMLHttpRequest();
        }
    }
    catch (e) { }
    if (!xdomain) {
        try {
            return new globals_node_js_1.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP");
        }
        catch (e) { }
    }
}


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transports/polling.js":
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transports/polling.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Polling = void 0;
const transport_js_1 = __webpack_require__(/*! ../transport.js */ "./node_modules/engine.io-client/build/cjs/transport.js");
const util_js_1 = __webpack_require__(/*! ../util.js */ "./node_modules/engine.io-client/build/cjs/util.js");
const engine_io_parser_1 = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/build/cjs/index.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("engine.io-client:polling"); // debug()
class Polling extends transport_js_1.Transport {
    constructor() {
        super(...arguments);
        this._polling = false;
    }
    get name() {
        return "polling";
    }
    /**
     * Opens the socket (triggers polling). We write a PING message to determine
     * when the transport is open.
     *
     * @protected
     */
    doOpen() {
        this._poll();
    }
    /**
     * Pauses polling.
     *
     * @param {Function} onPause - callback upon buffers are flushed and transport is paused
     * @package
     */
    pause(onPause) {
        this.readyState = "pausing";
        const pause = () => {
            debug("paused");
            this.readyState = "paused";
            onPause();
        };
        if (this._polling || !this.writable) {
            let total = 0;
            if (this._polling) {
                debug("we are currently polling - waiting to pause");
                total++;
                this.once("pollComplete", function () {
                    debug("pre-pause polling complete");
                    --total || pause();
                });
            }
            if (!this.writable) {
                debug("we are currently writing - waiting to pause");
                total++;
                this.once("drain", function () {
                    debug("pre-pause writing complete");
                    --total || pause();
                });
            }
        }
        else {
            pause();
        }
    }
    /**
     * Starts polling cycle.
     *
     * @private
     */
    _poll() {
        debug("polling");
        this._polling = true;
        this.doPoll();
        this.emitReserved("poll");
    }
    /**
     * Overloads onData to detect payloads.
     *
     * @protected
     */
    onData(data) {
        debug("polling got data %s", data);
        const callback = (packet) => {
            // if its the first message we consider the transport open
            if ("opening" === this.readyState && packet.type === "open") {
                this.onOpen();
            }
            // if its a close packet, we close the ongoing requests
            if ("close" === packet.type) {
                this.onClose({ description: "transport closed by the server" });
                return false;
            }
            // otherwise bypass onData and handle the message
            this.onPacket(packet);
        };
        // decode payload
        (0, engine_io_parser_1.decodePayload)(data, this.socket.binaryType).forEach(callback);
        // if an event did not trigger closing
        if ("closed" !== this.readyState) {
            // if we got data we're not polling
            this._polling = false;
            this.emitReserved("pollComplete");
            if ("open" === this.readyState) {
                this._poll();
            }
            else {
                debug('ignoring poll - transport state "%s"', this.readyState);
            }
        }
    }
    /**
     * For polling, send a close packet.
     *
     * @protected
     */
    doClose() {
        const close = () => {
            debug("writing close packet");
            this.write([{ type: "close" }]);
        };
        if ("open" === this.readyState) {
            debug("transport open - closing");
            close();
        }
        else {
            // in case we're trying to close while
            // handshaking is in progress (GH-164)
            debug("transport not open - deferring close");
            this.once("open", close);
        }
    }
    /**
     * Writes a packets payload.
     *
     * @param {Array} packets - data packets
     * @protected
     */
    write(packets) {
        this.writable = false;
        (0, engine_io_parser_1.encodePayload)(packets, (data) => {
            this.doWrite(data, () => {
                this.writable = true;
                this.emitReserved("drain");
            });
        });
    }
    /**
     * Generates uri for connection.
     *
     * @private
     */
    uri() {
        const schema = this.opts.secure ? "https" : "http";
        const query = this.query || {};
        // cache busting is forced
        if (false !== this.opts.timestampRequests) {
            query[this.opts.timestampParam] = (0, util_js_1.randomString)();
        }
        if (!this.supportsBinary && !query.sid) {
            query.b64 = 1;
        }
        return this.createUri(schema, query);
    }
}
exports.Polling = Polling;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transports/websocket.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transports/websocket.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WS = exports.BaseWS = void 0;
const transport_js_1 = __webpack_require__(/*! ../transport.js */ "./node_modules/engine.io-client/build/cjs/transport.js");
const util_js_1 = __webpack_require__(/*! ../util.js */ "./node_modules/engine.io-client/build/cjs/util.js");
const engine_io_parser_1 = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/build/cjs/index.js");
const globals_node_js_1 = __webpack_require__(/*! ../globals.node.js */ "./node_modules/engine.io-client/build/cjs/globals.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("engine.io-client:websocket"); // debug()
// detect ReactNative environment
const isReactNative = typeof navigator !== "undefined" &&
    typeof navigator.product === "string" &&
    navigator.product.toLowerCase() === "reactnative";
class BaseWS extends transport_js_1.Transport {
    get name() {
        return "websocket";
    }
    doOpen() {
        const uri = this.uri();
        const protocols = this.opts.protocols;
        // React Native only supports the 'headers' option, and will print a warning if anything else is passed
        const opts = isReactNative
            ? {}
            : (0, util_js_1.pick)(this.opts, "agent", "perMessageDeflate", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "localAddress", "protocolVersion", "origin", "maxPayload", "family", "checkServerIdentity");
        if (this.opts.extraHeaders) {
            opts.headers = this.opts.extraHeaders;
        }
        try {
            this.ws = this.createSocket(uri, protocols, opts);
        }
        catch (err) {
            return this.emitReserved("error", err);
        }
        this.ws.binaryType = this.socket.binaryType;
        this.addEventListeners();
    }
    /**
     * Adds event listeners to the socket
     *
     * @private
     */
    addEventListeners() {
        this.ws.onopen = () => {
            if (this.opts.autoUnref) {
                this.ws._socket.unref();
            }
            this.onOpen();
        };
        this.ws.onclose = (closeEvent) => this.onClose({
            description: "websocket connection closed",
            context: closeEvent,
        });
        this.ws.onmessage = (ev) => this.onData(ev.data);
        this.ws.onerror = (e) => this.onError("websocket error", e);
    }
    write(packets) {
        this.writable = false;
        // encodePacket efficient as it uses WS framing
        // no need for encodePayload
        for (let i = 0; i < packets.length; i++) {
            const packet = packets[i];
            const lastPacket = i === packets.length - 1;
            (0, engine_io_parser_1.encodePacket)(packet, this.supportsBinary, (data) => {
                // Sometimes the websocket has already been closed but the browser didn't
                // have a chance of informing us about it yet, in that case send will
                // throw an error
                try {
                    this.doWrite(packet, data);
                }
                catch (e) {
                    debug("websocket closed before onclose event");
                }
                if (lastPacket) {
                    // fake drain
                    // defer to next tick to allow Socket to clear writeBuffer
                    (0, globals_node_js_1.nextTick)(() => {
                        this.writable = true;
                        this.emitReserved("drain");
                    }, this.setTimeoutFn);
                }
            });
        }
    }
    doClose() {
        if (typeof this.ws !== "undefined") {
            this.ws.onerror = () => { };
            this.ws.close();
            this.ws = null;
        }
    }
    /**
     * Generates uri for connection.
     *
     * @private
     */
    uri() {
        const schema = this.opts.secure ? "wss" : "ws";
        const query = this.query || {};
        // append timestamp to URI
        if (this.opts.timestampRequests) {
            query[this.opts.timestampParam] = (0, util_js_1.randomString)();
        }
        // communicate binary support capabilities
        if (!this.supportsBinary) {
            query.b64 = 1;
        }
        return this.createUri(schema, query);
    }
}
exports.BaseWS = BaseWS;
const WebSocketCtor = globals_node_js_1.globalThisShim.WebSocket || globals_node_js_1.globalThisShim.MozWebSocket;
/**
 * WebSocket transport based on the built-in `WebSocket` object.
 *
 * Usage: browser, Node.js (since v21), Deno, Bun
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket
 * @see https://caniuse.com/mdn-api_websocket
 * @see https://nodejs.org/api/globals.html#websocket
 */
class WS extends BaseWS {
    createSocket(uri, protocols, opts) {
        return !isReactNative
            ? protocols
                ? new WebSocketCtor(uri, protocols)
                : new WebSocketCtor(uri)
            : new WebSocketCtor(uri, protocols, opts);
    }
    doWrite(_packet, data) {
        this.ws.send(data);
    }
}
exports.WS = WS;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/transports/webtransport.js":
/*!****************************************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/transports/webtransport.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WT = void 0;
const transport_js_1 = __webpack_require__(/*! ../transport.js */ "./node_modules/engine.io-client/build/cjs/transport.js");
const globals_node_js_1 = __webpack_require__(/*! ../globals.node.js */ "./node_modules/engine.io-client/build/cjs/globals.js");
const engine_io_parser_1 = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/build/cjs/index.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("engine.io-client:webtransport"); // debug()
/**
 * WebTransport transport based on the built-in `WebTransport` object.
 *
 * Usage: browser, Node.js (with the `@fails-components/webtransport` package)
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport
 * @see https://caniuse.com/webtransport
 */
class WT extends transport_js_1.Transport {
    get name() {
        return "webtransport";
    }
    doOpen() {
        try {
            // @ts-ignore
            this._transport = new WebTransport(this.createUri("https"), this.opts.transportOptions[this.name]);
        }
        catch (err) {
            return this.emitReserved("error", err);
        }
        this._transport.closed
            .then(() => {
            debug("transport closed gracefully");
            this.onClose();
        })
            .catch((err) => {
            debug("transport closed due to %s", err);
            this.onError("webtransport error", err);
        });
        // note: we could have used async/await, but that would require some additional polyfills
        this._transport.ready.then(() => {
            this._transport.createBidirectionalStream().then((stream) => {
                const decoderStream = (0, engine_io_parser_1.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER, this.socket.binaryType);
                const reader = stream.readable.pipeThrough(decoderStream).getReader();
                const encoderStream = (0, engine_io_parser_1.createPacketEncoderStream)();
                encoderStream.readable.pipeTo(stream.writable);
                this._writer = encoderStream.writable.getWriter();
                const read = () => {
                    reader
                        .read()
                        .then(({ done, value }) => {
                        if (done) {
                            debug("session is closed");
                            return;
                        }
                        debug("received chunk: %o", value);
                        this.onPacket(value);
                        read();
                    })
                        .catch((err) => {
                        debug("an error occurred while reading: %s", err);
                    });
                };
                read();
                const packet = { type: "open" };
                if (this.query.sid) {
                    packet.data = `{"sid":"${this.query.sid}"}`;
                }
                this._writer.write(packet).then(() => this.onOpen());
            });
        });
    }
    write(packets) {
        this.writable = false;
        for (let i = 0; i < packets.length; i++) {
            const packet = packets[i];
            const lastPacket = i === packets.length - 1;
            this._writer.write(packet).then(() => {
                if (lastPacket) {
                    (0, globals_node_js_1.nextTick)(() => {
                        this.writable = true;
                        this.emitReserved("drain");
                    }, this.setTimeoutFn);
                }
            });
        }
    }
    doClose() {
        var _a;
        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();
    }
}
exports.WT = WT;


/***/ }),

/***/ "./node_modules/engine.io-client/build/cjs/util.js":
/*!*********************************************************!*\
  !*** ./node_modules/engine.io-client/build/cjs/util.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pick = pick;
exports.installTimerFunctions = installTimerFunctions;
exports.byteLength = byteLength;
exports.randomString = randomString;
const globals_node_js_1 = __webpack_require__(/*! ./globals.node.js */ "./node_modules/engine.io-client/build/cjs/globals.js");
function pick(obj, ...attr) {
    return attr.reduce((acc, k) => {
        if (obj.hasOwnProperty(k)) {
            acc[k] = obj[k];
        }
        return acc;
    }, {});
}
// Keep a reference to the real timeout functions so they can be used when overridden
const NATIVE_SET_TIMEOUT = globals_node_js_1.globalThisShim.setTimeout;
const NATIVE_CLEAR_TIMEOUT = globals_node_js_1.globalThisShim.clearTimeout;
function installTimerFunctions(obj, opts) {
    if (opts.useNativeTimers) {
        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globals_node_js_1.globalThisShim);
        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globals_node_js_1.globalThisShim);
    }
    else {
        obj.setTimeoutFn = globals_node_js_1.globalThisShim.setTimeout.bind(globals_node_js_1.globalThisShim);
        obj.clearTimeoutFn = globals_node_js_1.globalThisShim.clearTimeout.bind(globals_node_js_1.globalThisShim);
    }
}
// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)
const BASE64_OVERHEAD = 1.33;
// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9
function byteLength(obj) {
    if (typeof obj === "string") {
        return utf8Length(obj);
    }
    // arraybuffer or blob
    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);
}
function utf8Length(str) {
    let c = 0, length = 0;
    for (let i = 0, l = str.length; i < l; i++) {
        c = str.charCodeAt(i);
        if (c < 0x80) {
            length += 1;
        }
        else if (c < 0x800) {
            length += 2;
        }
        else if (c < 0xd800 || c >= 0xe000) {
            length += 3;
        }
        else {
            i++;
            length += 4;
        }
    }
    return length;
}
/**
 * Generates a random 8-characters string.
 */
function randomString() {
    return (Date.now().toString(36).substring(3) +
        Math.random().toString(36).substring(2, 5));
}


/***/ }),

/***/ "./node_modules/engine.io-parser/build/cjs/commons.js":
/*!************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/cjs/commons.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ERROR_PACKET = exports.PACKET_TYPES_REVERSE = exports.PACKET_TYPES = void 0;
const PACKET_TYPES = Object.create(null); // no Map = no polyfill
exports.PACKET_TYPES = PACKET_TYPES;
PACKET_TYPES["open"] = "0";
PACKET_TYPES["close"] = "1";
PACKET_TYPES["ping"] = "2";
PACKET_TYPES["pong"] = "3";
PACKET_TYPES["message"] = "4";
PACKET_TYPES["upgrade"] = "5";
PACKET_TYPES["noop"] = "6";
const PACKET_TYPES_REVERSE = Object.create(null);
exports.PACKET_TYPES_REVERSE = PACKET_TYPES_REVERSE;
Object.keys(PACKET_TYPES).forEach((key) => {
    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;
});
const ERROR_PACKET = { type: "error", data: "parser error" };
exports.ERROR_PACKET = ERROR_PACKET;


/***/ }),

/***/ "./node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.decode = exports.encode = void 0;
// imported from https://github.com/socketio/base64-arraybuffer
const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
// Use a lookup table to find the index.
const lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);
for (let i = 0; i < chars.length; i++) {
    lookup[chars.charCodeAt(i)] = i;
}
const encode = (arraybuffer) => {
    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';
    for (i = 0; i < len; i += 3) {
        base64 += chars[bytes[i] >> 2];
        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];
        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];
        base64 += chars[bytes[i + 2] & 63];
    }
    if (len % 3 === 2) {
        base64 = base64.substring(0, base64.length - 1) + '=';
    }
    else if (len % 3 === 1) {
        base64 = base64.substring(0, base64.length - 2) + '==';
    }
    return base64;
};
exports.encode = encode;
const decode = (base64) => {
    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;
    if (base64[base64.length - 1] === '=') {
        bufferLength--;
        if (base64[base64.length - 2] === '=') {
            bufferLength--;
        }
    }
    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);
    for (i = 0; i < len; i += 4) {
        encoded1 = lookup[base64.charCodeAt(i)];
        encoded2 = lookup[base64.charCodeAt(i + 1)];
        encoded3 = lookup[base64.charCodeAt(i + 2)];
        encoded4 = lookup[base64.charCodeAt(i + 3)];
        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);
        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);
        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);
    }
    return arraybuffer;
};
exports.decode = decode;


/***/ }),

/***/ "./node_modules/engine.io-parser/build/cjs/decodePacket.browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/cjs/decodePacket.browser.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.decodePacket = void 0;
const commons_js_1 = __webpack_require__(/*! ./commons.js */ "./node_modules/engine.io-parser/build/cjs/commons.js");
const base64_arraybuffer_js_1 = __webpack_require__(/*! ./contrib/base64-arraybuffer.js */ "./node_modules/engine.io-parser/build/cjs/contrib/base64-arraybuffer.js");
const withNativeArrayBuffer = typeof ArrayBuffer === "function";
const decodePacket = (encodedPacket, binaryType) => {
    if (typeof encodedPacket !== "string") {
        return {
            type: "message",
            data: mapBinary(encodedPacket, binaryType),
        };
    }
    const type = encodedPacket.charAt(0);
    if (type === "b") {
        return {
            type: "message",
            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),
        };
    }
    const packetType = commons_js_1.PACKET_TYPES_REVERSE[type];
    if (!packetType) {
        return commons_js_1.ERROR_PACKET;
    }
    return encodedPacket.length > 1
        ? {
            type: commons_js_1.PACKET_TYPES_REVERSE[type],
            data: encodedPacket.substring(1),
        }
        : {
            type: commons_js_1.PACKET_TYPES_REVERSE[type],
        };
};
exports.decodePacket = decodePacket;
const decodeBase64Packet = (data, binaryType) => {
    if (withNativeArrayBuffer) {
        const decoded = (0, base64_arraybuffer_js_1.decode)(data);
        return mapBinary(decoded, binaryType);
    }
    else {
        return { base64: true, data }; // fallback for old browsers
    }
};
const mapBinary = (data, binaryType) => {
    switch (binaryType) {
        case "blob":
            if (data instanceof Blob) {
                // from WebSocket + binaryType "blob"
                return data;
            }
            else {
                // from HTTP long-polling or WebTransport
                return new Blob([data]);
            }
        case "arraybuffer":
        default:
            if (data instanceof ArrayBuffer) {
                // from HTTP long-polling (base64) or WebSocket + binaryType "arraybuffer"
                return data;
            }
            else {
                // from WebTransport (Uint8Array)
                return data.buffer;
            }
    }
};


/***/ }),

/***/ "./node_modules/engine.io-parser/build/cjs/encodePacket.browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-parser/build/cjs/encodePacket.browser.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.encodePacket = void 0;
exports.encodePacketToBinary = encodePacketToBinary;
const commons_js_1 = __webpack_require__(/*! ./commons.js */ "./node_modules/engine.io-parser/build/cjs/commons.js");
const withNativeBlob = typeof Blob === "function" ||
    (typeof Blob !== "undefined" &&
        Object.prototype.toString.call(Blob) === "[object BlobConstructor]");
const withNativeArrayBuffer = typeof ArrayBuffer === "function";
// ArrayBuffer.isView method is not defined in IE10
const isView = (obj) => {
    return typeof ArrayBuffer.isView === "function"
        ? ArrayBuffer.isView(obj)
        : obj && obj.buffer instanceof ArrayBuffer;
};
const encodePacket = ({ type, data }, supportsBinary, callback) => {
    if (withNativeBlob && data instanceof Blob) {
        if (supportsBinary) {
            return callback(data);
        }
        else {
            return encodeBlobAsBase64(data, callback);
        }
    }
    else if (withNativeArrayBuffer &&
        (data instanceof ArrayBuffer || isView(data))) {
        if (supportsBinary) {
            return callback(data);
        }
        else {
            return encodeBlobAsBase64(new Blob([data]), callback);
        }
    }
    // plain string
    return callback(commons_js_1.PACKET_TYPES[type] + (data || ""));
};
exports.encodePacket = encodePacket;
const encodeBlobAsBase64 = (data, callback) => {
    const fileReader = new FileReader();
    fileReader.onload = function () {
        const content = fileReader.result.split(",")[1];
        callback("b" + (content || ""));
    };
    return fileReader.readAsDataURL(data);
};
function toArray(data) {
    if (data instanceof Uint8Array) {
        return data;
    }
    else if (data instanceof ArrayBuffer) {
        return new Uint8Array(data);
    }
    else {
        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);
    }
}
let TEXT_ENCODER;
function encodePacketToBinary(packet, callback) {
    if (withNativeBlob && packet.data instanceof Blob) {
        return packet.data.arrayBuffer().then(toArray).then(callback);
    }
    else if (withNativeArrayBuffer &&
        (packet.data instanceof ArrayBuffer || isView(packet.data))) {
        return callback(toArray(packet.data));
    }
    encodePacket(packet, false, (encoded) => {
        if (!TEXT_ENCODER) {
            TEXT_ENCODER = new TextEncoder();
        }
        callback(TEXT_ENCODER.encode(encoded));
    });
}


/***/ }),

/***/ "./node_modules/engine.io-parser/build/cjs/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/engine.io-parser/build/cjs/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.decodePayload = exports.decodePacket = exports.encodePayload = exports.encodePacket = exports.protocol = void 0;
exports.createPacketEncoderStream = createPacketEncoderStream;
exports.createPacketDecoderStream = createPacketDecoderStream;
const encodePacket_js_1 = __webpack_require__(/*! ./encodePacket.js */ "./node_modules/engine.io-parser/build/cjs/encodePacket.browser.js");
Object.defineProperty(exports, "encodePacket", ({ enumerable: true, get: function () { return encodePacket_js_1.encodePacket; } }));
const decodePacket_js_1 = __webpack_require__(/*! ./decodePacket.js */ "./node_modules/engine.io-parser/build/cjs/decodePacket.browser.js");
Object.defineProperty(exports, "decodePacket", ({ enumerable: true, get: function () { return decodePacket_js_1.decodePacket; } }));
const commons_js_1 = __webpack_require__(/*! ./commons.js */ "./node_modules/engine.io-parser/build/cjs/commons.js");
const SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text
const encodePayload = (packets, callback) => {
    // some packets may be added to the array while encoding, so the initial length must be saved
    const length = packets.length;
    const encodedPackets = new Array(length);
    let count = 0;
    packets.forEach((packet, i) => {
        // force base64 encoding for binary packets
        (0, encodePacket_js_1.encodePacket)(packet, false, (encodedPacket) => {
            encodedPackets[i] = encodedPacket;
            if (++count === length) {
                callback(encodedPackets.join(SEPARATOR));
            }
        });
    });
};
exports.encodePayload = encodePayload;
const decodePayload = (encodedPayload, binaryType) => {
    const encodedPackets = encodedPayload.split(SEPARATOR);
    const packets = [];
    for (let i = 0; i < encodedPackets.length; i++) {
        const decodedPacket = (0, decodePacket_js_1.decodePacket)(encodedPackets[i], binaryType);
        packets.push(decodedPacket);
        if (decodedPacket.type === "error") {
            break;
        }
    }
    return packets;
};
exports.decodePayload = decodePayload;
function createPacketEncoderStream() {
    return new TransformStream({
        transform(packet, controller) {
            (0, encodePacket_js_1.encodePacketToBinary)(packet, (encodedPacket) => {
                const payloadLength = encodedPacket.length;
                let header;
                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length
                if (payloadLength < 126) {
                    header = new Uint8Array(1);
                    new DataView(header.buffer).setUint8(0, payloadLength);
                }
                else if (payloadLength < 65536) {
                    header = new Uint8Array(3);
                    const view = new DataView(header.buffer);
                    view.setUint8(0, 126);
                    view.setUint16(1, payloadLength);
                }
                else {
                    header = new Uint8Array(9);
                    const view = new DataView(header.buffer);
                    view.setUint8(0, 127);
                    view.setBigUint64(1, BigInt(payloadLength));
                }
                // first bit indicates whether the payload is plain text (0) or binary (1)
                if (packet.data && typeof packet.data !== "string") {
                    header[0] |= 0x80;
                }
                controller.enqueue(header);
                controller.enqueue(encodedPacket);
            });
        },
    });
}
let TEXT_DECODER;
function totalLength(chunks) {
    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);
}
function concatChunks(chunks, size) {
    if (chunks[0].length === size) {
        return chunks.shift();
    }
    const buffer = new Uint8Array(size);
    let j = 0;
    for (let i = 0; i < size; i++) {
        buffer[i] = chunks[0][j++];
        if (j === chunks[0].length) {
            chunks.shift();
            j = 0;
        }
    }
    if (chunks.length && j < chunks[0].length) {
        chunks[0] = chunks[0].slice(j);
    }
    return buffer;
}
function createPacketDecoderStream(maxPayload, binaryType) {
    if (!TEXT_DECODER) {
        TEXT_DECODER = new TextDecoder();
    }
    const chunks = [];
    let state = 0 /* State.READ_HEADER */;
    let expectedLength = -1;
    let isBinary = false;
    return new TransformStream({
        transform(chunk, controller) {
            chunks.push(chunk);
            while (true) {
                if (state === 0 /* State.READ_HEADER */) {
                    if (totalLength(chunks) < 1) {
                        break;
                    }
                    const header = concatChunks(chunks, 1);
                    isBinary = (header[0] & 0x80) === 0x80;
                    expectedLength = header[0] & 0x7f;
                    if (expectedLength < 126) {
                        state = 3 /* State.READ_PAYLOAD */;
                    }
                    else if (expectedLength === 126) {
                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;
                    }
                    else {
                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;
                    }
                }
                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {
                    if (totalLength(chunks) < 2) {
                        break;
                    }
                    const headerArray = concatChunks(chunks, 2);
                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);
                    state = 3 /* State.READ_PAYLOAD */;
                }
                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {
                    if (totalLength(chunks) < 8) {
                        break;
                    }
                    const headerArray = concatChunks(chunks, 8);
                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);
                    const n = view.getUint32(0);
                    if (n > Math.pow(2, 53 - 32) - 1) {
                        // the maximum safe integer in JavaScript is 2^53 - 1
                        controller.enqueue(commons_js_1.ERROR_PACKET);
                        break;
                    }
                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);
                    state = 3 /* State.READ_PAYLOAD */;
                }
                else {
                    if (totalLength(chunks) < expectedLength) {
                        break;
                    }
                    const data = concatChunks(chunks, expectedLength);
                    controller.enqueue((0, decodePacket_js_1.decodePacket)(isBinary ? data : TEXT_DECODER.decode(data), binaryType));
                    state = 0 /* State.READ_HEADER */;
                }
                if (expectedLength === 0 || expectedLength > maxPayload) {
                    controller.enqueue(commons_js_1.ERROR_PACKET);
                    break;
                }
            }
        },
    });
}
exports.protocol = 4;


/***/ }),

/***/ "./node_modules/socket.io-client/build/cjs/contrib/backo2.js":
/*!*******************************************************************!*\
  !*** ./node_modules/socket.io-client/build/cjs/contrib/backo2.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/**
 * Initialize backoff timer with `opts`.
 *
 * - `min` initial timeout in milliseconds [100]
 * - `max` max timeout [10000]
 * - `jitter` [0]
 * - `factor` [2]
 *
 * @param {Object} opts
 * @api public
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Backoff = Backoff;
function Backoff(opts) {
    opts = opts || {};
    this.ms = opts.min || 100;
    this.max = opts.max || 10000;
    this.factor = opts.factor || 2;
    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;
    this.attempts = 0;
}
/**
 * Return the backoff duration.
 *
 * @return {Number}
 * @api public
 */
Backoff.prototype.duration = function () {
    var ms = this.ms * Math.pow(this.factor, this.attempts++);
    if (this.jitter) {
        var rand = Math.random();
        var deviation = Math.floor(rand * this.jitter * ms);
        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;
    }
    return Math.min(ms, this.max) | 0;
};
/**
 * Reset the number of attempts.
 *
 * @api public
 */
Backoff.prototype.reset = function () {
    this.attempts = 0;
};
/**
 * Set the minimum duration
 *
 * @api public
 */
Backoff.prototype.setMin = function (min) {
    this.ms = min;
};
/**
 * Set the maximum duration
 *
 * @api public
 */
Backoff.prototype.setMax = function (max) {
    this.max = max;
};
/**
 * Set the jitter
 *
 * @api public
 */
Backoff.prototype.setJitter = function (jitter) {
    this.jitter = jitter;
};


/***/ }),

/***/ "./node_modules/socket.io-client/build/cjs/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/socket.io-client/build/cjs/index.js ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebTransport = exports.WebSocket = exports.NodeWebSocket = exports.XHR = exports.NodeXHR = exports.Fetch = exports.Socket = exports.Manager = exports.protocol = void 0;
exports.io = lookup;
exports.connect = lookup;
exports["default"] = lookup;
const url_js_1 = __webpack_require__(/*! ./url.js */ "./node_modules/socket.io-client/build/cjs/url.js");
const manager_js_1 = __webpack_require__(/*! ./manager.js */ "./node_modules/socket.io-client/build/cjs/manager.js");
Object.defineProperty(exports, "Manager", ({ enumerable: true, get: function () { return manager_js_1.Manager; } }));
const socket_js_1 = __webpack_require__(/*! ./socket.js */ "./node_modules/socket.io-client/build/cjs/socket.js");
Object.defineProperty(exports, "Socket", ({ enumerable: true, get: function () { return socket_js_1.Socket; } }));
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("socket.io-client"); // debug()
/**
 * Managers cache.
 */
const cache = {};
function lookup(uri, opts) {
    if (typeof uri === "object") {
        opts = uri;
        uri = undefined;
    }
    opts = opts || {};
    const parsed = (0, url_js_1.url)(uri, opts.path || "/socket.io");
    const source = parsed.source;
    const id = parsed.id;
    const path = parsed.path;
    const sameNamespace = cache[id] && path in cache[id]["nsps"];
    const newConnection = opts.forceNew ||
        opts["force new connection"] ||
        false === opts.multiplex ||
        sameNamespace;
    let io;
    if (newConnection) {
        debug("ignoring socket cache for %s", source);
        io = new manager_js_1.Manager(source, opts);
    }
    else {
        if (!cache[id]) {
            debug("new io instance for %s", source);
            cache[id] = new manager_js_1.Manager(source, opts);
        }
        io = cache[id];
    }
    if (parsed.query && !opts.query) {
        opts.query = parsed.queryKey;
    }
    return io.socket(parsed.path, opts);
}
// so that "lookup" can be used both as a function (e.g. `io(...)`) and as a
// namespace (e.g. `io.connect(...)`), for backward compatibility
Object.assign(lookup, {
    Manager: manager_js_1.Manager,
    Socket: socket_js_1.Socket,
    io: lookup,
    connect: lookup,
});
/**
 * Protocol version.
 *
 * @public
 */
var socket_io_parser_1 = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/build/cjs/index.js");
Object.defineProperty(exports, "protocol", ({ enumerable: true, get: function () { return socket_io_parser_1.protocol; } }));
var engine_io_client_1 = __webpack_require__(/*! engine.io-client */ "./node_modules/engine.io-client/build/cjs/index.js");
Object.defineProperty(exports, "Fetch", ({ enumerable: true, get: function () { return engine_io_client_1.Fetch; } }));
Object.defineProperty(exports, "NodeXHR", ({ enumerable: true, get: function () { return engine_io_client_1.NodeXHR; } }));
Object.defineProperty(exports, "XHR", ({ enumerable: true, get: function () { return engine_io_client_1.XHR; } }));
Object.defineProperty(exports, "NodeWebSocket", ({ enumerable: true, get: function () { return engine_io_client_1.NodeWebSocket; } }));
Object.defineProperty(exports, "WebSocket", ({ enumerable: true, get: function () { return engine_io_client_1.WebSocket; } }));
Object.defineProperty(exports, "WebTransport", ({ enumerable: true, get: function () { return engine_io_client_1.WebTransport; } }));

module.exports = lookup;


/***/ }),

/***/ "./node_modules/socket.io-client/build/cjs/manager.js":
/*!************************************************************!*\
  !*** ./node_modules/socket.io-client/build/cjs/manager.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Manager = void 0;
const engine_io_client_1 = __webpack_require__(/*! engine.io-client */ "./node_modules/engine.io-client/build/cjs/index.js");
const socket_js_1 = __webpack_require__(/*! ./socket.js */ "./node_modules/socket.io-client/build/cjs/socket.js");
const parser = __importStar(__webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/build/cjs/index.js"));
const on_js_1 = __webpack_require__(/*! ./on.js */ "./node_modules/socket.io-client/build/cjs/on.js");
const backo2_js_1 = __webpack_require__(/*! ./contrib/backo2.js */ "./node_modules/socket.io-client/build/cjs/contrib/backo2.js");
const component_emitter_1 = __webpack_require__(/*! @socket.io/component-emitter */ "./node_modules/@socket.io/component-emitter/lib/esm/index.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("socket.io-client:manager"); // debug()
class Manager extends component_emitter_1.Emitter {
    constructor(uri, opts) {
        var _a;
        super();
        this.nsps = {};
        this.subs = [];
        if (uri && "object" === typeof uri) {
            opts = uri;
            uri = undefined;
        }
        opts = opts || {};
        opts.path = opts.path || "/socket.io";
        this.opts = opts;
        (0, engine_io_client_1.installTimerFunctions)(this, opts);
        this.reconnection(opts.reconnection !== false);
        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);
        this.reconnectionDelay(opts.reconnectionDelay || 1000);
        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);
        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);
        this.backoff = new backo2_js_1.Backoff({
            min: this.reconnectionDelay(),
            max: this.reconnectionDelayMax(),
            jitter: this.randomizationFactor(),
        });
        this.timeout(null == opts.timeout ? 20000 : opts.timeout);
        this._readyState = "closed";
        this.uri = uri;
        const _parser = opts.parser || parser;
        this.encoder = new _parser.Encoder();
        this.decoder = new _parser.Decoder();
        this._autoConnect = opts.autoConnect !== false;
        if (this._autoConnect)
            this.open();
    }
    reconnection(v) {
        if (!arguments.length)
            return this._reconnection;
        this._reconnection = !!v;
        if (!v) {
            this.skipReconnect = true;
        }
        return this;
    }
    reconnectionAttempts(v) {
        if (v === undefined)
            return this._reconnectionAttempts;
        this._reconnectionAttempts = v;
        return this;
    }
    reconnectionDelay(v) {
        var _a;
        if (v === undefined)
            return this._reconnectionDelay;
        this._reconnectionDelay = v;
        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);
        return this;
    }
    randomizationFactor(v) {
        var _a;
        if (v === undefined)
            return this._randomizationFactor;
        this._randomizationFactor = v;
        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);
        return this;
    }
    reconnectionDelayMax(v) {
        var _a;
        if (v === undefined)
            return this._reconnectionDelayMax;
        this._reconnectionDelayMax = v;
        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);
        return this;
    }
    timeout(v) {
        if (!arguments.length)
            return this._timeout;
        this._timeout = v;
        return this;
    }
    /**
     * Starts trying to reconnect if reconnection is enabled and we have not
     * started reconnecting yet
     *
     * @private
     */
    maybeReconnectOnOpen() {
        // Only try to reconnect if it's the first time we're connecting
        if (!this._reconnecting &&
            this._reconnection &&
            this.backoff.attempts === 0) {
            // keeps reconnection from firing twice for the same reconnection loop
            this.reconnect();
        }
    }
    /**
     * Sets the current transport `socket`.
     *
     * @param {Function} fn - optional, callback
     * @return self
     * @public
     */
    open(fn) {
        debug("readyState %s", this._readyState);
        if (~this._readyState.indexOf("open"))
            return this;
        debug("opening %s", this.uri);
        this.engine = new engine_io_client_1.Socket(this.uri, this.opts);
        const socket = this.engine;
        const self = this;
        this._readyState = "opening";
        this.skipReconnect = false;
        // emit `open`
        const openSubDestroy = (0, on_js_1.on)(socket, "open", function () {
            self.onopen();
            fn && fn();
        });
        const onError = (err) => {
            debug("error");
            this.cleanup();
            this._readyState = "closed";
            this.emitReserved("error", err);
            if (fn) {
                fn(err);
            }
            else {
                // Only do this if there is no fn to handle the error
                this.maybeReconnectOnOpen();
            }
        };
        // emit `error`
        const errorSub = (0, on_js_1.on)(socket, "error", onError);
        if (false !== this._timeout) {
            const timeout = this._timeout;
            debug("connect attempt will timeout after %d", timeout);
            // set timer
            const timer = this.setTimeoutFn(() => {
                debug("connect attempt timed out after %d", timeout);
                openSubDestroy();
                onError(new Error("timeout"));
                socket.close();
            }, timeout);
            if (this.opts.autoUnref) {
                timer.unref();
            }
            this.subs.push(() => {
                this.clearTimeoutFn(timer);
            });
        }
        this.subs.push(openSubDestroy);
        this.subs.push(errorSub);
        return this;
    }
    /**
     * Alias for open()
     *
     * @return self
     * @public
     */
    connect(fn) {
        return this.open(fn);
    }
    /**
     * Called upon transport open.
     *
     * @private
     */
    onopen() {
        debug("open");
        // clear old subs
        this.cleanup();
        // mark as open
        this._readyState = "open";
        this.emitReserved("open");
        // add new subs
        const socket = this.engine;
        this.subs.push((0, on_js_1.on)(socket, "ping", this.onping.bind(this)), (0, on_js_1.on)(socket, "data", this.ondata.bind(this)), (0, on_js_1.on)(socket, "error", this.onerror.bind(this)), (0, on_js_1.on)(socket, "close", this.onclose.bind(this)), 
        // @ts-ignore
        (0, on_js_1.on)(this.decoder, "decoded", this.ondecoded.bind(this)));
    }
    /**
     * Called upon a ping.
     *
     * @private
     */
    onping() {
        this.emitReserved("ping");
    }
    /**
     * Called with data.
     *
     * @private
     */
    ondata(data) {
        try {
            this.decoder.add(data);
        }
        catch (e) {
            this.onclose("parse error", e);
        }
    }
    /**
     * Called when parser fully decodes a packet.
     *
     * @private
     */
    ondecoded(packet) {
        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a "parse error"
        (0, engine_io_client_1.nextTick)(() => {
            this.emitReserved("packet", packet);
        }, this.setTimeoutFn);
    }
    /**
     * Called upon socket error.
     *
     * @private
     */
    onerror(err) {
        debug("error", err);
        this.emitReserved("error", err);
    }
    /**
     * Creates a new socket for the given `nsp`.
     *
     * @return {Socket}
     * @public
     */
    socket(nsp, opts) {
        let socket = this.nsps[nsp];
        if (!socket) {
            socket = new socket_js_1.Socket(this, nsp, opts);
            this.nsps[nsp] = socket;
        }
        else if (this._autoConnect && !socket.active) {
            socket.connect();
        }
        return socket;
    }
    /**
     * Called upon a socket close.
     *
     * @param socket
     * @private
     */
    _destroy(socket) {
        const nsps = Object.keys(this.nsps);
        for (const nsp of nsps) {
            const socket = this.nsps[nsp];
            if (socket.active) {
                debug("socket %s is still active, skipping close", nsp);
                return;
            }
        }
        this._close();
    }
    /**
     * Writes a packet.
     *
     * @param packet
     * @private
     */
    _packet(packet) {
        debug("writing packet %j", packet);
        const encodedPackets = this.encoder.encode(packet);
        for (let i = 0; i < encodedPackets.length; i++) {
            this.engine.write(encodedPackets[i], packet.options);
        }
    }
    /**
     * Clean up transport subscriptions and packet buffer.
     *
     * @private
     */
    cleanup() {
        debug("cleanup");
        this.subs.forEach((subDestroy) => subDestroy());
        this.subs.length = 0;
        this.decoder.destroy();
    }
    /**
     * Close the current socket.
     *
     * @private
     */
    _close() {
        debug("disconnect");
        this.skipReconnect = true;
        this._reconnecting = false;
        this.onclose("forced close");
    }
    /**
     * Alias for close()
     *
     * @private
     */
    disconnect() {
        return this._close();
    }
    /**
     * Called when:
     *
     * - the low-level engine is closed
     * - the parser encountered a badly formatted packet
     * - all sockets are disconnected
     *
     * @private
     */
    onclose(reason, description) {
        var _a;
        debug("closed due to %s", reason);
        this.cleanup();
        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();
        this.backoff.reset();
        this._readyState = "closed";
        this.emitReserved("close", reason, description);
        if (this._reconnection && !this.skipReconnect) {
            this.reconnect();
        }
    }
    /**
     * Attempt a reconnection.
     *
     * @private
     */
    reconnect() {
        if (this._reconnecting || this.skipReconnect)
            return this;
        const self = this;
        if (this.backoff.attempts >= this._reconnectionAttempts) {
            debug("reconnect failed");
            this.backoff.reset();
            this.emitReserved("reconnect_failed");
            this._reconnecting = false;
        }
        else {
            const delay = this.backoff.duration();
            debug("will wait %dms before reconnect attempt", delay);
            this._reconnecting = true;
            const timer = this.setTimeoutFn(() => {
                if (self.skipReconnect)
                    return;
                debug("attempting reconnect");
                this.emitReserved("reconnect_attempt", self.backoff.attempts);
                // check again for the case socket closed in above events
                if (self.skipReconnect)
                    return;
                self.open((err) => {
                    if (err) {
                        debug("reconnect attempt error");
                        self._reconnecting = false;
                        self.reconnect();
                        this.emitReserved("reconnect_error", err);
                    }
                    else {
                        debug("reconnect success");
                        self.onreconnect();
                    }
                });
            }, delay);
            if (this.opts.autoUnref) {
                timer.unref();
            }
            this.subs.push(() => {
                this.clearTimeoutFn(timer);
            });
        }
    }
    /**
     * Called upon successful reconnect.
     *
     * @private
     */
    onreconnect() {
        const attempt = this.backoff.attempts;
        this._reconnecting = false;
        this.backoff.reset();
        this.emitReserved("reconnect", attempt);
    }
}
exports.Manager = Manager;


/***/ }),

/***/ "./node_modules/socket.io-client/build/cjs/on.js":
/*!*******************************************************!*\
  !*** ./node_modules/socket.io-client/build/cjs/on.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.on = on;
function on(obj, ev, fn) {
    obj.on(ev, fn);
    return function subDestroy() {
        obj.off(ev, fn);
    };
}


/***/ }),

/***/ "./node_modules/socket.io-client/build/cjs/socket.js":
/*!***********************************************************!*\
  !*** ./node_modules/socket.io-client/build/cjs/socket.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Socket = void 0;
const socket_io_parser_1 = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/build/cjs/index.js");
const on_js_1 = __webpack_require__(/*! ./on.js */ "./node_modules/socket.io-client/build/cjs/on.js");
const component_emitter_1 = __webpack_require__(/*! @socket.io/component-emitter */ "./node_modules/@socket.io/component-emitter/lib/esm/index.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("socket.io-client:socket"); // debug()
/**
 * Internal events.
 * These events can't be emitted by the user.
 */
const RESERVED_EVENTS = Object.freeze({
    connect: 1,
    connect_error: 1,
    disconnect: 1,
    disconnecting: 1,
    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener
    newListener: 1,
    removeListener: 1,
});
/**
 * A Socket is the fundamental class for interacting with the server.
 *
 * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.
 *
 * @example
 * const socket = io();
 *
 * socket.on("connect", () => {
 *   console.log("connected");
 * });
 *
 * // send an event to the server
 * socket.emit("foo", "bar");
 *
 * socket.on("foobar", () => {
 *   // an event was received from the server
 * });
 *
 * // upon disconnection
 * socket.on("disconnect", (reason) => {
 *   console.log(`disconnected due to ${reason}`);
 * });
 */
class Socket extends component_emitter_1.Emitter {
    /**
     * `Socket` constructor.
     */
    constructor(io, nsp, opts) {
        super();
        /**
         * Whether the socket is currently connected to the server.
         *
         * @example
         * const socket = io();
         *
         * socket.on("connect", () => {
         *   console.log(socket.connected); // true
         * });
         *
         * socket.on("disconnect", () => {
         *   console.log(socket.connected); // false
         * });
         */
        this.connected = false;
        /**
         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will
         * be transmitted by the server.
         */
        this.recovered = false;
        /**
         * Buffer for packets received before the CONNECT packet
         */
        this.receiveBuffer = [];
        /**
         * Buffer for packets that will be sent once the socket is connected
         */
        this.sendBuffer = [];
        /**
         * The queue of packets to be sent with retry in case of failure.
         *
         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.
         * @private
         */
        this._queue = [];
        /**
         * A sequence to generate the ID of the {@link QueuedPacket}.
         * @private
         */
        this._queueSeq = 0;
        this.ids = 0;
        /**
         * A map containing acknowledgement handlers.
         *
         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:
         *
         * - `socket.emit("test", (err, value) => { ... })` with `ackTimeout` option
         * - `socket.timeout(5000).emit("test", (err, value) => { ... })`
         * - `const value = await socket.emitWithAck("test")`
         *
         * From those that don't:
         *
         * - `socket.emit("test", (value) => { ... });`
         *
         * In the first case, the handlers will be called with an error when:
         *
         * - the timeout is reached
         * - the socket gets disconnected
         *
         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive
         * an acknowledgement from the server.
         *
         * @private
         */
        this.acks = {};
        this.flags = {};
        this.io = io;
        this.nsp = nsp;
        if (opts && opts.auth) {
            this.auth = opts.auth;
        }
        this._opts = Object.assign({}, opts);
        if (this.io._autoConnect)
            this.open();
    }
    /**
     * Whether the socket is currently disconnected
     *
     * @example
     * const socket = io();
     *
     * socket.on("connect", () => {
     *   console.log(socket.disconnected); // false
     * });
     *
     * socket.on("disconnect", () => {
     *   console.log(socket.disconnected); // true
     * });
     */
    get disconnected() {
        return !this.connected;
    }
    /**
     * Subscribe to open, close and packet events
     *
     * @private
     */
    subEvents() {
        if (this.subs)
            return;
        const io = this.io;
        this.subs = [
            (0, on_js_1.on)(io, "open", this.onopen.bind(this)),
            (0, on_js_1.on)(io, "packet", this.onpacket.bind(this)),
            (0, on_js_1.on)(io, "error", this.onerror.bind(this)),
            (0, on_js_1.on)(io, "close", this.onclose.bind(this)),
        ];
    }
    /**
     * Whether the Socket will try to reconnect when its Manager connects or reconnects.
     *
     * @example
     * const socket = io();
     *
     * console.log(socket.active); // true
     *
     * socket.on("disconnect", (reason) => {
     *   if (reason === "io server disconnect") {
     *     // the disconnection was initiated by the server, you need to manually reconnect
     *     console.log(socket.active); // false
     *   }
     *   // else the socket will automatically try to reconnect
     *   console.log(socket.active); // true
     * });
     */
    get active() {
        return !!this.subs;
    }
    /**
     * "Opens" the socket.
     *
     * @example
     * const socket = io({
     *   autoConnect: false
     * });
     *
     * socket.connect();
     */
    connect() {
        if (this.connected)
            return this;
        this.subEvents();
        if (!this.io["_reconnecting"])
            this.io.open(); // ensure open
        if ("open" === this.io._readyState)
            this.onopen();
        return this;
    }
    /**
     * Alias for {@link connect()}.
     */
    open() {
        return this.connect();
    }
    /**
     * Sends a `message` event.
     *
     * This method mimics the WebSocket.send() method.
     *
     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send
     *
     * @example
     * socket.send("hello");
     *
     * // this is equivalent to
     * socket.emit("message", "hello");
     *
     * @return self
     */
    send(...args) {
        args.unshift("message");
        this.emit.apply(this, args);
        return this;
    }
    /**
     * Override `emit`.
     * If the event is in `events`, it's emitted normally.
     *
     * @example
     * socket.emit("hello", "world");
     *
     * // all serializable datastructures are supported (no need to call JSON.stringify)
     * socket.emit("hello", 1, "2", { 3: ["4"], 5: Uint8Array.from([6]) });
     *
     * // with an acknowledgement from the server
     * socket.emit("hello", "world", (val) => {
     *   // ...
     * });
     *
     * @return self
     */
    emit(ev, ...args) {
        var _a, _b, _c;
        if (RESERVED_EVENTS.hasOwnProperty(ev)) {
            throw new Error('"' + ev.toString() + '" is a reserved event name');
        }
        args.unshift(ev);
        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {
            this._addToQueue(args);
            return this;
        }
        const packet = {
            type: socket_io_parser_1.PacketType.EVENT,
            data: args,
        };
        packet.options = {};
        packet.options.compress = this.flags.compress !== false;
        // event ack callback
        if ("function" === typeof args[args.length - 1]) {
            const id = this.ids++;
            debug("emitting packet with ack id %d", id);
            const ack = args.pop();
            this._registerAckCallback(id, ack);
            packet.id = id;
        }
        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;
        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());
        const discardPacket = this.flags.volatile && !isTransportWritable;
        if (discardPacket) {
            debug("discard packet as the transport is not currently writable");
        }
        else if (isConnected) {
            this.notifyOutgoingListeners(packet);
            this.packet(packet);
        }
        else {
            this.sendBuffer.push(packet);
        }
        this.flags = {};
        return this;
    }
    /**
     * @private
     */
    _registerAckCallback(id, ack) {
        var _a;
        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;
        if (timeout === undefined) {
            this.acks[id] = ack;
            return;
        }
        // @ts-ignore
        const timer = this.io.setTimeoutFn(() => {
            delete this.acks[id];
            for (let i = 0; i < this.sendBuffer.length; i++) {
                if (this.sendBuffer[i].id === id) {
                    debug("removing packet with ack id %d from the buffer", id);
                    this.sendBuffer.splice(i, 1);
                }
            }
            debug("event with ack id %d has timed out after %d ms", id, timeout);
            ack.call(this, new Error("operation has timed out"));
        }, timeout);
        const fn = (...args) => {
            // @ts-ignore
            this.io.clearTimeoutFn(timer);
            ack.apply(this, args);
        };
        fn.withError = true;
        this.acks[id] = fn;
    }
    /**
     * Emits an event and waits for an acknowledgement
     *
     * @example
     * // without timeout
     * const response = await socket.emitWithAck("hello", "world");
     *
     * // with a specific timeout
     * try {
     *   const response = await socket.timeout(1000).emitWithAck("hello", "world");
     * } catch (err) {
     *   // the server did not acknowledge the event in the given delay
     * }
     *
     * @return a Promise that will be fulfilled when the server acknowledges the event
     */
    emitWithAck(ev, ...args) {
        return new Promise((resolve, reject) => {
            const fn = (arg1, arg2) => {
                return arg1 ? reject(arg1) : resolve(arg2);
            };
            fn.withError = true;
            args.push(fn);
            this.emit(ev, ...args);
        });
    }
    /**
     * Add the packet to the queue.
     * @param args
     * @private
     */
    _addToQueue(args) {
        let ack;
        if (typeof args[args.length - 1] === "function") {
            ack = args.pop();
        }
        const packet = {
            id: this._queueSeq++,
            tryCount: 0,
            pending: false,
            args,
            flags: Object.assign({ fromQueue: true }, this.flags),
        };
        args.push((err, ...responseArgs) => {
            if (packet !== this._queue[0]) {
                // the packet has already been acknowledged
                return;
            }
            const hasError = err !== null;
            if (hasError) {
                if (packet.tryCount > this._opts.retries) {
                    debug("packet [%d] is discarded after %d tries", packet.id, packet.tryCount);
                    this._queue.shift();
                    if (ack) {
                        ack(err);
                    }
                }
            }
            else {
                debug("packet [%d] was successfully sent", packet.id);
                this._queue.shift();
                if (ack) {
                    ack(null, ...responseArgs);
                }
            }
            packet.pending = false;
            return this._drainQueue();
        });
        this._queue.push(packet);
        this._drainQueue();
    }
    /**
     * Send the first packet of the queue, and wait for an acknowledgement from the server.
     * @param force - whether to resend a packet that has not been acknowledged yet
     *
     * @private
     */
    _drainQueue(force = false) {
        debug("draining queue");
        if (!this.connected || this._queue.length === 0) {
            return;
        }
        const packet = this._queue[0];
        if (packet.pending && !force) {
            debug("packet [%d] has already been sent and is waiting for an ack", packet.id);
            return;
        }
        packet.pending = true;
        packet.tryCount++;
        debug("sending packet [%d] (try n%d)", packet.id, packet.tryCount);
        this.flags = packet.flags;
        this.emit.apply(this, packet.args);
    }
    /**
     * Sends a packet.
     *
     * @param packet
     * @private
     */
    packet(packet) {
        packet.nsp = this.nsp;
        this.io._packet(packet);
    }
    /**
     * Called upon engine `open`.
     *
     * @private
     */
    onopen() {
        debug("transport is open - connecting");
        if (typeof this.auth == "function") {
            this.auth((data) => {
                this._sendConnectPacket(data);
            });
        }
        else {
            this._sendConnectPacket(this.auth);
        }
    }
    /**
     * Sends a CONNECT packet to initiate the Socket.IO session.
     *
     * @param data
     * @private
     */
    _sendConnectPacket(data) {
        this.packet({
            type: socket_io_parser_1.PacketType.CONNECT,
            data: this._pid
                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)
                : data,
        });
    }
    /**
     * Called upon engine or manager `error`.
     *
     * @param err
     * @private
     */
    onerror(err) {
        if (!this.connected) {
            this.emitReserved("connect_error", err);
        }
    }
    /**
     * Called upon engine `close`.
     *
     * @param reason
     * @param description
     * @private
     */
    onclose(reason, description) {
        debug("close (%s)", reason);
        this.connected = false;
        delete this.id;
        this.emitReserved("disconnect", reason, description);
        this._clearAcks();
    }
    /**
     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from
     * the server.
     *
     * @private
     */
    _clearAcks() {
        Object.keys(this.acks).forEach((id) => {
            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);
            if (!isBuffered) {
                // note: handlers that do not accept an error as first argument are ignored here
                const ack = this.acks[id];
                delete this.acks[id];
                if (ack.withError) {
                    ack.call(this, new Error("socket has been disconnected"));
                }
            }
        });
    }
    /**
     * Called with socket packet.
     *
     * @param packet
     * @private
     */
    onpacket(packet) {
        const sameNamespace = packet.nsp === this.nsp;
        if (!sameNamespace)
            return;
        switch (packet.type) {
            case socket_io_parser_1.PacketType.CONNECT:
                if (packet.data && packet.data.sid) {
                    this.onconnect(packet.data.sid, packet.data.pid);
                }
                else {
                    this.emitReserved("connect_error", new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));
                }
                break;
            case socket_io_parser_1.PacketType.EVENT:
            case socket_io_parser_1.PacketType.BINARY_EVENT:
                this.onevent(packet);
                break;
            case socket_io_parser_1.PacketType.ACK:
            case socket_io_parser_1.PacketType.BINARY_ACK:
                this.onack(packet);
                break;
            case socket_io_parser_1.PacketType.DISCONNECT:
                this.ondisconnect();
                break;
            case socket_io_parser_1.PacketType.CONNECT_ERROR:
                this.destroy();
                const err = new Error(packet.data.message);
                // @ts-ignore
                err.data = packet.data.data;
                this.emitReserved("connect_error", err);
                break;
        }
    }
    /**
     * Called upon a server event.
     *
     * @param packet
     * @private
     */
    onevent(packet) {
        const args = packet.data || [];
        debug("emitting event %j", args);
        if (null != packet.id) {
            debug("attaching ack callback to event");
            args.push(this.ack(packet.id));
        }
        if (this.connected) {
            this.emitEvent(args);
        }
        else {
            this.receiveBuffer.push(Object.freeze(args));
        }
    }
    emitEvent(args) {
        if (this._anyListeners && this._anyListeners.length) {
            const listeners = this._anyListeners.slice();
            for (const listener of listeners) {
                listener.apply(this, args);
            }
        }
        super.emit.apply(this, args);
        if (this._pid && args.length && typeof args[args.length - 1] === "string") {
            this._lastOffset = args[args.length - 1];
        }
    }
    /**
     * Produces an ack callback to emit with an event.
     *
     * @private
     */
    ack(id) {
        const self = this;
        let sent = false;
        return function (...args) {
            // prevent double callbacks
            if (sent)
                return;
            sent = true;
            debug("sending ack %j", args);
            self.packet({
                type: socket_io_parser_1.PacketType.ACK,
                id: id,
                data: args,
            });
        };
    }
    /**
     * Called upon a server acknowledgement.
     *
     * @param packet
     * @private
     */
    onack(packet) {
        const ack = this.acks[packet.id];
        if (typeof ack !== "function") {
            debug("bad ack %s", packet.id);
            return;
        }
        delete this.acks[packet.id];
        debug("calling ack %s with %j", packet.id, packet.data);
        // @ts-ignore FIXME ack is incorrectly inferred as 'never'
        if (ack.withError) {
            packet.data.unshift(null);
        }
        // @ts-ignore
        ack.apply(this, packet.data);
    }
    /**
     * Called upon server connect.
     *
     * @private
     */
    onconnect(id, pid) {
        debug("socket connected with id %s", id);
        this.id = id;
        this.recovered = pid && this._pid === pid;
        this._pid = pid; // defined only if connection state recovery is enabled
        this.connected = true;
        this.emitBuffered();
        this.emitReserved("connect");
        this._drainQueue(true);
    }
    /**
     * Emit buffered events (received and emitted).
     *
     * @private
     */
    emitBuffered() {
        this.receiveBuffer.forEach((args) => this.emitEvent(args));
        this.receiveBuffer = [];
        this.sendBuffer.forEach((packet) => {
            this.notifyOutgoingListeners(packet);
            this.packet(packet);
        });
        this.sendBuffer = [];
    }
    /**
     * Called upon server disconnect.
     *
     * @private
     */
    ondisconnect() {
        debug("server disconnect (%s)", this.nsp);
        this.destroy();
        this.onclose("io server disconnect");
    }
    /**
     * Called upon forced client/server side disconnections,
     * this method ensures the manager stops tracking us and
     * that reconnections don't get triggered for this.
     *
     * @private
     */
    destroy() {
        if (this.subs) {
            // clean subscriptions to avoid reconnections
            this.subs.forEach((subDestroy) => subDestroy());
            this.subs = undefined;
        }
        this.io["_destroy"](this);
    }
    /**
     * Disconnects the socket manually. In that case, the socket will not try to reconnect.
     *
     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.
     *
     * @example
     * const socket = io();
     *
     * socket.on("disconnect", (reason) => {
     *   // console.log(reason); prints "io client disconnect"
     * });
     *
     * socket.disconnect();
     *
     * @return self
     */
    disconnect() {
        if (this.connected) {
            debug("performing disconnect (%s)", this.nsp);
            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });
        }
        // remove socket from pool
        this.destroy();
        if (this.connected) {
            // fire events
            this.onclose("io client disconnect");
        }
        return this;
    }
    /**
     * Alias for {@link disconnect()}.
     *
     * @return self
     */
    close() {
        return this.disconnect();
    }
    /**
     * Sets the compress flag.
     *
     * @example
     * socket.compress(false).emit("hello");
     *
     * @param compress - if `true`, compresses the sending data
     * @return self
     */
    compress(compress) {
        this.flags.compress = compress;
        return this;
    }
    /**
     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not
     * ready to send messages.
     *
     * @example
     * socket.volatile.emit("hello"); // the server may or may not receive it
     *
     * @returns self
     */
    get volatile() {
        this.flags.volatile = true;
        return this;
    }
    /**
     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the
     * given number of milliseconds have elapsed without an acknowledgement from the server:
     *
     * @example
     * socket.timeout(5000).emit("my-event", (err) => {
     *   if (err) {
     *     // the server did not acknowledge the event in the given delay
     *   }
     * });
     *
     * @returns self
     */
    timeout(timeout) {
        this.flags.timeout = timeout;
        return this;
    }
    /**
     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the
     * callback.
     *
     * @example
     * socket.onAny((event, ...args) => {
     *   console.log(`got ${event}`);
     * });
     *
     * @param listener
     */
    onAny(listener) {
        this._anyListeners = this._anyListeners || [];
        this._anyListeners.push(listener);
        return this;
    }
    /**
     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the
     * callback. The listener is added to the beginning of the listeners array.
     *
     * @example
     * socket.prependAny((event, ...args) => {
     *   console.log(`got event ${event}`);
     * });
     *
     * @param listener
     */
    prependAny(listener) {
        this._anyListeners = this._anyListeners || [];
        this._anyListeners.unshift(listener);
        return this;
    }
    /**
     * Removes the listener that will be fired when any event is emitted.
     *
     * @example
     * const catchAllListener = (event, ...args) => {
     *   console.log(`got event ${event}`);
     * }
     *
     * socket.onAny(catchAllListener);
     *
     * // remove a specific listener
     * socket.offAny(catchAllListener);
     *
     * // or remove all listeners
     * socket.offAny();
     *
     * @param listener
     */
    offAny(listener) {
        if (!this._anyListeners) {
            return this;
        }
        if (listener) {
            const listeners = this._anyListeners;
            for (let i = 0; i < listeners.length; i++) {
                if (listener === listeners[i]) {
                    listeners.splice(i, 1);
                    return this;
                }
            }
        }
        else {
            this._anyListeners = [];
        }
        return this;
    }
    /**
     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,
     * e.g. to remove listeners.
     */
    listenersAny() {
        return this._anyListeners || [];
    }
    /**
     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the
     * callback.
     *
     * Note: acknowledgements sent to the server are not included.
     *
     * @example
     * socket.onAnyOutgoing((event, ...args) => {
     *   console.log(`sent event ${event}`);
     * });
     *
     * @param listener
     */
    onAnyOutgoing(listener) {
        this._anyOutgoingListeners = this._anyOutgoingListeners || [];
        this._anyOutgoingListeners.push(listener);
        return this;
    }
    /**
     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the
     * callback. The listener is added to the beginning of the listeners array.
     *
     * Note: acknowledgements sent to the server are not included.
     *
     * @example
     * socket.prependAnyOutgoing((event, ...args) => {
     *   console.log(`sent event ${event}`);
     * });
     *
     * @param listener
     */
    prependAnyOutgoing(listener) {
        this._anyOutgoingListeners = this._anyOutgoingListeners || [];
        this._anyOutgoingListeners.unshift(listener);
        return this;
    }
    /**
     * Removes the listener that will be fired when any event is emitted.
     *
     * @example
     * const catchAllListener = (event, ...args) => {
     *   console.log(`sent event ${event}`);
     * }
     *
     * socket.onAnyOutgoing(catchAllListener);
     *
     * // remove a specific listener
     * socket.offAnyOutgoing(catchAllListener);
     *
     * // or remove all listeners
     * socket.offAnyOutgoing();
     *
     * @param [listener] - the catch-all listener (optional)
     */
    offAnyOutgoing(listener) {
        if (!this._anyOutgoingListeners) {
            return this;
        }
        if (listener) {
            const listeners = this._anyOutgoingListeners;
            for (let i = 0; i < listeners.length; i++) {
                if (listener === listeners[i]) {
                    listeners.splice(i, 1);
                    return this;
                }
            }
        }
        else {
            this._anyOutgoingListeners = [];
        }
        return this;
    }
    /**
     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,
     * e.g. to remove listeners.
     */
    listenersAnyOutgoing() {
        return this._anyOutgoingListeners || [];
    }
    /**
     * Notify the listeners for each packet sent
     *
     * @param packet
     *
     * @private
     */
    notifyOutgoingListeners(packet) {
        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {
            const listeners = this._anyOutgoingListeners.slice();
            for (const listener of listeners) {
                listener.apply(this, packet.data);
            }
        }
    }
}
exports.Socket = Socket;


/***/ }),

/***/ "./node_modules/socket.io-client/build/cjs/url.js":
/*!********************************************************!*\
  !*** ./node_modules/socket.io-client/build/cjs/url.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.url = url;
const engine_io_client_1 = __webpack_require__(/*! engine.io-client */ "./node_modules/engine.io-client/build/cjs/index.js");
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")); // debug()
const debug = (0, debug_1.default)("socket.io-client:url"); // debug()
/**
 * URL parser.
 *
 * @param uri - url
 * @param path - the request path of the connection
 * @param loc - An object meant to mimic window.location.
 *        Defaults to window.location.
 * @public
 */
function url(uri, path = "", loc) {
    let obj = uri;
    // default to window.location
    loc = loc || (typeof location !== "undefined" && location);
    if (null == uri)
        uri = loc.protocol + "//" + loc.host;
    // relative path support
    if (typeof uri === "string") {
        if ("/" === uri.charAt(0)) {
            if ("/" === uri.charAt(1)) {
                uri = loc.protocol + uri;
            }
            else {
                uri = loc.host + uri;
            }
        }
        if (!/^(https?|wss?):\/\//.test(uri)) {
            debug("protocol-less url %s", uri);
            if ("undefined" !== typeof loc) {
                uri = loc.protocol + "//" + uri;
            }
            else {
                uri = "https://" + uri;
            }
        }
        // parse
        debug("parse %s", uri);
        obj = (0, engine_io_client_1.parse)(uri);
    }
    // make sure we treat `localhost:80` and `localhost` equally
    if (!obj.port) {
        if (/^(http|ws)$/.test(obj.protocol)) {
            obj.port = "80";
        }
        else if (/^(http|ws)s$/.test(obj.protocol)) {
            obj.port = "443";
        }
    }
    obj.path = obj.path || "/";
    const ipv6 = obj.host.indexOf(":") !== -1;
    const host = ipv6 ? "[" + obj.host + "]" : obj.host;
    // define unique id
    obj.id = obj.protocol + "://" + host + ":" + obj.port + path;
    // define href
    obj.href =
        obj.protocol +
            "://" +
            host +
            (loc && loc.port === obj.port ? "" : ":" + obj.port);
    return obj;
}


/***/ }),

/***/ "./node_modules/socket.io-parser/build/cjs/binary.js":
/*!***********************************************************!*\
  !*** ./node_modules/socket.io-parser/build/cjs/binary.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.reconstructPacket = exports.deconstructPacket = void 0;
const is_binary_js_1 = __webpack_require__(/*! ./is-binary.js */ "./node_modules/socket.io-parser/build/cjs/is-binary.js");
/**
 * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.
 *
 * @param {Object} packet - socket.io event packet
 * @return {Object} with deconstructed packet and list of buffers
 * @public
 */
function deconstructPacket(packet) {
    const buffers = [];
    const packetData = packet.data;
    const pack = packet;
    pack.data = _deconstructPacket(packetData, buffers);
    pack.attachments = buffers.length; // number of binary 'attachments'
    return { packet: pack, buffers: buffers };
}
exports.deconstructPacket = deconstructPacket;
function _deconstructPacket(data, buffers) {
    if (!data)
        return data;
    if ((0, is_binary_js_1.isBinary)(data)) {
        const placeholder = { _placeholder: true, num: buffers.length };
        buffers.push(data);
        return placeholder;
    }
    else if (Array.isArray(data)) {
        const newData = new Array(data.length);
        for (let i = 0; i < data.length; i++) {
            newData[i] = _deconstructPacket(data[i], buffers);
        }
        return newData;
    }
    else if (typeof data === "object" && !(data instanceof Date)) {
        const newData = {};
        for (const key in data) {
            if (Object.prototype.hasOwnProperty.call(data, key)) {
                newData[key] = _deconstructPacket(data[key], buffers);
            }
        }
        return newData;
    }
    return data;
}
/**
 * Reconstructs a binary packet from its placeholder packet and buffers
 *
 * @param {Object} packet - event packet with placeholders
 * @param {Array} buffers - binary buffers to put in placeholder positions
 * @return {Object} reconstructed packet
 * @public
 */
function reconstructPacket(packet, buffers) {
    packet.data = _reconstructPacket(packet.data, buffers);
    delete packet.attachments; // no longer useful
    return packet;
}
exports.reconstructPacket = reconstructPacket;
function _reconstructPacket(data, buffers) {
    if (!data)
        return data;
    if (data && data._placeholder === true) {
        const isIndexValid = typeof data.num === "number" &&
            data.num >= 0 &&
            data.num < buffers.length;
        if (isIndexValid) {
            return buffers[data.num]; // appropriate buffer (should be natural order anyway)
        }
        else {
            throw new Error("illegal attachments");
        }
    }
    else if (Array.isArray(data)) {
        for (let i = 0; i < data.length; i++) {
            data[i] = _reconstructPacket(data[i], buffers);
        }
    }
    else if (typeof data === "object") {
        for (const key in data) {
            if (Object.prototype.hasOwnProperty.call(data, key)) {
                data[key] = _reconstructPacket(data[key], buffers);
            }
        }
    }
    return data;
}


/***/ }),

/***/ "./node_modules/socket.io-parser/build/cjs/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/socket.io-parser/build/cjs/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;
const component_emitter_1 = __webpack_require__(/*! @socket.io/component-emitter */ "./node_modules/@socket.io/component-emitter/lib/esm/index.js");
const binary_js_1 = __webpack_require__(/*! ./binary.js */ "./node_modules/socket.io-parser/build/cjs/binary.js");
const is_binary_js_1 = __webpack_require__(/*! ./is-binary.js */ "./node_modules/socket.io-parser/build/cjs/is-binary.js");
const debug_1 = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"); // debug()
const debug = (0, debug_1.default)("socket.io-parser"); // debug()
/**
 * These strings must not be used as event names, as they have a special meaning.
 */
const RESERVED_EVENTS = [
    "connect",
    "connect_error",
    "disconnect",
    "disconnecting",
    "newListener",
    "removeListener", // used by the Node.js EventEmitter
];
/**
 * Protocol version.
 *
 * @public
 */
exports.protocol = 5;
var PacketType;
(function (PacketType) {
    PacketType[PacketType["CONNECT"] = 0] = "CONNECT";
    PacketType[PacketType["DISCONNECT"] = 1] = "DISCONNECT";
    PacketType[PacketType["EVENT"] = 2] = "EVENT";
    PacketType[PacketType["ACK"] = 3] = "ACK";
    PacketType[PacketType["CONNECT_ERROR"] = 4] = "CONNECT_ERROR";
    PacketType[PacketType["BINARY_EVENT"] = 5] = "BINARY_EVENT";
    PacketType[PacketType["BINARY_ACK"] = 6] = "BINARY_ACK";
})(PacketType = exports.PacketType || (exports.PacketType = {}));
/**
 * A socket.io Encoder instance
 */
class Encoder {
    /**
     * Encoder constructor
     *
     * @param {function} replacer - custom replacer to pass down to JSON.parse
     */
    constructor(replacer) {
        this.replacer = replacer;
    }
    /**
     * Encode a packet as a single string if non-binary, or as a
     * buffer sequence, depending on packet type.
     *
     * @param {Object} obj - packet object
     */
    encode(obj) {
        debug("encoding packet %j", obj);
        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {
            if ((0, is_binary_js_1.hasBinary)(obj)) {
                return this.encodeAsBinary({
                    type: obj.type === PacketType.EVENT
                        ? PacketType.BINARY_EVENT
                        : PacketType.BINARY_ACK,
                    nsp: obj.nsp,
                    data: obj.data,
                    id: obj.id,
                });
            }
        }
        return [this.encodeAsString(obj)];
    }
    /**
     * Encode packet as string.
     */
    encodeAsString(obj) {
        // first is type
        let str = "" + obj.type;
        // attachments if we have them
        if (obj.type === PacketType.BINARY_EVENT ||
            obj.type === PacketType.BINARY_ACK) {
            str += obj.attachments + "-";
        }
        // if we have a namespace other than `/`
        // we append it followed by a comma `,`
        if (obj.nsp && "/" !== obj.nsp) {
            str += obj.nsp + ",";
        }
        // immediately followed by the id
        if (null != obj.id) {
            str += obj.id;
        }
        // json data
        if (null != obj.data) {
            str += JSON.stringify(obj.data, this.replacer);
        }
        debug("encoded %j as %s", obj, str);
        return str;
    }
    /**
     * Encode packet as 'buffer sequence' by removing blobs, and
     * deconstructing packet into object with placeholders and
     * a list of buffers.
     */
    encodeAsBinary(obj) {
        const deconstruction = (0, binary_js_1.deconstructPacket)(obj);
        const pack = this.encodeAsString(deconstruction.packet);
        const buffers = deconstruction.buffers;
        buffers.unshift(pack); // add packet info to beginning of data list
        return buffers; // write all the buffers
    }
}
exports.Encoder = Encoder;
// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript
function isObject(value) {
    return Object.prototype.toString.call(value) === "[object Object]";
}
/**
 * A socket.io Decoder instance
 *
 * @return {Object} decoder
 */
class Decoder extends component_emitter_1.Emitter {
    /**
     * Decoder constructor
     *
     * @param {function} reviver - custom reviver to pass down to JSON.stringify
     */
    constructor(reviver) {
        super();
        this.reviver = reviver;
    }
    /**
     * Decodes an encoded packet string into packet JSON.
     *
     * @param {String} obj - encoded packet
     */
    add(obj) {
        let packet;
        if (typeof obj === "string") {
            if (this.reconstructor) {
                throw new Error("got plaintext data when reconstructing a packet");
            }
            packet = this.decodeString(obj);
            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;
            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {
                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;
                // binary packet's json
                this.reconstructor = new BinaryReconstructor(packet);
                // no attachments, labeled binary but no binary data to follow
                if (packet.attachments === 0) {
                    super.emitReserved("decoded", packet);
                }
            }
            else {
                // non-binary full packet
                super.emitReserved("decoded", packet);
            }
        }
        else if ((0, is_binary_js_1.isBinary)(obj) || obj.base64) {
            // raw binary data
            if (!this.reconstructor) {
                throw new Error("got binary data when not reconstructing a packet");
            }
            else {
                packet = this.reconstructor.takeBinaryData(obj);
                if (packet) {
                    // received final buffer
                    this.reconstructor = null;
                    super.emitReserved("decoded", packet);
                }
            }
        }
        else {
            throw new Error("Unknown type: " + obj);
        }
    }
    /**
     * Decode a packet String (JSON data)
     *
     * @param {String} str
     * @return {Object} packet
     */
    decodeString(str) {
        let i = 0;
        // look up type
        const p = {
            type: Number(str.charAt(0)),
        };
        if (PacketType[p.type] === undefined) {
            throw new Error("unknown packet type " + p.type);
        }
        // look up attachments if type binary
        if (p.type === PacketType.BINARY_EVENT ||
            p.type === PacketType.BINARY_ACK) {
            const start = i + 1;
            while (str.charAt(++i) !== "-" && i != str.length) { }
            const buf = str.substring(start, i);
            if (buf != Number(buf) || str.charAt(i) !== "-") {
                throw new Error("Illegal attachments");
            }
            p.attachments = Number(buf);
        }
        // look up namespace (if any)
        if ("/" === str.charAt(i + 1)) {
            const start = i + 1;
            while (++i) {
                const c = str.charAt(i);
                if ("," === c)
                    break;
                if (i === str.length)
                    break;
            }
            p.nsp = str.substring(start, i);
        }
        else {
            p.nsp = "/";
        }
        // look up id
        const next = str.charAt(i + 1);
        if ("" !== next && Number(next) == next) {
            const start = i + 1;
            while (++i) {
                const c = str.charAt(i);
                if (null == c || Number(c) != c) {
                    --i;
                    break;
                }
                if (i === str.length)
                    break;
            }
            p.id = Number(str.substring(start, i + 1));
        }
        // look up json data
        if (str.charAt(++i)) {
            const payload = this.tryParse(str.substr(i));
            if (Decoder.isPayloadValid(p.type, payload)) {
                p.data = payload;
            }
            else {
                throw new Error("invalid payload");
            }
        }
        debug("decoded %s as %j", str, p);
        return p;
    }
    tryParse(str) {
        try {
            return JSON.parse(str, this.reviver);
        }
        catch (e) {
            return false;
        }
    }
    static isPayloadValid(type, payload) {
        switch (type) {
            case PacketType.CONNECT:
                return isObject(payload);
            case PacketType.DISCONNECT:
                return payload === undefined;
            case PacketType.CONNECT_ERROR:
                return typeof payload === "string" || isObject(payload);
            case PacketType.EVENT:
            case PacketType.BINARY_EVENT:
                return (Array.isArray(payload) &&
                    (typeof payload[0] === "number" ||
                        (typeof payload[0] === "string" &&
                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));
            case PacketType.ACK:
            case PacketType.BINARY_ACK:
                return Array.isArray(payload);
        }
    }
    /**
     * Deallocates a parser's resources
     */
    destroy() {
        if (this.reconstructor) {
            this.reconstructor.finishedReconstruction();
            this.reconstructor = null;
        }
    }
}
exports.Decoder = Decoder;
/**
 * A manager of a binary event's 'buffer sequence'. Should
 * be constructed whenever a packet of type BINARY_EVENT is
 * decoded.
 *
 * @param {Object} packet
 * @return {BinaryReconstructor} initialized reconstructor
 */
class BinaryReconstructor {
    constructor(packet) {
        this.packet = packet;
        this.buffers = [];
        this.reconPack = packet;
    }
    /**
     * Method to be called when binary data received from connection
     * after a BINARY_EVENT packet.
     *
     * @param {Buffer | ArrayBuffer} binData - the raw binary data received
     * @return {null | Object} returns null if more binary data is expected or
     *   a reconstructed packet object if all buffers have been received.
     */
    takeBinaryData(binData) {
        this.buffers.push(binData);
        if (this.buffers.length === this.reconPack.attachments) {
            // done with buffer list
            const packet = (0, binary_js_1.reconstructPacket)(this.reconPack, this.buffers);
            this.finishedReconstruction();
            return packet;
        }
        return null;
    }
    /**
     * Cleans up binary packet reconstruction variables.
     */
    finishedReconstruction() {
        this.reconPack = null;
        this.buffers = [];
    }
}


/***/ }),

/***/ "./node_modules/socket.io-parser/build/cjs/is-binary.js":
/*!**************************************************************!*\
  !*** ./node_modules/socket.io-parser/build/cjs/is-binary.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.hasBinary = exports.isBinary = void 0;
const withNativeArrayBuffer = typeof ArrayBuffer === "function";
const isView = (obj) => {
    return typeof ArrayBuffer.isView === "function"
        ? ArrayBuffer.isView(obj)
        : obj.buffer instanceof ArrayBuffer;
};
const toString = Object.prototype.toString;
const withNativeBlob = typeof Blob === "function" ||
    (typeof Blob !== "undefined" &&
        toString.call(Blob) === "[object BlobConstructor]");
const withNativeFile = typeof File === "function" ||
    (typeof File !== "undefined" &&
        toString.call(File) === "[object FileConstructor]");
/**
 * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.
 *
 * @private
 */
function isBinary(obj) {
    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||
        (withNativeBlob && obj instanceof Blob) ||
        (withNativeFile && obj instanceof File));
}
exports.isBinary = isBinary;
function hasBinary(obj, toJSON) {
    if (!obj || typeof obj !== "object") {
        return false;
    }
    if (Array.isArray(obj)) {
        for (let i = 0, l = obj.length; i < l; i++) {
            if (hasBinary(obj[i])) {
                return true;
            }
        }
        return false;
    }
    if (isBinary(obj)) {
        return true;
    }
    if (obj.toJSON &&
        typeof obj.toJSON === "function" &&
        arguments.length === 1) {
        return hasBinary(obj.toJSON(), true);
    }
    for (const key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {
            return true;
        }
    }
    return false;
}
exports.hasBinary = hasBinary;


/***/ }),

/***/ "./node_modules/@socket.io/component-emitter/lib/esm/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@socket.io/component-emitter/lib/esm/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Emitter: () => (/* binding */ Emitter)
/* harmony export */ });
/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
}

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  function on() {
    this.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks['$' + event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks['$' + event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }

  // Remove event specific arrays for event types that no
  // one is subscribed for to avoid memory leak.
  if (callbacks.length === 0) {
    delete this._callbacks['$' + event];
  }

  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};

  var args = new Array(arguments.length - 1)
    , callbacks = this._callbacks['$' + event];

  for (var i = 1; i < arguments.length; i++) {
    args[i - 1] = arguments[i];
  }

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

// alias used for reserved events (protected method)
Emitter.prototype.emitReserved = Emitter.prototype.emit;

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks['$' + event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};


/***/ }),

/***/ "./node_modules/tslib/tslib.es6.mjs":
/*!******************************************!*\
  !*** ./node_modules/tslib/tslib.es6.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __addDisposableResource: () => (/* binding */ __addDisposableResource),
/* harmony export */   __assign: () => (/* binding */ __assign),
/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),
/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),
/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),
/* harmony export */   __await: () => (/* binding */ __await),
/* harmony export */   __awaiter: () => (/* binding */ __awaiter),
/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   __classPrivateFieldIn: () => (/* binding */ __classPrivateFieldIn),
/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),
/* harmony export */   __createBinding: () => (/* binding */ __createBinding),
/* harmony export */   __decorate: () => (/* binding */ __decorate),
/* harmony export */   __disposeResources: () => (/* binding */ __disposeResources),
/* harmony export */   __esDecorate: () => (/* binding */ __esDecorate),
/* harmony export */   __exportStar: () => (/* binding */ __exportStar),
/* harmony export */   __extends: () => (/* binding */ __extends),
/* harmony export */   __generator: () => (/* binding */ __generator),
/* harmony export */   __importDefault: () => (/* binding */ __importDefault),
/* harmony export */   __importStar: () => (/* binding */ __importStar),
/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),
/* harmony export */   __metadata: () => (/* binding */ __metadata),
/* harmony export */   __param: () => (/* binding */ __param),
/* harmony export */   __propKey: () => (/* binding */ __propKey),
/* harmony export */   __read: () => (/* binding */ __read),
/* harmony export */   __rest: () => (/* binding */ __rest),
/* harmony export */   __runInitializers: () => (/* binding */ __runInitializers),
/* harmony export */   __setFunctionName: () => (/* binding */ __setFunctionName),
/* harmony export */   __spread: () => (/* binding */ __spread),
/* harmony export */   __spreadArray: () => (/* binding */ __spreadArray),
/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),
/* harmony export */   __values: () => (/* binding */ __values),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol */

var extendStatics = function(d, b) {
  extendStatics = Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
  return extendStatics(d, b);
};

function __extends(d, b) {
  if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
  extendStatics(d, b);
  function __() { this.constructor = d; }
  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
  __assign = Object.assign || function __assign(t) {
      for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
      return t;
  }
  return __assign.apply(this, arguments);
}

function __rest(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
      t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
              t[p[i]] = s[p[i]];
      }
  return t;
}

function __decorate(decorators, target, key, desc) {
  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
  return function (target, key) { decorator(target, key, paramIndex); }
}

function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {
  function accept(f) { if (f !== void 0 && typeof f !== "function") throw new TypeError("Function expected"); return f; }
  var kind = contextIn.kind, key = kind === "getter" ? "get" : kind === "setter" ? "set" : "value";
  var target = !descriptorIn && ctor ? contextIn["static"] ? ctor : ctor.prototype : null;
  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});
  var _, done = false;
  for (var i = decorators.length - 1; i >= 0; i--) {
      var context = {};
      for (var p in contextIn) context[p] = p === "access" ? {} : contextIn[p];
      for (var p in contextIn.access) context.access[p] = contextIn.access[p];
      context.addInitializer = function (f) { if (done) throw new TypeError("Cannot add initializers after decoration has completed"); extraInitializers.push(accept(f || null)); };
      var result = (0, decorators[i])(kind === "accessor" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);
      if (kind === "accessor") {
          if (result === void 0) continue;
          if (result === null || typeof result !== "object") throw new TypeError("Object expected");
          if (_ = accept(result.get)) descriptor.get = _;
          if (_ = accept(result.set)) descriptor.set = _;
          if (_ = accept(result.init)) initializers.unshift(_);
      }
      else if (_ = accept(result)) {
          if (kind === "field") initializers.unshift(_);
          else descriptor[key] = _;
      }
  }
  if (target) Object.defineProperty(target, contextIn.name, descriptor);
  done = true;
};

function __runInitializers(thisArg, initializers, value) {
  var useValue = arguments.length > 2;
  for (var i = 0; i < initializers.length; i++) {
      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);
  }
  return useValue ? value : void 0;
};

function __propKey(x) {
  return typeof x === "symbol" ? x : "".concat(x);
};

function __setFunctionName(f, name, prefix) {
  if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
  return Object.defineProperty(f, "name", { configurable: true, value: prefix ? "".concat(prefix, " ", name) : name });
};

function __metadata(metadataKey, metadataValue) {
  if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
  return new (P || (P = Promise))(function (resolve, reject) {
      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
      function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

function __generator(thisArg, body) {
  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
  function verb(n) { return function (v) { return step([n, v]); }; }
  function step(op) {
      if (f) throw new TypeError("Generator is already executing.");
      while (g && (g = 0, op[0] && (_ = 0)), _) try {
          if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          if (y = 0, t) op = [op[0] & 2, t.value];
          switch (op[0]) {
              case 0: case 1: t = op; break;
              case 4: _.label++; return { value: op[1], done: false };
              case 5: _.label++; y = op[1]; op = [0]; continue;
              case 7: op = _.ops.pop(); _.trys.pop(); continue;
              default:
                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                  if (t[2]) _.ops.pop();
                  _.trys.pop(); continue;
          }
          op = body.call(thisArg, _);
      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
  }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
  }
  Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});

function __exportStar(m, o) {
  for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
  var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
      next: function () {
          if (o && i >= o.length) o = void 0;
          return { value: o && o[i++], done: !o };
      }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o), r, ar = [], e;
  try {
      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
  }
  catch (error) { e = { error: error }; }
  finally {
      try {
          if (r && !r.done && (m = i["return"])) m.call(i);
      }
      finally { if (e) throw e.error; }
  }
  return ar;
}

/** @deprecated */
function __spread() {
  for (var ar = [], i = 0; i < arguments.length; i++)
      ar = ar.concat(__read(arguments[i]));
  return ar;
}

/** @deprecated */
function __spreadArrays() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++)
      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
          r[k] = a[j];
  return r;
}

function __spreadArray(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
          if (!ar) ar = Array.prototype.slice.call(from, 0, i);
          ar[i] = from[i];
      }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
}

function __await(v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
  function fulfill(value) { resume("next", value); }
  function reject(value) { resume("throw", value); }
  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
  var i, p;
  return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var m = o[Symbol.asyncIterator], i;
  return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
  if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
  return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
  Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
  o["default"] = v;
};

function __importStar(mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  __setModuleDefault(result, mod);
  return result;
}

function __importDefault(mod) {
  return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
  if (kind === "m") throw new TypeError("Private method is not writable");
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}

function __classPrivateFieldIn(state, receiver) {
  if (receiver === null || (typeof receiver !== "object" && typeof receiver !== "function")) throw new TypeError("Cannot use 'in' operator on non-object");
  return typeof state === "function" ? receiver === state : state.has(receiver);
}

function __addDisposableResource(env, value, async) {
  if (value !== null && value !== void 0) {
    if (typeof value !== "object" && typeof value !== "function") throw new TypeError("Object expected.");
    var dispose;
    if (async) {
        if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
        dispose = value[Symbol.asyncDispose];
    }
    if (dispose === void 0) {
        if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
        dispose = value[Symbol.dispose];
    }
    if (typeof dispose !== "function") throw new TypeError("Object not disposable.");
    env.stack.push({ value: value, dispose: dispose, async: async });
  }
  else if (async) {
    env.stack.push({ async: true });
  }
  return value;
}

var _SuppressedError = typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
  var e = new Error(message);
  return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

function __disposeResources(env) {
  function fail(e) {
    env.error = env.hasError ? new _SuppressedError(e, env.error, "An error was suppressed during disposal.") : e;
    env.hasError = true;
  }
  function next() {
    while (env.stack.length) {
      var rec = env.stack.pop();
      try {
        var result = rec.dispose && rec.dispose.call(rec.value);
        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });
      }
      catch (e) {
          fail(e);
      }
    }
    if (env.hasError) throw env.error;
  }
  return next();
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  __extends,
  __assign,
  __rest,
  __decorate,
  __param,
  __metadata,
  __awaiter,
  __generator,
  __createBinding,
  __exportStar,
  __values,
  __read,
  __spread,
  __spreadArrays,
  __spreadArray,
  __await,
  __asyncGenerator,
  __asyncDelegator,
  __asyncValues,
  __makeTemplateObject,
  __importStar,
  __importDefault,
  __classPrivateFieldGet,
  __classPrivateFieldSet,
  __classPrivateFieldIn,
  __addDisposableResource,
  __disposeResources,
});


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../style/app.css */ "./src/style/app.css");
var StreamClientScrcpy_1 = __webpack_require__(/*! ./googDevice/client/StreamClientScrcpy */ "./src/app/googDevice/client/StreamClientScrcpy.ts");
var socket_io_client_1 = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/build/cjs/index.js");
var HostTracker_1 = __webpack_require__(/*! ./client/HostTracker */ "./src/app/client/HostTracker.ts");
window.onload = function () {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var hash, parsedQuery, action, number, ips, BroadwayPlayer, MsePlayer, TinyH264Player, WebCodecsPlayer, uuid_1, socket_1, divFloat, tools, ShellClient, DevtoolsClient, FileListingClient, DeviceTracker_1;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    hash = location.hash.replace(/^#!/, '');
                    parsedQuery = new URLSearchParams(hash);
                    action = parsedQuery.get('action');
                    number = parsedQuery.get('number');
                    ips = parsedQuery.get('ips') == undefined ? '172.20.50.123:7000' : parsedQuery.get('ips');
                    console.log("ips", ips);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/BroadwayPlayer */ "./src/app/player/BroadwayPlayer.ts")); })];
                case 1:
                    BroadwayPlayer = (_a.sent()).BroadwayPlayer;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(BroadwayPlayer);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/MsePlayer */ "./src/app/player/MsePlayer.ts")); })];
                case 2:
                    MsePlayer = (_a.sent()).MsePlayer;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(MsePlayer);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/TinyH264Player */ "./src/app/player/TinyH264Player.ts")); })];
                case 3:
                    TinyH264Player = (_a.sent()).TinyH264Player;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(TinyH264Player);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/WebCodecsPlayer */ "./src/app/player/WebCodecsPlayer.ts")); })];
                case 4:
                    WebCodecsPlayer = (_a.sent()).WebCodecsPlayer;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(WebCodecsPlayer);
                    if (action === StreamClientScrcpy_1.StreamClientScrcpy.ACTION && typeof parsedQuery.get('udid') === 'string') {
                        uuid_1 = parsedQuery.get('udid');
                        socket_1 = (0, socket_io_client_1.io)("ws://" + ips);
                        socket_1.on("connect", function () {
                            var cbutton1 = document.createElement("button");
                            cbutton1.className = "control-button";
                            cbutton1.title = "Pegar en dispositivo";
                            var img1 = document.createElement("img");
                            img1.src = "data:image/png;base64,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";
                            cbutton1.appendChild(img1);
                            console.log(socket_1.id);
                            socket_1.emit("feature.capture.off", {});
                            socket_1.emit("client.type.remote", {});
                            socket_1.emit("client.subscribe.devices", [uuid_1]);
                        });
                        socket_1.on("clusters", function (data) {
                            console.log("clusters", data);
                        });
                        socket_1.on("disconnect", function () {
                            console.log(socket_1.id);
                        });
                        divFloat = document.createElement("div");
                        divFloat.className = "div-float";
                        if (number != undefined)
                            divFloat.innerHTML = number;
                        else
                            divFloat.innerHTML = "N/A";
                        document.body.appendChild(divFloat);
                        document.title = "".concat(number, " [").concat(parsedQuery.get('udid'), "]");
                        StreamClientScrcpy_1.StreamClientScrcpy.start(parsedQuery);
                        return [2];
                    }
                    tools = [];
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/ShellClient */ "./src/app/googDevice/client/ShellClient.ts")); })];
                case 5:
                    ShellClient = (_a.sent()).ShellClient;
                    if (action === ShellClient.ACTION && typeof parsedQuery.get('udid') === 'string') {
                        ShellClient.start(ShellClient.parseParameters(parsedQuery));
                        return [2];
                    }
                    tools.push(ShellClient);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/DevtoolsClient */ "./src/app/googDevice/client/DevtoolsClient.ts")); })];
                case 6:
                    DevtoolsClient = (_a.sent()).DevtoolsClient;
                    if (action === DevtoolsClient.ACTION) {
                        DevtoolsClient.start(DevtoolsClient.parseParameters(parsedQuery));
                        return [2];
                    }
                    tools.push(DevtoolsClient);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/FileListingClient */ "./src/app/googDevice/client/FileListingClient.ts")); })];
                case 7:
                    FileListingClient = (_a.sent()).FileListingClient;
                    if (action === FileListingClient.ACTION) {
                        FileListingClient.start(FileListingClient.parseParameters(parsedQuery));
                        return [2];
                    }
                    tools.push(FileListingClient);
                    if (!tools.length) return [3, 9];
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/DeviceTracker */ "./src/app/googDevice/client/DeviceTracker.ts")); })];
                case 8:
                    DeviceTracker_1 = (_a.sent()).DeviceTracker;
                    tools.forEach(function (tool) {
                        DeviceTracker_1.registerTool(tool);
                    });
                    _a.label = 9;
                case 9:
                    HostTracker_1.HostTracker.start();
                    return [2];
            }
        });
    });
};

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxFQUFFO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRDQUE0Qzs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLHlCQUF5QjtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4REFBOEQsWUFBWTtBQUMxRTtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoZkEsaUVBQWUscUJBQXVCLHlDQUF5Qzs7Ozs7Ozs7Ozs7Ozs7O0FDQS9FLGlFQUFlLHFCQUF1Qix5Q0FBeUM7Ozs7Ozs7Ozs7Ozs7OztBQ0EvRSxpRUFBZSxxQkFBdUIsYUFBYTs7Ozs7Ozs7Ozs7QUNBdEM7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLG1CQUFPLENBQUMsZ0ZBQW1CO0FBQzlDLFlBQVksbUJBQU8sQ0FBQyxzRUFBYztBQUNsQyxhQUFhLG1CQUFPLENBQUMsb0VBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsd0JBQXdCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzQkFBc0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9DQUFvQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnQkFBZ0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7Ozs7Ozs7Ozs7OztBQ3JjRjtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyQkFBMkIsV0FBVztBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLFdBQVc7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7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LEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxxRkFBcUY7QUFDckY7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFD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VyxhQUFhLENBQUM7SUFDcEMseUJBQVksR0FBVyxjQUFjLENBQUM7SUFDdEMsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsMEJBQWEsR0FBVyxlQUFlLENBQUM7SUFDeEMsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsb0JBQU8sR0FBVyxTQUFTLENBQUM7SUFDNUIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsaUJBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsbUJBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsc0JBQVMsR0FBVyxXQUFXLENBQUM7SUFDaEMsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFHeEIsb0JBQU8sR0FBVyxTQUFTLENBQUM7SUFDNUIscUJBQVEsR0FBVyxVQUFVLENBQUM7SUFDOUIsc0JBQVMsR0FBVyxXQUFXLENBQUM7SUFDaEMscUJBQVEsR0FBVyxVQUFVLENBQUM7SUFDOUIsd0JBQVcsR0FBVyxhQUFhLENBQUM7SUFDcEMsd0JBQVcsR0FBVyxhQUFhLENBQUM7SUFDcEMseUJBQVksR0FBVyxjQUFjLENBQUM7SUFDdEMsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIscUJBQVEsR0FBVyxVQUFVLENBQUM7SUFDOUIsc0JBQVMsR0FBVyxXQUFXLENBQUM7SUFDaEMsc0JBQVMsR0FBVyxXQUFXLENBQUM7SUFDaEMsdUJBQVUsR0FBVyxZQUFZLENBQUM7SUFDbEMsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsZ0JBQUcsR0FBVyxLQUFLLENBQUM7SUFDcEIsb0JBQU8sR0FBVyxTQUFTLENBQUM7SUFDNUIscUJBQVEsR0FBVyxVQUFVLENBQUM7SUFDOUIsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsa0JBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIs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QyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztnQkFDMUIsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO2FBQzdCO2lCQUFNLElBQ0gsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTTtnQkFDaEQsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxFQUFFO2dCQUU5QyxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7Z0JBQ3BFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztnQkFDM0IsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQ2xDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUNqQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7YUFDN0I7aUJBQU07Z0JBQ0gsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFD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SUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFD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LElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFFBQVEsR0FBRyxVQUFVLENBQUMsQ0FBQztRQUM5RCxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLEVBQUUsUUFBUSxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQztRQUUvRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLElBQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUM3QixJQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDckQsSUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JELElBQU0sQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQ3JFLElBQU0sQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxD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LENBQUM7UUFDOUQsSUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsVUFBVSxFQUFFLFFBQVEsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUM7UUFFL0UsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM3QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUM1QixJQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztnQkFDN0IsSUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JELElBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFNLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2dCQUNyRSxJQUFNLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztn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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwyQkFBMkI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0Esc0JBQXNCLHFCQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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QUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHdC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QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywwQ0FBMEM7QUFDNUU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnREFBZ0Q7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixNQUFNO0FBQ2xDLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEMsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE1BQU07QUFDekMsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE1BQU07QUFDekMsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE1BQU07QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDLEtBQUssRUFBRSxDQUFDOzs7OztDQUN2QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9AZGVhZDUwZjcvYWRia2l0L2xpYi9hZGIvcHJvdG9jb2wuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9tdWx0aXRvdWNoL2NlbnRlcl9wb2ludC5wbmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL211bHRpdG91Y2gvdG91Y2hfcG9pbnQucG5nIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvQnJvYWR3YXkvYXZjLndhc20uYXNzZXQiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9oMjY0LWNvbnZlcnRlci9kaXN0L2gyNjQtcGFyc2VyLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvaDI2NC1jb252ZXJ0ZXIvZGlzdC9oMjY0LXJlbXV4ZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9oMjY0LWNvbnZlcnRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvaDI2NC1jb252ZXJ0ZXIvZGlzdC9tcDQtZ2VuZXJhdG9yLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvaDI2NC1jb252ZXJ0ZXIvZGlzdC91dGlsL05BTFUuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9oMjY0LWNvbnZlcnRlci9kaXN0L3V0aWwvYml0LXN0cmVhbS5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2gyNjQtY29udmVydGVyL2Rpc3QvdXRpbC9kZWJ1Zy5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2gyNjQtY29udmVydGVyL2Rpc3QvdXRpbC9uYWx1LXN0cmVhbS1idWZmZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMveHRlcm0vY3NzL3h0ZXJtLmNzcz83YzMzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvYXBwLmNzcz8yOGZlIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvZGV2aWNlbGlzdC5jc3M/OTgzOSIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3N0eWxlL2RldnRvb2xzLmNzcz83YWFmIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvZGlhbG9nLmNzcz8xYmNjIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvZmlsZWxpc3RpbmcuY3NzP2E5ODIiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9zdHlsZS9tb3JlYm94LmNzcz9jOTAxIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvYXJyb3dfYmFjay5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvY2FuY2VsLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9pY19wYXN0ZS5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvaWNfcGFzdGUyLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9pY19wYXN0ZTMuc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL21lbnUuc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL29mZmxpbmUuc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL3JlZnJlc2guc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL3NldHRpbmdzLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy90b2dnbGVfb2ZmLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy90b2dnbGVfb24uc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L1N5c3RlbV9CYWNrXzY3OC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvU3lzdGVtX0hvbWVfNjc4LnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9TeXN0ZW1fT3ZlcnZpZXdfNjc4LnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19rZXlib2FyZF82NzhfNDhkcC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvaWNfbW9yZV9ob3Jpel82NzhfNDhkcC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvaWNfcGhvdG9fY2FtZXJhXzY3OF80OGRwLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19wb3dlcl9zZXR0aW5nc19uZXdfNjc4XzQ4cHguc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX3ZvbHVtZV9kb3duXzY3OF80OHB4LnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY192b2x1bWVfdXBfNjc4XzQ4cHguc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc3lsdmVzdGVyLmpzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3N5bHZlc3Rlci5qcy9saWIvbGluZS5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3N5bHZlc3Rlci5qcy9saWIvbGluZS5zZWdtZW50LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc3lsdmVzdGVyLmpzL2xpYi9tYXRyaXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zeWx2ZXN0ZXIuanMvbGliL3BsYW5lLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc3lsdmVzdGVyLmpzL2xpYi9zeWx2ZXN0ZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zeWx2ZXN0ZXIuanMvbGliL3ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9BdHRyaWJ1dGUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvRGlzcGxheUluZm8udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvTW90aW9uRXZlbnQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvUG9pbnQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvUG9zaXRpb24udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvUmVjdC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9TY3JlZW5JbmZvLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL1NpemUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvVUlFdmVudHNDb2RlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL1V0aWwudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvVmlkZW9TZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9hcHBsRGV2aWNlL2NsaWVudC9EZXZpY2VUcmFja2VyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NsaWVudC9CYXNlQ2xpZW50LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NsaWVudC9CYXNlRGV2aWNlVHJhY2tlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jbGllbnQvSG9zdFRyYWNrZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY2xpZW50L01hbmFnZXJDbGllbnQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY2xpZW50L1N0cmVhbVJlY2VpdmVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NvbnRyb2xNZXNzYWdlL0NvbW1hbmRDb250cm9sTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jb250cm9sTWVzc2FnZS9Db250cm9sTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jb250cm9sTWVzc2FnZS9LZXlDb2RlQ29udHJvbE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY29udHJvbE1lc3NhZ2UvU2Nyb2xsQ29udHJvbE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY29udHJvbE1lc3NhZ2UvVGV4dENvbnRyb2xNZXNzYWdlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NvbnRyb2xNZXNzYWdlL1RvdWNoQ29udHJvbE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9EZXZpY2VNZXNzYWdlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvRHJhZ0FuZERyb3BIYW5kbGVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvRHJhZ0FuZFB1c2hMb2dnZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9FbnRyeS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL0tleUlucHV0SGFuZGxlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL0tleVRvQ29kZU1hcC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL1N0YXRzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvYW5kcm9pZC9LZXlFdmVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9Db25maWd1cmVTY3JjcHkudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9jbGllbnQvRGV2aWNlVHJhY2tlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9EZXZ0b29sc0NsaWVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9GaWxlTGlzdGluZ0NsaWVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9TaGVsbENsaWVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9TdHJlYW1DbGllbnRTY3JjcHkudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9jbGllbnQvU3RyZWFtUmVjZWl2ZXJTY3JjcHkudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9maWxlUHVzaC9BZGJraXRGaWxlUHVzaFN0cmVhbS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2ZpbGVQdXNoL0ZpbGVQdXNoSGFuZGxlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2ZpbGVQdXNoL0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9maWxlUHVzaC9GaWxlUHVzaFN0cmVhbS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2ZpbGVQdXNoL1NjcmNweUZpbGVQdXNoU3RyZWFtLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvdG9vbGJveC9Hb29nTW9yZUJveC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL3Rvb2xib3gvR29vZ1Rvb2xCb3gudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvaW50ZXJhY3Rpb25IYW5kbGVyL0ZlYXR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2ludGVyYWN0aW9uSGFuZGxlci9JbnRlcmFjdGlvbkhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvcGxheWVyL0Jhc2VDYW52YXNCYXNlZFBsYXllci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9wbGF5ZXIvQmFzZVBsYXllci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9wbGF5ZXIvQnJvYWR3YXlQbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvcGxheWVyL01zZVBsYXllci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9wbGF5ZXIvVGlueUgyNjRQbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvcGxheWVyL1dlYkNvZGVjc1BsYXllci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC90b29sYm94L1Rvb2xCb3gudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvdG9vbGJveC9Ub29sQm94QnV0dG9uLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3Rvb2xib3gvVG9vbEJveENoZWNrYm94LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3Rvb2xib3gvVG9vbEJveEVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvdWkvSHRtbFRhZy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC91aS9TdmdJbWFnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2NvbW1vbi9BY3Rpb24udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9jb21tb24vQ2hhbm5lbENvZGUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9jb21tb24vQ29uc3RhbnRzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvY29tbW9uL0NvbnRyb2xDZW50ZXJDb21tYW5kLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvY29tbW9uL0RldmljZVN0YXRlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvY29tbW9uL0hvc3RUcmFja2VyTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2NvbW1vbi9UeXBlZEVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wYWNrYWdlcy9tdWx0aXBsZXhlci9DbG9zZUV2ZW50Q2xhc3MudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wYWNrYWdlcy9tdWx0aXBsZXhlci9FcnJvckV2ZW50Q2xhc3MudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wYWNrYWdlcy9tdWx0aXBsZXhlci9FdmVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3BhY2thZ2VzL211bHRpcGxleGVyL01lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wYWNrYWdlcy9tdWx0aXBsZXhlci9NZXNzYWdlRXZlbnRDbGFzcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3BhY2thZ2VzL211bHRpcGxleGVyL01lc3NhZ2VUeXBlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcGFja2FnZXMvbXVsdGlwbGV4ZXIvTXVsdGlwbGV4ZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy90eXBlcy9SZW1vdGVEZXZ0b29sc0NvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL0NhbnZhcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvUHJvZ3JhbS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvU2NyaXB0LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9TaGFkZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL1RleHR1cmUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL1dlYkdMQ2FudmFzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9ZVVZDYW52YXMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL1lVVldlYkdMQ2FudmFzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci91dGlscy9hc3NlcnQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL3V0aWxzL2Vycm9yLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci91dGlscy9nbFV0aWxzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvdGlueWgyNjQvQ2FudmFzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvdGlueWgyNjQvU2hhZGVyQ29tcGlsZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci90aW55aDI2NC9TaGFkZXJQcm9ncmFtLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvdGlueWgyNjQvU2hhZGVyU291cmNlcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL3RpbnloMjY0L1lVVkNhbnZhcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL3RpbnloMjY0L1lVVlN1cmZhY2VTaGFkZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci90aW55aDI2NC9ZVVZXZWJHTENhbnZhcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL3RpbnloMjY0L0gyNjROQUxEZWNvZGVyLndvcmtlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3h0ZXJtLWFkZG9uLWF0dGFjaC9saWIveHRlcm0tYWRkb24tYXR0YWNoLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMveHRlcm0tYWRkb24tZml0L2xpYi94dGVybS1hZGRvbi1maXQuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy94dGVybS9saWIveHRlcm0uanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9Ccm9hZHdheS9EZWNvZGVyLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvZXh0ZXJuYWwgdmFyIFwiZnNcIiIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvY2pzL2NvbnRyaWIvaGFzLWNvcnMuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2Nqcy9jb250cmliL3BhcnNlcXMuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2Nqcy9jb250cmliL3BhcnNldXJpLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9janMvZ2xvYmFscy5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvY2pzL2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9janMvc29ja2V0LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9janMvdHJhbnNwb3J0LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9janMvdHJhbnNwb3J0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvY2pzL3RyYW5zcG9ydHMvcG9sbGluZy1mZXRjaC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvY2pzL3RyYW5zcG9ydHMvcG9sbGluZy14aHIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2Nqcy90cmFuc3BvcnRzL3BvbGxpbmcuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2Nqcy90cmFuc3BvcnRzL3dlYnNvY2tldC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvY2pzL3RyYW5zcG9ydHMvd2VidHJhbnNwb3J0LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9janMvdXRpbC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvY2pzL2NvbW1vbnMuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2Nqcy9jb250cmliL2Jhc2U2NC1hcnJheWJ1ZmZlci5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvY2pzL2RlY29kZVBhY2tldC5icm93c2VyLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9janMvZW5jb2RlUGFja2V0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2Nqcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvY2pzL2NvbnRyaWIvYmFja28yLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9janMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2Nqcy9tYW5hZ2VyLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9janMvb24uanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2Nqcy9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2Nqcy91cmwuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2Nqcy9iaW5hcnkuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2Nqcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvY2pzL2lzLWJpbmFyeS5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL0Bzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXIvbGliL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2F0eC1zY3JjcHkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIFByb3RvY29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb3RvY29sKCkge1xuICAgIH1cbiAgICBQcm90b2NvbC5kZWNvZGVMZW5ndGggPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChsZW5ndGgsIDE2KTtcbiAgICB9O1xuICAgIFByb3RvY29sLmVuY29kZUxlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICgnMDAwMCcgKyBsZW5ndGgudG9TdHJpbmcoMTYpKS5zbGljZSgtNCkudG9VcHBlckNhc2UoKTtcbiAgICB9O1xuICAgIFByb3RvY29sLmVuY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW25ldyBCdWZmZXIoUHJvdG9jb2wuZW5jb2RlTGVuZ3RoKGRhdGEubGVuZ3RoKSksIGRhdGFdKTtcbiAgICB9O1xuICAgIFByb3RvY29sLk9LQVkgPSAnT0tBWSc7XG4gICAgUHJvdG9jb2wuRkFJTCA9ICdGQUlMJztcbiAgICBQcm90b2NvbC5TVEFUID0gJ1NUQVQnO1xuICAgIFByb3RvY29sLkxJU1QgPSAnTElTVCc7XG4gICAgUHJvdG9jb2wuREVOVCA9ICdERU5UJztcbiAgICBQcm90b2NvbC5SRUNWID0gJ1JFQ1YnO1xuICAgIFByb3RvY29sLkRBVEEgPSAnREFUQSc7XG4gICAgUHJvdG9jb2wuRE9ORSA9ICdET05FJztcbiAgICBQcm90b2NvbC5TRU5EID0gJ1NFTkQnO1xuICAgIFByb3RvY29sLlFVSVQgPSAnUVVJVCc7XG4gICAgcmV0dXJuIFByb3RvY29sO1xufSgpKTtcbm1vZHVsZS5leHBvcnRzID0gUHJvdG9jb2w7XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG5jb25zdCBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG5jb25zdCBjdXN0b21JbnNwZWN0U3ltYm9sID1cbiAgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbFsnZm9yJ10gPT09ICdmdW5jdGlvbicpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgPyBTeW1ib2xbJ2ZvciddKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgOiBudWxsXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuY29uc3QgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZlxuZXhwb3J0cy5rTWF4TGVuZ3RoID0gS19NQVhfTEVOR1RIXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFByaW50IHdhcm5pbmcgYW5kIHJlY29tbWVuZCB1c2luZyBgYnVmZmVyYCB2NC54IHdoaWNoIGhhcyBhbiBPYmplY3RcbiAqICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIFdlIHJlcG9ydCB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGlmIHRoZSBhcmUgbm90IHN1YmNsYXNzYWJsZVxuICogdXNpbmcgX19wcm90b19fLiBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YFxuICogKFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4KS4gSUUgMTAgbGFja3Mgc3VwcG9ydFxuICogZm9yIF9fcHJvdG9fXyBhbmQgaGFzIGEgYnVnZ3kgdHlwZWQgYXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5pZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAnICtcbiAgICAnYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4nXG4gIClcbn1cblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICAvLyBDYW4gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWQ/XG4gIHRyeSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBjb25zdCBwcm90byA9IHsgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9IH1cbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvdG8sIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihhcnIsIHByb3RvKVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgJ3BhcmVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5idWZmZXJcbiAgfVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdvZmZzZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldFxuICB9XG59KVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAobGVuZ3RoID4gS19NQVhfTEVOR1RIKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBsZW5ndGggKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihidWYsIEJ1ZmZlci5wcm90b3R5cGUpXG4gIHJldHVybiBidWZcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZShhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20oYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG5mdW5jdGlvbiBmcm9tICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlWaWV3KHZhbHVlKVxuICB9XG5cbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICAgIClcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAoaXNJbnN0YW5jZSh2YWx1ZSwgU2hhcmVkQXJyYXlCdWZmZXIpIHx8XG4gICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIFNoYXJlZEFycmF5QnVmZmVyKSkpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKVxuICBpZiAodmFsdWVPZiAhPSBudWxsICYmIHZhbHVlT2YgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlT2YsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGNvbnN0IGIgPSBmcm9tT2JqZWN0KHZhbHVlKVxuICBpZiAoYikgcmV0dXJuIGJcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gIClcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbSh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBOb3RlOiBDaGFuZ2UgcHJvdG90eXBlICphZnRlciogQnVmZmVyLmZyb20gaXMgZGVmaW5lZCB0byB3b3JrYXJvdW5kIENocm9tZSBidWc6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzE0OFxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSlcblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIHNpemUgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgY29uc3QgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgbGV0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG5cbiAgY29uc3QgYWN0dWFsID0gYnVmLndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICBidWYgPSBidWYuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlIChhcnJheSkge1xuICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgY29uc3QgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGJ1ZltpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlWaWV3IChhcnJheVZpZXcpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYXJyYXlWaWV3LCBVaW50OEFycmF5KSkge1xuICAgIGNvbnN0IGNvcHkgPSBuZXcgVWludDhBcnJheShhcnJheVZpZXcpXG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcihjb3B5LmJ1ZmZlciwgY29weS5ieXRlT2Zmc2V0LCBjb3B5LmJ5dGVMZW5ndGgpXG4gIH1cbiAgcmV0dXJuIGZyb21BcnJheUxpa2UoYXJyYXlWaWV3KVxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgbGV0IGJ1ZlxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICBjb25zdCBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIGNvbnN0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW4pXG5cbiAgICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJ1ZlxuICAgIH1cblxuICAgIG9iai5jb3B5KGJ1ZiwgMCwgMCwgbGVuKVxuICAgIHJldHVybiBidWZcbiAgfVxuXG4gIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IG51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKDApXG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iailcbiAgfVxuXG4gIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgQXJyYXkuaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmouZGF0YSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwgS19NQVhfTEVOR1RIYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBLX01BWF9MRU5HVEgudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiBiICE9IG51bGwgJiYgYi5faXNCdWZmZXIgPT09IHRydWUgJiZcbiAgICBiICE9PSBCdWZmZXIucHJvdG90eXBlIC8vIHNvIEJ1ZmZlci5pc0J1ZmZlcihCdWZmZXIucHJvdG90eXBlKSB3aWxsIGJlIGZhbHNlXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoaXNJbnN0YW5jZShhLCBVaW50OEFycmF5KSkgYSA9IEJ1ZmZlci5mcm9tKGEsIGEub2Zmc2V0LCBhLmJ5dGVMZW5ndGgpXG4gIGlmIChpc0luc3RhbmNlKGIsIFVpbnQ4QXJyYXkpKSBiID0gQnVmZmVyLmZyb20oYiwgYi5vZmZzZXQsIGIuYnl0ZUxlbmd0aClcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheSdcbiAgICApXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICBsZXQgeCA9IGEubGVuZ3RoXG4gIGxldCB5ID0gYi5sZW5ndGhcblxuICBmb3IgKGxldCBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIGxldCBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgbGV0IHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgYnVmID0gbGlzdFtpXVxuICAgIGlmIChpc0luc3RhbmNlKGJ1ZiwgVWludDhBcnJheSkpIHtcbiAgICAgIGlmIChwb3MgKyBidWYubGVuZ3RoID4gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSBidWYgPSBCdWZmZXIuZnJvbShidWYpXG4gICAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICAgICAgYnVmZmVyLFxuICAgICAgICAgIGJ1ZixcbiAgICAgICAgICBwb3NcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICB9XG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgaXNJbnN0YW5jZShzdHJpbmcsIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuICcgK1xuICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBzdHJpbmdcbiAgICApXG4gIH1cblxuICBjb25zdCBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGNvbnN0IG11c3RNYXRjaCA9IChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gPT09IHRydWUpXG4gIGlmICghbXVzdE1hdGNoICYmIGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xuICAgICAgICAgIHJldHVybiBtdXN0TWF0Y2ggPyAtMSA6IHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2VyY2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpXG4vLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgXG4vLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudFxuLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyXG4vLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTRcbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIGNvbnN0IGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIGxldCBzdHIgPSAnJ1xuICBjb25zdCBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKS50cmltKClcbiAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuaWYgKGN1c3RvbUluc3BlY3RTeW1ib2wpIHtcbiAgQnVmZmVyLnByb3RvdHlwZVtjdXN0b21JbnNwZWN0U3ltYm9sXSA9IEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoaXNJbnN0YW5jZSh0YXJnZXQsIFVpbnQ4QXJyYXkpKSB7XG4gICAgdGFyZ2V0ID0gQnVmZmVyLmZyb20odGFyZ2V0LCB0YXJnZXQub2Zmc2V0LCB0YXJnZXQuYnl0ZUxlbmd0aClcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHRhcmdldClcbiAgICApXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICBsZXQgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgbGV0IHkgPSBlbmQgLSBzdGFydFxuICBjb25zdCBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIGNvbnN0IHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIGNvbnN0IHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0IC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChudW1iZXJJc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFt2YWxdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICBsZXQgaW5kZXhTaXplID0gMVxuICBsZXQgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICBsZXQgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICBsZXQgaVxuICBpZiAoZGlyKSB7XG4gICAgbGV0IGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICBjb25zdCByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICBjb25zdCBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgbGV0IGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChudW1iZXJJc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID4+PiAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIGNvbnN0IHJlcyA9IFtdXG5cbiAgbGV0IGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIGNvbnN0IGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIGxldCBjb2RlUG9pbnQgPSBudWxsXG4gICAgbGV0IGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRilcbiAgICAgID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERilcbiAgICAgICAgICA/IDNcbiAgICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKVxuICAgICAgICAgICAgICA/IDJcbiAgICAgICAgICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICBsZXQgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG5jb25zdCBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgY29uc3QgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICBsZXQgcmVzID0gJydcbiAgbGV0IGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGxldCByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBsZXQgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBjb25zdCBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgbGV0IG91dCA9ICcnXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IGhleFNsaWNlTG9va3VwVGFibGVbYnVmW2ldXVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgbGV0IHJlcyA9ICcnXG4gIC8vIElmIGJ5dGVzLmxlbmd0aCBpcyBvZGQsIHRoZSBsYXN0IDggYml0cyBtdXN0IGJlIGlnbm9yZWQgKHNhbWUgYXMgbm9kZS5qcylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIChieXRlc1tpICsgMV0gKiAyNTYpKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgY29uc3QgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3QnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldF1cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludEJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICBsZXQgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQ4ID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2QkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRMRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IGxvID0gZmlyc3QgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAyNFxuXG4gIGNvbnN0IGhpID0gdGhpc1srK29mZnNldF0gK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIGxhc3QgKiAyICoqIDI0XG5cbiAgcmV0dXJuIEJpZ0ludChsbykgKyAoQmlnSW50KGhpKSA8PCBCaWdJbnQoMzIpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnVUludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ1VJbnQ2NEJFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgaGkgPSBmaXJzdCAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdXG5cbiAgY29uc3QgbG8gPSB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIGxhc3RcblxuICByZXR1cm4gKEJpZ0ludChoaSkgPDwgQmlnSW50KDMyKSkgKyBCaWdJbnQobG8pXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXRdXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoXG4gIGxldCBtdWwgPSAxXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ0ludDY0TEUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldCArIDRdICtcbiAgICB0aGlzW29mZnNldCArIDVdICogMiAqKiA4ICtcbiAgICB0aGlzW29mZnNldCArIDZdICogMiAqKiAxNiArXG4gICAgKGxhc3QgPDwgMjQpIC8vIE92ZXJmbG93XG5cbiAgcmV0dXJuIChCaWdJbnQodmFsKSA8PCBCaWdJbnQoMzIpKSArXG4gICAgQmlnSW50KGZpcnN0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdJbnQ2NEJFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgdmFsID0gKGZpcnN0IDw8IDI0KSArIC8vIE92ZXJmbG93XG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF1cblxuICByZXR1cm4gKEJpZ0ludCh2YWwpIDw8IEJpZ0ludCgzMikpICtcbiAgICBCaWdJbnQodGhpc1srK29mZnNldF0gKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICBsYXN0KVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIGxldCBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDggPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiB3cnRCaWdVSW50NjRMRSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBtaW4sIG1heCkge1xuICBjaGVja0ludEJJKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIDcpXG5cbiAgbGV0IGxvID0gTnVtYmVyKHZhbHVlICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbGV0IGhpID0gTnVtYmVyKHZhbHVlID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICByZXR1cm4gb2Zmc2V0XG59XG5cbmZ1bmN0aW9uIHdydEJpZ1VJbnQ2NEJFIChidWYsIHZhbHVlLCBvZmZzZXQsIG1pbiwgbWF4KSB7XG4gIGNoZWNrSW50QkkodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgNylcblxuICBsZXQgbG8gPSBOdW1iZXIodmFsdWUgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQgKyA3XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNl0gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDVdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA0XSA9IGxvXG4gIGxldCBoaSA9IE51bWJlcih2YWx1ZSA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0ICsgM10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCArIDJdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQgKyAxXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0XSA9IGhpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ1VJbnQ2NExFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0TEUodGhpcywgdmFsdWUsIG9mZnNldCwgQmlnSW50KDApLCBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnVUludDY0QkUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRCRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBCaWdJbnQoMCksIEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIGxldCBpID0gMFxuICBsZXQgbXVsID0gMVxuICBsZXQgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIC1CaWdJbnQoJzB4ODAwMDAwMDAwMDAwMDAwMCcpLCBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgLUJpZ0ludCgnMHg4MDAwMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHg3ZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXInKVxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgY29uc3QgbGVuID0gZW5kIC0gc3RhcnRcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVXNlIGJ1aWx0LWluIHdoZW4gYXZhaWxhYmxlLCBtaXNzaW5nIGZyb20gSUUxMVxuICAgIHRoaXMuY29weVdpdGhpbih0YXJnZXRTdGFydCwgc3RhcnQsIGVuZClcbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmICgoZW5jb2RpbmcgPT09ICd1dGY4JyAmJiBjb2RlIDwgMTI4KSB8fFxuICAgICAgICAgIGVuY29kaW5nID09PSAnbGF0aW4xJykge1xuICAgICAgICAvLyBGYXN0IHBhdGg6IElmIGB2YWxgIGZpdHMgaW50byBhIHNpbmdsZSBieXRlLCB1c2UgdGhhdCBudW1lcmljIHZhbHVlLlxuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdmFsID0gTnVtYmVyKHZhbClcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICBsZXQgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgY29uc3QgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyArIHZhbCArXG4gICAgICAgICdcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBDVVNUT00gRVJST1JTXG4vLyA9PT09PT09PT09PT09XG5cbi8vIFNpbXBsaWZpZWQgdmVyc2lvbnMgZnJvbSBOb2RlLCBjaGFuZ2VkIGZvciBCdWZmZXItb25seSB1c2FnZVxuY29uc3QgZXJyb3JzID0ge31cbmZ1bmN0aW9uIEUgKHN5bSwgZ2V0TWVzc2FnZSwgQmFzZSkge1xuICBlcnJvcnNbc3ltXSA9IGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgIHN1cGVyKClcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdtZXNzYWdlJywge1xuICAgICAgICB2YWx1ZTogZ2V0TWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgdGhlIGVycm9yIGNvZGUgdG8gdGhlIG5hbWUgdG8gaW5jbHVkZSBpdCBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gICAgICB0aGlzLm5hbWUgPSBgJHt0aGlzLm5hbWV9IFske3N5bX1dYFxuICAgICAgLy8gQWNjZXNzIHRoZSBzdGFjayB0byBnZW5lcmF0ZSB0aGUgZXJyb3IgbWVzc2FnZSBpbmNsdWRpbmcgdGhlIGVycm9yIGNvZGVcbiAgICAgIC8vIGZyb20gdGhlIG5hbWUuXG4gICAgICB0aGlzLnN0YWNrIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAvLyBSZXNldCB0aGUgbmFtZSB0byB0aGUgYWN0dWFsIG5hbWUuXG4gICAgICBkZWxldGUgdGhpcy5uYW1lXG4gICAgfVxuXG4gICAgZ2V0IGNvZGUgKCkge1xuICAgICAgcmV0dXJuIHN5bVxuICAgIH1cblxuICAgIHNldCBjb2RlICh2YWx1ZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2RlJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0b1N0cmluZyAoKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5uYW1lfSBbJHtzeW19XTogJHt0aGlzLm1lc3NhZ2V9YFxuICAgIH1cbiAgfVxufVxuXG5FKCdFUlJfQlVGRkVSX09VVF9PRl9CT1VORFMnLFxuICBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICByZXR1cm4gYCR7bmFtZX0gaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzYFxuICAgIH1cblxuICAgIHJldHVybiAnQXR0ZW1wdCB0byBhY2Nlc3MgbWVtb3J5IG91dHNpZGUgYnVmZmVyIGJvdW5kcydcbiAgfSwgUmFuZ2VFcnJvcilcbkUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJyxcbiAgZnVuY3Rpb24gKG5hbWUsIGFjdHVhbCkge1xuICAgIHJldHVybiBgVGhlIFwiJHtuYW1lfVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgYWN0dWFsfWBcbiAgfSwgVHlwZUVycm9yKVxuRSgnRVJSX09VVF9PRl9SQU5HRScsXG4gIGZ1bmN0aW9uIChzdHIsIHJhbmdlLCBpbnB1dCkge1xuICAgIGxldCBtc2cgPSBgVGhlIHZhbHVlIG9mIFwiJHtzdHJ9XCIgaXMgb3V0IG9mIHJhbmdlLmBcbiAgICBsZXQgcmVjZWl2ZWQgPSBpbnB1dFxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGlucHV0KSAmJiBNYXRoLmFicyhpbnB1dCkgPiAyICoqIDMyKSB7XG4gICAgICByZWNlaXZlZCA9IGFkZE51bWVyaWNhbFNlcGFyYXRvcihTdHJpbmcoaW5wdXQpKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnYmlnaW50Jykge1xuICAgICAgcmVjZWl2ZWQgPSBTdHJpbmcoaW5wdXQpXG4gICAgICBpZiAoaW5wdXQgPiBCaWdJbnQoMikgKiogQmlnSW50KDMyKSB8fCBpbnB1dCA8IC0oQmlnSW50KDIpICoqIEJpZ0ludCgzMikpKSB7XG4gICAgICAgIHJlY2VpdmVkID0gYWRkTnVtZXJpY2FsU2VwYXJhdG9yKHJlY2VpdmVkKVxuICAgICAgfVxuICAgICAgcmVjZWl2ZWQgKz0gJ24nXG4gICAgfVxuICAgIG1zZyArPSBgIEl0IG11c3QgYmUgJHtyYW5nZX0uIFJlY2VpdmVkICR7cmVjZWl2ZWR9YFxuICAgIHJldHVybiBtc2dcbiAgfSwgUmFuZ2VFcnJvcilcblxuZnVuY3Rpb24gYWRkTnVtZXJpY2FsU2VwYXJhdG9yICh2YWwpIHtcbiAgbGV0IHJlcyA9ICcnXG4gIGxldCBpID0gdmFsLmxlbmd0aFxuICBjb25zdCBzdGFydCA9IHZhbFswXSA9PT0gJy0nID8gMSA6IDBcbiAgZm9yICg7IGkgPj0gc3RhcnQgKyA0OyBpIC09IDMpIHtcbiAgICByZXMgPSBgXyR7dmFsLnNsaWNlKGkgLSAzLCBpKX0ke3Jlc31gXG4gIH1cbiAgcmV0dXJuIGAke3ZhbC5zbGljZSgwLCBpKX0ke3Jlc31gXG59XG5cbi8vIENIRUNLIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGNoZWNrQm91bmRzIChidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBpZiAoYnVmW29mZnNldF0gPT09IHVuZGVmaW5lZCB8fCBidWZbb2Zmc2V0ICsgYnl0ZUxlbmd0aF0gPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgYnVmLmxlbmd0aCAtIChieXRlTGVuZ3RoICsgMSkpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tJbnRCSSAodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHtcbiAgICBjb25zdCBuID0gdHlwZW9mIG1pbiA9PT0gJ2JpZ2ludCcgPyAnbicgOiAnJ1xuICAgIGxldCByYW5nZVxuICAgIGlmIChieXRlTGVuZ3RoID4gMykge1xuICAgICAgaWYgKG1pbiA9PT0gMCB8fCBtaW4gPT09IEJpZ0ludCgwKSkge1xuICAgICAgICByYW5nZSA9IGA+PSAwJHtufSBhbmQgPCAyJHtufSAqKiAkeyhieXRlTGVuZ3RoICsgMSkgKiA4fSR7bn1gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYW5nZSA9IGA+PSAtKDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn0pIGFuZCA8IDIgKiogYCArXG4gICAgICAgICAgICAgICAgYCR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn1gXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlID0gYD49ICR7bWlufSR7bn0gYW5kIDw9ICR7bWF4fSR7bn1gXG4gICAgfVxuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSgndmFsdWUnLCByYW5nZSwgdmFsdWUpXG4gIH1cbiAgY2hlY2tCb3VuZHMoYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyICh2YWx1ZSwgbmFtZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX0lOVkFMSURfQVJHX1RZUEUobmFtZSwgJ251bWJlcicsIHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJvdW5kc0Vycm9yICh2YWx1ZSwgbGVuZ3RoLCB0eXBlKSB7XG4gIGlmIChNYXRoLmZsb29yKHZhbHVlKSAhPT0gdmFsdWUpIHtcbiAgICB2YWxpZGF0ZU51bWJlcih2YWx1ZSwgdHlwZSlcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UodHlwZSB8fCAnb2Zmc2V0JywgJ2FuIGludGVnZXInLCB2YWx1ZSlcbiAgfVxuXG4gIGlmIChsZW5ndGggPCAwKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFMoKVxuICB9XG5cbiAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKHR5cGUgfHwgJ29mZnNldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPj0gJHt0eXBlID8gMSA6IDB9IGFuZCA8PSAke2xlbmd0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUpXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxuY29uc3QgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIGxldCBjb2RlUG9pbnRcbiAgY29uc3QgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICBsZXQgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgY29uc3QgYnl0ZXMgPSBbXVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICBjb25zdCBieXRlQXJyYXkgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIGxldCBjLCBoaSwgbG9cbiAgY29uc3QgYnl0ZUFycmF5ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBsZXQgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuLy8gQXJyYXlCdWZmZXIgb3IgVWludDhBcnJheSBvYmplY3RzIGZyb20gb3RoZXIgY29udGV4dHMgKGkuZS4gaWZyYW1lcykgZG8gbm90IHBhc3Ncbi8vIHRoZSBgaW5zdGFuY2VvZmAgY2hlY2sgYnV0IHRoZXkgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgb2YgdGhhdCB0eXBlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTY2XG5mdW5jdGlvbiBpc0luc3RhbmNlIChvYmosIHR5cGUpIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIHR5cGUgfHxcbiAgICAob2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09IHR5cGUubmFtZSlcbn1cbmZ1bmN0aW9uIG51bWJlcklzTmFOIChvYmopIHtcbiAgLy8gRm9yIElFMTEgc3VwcG9ydFxuICByZXR1cm4gb2JqICE9PSBvYmogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuLy8gQ3JlYXRlIGxvb2t1cCB0YWJsZSBmb3IgYHRvU3RyaW5nKCdoZXgnKWBcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzIxOVxuY29uc3QgaGV4U2xpY2VMb29rdXBUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGFscGhhYmV0ID0gJzAxMjM0NTY3ODlhYmNkZWYnXG4gIGNvbnN0IHRhYmxlID0gbmV3IEFycmF5KDI1NilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgY29uc3QgaTE2ID0gaSAqIDE2XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICB0YWJsZVtpMTYgKyBqXSA9IGFscGhhYmV0W2ldICsgYWxwaGFiZXRbal1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhYmxlXG59KSgpXG5cbi8vIFJldHVybiBub3QgZnVuY3Rpb24gd2l0aCBFcnJvciBpZiBCaWdJbnQgbm90IHN1cHBvcnRlZFxuZnVuY3Rpb24gZGVmaW5lQmlnSW50TWV0aG9kIChmbikge1xuICByZXR1cm4gdHlwZW9mIEJpZ0ludCA9PT0gJ3VuZGVmaW5lZCcgPyBCdWZmZXJCaWdJbnROb3REZWZpbmVkIDogZm5cbn1cblxuZnVuY3Rpb24gQnVmZmVyQmlnSW50Tm90RGVmaW5lZCAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignQmlnSW50IG5vdCBzdXBwb3J0ZWQnKVxufVxuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGxldCBtO1xuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChtID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykpICYmIHBhcnNlSW50KG1bMV0sIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcblx0Y3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG5cdGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cdGNyZWF0ZURlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXG5cdE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcblx0fSk7XG5cblx0LyoqXG5cdCogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG5cdCovXG5cblx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHQvKipcblx0KiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG5cdCpcblx0KiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcblxuXHQvKipcblx0KiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cdFx0bGV0IGVuYWJsZU92ZXJyaWRlID0gbnVsbDtcblx0XHRsZXQgbmFtZXNwYWNlc0NhY2hlO1xuXHRcdGxldCBlbmFibGVkQ2FjaGU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRpZiAoZW5hYmxlT3ZlcnJpZGUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gZW5hYmxlT3ZlcnJpZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVzcGFjZXNDYWNoZSAhPT0gY3JlYXRlRGVidWcubmFtZXNwYWNlcykge1xuXHRcdFx0XHRcdG5hbWVzcGFjZXNDYWNoZSA9IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXM7XG5cdFx0XHRcdFx0ZW5hYmxlZENhY2hlID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVuYWJsZWRDYWNoZTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IHYgPT4ge1xuXHRcdFx0XHRlbmFibGVPdmVycmlkZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBFbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG5cdFx0Y29uc3QgbmV3RGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuXHRcdG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nO1xuXHRcdHJldHVybiBuZXdEZWJ1Zztcblx0fVxuXG5cdC8qKlxuXHQqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcblx0KiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuXHRcdGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG5cdFx0Y3JlYXRlRGVidWcubmFtZXNwYWNlcyA9IG5hbWVzcGFjZXM7XG5cblx0XHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRcdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0XHRsZXQgaTtcblx0XHRjb25zdCBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG5cdFx0Y29uc3QgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoIXNwbGl0W2ldKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcblxuXHRcdFx0aWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zbGljZSgxKSArICckJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxMjc5ZjM2OGI1YmI3MjljYTdiMzU5OTAwNDJmOTkyOC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMGFkYzM2Y2Y5Y2RkZmU0YjYwNTZjM2NhNDdhYmFjYTAucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImF2Yy53YXNtXCI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYml0X3N0cmVhbV8xID0gcmVxdWlyZShcIi4vdXRpbC9iaXQtc3RyZWFtXCIpO1xudmFyIGRlYnVnID0gcmVxdWlyZShcIi4vdXRpbC9kZWJ1Z1wiKTtcbnZhciBOQUxVXzEgPSByZXF1aXJlKFwiLi91dGlsL05BTFVcIik7XG52YXIgSDI2NFBhcnNlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSDI2NFBhcnNlcihyZW11eGVyKSB7XG4gICAgICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gICAgICAgIHRoaXMudHJhY2sgPSByZW11eGVyLm1wNHRyYWNrO1xuICAgIH1cbiAgICBIMjY0UGFyc2VyLnByb3RvdHlwZS5wYXJzZVNFSSA9IGZ1bmN0aW9uIChzZWkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gSDI2NFBhcnNlci5yZWFkU0VJKHNlaSk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgbWVzc2FnZXNfMSA9IG1lc3NhZ2VzOyBfaSA8IG1lc3NhZ2VzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbSA9IG1lc3NhZ2VzXzFbX2ldO1xuICAgICAgICAgICAgc3dpdGNoIChtLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2suc2VpQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBIMjY0UGFyc2VyLnByb3RvdHlwZS5wYXJzZVNQUyA9IGZ1bmN0aW9uIChzcHMpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IEgyNjRQYXJzZXIucmVhZFNQUyhzcHMpO1xuICAgICAgICB0aGlzLnRyYWNrLndpZHRoID0gY29uZmlnLndpZHRoO1xuICAgICAgICB0aGlzLnRyYWNrLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQ7XG4gICAgICAgIHRoaXMudHJhY2suc3BzID0gW3Nwc107XG4gICAgICAgIHRoaXMudHJhY2suY29kZWMgPSAnYXZjMS4nO1xuICAgICAgICB2YXIgY29kZWNBcnJheSA9IG5ldyBEYXRhVmlldyhzcHMuYnVmZmVyLCBzcHMuYnl0ZU9mZnNldCArIDEsIDQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGggPSBjb2RlY0FycmF5LmdldFVpbnQ4KGkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICBoID0gJzAnICsgaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2suY29kZWMgKz0gaDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSDI2NFBhcnNlci5wcm90b3R5cGUucGFyc2VQUFMgPSBmdW5jdGlvbiAocHBzKSB7XG4gICAgICAgIHRoaXMudHJhY2sucHBzID0gW3Bwc107XG4gICAgfTtcbiAgICBIMjY0UGFyc2VyLnByb3RvdHlwZS5wYXJzZU5BTCA9IGZ1bmN0aW9uICh1bml0KSB7XG4gICAgICAgIGlmICghdW5pdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwdXNoID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodW5pdC50eXBlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgTkFMVV8xLmRlZmF1bHQuTkRSOlxuICAgICAgICAgICAgY2FzZSBOQUxVXzEuZGVmYXVsdC5JRFI6XG4gICAgICAgICAgICAgICAgcHVzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE5BTFVfMS5kZWZhdWx0LlNFSTpcbiAgICAgICAgICAgICAgICBwdXNoID0gdGhpcy5wYXJzZVNFSSh1bml0LmdldERhdGEoKS5zdWJhcnJheSg0KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE5BTFVfMS5kZWZhdWx0LlNQUzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlU1BTKHVuaXQuZ2V0RGF0YSgpLnN1YmFycmF5KDQpKTtcbiAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgRm91bmQgU1BTIHR5cGUgTkFMVSBmcmFtZS5cIik7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJlbXV4ZXIucmVhZHlUb0RlY29kZSAmJiB0aGlzLnRyYWNrLnBwcy5sZW5ndGggPiAwICYmIHRoaXMudHJhY2suc3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW11eGVyLnJlYWR5VG9EZWNvZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTkFMVV8xLmRlZmF1bHQuUFBTOlxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VQUFModW5pdC5nZXREYXRhKCkuc3ViYXJyYXkoNCkpO1xuICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiBGb3VuZCBQUFMgdHlwZSBOQUxVIGZyYW1lLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVtdXhlci5yZWFkeVRvRGVjb2RlICYmIHRoaXMudHJhY2sucHBzLmxlbmd0aCA+IDAgJiYgdGhpcy50cmFjay5zcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbXV4ZXIucmVhZHlUb0RlY29kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgRm91bmQgVW5rbm93biB0eXBlIE5BTFUgZnJhbWUuIHR5cGU9XCIgKyB1bml0LnR5cGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHB1c2g7XG4gICAgfTtcbiAgICBIMjY0UGFyc2VyLnNraXBTY2FsaW5nTGlzdCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBjb3VudCkge1xuICAgICAgICB2YXIgbGFzdFNjYWxlID0gODtcbiAgICAgICAgdmFyIG5leHRTY2FsZSA9IDg7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgICAgICAgaWYgKG5leHRTY2FsZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YVNjYWxlID0gZGVjb2Rlci5yZWFkRUcoKTtcbiAgICAgICAgICAgICAgICBuZXh0U2NhbGUgPSAobGFzdFNjYWxlICsgZGVsdGFTY2FsZSArIDI1NikgJSAyNTY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U2NhbGUgPSAobmV4dFNjYWxlID09PSAwKSA/IGxhc3RTY2FsZSA6IG5leHRTY2FsZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSDI2NFBhcnNlci5yZWFkU1BTID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wYXJzZVNQUyhkYXRhKSwgcGljX3dpZHRoX2luX21ic19taW51czEgPSBfYS5waWNfd2lkdGhfaW5fbWJzX21pbnVzMSwgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IF9hLmZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQsIGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0ID0gX2EuZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQsIGZyYW1lX21ic19vbmx5X2ZsYWcgPSBfYS5mcmFtZV9tYnNfb25seV9mbGFnLCBwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEgPSBfYS5waWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEsIGZyYW1lX2Nyb3BfdG9wX29mZnNldCA9IF9hLmZyYW1lX2Nyb3BfdG9wX29mZnNldCwgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gX2EuZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0LCBzYXIgPSBfYS5zYXI7XG4gICAgICAgIHZhciBzYXJTY2FsZSA9IHNhclswXSAvIHNhclsxXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLmNlaWwoKCgocGljX3dpZHRoX2luX21ic19taW51czEgKyAxKSAqIDE2KSAtIGZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQgKiAyIC0gZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgKiAyKSAqIHNhclNjYWxlKSxcbiAgICAgICAgICAgIGhlaWdodDogKCgyIC0gZnJhbWVfbWJzX29ubHlfZmxhZykgKiAocGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxICsgMSkgKiAxNikgLVxuICAgICAgICAgICAgICAgICgoZnJhbWVfbWJzX29ubHlfZmxhZyA/IDIgOiA0KSAqIChmcmFtZV9jcm9wX3RvcF9vZmZzZXQgKyBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQpKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEgyNjRQYXJzZXIucGFyc2VTUFMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZGVjb2RlciA9IG5ldyBiaXRfc3RyZWFtXzEuZGVmYXVsdChkYXRhKTtcbiAgICAgICAgdmFyIGZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQgPSAwO1xuICAgICAgICB2YXIgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgPSAwO1xuICAgICAgICB2YXIgZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCA9IDA7XG4gICAgICAgIGRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgIHZhciBwcm9maWxlX2lkYyA9IGRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgIHZhciBjb25zdHJhaW50X3NldF9mbGFncyA9IGRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgIHZhciBsZXZlbF9pZGMgPSBkZWNvZGVyLnJlYWRCaXRzKDgpO1xuICAgICAgICB2YXIgc2VxX3BhcmFtZXRlcl9zZXRfaWQgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgaWYgKHByb2ZpbGVfaWRjID09PSAxMDAgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMTAgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMjIgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAyNDQgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSA0NCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDgzIHx8XG4gICAgICAgICAgICBwcm9maWxlX2lkYyA9PT0gODYgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMTggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMjggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzkgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzQpIHtcbiAgICAgICAgICAgIHZhciBjaHJvbWFGb3JtYXRJZGMgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGlmIChjaHJvbWFGb3JtYXRJZGMgPT09IDMpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVjb2Rlci5za2lwVUVHKCk7XG4gICAgICAgICAgICBkZWNvZGVyLnNraXBVRUcoKTtcbiAgICAgICAgICAgIGRlY29kZXIuc2tpcEJpdHMoMSk7XG4gICAgICAgICAgICBpZiAoZGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxpbmdMaXN0Q291bnQgPSAoY2hyb21hRm9ybWF0SWRjICE9PSAzKSA/IDggOiAxMjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjYWxpbmdMaXN0Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIMjY0UGFyc2VyLnNraXBTY2FsaW5nTGlzdChkZWNvZGVyLCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIMjY0UGFyc2VyLnNraXBTY2FsaW5nTGlzdChkZWNvZGVyLCA2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVjb2Rlci5za2lwVUVHKCk7XG4gICAgICAgIHZhciBwaWNPcmRlckNudFR5cGUgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgaWYgKHBpY09yZGVyQ250VHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgZGVjb2Rlci5yZWFkVUVHKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGljT3JkZXJDbnRUeXBlID09PSAxKSB7XG4gICAgICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDEpO1xuICAgICAgICAgICAgZGVjb2Rlci5za2lwRUcoKTtcbiAgICAgICAgICAgIGRlY29kZXIuc2tpcEVHKCk7XG4gICAgICAgICAgICB2YXIgbnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlID0gZGVjb2Rlci5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVjb2Rlci5za2lwRUcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWNvZGVyLnNraXBVRUcoKTtcbiAgICAgICAgZGVjb2Rlci5za2lwQml0cygxKTtcbiAgICAgICAgdmFyIHBpY193aWR0aF9pbl9tYnNfbWludXMxID0gZGVjb2Rlci5yZWFkVUVHKCk7XG4gICAgICAgIHZhciBwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgdmFyIGZyYW1lX21ic19vbmx5X2ZsYWcgPSBkZWNvZGVyLnJlYWRCaXRzKDEpO1xuICAgICAgICBpZiAoZnJhbWVfbWJzX29ubHlfZmxhZyA9PT0gMCkge1xuICAgICAgICAgICAgZGVjb2Rlci5za2lwQml0cygxKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDEpO1xuICAgICAgICBpZiAoZGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ID0gZGVjb2Rlci5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IGRlY29kZXIucmVhZFVFRygpO1xuICAgICAgICAgICAgZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ID0gZGVjb2Rlci5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdnVpX3BhcmFtZXRlcnNfcHJlc2VudF9mbGFnID0gZGVjb2Rlci5yZWFkQm9vbGVhbigpO1xuICAgICAgICB2YXIgYXNwZWN0X3JhdGlvX2luZm9fcHJlc2VudF9mbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBzYXIgPSBbMSwgMV07XG4gICAgICAgIGlmICh2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcpIHtcbiAgICAgICAgICAgIGFzcGVjdF9yYXRpb19pbmZvX3ByZXNlbnRfZmxhZyA9IGRlY29kZXIucmVhZEJvb2xlYW4oKTtcbiAgICAgICAgICAgIGlmIChhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXNwZWN0UmF0aW9JZGMgPSBkZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXNwZWN0UmF0aW9JZGMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzEsIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsxMiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsxMCwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsxNiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFs0MCwgMzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsyNCwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsyMCwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFszMiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFs4MCwgMzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXIgPSBbMTgsIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzE1LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFs2NCwgMzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXIgPSBbMTYwLCA5OV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFs0LCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzMsIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXIgPSBbMiwgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNTU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFtkZWNvZGVyLnJlYWRVQnl0ZSgpIDw8IDggfCBkZWNvZGVyLnJlYWRVQnl0ZSgpLCBkZWNvZGVyLnJlYWRVQnl0ZSgpIDw8IDggfCBkZWNvZGVyLnJlYWRVQnl0ZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnLmVycm9yKFwiICBIMjY0OiBVbmtub3duIGFzcGVjdFJhdGlvSWRjPVwiICsgYXNwZWN0UmF0aW9JZGMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlY29kZXIucmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAgICAgICAgIGRlY29kZXIuc2tpcEJpdHMoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAgICAgZGVjb2Rlci5za2lwQml0cyg0KTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29kZXIuc2tpcEJpdHMoMjQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLnNraXBVRUcoKTtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLnNraXBVRUcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVjb2Rlci5iaXRzQXZhaWxhYmxlID4gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVuaXRzSW5UaWNrID0gZGVjb2Rlci5yZWFkVUludCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVNjYWxlID0gZGVjb2Rlci5yZWFkVUludCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWRGcmFtZVJhdGUgPSBkZWNvZGVyLnJlYWRCb29sZWFuKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmcmFtZUR1cmF0aW9uID0gdGltZVNjYWxlIC8gKDIgKiB1bml0c0luVGljayk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcInRpbWVzY2FsZTogXCIgKyB0aW1lU2NhbGUgKyBcIjsgdW5pdHNJblRpY2s6IFwiICsgdW5pdHNJblRpY2sgKyBcIjsgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKFwiZml4ZWRGcmFtZXJhdGU6IFwiICsgZml4ZWRGcmFtZVJhdGUgKyBcIjsgYXZnRnJhbWVEdXJhdGlvbjogXCIgKyBmcmFtZUR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCJUcnVuY2F0ZWQgVlVJIChcIiArIGRlY29kZXIuYml0c0F2YWlsYWJsZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjOiBwcm9maWxlX2lkYyxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRfc2V0X2ZsYWdzOiBjb25zdHJhaW50X3NldF9mbGFncyxcbiAgICAgICAgICAgIGxldmVsX2lkYzogbGV2ZWxfaWRjLFxuICAgICAgICAgICAgc2VxX3BhcmFtZXRlcl9zZXRfaWQ6IHNlcV9wYXJhbWV0ZXJfc2V0X2lkLFxuICAgICAgICAgICAgcGljX3dpZHRoX2luX21ic19taW51czE6IHBpY193aWR0aF9pbl9tYnNfbWludXMxLFxuICAgICAgICAgICAgcGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxOiBwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEsXG4gICAgICAgICAgICBmcmFtZV9tYnNfb25seV9mbGFnOiBmcmFtZV9tYnNfb25seV9mbGFnLFxuICAgICAgICAgICAgZnJhbWVfY3JvcF9sZWZ0X29mZnNldDogZnJhbWVfY3JvcF9sZWZ0X29mZnNldCxcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0OiBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCxcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfdG9wX29mZnNldDogZnJhbWVfY3JvcF90b3Bfb2Zmc2V0LFxuICAgICAgICAgICAgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0OiBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQsXG4gICAgICAgICAgICBzYXI6IHNhcixcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEgyNjRQYXJzZXIucmVhZFNFSSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkZWNvZGVyID0gbmV3IGJpdF9zdHJlYW1fMS5kZWZhdWx0KGRhdGEpO1xuICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDgpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHdoaWxlIChkZWNvZGVyLmJpdHNBdmFpbGFibGUgPiAzICogOCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5yZWFkU0VJTWVzc2FnZShkZWNvZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEgyNjRQYXJzZXIucmVhZFNFSU1lc3NhZ2UgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAweGZmKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBheWxvYWRUeXBlID0gZ2V0KCk7XG4gICAgICAgIHZhciBwYXlsb2FkU2l6ZSA9IGdldCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkU0VJUGF5bG9hZChkZWNvZGVyLCBwYXlsb2FkVHlwZSwgcGF5bG9hZFNpemUpO1xuICAgIH07XG4gICAgSDI2NFBhcnNlci5yZWFkU0VJUGF5bG9hZCA9IGZ1bmN0aW9uIChkZWNvZGVyLCB0eXBlLCBzaXplKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB7IHR5cGU6IHR5cGUgfTtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLnNraXBCaXRzKHNpemUgKiA4KTtcbiAgICAgICAgfVxuICAgICAgICBkZWNvZGVyLnNraXBCaXRzKGRlY29kZXIuYml0c0F2YWlsYWJsZSAlIDgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIEgyNjRQYXJzZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSDI2NFBhcnNlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGgyNjRfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi9oMjY0LXBhcnNlclwiKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoXCIuL3V0aWwvZGVidWdcIik7XG52YXIgTkFMVV8xID0gcmVxdWlyZShcIi4vdXRpbC9OQUxVXCIpO1xudmFyIHRyYWNrSWQgPSAxO1xudmFyIEgyNjRSZW11eGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIMjY0UmVtdXhlcihmcHMsIGZyYW1lUGVyRnJhZ21lbnQsIHRpbWVzY2FsZSkge1xuICAgICAgICB0aGlzLmZwcyA9IGZwcztcbiAgICAgICAgdGhpcy5mcmFtZVBlckZyYWdtZW50ID0gZnJhbWVQZXJGcmFnbWVudDtcbiAgICAgICAgdGhpcy50aW1lc2NhbGUgPSB0aW1lc2NhbGU7XG4gICAgICAgIHRoaXMucmVhZHlUb0RlY29kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRvdGFsRFRTID0gMDtcbiAgICAgICAgdGhpcy5zdGVwRFRTID0gTWF0aC5yb3VuZCh0aGlzLnRpbWVzY2FsZSAvIHRoaXMuZnBzKTtcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zZXEgPSAxO1xuICAgICAgICB0aGlzLm1wNHRyYWNrID0ge1xuICAgICAgICAgICAgaWQ6IEgyNjRSZW11eGVyLmdldFRyYWNrSUQoKSxcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBsZW46IDAsXG4gICAgICAgICAgICBjb2RlYzogJycsXG4gICAgICAgICAgICBzcHM6IFtdLFxuICAgICAgICAgICAgcHBzOiBbXSxcbiAgICAgICAgICAgIHNlaUJ1ZmZlcmluZzogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgIHRpbWVzY2FsZTogdGltZXNjYWxlLFxuICAgICAgICAgICAgZHVyYXRpb246IHRpbWVzY2FsZSxcbiAgICAgICAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgICAgICAgaXNLZXlGcmFtZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bml0U2FtcGxlcyA9IFtbXV07XG4gICAgICAgIHRoaXMucGFyc2VyID0gbmV3IGgyNjRfcGFyc2VyXzEuZGVmYXVsdCh0aGlzKTtcbiAgICB9XG4gICAgSDI2NFJlbXV4ZXIuZ2V0VHJhY2tJRCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRyYWNrSWQrKztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIMjY0UmVtdXhlci5wcm90b3R5cGUsIFwic2VxTnVtXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEgyNjRSZW11eGVyLnByb3RvdHlwZS5yZW11eCA9IGZ1bmN0aW9uIChuYWx1KSB7XG4gICAgICAgIGlmICh0aGlzLm1wNHRyYWNrLnNlaUJ1ZmZlcmluZyAmJiBuYWx1LnR5cGUoKSA9PT0gTkFMVV8xLmRlZmF1bHQuU0VJKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVOZXh0RnJhbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJzZXIucGFyc2VOQUwobmFsdSkpIHtcbiAgICAgICAgICAgIHRoaXMudW5pdFNhbXBsZXNbdGhpcy51bml0U2FtcGxlcy5sZW5ndGggLSAxXS5wdXNoKG5hbHUpO1xuICAgICAgICAgICAgdGhpcy5tcDR0cmFjay5sZW4gKz0gbmFsdS5nZXRTaXplKCk7XG4gICAgICAgICAgICB0aGlzLm1wNHRyYWNrLmlzS2V5RnJhbWUgPSBuYWx1LmlzS2V5ZnJhbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubXA0dHJhY2suc2VpQnVmZmVyaW5nICYmIChuYWx1LnR5cGUoKSA9PT0gTkFMVV8xLmRlZmF1bHQuSURSIHx8IG5hbHUudHlwZSgpID09PSBOQUxVXzEuZGVmYXVsdC5ORFIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVOZXh0RnJhbWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICBIMjY0UmVtdXhlci5wcm90b3R5cGUuY3JlYXRlTmV4dEZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tcDR0cmFjay5sZW4gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lQ291bnQrKztcbiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgJSB0aGlzLmZyYW1lUGVyRnJhZ21lbnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSB0aGlzLmdldEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkdHMgPSB0aGlzLnRvdGFsRFRTO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsRFRTID0gdGhpcy5zdGVwRFRTICogdGhpcy5mcmFtZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2R0cywgZnJhZ21lbnRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiTm8gbXA0IHNhbXBsZSBkYXRhLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuaXRTYW1wbGVzLnB1c2goW10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIEgyNjRSZW11eGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXErKztcbiAgICAgICAgdGhpcy5tcDR0cmFjay5sZW4gPSAwO1xuICAgICAgICB0aGlzLm1wNHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5tcDR0cmFjay5pc0tleUZyYW1lID0gZmFsc2U7XG4gICAgICAgIHRoaXMudW5pdFNhbXBsZXMgPSBbW11dO1xuICAgIH07XG4gICAgSDI2NFJlbXV4ZXIucHJvdG90eXBlLmdldEZyYWdtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tSZWFkeVRvRGVjb2RlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBheWxvYWQgPSBuZXcgVWludDhBcnJheSh0aGlzLm1wNHRyYWNrLmxlbik7XG4gICAgICAgIHRoaXMubXA0dHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudW5pdFNhbXBsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB1bml0cyA9IHRoaXMudW5pdFNhbXBsZXNbaV07XG4gICAgICAgICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbXA0U2FtcGxlID0ge1xuICAgICAgICAgICAgICAgIHNpemU6IDAsXG4gICAgICAgICAgICAgICAgY3RzOiB0aGlzLnN0ZXBEVFMgKiBpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgdW5pdHNfMSA9IHVuaXRzOyBfaSA8IHVuaXRzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVuaXQgPSB1bml0c18xW19pXTtcbiAgICAgICAgICAgICAgICBtcDRTYW1wbGUuc2l6ZSArPSB1bml0LmdldFNpemUoKTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnNldCh1bml0LmdldERhdGEoKSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gdW5pdC5nZXRTaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1wNHRyYWNrLnNhbXBsZXMucHVzaChtcDRTYW1wbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbiAgICBIMjY0UmVtdXhlci5wcm90b3R5cGUuY2hlY2tSZWFkeVRvRGVjb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVhZHlUb0RlY29kZSB8fCB0aGlzLnVuaXRTYW1wbGVzLmZpbHRlcihmdW5jdGlvbiAoYXJyYXkpIHsgcmV0dXJuIGFycmF5Lmxlbmd0aCA+IDA7IH0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVidWcubG9nKFwiTm90IHJlYWR5IHRvIGRlY29kZSEgcmVhZHlUb0RlY29kZShcIiArIHRoaXMucmVhZHlUb0RlY29kZSArIFwiKSBpcyBmYWxzZSBvciB1bml0cyBpcyBlbXB0eS5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gSDI2NFJlbXV4ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSDI2NFJlbXV4ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBoMjY0X3JlbXV4ZXJfMSA9IHJlcXVpcmUoXCIuL2gyNjQtcmVtdXhlclwiKTtcbnZhciBtcDRfZ2VuZXJhdG9yXzEgPSByZXF1aXJlKFwiLi9tcDQtZ2VuZXJhdG9yXCIpO1xudmFyIGRlYnVnID0gcmVxdWlyZShcIi4vdXRpbC9kZWJ1Z1wiKTtcbnZhciBuYWx1X3N0cmVhbV9idWZmZXJfMSA9IHJlcXVpcmUoXCIuL3V0aWwvbmFsdS1zdHJlYW0tYnVmZmVyXCIpO1xuZXhwb3J0cy5taW1lVHlwZSA9ICd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCInO1xudmFyIGRlYnVnXzEgPSByZXF1aXJlKFwiLi91dGlsL2RlYnVnXCIpO1xuZXhwb3J0cy5zZXRMb2dnZXIgPSBkZWJ1Z18xLnNldExvZ2dlcjtcbnZhciBWaWRlb0NvbnZlcnRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlkZW9Db252ZXJ0ZXIoZWxlbWVudCwgZnBzLCBmcGYpIHtcbiAgICAgICAgaWYgKGZwcyA9PT0gdm9pZCAwKSB7IGZwcyA9IDYwOyB9XG4gICAgICAgIGlmIChmcGYgPT09IHZvaWQgMCkgeyBmcGYgPSBmcHM7IH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XG4gICAgICAgIHRoaXMuZnBmID0gZnBmO1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBuZXcgbmFsdV9zdHJlYW1fYnVmZmVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIGlmICghTWVkaWFTb3VyY2UgfHwgIU1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChleHBvcnRzLm1pbWVUeXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQ6IFwiICsgZXhwb3J0cy5taW1lVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlkZW9Db252ZXJ0ZXIsIFwiZXJyb3JOb3Rlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9hID0ge30sXG4gICAgICAgICAgICAgICAgX2FbTWVkaWFFcnJvci5NRURJQV9FUlJfQUJPUlRFRF0gPSAnZmV0Y2hpbmcgcHJvY2VzcyBhYm9ydGVkIGJ5IHVzZXInLFxuICAgICAgICAgICAgICAgIF9hW01lZGlhRXJyb3IuTUVESUFfRVJSX05FVFdPUktdID0gJ2Vycm9yIG9jY3VycmVkIHdoZW4gZG93bmxvYWRpbmcnLFxuICAgICAgICAgICAgICAgIF9hW01lZGlhRXJyb3IuTUVESUFfRVJSX0RFQ09ERV0gPSAnZXJyb3Igb2NjdXJyZWQgd2hlbiBkZWNvZGluZycsXG4gICAgICAgICAgICAgICAgX2FbTWVkaWFFcnJvci5NRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURURdID0gJ2F1ZGlvL3ZpZGVvIG5vdCBzdXBwb3J0ZWQnLFxuICAgICAgICAgICAgICAgIF9hO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWaWRlb0NvbnZlcnRlci5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubWVkaWFSZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgX3JlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCJNZWRpYSBTb3VyY2Ugb3BlbmVkLlwiKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VCdWZmZXIgPSBfdGhpcy5tZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIoZXhwb3J0cy5taW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc291cmNlQnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICBTb3VyY2VCdWZmZXIgdXBkYXRlZW5kXCIpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgICAgc291cmNlQnVmZmVyLmJ1ZmZlcmVkLmxlbmd0aD1cIiArIF90aGlzLnNvdXJjZUJ1ZmZlci5idWZmZXJlZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gX3RoaXMuc291cmNlQnVmZmVyLmJ1ZmZlcmVkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgICAgc291cmNlQnVmZmVyLmJ1ZmZlcmVkIFtcIiArIGkgKyBcIl06IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX3RoaXMuc291cmNlQnVmZmVyLmJ1ZmZlcmVkLnN0YXJ0KGkpICsgXCIsIFwiICsgX3RoaXMuc291cmNlQnVmZmVyLmJ1ZmZlcmVkLmVuZChpKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgbWVkaWFzb3VyY2UuZHVyYXRpb249XCIgKyBfdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgbWVkaWFzb3VyY2UucmVhZHlTdGF0ZT1cIiArIF90aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgIHZpZGVvLmR1cmF0aW9uPVwiICsgX3RoaXMuZWxlbWVudC5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgICB2aWRlby5idWZmZXJlZC5sZW5ndGg9XCIgKyBfdGhpcy5lbGVtZW50LmJ1ZmZlcmVkLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1Zy5pc0VuYWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gX3RoaXMuZWxlbWVudC5idWZmZXJlZC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgICB2aWRlby5idWZmZXJlZCBbXCIgKyBpICsgXCJdOiBcIiArIF90aGlzLmVsZW1lbnQuYnVmZmVyZWQuc3RhcnQoaSkgKyBcIiwgXCIgKyBfdGhpcy5lbGVtZW50LmJ1ZmZlcmVkLmVuZChpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICB2aWRlby5jdXJyZW50VGltZT1cIiArIF90aGlzLmVsZW1lbnQuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgIHZpZGVvLnJlYWR5U3RhdGU9XCIgKyBfdGhpcy5lbGVtZW50LnJlYWR5U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuc291cmNlQnVmZmVyLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZG9BcHBlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VCdWZmZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmVycm9yKCcgIFNvdXJjZUJ1ZmZlciBlcnJvcmVkIScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLm1lZGlhUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIF90aGlzLm1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIk1lZGlhIFNvdXJjZSBjbG9zZWQuXCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLm1lZGlhUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChfdGhpcy5tZWRpYVNvdXJjZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYVJlYWR5UHJvbWlzZTtcbiAgICB9O1xuICAgIFZpZGVvQ29udmVydGVyLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZWRpYVJlYWR5ICYmIHRoaXMuZWxlbWVudC5yZWFkeVN0YXRlID49IDIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcl8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgaGFuZGxlcl8xKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBoYW5kbGVyXzEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0NvbnZlcnRlci5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQucGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LnBhdXNlKCk7XG4gICAgfTtcbiAgICBWaWRlb0NvbnZlcnRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5tZWRpYVNvdXJjZSAmJiB0aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVyLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lZGlhU291cmNlXzEgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlQnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFTb3VyY2VfMS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVkaWFTb3VyY2UgPSBuZXcgTWVkaWFTb3VyY2UoKTtcbiAgICAgICAgdGhpcy5yZW11eGVyID0gbmV3IGgyNjRfcmVtdXhlcl8xLmRlZmF1bHQodGhpcy5mcHMsIHRoaXMuZnBmLCB0aGlzLmZwcyAqIDYwKTtcbiAgICAgICAgdGhpcy5tZWRpYVJlYWR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVkaWFSZWFkeVByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH07XG4gICAgVmlkZW9Db252ZXJ0ZXIucHJvdG90eXBlLmFwcGVuZFJhd0RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgbmFsdXMgPSB0aGlzLnJlY2VpdmVCdWZmZXIuYXBwZW5kKGRhdGEpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5hbHVzXzEgPSBuYWx1czsgX2kgPCBuYWx1c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIG5hbHUgPSBuYWx1c18xW19pXTtcbiAgICAgICAgICAgIHZhciByZXQgPSB0aGlzLnJlbXV4ZXIucmVtdXgobmFsdSk7XG4gICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZUZyYWdtZW50KHJldFswXSwgcmV0WzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlkZW9Db252ZXJ0ZXIucHJvdG90eXBlLndyaXRlRnJhZ21lbnQgPSBmdW5jdGlvbiAoZHRzLCBwYXkpIHtcbiAgICAgICAgdmFyIHJlbXV4ZXIgPSB0aGlzLnJlbXV4ZXI7XG4gICAgICAgIGlmIChyZW11eGVyLm1wNHRyYWNrLmlzS2V5RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIobXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQuaW5pdFNlZ21lbnQoW3JlbXV4ZXIubXA0dHJhY2tdLCBJbmZpbml0eSwgcmVtdXhlci50aW1lc2NhbGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5ICYmIHBheS5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWJ1Zy5sb2coXCIgUHV0IGZyYWdtZW50OiBcIiArIHJlbXV4ZXIuc2VxTnVtICsgXCIsIGZyYW1lcz1cIiArIHJlbXV4ZXIubXA0dHJhY2suc2FtcGxlcy5sZW5ndGggKyBcIiwgc2l6ZT1cIiArIHBheS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudCA9IG1wNF9nZW5lcmF0b3JfMS5kZWZhdWx0LmZyYWdtZW50U2VnbWVudChyZW11eGVyLnNlcU51bSwgZHRzLCByZW11eGVyLm1wNHRyYWNrLCBwYXkpO1xuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlcihmcmFnbWVudCk7XG4gICAgICAgICAgICByZW11eGVyLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWJ1Zy5lcnJvcihcIk5vdGhpbmcgcGF5bG9hZCFcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZGVvQ29udmVydGVyLnByb3RvdHlwZS53cml0ZUJ1ZmZlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhUmVhZHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdXJjZUJ1ZmZlci51cGRhdGluZyB8fCB0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9BcHBlbmQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goZGF0YSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYVJlYWR5UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFSZWFkeVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuc291cmNlQnVmZmVyLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IF90aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRvQXBwZW5kKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlYWR5UHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlkZW9Db252ZXJ0ZXIucHJvdG90eXBlLmRvQXBwZW5kID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5lbGVtZW50LmVycm9yO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGRlYnVnLmVycm9yKFwiTVNFIEVycm9yIE9jY3VyZWQ6IFwiICsgVmlkZW9Db252ZXJ0ZXIuZXJyb3JOb3Rlc1tlcnJvci5jb2RlXSk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGF1c2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIuYXBwZW5kQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgYXBwZW5kZWQgYnVmZmVyOiBzaXplPVwiICsgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Zy5lcnJvcihcIk1TRSBFcnJvciBvY2N1cmVkIHdoaWxlIGFwcGVuZGluZyBidWZmZXIuIFwiICsgZXJyLm5hbWUgKyBcIjogXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBWaWRlb0NvbnZlcnRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb0NvbnZlcnRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1QNCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTVA0KCkge1xuICAgIH1cbiAgICBNUDQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTVA0LmluaXRhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBNUDQudHlwZXMgPSB7XG4gICAgICAgICAgICBhdmMxOiBbXSxcbiAgICAgICAgICAgIGF2Y0M6IFtdLFxuICAgICAgICAgICAgYnRydDogW10sXG4gICAgICAgICAgICBkaW5mOiBbXSxcbiAgICAgICAgICAgIGRyZWY6IFtdLFxuICAgICAgICAgICAgZXNkczogW10sXG4gICAgICAgICAgICBmdHlwOiBbXSxcbiAgICAgICAgICAgIGhkbHI6IFtdLFxuICAgICAgICAgICAgbWRhdDogW10sXG4gICAgICAgICAgICBtZGhkOiBbXSxcbiAgICAgICAgICAgIG1kaWE6IFtdLFxuICAgICAgICAgICAgbWZoZDogW10sXG4gICAgICAgICAgICBtaW5mOiBbXSxcbiAgICAgICAgICAgIG1vb2Y6IFtdLFxuICAgICAgICAgICAgbW9vdjogW10sXG4gICAgICAgICAgICBtcDRhOiBbXSxcbiAgICAgICAgICAgIG12ZXg6IFtdLFxuICAgICAgICAgICAgbXZoZDogW10sXG4gICAgICAgICAgICBzZHRwOiBbXSxcbiAgICAgICAgICAgIHN0Ymw6IFtdLFxuICAgICAgICAgICAgc3RjbzogW10sXG4gICAgICAgICAgICBzdHNjOiBbXSxcbiAgICAgICAgICAgIHN0c2Q6IFtdLFxuICAgICAgICAgICAgc3RzejogW10sXG4gICAgICAgICAgICBzdHRzOiBbXSxcbiAgICAgICAgICAgIHN0eXA6IFtdLFxuICAgICAgICAgICAgdGZkdDogW10sXG4gICAgICAgICAgICB0ZmhkOiBbXSxcbiAgICAgICAgICAgIHRyYWY6IFtdLFxuICAgICAgICAgICAgdHJhazogW10sXG4gICAgICAgICAgICB0cnVuOiBbXSxcbiAgICAgICAgICAgIHRyZXA6IFtdLFxuICAgICAgICAgICAgdHJleDogW10sXG4gICAgICAgICAgICB0a2hkOiBbXSxcbiAgICAgICAgICAgIHZtaGQ6IFtdLFxuICAgICAgICAgICAgc21oZDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gTVA0LnR5cGVzKSB7XG4gICAgICAgICAgICBpZiAoTVA0LnR5cGVzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgTVA0LnR5cGVzW3R5cGVdID0gW1xuICAgICAgICAgICAgICAgICAgICB0eXBlLmNoYXJDb2RlQXQoMCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGUuY2hhckNvZGVBdCgxKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5jaGFyQ29kZUF0KDIpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlLmNoYXJDb2RlQXQoMyksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaGRsciA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDU2LCAweDY5LCAweDY0LCAweDY1LFxuICAgICAgICAgICAgMHg2ZiwgMHg0OCwgMHg2MSwgMHg2ZSxcbiAgICAgICAgICAgIDB4NjQsIDB4NmMsIDB4NjUsIDB4NzIsIDB4MDAsXG4gICAgICAgIF0pO1xuICAgICAgICB2YXIgZHJlZiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MGMsXG4gICAgICAgICAgICAweDc1LCAweDcyLCAweDZjLCAweDIwLFxuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDEsXG4gICAgICAgIF0pO1xuICAgICAgICB2YXIgc3RjbyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgXSk7XG4gICAgICAgIE1QNC5TVFRTID0gTVA0LlNUU0MgPSBNUDQuU1RDTyA9IHN0Y287XG4gICAgICAgIE1QNC5TVFNaID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgXSk7XG4gICAgICAgIE1QNC5WTUhEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICBdKTtcbiAgICAgICAgTVA0LlNNSEQgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICBdKTtcbiAgICAgICAgTVA0LlNUU0QgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDFcbiAgICAgICAgXSk7XG4gICAgICAgIE1QNC5GVFlQID0gTVA0LmJveChNUDQudHlwZXMuZnR5cCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHg2OSwgMHg3MywgMHg2ZiwgMHgzNSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDYxLCAweDc2LCAweDYzLCAweDMxLFxuICAgICAgICAgICAgMHg2OSwgMHg3MywgMHg2ZiwgMHgzNSxcbiAgICAgICAgICAgIDB4NjQsIDB4NjEsIDB4NzMsIDB4NjgsXG4gICAgICAgIF0pKTtcbiAgICAgICAgTVA0LlNUWVAgPSBNUDQuYm94KE1QNC50eXBlcy5zdHlwLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDZkLCAweDczLCAweDY0LCAweDY4LFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NmQsIDB4NzMsIDB4NjQsIDB4NjgsXG4gICAgICAgICAgICAweDZkLCAweDczLCAweDY5LCAweDc4LFxuICAgICAgICBdKSk7XG4gICAgICAgIE1QNC5ESU5GID0gTVA0LmJveChNUDQudHlwZXMuZGluZiwgTVA0LmJveChNUDQudHlwZXMuZHJlZiwgZHJlZikpO1xuICAgICAgICBNUDQuSERMUiA9IE1QNC5ib3goTVA0LnR5cGVzLmhkbHIsIGhkbHIpO1xuICAgIH07XG4gICAgTVA0LmJveCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXlsb2FkW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaXplID0gODtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXlsb2FkXzEgPSBwYXlsb2FkOyBfYSA8IHBheWxvYWRfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gcGF5bG9hZF8xW19hXTtcbiAgICAgICAgICAgIHNpemUgKz0gcC5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgcmVzdWx0WzBdID0gKHNpemUgPj4gMjQpICYgMHhmZjtcbiAgICAgICAgcmVzdWx0WzFdID0gKHNpemUgPj4gMTYpICYgMHhmZjtcbiAgICAgICAgcmVzdWx0WzJdID0gKHNpemUgPj4gOCkgJiAweGZmO1xuICAgICAgICByZXN1bHRbM10gPSBzaXplICYgMHhmZjtcbiAgICAgICAgcmVzdWx0LnNldCh0eXBlLCA0KTtcbiAgICAgICAgc2l6ZSA9IDg7XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgcGF5bG9hZF8yID0gcGF5bG9hZDsgX2IgPCBwYXlsb2FkXzIubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gcGF5bG9hZF8yW19iXTtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQoYm94LCBzaXplKTtcbiAgICAgICAgICAgIHNpemUgKz0gYm94LmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE1QNC5tZGF0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kYXQsIGRhdGEpO1xuICAgIH07XG4gICAgTVA0Lm1kaGQgPSBmdW5jdGlvbiAodGltZXNjYWxlKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGhkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAyLFxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICB0aW1lc2NhbGUgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NTUsIDB4YzQsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQubWRpYSA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRpYSwgTVA0Lm1kaGQodHJhY2sudGltZXNjYWxlKSwgTVA0LkhETFIsIE1QNC5taW5mKHRyYWNrKSk7XG4gICAgfTtcbiAgICBNUDQubWZoZCA9IGZ1bmN0aW9uIChzZXF1ZW5jZU51bWJlcikge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gMjQpLFxuICAgICAgICAgICAgKHNlcXVlbmNlTnVtYmVyID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXIgJiAweEZGLFxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQubWluZiA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWluZiwgTVA0LmJveChNUDQudHlwZXMudm1oZCwgTVA0LlZNSEQpLCBNUDQuRElORiwgTVA0LnN0YmwodHJhY2spKTtcbiAgICB9O1xuICAgIE1QNC5tb29mID0gZnVuY3Rpb24gKHNuLCBiYXNlTWVkaWFEZWNvZGVUaW1lLCB0cmFjaykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubW9vZiwgTVA0Lm1maGQoc24pLCBNUDQudHJhZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkpO1xuICAgIH07XG4gICAgTVA0Lm1vb3YgPSBmdW5jdGlvbiAodHJhY2tzLCBkdXJhdGlvbiwgdGltZXNjYWxlKSB7XG4gICAgICAgIHZhciBib3hlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHRyYWNrc18xID0gdHJhY2tzOyBfaSA8IHRyYWNrc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzXzFbX2ldO1xuICAgICAgICAgICAgYm94ZXMucHVzaChNUDQudHJhayh0cmFjaykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNUDQuYm94LmFwcGx5KE1QNCwgW01QNC50eXBlcy5tb292LCBNUDQubXZoZCh0aW1lc2NhbGUsIGR1cmF0aW9uKSwgTVA0Lm12ZXgodHJhY2tzKV0uY29uY2F0KGJveGVzKSk7XG4gICAgfTtcbiAgICBNUDQubXZoZCA9IGZ1bmN0aW9uICh0aW1lc2NhbGUsIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHRpbWVzY2FsZSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGR1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAxLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDQwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMixcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmhkLCBieXRlcyk7XG4gICAgfTtcbiAgICBNUDQubXZleCA9IGZ1bmN0aW9uICh0cmFja3MpIHtcbiAgICAgICAgdmFyIGJveGVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgdHJhY2tzXzIgPSB0cmFja3M7IF9pIDwgdHJhY2tzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NfMltfaV07XG4gICAgICAgICAgICBib3hlcy5wdXNoKE1QNC50cmV4KHRyYWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3guYXBwbHkoTVA0LCBbTVA0LnR5cGVzLm12ZXhdLmNvbmNhdChib3hlcywgW01QNC50cmVwKCldKSk7XG4gICAgfTtcbiAgICBNUDQudHJlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyZXAsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgXSkpO1xuICAgIH07XG4gICAgTVA0LnN0YmwgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsIE1QNC5zdHNkKHRyYWNrKSwgTVA0LmJveChNUDQudHlwZXMuc3R0cywgTVA0LlNUVFMpLCBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuU1RTQyksIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5TVFNaKSwgTVA0LmJveChNUDQudHlwZXMuc3RjbywgTVA0LlNUQ08pKTtcbiAgICB9O1xuICAgIE1QNC5hdmMxID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBzcHMgPSBbXTtcbiAgICAgICAgdmFyIHBwcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdHJhY2suc3BzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgc3BzLnB1c2goKGxlbiA+Pj4gOCkgJiAweEZGKTtcbiAgICAgICAgICAgIHNwcy5wdXNoKChsZW4gJiAweEZGKSk7XG4gICAgICAgICAgICBzcHMgPSBzcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gdHJhY2sucHBzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBfY1tfYl07XG4gICAgICAgICAgICB2YXIgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgcHBzLnB1c2goKGxlbiA+Pj4gOCkgJiAweEZGKTtcbiAgICAgICAgICAgIHBwcy5wdXNoKChsZW4gJiAweEZGKSk7XG4gICAgICAgICAgICBwcHMgPSBwcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXZjYyA9IE1QNC5ib3goTVA0LnR5cGVzLmF2Y0MsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDEsXG4gICAgICAgICAgICBzcHNbM10sXG4gICAgICAgICAgICBzcHNbNF0sXG4gICAgICAgICAgICBzcHNbNV0sXG4gICAgICAgICAgICAweGZjIHwgMyxcbiAgICAgICAgICAgIDB4RTAgfCB0cmFjay5zcHMubGVuZ3RoLFxuICAgICAgICBdLmNvbmNhdChzcHMpLmNvbmNhdChbXG4gICAgICAgICAgICB0cmFjay5wcHMubGVuZ3RoLFxuICAgICAgICBdKS5jb25jYXQocHBzKSkpO1xuICAgICAgICB2YXIgd2lkdGggPSB0cmFjay53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRyYWNrLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmF2YzEsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHdpZHRoID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHdpZHRoICYgMHhmZixcbiAgICAgICAgICAgIChoZWlnaHQgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgaGVpZ2h0ICYgMHhmZixcbiAgICAgICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDEyLFxuICAgICAgICAgICAgMHg2MiwgMHg2OSwgMHg2RSwgMHg2NSxcbiAgICAgICAgICAgIDB4NkMsIDB4NzAsIDB4NzIsIDB4NkYsXG4gICAgICAgICAgICAweDJFLCAweDcyLCAweDc1LCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDE4LFxuICAgICAgICAgICAgMHgxMSwgMHgxMVxuICAgICAgICBdKSwgYXZjYywgTVA0LmJveChNUDQudHlwZXMuYnRydCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MmQsIDB4YzYsIDB4YzAsXG4gICAgICAgICAgICAweDAwLCAweDJkLCAweGM2LCAweGMwLFxuICAgICAgICBdKSkpO1xuICAgIH07XG4gICAgTVA0LnN0c2QgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQuYXZjMSh0cmFjaykpO1xuICAgIH07XG4gICAgTVA0LnRraGQgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgdmFyIGlkID0gdHJhY2suaWQ7XG4gICAgICAgIHZhciB3aWR0aCA9IHRyYWNrLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdHJhY2suaGVpZ2h0O1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudGtoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMixcbiAgICAgICAgICAgIChpZCA+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgaWQgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHRyYWNrLnR5cGUgPT09ICdhdWRpbycgPyAweDAxIDogMHgwMCksIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDQwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHdpZHRoID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHdpZHRoICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaGVpZ2h0ID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGhlaWdodCAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQudHJhZiA9IGZ1bmN0aW9uICh0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgICAgICB2YXIgaWQgPSB0cmFjay5pZDtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWYsIE1QNC5ib3goTVA0LnR5cGVzLnRmaGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAyLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKGlkID4+IDI0KSxcbiAgICAgICAgICAgIChpZCA+PiAxNikgJiAwWEZGLFxuICAgICAgICAgICAgKGlkID4+IDgpICYgMFhGRixcbiAgICAgICAgICAgIChpZCAmIDB4RkYpLFxuICAgICAgICBdKSksIE1QNC5ib3goTVA0LnR5cGVzLnRmZHQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4gMjQpLFxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4gMTYpICYgMFhGRixcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lID4+IDgpICYgMFhGRixcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lICYgMHhGRiksXG4gICAgICAgIF0pKSwgTVA0LnRydW4odHJhY2ssIDE2ICtcbiAgICAgICAgICAgIDE2ICtcbiAgICAgICAgICAgIDggK1xuICAgICAgICAgICAgMTYgK1xuICAgICAgICAgICAgOCArXG4gICAgICAgICAgICA4KSk7XG4gICAgfTtcbiAgICBNUDQudHJhayA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB0cmFjay5kdXJhdGlvbiA9IHRyYWNrLmR1cmF0aW9uIHx8IDB4ZmZmZmZmZmY7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmFrLCBNUDQudGtoZCh0cmFjayksIE1QNC5tZGlhKHRyYWNrKSk7XG4gICAgfTtcbiAgICBNUDQudHJleCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgaWQgPSB0cmFjay5pZDtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyZXgsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKGlkID4+IDI0KSxcbiAgICAgICAgICAgIChpZCA+PiAxNikgJiAwWEZGLFxuICAgICAgICAgICAgKGlkID4+IDgpICYgMFhGRixcbiAgICAgICAgICAgIChpZCAmIDB4RkYpLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4M2MsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgXSkpO1xuICAgIH07XG4gICAgTVA0LnRydW4gPSBmdW5jdGlvbiAodHJhY2ssIG9mZnNldCkge1xuICAgICAgICB2YXIgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW107XG4gICAgICAgIHZhciBsZW4gPSBzYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGFkZGl0aW9uYWxMZW4gPSB0cmFjay5pc0tleUZyYW1lID8gNCA6IDA7XG4gICAgICAgIHZhciBhcnJheWxlbiA9IDEyICsgYWRkaXRpb25hbExlbiArICg0ICogbGVuKTtcbiAgICAgICAgdmFyIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlsZW4pO1xuICAgICAgICBvZmZzZXQgKz0gOCArIGFycmF5bGVuO1xuICAgICAgICBhcnJheS5zZXQoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDIsICh0cmFjay5pc0tleUZyYW1lID8gMHgwNSA6IDB4MDEpLFxuICAgICAgICAgICAgKGxlbiA+Pj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgIChsZW4gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAobGVuID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBsZW4gJiAweEZGLFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0ID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBvZmZzZXQgJiAweEZGLFxuICAgICAgICBdLCAwKTtcbiAgICAgICAgaWYgKHRyYWNrLmlzS2V5RnJhbWUpIHtcbiAgICAgICAgICAgIGFycmF5LnNldChbXG4gICAgICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIF0sIDEyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgICAgICAgIHZhciBzaXplID0gc2FtcGxlLnNpemU7XG4gICAgICAgICAgICBhcnJheS5zZXQoW1xuICAgICAgICAgICAgICAgIChzaXplID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIChzaXplID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgICAgIChzaXplID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgc2l6ZSAmIDB4RkYsXG4gICAgICAgICAgICBdLCAxMiArIGFkZGl0aW9uYWxMZW4gKyA0ICogaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRydW4sIGFycmF5KTtcbiAgICB9O1xuICAgIE1QNC5pbml0U2VnbWVudCA9IGZ1bmN0aW9uICh0cmFja3MsIGR1cmF0aW9uLCB0aW1lc2NhbGUpIHtcbiAgICAgICAgaWYgKCFNUDQuaW5pdGFsaXplZCkge1xuICAgICAgICAgICAgTVA0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW92aWUgPSBNUDQubW9vdih0cmFja3MsIGR1cmF0aW9uLCB0aW1lc2NhbGUpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoTVA0LkZUWVAuYnl0ZUxlbmd0aCArIG1vdmllLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXN1bHQuc2V0KE1QNC5GVFlQKTtcbiAgICAgICAgcmVzdWx0LnNldChtb3ZpZSwgTVA0LkZUWVAuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNUDQuZnJhZ21lbnRTZWdtZW50ID0gZnVuY3Rpb24gKHNuLCBiYXNlTWVkaWFEZWNvZGVUaW1lLCB0cmFjaywgcGF5bG9hZCkge1xuICAgICAgICB2YXIgbW9vZiA9IE1QNC5tb29mKHNuLCBiYXNlTWVkaWFEZWNvZGVUaW1lLCB0cmFjayk7XG4gICAgICAgIHZhciBtZGF0ID0gTVA0Lm1kYXQocGF5bG9hZCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShNUDQuU1RZUC5ieXRlTGVuZ3RoICsgbW9vZi5ieXRlTGVuZ3RoICsgbWRhdC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmVzdWx0LnNldChNUDQuU1RZUCk7XG4gICAgICAgIHJlc3VsdC5zZXQobW9vZiwgTVA0LlNUWVAuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3VsdC5zZXQobWRhdCwgTVA0LlNUWVAuYnl0ZUxlbmd0aCArIG1vb2YuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNUDQudHlwZXMgPSB7fTtcbiAgICBNUDQuaW5pdGFsaXplZCA9IGZhbHNlO1xuICAgIHJldHVybiBNUDQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTVA0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTkFMVSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTkFMVShkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubnJpID0gKGRhdGFbMF0gJiAweDYwKSA+PiA1O1xuICAgICAgICB0aGlzLm50eXBlID0gZGF0YVswXSAmIDB4MWY7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOQUxVLCBcIk5EUlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gMTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5BTFUsIFwiSURSXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA1OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTkFMVSwgXCJTRUlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDY7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOQUxVLCBcIlNQU1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5BTFUsIFwiUFBTXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA4OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTkFMVSwgXCJUWVBFU1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9hID0ge30sXG4gICAgICAgICAgICAgICAgX2FbTkFMVS5JRFJdID0gJ0lEUicsXG4gICAgICAgICAgICAgICAgX2FbTkFMVS5TRUldID0gJ1NFSScsXG4gICAgICAgICAgICAgICAgX2FbTkFMVS5TUFNdID0gJ1NQUycsXG4gICAgICAgICAgICAgICAgX2FbTkFMVS5QUFNdID0gJ1BQUycsXG4gICAgICAgICAgICAgICAgX2FbTkFMVS5ORFJdID0gJ05EUicsXG4gICAgICAgICAgICAgICAgX2E7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5BTFUudHlwZSA9IGZ1bmN0aW9uIChuYWx1KSB7XG4gICAgICAgIGlmIChuYWx1Lm50eXBlIGluIE5BTFUuVFlQRVMpIHtcbiAgICAgICAgICAgIHJldHVybiBOQUxVLlRZUEVTW25hbHUubnR5cGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdVTktOT1dOJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgTkFMVS5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnR5cGU7XG4gICAgfTtcbiAgICBOQUxVLnByb3RvdHlwZS5pc0tleWZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udHlwZSA9PT0gTkFMVS5JRFI7XG4gICAgfTtcbiAgICBOQUxVLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gNCArIHRoaXMuZGF0YS5ieXRlTGVuZ3RoO1xuICAgIH07XG4gICAgTkFMVS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZ2V0U2l6ZSgpKTtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcocmVzdWx0LmJ1ZmZlcik7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKDAsIHRoaXMuZ2V0U2l6ZSgpIC0gNCk7XG4gICAgICAgIHJlc3VsdC5zZXQodGhpcy5kYXRhLCA0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBOQUxVO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5BTFU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCaXRTdHJlYW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdFN0cmVhbShkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLmJpdExlbmd0aCA9IGRhdGEuYnl0ZUxlbmd0aCAqIDg7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRTdHJlYW0ucHJvdG90eXBlLCBcImJpdHNBdmFpbGFibGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJpdExlbmd0aCAtIHRoaXMuaW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUuc2tpcEJpdHMgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlIDwgc2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBieXRlcyBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZGV4ICs9IHNpemU7XG4gICAgfTtcbiAgICBCaXRTdHJlYW0ucHJvdG90eXBlLnJlYWRCaXRzID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZ2V0Qml0cyhzaXplLCB0aGlzLmluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uIChzaXplLCBvZmZzZXRCaXRzLCBtb3ZlSW5kZXgpIHtcbiAgICAgICAgaWYgKG1vdmVJbmRleCA9PT0gdm9pZCAwKSB7IG1vdmVJbmRleCA9IHRydWU7IH1cbiAgICAgICAgaWYgKHRoaXMuYml0c0F2YWlsYWJsZSA8IHNpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gYnl0ZXMgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldCA9IG9mZnNldEJpdHMgJSA4O1xuICAgICAgICB2YXIgYnl0ZSA9IHRoaXMuZGF0YVsob2Zmc2V0Qml0cyAvIDgpIHwgMF0gJiAoMHhmZiA+Pj4gb2Zmc2V0KTtcbiAgICAgICAgdmFyIGJpdHMgPSA4IC0gb2Zmc2V0O1xuICAgICAgICBpZiAoYml0cyA+PSBzaXplKSB7XG4gICAgICAgICAgICBpZiAobW92ZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCArPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJ5dGUgPj4gKGJpdHMgLSBzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtb3ZlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ICs9IGJpdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV4dFNpemUgPSBzaXplIC0gYml0cztcbiAgICAgICAgICAgIHJldHVybiAoYnl0ZSA8PCBuZXh0U2l6ZSkgfCB0aGlzLmdldEJpdHMobmV4dFNpemUsIG9mZnNldEJpdHMgKyBiaXRzLCBtb3ZlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCaXRTdHJlYW0ucHJvdG90eXBlLnNraXBMWiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgIGZvciAobGVhZGluZ1plcm9Db3VudCA9IDA7IGxlYWRpbmdaZXJvQ291bnQgPCB0aGlzLmJpdExlbmd0aCAtIHRoaXMuaW5kZXg7ICsrbGVhZGluZ1plcm9Db3VudCkge1xuICAgICAgICAgICAgaWYgKDAgIT09IHRoaXMuZ2V0Qml0cygxLCB0aGlzLmluZGV4ICsgbGVhZGluZ1plcm9Db3VudCwgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCArPSBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50O1xuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5za2lwVUVHID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUuc2tpcEVHID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUucmVhZFVFRyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZWZpeCA9IHRoaXMuc2tpcExaKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKHByZWZpeCArIDEpIC0gMTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUucmVhZEVHID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnJlYWRVRUcoKTtcbiAgICAgICAgaWYgKDB4MDEgJiB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICgxICsgdmFsdWUpID4+PiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xICogKHZhbHVlID4+PiAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5yZWFkQm9vbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDEgPT09IHRoaXMucmVhZEJpdHMoMSk7XG4gICAgfTtcbiAgICBCaXRTdHJlYW0ucHJvdG90eXBlLnJlYWRVQnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoOCk7XG4gICAgfTtcbiAgICBCaXRTdHJlYW0ucHJvdG90eXBlLnJlYWRVU2hvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDE2KTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUucmVhZFVJbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDMyKTtcbiAgICB9O1xuICAgIHJldHVybiBCaXRTdHJlYW07XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQml0U3RyZWFtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbUxvZ2dlcjtcbnZhciBtRXJyb3JMb2dnZXI7XG5mdW5jdGlvbiBzZXRMb2dnZXIobG9nZ2VyLCBlcnJvckxvZ2dlcikge1xuICAgIG1Mb2dnZXIgPSBsb2dnZXI7XG4gICAgbUVycm9yTG9nZ2VyID0gZXJyb3JMb2dnZXIgIT0gbnVsbCA/IGVycm9yTG9nZ2VyIDogbG9nZ2VyO1xufVxuZXhwb3J0cy5zZXRMb2dnZXIgPSBzZXRMb2dnZXI7XG5mdW5jdGlvbiBpc0VuYWJsZSgpIHtcbiAgICByZXR1cm4gbUxvZ2dlciAhPSBudWxsO1xufVxuZXhwb3J0cy5pc0VuYWJsZSA9IGlzRW5hYmxlO1xuZnVuY3Rpb24gbG9nKG1lc3NhZ2UpIHtcbiAgICB2YXIgb3B0aW9uYWxQYXJhbXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvcHRpb25hbFBhcmFtc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKG1Mb2dnZXIpIHtcbiAgICAgICAgbUxvZ2dlci5hcHBseSh2b2lkIDAsIFttZXNzYWdlXS5jb25jYXQob3B0aW9uYWxQYXJhbXMpKTtcbiAgICB9XG59XG5leHBvcnRzLmxvZyA9IGxvZztcbmZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB2YXIgb3B0aW9uYWxQYXJhbXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvcHRpb25hbFBhcmFtc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKG1FcnJvckxvZ2dlcikge1xuICAgICAgICBtRXJyb3JMb2dnZXIuYXBwbHkodm9pZCAwLCBbbWVzc2FnZV0uY29uY2F0KG9wdGlvbmFsUGFyYW1zKSk7XG4gICAgfVxufVxuZXhwb3J0cy5lcnJvciA9IGVycm9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTkFMVV8xID0gcmVxdWlyZShcIi4vTkFMVVwiKTtcbnZhciBWaWRlb1N0cmVhbUJ1ZmZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlkZW9TdHJlYW1CdWZmZXIoKSB7XG4gICAgfVxuICAgIFZpZGVvU3RyZWFtQnVmZmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaWRlb1N0cmVhbUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBuZXh0TmFsSGVhZGVyID0gZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgICAgIHZhciBpID0gMztcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChiW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGJ1ZmZlcjtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVbM10gPT09IDEgJiYgdmFsdWVbMl0gPT09IDAgJiYgdmFsdWVbMV0gPT09IDAgJiYgdmFsdWVbMF0gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgTkFMVV8xLmRlZmF1bHQodGhpcy5idWZmZXIuc3ViYXJyYXkoNCkpKTtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBVaW50OEFycmF5LmZyb20odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgYnVmZmVyID0gdGhpcy5tZXJnZUJ1ZmZlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RJbmRleCA9IDA7XG4gICAgICAgIHZhciBmID0gbmV4dE5hbEhlYWRlcihidWZmZXIpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IGYoKTsgaW5kZXggIT0gbnVsbDsgaW5kZXggPSBmKCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBOQUxVXzEuZGVmYXVsdChidWZmZXIuc3ViYXJyYXkobGFzdEluZGV4ICsgNCwgaW5kZXgpKSk7XG4gICAgICAgICAgICBsYXN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlci5zdWJhcnJheShsYXN0SW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgVmlkZW9TdHJlYW1CdWZmZXIucHJvdG90eXBlLm1lcmdlQnVmZmVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXdCdWZmZXIgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoICsgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG5ld0J1ZmZlci5zZXQodGhpcy5idWZmZXIsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QnVmZmVyLnNldCh2YWx1ZSwgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3QnVmZmVyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVmlkZW9TdHJlYW1CdWZmZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVmlkZW9TdHJlYW1CdWZmZXI7XG4iLCIvKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCIvLyAncGF0aCcgbW9kdWxlIGV4dHJhY3RlZCBmcm9tIE5vZGUuanMgdjguMTEuMSAob25seSB0aGUgcG9zaXggcGFydClcbi8vIHRyYW5zcGxpdGVkIHdpdGggQmFiZWxcblxuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzZXJ0UGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkICcgKyBKU09OLnN0cmluZ2lmeShwYXRoKSk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIHdpdGggZGlyZWN0b3J5IG5hbWVzXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCkge1xuICB2YXIgcmVzID0gJyc7XG4gIHZhciBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gIHZhciBsYXN0U2xhc2ggPSAtMTtcbiAgdmFyIGRvdHMgPSAwO1xuICB2YXIgY29kZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcGF0aC5sZW5ndGg7ICsraSkge1xuICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIGVsc2UgaWYgKGNvZGUgPT09IDQ3IC8qLyovKVxuICAgICAgYnJlYWs7XG4gICAgZWxzZVxuICAgICAgY29kZSA9IDQ3IC8qLyovO1xuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAvLyBOT09QXG4gICAgICB9IGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHwgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiAvKi4qLyB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2IC8qLiovKSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCAhPT0gcmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMgPSAnLi4nO1xuICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgIHJlcyArPSAnLycgKyBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmVzID0gcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSBpIC0gbGFzdFNsYXNoIC0gMTtcbiAgICAgIH1cbiAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICBkb3RzID0gMDtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDQ2IC8qLiovICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICArK2RvdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvdHMgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gX2Zvcm1hdChzZXAsIHBhdGhPYmplY3QpIHtcbiAgdmFyIGRpciA9IHBhdGhPYmplY3QuZGlyIHx8IHBhdGhPYmplY3Qucm9vdDtcbiAgdmFyIGJhc2UgPSBwYXRoT2JqZWN0LmJhc2UgfHwgKHBhdGhPYmplY3QubmFtZSB8fCAnJykgKyAocGF0aE9iamVjdC5leHQgfHwgJycpO1xuICBpZiAoIWRpcikge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG4gIGlmIChkaXIgPT09IHBhdGhPYmplY3Qucm9vdCkge1xuICAgIHJldHVybiBkaXIgKyBiYXNlO1xuICB9XG4gIHJldHVybiBkaXIgKyBzZXAgKyBiYXNlO1xufVxuXG52YXIgcG9zaXggPSB7XG4gIC8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICB2YXIgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgdmFyIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICB2YXIgY3dkO1xuXG4gICAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgIHZhciBwYXRoO1xuICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgcGF0aCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoY3dkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKTtcbiAgICAgICAgcGF0aCA9IGN3ZDtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcblxuICAgIGlmIChyZXNvbHZlZEFic29sdXRlKSB7XG4gICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgIHJldHVybiAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfSBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcuJztcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiAnLic7XG5cbiAgICB2YXIgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyovKi87XG4gICAgdmFyIHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IDQ3IC8qLyovO1xuXG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsICFpc0Fic29sdXRlKTtcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCAmJiAhaXNBYnNvbHV0ZSkgcGF0aCA9ICcuJztcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHRyYWlsaW5nU2VwYXJhdG9yKSBwYXRoICs9ICcvJztcblxuICAgIGlmIChpc0Fic29sdXRlKSByZXR1cm4gJy8nICsgcGF0aDtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBpc0Fic29sdXRlOiBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHJldHVybiBwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgfSxcblxuICBqb2luOiBmdW5jdGlvbiBqb2luKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuICcuJztcbiAgICB2YXIgam9pbmVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgYXNzZXJ0UGF0aChhcmcpO1xuICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICBqb2luZWQgPSBhcmc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBqb2luZWQgKz0gJy8nICsgYXJnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gJy4nO1xuICAgIHJldHVybiBwb3NpeC5ub3JtYWxpemUoam9pbmVkKTtcbiAgfSxcblxuICByZWxhdGl2ZTogZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICBhc3NlcnRQYXRoKGZyb20pO1xuICAgIGFzc2VydFBhdGgodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICBmcm9tID0gcG9zaXgucmVzb2x2ZShmcm9tKTtcbiAgICB0byA9IHBvc2l4LnJlc29sdmUodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgdmFyIGZyb21TdGFydCA9IDE7XG4gICAgZm9yICg7IGZyb21TdGFydCA8IGZyb20ubGVuZ3RoOyArK2Zyb21TdGFydCkge1xuICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQpICE9PSA0NyAvKi8qLylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBmcm9tRW5kID0gZnJvbS5sZW5ndGg7XG4gICAgdmFyIGZyb21MZW4gPSBmcm9tRW5kIC0gZnJvbVN0YXJ0O1xuXG4gICAgLy8gVHJpbSBhbnkgbGVhZGluZyBiYWNrc2xhc2hlc1xuICAgIHZhciB0b1N0YXJ0ID0gMTtcbiAgICBmb3IgKDsgdG9TdGFydCA8IHRvLmxlbmd0aDsgKyt0b1N0YXJ0KSB7XG4gICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0KSAhPT0gNDcgLyovKi8pXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdG9FbmQgPSB0by5sZW5ndGg7XG4gICAgdmFyIHRvTGVuID0gdG9FbmQgLSB0b1N0YXJ0O1xuXG4gICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxuICAgIHZhciBsZW5ndGggPSBmcm9tTGVuIDwgdG9MZW4gPyBmcm9tTGVuIDogdG9MZW47XG4gICAgdmFyIGxhc3RDb21tb25TZXAgPSAtMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPD0gbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHRvTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGB0b2AuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXInOyB0bz0nL2Zvby9iYXIvYmF6J1xuICAgICAgICAgICAgcmV0dXJuIHRvLnNsaWNlKHRvU3RhcnQgKyBpICsgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvJzsgdG89Jy9mb28nXG4gICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmcm9tTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYGZyb21gLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyL2Jheic7IHRvPScvZm9vL2JhcidcbiAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgcm9vdC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vJzsgdG89Jy8nXG4gICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgZnJvbUNvZGUgPSBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSk7XG4gICAgICB2YXIgdG9Db2RlID0gdG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSk7XG4gICAgICBpZiAoZnJvbUNvZGUgIT09IHRvQ29kZSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gNDcgLyovKi8pXG4gICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYFxuICAgIC8vIGFuZCBgZnJvbWBcbiAgICBmb3IgKGkgPSBmcm9tU3RhcnQgKyBsYXN0Q29tbW9uU2VwICsgMTsgaSA8PSBmcm9tRW5kOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBmcm9tRW5kIHx8IGZyb20uY2hhckNvZGVBdChpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgaWYgKG91dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgb3V0ICs9ICcuLic7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvdXQgKz0gJy8uLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcbiAgICAvLyB0aGUgY29tbW9uIHBhdGggcGFydHNcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gb3V0ICsgdG8uc2xpY2UodG9TdGFydCArIGxhc3RDb21tb25TZXApO1xuICAgIGVsc2Uge1xuICAgICAgdG9TdGFydCArPSBsYXN0Q29tbW9uU2VwO1xuICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCkgPT09IDQ3IC8qLyovKVxuICAgICAgICArK3RvU3RhcnQ7XG4gICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCk7XG4gICAgfVxuICB9LFxuXG4gIF9tYWtlTG9uZzogZnVuY3Rpb24gX21ha2VMb25nKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBkaXJuYW1lOiBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcuJztcbiAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKSByZXR1cm4gJy8vJztcbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xuICB9LFxuXG4gIGJhc2VuYW1lOiBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGV4dCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaTtcblxuICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiBleHQubGVuZ3RoID4gMCAmJiBleHQubGVuZ3RoIDw9IHBhdGgubGVuZ3RoKSB7XG4gICAgICBpZiAoZXh0Lmxlbmd0aCA9PT0gcGF0aC5sZW5ndGggJiYgZXh0ID09PSBwYXRoKSByZXR1cm4gJyc7XG4gICAgICB2YXIgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgZmlyc3ROb25TbGFzaEVuZCA9IC0xO1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIHJlbWVtYmVyIHRoaXMgaW5kZXggaW4gY2FzZVxuICAgICAgICAgICAgLy8gd2UgbmVlZCBpdCBpZiB0aGUgZXh0ZW5zaW9uIGVuZHMgdXAgbm90IG1hdGNoaW5nXG4gICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGZpcnN0Tm9uU2xhc2hFbmQgPSBpICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4dElkeCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGV4cGxpY2l0IGV4dGVuc2lvblxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIGV4dGVuc2lvbiwgc28gbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBFeHRlbnNpb24gZG9lcyBub3QgbWF0Y2gsIHNvIG91ciByZXN1bHQgaXMgdGhlIGVudGlyZSBwYXRoXG4gICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICBleHRJZHggPSAtMTtcbiAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7ZWxzZSBpZiAoZW5kID09PSAtMSkgZW5kID0gcGF0aC5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAgIC8vIHBhdGggY29tcG9uZW50XG4gICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiAnJztcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSxcblxuICBleHRuYW1lOiBmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICB2YXIgcHJlRG90U3RhdGUgPSAwO1xuICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgfSxcblxuICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChwYXRoT2JqZWN0KSB7XG4gICAgaWYgKHBhdGhPYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIHBhdGhPYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHBhdGhPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gX2Zvcm1hdCgnLycsIHBhdGhPYmplY3QpO1xuICB9LFxuXG4gIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShwYXRoKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIHZhciByZXQgPSB7IHJvb3Q6ICcnLCBkaXI6ICcnLCBiYXNlOiAnJywgZXh0OiAnJywgbmFtZTogJycgfTtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiByZXQ7XG4gICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgdmFyIGlzQWJzb2x1dGUgPSBjb2RlID09PSA0NyAvKi8qLztcbiAgICB2YXIgc3RhcnQ7XG4gICAgaWYgKGlzQWJzb2x1dGUpIHtcbiAgICAgIHJldC5yb290ID0gJy8nO1xuICAgICAgc3RhcnQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTtcblxuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG5cbiAgICAvLyBHZXQgbm9uLWRpciBpbmZvXG4gICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSBzdGFydERvdCA9IGk7ZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHByZURvdFN0YXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICBpZiAoZW5kICE9PSAtMSkge1xuICAgICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKDEsIGVuZCk7ZWxzZSByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIHN0YXJ0RG90KTtcbiAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgIH1cblxuICAgIGlmIChzdGFydFBhcnQgPiAwKSByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtlbHNlIGlmIChpc0Fic29sdXRlKSByZXQuZGlyID0gJy8nO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSxcblxuICBzZXA6ICcvJyxcbiAgZGVsaW1pdGVyOiAnOicsXG4gIHdpbjMyOiBudWxsLFxuICBwb3NpeDogbnVsbFxufTtcblxucG9zaXgucG9zaXggPSBwb3NpeDtcblxubW9kdWxlLmV4cG9ydHMgPSBwb3NpeDtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMjAsMTFINy44M2w1LjU5LC01LjU5TDEyLDRsLTgsOCA4LDggMS40MSwtMS40MUw3LjgzLDEzSDIwdi0yelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xMiwyQzYuNDcsMiAyLDYuNDcgMiwxMnM0LjQ3LDEwIDEwLDEwIDEwLC00LjQ3IDEwLC0xMFMxNy41MywyIDEyLDJ6TTEyLDIwYy00LjQxLDAgLTgsLTMuNTkgLTgsLThzMy41OSwtOCA4LC04IDgsMy41OSA4LDggLTMuNTksOCAtOCw4ek0xNS41OSw3TDEyLDEwLjU5IDguNDEsNyA3LDguNDEgMTAuNTksMTIgNywxNS41OSA4LjQxLDE3IDEyLDEzLjQxIDE1LjU5LDE3IDE3LDE1LjU5IDEzLjQxLDEyIDE3LDguNDF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6c3ZnPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggc3R5bGU9XFxcImZpbGw6IzAwMDAwMFxcXCIgZD1cXFwibSAxMDcuNzI4MjQsOTcuNzEwMzIgYyAwLjQ1MTY2LC0wLjE5NjYxIDEuMTA2NSwtMC43NTc1IDEuNDU1MjEsLTEuMjQ2NDIgMC42MzMxNSwtMC44ODc3MyAwLjYzNDExLC0wLjkwMDM4IDAuNzA2ODQsLTkuMzU1NiAwLjA2NzIsLTcuODA5MjkgMC4wMzQ4LC04LjUzODU3IC0wLjQxNjQ1LC05LjM5MjcxIC0wLjY2MDExLC0xLjI0OTM2IC0yLjM4MTQ5LC0yLjExNjY3IC00LjIwMTA1LC0yLjExNjY3IC0xLjExNjY0LDAgLTEuNDQ1MjIsLTAuMTAzNDggLTEuNjcxNTcsLTAuNTI2NDMgLTAuOTE1NjcsLTEuNzEwOTMgLTQuODk0ODAyLC0xLjczNTc5IC01LjgwNDM1MiwtMC4wMzYzIC0wLjIwNDM0LDAuMzgxOCAtMC42NjgwMSwwLjUxOTE5IC0yLjA5NzQ4MiwwLjYyMTQ2IC0zLjI5MDUsMC4yMzU0NCAtNC4yNzA0NjQsMS40MzMyNCAtNC4yNzA0NjQsNS4yMTk3NyB2IDIuMzk0MzkgaCAtMS40NTEwNCBjIC0xLjIyOTAxLDAgLTEuNTgzMjQsMC4xMTgwNSAtMi4zMTUxLDAuNzcxNDkgbCAtMC44NjQwNywwLjc3MTQ5IC0wLjA5MDksMi45ODQyNiBjIC0wLjA3ODksMi41OTA3NSAtMC4wMzA1LDMuMDI4NDMgMC4zNjcyOCwzLjMxOTMgMC4zMjE5MSwwLjIzNTM4IDAuNjA0NzMsMC4yNTY2MiAwLjk1MDgyLDAuMDcxNCAwLjQyOTIxLC0wLjIyOTcxIDAuNDkyNjIsLTAuNTk4ODQgMC40OTI2MiwtMi44Njc3NyAwLC0xLjg5NjMyIDAuMDk5NiwtMi42ODY4MiAwLjM2NjU3LC0yLjkwODM2IDAuMjQ5MzMsLTAuMjA2OTIgMS42MjQ0OSwtMC4yODA3NSA0LjI5OTQ4NCwtMC4yMzA4MyBsIDMuOTMyOTEyLDAuMDczNCAwLjA3Miw1LjEyNTI1IGMgMC4wNTA3LDMuNjA5OTUgLTAuMDE5Miw1LjIzNTE0IC0wLjIzNjUyMiw1LjQ5Njk2IC0wLjI0NDU1LDAuMjk0NjYgLTEuMTA5NTQsMC4zNTY1OCAtNC4xNzMwMiwwLjI5ODcxIGwgLTMuODY0NTE0LC0wLjA3MyAtMC4zNzg0OCwtMC44NTk5IGMgLTAuMjY5MDUsLTAuNjExMjYgLTAuNTU0NDcsLTAuODU5ODkgLTAuOTg3MTUsLTAuODU5ODkgLTEuNDAzODUsMCAtMC44NTM4LDIuNTAxNjMgMC43MzAxNCwzLjMyMDcyIDAuNjYzNjMsMC4zNDMxOCAxLjU3OTE4LDAuNDA0MDEgNS4wNDQ5NTQsMC4zMzUyMSBsIDQuMjM0MTgyLC0wLjA4NDEgMC43NzE0LC0wLjg2NDA3IDAuNzcxNCwtMC44NjQwNyB2IC01LjQzMjkzIGMgMCwtNy4xNjY4NSAtMC4xODg2MywtNy41MjMzMSAtMy45ODExOTIsLTcuNTIzMzEgaCAtMS44Mzk2MyB2IC0yLjE5MDA4IGMgMCwtMi4zMzUxMyAwLjMyMzQxLC0zLjE4MTQ1IDEuMzE0ODIsLTMuNDQwNzEgMC40OTI4OCwtMC4xMjg4OSAwLjUzNzYsLTAuMDE2OSAwLjU0MTMyLDEuMzU2MDggMC4wMDIsMC44MjMxMiAwLjEwMDE4LDEuNjQ4MDYgMC4yMTc2OCwxLjgzMzE5IDAuMTYzNTYsMC4yNTc3MSAxLjQxODQ0LDAuMzE5NzMgNS4zNTM3NTQsMC4yNjQ1OSBsIDUuMTQwMTMsLTAuMDcyIDAuMDc4MiwtMS43ODU5NCBjIDAuMDQzLC0wLjk4MjI3IDAuMTQwMTYsLTEuNzg1OTQgMC4yMTU4NCwtMS43ODU5NCAwLjMxMDQ1LDAgMS4zMTUwNiwwLjY0Mzc4IDEuNjE1NzQsMS4wMzU0MSAwLjIzNjU5LDAuMzA4MTQgMC4zMjQ1NiwyLjU1MTg1IDAuMzMwNzMsOC40MzU0NyBsIDAuMDA4LDguMDE1NjggLTAuNjQ5NDMsMC42NDk0MyBjIC0wLjYwMjI2LDAuNjAyMjUgLTAuODQwMTUsMC42NDk0MyAtMy4yNzQ5LDAuNjQ5NDMgLTIuOTAxMzgsMCAtMy41MTc1NCwwLjI3MTUgLTIuOTYzODksMS4zMDYgMC4yNjY2LDAuNDk4MTUgMC41Mjk0NiwwLjU0NTE3IDIuOTk0OTIsMC41MzU3MyAxLjY2NjIzLC0wLjAwNiAzLjAxNzU5LC0wLjE0NzQ1IDMuNTIzODcsLTAuMzY3ODQgeiBNIDk3LjAzNjM1OCw3OC40NjAwNiBjIC0wLjA3OTQsLTAuOTU0OSAtMC4wNjAxLC0wLjk3NzA2IDAuOTIzODMsLTEuMDU4MzQgMC43NTk4NSwtMC4wNjI4IDEuMDI4NTYsLTAuMjEyMDYgMS4xMDE3NywtMC42MTIxNyAwLjE2MjU1LC0wLjg4ODQ1IDAuNTg3MjMsLTEuMTkwNjMgMS42NzMyNzIsLTEuMTkwNjMgMC45Mzc4NCwwIDEuMDc3MjYsMC4wOTA1IDEuNDI2MzYsMC45MjYwNCAwLjMxOTc1LDAuNzY1MjYgMC41MjQxMywwLjkyNjA1IDEuMTc3MTMsMC45MjYwNSAwLjc0NjQ2LDAgMC43OTAyLDAuMDU5IDAuNzkwMiwxLjA2NjAxIHYgMS4wNjYwMSBsIC0zLjUwNTczLC0wLjA3MzggLTMuNTA1NzIyLC0wLjA3MzggeiBtIC0xLjg4NDg2MiwxMy4zODg1NiBjIDAuMjUyMzgsLTAuMzA0MSAwLjI3MTUsLTAuNTM5OTggMC4wNjk3LC0wLjg1OTkgLTAuMjIxMiwtMC4zNTA2NiAtMC43MDUxNywtMC40NDA4NCAtMi4zNjU5MSwtMC40NDA4NCAtMS45OTkzMTQsMCAtMi4wOTE2MjQsMC4wMjY4IC0yLjE3NzEzNCwwLjYzMTU0IC0wLjEyMzAzLDAuODcwMTMgMC4zMzUwMSwxLjA3OTUgMi4zNzIwMTQsMS4wODQyIDEuMjgwOSwwLjAwMyAxLjg0NzI4LC0wLjEwODkgMi4xMDEzMiwtMC40MTUgeiBtIC0wLjAwOSwtMy40MjkxOSBjIDAuNjQ2NDQsLTAuNzc4OTIgLTAuMDA5LC0xLjMwMTI5IC0xLjc0NTk0LC0xLjM5MjEzIC0yLjI2NjA2NCwtMC4xMTg0OCAtMi44MTM0MDQsMC4wNzMzIC0yLjcxMjMwNCwwLjk1MDEyIDAuMDgxMSwwLjcwMzI4IDAuMTI1MDUsMC43MTk5OSAyLjA5MjMzNCwwLjc5NDkyIDEuNTk2ODMsMC4wNjA4IDIuMDgyNjksLTAuMDExNyAyLjM2NTkxLC0wLjM1MjkxIHpcXFwiIGlkPVxcXCJwYXRoMS02LTZcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAyOC44Njc0NzIgMjQuMzAzODA2XFxcIiB2ZXJzaW9uPVxcXCIxLjFcXFwiIGlkPVxcXCJzdmcxXFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnN2Zz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxkZWZzIGlkPVxcXCJkZWZzMVxcXCI+PC9kZWZzPjxnIGlkPVxcXCJsYXllcjFcXFwiIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKC04Mi45NDIyMjUsLTEwNy4wNjAwMylcXFwiPjxwYXRoIHN0eWxlPVxcXCJmaWxsOiMwMDAwMDBcXFwiIGQ9XFxcIm0gOTAuNzU3NDE4LDEzMC45OTUwMiBjIC0wLjQ1MTY2LC0wLjE5NjYxIC0xLjEwNjUsLTAuNzU3NSAtMS40NTUyMSwtMS4yNDY0MiAtMC42MzMxNSwtMC44ODc3MyAtMC42MzQxMSwtMC45MDAzOCAtMC43MDY4NCwtOS4zNTU2IC0wLjA2NzIsLTcuODA5MjkgLTAuMDM0OCwtOC41Mzg1NyAwLjQxNjQ1LC05LjM5MjcxIDAuNjYwMTEsLTEuMjQ5MzYgMi4zODE0OSwtMi4xMTY2NyA0LjIwMTA1LC0yLjExNjY3IDEuMTE2NjQsMCAxLjQ0NTIyLC0wLjEwMzQ4IDEuNjcxNTcsLTAuNTI2NDMgMC45MTU2NywtMS43MTA5MyA0Ljg5NDgsLTEuNzM1NzkgNS44MDQzNTIsLTAuMDM2MyAwLjIwNDM0LDAuMzgxOCAwLjY2ODAyLDAuNTE5MTkgMi4wOTc0OSwwLjYyMTQ2IDMuMjkwNSwwLjIzNTQ0IDQuMjcwNDYsMS40MzMyNCA0LjI3MDQ2LDUuMjE5NzcgdiAyLjM5NDM5IGggMS40NTEwNCBjIDEuMjI5MDEsMCAxLjU4MzI0LDAuMTE4MDUgMi4zMTUxLDAuNzcxNDkgbCAwLjg2NDA3LDAuNzcxNDkgMC4wOTA5LDIuOTg0MjYgYyAwLjA3ODksMi41OTA3NSAwLjAzMDUsMy4wMjg0MyAtMC4zNjcyOCwzLjMxOTMgLTAuMzIxOTEsMC4yMzUzOCAtMC42MDQ3MywwLjI1NjYyIC0wLjk1MDgyLDAuMDcxNCAtMC40MjkyMSwtMC4yMjk3MSAtMC40OTI2MiwtMC41OTg4NCAtMC40OTI2MiwtMi44Njc3NyAwLC0xLjg5NjMyIC0wLjA5OTYsLTIuNjg2ODIgLTAuMzY2NTcsLTIuOTA4MzYgLTAuMjQ5MzMsLTAuMjA2OTIgLTEuNjI0NDksLTAuMjgwNzUgLTQuMjk5NDgsLTAuMjMwODMgbCAtMy45MzI5MSwwLjA3MzQgLTAuMDcyLDUuMTI1MjUgYyAtMC4wNTA3LDMuNjA5OTUgMC4wMTkyLDUuMjM1MTQgMC4yMzY1Miw1LjQ5Njk2IDAuMjQ0NTUsMC4yOTQ2NiAxLjEwOTU0LDAuMzU2NTggNC4xNzMwMiwwLjI5ODcxIGwgMy44NjQ1MSwtMC4wNzMgMC4zNzg0OCwtMC44NTk5IGMgMC4yNjkwNSwtMC42MTEyNiAwLjU1NDQ3LC0wLjg1OTg5IDAuOTg3MTUsLTAuODU5ODkgMS40MDM4NSwwIDAuODUzOCwyLjUwMTYzIC0wLjczMDE0LDMuMzIwNzIgLTAuNjYzNjMsMC4zNDMxOCAtMS41NzkxOCwwLjQwNDAxIC01LjA0NDk1LDAuMzM1MjEgbCAtNC4yMzQxOCwtMC4wODQxIC0wLjc3MTQxLC0wLjg2NDA3IC0wLjc3MTQwMiwtMC44NjQwNyB2IC01LjQzMjkzIGMgMCwtNy4xNjY4NSAwLjE4ODYzLC03LjUyMzMxIDMuOTgxMjAyLC03LjUyMzMxIGggMS44Mzk2MyB2IC0yLjE5MDA4IGMgMCwtMi4zMzUxMyAtMC4zMjM0MSwtMy4xODE0NSAtMS4zMTQ4MiwtMy40NDA3MSAtMC40OTI4OCwtMC4xMjg4OSAtMC41Mzc2LC0wLjAxNjkgLTAuNTQxMzIsMS4zNTYwOCAtMC4wMDIsMC44MjMxMiAtMC4xMDAxOCwxLjY0ODA2IC0wLjIxNzY4LDEuODMzMTkgLTAuMTYzNTYsMC4yNTc3MSAtMS40MTg0NCwwLjMxOTczIC01LjM1Mzc2MiwwLjI2NDU5IGwgLTUuMTQwMTMsLTAuMDcyIC0wLjA3ODIsLTEuNzg1OTQgYyAtMC4wNDMsLTAuOTgyMjcgLTAuMTQwMTYsLTEuNzg1OTQgLTAuMjE1ODQsLTEuNzg1OTQgLTAuMzEwNDUsMCAtMS4zMTUwNiwwLjY0Mzc4IC0xLjYxNTc0LDEuMDM1NDEgLTAuMjM2NTksMC4zMDgxNCAtMC4zMjQ1NiwyLjU1MTg1IC0wLjMzMDczLDguNDM1NDcgbCAtMC4wMDgsOC4wMTU2OCAwLjY0OTQzLDAuNjQ5NDMgYyAwLjYwMjI2LDAuNjAyMjUgMC44NDAxNSwwLjY0OTQzIDMuMjc0OSwwLjY0OTQzIDIuOTAxMzgsMCAzLjUxNzU0LDAuMjcxNSAyLjk2Mzg5LDEuMzA2IC0wLjI2NjYsMC40OTgxNSAtMC41Mjk0NiwwLjU0NTE3IC0yLjk5NDkyLDAuNTM1NzMgLTEuNjY2MjMsLTAuMDA2IC0zLjAxNzU5LC0wLjE0NzQ1IC0zLjUyMzg3LC0wLjM2Nzg0IHogbSAxMC42OTE4OTIsLTE5LjI1MDI2IGMgMC4wNzk0LC0wLjk1NDkgMC4wNjAxLC0wLjk3NzA2IC0wLjkyMzg0LC0xLjA1ODM0IC0wLjc1OTg1MiwtMC4wNjI4IC0xLjAyODU2MiwtMC4yMTIwNiAtMS4xMDE3NzIsLTAuNjEyMTcgLTAuMTYyNTUsLTAuODg4NDUgLTAuNTg3MjMsLTEuMTkwNjMgLTEuNjczMjcsLTEuMTkwNjMgLTAuOTM3ODQsMCAtMS4wNzcyNiwwLjA5MDUgLTEuNDI2MzYsMC45MjYwNCAtMC4zMTk3NSwwLjc2NTI2IC0wLjUyNDEzLDAuOTI2MDUgLTEuMTc3MTMsMC45MjYwNSAtMC43NDY0NiwwIC0wLjc5MDIsMC4wNTkgLTAuNzkwMiwxLjA2NjAxIHYgMS4wNjYwMSBsIDMuNTA1NzMsLTAuMDczOCAzLjUwNTczMiwtMC4wNzM4IHogbSAxLjg4NDg2LDEzLjM4ODU2IGMgLTAuMjUyMzgsLTAuMzA0MSAtMC4yNzE1LC0wLjUzOTk4IC0wLjA2OTcsLTAuODU5OSAwLjIyMTIsLTAuMzUwNjYgMC43MDUxNywtMC40NDA4NCAyLjM2NTkxLC0wLjQ0MDg0IDEuOTk5MzEsMCAyLjA5MTYyLDAuMDI2OCAyLjE3NzEzLDAuNjMxNTQgMC4xMjMwMywwLjg3MDEzIC0wLjMzNTAxLDEuMDc5NSAtMi4zNzIwMSwxLjA4NDIgLTEuMjgwOSwwLjAwMyAtMS44NDcyOCwtMC4xMDg5IC0yLjEwMTMyLC0wLjQxNSB6IG0gMC4wMDksLTMuNDI5MTkgYyAtMC42NDY0NCwtMC43Nzg5MiAwLjAwOSwtMS4zMDEyOSAxLjc0NTk0LC0xLjM5MjEzIDIuMjY2MDYsLTAuMTE4NDggMi44MTM0LDAuMDczMyAyLjcxMjMsMC45NTAxMiAtMC4wODExLDAuNzAzMjggLTAuMTI1MDUsMC43MTk5OSAtMi4wOTIzMywwLjc5NDkyIC0xLjU5NjgzLDAuMDYwOCAtMi4wODI2OSwtMC4wMTE3IC0yLjM2NTkxLC0wLjM1MjkxIHpcXFwiIGlkPVxcXCJwYXRoMVxcXCI+PC9wYXRoPjxwYXRoIHN0eWxlPVxcXCJmaWxsOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNDQzNzg1XFxcIiBkPVxcXCJtIDg0Ljg5MDcyOCwxMjEuNTYyNDYgYyAtMS45MDY4MSwtMS45MDc1MyAtMS45NDg1LC0xLjk1NDU4IC0xLjk0ODUsLTIuMTk4NzYgMCwtMC4yNDQyMSAwLjA0MTQsLTAuMjkwOTUgMS45NTAxOCwtMi4xOTg5NiBsIDEuOTUwMTgsLTEuOTQ5NDQgMC41MjgzMSwwLjUzMTA4IDAuNTI4MzIsMC41MzEwNyAtMS4wODk5MiwxLjA5MTI1IC0xLjA4OTkyLDEuMDkxMjYgaCA0LjYzMDg4IDQuNjMwODggdiAwLjg3MzI5IDAuODczMjkgaCAtNC41ODQ3NiBjIC0yLjUyMTYyLDAgLTQuNTg0NzcsMC4wMjA4IC00LjU4NDc3LDAuMDQ2MSAwLDAuMDI1NCAwLjQ3NzMzLDAuNTI0MDYgMS4wNjA3NSwxLjEwODE4IGwgMS4wNjA3NCwxLjA2MjA1IC0wLjU0NjkzLDAuNTQ0NCAtMC41NDY5MywwLjU0NDQgelxcXCIgaWQ9XFxcInBhdGgyXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDI4Ljg2NzQ1NiAyNC4zMDM3OTlcXFwiIHZlcnNpb249XFxcIjEuMVxcXCIgaWQ9XFxcInN2ZzFcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6c3ZnPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PGRlZnMgaWQ9XFxcImRlZnMxXFxcIj48L2RlZnM+PGcgaWQ9XFxcImxheWVyMVxcXCIgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoLTg1LjE3MzM1NywtMTQwLjM0NDcyKVxcXCI+PHBhdGggc3R5bGU9XFxcImZpbGw6IzAwMDAwMFxcXCIgZD1cXFwibSAxMDYuMjI1NjIsMTY0LjI3OTcyIGMgMC40NTE2NiwtMC4xOTY2MSAxLjEwNjUsLTAuNzU3NSAxLjQ1NTIxLC0xLjI0NjQyIDAuNjMzMTUsLTAuODg3NzMgMC42MzQxMSwtMC45MDAzOCAwLjcwNjg0LC05LjM1NTYgMC4wNjcyLC03LjgwOTI5IDAuMDM0OCwtOC41Mzg1NyAtMC40MTY0NSwtOS4zOTI3MSAtMC42NjAxMSwtMS4yNDkzNiAtMi4zODE0OSwtMi4xMTY2NyAtNC4yMDEwNSwtMi4xMTY2NyAtMS4xMTY2NCwwIC0xLjQ0NTIyLC0wLjEwMzQ4IC0xLjY3MTU3LC0wLjUyNjQzIC0wLjkxNTY3LC0xLjcxMDkzIC00Ljg5NDgsLTEuNzM1NzkgLTUuODA0MzUsLTAuMDM2MyAtMC4yMDQzNCwwLjM4MTggLTAuNjY4MDEsMC41MTkxOSAtMi4wOTc0OCwwLjYyMTQ2IC0zLjI5MDUsMC4yMzU0NCAtNC4yNzA0NjQsMS40MzMyNCAtNC4yNzA0NjQsNS4yMTk3NyB2IDIuMzk0MzkgaCAtMS40NTEwNCBjIC0xLjIyOTAxLDAgLTEuNTgzMjQsMC4xMTgwNSAtMi4zMTUxLDAuNzcxNDkgbCAtMC44NjQwNywwLjc3MTQ5IC0wLjA5MDksMi45ODQyNiBjIC0wLjA3ODksMi41OTA3NSAtMC4wMzA1LDMuMDI4NDMgMC4zNjcyOCwzLjMxOTMgMC4zMjE5MSwwLjIzNTM4IDAuNjA0NzMsMC4yNTY2MiAwLjk1MDgyLDAuMDcxNCAwLjQyOTIxLC0wLjIyOTcxIDAuNDkyNjIsLTAuNTk4ODQgMC40OTI2MiwtMi44Njc3NyAwLC0xLjg5NjMyIDAuMDk5NiwtMi42ODY4MiAwLjM2NjU3LC0yLjkwODM2IDAuMjQ5MzMsLTAuMjA2OTIgMS42MjQ0OSwtMC4yODA3NSA0LjI5OTQ4NCwtMC4yMzA4MyBsIDMuOTMyOTEsMC4wNzM0IDAuMDcyLDUuMTI1MjUgYyAwLjA1MDcsMy42MDk5NSAtMC4wMTkyLDUuMjM1MTQgLTAuMjM2NTIsNS40OTY5NiAtMC4yNDQ1NSwwLjI5NDY2IC0xLjEwOTU0LDAuMzU2NTggLTQuMTczMDIsMC4yOTg3MSBsIC0zLjg2NDUxNCwtMC4wNzMgLTAuMzc4NDgsLTAuODU5OSBjIC0wLjI2OTA1LC0wLjYxMTI2IC0wLjU1NDQ3LC0wLjg1OTg5IC0wLjk4NzE1LC0wLjg1OTg5IC0xLjQwMzg1LDAgLTAuODUzOCwyLjUwMTYzIDAuNzMwMTQsMy4zMjA3MiAwLjY2MzYzLDAuMzQzMTggMS41NzkxOCwwLjQwNDAxIDUuMDQ0OTU0LDAuMzM1MjEgbCA0LjIzNDE4LC0wLjA4NDEgMC43NzE0LC0wLjg2NDA3IDAuNzcxNCwtMC44NjQwNyB2IC01LjQzMjkzIGMgMCwtNy4xNjY4NSAtMC4xODg2MywtNy41MjMzMSAtMy45ODExOSwtNy41MjMzMSBoIC0xLjgzOTYzIHYgLTIuMTkwMDggYyAwLC0yLjMzNTEzIDAuMzIzNDEsLTMuMTgxNDUgMS4zMTQ4MiwtMy40NDA3MSAwLjQ5Mjg4LC0wLjEyODg5IDAuNTM3NiwtMC4wMTY5IDAuNTQxMzIsMS4zNTYwOCAwLjAwMiwwLjgyMzEyIDAuMTAwMTgsMS42NDgwNiAwLjIxNzY4LDEuODMzMTkgMC4xNjM1NiwwLjI1NzcxIDEuNDE4NDQsMC4zMTk3MyA1LjM1Mzc1LDAuMjY0NTkgbCA1LjE0MDEzLC0wLjA3MiAwLjA3ODIsLTEuNzg1OTQgYyAwLjA0MywtMC45ODIyNyAwLjE0MDE2LC0xLjc4NTk0IDAuMjE1ODQsLTEuNzg1OTQgMC4zMTA0NSwwIDEuMzE1MDYsMC42NDM3OCAxLjYxNTc0LDEuMDM1NDEgMC4yMzY1OSwwLjMwODE0IDAuMzI0NTYsMi41NTE4NSAwLjMzMDczLDguNDM1NDcgbCAwLjAwOCw4LjAxNTY4IC0wLjY0OTQzLDAuNjQ5NDMgYyAtMC42MDIyNiwwLjYwMjI1IC0wLjg0MDE1LDAuNjQ5NDMgLTMuMjc0OSwwLjY0OTQzIC0yLjkwMTM4LDAgLTMuNTE3NTQsMC4yNzE1IC0yLjk2Mzg5LDEuMzA2IDAuMjY2NiwwLjQ5ODE1IDAuNTI5NDYsMC41NDUxNyAyLjk5NDkyLDAuNTM1NzMgMS42NjYyMywtMC4wMDYgMy4wMTc1OSwtMC4xNDc0NSAzLjUyMzg3LC0wLjM2Nzg0IHogTSA5NS41MzM3NCwxNDUuMDI5NDYgYyAtMC4wNzk0LC0wLjk1NDkgLTAuMDYwMSwtMC45NzcwNiAwLjkyMzgzLC0xLjA1ODM0IDAuNzU5ODUsLTAuMDYyOCAxLjAyODU2LC0wLjIxMjA2IDEuMTAxNzcsLTAuNjEyMTcgMC4xNjI1NSwtMC44ODg0NSAwLjU4NzIzLC0xLjE5MDYzIDEuNjczMjcsLTEuMTkwNjMgMC45Mzc4NCwwIDEuMDc3MjYsMC4wOTA1IDEuNDI2MzYsMC45MjYwNCAwLjMxOTc1LDAuNzY1MjYgMC41MjQxMywwLjkyNjA1IDEuMTc3MTMsMC45MjYwNSAwLjc0NjQ2LDAgMC43OTAyLDAuMDU5IDAuNzkwMiwxLjA2NjAxIHYgMS4wNjYwMSBsIC0zLjUwNTczLC0wLjA3MzggLTMuNTA1NzIsLTAuMDczOCB6IG0gLTEuODg0ODYsMTMuMzg4NTYgYyAwLjI1MjM4LC0wLjMwNDEgMC4yNzE1LC0wLjUzOTk4IDAuMDY5NywtMC44NTk5IC0wLjIyMTIsLTAuMzUwNjYgLTAuNzA1MTcsLTAuNDQwODQgLTIuMzY1OTEsLTAuNDQwODQgLTEuOTk5MzE0LDAgLTIuMDkxNjI0LDAuMDI2OCAtMi4xNzcxMzQsMC42MzE1NCAtMC4xMjMwMywwLjg3MDEzIDAuMzM1MDEsMS4wNzk1IDIuMzcyMDE0LDEuMDg0MiAxLjI4MDksMC4wMDMgMS44NDcyOCwtMC4xMDg5IDIuMTAxMzIsLTAuNDE1IHogbSAtMC4wMDksLTMuNDI5MTkgYyAwLjY0NjQ0LC0wLjc3ODkyIC0wLjAwOSwtMS4zMDEyOSAtMS43NDU5NCwtMS4zOTIxMyAtMi4yNjYwNjQsLTAuMTE4NDggLTIuODEzNDA0LDAuMDczMyAtMi43MTIzMDQsMC45NTAxMiAwLjA4MTEsMC43MDMyOCAwLjEyNTA1LDAuNzE5OTkgMi4wOTIzMzQsMC43OTQ5MiAxLjU5NjgzLDAuMDYwOCAyLjA4MjY5LC0wLjAxMTcgMi4zNjU5MSwtMC4zNTI5MSB6XFxcIiBpZD1cXFwicGF0aDEtNlxcXCI+PC9wYXRoPjxwYXRoIHN0eWxlPVxcXCJmaWxsOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNDQzNzg1XFxcIiBkPVxcXCJtIDExMi4wOTIzMSwxNTQuODQ3MTYgYyAxLjkwNjgxLC0xLjkwNzUzIDEuOTQ4NSwtMS45NTQ1OCAxLjk0ODUsLTIuMTk4NzYgMCwtMC4yNDQyMSAtMC4wNDE0LC0wLjI5MDk1IC0xLjk1MDE4LC0yLjE5ODk2IGwgLTEuOTUwMTgsLTEuOTQ5NDQgLTAuNTI4MzEsMC41MzEwOCAtMC41MjgzMiwwLjUzMTA3IDEuMDg5OTIsMS4wOTEyNSAxLjA4OTkyLDEuMDkxMjYgaCAtNC42MzA4OCAtNC42MzA4OCB2IDAuODczMjkgMC44NzMyOSBoIDQuNTg0NzYgYyAyLjUyMTYyLDAgNC41ODQ3NywwLjAyMDggNC41ODQ3NywwLjA0NjEgMCwwLjAyNTQgLTAuNDc3MzMsMC41MjQwNiAtMS4wNjA3NSwxLjEwODE4IGwgLTEuMDYwNzQsMS4wNjIwNSAwLjU0NjkzLDAuNTQ0NCAwLjU0NjkzLDAuNTQ0NCB6XFxcIiBpZD1cXFwicGF0aDItN1xcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMywxOGgxOHYtMkwzLDE2djJ6TTMsMTNoMTh2LTJMMywxMXYyek0zLDZ2MmgxOEwyMSw2TDMsNnpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMTIsMi4wMmMtNS41MSwwIC05Ljk4LDQuNDcgLTkuOTgsOS45OHM0LjQ3LDkuOTggOS45OCw5Ljk4IDkuOTgsLTQuNDcgOS45OCwtOS45OFMxNy41MSwyLjAyIDEyLDIuMDJ6TTEyLDE5Ljk4Yy00LjQsMCAtNy45OCwtMy41OCAtNy45OCwtNy45OFM3LjYsNC4wMiAxMiw0LjAyIDE5Ljk4LDcuNiAxOS45OCwxMiAxNi40LDE5Ljk4IDEyLDE5Ljk4ek0xMi43NSw1bC00LjUsOC41aDMuMTRMMTEuMzksMTlsNC4zNiwtOC41aC0zelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xNy42NSw2LjM1QzE2LjIsNC45IDE0LjIxLDQgMTIsNGMtNC40MiwwIC03Ljk5LDMuNTggLTcuOTksOHMzLjU3LDggNy45OSw4YzMuNzMsMCA2Ljg0LC0yLjU1IDcuNzMsLTZoLTIuMDhjLTAuODIsMi4zMyAtMy4wNCw0IC01LjY1LDQgLTMuMzEsMCAtNiwtMi42OSAtNiwtNnMyLjY5LC02IDYsLTZjMS42NiwwIDMuMTQsMC42OSA0LjIyLDEuNzhMMTMsMTFoN1Y0bC0yLjM1LDIuMzV6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTE5LjQzLDEyLjk4YzAuMDQsLTAuMzIgMC4wNywtMC42NCAwLjA3LC0wLjk4IDAsLTAuMzQgLTAuMDMsLTAuNjYgLTAuMDcsLTAuOThsMi4xMSwtMS42NWMwLjE5LC0wLjE1IDAuMjQsLTAuNDIgMC4xMiwtMC42NGwtMiwtMy40NmMtMC4wOSwtMC4xNiAtMC4yNiwtMC4yNSAtMC40NCwtMC4yNSAtMC4wNiwwIC0wLjEyLDAuMDEgLTAuMTcsMC4wM2wtMi40OSwxYy0wLjUyLC0wLjQgLTEuMDgsLTAuNzMgLTEuNjksLTAuOThsLTAuMzgsLTIuNjVDMTQuNDYsMi4xOCAxNC4yNSwyIDE0LDJoLTRjLTAuMjUsMCAtMC40NiwwLjE4IC0wLjQ5LDAuNDJsLTAuMzgsMi42NWMtMC42MSwwLjI1IC0xLjE3LDAuNTkgLTEuNjksMC45OGwtMi40OSwtMWMtMC4wNiwtMC4wMiAtMC4xMiwtMC4wMyAtMC4xOCwtMC4wMyAtMC4xNywwIC0wLjM0LDAuMDkgLTAuNDMsMC4yNWwtMiwzLjQ2Yy0wLjEzLDAuMjIgLTAuMDcsMC40OSAwLjEyLDAuNjRsMi4xMSwxLjY1Yy0wLjA0LDAuMzIgLTAuMDcsMC42NSAtMC4wNywwLjk4IDAsMC4zMyAwLjAzLDAuNjYgMC4wNywwLjk4bC0yLjExLDEuNjVjLTAuMTksMC4xNSAtMC4yNCwwLjQyIC0wLjEyLDAuNjRsMiwzLjQ2YzAuMDksMC4xNiAwLjI2LDAuMjUgMC40NCwwLjI1IDAuMDYsMCAwLjEyLC0wLjAxIDAuMTcsLTAuMDNsMi40OSwtMWMwLjUyLDAuNCAxLjA4LDAuNzMgMS42OSwwLjk4bDAuMzgsMi42NWMwLjAzLDAuMjQgMC4yNCwwLjQyIDAuNDksMC40Mmg0YzAuMjUsMCAwLjQ2LC0wLjE4IDAuNDksLTAuNDJsMC4zOCwtMi42NWMwLjYxLC0wLjI1IDEuMTcsLTAuNTkgMS42OSwtMC45OGwyLjQ5LDFjMC4wNiwwLjAyIDAuMTIsMC4wMyAwLjE4LDAuMDMgMC4xNywwIDAuMzQsLTAuMDkgMC40MywtMC4yNWwyLC0zLjQ2YzAuMTIsLTAuMjIgMC4wNywtMC40OSAtMC4xMiwtMC42NGwtMi4xMSwtMS42NXpNMTcuNDUsMTEuMjdjMC4wNCwwLjMxIDAuMDUsMC41MiAwLjA1LDAuNzMgMCwwLjIxIC0wLjAyLDAuNDMgLTAuMDUsMC43M2wtMC4xNCwxLjEzIDAuODksMC43IDEuMDgsMC44NCAtMC43LDEuMjEgLTEuMjcsLTAuNTEgLTEuMDQsLTAuNDIgLTAuOSwwLjY4Yy0wLjQzLDAuMzIgLTAuODQsMC41NiAtMS4yNSwwLjczbC0xLjA2LDAuNDMgLTAuMTYsMS4xMyAtMC4yLDEuMzVoLTEuNGwtMC4xOSwtMS4zNSAtMC4xNiwtMS4xMyAtMS4wNiwtMC40M2MtMC40MywtMC4xOCAtMC44MywtMC40MSAtMS4yMywtMC43MWwtMC45MSwtMC43IC0xLjA2LDAuNDMgLTEuMjcsMC41MSAtMC43LC0xLjIxIDEuMDgsLTAuODQgMC44OSwtMC43IC0wLjE0LC0xLjEzYy0wLjAzLC0wLjMxIC0wLjA1LC0wLjU0IC0wLjA1LC0wLjc0czAuMDIsLTAuNDMgMC4wNSwtMC43M2wwLjE0LC0xLjEzIC0wLjg5LC0wLjcgLTEuMDgsLTAuODQgMC43LC0xLjIxIDEuMjcsMC41MSAxLjA0LDAuNDIgMC45LC0wLjY4YzAuNDMsLTAuMzIgMC44NCwtMC41NiAxLjI1LC0wLjczbDEuMDYsLTAuNDMgMC4xNiwtMS4xMyAwLjIsLTEuMzVoMS4zOWwwLjE5LDEuMzUgMC4xNiwxLjEzIDEuMDYsMC40M2MwLjQzLDAuMTggMC44MywwLjQxIDEuMjMsMC43MWwwLjkxLDAuNyAxLjA2LC0wLjQzIDEuMjcsLTAuNTEgMC43LDEuMjEgLTEuMDcsMC44NSAtMC44OSwwLjcgMC4xNCwxLjEzek0xMiw4Yy0yLjIxLDAgLTQsMS43OSAtNCw0czEuNzksNCA0LDQgNCwtMS43OSA0LC00IC0xLjc5LC00IC00LC00ek0xMiwxNGMtMS4xLDAgLTIsLTAuOSAtMiwtMnMwLjksLTIgMiwtMiAyLDAuOSAyLDIgLTAuOSwyIC0yLDJ6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTE3LDdIN2MtMi43NiwwIC01LDIuMjQgLTUsNXMyLjI0LDUgNSw1aDEwYzIuNzYsMCA1LC0yLjI0IDUsLTVzLTIuMjQsLTUgLTUsLTV6TTcsMTVjLTEuNjYsMCAtMywtMS4zNCAtMywtM3MxLjM0LC0zIDMsLTMgMywxLjM0IDMsMyAtMS4zNCwzIC0zLDN6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTE3LDdMNyw3Yy0yLjc2LDAgLTUsMi4yNCAtNSw1czIuMjQsNSA1LDVoMTBjMi43NiwwIDUsLTIuMjQgNSwtNXMtMi4yNCwtNSAtNSwtNXpNMTcsMTVjLTEuNjYsMCAtMywtMS4zNCAtMywtM3MxLjM0LC0zIDMsLTMgMywxLjM0IDMsMyAtMS4zNCwzIC0zLDN6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgNDggNDhcXFwiIHZlcnNpb249XFxcIjEuMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeG1sbnM6c2tldGNoPVxcXCJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnNcXFwiPjx0aXRsZT5BcnRib2FyZCAxPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZGVmcz48L2RlZnM+PGcgaWQ9XFxcIlBhZ2UtMVxcXCIgc3Ryb2tlPVxcXCJub25lXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgc2tldGNoOnR5cGU9XFxcIk1TUGFnZVxcXCI+PGcgaWQ9XFxcIkFydGJvYXJkLTFcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU0FydGJvYXJkR3JvdXBcXFwiPjxnIGlkPVxcXCJTeXN0ZW1fQmFja1xcXCIgc2tldGNoOnR5cGU9XFxcIk1TTGF5ZXJHcm91cFxcXCI+PGcgaWQ9XFxcIlBhZ2UtMVxcXCIgc2tldGNoOnR5cGU9XFxcIk1TU2hhcGVHcm91cFxcXCI+PGcgaWQ9XFxcIlN5c3RlbV9CYWNrXFxcIj48ZyBpZD1cXFwiUmVjdGFuZ2xlLTExOC0rLWJhY2stMTItQ29weS0xMVxcXCI+PHJlY3QgaWQ9XFxcIlJlY3RhbmdsZS0xMThcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjBcXFwiIHdpZHRoPVxcXCI0OFxcXCIgaGVpZ2h0PVxcXCI0OFxcXCI+PC9yZWN0PjxwYXRoIGQ9XFxcIk0zNi43MDg4NDczLDEwLjk0OTQ3NjUgTDM2LjcwODg0NzgsMzcuNjM0OTY4OCBDMzYuNzA4ODQ3OCwzOS40MDM5NDk4IDM1LjQ4MjA4NDQsNDAuMDk0OTExNSAzMy45NjQ2NTA4LDM5LjE3NTc2NDcgTDEyLjEzNzM3OTUsMjUuOTU0NDQ5NyBDMTAuNjIxODAxMywyNS4wMzY0MjY3IDEwLjYxOTk0NTksMjMuNTQ5MTQxNCAxMi4xMzczNzk0LDIyLjYyOTk5NDYgTDMzLjk2NDY1MDMsOS40MDg2ODA1NCBDMzUuNDgwMjI4NCw4LjQ5MDY1NzYzIDM2LjcwODg0NzMsOS4xNjgzNTUxMSAzNi43MDg4NDczLDEwLjk0OTQ3NjUgWiBNMzMuNTA4ODQ4MiwxMy40MzA1MjM3IEwzMy41MDg4NDgyLDM1LjEzMDUyNDUgTDE1LjUwODg0ODIsMjQuMjgwNTI0MSBMMzMuNTA4ODQ4MiwxMy40MzA1MjM3IFpcXFwiIGlkPVxcXCJTaGFwZVxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCI+PC9wYXRoPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDQ4IDQ4XFxcIiB2ZXJzaW9uPVxcXCIxLjFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHhtbG5zOnNrZXRjaD1cXFwiaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zXFxcIj48dGl0bGU+U3lzdGVtX0hvbWU8L3RpdGxlPjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPjxkZWZzPjwvZGVmcz48ZyBpZD1cXFwiUGFnZS0xXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNQYWdlXFxcIj48ZyBpZD1cXFwiU3lzdGVtX0hvbWVcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU0FydGJvYXJkR3JvdXBcXFwiPjxnIGlkPVxcXCJSZWN0YW5nbGUtMTE5LSstaG9tZS0xMi1Db3B5LTExXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNMYXllckdyb3VwXFxcIj48cmVjdCBpZD1cXFwiUmVjdGFuZ2xlLTExOVxcXCIgc2tldGNoOnR5cGU9XFxcIk1TU2hhcGVHcm91cFxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiMFxcXCIgd2lkdGg9XFxcIjQ4XFxcIiBoZWlnaHQ9XFxcIjQ4XFxcIj48L3JlY3Q+PHBhdGggZD1cXFwiTTI0LDM1LjIgTDI0LDM1LjIgQzMwLjE4NTU4OTIsMzUuMiAzNS4yLDMwLjE4NTU4OTIgMzUuMiwyNCBDMzUuMiwxNy44MTQ0MTA4IDMwLjE4NTU4OTIsMTIuOCAyNCwxMi44IEMxNy44MTQ0MTA4LDEyLjggMTIuOCwxNy44MTQ0MTA4IDEyLjgsMjQgQzEyLjgsMzAuMTg1NTg5MiAxNy44MTQ0MTA4LDM1LjIgMjQsMzUuMiBMMjQsMzUuMiBaIE0yNCwzOC40IEwyNCwzOC40IEMxNi4wNDcwOTk2LDM4LjQgOS42LDMxLjk1MjkwMDQgOS42LDI0IEM5LjYsMTYuMDQ3MDk5NiAxNi4wNDcwOTk2LDkuNiAyNCw5LjYgQzMxLjk1MjkwMDQsOS42IDM4LjQsMTYuMDQ3MDk5NiAzOC40LDI0IEMzOC40LDMxLjk1MjkwMDQgMzEuOTUyOTAwNCwzOC40IDI0LDM4LjQgTDI0LDM4LjQgWlxcXCIgaWQ9XFxcIlNoYXBlXFxcIiBmaWxsPVxcXCJ2YXIoLS1zdmctYnV0dG9uLWZpbGwpXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNTaGFwZUdyb3VwXFxcIj48L3BhdGg+PC9nPjwvZz48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgNDggNDhcXFwiIHZlcnNpb249XFxcIjEuMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeG1sbnM6c2tldGNoPVxcXCJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnNcXFwiPjx0aXRsZT5TeXN0ZW1fT3ZlcnZpZXc8L3RpdGxlPjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPjxkZWZzPjwvZGVmcz48ZyBpZD1cXFwiUGFnZS0xXFxcIiBzdHJva2U9XFxcIm5vbmVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNQYWdlXFxcIj48ZyBpZD1cXFwiU3lzdGVtX092ZXJ2aWV3XFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNBcnRib2FyZEdyb3VwXFxcIj48ZyBpZD1cXFwiUmVjdGFuZ2xlLTEyMC0rLXJlY2VudC0xMi1Db3B5LTExXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNMYXllckdyb3VwXFxcIj48cmVjdCBpZD1cXFwiUmVjdGFuZ2xlLTEyMFxcXCIgc2tldGNoOnR5cGU9XFxcIk1TU2hhcGVHcm91cFxcXCIgeD1cXFwiMFxcXCIgeT1cXFwiMFxcXCIgd2lkdGg9XFxcIjQ4XFxcIiBoZWlnaHQ9XFxcIjQ4XFxcIj48L3JlY3Q+PHBhdGggZD1cXFwiTTEyLjc5MjE0MjksMTIuOCBMMTIuNzkyMTQyOSwxMi44IEMxMi43OTU5OTQ1LDEyLjggMTIuOCwxMi43OTU5OTU0IDEyLjgsMTIuNzkyMTQyOSBMMTIuOCwzNS4yMDc4NTcxIEMxMi44LDM1LjIwNDAwNTUgMTIuNzk1OTk1NCwzNS4yIDEyLjc5MjE0MjksMzUuMiBMMzUuMjA3ODU3MSwzNS4yIEMzNS4yMDQwMDU1LDM1LjIgMzUuMiwzNS4yMDQwMDQ2IDM1LjIsMzUuMjA3ODU3MSBMMzUuMiwxMi43OTIxNDI5IEMzNS4yLDEyLjc5NTk5NDUgMzUuMjA0MDA0NiwxMi44IDM1LjIwNzg1NzEsMTIuOCBMMTIuNzkyMTQyOSwxMi44IFogTTEyLjc5MjE0MjksOS42IEwxMi43OTIxNDI5LDkuNiBMMzUuMjA3ODU3MSw5LjYgQzM2Ljk3MTgwMzUsOS42IDM4LjQsMTEuMDI5MTcxIDM4LjQsMTIuNzkyMTQyOSBMMzguNCwzNS4yMDc4NTcxIEMzOC40LDM2Ljk3MTgwMzUgMzYuOTcwODI5LDM4LjQgMzUuMjA3ODU3MSwzOC40IEwxMi43OTIxNDI5LDM4LjQgQzExLjAyODE5NjUsMzguNCA5LjYsMzYuOTcwODI5IDkuNiwzNS4yMDc4NTcxIEw5LjYsMTIuNzkyMTQyOSBDOS42LDExLjAyODE5NjUgMTEuMDI5MTcxLDkuNiAxMi43OTIxNDI5LDkuNiBMMTIuNzkyMTQyOSw5LjYgWlxcXCIgaWQ9XFxcIlNoYXBlXFxcIiBmaWxsPVxcXCJ2YXIoLS1zdmctYnV0dG9uLWZpbGwpXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNTaGFwZUdyb3VwXFxcIj48L3BhdGg+PC9nPjwvZz48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCI+PHBhdGggZD1cXFwiTTQwIDEwSDhjLTIuMjEgMC0zLjk4IDEuNzktMy45OCA0TDQgMzRjMCAyLjIxIDEuNzkgNCA0IDRoMzJjMi4yMSAwIDQtMS43OSA0LTRWMTRjMC0yLjIxLTEuNzktNC00LTR6bS0xOCA2aDR2NGgtNHYtNHptMCA2aDR2NGgtNHYtNHptLTYtNmg0djRoLTR2LTR6bTAgNmg0djRoLTR2LTR6bS0yIDRoLTR2LTRoNHY0em0wLTZoLTR2LTRoNHY0em0xOCAxNEgxNnYtNGgxNnY0em0wLThoLTR2LTRoNHY0em0wLTZoLTR2LTRoNHY0em02IDZoLTR2LTRoNHY0em0wLTZoLTR2LTRoNHY0elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoNDh2NDhIMHptMCAwaDQ4djQ4SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCI+PHBhdGggZD1cXFwiTTAgMGg0OHY0OEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMiAyMGMtMi4yMSAwLTQgMS43OS00IDRzMS43OSA0IDQgNCA0LTEuNzkgNC00LTEuNzktNC00LTR6bTI0IDBjLTIuMjEgMC00IDEuNzktNCA0czEuNzkgNCA0IDQgNC0xLjc5IDQtNC0xLjc5LTQtNC00em0tMTIgMGMtMi4yMSAwLTQgMS43OS00IDRzMS43OSA0IDQgNCA0LTEuNzkgNC00LTEuNzktNC00LTR6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCI+PGNpcmNsZSBjeD1cXFwiMjRcXFwiIGN5PVxcXCIyNFxcXCIgcj1cXFwiNi40XFxcIj48L2NpcmNsZT48cGF0aCBkPVxcXCJNMTggNGwtMy42NiA0SDhjLTIuMjEgMC00IDEuNzktNCA0djI0YzAgMi4yMSAxLjc5IDQgNCA0aDMyYzIuMjEgMCA0LTEuNzkgNC00VjEyYzAtMi4yMS0xLjc5LTQtNC00aC02LjM0TDMwIDRIMTh6bTYgMzBjLTUuNTIgMC0xMC00LjQ4LTEwLTEwczQuNDgtMTAgMTAtMTAgMTAgNC40OCAxMCAxMC00LjQ4IDEwLTEwIDEwelxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoNDh2NDhIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDQ4IDQ4XFxcIj48cGF0aCBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMCAwaDQ4djQ4SDB6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTI2IDZoLTR2MjBoNFY2em05LjY3IDQuMzNsLTIuODMgMi44M0MzNS45OCAxNS43MyAzOCAxOS42MiAzOCAyNGMwIDcuNzMtNi4yNyAxNC0xNCAxNHMtMTQtNi4yNy0xNC0xNGMwLTQuMzggMi4wMi04LjI3IDUuMTYtMTAuODRsLTIuODMtMi44M0M4LjQ3IDEzLjYzIDYgMTguNTIgNiAyNGMwIDkuOTQgOC4wNiAxOCAxOCAxOHMxOC04LjA2IDE4LTE4YzAtNS40OC0yLjQ3LTEwLjM3LTYuMzMtMTMuNjd6XFxcIiBmaWxsPVxcXCJ2YXIoLS1zdmctYnV0dG9uLWZpbGwpXFxcIiBzdHJva2U9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDQ4IDQ4XFxcIj48cGF0aCBkPVxcXCJNMzcgMjRjMC0zLjUzLTIuMDQtNi41OC01LTguMDV2MTYuMTFjMi45Ni0xLjQ4IDUtNC41MyA1LTguMDZ6bS0yNy02djEyaDhsMTAgMTBWOEwxOCAxOGgtOHpcXFwiIGZpbGw9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiIHN0cm9rZT1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoNDh2NDhIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDQ4IDQ4XFxcIj48cGF0aCBkPVxcXCJNNiAxOHYxMmg4bDEwIDEwVjhMMTQgMThINnptMjcgNmMwLTMuNTMtMi4wNC02LjU4LTUtOC4wNXYxNi4xMWMyLjk2LTEuNDggNS00LjUzIDUtOC4wNnpNMjggNi40NnY0LjEzYzUuNzggMS43MiAxMCA3LjA3IDEwIDEzLjQxcy00LjIyIDExLjY5LTEwIDEzLjQxdjQuMTNjOC4wMS0xLjgyIDE0LTguOTcgMTQtMTcuNTRTMzYuMDEgOC4yOCAyOCA2LjQ2elxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCIgc3Ryb2tlPVxcXCJ2YXIoLS1zdmctYnV0dG9uLWZpbGwpXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGg0OHY0OEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwiLy8gQ29weXJpZ2h0IChjKSAyMDExLCBDaHJpcyBVbWJlbFxuXG52YXIgZ2xvYmFsID0gKEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKSgpO1xuXG5leHBvcnRzLlZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XG5nbG9iYWwuJFYgPSBleHBvcnRzLlZlY3Rvci5jcmVhdGU7XG5leHBvcnRzLk1hdHJpeCA9IHJlcXVpcmUoJy4vbWF0cml4Jyk7XG5nbG9iYWwuJE0gPSBleHBvcnRzLk1hdHJpeC5jcmVhdGU7XG5leHBvcnRzLkxpbmUgPSByZXF1aXJlKCcuL2xpbmUnKTtcbmdsb2JhbC4kTCA9IGV4cG9ydHMuTGluZS5jcmVhdGU7XG5leHBvcnRzLlBsYW5lID0gcmVxdWlyZSgnLi9wbGFuZScpO1xuZ2xvYmFsLiRQID0gZXhwb3J0cy5QbGFuZS5jcmVhdGU7XG5leHBvcnRzLkxpbmUuU2VnbWVudCA9IHJlcXVpcmUoJy4vbGluZS5zZWdtZW50Jyk7XG5leHBvcnRzLlN5bHZlc3RlciA9IHJlcXVpcmUoJy4vc3lsdmVzdGVyJyk7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTEsIENocmlzIFVtYmVsLCBKYW1lcyBDb2dsYW5cbnZhciBWZWN0b3IgPSByZXF1aXJlKCcuL3ZlY3RvcicpO1xudmFyIE1hdHJpeCA9IHJlcXVpcmUoJy4vbWF0cml4Jyk7XG52YXIgUGxhbmUgPSByZXF1aXJlKCcuL3BsYW5lJyk7XG52YXIgU3lsdmVzdGVyID0gcmVxdWlyZSgnLi9zeWx2ZXN0ZXInKTtcblxuLy8gTGluZSBjbGFzcyAtIGRlcGVuZHMgb24gVmVjdG9yLCBhbmQgc29tZSBtZXRob2RzIHJlcXVpcmUgTWF0cml4IGFuZCBQbGFuZS5cblxuZnVuY3Rpb24gTGluZSgpIHt9XG5MaW5lLnByb3RvdHlwZSA9IHtcblxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGFyZ3VtZW50IG9jY3VwaWVzIHRoZSBzYW1lIHNwYWNlIGFzIHRoZSBsaW5lXG4gIGVxbDogZnVuY3Rpb24obGluZSkge1xuICAgIHJldHVybiAodGhpcy5pc1BhcmFsbGVsVG8obGluZSkgJiYgdGhpcy5jb250YWlucyhsaW5lLmFuY2hvcikpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBsaW5lXG4gIGR1cDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIExpbmUuY3JlYXRlKHRoaXMuYW5jaG9yLCB0aGlzLmRpcmVjdGlvbik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRyYW5zbGF0aW5nIHRoZSBsaW5lIGJ5IHRoZSBnaXZlbiB2ZWN0b3IvYXJyYXlcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICB2YXIgViA9IHZlY3Rvci5lbGVtZW50cyB8fCB2ZWN0b3I7XG4gICAgcmV0dXJuIExpbmUuY3JlYXRlKFtcbiAgICAgIHRoaXMuYW5jaG9yLmVsZW1lbnRzWzBdICsgVlswXSxcbiAgICAgIHRoaXMuYW5jaG9yLmVsZW1lbnRzWzFdICsgVlsxXSxcbiAgICAgIHRoaXMuYW5jaG9yLmVsZW1lbnRzWzJdICsgKFZbMl0gfHwgMClcbiAgICBdLCB0aGlzLmRpcmVjdGlvbik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBsaW5lIGlzIHBhcmFsbGVsIHRvIHRoZSBhcmd1bWVudC4gSGVyZSwgJ3BhcmFsbGVsIHRvJ1xuICAvLyBtZWFucyB0aGF0IHRoZSBhcmd1bWVudCdzIGRpcmVjdGlvbiBpcyBlaXRoZXIgcGFyYWxsZWwgb3IgYW50aXBhcmFsbGVsIHRvXG4gIC8vIHRoZSBsaW5lJ3Mgb3duIGRpcmVjdGlvbi4gQSBsaW5lIGlzIHBhcmFsbGVsIHRvIGEgcGxhbmUgaWYgdGhlIHR3byBkbyBub3RcbiAgLy8gaGF2ZSBhIHVuaXF1ZSBpbnRlcnNlY3Rpb24uXG4gIGlzUGFyYWxsZWxUbzogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iai5ub3JtYWwgfHwgKG9iai5zdGFydCAmJiBvYmouZW5kKSkgeyByZXR1cm4gb2JqLmlzUGFyYWxsZWxUbyh0aGlzKTsgfVxuICAgIHZhciB0aGV0YSA9IHRoaXMuZGlyZWN0aW9uLmFuZ2xlRnJvbShvYmouZGlyZWN0aW9uKTtcbiAgICByZXR1cm4gKE1hdGguYWJzKHRoZXRhKSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoZXRhIC0gTWF0aC5QSSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgbGluZSdzIHBlcnBlbmRpY3VsYXIgZGlzdGFuY2UgZnJvbSB0aGUgYXJndW1lbnQsXG4gIC8vIHdoaWNoIGNhbiBiZSBhIHBvaW50LCBhIGxpbmUgb3IgYSBwbGFuZVxuICBkaXN0YW5jZUZyb206IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmoubm9ybWFsIHx8IChvYmouc3RhcnQgJiYgb2JqLmVuZCkpIHsgcmV0dXJuIG9iai5kaXN0YW5jZUZyb20odGhpcyk7IH1cbiAgICBpZiAob2JqLmRpcmVjdGlvbikge1xuICAgICAgLy8gb2JqIGlzIGEgbGluZVxuICAgICAgaWYgKHRoaXMuaXNQYXJhbGxlbFRvKG9iaikpIHsgcmV0dXJuIHRoaXMuZGlzdGFuY2VGcm9tKG9iai5hbmNob3IpOyB9XG4gICAgICB2YXIgTiA9IHRoaXMuZGlyZWN0aW9uLmNyb3NzKG9iai5kaXJlY3Rpb24pLnRvVW5pdFZlY3RvcigpLmVsZW1lbnRzO1xuICAgICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgQiA9IG9iai5hbmNob3IuZWxlbWVudHM7XG4gICAgICByZXR1cm4gTWF0aC5hYnMoKEFbMF0gLSBCWzBdKSAqIE5bMF0gKyAoQVsxXSAtIEJbMV0pICogTlsxXSArIChBWzJdIC0gQlsyXSkgKiBOWzJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb2JqIGlzIGEgcG9pbnRcbiAgICAgIHZhciBQID0gb2JqLmVsZW1lbnRzIHx8IG9iajtcbiAgICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIEQgPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICAgIHZhciBQQTEgPSBQWzBdIC0gQVswXSwgUEEyID0gUFsxXSAtIEFbMV0sIFBBMyA9IChQWzJdIHx8IDApIC0gQVsyXTtcbiAgICAgIHZhciBtb2RQQSA9IE1hdGguc3FydChQQTEqUEExICsgUEEyKlBBMiArIFBBMypQQTMpO1xuICAgICAgaWYgKG1vZFBBID09PSAwKSByZXR1cm4gMDtcbiAgICAgIC8vIEFzc3VtZXMgZGlyZWN0aW9uIHZlY3RvciBpcyBub3JtYWxpemVkXG4gICAgICB2YXIgY29zVGhldGEgPSAoUEExICogRFswXSArIFBBMiAqIERbMV0gKyBQQTMgKiBEWzJdKSAvIG1vZFBBO1xuICAgICAgdmFyIHNpbjIgPSAxIC0gY29zVGhldGEqY29zVGhldGE7XG4gICAgICByZXR1cm4gTWF0aC5hYnMobW9kUEEgKiBNYXRoLnNxcnQoc2luMiA8IDAgPyAwIDogc2luMikpO1xuICAgIH1cbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBhcmd1bWVudCBpcyBhIHBvaW50IG9uIHRoZSBsaW5lLCBvciBpZiB0aGUgYXJndW1lbnRcbiAgLy8gaXMgYSBsaW5lIHNlZ21lbnQgbHlpbmcgd2l0aGluIHRoZSByZWNlaXZlclxuICBjb250YWluczogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iai5zdGFydCAmJiBvYmouZW5kKSB7IHJldHVybiB0aGlzLmNvbnRhaW5zKG9iai5zdGFydCkgJiYgdGhpcy5jb250YWlucyhvYmouZW5kKTsgfVxuICAgIHZhciBkaXN0ID0gdGhpcy5kaXN0YW5jZUZyb20ob2JqKTtcbiAgICByZXR1cm4gKGRpc3QgIT09IG51bGwgJiYgZGlzdCA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBhbmNob3Igb2YgdGhlIGdpdmVuIHBvaW50LiBOZWdhdGl2ZSB2YWx1ZXMgYXJlXG4gIC8vIHJldHVybmVkIGZvciBwb2ludHMgdGhhdCBhcmUgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0byB0aGUgbGluZSdzIGRpcmVjdGlvbiBmcm9tXG4gIC8vIHRoZSBsaW5lJ3MgYW5jaG9yIHBvaW50LlxuICBwb3NpdGlvbk9mOiBmdW5jdGlvbihwb2ludCkge1xuICAgIGlmICghdGhpcy5jb250YWlucyhwb2ludCkpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB2YXIgUCA9IHBvaW50LmVsZW1lbnRzIHx8IHBvaW50O1xuICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIEQgPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICByZXR1cm4gKFBbMF0gLSBBWzBdKSAqIERbMF0gKyAoUFsxXSAtIEFbMV0pICogRFsxXSArICgoUFsyXSB8fCAwKSAtIEFbMl0pICogRFsyXTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBsaW5lIGxpZXMgaW4gdGhlIGdpdmVuIHBsYW5lXG4gIGxpZXNJbjogZnVuY3Rpb24ocGxhbmUpIHtcbiAgICByZXR1cm4gcGxhbmUuY29udGFpbnModGhpcyk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgbGluZSBoYXMgYSB1bmlxdWUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uIHdpdGggdGhlIGFyZ3VtZW50XG4gIGludGVyc2VjdHM6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmoubm9ybWFsKSB7IHJldHVybiBvYmouaW50ZXJzZWN0cyh0aGlzKTsgfVxuICAgIHJldHVybiAoIXRoaXMuaXNQYXJhbGxlbFRvKG9iaikgJiYgdGhpcy5kaXN0YW5jZUZyb20ob2JqKSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSB1bmlxdWUgaW50ZXJzZWN0aW9uIHBvaW50IHdpdGggdGhlIGFyZ3VtZW50LCBpZiBvbmUgZXhpc3RzXG4gIGludGVyc2VjdGlvbldpdGg6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmoubm9ybWFsIHx8IChvYmouc3RhcnQgJiYgb2JqLmVuZCkpIHsgcmV0dXJuIG9iai5pbnRlcnNlY3Rpb25XaXRoKHRoaXMpOyB9XG4gICAgaWYgKCF0aGlzLmludGVyc2VjdHMob2JqKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHZhciBQID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIFggPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cyxcbiAgICAgICAgUSA9IG9iai5hbmNob3IuZWxlbWVudHMsIFkgPSBvYmouZGlyZWN0aW9uLmVsZW1lbnRzO1xuICAgIHZhciBYMSA9IFhbMF0sIFgyID0gWFsxXSwgWDMgPSBYWzJdLCBZMSA9IFlbMF0sIFkyID0gWVsxXSwgWTMgPSBZWzJdO1xuICAgIHZhciBQc3ViUTEgPSBQWzBdIC0gUVswXSwgUHN1YlEyID0gUFsxXSAtIFFbMV0sIFBzdWJRMyA9IFBbMl0gLSBRWzJdO1xuICAgIHZhciBYZG90UXN1YlAgPSAtIFgxKlBzdWJRMSAtIFgyKlBzdWJRMiAtIFgzKlBzdWJRMztcbiAgICB2YXIgWWRvdFBzdWJRID0gWTEqUHN1YlExICsgWTIqUHN1YlEyICsgWTMqUHN1YlEzO1xuICAgIHZhciBYZG90WCA9IFgxKlgxICsgWDIqWDIgKyBYMypYMztcbiAgICB2YXIgWWRvdFkgPSBZMSpZMSArIFkyKlkyICsgWTMqWTM7XG4gICAgdmFyIFhkb3RZID0gWDEqWTEgKyBYMipZMiArIFgzKlkzO1xuICAgIHZhciBrID0gKFhkb3RRc3ViUCAqIFlkb3RZIC8gWGRvdFggKyBYZG90WSAqIFlkb3RQc3ViUSkgLyAoWWRvdFkgLSBYZG90WSAqIFhkb3RZKTtcbiAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbUFswXSArIGsqWDEsIFBbMV0gKyBrKlgyLCBQWzJdICsgaypYM10pO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHBvaW50IG9uIHRoZSBsaW5lIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgZ2l2ZW4gcG9pbnQgb3IgbGluZS9saW5lIHNlZ21lbnRcbiAgcG9pbnRDbG9zZXN0VG86IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmouc3RhcnQgJiYgb2JqLmVuZCkge1xuICAgICAgLy8gb2JqIGlzIGEgbGluZSBzZWdtZW50XG4gICAgICB2YXIgUCA9IG9iai5wb2ludENsb3Nlc3RUbyh0aGlzKTtcbiAgICAgIHJldHVybiAoUCA9PT0gbnVsbCkgPyBudWxsIDogdGhpcy5wb2ludENsb3Nlc3RUbyhQKTtcbiAgICB9IGVsc2UgaWYgKG9iai5kaXJlY3Rpb24pIHtcbiAgICAgIC8vIG9iaiBpcyBhIGxpbmVcbiAgICAgIGlmICh0aGlzLmludGVyc2VjdHMob2JqKSkgeyByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25XaXRoKG9iaik7IH1cbiAgICAgIGlmICh0aGlzLmlzUGFyYWxsZWxUbyhvYmopKSB7IHJldHVybiBudWxsOyB9XG4gICAgICB2YXIgRCA9IHRoaXMuZGlyZWN0aW9uLmVsZW1lbnRzLCBFID0gb2JqLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICAgIHZhciBEMSA9IERbMF0sIEQyID0gRFsxXSwgRDMgPSBEWzJdLCBFMSA9IEVbMF0sIEUyID0gRVsxXSwgRTMgPSBFWzJdO1xuICAgICAgLy8gQ3JlYXRlIHBsYW5lIGNvbnRhaW5pbmcgb2JqIGFuZCB0aGUgc2hhcmVkIG5vcm1hbCBhbmQgaW50ZXJzZWN0IHRoaXMgd2l0aCBpdFxuICAgICAgLy8gVGhhbmsgeW91OiBodHRwOi8vd3d3LmNnYWZhcS5pbmZvL3dpa2kvTGluZS1saW5lX2Rpc3RhbmNlXG4gICAgICB2YXIgeCA9IChEMyAqIEUxIC0gRDEgKiBFMyksIHkgPSAoRDEgKiBFMiAtIEQyICogRTEpLCB6ID0gKEQyICogRTMgLSBEMyAqIEUyKTtcbiAgICAgIHZhciBOID0gW3ggKiBFMyAtIHkgKiBFMiwgeSAqIEUxIC0geiAqIEUzLCB6ICogRTIgLSB4ICogRTFdO1xuICAgICAgdmFyIFAgPSBQbGFuZS5jcmVhdGUob2JqLmFuY2hvciwgTik7XG4gICAgICByZXR1cm4gUC5pbnRlcnNlY3Rpb25XaXRoKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvYmogaXMgYSBwb2ludFxuICAgICAgdmFyIFAgPSBvYmouZWxlbWVudHMgfHwgb2JqO1xuICAgICAgaWYgKHRoaXMuY29udGFpbnMoUCkpIHsgcmV0dXJuIFZlY3Rvci5jcmVhdGUoUCk7IH1cbiAgICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIEQgPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICAgIHZhciBEMSA9IERbMF0sIEQyID0gRFsxXSwgRDMgPSBEWzJdLCBBMSA9IEFbMF0sIEEyID0gQVsxXSwgQTMgPSBBWzJdO1xuICAgICAgdmFyIHggPSBEMSAqIChQWzFdLUEyKSAtIEQyICogKFBbMF0tQTEpLCB5ID0gRDIgKiAoKFBbMl0gfHwgMCkgLSBBMykgLSBEMyAqIChQWzFdLUEyKSxcbiAgICAgICAgICB6ID0gRDMgKiAoUFswXS1BMSkgLSBEMSAqICgoUFsyXSB8fCAwKSAtIEEzKTtcbiAgICAgIHZhciBWID0gVmVjdG9yLmNyZWF0ZShbRDIgKiB4IC0gRDMgKiB6LCBEMyAqIHkgLSBEMSAqIHgsIEQxICogeiAtIEQyICogeV0pO1xuICAgICAgdmFyIGsgPSB0aGlzLmRpc3RhbmNlRnJvbShQKSAvIFYubW9kdWx1cygpO1xuICAgICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW1xuICAgICAgICBQWzBdICsgVi5lbGVtZW50c1swXSAqIGssXG4gICAgICAgIFBbMV0gKyBWLmVsZW1lbnRzWzFdICogayxcbiAgICAgICAgKFBbMl0gfHwgMCkgKyBWLmVsZW1lbnRzWzJdICoga1xuICAgICAgXSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBsaW5lIHJvdGF0ZWQgYnkgdCByYWRpYW5zIGFib3V0IHRoZSBnaXZlbiBsaW5lLiBXb3JrcyBieVxuICAvLyBmaW5kaW5nIHRoZSBhcmd1bWVudCdzIGNsb3Nlc3QgcG9pbnQgdG8gdGhpcyBsaW5lJ3MgYW5jaG9yIHBvaW50IChjYWxsIHRoaXMgQykgYW5kXG4gIC8vIHJvdGF0aW5nIHRoZSBhbmNob3IgYWJvdXQgQy4gQWxzbyByb3RhdGVzIHRoZSBsaW5lJ3MgZGlyZWN0aW9uIGFib3V0IHRoZSBhcmd1bWVudCdzLlxuICAvLyBCZSBjYXJlZnVsIHdpdGggdGhpcyAtIHRoZSByb3RhdGlvbiBheGlzJyBkaXJlY3Rpb24gYWZmZWN0cyB0aGUgb3V0Y29tZSFcbiAgcm90YXRlOiBmdW5jdGlvbih0LCBsaW5lKSB7XG4gICAgLy8gSWYgd2UncmUgd29ya2luZyBpbiAyRFxuICAgIGlmICh0eXBlb2YobGluZS5kaXJlY3Rpb24pID09ICd1bmRlZmluZWQnKSB7IGxpbmUgPSBMaW5lLmNyZWF0ZShsaW5lLnRvM0QoKSwgVmVjdG9yLmspOyB9XG4gICAgdmFyIFIgPSBNYXRyaXguUm90YXRpb24odCwgbGluZS5kaXJlY3Rpb24pLmVsZW1lbnRzO1xuICAgIHZhciBDID0gbGluZS5wb2ludENsb3Nlc3RUbyh0aGlzLmFuY2hvcikuZWxlbWVudHM7XG4gICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgRCA9IHRoaXMuZGlyZWN0aW9uLmVsZW1lbnRzO1xuICAgIHZhciBDMSA9IENbMF0sIEMyID0gQ1sxXSwgQzMgPSBDWzJdLCBBMSA9IEFbMF0sIEEyID0gQVsxXSwgQTMgPSBBWzJdO1xuICAgIHZhciB4ID0gQTEgLSBDMSwgeSA9IEEyIC0gQzIsIHogPSBBMyAtIEMzO1xuICAgIHJldHVybiBMaW5lLmNyZWF0ZShbXG4gICAgICBDMSArIFJbMF1bMF0gKiB4ICsgUlswXVsxXSAqIHkgKyBSWzBdWzJdICogeixcbiAgICAgIEMyICsgUlsxXVswXSAqIHggKyBSWzFdWzFdICogeSArIFJbMV1bMl0gKiB6LFxuICAgICAgQzMgKyBSWzJdWzBdICogeCArIFJbMl1bMV0gKiB5ICsgUlsyXVsyXSAqIHpcbiAgICBdLCBbXG4gICAgICBSWzBdWzBdICogRFswXSArIFJbMF1bMV0gKiBEWzFdICsgUlswXVsyXSAqIERbMl0sXG4gICAgICBSWzFdWzBdICogRFswXSArIFJbMV1bMV0gKiBEWzFdICsgUlsxXVsyXSAqIERbMl0sXG4gICAgICBSWzJdWzBdICogRFswXSArIFJbMl1bMV0gKiBEWzFdICsgUlsyXVsyXSAqIERbMl1cbiAgICBdKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbGluZSB3aXRoIGl0cyBkaXJlY3Rpb24gdmVjdG9yIHJldmVyc2VkLlxuICAvLyBVc2VmdWwgd2hlbiB1c2luZyBsaW5lcyBmb3Igcm90YXRpb25zLlxuICByZXZlcnNlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTGluZS5jcmVhdGUodGhpcy5hbmNob3IsIHRoaXMuZGlyZWN0aW9uLngoLTEpKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBsaW5lJ3MgcmVmbGVjdGlvbiBpbiB0aGUgZ2l2ZW4gcG9pbnQgb3IgbGluZVxuICByZWZsZWN0aW9uSW46IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmoubm9ybWFsKSB7XG4gICAgICAvLyBvYmogaXMgYSBwbGFuZVxuICAgICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgRCA9IHRoaXMuZGlyZWN0aW9uLmVsZW1lbnRzO1xuICAgICAgdmFyIEExID0gQVswXSwgQTIgPSBBWzFdLCBBMyA9IEFbMl0sIEQxID0gRFswXSwgRDIgPSBEWzFdLCBEMyA9IERbMl07XG4gICAgICB2YXIgbmV3QSA9IHRoaXMuYW5jaG9yLnJlZmxlY3Rpb25JbihvYmopLmVsZW1lbnRzO1xuICAgICAgLy8gQWRkIHRoZSBsaW5lJ3MgZGlyZWN0aW9uIHZlY3RvciB0byBpdHMgYW5jaG9yLCB0aGVuIG1pcnJvciB0aGF0IGluIHRoZSBwbGFuZVxuICAgICAgdmFyIEFEMSA9IEExICsgRDEsIEFEMiA9IEEyICsgRDIsIEFEMyA9IEEzICsgRDM7XG4gICAgICB2YXIgUSA9IG9iai5wb2ludENsb3Nlc3RUbyhbQUQxLCBBRDIsIEFEM10pLmVsZW1lbnRzO1xuICAgICAgdmFyIG5ld0QgPSBbUVswXSArIChRWzBdIC0gQUQxKSAtIG5ld0FbMF0sIFFbMV0gKyAoUVsxXSAtIEFEMikgLSBuZXdBWzFdLCBRWzJdICsgKFFbMl0gLSBBRDMpIC0gbmV3QVsyXV07XG4gICAgICByZXR1cm4gTGluZS5jcmVhdGUobmV3QSwgbmV3RCk7XG4gICAgfSBlbHNlIGlmIChvYmouZGlyZWN0aW9uKSB7XG4gICAgICAvLyBvYmogaXMgYSBsaW5lIC0gcmVmbGVjdGlvbiBvYnRhaW5lZCBieSByb3RhdGluZyBQSSByYWRpYW5zIGFib3V0IG9ialxuICAgICAgcmV0dXJuIHRoaXMucm90YXRlKE1hdGguUEksIG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBvaW50IC0ganVzdCByZWZsZWN0IHRoZSBsaW5lJ3MgYW5jaG9yIGluIGl0XG4gICAgICB2YXIgUCA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG4gICAgICByZXR1cm4gTGluZS5jcmVhdGUodGhpcy5hbmNob3IucmVmbGVjdGlvbkluKFtQWzBdLCBQWzFdLCAoUFsyXSB8fCAwKV0pLCB0aGlzLmRpcmVjdGlvbik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFNldCB0aGUgbGluZSdzIGFuY2hvciBwb2ludCBhbmQgZGlyZWN0aW9uLlxuICBzZXRWZWN0b3JzOiBmdW5jdGlvbihhbmNob3IsIGRpcmVjdGlvbikge1xuICAgIC8vIE5lZWQgdG8gZG8gdGhpcyBzbyB0aGF0IGxpbmUncyBwcm9wZXJ0aWVzIGFyZSBub3RcbiAgICAvLyByZWZlcmVuY2VzIHRvIHRoZSBhcmd1bWVudHMgcGFzc2VkIGluXG4gICAgYW5jaG9yID0gVmVjdG9yLmNyZWF0ZShhbmNob3IpO1xuICAgIGRpcmVjdGlvbiA9IFZlY3Rvci5jcmVhdGUoZGlyZWN0aW9uKTtcbiAgICBpZiAoYW5jaG9yLmVsZW1lbnRzLmxlbmd0aCA9PSAyKSB7YW5jaG9yLmVsZW1lbnRzLnB1c2goMCk7IH1cbiAgICBpZiAoZGlyZWN0aW9uLmVsZW1lbnRzLmxlbmd0aCA9PSAyKSB7IGRpcmVjdGlvbi5lbGVtZW50cy5wdXNoKDApOyB9XG4gICAgaWYgKGFuY2hvci5lbGVtZW50cy5sZW5ndGggPiAzIHx8IGRpcmVjdGlvbi5lbGVtZW50cy5sZW5ndGggPiAzKSB7IHJldHVybiBudWxsOyB9XG4gICAgdmFyIG1vZCA9IGRpcmVjdGlvbi5tb2R1bHVzKCk7XG4gICAgaWYgKG1vZCA9PT0gMCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gVmVjdG9yLmNyZWF0ZShbXG4gICAgICBkaXJlY3Rpb24uZWxlbWVudHNbMF0gLyBtb2QsXG4gICAgICBkaXJlY3Rpb24uZWxlbWVudHNbMV0gLyBtb2QsXG4gICAgICBkaXJlY3Rpb24uZWxlbWVudHNbMl0gLyBtb2RcbiAgICBdKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuLy8gQ29uc3RydWN0b3IgZnVuY3Rpb25cbkxpbmUuY3JlYXRlID0gZnVuY3Rpb24oYW5jaG9yLCBkaXJlY3Rpb24pIHtcbiAgdmFyIEwgPSBuZXcgTGluZSgpO1xuICByZXR1cm4gTC5zZXRWZWN0b3JzKGFuY2hvciwgZGlyZWN0aW9uKTtcbn07XG5cbi8vIEF4ZXNcbkxpbmUuWCA9IExpbmUuY3JlYXRlKFZlY3Rvci5aZXJvKDMpLCBWZWN0b3IuaSk7XG5MaW5lLlkgPSBMaW5lLmNyZWF0ZShWZWN0b3IuWmVybygzKSwgVmVjdG9yLmopO1xuTGluZS5aID0gTGluZS5jcmVhdGUoVmVjdG9yLlplcm8oMyksIFZlY3Rvci5rKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMaW5lO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDExLCBDaHJpcyBVbWJlbCwgSmFtZXMgQ29nbGFuXG4vLyBMaW5lLlNlZ21lbnQgY2xhc3MgLSBkZXBlbmRzIG9uIExpbmUgYW5kIGl0cyBkZXBlbmRlbmNpZXMuXG5cbnZhciBMaW5lID0gcmVxdWlyZSgnLi9saW5lJyk7XG52YXIgVmVjdG9yID0gcmVxdWlyZSgnLi92ZWN0b3InKTtcblxuTGluZS5TZWdtZW50ID0gZnVuY3Rpb24oKSB7fTtcbkxpbmUuU2VnbWVudC5wcm90b3R5cGUgPSB7XG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgbGluZSBzZWdtZW50IGlzIGVxdWFsIHRvIHRoZSBhcmd1bWVudFxuICBlcWw6IGZ1bmN0aW9uKHNlZ21lbnQpIHtcbiAgICByZXR1cm4gKHRoaXMuc3RhcnQuZXFsKHNlZ21lbnQuc3RhcnQpICYmIHRoaXMuZW5kLmVxbChzZWdtZW50LmVuZCkpIHx8XG4gICAgICAgICh0aGlzLnN0YXJ0LmVxbChzZWdtZW50LmVuZCkgJiYgdGhpcy5lbmQuZXFsKHNlZ21lbnQuc3RhcnQpKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbGluZSBzZWdtZW50XG4gIGR1cDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIExpbmUuU2VnbWVudC5jcmVhdGUodGhpcy5zdGFydCwgdGhpcy5lbmQpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgbGluZSBzZWdtZW50XG4gIGxlbmd0aDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIEEgPSB0aGlzLnN0YXJ0LmVsZW1lbnRzLCBCID0gdGhpcy5lbmQuZWxlbWVudHM7XG4gICAgdmFyIEMxID0gQlswXSAtIEFbMF0sIEMyID0gQlsxXSAtIEFbMV0sIEMzID0gQlsyXSAtIEFbMl07XG4gICAgcmV0dXJuIE1hdGguc3FydChDMSpDMSArIEMyKkMyICsgQzMqQzMpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIGxpbmUgc2VnbWVudCBhcyBhIHZlY3RvciBlcXVhbCB0byBpdHNcbiAgLy8gZW5kIHBvaW50IHJlbGF0aXZlIHRvIGl0cyBlbmRwb2ludFxuICB0b1ZlY3RvcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIEEgPSB0aGlzLnN0YXJ0LmVsZW1lbnRzLCBCID0gdGhpcy5lbmQuZWxlbWVudHM7XG4gICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW0JbMF0gLSBBWzBdLCBCWzFdIC0gQVsxXSwgQlsyXSAtIEFbMl1dKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBzZWdtZW50J3MgbWlkcG9pbnQgYXMgYSB2ZWN0b3JcbiAgbWlkcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBBID0gdGhpcy5zdGFydC5lbGVtZW50cywgQiA9IHRoaXMuZW5kLmVsZW1lbnRzO1xuICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKFsoQlswXSArIEFbMF0pLzIsIChCWzFdICsgQVsxXSkvMiwgKEJbMl0gKyBBWzJdKS8yXSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgcGxhbmUgdGhhdCBiaXNlY3RzIHRoZSBzZWdtZW50XG4gIGJpc2VjdGluZ1BsYW5lOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gUGxhbmUuY3JlYXRlKHRoaXMubWlkcG9pbnQoKSwgdGhpcy50b1ZlY3RvcigpKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdHJhbnNsYXRpbmcgdGhlIGxpbmUgYnkgdGhlIGdpdmVuIHZlY3Rvci9hcnJheVxuICB0cmFuc2xhdGU6IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgIHZhciBWID0gdmVjdG9yLmVsZW1lbnRzIHx8IHZlY3RvcjtcbiAgICB2YXIgUyA9IHRoaXMuc3RhcnQuZWxlbWVudHMsIEUgPSB0aGlzLmVuZC5lbGVtZW50cztcbiAgICByZXR1cm4gTGluZS5TZWdtZW50LmNyZWF0ZShcbiAgICAgIFtTWzBdICsgVlswXSwgU1sxXSArIFZbMV0sIFNbMl0gKyAoVlsyXSB8fCAwKV0sXG4gICAgICBbRVswXSArIFZbMF0sIEVbMV0gKyBWWzFdLCBFWzJdICsgKFZbMl0gfHwgMCldXG4gICAgKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBsaW5lIHNlZ21lbnQgaXMgcGFyYWxsZWwgdG8gdGhlIGFyZ3VtZW50LiBJdCBzaW1wbHkgZm9yd2FyZHNcbiAgLy8gdGhlIG1ldGhvZCBjYWxsIG9udG8gaXRzIGxpbmUgcHJvcGVydHkuXG4gIGlzUGFyYWxsZWxUbzogZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRoaXMubGluZS5pc1BhcmFsbGVsVG8ob2JqKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBhcmd1bWVudCBhbmQgdGhlIGxpbmUgc2VnbWVudCdzIGNsb3Nlc3QgcG9pbnQgdG8gdGhlIGFyZ3VtZW50XG4gIGRpc3RhbmNlRnJvbTogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIFAgPSB0aGlzLnBvaW50Q2xvc2VzdFRvKG9iaik7XG4gICAgcmV0dXJuIChQID09PSBudWxsKSA/IG51bGwgOiBQLmRpc3RhbmNlRnJvbShvYmopO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGdpdmVuIHBvaW50IGxpZXMgb24gdGhlIHNlZ21lbnRcbiAgY29udGFpbnM6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmouc3RhcnQgJiYgb2JqLmVuZCkgeyByZXR1cm4gdGhpcy5jb250YWlucyhvYmouc3RhcnQpICYmIHRoaXMuY29udGFpbnMob2JqLmVuZCk7IH1cbiAgICB2YXIgUCA9IChvYmouZWxlbWVudHMgfHwgb2JqKS5zbGljZSgpO1xuICAgIGlmIChQLmxlbmd0aCA9PSAyKSB7IFAucHVzaCgwKTsgfVxuICAgIGlmICh0aGlzLnN0YXJ0LmVxbChQKSkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIHZhciBTID0gdGhpcy5zdGFydC5lbGVtZW50cztcbiAgICB2YXIgViA9IFZlY3Rvci5jcmVhdGUoW1NbMF0gLSBQWzBdLCBTWzFdIC0gUFsxXSwgU1syXSAtIChQWzJdIHx8IDApXSk7XG4gICAgdmFyIHZlY3QgPSB0aGlzLnRvVmVjdG9yKCk7XG4gICAgcmV0dXJuIFYuaXNBbnRpcGFyYWxsZWxUbyh2ZWN0KSAmJiBWLm1vZHVsdXMoKSA8PSB2ZWN0Lm1vZHVsdXMoKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBsaW5lIHNlZ21lbnQgaW50ZXJzZWN0cyB0aGUgYXJndW1lbnRcbiAgaW50ZXJzZWN0czogZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICh0aGlzLmludGVyc2VjdGlvbldpdGgob2JqKSAhPT0gbnVsbCk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgdW5pcXVlIHBvaW50IG9mIGludGVyc2VjdGlvbiB3aXRoIHRoZSBhcmd1bWVudFxuICBpbnRlcnNlY3Rpb25XaXRoOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIXRoaXMubGluZS5pbnRlcnNlY3RzKG9iaikpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB2YXIgUCA9IHRoaXMubGluZS5pbnRlcnNlY3Rpb25XaXRoKG9iaik7XG4gICAgcmV0dXJuICh0aGlzLmNvbnRhaW5zKFApID8gUCA6IG51bGwpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHBvaW50IG9uIHRoZSBsaW5lIHNlZ21lbnQgY2xvc2VzdCB0byB0aGUgZ2l2ZW4gb2JqZWN0XG4gIHBvaW50Q2xvc2VzdFRvOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLm5vcm1hbCkge1xuICAgICAgLy8gb2JqIGlzIGEgcGxhbmVcbiAgICAgIHZhciBWID0gdGhpcy5saW5lLmludGVyc2VjdGlvbldpdGgob2JqKTtcbiAgICAgIGlmIChWID09PSBudWxsKSB7IHJldHVybiBudWxsOyB9XG4gICAgICByZXR1cm4gdGhpcy5wb2ludENsb3Nlc3RUbyhWKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb2JqIGlzIGEgbGluZSAoc2VnbWVudCkgb3IgcG9pbnRcbiAgICAgIHZhciBQID0gdGhpcy5saW5lLnBvaW50Q2xvc2VzdFRvKG9iaik7XG4gICAgICBpZiAoUCA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgaWYgKHRoaXMuY29udGFpbnMoUCkpIHsgcmV0dXJuIFA7IH1cbiAgICAgIHJldHVybiAodGhpcy5saW5lLnBvc2l0aW9uT2YoUCkgPCAwID8gdGhpcy5zdGFydCA6IHRoaXMuZW5kKS5kdXAoKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU2V0IHRoZSBzdGFydCBhbmQgZW5kLXBvaW50cyBvZiB0aGUgc2VnbWVudFxuICBzZXRQb2ludHM6IGZ1bmN0aW9uKHN0YXJ0UG9pbnQsIGVuZFBvaW50KSB7XG4gICAgc3RhcnRQb2ludCA9IFZlY3Rvci5jcmVhdGUoc3RhcnRQb2ludCkudG8zRCgpO1xuICAgIGVuZFBvaW50ID0gVmVjdG9yLmNyZWF0ZShlbmRQb2ludCkudG8zRCgpO1xuICAgIGlmIChzdGFydFBvaW50ID09PSBudWxsIHx8IGVuZFBvaW50ID09PSBudWxsKSB7IHJldHVybiBudWxsOyB9XG4gICAgdGhpcy5saW5lID0gTGluZS5jcmVhdGUoc3RhcnRQb2ludCwgZW5kUG9pbnQuc3VidHJhY3Qoc3RhcnRQb2ludCkpO1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydFBvaW50O1xuICAgIHRoaXMuZW5kID0gZW5kUG9pbnQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uXG5MaW5lLlNlZ21lbnQuY3JlYXRlID0gZnVuY3Rpb24odjEsIHYyKSB7XG4gIHZhciBTID0gbmV3IExpbmUuU2VnbWVudCgpO1xuICByZXR1cm4gUy5zZXRQb2ludHModjEsIHYyKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTGluZS5TZWdtZW50O1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDExLCBDaHJpcyBVbWJlbCwgSmFtZXMgQ29nbGFuXG4vLyBNYXRyaXggY2xhc3MgLSBkZXBlbmRzIG9uIFZlY3Rvci5cblxudmFyIFN5bHZlc3RlciA9IHJlcXVpcmUoJy4vc3lsdmVzdGVyJyk7XG52YXIgVmVjdG9yID0gcmVxdWlyZSgnLi92ZWN0b3InKTtcblxuLy8gYXVnbWVudCBhIG1hdHJpeCBNIHdpdGggaWRlbnRpdHkgcm93cy9jb2xzXG5mdW5jdGlvbiBpZGVudFNpemUoTSwgbSwgbiwgaykge1xuICAgIHZhciBlID0gTS5lbGVtZW50cztcbiAgICB2YXIgaSA9IGsgLSAxO1xuXG4gICAgd2hpbGUoaS0tKSB7XG5cdHZhciByb3cgPSBbXTtcblx0XG5cdGZvcih2YXIgaiA9IDA7IGogPCBuOyBqKyspXG5cdCAgICByb3cucHVzaChqID09IGkgPyAxIDogMCk7XG5cdFxuICAgICAgICBlLnVuc2hpZnQocm93KTtcbiAgICB9XG4gICAgXG4gICAgZm9yKHZhciBpID0gayAtIDE7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgd2hpbGUoZVtpXS5sZW5ndGggPCBuKVxuICAgICAgICAgICAgZVtpXS51bnNoaWZ0KDApO1xuICAgIH1cblxuICAgIHJldHVybiAkTShlKTtcbn1cblxuZnVuY3Rpb24gcGNhKFgpIHtcbiAgICB2YXIgU2lnbWEgPSBYLnRyYW5zcG9zZSgpLngoWCkueCgxIC8gWC5yb3dzKCkpO1xuICAgIHZhciBzdmQgPSBTaWdtYS5zdmQoKTtcbiAgICByZXR1cm4ge1U6IHN2ZC5VLCBTOiBzdmQuU307XG59XG5cbi8vIHNpbmd1bGFyIHZhbHVlIGRlY29tcG9zaXRpb24gaW4gcHVyZSBqYXZhc2NyaXB0XG5mdW5jdGlvbiBzdmRKcygpIHtcbiAgICB2YXIgQSA9IHRoaXM7XG4gICAgdmFyIFYgPSBNYXRyaXguSShBLnJvd3MoKSk7XG4gICAgdmFyIFMgPSBBLnRyYW5zcG9zZSgpO1xuICAgIHZhciBVID0gTWF0cml4LkkoQS5jb2xzKCkpO1xuICAgIHZhciBlcnIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbWF4TG9vcCA9IDEwMDtcblxuICAgIHdoaWxlKGVyciA+IDIuMjczN2UtMTMgJiYgaSA8IG1heExvb3ApIHtcbiAgICAgICAgdmFyIHFyID0gUy50cmFuc3Bvc2UoKS5xckpzKCk7XG4gICAgICAgIFMgPSBxci5SO1xuICAgICAgICBWID0gVi54KHFyLlEpO1xuICAgICAgICBxciA9IFMudHJhbnNwb3NlKCkucXJKcygpO1xuICAgICAgICBVID0gVS54KHFyLlEpO1xuICAgICAgICBTID0gcXIuUjtcblxuICAgICAgICB2YXIgZSA9IFMudHJpdSgxKS51bnJvbGwoKS5ub3JtKCk7XG4gICAgICAgIHZhciBmID0gUy5kaWFnb25hbCgpLm5vcm0oKTtcblxuICAgICAgICBpZihmID09IDApXG4gICAgICAgICAgICBmID0gMTtcblxuICAgICAgICBlcnIgPSBlIC8gZjtcblxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgdmFyIHNzID0gUy5kaWFnb25hbCgpO1xuICAgIHZhciBzID0gW107XG5cbiAgICBmb3IodmFyIGkgPSAxOyBpIDw9IHNzLmNvbHMoKTsgaSsrKSB7XG4gICAgICAgIHZhciBzc24gPSBzcy5lKGkpO1xuICAgICAgICBzLnB1c2goTWF0aC5hYnMoc3NuKSk7XG5cbiAgICAgICAgaWYoc3NuIDwgMCkge1xuICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IFUucm93cygpOyBqKyspIHtcbiAgICAgICAgICAgICAgICBWLmVsZW1lbnRzW2pdW2kgLSAxXSA9IC0oVi5lbGVtZW50c1tqXVtpIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtVOiBVLCBTOiAkVihzKS50b0RpYWdvbmFsTWF0cml4KCksIFY6IFZ9O1xufVxuXG5cblxuLy8gUVIgZGVjb21wb3NpdGlvbiBpbiBwdXJlIGphdmFzY3JpcHRcbmZ1bmN0aW9uIHFySnMoKSB7XG4gICAgdmFyIG0gPSB0aGlzLnJvd3MoKTtcbiAgICB2YXIgbiA9IHRoaXMuY29scygpO1xuICAgIHZhciBRID0gTWF0cml4LkkobSk7XG4gICAgdmFyIEEgPSB0aGlzO1xuICAgIFxuICAgIGZvcih2YXIgayA9IDE7IGsgPCBNYXRoLm1pbihtLCBuKTsgaysrKSB7XG5cdHZhciBhayA9IEEuc2xpY2UoaywgMCwgaywgaykuY29sKDEpO1xuXHR2YXIgb25lWmVybyA9IFsxXTtcblx0XG5cdHdoaWxlKG9uZVplcm8ubGVuZ3RoIDw9ICBtIC0gaylcblx0ICAgIG9uZVplcm8ucHVzaCgwKTtcblx0XG5cdG9uZVplcm8gPSAkVihvbmVaZXJvKTtcblx0dmFyIHZrID0gYWsuYWRkKG9uZVplcm8ueChhay5ub3JtKCkgKiBNYXRoLnNpZ24oYWsuZSgxKSkpKTtcblx0dmFyIFZrID0gJE0odmspO1xuXHR2YXIgSGsgPSBNYXRyaXguSShtIC0gayArIDEpLnN1YnRyYWN0KFZrLngoMikueChWay50cmFuc3Bvc2UoKSkuZGl2KFZrLnRyYW5zcG9zZSgpLngoVmspLmUoMSwgMSkpKTtcblx0dmFyIFFrID0gaWRlbnRTaXplKEhrLCBtLCBuLCBrKTtcblx0QSA9IFFrLngoQSk7XG5cdC8vIHNsb3cgd2F5IHRvIGNvbXB1dGUgUVxuXHRRID0gUS54KFFrKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtROiBRLCBSOiBBfTtcbn1cblxuXG5cblxuZnVuY3Rpb24gTWF0cml4KCkge31cbk1hdHJpeC5wcm90b3R5cGUgPSB7XG4gICAgLy8gc29sdmUgYSBzeXN0ZW0gb2YgbGluZWFyIGVxdWF0aW9ucyAod29yayBpbiBwcm9ncmVzcylcbiAgICBzb2x2ZTogZnVuY3Rpb24oYikge1xuXHR2YXIgbHUgPSB0aGlzLmx1KCk7XG5cdGIgPSBsdS5QLngoYik7XG5cdHZhciB5ID0gbHUuTC5mb3J3YXJkU3Vic3RpdHV0ZShiKTtcblx0dmFyIHggPSBsdS5VLmJhY2tTdWJzdGl0dXRlKHkpO1xuXHRyZXR1cm4gbHUuUC54KHgpO1xuXHQvL3JldHVybiB0aGlzLmludigpLngoYik7XG4gICAgfSxcblxuICAgIC8vIHByb2plY3QgYSBtYXRyaXggb250byBhIGxvd2VyIGRpbVxuICAgIHBjYVByb2plY3Q6IGZ1bmN0aW9uKGssIFUpIHtcblx0dmFyIFUgPSBVIHx8IHBjYSh0aGlzKS5VO1xuXHR2YXIgVXJlZHVjZT0gVS5zbGljZSgxLCBVLnJvd3MoKSwgMSwgayk7XG5cdHJldHVybiB7WjogdGhpcy54KFVyZWR1Y2UpLCBVOiBVfTtcbiAgICB9LFxuXG4gICAgLy8gcmVjb3ZlciBhIG1hdHJpeCB0byBhIGhpZ2hlciBkaW1lbnNpb25cbiAgICBwY2FSZWNvdmVyOiBmdW5jdGlvbihVKSB7XG5cdHZhciBrID0gdGhpcy5jb2xzKCk7XG5cdHZhciBVcmVkdWNlID0gVS5zbGljZSgxLCBVLnJvd3MoKSwgMSwgayk7XG5cdHJldHVybiB0aGlzLngoVXJlZHVjZS50cmFuc3Bvc2UoKSk7XG4gICAgfSwgICAgXG5cbiAgICAvLyBncmFiIHRoZSB1cHBlciB0cmlhbmd1bGFyIHBhcnQgb2YgdGhlIG1hdHJpeFxuICAgIHRyaXU6IGZ1bmN0aW9uKGspIHtcblx0aWYoIWspXG5cdCAgICBrID0gMDtcblx0XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4LCBpLCBqKSB7XG5cdCAgICByZXR1cm4gaiAtIGkgPj0gayA/IHggOiAwO1xuXHR9KTtcbiAgICB9LFxuXG4gICAgLy8gdW5yb2xsIGEgbWF0cml4IGludG8gYSB2ZWN0b3JcbiAgICB1bnJvbGw6IGZ1bmN0aW9uKCkge1xuXHR2YXIgdiA9IFtdO1xuXHRcblx0Zm9yKHZhciBpID0gMTsgaSA8PSB0aGlzLmNvbHMoKTsgaSsrKSB7XG5cdCAgICBmb3IodmFyIGogPSAxOyBqIDw9IHRoaXMucm93cygpOyBqKyspIHtcblx0XHR2LnB1c2godGhpcy5lKGosIGkpKTtcblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAkVih2KTtcbiAgICB9LFxuXG4gICAgLy8gcmV0dXJuIGEgc3ViLWJsb2NrIG9mIHRoZSBtYXRyaXhcbiAgICBzbGljZTogZnVuY3Rpb24oc3RhcnRSb3csIGVuZFJvdywgc3RhcnRDb2wsIGVuZENvbCkge1xuXHR2YXIgeCA9IFtdO1xuXHRcblx0aWYoZW5kUm93ID09IDApXG5cdCAgICBlbmRSb3cgPSB0aGlzLnJvd3MoKTtcblx0XG5cdGlmKGVuZENvbCA9PSAwKVxuXHQgICAgZW5kQ29sID0gdGhpcy5jb2xzKCk7XG5cblx0Zm9yKGkgPSBzdGFydFJvdzsgaSA8PSBlbmRSb3c7IGkrKykge1xuXHQgICAgdmFyIHJvdyA9IFtdO1xuXG5cdCAgICBmb3IoaiA9IHN0YXJ0Q29sOyBqIDw9IGVuZENvbDsgaisrKSB7XG5cdFx0cm93LnB1c2godGhpcy5lKGksIGopKTtcblx0ICAgIH1cblxuXHQgICAgeC5wdXNoKHJvdyk7XG5cdH1cblxuXHRyZXR1cm4gJE0oeCk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgZWxlbWVudCAoaSxqKSBvZiB0aGUgbWF0cml4XG4gICAgZTogZnVuY3Rpb24oaSxqKSB7XG5cdGlmIChpIDwgMSB8fCBpID4gdGhpcy5lbGVtZW50cy5sZW5ndGggfHwgaiA8IDEgfHwgaiA+IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHJldHVybiB0aGlzLmVsZW1lbnRzW2kgLSAxXVtqIC0gMV07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgcm93IGsgb2YgdGhlIG1hdHJpeCBhcyBhIHZlY3RvclxuICAgIHJvdzogZnVuY3Rpb24oaSkge1xuXHRpZiAoaSA+IHRoaXMuZWxlbWVudHMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHJldHVybiAkVih0aGlzLmVsZW1lbnRzW2kgLSAxXSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgY29sdW1uIGsgb2YgdGhlIG1hdHJpeCBhcyBhIHZlY3RvclxuICAgIGNvbDogZnVuY3Rpb24oaikge1xuXHRpZiAoaiA+IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHZhciBjb2wgPSBbXSwgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgeyBjb2wucHVzaCh0aGlzLmVsZW1lbnRzW2ldW2ogLSAxXSk7IH1cblx0cmV0dXJuICRWKGNvbCk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzL2NvbHVtbnMgdGhlIG1hdHJpeCBoYXNcbiAgICBkaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtyb3dzOiB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgY29sczogdGhpcy5lbGVtZW50c1swXS5sZW5ndGh9O1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgbWF0cml4XG4gICAgcm93czogZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIG1hdHJpeFxuICAgIGNvbHM6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5lbGVtZW50c1swXS5sZW5ndGg7XG4gICAgfSxcblxuICAgIGFwcHJveEVxbDogZnVuY3Rpb24obWF0cml4KSB7XG5cdHJldHVybiB0aGlzLmVxbChtYXRyaXgsIFN5bHZlc3Rlci5hcHByb3hQcmVjaXNpb24pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBtYXRyaXggaXMgZXF1YWwgdG8gdGhlIGFyZ3VtZW50LiBZb3UgY2FuIHN1cHBseVxuICAgIC8vIGEgdmVjdG9yIGFzIHRoZSBhcmd1bWVudCwgaW4gd2hpY2ggY2FzZSB0aGUgcmVjZWl2ZXIgbXVzdCBiZSBhXG4gICAgLy8gb25lLWNvbHVtbiBtYXRyaXggZXF1YWwgdG8gdGhlIHZlY3Rvci5cbiAgICBlcWw6IGZ1bmN0aW9uKG1hdHJpeCwgcHJlY2lzaW9uKSB7XG5cdHZhciBNID0gbWF0cml4LmVsZW1lbnRzIHx8IG1hdHJpeDtcblx0aWYgKHR5cGVvZihNWzBdWzBdKSA9PSAndW5kZWZpbmVkJykgeyBNID0gTWF0cml4LmNyZWF0ZShNKS5lbGVtZW50czsgfVxuXHRpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggIT0gTS5sZW5ndGggfHxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoICE9IE1bMF0ubGVuZ3RoKSB7IHJldHVybiBmYWxzZTsgfVxuXHR2YXIgaSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBuaiA9IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoLCBqO1xuXHR3aGlsZSAoaS0tKSB7IGogPSBuajtcblx0XHQgICAgICB3aGlsZSAoai0tKSB7XG5cdFx0XHQgIGlmIChNYXRoLmFicyh0aGlzLmVsZW1lbnRzW2ldW2pdIC0gTVtpXVtqXSkgPiAocHJlY2lzaW9uIHx8IFN5bHZlc3Rlci5wcmVjaXNpb24pKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRyZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeFxuICAgIGR1cDogZnVuY3Rpb24oKSB7XG5cdHJldHVybiBNYXRyaXguY3JlYXRlKHRoaXMuZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBNYXBzIHRoZSBtYXRyaXggdG8gYW5vdGhlciBtYXRyaXggKG9mIHRoZSBzYW1lIGRpbWVuc2lvbnMpIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZnVuY3Rpb25cbiAgICBtYXA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIGVscyA9IFtdLCBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGgsIG5qID0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGgsIGo7XG5cdHdoaWxlIChpLS0pIHsgaiA9IG5qO1xuXHRcdCAgICAgIGVsc1tpXSA9IFtdO1xuXHRcdCAgICAgIHdoaWxlIChqLS0pIHtcblx0XHRcdCAgZWxzW2ldW2pdID0gZm4odGhpcy5lbGVtZW50c1tpXVtqXSwgaSArIDEsIGogKyAxKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0cmV0dXJuIE1hdHJpeC5jcmVhdGUoZWxzKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgYXJndW1lbnQgaGFzIHRoZSBzYW1lIGRpbWVuc2lvbnMgYXMgdGhlIG1hdHJpeFxuICAgIGlzU2FtZVNpemVBczogZnVuY3Rpb24obWF0cml4KSB7XG5cdHZhciBNID0gbWF0cml4LmVsZW1lbnRzIHx8IG1hdHJpeDtcblx0aWYgKHR5cGVvZihNWzBdWzBdKSA9PSAndW5kZWZpbmVkJykgeyBNID0gTWF0cml4LmNyZWF0ZShNKS5lbGVtZW50czsgfVxuXHRyZXR1cm4gKHRoaXMuZWxlbWVudHMubGVuZ3RoID09IE0ubGVuZ3RoICYmXG5cdFx0dGhpcy5lbGVtZW50c1swXS5sZW5ndGggPT0gTVswXS5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYWRkaW5nIHRoZSBhcmd1bWVudCB0byB0aGUgbWF0cml4XG4gICAgYWRkOiBmdW5jdGlvbihtYXRyaXgpIHtcblx0aWYodHlwZW9mKG1hdHJpeCkgPT0gJ251bWJlcicpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4LCBpLCBqKSB7IHJldHVybiB4ICsgbWF0cml4fSk7XG5cdH0gZWxzZSB7XG5cdCAgICB2YXIgTSA9IG1hdHJpeC5lbGVtZW50cyB8fCBtYXRyaXg7XG5cdCAgICBpZiAodHlwZW9mKE1bMF1bMF0pID09ICd1bmRlZmluZWQnKSB7IE0gPSBNYXRyaXguY3JlYXRlKE0pLmVsZW1lbnRzOyB9XG5cdCAgICBpZiAoIXRoaXMuaXNTYW1lU2l6ZUFzKE0pKSB7IHJldHVybiBudWxsOyB9XG5cdCAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCwgaSwgaikgeyByZXR1cm4geCArIE1baSAtIDFdW2ogLSAxXTsgfSk7XG5cdH1cbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHN1YnRyYWN0aW5nIHRoZSBhcmd1bWVudCBmcm9tIHRoZSBtYXRyaXhcbiAgICBzdWJ0cmFjdDogZnVuY3Rpb24obWF0cml4KSB7XG5cdGlmKHR5cGVvZihtYXRyaXgpID09ICdudW1iZXInKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCwgaSwgaikgeyByZXR1cm4geCAtIG1hdHJpeH0pO1xuXHR9IGVsc2Uge1xuXHQgICAgdmFyIE0gPSBtYXRyaXguZWxlbWVudHMgfHwgbWF0cml4O1xuXHQgICAgaWYgKHR5cGVvZihNWzBdWzBdKSA9PSAndW5kZWZpbmVkJykgeyBNID0gTWF0cml4LmNyZWF0ZShNKS5lbGVtZW50czsgfVxuXHQgICAgaWYgKCF0aGlzLmlzU2FtZVNpemVBcyhNKSkgeyByZXR1cm4gbnVsbDsgfVxuXHQgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgsIGksIGopIHsgcmV0dXJuIHggLSBNW2kgLSAxXVtqIC0gMV07IH0pO1xuXHR9XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIG1hdHJpeCBjYW4gbXVsdGlwbHkgdGhlIGFyZ3VtZW50IGZyb20gdGhlIGxlZnRcbiAgICBjYW5NdWx0aXBseUZyb21MZWZ0OiBmdW5jdGlvbihtYXRyaXgpIHtcblx0dmFyIE0gPSBtYXRyaXguZWxlbWVudHMgfHwgbWF0cml4O1xuXHRpZiAodHlwZW9mKE1bMF1bMF0pID09ICd1bmRlZmluZWQnKSB7IE0gPSBNYXRyaXguY3JlYXRlKE0pLmVsZW1lbnRzOyB9XG5cdC8vIHRoaXMuY29sdW1ucyBzaG91bGQgZXF1YWwgbWF0cml4LnJvd3Ncblx0cmV0dXJuICh0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCA9PSBNLmxlbmd0aCk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBhIG11bHRpcGxpY2F0aW9uLXN0eWxlIG9wZXJhdGlvbiB0aGUgbWF0cml4IGZyb20gdGhlIHJpZ2h0IGJ5IHRoZSBhcmd1bWVudC5cbiAgICAvLyBJZiB0aGUgYXJndW1lbnQgaXMgYSBzY2FsYXIgdGhlbiBqdXN0IG9wZXJhdGUgb24gYWxsIHRoZSBlbGVtZW50cy4gSWYgdGhlIGFyZ3VtZW50IGlzXG4gICAgLy8gYSB2ZWN0b3IsIGEgdmVjdG9yIGlzIHJldHVybmVkLCB3aGljaCBzYXZlcyB5b3UgaGF2aW5nIHRvIHJlbWVtYmVyIGNhbGxpbmdcbiAgICAvLyBjb2woMSkgb24gdGhlIHJlc3VsdC5cbiAgICBtdWxPcDogZnVuY3Rpb24obWF0cml4LCBvcCkge1xuXHRpZiAoIW1hdHJpeC5lbGVtZW50cykge1xuXHQgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIG9wKHgsIG1hdHJpeCk7IH0pO1xuXHR9XG5cblx0dmFyIHJldHVyblZlY3RvciA9IG1hdHJpeC5tb2R1bHVzID8gdHJ1ZSA6IGZhbHNlO1xuXHR2YXIgTSA9IG1hdHJpeC5lbGVtZW50cyB8fCBtYXRyaXg7XG5cdGlmICh0eXBlb2YoTVswXVswXSkgPT0gJ3VuZGVmaW5lZCcpIFxuXHQgICAgTSA9IE1hdHJpeC5jcmVhdGUoTSkuZWxlbWVudHM7XG5cdGlmICghdGhpcy5jYW5NdWx0aXBseUZyb21MZWZ0KE0pKSBcblx0ICAgIHJldHVybiBudWxsOyBcblx0dmFyIGUgPSB0aGlzLmVsZW1lbnRzLCByb3dUaGlzLCByb3dFbGVtLCBlbGVtZW50cyA9IFtdLFxuICAgICAgICBzdW0sIG0gPSBlLmxlbmd0aCwgbiA9IE1bMF0ubGVuZ3RoLCBvID0gZVswXS5sZW5ndGgsIGkgPSBtLCBqLCBrO1xuXG5cdHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHJvd0VsZW0gPSBbXTtcbiAgICAgICAgICAgIHJvd1RoaXMgPSBlW2ldO1xuICAgICAgICAgICAgaiA9IG47XG5cbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcblx0XHRzdW0gPSAwO1xuXHRcdGsgPSBvO1xuXG5cdFx0d2hpbGUgKGstLSkge1xuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gb3Aocm93VGhpc1trXSwgTVtrXVtqXSk7XG5cdFx0fVxuXG5cdFx0cm93RWxlbVtqXSA9IHN1bTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbWVudHNbaV0gPSByb3dFbGVtO1xuXHR9XG5cblx0dmFyIE0gPSBNYXRyaXguY3JlYXRlKGVsZW1lbnRzKTtcblx0cmV0dXJuIHJldHVyblZlY3RvciA/IE0uY29sKDEpIDogTTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGRpdmlkaW5nIHRoZSBtYXRyaXggZnJvbSB0aGUgcmlnaHQgYnkgdGhlIGFyZ3VtZW50LlxuICAgIC8vIElmIHRoZSBhcmd1bWVudCBpcyBhIHNjYWxhciB0aGVuIGp1c3QgZGl2aWRlIGFsbCB0aGUgZWxlbWVudHMuIElmIHRoZSBhcmd1bWVudCBpc1xuICAgIC8vIGEgdmVjdG9yLCBhIHZlY3RvciBpcyByZXR1cm5lZCwgd2hpY2ggc2F2ZXMgeW91IGhhdmluZyB0byByZW1lbWJlciBjYWxsaW5nXG4gICAgLy8gY29sKDEpIG9uIHRoZSByZXN1bHQuXG4gICAgZGl2OiBmdW5jdGlvbihtYXRyaXgpIHtcblx0cmV0dXJuIHRoaXMubXVsT3AobWF0cml4LCBmdW5jdGlvbih4LCB5KSB7IHJldHVybiB4IC8geX0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgbXVsdGlwbHlpbmcgdGhlIG1hdHJpeCBmcm9tIHRoZSByaWdodCBieSB0aGUgYXJndW1lbnQuXG4gICAgLy8gSWYgdGhlIGFyZ3VtZW50IGlzIGEgc2NhbGFyIHRoZW4ganVzdCBtdWx0aXBseSBhbGwgdGhlIGVsZW1lbnRzLiBJZiB0aGUgYXJndW1lbnQgaXNcbiAgICAvLyBhIHZlY3RvciwgYSB2ZWN0b3IgaXMgcmV0dXJuZWQsIHdoaWNoIHNhdmVzIHlvdSBoYXZpbmcgdG8gcmVtZW1iZXIgY2FsbGluZ1xuICAgIC8vIGNvbCgxKSBvbiB0aGUgcmVzdWx0LlxuICAgIG11bHRpcGx5OiBmdW5jdGlvbihtYXRyaXgpIHtcblx0cmV0dXJuIHRoaXMubXVsT3AobWF0cml4LCBmdW5jdGlvbih4LCB5KSB7IHJldHVybiB4ICogeX0pO1xuICAgIH0sXG5cbiAgICB4OiBmdW5jdGlvbihtYXRyaXgpIHsgcmV0dXJuIHRoaXMubXVsdGlwbHkobWF0cml4KTsgfSxcblxuICAgIGVsZW1lbnRNdWx0aXBseTogZnVuY3Rpb24odikge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaywgaSwgaikge1xuICAgICAgICAgICAgcmV0dXJuIHYuZShpLCBqKSAqIGs7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBzdW0gYWxsIGVsZW1lbnRzIGluIHRoZSBtYXRyaXhcbiAgICBzdW06IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3VtID0gMDtcblxuICAgICAgICB0aGlzLm1hcChmdW5jdGlvbih4KSB7IHN1bSArPSB4O30pO1xuXG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBWZWN0b3Igb2YgZWFjaCBjb2x1bSBhdmVyYWdlZC5cbiAgICBtZWFuOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaW0gPSB0aGlzLmRpbWVuc2lvbnMoKTtcbiAgICAgIHZhciByID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBkaW0uY29sczsgaSsrKSB7XG4gICAgICAgIHIucHVzaCh0aGlzLmNvbChpKS5zdW0oKSAvIGRpbS5yb3dzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkVihyKTtcbiAgICB9LFxuXG4gICAgY29sdW1uOiBmdW5jdGlvbihuKSB7XG5cdHJldHVybiB0aGlzLmNvbChuKTtcbiAgICB9LFxuXG4gICAgLy8gZWxlbWVudC13aXNlIGxvZ1xuICAgIGxvZzogZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBNYXRoLmxvZyh4KTsgfSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBzdWJtYXRyaXggdGFrZW4gZnJvbSB0aGUgbWF0cml4XG4gICAgLy8gQXJndW1lbnQgb3JkZXIgaXM6IHN0YXJ0IHJvdywgc3RhcnQgY29sLCBucm93cywgbmNvbHNcbiAgICAvLyBFbGVtZW50IHNlbGVjdGlvbiB3cmFwcyBpZiB0aGUgcmVxdWlyZWQgaW5kZXggaXMgb3V0c2lkZSB0aGUgbWF0cml4J3MgYm91bmRzLCBzbyB5b3UgY291bGRcbiAgICAvLyB1c2UgdGhpcyB0byBwZXJmb3JtIHJvdy9jb2x1bW4gY3ljbGluZyBvciBjb3B5LWF1Z21lbnRpbmcuXG4gICAgbWlub3I6IGZ1bmN0aW9uKGEsIGIsIGMsIGQpIHtcblx0dmFyIGVsZW1lbnRzID0gW10sIG5pID0gYywgaSwgbmosIGo7XG5cdHZhciByb3dzID0gdGhpcy5lbGVtZW50cy5sZW5ndGgsIGNvbHMgPSB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aDtcblx0d2hpbGUgKG5pLS0pIHtcblx0ICAgIGkgPSBjIC0gbmkgLSAxO1xuXHQgICAgZWxlbWVudHNbaV0gPSBbXTtcblx0ICAgIG5qID0gZDtcblx0ICAgIHdoaWxlIChuai0tKSB7XG5cdFx0aiA9IGQgLSBuaiAtIDE7XG5cdFx0ZWxlbWVudHNbaV1bal0gPSB0aGlzLmVsZW1lbnRzWyhhICsgaSAtIDEpICUgcm93c11bKGIgKyBqIC0gMSkgJSBjb2xzXTtcblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gTWF0cml4LmNyZWF0ZShlbGVtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHRyYW5zcG9zZSBvZiB0aGUgbWF0cml4XG4gICAgdHJhbnNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcm93cyA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBpLCBjb2xzID0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGgsIGo7XG5cdHZhciBlbGVtZW50cyA9IFtdLCBpID0gY29scztcblx0d2hpbGUgKGktLSkge1xuXHQgICAgaiA9IHJvd3M7XG5cdCAgICBlbGVtZW50c1tpXSA9IFtdO1xuXHQgICAgd2hpbGUgKGotLSkge1xuXHRcdGVsZW1lbnRzW2ldW2pdID0gdGhpcy5lbGVtZW50c1tqXVtpXTtcblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gTWF0cml4LmNyZWF0ZShlbGVtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIG1hdHJpeCBpcyBzcXVhcmVcbiAgICBpc1NxdWFyZTogZnVuY3Rpb24oKSB7XG5cdHJldHVybiAodGhpcy5lbGVtZW50cy5sZW5ndGggPT0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSAoYWJzb2x1dGUpIGxhcmdlc3QgZWxlbWVudCBvZiB0aGUgbWF0cml4XG4gICAgbWF4OiBmdW5jdGlvbigpIHtcblx0dmFyIG0gPSAwLCBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGgsIG5qID0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGgsIGo7XG5cdHdoaWxlIChpLS0pIHtcblx0ICAgIGogPSBuajtcblx0ICAgIHdoaWxlIChqLS0pIHtcblx0XHRpZiAoTWF0aC5hYnModGhpcy5lbGVtZW50c1tpXVtqXSkgPiBNYXRoLmFicyhtKSkgeyBtID0gdGhpcy5lbGVtZW50c1tpXVtqXTsgfVxuXHQgICAgfVxuXHR9XG5cdHJldHVybiBtO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBpbmRlY2VzIG9mIHRoZSBmaXJzdCBtYXRjaCBmb3VuZCBieSByZWFkaW5nIHJvdy1ieS1yb3cgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgaW5kZXhPZjogZnVuY3Rpb24oeCkge1xuXHR2YXIgaW5kZXggPSBudWxsLCBuaSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBpLCBuaiA9IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoLCBqO1xuXHRmb3IgKGkgPSAwOyBpIDwgbmk7IGkrKykge1xuXHQgICAgZm9yIChqID0gMDsgaiA8IG5qOyBqKyspIHtcblx0XHRpZiAodGhpcy5lbGVtZW50c1tpXVtqXSA9PSB4KSB7IHJldHVybiB7aTogaSArIDEsIGo6IGogKyAxfTsgfVxuXHQgICAgfVxuXHR9XG5cdHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvLyBJZiB0aGUgbWF0cml4IGlzIHNxdWFyZSwgcmV0dXJucyB0aGUgZGlhZ29uYWwgZWxlbWVudHMgYXMgYSB2ZWN0b3IuXG4gICAgLy8gT3RoZXJ3aXNlLCByZXR1cm5zIG51bGwuXG4gICAgZGlhZ29uYWw6IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuaXNTcXVhcmUpIHsgcmV0dXJuIG51bGw7IH1cblx0dmFyIGVscyA9IFtdLCBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdCAgICBlbHMucHVzaCh0aGlzLmVsZW1lbnRzW2ldW2ldKTtcblx0fVxuXHRyZXR1cm4gJFYoZWxzKTtcbiAgICB9LFxuXG4gICAgLy8gTWFrZSB0aGUgbWF0cml4IHVwcGVyIChyaWdodCkgdHJpYW5ndWxhciBieSBHYXVzc2lhbiBlbGltaW5hdGlvbi5cbiAgICAvLyBUaGlzIG1ldGhvZCBvbmx5IGFkZHMgbXVsdGlwbGVzIG9mIHJvd3MgdG8gb3RoZXIgcm93cy4gTm8gcm93cyBhcmVcbiAgICAvLyBzY2FsZWQgdXAgb3Igc3dpdGNoZWQsIGFuZCB0aGUgZGV0ZXJtaW5hbnQgaXMgcHJlc2VydmVkLlxuICAgIHRvUmlnaHRUcmlhbmd1bGFyOiBmdW5jdGlvbigpIHtcblx0dmFyIE0gPSB0aGlzLmR1cCgpLCBlbHM7XG5cdHZhciBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGgsIGksIGosIG5wID0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGgsIHA7XG5cdGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0ICAgIGlmIChNLmVsZW1lbnRzW2ldW2ldID09IDApIHtcblx0XHRmb3IgKGogPSBpICsgMTsgaiA8IG47IGorKykge1xuXHRcdCAgICBpZiAoTS5lbGVtZW50c1tqXVtpXSAhPSAwKSB7XG5cdFx0XHRlbHMgPSBbXTtcblx0XHRcdGZvciAocCA9IDA7IHAgPCBucDsgcCsrKSB7IGVscy5wdXNoKE0uZWxlbWVudHNbaV1bcF0gKyBNLmVsZW1lbnRzW2pdW3BdKTsgfVxuXHRcdFx0TS5lbGVtZW50c1tpXSA9IGVscztcblx0XHRcdGJyZWFrO1xuXHRcdCAgICB9XG5cdFx0fVxuXHQgICAgfVxuXHQgICAgaWYgKE0uZWxlbWVudHNbaV1baV0gIT0gMCkge1xuXHRcdGZvciAoaiA9IGkgKyAxOyBqIDwgbjsgaisrKSB7XG5cdFx0ICAgIHZhciBtdWx0aXBsaWVyID0gTS5lbGVtZW50c1tqXVtpXSAvIE0uZWxlbWVudHNbaV1baV07XG5cdFx0ICAgIGVscyA9IFtdO1xuXHRcdCAgICBmb3IgKHAgPSAwOyBwIDwgbnA7IHArKykge1xuXHRcdFx0Ly8gRWxlbWVudHMgd2l0aCBjb2x1bW4gbnVtYmVycyB1cCB0byBhbiBpbmNsdWRpbmcgdGhlIG51bWJlclxuXHRcdFx0Ly8gb2YgdGhlIHJvdyB0aGF0IHdlJ3JlIHN1YnRyYWN0aW5nIGNhbiBzYWZlbHkgYmUgc2V0IHN0cmFpZ2h0IHRvXG5cdFx0XHQvLyB6ZXJvLCBzaW5jZSB0aGF0J3MgdGhlIHBvaW50IG9mIHRoaXMgcm91dGluZSBhbmQgaXQgYXZvaWRzIGhhdmluZ1xuXHRcdFx0Ly8gdG8gbG9vcCBvdmVyIGFuZCBjb3JyZWN0IHJvdW5kaW5nIGVycm9ycyBsYXRlclxuXHRcdFx0ZWxzLnB1c2gocCA8PSBpID8gMCA6IE0uZWxlbWVudHNbal1bcF0gLSBNLmVsZW1lbnRzW2ldW3BdICogbXVsdGlwbGllcik7XG5cdFx0ICAgIH1cblx0XHQgICAgTS5lbGVtZW50c1tqXSA9IGVscztcblx0XHR9XG5cdCAgICB9XG5cdH1cblx0cmV0dXJuIE07XG4gICAgfSxcblxuICAgIHRvVXBwZXJUcmlhbmd1bGFyOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMudG9SaWdodFRyaWFuZ3VsYXIoKTsgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIGRldGVybWluYW50IGZvciBzcXVhcmUgbWF0cmljZXNcbiAgICBkZXRlcm1pbmFudDogZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5pc1NxdWFyZSgpKSB7IHJldHVybiBudWxsOyB9XG5cdGlmICh0aGlzLmNvbHMgPT0gMSAmJiB0aGlzLnJvd3MgPT0gMSkgeyByZXR1cm4gdGhpcy5yb3coMSk7IH1cblx0aWYgKHRoaXMuY29scyA9PSAwICYmIHRoaXMucm93cyA9PSAwKSB7IHJldHVybiAxOyB9XG5cdHZhciBNID0gdGhpcy50b1JpZ2h0VHJpYW5ndWxhcigpO1xuXHR2YXIgZGV0ID0gTS5lbGVtZW50c1swXVswXSwgbiA9IE0uZWxlbWVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpID0gMTsgaSA8IG47IGkrKykge1xuXHQgICAgZGV0ID0gZGV0ICogTS5lbGVtZW50c1tpXVtpXTtcblx0fVxuXHRyZXR1cm4gZGV0O1xuICAgIH0sXG4gICAgZGV0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZGV0ZXJtaW5hbnQoKTsgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIG1hdHJpeCBpcyBzaW5ndWxhclxuICAgIGlzU2luZ3VsYXI6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gKHRoaXMuaXNTcXVhcmUoKSAmJiB0aGlzLmRldGVybWluYW50KCkgPT09IDApO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSB0cmFjZSBmb3Igc3F1YXJlIG1hdHJpY2VzXG4gICAgdHJhY2U6IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuaXNTcXVhcmUoKSkgeyByZXR1cm4gbnVsbDsgfVxuXHR2YXIgdHIgPSB0aGlzLmVsZW1lbnRzWzBdWzBdLCBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cdGZvciAodmFyIGkgPSAxOyBpIDwgbjsgaSsrKSB7XG5cdCAgICB0ciArPSB0aGlzLmVsZW1lbnRzW2ldW2ldO1xuXHR9XG5cdHJldHVybiB0cjtcbiAgICB9LFxuXG4gICAgdHI6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50cmFjZSgpOyB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmFuayBvZiB0aGUgbWF0cml4XG4gICAgcmFuazogZnVuY3Rpb24oKSB7XG5cdHZhciBNID0gdGhpcy50b1JpZ2h0VHJpYW5ndWxhcigpLCByYW5rID0gMDtcblx0dmFyIGkgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgbmogPSB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCwgajtcblx0d2hpbGUgKGktLSkge1xuXHQgICAgaiA9IG5qO1xuXHQgICAgd2hpbGUgKGotLSkge1xuXHRcdGlmIChNYXRoLmFicyhNLmVsZW1lbnRzW2ldW2pdKSA+IFN5bHZlc3Rlci5wcmVjaXNpb24pIHsgcmFuaysrOyBicmVhazsgfVxuXHQgICAgfVxuXHR9XG5cdHJldHVybiByYW5rO1xuICAgIH0sXG5cbiAgICByazogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnJhbmsoKTsgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBhdHRhY2hpbmcgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIHRoZSByaWdodC1oYW5kIHNpZGUgb2YgdGhlIG1hdHJpeFxuICAgIGF1Z21lbnQ6IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHR2YXIgTSA9IG1hdHJpeC5lbGVtZW50cyB8fCBtYXRyaXg7XG5cdGlmICh0eXBlb2YoTVswXVswXSkgPT0gJ3VuZGVmaW5lZCcpIHsgTSA9IE1hdHJpeC5jcmVhdGUoTSkuZWxlbWVudHM7IH1cblx0dmFyIFQgPSB0aGlzLmR1cCgpLCBjb2xzID0gVC5lbGVtZW50c1swXS5sZW5ndGg7XG5cdHZhciBpID0gVC5lbGVtZW50cy5sZW5ndGgsIG5qID0gTVswXS5sZW5ndGgsIGo7XG5cdGlmIChpICE9IE0ubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHdoaWxlIChpLS0pIHtcblx0ICAgIGogPSBuajtcblx0ICAgIHdoaWxlIChqLS0pIHtcblx0XHRULmVsZW1lbnRzW2ldW2NvbHMgKyBqXSA9IE1baV1bal07XG5cdCAgICB9XG5cdH1cblx0cmV0dXJuIFQ7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIGludmVyc2UgKGlmIG9uZSBleGlzdHMpIHVzaW5nIEdhdXNzLUpvcmRhblxuICAgIGludmVyc2U6IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuaXNTcXVhcmUoKSB8fCB0aGlzLmlzU2luZ3VsYXIoKSkgeyByZXR1cm4gbnVsbDsgfVxuXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBpID0gbiwgajtcblx0dmFyIE0gPSB0aGlzLmF1Z21lbnQoTWF0cml4LkkobikpLnRvUmlnaHRUcmlhbmd1bGFyKCk7XG5cdHZhciBucCA9IE0uZWxlbWVudHNbMF0ubGVuZ3RoLCBwLCBlbHMsIGRpdmlzb3I7XG5cdHZhciBpbnZlcnNlX2VsZW1lbnRzID0gW10sIG5ld19lbGVtZW50O1xuXHQvLyBNYXRyaXggaXMgbm9uLXNpbmd1bGFyIHNvIHRoZXJlIHdpbGwgYmUgbm8gemVyb3Mgb24gdGhlIGRpYWdvbmFsXG5cdC8vIEN5Y2xlIHRocm91Z2ggcm93cyBmcm9tIGxhc3QgdG8gZmlyc3Rcblx0d2hpbGUgKGktLSkge1xuXHQgICAgLy8gRmlyc3QsIG5vcm1hbGlzZSBkaWFnb25hbCBlbGVtZW50cyB0byAxXG5cdCAgICBlbHMgPSBbXTtcblx0ICAgIGludmVyc2VfZWxlbWVudHNbaV0gPSBbXTtcblx0ICAgIGRpdmlzb3IgPSBNLmVsZW1lbnRzW2ldW2ldO1xuXHQgICAgZm9yIChwID0gMDsgcCA8IG5wOyBwKyspIHtcbiAgICAgICAgbmV3X2VsZW1lbnQgPSBNLmVsZW1lbnRzW2ldW3BdIC8gZGl2aXNvcjtcblx0XHRlbHMucHVzaChuZXdfZWxlbWVudCk7XG5cdFx0Ly8gU2h1ZmZsZSBvZmYgdGhlIGN1cnJlbnQgcm93IG9mIHRoZSByaWdodCBoYW5kIHNpZGUgaW50byB0aGUgcmVzdWx0c1xuXHRcdC8vIGFycmF5IGFzIGl0IHdpbGwgbm90IGJlIG1vZGlmaWVkIGJ5IGxhdGVyIHJ1bnMgdGhyb3VnaCB0aGlzIGxvb3Bcblx0XHRpZiAocCA+PSBuKSB7IGludmVyc2VfZWxlbWVudHNbaV0ucHVzaChuZXdfZWxlbWVudCk7IH1cblx0ICAgIH1cblx0ICAgIE0uZWxlbWVudHNbaV0gPSBlbHM7XG5cdCAgICAvLyBUaGVuLCBzdWJ0cmFjdCB0aGlzIHJvdyBmcm9tIHRob3NlIGFib3ZlIGl0IHRvXG5cdCAgICAvLyBnaXZlIHRoZSBpZGVudGl0eSBtYXRyaXggb24gdGhlIGxlZnQgaGFuZCBzaWRlXG5cdCAgICBqID0gaTtcblx0ICAgIHdoaWxlIChqLS0pIHtcblx0XHRlbHMgPSBbXTtcblx0XHRmb3IgKHAgPSAwOyBwIDwgbnA7IHArKykge1xuXHRcdCAgICBlbHMucHVzaChNLmVsZW1lbnRzW2pdW3BdIC0gTS5lbGVtZW50c1tpXVtwXSAqIE0uZWxlbWVudHNbal1baV0pO1xuXHRcdH1cblx0XHRNLmVsZW1lbnRzW2pdID0gZWxzO1xuXHQgICAgfVxuXHR9XG5cdHJldHVybiBNYXRyaXguY3JlYXRlKGludmVyc2VfZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICBpbnY6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbnZlcnNlKCk7IH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2Ygcm91bmRpbmcgYWxsIHRoZSBlbGVtZW50c1xuICAgIHJvdW5kOiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoeCk7IH0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWF0cml4IHdpdGggZWxlbWVudHMgc2V0IHRvIHRoZSBnaXZlbiB2YWx1ZSBpZiB0aGV5XG4gICAgLy8gZGlmZmVyIGZyb20gaXQgYnkgbGVzcyB0aGFuIFN5bHZlc3Rlci5wcmVjaXNpb25cbiAgICBzbmFwVG86IGZ1bmN0aW9uKHgpIHtcblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHApIHtcblx0ICAgIHJldHVybiAoTWF0aC5hYnMocCAtIHgpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pID8geCA6IHA7XG5cdH0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICBpbnNwZWN0OiBmdW5jdGlvbigpIHtcblx0dmFyIG1hdHJpeF9yb3dzID0gW107XG5cdHZhciBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdCAgICBtYXRyaXhfcm93cy5wdXNoKCRWKHRoaXMuZWxlbWVudHNbaV0pLmluc3BlY3QoKSk7XG5cdH1cblx0cmV0dXJuIG1hdHJpeF9yb3dzLmpvaW4oJ1xcbicpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICAgIHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgIFx0dmFyIG1hdHJpeF9yb3dzID0gW107XG4gICAgXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuICAgIFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgbWF0cml4X3Jvd3MucHVzaCh0aGlzLmVsZW1lbnRzW2ldKTtcbiAgICBcdH1cbiAgICAgIHJldHVybiBtYXRyaXhfcm93cztcbiAgICB9LFxuXG5cbiAgICAvLyBTZXQgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkuIElmIHRoZSBhcmd1bWVudCBwYXNzZWRcbiAgICAvLyBpcyBhIHZlY3RvciwgdGhlIHJlc3VsdGluZyBtYXRyaXggd2lsbCBiZSBhIHNpbmdsZSBjb2x1bW4uXG4gICAgc2V0RWxlbWVudHM6IGZ1bmN0aW9uKGVscykge1xuXHR2YXIgaSwgaiwgZWxlbWVudHMgPSBlbHMuZWxlbWVudHMgfHwgZWxzO1xuXHRpZiAodHlwZW9mKGVsZW1lbnRzWzBdWzBdKSAhPSAndW5kZWZpbmVkJykge1xuXHQgICAgaSA9IGVsZW1lbnRzLmxlbmd0aDtcblx0ICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcblx0ICAgIHdoaWxlIChpLS0pIHtcblx0XHRqID0gZWxlbWVudHNbaV0ubGVuZ3RoO1xuXHRcdHRoaXMuZWxlbWVudHNbaV0gPSBbXTtcblx0XHR3aGlsZSAoai0tKSB7XG5cdFx0ICAgIHRoaXMuZWxlbWVudHNbaV1bal0gPSBlbGVtZW50c1tpXVtqXTtcblx0XHR9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHR2YXIgbiA9IGVsZW1lbnRzLmxlbmd0aDtcblx0dGhpcy5lbGVtZW50cyA9IFtdO1xuXHRmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdCAgICB0aGlzLmVsZW1lbnRzLnB1c2goW2VsZW1lbnRzW2ldXSk7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIHJldHVybiB0aGUgaW5kZXhlcyBvZiB0aGUgY29sdW1ucyB3aXRoIHRoZSBsYXJnZXN0IHZhbHVlXG4gICAgLy8gZm9yIGVhY2ggcm93XG4gICAgbWF4Q29sdW1uSW5kZXhlczogZnVuY3Rpb24oKSB7XG5cdHZhciBtYXhlcyA9IFtdO1xuXG5cdGZvcih2YXIgaSA9IDE7IGkgPD0gdGhpcy5yb3dzKCk7IGkrKykge1xuXHQgICAgdmFyIG1heCA9IG51bGw7XG5cdCAgICB2YXIgbWF4SW5kZXggPSAtMTtcblxuXHQgICAgZm9yKHZhciBqID0gMTsgaiA8PSB0aGlzLmNvbHMoKTsgaisrKSB7XG5cdFx0aWYobWF4ID09PSBudWxsIHx8IHRoaXMuZShpLCBqKSA+IG1heCkge1xuXHRcdCAgICBtYXggPSB0aGlzLmUoaSwgaik7XG5cdFx0ICAgIG1heEluZGV4ID0gajtcblx0XHR9XG5cdCAgICB9XG5cblx0ICAgIG1heGVzLnB1c2gobWF4SW5kZXgpO1xuXHR9XG5cblx0cmV0dXJuICRWKG1heGVzKTtcbiAgICB9LFxuXG4gICAgLy8gcmV0dXJuIHRoZSBsYXJnZXN0IHZhbHVlcyBpbiBlYWNoIHJvd1xuICAgIG1heENvbHVtbnM6IGZ1bmN0aW9uKCkge1xuXHR2YXIgbWF4ZXMgPSBbXTtcblxuXHRmb3IodmFyIGkgPSAxOyBpIDw9IHRoaXMucm93cygpOyBpKyspIHtcblx0ICAgIHZhciBtYXggPSBudWxsO1xuXG5cdCAgICBmb3IodmFyIGogPSAxOyBqIDw9IHRoaXMuY29scygpOyBqKyspIHtcblx0XHRpZihtYXggPT09IG51bGwgfHwgdGhpcy5lKGksIGopID4gbWF4KSB7XG5cdFx0ICAgIG1heCA9IHRoaXMuZShpLCBqKTtcblx0XHR9XG5cdCAgICB9XG5cblx0ICAgIG1heGVzLnB1c2gobWF4KTtcblx0fVxuXG5cdHJldHVybiAkVihtYXhlcyk7XG4gICAgfSxcblxuICAgIC8vIHJldHVybiB0aGUgaW5kZXhlcyBvZiB0aGUgY29sdW1ucyB3aXRoIHRoZSBzbWFsbGVzdCB2YWx1ZXNcbiAgICAvLyBmb3IgZWFjaCByb3dcbiAgICBtaW5Db2x1bW5JbmRleGVzOiBmdW5jdGlvbigpIHtcblx0dmFyIG1pbnMgPSBbXTtcblxuXHRmb3IodmFyIGkgPSAxOyBpIDw9IHRoaXMucm93cygpOyBpKyspIHtcblx0ICAgIHZhciBtaW4gPSBudWxsO1xuXHQgICAgdmFyIG1pbkluZGV4ID0gLTE7XG5cblx0ICAgIGZvcih2YXIgaiA9IDE7IGogPD0gdGhpcy5jb2xzKCk7IGorKykge1xuXHRcdGlmKG1pbiA9PT0gbnVsbCB8fCB0aGlzLmUoaSwgaikgPCBtaW4pIHtcblx0XHQgICAgbWluID0gdGhpcy5lKGksIGopO1xuXHRcdCAgICBtaW5JbmRleCA9IGo7XG5cdFx0fVxuXHQgICAgfVxuXG5cdCAgICBtaW5zLnB1c2gobWluSW5kZXgpO1xuXHR9XG5cblx0cmV0dXJuICRWKG1pbnMpO1xuICAgIH0sXG5cbiAgICAvLyByZXR1cm4gdGhlIHNtYWxsZXN0IHZhbHVlcyBpbiBlYWNoIHJvd1xuICAgIG1pbkNvbHVtbnM6IGZ1bmN0aW9uKCkge1xuXHR2YXIgbWlucyA9IFtdO1xuXG5cdGZvcih2YXIgaSA9IDE7IGkgPD0gdGhpcy5yb3dzKCk7IGkrKykge1xuXHQgICAgdmFyIG1pbiA9IG51bGw7XG5cblx0ICAgIGZvcih2YXIgaiA9IDE7IGogPD0gdGhpcy5jb2xzKCk7IGorKykge1xuXHRcdGlmKG1pbiA9PT0gbnVsbCB8fCB0aGlzLmUoaSwgaikgPCBtaW4pIHtcblx0XHQgICAgbWluID0gdGhpcy5lKGksIGopO1xuXHRcdH1cblx0ICAgIH1cblxuXHQgICAgbWlucy5wdXNoKG1pbik7XG5cdH1cblxuXHRyZXR1cm4gJFYobWlucyk7XG4gICAgfSxcbiAgICBcbiAgICAvLyBwZXJvcm0gYSBwYXJ0aWFsIHBpdm90IG9uIHRoZSBtYXRyaXguIGVzc2VudGlhbGx5IG1vdmUgdGhlIGxhcmdlc3RcbiAgICAvLyByb3cgYmVsb3ctb3ItaW5jbHVkaW5nIHRoZSBwaXZvdCBhbmQgcmVwbGFjZSB0aGUgcGl2b3QncyByb3cgd2l0aCBpdC5cbiAgICAvLyBhIHBpdm90IG1hdHJpeCBpcyByZXR1cm5lZCBzbyBtdWx0aXBsaWNhdGlvbiBjYW4gcGVyZm9ybSB0aGUgdHJhbnNmb3JtLlxuICAgIHBhcnRpYWxQaXZvdDogZnVuY3Rpb24oaywgaiwgUCwgQSwgTCkge1xuXHR2YXIgbWF4SW5kZXggPSAwO1xuXHR2YXIgbWF4VmFsdWUgPSAwO1xuXG5cdGZvcih2YXIgaSA9IGs7IGkgPD0gQS5yb3dzKCk7IGkrKykge1xuXHQgICAgaWYoTWF0aC5hYnMoQS5lKGksIGopKSA+IG1heFZhbHVlKSB7XG5cdFx0bWF4VmFsdWUgPSBNYXRoLmFicyhBLmUoaywgaikpO1xuXHRcdG1heEluZGV4ID0gaTtcblx0ICAgIH1cblx0fVxuXG5cdGlmKG1heEluZGV4ICE9IGspIHtcblx0ICAgIHZhciB0bXAgPSBBLmVsZW1lbnRzW2sgLSAxXTtcblx0ICAgIEEuZWxlbWVudHNbayAtIDFdID0gQS5lbGVtZW50c1ttYXhJbmRleCAtIDFdO1xuXHQgICAgQS5lbGVtZW50c1ttYXhJbmRleCAtIDFdID0gdG1wO1xuXHQgICAgXG5cdCAgICBQLmVsZW1lbnRzW2sgLSAxXVtrIC0gMV0gPSAwO1xuXHQgICAgUC5lbGVtZW50c1trIC0gMV1bbWF4SW5kZXggLSAxXSA9IDE7XG5cdCAgICBQLmVsZW1lbnRzW21heEluZGV4IC0gMV1bbWF4SW5kZXggLSAxXSA9IDA7XG5cdCAgICBQLmVsZW1lbnRzW21heEluZGV4IC0gMV1bayAtIDFdID0gMTtcblx0fVxuXHRcblx0cmV0dXJuIFA7XG4gICAgfSxcblxuICAgIC8vIHNvbHZlIGxvd2VyLXRyaWFuZ3VsYXIgbWF0cml4ICogeCA9IGIgdmlhIGZvcndhcmQgc3Vic3RpdHV0aW9uXG4gICAgZm9yd2FyZFN1YnN0aXR1dGU6IGZ1bmN0aW9uKGIpIHtcblx0dmFyIHhhID0gW107XG5cblx0Zm9yKHZhciBpID0gMTsgaSA8PSB0aGlzLnJvd3MoKTsgaSsrKSB7XG5cdCAgICB2YXIgdyA9IDA7XG5cblx0ICAgIGZvcih2YXIgaiA9IDE7IGogPCBpOyBqKyspIHtcblx0XHR3ICs9IHRoaXMuZShpLCBqKSAqIHhhW2ogLSAxXTtcblx0ICAgIH1cblxuXHQgICAgeGEucHVzaCgoYi5lKGkpIC0gdykgLyB0aGlzLmUoaSwgaSkpO1xuXHR9XG5cblx0cmV0dXJuICRWKHhhKTtcbiAgICB9LFxuXG4gICAgLy8gc29sdmUgYW4gdXBwZXItdHJpYW5ndWxhciBtYXRyaXggKiB4ID0gYiB2aWEgYmFjayBzdWJzdGl0dXRpb25cbiAgICBiYWNrU3Vic3RpdHV0ZTogZnVuY3Rpb24oYikge1xuXHR2YXIgeGEgPSBbXTtcblxuXHRmb3IodmFyIGkgPSB0aGlzLnJvd3MoKTsgaSA+IDA7IGktLSkge1xuXHQgICAgdmFyIHcgPSAwO1xuXG5cdCAgICBmb3IodmFyIGogPSB0aGlzLmNvbHMoKTsgaiA+IGk7IGotLSkge1xuXHRcdHcgKz0gdGhpcy5lKGksIGopICogeGFbdGhpcy5yb3dzKCkgLSBqXTtcblx0ICAgIH1cblxuXHQgICAgeGEucHVzaCgoYi5lKGkpIC0gdykgLyB0aGlzLmUoaSwgaSkpO1xuXHR9XG5cblx0cmV0dXJuICRWKHhhLnJldmVyc2UoKSk7XG4gICAgfSxcbiAgICBcbiAgICBsdUpzOiBsdUpzLFxuICAgIHN2ZEpzOiBzdmRKcyxcbiAgICBxckpzOiBxckpzLFxufTtcblxuXG52YXIgdG9sZXJhbmNlID0gIDEuNDkwMWUtMDg7XG5cbi8vIHB1cmUgSmF2YXNjcmlwdCBMVSBmYWN0b3JpemF0aW9uXG5mdW5jdGlvbiBsdUpzKCkge1xuICAgIHZhciBBID0gdGhpcy5kdXAoKTtcbiAgICB2YXIgTCA9IE1hdHJpeC5JKEEucm93cygpKTtcbiAgICB2YXIgUCA9IE1hdHJpeC5JKEEucm93cygpKTtcbiAgICB2YXIgVSA9IE1hdHJpeC5aZXJvcyhBLnJvd3MoKSwgQS5jb2xzKCkpO1xuICAgIHZhciBwID0gMTtcblxuICAgIGZvcih2YXIgayA9IDE7IGsgPD0gTWF0aC5taW4oQS5jb2xzKCksIEEucm93cygpKTsgaysrKSB7XG5cdFAgPSBBLnBhcnRpYWxQaXZvdChrLCBwLCBQLCBBLCBMKTtcblx0XG5cdGZvcih2YXIgaSA9IGsgKyAxOyBpIDw9IEEucm93cygpOyBpKyspIHtcblx0ICAgIHZhciBsID0gQS5lKGksIHApIC8gQS5lKGssIHApO1xuXHQgICAgTC5lbGVtZW50c1tpIC0gMV1bayAtIDFdID0gbDtcblx0ICAgIFxuXHQgICAgZm9yKHZhciBqID0gayArIDEgOyBqIDw9IEEuY29scygpOyBqKyspIHtcblx0XHRBLmVsZW1lbnRzW2kgLSAxXVtqIC0gMV0gLT0gQS5lKGssIGopICogbDtcblx0ICAgIH1cblx0fVxuXHRcblx0Zm9yKHZhciBqID0gazsgaiA8PSBBLmNvbHMoKTsgaisrKSB7XG5cdCAgICBVLmVsZW1lbnRzW2sgLSAxXVtqIC0gMV0gPSBBLmUoaywgaik7XG5cdH1cblxuXHRpZihwIDwgQS5jb2xzKCkpXG5cdCAgICBwKys7XG4gICAgfSAgICBcbiAgICBcbiAgICByZXR1cm4ge0w6IEwsIFU6IFUsIFA6IFB9O1xufVxuXG5cblxuTWF0cml4LnByb3RvdHlwZS5zdmQgPSBzdmRKcztcbk1hdHJpeC5wcm90b3R5cGUucXIgPSBxckpzO1xuTWF0cml4LnByb3RvdHlwZS5sdSA9IGx1SnM7XG5cbi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uXG5NYXRyaXguY3JlYXRlID0gZnVuY3Rpb24oYUVsZW1lbnRzKSB7XG4gICAgdmFyIE0gPSBuZXcgTWF0cml4KCkuc2V0RWxlbWVudHMoYUVsZW1lbnRzKTtcbiAgICByZXR1cm4gTTtcbn07XG5cbi8vIElkZW50aXR5IG1hdHJpeCBvZiBzaXplIG5cbk1hdHJpeC5JID0gZnVuY3Rpb24obikge1xuICAgIHZhciBlbHMgPSBbXSwgaSA9IG4sIGo7XG4gICAgd2hpbGUgKGktLSkge1xuXHRqID0gbjtcblx0ZWxzW2ldID0gW107XG5cdHdoaWxlIChqLS0pIHtcblx0ICAgIGVsc1tpXVtqXSA9IChpID09IGopID8gMSA6IDA7XG5cdH1cbiAgICB9XG4gICAgcmV0dXJuIE1hdHJpeC5jcmVhdGUoZWxzKTtcbn07XG5cbk1hdHJpeC5sb2FkRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgIHZhciBjb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCAndXRmLTgnKTtcbiAgICB2YXIgbWF0cml4ID0gW107XG5cbiAgICB2YXIgcm93QXJyYXkgPSBjb250ZW50cy5zcGxpdCgnXFxuJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dBcnJheS5sZW5ndGg7IGkrKykge1xuXHR2YXIgZCA9IHJvd0FycmF5W2ldLnNwbGl0KCcsJyk7XG5cdGlmIChkLmxlbmd0aCA+IDEpIHtcblx0ICAgIG1hdHJpeC5wdXNoKGQpO1xuXHR9XG4gICAgfVxuXG4gICAgdmFyIE0gPSBuZXcgTWF0cml4KCk7XG4gICAgcmV0dXJuIE0uc2V0RWxlbWVudHMobWF0cml4KTtcbn07XG5cbi8vIERpYWdvbmFsIG1hdHJpeCAtIGFsbCBvZmYtZGlhZ29uYWwgZWxlbWVudHMgYXJlIHplcm9cbk1hdHJpeC5EaWFnb25hbCA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gICAgdmFyIGkgPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgdmFyIE0gPSBNYXRyaXguSShpKTtcbiAgICB3aGlsZSAoaS0tKSB7XG5cdE0uZWxlbWVudHNbaV1baV0gPSBlbGVtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIE07XG59O1xuXG4vLyBSb3RhdGlvbiBtYXRyaXggYWJvdXQgc29tZSBheGlzLiBJZiBubyBheGlzIGlzXG4vLyBzdXBwbGllZCwgYXNzdW1lIHdlJ3JlIGFmdGVyIGEgMkQgdHJhbnNmb3JtXG5NYXRyaXguUm90YXRpb24gPSBmdW5jdGlvbih0aGV0YSwgYSkge1xuICAgIGlmICghYSkge1xuXHRyZXR1cm4gTWF0cml4LmNyZWF0ZShbXG5cdCAgICBbTWF0aC5jb3ModGhldGEpLCAtTWF0aC5zaW4odGhldGEpXSxcblx0ICAgIFtNYXRoLnNpbih0aGV0YSksIE1hdGguY29zKHRoZXRhKV1cblx0XSk7XG4gICAgfVxuICAgIHZhciBheGlzID0gYS5kdXAoKTtcbiAgICBpZiAoYXhpcy5lbGVtZW50cy5sZW5ndGggIT0gMykgeyByZXR1cm4gbnVsbDsgfVxuICAgIHZhciBtb2QgPSBheGlzLm1vZHVsdXMoKTtcbiAgICB2YXIgeCA9IGF4aXMuZWxlbWVudHNbMF0gLyBtb2QsIHkgPSBheGlzLmVsZW1lbnRzWzFdIC8gbW9kLCB6ID0gYXhpcy5lbGVtZW50c1syXSAvIG1vZDtcbiAgICB2YXIgcyA9IE1hdGguc2luKHRoZXRhKSwgYyA9IE1hdGguY29zKHRoZXRhKSwgdCA9IDEgLSBjO1xuICAgIC8vIEZvcm11bGEgZGVyaXZlZCBoZXJlOiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3JlZmVyZW5jZS9hcnRpY2xlcy9hcnRpY2xlMTE5OS5hc3BcbiAgICAvLyBUaGF0IHByb29mIHJvdGF0ZXMgdGhlIGNvLW9yZGluYXRlIHN5c3RlbSBzbyB0aGV0YVxuICAgIC8vIGJlY29tZXMgLXRoZXRhIGFuZCBzaW4gYmVjb21lcyAtc2luIGhlcmUuXG4gICAgcmV0dXJuIE1hdHJpeC5jcmVhdGUoW1xuXHRbdCAqIHggKiB4ICsgYywgdCAqIHggKiB5IC0gcyAqIHosIHQgKiB4ICogeiArIHMgKiB5XSxcblx0W3QgKiB4ICogeSArIHMgKiB6LCB0ICogeSAqIHkgKyBjLCB0ICogeSAqIHogLSBzICogeF0sXG5cdFt0ICogeCAqIHogLSBzICogeSwgdCAqIHkgKiB6ICsgcyAqIHgsIHQgKiB6ICogeiArIGNdXG4gICAgXSk7XG59O1xuXG4vLyBTcGVjaWFsIGNhc2Ugcm90YXRpb25zXG5NYXRyaXguUm90YXRpb25YID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBjID0gTWF0aC5jb3ModCksIHMgPSBNYXRoLnNpbih0KTtcbiAgICByZXR1cm4gTWF0cml4LmNyZWF0ZShbXG5cdFsxLCAwLCAwXSxcblx0WzAsIGMsIC1zXSxcblx0WzAsIHMsIGNdXG4gICAgXSk7XG59O1xuXG5NYXRyaXguUm90YXRpb25ZID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBjID0gTWF0aC5jb3ModCksIHMgPSBNYXRoLnNpbih0KTtcbiAgICByZXR1cm4gTWF0cml4LmNyZWF0ZShbXG5cdFtjLCAwLCBzXSxcblx0WzAsIDEsIDBdLFxuXHRbLXMsIDAsIGNdXG4gICAgXSk7XG59O1xuXG5NYXRyaXguUm90YXRpb25aID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBjID0gTWF0aC5jb3ModCksIHMgPSBNYXRoLnNpbih0KTtcbiAgICByZXR1cm4gTWF0cml4LmNyZWF0ZShbXG5cdFtjLCAtcywgMF0sXG5cdFtzLCBjLCAwXSxcblx0WzAsIDAsIDFdXG4gICAgXSk7XG59O1xuXG4vLyBSYW5kb20gbWF0cml4IG9mIG4gcm93cywgbSBjb2x1bW5zXG5NYXRyaXguUmFuZG9tID0gZnVuY3Rpb24obiwgbSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSBtID0gbjtcbiAgICByZXR1cm4gTWF0cml4Llplcm8obiwgbSkubWFwKFxuXHRmdW5jdGlvbigpIHsgcmV0dXJuIE1hdGgucmFuZG9tKCk7IH1cbiAgKTtcbn07XG5cbk1hdHJpeC5GaWxsID0gZnVuY3Rpb24obiwgbSwgdikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG5cdHYgPSBtO1xuXHRtID0gbjtcbiAgICB9XG5cbiAgICB2YXIgZWxzID0gW10sIGkgPSBuLCBqO1xuXG4gICAgd2hpbGUgKGktLSkge1xuXHRqID0gbTtcblx0ZWxzW2ldID0gW107XG5cblx0d2hpbGUgKGotLSkge1xuXHQgICAgZWxzW2ldW2pdID0gdjtcblx0fVxuICAgIH1cblxuICAgIHJldHVybiBNYXRyaXguY3JlYXRlKGVscyk7XG59O1xuXG4vLyBNYXRyaXggZmlsbGVkIHdpdGggemVyb3Ncbk1hdHJpeC5aZXJvID0gZnVuY3Rpb24obiwgbSkge1xuICAgIHJldHVybiBNYXRyaXguRmlsbChuLCBtLCAwKTtcbn07XG5cbi8vIE1hdHJpeCBmaWxsZWQgd2l0aCB6ZXJvc1xuTWF0cml4Llplcm9zID0gZnVuY3Rpb24obiwgbSkge1xuICAgIHJldHVybiBNYXRyaXguWmVybyhuLCBtKTtcbn07XG5cbi8vIE1hdHJpeCBmaWxsZWQgd2l0aCBvbmVzXG5NYXRyaXguT25lID0gZnVuY3Rpb24obiwgbSkge1xuICAgIHJldHVybiBNYXRyaXguRmlsbChuLCBtLCAxKTtcbn07XG5cbi8vIE1hdHJpeCBmaWxsZWQgd2l0aCBvbmVzXG5NYXRyaXguT25lcyA9IGZ1bmN0aW9uKG4sIG0pIHtcbiAgICByZXR1cm4gTWF0cml4Lk9uZShuLCBtKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWF0cml4O1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDExLCBDaHJpcyBVbWJlbCwgSmFtZXMgQ29nbGFuXG4vLyBQbGFuZSBjbGFzcyAtIGRlcGVuZHMgb24gVmVjdG9yLiBTb21lIG1ldGhvZHMgcmVxdWlyZSBNYXRyaXggYW5kIExpbmUuXG52YXIgVmVjdG9yID0gcmVxdWlyZSgnLi92ZWN0b3InKTtcbnZhciBNYXRyaXggPSByZXF1aXJlKCcuL21hdHJpeCcpO1xudmFyIExpbmUgPSByZXF1aXJlKCcuL2xpbmUnKTtcblxudmFyIFN5bHZlc3RlciA9IHJlcXVpcmUoJy4vc3lsdmVzdGVyJyk7XG5cbmZ1bmN0aW9uIFBsYW5lKCkge31cblBsYW5lLnByb3RvdHlwZSA9IHtcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBwbGFuZSBvY2N1cGllcyB0aGUgc2FtZSBzcGFjZSBhcyB0aGUgYXJndW1lbnRcbiAgZXFsOiBmdW5jdGlvbihwbGFuZSkge1xuICAgIHJldHVybiAodGhpcy5jb250YWlucyhwbGFuZS5hbmNob3IpICYmIHRoaXMuaXNQYXJhbGxlbFRvKHBsYW5lKSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHBsYW5lXG4gIGR1cDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFBsYW5lLmNyZWF0ZSh0aGlzLmFuY2hvciwgdGhpcy5ub3JtYWwpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiB0cmFuc2xhdGluZyB0aGUgcGxhbmUgYnkgdGhlIGdpdmVuIHZlY3RvclxuICB0cmFuc2xhdGU6IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgIHZhciBWID0gdmVjdG9yLmVsZW1lbnRzIHx8IHZlY3RvcjtcbiAgICByZXR1cm4gUGxhbmUuY3JlYXRlKFtcbiAgICAgIHRoaXMuYW5jaG9yLmVsZW1lbnRzWzBdICsgVlswXSxcbiAgICAgIHRoaXMuYW5jaG9yLmVsZW1lbnRzWzFdICsgVlsxXSxcbiAgICAgIHRoaXMuYW5jaG9yLmVsZW1lbnRzWzJdICsgKFZbMl0gfHwgMClcbiAgICBdLCB0aGlzLm5vcm1hbCk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgcGxhbmUgaXMgcGFyYWxsZWwgdG8gdGhlIGFyZ3VtZW50LiBXaWxsIHJldHVybiB0cnVlXG4gIC8vIGlmIHRoZSBwbGFuZXMgYXJlIGVxdWFsLCBvciBpZiB5b3UgZ2l2ZSBhIGxpbmUgYW5kIGl0IGxpZXMgaW4gdGhlIHBsYW5lLlxuICBpc1BhcmFsbGVsVG86IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0aGV0YTtcbiAgICBpZiAob2JqLm5vcm1hbCkge1xuICAgICAgLy8gb2JqIGlzIGEgcGxhbmVcbiAgICAgIHRoZXRhID0gdGhpcy5ub3JtYWwuYW5nbGVGcm9tKG9iai5ub3JtYWwpO1xuICAgICAgcmV0dXJuIChNYXRoLmFicyh0aGV0YSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbiB8fCBNYXRoLmFicyhNYXRoLlBJIC0gdGhldGEpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pO1xuICAgIH0gZWxzZSBpZiAob2JqLmRpcmVjdGlvbikge1xuICAgICAgLy8gb2JqIGlzIGEgbGluZVxuICAgICAgcmV0dXJuIHRoaXMubm9ybWFsLmlzUGVycGVuZGljdWxhclRvKG9iai5kaXJlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSByZWNlaXZlciBpcyBwZXJwZW5kaWN1bGFyIHRvIHRoZSBhcmd1bWVudFxuICBpc1BlcnBlbmRpY3VsYXJUbzogZnVuY3Rpb24ocGxhbmUpIHtcbiAgICB2YXIgdGhldGEgPSB0aGlzLm5vcm1hbC5hbmdsZUZyb20ocGxhbmUubm9ybWFsKTtcbiAgICByZXR1cm4gKE1hdGguYWJzKE1hdGguUEkvMiAtIHRoZXRhKSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBwbGFuZSdzIGRpc3RhbmNlIGZyb20gdGhlIGdpdmVuIG9iamVjdCAocG9pbnQsIGxpbmUgb3IgcGxhbmUpXG4gIGRpc3RhbmNlRnJvbTogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJzZWN0cyhvYmopIHx8IHRoaXMuY29udGFpbnMob2JqKSkgeyByZXR1cm4gMDsgfVxuICAgIGlmIChvYmouYW5jaG9yKSB7XG4gICAgICAvLyBvYmogaXMgYSBwbGFuZSBvciBsaW5lXG4gICAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBCID0gb2JqLmFuY2hvci5lbGVtZW50cywgTiA9IHRoaXMubm9ybWFsLmVsZW1lbnRzO1xuICAgICAgcmV0dXJuIE1hdGguYWJzKChBWzBdIC0gQlswXSkgKiBOWzBdICsgKEFbMV0gLSBCWzFdKSAqIE5bMV0gKyAoQVsyXSAtIEJbMl0pICogTlsyXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBvaW50XG4gICAgICB2YXIgUCA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG4gICAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHM7XG4gICAgICByZXR1cm4gTWF0aC5hYnMoKEFbMF0gLSBQWzBdKSAqIE5bMF0gKyAoQVsxXSAtIFBbMV0pICogTlsxXSArIChBWzJdIC0gKFBbMl0gfHwgMCkpICogTlsyXSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIHBsYW5lIGNvbnRhaW5zIHRoZSBnaXZlbiBwb2ludCBvciBsaW5lXG4gIGNvbnRhaW5zOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLm5vcm1hbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGlmIChvYmouZGlyZWN0aW9uKSB7XG4gICAgICByZXR1cm4gKHRoaXMuY29udGFpbnMob2JqLmFuY2hvcikgJiYgdGhpcy5jb250YWlucyhvYmouYW5jaG9yLmFkZChvYmouZGlyZWN0aW9uKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgUCA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG4gICAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHM7XG4gICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKE5bMF0qKEFbMF0gLSBQWzBdKSArIE5bMV0qKEFbMV0gLSBQWzFdKSArIE5bMl0qKEFbMl0gLSAoUFsyXSB8fCAwKSkpO1xuICAgICAgcmV0dXJuIChkaWZmIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pO1xuICAgIH1cbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBwbGFuZSBoYXMgYSB1bmlxdWUgcG9pbnQvbGluZSBvZiBpbnRlcnNlY3Rpb24gd2l0aCB0aGUgYXJndW1lbnRcbiAgaW50ZXJzZWN0czogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKHR5cGVvZihvYmouZGlyZWN0aW9uKSA9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Yob2JqLm5vcm1hbCkgPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIG51bGw7IH1cbiAgICByZXR1cm4gIXRoaXMuaXNQYXJhbGxlbFRvKG9iaik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgdW5pcXVlIGludGVyc2VjdGlvbiB3aXRoIHRoZSBhcmd1bWVudCwgaWYgb25lIGV4aXN0cy4gVGhlIHJlc3VsdFxuICAvLyB3aWxsIGJlIGEgdmVjdG9yIGlmIGEgbGluZSBpcyBzdXBwbGllZCwgYW5kIGEgbGluZSBpZiBhIHBsYW5lIGlzIHN1cHBsaWVkLlxuICBpbnRlcnNlY3Rpb25XaXRoOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIXRoaXMuaW50ZXJzZWN0cyhvYmopKSB7IHJldHVybiBudWxsOyB9XG4gICAgaWYgKG9iai5kaXJlY3Rpb24pIHtcbiAgICAgIC8vIG9iaiBpcyBhIGxpbmVcbiAgICAgIHZhciBBID0gb2JqLmFuY2hvci5lbGVtZW50cywgRCA9IG9iai5kaXJlY3Rpb24uZWxlbWVudHMsXG4gICAgICAgICAgUCA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHM7XG4gICAgICB2YXIgbXVsdGlwbGllciA9IChOWzBdKihQWzBdLUFbMF0pICsgTlsxXSooUFsxXS1BWzFdKSArIE5bMl0qKFBbMl0tQVsyXSkpIC8gKE5bMF0qRFswXSArIE5bMV0qRFsxXSArIE5bMl0qRFsyXSk7XG4gICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbQVswXSArIERbMF0qbXVsdGlwbGllciwgQVsxXSArIERbMV0qbXVsdGlwbGllciwgQVsyXSArIERbMl0qbXVsdGlwbGllcl0pO1xuICAgIH0gZWxzZSBpZiAob2JqLm5vcm1hbCkge1xuICAgICAgLy8gb2JqIGlzIGEgcGxhbmVcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm5vcm1hbC5jcm9zcyhvYmoubm9ybWFsKS50b1VuaXRWZWN0b3IoKTtcbiAgICAgIC8vIFRvIGZpbmQgYW4gYW5jaG9yIHBvaW50LCB3ZSBmaW5kIG9uZSBjby1vcmRpbmF0ZSB0aGF0IGhhcyBhIHZhbHVlXG4gICAgICAvLyBvZiB6ZXJvIHNvbWV3aGVyZSBvbiB0aGUgaW50ZXJzZWN0aW9uLCBhbmQgcmVtZW1iZXIgd2hpY2ggb25lIHdlIHBpY2tlZFxuICAgICAgdmFyIE4gPSB0aGlzLm5vcm1hbC5lbGVtZW50cywgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLFxuICAgICAgICAgIE8gPSBvYmoubm9ybWFsLmVsZW1lbnRzLCBCID0gb2JqLmFuY2hvci5lbGVtZW50cztcbiAgICAgIHZhciBzb2x2ZXIgPSBNYXRyaXguWmVybygyLDIpLCBpID0gMDtcbiAgICAgIHdoaWxlIChzb2x2ZXIuaXNTaW5ndWxhcigpKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgc29sdmVyID0gTWF0cml4LmNyZWF0ZShbXG4gICAgICAgICAgWyBOW2klM10sIE5bKGkrMSklM10gXSxcbiAgICAgICAgICBbIE9baSUzXSwgT1soaSsxKSUzXSAgXVxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZW4gd2Ugc29sdmUgdGhlIHNpbXVsdGFuZW91cyBlcXVhdGlvbnMgaW4gdGhlIHJlbWFpbmluZyBkaW1lbnNpb25zXG4gICAgICB2YXIgaW52ZXJzZSA9IHNvbHZlci5pbnZlcnNlKCkuZWxlbWVudHM7XG4gICAgICB2YXIgeCA9IE5bMF0qQVswXSArIE5bMV0qQVsxXSArIE5bMl0qQVsyXTtcbiAgICAgIHZhciB5ID0gT1swXSpCWzBdICsgT1sxXSpCWzFdICsgT1syXSpCWzJdO1xuICAgICAgdmFyIGludGVyc2VjdGlvbiA9IFtcbiAgICAgICAgaW52ZXJzZVswXVswXSAqIHggKyBpbnZlcnNlWzBdWzFdICogeSxcbiAgICAgICAgaW52ZXJzZVsxXVswXSAqIHggKyBpbnZlcnNlWzFdWzFdICogeVxuICAgICAgXTtcbiAgICAgIHZhciBhbmNob3IgPSBbXTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDw9IDM7IGorKykge1xuICAgICAgICAvLyBUaGlzIGZvcm11bGEgcGlja3MgdGhlIHJpZ2h0IGVsZW1lbnQgZnJvbSBpbnRlcnNlY3Rpb24gYnlcbiAgICAgICAgLy8gY3ljbGluZyBkZXBlbmRpbmcgb24gd2hpY2ggZWxlbWVudCB3ZSBzZXQgdG8gemVybyBhYm92ZVxuICAgICAgICBhbmNob3IucHVzaCgoaSA9PSBqKSA/IDAgOiBpbnRlcnNlY3Rpb25bKGogKyAoNSAtIGkpJTMpJTNdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMaW5lLmNyZWF0ZShhbmNob3IsIGRpcmVjdGlvbik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHBvaW50IGluIHRoZSBwbGFuZSBjbG9zZXN0IHRvIHRoZSBnaXZlbiBwb2ludFxuICBwb2ludENsb3Nlc3RUbzogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICB2YXIgUCA9IHBvaW50LmVsZW1lbnRzIHx8IHBvaW50O1xuICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIE4gPSB0aGlzLm5vcm1hbC5lbGVtZW50cztcbiAgICB2YXIgZG90ID0gKEFbMF0gLSBQWzBdKSAqIE5bMF0gKyAoQVsxXSAtIFBbMV0pICogTlsxXSArIChBWzJdIC0gKFBbMl0gfHwgMCkpICogTlsyXTtcbiAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbUFswXSArIE5bMF0gKiBkb3QsIFBbMV0gKyBOWzFdICogZG90LCAoUFsyXSB8fCAwKSArIE5bMl0gKiBkb3RdKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgcGxhbmUsIHJvdGF0ZWQgYnkgdCByYWRpYW5zIGFib3V0IHRoZSBnaXZlbiBsaW5lXG4gIC8vIFNlZSBub3RlcyBvbiBMaW5lI3JvdGF0ZS5cbiAgcm90YXRlOiBmdW5jdGlvbih0LCBsaW5lKSB7XG4gICAgdmFyIFIgPSB0LmRldGVybWluYW50ID8gdC5lbGVtZW50cyA6IE1hdHJpeC5Sb3RhdGlvbih0LCBsaW5lLmRpcmVjdGlvbikuZWxlbWVudHM7XG4gICAgdmFyIEMgPSBsaW5lLnBvaW50Q2xvc2VzdFRvKHRoaXMuYW5jaG9yKS5lbGVtZW50cztcbiAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHM7XG4gICAgdmFyIEMxID0gQ1swXSwgQzIgPSBDWzFdLCBDMyA9IENbMl0sIEExID0gQVswXSwgQTIgPSBBWzFdLCBBMyA9IEFbMl07XG4gICAgdmFyIHggPSBBMSAtIEMxLCB5ID0gQTIgLSBDMiwgeiA9IEEzIC0gQzM7XG4gICAgcmV0dXJuIFBsYW5lLmNyZWF0ZShbXG4gICAgICBDMSArIFJbMF1bMF0gKiB4ICsgUlswXVsxXSAqIHkgKyBSWzBdWzJdICogeixcbiAgICAgIEMyICsgUlsxXVswXSAqIHggKyBSWzFdWzFdICogeSArIFJbMV1bMl0gKiB6LFxuICAgICAgQzMgKyBSWzJdWzBdICogeCArIFJbMl1bMV0gKiB5ICsgUlsyXVsyXSAqIHpcbiAgICBdLCBbXG4gICAgICBSWzBdWzBdICogTlswXSArIFJbMF1bMV0gKiBOWzFdICsgUlswXVsyXSAqIE5bMl0sXG4gICAgICBSWzFdWzBdICogTlswXSArIFJbMV1bMV0gKiBOWzFdICsgUlsxXVsyXSAqIE5bMl0sXG4gICAgICBSWzJdWzBdICogTlswXSArIFJbMl1bMV0gKiBOWzFdICsgUlsyXVsyXSAqIE5bMl1cbiAgICBdKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSByZWZsZWN0aW9uIG9mIHRoZSBwbGFuZSBpbiB0aGUgZ2l2ZW4gcG9pbnQsIGxpbmUgb3IgcGxhbmUuXG4gIHJlZmxlY3Rpb25JbjogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iai5ub3JtYWwpIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBsYW5lXG4gICAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHM7XG4gICAgICB2YXIgQTEgPSBBWzBdLCBBMiA9IEFbMV0sIEEzID0gQVsyXSwgTjEgPSBOWzBdLCBOMiA9IE5bMV0sIE4zID0gTlsyXTtcbiAgICAgIHZhciBuZXdBID0gdGhpcy5hbmNob3IucmVmbGVjdGlvbkluKG9iaikuZWxlbWVudHM7XG4gICAgICAvLyBBZGQgdGhlIHBsYW5lJ3Mgbm9ybWFsIHRvIGl0cyBhbmNob3IsIHRoZW4gbWlycm9yIHRoYXQgaW4gdGhlIG90aGVyIHBsYW5lXG4gICAgICB2YXIgQU4xID0gQTEgKyBOMSwgQU4yID0gQTIgKyBOMiwgQU4zID0gQTMgKyBOMztcbiAgICAgIHZhciBRID0gb2JqLnBvaW50Q2xvc2VzdFRvKFtBTjEsIEFOMiwgQU4zXSkuZWxlbWVudHM7XG4gICAgICB2YXIgbmV3TiA9IFtRWzBdICsgKFFbMF0gLSBBTjEpIC0gbmV3QVswXSwgUVsxXSArIChRWzFdIC0gQU4yKSAtIG5ld0FbMV0sIFFbMl0gKyAoUVsyXSAtIEFOMykgLSBuZXdBWzJdXTtcbiAgICAgIHJldHVybiBQbGFuZS5jcmVhdGUobmV3QSwgbmV3Tik7XG4gICAgfSBlbHNlIGlmIChvYmouZGlyZWN0aW9uKSB7XG4gICAgICAvLyBvYmogaXMgYSBsaW5lXG4gICAgICByZXR1cm4gdGhpcy5yb3RhdGUoTWF0aC5QSSwgb2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb2JqIGlzIGEgcG9pbnRcbiAgICAgIHZhciBQID0gb2JqLmVsZW1lbnRzIHx8IG9iajtcbiAgICAgIHJldHVybiBQbGFuZS5jcmVhdGUodGhpcy5hbmNob3IucmVmbGVjdGlvbkluKFtQWzBdLCBQWzFdLCAoUFsyXSB8fCAwKV0pLCB0aGlzLm5vcm1hbCk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFNldHMgdGhlIGFuY2hvciBwb2ludCBhbmQgbm9ybWFsIHRvIHRoZSBwbGFuZS4gSWYgdGhyZWUgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQsXG4gIC8vIHRoZSBub3JtYWwgaXMgY2FsY3VsYXRlZCBieSBhc3N1bWluZyB0aGUgdGhyZWUgcG9pbnRzIHNob3VsZCBsaWUgaW4gdGhlIHNhbWUgcGxhbmUuXG4gIC8vIElmIG9ubHkgdHdvIGFyZSBzZXBjaWZpZWQsIHRoZSBzZWNvbmQgaXMgdGFrZW4gdG8gYmUgdGhlIG5vcm1hbC4gTm9ybWFsIHZlY3RvciBpc1xuICAvLyBub3JtYWxpc2VkIGJlZm9yZSBzdG9yYWdlLlxuICBzZXRWZWN0b3JzOiBmdW5jdGlvbihhbmNob3IsIHYxLCB2Mikge1xuICAgIGFuY2hvciA9IFZlY3Rvci5jcmVhdGUoYW5jaG9yKTtcbiAgICBhbmNob3IgPSBhbmNob3IudG8zRCgpOyBpZiAoYW5jaG9yID09PSBudWxsKSB7IHJldHVybiBudWxsOyB9XG4gICAgdjEgPSBWZWN0b3IuY3JlYXRlKHYxKTtcbiAgICB2MSA9IHYxLnRvM0QoKTsgaWYgKHYxID09PSBudWxsKSB7IHJldHVybiBudWxsOyB9XG4gICAgaWYgKHR5cGVvZih2MikgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHYyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdjIgPSBWZWN0b3IuY3JlYXRlKHYyKTtcbiAgICAgIHYyID0gdjIudG8zRCgpOyBpZiAodjIgPT09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB9XG4gICAgdmFyIEExID0gYW5jaG9yLmVsZW1lbnRzWzBdLCBBMiA9IGFuY2hvci5lbGVtZW50c1sxXSwgQTMgPSBhbmNob3IuZWxlbWVudHNbMl07XG4gICAgdmFyIHYxMSA9IHYxLmVsZW1lbnRzWzBdLCB2MTIgPSB2MS5lbGVtZW50c1sxXSwgdjEzID0gdjEuZWxlbWVudHNbMl07XG4gICAgdmFyIG5vcm1hbCwgbW9kO1xuICAgIGlmICh2MiAhPT0gbnVsbCkge1xuICAgICAgdmFyIHYyMSA9IHYyLmVsZW1lbnRzWzBdLCB2MjIgPSB2Mi5lbGVtZW50c1sxXSwgdjIzID0gdjIuZWxlbWVudHNbMl07XG4gICAgICBub3JtYWwgPSBWZWN0b3IuY3JlYXRlKFtcbiAgICAgICAgKHYxMiAtIEEyKSAqICh2MjMgLSBBMykgLSAodjEzIC0gQTMpICogKHYyMiAtIEEyKSxcbiAgICAgICAgKHYxMyAtIEEzKSAqICh2MjEgLSBBMSkgLSAodjExIC0gQTEpICogKHYyMyAtIEEzKSxcbiAgICAgICAgKHYxMSAtIEExKSAqICh2MjIgLSBBMikgLSAodjEyIC0gQTIpICogKHYyMSAtIEExKVxuICAgICAgXSk7XG4gICAgICBtb2QgPSBub3JtYWwubW9kdWx1cygpO1xuICAgICAgaWYgKG1vZCA9PT0gMCkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgbm9ybWFsID0gVmVjdG9yLmNyZWF0ZShbbm9ybWFsLmVsZW1lbnRzWzBdIC8gbW9kLCBub3JtYWwuZWxlbWVudHNbMV0gLyBtb2QsIG5vcm1hbC5lbGVtZW50c1syXSAvIG1vZF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2QgPSBNYXRoLnNxcnQodjExKnYxMSArIHYxMip2MTIgKyB2MTMqdjEzKTtcbiAgICAgIGlmIChtb2QgPT09IDApIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgIG5vcm1hbCA9IFZlY3Rvci5jcmVhdGUoW3YxLmVsZW1lbnRzWzBdIC8gbW9kLCB2MS5lbGVtZW50c1sxXSAvIG1vZCwgdjEuZWxlbWVudHNbMl0gLyBtb2RdKTtcbiAgICB9XG4gICAgdGhpcy5hbmNob3IgPSBhbmNob3I7XG4gICAgdGhpcy5ub3JtYWwgPSBub3JtYWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uXG5QbGFuZS5jcmVhdGUgPSBmdW5jdGlvbihhbmNob3IsIHYxLCB2Mikge1xuICB2YXIgUCA9IG5ldyBQbGFuZSgpO1xuICByZXR1cm4gUC5zZXRWZWN0b3JzKGFuY2hvciwgdjEsIHYyKTtcbn07XG5cbi8vIFgtWS1aIHBsYW5lc1xuUGxhbmUuWFkgPSBQbGFuZS5jcmVhdGUoVmVjdG9yLlplcm8oMyksIFZlY3Rvci5rKTtcblBsYW5lLllaID0gUGxhbmUuY3JlYXRlKFZlY3Rvci5aZXJvKDMpLCBWZWN0b3IuaSk7XG5QbGFuZS5aWCA9IFBsYW5lLmNyZWF0ZShWZWN0b3IuWmVybygzKSwgVmVjdG9yLmopO1xuUGxhbmUuWVggPSBQbGFuZS5YWTsgUGxhbmUuWlkgPSBQbGFuZS5ZWjsgUGxhbmUuWFogPSBQbGFuZS5aWDtcblxuLy8gUmV0dXJucyB0aGUgcGxhbmUgY29udGFpbmluZyB0aGUgZ2l2ZW4gcG9pbnRzIChjYW4gYmUgYXJyYXlzIGFzXG4vLyB3ZWxsIGFzIHZlY3RvcnMpLiBJZiB0aGUgcG9pbnRzIGFyZSBub3QgY29wbGFuYXIsIHJldHVybnMgbnVsbC5cblBsYW5lLmZyb21Qb2ludHMgPSBmdW5jdGlvbihwb2ludHMpIHtcbiAgdmFyIG5wID0gcG9pbnRzLmxlbmd0aCwgbGlzdCA9IFtdLCBpLCBQLCBuLCBOLCBBLCBCLCBDLCBELCB0aGV0YSwgcHJldk4sIHRvdGFsTiA9IFZlY3Rvci5aZXJvKDMpO1xuICBmb3IgKGkgPSAwOyBpIDwgbnA7IGkrKykge1xuICAgIFAgPSBWZWN0b3IuY3JlYXRlKHBvaW50c1tpXSkudG8zRCgpO1xuICAgIGlmIChQID09PSBudWxsKSB7IHJldHVybiBudWxsOyB9XG4gICAgbGlzdC5wdXNoKFApO1xuICAgIG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBpZiAobiA+IDIpIHtcbiAgICAgIC8vIENvbXB1dGUgcGxhbmUgbm9ybWFsIGZvciB0aGUgbGF0ZXN0IHRocmVlIHBvaW50c1xuICAgICAgQSA9IGxpc3Rbbi0xXS5lbGVtZW50czsgQiA9IGxpc3Rbbi0yXS5lbGVtZW50czsgQyA9IGxpc3Rbbi0zXS5lbGVtZW50cztcbiAgICAgIE4gPSBWZWN0b3IuY3JlYXRlKFtcbiAgICAgICAgKEFbMV0gLSBCWzFdKSAqIChDWzJdIC0gQlsyXSkgLSAoQVsyXSAtIEJbMl0pICogKENbMV0gLSBCWzFdKSxcbiAgICAgICAgKEFbMl0gLSBCWzJdKSAqIChDWzBdIC0gQlswXSkgLSAoQVswXSAtIEJbMF0pICogKENbMl0gLSBCWzJdKSxcbiAgICAgICAgKEFbMF0gLSBCWzBdKSAqIChDWzFdIC0gQlsxXSkgLSAoQVsxXSAtIEJbMV0pICogKENbMF0gLSBCWzBdKVxuICAgICAgXSkudG9Vbml0VmVjdG9yKCk7XG4gICAgICBpZiAobiA+IDMpIHtcbiAgICAgICAgLy8gSWYgdGhlIGxhdGVzdCBub3JtYWwgaXMgbm90IChhbnRpKXBhcmFsbGVsIHRvIHRoZSBwcmV2aW91cyBvbmUsIHdlJ3ZlIHN0cmF5ZWQgb2ZmIHRoZSBwbGFuZS5cbiAgICAgICAgLy8gVGhpcyBtaWdodCBiZSBhIHNsaWdodGx5IGxvbmctd2luZGVkIHdheSBvZiBkb2luZyB0aGluZ3MsIGJ1dCB3ZSBuZWVkIHRoZSBzdW0gb2YgYWxsIHRoZSBub3JtYWxzXG4gICAgICAgIC8vIHRvIGZpbmQgd2hpY2ggd2F5IHRoZSBwbGFuZSBub3JtYWwgc2hvdWxkIHBvaW50IHNvIHRoYXQgdGhlIHBvaW50cyBmb3JtIGFuIGFudGljbG9ja3dpc2UgbGlzdC5cbiAgICAgICAgdGhldGEgPSBOLmFuZ2xlRnJvbShwcmV2Tik7XG4gICAgICAgIGlmICh0aGV0YSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICghKE1hdGguYWJzKHRoZXRhKSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoZXRhIC0gTWF0aC5QSSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbikpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG90YWxOID0gdG90YWxOLmFkZChOKTtcbiAgICAgIHByZXZOID0gTjtcbiAgICB9XG4gIH1cbiAgLy8gV2UgbmVlZCB0byBhZGQgaW4gdGhlIG5vcm1hbHMgYXQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnRzLCB3aGljaCB0aGUgYWJvdmUgbWlzc2VzIG91dFxuICBBID0gbGlzdFsxXS5lbGVtZW50czsgQiA9IGxpc3RbMF0uZWxlbWVudHM7IEMgPSBsaXN0W24tMV0uZWxlbWVudHM7IEQgPSBsaXN0W24tMl0uZWxlbWVudHM7XG4gIHRvdGFsTiA9IHRvdGFsTi5hZGQoVmVjdG9yLmNyZWF0ZShbXG4gICAgKEFbMV0gLSBCWzFdKSAqIChDWzJdIC0gQlsyXSkgLSAoQVsyXSAtIEJbMl0pICogKENbMV0gLSBCWzFdKSxcbiAgICAoQVsyXSAtIEJbMl0pICogKENbMF0gLSBCWzBdKSAtIChBWzBdIC0gQlswXSkgKiAoQ1syXSAtIEJbMl0pLFxuICAgIChBWzBdIC0gQlswXSkgKiAoQ1sxXSAtIEJbMV0pIC0gKEFbMV0gLSBCWzFdKSAqIChDWzBdIC0gQlswXSlcbiAgXSkudG9Vbml0VmVjdG9yKCkpLmFkZChWZWN0b3IuY3JlYXRlKFtcbiAgICAoQlsxXSAtIENbMV0pICogKERbMl0gLSBDWzJdKSAtIChCWzJdIC0gQ1syXSkgKiAoRFsxXSAtIENbMV0pLFxuICAgIChCWzJdIC0gQ1syXSkgKiAoRFswXSAtIENbMF0pIC0gKEJbMF0gLSBDWzBdKSAqIChEWzJdIC0gQ1syXSksXG4gICAgKEJbMF0gLSBDWzBdKSAqIChEWzFdIC0gQ1sxXSkgLSAoQlsxXSAtIENbMV0pICogKERbMF0gLSBDWzBdKVxuICBdKS50b1VuaXRWZWN0b3IoKSk7XG4gIHJldHVybiBQbGFuZS5jcmVhdGUobGlzdFswXSwgdG90YWxOKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUGxhbmU7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTEsIENocmlzIFVtYmVsLCBKYW1lcyBDb2dsYW5cbi8vIFRoaXMgZmlsZSBpcyByZXF1aXJlZCBpbiBvcmRlciBmb3IgYW55IG90aGVyIGNsYXNzZXMgdG8gd29yay4gU29tZSBWZWN0b3IgbWV0aG9kcyB3b3JrIHdpdGggdGhlXG4vLyBvdGhlciBTeWx2ZXN0ZXIgY2xhc3NlcyBhbmQgYXJlIHVzZWxlc3MgdW5sZXNzIHRoZXkgYXJlIGluY2x1ZGVkLiBPdGhlciBjbGFzc2VzIHN1Y2ggYXMgTGluZSBhbmRcbi8vIFBsYW5lIHdpbGwgbm90IGZ1bmN0aW9uIGF0IGFsbCB3aXRob3V0IFZlY3RvciBiZWluZyBsb2FkZWQgZmlyc3QuICAgICAgICAgICBcblxuTWF0aC5zaWduID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB4IDwgMCA/IC0xOiAxO1xufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxudmFyIFN5bHZlc3RlciA9IHtcbiAgICBwcmVjaXNpb246IDFlLTYsXG4gICAgYXBwcm94UHJlY2lzaW9uOiAxZS01XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bHZlc3RlcjtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxMSwgQ2hyaXMgVW1iZWwsIEphbWVzIENvZ2xhblxuLy8gVGhpcyBmaWxlIGlzIHJlcXVpcmVkIGluIG9yZGVyIGZvciBhbnkgb3RoZXIgY2xhc3NlcyB0byB3b3JrLiBTb21lIFZlY3RvciBtZXRob2RzIHdvcmsgd2l0aCB0aGVcbi8vIG90aGVyIFN5bHZlc3RlciBjbGFzc2VzIGFuZCBhcmUgdXNlbGVzcyB1bmxlc3MgdGhleSBhcmUgaW5jbHVkZWQuIE90aGVyIGNsYXNzZXMgc3VjaCBhcyBMaW5lIGFuZFxuLy8gUGxhbmUgd2lsbCBub3QgZnVuY3Rpb24gYXQgYWxsIHdpdGhvdXQgVmVjdG9yIGJlaW5nIGxvYWRlZCBmaXJzdC5cblxudmFyIFN5bHZlc3RlciA9IHJlcXVpcmUoJy4vc3lsdmVzdGVyJyksXG5NYXRyaXggPSByZXF1aXJlKCcuL21hdHJpeCcpO1xuXG5mdW5jdGlvbiBWZWN0b3IoKSB7fVxuVmVjdG9yLnByb3RvdHlwZSA9IHtcblxuICAgIG5vcm06IGZ1bmN0aW9uKCkge1xuXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHR2YXIgc3VtID0gMDtcblxuXHR3aGlsZSAobi0tKSB7XG5cdCAgICBzdW0gKz0gTWF0aC5wb3codGhpcy5lbGVtZW50c1tuXSwgMik7XG5cdH1cblxuXHRyZXR1cm4gTWF0aC5zcXJ0KHN1bSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgZWxlbWVudCBpIG9mIHRoZSB2ZWN0b3JcbiAgICBlOiBmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gKGkgPCAxIHx8IGkgPiB0aGlzLmVsZW1lbnRzLmxlbmd0aCkgPyBudWxsIDogdGhpcy5lbGVtZW50c1tpIC0gMV07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzL2NvbHVtbnMgdGhlIHZlY3RvciBoYXNcbiAgICBkaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7cm93czogMSwgY29sczogdGhpcy5lbGVtZW50cy5sZW5ndGh9O1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdmVjdG9yXG4gICAgcm93czogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIHZlY3RvclxuICAgIGNvbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBtb2R1bHVzICgnbGVuZ3RoJykgb2YgdGhlIHZlY3RvclxuICAgIG1vZHVsdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRvdCh0aGlzKSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIHZlY3RvciBpcyBlcXVhbCB0byB0aGUgYXJndW1lbnRcbiAgICBlcWw6IGZ1bmN0aW9uKHZlY3Rvcikge1xuICAgIFx0dmFyIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcbiAgICBcdHZhciBWID0gdmVjdG9yLmVsZW1lbnRzIHx8IHZlY3RvcjtcbiAgICBcdGlmIChuICE9IFYubGVuZ3RoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIFx0d2hpbGUgKG4tLSkge1xuICAgIFx0ICAgIGlmIChNYXRoLmFicyh0aGlzLmVsZW1lbnRzW25dIC0gVltuXSkgPiBTeWx2ZXN0ZXIucHJlY2lzaW9uKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIFx0fVxuICAgIFx0cmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSB2ZWN0b3JcbiAgICBkdXA6IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUodGhpcy5lbGVtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIE1hcHMgdGhlIHZlY3RvciB0byBhbm90aGVyIHZlY3RvciBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGZ1bmN0aW9uXG4gICAgbWFwOiBmdW5jdGlvbihmbikge1xuXHR2YXIgZWxlbWVudHMgPSBbXTtcblx0dGhpcy5lYWNoKGZ1bmN0aW9uKHgsIGkpIHtcblx0ICAgIGVsZW1lbnRzLnB1c2goZm4oeCwgaSkpO1xuXHR9KTtcblx0cmV0dXJuIFZlY3Rvci5jcmVhdGUoZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBDYWxscyB0aGUgaXRlcmF0b3IgZm9yIGVhY2ggZWxlbWVudCBvZiB0aGUgdmVjdG9yIGluIHR1cm5cbiAgICBlYWNoOiBmdW5jdGlvbihmbikge1xuXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuXHQgICAgZm4odGhpcy5lbGVtZW50c1tpXSwgaSArIDEpO1xuXHR9XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBuZXcgdmVjdG9yIGNyZWF0ZWQgYnkgbm9ybWFsaXppbmcgdGhlIHJlY2VpdmVyXG4gICAgdG9Vbml0VmVjdG9yOiBmdW5jdGlvbigpIHtcblx0dmFyIHIgPSB0aGlzLm1vZHVsdXMoKTtcblx0aWYgKHIgPT09IDApIHsgcmV0dXJuIHRoaXMuZHVwKCk7IH1cblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggLyByOyB9KTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB0aGUgdmVjdG9yIGFuZCB0aGUgYXJndW1lbnQgKGFsc28gYSB2ZWN0b3IpXG4gICAgYW5nbGVGcm9tOiBmdW5jdGlvbih2ZWN0b3IpIHtcblx0dmFyIFYgPSB2ZWN0b3IuZWxlbWVudHMgfHwgdmVjdG9yO1xuXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBrID0gbiwgaTtcblx0aWYgKG4gIT0gVi5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblx0dmFyIGRvdCA9IDAsIG1vZDEgPSAwLCBtb2QyID0gMDtcblx0Ly8gV29yayB0aGluZ3Mgb3V0IGluIHBhcmFsbGVsIHRvIHNhdmUgdGltZVxuXHR0aGlzLmVhY2goZnVuY3Rpb24oeCwgaSkge1xuXHQgICAgZG90ICs9IHggKiBWW2kgLSAxXTtcblx0ICAgIG1vZDEgKz0geCAqIHg7XG5cdCAgICBtb2QyICs9IFZbaSAtIDFdICogVltpIC0gMV07XG5cdH0pO1xuXHRtb2QxID0gTWF0aC5zcXJ0KG1vZDEpOyBtb2QyID0gTWF0aC5zcXJ0KG1vZDIpO1xuXHRpZiAobW9kMSAqIG1vZDIgPT09IDApIHsgcmV0dXJuIG51bGw7IH1cblx0dmFyIHRoZXRhID0gZG90IC8gKG1vZDEgKiBtb2QyKTtcblx0aWYgKHRoZXRhIDwgLTEpIHsgdGhldGEgPSAtMTsgfVxuXHRpZiAodGhldGEgPiAxKSB7IHRoZXRhID0gMTsgfVxuXHRyZXR1cm4gTWF0aC5hY29zKHRoZXRhKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgdmVjdG9yIGlzIHBhcmFsbGVsIHRvIHRoZSBhcmd1bWVudFxuICAgIGlzUGFyYWxsZWxUbzogZnVuY3Rpb24odmVjdG9yKSB7XG5cdHZhciBhbmdsZSA9IHRoaXMuYW5nbGVGcm9tKHZlY3Rvcik7XG5cdHJldHVybiAoYW5nbGUgPT09IG51bGwpID8gbnVsbCA6IChhbmdsZSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgdmVjdG9yIGlzIGFudGlwYXJhbGxlbCB0byB0aGUgYXJndW1lbnRcbiAgICBpc0FudGlwYXJhbGxlbFRvOiBmdW5jdGlvbih2ZWN0b3IpIHtcblx0dmFyIGFuZ2xlID0gdGhpcy5hbmdsZUZyb20odmVjdG9yKTtcblx0cmV0dXJuIChhbmdsZSA9PT0gbnVsbCkgPyBudWxsIDogKE1hdGguYWJzKGFuZ2xlIC0gTWF0aC5QSSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIHZlY3RvciBpcyBwZXJwZW5kaWN1bGFyIHRvIHRoZSBhcmd1bWVudFxuICAgIGlzUGVycGVuZGljdWxhclRvOiBmdW5jdGlvbih2ZWN0b3IpIHtcblx0dmFyIGRvdCA9IHRoaXMuZG90KHZlY3Rvcik7XG5cdHJldHVybiAoZG90ID09PSBudWxsKSA/IG51bGwgOiAoTWF0aC5hYnMoZG90KSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGFkZGluZyB0aGUgYXJndW1lbnQgdG8gdGhlIHZlY3RvclxuICAgIGFkZDogZnVuY3Rpb24odmFsdWUpIHtcblx0dmFyIFYgPSB2YWx1ZS5lbGVtZW50cyB8fCB2YWx1ZTtcblxuXHRpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggIT0gVi5sZW5ndGgpIFxuXHQgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYgKyB2YWx1ZSB9KTtcblx0ZWxzZVxuXHQgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgsIGkpIHsgcmV0dXJuIHggKyBWW2kgLSAxXTsgfSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBzdWJ0cmFjdGluZyB0aGUgYXJndW1lbnQgZnJvbSB0aGUgdmVjdG9yXG4gICAgc3VidHJhY3Q6IGZ1bmN0aW9uKHYpIHtcblx0aWYgKHR5cGVvZih2KSA9PSAnbnVtYmVyJylcblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihrKSB7IHJldHVybiBrIC0gdjsgfSk7XG5cblx0dmFyIFYgPSB2LmVsZW1lbnRzIHx8IHY7XG5cdGlmICh0aGlzLmVsZW1lbnRzLmxlbmd0aCAhPSBWLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCwgaSkgeyByZXR1cm4geCAtIFZbaSAtIDFdOyB9KTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIG11bHRpcGx5aW5nIHRoZSBlbGVtZW50cyBvZiB0aGUgdmVjdG9yIGJ5IHRoZSBhcmd1bWVudFxuICAgIG11bHRpcGx5OiBmdW5jdGlvbihrKSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiB4ICogazsgfSk7XG4gICAgfSxcblxuICAgIGVsZW1lbnRNdWx0aXBseTogZnVuY3Rpb24odikge1xuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaywgaSkge1xuXHQgICAgcmV0dXJuIHYuZShpKSAqIGs7XG5cdH0pO1xuICAgIH0sXG5cbiAgICBzdW06IGZ1bmN0aW9uKCkge1xuXHR2YXIgc3VtID0gMDtcblx0dGhpcy5tYXAoZnVuY3Rpb24oeCkgeyBzdW0gKz0geDt9KTtcblx0cmV0dXJuIHN1bTtcbiAgICB9LFxuXG4gICAgY2hvbXA6IGZ1bmN0aW9uKG4pIHtcblx0dmFyIGVsZW1lbnRzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IG47IGkgPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBlbGVtZW50cy5wdXNoKHRoaXMuZWxlbWVudHNbaV0pO1xuXHR9XG5cblx0cmV0dXJuIFZlY3Rvci5jcmVhdGUoZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICB0b3A6IGZ1bmN0aW9uKG4pIHtcblx0dmFyIGVsZW1lbnRzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0ICAgIGVsZW1lbnRzLnB1c2godGhpcy5lbGVtZW50c1tpXSk7XG5cdH1cblxuXHRyZXR1cm4gVmVjdG9yLmNyZWF0ZShlbGVtZW50cyk7XG4gICAgfSxcblxuICAgIGF1Z21lbnQ6IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG5cdHZhciBuZXdFbGVtZW50cyA9IHRoaXMuZWxlbWVudHM7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50c1tpXSk7XG5cdH1cblxuXHRyZXR1cm4gVmVjdG9yLmNyZWF0ZShuZXdFbGVtZW50cyk7XG4gICAgfSxcblxuICAgIHg6IGZ1bmN0aW9uKGspIHsgcmV0dXJuIHRoaXMubXVsdGlwbHkoayk7IH0sXG5cbiAgICBsb2c6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gVmVjdG9yLmxvZyh0aGlzKTtcbiAgICB9LFxuXG4gICAgZWxlbWVudERpdmlkZTogZnVuY3Rpb24odmVjdG9yKSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2LCBpKSB7XG5cdCAgICByZXR1cm4gdiAvIHZlY3Rvci5lKGkpO1xuXHR9KTtcbiAgICB9LFxuXG4gICAgcHJvZHVjdDogZnVuY3Rpb24oKSB7XG5cdHZhciBwID0gMTtcblxuXHR0aGlzLm1hcChmdW5jdGlvbih2KSB7XG5cdCAgICBwICo9IHY7XG5cdH0pO1xuXG5cdHJldHVybiBwO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBzY2FsYXIgcHJvZHVjdCBvZiB0aGUgdmVjdG9yIHdpdGggdGhlIGFyZ3VtZW50XG4gICAgLy8gQm90aCB2ZWN0b3JzIG11c3QgaGF2ZSBlcXVhbCBkaW1lbnNpb25hbGl0eVxuICAgIGRvdDogZnVuY3Rpb24odmVjdG9yKSB7XG5cdHZhciBWID0gdmVjdG9yLmVsZW1lbnRzIHx8IHZlY3Rvcjtcblx0dmFyIGksIHByb2R1Y3QgPSAwLCBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XHRcblx0aWYgKG4gIT0gVi5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblx0d2hpbGUgKG4tLSkgeyBwcm9kdWN0ICs9IHRoaXMuZWxlbWVudHNbbl0gKiBWW25dOyB9XG5cdHJldHVybiBwcm9kdWN0O1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSB2ZWN0b3IgcHJvZHVjdCBvZiB0aGUgdmVjdG9yIHdpdGggdGhlIGFyZ3VtZW50XG4gICAgLy8gQm90aCB2ZWN0b3JzIG11c3QgaGF2ZSBkaW1lbnNpb25hbGl0eSAzXG4gICAgY3Jvc3M6IGZ1bmN0aW9uKHZlY3Rvcikge1xuXHR2YXIgQiA9IHZlY3Rvci5lbGVtZW50cyB8fCB2ZWN0b3I7XG5cdGlmICh0aGlzLmVsZW1lbnRzLmxlbmd0aCAhPSAzIHx8IEIubGVuZ3RoICE9IDMpIHsgcmV0dXJuIG51bGw7IH1cblx0dmFyIEEgPSB0aGlzLmVsZW1lbnRzO1xuXHRyZXR1cm4gVmVjdG9yLmNyZWF0ZShbXG5cdCAgICAoQVsxXSAqIEJbMl0pIC0gKEFbMl0gKiBCWzFdKSxcblx0ICAgIChBWzJdICogQlswXSkgLSAoQVswXSAqIEJbMl0pLFxuXHQgICAgKEFbMF0gKiBCWzFdKSAtIChBWzFdICogQlswXSlcblx0XSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIChhYnNvbHV0ZSkgbGFyZ2VzdCBlbGVtZW50IG9mIHRoZSB2ZWN0b3JcbiAgICBtYXg6IGZ1bmN0aW9uKCkge1xuXHR2YXIgbSA9IDAsIGkgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcblx0d2hpbGUgKGktLSkge1xuXHQgICAgaWYgKE1hdGguYWJzKHRoaXMuZWxlbWVudHNbaV0pID4gTWF0aC5hYnMobSkpIHsgbSA9IHRoaXMuZWxlbWVudHNbaV07IH1cblx0fVxuXHRyZXR1cm4gbTtcbiAgICB9LFxuXG5cbiAgICBtYXhJbmRleDogZnVuY3Rpb24oKSB7XG5cdHZhciBtID0gMCwgaSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHR2YXIgbWF4SW5kZXggPSAtMTtcblxuXHR3aGlsZSAoaS0tKSB7XG5cdCAgICBpZiAoTWF0aC5hYnModGhpcy5lbGVtZW50c1tpXSkgPiBNYXRoLmFicyhtKSkgeyBcblx0XHRtID0gdGhpcy5lbGVtZW50c1tpXTsgXG5cdFx0bWF4SW5kZXggPSBpICsgMTtcblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiBtYXhJbmRleDtcbiAgICB9LFxuXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgbWF0Y2ggZm91bmRcbiAgICBpbmRleE9mOiBmdW5jdGlvbih4KSB7XG5cdHZhciBpbmRleCA9IG51bGwsIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0ICAgIGlmIChpbmRleCA9PT0gbnVsbCAmJiB0aGlzLmVsZW1lbnRzW2ldID09IHgpIHtcblx0XHRpbmRleCA9IGkgKyAxO1xuXHQgICAgfVxuXHR9XG5cdHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIGRpYWdvbmFsIG1hdHJpeCB3aXRoIHRoZSB2ZWN0b3IncyBlbGVtZW50cyBhcyBpdHMgZGlhZ29uYWwgZWxlbWVudHNcbiAgICB0b0RpYWdvbmFsTWF0cml4OiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIE1hdHJpeC5EaWFnb25hbCh0aGlzLmVsZW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHJvdW5kaW5nIHRoZSBlbGVtZW50cyBvZiB0aGUgdmVjdG9yXG4gICAgcm91bmQ6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5yb3VuZCh4KTsgfSk7XG4gICAgfSxcblxuICAgIC8vIFRyYW5zcG9zZSBhIFZlY3RvciwgcmV0dXJuIGEgMXhuIE1hdHJpeFxuICAgIHRyYW5zcG9zZTogZnVuY3Rpb24oKSB7XG5cdHZhciByb3dzID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cdHZhciBlbGVtZW50cyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG5cdCAgICBlbGVtZW50cy5wdXNoKFt0aGlzLmVsZW1lbnRzW2ldXSk7XG5cdH1cblx0cmV0dXJuIE1hdHJpeC5jcmVhdGUoZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgdmVjdG9yIHdpdGggZWxlbWVudHMgc2V0IHRvIHRoZSBnaXZlbiB2YWx1ZSBpZiB0aGV5XG4gICAgLy8gZGlmZmVyIGZyb20gaXQgYnkgbGVzcyB0aGFuIFN5bHZlc3Rlci5wcmVjaXNpb25cbiAgICBzbmFwVG86IGZ1bmN0aW9uKHgpIHtcblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHkpIHtcblx0ICAgIHJldHVybiAoTWF0aC5hYnMoeSAtIHgpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pID8geCA6IHk7XG5cdH0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSB2ZWN0b3IncyBkaXN0YW5jZSBmcm9tIHRoZSBhcmd1bWVudCwgd2hlbiBjb25zaWRlcmVkIGFzIGEgcG9pbnQgaW4gc3BhY2VcbiAgICBkaXN0YW5jZUZyb206IGZ1bmN0aW9uKG9iaikge1xuXHRpZiAob2JqLmFuY2hvciB8fCAob2JqLnN0YXJ0ICYmIG9iai5lbmQpKSB7IHJldHVybiBvYmouZGlzdGFuY2VGcm9tKHRoaXMpOyB9XG5cdHZhciBWID0gb2JqLmVsZW1lbnRzIHx8IG9iajtcblx0aWYgKFYubGVuZ3RoICE9IHRoaXMuZWxlbWVudHMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHZhciBzdW0gPSAwLCBwYXJ0O1xuXHR0aGlzLmVhY2goZnVuY3Rpb24oeCwgaSkge1xuXHQgICAgcGFydCA9IHggLSBWW2kgLSAxXTtcblx0ICAgIHN1bSArPSBwYXJ0ICogcGFydDtcblx0fSk7XG5cdHJldHVybiBNYXRoLnNxcnQoc3VtKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSB2ZWN0b3IgaXMgcG9pbnQgb24gdGhlIGdpdmVuIGxpbmVcbiAgICBsaWVzT246IGZ1bmN0aW9uKGxpbmUpIHtcblx0cmV0dXJuIGxpbmUuY29udGFpbnModGhpcyk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybiB0cnVlIGlmZiB0aGUgdmVjdG9yIGlzIGEgcG9pbnQgaW4gdGhlIGdpdmVuIHBsYW5lXG4gICAgbGllc0luOiBmdW5jdGlvbihwbGFuZSkge1xuXHRyZXR1cm4gcGxhbmUuY29udGFpbnModGhpcyk7XG4gICAgfSxcblxuICAgIC8vIFJvdGF0ZXMgdGhlIHZlY3RvciBhYm91dCB0aGUgZ2l2ZW4gb2JqZWN0LiBUaGUgb2JqZWN0IHNob3VsZCBiZSBhXG4gICAgLy8gcG9pbnQgaWYgdGhlIHZlY3RvciBpcyAyRCwgYW5kIGEgbGluZSBpZiBpdCBpcyAzRC4gQmUgY2FyZWZ1bCB3aXRoIGxpbmUgZGlyZWN0aW9ucyFcbiAgICByb3RhdGU6IGZ1bmN0aW9uKHQsIG9iaikge1xuXHR2YXIgViwgUiA9IG51bGwsIHgsIHksIHo7XG5cdGlmICh0LmRldGVybWluYW50KSB7IFIgPSB0LmVsZW1lbnRzOyB9XG5cdHN3aXRjaCAodGhpcy5lbGVtZW50cy5sZW5ndGgpIHtcblx0Y2FzZSAyOlxuICAgICAgICAgICAgViA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG4gICAgICAgICAgICBpZiAoVi5sZW5ndGggIT0gMikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgaWYgKCFSKSB7IFIgPSBNYXRyaXguUm90YXRpb24odCkuZWxlbWVudHM7IH1cbiAgICAgICAgICAgIHggPSB0aGlzLmVsZW1lbnRzWzBdIC0gVlswXTtcbiAgICAgICAgICAgIHkgPSB0aGlzLmVsZW1lbnRzWzFdIC0gVlsxXTtcbiAgICAgICAgICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKFtcblx0XHRWWzBdICsgUlswXVswXSAqIHggKyBSWzBdWzFdICogeSxcblx0XHRWWzFdICsgUlsxXVswXSAqIHggKyBSWzFdWzFdICogeVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBicmVhaztcblx0Y2FzZSAzOlxuICAgICAgICAgICAgaWYgKCFvYmouZGlyZWN0aW9uKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgICAgICB2YXIgQyA9IG9iai5wb2ludENsb3Nlc3RUbyh0aGlzKS5lbGVtZW50cztcbiAgICAgICAgICAgIGlmICghUikgeyBSID0gTWF0cml4LlJvdGF0aW9uKHQsIG9iai5kaXJlY3Rpb24pLmVsZW1lbnRzOyB9XG4gICAgICAgICAgICB4ID0gdGhpcy5lbGVtZW50c1swXSAtIENbMF07XG4gICAgICAgICAgICB5ID0gdGhpcy5lbGVtZW50c1sxXSAtIENbMV07XG4gICAgICAgICAgICB6ID0gdGhpcy5lbGVtZW50c1syXSAtIENbMl07XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbXG5cdFx0Q1swXSArIFJbMF1bMF0gKiB4ICsgUlswXVsxXSAqIHkgKyBSWzBdWzJdICogeixcblx0XHRDWzFdICsgUlsxXVswXSAqIHggKyBSWzFdWzFdICogeSArIFJbMV1bMl0gKiB6LFxuXHRcdENbMl0gKyBSWzJdWzBdICogeCArIFJbMl1bMV0gKiB5ICsgUlsyXVsyXSAqIHpcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cdGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0fVxuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgcmVmbGVjdGluZyB0aGUgcG9pbnQgaW4gdGhlIGdpdmVuIHBvaW50LCBsaW5lIG9yIHBsYW5lXG4gICAgcmVmbGVjdGlvbkluOiBmdW5jdGlvbihvYmopIHtcblx0aWYgKG9iai5hbmNob3IpIHtcblx0ICAgIC8vIG9iaiBpcyBhIHBsYW5lIG9yIGxpbmVcblx0ICAgIHZhciBQID0gdGhpcy5lbGVtZW50cy5zbGljZSgpO1xuXHQgICAgdmFyIEMgPSBvYmoucG9pbnRDbG9zZXN0VG8oUCkuZWxlbWVudHM7XG5cdCAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbQ1swXSArIChDWzBdIC0gUFswXSksIENbMV0gKyAoQ1sxXSAtIFBbMV0pLCBDWzJdICsgKENbMl0gLSAoUFsyXSB8fCAwKSldKTtcblx0fSBlbHNlIHtcblx0ICAgIC8vIG9iaiBpcyBhIHBvaW50XG5cdCAgICB2YXIgUSA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG5cdCAgICBpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggIT0gUS5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4LCBpKSB7IHJldHVybiBRW2kgLSAxXSArIChRW2kgLSAxXSAtIHgpOyB9KTtcblx0fVxuICAgIH0sXG5cbiAgICAvLyBVdGlsaXR5IHRvIG1ha2Ugc3VyZSB2ZWN0b3JzIGFyZSAzRC4gSWYgdGhleSBhcmUgMkQsIGEgemVybyB6LWNvbXBvbmVudCBpcyBhZGRlZFxuICAgIHRvM0Q6IGZ1bmN0aW9uKCkge1xuXHR2YXIgViA9IHRoaXMuZHVwKCk7XG5cdHN3aXRjaCAoVi5lbGVtZW50cy5sZW5ndGgpIHtcblx0Y2FzZSAzOiBicmVhaztcblx0Y2FzZSAyOiBWLmVsZW1lbnRzLnB1c2goMCk7IGJyZWFrO1xuXHRkZWZhdWx0OiByZXR1cm4gbnVsbDtcblx0fVxuXHRyZXR1cm4gVjtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7XG5cdHJldHVybiAnWycgKyB0aGlzLmVsZW1lbnRzLmpvaW4oJywgJykgKyAnXSc7XG4gICAgfSxcblxuICAgIC8vIFNldCB2ZWN0b3IncyBlbGVtZW50cyBmcm9tIGFuIGFycmF5XG4gICAgc2V0RWxlbWVudHM6IGZ1bmN0aW9uKGVscykge1xuXHR0aGlzLmVsZW1lbnRzID0gKGVscy5lbGVtZW50cyB8fCBlbHMpLnNsaWNlKCk7XG5cdHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5cbi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uXG5WZWN0b3IuY3JlYXRlID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcbiAgICB2YXIgViA9IG5ldyBWZWN0b3IoKTtcbiAgICByZXR1cm4gVi5zZXRFbGVtZW50cyhlbGVtZW50cyk7XG59O1xuXG4vLyBpLCBqLCBrIHVuaXQgdmVjdG9yc1xuVmVjdG9yLmkgPSBWZWN0b3IuY3JlYXRlKFsxLCAwLCAwXSk7XG5WZWN0b3IuaiA9IFZlY3Rvci5jcmVhdGUoWzAsIDEsIDBdKTtcblZlY3Rvci5rID0gVmVjdG9yLmNyZWF0ZShbMCwgMCwgMV0pO1xuXG4vLyBSYW5kb20gdmVjdG9yIG9mIHNpemUgblxuVmVjdG9yLlJhbmRvbSA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICB3aGlsZSAobi0tKSB7IGVsZW1lbnRzLnB1c2goTWF0aC5yYW5kb20oKSk7IH1cbiAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShlbGVtZW50cyk7XG59O1xuXG5WZWN0b3IuRmlsbCA9IGZ1bmN0aW9uKG4sIHYpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICB3aGlsZSAobi0tKSB7IGVsZW1lbnRzLnB1c2godik7IH1cbiAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShlbGVtZW50cyk7XG59O1xuXG4vLyBWZWN0b3IgZmlsbGVkIHdpdGggemVyb3NcblZlY3Rvci5aZXJvID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiBWZWN0b3IuRmlsbChuLCAwKTtcbn07XG5cblZlY3Rvci5PbmUgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIFZlY3Rvci5GaWxsKG4sIDEpO1xufTtcblxuVmVjdG9yLmxvZyA9IGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gdi5tYXAoZnVuY3Rpb24oeCkge1xuXHRyZXR1cm4gTWF0aC5sb2coeCk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvcjtcbiIsImV4cG9ydCBjb25zdCBBdHRyaWJ1dGUgPSB7XHJcbiAgICBDT01NQU5EOiAnZGF0YS1jb21tYW5kJyxcclxuICAgIEZVTExfTkFNRTogJ2RhdGEtZnVsbC1uYW1lJyxcclxuICAgIE5BTUU6ICdkYXRhLW5hbWUnLFxyXG4gICAgUElEOiAnZGF0YS1waWQnLFxyXG4gICAgVURJRDogJ2RhdGEtdWRpZCcsXHJcbiAgICBVUkw6ICdkYXRhLXVybCcsXHJcbiAgICBVU0VfUFJPWFk6ICdkYXRhLXVzZS1wcm94eScsXHJcbiAgICBTRUNVUkU6ICdkYXRhLXNlY3VyZScsXHJcbiAgICBIT1NUTkFNRTogJ2RhdGEtaG9zdG5hbWUnLFxyXG4gICAgUE9SVDogJ2RhdGEtcG9ydCcsXHJcbiAgICBQQVRITkFNRTogJ2RhdGEtcGF0aG5hbWUnLFxyXG4gICAgVkFMVUU6ICdkYXRhLXZhbHVlJyxcclxufTtcclxuIiwiaW1wb3J0IFNpemUgZnJvbSAnLi9TaXplJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEaXNwbGF5SW5mbyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfRElTUExBWSA9IDB4MDAwMDAwMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZMQUdfUk9VTkQgPSAwYjEwMDAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGTEFHX1BSRVNFTlRBVElPTiA9IDBiMTAwMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRkxBR19QUklWQVRFID0gMGIxMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZMQUdfU0VDVVJFID0gMGIxMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRkxBR19TVVBQT1JUU19QUk9URUNURURfQlVGRkVSUyA9IDBiMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSU5WQUxJRF9ESVNQTEFZID0gLTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJVRkZFUl9MRU5HVEggPSAyNDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgZGlzcGxheUlkOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHNpemU6IFNpemUsXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHJvdGF0aW9uOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGxheWVyU3RhY2s6IG51bWJlcixcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgZmxhZ3M6IG51bWJlcixcclxuICAgICkge31cclxuXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCB0ZW1wID0gQnVmZmVyLmFsbG9jKERpc3BsYXlJbmZvLkJVRkZFUl9MRU5HVEgpO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIG9mZnNldCA9IHRlbXAud3JpdGVJbnQzMkJFKHRoaXMuZGlzcGxheUlkLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IHRlbXAud3JpdGVJbnQzMkJFKHRoaXMuc2l6ZS53aWR0aCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSB0ZW1wLndyaXRlSW50MzJCRSh0aGlzLnNpemUuaGVpZ2h0LCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IHRlbXAud3JpdGVJbnQzMkJFKHRoaXMucm90YXRpb24sIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gdGVtcC53cml0ZUludDMyQkUodGhpcy5sYXllclN0YWNrLCBvZmZzZXQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidG9CdWZmZXIudGhpcy5zaXplXCIsIHRoaXMuc2l6ZSlcclxuICAgICAgICB0ZW1wLndyaXRlSW50MzJCRSh0aGlzLmZsYWdzLCBvZmZzZXQpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBgRGlzcGxheUluZm97ZGlzcGxheUlkPSR7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUlkfSwgc2l6ZT0ke1xyXG4gICAgICAgICAgICB0aGlzLnNpemV9LCByb3RhdGlvbj0ke1xyXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9ufSwgbGF5ZXJTdGFjaz0ke1xyXG4gICAgICAgICAgICB0aGlzLmxheWVyU3RhY2t9LCBmbGFncz0ke1xyXG4gICAgICAgICAgICB0aGlzLmZsYWdzfX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IERpc3BsYXlJbmZvIHtcclxuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCAhPT0gRGlzcGxheUluZm8uQlVGRkVSX0xFTkdUSCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgSW5jb3JyZWN0IGJ1ZmZlciBsZW5ndGguIEV4cGVjdGVkOiAke0Rpc3BsYXlJbmZvLkJVRkZFUl9MRU5HVEh9LCByZWNlaXZlZDogJHtidWZmZXIubGVuZ3RofWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gYnVmZmVyLnJlYWRJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgY29uc3QgbGF5ZXJTdGFjayA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGNvbnN0IGZsYWdzID0gYnVmZmVyLnJlYWRJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJmcm9tQnVmZmVyLndpZHRoXCIsIHdpZHRoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImZyb21CdWZmZXIuaGVpZ2h0XCIsIGhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwbGF5SW5mbyhkaXNwbGF5SWQsIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpLCByb3RhdGlvbiwgbGF5ZXJTdGFjaywgZmxhZ3MpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdGlvbkV2ZW50IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgQUNUSU9OX0RPV04gPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT05fVVAgPSAxO1xyXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT05fTU9WRSA9IDI7XHJcbiAgICAvKipcclxuICAgICAqIEJ1dHRvbiBjb25zdGFudDogUHJpbWFyeSBidXR0b24gKGxlZnQgbW91c2UgYnV0dG9uKS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBCVVRUT05fUFJJTUFSWTogbnVtYmVyID0gMSA8PCAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnV0dG9uIGNvbnN0YW50OiBTZWNvbmRhcnkgYnV0dG9uIChyaWdodCBtb3VzZSBidXR0b24pLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEJVVFRPTl9TRUNPTkRBUlk6IG51bWJlciA9IDEgPDwgMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1dHRvbiBjb25zdGFudDogVGVydGlhcnkgYnV0dG9uIChtaWRkbGUgbW91c2UgYnV0dG9uKS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBCVVRUT05fVEVSVElBUlk6IG51bWJlciA9IDEgPDwgMjtcclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIFBvaW50SW50ZXJmYWNlIHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnQge1xyXG4gICAgcmVhZG9ubHkgeDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgeTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHgpO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvOiBQb2ludCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzID09PSBvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG8ueCAmJiB0aGlzLnkgPT09IG8ueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzdGFuY2UodG86IFBvaW50KTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy54IC0gdG8ueDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy55IC0gdG8ueTtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgUG9pbnR7eD0ke3RoaXMueH0sIHk9JHt0aGlzLnl9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBQb2ludEludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9pbnQsIHsgUG9pbnRJbnRlcmZhY2UgfSBmcm9tICcuL1BvaW50JztcclxuaW1wb3J0IFNpemUsIHsgU2l6ZUludGVyZmFjZSB9IGZyb20gJy4vU2l6ZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uSW50ZXJmYWNlIHtcclxuICAgIHBvaW50OiBQb2ludEludGVyZmFjZTtcclxuICAgIHNjcmVlblNpemU6IFNpemVJbnRlcmZhY2U7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc2l0aW9uIHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFkb25seSBwb2ludDogUG9pbnQsIHJlYWRvbmx5IHNjcmVlblNpemU6IFNpemUpIHt9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvOiBQb3NpdGlvbik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzID09PSBvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5wb2ludC5lcXVhbHMoby5wb2ludCkgJiYgdGhpcy5zY3JlZW5TaXplLmVxdWFscyhvLnNjcmVlblNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUocm90YXRpb246IG51bWJlcik6IFBvc2l0aW9uIHtcclxuICAgICAgICBzd2l0Y2ggKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KHRoaXMuc2NyZWVuU2l6ZS5oZWlnaHQgLSB0aGlzLnBvaW50LnksIHRoaXMucG9pbnQueCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5TaXplLnJvdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQodGhpcy5zY3JlZW5TaXplLndpZHRoIC0gdGhpcy5wb2ludC54LCB0aGlzLnNjcmVlblNpemUuaGVpZ2h0IC0gdGhpcy5wb2ludC55KSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmVlblNpemUsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLnBvaW50LnksIHRoaXMuc2NyZWVuU2l6ZS53aWR0aCAtIHRoaXMucG9pbnQueCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5TaXplLnJvdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFBvc2l0aW9ue3BvaW50PSR7dGhpcy5wb2ludH0sIHNjcmVlblNpemU9JHt0aGlzLnNjcmVlblNpemV9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBQb3NpdGlvbkludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9pbnQ6IHRoaXMucG9pbnQudG9KU09OKCksXHJcbiAgICAgICAgICAgIHNjcmVlblNpemU6IHRoaXMuc2NyZWVuU2l6ZS50b0pTT04oKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImludGVyZmFjZSBSZWN0SW50ZXJmYWNlIHtcclxuICAgIGxlZnQ6IG51bWJlcjtcclxuICAgIHRvcDogbnVtYmVyO1xyXG4gICAgcmlnaHQ6IG51bWJlcjtcclxuICAgIGJvdHRvbTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGxlZnQ6IG51bWJlciwgcmVhZG9ubHkgdG9wOiBudW1iZXIsIHJlYWRvbmx5IHJpZ2h0OiBudW1iZXIsIHJlYWRvbmx5IGJvdHRvbTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XHJcbiAgICAgICAgdGhpcy5ib3R0b20gPSBib3R0b207XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVxdWFscyhhPzogUmVjdCB8IG51bGwsIGI/OiBSZWN0IHwgbnVsbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghYSAmJiAhYikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICEhYSAmJiAhIWIgJiYgYS5lcXVhbHMoYik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGNvcHkoYT86IFJlY3QgfCBudWxsKTogUmVjdCB8IG51bGwge1xyXG4gICAgICAgIGlmICghYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KGEubGVmdCwgYS50b3AsIGEucmlnaHQsIGEuYm90dG9tKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBlcXVhbHMobzogUmVjdCB8IG51bGwpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcyA9PT0gbykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PT0gby5sZWZ0ICYmIHRoaXMudG9wID09PSBvLnRvcCAmJiB0aGlzLnJpZ2h0ID09PSBvLnJpZ2h0ICYmIHRoaXMuYm90dG9tID09PSBvLmJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yaWdodCAtIHRoaXMubGVmdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tIC0gdGhpcy50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIGBSZWN0e2xlZnQ9JHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0fSwgdG9wPSR7XHJcbiAgICAgICAgICAgIHRoaXMudG9wfSwgcmlnaHQ9JHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodH0sIGJvdHRvbT0ke1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbX19YDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9KU09OKCk6IFJlY3RJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMubGVmdCxcclxuICAgICAgICAgICAgcmlnaHQ6IHRoaXMucmlnaHQsXHJcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AsXHJcbiAgICAgICAgICAgIGJvdHRvbTogdGhpcy5ib3R0b20sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVjdCBmcm9tICcuL1JlY3QnO1xyXG5pbXBvcnQgU2l6ZSBmcm9tICcuL1NpemUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NyZWVuSW5mbyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJVRkZFUl9MRU5HVEg6IG51bWJlciA9IDI1O1xyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY29udGVudFJlY3Q6IFJlY3QsIHJlYWRvbmx5IHZpZGVvU2l6ZTogU2l6ZSwgcmVhZG9ubHkgZGV2aWNlUm90YXRpb246IG51bWJlcikge31cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyOiBCdWZmZXIpOiBTY3JlZW5JbmZvIHtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gYnVmZmVyLnJlYWRJbnQzMkJFKDApO1xyXG4gICAgICAgIGNvbnN0IHRvcCA9IGJ1ZmZlci5yZWFkSW50MzJCRSg0KTtcclxuICAgICAgICBjb25zdCByaWdodCA9IGJ1ZmZlci5yZWFkSW50MzJCRSg4KTtcclxuICAgICAgICBjb25zdCBib3R0b20gPSBidWZmZXIucmVhZEludDMyQkUoMTIpO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gYnVmZmVyLnJlYWRJbnQzMkJFKDE2KTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBidWZmZXIucmVhZEludDMyQkUoMjApO1xyXG4gICAgICAgIGNvbnN0IGRldmljZVJvdGF0aW9uID0gYnVmZmVyLnJlYWRVSW50OCgyNCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTY3JlZW5JbmZvKG5ldyBSZWN0KGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSksIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpLCBkZXZpY2VSb3RhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvPzogU2NyZWVuSW5mbyB8IG51bGwpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIW8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRSZWN0LmVxdWFscyhvLmNvbnRlbnRSZWN0KSAmJlxyXG4gICAgICAgICAgICB0aGlzLnZpZGVvU2l6ZS5lcXVhbHMoby52aWRlb1NpemUpICYmXHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlUm90YXRpb24gPT09IG8uZGV2aWNlUm90YXRpb25cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgU2NyZWVuSW5mb3tjb250ZW50UmVjdD0ke3RoaXMuY29udGVudFJlY3R9LCB2aWRlb1NpemU9JHt0aGlzLnZpZGVvU2l6ZX0sIGRldmljZVJvdGF0aW9uPSR7dGhpcy5kZXZpY2VSb3RhdGlvbn19YDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIFNpemVJbnRlcmZhY2Uge1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaXplIHtcclxuICAgIHB1YmxpYyByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHdpZHRoOiBudW1iZXIsIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53ID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXF1YWxzKGE/OiBTaXplIHwgbnVsbCwgYj86IFNpemUgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFhICYmICFiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gISFhICYmICEhYiAmJiBhLmVxdWFscyhiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvcHkoYT86IFNpemUgfCBudWxsKTogU2l6ZSB8IG51bGwge1xyXG4gICAgICAgIGlmICghYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKGEud2lkdGgsIGEuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53ICogdGhpcy5oO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUoKTogU2l6ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXF1YWxzKG86IFNpemUgfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMgPT09IG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoID09PSBvLndpZHRoICYmIHRoaXMuaGVpZ2h0ID09PSBvLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJzZWN0KG86IFNpemUgfCB1bmRlZmluZWQgfCBudWxsKTogU2l6ZSB7XHJcbiAgICAgICAgaWYgKCFvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtaW5IID0gTWF0aC5taW4odGhpcy5oZWlnaHQsIG8uaGVpZ2h0KTtcclxuICAgICAgICBjb25zdCBtaW5XID0gTWF0aC5taW4odGhpcy53aWR0aCwgby53aWR0aCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKG1pblcsIG1pbkgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRIYWxmU2l6ZSgpOiBTaXplIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNpemUodGhpcy53aWR0aCA+Pj4gMSwgdGhpcy5oZWlnaHQgPj4+IDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgU2l6ZXt3aWR0aD0ke3RoaXMud2lkdGh9LCBoZWlnaHQ9JHt0aGlzLmhlaWdodH19YDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9KU09OKCk6IFNpemVJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3VpZXZlbnRzLWNvZGUvXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUV2ZW50c0NvZGUge1xyXG4gICAgLy8gMy4xLjEuMS4gV3JpdGluZyBTeXN0ZW0gS2V5c1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCYWNrcXVvdGU6IHN0cmluZyA9ICdCYWNrcXVvdGUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCYWNrc2xhc2g6IHN0cmluZyA9ICdCYWNrc2xhc2gnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcmFja2V0TGVmdDogc3RyaW5nID0gJ0JyYWNrZXRMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQnJhY2tldFJpZ2h0OiBzdHJpbmcgPSAnQnJhY2tldFJpZ2h0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29tbWE6IHN0cmluZyA9ICdDb21tYSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0MDogc3RyaW5nID0gJ0RpZ2l0MCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0MTogc3RyaW5nID0gJ0RpZ2l0MSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Mjogc3RyaW5nID0gJ0RpZ2l0Mic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Mzogc3RyaW5nID0gJ0RpZ2l0Myc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0NDogc3RyaW5nID0gJ0RpZ2l0NCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0NTogc3RyaW5nID0gJ0RpZ2l0NSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Njogc3RyaW5nID0gJ0RpZ2l0Nic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Nzogc3RyaW5nID0gJ0RpZ2l0Nyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0ODogc3RyaW5nID0gJ0RpZ2l0OCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0OTogc3RyaW5nID0gJ0RpZ2l0OSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVxdWFsOiBzdHJpbmcgPSAnRXF1YWwnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBJbnRsQmFja3NsYXNoOiBzdHJpbmcgPSAnSW50bEJhY2tzbGFzaCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEludGxSbzogc3RyaW5nID0gJ0ludGxSbyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEludGxZZW46IHN0cmluZyA9ICdJbnRsWWVuJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5QTogc3RyaW5nID0gJ0tleUEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlCOiBzdHJpbmcgPSAnS2V5Qic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUM6IHN0cmluZyA9ICdLZXlDJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5RDogc3RyaW5nID0gJ0tleUQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlFOiBzdHJpbmcgPSAnS2V5RSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUY6IHN0cmluZyA9ICdLZXlGJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Rzogc3RyaW5nID0gJ0tleUcnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlIOiBzdHJpbmcgPSAnS2V5SCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUk6IHN0cmluZyA9ICdLZXlJJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Sjogc3RyaW5nID0gJ0tleUonO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlLOiBzdHJpbmcgPSAnS2V5Syc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUw6IHN0cmluZyA9ICdLZXlMJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5TTogc3RyaW5nID0gJ0tleU0nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlOOiBzdHJpbmcgPSAnS2V5Tic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleU86IHN0cmluZyA9ICdLZXlPJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5UDogc3RyaW5nID0gJ0tleVAnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlROiBzdHJpbmcgPSAnS2V5USc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleVI6IHN0cmluZyA9ICdLZXlSJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Uzogc3RyaW5nID0gJ0tleVMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlUOiBzdHJpbmcgPSAnS2V5VCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleVU6IHN0cmluZyA9ICdLZXlVJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Vjogc3RyaW5nID0gJ0tleVYnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlXOiBzdHJpbmcgPSAnS2V5Vyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleVg6IHN0cmluZyA9ICdLZXlYJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5WTogc3RyaW5nID0gJ0tleVknO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlaOiBzdHJpbmcgPSAnS2V5Wic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1pbnVzOiBzdHJpbmcgPSAnTWludXMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQZXJpb2Q6IHN0cmluZyA9ICdQZXJpb2QnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBRdW90ZTogc3RyaW5nID0gJ1F1b3RlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2VtaWNvbG9uOiBzdHJpbmcgPSAnU2VtaWNvbG9uJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2xhc2g6IHN0cmluZyA9ICdTbGFzaCc7XHJcblxyXG4gICAgLy8gMy4xLjEuMi4gRnVuY3Rpb25hbCBLZXlzXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFsdExlZnQ6IHN0cmluZyA9ICdBbHRMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQWx0UmlnaHQ6IHN0cmluZyA9ICdBbHRSaWdodCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJhY2tzcGFjZTogc3RyaW5nID0gJ0JhY2tzcGFjZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENhcHNMb2NrOiBzdHJpbmcgPSAnQ2Fwc0xvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBDb250ZXh0TWVudTogc3RyaW5nID0gJ0NvbnRleHRNZW51JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29udHJvbExlZnQ6IHN0cmluZyA9ICdDb250cm9sTGVmdCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENvbnRyb2xSaWdodDogc3RyaW5nID0gJ0NvbnRyb2xSaWdodCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVudGVyOiBzdHJpbmcgPSAnRW50ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNZXRhTGVmdDogc3RyaW5nID0gJ01ldGFMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTWV0YVJpZ2h0OiBzdHJpbmcgPSAnTWV0YVJpZ2h0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2hpZnRMZWZ0OiBzdHJpbmcgPSAnU2hpZnRMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2hpZnRSaWdodDogc3RyaW5nID0gJ1NoaWZ0UmlnaHQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBTcGFjZTogc3RyaW5nID0gJ1NwYWNlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVGFiOiBzdHJpbmcgPSAnVGFiJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29udmVydDogc3RyaW5nID0gJ0NvbnZlcnQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLYW5hTW9kZTogc3RyaW5nID0gJ0thbmFNb2RlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGFuZzE6IHN0cmluZyA9ICdMYW5nMSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExhbmcyOiBzdHJpbmcgPSAnTGFuZzInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMYW5nMzogc3RyaW5nID0gJ0xhbmczJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGFuZzQ6IHN0cmluZyA9ICdMYW5nNCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExhbmc1OiBzdHJpbmcgPSAnTGFuZzUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOb25Db252ZXJ0OiBzdHJpbmcgPSAnTm9uQ29udmVydCc7XHJcblxyXG4gICAgLy8gMy4xLjIuIENvbnRyb2wgUGFkIFNlY3Rpb25cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRGVsZXRlOiBzdHJpbmcgPSAnRGVsZXRlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRW5kOiBzdHJpbmcgPSAnRW5kJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSGVscDogc3RyaW5nID0gJ0hlbHAnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIb21lOiBzdHJpbmcgPSAnSG9tZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEluc2VydDogc3RyaW5nID0gJ0luc2VydCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBhZ2VEb3duOiBzdHJpbmcgPSAnUGFnZURvd24nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQYWdlVXA6IHN0cmluZyA9ICdQYWdlVXAnO1xyXG5cclxuICAgIC8vIDMuMS4zLiBBcnJvdyBQYWQgU2VjdGlvblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd0Rvd246IHN0cmluZyA9ICdBcnJvd0Rvd24nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd0xlZnQ6IHN0cmluZyA9ICdBcnJvd0xlZnQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd1JpZ2h0OiBzdHJpbmcgPSAnQXJyb3dSaWdodCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFycm93VXA6IHN0cmluZyA9ICdBcnJvd1VwJztcclxuXHJcbiAgICAvLyAzLjEuNC4gTnVtcGFkIFNlY3Rpb25cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtTG9jazogc3RyaW5nID0gJ051bUxvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQwOiBzdHJpbmcgPSAnTnVtcGFkMCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZDE6IHN0cmluZyA9ICdOdW1wYWQxJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkMjogc3RyaW5nID0gJ051bXBhZDInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQzOiBzdHJpbmcgPSAnTnVtcGFkMyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZDQ6IHN0cmluZyA9ICdOdW1wYWQ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkNTogc3RyaW5nID0gJ051bXBhZDUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQ2OiBzdHJpbmcgPSAnTnVtcGFkNic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZDc6IHN0cmluZyA9ICdOdW1wYWQ3JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkODogc3RyaW5nID0gJ051bXBhZDgnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQ5OiBzdHJpbmcgPSAnTnVtcGFkOSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZEFkZDogc3RyaW5nID0gJ051bXBhZEFkZCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZEJhY2tzcGFjZTogc3RyaW5nID0gJ051bXBhZEJhY2tzcGFjZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZENsZWFyOiBzdHJpbmcgPSAnTnVtcGFkQ2xlYXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRDbGVhckVudHJ5OiBzdHJpbmcgPSAnTnVtcGFkQ2xlYXJFbnRyeSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZENvbW1hOiBzdHJpbmcgPSAnTnVtcGFkQ29tbWEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWREZWNpbWFsOiBzdHJpbmcgPSAnTnVtcGFkRGVjaW1hbCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZERpdmlkZTogc3RyaW5nID0gJ051bXBhZERpdmlkZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZEVudGVyOiBzdHJpbmcgPSAnTnVtcGFkRW50ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRFcXVhbDogc3RyaW5nID0gJ051bXBhZEVxdWFsJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkSGFzaDogc3RyaW5nID0gJ051bXBhZEhhc2gnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRNZW1vcnlBZGQ6IHN0cmluZyA9ICdOdW1wYWRNZW1vcnlBZGQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRNZW1vcnlDbGVhcjogc3RyaW5nID0gJ051bXBhZE1lbW9yeUNsZWFyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkTWVtb3J5UmVjYWxsOiBzdHJpbmcgPSAnTnVtcGFkTWVtb3J5UmVjYWxsJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkTWVtb3J5U3RvcmU6IHN0cmluZyA9ICdOdW1wYWRNZW1vcnlTdG9yZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZE1lbW9yeVN1YnRyYWN0OiBzdHJpbmcgPSAnTnVtcGFkTWVtb3J5U3VidHJhY3QnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRNdWx0aXBseTogc3RyaW5nID0gJ051bXBhZE11bHRpcGx5JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkUGFyZW5MZWZ0OiBzdHJpbmcgPSAnTnVtcGFkUGFyZW5MZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkUGFyZW5SaWdodDogc3RyaW5nID0gJ051bXBhZFBhcmVuUmlnaHQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRTdGFyOiBzdHJpbmcgPSAnTnVtcGFkU3Rhcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZFN1YnRyYWN0OiBzdHJpbmcgPSAnTnVtcGFkU3VidHJhY3QnO1xyXG5cclxuICAgIC8vIDMuMS41LiBGdW5jdGlvbiBTZWN0aW9uXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVzY2FwZTogc3RyaW5nID0gJ0VzY2FwZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxOiBzdHJpbmcgPSAnRjEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGMjogc3RyaW5nID0gJ0YyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRjM6IHN0cmluZyA9ICdGMyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEY0OiBzdHJpbmcgPSAnRjQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGNTogc3RyaW5nID0gJ0Y1JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRjY6IHN0cmluZyA9ICdGNic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEY3OiBzdHJpbmcgPSAnRjcnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGODogc3RyaW5nID0gJ0Y4JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRjk6IHN0cmluZyA9ICdGOSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxMDogc3RyaW5nID0gJ0YxMCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxMTogc3RyaW5nID0gJ0YxMSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxMjogc3RyaW5nID0gJ0YxMic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZuOiBzdHJpbmcgPSAnRm4nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGbkxvY2s6IHN0cmluZyA9ICdGbkxvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQcmludFNjcmVlbjogc3RyaW5nID0gJ1ByaW50U2NyZWVuJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2Nyb2xsTG9jazogc3RyaW5nID0gJ1Njcm9sbExvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQYXVzZTogc3RyaW5nID0gJ1BhdXNlJztcclxuXHJcbiAgICAvLyAzLjEuNi4gTWVkaWEgS2V5c1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcm93c2VyQmFjazogc3RyaW5nID0gJ0Jyb3dzZXJCYWNrJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQnJvd3NlckZhdm9yaXRlczogc3RyaW5nID0gJ0Jyb3dzZXJGYXZvcml0ZXMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcm93c2VyRm9yd2FyZDogc3RyaW5nID0gJ0Jyb3dzZXJGb3J3YXJkJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQnJvd3NlckhvbWU6IHN0cmluZyA9ICdCcm93c2VySG9tZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJyb3dzZXJSZWZyZXNoOiBzdHJpbmcgPSAnQnJvd3NlclJlZnJlc2gnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcm93c2VyU2VhcmNoOiBzdHJpbmcgPSAnQnJvd3NlclNlYXJjaCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJyb3dzZXJTdG9wOiBzdHJpbmcgPSAnQnJvd3NlclN0b3AnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBFamVjdDogc3RyaW5nID0gJ0VqZWN0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGF1bmNoQXBwMTogc3RyaW5nID0gJ0xhdW5jaEFwcDEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMYXVuY2hBcHAyOiBzdHJpbmcgPSAnTGF1bmNoQXBwMic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExhdW5jaE1haWw6IHN0cmluZyA9ICdMYXVuY2hNYWlsJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTWVkaWFQbGF5UGF1c2U6IHN0cmluZyA9ICdNZWRpYVBsYXlQYXVzZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1lZGlhU2VsZWN0OiBzdHJpbmcgPSAnTWVkaWFTZWxlY3QnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNZWRpYVN0b3A6IHN0cmluZyA9ICdNZWRpYVN0b3AnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNZWRpYVRyYWNrTmV4dDogc3RyaW5nID0gJ01lZGlhVHJhY2tOZXh0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTWVkaWFUcmFja1ByZXZpb3VzOiBzdHJpbmcgPSAnTWVkaWFUcmFja1ByZXZpb3VzJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUG93ZXI6IHN0cmluZyA9ICdQb3dlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFNsZWVwOiBzdHJpbmcgPSAnU2xlZXAnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdWRpb1ZvbHVtZURvd246IHN0cmluZyA9ICdBdWRpb1ZvbHVtZURvd24nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdWRpb1ZvbHVtZU11dGU6IHN0cmluZyA9ICdBdWRpb1ZvbHVtZU11dGUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdWRpb1ZvbHVtZVVwOiBzdHJpbmcgPSAnQXVkaW9Wb2x1bWVVcCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFdha2VVcDogc3RyaW5nID0gJ1dha2VVcCc7XHJcblxyXG4gICAgLy8gMy4xLjcuIExlZ2FjeSwgTm9uLVN0YW5kYXJkIGFuZCBTcGVjaWFsIEtleXNcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSHlwZXI6IHN0cmluZyA9ICdIeXBlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFN1cGVyOiBzdHJpbmcgPSAnU3VwZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBUdXJibzogc3RyaW5nID0gJ1R1cmJvJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQWJvcnQ6IHN0cmluZyA9ICdBYm9ydCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJlc3VtZTogc3RyaW5nID0gJ1Jlc3VtZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFN1c3BlbmQ6IHN0cmluZyA9ICdTdXNwZW5kJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQWdhaW46IHN0cmluZyA9ICdBZ2Fpbic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENvcHk6IHN0cmluZyA9ICdDb3B5JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ3V0OiBzdHJpbmcgPSAnQ3V0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRmluZDogc3RyaW5nID0gJ0ZpbmQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBPcGVuOiBzdHJpbmcgPSAnT3Blbic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBhc3RlOiBzdHJpbmcgPSAnUGFzdGUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQcm9wczogc3RyaW5nID0gJ1Byb3BzJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2VsZWN0OiBzdHJpbmcgPSAnU2VsZWN0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVW5kbzogc3RyaW5nID0gJ1VuZG8nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIaXJhZ2FuYTogc3RyaW5nID0gJ0hpcmFnYW5hJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2F0YWthbmE6IHN0cmluZyA9ICdLYXRha2FuYSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFVuaWRlbnRpZmllZDogc3RyaW5nID0gJ1VuaWRlbnRpZmllZCc7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBTVUZGSVg6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgMDogJ0InLFxyXG4gICAgICAgIDE6ICdLaUInLFxyXG4gICAgICAgIDI6ICdNaUInLFxyXG4gICAgICAgIDM6ICdHaUInLFxyXG4gICAgICAgIDQ6ICdUaUInLFxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIHN1cHBvcnRzUGFzc2l2ZVZhbHVlOiBib29sZWFuIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZmlsdGVyVHJhaWxpbmdaZXJvZXMoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHtcclxuICAgICAgICBsZXQgYiA9IDA7XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzXHJcbiAgICAgICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAgICAgLmZpbHRlcigoaSkgPT4gYiB8fCAoYiA9IGkpKVxyXG4gICAgICAgICAgICAucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcHJldHR5Qnl0ZXModmFsdWU6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHN1ZmZpeCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHZhbHVlID49IDUxMikge1xyXG4gICAgICAgICAgICBzdWZmaXgrKztcclxuICAgICAgICAgICAgdmFsdWUgLz0gMTAyNDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlLnRvRml4ZWQoc3VmZml4ID8gMSA6IDApfSR7VXRpbC5TVUZGSVhbc3VmZml4XX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXNjYXBlVWRpZCh1ZGlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAndWRpZF8nICsgdWRpZC5yZXBsYWNlKC9bLiA6XS9nLCAnXycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2UocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMsIG5hbWU6IHN0cmluZywgcmVxdWlyZWQ/OiBib29sZWFuKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiB2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIFwiJHtuYW1lfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlU3RyaW5nKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zLCBuYW1lOiBzdHJpbmcsIHJlcXVpcmVkPzogYm9vbGVhbik6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiB2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIFwiJHtuYW1lfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZSB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlQm9vbGVhbihwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcywgbmFtZTogc3RyaW5nLCByZXF1aXJlZD86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucGFyc2UocGFyYW1zLCBuYW1lLCByZXF1aXJlZCk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnMScgfHwgKCEhdmFsdWUgJiYgdmFsdWUudG9TdHJpbmcoKSA9PT0gJ3RydWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgIHN0YXRpYyBwYXJzZUludChwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcywgbmFtZTogc3RyaW5nLCByZXF1aXJlZD86IGJvb2xlYW4pOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wYXJzZShwYXJhbXMsIG5hbWUsIHJlcXVpcmVkKTtcclxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGludCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XHJcbiAgICAgICAgaWYgKGlzTmFOKGludCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZUJvb2xlYW5FbnYoaW5wdXQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCB8IG51bGwpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyB8fCBpbnB1dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dFtpbnB1dC5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlucHV0ID09PSAnMScgfHwgaW5wdXQudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VTdHJpbmdFbnYoaW5wdXQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgfHwgaW5wdXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXRbaW5wdXQubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VJbnRFbnYoaW5wdXQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgbnVtYmVyIHwgdW5kZWZpbmVkIHwgbnVsbCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyB8fCBpbnB1dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dFtpbnB1dC5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaW50ID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcclxuICAgICAgICBpZiAoaXNOYU4oaW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW50O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iLzUxZTVhNWFjMzczYWVmYTM1NGE5OTE4MTZlYzQxOGQ3MzBlMjlhN2UvY2xvc3VyZS9nb29nL2NyeXB0L2NyeXB0LmpzI0wxMTdcclxuLypcclxuICAgIENvcHlyaWdodCAyMDA4IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAgICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuXHJcbiAgICAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuICAgIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICAgIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcclxuICAgIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gICAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4gICAgLyogdHNsaW50OmRpc2FibGUgKi9cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYSBKUyBzdHJpbmcgdG8gYSBVVEYtOCBcImJ5dGVcIiBhcnJheS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgMTYtYml0IHVuaWNvZGUgc3RyaW5nLlxyXG4gICAgICogQHJldHVybiB7IUFycmF5PG51bWJlcj59IFVURi04IGJ5dGUgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzdHJpbmdUb1V0ZjhCeXRlQXJyYXkgPSBmdW5jdGlvbihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICAgICAgdmFyIG91dCA9IFtdLCBwID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICgoYyAmIDB4RkMwMCkgPT0gMHhEODAwKSAmJiAoaSArIDEpIDwgc3RyLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgKChzdHIuY2hhckNvZGVBdChpICsgMSkgJiAweEZDMDApID09IDB4REMwMCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNGRikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzRkYpO1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKG91dCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYSBVVEYtOCBieXRlIGFycmF5IHRvIEphdmFTY3JpcHQncyAxNi1iaXQgVW5pY29kZS5cclxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheXxBcnJheTxudW1iZXI+fSBieXRlcyBVVEYtOCBieXRlIGFycmF5LlxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAxNi1iaXQgVW5pY29kZSBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB1dGY4Qnl0ZUFycmF5VG9TdHJpbmcoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICAgICAgdmFyIG91dCA9IFtdLCBwb3MgPSAwLCBjID0gMDtcclxuICAgICAgICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBjMSA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMxICYgMzEpIDw8IDYgfCBjMiAmIDYzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjMSA+IDIzOSAmJiBjMSA8IDM2NSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgICAgIHZhciBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgICAgIHZhciBjNCA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgICAgIHZhciB1ID0gKChjMSAmIDcpIDw8IDE4IHwgKGMyICYgNjMpIDw8IDEyIHwgKGMzICYgNjMpIDw8IDYgfCBjNCAmIDYzKSAtXHJcbiAgICAgICAgICAgICAgICAgICAgMHgxMDAwMDtcclxuICAgICAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEQ4MDAgKyAodSA+PiAxMCkpO1xyXG4gICAgICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4REMwMCArICh1ICYgMTAyMykpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICAgICAgb3V0W2MrK10gPVxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoKGMxICYgMTUpIDw8IDEyIHwgKGMyICYgNjMpIDw8IDYgfCBjMyAmIDYzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xyXG4gICAgfTtcclxuICAgIC8qIHRzbGludDplbmFibGUgKi9cclxuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxyXG4gICAgc3RhdGljIHN1cHBvcnRzUGFzc2l2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodHlwZW9mIFV0aWwuc3VwcG9ydHNQYXNzaXZlVmFsdWUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICByZXR1cm4gVXRpbC5zdXBwb3J0c1Bhc3NpdmVWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRlc3QgdmlhIGEgZ2V0dGVyIGluIHRoZSBvcHRpb25zIG9iamVjdCB0byBzZWUgaWYgdGhlIHBhc3NpdmUgcHJvcGVydHkgaXMgYWNjZXNzZWRcclxuICAgICAgICBsZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7fVxyXG5cclxuICAgICAgICByZXR1cm4gVXRpbC5zdXBwb3J0c1Bhc3NpdmVWYWx1ZSA9IHN1cHBvcnRzUGFzc2l2ZTtcclxuXHJcbiAgICAgICAgLy8gVXNlIG91ciBkZXRlY3QncyByZXN1bHRzLiBwYXNzaXZlIGFwcGxpZWQgaWYgc3VwcG9ydGVkLCBjYXB0dXJlIHdpbGwgYmUgZmFsc2UgZWl0aGVyIHdheS5cclxuICAgICAgICAvLyBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmbiwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldEltbWVkaWF0ZShmbjogKCkgPT4gYW55KTogdm9pZCB7XHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlY3QgZnJvbSAnLi9SZWN0JztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi9TaXplJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi9VdGlsJztcclxuXHJcbmludGVyZmFjZSBTZXR0aW5ncyB7XHJcbiAgICBjcm9wPzogUmVjdCB8IG51bGw7XHJcbiAgICBiaXRyYXRlOiBudW1iZXI7XHJcbiAgICBib3VuZHM/OiBTaXplIHwgbnVsbDtcclxuICAgIG1heEZwczogbnVtYmVyO1xyXG4gICAgaUZyYW1lSW50ZXJ2YWw6IG51bWJlcjtcclxuICAgIHNlbmRGcmFtZU1ldGE/OiBib29sZWFuO1xyXG4gICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbj86IG51bWJlcjtcclxuICAgIGRpc3BsYXlJZD86IG51bWJlcjtcclxuICAgIGNvZGVjT3B0aW9ucz86IHN0cmluZztcclxuICAgIGVuY29kZXJOYW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlb1NldHRpbmdzIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQkFTRV9CVUZGRVJfTEVOR1RIOiBudW1iZXIgPSAzNTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjcm9wPzogUmVjdCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGJpdHJhdGU6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYm91bmRzPzogU2l6ZSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1heEZwczogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBpRnJhbWVJbnRlcnZhbDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBzZW5kRnJhbWVNZXRhOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogbnVtYmVyID0gLTE7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGlzcGxheUlkOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvZGVjT3B0aW9ucz86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBlbmNvZGVyTmFtZT86IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhPzogU2V0dGluZ3MsIHB1YmxpYyByZWFkb25seSBieXRlc0xlbmd0aDogbnVtYmVyID0gVmlkZW9TZXR0aW5ncy5CQVNFX0JVRkZFUl9MRU5HVEgpIHtcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmNyb3AgPSBkYXRhLmNyb3A7XHJcbiAgICAgICAgICAgIHRoaXMuYml0cmF0ZSA9IGRhdGEuYml0cmF0ZTtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBkYXRhLmJvdW5kcztcclxuICAgICAgICAgICAgdGhpcy5tYXhGcHMgPSBkYXRhLm1heEZwcztcclxuICAgICAgICAgICAgdGhpcy5pRnJhbWVJbnRlcnZhbCA9IGRhdGEuaUZyYW1lSW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZEZyYW1lTWV0YSA9IGRhdGEuc2VuZEZyYW1lTWV0YSB8fCBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5sb2NrZWRWaWRlb09yaWVudGF0aW9uID0gZGF0YS5sb2NrZWRWaWRlb09yaWVudGF0aW9uIHx8IC0xO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuZGlzcGxheUlkID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oZGF0YS5kaXNwbGF5SWQpICYmIGRhdGEuZGlzcGxheUlkID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUlkID0gZGF0YS5kaXNwbGF5SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEuY29kZWNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvZGVjT3B0aW9ucyA9IGRhdGEuY29kZWNPcHRpb25zLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5lbmNvZGVyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVyTmFtZSA9IGRhdGEuZW5jb2Rlck5hbWUudHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGNvbnN0IGJpdHJhdGUgPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAvKiBBVFggLSBGT1JDRSBTRU5EIEJVRkZFUiAtIG5pY2UgZml4IHgyKi9cclxuICAgICAgICAvKiBjb25zdCBtYXhGcHMgPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTsgKi9cclxuICAgICAgICBjb25zdCBtYXhGcHMgPSAyNDtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBjb25zdCBpRnJhbWVJbnRlcnZhbCA9IGJ1ZmZlci5yZWFkSW50OChvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3QgbGVmdCA9IGJ1ZmZlci5yZWFkSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgIGNvbnN0IHRvcCA9IGJ1ZmZlci5yZWFkSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3QgYm90dG9tID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3Qgc2VuZEZyYW1lTWV0YSA9ICEhYnVmZmVyLnJlYWRJbnQ4KG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDE7XHJcbiAgICAgICAgY29uc3QgbG9ja2VkVmlkZW9PcmllbnRhdGlvbiA9IGJ1ZmZlci5yZWFkSW50OChvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlJZCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGxldCBib3VuZHM6IFNpemUgfCBudWxsID0gbnVsbDtcclxuICAgICAgICBsZXQgY3JvcDogUmVjdCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gMCAmJiBoZWlnaHQgIT09IDApIHtcclxuICAgICAgICAgICAgLyogQVRYIC0gRk9SQ0UgU0VORCBCVUZGRVIgLSBuaWNlIGZpeCovXHJcbiAgICAgICAgICAgIC8qIGJvdW5kcyA9IG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpOyAqL1xyXG4gICAgICAgICAgICBib3VuZHMgPSBuZXcgU2l6ZSgzNjAsIDgwNik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZWZ0IHx8IHRvcCB8fCByaWdodCB8fCBib3R0b20pIHtcclxuICAgICAgICAgICAgY3JvcCA9IG5ldyBSZWN0KGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVmlkZW9TZXR0aW5nczpmcm9tQnVmZmVyIHdpZHRoIGhlaWdodFwiLHdpZHRoLGhlaWdodCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJWaWRlb1NldHRpbmdzOmZyb21CdWZmZXIgYm91bmRzXCIsYm91bmRzKTtcclxuICAgICAgICBsZXQgY29kZWNPcHRpb25zO1xyXG4gICAgICAgIGxldCBlbmNvZGVyTmFtZTtcclxuICAgICAgICBjb25zdCBjb2RlY09wdGlvbnNMZW5ndGggPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBpZiAoY29kZWNPcHRpb25zTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGVjT3B0aW9uc0J5dGVzID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY29kZWNPcHRpb25zTGVuZ3RoKTtcclxuICAgICAgICAgICAgb2Zmc2V0ICs9IGNvZGVjT3B0aW9uc0xlbmd0aDtcclxuICAgICAgICAgICAgY29kZWNPcHRpb25zID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcoY29kZWNPcHRpb25zQnl0ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbmNvZGVyTmFtZUxlbmd0aCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGlmIChlbmNvZGVyTmFtZUxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyTmFtZUJ5dGVzID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZW5jb2Rlck5hbWVMZW5ndGgpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gZW5jb2Rlck5hbWVMZW5ndGg7XHJcbiAgICAgICAgICAgIGVuY29kZXJOYW1lID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcoZW5jb2Rlck5hbWVCeXRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmlkZW9TZXR0aW5ncyhcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY3JvcCxcclxuICAgICAgICAgICAgICAgIGJpdHJhdGUsXHJcbiAgICAgICAgICAgICAgICBib3VuZHMsXHJcbiAgICAgICAgICAgICAgICBtYXhGcHMsXHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb24sXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICBzZW5kRnJhbWVNZXRhLFxyXG4gICAgICAgICAgICAgICAgY29kZWNPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29weShhOiBWaWRlb1NldHRpbmdzKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWaWRlb1NldHRpbmdzKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBiaXRyYXRlOiBhLmJpdHJhdGUsXHJcbiAgICAgICAgICAgICAgICBjcm9wOiBSZWN0LmNvcHkoYS5jcm9wKSxcclxuICAgICAgICAgICAgICAgIGJvdW5kczogU2l6ZS5jb3B5KGEuYm91bmRzKSxcclxuICAgICAgICAgICAgICAgIG1heEZwczogYS5tYXhGcHMsXHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbDogYS5pRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246IGEubG9ja2VkVmlkZW9PcmllbnRhdGlvbixcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlJZDogYS5kaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICBzZW5kRnJhbWVNZXRhOiBhLnNlbmRGcmFtZU1ldGEsXHJcbiAgICAgICAgICAgICAgICBjb2RlY09wdGlvbnM6IGEuY29kZWNPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgZW5jb2Rlck5hbWU6IGEuZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGEuYnl0ZXNMZW5ndGgsXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXF1YWxzKG8/OiBWaWRlb1NldHRpbmdzIHwgbnVsbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghbykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHRoaXMuZW5jb2Rlck5hbWUgPT09IG8uZW5jb2Rlck5hbWUgJiZcclxuICAgICAgICAgICAgdGhpcy5jb2RlY09wdGlvbnMgPT09IG8uY29kZWNPcHRpb25zICYmXHJcbiAgICAgICAgICAgIFJlY3QuZXF1YWxzKHRoaXMuY3JvcCwgby5jcm9wKSAmJlxyXG4gICAgICAgICAgICB0aGlzLmxvY2tlZFZpZGVvT3JpZW50YXRpb24gPT09IG8ubG9ja2VkVmlkZW9PcmllbnRhdGlvbiAmJlxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJZCA9PT0gby5kaXNwbGF5SWQgJiZcclxuICAgICAgICAgICAgU2l6ZS5lcXVhbHModGhpcy5ib3VuZHMsIG8uYm91bmRzKSAmJlxyXG4gICAgICAgICAgICB0aGlzLmJpdHJhdGUgPT09IG8uYml0cmF0ZSAmJlxyXG4gICAgICAgICAgICB0aGlzLm1heEZwcyA9PT0gby5tYXhGcHMgJiZcclxuICAgICAgICAgICAgdGhpcy5pRnJhbWVJbnRlcnZhbCA9PT0gby5pRnJhbWVJbnRlcnZhbFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvQnVmZmVyKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxMZW5ndGggPSAwO1xyXG4gICAgICAgIGxldCBjb2RlY09wdGlvbnNCeXRlcztcclxuICAgICAgICBsZXQgZW5jb2Rlck5hbWVCeXRlcztcclxuICAgICAgICBpZiAodGhpcy5jb2RlY09wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29kZWNPcHRpb25zQnl0ZXMgPSBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheSh0aGlzLmNvZGVjT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxMZW5ndGggKz0gY29kZWNPcHRpb25zQnl0ZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmNvZGVyTmFtZSkge1xyXG4gICAgICAgICAgICBlbmNvZGVyTmFtZUJ5dGVzID0gVXRpbC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXkodGhpcy5lbmNvZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxMZW5ndGggKz0gZW5jb2Rlck5hbWVCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhWaWRlb1NldHRpbmdzLkJBU0VfQlVGRkVSX0xFTkdUSCArIGFkZGl0aW9uYWxMZW5ndGgpO1xyXG4gICAgICAgIC8qIEFUWCAtIEZPUkNFIFNFTkQgQlVGRkVSICovXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHRoaXMuYm91bmRzIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IHsgbGVmdCA9IDAsIHRvcCA9IDAsIHJpZ2h0ID0gMCwgYm90dG9tID0gMCB9ID0gdGhpcy5jcm9wIHx8IHt9O1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5iaXRyYXRlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5tYXhGcHMsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OCh0aGlzLmlGcmFtZUludGVydmFsLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDE2QkUod2lkdGgsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MTZCRShoZWlnaHQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MTZCRShsZWZ0LCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDE2QkUodG9wLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDE2QkUocmlnaHQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MTZCRShib3R0b20sIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OCh0aGlzLnNlbmRGcmFtZU1ldGEgPyAxIDogMCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQ4KHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbiwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKHRoaXMuZGlzcGxheUlkLCBvZmZzZXQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVmlkZW9TZXR0aW5ncy53aWR0aFwiLCB3aWR0aCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJWaWRlb1NldHRpbmdzLmhlaWdodFwiLCBoZWlnaHQpO1xyXG4gICAgICAgIGlmIChjb2RlY09wdGlvbnNCeXRlcykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKGNvZGVjT3B0aW9uc0J5dGVzLmxlbmd0aCwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgYnVmZmVyLmZpbGwoY29kZWNPcHRpb25zQnl0ZXMsIG9mZnNldCk7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSBjb2RlY09wdGlvbnNCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MzJCRSgwLCBvZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW5jb2Rlck5hbWVCeXRlcykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKGVuY29kZXJOYW1lQnl0ZXMubGVuZ3RoLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBidWZmZXIuZmlsbChlbmNvZGVyTmFtZUJ5dGVzLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gZW5jb2Rlck5hbWVCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnVmZmVyLndyaXRlSW50MzJCRSgwLCBvZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBgVmlkZW9TZXR0aW5nc3tiaXRyYXRlPSR7XHJcbiAgICAgICAgICAgIHRoaXMuYml0cmF0ZX0sIG1heEZwcz0ke1xyXG4gICAgICAgICAgICB0aGlzLm1heEZwc30sIGlGcmFtZUludGVydmFsPSR7XHJcbiAgICAgICAgICAgIHRoaXMuaUZyYW1lSW50ZXJ2YWx9LCBib3VuZHM9JHtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHN9LCBjcm9wPSR7XHJcbiAgICAgICAgICAgIHRoaXMuY3JvcH0sIG1ldGFGcmFtZT0ke1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRGcmFtZU1ldGF9LCBsb2NrZWRWaWRlb09yaWVudGF0aW9uPSR7XHJcbiAgICAgICAgICAgIHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbn0sIGRpc3BsYXlJZD0ke1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJZH0sIGNvZGVjT3B0aW9ucz0ke1xyXG4gICAgICAgICAgICB0aGlzLmNvZGVjT3B0aW9uc30sIGVuY29kZXJOYW1lPSR7XHJcbiAgICAgICAgICAgIHRoaXMuZW5jb2Rlck5hbWV9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBTZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYml0cmF0ZTogdGhpcy5iaXRyYXRlLFxyXG4gICAgICAgICAgICBtYXhGcHM6IHRoaXMubWF4RnBzLFxyXG4gICAgICAgICAgICBpRnJhbWVJbnRlcnZhbDogdGhpcy5pRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgYm91bmRzOiB0aGlzLmJvdW5kcyxcclxuICAgICAgICAgICAgY3JvcDogdGhpcy5jcm9wLFxyXG4gICAgICAgICAgICBzZW5kRnJhbWVNZXRhOiB0aGlzLnNlbmRGcmFtZU1ldGEsXHJcbiAgICAgICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246IHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbixcclxuICAgICAgICAgICAgZGlzcGxheUlkOiB0aGlzLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgY29kZWNPcHRpb25zOiB0aGlzLmNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgZW5jb2Rlck5hbWU6IHRoaXMuZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uL2NsaWVudC9CYXNlRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgQXBwbERldmljZURlc2NyaXB0b3IgZnJvbSAnLi4vLi4vLi4vdHlwZXMvQXBwbERldmljZURlc2NyaXB0b3InO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9VdGlsJztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3VpL0h0bWxUYWcnO1xyXG5pbXBvcnQgeyBEZXZpY2VTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9EZXZpY2VTdGF0ZSc7XHJcbmltcG9ydCB7IEhvc3RJdGVtIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvQ29uZmlndXJhdGlvbic7XHJcbmltcG9ydCB7IENoYW5uZWxDb2RlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0NoYW5uZWxDb2RlJztcclxuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4uLy4uL2NsaWVudC9Ub29sJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VUcmFja2VyIGV4dGVuZHMgQmFzZURldmljZVRyYWNrZXI8QXBwbERldmljZURlc2NyaXB0b3IsIG5ldmVyPiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIEFDVElPTiA9IEFDVElPTi5BUFBMX0RFVklDRV9MSVNUO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyB0b29sczogU2V0PFRvb2w+ID0gbmV3IFNldCgpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzQnlVcmw6IE1hcDxzdHJpbmcsIERldmljZVRyYWNrZXI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQoaG9zdEl0ZW06IEhvc3RJdGVtKTogRGV2aWNlVHJhY2tlciB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5idWlsZFVybEZvclRyYWNrZXIoaG9zdEl0ZW0pLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXNCeVVybC5nZXQodXJsKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IERldmljZVRyYWNrZXIoaG9zdEl0ZW0sIHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKGhvc3RJdGVtOiBIb3N0SXRlbSk6IERldmljZVRyYWNrZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KGhvc3RJdGVtKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCB0YWJsZUlkID0gJ2FwcGxfZGV2aWNlc19saXN0JztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogSG9zdEl0ZW0sIGRpcmVjdFVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoeyAuLi5wYXJhbXMsIGFjdGlvbjogRGV2aWNlVHJhY2tlci5BQ1RJT04gfSwgZGlyZWN0VXJsKTtcclxuICAgICAgICBEZXZpY2VUcmFja2VyLmluc3RhbmNlc0J5VXJsLnNldChkaXJlY3RVcmwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYnVpbGREZXZpY2VUYWJsZSgpO1xyXG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRvIG5vdGhpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGJ1aWxkRGV2aWNlUm93KHRib2R5OiBFbGVtZW50LCBkZXZpY2U6IEFwcGxEZXZpY2VEZXNjcmlwdG9yKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgYmxvY2tDbGFzcyA9ICdkZXNjLWJsb2NrJztcclxuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGAke3RoaXMuaWR9XyR7VXRpbC5lc2NhcGVVZGlkKGRldmljZS51ZGlkKX1gO1xyXG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gZGV2aWNlLnN0YXRlID09PSBEZXZpY2VTdGF0ZS5DT05ORUNURUQ7XHJcbiAgICAgICAgY29uc3Qgc2VydmljZXNJZCA9IGBkZXZpY2Vfc2VydmljZXNfJHtmdWxsTmFtZX1gO1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGh0bWxgPGRpdiBjbGFzcz1cImRldmljZSAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnbm90LWFjdGl2ZSd9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLW5hbWVcIj5cIiR7ZGV2aWNlLm5hbWV9XCI8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtbW9kZWxcIj4ke2RldmljZS5tb2RlbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2Utc2VyaWFsXCI+JHtkZXZpY2UudWRpZH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtdmVyc2lvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxlYXNlLXZlcnNpb25cIj4ke2RldmljZS52ZXJzaW9ufTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLXN0YXRlXCIgdGl0bGU9XCJTdGF0ZTogJHtkZXZpY2Uuc3RhdGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtzZXJ2aWNlc0lkfVwiIGNsYXNzPVwic2VydmljZXNcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gLmNvbnRlbnQ7XHJcbiAgICAgICAgY29uc3Qgc2VydmljZXMgPSByb3cuZ2V0RWxlbWVudEJ5SWQoc2VydmljZXNJZCk7XHJcbiAgICAgICAgaWYgKCFzZXJ2aWNlcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBEZXZpY2VUcmFja2VyLnRvb2xzLmZvckVhY2goKHRvb2wpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0b29sLmNyZWF0ZUVudHJ5Rm9yRGV2aWNlTGlzdChkZXZpY2UsIGJsb2NrQ2xhc3MsIHRoaXMucGFyYW1zKTtcclxuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gJiYgc2VydmljZXMuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzLmFwcGVuZENoaWxkKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldENoYW5uZWxDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIENoYW5uZWxDb2RlLkFUUkM7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnRNYXAsIFR5cGVkRW1pdHRlciB9IGZyb20gJy4uLy4uL2NvbW1vbi9UeXBlZEVtaXR0ZXInO1xyXG5pbXBvcnQgeyBQYXJhbXNCYXNlIH0gZnJvbSAnLi4vLi4vdHlwZXMvUGFyYW1zQmFzZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VDbGllbnQ8UCBleHRlbmRzIFBhcmFtc0Jhc2UsIFRFIGV4dGVuZHMgRXZlbnRNYXA+IGV4dGVuZHMgVHlwZWRFbWl0dGVyPFRFPiB7XHJcbiAgICBwcm90ZWN0ZWQgdGl0bGUgPSAnQmFzZUNsaWVudCc7XHJcbiAgICBwcm90ZWN0ZWQgcGFyYW1zOiBQO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwYXJhbXM6IFApIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VQYXJhbWV0ZXJzKHF1ZXJ5OiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNCYXNlIHtcclxuICAgICAgICBjb25zdCBhY3Rpb24gPSBVdGlsLnBhcnNlU3RyaW5nRW52KHF1ZXJ5LmdldCgnYWN0aW9uJykpO1xyXG4gICAgICAgIGlmICghYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBhY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICAgIHVzZVByb3h5OiBVdGlsLnBhcnNlQm9vbGVhbkVudihxdWVyeS5nZXQoJ3VzZVByb3h5JykpLFxyXG4gICAgICAgICAgICBzZWN1cmU6IFV0aWwucGFyc2VCb29sZWFuRW52KHF1ZXJ5LmdldCgnc2VjdXJlJykpLFxyXG4gICAgICAgICAgICBob3N0bmFtZTogVXRpbC5wYXJzZVN0cmluZ0VudihxdWVyeS5nZXQoJ2hvc3RuYW1lJykpLFxyXG4gICAgICAgICAgICBwb3J0OiBVdGlsLnBhcnNlSW50RW52KHF1ZXJ5LmdldCgncG9ydCcpKSxcclxuICAgICAgICAgICAgcGF0aG5hbWU6IFV0aWwucGFyc2VTdHJpbmdFbnYocXVlcnkuZ2V0KCdwYXRobmFtZScpKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRUaXRsZSh0ZXh0ID0gdGhpcy50aXRsZSk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0aXRsZVRhZzogSFRNTFRpdGxlRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gdGl0bGUnKTtcclxuICAgICAgICBpZiAoIXRpdGxlVGFnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGl0bGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGl0bGVUYWcuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Qm9keUNsYXNzKHRleHQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gdGV4dDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNYW5hZ2VyQ2xpZW50IH0gZnJvbSAnLi9NYW5hZ2VyQ2xpZW50JztcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uL3R5cGVzL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBCYXNlRGV2aWNlRGVzY3JpcHRvciB9IGZyb20gJy4uLy4uL3R5cGVzL0Jhc2VEZXZpY2VEZXNjcmlwdG9yJztcclxuaW1wb3J0IHsgRGV2aWNlVHJhY2tlckV2ZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvRGV2aWNlVHJhY2tlckV2ZW50JztcclxuaW1wb3J0IHsgRGV2aWNlVHJhY2tlckV2ZW50TGlzdCB9IGZyb20gJy4uLy4uL3R5cGVzL0RldmljZVRyYWNrZXJFdmVudExpc3QnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vdWkvSHRtbFRhZyc7XHJcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgSG9zdEl0ZW0gfSBmcm9tICcuLi8uLi90eXBlcy9Db25maWd1cmF0aW9uJztcclxuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5pbXBvcnQgeyBFdmVudE1hcCB9IGZyb20gJy4uLy4uL2NvbW1vbi9UeXBlZEVtaXR0ZXInO1xyXG5cclxuY29uc3QgVEFHID0gJ1tCYXNlRGV2aWNlVHJhY2tlcl0nO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VEZXZpY2VUcmFja2VyPEREIGV4dGVuZHMgQmFzZURldmljZURlc2NyaXB0b3IsIFRFIGV4dGVuZHMgRXZlbnRNYXA+IGV4dGVuZHMgTWFuYWdlckNsaWVudDxcclxuICAgIFBhcmFtc0RldmljZVRyYWNrZXIsXHJcbiAgICBURVxyXG4+IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQUNUSU9OX0xJU1QgPSAnZGV2aWNlbGlzdCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFDVElPTl9ERVZJQ0UgPSAnZGV2aWNlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSE9MREVSX0VMRU1FTlRfSUQgPSAnZGV2aWNlcyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEF0dHJpYnV0ZVByZWZpeEludGVyZmFjZVNlbGVjdEZvciA9ICdpbnRlcmZhY2Vfc2VsZWN0X2Zvcl8nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdHRyaWJ1dGVQbGF5ZXJGdWxsTmFtZSA9ICdkYXRhLXBsYXllci1mdWxsLW5hbWUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdHRyaWJ1dGVQbGF5ZXJDb2RlTmFtZSA9ICdkYXRhLXBsYXllci1jb2RlLW5hbWUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdHRyaWJ1dGVQcmVmaXhQbGF5ZXJGb3IgPSAncGxheWVyX2Zvcl8nO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyB0b29sczogU2V0PFRvb2w+ID0gbmV3IFNldCgpO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBpbnN0YW5jZUlkID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyVG9vbCh0b29sOiBUb29sKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b29scy5hZGQodG9vbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZFVybChpdGVtOiBIb3N0SXRlbSk6IFVSTCB7XHJcbiAgICAgICAgY29uc3QgeyBzZWN1cmUsIHBvcnQsIGhvc3RuYW1lIH0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnN0IHBhdGhuYW1lID0gaXRlbS5wYXRobmFtZSA/PyAnLyc7XHJcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBzZWN1cmUgPyAnd3NzOicgOiAnd3M6JztcclxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX0ke3BhdGhuYW1lfWApO1xyXG4gICAgICAgIGlmIChwb3J0KSB7XHJcbiAgICAgICAgICAgIHVybC5wb3J0ID0gcG9ydC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRVcmxGb3JUcmFja2VyKHBhcmFtczogSG9zdEl0ZW0pOiBVUkwge1xyXG4gICAgICAgIGNvbnN0IHdzVXJsID0gdGhpcy5idWlsZFVybChwYXJhbXMpO1xyXG4gICAgICAgIHdzVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsIHRoaXMuQUNUSU9OKTtcclxuICAgICAgICByZXR1cm4gd3NVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZExpbmsocTogYW55LCB0ZXh0OiBzdHJpbmcsIHBhcmFtczogUGFyYW1zRGV2aWNlVHJhY2tlcik6IEhUTUxBbmNob3JFbGVtZW50IHtcclxuICAgICAgICBsZXQgeyBob3N0bmFtZSB9ID0gcGFyYW1zO1xyXG4gICAgICAgIGxldCBwb3J0OiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQgPSBwYXJhbXMucG9ydDtcclxuICAgICAgICBsZXQgcGF0aG5hbWUgPSBwYXJhbXMucGF0aG5hbWUgPz8gbG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAgICAgbGV0IHByb3RvY29sID0gcGFyYW1zLnNlY3VyZSA/ICdodHRwczonIDogJ2h0dHA6JztcclxuICAgICAgICBpZiAocGFyYW1zLnVzZVByb3h5KSB7XHJcbiAgICAgICAgICAgIHEuaG9zdG5hbWUgPSBob3N0bmFtZTtcclxuICAgICAgICAgICAgcS5wb3J0ID0gcG9ydDtcclxuICAgICAgICAgICAgcS5wYXRobmFtZSA9IHBhdGhuYW1lO1xyXG4gICAgICAgICAgICBxLnNlY3VyZSA9IHBhcmFtcy5zZWN1cmU7XHJcbiAgICAgICAgICAgIHEudXNlUHJveHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBwcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sO1xyXG4gICAgICAgICAgICBob3N0bmFtZSA9IGxvY2F0aW9uLmhvc3RuYW1lO1xyXG4gICAgICAgICAgICBwb3J0ID0gbG9jYXRpb24ucG9ydDtcclxuICAgICAgICAgICAgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGFzaCA9IGAjISR7bmV3IFVSTFNlYXJjaFBhcmFtcyhxKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX06JHtwb3J0fSR7cGF0aG5hbWV9JHtoYXNofWApO1xyXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpO1xyXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgYS5jbGFzc0xpc3QuYWRkKGBsaW5rLSR7cS5hY3Rpb259YCk7XHJcbiAgICAgICAgYS5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB0aXRsZSA9ICdEZXZpY2UgbGlzdCc7XHJcbiAgICBwcm90ZWN0ZWQgdGFibGVJZCA9ICdiYXNlX2RldmljZV9saXN0JztcclxuICAgIHByb3RlY3RlZCBkZXNjcmlwdG9yczogRERbXSA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIGVsZW1lbnRJZDogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIHRyYWNrZXJOYW1lID0gJyc7XHJcbiAgICBwcm90ZWN0ZWQgaWQgPSAnJztcclxuICAgIHByaXZhdGUgY3JlYXRlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtZXNzYWdlSWQgPSAwO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsIHByb3RlY3RlZCByZWFkb25seSBkaXJlY3RVcmw6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50SWQgPSBgdHJhY2tlcl9pbnN0YW5jZSR7KytCYXNlRGV2aWNlVHJhY2tlci5pbnN0YW5jZUlkfWA7XHJcbiAgICAgICAgdGhpcy50cmFja2VyTmFtZSA9IGBVbmF2YWlsYWJsZS4gSG9zdDogJHtwYXJhbXMuaG9zdG5hbWV9LCB0eXBlOiAke3BhcmFtcy50eXBlfWA7XHJcbiAgICAgICAgdGhpcy5zZXRCb2R5Q2xhc3MoJ2xpc3QnKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZVBhcmFtZXRlcnMocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNEZXZpY2VUcmFja2VyIHtcclxuICAgICAgICBjb25zdCB0eXBlZFBhcmFtcyA9IHN1cGVyLnBhcnNlUGFyYW1ldGVycyhwYXJhbXMpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3R5cGUnLCB0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSAhPT0gJ2FuZHJvaWQnICYmIHR5cGUgIT09ICdpb3MnKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgdHlwZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyAuLi50eXBlZFBhcmFtcywgdHlwZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXROZXh0SWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKyt0aGlzLm1lc3NhZ2VJZDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYnVpbGREZXZpY2VUYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kZXNjcmlwdG9ycztcclxuICAgICAgICBjb25zdCBkZXZpY2VzID0gdGhpcy5nZXRPckNyZWF0ZVRhYmxlSG9sZGVyKCk7XHJcbiAgICAgICAgY29uc3QgdGJvZHkgPSB0aGlzLmdldE9yQnVpbGRUYWJsZUJvZHkoZGV2aWNlcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJsb2NrID0gdGhpcy5nZXRPckNyZWF0ZVRyYWNrZXJCbG9jayh0Ym9keSwgdGhpcy50cmFja2VyTmFtZSk7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGREZXZpY2VSb3coYmxvY2ssIGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TmFtZVZhbHVlKHBhcmVudDogRWxlbWVudCB8IG51bGwsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmFtZUJsb2NrSWQgPSBgJHt0aGlzLmVsZW1lbnRJZH1fbmFtZWA7XHJcbiAgICAgICAgbGV0IG5hbWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWVCbG9ja0lkKTtcclxuICAgICAgICBpZiAoIW5hbWVFbCkge1xyXG4gICAgICAgICAgICBuYW1lRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbmFtZUVsLmlkID0gbmFtZUJsb2NrSWQ7XHJcbiAgICAgICAgICAgIG5hbWVFbC5jbGFzc05hbWUgPSAndHJhY2tlci1uYW1lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgbmFtZUVsLmlubmVyVGV4dCA9IG5hbWU7XHJcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuYW1lRWwsIHBhcmVudC5maXJzdENoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE9yQ3JlYXRlVHJhY2tlckJsb2NrKHBhcmVudDogRWxlbWVudCwgY29udHJvbENlbnRlck5hbWU6IHN0cmluZyk6IEVsZW1lbnQge1xyXG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoIWVsKSB7XHJcbiAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGVsLmlkID0gdGhpcy5lbGVtZW50SWQ7XHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKGVsLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuY2hpbGRyZW5bMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TmFtZVZhbHVlKGVsLCBjb250cm9sQ2VudGVyTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBidWlsZERldmljZVJvdyh0Ym9keTogRWxlbWVudCwgZGV2aWNlOiBERCk6IHZvaWQ7XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXZlbnQ6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhUQUcsIGBDb25uZWN0aW9uIGNsb3NlZDogJHtldmVudC5yZWFzb259YCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEJhc2VEZXZpY2VUcmFja2VyLkFDVElPTl9MSVNUOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG1lc3NhZ2UuZGF0YSBhcyBEZXZpY2VUcmFja2VyRXZlbnRMaXN0PEREPjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRvcnMgPSBldmVudC5saXN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZEFuZEhvc3ROYW1lKGV2ZW50LmlkLCBldmVudC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGREZXZpY2VUYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBCYXNlRGV2aWNlVHJhY2tlci5BQ1RJT05fREVWSUNFOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG1lc3NhZ2UuZGF0YSBhcyBEZXZpY2VUcmFja2VyRXZlbnQ8REQ+O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZEFuZEhvc3ROYW1lKGV2ZW50LmlkLCBldmVudC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGVzY3JpcHRvcihldmVudC5kZXZpY2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERldmljZVRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7bWVzc2FnZS50eXBlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0SWRBbmRIb3N0TmFtZShpZDogc3RyaW5nLCB0cmFja2VyTmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWQgPT09IGlkICYmIHRoaXMudHJhY2tlck5hbWUgPT09IHRyYWNrZXJOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMudHJhY2tlck5hbWUgPSB0cmFja2VyTmFtZTtcclxuICAgICAgICB0aGlzLnNldE5hbWVWYWx1ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsZW1lbnRJZCksIHRyYWNrZXJOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0T3JDcmVhdGVUYWJsZUhvbGRlcigpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBCYXNlRGV2aWNlVHJhY2tlci5IT0xERVJfRUxFTUVOVF9JRDtcclxuICAgICAgICBsZXQgZGV2aWNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICBpZiAoIWRldmljZXMpIHtcclxuICAgICAgICAgICAgZGV2aWNlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkZXZpY2VzLmlkID0gaWQ7XHJcbiAgICAgICAgICAgIGRldmljZXMuY2xhc3NOYW1lID0gJ3RhYmxlLXdyYXBwZXInO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRldmljZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGV2aWNlcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdXBkYXRlRGVzY3JpcHRvcihkZXNjcmlwdG9yOiBERCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZGVzY3JpcHRvcnMuZmluZEluZGV4KChpdGVtOiBERCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS51ZGlkID09PSBkZXNjcmlwdG9yLnVkaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdG9yc1tpZHhdID0gZGVzY3JpcHRvcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0b3JzLnB1c2goZGVzY3JpcHRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRPckJ1aWxkVGFibGVCb2R5KHBhcmVudDogSFRNTEVsZW1lbnQpOiBFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSAnZGV2aWNlLWxpc3QnO1xyXG4gICAgICAgIGxldCB0Ym9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIGAjJHtCYXNlRGV2aWNlVHJhY2tlci5IT0xERVJfRUxFTUVOVF9JRH0gIyR7dGhpcy50YWJsZUlkfS4ke2NsYXNzTmFtZX1gLFxyXG4gICAgICAgICkgYXMgRWxlbWVudDtcclxuICAgICAgICBpZiAoIXRib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaHRtbGA8ZGl2IGlkPVwiJHt0aGlzLnRhYmxlSWR9XCIgY2xhc3M9XCIke2NsYXNzTmFtZX1cIj48L2Rpdj5gLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBwYXJlbnQuY2hpbGRyZW4uaXRlbShwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0Ym9keSA9IGxhc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRib2R5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXNjcmlwdG9yQnlVZGlkKHVkaWQ6IHN0cmluZyk6IEREIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGVzY3JpcHRvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcnMuZmluZCgoZGVzY3JpcHRvcjogREQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IudWRpZCA9PT0gdWRpZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxlbWVudElkKTtcclxuICAgICAgICAgICAgaWYgKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhcmVudEVsZW1lbnQgfSA9IGVsO1xyXG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50RWxlbWVudCAmJiAhcGFyZW50RWxlbWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEJhc2VEZXZpY2VUcmFja2VyLkhPTERFUl9FTEVNRU5UX0lEKTtcclxuICAgICAgICBpZiAoaG9sZGVyICYmICFob2xkZXIuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGhvbGRlci5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN1cHBvcnRNdWx0aXBsZXhpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldENoYW5uZWxDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gTXVzdCBvdmVycmlkZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsSW5pdERhdGEoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBjb2RlID0gdGhpcy5nZXRDaGFubmVsQ29kZSgpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhjb2RlLmxlbmd0aCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlKGNvZGUsICdhc2NpaScpO1xyXG4gICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTWFuYWdlckNsaWVudCB9IGZyb20gJy4vTWFuYWdlckNsaWVudCc7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuLi8uLi90eXBlcy9NZXNzYWdlJztcclxuaW1wb3J0IHsgTWVzc2FnZUVycm9yLCBNZXNzYWdlSG9zdHMsIE1lc3NhZ2VUeXBlIH0gZnJvbSAnLi4vLi4vY29tbW9uL0hvc3RUcmFja2VyTWVzc2FnZSc7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgeyBEZXZpY2VUcmFja2VyIGFzIEdvb2dEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi4vZ29vZ0RldmljZS9jbGllbnQvRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCB7IERldmljZVRyYWNrZXIgYXMgQXBwbERldmljZVRyYWNrZXIgfSBmcm9tICcuLi9hcHBsRGV2aWNlL2NsaWVudC9EZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgUGFyYW1zQmFzZSB9IGZyb20gJy4uLy4uL3R5cGVzL1BhcmFtc0Jhc2UnO1xyXG5pbXBvcnQgeyBIb3N0SXRlbSB9IGZyb20gJy4uLy4uL3R5cGVzL0NvbmZpZ3VyYXRpb24nO1xyXG5pbXBvcnQgeyBDaGFubmVsQ29kZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9DaGFubmVsQ29kZSc7XHJcblxyXG5jb25zdCBUQUcgPSAnW0hvc3RUcmFja2VyXSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhvc3RUcmFja2VyRXZlbnRzIHtcclxuICAgIC8vIGhvc3RzOiBIb3N0SXRlbVtdO1xyXG4gICAgZGlzY29ubmVjdGVkOiBDbG9zZUV2ZW50O1xyXG4gICAgZXJyb3I6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhvc3RUcmFja2VyIGV4dGVuZHMgTWFuYWdlckNsaWVudDxQYXJhbXNCYXNlLCBIb3N0VHJhY2tlckV2ZW50cz4ge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U/OiBIb3N0VHJhY2tlcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2V0SW5zdGFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEhvc3RUcmFja2VyIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBIb3N0VHJhY2tlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRyYWNrZXJzOiBBcnJheTxHb29nRGV2aWNlVHJhY2tlciB8IEFwcGxEZXZpY2VUcmFja2VyPiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHsgYWN0aW9uOiBBQ1RJT04uTElTVF9IT1NUUyB9KTtcclxuICAgICAgICB0aGlzLm9wZW5OZXdDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHRoaXMud3MpIHtcclxuICAgICAgICAgICAgdGhpcy53cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXY6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhUQUcsICdXUyBjbG9zZWQnKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcsIGV2KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiByZXdyaXRlIHRvIGJpbmFyeVxyXG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkVSUk9SOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBtZXNzYWdlIGFzIE1lc3NhZ2VFcnJvcjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBtc2cuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5IT1NUUzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gbWVzc2FnZSBhcyBNZXNzYWdlSG9zdHM7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmVtaXQoJ2hvc3RzJywgbXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1zZy5kYXRhLmxvY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnLmRhdGEubG9jYWwuZm9yRWFjaCgoeyB0eXBlIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdXJlID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3J0ID0gbG9jYXRpb24ucG9ydCA/IHBhcnNlSW50KGxvY2F0aW9uLnBvcnQsIDEwKSA6IHNlY3VyZSA/IDQ0MyA6IDgwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGhvc3RuYW1lLCBwYXRobmFtZSB9ID0gbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSAnYW5kcm9pZCcgJiYgdHlwZSAhPT0gJ2lvcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGBVbnN1cHBvcnRlZCBob3N0IHR5cGU6IFwiJHt0eXBlfVwiYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdEl0ZW06IEhvc3RJdGVtID0geyB1c2VQcm94eTogZmFsc2UsIHNlY3VyZSwgcG9ydCwgaG9zdG5hbWUsIHBhdGhuYW1lLCB0eXBlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUcmFja2VyKGhvc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtc2cuZGF0YS5yZW1vdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtc2cuZGF0YS5yZW1vdGUuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5zdGFydFRyYWNrZXIoaXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgYFVua25vd24gbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydFRyYWNrZXIoaG9zdEl0ZW06IEhvc3RJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgc3dpdGNoIChob3N0SXRlbS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FuZHJvaWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2Vycy5wdXNoKEdvb2dEZXZpY2VUcmFja2VyLnN0YXJ0KGhvc3RJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaW9zJzpcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlcnMucHVzaChBcHBsRGV2aWNlVHJhY2tlci5zdGFydChob3N0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBgVW5zdXBwb3J0ZWQgaG9zdCB0eXBlOiBcIiR7aG9zdEl0ZW0udHlwZX1cImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRvIG5vdGhpbmdcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy50cmFja2Vycy5mb3JFYWNoKCh0cmFja2VyKSA9PiB7XHJcbiAgICAgICAgICAgIHRyYWNrZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudHJhY2tlcnMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3VwcG9ydE11bHRpcGxleGluZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2hhbm5lbEluaXREYXRhKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKDQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZShDaGFubmVsQ29kZS5IU1RTLCAnYXNjaWknKTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICcuL0Jhc2VDbGllbnQnO1xyXG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi9jb21tb24vQWN0aW9uJztcclxuaW1wb3J0IHsgUGFyYW1zQmFzZSB9IGZyb20gJy4uLy4uL3R5cGVzL1BhcmFtc0Jhc2UnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuaW1wb3J0IHsgTXVsdGlwbGV4ZXIgfSBmcm9tICcuLi8uLi9wYWNrYWdlcy9tdWx0aXBsZXhlci9NdWx0aXBsZXhlcic7XHJcbmltcG9ydCB7IEV2ZW50TWFwIH0gZnJvbSAnLi4vLi4vY29tbW9uL1R5cGVkRW1pdHRlcic7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTWFuYWdlckNsaWVudDxQIGV4dGVuZHMgUGFyYW1zQmFzZSwgVEUgZXh0ZW5kcyBFdmVudE1hcD4gZXh0ZW5kcyBCYXNlQ2xpZW50PFAsIFRFPiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIEFDVElPTiA9ICd1bmtub3duJztcclxuICAgIHB1YmxpYyBzdGF0aWMgQ09ERSA9ICdOT05FJztcclxuICAgIHB1YmxpYyBzdGF0aWMgc29ja2V0czogTWFwPHN0cmluZywgTXVsdGlwbGV4ZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJvdGVjdGVkIGRlc3Ryb3llZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQoLi4uX3Jlc3Q6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBhY3Rpb24/OiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgdXJsOiBVUkw7XHJcbiAgICBwcm90ZWN0ZWQgd3M/OiBNdWx0aXBsZXhlciB8IFdlYlNvY2tldDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocGFyYW1zOiBQKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW1zKTtcclxuICAgICAgICB0aGlzLmFjdGlvbiA9IFV0aWwucGFyc2VTdHJpbmdFbnYocGFyYW1zLmFjdGlvbik7XHJcbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLmJ1aWxkV2ViU29ja2V0VXJsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhc0Nvbm5lY3Rpb24oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEhKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvcGVuTmV3Q29ubmVjdGlvbigpOiBNdWx0aXBsZXhlciB8IFdlYlNvY2tldCB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy53cztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy51cmwudG9TdHJpbmcoKTtcclxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0TXVsdGlwbGV4aW5nKCkpIHtcclxuICAgICAgICAgICAgbGV0IG9wZW5lZE11bHRpcGxleGVyID0gTWFuYWdlckNsaWVudC5zb2NrZXRzLmdldCh1cmwpO1xyXG4gICAgICAgICAgICBpZiAoIW9wZW5lZE11bHRpcGxleGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodXJsKTtcclxuICAgICAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIE1hbmFnZXJDbGllbnQuc29ja2V0cy5kZWxldGUodXJsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TXVsdGlwbGV4ZXIgPSBNdWx0aXBsZXhlci53cmFwKHdzKTtcclxuICAgICAgICAgICAgICAgIG5ld011bHRpcGxleGVyLm9uKCdlbXB0eScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdNdWx0aXBsZXhlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBNYW5hZ2VyQ2xpZW50LnNvY2tldHMuc2V0KHVybCwgbmV3TXVsdGlwbGV4ZXIpO1xyXG4gICAgICAgICAgICAgICAgb3BlbmVkTXVsdGlwbGV4ZXIgPSBuZXdNdWx0aXBsZXhlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB3cyA9IG9wZW5lZE11bHRpcGxleGVyLmNyZWF0ZUNoYW5uZWwodGhpcy5nZXRDaGFubmVsSW5pdERhdGEoKSk7XHJcbiAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCB0aGlzLm9uU29ja2V0T3Blbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25Tb2NrZXRNZXNzYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMub25Tb2NrZXRDbG9zZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy53cyA9IHdzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmwpO1xyXG4gICAgICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgdGhpcy5vblNvY2tldE9wZW4uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uU29ja2V0TWVzc2FnZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLm9uU29ja2V0Q2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMud3MgPSB3cztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IEVycm9yKCdBbHJlYWR5IGRpc3Bvc2VkJykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy53cykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYnVpbGRXZWJTb2NrZXRVcmwoKTogVVJMIHtcclxuICAgICAgICBjb25zdCBkaXJlY3RVcmwgPSB0aGlzLmJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnVzZVByb3h5ICYmICF0aGlzLnN1cHBvcnRNdWx0aXBsZXhpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5Qcm94eShkaXJlY3RVcmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlyZWN0VXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBidWlsZERpcmVjdFdlYlNvY2tldFVybCgpOiBVUkwge1xyXG4gICAgICAgIGNvbnN0IHsgaG9zdG5hbWUsIHBvcnQsIHNlY3VyZSwgYWN0aW9uIH0gPSB0aGlzLnBhcmFtcztcclxuICAgICAgICBjb25zdCBwYXRobmFtZSA9IHRoaXMucGFyYW1zLnBhdGhuYW1lID8/IGxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgIGxldCB1cmxTdHJpbmc6IHN0cmluZztcclxuICAgICAgICBpZiAodHlwZW9mIGhvc3RuYW1lID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcG9ydCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBzZWN1cmUgPyAnd3NzOicgOiAnd3M6JztcclxuICAgICAgICAgICAgdXJsU3RyaW5nID0gYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfToke3BvcnR9JHtwYXRobmFtZX1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczonIDogJ3dzOic7XHJcblxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbi5ob3N0IGluY2x1ZGVzIGhvc3RuYW1lIGFuZCBwb3J0XHJcbiAgICAgICAgICAgIHVybFN0cmluZyA9IGAke3Byb3RvY29sfSR7bG9jYXRpb24uaG9zdH0ke3BhdGhuYW1lfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpcmVjdFVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcclxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0TXVsdGlwbGV4aW5nKCkpIHtcclxuICAgICAgICAgICAgZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsIEFDVElPTi5NVUxUSVBMRVgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdFVybC5zZWFyY2hQYXJhbXMuc2V0KCdhY3Rpb24nLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaXJlY3RVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHdyYXBJblByb3h5KGRpcmVjdFVybDogVVJMKTogVVJMIHtcclxuICAgICAgICBjb25zdCBsb2NhbFByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczonIDogJ3dzOic7XHJcbiAgICAgICAgY29uc3QgbG9jYWxVcmwgPSBuZXcgVVJMKGAke2xvY2FsUHJvdG9jb2x9Ly8ke2xvY2F0aW9uLmhvc3R9YCk7XHJcbiAgICAgICAgbG9jYWxVcmwuc2VhcmNoUGFyYW1zLnNldCgnYWN0aW9uJywgQUNUSU9OLlBST1hZX1dTKTtcclxuICAgICAgICBsb2NhbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd3cycsIGRpcmVjdFVybC50b1N0cmluZygpKTtcclxuICAgICAgICByZXR1cm4gbG9jYWxVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN1cHBvcnRNdWx0aXBsZXhpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsSW5pdERhdGEoKTogQnVmZmVyIHtcclxuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oTWFuYWdlckNsaWVudC5DT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25Tb2NrZXRPcGVuKGV2ZW50OiBFdmVudCk6IHZvaWQ7XHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkO1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uU29ja2V0Q2xvc2UoZXZlbnQ6IENsb3NlRXZlbnQpOiB2b2lkO1xyXG59XHJcbiIsImltcG9ydCB7IE1hbmFnZXJDbGllbnQgfSBmcm9tICcuL01hbmFnZXJDbGllbnQnO1xyXG5pbXBvcnQgeyBDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uL2NvbnRyb2xNZXNzYWdlL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IERldmljZU1lc3NhZ2UgZnJvbSAnLi4vZ29vZ0RldmljZS9EZXZpY2VNZXNzYWdlJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBTY3JlZW5JbmZvIGZyb20gJy4uL1NjcmVlbkluZm8nO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi9EaXNwbGF5SW5mbyc7XHJcbmltcG9ydCB7IFBhcmFtc1N0cmVhbSB9IGZyb20gJy4uLy4uL3R5cGVzL1BhcmFtc1N0cmVhbSc7XHJcblxyXG5jb25zdCBERVZJQ0VfTkFNRV9GSUVMRF9MRU5HVEggPSA2NDtcclxuY29uc3QgTUFHSUNfQllURVNfSU5JVElBTCA9IFV0aWwuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5KCdzY3JjcHlfaW5pdGlhbCcpO1xyXG5cclxuZXhwb3J0IHR5cGUgQ2xpZW50c1N0YXRzID0ge1xyXG4gICAgZGV2aWNlTmFtZTogc3RyaW5nO1xyXG4gICAgY2xpZW50SWQ6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIERpc3BsYXlDb21iaW5lZEluZm8gPSB7XHJcbiAgICBkaXNwbGF5SW5mbzogRGlzcGxheUluZm87XHJcbiAgICB2aWRlb1NldHRpbmdzPzogVmlkZW9TZXR0aW5ncztcclxuICAgIHNjcmVlbkluZm8/OiBTY3JlZW5JbmZvO1xyXG4gICAgY29ubmVjdGlvbkNvdW50OiBudW1iZXI7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgU3RyZWFtUmVjZWl2ZXJFdmVudHMge1xyXG4gICAgdmlkZW86IEFycmF5QnVmZmVyO1xyXG4gICAgZGV2aWNlTWVzc2FnZTogRGV2aWNlTWVzc2FnZTtcclxuICAgIGRpc3BsYXlJbmZvOiBEaXNwbGF5Q29tYmluZWRJbmZvW107XHJcbiAgICBjbGllbnRzU3RhdHM6IENsaWVudHNTdGF0cztcclxuICAgIGVuY29kZXJzOiBzdHJpbmdbXTtcclxuICAgIGNvbm5lY3RlZDogdm9pZDtcclxuICAgIGRpc2Nvbm5lY3RlZDogQ2xvc2VFdmVudDtcclxufVxyXG5cclxuY29uc3QgVEFHID0gJ1tTdHJlYW1SZWNlaXZlcl0nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0cmVhbVJlY2VpdmVyPFAgZXh0ZW5kcyBQYXJhbXNTdHJlYW0+IGV4dGVuZHMgTWFuYWdlckNsaWVudDxQYXJhbXNTdHJlYW0sIFN0cmVhbVJlY2VpdmVyRXZlbnRzPiB7XHJcbiAgICBwcml2YXRlIGV2ZW50czogQ29udHJvbE1lc3NhZ2VbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBlbmNvZGVyc1NldDogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgIHByaXZhdGUgY2xpZW50SWQgPSAtMTtcclxuICAgIHByaXZhdGUgZGV2aWNlTmFtZSA9ICcnO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBkaXNwbGF5SW5mb01hcDogTWFwPG51bWJlciwgRGlzcGxheUluZm8+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aW9uQ291bnRNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNjcmVlbkluZm9NYXA6IE1hcDxudW1iZXIsIFNjcmVlbkluZm8+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSB2aWRlb1NldHRpbmdzTWFwOiBNYXA8bnVtYmVyLCBWaWRlb1NldHRpbmdzPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgaGFzSW5pdGlhbEluZm8gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IFApIHtcclxuICAgICAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICBpZiAodGhpcy53cykge1xyXG4gICAgICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUluaXRpYWxJbmZvKGRhdGE6IEFycmF5QnVmZmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJoYW5kbGVJbml0aWFsSW5mbyBzdGFydGVkXCIpO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSBNQUdJQ19CWVRFU19JTklUSUFMLmxlbmd0aDtcclxuICAgICAgICBsZXQgbmFtZUJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSwgb2Zmc2V0LCBERVZJQ0VfTkFNRV9GSUVMRF9MRU5HVEgpO1xyXG4gICAgICAgIG9mZnNldCArPSBERVZJQ0VfTkFNRV9GSUVMRF9MRU5HVEg7XHJcbiAgICAgICAgbGV0IHJlc3Q6IEJ1ZmZlciA9IEJ1ZmZlci5mcm9tKG5ldyBVaW50OEFycmF5KGRhdGEsIG9mZnNldCkpO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlzQ291bnQgPSByZXN0LnJlYWRJbnQzMkJFKDApO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheUluZm9NYXAuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudE1hcC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuSW5mb01hcC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMudmlkZW9TZXR0aW5nc01hcC5jbGVhcigpO1xyXG4gICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKDQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlzcGxheXNDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlJbmZvQnVmZmVyID0gcmVzdC5zbGljZSgwLCBEaXNwbGF5SW5mby5CVUZGRVJfTEVOR1RIKTtcclxuICAgICAgICAgICAgY29uc3QgZGlzcGxheUluZm8gPSBEaXNwbGF5SW5mby5mcm9tQnVmZmVyKGRpc3BsYXlJbmZvQnVmZmVyKTtcclxuICAgICAgICAgICAgY29uc3QgeyBkaXNwbGF5SWQgfSA9IGRpc3BsYXlJbmZvO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvTWFwLnNldChkaXNwbGF5SWQsIGRpc3BsYXlJbmZvKTtcclxuICAgICAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoRGlzcGxheUluZm8uQlVGRkVSX0xFTkdUSCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50TWFwLnNldChkaXNwbGF5SWQsIHJlc3QucmVhZEludDMyQkUoMCkpO1xyXG4gICAgICAgICAgICByZXN0ID0gcmVzdC5zbGljZSg0KTtcclxuICAgICAgICAgICAgY29uc3Qgc2NyZWVuSW5mb0J5dGVzQ291bnQgPSByZXN0LnJlYWRJbnQzMkJFKDApO1xyXG4gICAgICAgICAgICByZXN0ID0gcmVzdC5zbGljZSg0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZiBzY3JlZW5JbmZvQnl0ZXNDb3VudFwiKTtcclxuICAgICAgICAgICAgaWYgKHNjcmVlbkluZm9CeXRlc0NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNjcmVlbkluZm9CeXRlc0NvdW50XCIsc2NyZWVuSW5mb0J5dGVzQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5JbmZvTWFwLnNldChkaXNwbGF5SWQsIFNjcmVlbkluZm8uZnJvbUJ1ZmZlcihyZXN0LnNsaWNlKDAsIHNjcmVlbkluZm9CeXRlc0NvdW50KSkpO1xyXG4gICAgICAgICAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2Uoc2NyZWVuSW5mb0J5dGVzQ291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvU2V0dGluZ3NCeXRlc0NvdW50ID0gcmVzdC5yZWFkSW50MzJCRSgwKTtcclxuICAgICAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoNCk7XHJcbiAgICAgICAgICAgIC8qIEFUWCAtICBGSVggVE8gRk9SQ0UgRElTUExBWSBTRVRUSU5HUyovXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaWYgdmlkZW9TZXR0aW5nc0J5dGVzQ291bnRcIik7XHJcbiAgICAgICAgICAgIGlmICh2aWRlb1NldHRpbmdzQnl0ZXNDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2aWRlb1NldHRpbmdzQnl0ZXNDb3VudFwiLHZpZGVvU2V0dGluZ3NCeXRlc0NvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9TZXR0aW5nc01hcC5zZXQoZGlzcGxheUlkLCBWaWRlb1NldHRpbmdzLmZyb21CdWZmZXIocmVzdC5zbGljZSgwLCB2aWRlb1NldHRpbmdzQnl0ZXNDb3VudCkpKTsgXHJcbiAgICAgICAgICAgICAgICAvL3Jlc3Quc2xpY2UoMCwgdmlkZW9TZXR0aW5nc0J5dGVzQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJiZWZvcmUgb2YgLmZyb21CdWZmZXIgXCIpO1xyXG4gICAgICAgICAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2UodmlkZW9TZXR0aW5nc0J5dGVzQ291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5jb2RlcnNTZXQuY2xlYXIoKTtcclxuICAgICAgICBjb25zdCBlbmNvZGVyc0NvdW50ID0gcmVzdC5yZWFkSW50MzJCRSgwKTtcclxuICAgICAgICByZXN0ID0gcmVzdC5zbGljZSg0KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZXJzQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lTGVuZ3RoID0gcmVzdC5yZWFkSW50MzJCRSgwKTtcclxuICAgICAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoNCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVCeXRlcyA9IHJlc3Quc2xpY2UoMCwgbmFtZUxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKG5hbWVMZW5ndGgpO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcobmFtZUJ5dGVzKTtcclxuICAgICAgICAgICAgdGhpcy5lbmNvZGVyc1NldC5hZGQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSByZXN0LnJlYWRJbnQzMkJFKDApO1xyXG4gICAgICAgIG5hbWVCeXRlcyA9IFV0aWwuZmlsdGVyVHJhaWxpbmdaZXJvZXMobmFtZUJ5dGVzKTtcclxuICAgICAgICB0aGlzLmRldmljZU5hbWUgPSBVdGlsLnV0ZjhCeXRlQXJyYXlUb1N0cmluZyhuYW1lQnl0ZXMpO1xyXG4gICAgICAgIHRoaXMuaGFzSW5pdGlhbEluZm8gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlckluaXRpYWxJbmZvRXZlbnRzKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJoYW5kbGVJbml0aWFsSW5mbyBlbmRlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBFcXVhbEFycmF5cyhhOiBBcnJheUxpa2U8bnVtYmVyPiwgYjogQXJyYXlMaWtlPG51bWJlcj4pOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBidWlsZERpcmVjdFdlYlNvY2tldFVybCgpOiBVUkwge1xyXG4gICAgICAgIGNvbnN0IGxvY2FsVXJsID0gc3VwZXIuYnVpbGREaXJlY3RXZWJTb2NrZXRVcmwoKTtcclxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0TXVsdGlwbGV4aW5nKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsVXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2NhbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd1ZGlkJywgdGhpcy5wYXJhbXMudWRpZCk7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldENsb3NlKGV2OiBDbG9zZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7VEFHfS4gV1MgY2xvc2VkOiAke2V2LnJlYXNvbn1gKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcsIGV2KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XHJcbiAgICAgICAgICAgIC8vIHdvcmtzIG9ubHkgYmVjYXVzZSBNQUdJQ19CWVRFU19JTklUSUFMIGFuZCBNQUdJQ19CWVRFU19NRVNTQUdFIGhhdmUgc2FtZSBsZW5ndGhcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuYnl0ZUxlbmd0aCA+IE1BR0lDX0JZVEVTX0lOSVRJQUwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYWdpY0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoZXZlbnQuZGF0YSwgMCwgTUFHSUNfQllURVNfSU5JVElBTC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKFN0cmVhbVJlY2VpdmVyLkVxdWFsQXJyYXlzKG1hZ2ljQnl0ZXMsIE1BR0lDX0JZVEVTX0lOSVRJQUwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVJbml0aWFsSW5mbyhldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoU3RyZWFtUmVjZWl2ZXIuRXF1YWxBcnJheXMobWFnaWNCeXRlcywgRGV2aWNlTWVzc2FnZS5NQUdJQ19CWVRFU19NRVNTQUdFKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBEZXZpY2VNZXNzYWdlLmZyb21CdWZmZXIoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdkZXZpY2VNZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3ZpZGVvJywgbmV3IFVpbnQ4QXJyYXkoZXZlbnQuZGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGVkJywgdm9pZCAwKTtcclxuICAgICAgICBsZXQgZSA9IHRoaXMuZXZlbnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgd2hpbGUgKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoZSk7XHJcbiAgICAgICAgICAgIGUgPSB0aGlzLmV2ZW50cy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50KGV2ZW50OiBDb250cm9sTWVzc2FnZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gdGhpcy53cy5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChldmVudC50b0J1ZmZlcigpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50cy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFbmNvZGVycygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbmNvZGVyc1NldC52YWx1ZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERldmljZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2VOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0cmlnZ2VySW5pdGlhbEluZm9FdmVudHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzSW5pdGlhbEluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QgZW5jb2RlcnMgPSB0aGlzLmdldEVuY29kZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZW5jb2RlcnMnLCBlbmNvZGVycyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgY2xpZW50SWQsIGRldmljZU5hbWUgfSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2xpZW50c1N0YXRzJywgeyBjbGllbnRJZCwgZGV2aWNlTmFtZSB9KTtcclxuICAgICAgICAgICAgY29uc3QgaW5mb0FycmF5OiBEaXNwbGF5Q29tYmluZWRJbmZvW10gPSBbXTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0cmlnZ2VySW5pdGlhbEluZm9FdmVudHMuaGFzSW5pdGlhbEluZm9cIik7XHJcbiAgICAgICAgICAgIC8qIEFUWCAtIEZPUkNFIFZJREVPIFNFVFRJTkdTICAqL1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvTWFwLmZvckVhY2goKGRpc3BsYXlJbmZvOiBEaXNwbGF5SW5mbywgZGlzcGxheUlkOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25Db3VudCA9IHRoaXMuY29ubmVjdGlvbkNvdW50TWFwLmdldChkaXNwbGF5SWQpIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBpbmZvQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUluZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9TZXR0aW5nczogdGhpcy52aWRlb1NldHRpbmdzTWFwLmdldChkaXNwbGF5SWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkluZm86IHRoaXMuc2NyZWVuSW5mb01hcC5nZXQoZGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uQ291bnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidHJpZ2dlckluaXRpYWxJbmZvRXZlbnRzLmluZm9BcnJheVwiLCBpbmZvQXJyYXkpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Rpc3BsYXlJbmZvJywgaW5mb0FycmF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERpc3BsYXlJbmZvKGRpc3BsYXlJZDogbnVtYmVyKTogRGlzcGxheUluZm8gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlJbmZvTWFwLmdldChkaXNwbGF5SWQpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi9Db250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCBWaWRlb1NldHRpbmdzIGZyb20gJy4uL1ZpZGVvU2V0dGluZ3MnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuXHJcbmV4cG9ydCBlbnVtIEZpbGVQdXNoU3RhdGUge1xyXG4gICAgTkVXLFxyXG4gICAgU1RBUlQsXHJcbiAgICBBUFBFTkQsXHJcbiAgICBGSU5JU0gsXHJcbiAgICBDQU5DRUwsXHJcbn1cclxuXHJcbnR5cGUgRmlsZVB1c2hQYXJhbXMgPSB7XHJcbiAgICBpZDogbnVtYmVyO1xyXG4gICAgc3RhdGU6IEZpbGVQdXNoU3RhdGU7XHJcbiAgICBjaHVuaz86IFVpbnQ4QXJyYXk7XHJcbiAgICBmaWxlTmFtZT86IHN0cmluZztcclxuICAgIGZpbGVTaXplPzogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hbmRDb250cm9sTWVzc2FnZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgUEFZTE9BRF9MRU5HVEggPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ29tbWFuZHM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKFtcclxuICAgICAgICBbQ29udHJvbE1lc3NhZ2UuVFlQRV9FWFBBTkRfTk9USUZJQ0FUSU9OX1BBTkVMLCAnRXhwYW5kaXIgbm90aWZpY2FjaW9uZXMnXSxcclxuICAgICAgICBbQ29udHJvbE1lc3NhZ2UuVFlQRV9FWFBBTkRfU0VUVElOR1NfUEFORUwsICdFeHBhbmRpciBjb25maWd1cmFjaW9uZXMnXSxcclxuICAgICAgICBbQ29udHJvbE1lc3NhZ2UuVFlQRV9DT0xMQVBTRV9QQU5FTFMsICdDb250cmFlciBwYW5lbGVzJ10sXHJcbiAgICAgICAgW0NvbnRyb2xNZXNzYWdlLlRZUEVfR0VUX0NMSVBCT0FSRCwgJ09idGVuZXIgcG9ydGFwYXBlbGVzJ10sXHJcbiAgICAgICAgW0NvbnRyb2xNZXNzYWdlLlRZUEVfU0VUX0NMSVBCT0FSRCwgJ1BlZ2FyIHBvcnRhcGFwZWxlcyddLFxyXG4gICAgICAgIFtDb250cm9sTWVzc2FnZS5UWVBFX1JPVEFURV9ERVZJQ0UsICdHaXJhciBkaXNwb3NpdGl2byddLFxyXG4gICAgICAgIFtDb250cm9sTWVzc2FnZS5UWVBFX0NIQU5HRV9TVFJFQU1fUEFSQU1FVEVSUywgJ0NhbWJpYXIgY29uZmlndXJhY2nDs24odmlkZW8pJ10sXHJcbiAgICBdKTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVNldFZpZGVvU2V0dGluZ3NDb21tYW5kKHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MpOiBDb21tYW5kQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgICAgIGNvbnN0IHRlbXAgPSB2aWRlb1NldHRpbmdzLnRvQnVmZmVyKCk7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ29tbWFuZENvbnRyb2xNZXNzYWdlKENvbnRyb2xNZXNzYWdlLlRZUEVfQ0hBTkdFX1NUUkVBTV9QQVJBTUVURVJTKTtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEggKyAxO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhvZmZzZXQgKyB0ZW1wLmxlbmd0aCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDgoZXZlbnQudHlwZSwgMCk7XHJcbiAgICAgICAgdGVtcC5mb3JFYWNoKChieXRlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBidWZmZXIud3JpdGVVSW50OChieXRlLCBpbmRleCArIG9mZnNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZXZlbnQuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVNldENsaXBib2FyZENvbW1hbmQodGV4dDogc3RyaW5nLCBwYXN0ZSA9IGZhbHNlKTogQ29tbWFuZENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDb21tYW5kQ29udHJvbE1lc3NhZ2UoQ29udHJvbE1lc3NhZ2UuVFlQRV9TRVRfQ0xJUEJPQVJEKTtcclxuICAgICAgICBjb25zdCB0ZXh0Qnl0ZXM6IFVpbnQ4QXJyYXkgfCBudWxsID0gdGV4dCA/IFV0aWwuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5KHRleHQpIDogbnVsbDtcclxuICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gdGV4dEJ5dGVzID8gdGV4dEJ5dGVzLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKDEgKyAxICsgNCArIHRleHRMZW5ndGgpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDgoZXZlbnQudHlwZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQ4KHBhc3RlID8gMSA6IDAsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MzJCRSh0ZXh0TGVuZ3RoLCBvZmZzZXQpO1xyXG4gICAgICAgIGlmICh0ZXh0Qnl0ZXMpIHtcclxuICAgICAgICAgICAgdGV4dEJ5dGVzLmZvckVhY2goKGJ5dGU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDgoYnl0ZSwgaW5kZXggKyBvZmZzZXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnQuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVNldFNjcmVlblBvd2VyTW9kZUNvbW1hbmQobW9kZTogYm9vbGVhbik6IENvbW1hbmRDb250cm9sTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ29tbWFuZENvbnRyb2xNZXNzYWdlKENvbnRyb2xNZXNzYWdlLlRZUEVfU0VUX1NDUkVFTl9QT1dFUl9NT0RFKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoMSArIDEpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDgoZXZlbnQudHlwZSwgb2Zmc2V0KTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50OChtb2RlID8gMSA6IDAsIG9mZnNldCk7XHJcbiAgICAgICAgZXZlbnQuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVB1c2hGaWxlQ29tbWFuZChwYXJhbXM6IEZpbGVQdXNoUGFyYW1zKTogQ29tbWFuZENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCB7IGlkLCBmaWxlTmFtZSwgZmlsZVNpemUsIGNodW5rLCBzdGF0ZSB9ID0gcGFyYW1zO1xyXG5cclxuICAgICAgICBpZiAoc3RhdGUgPT09IEZpbGVQdXNoU3RhdGUuU1RBUlQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUHVzaEZpbGVTdGFydENvbW1hbmQoaWQsIGZpbGVOYW1lIGFzIHN0cmluZywgZmlsZVNpemUgYXMgbnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBGaWxlUHVzaFN0YXRlLkFQUEVORCkge1xyXG4gICAgICAgICAgICBpZiAoIWNodW5rKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgdHlwZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVB1c2hGaWxlQ2h1bmtDb21tYW5kKGlkLCBjaHVuayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gRmlsZVB1c2hTdGF0ZS5DQU5DRUwgfHwgc3RhdGUgPT09IEZpbGVQdXNoU3RhdGUuRklOSVNIIHx8IHN0YXRlID09PSBGaWxlUHVzaFN0YXRlLk5FVykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVQdXNoRmlsZU90aGVyQ29tbWFuZChpZCwgc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCBzdGF0ZTogXCIke3N0YXRlfVwiYCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlUHVzaEZpbGVTdGFydENvbW1hbmQoaWQ6IG51bWJlciwgZmlsZU5hbWU6IHN0cmluZywgZmlsZVNpemU6IG51bWJlcik6IENvbW1hbmRDb250cm9sTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ29tbWFuZENvbnRyb2xNZXNzYWdlKENvbnRyb2xNZXNzYWdlLlRZUEVfUFVTSF9GSUxFKTtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gVXRpbC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXkoZmlsZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVGaWVsZCA9IDE7XHJcbiAgICAgICAgY29uc3QgaWRGaWVsZCA9IDI7XHJcbiAgICAgICAgY29uc3Qgc3RhdGVGaWVsZCA9IDE7XHJcbiAgICAgICAgY29uc3Qgc2l6ZUZpZWxkID0gNDtcclxuICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoRmllbGQgPSAyO1xyXG4gICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gQ29tbWFuZENvbnRyb2xNZXNzYWdlLlBBWUxPQURfTEVOR1RIO1xyXG5cclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoXHJcbiAgICAgICAgICAgIG9mZnNldCArIHR5cGVGaWVsZCArIGlkRmllbGQgKyBzdGF0ZUZpZWxkICsgc2l6ZUZpZWxkICsgdGV4dExlbmd0aEZpZWxkICsgdGV4dExlbmd0aCxcclxuICAgICAgICApO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGV2ZW50LnR5cGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IHR5cGVGaWVsZDtcclxuICAgICAgICBidWZmZXIud3JpdGVJbnQxNkJFKGlkLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSBpZEZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZUludDgoRmlsZVB1c2hTdGF0ZS5TVEFSVCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gc3RhdGVGaWVsZDtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50MzJCRShmaWxlU2l6ZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gc2l6ZUZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQxNkJFKHRleHRMZW5ndGgsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IHRleHRMZW5ndGhGaWVsZDtcclxuICAgICAgICB0ZXh0LmZvckVhY2goKGJ5dGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGJ5dGUsIGluZGV4ICsgb2Zmc2V0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBldmVudC5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGNyZWF0ZVB1c2hGaWxlQ2h1bmtDb21tYW5kKGlkOiBudW1iZXIsIGNodW5rOiBVaW50OEFycmF5KTogQ29tbWFuZENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDb21tYW5kQ29udHJvbE1lc3NhZ2UoQ29udHJvbE1lc3NhZ2UuVFlQRV9QVVNIX0ZJTEUpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVGaWVsZCA9IDE7XHJcbiAgICAgICAgY29uc3QgaWRGaWVsZCA9IDI7XHJcbiAgICAgICAgY29uc3Qgc3RhdGVGaWVsZCA9IDE7XHJcbiAgICAgICAgY29uc3QgY2h1bmtMZW5ndGhGaWVsZCA9IDQ7XHJcbiAgICAgICAgY29uc3QgY2h1bmtMZW5ndGggPSBjaHVuay5ieXRlTGVuZ3RoO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEg7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhvZmZzZXQgKyB0eXBlRmllbGQgKyBpZEZpZWxkICsgc3RhdGVGaWVsZCArIGNodW5rTGVuZ3RoRmllbGQgKyBjaHVua0xlbmd0aCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDgoZXZlbnQudHlwZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gdHlwZUZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZUludDE2QkUoaWQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IGlkRmllbGQ7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlSW50OChGaWxlUHVzaFN0YXRlLkFQUEVORCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gc3RhdGVGaWVsZDtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50MzJCRShjaHVua0xlbmd0aCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gY2h1bmtMZW5ndGhGaWVsZDtcclxuICAgICAgICBBcnJheS5mcm9tKGNodW5rKS5mb3JFYWNoKChieXRlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBidWZmZXIud3JpdGVVSW50OChieXRlLCBpbmRleCArIG9mZnNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZXZlbnQuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjcmVhdGVQdXNoRmlsZU90aGVyQ29tbWFuZChpZDogbnVtYmVyLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZSk6IENvbW1hbmRDb250cm9sTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ29tbWFuZENvbnRyb2xNZXNzYWdlKENvbnRyb2xNZXNzYWdlLlRZUEVfUFVTSF9GSUxFKTtcclxuICAgICAgICBjb25zdCB0eXBlRmllbGQgPSAxO1xyXG4gICAgICAgIGNvbnN0IGlkRmllbGQgPSAyO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlRmllbGQgPSAxO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEg7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKG9mZnNldCArIHR5cGVGaWVsZCArIGlkRmllbGQgKyBzdGF0ZUZpZWxkKTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50OChldmVudC50eXBlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSB0eXBlRmllbGQ7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlSW50MTZCRShpZCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gaWRGaWVsZDtcclxuICAgICAgICBidWZmZXIud3JpdGVJbnQ4KHN0YXRlLCBvZmZzZXQpO1xyXG4gICAgICAgIGV2ZW50LmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwdXNoRmlsZUNvbW1hbmRGcm9tQnVmZmVyKGJ1ZmZlcjogQnVmZmVyKToge1xyXG4gICAgICAgIGlkOiBudW1iZXI7XHJcbiAgICAgICAgc3RhdGU6IEZpbGVQdXNoU3RhdGU7XHJcbiAgICAgICAgY2h1bms/OiBCdWZmZXI7XHJcbiAgICAgICAgZmlsZVNpemU/OiBudW1iZXI7XHJcbiAgICAgICAgZmlsZU5hbWU/OiBzdHJpbmc7XHJcbiAgICB9IHtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBjb25zdCB0eXBlID0gYnVmZmVyLnJlYWRVSW50OChvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgIGlmICh0eXBlICE9PSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuVFlQRV9QVVNIX0ZJTEUpIHtcclxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKGBJbmNvcnJlY3QgdHlwZTogXCIke3R5cGV9XCJgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSBidWZmZXIucmVhZEludDE2QkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gMjtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IGJ1ZmZlci5yZWFkSW50OChvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgIGxldCBjaHVuazogQnVmZmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBmaWxlU2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBmaWxlTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gRmlsZVB1c2hTdGF0ZS5BUFBFTkQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2h1bmtMZW5ndGggPSBidWZmZXIucmVhZFVJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICBjaHVuayA9IGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGNodW5rTGVuZ3RoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBGaWxlUHVzaFN0YXRlLlNUQVJUKSB7XHJcbiAgICAgICAgICAgIGZpbGVTaXplID0gYnVmZmVyLnJlYWRVSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9IGJ1ZmZlci5yZWFkVUludDE2QkUob2Zmc2V0KTtcclxuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgIGZpbGVOYW1lID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgdGV4dExlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBpZCwgc3RhdGUsIGNodW5rLCBmaWxlTmFtZSwgZmlsZVNpemUgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJ1ZmZlcj86IEJ1ZmZlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0eXBlOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcih0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhDb21tYW5kQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEggKyAxKTtcclxuICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDgodGhpcy50eXBlLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlciA/IGAsIGJ1ZmZlcj1bJHt0aGlzLmJ1ZmZlci5qb2luKCcsJyl9XWAgOiAnJztcclxuICAgICAgICByZXR1cm4gYENvbW1hbmRDb250cm9sTWVzc2FnZXthY3Rpb249JHt0aGlzLnR5cGV9JHtidWZmZXJ9fWA7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGludGVyZmFjZSBDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICB0eXBlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sTWVzc2FnZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfS0VZQ09ERSA9IDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfVEVYVCA9IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfVE9VQ0ggPSAyO1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX1NDUk9MTCA9IDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfQkFDS19PUl9TQ1JFRU5fT04gPSA0O1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX0VYUEFORF9OT1RJRklDQVRJT05fUEFORUwgPSA1O1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX0VYUEFORF9TRVRUSU5HU19QQU5FTCA9IDY7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfQ09MTEFQU0VfUEFORUxTID0gNztcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9HRVRfQ0xJUEJPQVJEID0gODtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9TRVRfQ0xJUEJPQVJEID0gOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9TRVRfU0NSRUVOX1BPV0VSX01PREUgPSAxMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9ST1RBVEVfREVWSUNFID0gMTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfQ0hBTkdFX1NUUkVBTV9QQVJBTUVURVJTID0gMTAxO1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX1BVU0hfRklMRSA9IDEwMjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0eXBlOiBudW1iZXIpIHt9XHJcblxyXG4gICAgcHVibGljIHRvQnVmZmVyKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQ29udHJvbE1lc3NhZ2UnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0pTT04oKTogQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XHJcbmltcG9ydCB7IENvbnRyb2xNZXNzYWdlLCBDb250cm9sTWVzc2FnZUludGVyZmFjZSB9IGZyb20gJy4vQ29udHJvbE1lc3NhZ2UnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBLZXlDb2RlQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2UgZXh0ZW5kcyBDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICBhY3Rpb246IG51bWJlcjtcclxuICAgIGtleWNvZGU6IG51bWJlcjtcclxuICAgIHJlcGVhdDogbnVtYmVyO1xyXG4gICAgbWV0YVN0YXRlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBLZXlDb2RlQ29udHJvbE1lc3NhZ2UgZXh0ZW5kcyBDb250cm9sTWVzc2FnZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIFBBWUxPQURfTEVOR1RIID0gMTM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcmVhZG9ubHkgYWN0aW9uOiBudW1iZXIsXHJcbiAgICAgICAgcmVhZG9ubHkga2V5Y29kZTogbnVtYmVyLFxyXG4gICAgICAgIHJlYWRvbmx5IHJlcGVhdDogbnVtYmVyLFxyXG4gICAgICAgIHJlYWRvbmx5IG1ldGFTdGF0ZTogbnVtYmVyLFxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIoQ29udHJvbE1lc3NhZ2UuVFlQRV9LRVlDT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoS2V5Q29kZUNvbnRyb2xNZXNzYWdlLlBBWUxPQURfTEVOR1RIICsgMSk7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OCh0aGlzLnR5cGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OCh0aGlzLmFjdGlvbiwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKHRoaXMua2V5Y29kZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKHRoaXMucmVwZWF0LCBvZmZzZXQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5tZXRhU3RhdGUsIG9mZnNldCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYEtleUNvZGVDb250cm9sTWVzc2FnZXthY3Rpb249JHt0aGlzLmFjdGlvbn0sIGtleWNvZGU9JHt0aGlzLmtleWNvZGV9LCBtZXRhU3RhdGU9JHt0aGlzLm1ldGFTdGF0ZX19YDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9KU09OKCk6IEtleUNvZGVDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxyXG4gICAgICAgICAgICBrZXljb2RlOiB0aGlzLmtleWNvZGUsXHJcbiAgICAgICAgICAgIG1ldGFTdGF0ZTogdGhpcy5tZXRhU3RhdGUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogdGhpcy5yZXBlYXQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb250cm9sTWVzc2FnZSwgQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2UgfSBmcm9tICcuL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IFBvc2l0aW9uLCB7IFBvc2l0aW9uSW50ZXJmYWNlIH0gZnJvbSAnLi4vUG9zaXRpb24nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY3JvbGxDb250cm9sTWVzc2FnZUludGVyZmFjZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbkludGVyZmFjZTtcclxuICAgIGhTY3JvbGw6IG51bWJlcjtcclxuICAgIHZTY3JvbGw6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNjcm9sbENvbnRyb2xNZXNzYWdlIGV4dGVuZHMgQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyBQQVlMT0FEX0xFTkdUSCA9IDIwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBvc2l0aW9uOiBQb3NpdGlvbiwgcmVhZG9ubHkgaFNjcm9sbDogbnVtYmVyLCByZWFkb25seSB2U2Nyb2xsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihDb250cm9sTWVzc2FnZS5UWVBFX1NDUk9MTCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRvQnVmZmVyKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKFNjcm9sbENvbnRyb2xNZXNzYWdlLlBBWUxPQURfTEVOR1RIICsgMSk7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDgodGhpcy50eXBlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQzMkJFKHRoaXMucG9zaXRpb24ucG9pbnQueCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50MzJCRSh0aGlzLnBvc2l0aW9uLnBvaW50LnksIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDE2QkUodGhpcy5wb3NpdGlvbi5zY3JlZW5TaXplLndpZHRoLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQxNkJFKHRoaXMucG9zaXRpb24uc2NyZWVuU2l6ZS5oZWlnaHQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MzJCRSh0aGlzLmhTY3JvbGwsIG9mZnNldCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlSW50MzJCRSh0aGlzLnZTY3JvbGwsIG9mZnNldCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFNjcm9sbENvbnRyb2xNZXNzYWdle2hTY3JvbGw9JHt0aGlzLmhTY3JvbGx9LCB2U2Nyb2xsPSR7dGhpcy52U2Nyb2xsfSwgcG9zaXRpb249JHt0aGlzLnBvc2l0aW9ufX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0pTT04oKTogU2Nyb2xsQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb24udG9KU09OKCksXHJcbiAgICAgICAgICAgIGhTY3JvbGw6IHRoaXMuaFNjcm9sbCxcclxuICAgICAgICAgICAgdlNjcm9sbDogdGhpcy52U2Nyb2xsLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcclxuaW1wb3J0IHsgQ29udHJvbE1lc3NhZ2UsIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIH0gZnJvbSAnLi9Db250cm9sTWVzc2FnZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRleHRDb250cm9sTWVzc2FnZUludGVyZmFjZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgIHRleHQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRDb250cm9sTWVzc2FnZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIFRFWFRfU0laRV9GSUVMRF9MRU5HVEggPSA0O1xyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoQ29udHJvbE1lc3NhZ2UuVFlQRV9URVhUKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHRvQnVmZmVyKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy50ZXh0Lmxlbmd0aDtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MobGVuZ3RoICsgMSArIFRleHRDb250cm9sTWVzc2FnZS5URVhUX1NJWkVfRklFTERfTEVOR1RIKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50OCh0aGlzLnR5cGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDMyQkUobGVuZ3RoLCBvZmZzZXQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZSh0aGlzLnRleHQsIG9mZnNldCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFRleHRDb250cm9sTWVzc2FnZXt0ZXh0PSR7dGhpcy50ZXh0fX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0pTT04oKTogVGV4dENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbnRyb2xNZXNzYWdlLCBDb250cm9sTWVzc2FnZUludGVyZmFjZSB9IGZyb20gJy4vQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgUG9zaXRpb24sIHsgUG9zaXRpb25JbnRlcmZhY2UgfSBmcm9tICcuLi9Qb3NpdGlvbic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvdWNoQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2UgZXh0ZW5kcyBDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICB0eXBlOiBudW1iZXI7XHJcbiAgICBhY3Rpb246IG51bWJlcjtcclxuICAgIHBvaW50ZXJJZDogbnVtYmVyO1xyXG4gICAgcG9zaXRpb246IFBvc2l0aW9uSW50ZXJmYWNlO1xyXG4gICAgcHJlc3N1cmU6IG51bWJlcjtcclxuICAgIGJ1dHRvbnM6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvdWNoQ29udHJvbE1lc3NhZ2UgZXh0ZW5kcyBDb250cm9sTWVzc2FnZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIFBBWUxPQURfTEVOR1RIID0gMjg7XHJcbiAgICAvKipcclxuICAgICAqIC0gRm9yIGEgdG91Y2ggc2NyZWVuIG9yIHRvdWNoIHBhZCwgcmVwb3J0cyB0aGUgYXBwcm94aW1hdGUgcHJlc3N1cmVcclxuICAgICAqIGFwcGxpZWQgdG8gdGhlIHN1cmZhY2UgYnkgYSBmaW5nZXIgb3Igb3RoZXIgdG9vbC4gIFRoZSB2YWx1ZSBpc1xyXG4gICAgICogbm9ybWFsaXplZCB0byBhIHJhbmdlIGZyb20gMCAobm8gcHJlc3N1cmUgYXQgYWxsKSB0byAxIChub3JtYWwgcHJlc3N1cmUpLFxyXG4gICAgICogYWx0aG91Z2ggdmFsdWVzIGhpZ2hlciB0aGFuIDEgbWF5IGJlIGdlbmVyYXRlZCBkZXBlbmRpbmcgb24gdGhlXHJcbiAgICAgKiBjYWxpYnJhdGlvbiBvZiB0aGUgaW5wdXQgZGV2aWNlLlxyXG4gICAgICogLSBGb3IgYSB0cmFja2JhbGwsIHRoZSB2YWx1ZSBpcyBzZXQgdG8gMSBpZiB0aGUgdHJhY2tiYWxsIGJ1dHRvbiBpcyBwcmVzc2VkXHJcbiAgICAgKiBvciAwIG90aGVyd2lzZS5cclxuICAgICAqIC0gRm9yIGEgbW91c2UsIHRoZSB2YWx1ZSBpcyBzZXQgdG8gMSBpZiB0aGUgcHJpbWFyeSBtb3VzZSBidXR0b24gaXMgcHJlc3NlZFxyXG4gICAgICogb3IgMCBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogLSBzY3JjcHkgc2VydmVyIGV4cGVjdHMgc2lnbmVkIHNob3J0ICgyIGJ5dGVzKSBmb3IgYSBwcmVzc3VyZSB2YWx1ZVxyXG4gICAgICogLSBpbiBicm93c2VyIFRvdWNoRXZlbnQgaGFzIGBmb3JjZWAgcHJvcGVydHkgKHZhbHVlcyBpbiAwLi4xIHJhbmdlKSwgd2VcclxuICAgICAqIHVzZSBpdCBhcyBcInByZXNzdXJlXCIgZm9yIHNjcmNweVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1BWF9QUkVTU1VSRV9WQUxVRSA9IDB4ZmZmZjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICByZWFkb25seSBhY3Rpb246IG51bWJlcixcclxuICAgICAgICByZWFkb25seSBwb2ludGVySWQ6IG51bWJlcixcclxuICAgICAgICByZWFkb25seSBwb3NpdGlvbjogUG9zaXRpb24sXHJcbiAgICAgICAgcmVhZG9ubHkgcHJlc3N1cmU6IG51bWJlcixcclxuICAgICAgICByZWFkb25seSBidXR0b25zOiBudW1iZXIsXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcihDb250cm9sTWVzc2FnZS5UWVBFX1RPVUNIKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBidWZmZXI6IEJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhUb3VjaENvbnRyb2xNZXNzYWdlLlBBWUxPQURfTEVOR1RIICsgMSk7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDgodGhpcy50eXBlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQ4KHRoaXMuYWN0aW9uLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQzMkJFKDAsIG9mZnNldCk7IC8vIHBvaW50ZXJJZCBpcyBgbG9uZ2AgKDggYnl0ZXMpIG9uIGphdmEgc2lkZVxyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQzMkJFKHRoaXMucG9pbnRlcklkLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQzMkJFKHRoaXMucG9zaXRpb24ucG9pbnQueCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50MzJCRSh0aGlzLnBvc2l0aW9uLnBvaW50LnksIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDE2QkUodGhpcy5wb3NpdGlvbi5zY3JlZW5TaXplLndpZHRoLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQxNkJFKHRoaXMucG9zaXRpb24uc2NyZWVuU2l6ZS5oZWlnaHQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDE2QkUodGhpcy5wcmVzc3VyZSAqIFRvdWNoQ29udHJvbE1lc3NhZ2UuTUFYX1BSRVNTVVJFX1ZBTFVFLCBvZmZzZXQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQzMkJFKHRoaXMuYnV0dG9ucywgb2Zmc2V0KTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgVG91Y2hDb250cm9sTWVzc2FnZXthY3Rpb249JHt0aGlzLmFjdGlvbn0sIHBvaW50ZXJJZD0ke3RoaXMucG9pbnRlcklkfSwgcG9zaXRpb249JHt0aGlzLnBvc2l0aW9ufSwgcHJlc3N1cmU9JHt0aGlzLnByZXNzdXJlfSwgYnV0dG9ucz0ke3RoaXMuYnV0dG9uc319YDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9KU09OKCk6IFRvdWNoQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcclxuICAgICAgICAgICAgcG9pbnRlcklkOiB0aGlzLnBvaW50ZXJJZCxcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb24udG9KU09OKCksXHJcbiAgICAgICAgICAgIHByZXNzdXJlOiB0aGlzLnByZXNzdXJlLFxyXG4gICAgICAgICAgICBidXR0b25zOiB0aGlzLmJ1dHRvbnMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldmljZU1lc3NhZ2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX0NMSVBCT0FSRCA9IDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfUFVTSF9SRVNQT05TRSA9IDEwMTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1BR0lDX0JZVEVTX01FU1NBR0UgPSBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheSgnc2NyY3B5X21lc3NhZ2UnKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdHlwZTogbnVtYmVyLCBwcm90ZWN0ZWQgcmVhZG9ubHkgYnVmZmVyOiBCdWZmZXIpIHt9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tQnVmZmVyKGRhdGE6IEFycmF5QnVmZmVyKTogRGV2aWNlTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgbWFnaWNTaXplID0gdGhpcy5NQUdJQ19CWVRFU19NRVNTQUdFLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShkYXRhLCBtYWdpY1NpemUsIGRhdGEuYnl0ZUxlbmd0aCAtIG1hZ2ljU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1ZmZlci5yZWFkVUludDgoMCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEZXZpY2VNZXNzYWdlKHR5cGUsIGJ1ZmZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBEZXZpY2VNZXNzYWdlLlRZUEVfQ0xJUEJPQVJEKSB7XHJcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihgV3JvbmcgbWVzc2FnZSB0eXBlOiAke3RoaXMudHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRW1wdHkgYnVmZmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBvZmZzZXQgPSAxO1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuYnVmZmVyLnJlYWRJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgY29uc3QgdGV4dEJ5dGVzID0gdGhpcy5idWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBsZW5ndGgpO1xyXG5cdFx0XHJcbiAgICAgICAgcmV0dXJuIFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKHRleHRCeXRlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFB1c2hTdGF0cygpOiB7IGlkOiBudW1iZXI7IGNvZGU6IG51bWJlciB9IHtcclxuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBEZXZpY2VNZXNzYWdlLlRZUEVfUFVTSF9SRVNQT05TRSkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYFdyb25nIG1lc3NhZ2UgdHlwZTogJHt0aGlzLnR5cGV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0VtcHR5IGJ1ZmZlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuYnVmZmVyLnJlYWRJbnQxNkJFKDEpO1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSB0aGlzLmJ1ZmZlci5yZWFkSW50OCgzKTtcclxuICAgICAgICByZXR1cm4geyBpZCwgY29kZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBkZXNjOiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gRGV2aWNlTWVzc2FnZS5UWVBFX0NMSVBCT0FSRCAmJiB0aGlzLmJ1ZmZlcikge1xyXG4gICAgICAgICAgICBkZXNjID0gYCwgdGV4dD1bJHt0aGlzLmdldFRleHQoKX1dYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZXNjID0gdGhpcy5idWZmZXIgPyBgLCBidWZmZXI9WyR7dGhpcy5idWZmZXIuam9pbignLCcpfV1gIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgRGV2aWNlTWVzc2FnZXt0eXBlPSR7dGhpcy50eXBlfSR7ZGVzY319YDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIERyYWdFdmVudExpc3RlbmVyIHtcclxuICAgIG9uRHJhZ0VudGVyOiAoKSA9PiBib29sZWFuO1xyXG4gICAgb25EcmFnTGVhdmU6ICgpID0+IGJvb2xlYW47XHJcbiAgICBvbkZpbGVzRHJvcDogKGZpbGVzOiBGaWxlW10pID0+IGJvb2xlYW47XHJcbiAgICBnZXRFbGVtZW50OiAoKSA9PiBIVE1MRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERyYWdBbmREcm9wSGFuZGxlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBsaXN0ZW5lcnM6IFNldDxEcmFnRXZlbnRMaXN0ZW5lcj4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcm9wSGFuZGxlciA9IChldjogRHJhZ0V2ZW50KTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgaWYgKCFldi5kYXRhVHJhbnNmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmlsZXM6IEZpbGVbXSA9IFtdO1xyXG4gICAgICAgIGlmIChldi5kYXRhVHJhbnNmZXIuaXRlbXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldi5kYXRhVHJhbnNmZXIuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChldi5kYXRhVHJhbnNmZXIuaXRlbXNbaV0ua2luZCA9PT0gJ2ZpbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGV2LmRhdGFUcmFuc2Zlci5pdGVtc1tpXS5nZXRBc0ZpbGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMucHVzaChmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZmlsZXMucHVzaChldi5kYXRhVHJhbnNmZXIuZmlsZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBoYW5kbGVkID0gZmFsc2U7XHJcbiAgICAgICAgRHJhZ0FuZERyb3BIYW5kbGVyLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbGlzdGVuZXIuZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gZXYuY3VycmVudFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IGhhbmRsZWQgfHwgbGlzdGVuZXIub25GaWxlc0Ryb3AoZmlsZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcmFnT3ZlckhhbmRsZXIgPSAoZXY6IERyYWdFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZHJhZ0xlYXZlSGFuZGxlciA9IChldjogRHJhZ0V2ZW50KTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcclxuICAgICAgICBEcmFnQW5kRHJvcEhhbmRsZXIubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBsaXN0ZW5lci5nZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBldi5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gaGFuZGxlZCB8fCBsaXN0ZW5lci5vbkRyYWdMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcmFnRW50ZXJIYW5kbGVyID0gKGV2OiBEcmFnRXZlbnQpOiBib29sZWFuID0+IHtcclxuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIERyYWdBbmREcm9wSGFuZGxlci5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGxpc3RlbmVyLmdldEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGV2LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSBoYW5kbGVkIHx8IGxpc3RlbmVyLm9uRHJhZ0VudGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaGFuZGxlZCkge1xyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIGF0dGFjaExpc3RlbmVycyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmRyYWdPdmVySGFuZGxlcik7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmRyYWdMZWF2ZUhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpcy5kcmFnRW50ZXJIYW5kbGVyKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGRldGFjaExpc3RlbmVycyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmRyYWdPdmVySGFuZGxlcik7XHJcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmRyYWdMZWF2ZUhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpcy5kcmFnRW50ZXJIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXI6IERyYWdFdmVudExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzLmhhcyhsaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF0dGFjaExpc3RlbmVycyhsaXN0ZW5lci5nZXRFbGVtZW50KCkpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXI6IERyYWdFdmVudExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVycy5oYXMobGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZXRhY2hMaXN0ZW5lcnMobGlzdGVuZXIuZ2V0RWxlbWVudCgpKTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBGaWxlUHVzaEhhbmRsZXIsIHsgRHJhZ0FuZFB1c2hMaXN0ZW5lciwgUHVzaFVwZGF0ZVBhcmFtcyB9IGZyb20gJy4vZmlsZVB1c2gvRmlsZVB1c2hIYW5kbGVyJztcclxuXHJcbmNvbnN0IFRBRyA9ICdbRHJhZ0FuZFB1c2hMb2dnZXJdJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdBbmRQdXNoTG9nZ2VyIGltcGxlbWVudHMgRHJhZ0FuZFB1c2hMaXN0ZW5lciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBYOiBudW1iZXIgPSAyMDtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFk6IG51bWJlciA9IDQwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSEVJR0hUID0gMTI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBMT0dfQkFDS0dST1VORDogc3RyaW5nID0gJ3JnYmEoMCwwLDAsIDAuNSknO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgREVCVUdfQ09MT1I6IHN0cmluZyA9ICdoc2woMTM2LCA4NSUsNTAlKSc7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBFUlJPUl9DT0xPUjogc3RyaW5nID0gJ2hzbCgzMzYsODUlLDUwJSknO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgdGltZW91dE1hcDogTWFwPG51bWJlciwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgZGlydHlNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHB1c2hMaW5lTWFwOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBsaW5lUHVzaE1hcDogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgZGlydHlMaW5lczogYm9vbGVhbltdID0gW107XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZWxlbWVudCBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhbkRpcnR5TGluZSA9IChsaW5lOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBYLCBZLCBIRUlHSFQgfSA9IERyYWdBbmRQdXNoTG9nZ2VyO1xyXG4gICAgICAgIGNvbnN0IHggPSBYO1xyXG4gICAgICAgIGNvbnN0IHkgPSBZICsgSEVJR0hUICogbGluZSAqIDI7XHJcbiAgICAgICAgY29uc3QgZGlydHkgPSB0aGlzLmRpcnR5TWFwLmdldChsaW5lKTtcclxuICAgICAgICBpZiAoZGlydHkpIHtcclxuICAgICAgICAgICAgY29uc3QgcCA9IERyYWdBbmRQdXNoTG9nZ2VyLkhFSUdIVCAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSBwICogMjtcclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KHggLSBwLCB5IC0gSEVJR0hUIC0gcCwgZGlydHkgKyBkLCBIRUlHSFQgKyBkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXJ0eUxpbmVzW2xpbmVdID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBsb2dUZXh0KHRleHQ6IHN0cmluZywgbGluZTogbnVtYmVyLCBzY2hlZHVsZUNsZWFudXAgPSBmYWxzZSwgZXJyb3IgPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jdHgpIHtcclxuICAgICAgICAgICAgZXJyb3IgPyBjb25zb2xlLmVycm9yKFRBRywgdGV4dCkgOiBjb25zb2xlLmxvZyhUQUcsIHRleHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRywgdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xlYW5EaXJ0eUxpbmUobGluZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgWCwgWSwgSEVJR0hUIH0gPSBEcmFnQW5kUHVzaExvZ2dlcjtcclxuICAgICAgICBjb25zdCB4ID0gWDtcclxuICAgICAgICBjb25zdCB5ID0gWSArIEhFSUdIVCAqIGxpbmUgKiAyO1xyXG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICB0aGlzLmN0eC5mb250ID0gYCR7SEVJR0hUfXB4IG1vbm9zcGFjZWA7XHJcbiAgICAgICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCkgKyBNYXRoLmFicyh0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0KTtcclxuICAgICAgICB0aGlzLmRpcnR5TWFwLnNldChsaW5lLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gRHJhZ0FuZFB1c2hMb2dnZXIuTE9HX0JBQ0tHUk9VTkQ7XHJcbiAgICAgICAgY29uc3QgcCA9IERyYWdBbmRQdXNoTG9nZ2VyLkhFSUdIVCAvIDIgLSAxO1xyXG4gICAgICAgIGNvbnN0IGQgPSBwICogMjtcclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh4IC0gcCwgeSAtIEhFSUdIVCAtIHAsIHdpZHRoICsgZCwgSEVJR0hUICsgZCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZXJyb3IgPyBEcmFnQW5kUHVzaExvZ2dlci5FUlJPUl9DT0xPUiA6IERyYWdBbmRQdXNoTG9nZ2VyLkRFQlVHX0NPTE9SO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xyXG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICBpZiAoc2NoZWR1bGVDbGVhbnVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHlMaW5lc1tsaW5lXSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCB0aW1lb3V0ID0gdGhpcy50aW1lb3V0TWFwLmdldChsaW5lKTtcclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbkRpcnR5TGluZShsaW5lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMubGluZVB1c2hNYXAuZ2V0KGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUHVzaE1hcC5kZWxldGUobGluZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTGluZU1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dE1hcC5zZXQobGluZSwgdGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRyYWdFbnRlcigpOiBib29sZWFuIHtcclxuICAgICAgICB0aGlzLmxvZ1RleHQoJ0Ryb3AgQVBLIGZpbGVzIGhlcmUnLCAxKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EcmFnTGVhdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhpcy5jbGVhbkRpcnR5TGluZSgxKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Ecm9wKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMuY2xlYW5EaXJ0eUxpbmUoMSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRXJyb3IoZXJyb3I6IEVycm9yIHwgc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyBlcnJvciA6IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5sb2dUZXh0KHRleHQsIDEsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRmlsZVB1c2hVcGRhdGUoZGF0YTogUHVzaFVwZGF0ZVBhcmFtcyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHsgcHVzaElkLCBtZXNzYWdlLCBmaWxlTmFtZSwgZXJyb3IgfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7cHVzaElkfS8ke2ZpbGVOYW1lfWA7XHJcbiAgICAgICAgY29uc3QgZmlyc3RLZXkgPSBgJHtGaWxlUHVzaEhhbmRsZXIuUkVRVUVTVF9ORVdfUFVTSF9JRH0vJHtmaWxlTmFtZX1gO1xyXG4gICAgICAgIGxldCBsaW5lOiBudW1iZXIgfCB1bmRlZmluZWQgPSB0aGlzLnB1c2hMaW5lTWFwLmdldChrZXkpO1xyXG4gICAgICAgIGxldCB1cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodHlwZW9mIGxpbmUgPT09ICd1bmRlZmluZWQnICYmIGtleSAhPT0gZmlyc3RLZXkpIHtcclxuICAgICAgICAgICAgbGluZSA9IHRoaXMucHVzaExpbmVNYXAuZ2V0KGZpcnN0S2V5KTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsaW5lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoTGluZU1hcC5kZWxldGUoZmlyc3RLZXkpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGxpbmUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGxpbmUgPSAyO1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5kaXJ0eUxpbmVzW2xpbmVdKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2hMaW5lTWFwLnNldChrZXksIGxpbmUpO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVQdXNoTWFwLnNldChsaW5lLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ1RleHQoYFVwbG9hZCBcIiR7ZmlsZU5hbWV9XCI6ICR7bWVzc2FnZX1gLCBsaW5lLCB0cnVlLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3RhdHMgfSBmcm9tICcuL1N0YXRzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRyeSBleHRlbmRzIFN0YXRzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBtdGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZSwgc2l6ZSwgbXRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgS2V5Q29kZUNvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vY29udHJvbE1lc3NhZ2UvS2V5Q29kZUNvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IEtleUV2ZW50IGZyb20gJy4vYW5kcm9pZC9LZXlFdmVudCc7XHJcbmltcG9ydCB7IEtleVRvQ29kZU1hcCB9IGZyb20gJy4vS2V5VG9Db2RlTWFwJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgS2V5RXZlbnRMaXN0ZW5lciB7XHJcbiAgICBvbktleUV2ZW50OiAoZXZlbnQ6IEtleUNvZGVDb250cm9sTWVzc2FnZSkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEtleUlucHV0SGFuZGxlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZXBlYXRDb3VudGVyOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgbGlzdGVuZXJzOiBTZXQ8S2V5RXZlbnRMaXN0ZW5lcj4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBoYW5kbGVyID0gKGV2ZW50OiBFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleWJvYXJkRXZlbnQgPSBldmVudCBhcyBLZXlib2FyZEV2ZW50O1xyXG4gICAgICAgIGNvbnN0IGtleUNvZGUgPSBLZXlUb0NvZGVNYXAuZ2V0KGtleWJvYXJkRXZlbnQuY29kZSk7XHJcbiAgICAgICAgaWYgKCFrZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFjdGlvbjogdHlwZW9mIEtleUV2ZW50LkFDVElPTl9ET1dOIHwgdHlwZW9mIEtleUV2ZW50LkFDVElPTl9ET1dOO1xyXG4gICAgICAgIGxldCByZXBlYXRDb3VudCA9IDA7XHJcbiAgICAgICAgaWYgKGtleWJvYXJkRXZlbnQudHlwZSA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgICAgIGFjdGlvbiA9IEtleUV2ZW50LkFDVElPTl9ET1dOO1xyXG4gICAgICAgICAgICBpZiAoa2V5Ym9hcmRFdmVudC5yZXBlYXQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IEtleUlucHV0SGFuZGxlci5yZXBlYXRDb3VudGVyLmdldChrZXlDb2RlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY291bnQgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVwZWF0Q291bnQgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgIEtleUlucHV0SGFuZGxlci5yZXBlYXRDb3VudGVyLnNldChrZXlDb2RlLCBjb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGtleWJvYXJkRXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xyXG4gICAgICAgICAgICBhY3Rpb24gPSBLZXlFdmVudC5BQ1RJT05fVVA7XHJcbiAgICAgICAgICAgIEtleUlucHV0SGFuZGxlci5yZXBlYXRDb3VudGVyLmRlbGV0ZShrZXlDb2RlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1ldGFTdGF0ZSA9XHJcbiAgICAgICAgICAgIChrZXlib2FyZEV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0FsdCcpID8gS2V5RXZlbnQuTUVUQV9BTFRfT04gOiAwKSB8XHJcbiAgICAgICAgICAgIChrZXlib2FyZEV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ1NoaWZ0JykgPyBLZXlFdmVudC5NRVRBX1NISUZUX09OIDogMCkgfFxyXG4gICAgICAgICAgICAoa2V5Ym9hcmRFdmVudC5nZXRNb2RpZmllclN0YXRlKCdDb250cm9sJykgPyBLZXlFdmVudC5NRVRBX0NUUkxfT04gOiAwKSB8XHJcbiAgICAgICAgICAgIChrZXlib2FyZEV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ01ldGEnKSA/IEtleUV2ZW50Lk1FVEFfTUVUQV9PTiA6IDApIHxcclxuICAgICAgICAgICAgKGtleWJvYXJkRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnQ2Fwc0xvY2snKSA/IEtleUV2ZW50Lk1FVEFfQ0FQU19MT0NLX09OIDogMCkgfFxyXG4gICAgICAgICAgICAoa2V5Ym9hcmRFdmVudC5nZXRNb2RpZmllclN0YXRlKCdTY3JvbGxMb2NrJykgPyBLZXlFdmVudC5NRVRBX1NDUk9MTF9MT0NLX09OIDogMCkgfFxyXG4gICAgICAgICAgICAoa2V5Ym9hcmRFdmVudC5nZXRNb2RpZmllclN0YXRlKCdOdW1Mb2NrJykgPyBLZXlFdmVudC5NRVRBX05VTV9MT0NLX09OIDogMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xNZXNzYWdlOiBLZXlDb2RlQ29udHJvbE1lc3NhZ2UgPSBuZXcgS2V5Q29kZUNvbnRyb2xNZXNzYWdlKFxyXG4gICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgIGtleUNvZGUsXHJcbiAgICAgICAgICAgIHJlcGVhdENvdW50LFxyXG4gICAgICAgICAgICBtZXRhU3RhdGUsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBLZXlJbnB1dEhhbmRsZXIubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLm9uS2V5RXZlbnQoY29udHJvbE1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXR0YWNoTGlzdGVuZXJzKCk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlcik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkZXRhY2hMaXN0ZW5lcnMoKTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVyKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5oYW5kbGVyKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkRXZlbnRMaXN0ZW5lcihsaXN0ZW5lcjogS2V5RXZlbnRMaXN0ZW5lcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnMuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaExpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZW1vdmVFdmVudExpc3RlbmVyKGxpc3RlbmVyOiBLZXlFdmVudExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLnNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhY2hMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEtleUV2ZW50IGZyb20gJy4vYW5kcm9pZC9LZXlFdmVudCc7XHJcbmltcG9ydCBVSUV2ZW50c0NvZGUgZnJvbSAnLi4vVUlFdmVudHNDb2RlJztcclxuXHJcbmV4cG9ydCBjb25zdCBLZXlUb0NvZGVNYXAgPSBuZXcgTWFwKFtcclxuICAgIFtVSUV2ZW50c0NvZGUuQmFja3F1b3RlLCBLZXlFdmVudC5LRVlDT0RFX0dSQVZFXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQmFja3NsYXNoLCBLZXlFdmVudC5LRVlDT0RFX0JBQ0tTTEFTSF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkJyYWNrZXRMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX0xFRlRfQlJBQ0tFVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkJyYWNrZXRSaWdodCwgS2V5RXZlbnQuS0VZQ09ERV9SSUdIVF9CUkFDS0VUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ29tbWEsIEtleUV2ZW50LktFWUNPREVfQ09NTUFdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDAsIEtleUV2ZW50LktFWUNPREVfMF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkRpZ2l0MSwgS2V5RXZlbnQuS0VZQ09ERV8xXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRGlnaXQyLCBLZXlFdmVudC5LRVlDT0RFXzJdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDMsIEtleUV2ZW50LktFWUNPREVfM10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkRpZ2l0NCwgS2V5RXZlbnQuS0VZQ09ERV80XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRGlnaXQ1LCBLZXlFdmVudC5LRVlDT0RFXzVdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDYsIEtleUV2ZW50LktFWUNPREVfNl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkRpZ2l0NywgS2V5RXZlbnQuS0VZQ09ERV83XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRGlnaXQ4LCBLZXlFdmVudC5LRVlDT0RFXzhdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDksIEtleUV2ZW50LktFWUNPREVfOV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkVxdWFsLCBLZXlFdmVudC5LRVlDT0RFX0VRVUFMU10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkludGxSbywgS2V5RXZlbnQuS0VZQ09ERV9ST10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkludGxZZW4sIEtleUV2ZW50LktFWUNPREVfWUVOXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5QSwgS2V5RXZlbnQuS0VZQ09ERV9BXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5QiwgS2V5RXZlbnQuS0VZQ09ERV9CXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5QywgS2V5RXZlbnQuS0VZQ09ERV9DXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RCwgS2V5RXZlbnQuS0VZQ09ERV9EXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RSwgS2V5RXZlbnQuS0VZQ09ERV9FXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RiwgS2V5RXZlbnQuS0VZQ09ERV9GXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RywgS2V5RXZlbnQuS0VZQ09ERV9HXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SCwgS2V5RXZlbnQuS0VZQ09ERV9IXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SSwgS2V5RXZlbnQuS0VZQ09ERV9JXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SiwgS2V5RXZlbnQuS0VZQ09ERV9KXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SywgS2V5RXZlbnQuS0VZQ09ERV9LXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TCwgS2V5RXZlbnQuS0VZQ09ERV9MXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TSwgS2V5RXZlbnQuS0VZQ09ERV9NXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TiwgS2V5RXZlbnQuS0VZQ09ERV9OXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TywgS2V5RXZlbnQuS0VZQ09ERV9PXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5UCwgS2V5RXZlbnQuS0VZQ09ERV9QXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5USwgS2V5RXZlbnQuS0VZQ09ERV9RXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5UiwgS2V5RXZlbnQuS0VZQ09ERV9SXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5UywgS2V5RXZlbnQuS0VZQ09ERV9TXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5VCwgS2V5RXZlbnQuS0VZQ09ERV9UXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5VSwgS2V5RXZlbnQuS0VZQ09ERV9VXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5ViwgS2V5RXZlbnQuS0VZQ09ERV9WXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5VywgS2V5RXZlbnQuS0VZQ09ERV9XXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5WCwgS2V5RXZlbnQuS0VZQ09ERV9YXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5WSwgS2V5RXZlbnQuS0VZQ09ERV9ZXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5WiwgS2V5RXZlbnQuS0VZQ09ERV9aXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTWludXMsIEtleUV2ZW50LktFWUNPREVfTUlOVVNdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5QZXJpb2QsIEtleUV2ZW50LktFWUNPREVfUEVSSU9EXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuUXVvdGUsIEtleUV2ZW50LktFWUNPREVfQVBPU1RST1BIRV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLlNlbWljb2xvbiwgS2V5RXZlbnQuS0VZQ09ERV9TRU1JQ09MT05dLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5TbGFzaCwgS2V5RXZlbnQuS0VZQ09ERV9TTEFTSF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkthbmFNb2RlLCBLZXlFdmVudC5LRVlDT0RFX0tBTkFdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EZWxldGUsIEtleUV2ZW50LktFWUNPREVfRk9SV0FSRF9ERUxdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5FbmQsIEtleUV2ZW50LktFWUNPREVfTU9WRV9FTkRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5IZWxwLCBLZXlFdmVudC5LRVlDT0RFX0hFTFBdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5Ib21lLCBLZXlFdmVudC5LRVlDT0RFX01PVkVfSE9NRV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkluc2VydCwgS2V5RXZlbnQuS0VZQ09ERV9JTlNFUlRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5QYWdlRG93biwgS2V5RXZlbnQuS0VZQ09ERV9QQUdFX0RPV05dLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5QYWdlVXAsIEtleUV2ZW50LktFWUNPREVfUEFHRV9VUF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFsdExlZnQsIEtleUV2ZW50LktFWUNPREVfQUxUX0xFRlRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5BbHRSaWdodCwgS2V5RXZlbnQuS0VZQ09ERV9BTFRfUklHSFRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5CYWNrc3BhY2UsIEtleUV2ZW50LktFWUNPREVfREVMXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ2Fwc0xvY2ssIEtleUV2ZW50LktFWUNPREVfQ0FQU19MT0NLXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ29udHJvbExlZnQsIEtleUV2ZW50LktFWUNPREVfQ1RSTF9MRUZUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ29udHJvbFJpZ2h0LCBLZXlFdmVudC5LRVlDT0RFX0NUUkxfUklHSFRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5FbnRlciwgS2V5RXZlbnQuS0VZQ09ERV9FTlRFUl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk1ldGFMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX01FVEFfTEVGVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk1ldGFSaWdodCwgS2V5RXZlbnQuS0VZQ09ERV9NRVRBX1JJR0hUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuU2hpZnRMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX1NISUZUX0xFRlRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5TaGlmdFJpZ2h0LCBLZXlFdmVudC5LRVlDT0RFX1NISUZUX1JJR0hUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuU3BhY2UsIEtleUV2ZW50LktFWUNPREVfU1BBQ0VdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5UYWIsIEtleUV2ZW50LktFWUNPREVfVEFCXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQXJyb3dMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX0RQQURfTEVGVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFycm93VXAsIEtleUV2ZW50LktFWUNPREVfRFBBRF9VUF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFycm93UmlnaHQsIEtleUV2ZW50LktFWUNPREVfRFBBRF9SSUdIVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFycm93RG93biwgS2V5RXZlbnQuS0VZQ09ERV9EUEFEX0RPV05dLFxyXG5cclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtTG9jaywgS2V5RXZlbnQuS0VZQ09ERV9OVU1fTE9DS10sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDAsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzBdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWQxLCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF8xXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkMiwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfMl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDMsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzNdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWQ0LCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF80XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkNSwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfNV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDYsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzZdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWQ3LCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF83XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkOCwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfOF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDksIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzldLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWRBZGQsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0FERF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZENvbW1hLCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF9DT01NQV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZERlY2ltYWwsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0RPVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZERpdmlkZSwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfRElWSURFXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkRW50ZXIsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0VOVEVSXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkRXF1YWwsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0VRVUFMU10sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZE11bHRpcGx5LCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF9NVUxUSVBMWV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZFBhcmVuTGVmdCwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfTEVGVF9QQVJFTl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZFBhcmVuUmlnaHQsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX1JJR0hUX1BBUkVOXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkU3VidHJhY3QsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX1NVQlRSQUNUXSxcclxuXHJcbiAgICBbVUlFdmVudHNDb2RlLkVzY2FwZSwgS2V5RXZlbnQuS0VZQ09ERV9FU0NBUEVdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GMSwgS2V5RXZlbnQuS0VZQ09ERV9GMV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkYyLCBLZXlFdmVudC5LRVlDT0RFX0YyXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjMsIEtleUV2ZW50LktFWUNPREVfRjNdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GNCwgS2V5RXZlbnQuS0VZQ09ERV9GNF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkY1LCBLZXlFdmVudC5LRVlDT0RFX0Y1XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjYsIEtleUV2ZW50LktFWUNPREVfRjZdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GNywgS2V5RXZlbnQuS0VZQ09ERV9GN10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkY4LCBLZXlFdmVudC5LRVlDT0RFX0Y4XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjksIEtleUV2ZW50LktFWUNPREVfRjldLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GMTAsIEtleUV2ZW50LktFWUNPREVfRjEwXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjExLCBLZXlFdmVudC5LRVlDT0RFX0YxMV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkYxMiwgS2V5RXZlbnQuS0VZQ09ERV9GMTJdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GbiwgS2V5RXZlbnQuS0VZQ09ERV9GVU5DVElPTl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLlByaW50U2NyZWVuLCBLZXlFdmVudC5LRVlDT0RFX1NZU1JRXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuUGF1c2UsIEtleUV2ZW50LktFWUNPREVfQlJFQUtdLFxyXG5dKTtcclxuIiwiZXhwb3J0IGNsYXNzIFN0YXRzIHtcclxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29uc3RhbnQgd2VyZSBleHRyYWN0ZWQgZnJvbSBgbWFuIDIgc3RhdGAgb24gVWJ1bnR1IDEyLjEwLlxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lGTVQgPSAwbzE3MDAwMDsgLy8gYml0IG1hc2sgZm9yIHRoZSBmaWxlIHR5cGUgYml0IGZpZWxkc1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JRlNPQ0sgPSAwbzE0MDAwMDsgLy8gc29ja2V0XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lGTE5LID0gMG8xMjAwMDA7IC8vIHN5bWJvbGljIGxpbmtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSUZSRUcgPSAwbzEwMDAwMDsgLy8gcmVndWxhciBmaWxlXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lGQkxLID0gMG8wNjAwMDA7IC8vIGJsb2NrIGRldmljZVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JRkRJUiA9IDBvMDQwMDAwOyAvLyBkaXJlY3RvcnlcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSUZDSFIgPSAwbzAyMDAwMDsgLy8gY2hhcmFjdGVyIGRldmljZVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JRklGTyA9IDBvMDEwMDAwOyAvLyBGSUZPXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lTVUlEID0gMG8wMDQwMDA7IC8vIHNldCBVSUQgYml0XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lTR0lEID0gMG8wMDIwMDA7IC8vIHNldC1ncm91cC1JRCBiaXQgKHNlZSBiZWxvdylcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSVNWVFggPSAwbzAwMTAwMDsgLy8gc3RpY2t5IGJpdCAoc2VlIGJlbG93KVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JUldYVSA9IDBvMDcwMDsgLy8gbWFzayBmb3IgZmlsZSBvd25lciBwZXJtaXNzaW9uc1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JUlVTUiA9IDBvMDQwMDsgLy8gb3duZXIgaGFzIHJlYWQgcGVybWlzc2lvblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JV1VTUiA9IDBvMDIwMDsgLy8gb3duZXIgaGFzIHdyaXRlIHBlcm1pc3Npb25cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSVhVU1IgPSAwbzAxMDA7IC8vIG93bmVyIGhhcyBleGVjdXRlIHBlcm1pc3Npb25cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSVJXWEcgPSAwbzAwNzA7IC8vIG1hc2sgZm9yIGdyb3VwIHBlcm1pc3Npb25zXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lSR1JQID0gMG8wMDQwOyAvLyBncm91cCBoYXMgcmVhZCBwZXJtaXNzaW9uXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG10aW1lOiBEYXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBtb2RlOiBudW1iZXIsIHB1YmxpYyByZWFkb25seSBzaXplOiBudW1iZXIsIG10aW1lOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLm10aW1lID0gbmV3IERhdGUobXRpbWUgKiAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrTW9kZVByb3BlcnR5KHByb3BlcnR5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMubW9kZSAmIFN0YXRzLlNfSUZNVCkgPT09IHByb3BlcnR5O1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzQmxvY2tEZXZpY2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRkJMSyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaXNDaGFyYWN0ZXJEZXZpY2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRkNIUik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaXNEaXJlY3RvcnkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRkRJUik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaXNGSUZPKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrTW9kZVByb3BlcnR5KFN0YXRzLlNfSUZJRk8pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzaXNTb2NrZXQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRlNPQ0spO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzU3ltYm9saWNMaW5rKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrTW9kZVByb3BlcnR5KFN0YXRzLlNfSUZMTkspO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzRmlsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGVja01vZGVQcm9wZXJ0eShTdGF0cy5TX0lGUkVHKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlFdmVudCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFDVElPTl9ET1dOOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBQ1RJT05fVVA6IG51bWJlciA9IDE7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFXzA6IG51bWJlciA9IDc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfMTogbnVtYmVyID0gODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV8xMTogbnVtYmVyID0gMjI3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFXzEyOiBudW1iZXIgPSAyMjg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfMjogbnVtYmVyID0gOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV8zOiBudW1iZXIgPSAxMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV8zRF9NT0RFOiBudW1iZXIgPSAyMDY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNDogbnVtYmVyID0gMTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNTogbnVtYmVyID0gMTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNjogbnVtYmVyID0gMTM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNzogbnVtYmVyID0gMTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfODogbnVtYmVyID0gMTU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfOTogbnVtYmVyID0gMTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQTogbnVtYmVyID0gMjk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQUxMX0FQUFM6IG51bWJlciA9IDI4NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9BTFRfTEVGVDogbnVtYmVyID0gNTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQUxUX1JJR0hUOiBudW1iZXIgPSA1ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9BUE9TVFJPUEhFOiBudW1iZXIgPSA3NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9BUFBfU1dJVENIOiBudW1iZXIgPSAxODc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQVNTSVNUOiBudW1iZXIgPSAyMTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQVQ6IG51bWJlciA9IDc3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0FWUl9JTlBVVDogbnVtYmVyID0gMTgyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0FWUl9QT1dFUjogbnVtYmVyID0gMTgxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0I6IG51bWJlciA9IDMwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JBQ0s6IG51bWJlciA9IDQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQkFDS1NMQVNIOiBudW1iZXIgPSA3MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CT09LTUFSSzogbnVtYmVyID0gMTc0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JSRUFLOiBudW1iZXIgPSAxMjE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlJJR0hUTkVTU19ET1dOOiBudW1iZXIgPSAyMjA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlJJR0hUTkVTU19VUDogbnVtYmVyID0gMjIxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl8xOiBudW1iZXIgPSAxODg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzEwOiBudW1iZXIgPSAxOTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzExOiBudW1iZXIgPSAxOTg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzEyOiBudW1iZXIgPSAxOTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzEzOiBudW1iZXIgPSAyMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzE0OiBudW1iZXIgPSAyMDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzE1OiBudW1iZXIgPSAyMDI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzE2OiBudW1iZXIgPSAyMDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzI6IG51bWJlciA9IDE4OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fMzogbnVtYmVyID0gMTkwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl80OiBudW1iZXIgPSAxOTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzU6IG51bWJlciA9IDE5MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fNjogbnVtYmVyID0gMTkzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl83OiBudW1iZXIgPSAxOTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzg6IG51bWJlciA9IDE5NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fOTogbnVtYmVyID0gMTk2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9BOiBudW1iZXIgPSA5NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fQjogbnVtYmVyID0gOTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX0M6IG51bWJlciA9IDk4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9MMTogbnVtYmVyID0gMTAyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9MMjogbnVtYmVyID0gMTA0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9NT0RFOiBudW1iZXIgPSAxMTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1IxOiBudW1iZXIgPSAxMDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1IyOiBudW1iZXIgPSAxMDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1NFTEVDVDogbnVtYmVyID0gMTA5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9TVEFSVDogbnVtYmVyID0gMTA4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9USFVNQkw6IG51bWJlciA9IDEwNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fVEhVTUJSOiBudW1iZXIgPSAxMDc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1g6IG51bWJlciA9IDk5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9ZOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1o6IG51bWJlciA9IDEwMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DOiBudW1iZXIgPSAzMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DQUxDVUxBVE9SOiBudW1iZXIgPSAyMTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0FMRU5EQVI6IG51bWJlciA9IDIwODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DQUxMOiBudW1iZXIgPSA1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0NBTUVSQTogbnVtYmVyID0gMjc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0FQU19MT0NLOiBudW1iZXIgPSAxMTU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0FQVElPTlM6IG51bWJlciA9IDE3NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DSEFOTkVMX0RPV046IG51bWJlciA9IDE2NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DSEFOTkVMX1VQOiBudW1iZXIgPSAxNjY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0xFQVI6IG51bWJlciA9IDI4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0NPTU1BOiBudW1iZXIgPSA1NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DT05UQUNUUzogbnVtYmVyID0gMjA3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0NPUFk6IG51bWJlciA9IDI3ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DVFJMX0xFRlQ6IG51bWJlciA9IDExMztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DVFJMX1JJR0hUOiBudW1iZXIgPSAxMTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ1VUOiBudW1iZXIgPSAyNzc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRDogbnVtYmVyID0gMzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfREVMOiBudW1iZXIgPSA2NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9EUEFEX0NFTlRFUjogbnVtYmVyID0gMjM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9ET1dOOiBudW1iZXIgPSAyMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9EUEFEX0RPV05fTEVGVDogbnVtYmVyID0gMjY5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0RQQURfRE9XTl9SSUdIVDogbnVtYmVyID0gMjcxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0RQQURfTEVGVDogbnVtYmVyID0gMjE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9SSUdIVDogbnVtYmVyID0gMjI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9VUDogbnVtYmVyID0gMTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9VUF9MRUZUOiBudW1iZXIgPSAyNjg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9VUF9SSUdIVDogbnVtYmVyID0gMjcwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0RWUjogbnVtYmVyID0gMTczO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0U6IG51bWJlciA9IDMzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0VJU1U6IG51bWJlciA9IDIxMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FTkRDQUxMOiBudW1iZXIgPSA2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0VOVEVSOiBudW1iZXIgPSA2NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FTlZFTE9QRTogbnVtYmVyID0gNjU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRVFVQUxTOiBudW1iZXIgPSA3MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FU0NBUEU6IG51bWJlciA9IDExMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FWFBMT1JFUjogbnVtYmVyID0gNjQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjogbnVtYmVyID0gMzQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjE6IG51bWJlciA9IDEzMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMTA6IG51bWJlciA9IDE0MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMTE6IG51bWJlciA9IDE0MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMTI6IG51bWJlciA9IDE0MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMjogbnVtYmVyID0gMTMyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0YzOiBudW1iZXIgPSAxMzM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjQ6IG51bWJlciA9IDEzNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GNTogbnVtYmVyID0gMTM1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0Y2OiBudW1iZXIgPSAxMzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjc6IG51bWJlciA9IDEzNztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GODogbnVtYmVyID0gMTM4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0Y5OiBudW1iZXIgPSAxMzk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRk9DVVM6IG51bWJlciA9IDgwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0ZPUldBUkQ6IG51bWJlciA9IDEyNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GT1JXQVJEX0RFTDogbnVtYmVyID0gMTEyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0ZVTkNUSU9OOiBudW1iZXIgPSAxMTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRzogbnVtYmVyID0gMzU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfR1JBVkU6IG51bWJlciA9IDY4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0dVSURFOiBudW1iZXIgPSAxNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfSDogbnVtYmVyID0gMzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfSEVBRFNFVEhPT0s6IG51bWJlciA9IDc5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0hFTFA6IG51bWJlciA9IDI1OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9IRU5LQU46IG51bWJlciA9IDIxNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9IT01FOiBudW1iZXIgPSAzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0k6IG51bWJlciA9IDM3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0lORk86IG51bWJlciA9IDE2NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9JTlNFUlQ6IG51bWJlciA9IDEyNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9KOiBudW1iZXIgPSAzODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9LOiBudW1iZXIgPSAzOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9LQU5BOiBudW1iZXIgPSAyMTg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfS0FUQUtBTkFfSElSQUdBTkE6IG51bWJlciA9IDIxNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MOiBudW1iZXIgPSA0MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MQU5HVUFHRV9TV0lUQ0g6IG51bWJlciA9IDIwNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MQVNUX0NIQU5ORUw6IG51bWJlciA9IDIyOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MRUZUX0JSQUNLRVQ6IG51bWJlciA9IDcxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX006IG51bWJlciA9IDQxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01BTk5FUl9NT0RFOiBudW1iZXIgPSAyMDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfQVVESU9fVFJBQ0s6IG51bWJlciA9IDIyMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9DTE9TRTogbnVtYmVyID0gMTI4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX0VKRUNUOiBudW1iZXIgPSAxMjk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfRkFTVF9GT1JXQVJEOiBudW1iZXIgPSA5MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9ORVhUOiBudW1iZXIgPSA4NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9QQVVTRTogbnVtYmVyID0gMTI3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1BMQVk6IG51bWJlciA9IDEyNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9QTEFZX1BBVVNFOiBudW1iZXIgPSA4NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9QUkVWSU9VUzogbnVtYmVyID0gODg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfUkVDT1JEOiBudW1iZXIgPSAxMzA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfUkVXSU5EOiBudW1iZXIgPSA4OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9TS0lQX0JBQ0tXQVJEOiBudW1iZXIgPSAyNzM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfU0tJUF9GT1JXQVJEOiBudW1iZXIgPSAyNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfU1RFUF9CQUNLV0FSRDogbnVtYmVyID0gMjc1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1NURVBfRk9SV0FSRDogbnVtYmVyID0gMjc0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1NUT1A6IG51bWJlciA9IDg2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1RPUF9NRU5VOiBudW1iZXIgPSAyMjY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVOVTogbnVtYmVyID0gODI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVUQV9MRUZUOiBudW1iZXIgPSAxMTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVUQV9SSUdIVDogbnVtYmVyID0gMTE4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01JTlVTOiBudW1iZXIgPSA2OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NT1ZFX0VORDogbnVtYmVyID0gMTIzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01PVkVfSE9NRTogbnVtYmVyID0gMTIyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01VSEVOS0FOOiBudW1iZXIgPSAyMTM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTVVTSUM6IG51bWJlciA9IDIwOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NVVRFOiBudW1iZXIgPSA5MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OOiBudW1iZXIgPSA0MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OQVZJR0FURV9JTjogbnVtYmVyID0gMjYyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05BVklHQVRFX05FWFQ6IG51bWJlciA9IDI2MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OQVZJR0FURV9PVVQ6IG51bWJlciA9IDI2MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OQVZJR0FURV9QUkVWSU9VUzogbnVtYmVyID0gMjYwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05PVElGSUNBVElPTjogbnVtYmVyID0gODM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNOiBudW1iZXIgPSA3ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfMDogbnVtYmVyID0gMTQ0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF8xOiBudW1iZXIgPSAxNDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEXzI6IG51bWJlciA9IDE0NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfMzogbnVtYmVyID0gMTQ3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF80OiBudW1iZXIgPSAxNDg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEXzU6IG51bWJlciA9IDE0OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfNjogbnVtYmVyID0gMTUwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF83OiBudW1iZXIgPSAxNTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEXzg6IG51bWJlciA9IDE1MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfOTogbnVtYmVyID0gMTUzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9BREQ6IG51bWJlciA9IDE1NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfQ09NTUE6IG51bWJlciA9IDE1OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfRElWSURFOiBudW1iZXIgPSAxNTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEX0RPVDogbnVtYmVyID0gMTU4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9FTlRFUjogbnVtYmVyID0gMTYwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9FUVVBTFM6IG51bWJlciA9IDE2MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfTEVGVF9QQVJFTjogbnVtYmVyID0gMTYyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9NVUxUSVBMWTogbnVtYmVyID0gMTU1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9SSUdIVF9QQVJFTjogbnVtYmVyID0gMTYzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9TVUJUUkFDVDogbnVtYmVyID0gMTU2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTV9MT0NLOiBudW1iZXIgPSAxNDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTzogbnVtYmVyID0gNDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUDogbnVtYmVyID0gNDQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUEFHRV9ET1dOOiBudW1iZXIgPSA5MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QQUdFX1VQOiBudW1iZXIgPSA5MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QQUlSSU5HOiBudW1iZXIgPSAyMjU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUEFTVEU6IG51bWJlciA9IDI3OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QRVJJT0Q6IG51bWJlciA9IDU2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1BJQ1RTWU1CT0xTOiBudW1iZXIgPSA5NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QTFVTOiBudW1iZXIgPSA4MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QT1VORDogbnVtYmVyID0gMTg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUE9XRVI6IG51bWJlciA9IDI2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1BST0ZJTEVfU1dJVENIOiBudW1iZXIgPSAyODg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUFJPR19CTFVFOiBudW1iZXIgPSAxODY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUFJPR19HUkVFTjogbnVtYmVyID0gMTg0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1BST0dfUkVEOiBudW1iZXIgPSAxODM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUFJPR19ZRUxMT1c6IG51bWJlciA9IDE4NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9ROiBudW1iZXIgPSA0NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9SOiBudW1iZXIgPSA0NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9SRUZSRVNIOiBudW1iZXIgPSAyODU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUklHSFRfQlJBQ0tFVDogbnVtYmVyID0gNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUk86IG51bWJlciA9IDIxNztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TOiBudW1iZXIgPSA0NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TQ1JPTExfTE9DSzogbnVtYmVyID0gMTE2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NFQVJDSDogbnVtYmVyID0gODQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU0VNSUNPTE9OOiBudW1iZXIgPSA3NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TRVRUSU5HUzogbnVtYmVyID0gMTc2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NISUZUX0xFRlQ6IG51bWJlciA9IDU5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NISUZUX1JJR0hUOiBudW1iZXIgPSA2MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TTEFTSDogbnVtYmVyID0gNzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU0xFRVA6IG51bWJlciA9IDIyMztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TT0ZUX0xFRlQ6IG51bWJlciA9IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU09GVF9SSUdIVDogbnVtYmVyID0gMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TT0ZUX1NMRUVQOiBudW1iZXIgPSAyNzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU1BBQ0U6IG51bWJlciA9IDYyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NUQVI6IG51bWJlciA9IDE3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NUQl9JTlBVVDogbnVtYmVyID0gMTgwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NUQl9QT1dFUjogbnVtYmVyID0gMTc5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fMTogbnVtYmVyID0gMjY1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fMjogbnVtYmVyID0gMjY2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fMzogbnVtYmVyID0gMjY3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fUFJJTUFSWTogbnVtYmVyID0gMjY0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NXSVRDSF9DSEFSU0VUOiBudW1iZXIgPSA5NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TWU06IG51bWJlciA9IDYzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NZU1JROiBudW1iZXIgPSAxMjA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU1lTVEVNX05BVklHQVRJT05fRE9XTjogbnVtYmVyID0gMjgxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NZU1RFTV9OQVZJR0FUSU9OX0xFRlQ6IG51bWJlciA9IDI4MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TWVNURU1fTkFWSUdBVElPTl9SSUdIVDogbnVtYmVyID0gMjgzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NZU1RFTV9OQVZJR0FUSU9OX1VQOiBudW1iZXIgPSAyODA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVDogbnVtYmVyID0gNDg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVEFCOiBudW1iZXIgPSA2MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9USFVNQlNfRE9XTjogbnVtYmVyID0gMjg3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RIVU1CU19VUDogbnVtYmVyID0gMjg2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWOiBudW1iZXIgPSAxNzA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfQU5URU5OQV9DQUJMRTogbnVtYmVyID0gMjQyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0FVRElPX0RFU0NSSVBUSU9OOiBudW1iZXIgPSAyNTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfQVVESU9fREVTQ1JJUFRJT05fTUlYX0RPV046IG51bWJlciA9IDI1NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9BVURJT19ERVNDUklQVElPTl9NSVhfVVA6IG51bWJlciA9IDI1MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9DT05URU5UU19NRU5VOiBudW1iZXIgPSAyNTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfREFUQV9TRVJWSUNFOiBudW1iZXIgPSAyMzA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfSU5QVVQ6IG51bWJlciA9IDE3ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9JTlBVVF9DT01QT05FTlRfMTogbnVtYmVyID0gMjQ5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0NPTVBPTkVOVF8yOiBudW1iZXIgPSAyNTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfSU5QVVRfQ09NUE9TSVRFXzE6IG51bWJlciA9IDI0NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9JTlBVVF9DT01QT1NJVEVfMjogbnVtYmVyID0gMjQ4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfMTogbnVtYmVyID0gMjQzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfMjogbnVtYmVyID0gMjQ0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfMzogbnVtYmVyID0gMjQ1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfNDogbnVtYmVyID0gMjQ2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX1ZHQV8xOiBudW1iZXIgPSAyNTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfTUVESUFfQ09OVEVYVF9NRU5VOiBudW1iZXIgPSAyNTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfTkVUV09SSzogbnVtYmVyID0gMjQxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX05VTUJFUl9FTlRSWTogbnVtYmVyID0gMjM0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1BPV0VSOiBudW1iZXIgPSAxNzc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfUkFESU9fU0VSVklDRTogbnVtYmVyID0gMjMyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURTogbnVtYmVyID0gMjM3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURV9CUzogbnVtYmVyID0gMjM4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURV9DUzogbnVtYmVyID0gMjM5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURV9TRVJWSUNFOiBudW1iZXIgPSAyNDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfVEVMRVRFWFQ6IG51bWJlciA9IDIzMztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9URVJSRVNUUklBTF9BTkFMT0c6IG51bWJlciA9IDIzNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9URVJSRVNUUklBTF9ESUdJVEFMOiBudW1iZXIgPSAyMzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfVElNRVJfUFJPR1JBTU1JTkc6IG51bWJlciA9IDI1ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9aT09NX01PREU6IG51bWJlciA9IDI1NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9VOiBudW1iZXIgPSA0OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9VTktOT1dOOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1Y6IG51bWJlciA9IDUwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1ZPSUNFX0FTU0lTVDogbnVtYmVyID0gMjMxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1ZPTFVNRV9ET1dOOiBudW1iZXIgPSAyNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9WT0xVTUVfTVVURTogbnVtYmVyID0gMTY0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1ZPTFVNRV9VUDogbnVtYmVyID0gMjQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVzogbnVtYmVyID0gNTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfV0FLRVVQOiBudW1iZXIgPSAyMjQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfV0lORE9XOiBudW1iZXIgPSAxNzE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWDogbnVtYmVyID0gNTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWTogbnVtYmVyID0gNTM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWUVOOiBudW1iZXIgPSAyMTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWjogbnVtYmVyID0gNTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWkVOS0FLVV9IQU5LQUtVOiBudW1iZXIgPSAyMTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWk9PTV9JTjogbnVtYmVyID0gMTY4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1pPT01fT1VUOiBudW1iZXIgPSAxNjk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0FMVF9MRUZUX09OOiBudW1iZXIgPSAxNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9BTFRfTUFTSzogbnVtYmVyID0gNTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfQUxUX09OOiBudW1iZXIgPSAyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0FMVF9SSUdIVF9PTjogbnVtYmVyID0gMzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfQ0FQU19MT0NLX09OOiBudW1iZXIgPSAxMDQ4NTc2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0NUUkxfTEVGVF9PTjogbnVtYmVyID0gODE5MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9DVFJMX01BU0s6IG51bWJlciA9IDI4NjcyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0NUUkxfT046IG51bWJlciA9IDQwOTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfQ1RSTF9SSUdIVF9PTjogbnVtYmVyID0gMTYzODQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfRlVOQ1RJT05fT046IG51bWJlciA9IDg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9MRUZUX09OOiBudW1iZXIgPSAxMzEwNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9NQVNLOiBudW1iZXIgPSA0NTg3NTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9PTjogbnVtYmVyID0gNjU1MzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9SSUdIVF9PTjogbnVtYmVyID0gMjYyMTQ0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX05VTV9MT0NLX09OOiBudW1iZXIgPSAyMDk3MTUyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NDUk9MTF9MT0NLX09OOiBudW1iZXIgPSA0MTk0MzA0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NISUZUX0xFRlRfT046IG51bWJlciA9IDY0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NISUZUX01BU0s6IG51bWJlciA9IDE5MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9TSElGVF9PTjogbnVtYmVyID0gMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9TSElGVF9SSUdIVF9PTjogbnVtYmVyID0gMTI4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NZTV9PTjogbnVtYmVyID0gNDtcclxufVxyXG4iLCJpbXBvcnQgJy4uLy4uLy4uL3N0eWxlL2RpYWxvZy5jc3MnO1xyXG5pbXBvcnQgR29vZ0RldmljZURlc2NyaXB0b3IgZnJvbSAnLi4vLi4vLi4vdHlwZXMvR29vZ0RldmljZURlc2NyaXB0b3InO1xyXG5pbXBvcnQgeyBEaXNwbGF5Q29tYmluZWRJbmZvIH0gZnJvbSAnLi4vLi4vY2xpZW50L1N0cmVhbVJlY2VpdmVyJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IFN0cmVhbUNsaWVudFNjcmNweSB9IGZyb20gJy4vU3RyZWFtQ2xpZW50U2NyY3B5JztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vLi4vU2l6ZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL1V0aWwnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uLy4uL0Rpc3BsYXlJbmZvJztcclxuaW1wb3J0IHsgVG9vbEJveEJ1dHRvbiB9IGZyb20gJy4uLy4uL3Rvb2xib3gvVG9vbEJveEJ1dHRvbic7XHJcbmltcG9ydCBTdmdJbWFnZSBmcm9tICcuLi8uLi91aS9TdmdJbWFnZSc7XHJcbmltcG9ydCB7IFBsYXllckNsYXNzIH0gZnJvbSAnLi4vLi4vcGxheWVyL0Jhc2VQbGF5ZXInO1xyXG5pbXBvcnQgeyBUb29sQm94Q2hlY2tib3ggfSBmcm9tICcuLi8uLi90b29sYm94L1Rvb2xCb3hDaGVja2JveCc7XHJcbmltcG9ydCB7IERldmljZVRyYWNrZXIgfSBmcm9tICcuL0RldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi9BdHRyaWJ1dGUnO1xyXG5pbXBvcnQgeyBTdHJlYW1SZWNlaXZlclNjcmNweSB9IGZyb20gJy4vU3RyZWFtUmVjZWl2ZXJTY3JjcHknO1xyXG5pbXBvcnQgeyBQYXJhbXNTdHJlYW1TY3JjcHkgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNTdHJlYW1TY3JjcHknO1xyXG5pbXBvcnQgeyBCYXNlQ2xpZW50IH0gZnJvbSAnLi4vLi4vY2xpZW50L0Jhc2VDbGllbnQnO1xyXG5cclxuaW50ZXJmYWNlIENvbmZpZ3VyZVNjcmNweUV2ZW50cyB7XHJcbiAgICBjbG9zZWQ6IHsgZGlhbG9nOiBDb25maWd1cmVTY3JjcHk7IHJlc3VsdDogYm9vbGVhbiB9O1xyXG59XHJcblxyXG50eXBlIFJhbmdlID0ge1xyXG4gICAgbWF4OiBudW1iZXI7XHJcbiAgICBtaW46IG51bWJlcjtcclxuICAgIHN0ZXA6IG51bWJlcjtcclxuICAgIGZvcm1hdHRlcj86ICh2YWx1ZTogbnVtYmVyKSA9PiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJlU2NyY3B5IGV4dGVuZHMgQmFzZUNsaWVudDxQYXJhbXNTdHJlYW1TY3JjcHksIENvbmZpZ3VyZVNjcmNweUV2ZW50cz4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUQUc6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdWRpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlc2NhcGVkVWRpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbGF5ZXJTdG9yYWdlS2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGRldmljZU5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgc3RyZWFtUmVjZWl2ZXI/OiBTdHJlYW1SZWNlaXZlclNjcmNweTtcclxuICAgIHByaXZhdGUgcGxheWVyTmFtZT86IHN0cmluZztcclxuICAgIHByaXZhdGUgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbztcclxuICAgIHByaXZhdGUgYmFja2dyb3VuZDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGRpYWxvZ0JvZHk/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgb2tCdXR0b24/OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgZml0VG9TY3JlZW5DaGVja2JveD86IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlc2V0U2V0dGluZ3NCdXR0b24/OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgbG9hZFNldHRpbmdzQnV0dG9uPzogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHNhdmVTZXR0aW5nc0J1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXJTZWxlY3RFbGVtZW50PzogSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGRpc3BsYXlJZFNlbGVjdEVsZW1lbnQ/OiBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIHByaXZhdGUgZW5jb2RlclNlbGVjdEVsZW1lbnQ/OiBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIHByaXZhdGUgY29ubmVjdGlvblN0YXR1c0VsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgZGlhbG9nQ29udGFpbmVyPzogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHN0YXR1c1RleHQgPSAnJztcclxuICAgIHByaXZhdGUgY29ubmVjdGlvbkNvdW50ID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHRyYWNrZXI6IERldmljZVRyYWNrZXIsIGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yLCBwYXJhbXM6IFBhcmFtc1N0cmVhbVNjcmNweSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy51ZGlkID0gZGVzY3JpcHRvci51ZGlkO1xyXG4gICAgICAgIHRoaXMuZXNjYXBlZFVkaWQgPSBVdGlsLmVzY2FwZVVkaWQodGhpcy51ZGlkKTtcclxuICAgICAgICB0aGlzLnBsYXllclN0b3JhZ2VLZXkgPSBgY29uZmlndXJlX3N0cmVhbTo6JHt0aGlzLmVzY2FwZWRVZGlkfTo6cGxheWVyYDtcclxuICAgICAgICB0aGlzLmRldmljZU5hbWUgPSBkZXNjcmlwdG9yWydyby5wcm9kdWN0Lm1vZGVsJ107XHJcbiAgICAgICAgdGhpcy5UQUcgPSBgQ29uZmlndXJlU2NyY3B5WyR7dGhpcy51ZGlkfV1gO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlU3RyZWFtUmVjZWl2ZXIocGFyYW1zKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlKGAke3RoaXMuZGV2aWNlTmFtZX0uIENvbmZpZ3VyZSBzdHJlYW1gKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmNyZWF0ZVVJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRyYWNrZXIoKTogRGV2aWNlVHJhY2tlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tlcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVN0cmVhbVJlY2VpdmVyKHBhcmFtczogUGFyYW1zU3RyZWFtU2NyY3B5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtUmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhY2hFdmVudHNMaXN0ZW5lcnModGhpcy5zdHJlYW1SZWNlaXZlcik7XHJcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyID0gbmV3IFN0cmVhbVJlY2VpdmVyU2NyY3B5KHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHNMaXN0ZW5lcnModGhpcy5zdHJlYW1SZWNlaXZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRhY2hFdmVudHNMaXN0ZW5lcnMoc3RyZWFtUmVjZWl2ZXI6IFN0cmVhbVJlY2VpdmVyU2NyY3B5KTogdm9pZCB7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub24oJ2VuY29kZXJzJywgdGhpcy5vbkVuY29kZXJzKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGlzcGxheUluZm8nLCB0aGlzLm9uRGlzcGxheUluZm8pO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdjb25uZWN0ZWQnLCB0aGlzLm9uQ29ubmVjdGVkKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGlzY29ubmVjdGVkJywgdGhpcy5vbkRpc2Nvbm5lY3RlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZXRhY2hFdmVudHNMaXN0ZW5lcnMoc3RyZWFtUmVjZWl2ZXI6IFN0cmVhbVJlY2VpdmVyU2NyY3B5KTogdm9pZCB7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub2ZmKCdlbmNvZGVycycsIHRoaXMub25FbmNvZGVycyk7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub2ZmKCdkaXNwbGF5SW5mbycsIHRoaXMub25EaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub2ZmKCdjb25uZWN0ZWQnLCB0aGlzLm9uQ29ubmVjdGVkKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vZmYoJ2Rpc2Nvbm5lY3RlZCcsIHRoaXMub25EaXNjb25uZWN0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlU3RhdHVzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uU3RhdHVzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0ZXh0ID0gdGhpcy5zdGF0dXNUZXh0O1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Db3VudCkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gYCR7dGV4dH0uIE90aGVyIGNsaWVudHM6ICR7dGhpcy5jb25uZWN0aW9uQ291bnR9LmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXR1c0VsZW1lbnQuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uRW5jb2RlcnMgPSAoZW5jb2RlcnM6IHN0cmluZ1tdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5UQUcsICdFbmNvZGVycycsIGVuY29kZXJzKTtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gICAgICAgIGxldCBjaGlsZDtcclxuICAgICAgICB3aGlsZSAoKGNoaWxkID0gc2VsZWN0LmZpcnN0Q2hpbGQpKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdC5yZW1vdmVDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuY29kZXJzLnVuc2hpZnQoJycpO1xyXG4gICAgICAgIGVuY29kZXJzLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xyXG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LmlubmVyVGV4dCA9IHZhbHVlO1xyXG4gICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudCA9IHNlbGVjdDtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRpc3BsYXlJbmZvID0gKGluZm9BcnJheTogRGlzcGxheUNvbWJpbmVkSW5mb1tdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5UQUcsICdSZWNlaXZlZCBpbmZvJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gJ1JlYWR5JztcclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xyXG4gICAgICAgIHRoaXMuZGlhbG9nQ29udGFpbmVyPy5jbGFzc0xpc3QuYWRkKCdyZWFkeScpO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IHRoaXMuZGlzcGxheUlkU2VsZWN0RWxlbWVudCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICAgICAgICBsZXQgY2hpbGQ7XHJcbiAgICAgICAgd2hpbGUgKChjaGlsZCA9IHNlbGVjdC5maXJzdENoaWxkKSkge1xyXG4gICAgICAgICAgICBzZWxlY3QucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2VsZWN0ZWRPcHRpb25JZHggPSAtMTtcclxuICAgICAgICBpbmZvQXJyYXkuZm9yRWFjaCgodmFsdWU6IERpc3BsYXlDb21iaW5lZEluZm8sIGlkeDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzcGxheUluZm8gfSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGRpc3BsYXlJZCwgc2l6ZSB9ID0gZGlzcGxheUluZm87XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LmlubmVyVGV4dCA9IGBJRDogJHtkaXNwbGF5SWR9OyAke3NpemUud2lkdGh9eCR7c2l6ZS5oZWlnaHR9YDtcclxuICAgICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAodGhpcy5kaXNwbGF5SW5mbyAmJiB0aGlzLmRpc3BsYXlJbmZvLmRpc3BsYXlJZCA9PT0gZGlzcGxheUlkKSB8fFxyXG4gICAgICAgICAgICAgICAgKCF0aGlzLmRpc3BsYXlJbmZvICYmIGRpc3BsYXlJZCA9PT0gRGlzcGxheUluZm8uREVGQVVMVF9ESVNQTEFZKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uSWR4ID0gaWR4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uSWR4ID4gLTEpIHtcclxuICAgICAgICAgICAgc2VsZWN0LnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZE9wdGlvbklkeDtcclxuICAgICAgICAgICAgY29uc3QgeyB2aWRlb1NldHRpbmdzLCBjb25uZWN0aW9uQ291bnQsIGRpc3BsYXlJbmZvIH0gPSBpbmZvQXJyYXlbc2VsZWN0ZWRPcHRpb25JZHhdO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvID0gZGlzcGxheUluZm87XHJcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQ291bnQgPiAwICYmIHZpZGVvU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuVEFHLCAnQXBwbHkgb3RoZXIgY2xpZW50cyBzZXR0aW5ncycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxsSW5wdXRzRnJvbVZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5UQUcsICdBcHBseSBzZXR0aW5ncyBmb3IgY3VycmVudCBwbGF5ZXInKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlkZW9TZXR0aW5nc0ZvclBsYXllcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ID0gY29ubmVjdGlvbkNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQgPSBzZWxlY3Q7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nQm9keSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ0JvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nQm9keS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIG9uQ29ubmVjdGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuVEFHLCAnQ29ubmVjdGVkJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gJ1dhaXRpbmcgZm9yIGluZm8uLi4nO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMub2tCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy5va0J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRpc2Nvbm5lY3RlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLlRBRywgJ0Rpc2Nvbm5lY3RlZCcpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdEaXNjb25uZWN0ZWQnO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMub2tCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy5va0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmRpYWxvZ0JvZHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dCb2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dCb2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvblBsYXllckNoYW5nZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvU2V0dGluZ3NGb3JQbGF5ZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRpc3BsYXlJZENoYW5nZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFzZWxlY3QgfHwgIXRoaXMuc3RyZWFtUmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgICAgIGlmICghaXNOYU4oZGlzcGxheUlkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvID0gdGhpcy5zdHJlYW1SZWNlaXZlci5nZXREaXNwbGF5SW5mbyhkaXNwbGF5SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvU2V0dGluZ3NGb3JQbGF5ZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRQbGF5ZXIoKTogUGxheWVyQ2xhc3MgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wbGF5ZXJTZWxlY3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGxheWVyTmFtZSA9IHRoaXMucGxheWVyU2VsZWN0RWxlbWVudC5vcHRpb25zW3RoaXMucGxheWVyU2VsZWN0RWxlbWVudC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcclxuICAgICAgICByZXR1cm4gU3RyZWFtQ2xpZW50U2NyY3B5LmdldFBsYXllcnMoKS5maW5kKChwbGF5ZXJDbGFzcykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcGxheWVyQ2xhc3MucGxheWVyRnVsbE5hbWUgPT09IHBsYXllck5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVWaWRlb1NldHRpbmdzRm9yUGxheWVyKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XHJcbiAgICAgICAgaWYgKHBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBwbGF5ZXIucGxheWVyRnVsbE5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZE9yUHJlZmVycmVkID0gcGxheWVyLmxvYWRWaWRlb1NldHRpbmdzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpdFRvU2NyZWVuID0gcGxheWVyLmdldEZpdFRvU2NyZWVuU3RhdHVzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbElucHV0c0Zyb21WaWRlb1NldHRpbmdzKHN0b3JlZE9yUHJlZmVycmVkLCBmaXRUb1NjcmVlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QmFzaWNJbnB1dChpZDogc3RyaW5nKTogSFRNTElucHV0RWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpZH1fJHt0aGlzLmVzY2FwZWRVZGlkfWApO1xyXG4gICAgICAgIGlmICghZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxJbnB1dHNGcm9tVmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbjogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmZvICYmIHRoaXMuZGlzcGxheUluZm8uZGlzcGxheUlkICE9PSB2aWRlb1NldHRpbmdzLmRpc3BsYXlJZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMuVEFHLCBgRGlzcGxheSBpZCBmcm9tIFZpZGVvU2V0dGluZ3MgYW5kIERpc3BsYXlJbmZvIGRvbid0IG1hdGNoYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmlsbElucHV0c0Zyb21WaWRlb1NldHRpbmdzXCIsdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5maWxsQmFzaWNJbnB1dCh7IGlkOiAnYml0cmF0ZScgfSwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5maWxsQmFzaWNJbnB1dCh7IGlkOiAnbWF4RnBzJyB9LCB2aWRlb1NldHRpbmdzKTtcclxuICAgICAgICB0aGlzLmZpbGxCYXNpY0lucHV0KHsgaWQ6ICdpRnJhbWVJbnRlcnZhbCcgfSwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgLy8gdGhpcy5maWxsQmFzaWNJbnB1dCh7IGlkOiAnZGlzcGxheUlkJyB9LCB2aWRlb1NldHRpbmdzKTtcclxuICAgICAgICB0aGlzLmZpbGxCYXNpY0lucHV0KHsgaWQ6ICdjb2RlY09wdGlvbnMnIH0sIHZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgIGlmICh2aWRlb1NldHRpbmdzLmJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZGVvU2V0dGluZ3MuYm91bmRzO1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aElucHV0ID0gdGhpcy5nZXRCYXNpY0lucHV0KCdtYXhXaWR0aCcpO1xyXG4gICAgICAgICAgICBpZiAod2lkdGhJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgd2lkdGhJbnB1dC52YWx1ZSA9IHdpZHRoLnRvU3RyaW5nKDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHRJbnB1dCA9IHRoaXMuZ2V0QmFzaWNJbnB1dCgnbWF4SGVpZ2h0Jyk7XHJcbiAgICAgICAgICAgIGlmIChoZWlnaHRJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0SW5wdXQudmFsdWUgPSBoZWlnaHQudG9TdHJpbmcoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXJOYW1lID0gdmlkZW9TZXR0aW5ncy5lbmNvZGVyTmFtZSB8fCAnJztcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gQXJyYXkuZnJvbSh0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50Lm9wdGlvbnMpLmZpbmQoKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlID09PSBlbmNvZGVyTmFtZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5jb2RlclNlbGVjdEVsZW1lbnQuc2VsZWN0ZWRJbmRleCA9IG9wdGlvbi5pbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5maXRUb1NjcmVlbkNoZWNrYm94KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml0VG9TY3JlZW5DaGVja2JveC5jaGVja2VkID0gZml0VG9TY3JlZW47XHJcbiAgICAgICAgICAgIHRoaXMub25GaXRUb1NjcmVlbkNoYW5nZWQoZml0VG9TY3JlZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uRml0VG9TY3JlZW5DaGFuZ2VkKGNoZWNrZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCBoZWlnaHRJbnB1dCA9IHRoaXMuZ2V0QmFzaWNJbnB1dCgnbWF4SGVpZ2h0Jyk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGhJbnB1dCA9IHRoaXMuZ2V0QmFzaWNJbnB1dCgnbWF4V2lkdGgnKTtcclxuICAgICAgICBpZiAoIXRoaXMuZml0VG9TY3JlZW5DaGVja2JveCB8fCAhaGVpZ2h0SW5wdXQgfHwgIXdpZHRoSW5wdXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBoZWlnaHRJbnB1dC5kaXNhYmxlZCA9IHdpZHRoSW5wdXQuZGlzYWJsZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIGlmIChjaGVja2VkKSB7XHJcbiAgICAgICAgICAgIGhlaWdodElucHV0LnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVkFMVUUsIGhlaWdodElucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgaGVpZ2h0SW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgd2lkdGhJbnB1dC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlZBTFVFLCB3aWR0aElucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgd2lkdGhJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZEhlaWdodCA9IGhlaWdodElucHV0LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVkFMVUUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZEhlaWdodCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodElucHV0LnZhbHVlID0gc3RvcmVkSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0SW5wdXQucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZS5WQUxVRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc3RvcmVkV2lkdGggPSB3aWR0aElucHV0LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVkFMVUUpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0b3JlZFdpZHRoID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgd2lkdGhJbnB1dC52YWx1ZSA9IHN0b3JlZFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgd2lkdGhJbnB1dC5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlLlZBTFVFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxCYXNpY0lucHV0KG9wdHM6IHsgaWQ6IGtleW9mIFZpZGVvU2V0dGluZ3MgfSwgdmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5nZXRCYXNpY0lucHV0KG9wdHMuaWQpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmlkZW9TZXR0aW5nc1tvcHRzLmlkXTtcclxuICAgICAgICBpZiAoaW5wdXQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09ICctJyAmJiB2YWx1ZSAhPT0gMCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZS50b1N0cmluZygxMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdyYW5nZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwZW5kQmFzaWNJbnB1dChcclxuICAgICAgICBwYXJlbnQ6IEhUTUxFbGVtZW50LFxyXG4gICAgICAgIG9wdHM6IHsgbGFiZWw6IHN0cmluZzsgaWQ6IHN0cmluZzsgcmFuZ2U/OiBSYW5nZSB9LFxyXG4gICAgKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XHJcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gYCR7b3B0cy5sYWJlbH06YDtcclxuICAgICAgICBsYWJlbC5pZCA9IGBsYWJlbF8ke29wdHMuaWR9XyR7dGhpcy5lc2NhcGVkVWRpZH1gO1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaW5wdXQuaWQgPSBsYWJlbC5odG1sRm9yID0gYCR7b3B0cy5pZH1fJHt0aGlzLmVzY2FwZWRVZGlkfWA7XHJcbiAgICAgICAgY29uc3QgeyByYW5nZSB9ID0gb3B0cztcclxuICAgICAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCd0aXRsZScsIG9wdHMubGFiZWwpO1xyXG4gICAgICAgICAgICBpbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByYW5nZS5mb3JtYXR0ZXIgPyByYW5nZS5mb3JtYXR0ZXIocGFyc2VJbnQoaW5wdXQudmFsdWUsIDEwKSkgOiBpbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGxhYmVsLmlubmVyVGV4dCA9IGAke29wdHMubGFiZWx9ICgke3ZhbHVlfSk6YDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbWF4JywgcmFuZ2UubWF4LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ21pbicsIHJhbmdlLm1pbi50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdzdGVwJywgcmFuZ2Uuc3RlcC50b1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXROdW1iZXJWYWx1ZUZyb21JbnB1dChuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke25hbWV9XyR7dGhpcy5lc2NhcGVkVWRpZH1gKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0cmluZ1ZhbHVlRnJvbUlucHV0KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtuYW1lfV8ke3RoaXMuZXNjYXBlZFVkaWR9YCkgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZUZyb21TZWxlY3QobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtuYW1lfV8ke3RoaXMuZXNjYXBlZFVkaWR9YCkgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJ1aWxkVmlkZW9TZXR0aW5ncygpOiBWaWRlb1NldHRpbmdzIHwgbnVsbCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYml0cmF0ZSA9IHRoaXMuZ2V0TnVtYmVyVmFsdWVGcm9tSW5wdXQoJ2JpdHJhdGUnKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4RnBzID0gdGhpcy5nZXROdW1iZXJWYWx1ZUZyb21JbnB1dCgnbWF4RnBzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlGcmFtZUludGVydmFsID0gdGhpcy5nZXROdW1iZXJWYWx1ZUZyb21JbnB1dCgnaUZyYW1lSW50ZXJ2YWwnKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4V2lkdGggPSB0aGlzLmdldE51bWJlclZhbHVlRnJvbUlucHV0KCdtYXhXaWR0aCcpO1xyXG4gICAgICAgICAgICBjb25zdCBtYXhIZWlnaHQgPSB0aGlzLmdldE51bWJlclZhbHVlRnJvbUlucHV0KCdtYXhIZWlnaHQnKTtcclxuICAgICAgICAgICAgY29uc3QgZGlzcGxheUlkID0gdGhpcy5nZXROdW1iZXJWYWx1ZUZyb21JbnB1dCgnZGlzcGxheUlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGVjT3B0aW9ucyA9IHRoaXMuZ2V0U3RyaW5nVmFsdWVGcm9tSW5wdXQoJ2NvZGVjT3B0aW9ucycpIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgbGV0IGJvdW5kczogU2l6ZSB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKCFpc05hTihtYXhXaWR0aCkgJiYgIWlzTmFOKG1heEhlaWdodCkgJiYgbWF4V2lkdGggJiYgbWF4SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMgPSBuZXcgU2l6ZShtYXhXaWR0aCwgbWF4SGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyTmFtZSA9IHRoaXMuZ2V0VmFsdWVGcm9tU2VsZWN0KCdlbmNvZGVyTmFtZScpIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICAgICAgICAgIGJpdHJhdGUsXHJcbiAgICAgICAgICAgICAgICBib3VuZHMsXHJcbiAgICAgICAgICAgICAgICBtYXhGcHMsXHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgIGNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIGVuY29kZXJOYW1lLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5UQUcsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGaXRUb1NjcmVlblZhbHVlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghdGhpcy5maXRUb1NjcmVlbkNoZWNrYm94KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZml0VG9TY3JlZW5DaGVja2JveC5jaGVja2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UHJldmlvdXNseVVzZWRQbGF5ZXIoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5wbGF5ZXJTdG9yYWdlS2V5KTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFByZXZpb3VzbHlVc2VkUGxheWVyKHBsYXllck5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnBsYXllclN0b3JhZ2VLZXksIHBsYXllck5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlVUkoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGRpYWxvZ05hbWUgPSAnY29uZmlndXJlRGlhbG9nJztcclxuICAgICAgICBjb25zdCBibG9ja0NsYXNzID0gJ2RpYWxvZy1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGJhY2tncm91bmQuY2xhc3NMaXN0LmFkZCgnZGlhbG9nLWJhY2tncm91bmQnLCBkaWFsb2dOYW1lKTtcclxuICAgICAgICBjb25zdCBkaWFsb2dDb250YWluZXIgPSAodGhpcy5kaWFsb2dDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XHJcbiAgICAgICAgZGlhbG9nQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy1jb250YWluZXInLCBkaWFsb2dOYW1lKTtcclxuICAgICAgICBjb25zdCBkaWFsb2dIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaWFsb2dIZWFkZXIuY2xhc3NMaXN0LmFkZCgnZGlhbG9nLWhlYWRlcicsIGRpYWxvZ05hbWUsICdjb250cm9sLXdyYXBwZXInKTtcclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gbmV3IFRvb2xCb3hCdXR0b24oJ0JhY2snLCBTdmdJbWFnZS5JY29uLkFSUk9XX0JBQ0spO1xyXG5cclxuICAgICAgICBiYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJhY2tCdXR0b24uZ2V0QWxsRWxlbWVudHMoKS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICAgICAgICBkaWFsb2dIZWFkZXIuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBkZXZpY2VOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGRldmljZU5hbWUuY2xhc3NMaXN0LmFkZCgnZGlhbG9nLXRpdGxlJywgJ21haW4tdGl0bGUnKTtcclxuICAgICAgICBkZXZpY2VOYW1lLmlubmVyVGV4dCA9IHRoaXMuZGV2aWNlTmFtZTtcclxuICAgICAgICBkaWFsb2dIZWFkZXIuYXBwZW5kQ2hpbGQoZGV2aWNlTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nQm9keSA9ICh0aGlzLmRpYWxvZ0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XHJcbiAgICAgICAgZGlhbG9nQm9keS5jbGFzc0xpc3QuYWRkKCdkaWFsb2ctYm9keScsIGJsb2NrQ2xhc3MsIGRpYWxvZ05hbWUsICdoaWRkZW4nKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcGxheWVyV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdjb250cm9scycpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICBwbGF5ZXJMYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xyXG4gICAgICAgIHBsYXllckxhYmVsLmlubmVyVGV4dCA9ICdQbGF5ZXI6JztcclxuICAgICAgICBwbGF5ZXJXcmFwcGVyLmFwcGVuZENoaWxkKHBsYXllckxhYmVsKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJTZWxlY3QgPSAodGhpcy5wbGF5ZXJTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0JykpO1xyXG4gICAgICAgIHBsYXllclNlbGVjdC5jbGFzc0xpc3QuYWRkKCdpbnB1dCcpO1xyXG4gICAgICAgIHBsYXllclNlbGVjdC5pZCA9IHBsYXllckxhYmVsLmh0bWxGb3IgPSBgcGxheWVyXyR7dGhpcy5lc2NhcGVkVWRpZH1gO1xyXG4gICAgICAgIHBsYXllcldyYXBwZXIuYXBwZW5kQ2hpbGQocGxheWVyU2VsZWN0KTtcclxuICAgICAgICBkaWFsb2dCb2R5LmFwcGVuZENoaWxkKHBsYXllcldyYXBwZXIpO1xyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzbHlVc2VkUGxheWVyID0gdGhpcy5nZXRQcmV2aW91c2x5VXNlZFBsYXllcigpO1xyXG4gICAgICAgIFN0cmVhbUNsaWVudFNjcmNweS5nZXRQbGF5ZXJzKCkuZm9yRWFjaCgocGxheWVyQ2xhc3MsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGxheWVyRnVsbE5hbWUgfSA9IHBsYXllckNsYXNzO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHBsYXllckZ1bGxOYW1lKTtcclxuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5pbm5lclRleHQgPSBwbGF5ZXJGdWxsTmFtZTtcclxuICAgICAgICAgICAgcGxheWVyU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyRnVsbE5hbWUgPT09IHByZXZpb3VzbHlVc2VkUGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJTZWxlY3Quc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyU2VsZWN0Lm9uY2hhbmdlID0gdGhpcy5vblBsYXllckNoYW5nZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvU2V0dGluZ3NGb3JQbGF5ZXIoKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb250cm9scy5jbGFzc0xpc3QuYWRkKCdjb250cm9scycsICdjb250cm9sLXdyYXBwZXInKTtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgZGlzcGxheUlkTGFiZWwuY2xhc3NMaXN0LmFkZCgnbGFiZWwnKTtcclxuICAgICAgICBkaXNwbGF5SWRMYWJlbC5pbm5lclRleHQgPSAnRGlzcGxheTonO1xyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKGRpc3BsYXlJZExhYmVsKTtcclxuICAgICAgICBpZiAoIXRoaXMuZGlzcGxheUlkU2VsZWN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy5kaXNwbGF5SWRTZWxlY3RFbGVtZW50KTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW5wdXQnKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQuaWQgPSBkaXNwbGF5SWRMYWJlbC5odG1sRm9yID0gYGRpc3BsYXlJZF8ke3RoaXMuZXNjYXBlZFVkaWR9YDtcclxuICAgICAgICB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQub25jaGFuZ2UgPSB0aGlzLm9uRGlzcGxheUlkQ2hhbmdlO1xyXG5cclxuICAgICAgICB0aGlzLmFwcGVuZEJhc2ljSW5wdXQoY29udHJvbHMsIHtcclxuICAgICAgICAgICAgbGFiZWw6ICdCaXRyYXRlJyxcclxuICAgICAgICAgICAgaWQ6ICdiaXRyYXRlJyxcclxuICAgICAgICAgICAgcmFuZ2U6IHsgbWluOiA1MjQyODgsIG1heDogODM4ODYwOCwgc3RlcDogNTI0Mjg4LCBmb3JtYXR0ZXI6IFV0aWwucHJldHR5Qnl0ZXMgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFwcGVuZEJhc2ljSW5wdXQoY29udHJvbHMsIHtcclxuICAgICAgICAgICAgbGFiZWw6ICdNYXggRlBTJyxcclxuICAgICAgICAgICAgaWQ6ICdtYXhGcHMnLFxyXG4gICAgICAgICAgICByYW5nZTogeyBtaW46IDEsIG1heDogNjAsIHN0ZXA6IDEgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFwcGVuZEJhc2ljSW5wdXQoY29udHJvbHMsIHsgbGFiZWw6ICdJLUZyYW1lIGludGVydmFsJywgaWQ6ICdpRnJhbWVJbnRlcnZhbCcgfSk7XHJcbiAgICAgICAgY29uc3QgZml0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgIGZpdExhYmVsLmlubmVyVGV4dCA9ICdGaXQgdG8gc2NyZWVuJztcclxuICAgICAgICBmaXRMYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKGZpdExhYmVsKTtcclxuICAgICAgICBjb25zdCBmaXRUb2dnbGUgPSBuZXcgVG9vbEJveENoZWNrYm94KFxyXG4gICAgICAgICAgICAnRml0IHRvIHNjcmVlbicsXHJcbiAgICAgICAgICAgIHsgb2ZmOiBTdmdJbWFnZS5JY29uLlRPR0dMRV9PRkYsIG9uOiBTdmdJbWFnZS5JY29uLlRPR0dMRV9PTiB9LFxyXG4gICAgICAgICAgICAnZml0X3RvX3NjcmVlbicsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBmaXRUb2dnbGUuZ2V0QWxsRWxlbWVudHMoKS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICAgICAgICAgIGlmIChlbCBpbnN0YW5jZW9mIEhUTUxMYWJlbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGZpdExhYmVsLmh0bWxGb3IgPSBlbC5odG1sRm9yO1xyXG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpdFRvU2NyZWVuQ2hlY2tib3ggPSBlbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpdFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfLCBlbCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWwuZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uRml0VG9TY3JlZW5DaGFuZ2VkKGVsZW1lbnQuY2hlY2tlZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRCYXNpY0lucHV0KGNvbnRyb2xzLCB7IGxhYmVsOiAnTWF4IHdpZHRoJywgaWQ6ICdtYXhXaWR0aCcgfSk7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRCYXNpY0lucHV0KGNvbnRyb2xzLCB7IGxhYmVsOiAnTWF4IGhlaWdodCcsIGlkOiAnbWF4SGVpZ2h0JyB9KTtcclxuICAgICAgICB0aGlzLmFwcGVuZEJhc2ljSW5wdXQoY29udHJvbHMsIHsgbGFiZWw6ICdDb2RlYyBvcHRpb25zJywgaWQ6ICdjb2RlY09wdGlvbnMnIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBlbmNvZGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgIGVuY29kZXJMYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xyXG4gICAgICAgIGVuY29kZXJMYWJlbC5pbm5lclRleHQgPSAnRW5jb2RlcjonO1xyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKGVuY29kZXJMYWJlbCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlclNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuZW5jb2RlclNlbGVjdEVsZW1lbnQuaWQgPSBlbmNvZGVyTGFiZWwuaHRtbEZvciA9IGBlbmNvZGVyTmFtZV8ke3RoaXMuZXNjYXBlZFVkaWR9YDtcclxuXHJcbiAgICAgICAgZGlhbG9nQm9keS5hcHBlbmRDaGlsZChjb250cm9scyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbnNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYnV0dG9uc1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgnY29udHJvbHMnKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzZXRTZXR0aW5nc0J1dHRvbiA9ICh0aGlzLnJlc2V0U2V0dGluZ3NCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSk7XHJcbiAgICAgICAgcmVzZXRTZXR0aW5nc0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24nKTtcclxuICAgICAgICByZXNldFNldHRpbmdzQnV0dG9uLmlubmVyVGV4dCA9ICdSZXNldCBzZXR0aW5ncyc7XHJcbiAgICAgICAgcmVzZXRTZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVzZXRTZXR0aW5ncyk7XHJcbiAgICAgICAgYnV0dG9uc1dyYXBwZXIuYXBwZW5kQ2hpbGQocmVzZXRTZXR0aW5nc0J1dHRvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvYWRTZXR0aW5nc0J1dHRvbiA9ICh0aGlzLmxvYWRTZXR0aW5nc0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpKTtcclxuICAgICAgICBsb2FkU2V0dGluZ3NCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uJyk7XHJcbiAgICAgICAgbG9hZFNldHRpbmdzQnV0dG9uLmlubmVyVGV4dCA9ICdMb2FkIHNldHRpbmdzJztcclxuICAgICAgICBsb2FkU2V0dGluZ3NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmxvYWRTZXR0aW5ncyk7XHJcbiAgICAgICAgYnV0dG9uc1dyYXBwZXIuYXBwZW5kQ2hpbGQobG9hZFNldHRpbmdzQnV0dG9uKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2F2ZVNldHRpbmdzQnV0dG9uID0gKHRoaXMuc2F2ZVNldHRpbmdzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJykpO1xyXG4gICAgICAgIHNhdmVTZXR0aW5nc0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdidXR0b24nKTtcclxuICAgICAgICBzYXZlU2V0dGluZ3NCdXR0b24uaW5uZXJUZXh0ID0gJ1NhdmUgc2V0dGluZ3MnO1xyXG4gICAgICAgIHNhdmVTZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2F2ZVNldHRpbmdzKTtcclxuICAgICAgICBidXR0b25zV3JhcHBlci5hcHBlbmRDaGlsZChzYXZlU2V0dGluZ3NCdXR0b24pO1xyXG5cclxuICAgICAgICBkaWFsb2dCb2R5LmFwcGVuZENoaWxkKGJ1dHRvbnNXcmFwcGVyKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlhbG9nRm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGlhbG9nRm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy1mb290ZXInLCBibG9ja0NsYXNzLCBkaWFsb2dOYW1lKTtcclxuICAgICAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHN0YXR1c0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3VidGl0bGUnKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNFbGVtZW50ID0gc3RhdHVzRWxlbWVudDtcclxuICAgICAgICBkaWFsb2dGb290ZXIuYXBwZW5kQ2hpbGQoc3RhdHVzRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gYENvbm5lY3RpbmcuLi5gO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGNhbmNlbEJ1dHRvbiA9ICh0aGlzLmNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpKTtcclxuICAgICAgICAvLyBjYW5jZWxCdXR0b24uaW5uZXJUZXh0ID0gJ0NhbmNlbCc7XHJcbiAgICAgICAgLy8gY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYW5jZWwpO1xyXG4gICAgICAgIGNvbnN0IG9rQnV0dG9uID0gKHRoaXMub2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSk7XHJcbiAgICAgICAgb2tCdXR0b24uaW5uZXJUZXh0ID0gJ09wZW4nO1xyXG4gICAgICAgIG9rQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBva0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblN0cmVhbSk7XHJcbiAgICAgICAgZGlhbG9nRm9vdGVyLmFwcGVuZENoaWxkKG9rQnV0dG9uKTtcclxuICAgICAgICAvLyBkaWFsb2dGb290ZXIuYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTtcclxuICAgICAgICBkaWFsb2dCb2R5LmFwcGVuZENoaWxkKGRpYWxvZ0Zvb3Rlcik7XHJcbiAgICAgICAgZGlhbG9nQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpYWxvZ0hlYWRlcik7XHJcbiAgICAgICAgZGlhbG9nQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpYWxvZ0JvZHkpO1xyXG4gICAgICAgIGRpYWxvZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChkaWFsb2dGb290ZXIpO1xyXG4gICAgICAgIGJhY2tncm91bmQuYXBwZW5kQ2hpbGQoZGlhbG9nQ29udGFpbmVyKTtcclxuICAgICAgICBiYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJhY2tncm91bmRDbGljayk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZVVJKCk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5iYWNrZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLm9rQnV0dG9uPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblN0cmVhbSk7XHJcbiAgICAgICAgLy8gdGhpcy5jYW5jZWxCdXR0b24/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYW5jZWwpO1xyXG4gICAgICAgIHRoaXMucmVzZXRTZXR0aW5nc0J1dHRvbj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlc2V0U2V0dGluZ3MpO1xyXG4gICAgICAgIHRoaXMubG9hZFNldHRpbmdzQnV0dG9uPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubG9hZFNldHRpbmdzKTtcclxuICAgICAgICB0aGlzLnNhdmVTZXR0aW5nc0J1dHRvbj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNhdmVTZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJhY2tncm91bmRDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkJhY2tncm91bmRDbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGNhbmNlbCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdHJlYW1SZWNlaXZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmRldGFjaEV2ZW50c0xpc3RlbmVycyh0aGlzLnN0cmVhbVJlY2VpdmVyKTtcclxuICAgICAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW1pdCgnY2xvc2VkJywgeyBkaWFsb2c6IHRoaXMsIHJlc3VsdDogZmFsc2UgfSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVVSSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHJlc2V0U2V0dGluZ3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5nZXRQbGF5ZXIoKTtcclxuICAgICAgICBpZiAocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbElucHV0c0Zyb21WaWRlb1NldHRpbmdzKHBsYXllci5nZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkU2V0dGluZ3MgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVWaWRlb1NldHRpbmdzRm9yUGxheWVyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc2F2ZVNldHRpbmdzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvU2V0dGluZ3MgPSB0aGlzLmJ1aWxkVmlkZW9TZXR0aW5ncygpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XHJcbiAgICAgICAgaWYgKHZpZGVvU2V0dGluZ3MgJiYgcGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpdFRvU2NyZWVuID0gdGhpcy5nZXRGaXRUb1NjcmVlblZhbHVlKCk7XHJcbiAgICAgICAgICAgIHBsYXllci5zYXZlVmlkZW9TZXR0aW5ncyh0aGlzLnVkaWQsIHZpZGVvU2V0dGluZ3MsIGZpdFRvU2NyZWVuLCB0aGlzLmRpc3BsYXlJbmZvKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb3BlblN0cmVhbSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCB2aWRlb1NldHRpbmdzID0gdGhpcy5idWlsZFZpZGVvU2V0dGluZ3MoKTtcclxuICAgICAgICBpZiAoIXZpZGVvU2V0dGluZ3MgfHwgIXRoaXMuc3RyZWFtUmVjZWl2ZXIgfHwgIXRoaXMucGxheWVyTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZpdFRvU2NyZWVuID0gdGhpcy5nZXRGaXRUb1NjcmVlblZhbHVlKCk7XHJcbiAgICAgICAgdGhpcy5kZXRhY2hFdmVudHNMaXN0ZW5lcnModGhpcy5zdHJlYW1SZWNlaXZlcik7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjbG9zZWQnLCB7IGRpYWxvZzogdGhpcywgcmVzdWx0OiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlVUkoKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSBTdHJlYW1DbGllbnRTY3JjcHkuY3JlYXRlUGxheWVyKHRoaXMucGxheWVyTmFtZSwgdGhpcy51ZGlkLCB0aGlzLmRpc3BsYXlJbmZvKTtcclxuICAgICAgICBpZiAoIXBsYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UHJldmlvdXNseVVzZWRQbGF5ZXIodGhpcy5wbGF5ZXJOYW1lKTtcclxuICAgICAgICAvLyByZXR1cm47XHJcbiAgICAgICAgcGxheWVyLnNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgZml0VG9TY3JlZW4sIGZhbHNlKTtcclxuICAgICAgICBjb25zdCBwYXJhbXM6IFBhcmFtc1N0cmVhbVNjcmNweSA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5wYXJhbXMsXHJcbiAgICAgICAgICAgIHVkaWQ6IHRoaXMudWRpZCxcclxuICAgICAgICAgICAgZml0VG9TY3JlZW4sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTdHJlYW1DbGllbnRTY3JjcHkuc3RhcnQocGFyYW1zLCB0aGlzLnN0cmVhbVJlY2VpdmVyLCBwbGF5ZXIsIGZpdFRvU2NyZWVuLCB2aWRlb1NldHRpbmdzKTtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLnRyaWdnZXJJbml0aWFsSW5mb0V2ZW50cygpO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgJy4uLy4uLy4uL3N0eWxlL2RldmljZWxpc3QuY3NzJztcbmltcG9ydCB7IEJhc2VEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L0Jhc2VEZXZpY2VUcmFja2VyJztcbmltcG9ydCB7IFNFUlZFUl9QT1JUIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQWN0aW9uJztcbmltcG9ydCBHb29nRGV2aWNlRGVzY3JpcHRvciBmcm9tICcuLi8uLi8uLi90eXBlcy9Hb29nRGV2aWNlRGVzY3JpcHRvcic7XG5pbXBvcnQgeyBDb250cm9sQ2VudGVyQ29tbWFuZCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9Db250cm9sQ2VudGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnRTY3JjcHkgfSBmcm9tICcuL1N0cmVhbUNsaWVudFNjcmNweSc7XG5pbXBvcnQgU3ZnSW1hZ2UgZnJvbSAnLi4vLi4vdWkvU3ZnSW1hZ2UnO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3VpL0h0bWxUYWcnO1xuaW1wb3J0IFV0aWwgZnJvbSAnLi4vLi4vVXRpbCc7XG5pbXBvcnQgeyBBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi9BdHRyaWJ1dGUnO1xuaW1wb3J0IHsgRGV2aWNlU3RhdGUgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vRGV2aWNlU3RhdGUnO1xuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL01lc3NhZ2UnO1xuaW1wb3J0IHsgUGFyYW1zRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc0RldmljZVRyYWNrZXInO1xuaW1wb3J0IHsgSG9zdEl0ZW0gfSBmcm9tICcuLi8uLi8uLi90eXBlcy9Db25maWd1cmF0aW9uJztcbmltcG9ydCB7IENoYW5uZWxDb2RlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0NoYW5uZWxDb2RlJztcbmltcG9ydCB7IFRvb2wgfSBmcm9tICcuLi8uLi9jbGllbnQvVG9vbCc7XG5cbnR5cGUgRmllbGQgPSBrZXlvZiBHb29nRGV2aWNlRGVzY3JpcHRvciB8ICgoZGVzY3JpcHRvcjogR29vZ0RldmljZURlc2NyaXB0b3IpID0+IHN0cmluZyk7XG50eXBlIERlc2NyaXB0aW9uQ29sdW1uID0geyB0aXRsZTogc3RyaW5nOyBmaWVsZDogRmllbGQgfTtcblxuY29uc3QgREVTQ19DT0xVTU5TOiBEZXNjcmlwdGlvbkNvbHVtbltdID0gW1xuICAgIHtcbiAgICAgICAgdGl0bGU6ICdOZXQgSW50ZXJmYWNlJyxcbiAgICAgICAgZmllbGQ6ICdpbnRlcmZhY2VzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdGl0bGU6ICdTZXJ2ZXIgUElEJyxcbiAgICAgICAgZmllbGQ6ICdwaWQnLFxuICAgIH0sXG5dO1xuXG5leHBvcnQgY2xhc3MgRGV2aWNlVHJhY2tlciBleHRlbmRzIEJhc2VEZXZpY2VUcmFja2VyPEdvb2dEZXZpY2VEZXNjcmlwdG9yLCBuZXZlcj4ge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQUNUSU9OID0gQUNUSU9OLkdPT0dfREVWSUNFX0xJU1Q7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBDUkVBVEVfRElSRUNUX0xJTktTID0gdHJ1ZTtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXNCeVVybDogTWFwPHN0cmluZywgRGV2aWNlVHJhY2tlcj4gPSBuZXcgTWFwKCk7XG4gICAgcHJvdGVjdGVkIHN0YXRpYyB0b29sczogU2V0PFRvb2w+ID0gbmV3IFNldCgpO1xuICAgIHByb3RlY3RlZCB0YWJsZUlkID0gJ2dvb2dfZGV2aWNlX2xpc3QnO1xuXG4gICAgcHVibGljIHN0YXRpYyBzdGFydChob3N0SXRlbTogSG9zdEl0ZW0pOiBEZXZpY2VUcmFja2VyIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5idWlsZFVybEZvclRyYWNrZXIoaG9zdEl0ZW0pLnRvU3RyaW5nKCk7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzQnlVcmwuZ2V0KHVybCk7XG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IERldmljZVRyYWNrZXIoaG9zdEl0ZW0sIHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoaG9zdEl0ZW06IEhvc3RJdGVtKTogRGV2aWNlVHJhY2tlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KGhvc3RJdGVtKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocGFyYW1zOiBIb3N0SXRlbSwgZGlyZWN0VXJsOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoeyAuLi5wYXJhbXMsIGFjdGlvbjogRGV2aWNlVHJhY2tlci5BQ1RJT04gfSwgZGlyZWN0VXJsKTtcbiAgICAgICAgRGV2aWNlVHJhY2tlci5pbnN0YW5jZXNCeVVybC5zZXQoZGlyZWN0VXJsLCB0aGlzKTtcbiAgICAgICAgdGhpcy5idWlsZERldmljZVRhYmxlKCk7XG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xuICAgICAgICAvLyBub3RoaW5nIGhlcmU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldElkQW5kSG9zdE5hbWUoaWQ6IHN0cmluZywgaG9zdE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRJZEFuZEhvc3ROYW1lKGlkLCBob3N0TmFtZSk7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgRGV2aWNlVHJhY2tlci5pbnN0YW5jZXNCeVVybC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLmlkID09PSBpZCAmJiB2YWx1ZSAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgYFRyYWNrZXIgd2l0aCB1cmw6IFwiJHt0aGlzLnVybH1cIiBoYXMgdGhlIHNhbWUgaWQoJHt0aGlzLmlkfSkgYXMgdHJhY2tlciB3aXRoIHVybCBcIiR7dmFsdWUudXJsfVwiYCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhpcyB0cmFja2VyIHdpbGwgc2h1dCBkb3duYCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkludGVyZmFjZVNlbGVjdGVkID0gKGV2ZW50OiBFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RFbGVtZW50ID0gZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0RWxlbWVudC5zZWxlY3RlZE9wdGlvbnNbMF07XG4gICAgICAgIGNvbnN0IHVybCA9IGRlY29kZVVSSShvcHRpb24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VUkwpIHx8ICcnKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IG9wdGlvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLk5BTUUpIHx8ICcnO1xuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChzZWxlY3RFbGVtZW50LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuRlVMTF9OQU1FKSB8fCAnJyk7XG4gICAgICAgIGNvbnN0IHVkaWQgPSBzZWxlY3RFbGVtZW50LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVURJRCkgfHwgJyc7XG4gICAgICAgIHRoaXMudXBkYXRlTGluayh7IHVybCwgbmFtZSwgZnVsbE5hbWUsIHVkaWQsIHN0b3JlOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBwcml2YXRlIHVwZGF0ZUxpbmsocGFyYW1zOiB7IHVybDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGZ1bGxOYW1lOiBzdHJpbmc7IHVkaWQ6IHN0cmluZzsgc3RvcmU6IGJvb2xlYW4gfSk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHVybCwgbmFtZSwgZnVsbE5hbWUsIHVkaWQsIHN0b3JlIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHBsYXllclRkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGAke0RldmljZVRyYWNrZXIuQXR0cmlidXRlUHJlZml4UGxheWVyRm9yfSR7ZnVsbE5hbWV9YCksXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0eXBlb2YgdWRpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RvcmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsU3RvcmFnZUtleSA9IERldmljZVRyYWNrZXIuZ2V0TG9jYWxTdG9yYWdlS2V5KGZ1bGxOYW1lIHx8ICcnKTtcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UgJiYgbmFtZSkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU3RvcmFnZUtleSwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWN0aW9uID0gQUNUSU9OLlNUUkVBTV9TQ1JDUFk7XG4gICAgICAgIHBsYXllclRkcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgY29uc3QgcGxheWVyRnVsbE5hbWUgPSBpdGVtLmdldEF0dHJpYnV0ZShEZXZpY2VUcmFja2VyLkF0dHJpYnV0ZVBsYXllckZ1bGxOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllckNvZGVOYW1lID0gaXRlbS5nZXRBdHRyaWJ1dGUoRGV2aWNlVHJhY2tlci5BdHRyaWJ1dGVQbGF5ZXJDb2RlTmFtZSk7XG4gICAgICAgICAgICBpZiAoIXBsYXllckZ1bGxOYW1lIHx8ICFwbGF5ZXJDb2RlTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBEZXZpY2VUcmFja2VyLmJ1aWxkTGluayhcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdWRpZCxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyOiBkZWNvZGVVUklDb21wb25lbnQocGxheWVyQ29kZU5hbWUpLFxuICAgICAgICAgICAgICAgICAgICB3czogdXJsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllckZ1bGxOYW1lKSxcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkFjdGlvbkJ1dHRvbkNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHVkaWQgPSBidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VRElEKTtcbiAgICAgICAgY29uc3QgcGlkU3RyaW5nID0gYnV0dG9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuUElEKSB8fCAnJztcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLkNPTU1BTkQpIGFzIHN0cmluZztcbiAgICAgICAgY29uc3QgcGlkID0gcGFyc2VJbnQocGlkU3RyaW5nLCAxMCk7XG4gICAgICAgIGNvbnN0IGRhdGE6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5nZXROZXh0SWQoKSxcbiAgICAgICAgICAgIHR5cGU6IGNvbW1hbmQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdWRpZDogdHlwZW9mIHVkaWQgPT09ICdzdHJpbmcnID8gdWRpZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwaWQ6IGlzTmFOKHBpZCkgPyB1bmRlZmluZWQgOiBwaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gdGhpcy53cy5PUEVOKSB7XG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByaXZhdGUgc3RhdGljIGdldExvY2FsU3RvcmFnZUtleSh1ZGlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYGRldmljZV9saXN0Ojoke3VkaWR9OjppbnRlcmZhY2VgO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzdGF0aWMgY3JlYXRlVXJsKHBhcmFtczogUGFyYW1zRGV2aWNlVHJhY2tlciwgdWRpZCA9ICcnKTogVVJMIHtcbiAgICAgICAgY29uc3Qgc2VjdXJlID0gISFwYXJhbXMuc2VjdXJlO1xuICAgICAgICBjb25zdCBob3N0bmFtZSA9IHBhcmFtcy5ob3N0bmFtZSB8fCBsb2NhdGlvbi5ob3N0bmFtZTtcbiAgICAgICAgY29uc3QgcG9ydCA9IHR5cGVvZiBwYXJhbXMucG9ydCA9PT0gJ251bWJlcicgPyBwYXJhbXMucG9ydCA6IHNlY3VyZSA/IDQ0MyA6IDgwO1xuICAgICAgICBjb25zdCBwYXRobmFtZSA9IHBhcmFtcy5wYXRobmFtZSB8fCBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgY29uc3QgdXJsT2JqZWN0ID0gdGhpcy5idWlsZFVybCh7IC4uLnBhcmFtcywgc2VjdXJlLCBob3N0bmFtZSwgcG9ydCwgcGF0aG5hbWUgfSk7XG4gICAgICAgIGlmICh1ZGlkKSB7XG4gICAgICAgICAgICB1cmxPYmplY3Quc2VhcmNoUGFyYW1zLnNldCgnYWN0aW9uJywgQUNUSU9OLlBST1hZX0FEQik7XG4gICAgICAgICAgICB1cmxPYmplY3Quc2VhcmNoUGFyYW1zLnNldCgncmVtb3RlJywgYHRjcDoke1NFUlZFUl9QT1JULnRvU3RyaW5nKDEwKX1gKTtcbiAgICAgICAgICAgIHVybE9iamVjdC5zZWFyY2hQYXJhbXMuc2V0KCd1ZGlkJywgdWRpZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybE9iamVjdDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZUludGVyZmFjZU9wdGlvbihuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKTogSFRNTE9wdGlvbkVsZW1lbnQge1xuICAgICAgICBjb25zdCBvcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VUkwsIHVybCk7XG4gICAgICAgIG9wdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5OQU1FLCBuYW1lKTtcbiAgICAgICAgb3B0aW9uRWxlbWVudC5pbm5lclRleHQgPSBgcHJveHkgb3ZlciBhZGJgO1xuICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyB0aXRsZVRvQ2xhc3NOYW1lKHRpdGxlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJ18nKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYnVpbGREZXZpY2VSb3codGJvZHk6IEVsZW1lbnQsIGRldmljZTogR29vZ0RldmljZURlc2NyaXB0b3IpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkSW50ZXJmYWNlVXJsID0gJyc7XG4gICAgICAgIGxldCBzZWxlY3RlZEludGVyZmFjZU5hbWUgPSAnJztcbiAgICAgICAgY29uc3QgYmxvY2tDbGFzcyA9ICdkZXNjLWJsb2NrJztcbiAgICAgICAgY29uc3QgZnVsbE5hbWUgPSBgJHt0aGlzLmlkfV8ke1V0aWwuZXNjYXBlVWRpZChkZXZpY2UudWRpZCl9YDtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBkZXZpY2Uuc3RhdGUgPT09IERldmljZVN0YXRlLkRFVklDRTtcbiAgICAgICAgbGV0IGhhc1BpZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBzZXJ2aWNlc0lkID0gYGRldmljZV9zZXJ2aWNlc18ke2Z1bGxOYW1lfWA7XG4gICAgICAgIGNvbnN0IHJvdyA9IGh0bWxgPGRpdiBjbGFzcz1cImRldmljZSAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnbm90LWFjdGl2ZSd9XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtbmFtZVwiPiR7ZGV2aWNlWydyby5wcm9kdWN0Lm1hbnVmYWN0dXJlciddfSAke2RldmljZVsncm8ucHJvZHVjdC5tb2RlbCddfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2Utc2VyaWFsXCI+JHtkZXZpY2UudWRpZH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLXZlcnNpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGVhc2UtdmVyc2lvblwiPiR7ZGV2aWNlWydyby5idWlsZC52ZXJzaW9uLnJlbGVhc2UnXX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNkay12ZXJzaW9uXCI+JHtkZXZpY2VbJ3JvLmJ1aWxkLnZlcnNpb24uc2RrJ119PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldmljZS1zdGF0ZVwiIHRpdGxlPVwiU3RhdGU6ICR7ZGV2aWNlLnN0YXRlfVwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtzZXJ2aWNlc0lkfVwiIGNsYXNzPVwic2VydmljZXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+YC5jb250ZW50O1xuICAgICAgICBjb25zdCBzZXJ2aWNlcyA9IHJvdy5nZXRFbGVtZW50QnlJZChzZXJ2aWNlc0lkKTtcbiAgICAgICAgaWYgKCFzZXJ2aWNlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgRGV2aWNlVHJhY2tlci50b29scy5mb3JFYWNoKCh0b29sKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRvb2wuY3JlYXRlRW50cnlGb3JEZXZpY2VMaXN0KGRldmljZSwgYmxvY2tDbGFzcywgdGhpcy5wYXJhbXMpO1xuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gJiYgc2VydmljZXMuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzLmFwcGVuZENoaWxkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN0cmVhbUVudHJ5ID0gU3RyZWFtQ2xpZW50U2NyY3B5LmNyZWF0ZUVudHJ5Rm9yRGV2aWNlTGlzdChkZXZpY2UsIGJsb2NrQ2xhc3MsIGZ1bGxOYW1lLCB0aGlzLnBhcmFtcyk7XG4gICAgICAgIHN0cmVhbUVudHJ5ICYmIHNlcnZpY2VzLmFwcGVuZENoaWxkKHN0cmVhbUVudHJ5KTtcblxuICAgICAgICBERVNDX0NPTFVNTlMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB0aXRsZSB9ID0gaXRlbTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGl0ZW0uZmllbGQ7XG4gICAgICAgICAgICBsZXQgdmFsdWU6IHN0cmluZztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5maWVsZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnICsgZGV2aWNlW2l0ZW0uZmllbGRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGl0ZW0uZmllbGQoZGV2aWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0ZC5jbGFzc0xpc3QuYWRkKERldmljZVRyYWNrZXIudGl0bGVUb0NsYXNzTmFtZSh0aXRsZSksIGJsb2NrQ2xhc3MpO1xuICAgICAgICAgICAgc2VydmljZXMuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgICAgICAgaWYgKGZpZWxkTmFtZSA9PT0gJ3BpZCcpIHtcbiAgICAgICAgICAgICAgICBoYXNQaWQgPSB2YWx1ZSAhPT0gJy0xJztcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uY2xhc3NOYW1lID0gJ2FjdGlvbi1idXR0b24ga2lsbC1zZXJ2ZXItYnV0dG9uJztcbiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VRElELCBkZXZpY2UudWRpZCk7XG4gICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuUElELCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgbGV0IGNvbW1hbmQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24ub25jbGljayA9IHRoaXMub25BY3Rpb25CdXR0b25DbGljaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1BpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9IENvbnRyb2xDZW50ZXJDb21tYW5kLktJTExfU0VSVkVSO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnRpdGxlID0gJ0tpbGwgc2VydmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5hcHBlbmRDaGlsZChTdmdJbWFnZS5jcmVhdGUoU3ZnSW1hZ2UuSWNvbi5DQU5DRUwpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSBDb250cm9sQ2VudGVyQ29tbWFuZC5TVEFSVF9TRVJWRVI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24udGl0bGUgPSAnU3RhcnQgc2VydmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5hcHBlbmRDaGlsZChTdmdJbWFnZS5jcmVhdGUoU3ZnSW1hZ2UuSWNvbi5SRUZSRVNIKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuQ09NTUFORCwgY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gZGV2aWNlWydsYXN0LnVwZGF0ZS50aW1lc3RhbXAnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24udGl0bGUgPSBgTGFzdCB1cGRhdGUgb24gJHtkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpfSBhdCAke2RhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi50aXRsZSA9IGBOb3QgYWN0aXZlYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uYXBwZW5kQ2hpbGQoU3ZnSW1hZ2UuY3JlYXRlKFN2Z0ltYWdlLkljb24uT0ZGTElORSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGFjdGlvbkJ1dHRvbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkTmFtZSA9PT0gJ2ludGVyZmFjZXMnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHlJbnRlcmZhY2VVcmwgPSBEZXZpY2VUcmFja2VyLmNyZWF0ZVVybCh0aGlzLnBhcmFtcywgZGV2aWNlLnVkaWQpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHlJbnRlcmZhY2VOYW1lID0gJ3Byb3h5JztcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFN0b3JhZ2VLZXkgPSBEZXZpY2VUcmFja2VyLmdldExvY2FsU3RvcmFnZUtleShmdWxsTmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFNlbGVjdGVkID0gbG9jYWxTdG9yYWdlICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VRElELCBkZXZpY2UudWRpZCk7XG4gICAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlLkZVTExfTkFNRSwgZnVsbE5hbWUpO1xuICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChgJHtEZXZpY2VUcmFja2VyLkF0dHJpYnV0ZVByZWZpeEludGVyZmFjZVNlbGVjdEZvcn0ke2Z1bGxOYW1lfWApLFxuICAgICAgICAgICAgICAgICk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGRldmljZS5pbnRlcmZhY2VzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RuYW1lOiB2YWx1ZS5pcHY0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogU0VSVkVSX1BPUlQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IERldmljZVRyYWNrZXIuY3JlYXRlVXJsKHBhcmFtcykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IERldmljZVRyYWNrZXIuY3JlYXRlSW50ZXJmYWNlT3B0aW9uKHZhbHVlLm5hbWUsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dmFsdWUubmFtZX06ICR7dmFsdWUuaXB2NH1gO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFNlbGVjdGVkID09PSB2YWx1ZS5uYW1lIHx8ICFzZWxlY3RlZEludGVyZmFjZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEludGVyZmFjZVVybCA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEludGVyZmFjZU5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRldmljZVsnd2lmaS5pbnRlcmZhY2UnXSA9PT0gdmFsdWUubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkYlByb3h5T3B0aW9uID0gRGV2aWNlVHJhY2tlci5jcmVhdGVJbnRlcmZhY2VPcHRpb24ocHJveHlJbnRlcmZhY2VOYW1lLCBwcm94eUludGVyZmFjZVVybCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2VsZWN0ZWQgPT09IHByb3h5SW50ZXJmYWNlTmFtZSB8fCAhc2VsZWN0ZWRJbnRlcmZhY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGJQcm94eU9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEludGVyZmFjZVVybCA9IHByb3h5SW50ZXJmYWNlVXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnRlcmZhY2VOYW1lID0gcHJveHlJbnRlcmZhY2VOYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQoYWRiUHJveHlPcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmNsYXNzTmFtZSA9ICdhY3Rpb24tYnV0dG9uIHVwZGF0ZS1pbnRlcmZhY2VzLWJ1dHRvbiBhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24udGl0bGUgPSBgVXBkYXRlIGluZm9ybWF0aW9uYDtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmFwcGVuZENoaWxkKFN2Z0ltYWdlLmNyZWF0ZShTdmdJbWFnZS5JY29uLlJFRlJFU0gpKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVURJRCwgZGV2aWNlLnVkaWQpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5DT01NQU5ELCBDb250cm9sQ2VudGVyQ29tbWFuZC5VUERBVEVfSU5URVJGQUNFUyk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5vbmNsaWNrID0gdGhpcy5vbkFjdGlvbkJ1dHRvbkNsaWNrO1xuICAgICAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChhY3Rpb25CdXR0b24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50Lm9uY2hhbmdlID0gdGhpcy5vbkludGVyZmFjZVNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKHNlbGVjdEVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZC5pbm5lclRleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKERldmljZVRyYWNrZXIuQ1JFQVRFX0RJUkVDVF9MSU5LUykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke0RldmljZVRyYWNrZXIuQXR0cmlidXRlUHJlZml4UGxheWVyRm9yfSR7ZnVsbE5hbWV9YDtcbiAgICAgICAgICAgIFN0cmVhbUNsaWVudFNjcmNweS5nZXRQbGF5ZXJzKCkuZm9yRWFjaCgocGxheWVyQ2xhc3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBsYXllckNvZGVOYW1lLCBwbGF5ZXJGdWxsTmFtZSB9ID0gcGxheWVyQ2xhc3M7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyVGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJUZC5jbGFzc0xpc3QuYWRkKGJsb2NrQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHBsYXllclRkLnNldEF0dHJpYnV0ZSgnbmFtZScsIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSk7XG4gICAgICAgICAgICAgICAgcGxheWVyVGQuc2V0QXR0cmlidXRlKERldmljZVRyYWNrZXIuQXR0cmlidXRlUGxheWVyRnVsbE5hbWUsIGVuY29kZVVSSUNvbXBvbmVudChwbGF5ZXJGdWxsTmFtZSkpO1xuICAgICAgICAgICAgICAgIHBsYXllclRkLnNldEF0dHJpYnV0ZShEZXZpY2VUcmFja2VyLkF0dHJpYnV0ZVBsYXllckNvZGVOYW1lLCBlbmNvZGVVUklDb21wb25lbnQocGxheWVyQ29kZU5hbWUpKTtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlcy5hcHBlbmRDaGlsZChwbGF5ZXJUZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgIGlmIChEZXZpY2VUcmFja2VyLkNSRUFURV9ESVJFQ1RfTElOS1MgJiYgaGFzUGlkICYmIHNlbGVjdGVkSW50ZXJmYWNlVXJsKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmsoe1xuICAgICAgICAgICAgICAgIHVybDogc2VsZWN0ZWRJbnRlcmZhY2VVcmwsXG4gICAgICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRJbnRlcmZhY2VOYW1lLFxuICAgICAgICAgICAgICAgIGZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgIHVkaWQ6IGRldmljZS51ZGlkLFxuICAgICAgICAgICAgICAgIHN0b3JlOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldENoYW5uZWxDb2RlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBDaGFubmVsQ29kZS5HVFJDO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIERldmljZVRyYWNrZXIuaW5zdGFuY2VzQnlVcmwuZGVsZXRlKHRoaXMudXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoIURldmljZVRyYWNrZXIuaW5zdGFuY2VzQnlVcmwuc2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoQmFzZURldmljZVRyYWNrZXIuSE9MREVSX0VMRU1FTlRfSUQpO1xuICAgICAgICAgICAgaWYgKGhvbGRlciAmJiBob2xkZXIucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGhvbGRlci5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGhvbGRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgJy4uLy4uLy4uL3N0eWxlL2RldnRvb2xzLmNzcyc7XHJcbmltcG9ydCB7IE1hbmFnZXJDbGllbnQgfSBmcm9tICcuLi8uLi9jbGllbnQvTWFuYWdlckNsaWVudCc7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgeyBQYXJhbXNEZXZ0b29scyB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc0RldnRvb2xzJztcclxuaW1wb3J0IHsgUmVtb3RlRGV2dG9vbHNDb21tYW5kIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUmVtb3RlRGV2dG9vbHNDb21tYW5kJztcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBEZXZ0b29sc0luZm8sIFJlbW90ZUJyb3dzZXJJbmZvLCBSZW1vdGVUYXJnZXQsIFRhcmdldERlc2NyaXB0aW9uIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUmVtb3RlRGV2dG9vbHMnO1xyXG5pbXBvcnQgR29vZ0RldmljZURlc2NyaXB0b3IgZnJvbSAnLi4vLi4vLi4vdHlwZXMvR29vZ0RldmljZURlc2NyaXB0b3InO1xyXG5pbXBvcnQgeyBCYXNlRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uL2NsaWVudC9CYXNlRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vLi4vVXRpbCc7XHJcblxyXG5jb25zdCBGUk9OVEVORF9SRSA9IC9eaHR0cHM/OlxcL1xcL2Nocm9tZS1kZXZ0b29scy1mcm9udGVuZFxcLmFwcHNwb3RcXC5jb21cXC9zZXJ2ZV9yZXZcXC8oQC4qKS87XHJcblxyXG5jb25zdCBUQUcgPSAnW0RldnRvb2xzQ2xpZW50XSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2dG9vbHNDbGllbnQgZXh0ZW5kcyBNYW5hZ2VyQ2xpZW50PFBhcmFtc0RldnRvb2xzLCBuZXZlcj4ge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBQ1RJT04gPSBBQ1RJT04uREVWVE9PTFM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRJTUVPVVQgPSAxMDAwO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQocGFyYW1zOiBQYXJhbXNEZXZ0b29scyk6IERldnRvb2xzQ2xpZW50IHtcclxuICAgICAgICByZXR1cm4gbmV3IERldnRvb2xzQ2xpZW50KHBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0aW1lb3V0PzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBoaWRkZW5JbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdG9vbHRpcDogSFRNTFNwYW5FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBoaWRlVGltZW91dD86IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdWRpZDogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1zOiBQYXJhbXNEZXZ0b29scykge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy51ZGlkID0gdGhpcy5wYXJhbXMudWRpZDtcclxuICAgICAgICB0aGlzLm9wZW5OZXdDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRUaXRsZShgRGV2dG9vbHMgJHt0aGlzLnVkaWR9YCk7XHJcbiAgICAgICAgdGhpcy5zZXRCb2R5Q2xhc3MoJ2RldnRvb2xzJyk7XHJcbiAgICAgICAgdGhpcy5oaWRkZW5JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5oaWRkZW5JbnB1dC5jbGFzc05hbWUgPSAnaGlkZGVuJztcclxuICAgICAgICB0aGlzLmhpZGRlbklucHV0LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5JbnB1dCk7XHJcbiAgICAgICAgdGhpcy50b29sdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHRoaXMudG9vbHRpcC5pbm5lclRleHQgPSAnQ29waWVkISc7XHJcbiAgICAgICAgdGhpcy50b29sdGlwLmNsYXNzTmFtZSA9ICd0b29sdGlwJztcclxuICAgICAgICB0aGlzLnRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZVBhcmFtZXRlcnMocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNEZXZ0b29scyB7XHJcbiAgICAgICAgY29uc3QgdHlwZWRQYXJhbXMgPSBzdXBlci5wYXJzZVBhcmFtZXRlcnMocGFyYW1zKTtcclxuICAgICAgICBjb25zdCB7IGFjdGlvbiB9ID0gdHlwZWRQYXJhbXM7XHJcbiAgICAgICAgaWYgKGFjdGlvbiAhPT0gQUNUSU9OLkRFVlRPT0xTKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgYWN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IC4uLnR5cGVkUGFyYW1zLCBhY3Rpb24sIHVkaWQ6IFV0aWwucGFyc2VTdHJpbmcocGFyYW1zLCAndWRpZCcsIHRydWUpIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY29tcGFyZUJyb3dzZXJzID0gKGE6IFJlbW90ZUJyb3dzZXJJbmZvLCBiOiBSZW1vdGVCcm93c2VySW5mbyk6IG51bWJlciA9PiB7XHJcbiAgICAgICAgY29uc3QgYUJyb3dzZXIgPSBhLnZlcnNpb24uQnJvd3NlcjtcclxuICAgICAgICBjb25zdCBiQnJvd3NlciA9IGIudmVyc2lvbi5Ccm93c2VyO1xyXG4gICAgICAgIGlmIChhQnJvd3NlciA+IGJCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYUJyb3dzZXIgPCBiQnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgYnVpbGREaXJlY3RXZWJTb2NrZXRVcmwoKTogVVJMIHtcclxuICAgICAgICBjb25zdCBsb2NhbFVybCA9IHN1cGVyLmJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtcy51ZGlkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBsb2NhbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd1ZGlkJywgdGhpcy5wYXJhbXMudWRpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsb2NhbFVybDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRDbG9zZShldmVudDogQ2xvc2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBgU29ja2V0IGNsb3NlZC4gQ29kZTogJHtldmVudC5jb2RlfS4ke2V2ZW50LnJlYXNvbiA/ICcgUmVhc29uOiAnICsgZXZlbnQucmVhc29uIDogJyd9YCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9PSBEZXZ0b29sc0NsaWVudC5BQ1RJT04pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7bWVzc2FnZS50eXBlfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBtZXNzYWdlLmRhdGEgYXMgRGV2dG9vbHNJbmZvO1xyXG4gICAgICAgIHRoaXMuYnVpbGRMaXN0KGxpc3QpO1xyXG4gICAgICAgIGlmICghdGhpcy50aW1lb3V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucmVxdWVzdExpc3RVcGRhdGUsIERldnRvb2xzQ2xpZW50LlRJTUVPVVQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVxdWVzdExpc3RVcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlcXVlc3RMaXN0VXBkYXRlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMudGltZW91dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoIXRoaXMud3MgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndzLnNlbmQoXHJcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFJlbW90ZURldnRvb2xzQ29tbWFuZC5MSVNUX0RFVlRPT0xTLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZURldmljZUJsb2NrKGluZm86IERldnRvb2xzSW5mbyk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZC5jbGFzc05hbWUgPSAnZGV2aWNlJztcclxuICAgICAgICBkLmlkID0gYGRldmljZToke2luZm8uZGV2aWNlU2VyaWFsfWA7XHJcbiAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNyZWF0ZURldmljZUhlYWRlcihpbmZvOiBEZXZ0b29sc0luZm8pOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGguY2xhc3NOYW1lID0gJ2RldmljZS1oZWFkZXInO1xyXG4gICAgICAgIGNvbnN0IG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBuLmNsYXNzTmFtZSA9ICdkZXZpY2UtbmFtZSc7XHJcbiAgICAgICAgbi5pbm5lclRleHQgPSBpbmZvLmRldmljZU5hbWU7XHJcbiAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHMuY2xhc3NOYW1lID0gJ2RldmljZS1zZXJpYWwnO1xyXG4gICAgICAgIHMuaW5uZXJUZXh0ID0gYCMke2luZm8uZGV2aWNlU2VyaWFsLnRvVXBwZXJDYXNlKCl9YDtcclxuICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcC5jbGFzc05hbWUgPSAnZGV2aWNlLXBvcnRzJztcclxuICAgICAgICBoLmFwcGVuZENoaWxkKG4pO1xyXG4gICAgICAgIGguYXBwZW5kQ2hpbGQocyk7XHJcbiAgICAgICAgaC5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICByZXR1cm4gaDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUJyb3dzZXJzQmxvY2soaW5mbzogRGV2dG9vbHNJbmZvKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHsgZGV2aWNlU2VyaWFsIH0gPSBpbmZvO1xyXG4gICAgICAgIGNvbnN0IGJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYnMuY2xhc3NOYW1lID0gJ2Jyb3dzZXJzJztcclxuICAgICAgICBpbmZvLmJyb3dzZXJzLnNvcnQoRGV2dG9vbHNDbGllbnQuY29tcGFyZUJyb3dzZXJzKS5mb3JFYWNoKChicm93c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLmNyZWF0ZUJyb3dzZXJCbG9jayhkZXZpY2VTZXJpYWwsIGJyb3dzZXIpO1xyXG4gICAgICAgICAgICBicy5hcHBlbmRDaGlsZChiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVCcm93c2VyQmxvY2soc2VyaWFsOiBzdHJpbmcsIGluZm86IFJlbW90ZUJyb3dzZXJJbmZvKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHsgc29ja2V0IH0gPSBpbmZvO1xyXG4gICAgICAgIGNvbnN0IGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBiLmlkID0gYCR7c2VyaWFsfToke3NvY2tldH1gO1xyXG4gICAgICAgIGIuY2xhc3NOYW1lID0gJ2Jyb3dzZXInO1xyXG4gICAgICAgIGNvbnN0IGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBoLmNsYXNzTmFtZSA9ICdicm93c2VyLWhlYWRlcic7XHJcbiAgICAgICAgYi5hcHBlbmRDaGlsZChoKTtcclxuICAgICAgICBjb25zdCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbi5jbGFzc05hbWUgPSAnYnJvd3Nlci1uYW1lJztcclxuXHJcbiAgICAgICAgaC5hcHBlbmRDaGlsZChuKTtcclxuICAgICAgICBjb25zdCBwa2cgPSBpbmZvLnZlcnNpb25bJ0FuZHJvaWQtUGFja2FnZSddO1xyXG4gICAgICAgIGNvbnN0IGJyb3dzZXIgPSBpbmZvLnZlcnNpb24uQnJvd3NlcjtcclxuICAgICAgICBsZXQgdmVyc2lvbjogc3RyaW5nO1xyXG4gICAgICAgIGNvbnN0IHRlbXAgPSBicm93c2VyLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgaWYgKHRlbXAubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB2ZXJzaW9uID0gdGVtcFsxXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2ZXJzaW9uID0gYnJvd3NlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJlZml4ID0gc29ja2V0LmluZGV4T2YoJ3dlYnZpZXcnKSA9PT0gMCA/ICdXZWJWaWV3IGluICcgOiAnJztcclxuICAgICAgICBuLmlubmVyVGV4dCA9IGAke3ByZWZpeH0ke3BrZ30oJHt2ZXJzaW9ufSlgO1xyXG4gICAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgcy5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzEnKTtcclxuICAgICAgICBzLmNsYXNzTmFtZSA9ICdhY3Rpb24nO1xyXG4gICAgICAgIHMuaW5uZXJUZXh0ID0gJ3RyYWNlJztcclxuICAgICAgICBzLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xyXG4gICAgICAgIGguYXBwZW5kQ2hpbGQocyk7XHJcbiAgICAgICAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBwYWdlcy5jbGFzc05hbWUgPSAnbGlzdCBwYWdlcyc7XHJcbiAgICAgICAgaW5mby50YXJnZXRzLmZvckVhY2goKHBhZ2UpID0+IHtcclxuICAgICAgICAgICAgcGFnZXMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVQYWdlQmxvY2socGFnZSwgdmVyc2lvbikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGIuYXBwZW5kQ2hpbGQocGFnZXMpO1xyXG4gICAgICAgIHJldHVybiBiO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlUGFnZUJsb2NrKHBhZ2U6IFJlbW90ZVRhcmdldCwgdmVyc2lvbj86IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICByb3cuY2xhc3NOYW1lID0gJ3Jvdyc7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBwcm9wcy5jbGFzc05hbWUgPSAncHJvcGVydGllcy1ib3gnO1xyXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChwcm9wcyk7XHJcbiAgICAgICAgaWYgKHBhZ2UuZmF2aWNvblVybCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IHBhZ2UuZmF2aWNvblVybDtcclxuICAgICAgICAgICAgcHJvcHMuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3Vicm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc3Vicm93LmNsYXNzTmFtZSA9ICdzdWJyb3ctYm94JztcclxuICAgICAgICBwcm9wcy5hcHBlbmRDaGlsZChzdWJyb3cpO1xyXG4gICAgICAgIGNvbnN0IHN1YjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzdWIxLmNsYXNzTmFtZSA9ICdzdWJyb3cnO1xyXG4gICAgICAgIHN1YnJvdy5hcHBlbmRDaGlsZChzdWIxKTtcclxuICAgICAgICBjb25zdCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbi5jbGFzc05hbWUgPSAnbmFtZSc7XHJcbiAgICAgICAgaWYgKHBhZ2UudGl0bGUpIHtcclxuICAgICAgICAgICAgbi5pbm5lclRleHQgPSBwYWdlLnRpdGxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdWIxLmFwcGVuZENoaWxkKG4pO1xyXG4gICAgICAgIGNvbnN0IHUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB1LmNsYXNzTmFtZSA9ICd1cmwnO1xyXG4gICAgICAgIGlmIChwYWdlLnVybCkge1xyXG4gICAgICAgICAgICB1LmlubmVyVGV4dCA9IHBhZ2UudXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdWIxLmFwcGVuZENoaWxkKHUpO1xyXG4gICAgICAgIGNvbnN0IHN1YjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzdWIyLmNsYXNzTmFtZSA9ICdzdWJyb3cgd2Vidmlldyc7XHJcbiAgICAgICAgc3Vicm93LmFwcGVuZENoaWxkKHN1YjIpO1xyXG4gICAgICAgIGlmIChwYWdlLmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjID0gSlNPTi5wYXJzZShwYWdlLmRlc2NyaXB0aW9uKSBhcyBUYXJnZXREZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi5jbGFzc05hbWUgPSAncG9zaXRpb24nO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24uaW5uZXJUZXh0ID0gYGF0ICgke2Rlc2Muc2NyZWVuWH0sICR7ZGVzYy5zY3JlZW5ZfSlgO1xyXG4gICAgICAgICAgICAgICAgc3ViMi5hcHBlbmRDaGlsZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBzaXplLmNsYXNzTmFtZSA9ICdzaXplJztcclxuICAgICAgICAgICAgICAgIHNpemUuaW5uZXJUZXh0ID0gYHNpemUgJHtkZXNjLndpZHRofSDDlyAke2Rlc2MuaGVpZ2h0fWA7XHJcbiAgICAgICAgICAgICAgICBzdWIyLmFwcGVuZENoaWxkKHNpemUpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7fVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhYnNvbHV0ZUFkZHJlc3MgPSBwYWdlLmRldnRvb2xzRnJvbnRlbmRVcmwgJiYgcGFnZS5kZXZ0b29sc0Zyb250ZW5kVXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gJ2FjdGlvbnMnO1xyXG4gICAgICAgIHN1YnJvdy5hcHBlbmRDaGlsZChhY3Rpb25zKTtcclxuICAgICAgICBjb25zdCBpbnNwZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGluc3BlY3Quc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcxJyk7XHJcbiAgICAgICAgaW5zcGVjdC5jbGFzc05hbWUgPSAnYWN0aW9uJztcclxuICAgICAgICBpbnNwZWN0LmlubmVyVGV4dCA9ICdpbnNwZWN0JztcclxuICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGluc3BlY3QpO1xyXG5cclxuICAgICAgICBpZiAocGFnZS5kZXZ0b29sc0Zyb250ZW5kVXJsKSB7XHJcbiAgICAgICAgICAgIGluc3BlY3Quc2V0QXR0cmlidXRlKCdocmVmJywgcGFnZS5kZXZ0b29sc0Zyb250ZW5kVXJsKTtcclxuICAgICAgICAgICAgaW5zcGVjdC5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub29wZW5lciBub3JlZmVycmVyJyk7XHJcbiAgICAgICAgICAgIGluc3BlY3Quc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW5zcGVjdC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhYnNvbHV0ZUFkZHJlc3MpIHtcclxuICAgICAgICAgICAgaW5zcGVjdC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhZ2Uud2ViU29ja2V0RGVidWdnZXJVcmwpIHtcclxuICAgICAgICAgICAgY29uc3QgYnVuZGxlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgYnVuZGxlZC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzEnKTtcclxuICAgICAgICAgICAgYnVuZGxlZC5jbGFzc05hbWUgPSAnYWN0aW9uIGNvcHknO1xyXG4gICAgICAgICAgICBidW5kbGVkLmlubmVyVGV4dCA9ICdidW5kbGVkJztcclxuICAgICAgICAgICAgYnVuZGxlZC50aXRsZSA9ICdDb3B5IGxpbmsgYW5kIG9wZW4gbWFudWFsbHknO1xyXG4gICAgICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGJ1bmRsZWQpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFzZSA9ICdkZXZ0b29sczovL2RldnRvb2xzL2J1bmRsZWQvaW5zcGVjdG9yLmh0bWw/ZXhwZXJpbWVudHM9dHJ1ZSZ3cz0nO1xyXG4gICAgICAgICAgICBidW5kbGVkLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke2Jhc2V9JHtwYWdlLndlYlNvY2tldERlYnVnZ2VyVXJsfWApO1xyXG4gICAgICAgICAgICBidW5kbGVkLnNldEF0dHJpYnV0ZSgncmVsJywgJ25vb3BlbmVyIG5vcmVmZXJyZXInKTtcclxuICAgICAgICAgICAgYnVuZGxlZC5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTtcclxuICAgICAgICAgICAgYnVuZGxlZC5vbmNsaWNrID0gdGhpcy5vbkRldnRvb2xzTGlua0NsaWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhZ2UuZGV2dG9vbHNGcm9udGVuZFVybCAmJiBwYWdlLndlYlNvY2tldERlYnVnZ2VyVXJsICYmIGFic29sdXRlQWRkcmVzcykge1xyXG4gICAgICAgICAgICBjb25zdCB1ciA9IG5ldyBVUkwocGFnZS5kZXZ0b29sc0Zyb250ZW5kVXJsKTtcclxuICAgICAgICAgICAgdXIuc2VhcmNoUGFyYW1zLmRlbGV0ZSgnd3MnKTtcclxuICAgICAgICAgICAgY29uc3QgdXJTdHIgPSB1ci50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHVyU3RyLm1hdGNoKEZST05URU5EX1JFKTtcclxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHIgPSBtYXRjaFsxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBzdHIuc3BsaXQoJy8nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJldmlzaW9uID0gdGVtcC5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdCA9IHRlbXAuam9pbignLycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlVmVyc2lvbiA9IHZlcnNpb24gPyBgcmVtb3RlVmVyc2lvbj0ke3ZlcnNpb259JmAgOiAnJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBgcmVtb3RlRnJvbnRlbmQ9dHJ1ZSZkb2NrU2lkZT11bmRvY2tlZCZgO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3MgPSBgd3M9JHtwYWdlLndlYlNvY2tldERlYnVnZ2VyVXJsfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgZGV2dG9vbHM6Ly9kZXZ0b29scy9yZW1vdGUvc2VydmVfcmV2LyR7cmV2aXNpb259LyR7cmVzdH0/JHtyZW1vdGVWZXJzaW9ufSR7b3B0c30ke3dzfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlLnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnMScpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlLmNsYXNzTmFtZSA9ICdhY3Rpb24gY29weSc7XHJcbiAgICAgICAgICAgICAgICByZW1vdGUuaW5uZXJUZXh0ID0gJ3JlbW90ZSc7XHJcbiAgICAgICAgICAgICAgICByZW1vdGUudGl0bGUgPSAnQ29weSBsaW5rIGFuZCBvcGVuIG1hbnVhbGx5JztcclxuICAgICAgICAgICAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQocmVtb3RlKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZW1vdGUuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcclxuICAgICAgICAgICAgICAgIHJlbW90ZS5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub29wZW5lciBub3JlZmVycmVyJyk7XHJcbiAgICAgICAgICAgICAgICByZW1vdGUuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgICAgICAgICByZW1vdGUub25jbGljayA9IHRoaXMub25EZXZ0b29sc0xpbmtDbGljaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcGF1c2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgcGF1c2Uuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgcGF1c2Uuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcxJyk7XHJcbiAgICAgICAgcGF1c2UuY2xhc3NOYW1lID0gJ2FjdGlvbic7XHJcbiAgICAgICAgcGF1c2UuaW5uZXJUZXh0ID0gJ3BhdXNlJztcclxuICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKHBhdXNlKTtcclxuICAgICAgICByZXR1cm4gcm93O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25EZXZ0b29sc0xpbmtDbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGEgPSBldmVudC50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuICAgICAgICBpZiAoIXVybCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQudmFsdWUgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5oaWRkZW5JbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQuc2VsZWN0KCk7XHJcbiAgICAgICAgdGhpcy5oaWRkZW5JbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB1cmwubGVuZ3RoKTtcclxuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlLmxlZnQgPSBgJHtldmVudC5jbGllbnRYfXB4YDtcclxuICAgICAgICB0aGlzLnRvb2x0aXAuc3R5bGUudG9wID0gYCR7ZXZlbnQuY2xpZW50WX1weGA7XHJcbiAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMuaGlkZVRvb2x0aXAoKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGhpZGVUb29sdGlwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhpZGVUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaWRlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVGltZW91dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJ1aWxkTGlzdChpbmZvOiBEZXZ0b29sc0luZm8pOiB2b2lkIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmZvKTtcclxuICAgICAgICBjb25zdCBibG9jayA9IHRoaXMuY3JlYXRlRGV2aWNlQmxvY2soaW5mbyk7XHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5jcmVhdGVEZXZpY2VIZWFkZXIoaW5mbyk7XHJcbiAgICAgICAgY29uc3QgYnJvd3NlcnMgPSB0aGlzLmNyZWF0ZUJyb3dzZXJzQmxvY2soaW5mbyk7XHJcbiAgICAgICAgYmxvY2suYXBwZW5kQ2hpbGQoaGVhZGVyKTtcclxuICAgICAgICBibG9jay5hcHBlbmRDaGlsZChicm93c2Vycyk7XHJcbiAgICAgICAgY29uc3Qgb2xkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmxvY2suaWQpO1xyXG4gICAgICAgIGlmIChvbGQpIHtcclxuICAgICAgICAgICAgb2xkLnBhcmVudEVsZW1lbnQ/LnJlcGxhY2VDaGlsZChibG9jaywgb2xkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJsb2NrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVFbnRyeUZvckRldmljZUxpc3QoXHJcbiAgICAgICAgZGVzY3JpcHRvcjogR29vZ0RldmljZURlc2NyaXB0b3IsXHJcbiAgICAgICAgYmxvY2tDbGFzczogc3RyaW5nLFxyXG4gICAgICAgIHBhcmFtczogUGFyYW1zRGV2aWNlVHJhY2tlcixcclxuICAgICk6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iuc3RhdGUgIT09ICdkZXZpY2UnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbnRyeS5jbGFzc0xpc3QuYWRkKCdkZXZ0b29scycsIGJsb2NrQ2xhc3MpO1xyXG4gICAgICAgIGVudHJ5LmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgICBCYXNlRGV2aWNlVHJhY2tlci5idWlsZExpbmsoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBQ1RJT04uREVWVE9PTFMsXHJcbiAgICAgICAgICAgICAgICAgICAgdWRpZDogZGVzY3JpcHRvci51ZGlkLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdkZXZ0b29scycsXHJcbiAgICAgICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZW50cnk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuLi8uLi8uLi9zdHlsZS9maWxlbGlzdGluZy5jc3MnO1xyXG5pbXBvcnQgeyBQYXJhbXNGaWxlTGlzdGluZyB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc0ZpbGVMaXN0aW5nJztcclxuaW1wb3J0IHsgTWFuYWdlckNsaWVudCB9IGZyb20gJy4uLy4uL2NsaWVudC9NYW5hZ2VyQ2xpZW50JztcclxuaW1wb3J0IEdvb2dEZXZpY2VEZXNjcmlwdG9yIGZyb20gJy4uLy4uLy4uL3R5cGVzL0dvb2dEZXZpY2VEZXNjcmlwdG9yJztcclxuaW1wb3J0IHsgQmFzZURldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvQmFzZURldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQWN0aW9uJztcclxuaW1wb3J0IHsgUGFyYW1zRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc0RldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9VdGlsJztcclxuaW1wb3J0IFByb3RvY29sIGZyb20gJ0BkZWFkNTBmNy9hZGJraXQvbGliL2FkYi9wcm90b2NvbCc7XHJcbmltcG9ydCB7IEVudHJ5IH0gZnJvbSAnLi4vRW50cnknO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdWkvSHRtbFRhZyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IENoYW5uZWxDb2RlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0NoYW5uZWxDb2RlJztcclxuaW1wb3J0IHsgTXVsdGlwbGV4ZXIgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9tdWx0aXBsZXhlci9NdWx0aXBsZXhlcic7XHJcbmltcG9ydCBGaWxlUHVzaEhhbmRsZXIsIHsgRHJhZ0FuZFB1c2hMaXN0ZW5lciwgUHVzaFVwZGF0ZVBhcmFtcyB9IGZyb20gJy4uL2ZpbGVQdXNoL0ZpbGVQdXNoSGFuZGxlcic7XHJcbmltcG9ydCB7IEFkYmtpdEZpbGVQdXNoU3RyZWFtIH0gZnJvbSAnLi4vZmlsZVB1c2gvQWRia2l0RmlsZVB1c2hTdHJlYW0nO1xyXG5cclxuY29uc3QgVEFHID0gJ1tGaWxlTGlzdGluZ10nO1xyXG5cclxuY29uc3QgcGFyZW50RGlyTGlua0JveCA9ICdwYXJlbnREaXJMaW5rQm94JztcclxuY29uc3Qgcm9vdERpckxpbmtCb3ggPSAncm9vdERpckxpbmtCb3gnO1xyXG5jb25zdCB0ZW1wRGlyTGlua0JveCA9ICd0ZW1wRGlyTGlua0JveCc7XHJcbmNvbnN0IHN0b3JhZ2VEaXJMaW5rQm94ID0gJ3N0b3JhZ2VEaXJMaW5rQm94JztcclxuXHJcbmNvbnN0IHJvb3RQYXRoID0gJy8nO1xyXG5jb25zdCB0ZW1wUGF0aCA9ICcvZGF0YS9sb2NhbC90bXAnO1xyXG5jb25zdCBzdG9yYWdlUGF0aCA9ICcvc3RvcmFnZSc7XHJcblxyXG50eXBlIERvd25sb2FkID0ge1xyXG4gICAgcmVjZWl2ZWRCeXRlczogbnVtYmVyO1xyXG4gICAgZW50cnk/OiBFbnRyeTtcclxuICAgIHByb2dyZXNzRWw/OiBIVE1MRWxlbWVudDtcclxuICAgIGFuY2hvcj86IEhUTUxFbGVtZW50O1xyXG4gICAgY2h1bmtzOiBVaW50OEFycmF5W107XHJcbiAgICBwYXRoOiBzdHJpbmc7XHJcbiAgICBwYXRoVG9Mb2FkQWZ0ZXI6IHN0cmluZztcclxufTtcclxudHlwZSBVcGxvYWQgPSB7IHJvdzogSFRNTEVsZW1lbnQ7IHByb2dyZXNzRWw6IEhUTUxFbGVtZW50OyBhbmNob3I6IEhUTUxFbGVtZW50OyB0aW1lb3V0OiBudW1iZXIgfCBudWxsIH07XHJcblxyXG5lbnVtIEZvcmVncm91bmQge1xyXG4gICAgRHJvcCA9ICdkcm9wLXRhcmdldCcsXHJcbiAgICBDb25uZWN0ID0gJ2Nvbm5lY3QnLFxyXG59XHJcblxyXG5jb25zdCBNZXNzYWdlOiBSZWNvcmQ8Rm9yZWdyb3VuZCwgc3RyaW5nPiA9IHtcclxuICAgIFtGb3JlZ3JvdW5kLkRyb3BdOiAnRHJvcCBmaWxlcyBoZXJlJyxcclxuICAgIFtGb3JlZ3JvdW5kLkNvbm5lY3RdOiAnQ29ubmVjdGlvbiBsb3N0JyxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlTGlzdGluZ0NsaWVudCBleHRlbmRzIE1hbmFnZXJDbGllbnQ8UGFyYW1zRmlsZUxpc3RpbmcsIG5ldmVyPiBpbXBsZW1lbnRzIERyYWdBbmRQdXNoTGlzdGVuZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBQ1RJT04gPSBBQ1RJT04uRklMRV9MSVNUSU5HO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQQVJFTlRfRElSID0gJy4uJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFJPUEVSVFlfTkFNRSA9ICdkYXRhLW5hbWUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQUk9QRVJUWV9FTlRSWV9JRCA9ICdkYXRhLWVudHJ5LWlkJztcclxuICAgIHB1YmxpYyBzdGF0aWMgUkVNT1ZFX1JPV19USU1FT1VUID0gMjAwMDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0YXJ0KHBhcmFtczogUGFyYW1zRmlsZUxpc3RpbmcpOiBGaWxlTGlzdGluZ0NsaWVudCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGaWxlTGlzdGluZ0NsaWVudChwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRW50cnlGb3JEZXZpY2VMaXN0KFxyXG4gICAgICAgIGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yLFxyXG4gICAgICAgIGJsb2NrQ2xhc3M6IHN0cmluZyxcclxuICAgICAgICBwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsXHJcbiAgICApOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnN0YXRlICE9PSAnZGV2aWNlJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZW50cnkuY2xhc3NMaXN0LmFkZCgnZmlsZS1saXN0aW5nJywgYmxvY2tDbGFzcyk7XHJcbiAgICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICAgIEJhc2VEZXZpY2VUcmFja2VyLmJ1aWxkTGluayhcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IEFDVElPTi5GSUxFX0xJU1RJTkcsXHJcbiAgICAgICAgICAgICAgICAgICAgdWRpZDogZGVzY3JpcHRvci51ZGlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAke3RlbXBQYXRofS9gLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdsaXN0IGZpbGVzJyxcclxuICAgICAgICAgICAgICAgIHBhcmFtcyxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBlbnRyeTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlcmlhbDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRhYmxlQm9keUlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdyYXBwZXJJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBmaWxlUHVzaEhhbmRsZXI/OiBGaWxlUHVzaEhhbmRsZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhcmVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGVudGVyQ291bnQgPSAwO1xyXG4gICAgcHJpdmF0ZSBlbnRyaWVzOiBFbnRyeVtdID0gW107XHJcbiAgICBwcml2YXRlIHBhdGg6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVxdWlyZUNsZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHJlcXVlc3RlZFBhdGggPSAnJztcclxuICAgIHByaXZhdGUgZG93bmxvYWRzOiBNYXA8TXVsdGlwbGV4ZXIsIERvd25sb2FkPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgdXBsb2FkczogTWFwPHN0cmluZywgVXBsb2FkPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgdGFibGVCb2R5OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgY2hhbm5lbHM6IFNldDxNdWx0aXBsZXhlcj4gPSBuZXcgU2V0KCk7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IFBhcmFtc0ZpbGVMaXN0aW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW1zKTtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgdGhpcy5zZXJpYWwgPSB0aGlzLnBhcmFtcy51ZGlkO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IHRoaXMucGFyYW1zLnBhdGg7XHJcbiAgICAgICAgdGhpcy5vcGVuTmV3Q29ubmVjdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0VGl0bGUoYExpc3RpbmcgJHt0aGlzLnNlcmlhbH1gKTtcclxuICAgICAgICB0aGlzLnNldEJvZHlDbGFzcygnZmlsZS1saXN0aW5nJyk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gYCR7VEFHfSBbJHt0aGlzLnNlcmlhbH1dYDtcclxuICAgICAgICB0aGlzLnRhYmxlQm9keUlkID0gYCR7VXRpbC5lc2NhcGVVZGlkKHRoaXMuc2VyaWFsKX1fbGlzdGA7XHJcbiAgICAgICAgdGhpcy53cmFwcGVySWQgPSBgd3JhcHBlcl8ke3RoaXMudGFibGVCb2R5SWR9YDtcclxuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGh0bWxgPGRpdiBpZD1cIiR7dGhpcy53cmFwcGVySWR9XCIgY2xhc3M9XCJsaXN0aW5nXCI+XHJcbiAgICAgICAgICAgIDxoMSBpZD1cImhlYWRlclwiPkNvbnRlbnRzICR7dGhpcy5wYXRofTwvaDE+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3BhcmVudERpckxpbmtCb3h9XCIgY2xhc3M9XCJxdWljay1saW5rLWJveFwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJpY29uIHVwXCIgaHJlZj1cIiMhXCIgJHtGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9OQU1FfT1cIi4uXCI+IFtwYXJlbnRdIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3Jvb3REaXJMaW5rQm94fVwiIGNsYXNzPVwicXVpY2stbGluay1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiaWNvbiBkaXJcIiBocmVmPVwiIyFcIiAke0ZpbGVMaXN0aW5nQ2xpZW50LlBST1BFUlRZX05BTUV9PVwiJHtyb290UGF0aH1cIj4gW3Jvb3RdIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke3N0b3JhZ2VEaXJMaW5rQm94fVwiIGNsYXNzPVwicXVpY2stbGluay1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiaWNvbiBkaXJcIiBocmVmPVwiIyFcIiAke0ZpbGVMaXN0aW5nQ2xpZW50LlBST1BFUlRZX05BTUV9PVwiJHtzdG9yYWdlUGF0aH0vXCI+IFtzdG9yYWdlXSA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHt0ZW1wRGlyTGlua0JveH1cIiBjbGFzcz1cInF1aWNrLWxpbmstYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImljb24gZGlyXCIgaHJlZj1cIiMhXCIgJHtGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9OQU1FfT1cIiR7dGVtcFBhdGh9L1wiPiBbdGVtcF0gPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHRhYmxlPlxyXG4gICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+U2l6ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5NVGltZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9XCIke3RoaXMudGFibGVCb2R5SWR9XCI+PC90Ym9keT5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5gLmNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy50YWJsZUJvZHkgPSBmcmFnbWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnRhYmxlQm9keUlkKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBjb25zdCB3cmFwcGVyID0gZnJhZ21lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy53cmFwcGVySWQpO1xyXG4gICAgICAgIGlmICh3cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlLnRhcmdldCB8fCAhKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9OQU1FKTtcclxuICAgICAgICAgICAgICAgIGlmICghbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBwYXRoLnJlc29sdmUodGhpcy5wYXRoLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdQYXRoICE9PSB0aGlzLnBhdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeUlkU3RyaW5nID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKEZpbGVMaXN0aW5nQ2xpZW50LlBST1BFUlRZX0VOVFJZX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW50cnk6IEVudHJ5IHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhbmNob3I6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeUlkU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5SWQgPSBwYXJzZUludChlbnRyeUlkU3RyaW5nLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZW50cnlJZCkgJiYgdGhpcy5lbnRyaWVzW2VudHJ5SWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IHRoaXMuZW50cmllc1tlbnRyeUlkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQobmV3UGF0aCwgZW50cnksIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgaW5zdGFuY2VvZiBNdWx0aXBsZXhlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlUHVzaEhhbmRsZXIgPSBuZXcgRmlsZVB1c2hIYW5kbGVyKHRoaXMucGFyZW50LCBuZXcgQWRia2l0RmlsZVB1c2hTdHJlYW0odGhpcy53cywgdGhpcykpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxlUHVzaEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRHJhZ0VudGVyKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzLmVudGVyQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRGb3JlZ3JvdW5kKEZvcmVncm91bmQuRHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW50ZXJDb3VudCsrO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRyYWdMZWF2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICB0aGlzLmVudGVyQ291bnQtLTtcclxuICAgICAgICBpZiAodGhpcy5lbnRlckNvdW50IDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyQ291bnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbnRlckNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9yZWdyb3VuZChGb3JlZ3JvdW5kLkRyb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Ecm9wKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMuZW50ZXJDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVGb3JlZ3JvdW5kKEZvcmVncm91bmQuRHJvcCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5kT3JDcmVhdGVFbnRyeVJvdyhmaWxlTmFtZTogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBlbnRyeS0ke2ZpbGVOYW1lfWApO1xyXG4gICAgICAgIGlmIChyb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkUm93KHRydWUsIGZpbGVOYW1lLCAnZmlsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkZpbGVQdXNoVXBkYXRlKGRhdGE6IFB1c2hVcGRhdGVQYXJhbXMpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IGZpbGVOYW1lLCBwcm9ncmVzcywgZXJyb3IsIG1lc3NhZ2UsIGZpbmlzaGVkIH0gPSBkYXRhO1xyXG4gICAgICAgIGxldCB1cGxvYWQgPSB0aGlzLnVwbG9hZHMuZ2V0KGZpbGVOYW1lKTtcclxuICAgICAgICBpZiAoIXVwbG9hZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh1cGxvYWQuYW5jaG9yLmlkKSAhPT0gdXBsb2FkLmFuY2hvcikge1xyXG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLmZpbmRPckNyZWF0ZUVudHJ5Um93KGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gcm93LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF07XHJcbiAgICAgICAgICAgIGlmICghYW5jaG9yLmlkKSB7XHJcbiAgICAgICAgICAgICAgICBhbmNob3IuaWQgPSBgdXBsb2FkXyR7ZmlsZU5hbWV9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc0VsID0gdGhpcy5hcHBlbmRQcm9ncmVzc0VsZW1lbnQoYW5jaG9yKTtcclxuICAgICAgICAgICAgdXBsb2FkID0geyByb3csIHByb2dyZXNzRWwsIGFuY2hvciwgdGltZW91dDogbnVsbCB9O1xyXG4gICAgICAgICAgICB0aGlzLnVwbG9hZHMuc2V0KGZpbGVOYW1lLCB1cGxvYWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHJvdywgcHJvZ3Jlc3NFbCwgYW5jaG9yIH0gPSB1cGxvYWQ7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBsb2Fkcy5kZWxldGUoZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0VsLnN0eWxlLndpZHRoID0gYDEwMCVgO1xyXG4gICAgICAgICAgICBwcm9ncmVzc0VsLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIGlmICghYW5jaG9yLmNsYXNzTGlzdC5jb250YWlucygnZXJyb3InKSkge1xyXG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBhbmNob3IuaW5uZXJUZXh0ID0gYCR7ZmlsZU5hbWV9LiAke21lc3NhZ2V9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXVwbG9hZC50aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICB1cGxvYWQudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSByb3cucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIEZpbGVMaXN0aW5nQ2xpZW50LlJFTU9WRV9ST1dfVElNRU9VVCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbmNob3IuaW5uZXJUZXh0ID0gYCR7ZmlsZU5hbWV9LiAke21lc3NhZ2V9YDtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS53aWR0aCA9IGAke3Byb2dyZXNzfSVgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmluaXNoZWQgJiYgIWVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBsb2Fkcy5kZWxldGUoZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBvbkVycm9yKGVycm9yOiBzdHJpbmcgfCBFcnJvcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5uYW1lLCAnRklYTUU6IGltcGxlbWVudCcsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZEZvcmVncm91bmQodHlwZTogRm9yZWdyb3VuZCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaHRtbGA8ZGl2IGNsYXNzPVwiZm9yZWdyb3VuZCAke3R5cGV9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlZ3JvdW5kLW1lc3NhZ2UgJHt0eXBlfS1tZXNzYWdlXCI+JHtNZXNzYWdlW3R5cGVdfTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmAuY29udGVudDtcclxuICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVGb3JlZ3JvdW5kKHR5cGU6IEZvcmVncm91bmQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBlbHMgPSB0aGlzLnBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHR5cGUpO1xyXG4gICAgICAgIEFycmF5LmZyb20oZWxzKS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZVBhcmFtZXRlcnMocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNGaWxlTGlzdGluZyB7XHJcbiAgICAgICAgY29uc3QgdHlwZWRQYXJhbXMgPSBzdXBlci5wYXJzZVBhcmFtZXRlcnMocGFyYW1zKTtcclxuICAgICAgICBjb25zdCB7IGFjdGlvbiB9ID0gdHlwZWRQYXJhbXM7XHJcbiAgICAgICAgaWYgKGFjdGlvbiAhPT0gQUNUSU9OLkZJTEVfTElTVElORykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IGFjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXRoUGFyYW0gPSBwYXJhbXMuZ2V0KCdwYXRoJyk7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhQYXJhbSB8fCAnL2RhdGEvbG9jYWwvdG1wJztcclxuICAgICAgICByZXR1cm4geyAuLi50eXBlZFBhcmFtcywgYWN0aW9uLCB1ZGlkOiBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3VkaWQnLCB0cnVlKSwgcGF0aCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBidWlsZERpcmVjdFdlYlNvY2tldFVybCgpOiBVUkwge1xyXG4gICAgICAgIGNvbnN0IGxvY2FsVXJsID0gc3VwZXIuYnVpbGREaXJlY3RXZWJTb2NrZXRVcmwoKTtcclxuICAgICAgICBsb2NhbFVybC5zZWFyY2hQYXJhbXMuc2V0KCdhY3Rpb24nLCBBQ1RJT04uTVVMVElQTEVYKTtcclxuICAgICAgICByZXR1cm4gbG9jYWxVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXZlbnQ6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5maWxlUHVzaEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5maWxlUHVzaEhhbmRsZXIucmVsZWFzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMubmFtZSwgJ3NvY2tldCBjbG9zZWQnLCBldmVudC5yZWFzb24pO1xyXG4gICAgICAgIHRoaXMuYWRkRm9yZWdyb3VuZChGb3JlZ3JvdW5kLkNvbm5lY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldE1lc3NhZ2UoX2U6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFdlIGNyZWF0ZSBzZXBhcmF0ZSBjaGFubmVsIGZvciBlYWNoIHJlcXVlc3RcclxuICAgICAgICAvLyBEb24ndCBleHBlY3QgYW55IG1lc3NhZ2VzIG9uIHRoaXMgbGV2ZWxcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZENvbnRlbnQodGhpcy5wYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbG9hZENvbnRlbnQocGF0aDogc3RyaW5nLCBlbnRyeT86IEVudHJ5LCBhbmNob3I/OiBIVE1MRWxlbWVudCwgcGF0aFRvTG9hZEFmdGVyID0gJycpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMud3MgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSB0aGlzLndzLk9QRU4gfHwgISh0aGlzLndzIGluc3RhbmNlb2YgTXVsdGlwbGV4ZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFlbnRyeSAmJiAodGhpcy5jaGFubmVscy5zaXplIHx8IHRoaXMudXBsb2Fkcy5zaXplKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVxdWlyZUNsZWFuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RlZFBhdGggPSBwYXRoO1xyXG4gICAgICAgIGxldCBjbWQ6IHN0cmluZztcclxuICAgICAgICBpZiAoIWVudHJ5KSB7XHJcbiAgICAgICAgICAgIGNtZCA9IFByb3RvY29sLlNUQVQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbnRyeS5pc0ZpbGUoKSkge1xyXG4gICAgICAgICAgICBjbWQgPSBQcm90b2NvbC5SRUNWO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNtZCA9IFByb3RvY29sLkxJU1Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxlbiA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHBhdGgsICd1dGYtOCcpO1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBCdWZmZXIuYWxsb2MoY21kLmxlbmd0aCArIDQgKyBsZW4pO1xyXG4gICAgICAgIGxldCBwb3MgPSBwYXlsb2FkLndyaXRlKGNtZCwgMCk7XHJcbiAgICAgICAgcG9zID0gcGF5bG9hZC53cml0ZVVJbnQzMkxFKGxlbiwgcG9zKTtcclxuICAgICAgICBwYXlsb2FkLndyaXRlKHBhdGgsIHBvcyk7XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMud3MuY3JlYXRlQ2hhbm5lbChwYXlsb2FkKTtcclxuICAgICAgICB0aGlzLmNoYW5uZWxzLmFkZChjaGFubmVsKTtcclxuICAgICAgICBjb25zdCBkb3dubG9hZDogRG93bmxvYWQgPSB7XHJcbiAgICAgICAgICAgIHJlY2VpdmVkQnl0ZXM6IDAsXHJcbiAgICAgICAgICAgIHBhdGgsXHJcbiAgICAgICAgICAgIGVudHJ5LFxyXG4gICAgICAgICAgICBhbmNob3IsXHJcbiAgICAgICAgICAgIGNodW5rczogW10sXHJcbiAgICAgICAgICAgIHBhdGhUb0xvYWRBZnRlcixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZG93bmxvYWRzLnNldChjaGFubmVsLCBkb3dubG9hZCk7XHJcbiAgICAgICAgY29uc3Qgb25NZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXBseShjaGFubmVsLCBldmVudCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBvbkNsb3NlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmRlbGV0ZShjaGFubmVsKTtcclxuICAgICAgICAgICAgdGhpcy5kb3dubG9hZHMuZGVsZXRlKGNoYW5uZWwpO1xyXG4gICAgICAgICAgICBjaGFubmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBjaGFubmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xyXG4gICAgICAgIGNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBvbkNsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2xlYW4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50YWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcicpO1xyXG4gICAgICAgIGlmIChoZWFkZXIpIHtcclxuICAgICAgICAgICAgaGVhZGVyLmlubmVyVGV4dCA9IGBDb250ZW50ICR7dGhpcy5wYXRofWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudG9nZ2xlUXVpY2tMaW5rcyh0aGlzLnBhdGgpO1xyXG5cclxuICAgICAgICAvLyBGSVhNRTogc2hvdWxkIGRvIG92ZXIgd2F5IGFyb3VuZDogbG9hZCBjb250ZW50IG9uIGhhc2ggY2hhbmdlXHJcbiAgICAgICAgY29uc3QgaGFzaCA9IGxvY2F0aW9uLmhhc2gucmVwbGFjZSgvIyEvLCAnJyk7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhoYXNoKTtcclxuICAgICAgICBpZiAocGFyYW1zLmdldCgnYWN0aW9uJykgPT09IEFDVElPTi5GSUxFX0xJU1RJTkcpIHtcclxuICAgICAgICAgICAgcGFyYW1zLnNldCgncGF0aCcsIHRoaXMucGF0aCk7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhhc2ggPSBgIyEke3BhcmFtcy50b1N0cmluZygpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB0b2dnbGVRdWlja0xpbmtzKHBhdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlzUm9vdCA9IHBhdGggPT09IHJvb3RQYXRoO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50RGlyTGlua0JveCk7XHJcbiAgICAgICAgaWYgKHBhcmVudEVsKSB7XHJcbiAgICAgICAgICAgIHBhcmVudEVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIGlzUm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJvb3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3REaXJMaW5rQm94KTtcclxuICAgICAgICBpZiAocm9vdEVsKSB7XHJcbiAgICAgICAgICAgIHJvb3RFbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBpc1Jvb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc1RlbXAgPSBwYXRoID09PSB0ZW1wUGF0aDtcclxuICAgICAgICBjb25zdCB0ZW1wRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZW1wRGlyTGlua0JveCk7XHJcbiAgICAgICAgaWYgKHRlbXBFbCkge1xyXG4gICAgICAgICAgICB0ZW1wRWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgaXNUZW1wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXNTdG9yYWdlID0gcGF0aCA9PT0gc3RvcmFnZVBhdGg7XHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RvcmFnZURpckxpbmtCb3gpO1xyXG4gICAgICAgIGlmIChzdG9yYWdlRWwpIHtcclxuICAgICAgICAgICAgc3RvcmFnZUVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIGlzU3RvcmFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBoYW5kbGVSZXBseShjaGFubmVsOiBNdWx0aXBsZXhlciwgZTogTWVzc2FnZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5mcm9tKGUuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgcmVwbHkgPSBkYXRhLnNsaWNlKDAsIDQpLnRvU3RyaW5nKCdhc2NpaScpO1xyXG4gICAgICAgIHN3aXRjaCAocmVwbHkpIHtcclxuICAgICAgICAgICAgY2FzZSBQcm90b2NvbC5ERU5UOlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdCA9IGRhdGEuc2xpY2UoNCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gc3RhdC5yZWFkVUludDMyTEUoMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gc3RhdC5yZWFkVUludDMyTEUoNCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtdGltZSA9IHN0YXQucmVhZFVJbnQzMkxFKDgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZWxlbiA9IHN0YXQucmVhZFVJbnQzMkxFKDEyKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBVdGlsLnV0ZjhCeXRlQXJyYXlUb1N0cmluZyhzdGF0LnNsaWNlKDE2LCAxNiArIG5hbWVsZW4pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkRW50cnkobmV3IEVudHJ5KG5hbWUsIG1vZGUsIHNpemUsIG10aW1lKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNhc2UgUHJvdG9jb2wuRE9ORTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoRG93bmxvYWQoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNhc2UgUHJvdG9jb2wuU1RBVDoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWQgPSB0aGlzLmRvd25sb2Fkcy5nZXQoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdCA9IGRhdGEuc2xpY2UoNCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlID0gc3RhdC5yZWFkVUludDMyTEUoMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gc3RhdC5yZWFkVUludDMyTEUoNCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtdGltZSA9IHN0YXQucmVhZFVJbnQzMkxFKDgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZVN0cmluZyA9IHBhdGguYmFzZW5hbWUoZG93bmxvYWQucGF0aCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZJWE1FOiBzaG93IGVycm9yIGluIFVJJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3I6IG5vIGVudGl0eSBcIiR7ZG93bmxvYWQucGF0aH1cImApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMuZGVsZXRlKGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQodGVtcFBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gbmV3IEVudHJ5KG5hbWVTdHJpbmcsIG1vZGUsIHNpemUsIG10aW1lKTtcclxuICAgICAgICAgICAgICAgIGxldCBhbmNob3I6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHRQYXRoID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVudHJ5LmlzRGlyZWN0b3J5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0UGF0aCA9IHRoaXMucmVxdWVzdGVkUGF0aCA9IHBhdGguZGlybmFtZShkb3dubG9hZC5wYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLmFkZEVudHJ5KGVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSByb3cgPyByb3cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQoZG93bmxvYWQucGF0aCwgZW50cnksIGFuY2hvciwgbmV4dFBhdGgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBQcm90b2NvbC5GQUlMOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gZGF0YS5yZWFkVUludDMyTEUoNCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcoZGF0YS5zbGljZSg4LCA4ICsgbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRywgYEZBSUw6ICR7bWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgY2FzZSBQcm90b2NvbC5EQVRBOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWQgPSB0aGlzLmRvd25sb2Fkcy5nZXQoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWQuY2h1bmtzLnB1c2goZGF0YS5zbGljZSg0KSk7XHJcbiAgICAgICAgICAgICAgICBkb3dubG9hZC5yZWNlaXZlZEJ5dGVzICs9IGRhdGEubGVuZ3RoIC0gNDtcclxuICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZC5hbmNob3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3NFbGVtZW50ID0gZG93bmxvYWQucHJvZ3Jlc3NFbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2dyZXNzRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0VsZW1lbnQgPSB0aGlzLmFwcGVuZFByb2dyZXNzRWxlbWVudChkb3dubG9hZC5hbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZC5wcm9ncmVzc0VsID0gcHJvZ3Jlc3NFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWQuZW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzaXplIH0gPSBkb3dubG9hZC5lbnRyeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IChkb3dubG9hZC5yZWNlaXZlZEJ5dGVzICogMTAwKSAvIHNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzRWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnR9JWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5leHBlY3RlZCBcIiR7cmVwbHl9XCJgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFwcGVuZFByb2dyZXNzRWxlbWVudChhbmNob3I6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBwcm9ncmVzc0VsZW1lbnQuY2xhc3NOYW1lID0gJ2JhY2tncm91bmQtcHJvZ3Jlc3MnO1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGFuY2hvci5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9ncmVzc0VsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFkZEVudHJ5KGVudHJ5OiBFbnRyeSk6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAodGhpcy5yZXF1aXJlQ2xlYW4pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXRoID0gdGhpcy5yZXF1ZXN0ZWRQYXRoO1xyXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RlZFBhdGggPSAnJztcclxuICAgICAgICAgICAgdGhpcy5jbGVhbigpO1xyXG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVDbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmVudHJpZXMubGVuZ3RoID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbnRyaWVzLnB1c2goZW50cnkpO1xyXG4gICAgICAgIGNvbnN0IGVudHJ5SWQgPSAodGhpcy5lbnRyaWVzLmxlbmd0aCAtIDEpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgaWYgKGVudHJ5Lm5hbWUgPT09ICcuJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbnRyeS5uYW1lID09PSBGaWxlTGlzdGluZ0NsaWVudC5QQVJFTlRfRElSKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50RGlyTGlua0JveCk7XHJcbiAgICAgICAgICAgIGlmIChlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IGVsLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9FTlRSWV9JRCwgZW50cnlJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0eXBlID0gZW50cnkuaXNEaXJlY3RvcnkoKSA/ICdkaXInIDogZW50cnkuaXNTeW1ib2xpY0xpbmsoKSA/ICdsaW5rJyA6IGVudHJ5LmlzRmlsZSgpID8gJ2ZpbGUnIDogJ2Vsc2UnO1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBlbnRyeS5tdGltZS50b0xvY2FsZVN0cmluZygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZFJvdyhmYWxzZSwgZW50cnkubmFtZSwgdHlwZSwgZW50cnkuc2l6ZS50b1N0cmluZygpLCBkYXRlLCBlbnRyeUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWRkUm93KHB1c2g6IGJvb2xlYW4sIG5hbWU6IHN0cmluZywgdHlwZUNsYXNzOiBzdHJpbmcsIHNpemUgPSAnJywgZGF0ZSA9ICcnLCBlbnRyeUlkID0gJycpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICByb3cuaWQgPSBgZW50cnktJHtuYW1lfWA7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC5hZGQoJ2VudHJ5LXJvdycpO1xyXG4gICAgICAgIGNvbnN0IG5hbWVUZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgbmFtZVRkLmNsYXNzTGlzdC5hZGQoJ2VudHJ5LW5hbWUnKTtcclxuICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgnaWNvbicsIHR5cGVDbGFzcyk7XHJcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoRmlsZUxpc3RpbmdDbGllbnQuUFJPUEVSVFlfTkFNRSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKGVudHJ5SWQpIHtcclxuICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoRmlsZUxpc3RpbmdDbGllbnQuUFJPUEVSVFlfRU5UUllfSUQsIGVudHJ5SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaW5rLmlubmVyVGV4dCA9IG5hbWU7XHJcbiAgICAgICAgbmFtZVRkLmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChuYW1lVGQpO1xyXG4gICAgICAgIGlmIChwdXNoKSB7XHJcbiAgICAgICAgICAgIG5hbWVUZC5jb2xTcGFuID0gMztcclxuICAgICAgICAgICAgbGluay5jbGFzc0xpc3QuYWRkKCdwdXNoJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgaHJlZiA9IG5ldyBVUkwobG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGhyZWYuaGFzaC5yZXBsYWNlKC9eIyEvLCAnJykpO1xyXG4gICAgICAgICAgICBoYXNoLnNldCgncGF0aCcsIHBhdGguam9pbih0aGlzLnBhdGgsIG5hbWUpKTtcclxuICAgICAgICAgICAgaHJlZi5oYXNoID0gYCMhJHtoYXNoLnRvU3RyaW5nKCl9YDtcclxuICAgICAgICAgICAgbGluay5ocmVmID0gaHJlZi50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBjb25zdCBzaXplVGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgICAgICBzaXplVGQuY2xhc3NMaXN0LmFkZCgnZW50cnktc2l6ZScpO1xyXG4gICAgICAgICAgICBzaXplVGQuaW5uZXJUZXh0ID0gc2l6ZTtcclxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHNpemVUZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG10aW1lVGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgICAgICBtdGltZVRkLmNsYXNzTGlzdC5hZGQoJ2VudHJ5LXRpbWUnKTtcclxuICAgICAgICAgICAgbXRpbWVUZC5pbm5lclRleHQgPSBkYXRlO1xyXG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobXRpbWVUZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwdXNoIHx8ICF0aGlzLnRhYmxlQm9keS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy50YWJsZUJvZHkuaW5zZXJ0QmVmb3JlKHJvdywgdGhpcy50YWJsZUJvZHkuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZmluaXNoRG93bmxvYWQoY2hhbm5lbDogTXVsdGlwbGV4ZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBkb3dubG9hZCA9IHRoaXMuZG93bmxvYWRzLmdldChjaGFubmVsKTtcclxuICAgICAgICBpZiAoIWRvd25sb2FkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kb3dubG9hZHMuZGVsZXRlKGNoYW5uZWwpO1xyXG4gICAgICAgIGNvbnN0IGVsID0gZG93bmxvYWQucHJvZ3Jlc3NFbDtcclxuICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhblByb2dyZXNzKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5hbWU6IHN0cmluZztcclxuICAgICAgICBpZiAoZG93bmxvYWQuZW50cnkgJiYgZG93bmxvYWQuZW50cnkuaXNGaWxlKCkpIHtcclxuICAgICAgICAgICAgbmFtZSA9IGRvd25sb2FkLmVudHJ5Lm5hbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHNob3VsZCBoYXZlIGBkb3dubG9hZC5lbnRyeWAgYW5kIG5ldmVyIGJlIGhlcmVcclxuICAgICAgICAgICAgbmFtZSA9IHBhdGguYmFzZW5hbWUodGhpcy5wYXRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvd25sb2FkLnBhdGhUb0xvYWRBZnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmRlbGV0ZShjaGFubmVsKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkQ29udGVudChkb3dubG9hZC5wYXRoVG9Mb2FkQWZ0ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoZG93bmxvYWQuY2h1bmtzLCBuYW1lLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pO1xyXG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICBhLmRvd25sb2FkID0gYCR7bmFtZX1gO1xyXG4gICAgICAgIGEuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2xlYW5Qcm9ncmVzcyhlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmaW5pc2hlZCcpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBhdGgoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkQ29udGVudCh0aGlzLnBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdXBwb3J0TXVsdGlwbGV4aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsSW5pdERhdGEoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBzZXJpYWwgPSBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheSh0aGlzLnNlcmlhbCk7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKDQgKyA0ICsgc2VyaWFsLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZShDaGFubmVsQ29kZS5GU0xTLCAnYXNjaWknKTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50MzJMRShzZXJpYWwubGVuZ3RoLCA0KTtcclxuICAgICAgICBidWZmZXIuc2V0KHNlcmlhbCwgOCk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgJ3h0ZXJtL2Nzcy94dGVybS5jc3MnO1xyXG5pbXBvcnQgeyBNYW5hZ2VyQ2xpZW50IH0gZnJvbSAnLi4vLi4vY2xpZW50L01hbmFnZXJDbGllbnQnO1xyXG5pbXBvcnQgeyBUZXJtaW5hbCB9IGZyb20gJ3h0ZXJtJztcclxuaW1wb3J0IHsgQXR0YWNoQWRkb24gfSBmcm9tICd4dGVybS1hZGRvbi1hdHRhY2gnO1xyXG5pbXBvcnQgeyBGaXRBZGRvbiB9IGZyb20gJ3h0ZXJtLWFkZG9uLWZpdCc7XHJcbmltcG9ydCB7IE1lc3NhZ2VYdGVybUNsaWVudCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL01lc3NhZ2VYdGVybUNsaWVudCc7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgeyBQYXJhbXNTaGVsbCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc1NoZWxsJztcclxuaW1wb3J0IEdvb2dEZXZpY2VEZXNjcmlwdG9yIGZyb20gJy4uLy4uLy4uL3R5cGVzL0dvb2dEZXZpY2VEZXNjcmlwdG9yJztcclxuaW1wb3J0IHsgQmFzZURldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvQmFzZURldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9VdGlsJztcclxuaW1wb3J0IHsgUGFyYW1zRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc0RldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgeyBDaGFubmVsQ29kZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9DaGFubmVsQ29kZSc7XHJcblxyXG5jb25zdCBUQUcgPSAnW1NoZWxsQ2xpZW50XSc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hlbGxDbGllbnQgZXh0ZW5kcyBNYW5hZ2VyQ2xpZW50PFBhcmFtc1NoZWxsLCBuZXZlcj4ge1xyXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT04gPSBBQ1RJT04uU0hFTEw7XHJcbiAgICBwdWJsaWMgc3RhdGljIHN0YXJ0KHBhcmFtczogUGFyYW1zU2hlbGwpOiBTaGVsbENsaWVudCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaGVsbENsaWVudChwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdGVybTogVGVybWluYWw7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZpdEFkZG9uOiBGaXRBZGRvbjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZXNjYXBlZFVkaWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdWRpZDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogUGFyYW1zU2hlbGwpIHtcclxuICAgICAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgICAgIHRoaXMudWRpZCA9IHBhcmFtcy51ZGlkO1xyXG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlKGBTaGVsbCAke3RoaXMudWRpZH1gKTtcclxuICAgICAgICB0aGlzLnNldEJvZHlDbGFzcygnc2hlbGwnKTtcclxuICAgICAgICBpZiAoIXRoaXMud3MpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ05vIFdlYlNvY2tldCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRlcm0gPSBuZXcgVGVybWluYWwoKTtcclxuICAgICAgICB0aGlzLnRlcm0ubG9hZEFkZG9uKG5ldyBBdHRhY2hBZGRvbih0aGlzLndzKSk7XHJcbiAgICAgICAgdGhpcy5maXRBZGRvbiA9IG5ldyBGaXRBZGRvbigpO1xyXG4gICAgICAgIHRoaXMudGVybS5sb2FkQWRkb24odGhpcy5maXRBZGRvbik7XHJcbiAgICAgICAgdGhpcy5lc2NhcGVkVWRpZCA9IFV0aWwuZXNjYXBlVWRpZCh0aGlzLnVkaWQpO1xyXG4gICAgICAgIHRoaXMudGVybS5vcGVuKFNoZWxsQ2xpZW50LmdldE9yQ3JlYXRlQ29udGFpbmVyKHRoaXMuZXNjYXBlZFVkaWQpKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRlcm1pbmFsU2l6ZSgpO1xyXG4gICAgICAgIHRoaXMudGVybS5mb2N1cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdXBwb3J0TXVsdGlwbGV4aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VQYXJhbWV0ZXJzKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zKTogUGFyYW1zU2hlbGwge1xyXG4gICAgICAgIGNvbnN0IHR5cGVkUGFyYW1zID0gc3VwZXIucGFyc2VQYXJhbWV0ZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IHR5cGVkUGFyYW1zO1xyXG4gICAgICAgIGlmIChhY3Rpb24gIT09IEFDVElPTi5TSEVMTCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IGFjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyAuLi50eXBlZFBhcmFtcywgYWN0aW9uLCB1ZGlkOiBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3VkaWQnLCB0cnVlKSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldE9wZW4gPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zdGFydFNoZWxsKHRoaXMudWRpZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldENsb3NlKGV2ZW50OiBDbG9zZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coVEFHLCBgQ29ubmVjdGlvbiBjbG9zZWQ6ICR7ZXZlbnQucmVhc29ufWApO1xyXG4gICAgICAgIHRoaXMudGVybS5kaXNwb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0TWVzc2FnZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBtZXNzYWdlcyBhcmUgcHJvY2Vzc2VkIGJ5IEF0dGFjaCBBZGRvblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydFNoZWxsKHVkaWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdWRpZCB8fCAhdGhpcy53cyB8fCB0aGlzLndzLnJlYWR5U3RhdGUgIT09IHRoaXMud3MuT1BFTikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgcm93cywgY29scyB9ID0gdGhpcy5maXRBZGRvbi5wcm9wb3NlRGltZW5zaW9ucygpO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IE1lc3NhZ2VYdGVybUNsaWVudCA9IHtcclxuICAgICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzaGVsbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdzdGFydCcsXHJcbiAgICAgICAgICAgICAgICByb3dzLFxyXG4gICAgICAgICAgICAgICAgY29scyxcclxuICAgICAgICAgICAgICAgIHVkaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGdldE9yQ3JlYXRlQ29udGFpbmVyKHVkaWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodWRpZCk7XHJcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAndGVybWluYWwtY29udGFpbmVyJztcclxuICAgICAgICAgICAgY29udGFpbmVyLmlkID0gdWRpZDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlVGVybWluYWxTaXplKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgY29uc3QgdGVybTogYW55ID0gdGhpcy50ZXJtO1xyXG4gICAgICAgIGNvbnN0IHRlcm1pbmFsQ29udGFpbmVyOiBIVE1MRWxlbWVudCA9IFNoZWxsQ2xpZW50LmdldE9yQ3JlYXRlQ29udGFpbmVyKHRoaXMuZXNjYXBlZFVkaWQpO1xyXG4gICAgICAgIGNvbnN0IHsgcm93cywgY29scyB9ID0gdGhpcy5maXRBZGRvbi5wcm9wb3NlRGltZW5zaW9ucygpO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID1cclxuICAgICAgICAgICAgKGNvbHMgKiB0ZXJtLl9jb3JlLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbFdpZHRoICsgdGVybS5fY29yZS52aWV3cG9ydC5zY3JvbGxCYXJXaWR0aCkudG9GaXhlZChcclxuICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICkgKyAncHgnO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IChyb3dzICogdGVybS5fY29yZS5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQpLnRvRml4ZWQoMikgKyAncHgnO1xyXG4gICAgICAgIHRlcm1pbmFsQ29udGFpbmVyLnN0eWxlLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGVybWluYWxDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZml0QWRkb24uZml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVFbnRyeUZvckRldmljZUxpc3QoXHJcbiAgICAgICAgZGVzY3JpcHRvcjogR29vZ0RldmljZURlc2NyaXB0b3IsXHJcbiAgICAgICAgYmxvY2tDbGFzczogc3RyaW5nLFxyXG4gICAgICAgIHBhcmFtczogUGFyYW1zRGV2aWNlVHJhY2tlcixcclxuICAgICk6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0b3Iuc3RhdGUgIT09ICdkZXZpY2UnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbnRyeS5jbGFzc0xpc3QuYWRkKCdzaGVsbCcsIGJsb2NrQ2xhc3MpO1xyXG4gICAgICAgIGVudHJ5LmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgICBCYXNlRGV2aWNlVHJhY2tlci5idWlsZExpbmsoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBQ1RJT04uU0hFTEwsXHJcbiAgICAgICAgICAgICAgICAgICAgdWRpZDogZGVzY3JpcHRvci51ZGlkLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdzaGVsbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZW50cnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldENoYW5uZWxJbml0RGF0YSgpOiBCdWZmZXIge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyg0KTtcclxuICAgICAgICBidWZmZXIud3JpdGUoQ2hhbm5lbENvZGUuU0hFTCwgJ2FzY2lpJyk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlQ2xpZW50IH0gZnJvbSAnLi4vLi4vY2xpZW50L0Jhc2VDbGllbnQnO1xyXG5pbXBvcnQgeyBQYXJhbXNTdHJlYW1TY3JjcHkgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNTdHJlYW1TY3JjcHknO1xyXG5pbXBvcnQgeyBHb29nTW9yZUJveCB9IGZyb20gJy4uL3Rvb2xib3gvR29vZ01vcmVCb3gnO1xyXG5pbXBvcnQgeyBHb29nVG9vbEJveCB9IGZyb20gJy4uL3Rvb2xib3gvR29vZ1Rvb2xCb3gnO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi8uLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vLi4vU2l6ZSc7XHJcbmltcG9ydCB7IENvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY29udHJvbE1lc3NhZ2UvQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBDbGllbnRzU3RhdHMsIERpc3BsYXlDb21iaW5lZEluZm8gfSBmcm9tICcuLi8uLi9jbGllbnQvU3RyZWFtUmVjZWl2ZXInO1xyXG5pbXBvcnQgeyBDb21tYW5kQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9Db21tYW5kQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9VdGlsJztcclxuaW1wb3J0IEZpbGVQdXNoSGFuZGxlciBmcm9tICcuLi9maWxlUHVzaC9GaWxlUHVzaEhhbmRsZXInO1xyXG5pbXBvcnQgRHJhZ0FuZFB1c2hMb2dnZXIgZnJvbSAnLi4vRHJhZ0FuZFB1c2hMb2dnZXInO1xyXG5pbXBvcnQgeyBLZXlFdmVudExpc3RlbmVyLCBLZXlJbnB1dEhhbmRsZXIgfSBmcm9tICcuLi9LZXlJbnB1dEhhbmRsZXInO1xyXG5pbXBvcnQgeyBLZXlDb2RlQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9LZXlDb2RlQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBCYXNlUGxheWVyLCBQbGF5ZXJDbGFzcyB9IGZyb20gJy4uLy4uL3BsYXllci9CYXNlUGxheWVyJztcclxuaW1wb3J0IEdvb2dEZXZpY2VEZXNjcmlwdG9yIGZyb20gJy4uLy4uLy4uL3R5cGVzL0dvb2dEZXZpY2VEZXNjcmlwdG9yJztcclxuaW1wb3J0IHsgQ29uZmlndXJlU2NyY3B5IH0gZnJvbSAnLi9Db25maWd1cmVTY3JjcHknO1xyXG5pbXBvcnQgeyBEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi9EZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgQ29udHJvbENlbnRlckNvbW1hbmQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQ29udHJvbENlbnRlckNvbW1hbmQnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vLi4vdWkvSHRtbFRhZyc7XHJcbmltcG9ydCB7XHJcbiAgICBGZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlcixcclxuICAgIEludGVyYWN0aW9uSGFuZGxlckxpc3RlbmVyLFxyXG59IGZyb20gJy4uLy4uL2ludGVyYWN0aW9uSGFuZGxlci9GZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlcic7XHJcbmltcG9ydCBEZXZpY2VNZXNzYWdlIGZyb20gJy4uL0RldmljZU1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uLy4uL0Rpc3BsYXlJbmZvJztcclxuaW1wb3J0IHsgQXR0cmlidXRlIH0gZnJvbSAnLi4vLi4vQXR0cmlidXRlJztcclxuaW1wb3J0IHsgSG9zdFRyYWNrZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvSG9zdFRyYWNrZXInO1xyXG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQWN0aW9uJztcclxuaW1wb3J0IHsgU3RyZWFtUmVjZWl2ZXJTY3JjcHkgfSBmcm9tICcuL1N0cmVhbVJlY2VpdmVyU2NyY3B5JztcclxuaW1wb3J0IHsgUGFyYW1zRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc0RldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgeyBTY3JjcHlGaWxlUHVzaFN0cmVhbSB9IGZyb20gJy4uL2ZpbGVQdXNoL1NjcmNweUZpbGVQdXNoU3RyZWFtJztcclxuXHJcbnR5cGUgU3RhcnRQYXJhbXMgPSB7XHJcbiAgICB1ZGlkOiBzdHJpbmc7XHJcbiAgICBwbGF5ZXJOYW1lPzogc3RyaW5nO1xyXG4gICAgcGxheWVyPzogQmFzZVBsYXllcjtcclxuICAgIGZpdFRvU2NyZWVuPzogYm9vbGVhbjtcclxuICAgIHZpZGVvU2V0dGluZ3M/OiBWaWRlb1NldHRpbmdzO1xyXG59O1xyXG5cclxuY29uc3QgVEFHID0gJ1tTdHJlYW1DbGllbnRTY3JjcHldJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTdHJlYW1DbGllbnRTY3JjcHlcclxuICAgIGV4dGVuZHMgQmFzZUNsaWVudDxQYXJhbXNTdHJlYW1TY3JjcHksIG5ldmVyPlxyXG4gICAgaW1wbGVtZW50cyBLZXlFdmVudExpc3RlbmVyLCBJbnRlcmFjdGlvbkhhbmRsZXJMaXN0ZW5lclxyXG57XHJcbiAgICBwdWJsaWMgc3RhdGljIEFDVElPTiA9ICdzdHJlYW0nO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcGxheWVyczogTWFwPHN0cmluZywgUGxheWVyQ2xhc3M+ID0gbmV3IE1hcDxzdHJpbmcsIFBsYXllckNsYXNzPigpO1xyXG5cclxuICAgIHByaXZhdGUgY29udHJvbEJ1dHRvbnM/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgZGV2aWNlTmFtZSA9ICcnO1xyXG4gICAgcHJpdmF0ZSBjbGllbnRJZCA9IC0xO1xyXG4gICAgcHJpdmF0ZSBjbGllbnRzQ291bnQgPSAtMTtcclxuICAgIHByaXZhdGUgam9pbmVkU3RyZWFtID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHJlcXVlc3RlZFZpZGVvU2V0dGluZ3M/OiBWaWRlb1NldHRpbmdzO1xyXG4gICAgcHJpdmF0ZSB0b3VjaEhhbmRsZXI/OiBGZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlcjtcclxuICAgIHByaXZhdGUgbW9yZUJveD86IEdvb2dNb3JlQm94O1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI/OiBCYXNlUGxheWVyO1xyXG4gICAgcHJpdmF0ZSBmaWxlUHVzaEhhbmRsZXI/OiBGaWxlUHVzaEhhbmRsZXI7XHJcbiAgICBwcml2YXRlIGZpdFRvU2NyZWVuPzogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RyZWFtUmVjZWl2ZXI6IFN0cmVhbVJlY2VpdmVyU2NyY3B5O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVnaXN0ZXJQbGF5ZXIocGxheWVyQ2xhc3M6IFBsYXllckNsYXNzKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHBsYXllckNsYXNzLmlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLnNldChwbGF5ZXJDbGFzcy5wbGF5ZXJGdWxsTmFtZSwgcGxheWVyQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFBsYXllcnMoKTogUGxheWVyQ2xhc3NbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wbGF5ZXJzLnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRQbGF5ZXJDbGFzcyhwbGF5ZXJOYW1lOiBzdHJpbmcpOiBQbGF5ZXJDbGFzcyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IHBsYXllckNsYXNzOiBQbGF5ZXJDbGFzcyB8IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIFN0cmVhbUNsaWVudFNjcmNweS5wbGF5ZXJzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5wbGF5ZXJGdWxsTmFtZSA9PT0gcGxheWVyTmFtZSB8fCB2YWx1ZS5wbGF5ZXJDb2RlTmFtZSA9PT0gcGxheWVyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyQ2xhc3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGxheWVyQ2xhc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVQbGF5ZXIocGxheWVyTmFtZTogc3RyaW5nLCB1ZGlkOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8pOiBCYXNlUGxheWVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJDbGFzcyA9IHRoaXMuZ2V0UGxheWVyQ2xhc3MocGxheWVyTmFtZSk7XHJcbiAgICAgICAgaWYgKCFwbGF5ZXJDbGFzcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgcGxheWVyQ2xhc3ModWRpZCwgZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Rml0VG9TY3JlZW4ocGxheWVyTmFtZTogc3RyaW5nLCB1ZGlkOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8pOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJDbGFzcyA9IHRoaXMuZ2V0UGxheWVyQ2xhc3MocGxheWVyTmFtZSk7XHJcbiAgICAgICAgaWYgKCFwbGF5ZXJDbGFzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwbGF5ZXJDbGFzcy5nZXRGaXRUb1NjcmVlblN0YXR1cyh1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdGFydChcclxuICAgICAgICBxdWVyeTogVVJMU2VhcmNoUGFyYW1zIHwgUGFyYW1zU3RyZWFtU2NyY3B5LFxyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyPzogU3RyZWFtUmVjZWl2ZXJTY3JjcHksXHJcbiAgICAgICAgcGxheWVyPzogQmFzZVBsYXllcixcclxuICAgICAgICBmaXRUb1NjcmVlbj86IGJvb2xlYW4sXHJcbiAgICAgICAgdmlkZW9TZXR0aW5ncz86IFZpZGVvU2V0dGluZ3MsXHJcbiAgICApOiBTdHJlYW1DbGllbnRTY3JjcHkge1xyXG4gICAgICAgIGlmIChxdWVyeSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBTdHJlYW1DbGllbnRTY3JjcHkucGFyc2VQYXJhbWV0ZXJzKHF1ZXJ5KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DbGllbnRTY3JjcHkocGFyYW1zLCBzdHJlYW1SZWNlaXZlciwgcGxheWVyLCBmaXRUb1NjcmVlbiwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DbGllbnRTY3JjcHkocXVlcnksIHN0cmVhbVJlY2VpdmVyLCBwbGF5ZXIsIGZpdFRvU2NyZWVuLCB2aWRlb1NldHRpbmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlVmlkZW9TZXR0aW5nc1dpdGhCb3VuZHMob2xkOiBWaWRlb1NldHRpbmdzLCBuZXdCb3VuZHM6IFNpemUpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZpZGVvU2V0dGluZ3Moe1xyXG4gICAgICAgICAgICBjcm9wOiBvbGQuY3JvcCxcclxuICAgICAgICAgICAgYml0cmF0ZTogb2xkLmJpdHJhdGUsXHJcbiAgICAgICAgICAgIGJvdW5kczogbmV3Qm91bmRzLFxyXG4gICAgICAgICAgICBtYXhGcHM6IG9sZC5tYXhGcHMsXHJcbiAgICAgICAgICAgIGlGcmFtZUludGVydmFsOiBvbGQuaUZyYW1lSW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIHNlbmRGcmFtZU1ldGE6IG9sZC5zZW5kRnJhbWVNZXRhLFxyXG4gICAgICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uOiBvbGQubG9ja2VkVmlkZW9PcmllbnRhdGlvbixcclxuICAgICAgICAgICAgZGlzcGxheUlkOiBvbGQuZGlzcGxheUlkLFxyXG4gICAgICAgICAgICBjb2RlY09wdGlvbnM6IG9sZC5jb2RlY09wdGlvbnMsXHJcbiAgICAgICAgICAgIGVuY29kZXJOYW1lOiBvbGQuZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHBhcmFtczogUGFyYW1zU3RyZWFtU2NyY3B5LFxyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyPzogU3RyZWFtUmVjZWl2ZXJTY3JjcHksXHJcbiAgICAgICAgcGxheWVyPzogQmFzZVBsYXllcixcclxuICAgICAgICBmaXRUb1NjcmVlbj86IGJvb2xlYW4sXHJcbiAgICAgICAgdmlkZW9TZXR0aW5ncz86IFZpZGVvU2V0dGluZ3MsXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgICAgIGlmIChzdHJlYW1SZWNlaXZlcikge1xyXG4gICAgICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyID0gc3RyZWFtUmVjZWl2ZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlciA9IG5ldyBTdHJlYW1SZWNlaXZlclNjcmNweSh0aGlzLnBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7IHVkaWQsIHBsYXllcjogcGxheWVyTmFtZSB9ID0gdGhpcy5wYXJhbXM7XHJcbiAgICAgICAgdGhpcy5zdGFydFN0cmVhbSh7IHVkaWQsIHBsYXllciwgcGxheWVyTmFtZSwgZml0VG9TY3JlZW4sIHZpZGVvU2V0dGluZ3MgfSk7XHJcbiAgICAgICAgdGhpcy5zZXRCb2R5Q2xhc3MoJ3N0cmVhbScpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VQYXJhbWV0ZXJzKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zKTogUGFyYW1zU3RyZWFtU2NyY3B5IHtcclxuICAgICAgICBjb25zdCB0eXBlZFBhcmFtcyA9IHN1cGVyLnBhcnNlUGFyYW1ldGVycyhwYXJhbXMpO1xyXG4gICAgICAgIGNvbnN0IHsgYWN0aW9uIH0gPSB0eXBlZFBhcmFtcztcclxuICAgICAgICBpZiAoYWN0aW9uICE9PSBBQ1RJT04uU1RSRUFNX1NDUkNQWSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IGFjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi50eXBlZFBhcmFtcyxcclxuICAgICAgICAgICAgYWN0aW9uLFxyXG4gICAgICAgICAgICBwbGF5ZXI6IFV0aWwucGFyc2VTdHJpbmcocGFyYW1zLCAncGxheWVyJywgdHJ1ZSksXHJcbiAgICAgICAgICAgIHVkaWQ6IFV0aWwucGFyc2VTdHJpbmcocGFyYW1zLCAndWRpZCcsIHRydWUpLFxyXG4gICAgICAgICAgICB3czogVXRpbC5wYXJzZVN0cmluZyhwYXJhbXMsICd3cycsIHRydWUpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIE9uRGV2aWNlTWVzc2FnZSA9IChtZXNzYWdlOiBEZXZpY2VNZXNzYWdlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9yZUJveCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vcmVCb3guT25EZXZpY2VNZXNzYWdlKG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG9uVmlkZW8gPSAoZGF0YTogQXJyYXlCdWZmZXIpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgU1RBVEUgPSBCYXNlUGxheWVyLlNUQVRFO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllci5nZXRTdGF0ZSgpID09PSBTVEFURS5QQVVTRUQpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZ2V0U3RhdGUoKSA9PT0gU1RBVEUuUExBWUlORykge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5wdXNoRnJhbWUobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG9uQ2xpZW50c1N0YXRzID0gKHN0YXRzOiBDbGllbnRzU3RhdHMpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmRldmljZU5hbWUgPSBzdGF0cy5kZXZpY2VOYW1lO1xyXG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBzdGF0cy5jbGllbnRJZDtcclxuICAgICAgICAvL3RoaXMuc2V0VGl0bGUoYFN0cmVhbSAke3RoaXMuZGV2aWNlTmFtZX1gKTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG9uRGlzcGxheUluZm8gPSAoaW5mb0FycmF5OiBEaXNwbGF5Q29tYmluZWRJbmZvW10pOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGN1cnJlbnRTZXR0aW5ncyA9IHRoaXMucGxheWVyLmdldFZpZGVvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBjdXJyZW50U2V0dGluZ3MuZGlzcGxheUlkO1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBpbmZvQXJyYXkuZmluZCgodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmRpc3BsYXlJbmZvLmRpc3BsYXlJZCA9PT0gZGlzcGxheUlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghaW5mbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllci5nZXRTdGF0ZSgpID09PSBCYXNlUGxheWVyLlNUQVRFLlBBVVNFRCkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgdmlkZW9TZXR0aW5ncywgc2NyZWVuSW5mbyB9ID0gaW5mbztcclxuICAgICAgICB0aGlzLnBsYXllci5zZXREaXNwbGF5SW5mbyhpbmZvLmRpc3BsYXlJbmZvKTtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZml0VG9TY3JlZW4gIT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICB0aGlzLmZpdFRvU2NyZWVuID0gdGhpcy5wbGF5ZXIuZ2V0Rml0VG9TY3JlZW5TdGF0dXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZml0VG9TY3JlZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3Qm91bmRzID0gdGhpcy5nZXRNYXhTaXplKCk7XHJcbiAgICAgICAgICAgIGlmIChuZXdCb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5ncyA9IFN0cmVhbUNsaWVudFNjcmNweS5jcmVhdGVWaWRlb1NldHRpbmdzV2l0aEJvdW5kcyhjdXJyZW50U2V0dGluZ3MsIG5ld0JvdW5kcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5zZXRWaWRlb1NldHRpbmdzKGN1cnJlbnRTZXR0aW5ncywgdGhpcy5maXRUb1NjcmVlbiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdmlkZW9TZXR0aW5ncyB8fCAhc2NyZWVuSW5mbykge1xyXG4gICAgICAgICAgICB0aGlzLmpvaW5lZFN0cmVhbSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldFZpZGVvU2V0dGluZ3NDb21tYW5kKGN1cnJlbnRTZXR0aW5ncykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNsaWVudHNDb3VudCA9IGluZm8uY29ubmVjdGlvbkNvdW50O1xyXG4gICAgICAgIGxldCBtaW4gPSBWaWRlb1NldHRpbmdzLmNvcHkodmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgY29uc3Qgb2xkSW5mbyA9IHRoaXMucGxheWVyLmdldFNjcmVlbkluZm8oKTtcclxuICAgICAgICBpZiAoIXNjcmVlbkluZm8uZXF1YWxzKG9sZEluZm8pKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldFNjcmVlbkluZm8oc2NyZWVuSW5mbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXZpZGVvU2V0dGluZ3MuZXF1YWxzKGN1cnJlbnRTZXR0aW5ncykpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseU5ld1ZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgdmlkZW9TZXR0aW5ncy5lcXVhbHModGhpcy5yZXF1ZXN0ZWRWaWRlb1NldHRpbmdzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghb2xkSW5mbykge1xyXG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSBjdXJyZW50U2V0dGluZ3MuYm91bmRzO1xyXG4gICAgICAgICAgICBjb25zdCB2aWRlb1NpemU6IFNpemUgPSBzY3JlZW5JbmZvLnZpZGVvU2l6ZTtcclxuICAgICAgICAgICAgY29uc3Qgb25seU9uZUNsaWVudCA9IHRoaXMuY2xpZW50c0NvdW50ID09PSAwO1xyXG4gICAgICAgICAgICBjb25zdCBzbWFsbGVyVGhlbkN1cnJlbnQgPSBib3VuZHMgJiYgKGJvdW5kcy53aWR0aCA8IHZpZGVvU2l6ZS53aWR0aCB8fCBib3VuZHMuaGVpZ2h0IDwgdmlkZW9TaXplLmhlaWdodCk7XHJcbiAgICAgICAgICAgIGlmIChvbmx5T25lQ2xpZW50IHx8IHNtYWxsZXJUaGVuQ3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gY3VycmVudFNldHRpbmdzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbkJvdW5kcyA9IGN1cnJlbnRTZXR0aW5ncy5ib3VuZHM/LmludGVyc2VjdChtaW4uYm91bmRzKTtcclxuICAgICAgICAgICAgaWYgKG1pbkJvdW5kcyAmJiAhbWluQm91bmRzLmVxdWFscyhtaW4uYm91bmRzKSkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gU3RyZWFtQ2xpZW50U2NyY3B5LmNyZWF0ZVZpZGVvU2V0dGluZ3NXaXRoQm91bmRzKG1pbiwgbWluQm91bmRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW1pbi5lcXVhbHModmlkZW9TZXR0aW5ncykgfHwgIXRoaXMuam9pbmVkU3RyZWFtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuam9pbmVkU3RyZWFtID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlU2V0VmlkZW9TZXR0aW5nc0NvbW1hbmQobWluKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgb25EaXNjb25uZWN0ZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5vZmYoJ2RldmljZU1lc3NhZ2UnLCB0aGlzLk9uRGV2aWNlTWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5vZmYoJ3ZpZGVvJywgdGhpcy5vblZpZGVvKTtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLm9mZignY2xpZW50c1N0YXRzJywgdGhpcy5vbkNsaWVudHNTdGF0cyk7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5vZmYoJ2Rpc3BsYXlJbmZvJywgdGhpcy5vbkRpc3BsYXlJbmZvKTtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLm9mZignZGlzY29ubmVjdGVkJywgdGhpcy5vbkRpc2Nvbm5lY3RlZCk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsZVB1c2hIYW5kbGVyPy5yZWxlYXNlKCk7XHJcbiAgICAgICAgdGhpcy5maWxlUHVzaEhhbmRsZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy50b3VjaEhhbmRsZXI/LnJlbGVhc2UoKTtcclxuICAgICAgICB0aGlzLnRvdWNoSGFuZGxlciA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHN0YXJ0U3RyZWFtKHsgdWRpZCwgcGxheWVyLCBwbGF5ZXJOYW1lLCB2aWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbiB9OiBTdGFydFBhcmFtcyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdWRpZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCB1ZGlkIHZhbHVlOiBcIiR7dWRpZH1cImApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5maXRUb1NjcmVlbiA9IGZpdFRvU2NyZWVuO1xyXG4gICAgICAgIGlmICghcGxheWVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxheWVyTmFtZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdNdXN0IHByb3ZpZGUgQmFzZVBsYXllciBpbnN0YW5jZSBvciBwbGF5ZXJOYW1lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGRpc3BsYXlJbmZvOiBEaXNwbGF5SW5mbyB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtUmVjZWl2ZXIgJiYgdmlkZW9TZXR0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheUluZm8gPSB0aGlzLnN0cmVhbVJlY2VpdmVyLmdldERpc3BsYXlJbmZvKHZpZGVvU2V0dGluZ3MuZGlzcGxheUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBwID0gU3RyZWFtQ2xpZW50U2NyY3B5LmNyZWF0ZVBsYXllcihwbGF5ZXJOYW1lLCB1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgICAgIGlmICghcCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIHBsYXllcjogXCIke3BsYXllck5hbWV9XCJgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpdFRvU2NyZWVuICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgIGZpdFRvU2NyZWVuID0gU3RyZWFtQ2xpZW50U2NyY3B5LmdldEZpdFRvU2NyZWVuKHBsYXllck5hbWUsIHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwbGF5ZXIgPSBwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLnNldFRvdWNoTGlzdGVuZXJzKHBsYXllcik7XHJcblxyXG4gICAgICAgIGlmICghdmlkZW9TZXR0aW5ncykge1xyXG4gICAgICAgICAgICB2aWRlb1NldHRpbmdzID0gcGxheWVyLmdldFZpZGVvU2V0dGluZ3MoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRldmljZVZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkZXZpY2VWaWV3LmNsYXNzTmFtZSA9ICdkZXZpY2Utdmlldyc7XHJcbiAgICAgICAgY29uc3Qgc3RvcCA9IChldj86IHN0cmluZyB8IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldiAmJiBldiBpbnN0YW5jZW9mIEV2ZW50ICYmIGV2LnR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBldik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHBhcmVudDtcclxuICAgICAgICAgICAgcGFyZW50ID0gZGV2aWNlVmlldy5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZGV2aWNlVmlldyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyZW50ID0gbW9yZUJveC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobW9yZUJveCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgZ29vZ01vcmVCb3ggPSAodGhpcy5tb3JlQm94ID0gbmV3IEdvb2dNb3JlQm94KHVkaWQsIHBsYXllciwgdGhpcykpO1xyXG4gICAgICAgIGNvbnN0IG1vcmVCb3ggPSBnb29nTW9yZUJveC5nZXRIb2xkZXJFbGVtZW50KCk7XHJcbiAgICAgICAgZ29vZ01vcmVCb3guc2V0T25TdG9wKHN0b3ApO1xyXG4gICAgICAgIGNvbnN0IGdvb2dUb29sQm94ID0gR29vZ1Rvb2xCb3guY3JlYXRlVG9vbEJveCh1ZGlkLCBwbGF5ZXIsIHRoaXMsIG1vcmVCb3gpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbEJ1dHRvbnMgPSBnb29nVG9vbEJveC5nZXRIb2xkZXJFbGVtZW50KCk7XHJcbiAgICAgICAgZGV2aWNlVmlldy5hcHBlbmRDaGlsZCh0aGlzLmNvbnRyb2xCdXR0b25zKTtcclxuICAgICAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHZpZGVvLmNsYXNzTmFtZSA9ICd2aWRlbyc7XHJcbiAgICAgICAgZGV2aWNlVmlldy5hcHBlbmRDaGlsZCh2aWRlbyk7XHJcbiAgICAgICAgZGV2aWNlVmlldy5hcHBlbmRDaGlsZChtb3JlQm94KTtcclxuICAgICAgICBwbGF5ZXIuc2V0UGFyZW50KHZpZGVvKTtcclxuICAgICAgICBwbGF5ZXIucGF1c2UoKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkZXZpY2VWaWV3KTtcclxuICAgICAgICBjb25zdCBkaXZNb3ZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2TW92ZS5jbGFzc05hbWUgPSAnZGl2LW1vdmUnO1xyXG4gICAgICAgIGNvbnN0IHNwYW5MZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGNvbnN0IHNwYW5SaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBzcGFuTGVmdC5pbm5lckhUTUwgPSBcIsKrXCI7XHJcbiAgICAgICAgc3BhblJpZ2h0LmlubmVySFRNTCA9IFwiwrtcIjtcclxuICAgICAgICBkaXZNb3ZlLmFwcGVuZENoaWxkKHNwYW5MZWZ0KTtcclxuICAgICAgICBkaXZNb3ZlLmFwcGVuZENoaWxkKHNwYW5SaWdodCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc2ggPSBsb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jIS8sICcnKTtcclxuICAgICAgICBjb25zdCBwYXJzZWRRdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoaGFzaCk7XHJcbiAgICAgICAgY29uc3QgbnVtYmVyID0gcGFyc2VkUXVlcnkuZ2V0KCdudW1iZXInKTtcclxuICAgICAgICBjb25zdCBpcHMgPSBwYXJzZWRRdWVyeS5nZXQoJ2lwcycpPT11bmRlZmluZWQ/JzE3Mi4yMC41MC4xMjM6NzAwMCc6cGFyc2VkUXVlcnkuZ2V0KCdpcHMnKTtcclxuICAgICAgICAvL2NvbnN0IHVkaWQgPSBwYXJzZWRRdWVyeS5nZXQoJ3VkaWQnKTtcclxuICAgICAgICBsZXQgZGV2aWNlcyA9IG51bGw7XHJcbiAgICAgICAgbGV0IHByZXZOdW1iZXIgPSBcIlwiO1xyXG4gICAgICAgIGxldCBuZXh0TnVtYmVyID0gXCJcIjtcclxuICAgICAgICBsZXQgcHJldlVkaWQgPSBcIlwiO1xyXG4gICAgICAgIGxldCBuZXh0VWRpZCA9IFwiXCI7XHJcbiAgICAgICAgbGV0IHByZXZTZXJ2ZXIgPSBcIlwiO1xyXG4gICAgICAgIGxldCBuZXh0U2VydmVyID0gXCJcIjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm51bWJlclwiLG51bWJlcik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1ZGlkXCIsdWRpZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpcHNcIixpcHMpO1xyXG4gICAgICAgICBmZXRjaChcImh0dHA6Ly9cIitpcHMrXCIvZGV2aWNlc1wiKS50aGVuKHggPT4geC5qc29uKCkpXHJcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBkZXZpY2VzID0gZGF0YTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZXZpY2VzXCIsZGV2aWNlcylcclxuICAgICAgICAgICAgZGV2aWNlcy5zb3J0KChhOmFueSxiOmFueSk9PntcclxuICAgICAgICAgICAgICAgIGlmIChhLm51bWJlciA8IGIubnVtYmVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIGlmIChhLm51bWJlciA+IGIubnVtYmVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXZpY2VzW2ldLm51bWJlciA9PSBudW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZOdW1iZXIgPSAoaS0xKT49MD9kZXZpY2VzW2ktMV0ubnVtYmVyOmRldmljZXNbZGV2aWNlcy5sZW5ndGgtMV0ubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHROdW1iZXIgPSAoaSsxKTxkZXZpY2VzLmxlbmd0aD9kZXZpY2VzW2krMV0ubnVtYmVyOmRldmljZXNbMF0ubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZVZGlkID0gKGktMSk+PTA/ZGV2aWNlc1tpLTFdLnNlcmlhbDpkZXZpY2VzW2RldmljZXMubGVuZ3RoLTFdLnNlcmlhbDtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0VWRpZCA9IChpKzEpPGRldmljZXMubGVuZ3RoP2RldmljZXNbaSsxXS5zZXJpYWw6ZGV2aWNlc1swXS5zZXJpYWw7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZTZXJ2ZXIgPSAoaS0xKT49MD9kZXZpY2VzW2ktMV0uY2x1c3RlckFkZHJlc3M6ZGV2aWNlc1tkZXZpY2VzLmxlbmd0aC0xXS5jbHVzdGVyQWRkcmVzcztcclxuICAgICAgICAgICAgICAgICAgICBuZXh0U2VydmVyID0gKGkrMSk8ZGV2aWNlcy5sZW5ndGg/ZGV2aWNlc1tpKzFdLmNsdXN0ZXJBZGRyZXNzOmRldmljZXNbMF0uY2x1c3RlckFkZHJlc3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImRldmljZXNcIixkZXZpY2VzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJldk51bWJlciBuZXh0TnVtYmVyXCIscHJldk51bWJlcixuZXh0TnVtYmVyKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicHJldlVkaWQgbmV4dFVkaWRcIixwcmV2VWRpZCxuZXh0VWRpZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInByZXZTZXJ2ZXIgbmV4dFNlcnZlclwiLHByZXZTZXJ2ZXIsbmV4dFNlcnZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7ICAgIFxyXG4gICAgICAgIGNvbnN0IGdvTGVmdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVcmwgPSBgaHR0cDovLyR7cHJldlNlcnZlcn06ODAwMC8jIWFjdGlvbj1zdHJlYW0maXBzPSR7aXBzfSZudW1iZXI9JHtwcmV2TnVtYmVyfSZ1ZGlkPSR7cHJldlVkaWR9JnBsYXllcj1icm9hZHdheSZ3cz13cyUzQSUyRiUyRiR7cHJldlNlcnZlcn0lM0E4MDAwJTJGJTNGYWN0aW9uJTNEcHJveHktYWRiJTI2cmVtb3RlJTNEdGNwJTI1M0E4ODg2JTI2dWRpZCUzRCR7cHJldlVkaWR9YDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnRVcmwxJywgY3VycmVudFVybCk7XHJcbiAgICAgICAgICAgIC8vc2V0VGltZW91dChmdW5jdGlvbigpe2RvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBjdXJyZW50VXJsfSw1MDApO1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKGN1cnJlbnRVcmwpO1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgLy93aW5kb3cubG9jYXRpb24uYXNzaWduKGN1cnJlbnRVcmwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZ29SaWdodCA9ICgpID0+IHsgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXJsID0gYGh0dHA6Ly8ke25leHRTZXJ2ZXJ9OjgwMDAvIyFhY3Rpb249c3RyZWFtJmlwcz0ke2lwc30mbnVtYmVyPSR7bmV4dE51bWJlcn0mdWRpZD0ke25leHRVZGlkfSZwbGF5ZXI9YnJvYWR3YXkmd3M9d3MlM0ElMkYlMkYke25leHRTZXJ2ZXJ9JTNBODAwMCUyRiUzRmFjdGlvbiUzRHByb3h5LWFkYiUyNnJlbW90ZSUzRHRjcCUyNTNBODg4NiUyNnVkaWQlM0Qke25leHRVZGlkfWA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjdXJyZW50VXJsMScsIGN1cnJlbnRVcmwpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGN1cnJlbnRVcmx9LDUwMCk7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoY3VycmVudFVybCk7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAvL3dpbmRvdy5sb2NhdGlvbi5hc3NpZ24oY3VycmVudFVybCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIGdvTGVmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgZ29SaWdodCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3BhbkxlZnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGdvTGVmdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNwYW5SaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgZ29SaWdodCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2TW92ZSk7XHJcbiAgICAgICAgaWYgKGZpdFRvU2NyZWVuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0JvdW5kcyA9IHRoaXMuZ2V0TWF4U2l6ZSgpO1xyXG4gICAgICAgICAgICBpZiAobmV3Qm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICB2aWRlb1NldHRpbmdzID0gU3RyZWFtQ2xpZW50U2NyY3B5LmNyZWF0ZVZpZGVvU2V0dGluZ3NXaXRoQm91bmRzKHZpZGVvU2V0dGluZ3MsIG5ld0JvdW5kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hcHBseU5ld1ZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwbGF5ZXIuZ2V0VG91Y2hhYmxlRWxlbWVudCgpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBEcmFnQW5kUHVzaExvZ2dlcihlbGVtZW50KTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoSGFuZGxlciA9IG5ldyBGaWxlUHVzaEhhbmRsZXIoZWxlbWVudCwgbmV3IFNjcmNweUZpbGVQdXNoU3RyZWFtKHRoaXMuc3RyZWFtUmVjZWl2ZXIpKTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoSGFuZGxlci5hZGRFdmVudExpc3RlbmVyKGxvZ2dlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0cmVhbVJlY2VpdmVyID0gdGhpcy5zdHJlYW1SZWNlaXZlcjtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGV2aWNlTWVzc2FnZScsIHRoaXMuT25EZXZpY2VNZXNzYWdlKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbigndmlkZW8nLCB0aGlzLm9uVmlkZW8pO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdjbGllbnRzU3RhdHMnLCB0aGlzLm9uQ2xpZW50c1N0YXRzKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGlzcGxheUluZm8nLCB0aGlzLm9uRGlzcGxheUluZm8pO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdkaXNjb25uZWN0ZWQnLCB0aGlzLm9uRGlzY29ubmVjdGVkKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coVEFHLCBwbGF5ZXIuZ2V0TmFtZSgpLCB1ZGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZE1lc3NhZ2UobWVzc2FnZTogQ29udHJvbE1lc3NhZ2UpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLnNlbmRFdmVudChtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRldmljZU5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEhhbmRsZUtleWJvYXJkRXZlbnRzKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgICBLZXlJbnB1dEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBLZXlJbnB1dEhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uS2V5RXZlbnQoZXZlbnQ6IEtleUNvZGVDb250cm9sTWVzc2FnZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kTmV3VmlkZW9TZXR0aW5nKHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3RlZFZpZGVvU2V0dGluZ3MgPSB2aWRlb1NldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldFZpZGVvU2V0dGluZ3NDb21tYW5kKHZpZGVvU2V0dGluZ3MpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2xpZW50SWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2xpZW50c0NvdW50KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50c0NvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNYXhTaXplKCk6IFNpemUgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sQnV0dG9ucykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gKGJvZHkuY2xpZW50V2lkdGggLSB0aGlzLmNvbnRyb2xCdXR0b25zLmNsaWVudFdpZHRoKSAmIH4xNTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBib2R5LmNsaWVudEhlaWdodCAmIH4xNTtcclxuICAgICAgICByZXR1cm4gbmV3IFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRUb3VjaExpc3RlbmVycyhwbGF5ZXI6IEJhc2VQbGF5ZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy50b3VjaEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvdWNoSGFuZGxlciA9IG5ldyBGZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlcihwbGF5ZXIsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwbHlOZXdWaWRlb1NldHRpbmdzKHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MsIHNhdmVUb1N0b3JhZ2U6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBsZXQgZml0VG9TY3JlZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY3JlYXRlIGNvbnRyb2wgKHN3aXRjaC9jaGVja2JveCkgaW5zdGVhZFxyXG4gICAgICAgIGlmICh2aWRlb1NldHRpbmdzLmJvdW5kcyAmJiB2aWRlb1NldHRpbmdzLmJvdW5kcy5lcXVhbHModGhpcy5nZXRNYXhTaXplKCkpKSB7XHJcbiAgICAgICAgICAgIGZpdFRvU2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgZml0VG9TY3JlZW4sIHNhdmVUb1N0b3JhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUVudHJ5Rm9yRGV2aWNlTGlzdChcclxuICAgICAgICBkZXNjcmlwdG9yOiBHb29nRGV2aWNlRGVzY3JpcHRvcixcclxuICAgICAgICBibG9ja0NsYXNzOiBzdHJpbmcsXHJcbiAgICAgICAgZnVsbE5hbWU6IHN0cmluZyxcclxuICAgICAgICBwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsXHJcbiAgICApOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGNvbnN0IGhhc1BpZCA9IGRlc2NyaXB0b3IucGlkICE9PSAtMTtcclxuICAgICAgICBpZiAoaGFzUGlkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ3VyZUJ1dHRvbklkID0gYGNvbmZpZ3VyZV8ke1V0aWwuZXNjYXBlVWRpZChkZXNjcmlwdG9yLnVkaWQpfWA7XHJcbiAgICAgICAgICAgIGNvbnN0IGUgPSBodG1sYDxkaXYgY2xhc3M9XCJzdHJlYW0gJHtibG9ja0NsYXNzfVwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICR7QXR0cmlidXRlLlVESUR9PVwiJHtkZXNjcmlwdG9yLnVkaWR9XCJcclxuICAgICAgICAgICAgICAgICAgICAke0F0dHJpYnV0ZS5DT01NQU5EfT1cIiR7Q29udHJvbENlbnRlckNvbW1hbmQuQ09ORklHVVJFX1NUUkVBTX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICR7QXR0cmlidXRlLkZVTExfTkFNRX09XCIke2Z1bGxOYW1lfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgJHtBdHRyaWJ1dGUuU0VDVVJFfT1cIiR7cGFyYW1zLnNlY3VyZX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICR7QXR0cmlidXRlLkhPU1ROQU1FfT1cIiR7cGFyYW1zLmhvc3RuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgJHtBdHRyaWJ1dGUuUE9SVH09XCIke3BhcmFtcy5wb3J0fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgJHtBdHRyaWJ1dGUuUEFUSE5BTUV9PVwiJHtwYXJhbXMucGF0aG5hbWV9XCJcclxuICAgICAgICAgICAgICAgICAgICAke0F0dHJpYnV0ZS5VU0VfUFJPWFl9PVwiJHtwYXJhbXMudXNlUHJveHl9XCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cIiR7Y29uZmlndXJlQnV0dG9uSWR9XCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFjdGl2ZSBhY3Rpb24tYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBDb25maWd1cmUgc3RyZWFtXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgY29uc3QgYSA9IGUuY29udGVudC5nZXRFbGVtZW50QnlJZChjb25maWd1cmVCdXR0b25JZCk7XHJcbiAgICAgICAgICAgIGEgJiYgKGEub25jbGljayA9IHRoaXMub25Db25maWd1cmVTdHJlYW1DbGljayk7XHJcbiAgICAgICAgICAgIHJldHVybiBlLmNvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBvbkNvbmZpZ3VyZVN0cmVhbUNsaWNrID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudDtcclxuICAgICAgICBjb25zdCB1ZGlkID0gVXRpbC5wYXJzZVN0cmluZ0VudihidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VRElEKSB8fCAnJyk7XHJcbiAgICAgICAgY29uc3QgZnVsbE5hbWUgPSBidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5GVUxMX05BTUUpO1xyXG4gICAgICAgIGNvbnN0IHNlY3VyZSA9IFV0aWwucGFyc2VCb29sZWFuRW52KGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlNFQ1VSRSkgfHwgdW5kZWZpbmVkKSB8fCBmYWxzZTtcclxuICAgICAgICBjb25zdCBob3N0bmFtZSA9IFV0aWwucGFyc2VTdHJpbmdFbnYoYnV0dG9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuSE9TVE5BTUUpIHx8IHVuZGVmaW5lZCkgfHwgJyc7XHJcbiAgICAgICAgY29uc3QgcG9ydCA9IFV0aWwucGFyc2VJbnRFbnYoYnV0dG9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuUE9SVCkgfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICBjb25zdCBwYXRobmFtZSA9IFV0aWwucGFyc2VTdHJpbmdFbnYoYnV0dG9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuUEFUSE5BTUUpIHx8IHVuZGVmaW5lZCkgfHwgJyc7XHJcbiAgICAgICAgY29uc3QgdXNlUHJveHkgPSBVdGlsLnBhcnNlQm9vbGVhbkVudihidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VU0VfUFJPWFkpIHx8IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgaWYgKCF1ZGlkKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBJbnZhbGlkIHVkaWQgdmFsdWU6IFwiJHt1ZGlkfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcG9ydCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgcG9ydCB0eXBlOiAke3R5cGVvZiBwb3J0fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0cmFja2VyID0gRGV2aWNlVHJhY2tlci5nZXRJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdhbmRyb2lkJyxcclxuICAgICAgICAgICAgc2VjdXJlLFxyXG4gICAgICAgICAgICBob3N0bmFtZSxcclxuICAgICAgICAgICAgcG9ydCxcclxuICAgICAgICAgICAgcGF0aG5hbWUsXHJcbiAgICAgICAgICAgIHVzZVByb3h5LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0cmFja2VyLmdldERlc2NyaXB0b3JCeVVkaWQodWRpZCk7XHJcbiAgICAgICAgaWYgKCFkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGAke0RldmljZVRyYWNrZXIuQXR0cmlidXRlUHJlZml4SW50ZXJmYWNlU2VsZWN0Rm9yfSR7ZnVsbE5hbWV9YCk7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50cyB8fCAhZWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gZWxlbWVudHNbMF0gYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XTtcclxuICAgICAgICBjb25zdCB3cyA9IG9wdGlvbkVsZW1lbnQuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5VUkwpO1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb25FbGVtZW50LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuTkFNRSk7XHJcbiAgICAgICAgaWYgKCF3cyB8fCAhbmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IFBhcmFtc1N0cmVhbVNjcmNweSA9IHtcclxuICAgICAgICAgICAgdWRpZCxcclxuICAgICAgICAgICAgd3MsXHJcbiAgICAgICAgICAgIHBsYXllcjogJycsXHJcbiAgICAgICAgICAgIGFjdGlvbjogQUNUSU9OLlNUUkVBTV9TQ1JDUFksXHJcbiAgICAgICAgICAgIHNlY3VyZSxcclxuICAgICAgICAgICAgaG9zdG5hbWUsXHJcbiAgICAgICAgICAgIHBvcnQsXHJcbiAgICAgICAgICAgIHBhdGhuYW1lLFxyXG4gICAgICAgICAgICB1c2VQcm94eSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGRpYWxvZyA9IG5ldyBDb25maWd1cmVTY3JjcHkodHJhY2tlciwgZGVzY3JpcHRvciwgb3B0aW9ucyk7XHJcbiAgICAgICAgZGlhbG9nLm9uKCdjbG9zZWQnLCBTdHJlYW1DbGllbnRTY3JjcHkub25Db25maWd1cmVEaWFsb2dDbG9zZWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBvbkNvbmZpZ3VyZURpYWxvZ0Nsb3NlZCA9IChldmVudDogeyBkaWFsb2c6IENvbmZpZ3VyZVNjcmNweTsgcmVzdWx0OiBib29sZWFuIH0pOiB2b2lkID0+IHtcclxuICAgICAgICBldmVudC5kaWFsb2cub2ZmKCdjbG9zZWQnLCBTdHJlYW1DbGllbnRTY3JjcHkub25Db25maWd1cmVEaWFsb2dDbG9zZWQpO1xyXG4gICAgICAgIGlmIChldmVudC5yZXN1bHQpIHtcclxuICAgICAgICAgICAgSG9zdFRyYWNrZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBTdHJlYW1SZWNlaXZlciB9IGZyb20gJy4uLy4uL2NsaWVudC9TdHJlYW1SZWNlaXZlcic7XHJcbmltcG9ydCB7IFBhcmFtc1N0cmVhbVNjcmNweSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1BhcmFtc1N0cmVhbVNjcmNweSc7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9VdGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTdHJlYW1SZWNlaXZlclNjcmNweSBleHRlbmRzIFN0cmVhbVJlY2VpdmVyPFBhcmFtc1N0cmVhbVNjcmNweT4ge1xyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZVBhcmFtZXRlcnMocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNTdHJlYW1TY3JjcHkge1xyXG4gICAgICAgIGNvbnN0IHR5cGVkUGFyYW1zID0gc3VwZXIucGFyc2VQYXJhbWV0ZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IHR5cGVkUGFyYW1zO1xyXG4gICAgICAgIGlmIChhY3Rpb24gIT09IEFDVElPTi5TVFJFQU1fU0NSQ1BZKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgYWN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLnR5cGVkUGFyYW1zLFxyXG4gICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgIHVkaWQ6IFV0aWwucGFyc2VTdHJpbmcocGFyYW1zLCAndWRpZCcsIHRydWUpLFxyXG4gICAgICAgICAgICB3czogVXRpbC5wYXJzZVN0cmluZyhwYXJhbXMsICd3cycsIHRydWUpLFxyXG4gICAgICAgICAgICBwbGF5ZXI6IFV0aWwucGFyc2VTdHJpbmcocGFyYW1zLCAncGxheWVyJywgdHJ1ZSksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBidWlsZERpcmVjdFdlYlNvY2tldFVybCgpOiBVUkwge1xyXG4gICAgICAgIHJldHVybiBuZXcgVVJMKCh0aGlzLnBhcmFtcyBhcyBQYXJhbXNTdHJlYW1TY3JjcHkpLndzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBGaWxlUHVzaFN0cmVhbSB9IGZyb20gJy4vRmlsZVB1c2hTdHJlYW0nO1xyXG5pbXBvcnQgeyBDb21tYW5kQ29udHJvbE1lc3NhZ2UsIEZpbGVQdXNoU3RhdGUgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9Db21tYW5kQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBNdWx0aXBsZXhlciB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL211bHRpcGxleGVyL011bHRpcGxleGVyJztcclxuaW1wb3J0IHsgRmlsZVB1c2hSZXNwb25zZVN0YXR1cyB9IGZyb20gJy4vRmlsZVB1c2hSZXNwb25zZVN0YXR1cyc7XHJcbmltcG9ydCBQcm90b2NvbCBmcm9tICdAZGVhZDUwZjcvYWRia2l0L2xpYi9hZGIvcHJvdG9jb2wnO1xyXG5pbXBvcnQgeyBGaWxlTGlzdGluZ0NsaWVudCB9IGZyb20gJy4uL2NsaWVudC9GaWxlTGlzdGluZ0NsaWVudCc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBGaWxlUHVzaEhhbmRsZXIgZnJvbSAnLi9GaWxlUHVzaEhhbmRsZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFkYmtpdEZpbGVQdXNoU3RyZWFtIGV4dGVuZHMgRmlsZVB1c2hTdHJlYW0ge1xyXG4gICAgcHJpdmF0ZSBjaGFubmVsczogTWFwPG51bWJlciwgTXVsdGlwbGV4ZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBzb2NrZXQ6IE11bHRpcGxleGVyLCBwcml2YXRlIHJlYWRvbmx5IGZpbGVMaXN0aW5nQ2xpZW50OiBGaWxlTGlzdGluZ0NsaWVudCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaGFzQ29ubmVjdGlvbigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb2NrZXQucmVhZHlTdGF0ZSA9PSB0aGlzLnNvY2tldC5PUEVOO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FsbG93ZWRGaWxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDaGFubmVsKGlkOiBudW1iZXIpOiBNdWx0aXBsZXhlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHMuZ2V0KGlkKTtcclxuICAgICAgICBsZXQgY29kZTogRmlsZVB1c2hSZXNwb25zZVN0YXR1cyA9IEZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuTk9fRVJST1I7XHJcbiAgICAgICAgaWYgKCFjaGFubmVsKSB7XHJcbiAgICAgICAgICAgIGNvZGUgPSBGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX1VOS05PV05fSUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCB7IGlkLCBjb2RlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjaGFubmVsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kRXZlbnRBcHBlbmQoeyBpZCwgY2h1bmsgfTogeyBpZDogbnVtYmVyOyBjaHVuazogVWludDhBcnJheSB9KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgYXBwZW5kUGFyYW1zID0geyBpZCwgY2h1bmssIHN0YXRlOiBGaWxlUHVzaFN0YXRlLkFQUEVORCB9O1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLmdldENoYW5uZWwoaWQpO1xyXG4gICAgICAgIGlmICghY2hhbm5lbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYW5uZWwuc2VuZChDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlUHVzaEZpbGVDb21tYW5kKGFwcGVuZFBhcmFtcykudG9CdWZmZXIoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudEZpbmlzaCh7IGlkIH06IHsgaWQ6IG51bWJlciB9KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZmluaXNoUGFyYW1zID0geyBpZCwgc3RhdGU6IEZpbGVQdXNoU3RhdGUuRklOSVNIIH07XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0Q2hhbm5lbChpZCk7XHJcbiAgICAgICAgaWYgKCFjaGFubmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbm5lbC5zZW5kKENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQoZmluaXNoUGFyYW1zKS50b0J1ZmZlcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50TmV3KHsgaWQgfTogeyBpZDogbnVtYmVyIH0pOiB2b2lkIHtcclxuICAgICAgICBsZXQgcHVzaElkID0gaWQ7XHJcbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0geyBpZCwgc3RhdGU6IEZpbGVQdXNoU3RhdGUuTkVXIH07XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuc29ja2V0LmNyZWF0ZUNoYW5uZWwoQnVmZmVyLmZyb20oUHJvdG9jb2wuU0VORCkpO1xyXG4gICAgICAgIGNvbnN0IG9uTWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBidWZmZXIucmVhZEludDE2QkUob2Zmc2V0KTtcclxuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBidWZmZXIucmVhZEludDgob2Zmc2V0KTtcclxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IEZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuTkVXX1BVU0hfSUQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMuc2V0KGlkLCBjaGFubmVsKTtcclxuICAgICAgICAgICAgICAgIHB1c2hJZCA9IGlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCB7IGlkLCBjb2RlIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgb25DbG9zZSA9IChldmVudDogQ2xvc2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50Lndhc0NsZWFuKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gNDAwMCAtIGV2ZW50LmNvZGU7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmVtaXQoJ3Jlc3BvbnNlJywgeyBpZDogcHVzaElkLCBjb2RlIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcHVzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoRmlsZVB1c2hIYW5kbGVyLmdldEVycm9yTWVzc2FnZShjb2RlLCBldmVudC5yZWFzb24pKSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBvbkNsb3NlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZSk7XHJcbiAgICAgICAgY2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uQ2xvc2UpO1xyXG4gICAgICAgIGNoYW5uZWwuc2VuZChDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlUHVzaEZpbGVDb21tYW5kKG5ld1BhcmFtcykudG9CdWZmZXIoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudFN0YXJ0KHsgaWQsIGZpbGVOYW1lLCBmaWxlU2l6ZSB9OiB7IGlkOiBudW1iZXI7IGZpbGVOYW1lOiBzdHJpbmc7IGZpbGVTaXplOiBudW1iZXIgfSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHRoaXMuZmlsZUxpc3RpbmdDbGllbnQuZ2V0UGF0aCgpLCBmaWxlTmFtZSk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQYXJhbXMgPSB7IGlkLCBmaWxlTmFtZTogZmlsZVBhdGgsIGZpbGVTaXplLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZS5TVEFSVCB9O1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLmdldENoYW5uZWwoaWQpO1xyXG4gICAgICAgIGlmICghY2hhbm5lbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYW5uZWwuc2VuZChDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlUHVzaEZpbGVDb21tYW5kKHN0YXJ0UGFyYW1zKS50b0J1ZmZlcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwpID0+IHtcclxuICAgICAgICAgICAgY2hhbm5lbC5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IERyYWdBbmREcm9wSGFuZGxlciwgRHJhZ0V2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9EcmFnQW5kRHJvcEhhbmRsZXInO1xyXG5pbXBvcnQgeyBGaWxlUHVzaFN0cmVhbSwgUHVzaFJlc3BvbnNlIH0gZnJvbSAnLi9GaWxlUHVzaFN0cmVhbSc7XHJcbmltcG9ydCB7IEZpbGVQdXNoUmVzcG9uc2VTdGF0dXMgfSBmcm9tICcuL0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMnO1xyXG5cclxudHlwZSBSZXNvbHZlID0gKHJlc3BvbnNlOiBQdXNoUmVzcG9uc2UpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgdHlwZSBQdXNoVXBkYXRlUGFyYW1zID0ge1xyXG4gICAgcHVzaElkOiBudW1iZXI7XHJcbiAgICBmaWxlTmFtZTogc3RyaW5nO1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgcHJvZ3Jlc3M6IG51bWJlcjtcclxuICAgIGVycm9yOiBib29sZWFuO1xyXG4gICAgZmluaXNoZWQ6IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERyYWdBbmRQdXNoTGlzdGVuZXIge1xyXG4gICAgb25EcmFnRW50ZXI6ICgpID0+IGJvb2xlYW47XHJcbiAgICBvbkRyYWdMZWF2ZTogKCkgPT4gYm9vbGVhbjtcclxuICAgIG9uRHJvcDogKCkgPT4gYm9vbGVhbjtcclxuICAgIG9uRmlsZVB1c2hVcGRhdGU6IChkYXRhOiBQdXNoVXBkYXRlUGFyYW1zKSA9PiB2b2lkO1xyXG4gICAgb25FcnJvcjogKGVycm9yOiBFcnJvciB8IHN0cmluZykgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgVEFHID0gJ1tGaWxlUHVzaEhhbmRsZXJdJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGVQdXNoSGFuZGxlciBpbXBsZW1lbnRzIERyYWdFdmVudExpc3RlbmVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUkVRVUVTVF9ORVdfUFVTSF9JRCA9IDA7IC8vIGlnbm9yZWQgb24gc2VydmVyLCB3aGVuIHN0YXRlIGlzIGBORVdfUFVTSF9JRGBcclxuXHJcbiAgICBwcml2YXRlIHJlc3BvbnNlV2FpdGVyOiBNYXA8bnVtYmVyLCBSZXNvbHZlIHwgUmVzb2x2ZVtdPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiBTZXQ8RHJhZ0FuZFB1c2hMaXN0ZW5lcj4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcml2YXRlIHB1c2hJZEZpbGVOYW1lTWFwOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudDogSFRNTEVsZW1lbnQsIHByaXZhdGUgcmVhZG9ubHkgZmlsZVB1c2hTdHJlYW06IEZpbGVQdXNoU3RyZWFtKSB7XHJcbiAgICAgICAgRHJhZ0FuZERyb3BIYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIodGhpcyk7XHJcbiAgICAgICAgZmlsZVB1c2hTdHJlYW0ub24oJ3Jlc3BvbnNlJywgdGhpcy5vblN0cmVhbVJlc3BvbnNlKTtcclxuICAgICAgICBmaWxlUHVzaFN0cmVhbS5vbignZXJyb3InLCB0aGlzLm9uU3RyZWFtRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VuZFVwZGF0ZShwYXJhbXM6IFB1c2hVcGRhdGVQYXJhbXMpOiB2b2lkIHtcclxuICAgICAgICBpZiAocGFyYW1zLmVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaElkRmlsZU5hbWVNYXAuZGVsZXRlKHBhcmFtcy5wdXNoSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5vbkZpbGVQdXNoVXBkYXRlKHBhcmFtcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dFcnJvcihwdXNoSWQ6IG51bWJlciwgZmlsZU5hbWU6IHN0cmluZywgY29kZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gUkVTUE9OU0VfQ09ERVMuZ2V0KGNvZGUpIHx8IGBVbmtub3duIGVycm9yICgke2NvZGV9KWA7XHJcbiAgICAgICAgdGhpcy5zZW5kVXBkYXRlKHsgcHVzaElkLCBmaWxlTmFtZSwgbWVzc2FnZTogYGVycm9yOiBcIiR7bXNnfVwiYCwgcHJvZ3Jlc3M6IC0xLCBlcnJvcjogdHJ1ZSwgZmluaXNoZWQ6IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZ2V0U3RyZWFtUmVhZGVyKGZpbGU6IEZpbGUpOiBQcm9taXNlPHtcclxuICAgICAgICByZWFkZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxVaW50OEFycmF5PjtcclxuICAgICAgICByZXN1bHQ6IFJlYWRhYmxlU3RyZWFtUmVhZFJlc3VsdDxVaW50OEFycmF5PjtcclxuICAgIH0+IHtcclxuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgbmV3IFJlc3BvbnNlKGZpbGUpLmJsb2IoKTtcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBibG9iLnN0cmVhbSgpLmdldFJlYWRlcigpIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxVaW50OEFycmF5PjtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkZXIucmVhZCgpO1xyXG4gICAgICAgIHJldHVybiB7IHJlYWRlciwgcmVzdWx0IH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBwdXNoRmlsZShmaWxlOiBGaWxlKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IHsgbmFtZTogZmlsZU5hbWUsIHNpemU6IGZpbGVTaXplIH0gPSBmaWxlO1xyXG4gICAgICAgIGlmICghdGhpcy5maWxlUHVzaFN0cmVhbS5oYXNDb25uZWN0aW9uKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uRXJyb3IoJ1dlYlNvY2tldCBpcyBub3QgcmVhZHknKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSBGaWxlUHVzaEhhbmRsZXIuUkVRVUVTVF9ORVdfUFVTSF9JRDtcclxuICAgICAgICB0aGlzLnNlbmRVcGRhdGUoeyBwdXNoSWQ6IGlkLCBmaWxlTmFtZSwgbWVzc2FnZTogJ2JlZ2lucy4uLicsIHByb2dyZXNzOiAwLCBlcnJvcjogZmFsc2UsIGZpbmlzaGVkOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoU3RyZWFtLnNlbmRFdmVudE5ldyh7IGlkIH0pO1xyXG4gICAgICAgIGNvbnN0IHsgY29kZTogcHVzaElkIH0gPSBhd2FpdCB0aGlzLndhaXRGb3JSZXNwb25zZShpZCk7XHJcbiAgICAgICAgaWYgKHB1c2hJZCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvZ0Vycm9yKHB1c2hJZCwgZmlsZU5hbWUsIHB1c2hJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnB1c2hJZEZpbGVOYW1lTWFwLnNldChwdXNoSWQsIGZpbGVOYW1lKTtcclxuICAgICAgICBjb25zdCB3YWl0UHJvbWlzZSA9IHRoaXMud2FpdEZvclJlc3BvbnNlKHB1c2hJZCk7XHJcbiAgICAgICAgdGhpcy5maWxlUHVzaFN0cmVhbS5zZW5kRXZlbnRTdGFydCh7IGlkOiBwdXNoSWQsIGZpbGVOYW1lLCBmaWxlU2l6ZSB9KTtcclxuICAgICAgICBjb25zdCBbeyBjb2RlOiBzdGFydFJlc3BvbnNlQ29kZSB9LCB7IHJlYWRlciwgcmVzdWx0IH1dID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICB3YWl0UHJvbWlzZSxcclxuICAgICAgICAgICAgRmlsZVB1c2hIYW5kbGVyLmdldFN0cmVhbVJlYWRlcihmaWxlKSxcclxuICAgICAgICBdKTtcclxuICAgICAgICBpZiAoc3RhcnRSZXNwb25zZUNvZGUgIT09IEZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuTk9fRVJST1IpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dFcnJvcihwdXNoSWQsIGZpbGVOYW1lLCBzdGFydFJlc3BvbnNlQ29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlY2VpdmVkQnl0ZXMgPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBwcm9jZXNzRGF0YSA9IGFzeW5jICh7IGRvbmUsIHZhbHVlIH06IHsgZG9uZTogYm9vbGVhbjsgdmFsdWU/OiBVaW50OEFycmF5IH0pOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgICAgICAgICAgaWYgKGRvbmUgfHwgIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVQdXNoU3RyZWFtLnNlbmRFdmVudEZpbmlzaCh7IGlkOiBwdXNoSWQgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGU6IGZpbmlzaFJlc3BvbnNlQ29kZSB9ID0gYXdhaXQgdGhpcy53YWl0Rm9yUmVzcG9uc2UocHVzaElkKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaW5pc2hSZXNwb25zZUNvZGUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ0Vycm9yKHB1c2hJZCwgZmlsZU5hbWUsIGZpbmlzaFJlc3BvbnNlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzIScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsIGBGaWxlIFwiJHtmaWxlTmFtZX1cIiB1cGxvYWRlZCBpbiAke0RhdGUubm93KCkgLSBzdGFydH1tc2ApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZWNlaXZlZEJ5dGVzICs9IHZhbHVlLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5maWxlUHVzaFN0cmVhbS5zZW5kRXZlbnRBcHBlbmQoeyBpZDogcHVzaElkLCBjaHVuazogdmFsdWUgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBbeyBjb2RlOiBhcHBlbmRSZXNwb25zZUNvZGUgfSwgcmVzdWx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgICAgIHRoaXMud2FpdEZvclJlc3BvbnNlKHB1c2hJZCksXHJcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZCgpLFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgaWYgKGFwcGVuZFJlc3BvbnNlQ29kZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dFcnJvcihwdXNoSWQsIGZpbGVOYW1lLCBhcHBlbmRSZXNwb25zZUNvZGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKHJlY2VpdmVkQnl0ZXMgKiAxMDApIC8gZmlsZVNpemU7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHtwcm9ncmVzcy50b0ZpeGVkKDIpfSVgO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRVcGRhdGUoeyBwdXNoSWQsIGZpbGVOYW1lLCBtZXNzYWdlLCBwcm9ncmVzcywgZXJyb3I6IGZhbHNlLCBmaW5pc2hlZDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzRGF0YShyZXN1bHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NEYXRhKHJlc3VsdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB3YWl0Rm9yUmVzcG9uc2UocHVzaElkOiBudW1iZXIpOiBQcm9taXNlPFB1c2hSZXNwb25zZT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSB0aGlzLnJlc3BvbnNlV2FpdGVyLmdldChwdXNoSWQpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdG9yZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yZWQucHVzaChyZXNvbHZlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFycjogUmVzb2x2ZVtdID0gW3N0b3JlZF07XHJcbiAgICAgICAgICAgICAgICBhcnIucHVzaChyZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VXYWl0ZXIuc2V0KHB1c2hJZCwgYXJyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VXYWl0ZXIuc2V0KHB1c2hJZCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0cmVhbUVycm9yID0gKHsgaWQ6IHB1c2hJZCwgZXJyb3IgfTogeyBpZDogbnVtYmVyOyBlcnJvcjogRXJyb3IgfSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5wdXNoSWRGaWxlTmFtZU1hcC5nZXQocHVzaElkKSB8fCAnVW5rbm93biBmaWxlJztcclxuICAgICAgICB0aGlzLnNlbmRVcGRhdGUoeyBwdXNoSWQsIGZpbGVOYW1lLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLCBwcm9ncmVzczogLTEsIGVycm9yOiB0cnVlLCBmaW5pc2hlZDogdHJ1ZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgb25TdHJlYW1SZXNwb25zZSA9IChyZXNwb25zZTogUHVzaFJlc3BvbnNlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgbGV0IGZ1bmM6IFJlc29sdmU7XHJcbiAgICAgICAgbGV0IHZhbHVlOiBQdXNoUmVzcG9uc2U7XHJcbiAgICAgICAgY29uc3QgeyBjb2RlLCBpZDogaWRJblJlc3BvbnNlIH0gPSByZXNwb25zZTtcclxuICAgICAgICBjb25zdCBpZCA9IGNvZGUgPT09IEZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuTkVXX1BVU0hfSUQgPyBGaWxlUHVzaEhhbmRsZXIuUkVRVUVTVF9ORVdfUFVTSF9JRCA6IHJlc3BvbnNlLmlkO1xyXG4gICAgICAgIGNvbnN0IHJlc29sdmUgPSB0aGlzLnJlc3BvbnNlV2FpdGVyLmdldChpZCk7XHJcbiAgICAgICAgaWYgKCFyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGBVbmV4cGVjdGVkIHB1c2ggaWQ6IFwiJHtpZH1cIiwgJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzb2x2ZSkpIHtcclxuICAgICAgICAgICAgZnVuYyA9IHJlc29sdmUuc2hpZnQoKSBhcyBSZXNvbHZlO1xyXG4gICAgICAgICAgICBpZiAoIXJlc29sdmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlV2FpdGVyLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmdW5jID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZVdhaXRlci5kZWxldGUoaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZSA9PT0gRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5ORVdfUFVTSF9JRCkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHsgaWQsIGNvZGU6IGlkSW5SZXNwb25zZSB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0geyBpZCwgY29kZTogY29kZSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jKHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBwdWJsaWMgb25GaWxlc0Ryb3AoZmlsZXM6IEZpbGVbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLm9uRHJvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpbGVzLmZvckVhY2goKGZpbGU6IEZpbGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCBuYW1lIH0gPSBmaWxlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlUHVzaFN0cmVhbS5pc0FsbG93ZWRGaWxlKGZpbGUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hGaWxlKGZpbGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JQYXJhbXM6IFB1c2hVcGRhdGVQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHVzaElkOiBGaWxlUHVzaEhhbmRsZXIuUkVRVUVTVF9ORVdfUFVTSF9JRCxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVW5zdXBwb3J0ZWQgdHlwZSBcIiR7dHlwZX1cImAsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFVwZGF0ZShlcnJvclBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEVycm9yTWVzc2FnZShjb2RlOiBudW1iZXIsIG1lc3NhZ2U/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBtZXNzYWdlIHx8IFJFU1BPTlNFX0NPREVTLmdldChjb2RlKSB8fCAnVW5rbm93biBlcnJvcic7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRHJhZ0VudGVyKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBoYW5kbGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgaGFuZGxlZCA9IGhhbmRsZWQgfHwgbGlzdGVuZXIub25EcmFnRW50ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaGFuZGxlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EcmFnTGVhdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICBoYW5kbGVkID0gaGFuZGxlZCB8fCBsaXN0ZW5lci5vbkRyYWdMZWF2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmlsZVB1c2hTdHJlYW0ub2ZmKCdyZXNwb25zZScsIHRoaXMub25TdHJlYW1SZXNwb25zZSk7XHJcbiAgICAgICAgdGhpcy5maWxlUHVzaFN0cmVhbS5vZmYoJ2Vycm9yJywgdGhpcy5vblN0cmVhbUVycm9yKTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoU3RyZWFtLnJlbGVhc2UoKTtcclxuICAgICAgICBEcmFnQW5kRHJvcEhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzKTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyOiBEcmFnQW5kUHVzaExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyKGxpc3RlbmVyOiBEcmFnQW5kUHVzaExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgUkVTUE9OU0VfQ09ERVMgPSBuZXcgTWFwKFtcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLk5FV19QVVNIX0lELCAnTmV3IHB1c2ggaWQnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLk5PX0VSUk9SLCAnTm8gZXJyb3InXSxcclxuXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9JTlZBTElEX05BTUUsICdJbnZhbGlkIG5hbWUnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX05PX1NQQUNFLCAnTm8gc3BhY2UnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX0ZBSUxFRF9UT19ERUxFVEUsICdGYWlsZWQgdG8gZGVsZXRlIGV4aXN0aW5nJ10sXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9GQUlMRURfVE9fQ1JFQVRFLCAnRmFpbGVkIHRvIGNyZWF0ZSBuZXcgZmlsZSddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfRklMRV9OT1RfRk9VTkQsICdGaWxlIG5vdCBmb3VuZCddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfRkFJTEVEX1RPX1dSSVRFLCAnRmFpbGVkIHRvIHdyaXRlIHRvIGZpbGUnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX0ZJTEVfSVNfQlVTWSwgJ0ZpbGUgaXMgYnVzeSddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfSU5WQUxJRF9TVEFURSwgJ0ludmFsaWQgc3RhdGUnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX1VOS05PV05fSUQsICdVbmtub3duIGlkJ10sXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9OT19GUkVFX0lELCAnTm8gZnJlZSBpZCddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfSU5DT1JSRUNUX1NJWkUsICdJbmNvcnJlY3Qgc2l6ZSddLFxyXG5dKTtcclxuIiwiZXhwb3J0IGVudW0gRmlsZVB1c2hSZXNwb25zZVN0YXR1cyB7XHJcbiAgICBORVdfUFVTSF9JRCA9IDEsXHJcbiAgICBOT19FUlJPUiA9IDAsXHJcbiAgICBFUlJPUl9JTlZBTElEX05BTUUgPSAtMSxcclxuICAgIEVSUk9SX05PX1NQQUNFID0gLTIsXHJcbiAgICBFUlJPUl9GQUlMRURfVE9fREVMRVRFID0gLTMsXHJcbiAgICBFUlJPUl9GQUlMRURfVE9fQ1JFQVRFID0gLTQsXHJcbiAgICBFUlJPUl9GSUxFX05PVF9GT1VORCA9IC01LFxyXG4gICAgRVJST1JfRkFJTEVEX1RPX1dSSVRFID0gLTYsXHJcbiAgICBFUlJPUl9GSUxFX0lTX0JVU1kgPSAtNyxcclxuICAgIEVSUk9SX0lOVkFMSURfU1RBVEUgPSAtOCxcclxuICAgIEVSUk9SX1VOS05PV05fSUQgPSAtOSxcclxuICAgIEVSUk9SX05PX0ZSRUVfSUQgPSAtMTAsXHJcbiAgICBFUlJPUl9JTkNPUlJFQ1RfU0laRSA9IC0xMSxcclxuICAgIEVSUk9SX09USEVSID0gLTEyLFxyXG59XHJcbiIsImltcG9ydCB7IFR5cGVkRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9UeXBlZEVtaXR0ZXInO1xyXG5cclxuZXhwb3J0IHR5cGUgUHVzaFJlc3BvbnNlID0geyBpZDogbnVtYmVyOyBjb2RlOiBudW1iZXIgfTtcclxuXHJcbmludGVyZmFjZSBGaWxlUHVzaFN0cmVhbUV2ZW50cyB7XHJcbiAgICByZXNwb25zZTogUHVzaFJlc3BvbnNlO1xyXG4gICAgZXJyb3I6IHsgaWQ6IG51bWJlcjsgZXJyb3I6IEVycm9yIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWxlUHVzaFN0cmVhbSBleHRlbmRzIFR5cGVkRW1pdHRlcjxGaWxlUHVzaFN0cmVhbUV2ZW50cz4ge1xyXG4gICAgcHVibGljIGFic3RyYWN0IGhhc0Nvbm5lY3Rpb24oKTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBpc0FsbG93ZWRGaWxlKGZpbGU6IEZpbGUpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHNlbmRFdmVudE5ldyhwYXJhbXM6IHsgaWQ6IG51bWJlciB9KTogdm9pZDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZW5kRXZlbnRTdGFydChwYXJhbXM6IHsgaWQ6IG51bWJlcjsgZmlsZU5hbWU6IHN0cmluZzsgZmlsZVNpemU6IG51bWJlciB9KTogdm9pZDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZW5kRXZlbnRGaW5pc2gocGFyYW1zOiB7IGlkOiBudW1iZXIgfSk6IHZvaWQ7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2VuZEV2ZW50QXBwZW5kKHBhcmFtczogeyBpZDogbnVtYmVyOyBjaHVuazogVWludDhBcnJheSB9KTogdm9pZDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWxlYXNlKCk6IHZvaWQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgRmlsZVB1c2hTdHJlYW0gfSBmcm9tICcuL0ZpbGVQdXNoU3RyZWFtJztcclxuaW1wb3J0IHsgU3RyZWFtUmVjZWl2ZXJTY3JjcHkgfSBmcm9tICcuLi9jbGllbnQvU3RyZWFtUmVjZWl2ZXJTY3JjcHknO1xyXG5pbXBvcnQgRGV2aWNlTWVzc2FnZSBmcm9tICcuLi9EZXZpY2VNZXNzYWdlJztcclxuaW1wb3J0IHsgQ29tbWFuZENvbnRyb2xNZXNzYWdlLCBGaWxlUHVzaFN0YXRlIH0gZnJvbSAnLi4vLi4vY29udHJvbE1lc3NhZ2UvQ29tbWFuZENvbnRyb2xNZXNzYWdlJztcclxuXHJcbmNvbnN0IEFMTE9XRURfVFlQRVMgPSBbJ2FwcGxpY2F0aW9uL3ZuZC5hbmRyb2lkLnBhY2thZ2UtYXJjaGl2ZSddO1xyXG5jb25zdCBBTExPV0VEX05BTUVfUkUgPSAvXFwuYXBrJC9pO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjcmNweUZpbGVQdXNoU3RyZWFtIGV4dGVuZHMgRmlsZVB1c2hTdHJlYW0ge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBzdHJlYW1SZWNlaXZlcjogU3RyZWFtUmVjZWl2ZXJTY3JjcHkpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdkZXZpY2VNZXNzYWdlJywgdGhpcy5vbkRldmljZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGhhc0Nvbm5lY3Rpb24oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtUmVjZWl2ZXIuaGFzQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FsbG93ZWRGaWxlKGZpbGU6IEZpbGUpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIG5hbWUgfSA9IGZpbGU7XHJcbiAgICAgICAgcmV0dXJuICh0eXBlICYmIEFMTE9XRURfVFlQRVMuaW5jbHVkZXModHlwZSkpIHx8ICghdHlwZSAmJiBBTExPV0VEX05BTUVfUkUudGVzdChuYW1lKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudEFwcGVuZCh7IGlkLCBjaHVuayB9OiB7IGlkOiBudW1iZXI7IGNodW5rOiBVaW50OEFycmF5IH0pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBhcHBlbmRQYXJhbXMgPSB7IGlkLCBjaHVuaywgc3RhdGU6IEZpbGVQdXNoU3RhdGUuQVBQRU5EIH07XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5zZW5kRXZlbnQoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVB1c2hGaWxlQ29tbWFuZChhcHBlbmRQYXJhbXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50RmluaXNoKHsgaWQgfTogeyBpZDogbnVtYmVyIH0pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmaW5pc2hQYXJhbXMgPSB7IGlkLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZS5GSU5JU0ggfTtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLnNlbmRFdmVudChDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlUHVzaEZpbGVDb21tYW5kKGZpbmlzaFBhcmFtcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kRXZlbnROZXcoeyBpZCB9OiB7IGlkOiBudW1iZXIgfSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IHsgaWQsIHN0YXRlOiBGaWxlUHVzaFN0YXRlLk5FVyB9O1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc2VuZEV2ZW50KENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQobmV3UGFyYW1zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudFN0YXJ0KHsgaWQsIGZpbGVOYW1lLCBmaWxlU2l6ZSB9OiB7IGlkOiBudW1iZXI7IGZpbGVOYW1lOiBzdHJpbmc7IGZpbGVTaXplOiBudW1iZXIgfSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UGFyYW1zID0geyBpZCwgZmlsZU5hbWUsIGZpbGVTaXplLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZS5TVEFSVCB9O1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc2VuZEV2ZW50KENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQoc3RhcnRQYXJhbXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLm9mZignZGV2aWNlTWVzc2FnZScsIHRoaXMub25EZXZpY2VNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRldmljZU1lc3NhZ2UgPSAoZXY6IERldmljZU1lc3NhZ2UpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoZXYudHlwZSAhPT0gRGV2aWNlTWVzc2FnZS5UWVBFX1BVU0hfUkVTUE9OU0UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdGF0cyA9IGV2LmdldFB1c2hTdGF0cygpO1xyXG4gICAgICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCBzdGF0cyk7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCAnLi4vLi4vLi4vc3R5bGUvbW9yZWJveC5jc3MnO1xyXG5pbXBvcnQgeyBCYXNlUGxheWVyIH0gZnJvbSAnLi4vLi4vcGxheWVyL0Jhc2VQbGF5ZXInO1xyXG5pbXBvcnQgeyBUZXh0Q29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9UZXh0Q29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBDb21tYW5kQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9Db21tYW5kQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbnRyb2xNZXNzYWdlL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vLi4vU2l6ZSc7XHJcbmltcG9ydCBEZXZpY2VNZXNzYWdlIGZyb20gJy4uL0RldmljZU1lc3NhZ2UnO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi8uLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IHsgU3RyZWFtQ2xpZW50U2NyY3B5IH0gZnJvbSAnLi4vY2xpZW50L1N0cmVhbUNsaWVudFNjcmNweSc7XHJcblxyXG5jb25zdCBUQUcgPSAnW0dvb2dNb3JlQm94XSc7XHJcblxyXG5leHBvcnQgY2xhc3MgR29vZ01vcmVCb3gge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZGVmYXVsdFNpemUgPSBuZXcgU2l6ZSgzNjAsIDgwNik7XHJcbiAgICBwcml2YXRlIG9uU3RvcD86ICgpID0+IHZvaWQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhvbGRlcjogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGlucHV0OiBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBiaXRyYXRlSW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhGcHNJbnB1dD86IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGlGcmFtZUludGVydmFsSW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhXaWR0aElucHV0PzogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWF4SGVpZ2h0SW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVkaWQ6IHN0cmluZywgcHJpdmF0ZSBwbGF5ZXI6IEJhc2VQbGF5ZXIsIHByaXZhdGUgY2xpZW50OiBTdHJlYW1DbGllbnRTY3JjcHkpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJOYW1lID0gcGxheWVyLmdldE5hbWUoKTtcclxuICAgICAgICBjb25zdCB2aWRlb1NldHRpbmdzID0gcGxheWVyLmdldFZpZGVvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCB7IGRpc3BsYXlJZCB9ID0gdmlkZW9TZXR0aW5ncztcclxuICAgICAgICBjb25zdCBwcmVmZXJyZWRTZXR0aW5ncyA9IHBsYXllci5nZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTtcclxuICAgICAgICBjb25zdCBtb3JlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbW9yZUJveC5jbGFzc05hbWUgPSAnbW9yZS1ib3gnO1xyXG4gICAgICAgIGNvbnN0IG5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgbmFtZUJveC5pbm5lclRleHQgPSBgJHt1ZGlkfSAoJHtwbGF5ZXJOYW1lfSlgO1xyXG4gICAgICAgIG5hbWVCb3guY2xhc3NOYW1lID0gJ3RleHQtd2l0aC1zaGFkb3cnO1xyXG4gICAgICAgIG1vcmVCb3guYXBwZW5kQ2hpbGQobmFtZUJveCk7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSAodGhpcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJykpO1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ3RleHQtYXJlYScpO1xyXG4gICAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBzZW5kQnV0dG9uLmlubmVyVGV4dCA9ICdFbnZpYXIgY29tbyB0ZWNsYXMnO1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dFdyYXBwZXIgPSBHb29nTW9yZUJveC53cmFwKCdwJywgW2lucHV0LCBzZW5kQnV0dG9uXSwgbW9yZUJveCk7XHJcbiAgICAgICAgc2VuZEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZShuZXcgVGV4dENvbnRyb2xNZXNzYWdlKGlucHV0LnZhbHVlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjb21tYW5kczogSFRNTEVsZW1lbnRbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGNvZGVzID0gQ29tbWFuZENvbnRyb2xNZXNzYWdlLkNvbW1hbmRzO1xyXG4gICAgICAgIGZvciAoY29uc3QgW2FjdGlvbiwgY29tbWFuZF0gb2YgY29kZXMuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBsZXQgYml0cmF0ZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgbWF4RnBzSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBpRnJhbWVJbnRlcnZhbElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgbWF4V2lkdGhJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IG1heEhlaWdodElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSBDb250cm9sTWVzc2FnZS5UWVBFX0NIQU5HRV9TVFJFQU1fUEFSQU1FVEVSUykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BvaWxlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BvaWxlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwb2lsZXJDaGVjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYHNwb2lsZXJfdmlkZW9fJHt1ZGlkfV8ke3BsYXllck5hbWV9XyR7ZGlzcGxheUlkfV8ke2FjdGlvbn1gO1xyXG5cclxuICAgICAgICAgICAgICAgIHNwb2lsZXIuY2xhc3NOYW1lID0gJ3Nwb2lsZXInO1xyXG4gICAgICAgICAgICAgICAgc3BvaWxlckNoZWNrLnR5cGUgPSAnY2hlY2tib3gnO1xyXG4gICAgICAgICAgICAgICAgc3BvaWxlckNoZWNrLmlkID0gaWQ7XHJcbiAgICAgICAgICAgICAgICBzcG9pbGVyTGFiZWwuaHRtbEZvciA9IGlkO1xyXG4gICAgICAgICAgICAgICAgc3BvaWxlckxhYmVsLmlubmVyVGV4dCA9IGNvbW1hbmQ7XHJcbiAgICAgICAgICAgICAgICBpbm5lckRpdi5jbGFzc05hbWUgPSAnYm94JztcclxuICAgICAgICAgICAgICAgIHNwb2lsZXIuYXBwZW5kQ2hpbGQoc3BvaWxlckNoZWNrKTtcclxuICAgICAgICAgICAgICAgIHNwb2lsZXIuYXBwZW5kQ2hpbGQoc3BvaWxlckxhYmVsKTtcclxuICAgICAgICAgICAgICAgIHNwb2lsZXIuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGJpdHJhdGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICBiaXRyYXRlTGFiZWwuaW5uZXJUZXh0ID0gJ0JpdHJhdGU6JztcclxuICAgICAgICAgICAgICAgIGJpdHJhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBiaXRyYXRlSW5wdXQucGxhY2Vob2xkZXIgPSBgJHtwcmVmZXJyZWRTZXR0aW5ncy5iaXRyYXRlfSBicHNgO1xyXG4gICAgICAgICAgICAgICAgYml0cmF0ZUlucHV0LnZhbHVlID0gdmlkZW9TZXR0aW5ncy5iaXRyYXRlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBHb29nTW9yZUJveC53cmFwKCdkaXYnLCBbYml0cmF0ZUxhYmVsLCBiaXRyYXRlSW5wdXRdLCBpbm5lckRpdik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJpdHJhdGVJbnB1dCA9IGJpdHJhdGVJbnB1dDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhGcHNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICBtYXhGcHNMYWJlbC5pbm5lclRleHQgPSAnTWF4IGZwczonO1xyXG4gICAgICAgICAgICAgICAgbWF4RnBzSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgbWF4RnBzSW5wdXQucGxhY2Vob2xkZXIgPSBgJHtwcmVmZXJyZWRTZXR0aW5ncy5tYXhGcHN9IGZwc2A7XHJcbiAgICAgICAgICAgICAgICBtYXhGcHNJbnB1dC52YWx1ZSA9IHZpZGVvU2V0dGluZ3MubWF4RnBzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBHb29nTW9yZUJveC53cmFwKCdkaXYnLCBbbWF4RnBzTGFiZWwsIG1heEZwc0lucHV0XSwgaW5uZXJEaXYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhGcHNJbnB1dCA9IG1heEZwc0lucHV0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlGcmFtZUludGVydmFsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgaUZyYW1lSW50ZXJ2YWxMYWJlbC5pbm5lclRleHQgPSAnSS1GcmFtZSBJbnRlcnZhbDonO1xyXG4gICAgICAgICAgICAgICAgaUZyYW1lSW50ZXJ2YWxJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbElucHV0LnBsYWNlaG9sZGVyID0gYCR7cHJlZmVycmVkU2V0dGluZ3MuaUZyYW1lSW50ZXJ2YWx9IHNlY29uZHNgO1xyXG4gICAgICAgICAgICAgICAgaUZyYW1lSW50ZXJ2YWxJbnB1dC52YWx1ZSA9IHZpZGVvU2V0dGluZ3MuaUZyYW1lSW50ZXJ2YWwudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIEdvb2dNb3JlQm94LndyYXAoJ2RpdicsIFtpRnJhbWVJbnRlcnZhbExhYmVsLCBpRnJhbWVJbnRlcnZhbElucHV0XSwgaW5uZXJEaXYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pRnJhbWVJbnRlcnZhbElucHV0ID0gaUZyYW1lSW50ZXJ2YWxJbnB1dDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZGVvU2V0dGluZ3MuYm91bmRzIHx8IGNsaWVudC5nZXRNYXhTaXplKCkgfHwgR29vZ01vcmVCb3guZGVmYXVsdFNpemU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwV2lkdGggPSBwcmVmZXJyZWRTZXR0aW5ncy5ib3VuZHM/LndpZHRoIHx8IHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcEhlaWdodCA9IHByZWZlcnJlZFNldHRpbmdzLmJvdW5kcz8uaGVpZ2h0IHx8IGhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhXaWR0aExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIG1heFdpZHRoTGFiZWwuaW5uZXJUZXh0ID0gJ01heCB3aWR0aDonO1xyXG4gICAgICAgICAgICAgICAgbWF4V2lkdGhJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aElucHV0LnBsYWNlaG9sZGVyID0gYCR7cFdpZHRofSBweGA7XHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aElucHV0LnZhbHVlID0gd2lkdGgudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIEdvb2dNb3JlQm94LndyYXAoJ2RpdicsIFttYXhXaWR0aExhYmVsLCBtYXhXaWR0aElucHV0XSwgaW5uZXJEaXYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhXaWR0aElucHV0ID0gbWF4V2lkdGhJbnB1dDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhIZWlnaHRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHRMYWJlbC5pbm5lclRleHQgPSAnTWF4IGhlaWdodDonO1xyXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0SW5wdXQucGxhY2Vob2xkZXIgPSBgJHtwSGVpZ2h0fSBweGA7XHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHRJbnB1dC52YWx1ZSA9IGhlaWdodC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgR29vZ01vcmVCb3gud3JhcCgnZGl2JywgW21heEhlaWdodExhYmVsLCBtYXhIZWlnaHRJbnB1dF0sIGlubmVyRGl2KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4SGVpZ2h0SW5wdXQgPSBtYXhIZWlnaHRJbnB1dDtcclxuXHJcbiAgICAgICAgICAgICAgICBpbm5lckRpdi5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZml0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICBmaXRCdXR0b24uaW5uZXJUZXh0ID0gJ0ZpdCc7XHJcbiAgICAgICAgICAgICAgICBmaXRCdXR0b24ub25jbGljayA9IHRoaXMuZml0O1xyXG4gICAgICAgICAgICAgICAgaW5uZXJEaXYuaW5zZXJ0QmVmb3JlKGZpdEJ1dHRvbiwgaW5uZXJEaXYuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRCdXR0b24uaW5uZXJUZXh0ID0gJ1Jlc2V0JztcclxuICAgICAgICAgICAgICAgIHJlc2V0QnV0dG9uLm9uY2xpY2sgPSB0aGlzLnJlc2V0O1xyXG4gICAgICAgICAgICAgICAgaW5uZXJEaXYuaW5zZXJ0QmVmb3JlKHJlc2V0QnV0dG9uLCBpbm5lckRpdi5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goc3BvaWxlcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID09PSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuVFlQRV9TRVRfQ0xJUEJPQVJEIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID09PSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuVFlQRV9HRVRfQ0xJUEJPQVJEXHJcbiAgICAgICAgICAgICAgICApIHtcclxuXHRcdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKGJ0bik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnRuLmlubmVyVGV4dCA9IGNvbW1hbmQ7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IENvbnRyb2xNZXNzYWdlLlRZUEVfQ0hBTkdFX1NUUkVBTV9QQVJBTUVURVJTKSB7XHRcdFx0XHRcclxuXHJcbiAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiaXRyYXRlID0gcGFyc2VJbnQoYml0cmF0ZUlucHV0LnZhbHVlLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RnBzID0gcGFyc2VJbnQobWF4RnBzSW5wdXQudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpRnJhbWVJbnRlcnZhbCA9IHBhcnNlSW50KGlGcmFtZUludGVydmFsSW5wdXQudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYml0cmF0ZSkgfHwgaXNOYU4obWF4RnBzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcGFyc2VJbnQobWF4V2lkdGhJbnB1dC52YWx1ZSwgMTApICYgfjE1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlSW50KG1heEhlaWdodElucHV0LnZhbHVlLCAxMCkgJiB+MTU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRzID0gbmV3IFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBsYXllci5nZXRWaWRlb1NldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsb2NrZWRWaWRlb09yaWVudGF0aW9uLCBzZW5kRnJhbWVNZXRhLCBkaXNwbGF5SWQsIGNvZGVjT3B0aW9ucywgZW5jb2Rlck5hbWUgfSA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9TZXR0aW5ncyA9IG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRyYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGcHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlGcmFtZUludGVydmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kRnJhbWVNZXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNlbmROZXdWaWRlb1NldHRpbmcodmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gQ29tbWFuZENvbnRyb2xNZXNzYWdlLlRZUEVfU0VUX0NMSVBCT0FSRCkge1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0Y29uc3QgY2J1dHRvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdFx0XHRcdGNidXR0b24yLmNsYXNzTmFtZSA9IFwiY29udHJvbC1idXR0b25cIjtcclxuXHRcdFx0XHRjYnV0dG9uMi50aXRsZSA9IFwiQWJyaXIgUG9ydGFwYXBlbGVzIGVuIFJlbW90byhVUkwpXCI7XHJcblx0XHRcdFx0Y29uc3QgaW1nMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdFx0aW1nMi5zcmM9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFHMEFBQUJjQ0FZQUFBQmszanRlQUFBQUNYQklXWE1BQUE3REFBQU93d0hIYjZoa0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCM2QzY3VhVzVyYzJOaGNHVXViM0pubSs0OEdnQUFEcTlKUkVGVWVKenRYV3V3SEVkMS9rNVA5OHp1Nm1WWkJzbFlObzlFU1RBRU9TRXhJUzliVmt3RkM0cUUyQkFuSkJTcFBJakxaUmRVS2hpamdJbmppbm4rQUFxN3dzTXVVN1pKZ25ra0xvTnhIQXR3V2JaNEdRb3d5TWFXRkNOYmtoR1NrTFc3YzJiNzVNZk1TcXU5MHoyemQyZjJBZnFxYnQzZDZaN3VzL05Obno3ZGZmbzBpUWgrRnREcGRKNGRCTUVtQUw4TjRQa0F6Z0N3QW9BQmNBREFIaEg1b1ZMcUFSSDVvakhtQVFCeitlTnAza2xMa21TamlGd0pZQU1BR3VIV0h3SjRyekhtWXdDNEZ1RnF3anlUdG9LWnJ3ZndwMk9XOHcxcjdjVlJGRzJ2UXFoSllGNUpXOEhNZHdINHpZcksyMk90UFNlS29oOVVWRjZ0VU5NV1lERmc1ZytnT3NJQVlMVlM2bVlBWVlWbDFvYTVJNDJaL3dMQVg5WlE5SXVaK1VZQXkyb291MUxNcW5vTUFTenZkcnZMQVFSS3FWVUFmZ1hBeXdGY2hISUdSd2RBT3l0cnlRaDFId0J3RzRDdkVkRzNtSGxYczluY2l4a3lWcVpPV3JmYlhhZVV1Z0RBMlFCZUNHQWRnT1lpaTRzQnZNVVljeVBTaDk5SHE5dnRybFZLYlFKd0JZQm5McUxzUFFCMkU5Rk9FZGtKWUtkU2Fuc1FCUGNEK1BFaTVWMFVwa1hhTW1aK0E0QTNJaDFUVlFJaWVxdlcrbHBmbm5hN2Zib3hacXVJbkZaVnZRQytRVVNmanVQNGhsYXJ0YnZDY25NeGFkTENKRWt1RTVITlNBZStWV0tmTWVhNUFKNHV5cGoxaXpkVlhEK1FxdENQRzJNMkEzaXFodklCVEpBMFpsNFA0Sk5JKzZiS1FVU2J0ZGJYbE16ZVlPYjlXTHdhOWtKRW5sUktYYVMxdnJlTzhpZGlQY1p4L0JvQTk2RW13Z0FjMEZwL2FJVDhIUkg1U2syeWdJaldpTWdYa3lRNXA0N3lheWN0anVOWEU5RXRBRm8xVnZNUEFBNk9jb05TNmxxazFtVmRhSXJJYlVlT0hIbFcxUVhYcWg0emxmZ0FnS2prTFQwQVFZbDhCNUZhaDd0RTVQb3dERzlaakh6dGRudXQxdnJWU0szVzV3RllpM1NpdVRLMVNVU2YwbHBmVkZWNVFMMmthV2ErSDhDTGl6S0t5T2VWVXYvUzYvVk9VVXA5enBQMVk4YVlTNUdPd2VxQ1NaTGt6U0xpczBLL0NXQUxnSmNDK0syQzhrUkV6Z3JEOE50VkNWaWJlc3o2TVM5aEl2S0VVbXBUR0lZWGFLM3ZzOVorczZEWWYwTzloQUVBYTYwLzdNc2dJdTgweHJ6WkdQTlNBQzhCNEp1ekpDTDZteW9GckkyMEVvTGVGWWJoK2lBSTd1aGZhRGFidXdGWTF3M1cycDlVSlY4QnZDcGFSQjdxZnpiR2JHUG04NGpvUjU3OEYySzBaU012NmlKdEtZRGZjU1dLeU9lTk1hOEVzRzhvcVlmalp6S09nN1cyN2xZR0FHaTMyMHQ5NlZFVUhScjgzbXExZG1kcmVya2dvalZ4SEwrd0t2bHFJWTJaejBTNllwd0xFYmtjUU5lUjdCeVVpa2h2VE5GS1FXdTlxaURMZ25sSVk4d3Q4TWhPUkw4MnJseDkxRUthaUt6ekpPK1BvdWhoVC9wRTUvSHlRRVRQS01pU04zbWNBTGpUZFVQQk14a0p0WkNtbEZyalNYN1VkNitJVEowMGE2MlBOSUY3cW15YjZ5WWlxb3cwWFZWQmc3RFdyaVJ5OXJ0ZVk0S0lmdXBKSXdBcis5ODduYzRLSWxKWjJsSWlNdG5uSm9CRzlqbnM5WHI5cFptQWlKWVBGSGZTZ013bklUTVdpT2dsSGhHZlJ0cjM1c24zZmM4UWFyWkpJNktWbnVRaUM5QTU0YXUxZnB6NW1HWUtnbndqYi9EQmlRaGNMOUJnUHM5TGRoeUl5RG56WXEzZDVTbW5TT1dXUmwzV1k4T1R0ci9nM2lOVkNsSTFSTVJKV2hpR1B0VmUyVFJlWGFRNVc3Q0lPRTM2TFAxdzllSlVpaWM5YVQ0dE1yK2tLYVc4NmxFcFZiZ2VObVY4ejVPV1pIOTVhS0NpQWZZMFdwcFgvWW5JTEpObWllaXpCWGxjdmlTRWlpYWk2ekpFdE1lS2lndHUveElSWFRGNHdWcTdGRU9EOWN6eUczeHpOUkVOZTFJMVJLVG9RYldRdnJ4OXRTeEVkQUFBUktRcklrOFMwWTlFWkxlMTlvRkdvN0d6b0R5R201eEtubmN0cEJXVTZ5WE5HUE1nZ0FlckZXZWlxTjBWb0JiMWFLMzFxY2VpbG5ZQ0JSaUhORjlyOHFYTmpQL2d2R0t4cEQyRG1iK2FlVFV0QUJFdFdqMmVRREVXUTlvcHpQdy9BTTRDY0VNY3gzK1drOGRKV2hBRUowZ2JFNk9TdHBLWnZ3RGdSZG4zZ0lodWl1UDRkVVA1bk9PUkUzM2ErQmlGdEZPWStSNHNkQ0VJaU9qR09JNEhuVmVjcTg4NG9SN0hSbG1UdjkvQzFqdlNEeEhSNEpLTGp6VFhqTUc4WUFuOFc2S2NXcWJUNlp6VWFEVHlacmxIY3FNb1E5cktiQU9meTBubkFJQ1hHV08rUG5ETk9WYVoxT3J6SXRHSzQvZ1ZSUFM3U0YvUVp3RlloZFI5d3JrU1h4WkJFT3djWEtVWWdrVzY4djBkRWRuYTYvV3VhemFidVg0blJTNTBaUWc3M3hqenRjR0wyVDEvNExqbmJHUE1WMzJWVGdGQjVqYTNHY0R5d3R5VFFWZEUzaGVHNGRzeHRIN242OU5PWnViL2hadXcvUURPR3lZc2crOU5tTFVOY1lxWmJ4YVJkMk4yQ0FPQWlJaXVaT1k3a2JiMm8zQ1J0aUxydzg1eXBCOEE4SWZHbUZ3L1JmRTNYMTkvTjNFdzgrVUFYanR0T1R6WXlNemJ1dDN1MFpYdlBOS1daK3k2OWpUMyt6Q2Zpdk1STTBzdHJRWGduNll0UkFrOGo0aSt6TXkvRGl3a2JRa3ovemRTcjlrOGxDRU1tQlBTbVBsaURQaWN6REtJYUEyQWU1SWsrYjFCMGxyTWZEdUEzM2ZjVjVZd3dHODl6b3g2SktKTjA1WmhSQ3dYa1QvcVc0L05qTER6UERjY1JIbWZ4RFZ3TEs4VDBlTVZ6SXBjYTR6NXlKaGxFRE0vQmVEa25MVDdpT2kvTXRlSS9nc1lEeTdRS3FVTzRaaFZsNGpJY1Y1a0l2SjAzdThrb3BDSWxtU2ZsL2Q2dmFWS3FWT0o2RlFSK1VVQUZ6aGs2dU02RFNCaTVzL0JUeGlRYnJjZGU4dXRpS3dkdDR4QjE3ZkZvdDF1bjZhMWRqMmNiVnJyZDQxYlJ4bG92V0NvdkpxWkg0SmJiVGNVTTc4YndQbTFTamFETU1hYzZVb1RrV25PMnV3QjROdnVGU2tBYjVpUU1ETUZFWG0ySjNuYVUyMU91NEdJSWdYZ0RsZUduMlVRMFdwUDhsU24yb2pJNmZGbHJXMHFZOHpmQWFoc2wrSzhRRVI4cEUyMXBWbHJuUVlmRVRVMGdJUEdtUE96WlJlbm5rYzY5aHIwcmhVNDlwSVIwU29SeVRWYVJHUXJFWTNsSm1ldDNUSE8vUm1jZTlDVVVsTnRhVW1TL05nWTUveDAxRGRkOWhwak5oUVFSd0QrMFJqejBhSkttZmxXT09Jd2lzanJ3ekQwYlhXYUNJaG9pV2UyclV4TEM3T1FFNzhoSWk5QU9zeFpqZU9IT24wM3Y4TUFua0FhMmVkV3JmV1hmUVczV3EwRG50V0F4cUM5dWRjWWN4NHpiMEYrdkE4Q2NIMGN4NGZETVB4a3dRK2FtUUcwQzliYWxtZXpoSytsaFhFY3Y0MklMa05LU2htc0JIQTZnTE5GNUkzTWZJa3g1anBQZnQ4NHRqRThqYlVuU1pLWHdiMkhMQ0NpbTdyZDdpc0xoUFQ5NkptWXhpSWluMis5czZVeDgvdUo2TzBvVDFnZS9yNGd2UWYzYzFwQUdwck41di8xZXIwTkFIWTRiakpLcVUvMWVyMlhGMVE2NjNDR0V5d1lwNTFiUWQxRm16RUU3bWNZNWk3Tk5CcU5YZGJhOHowNzlrTnI3WDk2d2dqTnZIcUUvOEg1WHJvdmpGdXhpSlFKdTV2YnFZbUljUzZDUmxIMFNLL1gyK0FoYm9tSTNKRWt5WWFjdEhsb2FUNGZmMmRMTThaY0JXRHJHUFZhSXZyM0V2bGN1MDJOMTBja2lxS0h1OTN1aGlBSTduSEVSMnlKeU8xSmtyeENhMzFQVVlVWlpxSlBnMy9WM2lmL1lXUE11WEVjL3drUmJSU1IwN081MEdHSG5aOFEwZUZzdjkxaEVYbUtpSFpaYTc5VU1qSzVTd1kvYWNCSXhHM1NXbS9KcnMyRGV2U1JWbVR5eDJFWTNncmcxZ3JsR1lickdiclY0eUNpS0hxNDErdHRKQ0pYMU5BVzBqaFJSUlVDYzlEU3BqeGgzSWV6cFpWMlZvMmk2QWRaSDdlQU9DSzZTbXY5cnlVcW5CbVFmMmY4TEpObVIzSUxqNkpvdTdWMm80ZzgwYjlHUk8vUVdyK3paSVd6QkI5cHN5Qy9LeFpsZStRTkdHRVlmbDlFemlXaTNWa0wrK2ZoUExQa1V1Q0N0ZDRYZGhaYVdtN0lKaEU1c3FpZG9KbjE4eUs0M1E5bTRVMHRnbStUeU5UbEY1RzllUnFjaUE2UHMzM1g1eTh5OVI5ZGhINmtuenhvcmN0b2lwQ1oxMXRyVDFWS3JSM2M3MjJ0WGFhVWlqRVF0RTFFRGltbGRqSHo5eHFOeG1NbDVIczg3N3FJYks5cnovWE1rd1ovbitZakxXRG05eUJkOFQ5SnFaVDc0ZWcvZVNzSTFsb0VRU0RNZkpreHhoc29XMFR1SXFLL1hTQTAwV2ZyQ2tuaC9ORUYzc2N6QVYrZnpNeVhBSGdURmo5aFRBRCt1aWhUR0lhZkJuRERvRmdBUG1LTXVhR1dscWFVNnMwQk56NzRXdHFyS2lpL1RBUnhhNHo1cXppTzM0UFVQZi9iWVJoK0Y2Z3ZKTVhNVzQ4RjhNbi9JSUNOWTVaZituU01NQXdmQXZEUTRMVzYxT004OUdrK09OV0VNZVpxakRkaDNNbTJWQzBhZGJVMDM4cnJQT2hOWDBzN2FJdzVKOXQ4ZUFHQVgwSzZLdDN2NDVZaHRScGpwRDQwTVZMZm1oMUU5UFVrU2Y2ajBXanNHRWU0V2tnVGtZa0VpSzRSUmVxZHd6RDhESURQakZwd2prZnh5S2hMUGM1MHpNWVNtT2srdWE3QTA3NldOZy9xc2N6UktWTkRYUzJ0em9OM0pvR3hOOFhYaWJxaWhjODFhVVEwMDZmd1RxT2x6Yng2N1BWNlAzOHRUVVRtdXFYaDUxRTluaUN0WHB3Z0xRYzVZWFduZ2ppT254L0g4WjNNZkpDWkgyUG1TNEdhQnRkUkZPM3piQ0NZZVpRNGE2WjJ0TnZ0MDRJZ3VKdUlUczB1TFFmd3dTUkpIcW5MRVBrcEhHZDBLcVVxUFFDdURvaklLZE9XUVd0OXpRQmhSeUVpcjZueklOZmNxTnBFdERtTzQ2dHFyTGNLVExXbGRidmRYd0F3SEVNVEFFQkVKOWRKMnYydUJDSjZSeHpIVjZQQzAvc3F4aTlQczNLbDFHVnd6TXFJeU43YVNCTVI1MWxpUU5yaW1Qa1Q4SjlMTXkyY0ZjZnhyMDZwN2hYd0J5LzRWcDJuN3daWlBBenZFVlJFdE50YSt3a0EyNVJTVHlaSjhrU2owVGlBdEYrc3paV05tZmZDcndiYlJIUTdnTzlhYTdjcnBmYUp5Q0VBUFJGcEQ4K3ZFbEdVcytkTkR6djg0Smp4ZDF3YUVTMEZZRVJrUFlDTEhUTDFqREZyYXozbk9rbVNjMFhrYmxRM3RPZ1RlUmpwVnFEKy82ZVJybGM5QXVBcld1dDdVVUI0a2lSdktUZ1dlZVpBUkxkcHJTK3NsVFFBU0pMa1NoRzVwdFpLRm1JSGdBdUhvcjB1QUROL0VNQ2xFNUZvZkhTc3RTK0lvdWpST2cwUkFFRG00Mzk5M2ZVTTRUa2ljblZSSm1QTTVVUjAyeVFFR2hkRTlMWW9paDRGYWp6bmVnQmlqTGxFUkNZU2E2cVBraXNOVm12OU9nRDMxaTNQbVBpQTF2cjkvUytUSUEwQUpBekRLMFRrdFhBTXVxdUd0ZmJta2xrN3hwaFh3WDh1MnJRZ0l2SXVZOHliQmkvVzNxZmw0Sm5NZkNXQVB3WndSazExYkRIR2JNUUliZ09kVHVjTXJmVldFU25qa3pnSjNFZEViODJMT1RJTjBvNmkyKzJ1STZJemxWTHJST1M1UkxSYVJGWWhEYlM4Qk1mQzU0VllHSTJnaTJPK0tQc0I3Q09pdlNKeWR4YWdabVEvbFd4czl1ZURwL2NDVUVSME5QcVF0WGJad0ZrNkVZN2ZjSjhYN205QmVIZ1I2UkpSWDc2REFEb0Fkb3JJWTBUMHFMVjJTeFJGajdqay9IOUxRcjdmTkM1T29BQUFBQUJKUlU1RXJrSmdnZz09XCJcdFx0XHRcclxuXHRcdFx0XHRjYnV0dG9uMi5hcHBlbmRDaGlsZChpbWcyKTtcclxuXHRcdFx0XHRjYnV0dG9uMi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGFzeW5jICgpPT57XHJcblx0XHRcdFx0XHRcclxuICAgIFx0XHRcdFx0Y29uc3QgaGFzaCA9IGxvY2F0aW9uLmhhc2gucmVwbGFjZSgvXiMhLywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFF1ZXJ5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhoYXNoKTtcclxuICAgICAgICBcdFx0XHRjb25zdCB1dWlkID0gcGFyc2VkUXVlcnkuZ2V0KCd1ZGlkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXBzID0gcGFyc2VkUXVlcnkuZ2V0KCdpcHMnKT09dW5kZWZpbmVkPycxNzIuMjAuNTAuMTIzOjcwMDAnOnBhcnNlZFF1ZXJ5LmdldCgnaXBzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1dWlkXCIsdXVpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpcHNcIixpcHMpO1xyXG5cdFx0XHRcdFx0Y29uc3QgdGV4dCA9IGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKTtcclxuXHRcdFx0XHRcdGlucHV0LnZhbHVlID0gdGV4dDtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiY2xpcGJvYXJkXCIsdGV4dClcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIFx0aWYgKHRleHQuaW5jbHVkZXMoXCJodHRwXCIpKXtcclxuXHRcdFx0XHRcdFx0Y29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRcdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcImRhdGFcIjpcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XCJkZXZpY2VzXCI6dXVpZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcImFjdGlvblwiOlwiYWRiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJkYXRhXCI6e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJjb21tYW5kXCI6IFwiYW0gc3RhcnQgLWEgYW5kcm9pZC5pbnRlbnQuYWN0aW9uLlZJRVcgLWQgXCIrdGV4dFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRmZXRjaCgnaHR0cDovLycraXBzKycvYWRiJywgcmVxdWVzdE9wdGlvbnMpO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGNsaWVudC5zZW5kTWVzc2FnZShuZXcgVGV4dENvbnRyb2xNZXNzYWdlKGlucHV0LnZhbHVlKSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9jbGllbnQuc2VuZE1lc3NhZ2UoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldENsaXBib2FyZENvbW1hbmQodGV4dCkpO1xyXG5cdFx0XHRcdFx0Ly9jbGllbnQuc2VuZE1lc3NhZ2UoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldENsaXBib2FyZENvbW1hbmQodGV4dCkpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKT0+e1xyXG5cdFx0XHRcdFx0Y29uc3QgZGl2V3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKFwiY29udHJvbC13cmFwcGVyXCIpWzBdO1x0XHRcclxuXHRcdFx0XHRcdGRpdldyYXBwZXIuYXBwZW5kQ2hpbGQoY2J1dHRvbjIpO1xyXG5cdFx0XHRcdH0sMTAwMCk7XHJcblx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNlbmRNZXNzYWdlKENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVTZXRDbGlwYm9hcmRDb21tYW5kKHRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChhY3Rpb24gPT09IENvbW1hbmRDb250cm9sTWVzc2FnZS5UWVBFX0dFVF9DTElQQk9BUkQpe1xyXG5cdFx0XHRcdFx0Y29uc3QgY2J1dHRvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdFx0XHRcdFx0Y2J1dHRvbjMuY2xhc3NOYW1lID0gXCJjb250cm9sLWJ1dHRvblwiO1xyXG5cdFx0XHRcdFx0Y2J1dHRvbjMudGl0bGUgPSBcIkFicmlyIFBvcnRhcGFwZWxlcyBlbiBOYXZlZ2Fkb3IoVVJMKVwiO1xyXG5cdFx0XHRcdFx0Y29uc3QgaW1nMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdFx0XHRpbWczLnNyYz0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUcwQUFBQmNDQVlBQUFCazNqdGVBQUFBQ1hCSVdYTUFBQTdEQUFBT3d3SEhiNmhrQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUIzZDNjdWFXNXJjMk5oY0dVdWIzSm5tKzQ4R2dBQURzOUpSRUZVZUp6dG5YL1FYRlY1eDcvUDJYUE83a3NnQmdVazBQS2pncGFLUWEwRlVuOEE0WWUxUld3ZHNjcWdJMHFjMmg4NDJxbURsbzVVd1lBNkkrMUluZW1VY2RBaWppaUNtZ2FHVU90TUVLMTBNUEpiVXNFa0dDTk5TQ0I1ZC9jK2Q4L1RQKzdkTi92dXUrZmN1N3YzN3Q0ZCtQd0R1ZWZlYzU1M3YvZjhmczV6U1VRd28xQWN4NmNET004NWR5b1JuUURncFFCZUJJQUI3QVd3RmNBakFPNko0L2g3YzNOejI2Wm5ibkhRRElwbW1mbFNBSDhMNEhlR2VNNEIrRDRSWGEyMS9uNDVwazJHbVJLdDNXNi9RaW4xZFFDdkhqT3JtNHd4ZnduZzJRTE1tamd6STFvVVJTY1IwWDhCT0tLZ0xIOXNqRGtQTXlpY21yWUJPYkZFOU84b1RqQUFPSTJaLzZuQS9DYkdMSWkybkpsdkJQRGFFdkorWHhSRkY1ZVFiNmxVclhrMHpXYnpwY2FZWTBSa0ZZRFhBWGdIa2hGaFh2WURpQURNQVdqa3VGOEEzQUpnQTRCSG5YTzdBSFRxOWZxelNKck9hSmcvWUJKTVE3VERPcDNPYWM2NWx3TTRsb2lPRTVGakFCeUZaTWcrTERzQlhPT2MrNDk2dmI0ZHdIeFAycUZ4SEY4aUl0Y0FNQ1BhMndUd09JQUhBZnkzYzI1OXZWN2ZNbUplaFRBUjBlYm41NCt5MXI1ZlJONE80RFZGNVV0RTI1bDU5ZHpjM1BiUWZYRWNmMXhFUGxOVXVRQWVCdkFsWTh5TkFKNHJNTjljbEMzYTRjeDhOWUQzWWZRMzNZdUlYR3l0dlNuSHJjdVkrVWtBaHhWc3doNGl1a3ByL2M5SUp2UVRvVFRSNGpoK2s0aDhBNk0xZVhtWU44YThHRUE3cHoxL0x5SlhsV1RMSXlMeTU5YmFCMHJLZnhHbGpCN2pPRDVMUk81RWVZSkJSRFlocDJBQW9MVytIc25TVmhtY1JFVDNSbEgwanBMeVgwVGhvaldiemFORjVKdklOM0libFhtbDFMb2huOWtENEdObEdKT3lqSWh1anFMb1Qwc3NBMEFKeldNY3g3ZUt5SjhWbUdVVHljTHZkZ0MvQVBCQUhNZTN6czNOUFRWS1psRVVYVXhFSHdSd0RJQVZ5RGVkNkFDbzVTeWlKU0tubHRsVUZpb2FNNzhHd1A4QW9JeGJmd1RnWGdCckFKemlOWTdvNzdUVzF3R0lDek55S1ExbS9oY0FsL2h1Y001ZFVLdlZkanZucmlDaVA4cVI1MzNHbU5Vb3llNmltOGUxQ0F2MktJQlRqVEdyalRFZkZaRXJRNWxwcmIrRWNnVURnQmFBZnczZDRKeTdYMnQ5ajdYMkxVcXA4MFhrMXhsNXZpNktvZ3VMTTNFeFJZcW1rS3hlK05obWpGbGpqUGxKejdWSE0vTFU0NXVWalhOdWR5aDVibTV1Ui9jZnRWcHR2YlgyRkFCM2gvSWtva3VMc3ErZndrUmo1bFVBRHZlbGk4Z25BT3pvdldhdERZN21tczNtSWNWWUYwWkVXb0hrWjVEMGFiMzh4aGh6dm9oc0NEejNCZ0RMeGpadUFFWFd0TkFlMTlQVzJwc0hYQTlPU0xYV0x4blBwSHc0NTBKTjhDN1A5WmFJZkNUd25HWG0zeDNETEMrRmlTWWlKd2FTNzhEU3R4WElXSXdsSW0vTm5TQSswVkN2MXg5RFlPNG5JaWVVWVZCaG9pbWxRcUw5eEhOOVA1SlY5b0U0NTZZdW1vaDRSVXY1aFMrQmlJNHMyQndBQlhiMG9acEdSTDRCUndlSmNBZDdudnRnRkVYZEtZRW9wZmIwbExjSHFlQWk4bXlhRjJxMTJuNFI2ZGJnbG9nMDAzdFlSUGFsLys4YWpjYmVubks4STE0aXlsb1Fmc2FYSUNJdnpuaDJKQW9UallnTzk4MzVPcDNPVnEwSEYwVkV6NHJJUU5FQW5FbEVaM2IvNGN1Lzl6ZDN6bm52NmIyUCtVQjM2ck10Wlg4b2tZaDJCK3dxUmJRaSs3U0RmR24xZXYzcHdITlY5OUVJaWlZaTNwb0dvRjZ3TFFDS0hUM09lYTRMd2d1MU93SnBVMGRFeGhHdDhPMG9vRGpSRlB4dlZZekJJOGN1anhSa1F5a29wWUtpS2FWQ29wV3lPRkNVYUEzNGw2K0NjekVpK2pZU1I5SktrcU9telFlU1N4R3RxRXhEK1FUWERyWFdHMXV0MXN1VVVxY1IwVW9ST1pxSWppU2lPZ0NJeUFvY2VDRU9SaUp3NkljQ0VUV1JyQ2t1SUNMUDlka2k2UWkwRjFaSzdldDc3Z2Voc2hDWWF4SlJwVVVMa2JtTjBHZzBuZ1R3Wk9tV2xFT29KY203blRNVXMrRDNXSFZDb2xXNlQzdmUwak9SWDRKekxpVGF5SUsrSU5yNEROMm5SVkgwVG1hK0g4Qkl5MXd2aURZbXRWb3R0T2k5Wko0V1JkRkZSUFExQUNjejg1MFl3YTN2QmRIR1JFUnkrenRHVVhRaEVkMklBd09VVmN4OE40WVU3Z1hSeGlkVTB4Wkd6cWxnTjJOcFg3YUttVGRpQ09GRzZRd1A3Yi9RYXJVT3FkVzhvMXNhOUV3UEVUTFc5eXBPcUtZdGlFWkVQMGV5SXpCSW5GT1krVzVqek5rQS9pK3JRSzlveldienQycTEyb2VJNkhRQUo2ZUZEYXlaQWNHQTVLaFN5QWVqRndhd0Q4bkc0MU1BZmlZaW02eTEzMFBHaEhxS2hKYm9GbFo2akRHYm1ma2NBTDVhdFlxWk54cGp6a0dHY0lOYzZIUVVSWjhtb28rZ3BGWHFFZGhMUkovV1duOEJGVnZ5WXViVGtiZ0REdUt1OUxScDcvMWRweUNmSzhYbUxPSDZhODVMbVBrT0lyb2MxUkVNQUY0a0lwOW41cStpZXYydzl5VVNrU1ZweHBqTkFNNEY0R3Q5VG1IbXV3QjQ5K0lXZm9CV3EzVWNNOThENE96YzVrNmVpNWo1cjZkdFJCK2haYnFCZ2hwajdrZnlPL3RjR1Y2ZGppb0hDcWNBSUlxaVYybXROd0Y0Ulg1YnA4WS9vaVRYdEJFSmllWk5NOGI4Rk1BNUNBdDNGd1lNNGxRY3gyOGtvazBpY3ZSUXBrNlBGY3hjbXZmdUNJVDYyT0JpZVE3aFhzdk02d0VzOHY5VTZXR0o1Y05ZT1cySTZJK25iVU1QWG1HVVVwbURwaHpDcldibURlaHhmdExJUHBLMEM4QUdJdG9pSWp1Y2N6dHF0ZHErcm0rSGlPd2Z0R2hLUkphSWx2VmRPd1FIcGhrMTU5enluclJsQU95QmY5SUtFYmtBd0IvMjV5MGlaMlhZbkF0bVhndmc4bkh5SUNMcmMrd1JrYk9aK1g5elpoV2FNNytlbVc4M3hwd1BvSmtsMm01anpDdVJIRWFmT014OEpBYUlobVNlc3hKaitwZWtMOFl3b1pxV2tISHE2Q0FNRndvcXhKb29pbTZ6MXI0MTVOc0JBTGRqU29JQmdJaDRkNzNqT0Q1cGtyWlVBU0k2ajVrL3E0Z29WTk4rUERHTEJ1TmRiUkNSWXlkcFNJVjR2M0xPZVVVTGVBWlBDbTlOSTZLVmt6U2tRcXdQMXJRMGVzMDA4WW9tSXFVZHdxOHdQelBHL0lWR29FK3oxazVWTktWVUo5RFIrMXpKYytPY2U1S0lObzZUaDRnc0k2TFZnOUtJYUcvZ0FFZXZseG1RblAwT0xkRTlsSzVKN3MwYVBmYTdtQzBoalJmeWJpUUJ4MVlpK1RHbDc5bDVKQU9hWHhQUlF3RHUwMXIvQU5seHAwTHVkMk92aWxocmIwRVNGMnRrMnUzMmllbTJ5eEpFWklNeDV0MVplVER6ZXdGOE9YREw0OGFZY3dFOERXVFAwNEs3c3N6OFZ3Qys2RW51WHpjN0dUZ3dSR2JtUFVSMG5kWjZIZnppZVFjaVJPUTlPMUFoUXRzMkFJQW9pdDVPUkRmQVg4dTJ4SEY4bGpGbVlYcWo0QmROa0gxSS9VTlpSZ1ZZSVNKWE12UG5BdmVFK3JTcWlEYjBnbkdYT0k3Zm5QcUwrQ2JXV3p1ZHpybjk0VGNVRHF4Q0xNa3pWR0JLRVFGZXZLc2JvWGthcXJWbzdNTmIwK0k0UGx0RWJvTi9UTEhOT1hkVzZzaTdpTEZFRTVHQmJma3dpTWdkZ2VSUTgxS1ZtaFppb1AxeEhKOGhJcmZEODlJVDBWUE91VFgxZW4zZ0tWTUYvM0djelBhWWlMNk84WGFTNzdYV2ZpcVFIbnB4ZkVlcnFzU1MzekNPNDllTHlIZmhieWwyT3VmT0RjV1UxUENMbGxuVGpERmZhYmZiUDFKS25Ta2l2MDFFaHdFNG1JZ09UazkzOXU4RmRVUmtEeEZ0RTVHTjF0cGJFUjVCaGw2Y3F1eGdoL3EwUmZhbmdtMUEzMVpMRHp0RlpJMjFObmo4S3pSUHk2eHBBRkN2MTM4T1lPeG1jZ1Fic2tJNVRZcVFIUXYyRHlIWXcxa0ZLdmhITHJsRUs1TU1SOUJTVHFTTVFON1I0NXZnRVl5SWZ1V2NPeU9QWUVBaTJzQStTVVNtTGhwbW82YUZXTEJmYTcwdWRaanFwOXVIUFpZM1V3V1BQMkY2TUcvYWhCYU1LOStuOWIvNFd1dHJpZWlUUGVrN1JPVE12RFdzaTBJU1QzRVEzb2dFRTJRV2FscXVQcTJMMXZwVGFZM2JDZUFjYSszUU95a0tubWpYSXBMcG5sdzJvY20xYzI3VytyUUZ0TmJYR21OZU9Xd05XM2hlUkxha243RmFCQkhsK214VnE5VTYzaGp6ZTg2NVkxTWZrQzUxNTV4VlNpMjhGQ0x5bkhOdXUxSnFSK3EwR1Z3dzFscTdRRENYcXRTMEVLR1dZdVFkRkoxR0YxZ1NMVFFOSEIyRW1TK3IxV3JYT2Vjb2ZXWlJPaEV0dWFhVTZqNzdESUF2RzJNK0J2OGZGNXE0VjZWUEMxSEtZRTRaWTI0QThHOVlYTTF2c05aK0o4ZnpIOERvZmN1aEFEN0t6S0ZGNTBwOVUyVVFFdGp3VTBxVkl4cUFqakZtcllpc0VwR0xST1FrWTh5bHlMYzhWWVNENndXK2hFRys4RE5HS2ZZdlRLeXR0UThpK1o3S01PeUMvL1JITGtSa2N5aDVuTHdyUUdrMWJXUkU1QW9NOFVHREFmelFXaHY2S3NXczE3UlNSQnNyem9XMTlwWldxM1dmMXZwQ0VmbDlBTWNoOFhXd1NId2dMSksxemU0SThoa0Eyd0E4TGlMcnJiWHJrZk1rWllVSlRhNUwrWXpYMk1GSkdvM0dFd0ErVzRBdGc1Z0YwVUlEc1ZKV2xhbytiSjZGNWpIMFlvV2lrSTlNMVVXYlNGeitzc2lJVURjeWxSYU5pRW9KY2prcGFyWGE4Njk1ak9ONHBrWHJCcjB1bWtxTE5pTTFMZFNuUGY5RVEwa3hnQ2RGeHVkUVJxYnFvczM2UUtTOG1zYk1IMmJtSjVoNWJ4UkZkMFpSVklrRGUzMWJQVlVsOUFXUGNtcGFwOU01SDhCMVNGWXpsaFBSZVFEdW5wK2ZQNnFNQW9jaGRjbWJXUnFOUmltNy84bzU5NjcraTBTMDBoaHpkUmtGRG9PSVRQMWJNMWtvcGRaNmtuYWpwRUJ0S28zR1BZajN0TnZ0bDVWUjZCQlVXclFvaXE0a29pczh5YjhzcTF4RlJML3hwTldVVXBlVlZYQk9xaHBCaU5LZ2I1OE0zRlBhZVhVRjRLZUI5RXVRNyt1MGhSTkYwYXNBckpwRzJSbk1NZk5OZ1JvR0lKKzd4cWpRL1B6ODBWcnJyZkFQLzI4bW9zMEFGajVsbFJyViszR0N1TitCQjMwK2l5SXlMeUtMOXQ2SXFFRkVjd0JxUkxUY09YZTRVdXJsQUU0V2tUOUIrSkRGMDhhWUkvTCtvU09nQVJ6U2FyVldhSzFYT3VlT0JIQWFnUGZrT0tUL1dCcC9wWlQ5TkJJUnhIRjhtNGk4cll3Q3lvS0lMdGRhWDV0eG00N2orSTBBM3BCKzMrMVlKS2RWREpKanh0My9hdmg5N0lmRkVkR2E5SGh5S1pDSW9OMXVuNkNVZWhEVml2RVk0b3ZHbUw4SjNjRE1md0RnRzBpbU1oT0RpRDZ1dGI2bXpESVVBTlRyOVMxRTlBOWxGbFFVUlBRdFk4eUhzKzRUa2Fzd1ljRUFYRisyWUVCUFA2YTEvaHlBNjhzdWNFdzJhYTB2Um83TlVhWFVSTThpaU1pNnJOcGZGSXNHSDhhWXkwVGs4NmptTnYvRHhwaTNJZWR1c0hQdXF5WGIwMld2aUx6VFd2c0pUT2gzR3hSNHVuc21lQjJBZ1VGTkpnMFIvU3FPNDlXTlJtUHJFSThwWnY1UEFHZVVaTll2QWR4bWpQa01BTjljdHhRR2l0YWwzVzZmbUI3TlBaNklqa2N5K3BwREd0UlRSQTdxZnVlc2gyNlk5bjU2ditnM2o5VDFUa1Q2cHd0N2NhRDU2MzQ5OXlacjdRUEQvV2tBZ0lPWWVTMFJyUkdSSTVDc3NIVGptL1RHbCt5eUg4bjVnbTd3bW4wQWRoUFJMaEhaU1VSUE9PY2VGNUdIUW1laXkrYi9BZGZMNnpkWHI3SXVBQUFBQUVsRlRrU3VRbUNDXCJcclxuXHRcdFx0XHRcdGNidXR0b24zLmFwcGVuZENoaWxkKGltZzMpO1xyXG5cdFx0XHRcdFx0Y2J1dHRvbjMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBhc3luYyAoKT0+e1xyXG5cdFx0XHRcdFx0XHQvL2NvbnN0IHRleHQgPSBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCk7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coXCJjbGlwYm9hcmRcIix0ZXh0KVxyXG5cdFx0XHRcdFx0XHRjbGllbnQuc2VuZE1lc3NhZ2UobmV3IENvbW1hbmRDb250cm9sTWVzc2FnZShhY3Rpb24pKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpPT57XHJcblx0XHRcdFx0XHRcdGNvbnN0IGRpdldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIChcImNvbnRyb2wtd3JhcHBlclwiKVswXTtcdFx0XHJcblx0XHRcdFx0XHRcdGRpdldyYXBwZXIuYXBwZW5kQ2hpbGQoY2J1dHRvbjMpO1xyXG5cdFx0XHRcdFx0fSwxMDAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZShuZXcgQ29tbWFuZENvbnRyb2xNZXNzYWdlKGFjdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBHb29nTW9yZUJveC53cmFwKCdwJywgY29tbWFuZHMsIG1vcmVCb3gpO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JlZW5Qb3dlck1vZGVJZCA9IGBzY3JlZW5fcG93ZXJfbW9kZV8ke3VkaWR9XyR7cGxheWVyTmFtZX1fJHtkaXNwbGF5SWR9YDtcclxuICAgICAgICBjb25zdCBzY3JlZW5Qb3dlck1vZGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgc2NyZWVuUG93ZXJNb2RlTGFiZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBjb25zdCBsYWJlbFRleHRQcmVmaXggPSAnTW9kZSc7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFByZWZpeCA9ICdBaG9ycm8gZGUgZW5lcmfDrWEnO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblBvd2VyTW9kZUNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBzY3JlZW5Qb3dlck1vZGVDaGVjay50eXBlID0gJ2NoZWNrYm94JztcclxuICAgICAgICBsZXQgbW9kZSA9IChzY3JlZW5Qb3dlck1vZGVDaGVjay5jaGVja2VkID0gZmFsc2UpID8gJ09OJyA6ICdPRkYnO1xyXG4gICAgICAgIHNjcmVlblBvd2VyTW9kZUNoZWNrLmlkID0gc2NyZWVuUG93ZXJNb2RlTGFiZWwuaHRtbEZvciA9IHNjcmVlblBvd2VyTW9kZUlkO1xyXG4gICAgICAgIHNjcmVlblBvd2VyTW9kZUxhYmVsLmlubmVyVGV4dCA9IGAke2xhYmVsVGV4dFByZWZpeH0gJHttb2RlfWA7XHJcbiAgICAgICAgc2NyZWVuUG93ZXJNb2RlQ2hlY2sub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGUgPSBzY3JlZW5Qb3dlck1vZGVDaGVjay5jaGVja2VkID8gJ09OJyA6ICdPRkYnO1xyXG4gICAgICAgICAgICBzY3JlZW5Qb3dlck1vZGVMYWJlbC5pbm5lclRleHQgPSBgJHtsYWJlbFRleHRQcmVmaXh9ICR7bW9kZX1gO1xyXG4gICAgICAgICAgICBzZW5kU2NyZWVuUG93ZXJNb2RlQnV0dG9uLmlubmVyVGV4dCA9IGAke2J1dHRvblRleHRQcmVmaXh9ICR7bW9kZX1gO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgc2VuZFNjcmVlblBvd2VyTW9kZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHNlbmRTY3JlZW5Qb3dlck1vZGVCdXR0b24uaW5uZXJUZXh0ID0gYCR7YnV0dG9uVGV4dFByZWZpeH0gJHttb2RlfWA7XHJcbiAgICAgICAgc2VuZFNjcmVlblBvd2VyTW9kZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldFNjcmVlblBvd2VyTW9kZUNvbW1hbmQoc2NyZWVuUG93ZXJNb2RlQ2hlY2suY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdvb2dNb3JlQm94LndyYXAoJ3AnLCBbc2NyZWVuUG93ZXJNb2RlQ2hlY2ssIHNjcmVlblBvd2VyTW9kZUxhYmVsLCBzZW5kU2NyZWVuUG93ZXJNb2RlQnV0dG9uXSwgbW9yZUJveCwgW1xyXG4gICAgICAgICAgICAnZmxleC1jZW50ZXInLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBjb25zdCBxdWFsaXR5SWQgPSBgc2hvd192aWRlb19xdWFsaXR5XyR7dWRpZH1fJHtwbGF5ZXJOYW1lfV8ke2Rpc3BsYXlJZH1gO1xyXG4gICAgICAgIGNvbnN0IHF1YWxpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgY29uc3QgcXVhbGl0eUNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBxdWFsaXR5Q2hlY2sudHlwZSA9ICdjaGVja2JveCc7XHJcbiAgICAgICAgcXVhbGl0eUNoZWNrLmNoZWNrZWQgPSBCYXNlUGxheWVyLkRFRkFVTFRfU0hPV19RVUFMSVRZX1NUQVRTO1xyXG4gICAgICAgIHF1YWxpdHlDaGVjay5pZCA9IHF1YWxpdHlJZDtcclxuICAgICAgICBxdWFsaXR5TGFiZWwuaHRtbEZvciA9IHF1YWxpdHlJZDtcclxuICAgICAgICBxdWFsaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ1ZlciBzdGF0cyc7XHJcbiAgICAgICAgR29vZ01vcmVCb3gud3JhcCgncCcsIFtxdWFsaXR5Q2hlY2ssIHF1YWxpdHlMYWJlbF0sIG1vcmVCb3gsIFsnZmxleC1jZW50ZXInXSk7XHJcbiAgICAgICAgcXVhbGl0eUNoZWNrLm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0U2hvd1F1YWxpdHlTdGF0cyhxdWFsaXR5Q2hlY2suY2hlY2tlZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcCA9IChldj86IHN0cmluZyB8IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldiAmJiBldiBpbnN0YW5jZW9mIEV2ZW50ICYmIGV2LnR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBldik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbW9yZUJveC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobW9yZUJveCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGxheWVyLm9mZigndmlkZW8tdmlldy1yZXNpemUnLCB0aGlzLm9uVmlld1ZpZGVvUmVzaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub25TdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMub25TdG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHN0b3BCdG4uaW5uZXJUZXh0ID0gYERlc2NvbmVjdGFyYDtcclxuICAgICAgICBzdG9wQnRuLm9uY2xpY2sgPSBzdG9wO1xyXG5cclxuICAgICAgICBHb29nTW9yZUJveC53cmFwKCdwJywgW3N0b3BCdG5dLCBtb3JlQm94KTtcclxuICAgICAgICBwbGF5ZXIub24oJ3ZpZGVvLXZpZXctcmVzaXplJywgdGhpcy5vblZpZXdWaWRlb1Jlc2l6ZSk7XHJcbiAgICAgICAgcGxheWVyLm9uKCd2aWRlby1zZXR0aW5ncycsIHRoaXMub25WaWRlb1NldHRpbmdzKTtcclxuICAgICAgICB0aGlzLmhvbGRlciA9IG1vcmVCb3g7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblZpZXdWaWRlb1Jlc2l6ZSA9IChzaXplOiBTaXplKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gcGFkZGluZzogMTBweFxyXG4gICAgICAgIHRoaXMuaG9sZGVyLnN0eWxlLndpZHRoID0gYCR7c2l6ZS53aWR0aCAtIDIgKiAxMH1weGA7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb25WaWRlb1NldHRpbmdzID0gKHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAodGhpcy5iaXRyYXRlSW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5iaXRyYXRlSW5wdXQudmFsdWUgPSB2aWRlb1NldHRpbmdzLmJpdHJhdGUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWF4RnBzSW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhGcHNJbnB1dC52YWx1ZSA9IHZpZGVvU2V0dGluZ3MubWF4RnBzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlGcmFtZUludGVydmFsSW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5pRnJhbWVJbnRlcnZhbElucHV0LnZhbHVlID0gdmlkZW9TZXR0aW5ncy5pRnJhbWVJbnRlcnZhbC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkZW9TZXR0aW5ncy5ib3VuZHMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB2aWRlb1NldHRpbmdzLmJvdW5kcztcclxuICAgICAgICAgICAgaWYgKHRoaXMubWF4V2lkdGhJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhXaWR0aElucHV0LnZhbHVlID0gd2lkdGgudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXhIZWlnaHRJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHRJbnB1dC52YWx1ZSA9IGhlaWdodC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGZpdCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuY2xpZW50LmdldE1heFNpemUoKSB8fCBHb29nTW9yZUJveC5kZWZhdWx0U2l6ZTtcclxuICAgICAgICBpZiAodGhpcy5tYXhXaWR0aElucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4V2lkdGhJbnB1dC52YWx1ZSA9IHdpZHRoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1heEhlaWdodElucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4SGVpZ2h0SW5wdXQudmFsdWUgPSBoZWlnaHQudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgcmVzZXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJlZmVycmVkU2V0dGluZ3MgPSB0aGlzLnBsYXllci5nZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTtcclxuICAgICAgICB0aGlzLm9uVmlkZW9TZXR0aW5ncyhwcmVmZXJyZWRTZXR0aW5ncyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBPbkRldmljZU1lc3NhZ2UoZXY6IERldmljZU1lc3NhZ2UpOiB2b2lkIHtcclxuICAgICAgICBpZiAoZXYudHlwZSAhPT0gRGV2aWNlTWVzc2FnZS5UWVBFX0NMSVBCT0FSRCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBldi5nZXRUZXh0KCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZWxlY3QoKTtcclxuXHRcdHdpbmRvdy5vcGVuKGV2LmdldFRleHQoKSwgJ19ibGFuaycpO1xyXG5cdFx0Y29uc29sZS5sb2coXCJPbkRldmljZU1lc3NhZ2UudGV4dFwiLGV2LmdldFRleHQoKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyB3cmFwKFxyXG4gICAgICAgIHRhZ05hbWU6IHN0cmluZyxcclxuICAgICAgICBlbGVtZW50czogSFRNTEVsZW1lbnRbXSxcclxuICAgICAgICBwYXJlbnQ6IEhUTUxFbGVtZW50LFxyXG4gICAgICAgIG9wdF9jbGFzc2VzPzogc3RyaW5nW10sXHJcbiAgICApOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcbiAgICAgICAgaWYgKG9wdF9jbGFzc2VzKSB7XHJcbiAgICAgICAgICAgIHdyYXAuY2xhc3NMaXN0LmFkZCguLi5vcHRfY2xhc3Nlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcclxuICAgICAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQod3JhcCk7XHJcbiAgICAgICAgcmV0dXJuIHdyYXA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEhvbGRlckVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvbGRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0T25TdG9wKGxpc3RlbmVyOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vblN0b3AgPSBsaXN0ZW5lcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUb29sQm94IH0gZnJvbSAnLi4vLi4vdG9vbGJveC9Ub29sQm94JztcclxuaW1wb3J0IEtleUV2ZW50IGZyb20gJy4uL2FuZHJvaWQvS2V5RXZlbnQnO1xyXG5pbXBvcnQgU3ZnSW1hZ2UgZnJvbSAnLi4vLi4vdWkvU3ZnSW1hZ2UnO1xyXG5pbXBvcnQgeyBLZXlDb2RlQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9LZXlDb2RlQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBUb29sQm94QnV0dG9uIH0gZnJvbSAnLi4vLi4vdG9vbGJveC9Ub29sQm94QnV0dG9uJztcclxuaW1wb3J0IHsgVG9vbEJveEVsZW1lbnQgfSBmcm9tICcuLi8uLi90b29sYm94L1Rvb2xCb3hFbGVtZW50JztcclxuaW1wb3J0IHsgVG9vbEJveENoZWNrYm94IH0gZnJvbSAnLi4vLi4vdG9vbGJveC9Ub29sQm94Q2hlY2tib3gnO1xyXG5pbXBvcnQgeyBTdHJlYW1DbGllbnRTY3JjcHkgfSBmcm9tICcuLi9jbGllbnQvU3RyZWFtQ2xpZW50U2NyY3B5JztcclxuaW1wb3J0IHsgQmFzZVBsYXllciB9IGZyb20gJy4uLy4uL3BsYXllci9CYXNlUGxheWVyJztcclxuXHJcbmNvbnN0IEJVVFRPTlMgPSBbXHJcbiAgICAvKntcclxuICAgICAgICB0aXRsZTogJ0Jsb3F1ZWFyJyxcclxuICAgICAgICBjb2RlOiBLZXlFdmVudC5LRVlDT0RFX1BPV0VSLFxyXG4gICAgICAgIGljb246IFN2Z0ltYWdlLkljb24uUE9XRVIsXHJcbiAgICB9LCovXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdTdWJpciBWb2wuJyxcclxuICAgICAgICBjb2RlOiBLZXlFdmVudC5LRVlDT0RFX1ZPTFVNRV9VUCxcclxuICAgICAgICBpY29uOiBTdmdJbWFnZS5JY29uLlZPTFVNRV9VUCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdCYWphciBWb2wuJyxcclxuICAgICAgICBjb2RlOiBLZXlFdmVudC5LRVlDT0RFX1ZPTFVNRV9ET1dOLFxyXG4gICAgICAgIGljb246IFN2Z0ltYWdlLkljb24uVk9MVU1FX0RPV04sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAnVm9sdmVyJyxcclxuICAgICAgICBjb2RlOiBLZXlFdmVudC5LRVlDT0RFX0JBQ0ssXHJcbiAgICAgICAgaWNvbjogU3ZnSW1hZ2UuSWNvbi5CQUNLLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ0hvbWUnLFxyXG4gICAgICAgIGNvZGU6IEtleUV2ZW50LktFWUNPREVfSE9NRSxcclxuICAgICAgICBpY29uOiBTdmdJbWFnZS5JY29uLkhPTUUsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAnU3dpdGNoJyxcclxuICAgICAgICBjb2RlOiBLZXlFdmVudC5LRVlDT0RFX0FQUF9TV0lUQ0gsXHJcbiAgICAgICAgaWNvbjogU3ZnSW1hZ2UuSWNvbi5PVkVSVklFVyxcclxuICAgIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY2xhc3MgR29vZ1Rvb2xCb3ggZXh0ZW5kcyBUb29sQm94IHtcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihsaXN0OiBUb29sQm94RWxlbWVudDxhbnk+W10pIHtcclxuICAgICAgICBzdXBlcihsaXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVRvb2xCb3goXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIHBsYXllcjogQmFzZVBsYXllcixcclxuICAgICAgICBjbGllbnQ6IFN0cmVhbUNsaWVudFNjcmNweSxcclxuICAgICAgICBtb3JlQm94PzogSFRNTEVsZW1lbnQsXHJcbiAgICApOiBHb29nVG9vbEJveCB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyTmFtZSA9IHBsYXllci5nZXROYW1lKCk7XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IEJVVFRPTlMuc2xpY2UoKTtcclxuICAgICAgICBjb25zdCBoYW5kbGVyID0gPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwLCBUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxyXG4gICAgICAgICAgICB0eXBlOiBLLFxyXG4gICAgICAgICAgICBlbGVtZW50OiBUb29sQm94RWxlbWVudDxUPixcclxuICAgICAgICApID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50Lm9wdGlvbmFsPy5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBjb2RlIH0gPSBlbGVtZW50Lm9wdGlvbmFsO1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0eXBlID09PSAnbW91c2Vkb3duJyA/IEtleUV2ZW50LkFDVElPTl9ET1dOIDogS2V5RXZlbnQuQUNUSU9OX1VQO1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBLZXlDb2RlQ29udHJvbE1lc3NhZ2UoYWN0aW9uLCBjb2RlLCAwLCAwKTtcclxuICAgICAgICAgICAgY2xpZW50LnNlbmRNZXNzYWdlKGV2ZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzOiBUb29sQm94RWxlbWVudDxhbnk+W10gPSBsaXN0Lm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBuZXcgVG9vbEJveEJ1dHRvbihpdGVtLnRpdGxlLCBpdGVtLmljb24sIHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGl0ZW0uY29kZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocGxheWVyLnN1cHBvcnRzU2NyZWVuc2hvdCkge1xyXG4gICAgICAgICAgICBjb25zdCBzY3JlZW5zaG90ID0gbmV3IFRvb2xCb3hCdXR0b24oJ0NhcHR1cmFyIHBhbnRhbGxhJywgU3ZnSW1hZ2UuSWNvbi5DQU1FUkEpO1xyXG4gICAgICAgICAgICBzY3JlZW5zaG90LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmNyZWF0ZVNjcmVlbnNob3QoY2xpZW50LmdldERldmljZU5hbWUoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKHNjcmVlbnNob3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qga2V5Ym9hcmQgPSBuZXcgVG9vbEJveENoZWNrYm94KFxyXG4gICAgICAgICAgICAnQ2FwdHVyZSBrZXlib2FyZCcsXHJcbiAgICAgICAgICAgIFN2Z0ltYWdlLkljb24uS0VZQk9BUkQsXHJcbiAgICAgICAgICAgIGBjYXB0dXJlX2tleWJvYXJkXyR7dWRpZH1fJHtwbGF5ZXJOYW1lfWAsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBrZXlib2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfLCBlbCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWwuZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICBjbGllbnQuc2V0SGFuZGxlS2V5Ym9hcmRFdmVudHMoZWxlbWVudC5jaGVja2VkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbGVtZW50cy5wdXNoKGtleWJvYXJkKTtcclxuXHJcbiAgICAgICAgaWYgKG1vcmVCb3gpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzcGxheUlkID0gcGxheWVyLmdldFZpZGVvU2V0dGluZ3MoKS5kaXNwbGF5SWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gYHNob3dfbW9yZV8ke3VkaWR9XyR7cGxheWVyTmFtZX1fJHtkaXNwbGF5SWR9YDtcclxuICAgICAgICAgICAgY29uc3QgbW9yZSA9IG5ldyBUb29sQm94Q2hlY2tib3goJ09wY2lvbmVzJywgU3ZnSW1hZ2UuSWNvbi5NT1JFLCBpZCk7XHJcbiAgICAgICAgICAgIG1vcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoXywgZWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbC5nZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICBtb3JlQm94LnN0eWxlLmRpc3BsYXkgPSBlbGVtZW50LmNoZWNrZWQgPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWxlbWVudHMudW5zaGlmdChtb3JlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHb29nVG9vbEJveChlbGVtZW50cyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSW50ZXJhY3Rpb25FdmVudHMsIEtleUV2ZW50TmFtZXMsIEludGVyYWN0aW9uSGFuZGxlciB9IGZyb20gJy4vSW50ZXJhY3Rpb25IYW5kbGVyJztcclxuaW1wb3J0IHsgQmFzZVBsYXllciB9IGZyb20gJy4uL3BsYXllci9CYXNlUGxheWVyJztcclxuaW1wb3J0IHsgQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi9jb250cm9sTWVzc2FnZS9Db250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCB7IFRvdWNoQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi9jb250cm9sTWVzc2FnZS9Ub3VjaENvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IE1vdGlvbkV2ZW50IGZyb20gJy4uL01vdGlvbkV2ZW50JztcclxuaW1wb3J0IFNjcmVlbkluZm8gZnJvbSAnLi4vU2NyZWVuSW5mbyc7XHJcbmltcG9ydCB7IFNjcm9sbENvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vY29udHJvbE1lc3NhZ2UvU2Nyb2xsQ29udHJvbE1lc3NhZ2UnO1xyXG5cclxuY29uc3QgVEFHID0gJ1tGZWF0dXJlZFRvdWNoSGFuZGxlcl0nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGlvbkhhbmRsZXJMaXN0ZW5lciB7XHJcbiAgICBzZW5kTWVzc2FnZTogKG1lc3NhZ2U6IENvbnRyb2xNZXNzYWdlKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmVhdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXIgZXh0ZW5kcyBJbnRlcmFjdGlvbkhhbmRsZXIge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgdG91Y2hFdmVudHNOYW1lczogSW50ZXJhY3Rpb25FdmVudHNbXSA9IFtcclxuICAgICAgICAndG91Y2hzdGFydCcsXHJcbiAgICAgICAgJ3RvdWNoZW5kJyxcclxuICAgICAgICAndG91Y2htb3ZlJyxcclxuICAgICAgICAndG91Y2hjYW5jZWwnLFxyXG4gICAgICAgICdtb3VzZWRvd24nLFxyXG4gICAgICAgICdtb3VzZXVwJyxcclxuICAgICAgICAnbW91c2Vtb3ZlJyxcclxuICAgICAgICAnd2hlZWwnLFxyXG4gICAgXTtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGtleUV2ZW50c05hbWVzOiBLZXlFdmVudE5hbWVzW10gPSBbJ2tleWRvd24nLCAna2V5dXAnXTtcclxuICAgIHB1YmxpYyBzdGF0aWMgU0NST0xMX0VWRU5UX1RIUk9UVExJTkdfVElNRSA9IDMwOyAvLyBvbmUgZXZlbnQgcGVyIDUwbXNcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RvcmVkRnJvbU1vdXNlRXZlbnQgPSBuZXcgTWFwPG51bWJlciwgVG91Y2hDb250cm9sTWVzc2FnZT4oKTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RvcmVkRnJvbVRvdWNoRXZlbnQgPSBuZXcgTWFwPG51bWJlciwgVG91Y2hDb250cm9sTWVzc2FnZT4oKTtcclxuICAgIHByaXZhdGUgbGFzdFNjcm9sbEV2ZW50PzogeyB0aW1lOiBudW1iZXI7IGhTY3JvbGw6IG51bWJlcjsgdlNjcm9sbDogbnVtYmVyIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IocGxheWVyOiBCYXNlUGxheWVyLCBwdWJsaWMgcmVhZG9ubHkgbGlzdGVuZXI6IEludGVyYWN0aW9uSGFuZGxlckxpc3RlbmVyKSB7XHJcbiAgICAgICAgc3VwZXIocGxheWVyLCBGZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlci50b3VjaEV2ZW50c05hbWVzLCBGZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlci5rZXlFdmVudHNOYW1lcyk7XHJcbiAgICAgICAgdGhpcy50YWcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcclxuICAgICAgICB0aGlzLnRhZy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBidWlsZFNjcm9sbEV2ZW50KGV2ZW50OiBXaGVlbEV2ZW50LCBzY3JlZW5JbmZvOiBTY3JlZW5JbmZvKTogU2Nyb2xsQ29udHJvbE1lc3NhZ2VbXSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXM6IFNjcm9sbENvbnRyb2xNZXNzYWdlW10gPSBbXTtcclxuICAgICAgICBjb25zdCB0b3VjaE9uQ2xpZW50ID0gSW50ZXJhY3Rpb25IYW5kbGVyLmJ1aWxkVG91Y2hPbkNsaWVudChldmVudCwgc2NyZWVuSW5mbyk7XHJcbiAgICAgICAgaWYgKHRvdWNoT25DbGllbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgaFNjcm9sbCA9IGV2ZW50LmRlbHRhWCA+IDAgPyAtMSA6IGV2ZW50LmRlbHRhWCA8IC0wID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZTY3JvbGwgPSBldmVudC5kZWx0YVkgPiAwID8gLTEgOiBldmVudC5kZWx0YVkgPCAtMCA/IDEgOiAwO1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgIXRoaXMubGFzdFNjcm9sbEV2ZW50IHx8XHJcbiAgICAgICAgICAgICAgICB0aW1lIC0gdGhpcy5sYXN0U2Nyb2xsRXZlbnQudGltZSA+IEZlYXR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyLlNDUk9MTF9FVkVOVF9USFJPVFRMSU5HX1RJTUUgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNjcm9sbEV2ZW50LnZTY3JvbGwgIT09IHZTY3JvbGwgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNjcm9sbEV2ZW50LmhTY3JvbGwgIT09IGhTY3JvbGxcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTY3JvbGxFdmVudCA9IHsgdGltZSwgaFNjcm9sbCwgdlNjcm9sbCB9O1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChuZXcgU2Nyb2xsQ29udHJvbE1lc3NhZ2UodG91Y2hPbkNsaWVudC50b3VjaC5wb3NpdGlvbiwgaFNjcm9sbCwgdlNjcm9sbCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25JbnRlcmFjdGlvbihldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzY3JlZW5JbmZvID0gdGhpcy5wbGF5ZXIuZ2V0U2NyZWVuSW5mbygpO1xyXG4gICAgICAgIGlmICghc2NyZWVuSW5mbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtZXNzYWdlczogQ29udHJvbE1lc3NhZ2VbXTtcclxuICAgICAgICBsZXQgc3RvcmFnZTogTWFwPG51bWJlciwgVG91Y2hDb250cm9sTWVzc2FnZT47XHJcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB0aGlzLnRhZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3dbJ1doZWVsRXZlbnQnXSAmJiBldmVudCBpbnN0YW5jZW9mIFdoZWVsRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gdGhpcy5idWlsZFNjcm9sbEV2ZW50KGV2ZW50LCBzY3JlZW5JbmZvKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UgPSB0aGlzLnN0b3JlZEZyb21Nb3VzZUV2ZW50O1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSB0aGlzLmJ1aWxkVG91Y2hFdmVudChldmVudCwgc2NyZWVuSW5mbywgc3RvcmFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMub3Zlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSBldmVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93WydUb3VjaEV2ZW50J10gJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IFJlc2VhcmNoIGRyYWcgZnJvbSBvdXQgb2YgdGhlIHRhcmdldCBpbnNpZGUgaXRcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gdGhpcy50YWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdG9yYWdlID0gdGhpcy5zdG9yZWRGcm9tVG91Y2hFdmVudDtcclxuICAgICAgICAgICAgbWVzc2FnZXMgPSB0aGlzLmZvcm1hdFRvdWNoRXZlbnQoZXZlbnQsIHNjcmVlbkluZm8sIHN0b3JhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCAnVW5zdXBwb3J0ZWQgZXZlbnQnLCBldmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgbWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbktleShldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5sYXN0UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzY3JlZW5JbmZvID0gdGhpcy5wbGF5ZXIuZ2V0U2NyZWVuSW5mbygpO1xyXG4gICAgICAgIGlmICghc2NyZWVuSW5mbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgY3RybEtleSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xyXG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0LCBidXR0b24sIGJ1dHRvbnMsIGNsaWVudFksIGNsaWVudFggfSA9IHRoaXMubGFzdFBvc2l0aW9uO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBJbnRlcmFjdGlvbkhhbmRsZXIuU0lNVUxBVEVfTVVMVElfVE9VQ0g7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB7IGN0cmxLZXksIHNoaWZ0S2V5LCB0eXBlLCB0YXJnZXQsIGJ1dHRvbiwgYnV0dG9ucywgY2xpZW50WCwgY2xpZW50WSB9O1xyXG4gICAgICAgIHRoaXMuYnVpbGRUb3VjaEV2ZW50KHByb3BzLCBzY3JlZW5JbmZvLCBuZXcgTWFwKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Nb3VzZUVudGVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMub3ZlciA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBvbk1vdXNlTGVhdmUgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5vdmVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdG9yZWRGcm9tTW91c2VFdmVudC5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuc2VuZE1lc3NhZ2UoSW50ZXJhY3Rpb25IYW5kbGVyLmNyZWF0ZUVtdWxhdGVkTWVzc2FnZShNb3Rpb25FdmVudC5BQ1RJT05fVVAsIG1lc3NhZ2UpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnN0b3JlZEZyb21Nb3VzZUV2ZW50LmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5yZWxlYXNlKCk7XHJcbiAgICAgICAgdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlKTtcclxuICAgICAgICB0aGlzLnRhZy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpO1xyXG4gICAgICAgIHRoaXMuc3RvcmVkRnJvbU1vdXNlRXZlbnQuY2xlYXIoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTW90aW9uRXZlbnQgZnJvbSAnLi4vTW90aW9uRXZlbnQnO1xyXG5pbXBvcnQgU2NyZWVuSW5mbyBmcm9tICcuLi9TY3JlZW5JbmZvJztcclxuaW1wb3J0IHsgVG91Y2hDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uL2NvbnRyb2xNZXNzYWdlL1RvdWNoQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgU2l6ZSBmcm9tICcuLi9TaXplJztcclxuaW1wb3J0IFBvaW50IGZyb20gJy4uL1BvaW50JztcclxuaW1wb3J0IFBvc2l0aW9uIGZyb20gJy4uL1Bvc2l0aW9uJztcclxuaW1wb3J0IFRvdWNoUG9pbnRQTkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9tdWx0aXRvdWNoL3RvdWNoX3BvaW50LnBuZyc7XHJcbmltcG9ydCBDZW50ZXJQb2ludFBORyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL211bHRpdG91Y2gvY2VudGVyX3BvaW50LnBuZyc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5pbXBvcnQgeyBCYXNlUGxheWVyIH0gZnJvbSAnLi4vcGxheWVyL0Jhc2VQbGF5ZXInO1xyXG5cclxuaW50ZXJmYWNlIFRvdWNoIHtcclxuICAgIGFjdGlvbjogbnVtYmVyO1xyXG4gICAgcG9zaXRpb246IFBvc2l0aW9uO1xyXG4gICAgYnV0dG9uczogbnVtYmVyO1xyXG4gICAgaW52YWxpZDogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFRvdWNoT25DbGllbnQge1xyXG4gICAgY2xpZW50OiB7XHJcbiAgICAgICAgd2lkdGg6IG51bWJlcjtcclxuICAgICAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIH07XHJcbiAgICB0b3VjaDogVG91Y2g7XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb21tb25Ub3VjaEFuZE1vdXNlIHtcclxuICAgIGNsaWVudFg6IG51bWJlcjtcclxuICAgIGNsaWVudFk6IG51bWJlcjtcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsO1xyXG4gICAgYnV0dG9uczogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWluaU1vdXNlRXZlbnQgZXh0ZW5kcyBDb21tb25Ub3VjaEFuZE1vdXNlIHtcclxuICAgIGN0cmxLZXk6IGJvb2xlYW47XHJcbiAgICBzaGlmdEtleTogYm9vbGVhbjtcclxuICAgIGJ1dHRvbnM6IG51bWJlcjtcclxufVxyXG5cclxuY29uc3QgVEFHID0gJ1tUb3VjaEhhbmRsZXJdJztcclxuXHJcbmV4cG9ydCB0eXBlIFRvdWNoRXZlbnROYW1lcyA9XHJcbiAgICB8ICd0b3VjaHN0YXJ0J1xyXG4gICAgfCAndG91Y2hlbmQnXHJcbiAgICB8ICd0b3VjaG1vdmUnXHJcbiAgICB8ICd0b3VjaGNhbmNlbCdcclxuICAgIHwgJ21vdXNlZG93bidcclxuICAgIHwgJ21vdXNldXAnXHJcbiAgICB8ICdtb3VzZW1vdmUnO1xyXG5leHBvcnQgdHlwZSBXaGVlbEV2ZW50TmFtZXMgPSAnd2hlZWwnO1xyXG5leHBvcnQgdHlwZSBJbnRlcmFjdGlvbkV2ZW50cyA9IFRvdWNoRXZlbnROYW1lcyB8IFdoZWVsRXZlbnROYW1lcztcclxuZXhwb3J0IHR5cGUgS2V5RXZlbnROYW1lcyA9ICdrZXlkb3duJyB8ICdrZXl1cCc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW50ZXJhY3Rpb25IYW5kbGVyIHtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgU0lNVUxBVEVfTVVMVElfVE9VQ0ggPSAnU0lNVUxBVEVfTVVMVElfVE9VQ0gnO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBTVFJPS0VfU1RZTEU6IHN0cmluZyA9ICcjMDBCRUE0JztcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgRVZFTlRfQUNUSU9OX01BUDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcclxuICAgICAgICB0b3VjaHN0YXJ0OiBNb3Rpb25FdmVudC5BQ1RJT05fRE9XTixcclxuICAgICAgICB0b3VjaGVuZDogTW90aW9uRXZlbnQuQUNUSU9OX1VQLFxyXG4gICAgICAgIHRvdWNobW92ZTogTW90aW9uRXZlbnQuQUNUSU9OX01PVkUsXHJcbiAgICAgICAgdG91Y2hjYW5jZWw6IE1vdGlvbkV2ZW50LkFDVElPTl9VUCxcclxuICAgICAgICBtb3VzZWRvd246IE1vdGlvbkV2ZW50LkFDVElPTl9ET1dOLFxyXG4gICAgICAgIG1vdXNlbW92ZTogTW90aW9uRXZlbnQuQUNUSU9OX01PVkUsXHJcbiAgICAgICAgbW91c2V1cDogTW90aW9uRXZlbnQuQUNUSU9OX1VQLFxyXG4gICAgICAgIFtJbnRlcmFjdGlvbkhhbmRsZXIuU0lNVUxBVEVfTVVMVElfVE9VQ0hdOiAtMSxcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHN0YXRpYyBvcHRpb25zID0gVXRpbC5zdXBwb3J0c1Bhc3NpdmUoKSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWRUb1BvaW50ZXJNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBwb2ludGVyVG9JZE1hcDogTWFwPG51bWJlciwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgc3RhdGljIHRvdWNoUG9pbnRSYWRpdXMgPSAxMDtcclxuICAgIHByaXZhdGUgc3RhdGljIGNlbnRlclBvaW50UmFkaXVzID0gNTtcclxuICAgIHByaXZhdGUgc3RhdGljIHRvdWNoUG9pbnRJbWFnZT86IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBjZW50ZXJQb2ludEltYWdlPzogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHByaXZhdGUgc3RhdGljIHBvaW50SW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBldmVudExpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PEludGVyYWN0aW9uSGFuZGxlcj4+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBtdWx0aVRvdWNoQWN0aXZlID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG11bHRpVG91Y2hDZW50ZXI/OiBQb2ludDtcclxuICAgIHByaXZhdGUgbXVsdGlUb3VjaFNoaWZ0ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGRpcnR5UGxhY2U6IFBvaW50W10gPSBbXTtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGw7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgdGFnOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByb3RlY3RlZCBvdmVyID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgbGFzdFBvc2l0aW9uPzogTW91c2VFdmVudDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHBsYXllcjogQmFzZVBsYXllcixcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdG91Y2hFdmVudHNOYW1lczogSW50ZXJhY3Rpb25FdmVudHNbXSxcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkga2V5RXZlbnRzTmFtZXM6IEtleUV2ZW50TmFtZXNbXSxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMudGFnID0gcGxheWVyLmdldFRvdWNoYWJsZUVsZW1lbnQoKTtcclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMudGFnLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgSW50ZXJhY3Rpb25IYW5kbGVyLmxvYWRJbWFnZXMoKTtcclxuICAgICAgICBJbnRlcmFjdGlvbkhhbmRsZXIuYmluZEdsb2JhbExpc3RlbmVycyh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25JbnRlcmFjdGlvbihldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkO1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uS2V5KGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGJpbmRHbG9iYWxMaXN0ZW5lcnMoaW50ZXJhY3Rpb25IYW5kbGVyOiBJbnRlcmFjdGlvbkhhbmRsZXIpOiB2b2lkIHtcclxuICAgICAgICBpbnRlcmFjdGlvbkhhbmRsZXIudG91Y2hFdmVudHNOYW1lcy5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcclxuICAgICAgICAgICAgbGV0IHNldDogU2V0PEludGVyYWN0aW9uSGFuZGxlcj4gfCB1bmRlZmluZWQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLm9uSW50ZXJhY3Rpb25FdmVudCwgSW50ZXJhY3Rpb25IYW5kbGVyLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQoZXZlbnROYW1lLCBzZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldC5hZGQoaW50ZXJhY3Rpb25IYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpbnRlcmFjdGlvbkhhbmRsZXIua2V5RXZlbnRzTmFtZXMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBzZXQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLm9uS2V5RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQoZXZlbnROYW1lLCBzZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldC5hZGQoaW50ZXJhY3Rpb25IYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHVuYmluZExpc3RlbmVycyh0b3VjaEhhbmRsZXI6IEludGVyYWN0aW9uSGFuZGxlcik6IHZvaWQge1xyXG4gICAgICAgIHRvdWNoSGFuZGxlci50b3VjaEV2ZW50c05hbWVzLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZXQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0LmRlbGV0ZSh0b3VjaEhhbmRsZXIpO1xyXG4gICAgICAgICAgICBpZiAoc2V0LnNpemUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5kZWxldGUoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMub25JbnRlcmFjdGlvbkV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRvdWNoSGFuZGxlci5rZXlFdmVudHNOYW1lcy5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2V0ID0gSW50ZXJhY3Rpb25IYW5kbGVyLmV2ZW50TGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoIXNldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldC5kZWxldGUodG91Y2hIYW5kbGVyKTtcclxuICAgICAgICAgICAgaWYgKHNldC5zaXplIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzLm9uS2V5RXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBvbkludGVyYWN0aW9uRXZlbnQgPSAoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2V0ID0gSW50ZXJhY3Rpb25IYW5kbGVyLmV2ZW50TGlzdGVuZXJzLmdldChldmVudC50eXBlIGFzIFRvdWNoRXZlbnROYW1lcyk7XHJcbiAgICAgICAgaWYgKCFzZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXQuZm9yRWFjaCgoaW5zdGFuY2UpID0+IHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uub25JbnRlcmFjdGlvbihldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgb25LZXlFdmVudCA9IChldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNldCA9IEludGVyYWN0aW9uSGFuZGxlci5ldmVudExpc3RlbmVycy5nZXQoZXZlbnQudHlwZSBhcyBLZXlFdmVudE5hbWVzKTtcclxuICAgICAgICBpZiAoIXNldCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldC5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5vbktleShldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgbG9hZEltYWdlcygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wb2ludEltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gMjtcclxuICAgICAgICBsZXQgY3VycmVudCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IG9ubG9hZCA9IChldmVudDogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCsrY3VycmVudCA9PT0gdG90YWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRJbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMudG91Y2hQb2ludEltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoUG9pbnRSYWRpdXMgPSB0aGlzLnRvdWNoUG9pbnRJbWFnZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLmNlbnRlclBvaW50SW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyUG9pbnRSYWRpdXMgPSB0aGlzLmNlbnRlclBvaW50SW1hZ2Uud2lkdGggLyAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB0b3VjaCA9ICh0aGlzLnRvdWNoUG9pbnRJbWFnZSA9IG5ldyBJbWFnZSgpKTtcclxuICAgICAgICB0b3VjaC5zcmMgPSBUb3VjaFBvaW50UE5HO1xyXG4gICAgICAgIHRvdWNoLm9ubG9hZCA9IG9ubG9hZDtcclxuICAgICAgICBjb25zdCBjZW50ZXIgPSAodGhpcy5jZW50ZXJQb2ludEltYWdlID0gbmV3IEltYWdlKCkpO1xyXG4gICAgICAgIGNlbnRlci5zcmMgPSBDZW50ZXJQb2ludFBORztcclxuICAgICAgICBjZW50ZXIub25sb2FkID0gb25sb2FkO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgZ2V0UG9pbnRlcklkKHR5cGU6IHN0cmluZywgaWRlbnRpZmllcjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5pZFRvUG9pbnRlck1hcC5oYXMoaWRlbnRpZmllcikpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRlcklkID0gdGhpcy5pZFRvUG9pbnRlck1hcC5nZXQoaWRlbnRpZmllcikgYXMgbnVtYmVyO1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCB0eXBlID09PSAndG91Y2hjYW5jZWwnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkVG9Qb2ludGVyTWFwLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlclRvSWRNYXAuZGVsZXRlKHBvaW50ZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBvaW50ZXJJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBvaW50ZXJJZCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMucG9pbnRlclRvSWRNYXAuaGFzKHBvaW50ZXJJZCkpIHtcclxuICAgICAgICAgICAgcG9pbnRlcklkKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaWRUb1BvaW50ZXJNYXAuc2V0KGlkZW50aWZpZXIsIHBvaW50ZXJJZCk7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyVG9JZE1hcC5zZXQocG9pbnRlcklkLCBpZGVudGlmaWVyKTtcclxuICAgICAgICByZXR1cm4gcG9pbnRlcklkO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgYnVpbGRUb3VjaE9uQ2xpZW50KGV2ZW50OiBDb21tb25Ub3VjaEFuZE1vdXNlLCBzY3JlZW5JbmZvOiBTY3JlZW5JbmZvKTogVG91Y2hPbkNsaWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMubWFwVHlwZVRvQWN0aW9uKGV2ZW50LnR5cGUpO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc2NyZWVuSW5mby52aWRlb1NpemU7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0OiBIVE1MRWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBjb25zdCByZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRhcmdldDtcclxuICAgICAgICBsZXQgdG91Y2hYID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBsZXQgdG91Y2hZID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGxldCBpbnZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRvdWNoWCA8IDAgfHwgdG91Y2hYID4gY2xpZW50V2lkdGggfHwgdG91Y2hZIDwgMCB8fCB0b3VjaFkgPiBjbGllbnRIZWlnaHQpIHtcclxuICAgICAgICAgICAgaW52YWxpZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVwcyA9IDFlNTtcclxuICAgICAgICBjb25zdCByYXRpbyA9IHdpZHRoIC8gaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHNob3VsZEJlID0gTWF0aC5yb3VuZChlcHMgKiByYXRpbyk7XHJcbiAgICAgICAgY29uc3QgaGF2ZU5vdyA9IE1hdGgucm91bmQoKGVwcyAqIGNsaWVudFdpZHRoKSAvIGNsaWVudEhlaWdodCk7XHJcbiAgICAgICAgaWYgKHNob3VsZEJlID4gaGF2ZU5vdykge1xyXG4gICAgICAgICAgICBjb25zdCByZWFsSGVpZ2h0ID0gTWF0aC5jZWlsKGNsaWVudFdpZHRoIC8gcmF0aW8pO1xyXG4gICAgICAgICAgICBjb25zdCB0b3AgPSAoY2xpZW50SGVpZ2h0IC0gcmVhbEhlaWdodCkgLyAyO1xyXG4gICAgICAgICAgICBpZiAodG91Y2hZIDwgdG9wIHx8IHRvdWNoWSA+IHRvcCArIHJlYWxIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRvdWNoWSAtPSB0b3A7XHJcbiAgICAgICAgICAgIGNsaWVudEhlaWdodCA9IHJlYWxIZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzaG91bGRCZSA8IGhhdmVOb3cpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVhbFdpZHRoID0gTWF0aC5jZWlsKGNsaWVudEhlaWdodCAqIHJhdGlvKTtcclxuICAgICAgICAgICAgY29uc3QgbGVmdCA9IChjbGllbnRXaWR0aCAtIHJlYWxXaWR0aCkgLyAyO1xyXG4gICAgICAgICAgICBpZiAodG91Y2hYIDwgbGVmdCB8fCB0b3VjaFggPiBsZWZ0ICsgcmVhbFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0b3VjaFggLT0gbGVmdDtcclxuICAgICAgICAgICAgY2xpZW50V2lkdGggPSByZWFsV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHggPSAodG91Y2hYICogd2lkdGgpIC8gY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY29uc3QgeSA9ICh0b3VjaFkgKiBoZWlnaHQpIC8gY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSBuZXcgU2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludCh4LCB5KTtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQb3NpdGlvbihwb2ludCwgc2l6ZSk7XHJcbiAgICAgICAgaWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPiB3aWR0aCB8fCB5ID4gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjbGllbnQ6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBjbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b3VjaDoge1xyXG4gICAgICAgICAgICAgICAgaW52YWxpZCxcclxuICAgICAgICAgICAgICAgIGFjdGlvbixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uczogZXZlbnQuYnV0dG9ucyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHZhbGlkYXRlTWVzc2FnZShcclxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBNaW5pTW91c2VFdmVudCB8IFRvdWNoRXZlbnQsXHJcbiAgICAgICAgbWVzc2FnZTogVG91Y2hDb250cm9sTWVzc2FnZSxcclxuICAgICAgICBzdG9yYWdlOiBNYXA8bnVtYmVyLCBUb3VjaENvbnRyb2xNZXNzYWdlPixcclxuICAgICAgICBsb2dQcmVmaXg6IHN0cmluZyxcclxuICAgICk6IFRvdWNoQ29udHJvbE1lc3NhZ2VbXSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXM6IFRvdWNoQ29udHJvbE1lc3NhZ2VbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCBwb2ludGVySWQgfSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgY29uc3QgcHJldmlvdXMgPSBzdG9yYWdlLmdldChwb2ludGVySWQpO1xyXG4gICAgICAgIGlmIChhY3Rpb24gPT09IE1vdGlvbkV2ZW50LkFDVElPTl9VUCkge1xyXG4gICAgICAgICAgICBpZiAoIXByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obG9nUHJlZml4LCAnUmVjZWl2ZWQgQUNUSU9OX1VQIHdoaWxlIHRoZXJlIGFyZSBubyBET1dOIHN0b3JlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RvcmFnZS5kZWxldGUocG9pbnRlcklkKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gTW90aW9uRXZlbnQuQUNUSU9OX0RPV04pIHtcclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obG9nUHJlZml4LCAnUmVjZWl2ZWQgQUNUSU9OX0RPV04gd2hpbGUgYWxyZWFkeSBoYXMgb25lIHN0b3JlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RvcmFnZS5zZXQocG9pbnRlcklkLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gTW90aW9uRXZlbnQuQUNUSU9OX01PVkUpIHtcclxuICAgICAgICAgICAgaWYgKCFwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIChvcmlnaW5hbEV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiBvcmlnaW5hbEV2ZW50LmJ1dHRvbnMpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHdpbmRvd1snVG91Y2hFdmVudCddICYmIG9yaWdpbmFsRXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGxvZ1ByZWZpeCwgJ1JlY2VpdmVkIEFDVElPTl9NT1ZFIHdoaWxlIHRoZXJlIGFyZSBubyBET1dOIHN0b3JlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtdWxhdGVkID0gSW50ZXJhY3Rpb25IYW5kbGVyLmNyZWF0ZUVtdWxhdGVkTWVzc2FnZShNb3Rpb25FdmVudC5BQ1RJT05fRE9XTiwgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChlbXVsYXRlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5zZXQocG9pbnRlcklkLCBlbXVsYXRlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgc3RvcmFnZS5zZXQocG9pbnRlcklkLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBjcmVhdGVFbXVsYXRlZE1lc3NhZ2UoYWN0aW9uOiBudW1iZXIsIGV2ZW50OiBUb3VjaENvbnRyb2xNZXNzYWdlKTogVG91Y2hDb250cm9sTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgeyBwb2ludGVySWQsIHBvc2l0aW9uLCBidXR0b25zIH0gPSBldmVudDtcclxuICAgICAgICBsZXQgcHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcclxuICAgICAgICBpZiAoYWN0aW9uID09PSBNb3Rpb25FdmVudC5BQ1RJT05fVVApIHtcclxuICAgICAgICAgICAgcHJlc3N1cmUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFRvdWNoQ29udHJvbE1lc3NhZ2UoYWN0aW9uLCBwb2ludGVySWQsIHBvc2l0aW9uLCBwcmVzc3VyZSwgYnV0dG9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBtYXBUeXBlVG9BY3Rpb24odHlwZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FVkVOVF9BQ1RJT05fTUFQW3R5cGVdO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRUb3VjaChcclxuICAgICAgICBlOiBDb21tb25Ub3VjaEFuZE1vdXNlLFxyXG4gICAgICAgIHNjcmVlbkluZm86IFNjcmVlbkluZm8sXHJcbiAgICAgICAgY3RybEtleTogYm9vbGVhbixcclxuICAgICAgICBzaGlmdEtleTogYm9vbGVhbixcclxuICAgICk6IFRvdWNoW10gfCBudWxsIHtcclxuICAgICAgICBjb25zdCB0b3VjaE9uQ2xpZW50ID0gSW50ZXJhY3Rpb25IYW5kbGVyLmJ1aWxkVG91Y2hPbkNsaWVudChlLCBzY3JlZW5JbmZvKTtcclxuICAgICAgICBpZiAoIXRvdWNoT25DbGllbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCB0b3VjaCB9ID0gdG91Y2hPbkNsaWVudDtcclxuICAgICAgICBjb25zdCByZXN1bHQ6IFRvdWNoW10gPSBbdG91Y2hdO1xyXG4gICAgICAgIGlmICghY3RybEtleSkge1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpVG91Y2hBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aVRvdWNoQ2VudGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpVG91Y2hTaGlmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2FudmFzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24sIGFjdGlvbiwgYnV0dG9ucyB9ID0gdG91Y2g7XHJcbiAgICAgICAgY29uc3QgeyBwb2ludCwgc2NyZWVuU2l6ZSB9ID0gcG9zaXRpb247XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzY3JlZW5TaXplO1xyXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnQ7XHJcbiAgICAgICAgaWYgKCF0aGlzLm11bHRpVG91Y2hBY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpVG91Y2hDZW50ZXIgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlUb3VjaFNoaWZ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlUb3VjaENlbnRlciA9IG5ldyBQb2ludChjbGllbnQud2lkdGggLyAyLCBjbGllbnQuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tdWx0aVRvdWNoQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBsZXQgb3Bwb3NpdGU6IFBvaW50IHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBpbnZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlUb3VjaFNoaWZ0ICYmIHRoaXMubXVsdGlUb3VjaENlbnRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBvcHBvWCA9IDIgKiB0aGlzLm11bHRpVG91Y2hDZW50ZXIueCAtIHg7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wcG9ZID0gMiAqIHRoaXMubXVsdGlUb3VjaENlbnRlci55IC0geTtcclxuICAgICAgICAgICAgb3Bwb3NpdGUgPSBuZXcgUG9pbnQob3Bwb1gsIG9wcG9ZKTtcclxuICAgICAgICAgICAgaWYgKCEob3Bwb1ggPD0gd2lkdGggJiYgb3Bwb1ggPj0gMCAmJiBvcHBvWSA8PSBoZWlnaHQgJiYgb3Bwb1kgPj0gMCkpIHtcclxuICAgICAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb3Bwb3NpdGUgPSBuZXcgUG9pbnQoY2xpZW50LndpZHRoIC0geCwgY2xpZW50LmhlaWdodCAtIHkpO1xyXG4gICAgICAgICAgICBpbnZhbGlkID0gdG91Y2guaW52YWxpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wcG9zaXRlKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGludmFsaWQsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb3NpdGlvbihvcHBvc2l0ZSwgc2NyZWVuU2l6ZSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkcmF3Q2lyY2xlKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb2ludDogUG9pbnQsIHJhZGl1czogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMocG9pbnQueCwgcG9pbnQueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3TGluZShwb2ludDE6IFBvaW50LCBwb2ludDI6IFBvaW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN0eCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IEludGVyYWN0aW9uSGFuZGxlci5TVFJPS0VfU1RZTEU7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHBvaW50MS54LCBwb2ludDEueSk7XHJcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHBvaW50Mi54LCBwb2ludDIueSk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkcmF3UG9pbnQocG9pbnQ6IFBvaW50LCByYWRpdXM6IG51bWJlciwgaW1hZ2U/OiBIVE1MSW1hZ2VFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN0eCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB7IGxpbmVXaWR0aCB9ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgaWYgKEludGVyYWN0aW9uSGFuZGxlci5wb2ludEltYWdlc0xvYWRlZCAmJiBpbWFnZSkge1xyXG4gICAgICAgICAgICByYWRpdXMgPSBpbWFnZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGxpbmVXaWR0aCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWFnZSwgcG9pbnQueCAtIHJhZGl1cywgcG9pbnQueSAtIHJhZGl1cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKHRoaXMuY3R4LCBwb2ludCwgcmFkaXVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRvcExlZnQgPSBuZXcgUG9pbnQocG9pbnQueCAtIHJhZGl1cyAtIGxpbmVXaWR0aCwgcG9pbnQueSAtIHJhZGl1cyAtIGxpbmVXaWR0aCk7XHJcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBuZXcgUG9pbnQocG9pbnQueCArIHJhZGl1cyArIGxpbmVXaWR0aCwgcG9pbnQueSArIHJhZGl1cyArIGxpbmVXaWR0aCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEaXJ0eSh0b3BMZWZ0LCBib3R0b21SaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdQb2ludGVyKHBvaW50OiBQb2ludCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZHJhd1BvaW50KHBvaW50LCBJbnRlcmFjdGlvbkhhbmRsZXIudG91Y2hQb2ludFJhZGl1cywgSW50ZXJhY3Rpb25IYW5kbGVyLnRvdWNoUG9pbnRJbWFnZSk7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlUb3VjaENlbnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdMaW5lKHRoaXMubXVsdGlUb3VjaENlbnRlciwgcG9pbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd0NlbnRlcihwb2ludDogUG9pbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRyYXdQb2ludChwb2ludCwgSW50ZXJhY3Rpb25IYW5kbGVyLmNlbnRlclBvaW50UmFkaXVzLCBJbnRlcmFjdGlvbkhhbmRsZXIuY2VudGVyUG9pbnRJbWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwZGF0ZURpcnR5KHRvcExlZnQ6IFBvaW50LCBib3R0b21SaWdodDogUG9pbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGlydHlQbGFjZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eVBsYWNlLnB1c2godG9wTGVmdCwgYm90dG9tUmlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUb3BMZWZ0ID0gdGhpcy5kaXJ0eVBsYWNlWzBdO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRCb3R0b21SaWdodCA9IHRoaXMuZGlydHlQbGFjZVsxXTtcclxuICAgICAgICBjb25zdCBuZXdUb3BMZWZ0ID0gbmV3IFBvaW50KE1hdGgubWluKGN1cnJlbnRUb3BMZWZ0LngsIHRvcExlZnQueCksIE1hdGgubWluKGN1cnJlbnRUb3BMZWZ0LnksIHRvcExlZnQueSkpO1xyXG4gICAgICAgIGNvbnN0IG5ld0JvdHRvbVJpZ2h0ID0gbmV3IFBvaW50KFxyXG4gICAgICAgICAgICBNYXRoLm1heChjdXJyZW50Qm90dG9tUmlnaHQueCwgYm90dG9tUmlnaHQueCksXHJcbiAgICAgICAgICAgIE1hdGgubWF4KGN1cnJlbnRCb3R0b21SaWdodC55LCBib3R0b21SaWdodC55KSxcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZGlydHlQbGFjZS5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuZGlydHlQbGFjZS5wdXNoKG5ld1RvcExlZnQsIG5ld0JvdHRvbVJpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXJDYW52YXMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyBjbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0IH0gPSB0aGlzLnRhZztcclxuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcclxuICAgICAgICBpZiAoY3R4ICYmIHRoaXMuZGlydHlQbGFjZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9wTGVmdCA9IHRoaXMuZGlydHlQbGFjZVswXTtcclxuICAgICAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSB0aGlzLmRpcnR5UGxhY2VbMV07XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHlQbGFjZS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5tYXgodG9wTGVmdC54LCAwKTtcclxuICAgICAgICAgICAgY29uc3QgeSA9IE1hdGgubWF4KHRvcExlZnQueSwgMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLm1pbihjbGllbnRXaWR0aCwgYm90dG9tUmlnaHQueCAtIHgpO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gTWF0aC5taW4oY2xpZW50SGVpZ2h0LCBib3R0b21SaWdodC55IC0geSk7XHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IEludGVyYWN0aW9uSGFuZGxlci5TVFJPS0VfU1RZTEU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmb3JtYXRUb3VjaEV2ZW50KFxyXG4gICAgICAgIGU6IFRvdWNoRXZlbnQsXHJcbiAgICAgICAgc2NyZWVuSW5mbzogU2NyZWVuSW5mbyxcclxuICAgICAgICBzdG9yYWdlOiBNYXA8bnVtYmVyLCBUb3VjaENvbnRyb2xNZXNzYWdlPixcclxuICAgICk6IFRvdWNoQ29udHJvbE1lc3NhZ2VbXSB7XHJcbiAgICAgICAgY29uc3QgbG9nUHJlZml4ID0gYCR7VEFHfVtmb3JtYXRUb3VjaEV2ZW50XWA7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXM6IFRvdWNoQ29udHJvbE1lc3NhZ2VbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHRvdWNoZXMgPSBlLmNoYW5nZWRUb3VjaGVzO1xyXG4gICAgICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG91Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoID0gdG91Y2hlc1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IEludGVyYWN0aW9uSGFuZGxlci5nZXRQb2ludGVySWQoZS50eXBlLCB0b3VjaC5pZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b3VjaC50YXJnZXQgIT09IHRoaXMudGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHN0b3JhZ2UuZ2V0KHBvaW50ZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtOiBDb21tb25Ub3VjaEFuZE1vdXNlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50WTogdG91Y2guY2xpZW50WSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBlLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogTW90aW9uRXZlbnQuQlVUVE9OX1BSSU1BUlksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBlLnRhcmdldCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IEludGVyYWN0aW9uSGFuZGxlci5idWlsZFRvdWNoT25DbGllbnQoaXRlbSwgc2NyZWVuSW5mbyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFjdGlvbiwgYnV0dG9ucywgcG9zaXRpb24sIGludmFsaWQgfSA9IGV2ZW50LnRvdWNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmVzc3VyZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gTW90aW9uRXZlbnQuQUNUSU9OX1VQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXNzdXJlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0b3VjaC5mb3JjZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc3N1cmUgPSB0b3VjaC5mb3JjZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgVG91Y2hDb250cm9sTWVzc2FnZShhY3Rpb24sIHBvaW50ZXJJZCwgcG9zaXRpb24sIHByZXNzdXJlLCBidXR0b25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLkludGVyYWN0aW9uSGFuZGxlci52YWxpZGF0ZU1lc3NhZ2UoZSwgbWVzc2FnZSwgc3RvcmFnZSwgYCR7bG9nUHJlZml4fVt2YWxpZGF0ZV1gKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goSW50ZXJhY3Rpb25IYW5kbGVyLmNyZWF0ZUVtdWxhdGVkTWVzc2FnZShNb3Rpb25FdmVudC5BQ1RJT05fVVAsIHByZXZpb3VzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLmRlbGV0ZShwb2ludGVySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGxvZ1ByZWZpeCwgYEZhaWxlZCB0byBmb3JtYXQgdG91Y2hgLCB0b3VjaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGxvZ1ByZWZpeCwgJ05vIFwidG91Y2hlc1wiJywgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYnVpbGRUb3VjaEV2ZW50KFxyXG4gICAgICAgIGU6IE1pbmlNb3VzZUV2ZW50LFxyXG4gICAgICAgIHNjcmVlbkluZm86IFNjcmVlbkluZm8sXHJcbiAgICAgICAgc3RvcmFnZTogTWFwPG51bWJlciwgVG91Y2hDb250cm9sTWVzc2FnZT4sXHJcbiAgICApOiBUb3VjaENvbnRyb2xNZXNzYWdlW10ge1xyXG4gICAgICAgIGNvbnN0IGxvZ1ByZWZpeCA9IGAke1RBR31bYnVpbGRUb3VjaEV2ZW50XWA7XHJcbiAgICAgICAgY29uc3QgdG91Y2hlcyA9IHRoaXMuZ2V0VG91Y2goZSwgc2NyZWVuSW5mbywgZS5jdHJsS2V5LCBlLnNoaWZ0S2V5KTtcclxuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtZXNzYWdlczogVG91Y2hDb250cm9sTWVzc2FnZVtdID0gW107XHJcbiAgICAgICAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gW107XHJcbiAgICAgICAgdGhpcy5jbGVhckNhbnZhcygpO1xyXG4gICAgICAgIHRvdWNoZXMuZm9yRWFjaCgodG91Y2g6IFRvdWNoLCBwb2ludGVySWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IGFjdGlvbiwgYnV0dG9ucywgcG9zaXRpb24gfSA9IHRvdWNoO1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHN0b3JhZ2UuZ2V0KHBvaW50ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghdG91Y2guaW52YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXNzdXJlID0gMS4wO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gTW90aW9uRXZlbnQuQUNUSU9OX1VQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlc3N1cmUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBUb3VjaENvbnRyb2xNZXNzYWdlKGFjdGlvbiwgcG9pbnRlcklkLCBwb3NpdGlvbiwgcHJlc3N1cmUsIGJ1dHRvbnMpO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaCguLi5JbnRlcmFjdGlvbkhhbmRsZXIudmFsaWRhdGVNZXNzYWdlKGUsIG1lc3NhZ2UsIHN0b3JhZ2UsIGAke2xvZ1ByZWZpeH1bdmFsaWRhdGVdYCkpO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2godG91Y2gucG9zaXRpb24ucG9pbnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gocHJldmlvdXMucG9zaXRpb24ucG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlUb3VjaEFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aVRvdWNoQ2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDZW50ZXIodGhpcy5tdWx0aVRvdWNoQ2VudGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwb2ludHMuZm9yRWFjaCgocG9pbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1BvaW50ZXIocG9pbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGFzQWN0aW9uVXAgPSBtZXNzYWdlcy5maW5kKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmFjdGlvbiA9PT0gTW90aW9uRXZlbnQuQUNUSU9OX1VQO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChoYXNBY3Rpb25VcCAmJiBzdG9yYWdlLnNpemUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGxvZ1ByZWZpeCwgJ0xvb2tzIGxpa2Ugb25lIG9mIE11bHRpLXRvdWNoIHBvaW50ZXJzIHdhcyBub3QgcmFpc2VkIHVwJyk7XHJcbiAgICAgICAgICAgIHN0b3JhZ2UuZm9yRWFjaCgobWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChJbnRlcmFjdGlvbkhhbmRsZXIuY3JlYXRlRW11bGF0ZWRNZXNzYWdlKE1vdGlvbkV2ZW50LkFDVElPTl9VUCwgbWVzc2FnZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RvcmFnZS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgICAgSW50ZXJhY3Rpb25IYW5kbGVyLnVuYmluZExpc3RlbmVycyh0aGlzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlUGxheWVyLCBQbGF5YmFja1F1YWxpdHkgfSBmcm9tICcuL0Jhc2VQbGF5ZXInO1xyXG5pbXBvcnQgU2NyZWVuSW5mbyBmcm9tICcuLi9TY3JlZW5JbmZvJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IERpc3BsYXlJbmZvIH0gZnJvbSAnLi4vRGlzcGxheUluZm8nO1xyXG5cclxudHlwZSBEZWNvZGVkRnJhbWUgPSB7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBmcmFtZTogYW55O1xyXG59O1xyXG5cclxuaW50ZXJmYWNlIENhbnZhc0RlY29kZXIge1xyXG4gICAgZGVjb2RlKGJ1ZmZlcjogVWludDhBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUNhbnZhc0Jhc2VkUGxheWVyIGV4dGVuZHMgQmFzZVBsYXllciB7XHJcbiAgICBwcm90ZWN0ZWQgZnJhbWVzTGlzdDogVWludDhBcnJheVtdID0gW107XHJcbiAgICBwcm90ZWN0ZWQgZGVjb2RlZEZyYW1lczogRGVjb2RlZEZyYW1lW10gPSBbXTtcclxuICAgIHByb3RlY3RlZCB2aWRlb1N0YXRzOiBQbGF5YmFja1F1YWxpdHlbXSA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIGFuaW1hdGlvbkZyYW1lSWQ/OiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgY2FudmFzPzogQ2FudmFzRGVjb2RlcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGhhc1dlYkdMU3VwcG9ydCgpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBGb3Igc29tZSByZWFzb24gaWYgSSB1c2UgaGVyZSBgdGhpcy50YWdgIGltYWdlIG9uIGNhbnZhcyB3aWxsIGJlIGZsYXR0ZW5lZFxyXG4gICAgICAgIGNvbnN0IHRlc3RDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY29uc3QgdmFsaWRDb250ZXh0TmFtZXMgPSBbJ3dlYmdsJywgJ2V4cGVyaW1lbnRhbC13ZWJnbCcsICdtb3otd2ViZ2wnLCAnd2Via2l0LTNkJ107XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIGxldCBnbDogYW55ID0gbnVsbDtcclxuICAgICAgICB3aGlsZSAoIWdsICYmIGluZGV4KysgPCB2YWxpZENvbnRleHROYW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGdsID0gdGVzdENhbnZhcy5nZXRDb250ZXh0KHZhbGlkQ29udGV4dE5hbWVzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gISFnbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUVsZW1lbnQoaWQ/OiBzdHJpbmcpOiBIVE1MQ2FudmFzRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGFnLmlkID0gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhZy5jbGFzc05hbWUgPSAndmlkZW8tbGF5ZXInO1xyXG4gICAgICAgIHJldHVybiB0YWc7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sXHJcbiAgICAgICAgbmFtZSA9ICdDYW52YXMnLFxyXG4gICAgICAgIHN0b3JhZ2VLZXlQcmVmaXggPSAnRHVtbXlDYW52YXMnLFxyXG4gICAgICAgIHByb3RlY3RlZCB0YWc6IEhUTUxDYW52YXNFbGVtZW50ID0gQmFzZUNhbnZhc0Jhc2VkUGxheWVyLmNyZWF0ZUVsZW1lbnQoKSxcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKHVkaWQsIGRpc3BsYXlJbmZvLCBuYW1lLCBzdG9yYWdlS2V5UHJlZml4LCB0YWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBkZWNvZGUoZGF0YTogVWludDhBcnJheSk6IHZvaWQ7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCk6IFZpZGVvU2V0dGluZ3M7XHJcblxyXG4gICAgcHJvdGVjdGVkIGRyYXdEZWNvZGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5jYW52YXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZWNlaXZlZEZpcnN0RnJhbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGVjb2RlZEZyYW1lcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBmcmFtZSwgd2lkdGgsIGhlaWdodCB9ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmRlY29kZShmcmFtZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGVjb2RlZEZyYW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhd0RlY29kZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByb3RlY3RlZCBvbkZyYW1lRGVjb2RlZCh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgZnJhbWU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWNlaXZlZEZpcnN0RnJhbWUpIHtcclxuICAgICAgICAgICAgLy8gZGVjb2RlZCBmcmFtZSB3aXRoIHByZXZpb3VzIHZpZGVvIHNldHRpbmdzXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRyb3BwZWQgPSAwO1xyXG4gICAgICAgIGNvbnN0IG1heFN0b3JlZCA9IHRoaXMudmlkZW9TZXR0aW5ncy5tYXhGcHMgLyAxMDsgLy8gZm9yIDEwMG1zXHJcblxyXG4gICAgICAgIHdoaWxlICh0aGlzLmRlY29kZWRGcmFtZXMubGVuZ3RoID4gbWF4U3RvcmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRlY29kZWRGcmFtZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcEZyYW1lKGRhdGEuZnJhbWUpO1xyXG4gICAgICAgICAgICAgICAgZHJvcHBlZCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGVjb2RlZEZyYW1lcy5wdXNoKHsgd2lkdGgsIGhlaWdodCwgZnJhbWUgfSk7XHJcbiAgICAgICAgdGhpcy52aWRlb1N0YXRzLnB1c2goe1xyXG4gICAgICAgICAgICBkZWNvZGVkRnJhbWVzOiAxLFxyXG4gICAgICAgICAgICBkcm9wcGVkRnJhbWVzOiBkcm9wcGVkLFxyXG4gICAgICAgICAgICBpbnB1dEJ5dGVzOiAwLFxyXG4gICAgICAgICAgICBpbnB1dEZyYW1lczogMCxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5hbmltYXRpb25GcmFtZUlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmRyYXdEZWNvZGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRyb3BGcmFtZShfZnJhbWU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRpc3Bvc2UgZnJhbWUgaWYgcmVxdWlyZWRcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNoaWZ0RnJhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhdGUoKSAhPT0gQmFzZVBsYXllci5TVEFURS5QTEFZSU5HKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLmZyYW1lc0xpc3Quc2hpZnQoKTtcclxuICAgICAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWNvZGUoZmlyc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlTW9tZW50dW1TdGF0cygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IG9uZVNlY29uZEJlZm9yZSA9IHRpbWVzdGFtcCAtIDEwMDA7XHJcblxyXG4gICAgICAgIHdoaWxlICh0aGlzLnZpZGVvU3RhdHMubGVuZ3RoICYmIHRoaXMudmlkZW9TdGF0c1swXS50aW1lc3RhbXAgPCBvbmVTZWNvbmRCZWZvcmUpIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlb1N0YXRzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0aGlzLmlucHV0Qnl0ZXMubGVuZ3RoICYmIHRoaXMuaW5wdXRCeXRlc1swXS50aW1lc3RhbXAgPCBvbmVTZWNvbmRCZWZvcmUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dEJ5dGVzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkZWNvZGVkRnJhbWVzID0gMDtcclxuICAgICAgICBsZXQgZHJvcHBlZEZyYW1lcyA9IDA7XHJcbiAgICAgICAgbGV0IGlucHV0Qnl0ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMudmlkZW9TdGF0cy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGRlY29kZWRGcmFtZXMgKz0gaXRlbS5kZWNvZGVkRnJhbWVzO1xyXG4gICAgICAgICAgICBkcm9wcGVkRnJhbWVzICs9IGl0ZW0uZHJvcHBlZEZyYW1lcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmlucHV0Qnl0ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEJ5dGVzICs9IGl0ZW0uYnl0ZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cyA9IHtcclxuICAgICAgICAgICAgZGVjb2RlZEZyYW1lcyxcclxuICAgICAgICAgICAgZHJvcHBlZEZyYW1lcyxcclxuICAgICAgICAgICAgaW5wdXRGcmFtZXM6IHRoaXMuaW5wdXRCeXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGlucHV0Qnl0ZXMsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZXNldFN0YXRzKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnJlc2V0U3RhdHMoKTtcclxuICAgICAgICB0aGlzLnZpZGVvU3RhdHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW1hZ2VEYXRhVVJMKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFnLnRvRGF0YVVSTCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0Q2FudmFzKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMudGFnLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZyA9IEJhc2VDYW52YXNCYXNlZFBsYXllci5jcmVhdGVFbGVtZW50KHRoaXMudGFnLmlkKTtcclxuICAgICAgICAgICAgICAgIHRhZy5jbGFzc05hbWUgPSB0aGlzLnRhZy5jbGFzc05hbWU7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHRhZywgdGhpcy50YWcpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMudG91Y2hhYmxlQ2FudmFzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFnID0gdGFnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFnLm9uZXJyb3IgPSAoZXZlbnQ6IEV2ZW50IHwgc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgZXZlbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50YWcub25jb250ZXh0bWVudSA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50YWcud2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcclxuICAgICAgICB0aGlzLnRhZy5oZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucGxheSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmdldFN0YXRlKCkgIT09IEJhc2VQbGF5ZXIuU1RBVEUuUExBWUlORyB8fCAhdGhpcy5zY3JlZW5JbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NyZWVuSW5mby52aWRlb1NpemU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdENhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFN0YXRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hpZnRGcmFtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmNsZWFyU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2NyZWVuSW5mbyhzY3JlZW5JbmZvOiBTY3JlZW5JbmZvKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuc2V0U2NyZWVuSW5mbyhzY3JlZW5JbmZvKTtcclxuICAgICAgICB0aGlzLmNsZWFyU3RhdGUoKTtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHNjcmVlbkluZm8udmlkZW9TaXplO1xyXG4gICAgICAgIHRoaXMuaW5pdENhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmZyYW1lc0xpc3QgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25GcmFtZUlkKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1c2hGcmFtZShmcmFtZTogVWludDhBcnJheSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnB1c2hGcmFtZShmcmFtZSk7XHJcbiAgICAgICAgaWYgKEJhc2VQbGF5ZXIuaXNJRnJhbWUoZnJhbWUpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbWF4RnBzIH0gPSB0aGlzLnZpZGVvU2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcmFtZXNMaXN0Lmxlbmd0aCA+IG1heEZwcyAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkcm9wcGVkID0gdGhpcy5mcmFtZXNMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvU3RhdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRGcmFtZXM6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BwZWRGcmFtZXM6IGRyb3BwZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Qnl0ZXM6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0RnJhbWVzOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mcmFtZXNMaXN0LnB1c2goZnJhbWUpO1xyXG4gICAgICAgIHRoaXMuc2hpZnRGcmFtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjbGVhclN0YXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZnJhbWVzTGlzdCA9IFtdO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBWaWRlb1NldHRpbmdzIGZyb20gJy4uL1ZpZGVvU2V0dGluZ3MnO1xyXG5pbXBvcnQgU2NyZWVuSW5mbyBmcm9tICcuLi9TY3JlZW5JbmZvJztcclxuaW1wb3J0IFJlY3QgZnJvbSAnLi4vUmVjdCc7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uL1NpemUnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuaW1wb3J0IHsgVHlwZWRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vY29tbW9uL1R5cGVkRW1pdHRlcic7XHJcbmltcG9ydCB7IERpc3BsYXlJbmZvIH0gZnJvbSAnLi4vRGlzcGxheUluZm8nO1xyXG5cclxuaW50ZXJmYWNlIEJpdHJhdGVTdGF0IHtcclxuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xyXG4gICAgYnl0ZXM6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEZyYW1lc1BlclNlY29uZFN0YXRzIHtcclxuICAgIGF2Z0lucHV0OiBudW1iZXI7XHJcbiAgICBhdmdEZWNvZGVkOiBudW1iZXI7XHJcbiAgICBhdmdEcm9wcGVkOiBudW1iZXI7XHJcbiAgICBhdmdTaXplOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWJhY2tRdWFsaXR5IHtcclxuICAgIGRlY29kZWRGcmFtZXM6IG51bWJlcjtcclxuICAgIGRyb3BwZWRGcmFtZXM6IG51bWJlcjtcclxuICAgIGlucHV0RnJhbWVzOiBudW1iZXI7XHJcbiAgICBpbnB1dEJ5dGVzOiBudW1iZXI7XHJcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJFdmVudHMge1xyXG4gICAgJ3ZpZGVvLXZpZXctcmVzaXplJzogU2l6ZTtcclxuICAgICdpbnB1dC12aWRlby1yZXNpemUnOiBTY3JlZW5JbmZvO1xyXG4gICAgJ3ZpZGVvLXNldHRpbmdzJzogVmlkZW9TZXR0aW5ncztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQbGF5ZXJDbGFzcyB7XHJcbiAgICBwbGF5ZXJGdWxsTmFtZTogc3RyaW5nO1xyXG4gICAgcGxheWVyQ29kZU5hbWU6IHN0cmluZztcclxuICAgIHN0b3JhZ2VLZXlQcmVmaXg6IHN0cmluZztcclxuICAgIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW47XHJcbiAgICBnZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTogVmlkZW9TZXR0aW5ncztcclxuICAgIGdldEZpdFRvU2NyZWVuU3RhdHVzKGRldmljZU5hbWU6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyk6IGJvb2xlYW47XHJcbiAgICBsb2FkVmlkZW9TZXR0aW5ncyhkZXZpY2VOYW1lOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8pOiBWaWRlb1NldHRpbmdzO1xyXG4gICAgc2F2ZVZpZGVvU2V0dGluZ3MoXHJcbiAgICAgICAgZGV2aWNlTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MsXHJcbiAgICAgICAgZml0VG9TY3JlZW46IGJvb2xlYW4sXHJcbiAgICAgICAgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyxcclxuICAgICk6IHZvaWQ7XHJcbiAgICBuZXcgKHVkaWQ6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyk6IEJhc2VQbGF5ZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUGxheWVyIGV4dGVuZHMgVHlwZWRFbWl0dGVyPFBsYXllckV2ZW50cz4ge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU1RBVF9CQUNLR1JPVU5EOiBzdHJpbmcgPSAncmdiYSgwLCAwLCAwLCAwLjUpJztcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFNUQVRfVEVYVF9DT0xPUjogc3RyaW5nID0gJ2hzbCgyNCwgODUlLCA1MCUpJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgREVGQVVMVF9TSE9XX1FVQUxJVFlfU1RBVFMgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBzdGF0aWMgU1RBVEU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XHJcbiAgICAgICAgUExBWUlORzogMSxcclxuICAgICAgICBQQVVTRUQ6IDIsXHJcbiAgICAgICAgU1RPUFBFRDogMyxcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHN0YXRpYyBTVEFUU19IRUlHSFQgPSAxMjtcclxuICAgIHByb3RlY3RlZCBzY3JlZW5JbmZvPzogU2NyZWVuSW5mbztcclxuICAgIHByb3RlY3RlZCB2aWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzO1xyXG4gICAgcHJvdGVjdGVkIHBhcmVudEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICAgIHByb3RlY3RlZCB0b3VjaGFibGVDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJvdGVjdGVkIGlucHV0Qnl0ZXM6IEJpdHJhdGVTdGF0W10gPSBbXTtcclxuICAgIHByb3RlY3RlZCBwZXJTZWNvbmRRdWFsaXR5U3RhdHM/OiBGcmFtZXNQZXJTZWNvbmRTdGF0cztcclxuICAgIHByb3RlY3RlZCBtb21lbnR1bVF1YWxpdHlTdGF0cz86IFBsYXliYWNrUXVhbGl0eTtcclxuICAgIHByb3RlY3RlZCBib3VuZHM6IFNpemUgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgdG90YWxTdGF0czogUGxheWJhY2tRdWFsaXR5ID0ge1xyXG4gICAgICAgIGRlY29kZWRGcmFtZXM6IDAsXHJcbiAgICAgICAgZHJvcHBlZEZyYW1lczogMCxcclxuICAgICAgICBpbnB1dEZyYW1lczogMCxcclxuICAgICAgICBpbnB1dEJ5dGVzOiAwLFxyXG4gICAgICAgIHRpbWVzdGFtcDogMCxcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHRvdGFsU3RhdHNDb3VudGVyID0gMDtcclxuICAgIHByaXZhdGUgZGlydHlTdGF0c1dpZHRoID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGU6IG51bWJlciA9IEJhc2VQbGF5ZXIuU1RBVEUuU1RPUFBFRDtcclxuICAgIHByaXZhdGUgcXVhbGl0eUFuaW1hdGlvbklkPzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzaG93UXVhbGl0eVN0YXRzID0gQmFzZVBsYXllci5ERUZBVUxUX1NIT1dfUVVBTElUWV9TVEFUUztcclxuICAgIHByb3RlY3RlZCByZWNlaXZlZEZpcnN0RnJhbWUgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc3RhdExpbmVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN1cHBvcnRzU2NyZWVuc2hvdDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJlc2l6ZVZpZGVvVG9Cb3VuZHM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByb3RlY3RlZCB2aWRlb0hlaWdodCA9IC0xO1xyXG4gICAgcHJvdGVjdGVkIHZpZGVvV2lkdGggPSAtMTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0b3JhZ2VLZXlQcmVmaXggPSAnQmFzZURlY29kZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyBwbGF5ZXJGdWxsTmFtZSA9ICdCYXNlUGxheWVyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcGxheWVyQ29kZU5hbWUgPSAnYmFzZXBsYXllcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHByZWZlcnJlZFZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MgPSBuZXcgVmlkZW9TZXR0aW5ncyh7XHJcbiAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogLTEsXHJcbiAgICAgICAgYml0cmF0ZTogNTI0Mjg4LFxyXG4gICAgICAgIG1heEZwczogMjQsXHJcbiAgICAgICAgaUZyYW1lSW50ZXJ2YWw6IDUsXHJcbiAgICAgICAgYm91bmRzOiBuZXcgU2l6ZSg0ODAsIDEwODApLFxyXG4gICAgICAgIHNlbmRGcmFtZU1ldGE6IGZhbHNlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBJbXBsZW1lbnQgdGhlIGNoZWNrIGluIGEgY2hpbGQgY2xhc3NcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHVkaWQ6IHN0cmluZyxcclxuICAgICAgICBwcm90ZWN0ZWQgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyxcclxuICAgICAgICBwcm90ZWN0ZWQgbmFtZTogc3RyaW5nID0gJ0Jhc2VQbGF5ZXInLFxyXG4gICAgICAgIHByb3RlY3RlZCBzdG9yYWdlS2V5UHJlZml4OiBzdHJpbmcgPSAnRHVtbXknLFxyXG4gICAgICAgIHByb3RlY3RlZCB0YWc6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudG91Y2hhYmxlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdGhpcy50b3VjaGFibGVDYW52YXMuY2xhc3NOYW1lID0gJ3RvdWNoLWxheWVyJztcclxuICAgICAgICB0aGlzLnRvdWNoYWJsZUNhbnZhcy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBwcmVmZXJyZWQgPSB0aGlzLmdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpO1xyXG4gICAgICAgIHRoaXMudmlkZW9TZXR0aW5ncyA9IEJhc2VQbGF5ZXIuZ2V0VmlkZW9TZXR0aW5nRnJvbVN0b3JhZ2UocHJlZmVycmVkLCB0aGlzLnN0b3JhZ2VLZXlQcmVmaXgsIHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlU2NyZWVuSW5mb0ZvckJvdW5kcyh2aWRlb1dpZHRoOiBudW1iZXIsIHZpZGVvSGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZpZGVvV2lkdGggPSB2aWRlb1dpZHRoO1xyXG4gICAgICAgIHRoaXMudmlkZW9IZWlnaHQgPSB2aWRlb0hlaWdodDtcclxuICAgICAgICBpZiAodGhpcy5yZXNpemVWaWRlb1RvQm91bmRzKSB7XHJcbiAgICAgICAgICAgIGxldCB3ID0gdmlkZW9XaWR0aDtcclxuICAgICAgICAgICAgbGV0IGggPSB2aWRlb0hlaWdodDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeyB3OiBib3VuZHNXaWR0aCwgaDogYm91bmRzSGVpZ2h0IH0gPSB0aGlzLmJvdW5kcztcclxuICAgICAgICAgICAgICAgIGlmICh3ID4gYm91bmRzV2lkdGggfHwgaCA+IGJvdW5kc0hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzY2FsZWRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlZFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHNXaWR0aCA+IHcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVkSGVpZ2h0ID0gaDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQgPSAoYm91bmRzV2lkdGggKiBoKSAvIHc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHNIZWlnaHQgPiBzY2FsZWRIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzSGVpZ2h0ID0gc2NhbGVkSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm91bmRzSGVpZ2h0ID09IGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVkV2lkdGggPSB3O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlZFdpZHRoID0gKGJvdW5kc0hlaWdodCAqIHcpIC8gaDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kc1dpZHRoID4gc2NhbGVkV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzV2lkdGggPSBzY2FsZWRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdyA9IGJvdW5kc1dpZHRoIHwgMDtcclxuICAgICAgICAgICAgICAgICAgICBoID0gYm91bmRzSGVpZ2h0IHwgMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZy5zdHlsZS5tYXhXaWR0aCA9IGAke3d9cHhgO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFnLnN0eWxlLm1heEhlaWdodCA9IGAke2h9cHhgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWxTY3JlZW4gPSBuZXcgU2NyZWVuSW5mbyhuZXcgUmVjdCgwLCAwLCB2aWRlb1dpZHRoLCB2aWRlb0hlaWdodCksIG5ldyBTaXplKHcsIGgpLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdpbnB1dC12aWRlby1yZXNpemUnLCByZWFsU2NyZWVuKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTY3JlZW5JbmZvKG5ldyBTY3JlZW5JbmZvKG5ldyBSZWN0KDAsIDAsIHcsIGgpLCBuZXcgU2l6ZSh3LCBoKSwgMCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGlzSUZyYW1lKGZyYW1lOiBVaW50OEFycmF5KTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gbGFzdCA1IGJpdHMgPT09IDU6IENvZGVkIHNsaWNlIG9mIGFuIElEUiBwaWN0dXJlXHJcblxyXG4gICAgICAgIC8vIGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg0LnR4dFxyXG4gICAgICAgIC8vIDEuMy4gIE5ldHdvcmsgQWJzdHJhY3Rpb24gTGF5ZXIgVW5pdCBUeXBlc1xyXG4gICAgICAgIC8vIGh0dHBzOi8vd3d3Lml0dS5pbnQvcmVjL1QtUkVDLUguMjY0LTIwMTkwNi1JL2VuXHJcbiAgICAgICAgLy8gVGFibGUgNy0xIOKAkyBOQUwgdW5pdCB0eXBlIGNvZGVzLCBzeW50YXggZWxlbWVudCBjYXRlZ29yaWVzLCBhbmQgTkFMIHVuaXQgdHlwZSBjbGFzc2VzXHJcbiAgICAgICAgcmV0dXJuIGZyYW1lICYmIGZyYW1lLmxlbmd0aCA+IDQgJiYgKGZyYW1lWzRdICYgMzEpID09PSA1O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGdldFN0b3JhZ2VLZXkoc3RvcmFnZUtleVByZWZpeDogc3RyaW5nLCB1ZGlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHsgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGggfSA9IHdpbmRvdztcclxuICAgICAgICByZXR1cm4gYCR7c3RvcmFnZUtleVByZWZpeH06JHt1ZGlkfToke2lubmVyV2lkdGh9eCR7aW5uZXJIZWlnaHR9YDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRGdWxsU3RvcmFnZUtleShzdG9yYWdlS2V5UHJlZml4OiBzdHJpbmcsIHVkaWQ6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgeyBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCB9ID0gd2luZG93O1xyXG4gICAgICAgIGxldCBiYXNlID0gYCR7c3RvcmFnZUtleVByZWZpeH06JHt1ZGlkfToke2lubmVyV2lkdGh9eCR7aW5uZXJIZWlnaHR9YDtcclxuICAgICAgICBpZiAoZGlzcGxheUluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QgeyBkaXNwbGF5SWQsIHNpemUgfSA9IGRpc3BsYXlJbmZvO1xyXG4gICAgICAgICAgICBiYXNlID0gYCR7YmFzZX06JHtkaXNwbGF5SWR9OiR7c2l6ZS53aWR0aH14JHtzaXplLmhlaWdodH1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEZyb21TdG9yYWdlQ29tcGF0KHByZWZpeDogc3RyaW5nLCB1ZGlkOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8pOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICBjb25zdCBzaG9ydEtleSA9IHRoaXMuZ2V0U3RvcmFnZUtleShwcmVmaXgsIHVkaWQpO1xyXG4gICAgICAgIGNvbnN0IHNhdmVkSW5TaG9ydCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG9ydEtleSk7XHJcbiAgICAgICAgaWYgKCFkaXNwbGF5SW5mbykge1xyXG4gICAgICAgICAgICByZXR1cm4gc2F2ZWRJblNob3J0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc0RlZmF1bHREaXNwbGF5ID0gZGlzcGxheUluZm8uZGlzcGxheUlkID09PSBEaXNwbGF5SW5mby5ERUZBVUxUX0RJU1BMQVk7XHJcbiAgICAgICAgY29uc3QgZnVsbEtleSA9IHRoaXMuZ2V0RnVsbFN0b3JhZ2VLZXkocHJlZml4LCB1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgY29uc3Qgc2F2ZWRJbkZ1bGwgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZnVsbEtleSk7XHJcbiAgICAgICAgaWYgKHNhdmVkSW5GdWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChzYXZlZEluU2hvcnQgJiYgaXNEZWZhdWx0RGlzcGxheSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHNob3J0S2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2F2ZWRJbkZ1bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RlZmF1bHREaXNwbGF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzYXZlZEluU2hvcnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Rml0VG9TY3JlZW5Gcm9tU3RvcmFnZShcclxuICAgICAgICBzdG9yYWdlS2V5UHJlZml4OiBzdHJpbmcsXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sXHJcbiAgICApOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcGFyc2VkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmdldEZ1bGxTdG9yYWdlS2V5KHN0b3JhZ2VLZXlQcmVmaXgsIHVkaWQsIGRpc3BsYXlJbmZvKX06Zml0YDtcclxuICAgICAgICBjb25zdCBzYXZlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIGlmICghc2F2ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBwYXJzZWRWYWx1ZSA9IEpTT04ucGFyc2Uoc2F2ZWQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgWyR7dGhpcy5uYW1lfV1gLCAnRmFpbGVkIHRvIHBhcnNlJywgc2F2ZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyc2VkVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRWaWRlb1NldHRpbmdGcm9tU3RvcmFnZShcclxuICAgICAgICBwcmVmZXJyZWQ6IFZpZGVvU2V0dGluZ3MsXHJcbiAgICAgICAgc3RvcmFnZUtleVByZWZpeDogc3RyaW5nLFxyXG4gICAgICAgIHVkaWQ6IHN0cmluZyxcclxuICAgICAgICBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLFxyXG4gICAgKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmZXJyZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNhdmVkID0gdGhpcy5nZXRGcm9tU3RvcmFnZUNvbXBhdChzdG9yYWdlS2V5UHJlZml4LCB1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgaWYgKCFzYXZlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcHJlZmVycmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHNhdmVkKTtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXlJZCxcclxuICAgICAgICAgICAgY3JvcCxcclxuICAgICAgICAgICAgYml0cmF0ZSxcclxuICAgICAgICAgICAgaUZyYW1lSW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIHNlbmRGcmFtZU1ldGEsXHJcbiAgICAgICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb24sXHJcbiAgICAgICAgICAgIGNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgfSA9IHBhcnNlZDtcclxuXHJcbiAgICAgICAgLy8gUkVNT1ZFIGBmcmFtZVJhdGVgXHJcbiAgICAgICAgY29uc3QgbWF4RnBzID0gaXNOYU4ocGFyc2VkLm1heEZwcykgPyBwYXJzZWQuZnJhbWVSYXRlIDogcGFyc2VkLm1heEZwcztcclxuICAgICAgICAvLyBSRU1PVkUgYG1heFNpemVgXHJcbiAgICAgICAgbGV0IGJvdW5kczogU2l6ZSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkLmJvdW5kcyAhPT0gJ29iamVjdCcgfHwgaXNOYU4ocGFyc2VkLmJvdW5kcy53aWR0aCkgfHwgaXNOYU4ocGFyc2VkLmJvdW5kcy5oZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkLm1heFNpemUpKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMgPSBuZXcgU2l6ZShwYXJzZWQubWF4U2l6ZSwgcGFyc2VkLm1heFNpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYm91bmRzID0gbmV3IFNpemUocGFyc2VkLmJvdW5kcy53aWR0aCwgcGFyc2VkLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFZpZGVvU2V0dGluZ3Moe1xyXG4gICAgICAgICAgICBkaXNwbGF5SWQ6IHR5cGVvZiBkaXNwbGF5SWQgPT09ICdudW1iZXInID8gZGlzcGxheUlkIDogMCxcclxuICAgICAgICAgICAgY3JvcDogY3JvcCA/IG5ldyBSZWN0KGNyb3AubGVmdCwgY3JvcC50b3AsIGNyb3AucmlnaHQsIGNyb3AuYm90dG9tKSA6IHByZWZlcnJlZC5jcm9wLFxyXG4gICAgICAgICAgICBiaXRyYXRlOiAhaXNOYU4oYml0cmF0ZSkgPyBiaXRyYXRlIDogcHJlZmVycmVkLmJpdHJhdGUsXHJcbiAgICAgICAgICAgIGJvdW5kczogYm91bmRzICE9PSBudWxsID8gYm91bmRzIDogcHJlZmVycmVkLmJvdW5kcyxcclxuICAgICAgICAgICAgbWF4RnBzOiAhaXNOYU4obWF4RnBzKSA/IG1heEZwcyA6IHByZWZlcnJlZC5tYXhGcHMsXHJcbiAgICAgICAgICAgIGlGcmFtZUludGVydmFsOiAhaXNOYU4oaUZyYW1lSW50ZXJ2YWwpID8gaUZyYW1lSW50ZXJ2YWwgOiBwcmVmZXJyZWQuaUZyYW1lSW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIHNlbmRGcmFtZU1ldGE6IHR5cGVvZiBzZW5kRnJhbWVNZXRhID09PSAnYm9vbGVhbicgPyBzZW5kRnJhbWVNZXRhIDogcHJlZmVycmVkLnNlbmRGcmFtZU1ldGEsXHJcbiAgICAgICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246ICFpc05hTihsb2NrZWRWaWRlb09yaWVudGF0aW9uKVxyXG4gICAgICAgICAgICAgICAgPyBsb2NrZWRWaWRlb09yaWVudGF0aW9uXHJcbiAgICAgICAgICAgICAgICA6IHByZWZlcnJlZC5sb2NrZWRWaWRlb09yaWVudGF0aW9uLFxyXG4gICAgICAgICAgICBjb2RlY09wdGlvbnMsXHJcbiAgICAgICAgICAgIGVuY29kZXJOYW1lLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgcHV0VmlkZW9TZXR0aW5nc1RvU3RvcmFnZShcclxuICAgICAgICBzdG9yYWdlS2V5UHJlZml4OiBzdHJpbmcsXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MsXHJcbiAgICAgICAgZml0VG9TY3JlZW46IGJvb2xlYW4sXHJcbiAgICAgICAgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyxcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0RnVsbFN0b3JhZ2VLZXkoc3RvcmFnZUtleVByZWZpeCwgdWRpZCwgZGlzcGxheUluZm8pO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZpZGVvU2V0dGluZ3MpKTtcclxuICAgICAgICBjb25zdCBmaXRLZXkgPSBgJHtrZXl9OmZpdGA7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGZpdEtleSwgSlNPTi5zdHJpbmdpZnkoZml0VG9TY3JlZW4pKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SW1hZ2VEYXRhVVJMKCk6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlU2NyZWVuc2hvdChkZXZpY2VOYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGEuaHJlZiA9IHRoaXMuZ2V0SW1hZ2VEYXRhVVJMKCk7XHJcbiAgICAgICAgYS5kb3dubG9hZCA9IGAke2RldmljZU5hbWV9ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfS5wbmdgO1xyXG4gICAgICAgIGEuY2xpY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5uZWVkU2NyZWVuSW5mb0JlZm9yZVBsYXkoKSAmJiAhdGhpcy5zY3JlZW5JbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJhc2VQbGF5ZXIuU1RBVEUuUExBWUlORztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJhc2VQbGF5ZXIuU1RBVEUuUEFVU0VEO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBCYXNlUGxheWVyLlNUQVRFLlNUT1BQRUQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN0YXRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1c2hGcmFtZShmcmFtZTogVWludDhBcnJheSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWNlaXZlZEZpcnN0RnJhbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNlaXZlZEZpcnN0RnJhbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucXVhbGl0eUFuaW1hdGlvbklkICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWFsaXR5QW5pbWF0aW9uSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVRdWFsaXR5U3RhdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5wdXRCeXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICBieXRlczogZnJhbWUuYnl0ZUxlbmd0aCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCk6IFZpZGVvU2V0dGluZ3M7XHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY2FsY3VsYXRlTW9tZW50dW1TdGF0cygpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBnZXRUb3VjaGFibGVFbGVtZW50KCk6IEhUTUxDYW52YXNFbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b3VjaGFibGVDYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFBhcmVudChwYXJlbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnRhZyk7XHJcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMudG91Y2hhYmxlQ2FudmFzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbmVlZFNjcmVlbkluZm9CZWZvcmVQbGF5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWaWRlb1NldHRpbmdzKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvU2V0dGluZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncywgZml0VG9TY3JlZW46IGJvb2xlYW4sIHNhdmVUb1N0b3JhZ2U6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZpZGVvU2V0dGluZ3MgPSB2aWRlb1NldHRpbmdzO1xyXG4gICAgICAgIGlmIChzYXZlVG9TdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIEJhc2VQbGF5ZXIucHV0VmlkZW9TZXR0aW5nc1RvU3RvcmFnZShcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZUtleVByZWZpeCxcclxuICAgICAgICAgICAgICAgIHRoaXMudWRpZCxcclxuICAgICAgICAgICAgICAgIHZpZGVvU2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICBmaXRUb1NjcmVlbixcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUluZm8sXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVzZXRTdGF0cygpO1xyXG4gICAgICAgIHRoaXMuZW1pdCgndmlkZW8tc2V0dGluZ3MnLCBWaWRlb1NldHRpbmdzLmNvcHkodmlkZW9TZXR0aW5ncykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTY3JlZW5JbmZvKCk6IFNjcmVlbkluZm8gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbkluZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNjcmVlbkluZm8oc2NyZWVuSW5mbzogU2NyZWVuSW5mbyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm5lZWRTY3JlZW5JbmZvQmVmb3JlUGxheSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlZEZpcnN0RnJhbWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNjcmVlbkluZm8gPSBzY3JlZW5JbmZvO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc2NyZWVuSW5mby52aWRlb1NpemU7XHJcbiAgICAgICAgdGhpcy50b3VjaGFibGVDYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLnRvdWNoYWJsZUNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzaXplID0gbmV3IFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCd2aWRlby12aWV3LXJlc2l6ZScsIHNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVzZXRTdGF0cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudG90YWxTdGF0c0NvdW50ZXIgPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxTdGF0cyA9IHtcclxuICAgICAgICAgICAgZHJvcHBlZEZyYW1lczogMCxcclxuICAgICAgICAgICAgZGVjb2RlZEZyYW1lczogMCxcclxuICAgICAgICAgICAgaW5wdXRGcmFtZXM6IDAsXHJcbiAgICAgICAgICAgIGlucHV0Qnl0ZXM6IDAsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGVyU2Vjb25kUXVhbGl0eVN0YXRzID0ge1xyXG4gICAgICAgICAgICBhdmdEZWNvZGVkOiAwLFxyXG4gICAgICAgICAgICBhdmdEcm9wcGVkOiAwLFxyXG4gICAgICAgICAgICBhdmdJbnB1dDogMCxcclxuICAgICAgICAgICAgYXZnU2l6ZTogMCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUXVhbGl0eVN0YXRzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3Qgb25lU2Vjb25kQmVmb3JlID0gbm93IC0gMTAwMDtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vbWVudHVtU3RhdHMoKTtcclxuICAgICAgICBpZiAoIXRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50b3RhbFN0YXRzLnRpbWVzdGFtcCA8IG9uZVNlY29uZEJlZm9yZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsU3RhdHMgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5vdyxcclxuICAgICAgICAgICAgICAgIGRlY29kZWRGcmFtZXM6IHRoaXMudG90YWxTdGF0cy5kZWNvZGVkRnJhbWVzICsgdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cy5kZWNvZGVkRnJhbWVzLFxyXG4gICAgICAgICAgICAgICAgZHJvcHBlZEZyYW1lczogdGhpcy50b3RhbFN0YXRzLmRyb3BwZWRGcmFtZXMgKyB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzLmRyb3BwZWRGcmFtZXMsXHJcbiAgICAgICAgICAgICAgICBpbnB1dEZyYW1lczogdGhpcy50b3RhbFN0YXRzLmlucHV0RnJhbWVzICsgdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cy5pbnB1dEZyYW1lcyxcclxuICAgICAgICAgICAgICAgIGlucHV0Qnl0ZXM6IHRoaXMudG90YWxTdGF0cy5pbnB1dEJ5dGVzICsgdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cy5pbnB1dEJ5dGVzLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudG90YWxTdGF0c0NvdW50ZXIgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyU2Vjb25kUXVhbGl0eVN0YXRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGF2Z0RlY29kZWQ6IHRoaXMudG90YWxTdGF0cy5kZWNvZGVkRnJhbWVzIC8gdGhpcy50b3RhbFN0YXRzQ291bnRlcixcclxuICAgICAgICAgICAgICAgICAgICBhdmdEcm9wcGVkOiB0aGlzLnRvdGFsU3RhdHMuZHJvcHBlZEZyYW1lcyAvIHRoaXMudG90YWxTdGF0c0NvdW50ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXZnSW5wdXQ6IHRoaXMudG90YWxTdGF0cy5pbnB1dEZyYW1lcyAvIHRoaXMudG90YWxTdGF0c0NvdW50ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXZnU2l6ZTogdGhpcy50b3RhbFN0YXRzLmlucHV0Qnl0ZXMgLyB0aGlzLnRvdGFsU3RhdHNDb3VudGVyLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRvdGFsU3RhdHNDb3VudGVyKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZHJhd1N0YXRzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IEJhc2VQbGF5ZXIuU1RBVEUuU1RPUFBFRCkge1xyXG4gICAgICAgICAgICB0aGlzLnF1YWxpdHlBbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVF1YWxpdHlTdGF0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdTdGF0cygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2hvd1F1YWxpdHlTdGF0cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMudG91Y2hhYmxlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuZXdTdGF0cyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLnBlclNlY29uZFF1YWxpdHlTdGF0cyAmJiB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGVjb2RlZEZyYW1lcywgZHJvcHBlZEZyYW1lcywgaW5wdXRCeXRlcywgaW5wdXRGcmFtZXMgfSA9IHRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgYXZnRGVjb2RlZCwgYXZnRHJvcHBlZCwgYXZnU2l6ZSwgYXZnSW5wdXQgfSA9IHRoaXMucGVyU2Vjb25kUXVhbGl0eVN0YXRzO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRJbnB1dCA9IGlucHV0RnJhbWVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgJyAnKTtcclxuICAgICAgICAgICAgY29uc3QgcGFkRGVjb2RlZCA9IGRlY29kZWRGcmFtZXMudG9TdHJpbmcoKS5wYWRTdGFydCgzLCAnICcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWREcm9wcGVkID0gZHJvcHBlZEZyYW1lcy50b1N0cmluZygpLnBhZFN0YXJ0KDMsICcgJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZEF2Z0RlY29kZWQgPSBhdmdEZWNvZGVkLnRvRml4ZWQoMSkucGFkU3RhcnQoNSwgJyAnKTtcclxuICAgICAgICAgICAgY29uc3QgcGFkQXZnRHJvcHBlZCA9IGF2Z0Ryb3BwZWQudG9GaXhlZCgxKS5wYWRTdGFydCg1LCAnICcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRBdmdJbnB1dCA9IGF2Z0lucHV0LnRvRml4ZWQoMSkucGFkU3RhcnQoNSwgJyAnKTtcclxuICAgICAgICAgICAgY29uc3QgcHJldHR5Qnl0ZXMgPSBVdGlsLnByZXR0eUJ5dGVzKGlucHV0Qnl0ZXMpLnBhZFN0YXJ0KDgsICcgJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXR0eUF2Z0J5dGVzID0gVXRpbC5wcmV0dHlCeXRlcyhhdmdTaXplKS5wYWRTdGFydCg4LCAnICcpO1xyXG5cclxuICAgICAgICAgICAgbmV3U3RhdHMucHVzaChgSW5wdXQgYnl0ZXM6ICR7cHJldHR5Qnl0ZXN9IChhdmc6ICR7cHJldHR5QXZnQnl0ZXN9L3MpYCk7XHJcbiAgICAgICAgICAgIG5ld1N0YXRzLnB1c2goYElucHV0ICAgRlBTOiAke3BhZElucHV0fSAoYXZnOiAke3BhZEF2Z0lucHV0fSlgKTtcclxuICAgICAgICAgICAgbmV3U3RhdHMucHVzaChgRHJvcHBlZCBGUFM6ICR7cGFkRHJvcHBlZH0gKGF2ZzogJHtwYWRBdmdEcm9wcGVkfSlgKTtcclxuICAgICAgICAgICAgbmV3U3RhdHMucHVzaChgRGVjb2RlZCBGUFM6ICR7cGFkRGVjb2RlZH0gKGF2ZzogJHtwYWRBdmdEZWNvZGVkfSlgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdTdGF0cy5wdXNoKGBOb3Qgc3VwcG9ydGVkYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjaGFuZ2VkID0gdGhpcy5zdGF0TGluZXMubGVuZ3RoICE9PSBuZXdTdGF0cy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIHdoaWxlICghY2hhbmdlZCAmJiBpKysgPCBuZXdTdGF0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKG5ld1N0YXRzW2ldICE9PSB0aGlzLnN0YXRMaW5lc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdExpbmVzID0gbmV3U3RhdHM7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FudmFzKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDYW52YXMob25seUNsZWFyOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy50b3VjaGFibGVDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB5ID0gdGhpcy50b3VjaGFibGVDYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IEJhc2VQbGF5ZXIuU1RBVFNfSEVJR0hUO1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gdGhpcy5zdGF0TGluZXMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHNwYWNlcyA9IGxpbmVzICsgMTtcclxuICAgICAgICBjb25zdCBwID0gaGVpZ2h0IC8gMjtcclxuICAgICAgICBjb25zdCBkID0gcCAqIDI7XHJcbiAgICAgICAgY29uc3QgdG90YWxIZWlnaHQgPSBoZWlnaHQgKiBsaW5lcyArIHAgKiBzcGFjZXM7XHJcblxyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgeSAtIHRvdGFsSGVpZ2h0LCB0aGlzLmRpcnR5U3RhdHNXaWR0aCArIGQsIHRvdGFsSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmRpcnR5U3RhdHNXaWR0aCA9IDA7XHJcblxyXG4gICAgICAgIGlmIChvbmx5Q2xlYXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgIGN0eC5mb250ID0gYCR7aGVpZ2h0fXB4IG1vbm9zcGFjZWA7XHJcbiAgICAgICAgdGhpcy5zdGF0TGluZXMuZm9yRWFjaCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0TWV0cmljcyA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcclxuICAgICAgICAgICAgY29uc3QgZGlydHkgPSBNYXRoLmFicyh0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQpICsgTWF0aC5hYnModGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdGF0c1dpZHRoID0gTWF0aC5tYXgoZGlydHksIHRoaXMuZGlydHlTdGF0c1dpZHRoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gQmFzZVBsYXllci5TVEFUX0JBQ0tHUk9VTkQ7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIHkgLSB0b3RhbEhlaWdodCwgdGhpcy5kaXJ0eVN0YXRzV2lkdGggKyBkLCB0b3RhbEhlaWdodCk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IEJhc2VQbGF5ZXIuU1RBVF9URVhUX0NPTE9SO1xyXG4gICAgICAgIHRoaXMuc3RhdExpbmVzLmZvckVhY2goKHRleHQsIGxpbmUpID0+IHtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIHAsIHkgLSBwIC0gbGluZSAqIChoZWlnaHQgKyBwKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2hvd1F1YWxpdHlTdGF0cyh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hvd1F1YWxpdHlTdGF0cyA9IHZhbHVlO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDYW52YXModHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U3RhdHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNob3dRdWFsaXR5U3RhdHMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1F1YWxpdHlTdGF0cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Qm91bmRzKGJvdW5kczogU2l6ZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gU2l6ZS5jb3B5KGJvdW5kcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERpc3BsYXlJbmZvKCk6IERpc3BsYXlJbmZvIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5SW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGlzcGxheUluZm8oZGlzcGxheUluZm86IERpc3BsYXlJbmZvKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SW5mbyA9IGRpc3BsYXlJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRGaXRUb1NjcmVlblN0YXR1cygpOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBsb2FkVmlkZW9TZXR0aW5ncygpOiBWaWRlb1NldHRpbmdzO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFZpZGVvU2V0dGluZ3ModWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmlkZW9TZXR0aW5nRnJvbVN0b3JhZ2UodGhpcy5wcmVmZXJyZWRWaWRlb1NldHRpbmdzLCB0aGlzLnN0b3JhZ2VLZXlQcmVmaXgsIHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEZpdFRvU2NyZWVuU3RhdHVzKHVkaWQ6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpdFRvU2NyZWVuRnJvbVN0b3JhZ2UodGhpcy5zdG9yYWdlS2V5UHJlZml4LCB1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZmVycmVkVmlkZW9TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNhdmVWaWRlb1NldHRpbmdzKFxyXG4gICAgICAgIHVkaWQ6IHN0cmluZyxcclxuICAgICAgICB2aWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzLFxyXG4gICAgICAgIGZpdFRvU2NyZWVuOiBib29sZWFuLFxyXG4gICAgICAgIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnB1dFZpZGVvU2V0dGluZ3NUb1N0b3JhZ2UodGhpcy5zdG9yYWdlS2V5UHJlZml4LCB1ZGlkLCB2aWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbiwgZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi4vLi4vLi4vdmVuZG9yL0Jyb2Fkd2F5L2F2Yy53YXNtLmFzc2V0JztcclxuaW1wb3J0IHsgQmFzZUNhbnZhc0Jhc2VkUGxheWVyIH0gZnJvbSAnLi9CYXNlQ2FudmFzQmFzZWRQbGF5ZXInO1xyXG5pbXBvcnQgU2l6ZSBmcm9tICcuLi9TaXplJztcclxuaW1wb3J0IFlVVkNhbnZhcyBmcm9tICcuLi8uLi8uLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9ZVVZDYW52YXMnO1xyXG5pbXBvcnQgWVVWV2ViR0xDYW52YXMgZnJvbSAnLi4vLi4vLi4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvWVVWV2ViR0xDYW52YXMnO1xyXG5pbXBvcnQgQXZjIGZyb20gJy4uLy4uLy4uL3ZlbmRvci9Ccm9hZHdheS9EZWNvZGVyJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi4vLi4vLi4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvQ2FudmFzJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi9EaXNwbGF5SW5mbyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnJvYWR3YXlQbGF5ZXIgZXh0ZW5kcyBCYXNlQ2FudmFzQmFzZWRQbGF5ZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBzdG9yYWdlS2V5UHJlZml4ID0gJ0Jyb2Fkd2F5RGVjb2Rlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBsYXllckZ1bGxOYW1lID0gJ05vZGVkIFZpc29yJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGxheWVyQ29kZU5hbWUgPSAnYnJvYWR3YXknO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwcmVmZXJyZWRWaWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzID0gbmV3IFZpZGVvU2V0dGluZ3Moe1xyXG4gICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246IC0xLFxyXG4gICAgICAgIGJpdHJhdGU6IDUyNDI4OCxcclxuICAgICAgICBtYXhGcHM6IDI0LFxyXG4gICAgICAgIGlGcmFtZUludGVydmFsOiA1LFxyXG4gICAgICAgIGJvdW5kczogbmV3IFNpemUoMzYwLCA4MDYpLFxyXG4gICAgICAgIHNlbmRGcmFtZU1ldGE6IGZhbHNlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNhbnZhcz86IENhbnZhcztcclxuICAgIHByaXZhdGUgYXZjPzogQXZjO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN1cHBvcnRzU2NyZWVuc2hvdDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIFdlYkFzc2VtYmx5ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUgPT09ICdmdW5jdGlvbic7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IodWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLCBuYW1lID0gQnJvYWR3YXlQbGF5ZXIucGxheWVyRnVsbE5hbWUpIHtcclxuICAgICAgICBzdXBlcih1ZGlkLCBkaXNwbGF5SW5mbywgbmFtZSwgQnJvYWR3YXlQbGF5ZXIuc3RvcmFnZUtleVByZWZpeCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGluaXRDYW52YXMod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5pbml0Q2FudmFzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGlmIChCYXNlQ2FudmFzQmFzZWRQbGF5ZXIuaGFzV2ViR0xTdXBwb3J0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgWVVWV2ViR0xDYW52YXModGhpcy50YWcsIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBZVVZDYW52YXModGhpcy50YWcsIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmF2Yykge1xyXG4gICAgICAgICAgICB0aGlzLmF2YyA9IG5ldyBBdmMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hdmMub25QaWN0dXJlRGVjb2RlZCA9IChidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25GcmFtZURlY29kZWQod2lkdGgsIGhlaWdodCwgYnVmZmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkZWNvZGUoZGF0YTogVWludDhBcnJheSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hdmMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF2Yy5kZWNvZGUoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gQnJvYWR3YXlQbGF5ZXIucHJlZmVycmVkVmlkZW9TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Rml0VG9TY3JlZW5TdGF0dXMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIEJyb2Fkd2F5UGxheWVyLmdldEZpdFRvU2NyZWVuU3RhdHVzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRWaWRlb1NldHRpbmdzKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiBCcm9hZHdheVBsYXllci5sb2FkVmlkZW9TZXR0aW5ncyh0aGlzLnVkaWQsIHRoaXMuZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VQbGF5ZXIgfSBmcm9tICcuL0Jhc2VQbGF5ZXInO1xyXG5pbXBvcnQgVmlkZW9Db252ZXJ0ZXIsIHsgc2V0TG9nZ2VyLCBtaW1lVHlwZSB9IGZyb20gJ2gyNjQtY29udmVydGVyJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uL1NpemUnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uL0Rpc3BsYXlJbmZvJztcclxuXHJcbmludGVyZmFjZSBRdWFsaXR5U3RhdHMge1xyXG4gICAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBkZWNvZGVkRnJhbWVzOiBudW1iZXI7XHJcbiAgICBkcm9wcGVkRnJhbWVzOiBudW1iZXI7XHJcbn1cclxuXHJcbnR5cGUgQmxvY2sgPSB7XHJcbiAgICBzdGFydDogbnVtYmVyO1xyXG4gICAgZW5kOiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgTXNlUGxheWVyIGV4dGVuZHMgQmFzZVBsYXllciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN0b3JhZ2VLZXlQcmVmaXggPSAnTXNlRGVjb2Rlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBsYXllckZ1bGxOYW1lID0gJ0gyNjQgQ29udmVydGVyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGxheWVyQ29kZU5hbWUgPSAnbXNlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcHJlZmVycmVkVmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyA9IG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uOiAtMSxcclxuICAgICAgICBiaXRyYXRlOiA3MzQwMDMyLFxyXG4gICAgICAgIG1heEZwczogNjAsXHJcbiAgICAgICAgaUZyYW1lSW50ZXJ2YWw6IDEwLFxyXG4gICAgICAgIGJvdW5kczogbmV3IFNpemUoNzIwLCA3MjApLFxyXG4gICAgICAgIHNlbmRGcmFtZU1ldGE6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBERUZBVUxUX0ZSQU1FU19QRVJfRlJBR01FTlQgPSAxO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgREVGQVVMVF9GUkFNRVNfUEVSX1NFQ09ORCA9IDYwO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRWxlbWVudChpZD86IHN0cmluZyk6IEhUTUxWaWRlb0VsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykgYXMgSFRNTFZpZGVvRWxlbWVudDtcclxuICAgICAgICB0YWcubXV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRhZy5hdXRvcGxheSA9IHRydWU7XHJcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnbXV0ZWQnKTtcclxuICAgICAgICB0YWcuc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICdhdXRvcGxheScpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRhZy5pZCA9IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YWcuY2xhc3NOYW1lID0gJ3ZpZGVvLWxheWVyJztcclxuICAgICAgICByZXR1cm4gdGFnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udmVydGVyPzogVmlkZW9Db252ZXJ0ZXI7XHJcbiAgICBwcml2YXRlIHZpZGVvU3RhdHM6IFF1YWxpdHlTdGF0c1tdID0gW107XHJcbiAgICBwcml2YXRlIG5vRGVjb2RlZEZyYW1lc1NpbmNlID0gLTE7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRUaW1lTm90Q2hhbmdlZFNpbmNlID0gLTE7XHJcbiAgICBwcml2YXRlIGJpZ0J1ZmZlclNpbmNlID0gLTE7XHJcbiAgICBwcml2YXRlIGFoZWFkT2ZCdWZmZXJTaW5jZSA9IC0xO1xyXG4gICAgcHVibGljIGZwZjogbnVtYmVyID0gTXNlUGxheWVyLkRFRkFVTFRfRlJBTUVTX1BFUl9GUkFHTUVOVDtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdXBwb3J0c1NjcmVlbnNob3QgPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBzb3VyY2VCdWZmZXI/OiBTb3VyY2VCdWZmZXI7XHJcbiAgICBwcml2YXRlIHdhaXRVbnRpbFNlZ21lbnRSZW1vdmVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGJsb2NrczogQmxvY2tbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBmcmFtZXM6IFVpbnQ4QXJyYXlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBqdW1wRW5kID0gLTE7XHJcbiAgICBwcml2YXRlIGxhc3RUaW1lID0gLTE7XHJcbiAgICBwcm90ZWN0ZWQgY2FuUGxheSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzZWVraW5nU2luY2UgPSAtMTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaXNTYWZhcmkgPSAhISh3aW5kb3cgYXMgdW5rbm93biBhcyBhbnkpWydzYWZhcmknXTtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpc0Nocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ0Nocm9tZScpO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGlzTWFjID0gbmF2aWdhdG9yLnBsYXRmb3JtLnN0YXJ0c1dpdGgoJ01hYycpO1xyXG4gICAgcHJpdmF0ZSBNQVhfVElNRV9UT19SRUNPVkVSID0gMjAwOyAvLyBtc1xyXG4gICAgcHJpdmF0ZSBNQVhfQlVGRkVSID0gdGhpcy5pc1NhZmFyaSA/IDIgOiB0aGlzLmlzQ2hyb21lICYmIHRoaXMuaXNNYWMgPyAwLjkgOiAwLjI7XHJcbiAgICBwcml2YXRlIE1BWF9BSEVBRCA9IC0wLjI7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIE1lZGlhU291cmNlICE9PSAndW5kZWZpbmVkJyAmJiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQobWltZVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHVkaWQ6IHN0cmluZyxcclxuICAgICAgICBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLFxyXG4gICAgICAgIG5hbWUgPSBNc2VQbGF5ZXIucGxheWVyRnVsbE5hbWUsXHJcbiAgICAgICAgcHJvdGVjdGVkIHRhZzogSFRNTFZpZGVvRWxlbWVudCA9IE1zZVBsYXllci5jcmVhdGVFbGVtZW50KCksXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcih1ZGlkLCBkaXNwbGF5SW5mbywgbmFtZSwgTXNlUGxheWVyLnN0b3JhZ2VLZXlQcmVmaXgsIHRhZyk7XHJcbiAgICAgICAgdGFnLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoZXZlbnQ6IE1vdXNlRXZlbnQpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGFnLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5vblZpZGVvRXJyb3IpO1xyXG4gICAgICAgIHRhZy5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5vblZpZGVvQ2FuUGxheSk7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxyXG4gICAgICAgIHNldExvZ2dlcigoKSA9PiB7fSwgY29uc29sZS5lcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb25WaWRlb0Vycm9yID0gKGV2ZW50OiBFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgZXZlbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBvblZpZGVvQ2FuUGxheSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLm9uQ2FuUGxheUhhbmRsZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlQ29udmVydGVyKFxyXG4gICAgICAgIHRhZzogSFRNTFZpZGVvRWxlbWVudCxcclxuICAgICAgICBmcHM6IG51bWJlciA9IE1zZVBsYXllci5ERUZBVUxUX0ZSQU1FU19QRVJfU0VDT05ELFxyXG4gICAgICAgIGZwZjogbnVtYmVyID0gTXNlUGxheWVyLkRFRkFVTFRfRlJBTUVTX1BFUl9GUkFHTUVOVCxcclxuICAgICk6IFZpZGVvQ29udmVydGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZpZGVvQ29udmVydGVyKHRhZywgZnBzLCBmcGYpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTogUXVhbGl0eVN0YXRzIHwgbnVsbCB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICBjb25zdCB2aWRlbyA9IHRoaXMudGFnIGFzIGFueTtcclxuICAgICAgICBpZiAodHlwZW9mIHZpZGVvLm1vekRlY29kZWRGcmFtZXMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy50YWcuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy50YWcuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbm93LFxyXG4gICAgICAgICAgICAgICAgZGVjb2RlZEZyYW1lczogdGVtcC50b3RhbFZpZGVvRnJhbWVzLFxyXG4gICAgICAgICAgICAgICAgZHJvcHBlZEZyYW1lczogdGVtcC5kcm9wcGVkVmlkZW9GcmFtZXMsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXZWJraXQtc3BlY2lmaWMgcHJvcGVydGllc1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8ud2Via2l0RGVjb2RlZEZyYW1lQ291bnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5vdyxcclxuICAgICAgICAgICAgICAgIGRlY29kZWRGcmFtZXM6IHZpZGVvLndlYmtpdERlY29kZWRGcmFtZUNvdW50LFxyXG4gICAgICAgICAgICAgICAgZHJvcHBlZEZyYW1lczogdmlkZW8ud2Via2l0RHJvcHBlZEZyYW1lQ291bnQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkNhblBsYXlIYW5kbGVyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FuUGxheSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50YWcucGxheSgpO1xyXG4gICAgICAgIHRoaXMudGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLm9uVmlkZW9DYW5QbGF5KTtcclxuICAgICAgICB0aGlzLmNoZWNrVmlkZW9SZXNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlTW9tZW50dW1TdGF0cygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzdGF0ID0gdGhpcy5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xyXG4gICAgICAgIGlmICghc3RhdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IG9uZVNlY29uZEJlZm9yZSA9IHRpbWVzdGFtcCAtIDEwMDA7XHJcbiAgICAgICAgdGhpcy52aWRlb1N0YXRzLnB1c2goc3RhdCk7XHJcblxyXG4gICAgICAgIHdoaWxlICh0aGlzLnZpZGVvU3RhdHMubGVuZ3RoICYmIHRoaXMudmlkZW9TdGF0c1swXS50aW1lc3RhbXAgPCBvbmVTZWNvbmRCZWZvcmUpIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlb1N0YXRzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0aGlzLmlucHV0Qnl0ZXMubGVuZ3RoICYmIHRoaXMuaW5wdXRCeXRlc1swXS50aW1lc3RhbXAgPCBvbmVTZWNvbmRCZWZvcmUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dEJ5dGVzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpbnB1dEJ5dGVzID0gMDtcclxuICAgICAgICB0aGlzLmlucHV0Qnl0ZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEJ5dGVzICs9IGl0ZW0uYnl0ZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaW5wdXRGcmFtZXMgPSB0aGlzLmlucHV0Qnl0ZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmICh0aGlzLnZpZGVvU3RhdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZGVzdCA9IHRoaXMudmlkZW9TdGF0c1swXTtcclxuICAgICAgICAgICAgY29uc3QgZGVjb2RlZEZyYW1lcyA9IHN0YXQuZGVjb2RlZEZyYW1lcyAtIG9sZGVzdC5kZWNvZGVkRnJhbWVzO1xyXG4gICAgICAgICAgICBjb25zdCBkcm9wcGVkRnJhbWVzID0gc3RhdC5kcm9wcGVkRnJhbWVzIC0gb2xkZXN0LmRyb3BwZWRGcmFtZXM7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGRyb3BwZWRGcmFtZXMgPSBpbnB1dEZyYW1lcyAtIGRlY29kZWRGcmFtZXM7XHJcbiAgICAgICAgICAgIHRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHMgPSB7XHJcbiAgICAgICAgICAgICAgICBkZWNvZGVkRnJhbWVzLFxyXG4gICAgICAgICAgICAgICAgZHJvcHBlZEZyYW1lcyxcclxuICAgICAgICAgICAgICAgIGlucHV0Qnl0ZXMsXHJcbiAgICAgICAgICAgICAgICBpbnB1dEZyYW1lcyxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlc2V0U3RhdHMoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucmVzZXRTdGF0cygpO1xyXG4gICAgICAgIHRoaXMudmlkZW9TdGF0cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbWFnZURhdGFVUkwoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLnRhZy5jbGllbnRXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy50YWcuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLnRhZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucGxheSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmdldFN0YXRlKCkgIT09IEJhc2VQbGF5ZXIuU1RBVEUuUExBWUlORykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jb252ZXJ0ZXIpIHtcclxuICAgICAgICAgICAgbGV0IGZwcyA9IE1zZVBsYXllci5ERUZBVUxUX0ZSQU1FU19QRVJfU0VDT05EO1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aWRlb1NldHRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBmcHMgPSB0aGlzLnZpZGVvU2V0dGluZ3MubWF4RnBzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29udmVydGVyID0gTXNlUGxheWVyLmNyZWF0ZUNvbnZlcnRlcih0aGlzLnRhZywgZnBzLCB0aGlzLmZwZik7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuUGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0U3RhdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXIucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuc3RvcENvbnZlcnRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnN0b3AoKTtcclxuICAgICAgICB0aGlzLnN0b3BDb252ZXJ0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbjogYm9vbGVhbiwgc2F2ZVRvU3RvcmFnZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZGVvU2V0dGluZ3MgJiYgdGhpcy52aWRlb1NldHRpbmdzLm1heEZwcyAhPT0gdmlkZW9TZXR0aW5ncy5tYXhGcHMpIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnZlcnRlciA9IE1zZVBsYXllci5jcmVhdGVDb252ZXJ0ZXIodGhpcy50YWcsIHZpZGVvU2V0dGluZ3MubWF4RnBzLCB0aGlzLmZwZik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhblBsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IEJhc2VQbGF5ZXIuU1RBVEUuUExBWUlORykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuc2V0VmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbiwgc2F2ZVRvU3RvcmFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gTXNlUGxheWVyLnByZWZlcnJlZFZpZGVvU2V0dGluZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tWaWRlb1Jlc2l6ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMudGFnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyB2aWRlb0hlaWdodCwgdmlkZW9XaWR0aCB9ID0gdGhpcy50YWc7XHJcbiAgICAgICAgaWYgKHRoaXMudmlkZW9IZWlnaHQgIT09IHZpZGVvSGVpZ2h0IHx8IHRoaXMudmlkZW9XaWR0aCAhPT0gdmlkZW9XaWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVNjcmVlbkluZm9Gb3JCb3VuZHModmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjbGVhblNvdXJjZUJ1ZmZlciA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuc291cmNlQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVyLnVwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYmxvY2tzLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5jbGVhblNvdXJjZUJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHRoaXMud2FpdFVudGlsU2VnbWVudFJlbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlU3RhcnQgPSB0aGlzLmJsb2Nrc1swXS5zdGFydDtcclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlRW5kID0gdGhpcy5ibG9ja3NbNF0uZW5kO1xyXG4gICAgICAgICAgICB0aGlzLmJsb2NrcyA9IHRoaXMuYmxvY2tzLnNsaWNlKDUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5yZW1vdmUocmVtb3ZlU3RhcnQsIHJlbW92ZUVuZCk7XHJcbiAgICAgICAgICAgIGxldCBmcmFtZSA9IHRoaXMuZnJhbWVzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChmcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrRm9ySUZyYW1lKGZyYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzLnVuc2hpZnQoZnJhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnJhbWUgPSB0aGlzLmZyYW1lcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbJHt0aGlzLm5hbWV9XWAsICdGYWlsZWQgdG8gY2xlYW4gc291cmNlIGJ1ZmZlcicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAganVtcFRvRW5kID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5zb3VyY2VCdWZmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zb3VyY2VCdWZmZXIudXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMudGFnLmJ1ZmZlcmVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMudGFnLmJ1ZmZlcmVkLmVuZCh0aGlzLnRhZy5zZWVrYWJsZS5sZW5ndGggLSAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV1gLCBgSnVtcGluZyB0byB0aGUgZW5kICgke3RoaXMuanVtcEVuZH0sICR7ZW5kIC0gdGhpcy5qdW1wRW5kfSkuYCk7XHJcbiAgICAgICAgdGhpcy50YWcuY3VycmVudFRpbWUgPSBlbmQ7XHJcbiAgICAgICAgdGhpcy5qdW1wRW5kID0gLTE7XHJcbiAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5qdW1wVG9FbmQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgcHVzaEZyYW1lKGZyYW1lOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucHVzaEZyYW1lKGZyYW1lKTtcclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tGb3JJRnJhbWUoZnJhbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVzLnB1c2goZnJhbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tGb3JCYWRTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2hlY2tGb3JCYWRTdGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBzdGFsbGVkIHBsYXliYWNrIChgc3RhbGxlZGAgZXZlbnQgaXMgbm90IGZpcmVkLCBidXQgdGhlIGltYWdlIGZyZWV6ZXMpXHJcbiAgICAgICAgY29uc3QgeyBjdXJyZW50VGltZSB9ID0gdGhpcy50YWc7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAvLyBsZXQgcmVhc29uVG9KdW1wID0gJyc7XHJcbiAgICAgICAgbGV0IGhhc1JlYXNvblRvSnVtcCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzLmRlY29kZWRGcmFtZXMgPT09IDAgJiYgdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cy5pbnB1dEZyYW1lcyA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vRGVjb2RlZEZyYW1lc1NpbmNlID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9EZWNvZGVkRnJhbWVzU2luY2UgPSBub3c7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBub3cgLSB0aGlzLm5vRGVjb2RlZEZyYW1lc1NpbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID4gdGhpcy5NQVhfVElNRV9UT19SRUNPVkVSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYXNvblRvSnVtcCA9IGBObyBmcmFtZXMgZGVjb2RlZCBmb3IgJHt0aW1lfSBtcy5gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNSZWFzb25Ub0p1bXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9EZWNvZGVkRnJhbWVzU2luY2UgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPT09IHRoaXMubGFzdFRpbWUgJiYgdGhpcy5jdXJyZW50VGltZU5vdENoYW5nZWRTaW5jZSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZU5vdENoYW5nZWRTaW5jZSA9IG5vdztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lTm90Q2hhbmdlZFNpbmNlID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICBpZiAodGhpcy50YWcuYnVmZmVyZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHRoaXMudGFnLmJ1ZmZlcmVkLmVuZCgwKTtcclxuICAgICAgICAgICAgY29uc3QgYnVmZmVyZWQgPSBlbmQgLSBjdXJyZW50VGltZTtcclxuXHJcbiAgICAgICAgICAgIGlmICgoZW5kIHwgMCkgLSBjdXJyZW50VGltZSA+IHRoaXMuTUFYX0JVRkZFUikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmlnQnVmZmVyU2luY2UgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaWdCdWZmZXJTaW5jZSA9IG5vdztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IG5vdyAtIHRoaXMuYmlnQnVmZmVyU2luY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiB0aGlzLk1BWF9USU1FX1RPX1JFQ09WRVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhc29uVG9KdW1wID0gYEJ1ZmZlciBpcyBiaWdnZXIgdGhlbiAke3RoaXMuTUFYX0JVRkZFUn0gKCR7YnVmZmVyZWQudG9GaXhlZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICl9KSBmb3IgJHt0aW1lfSBtcy5gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNSZWFzb25Ub0p1bXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmlnQnVmZmVyU2luY2UgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYnVmZmVyZWQgPCB0aGlzLk1BWF9BSEVBRCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWhlYWRPZkJ1ZmZlclNpbmNlID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWhlYWRPZkJ1ZmZlclNpbmNlID0gbm93O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gbm93IC0gdGhpcy5haGVhZE9mQnVmZmVyU2luY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiB0aGlzLk1BWF9USU1FX1RPX1JFQ09WRVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhc29uVG9KdW1wID0gYEN1cnJlbnQgdGltZSBpcyBhaGVhZCBvZiBlbmQgKCR7YnVmZmVyZWR9KSBmb3IgJHt0aW1lfSBtcy5gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNSZWFzb25Ub0p1bXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWhlYWRPZkJ1ZmZlclNpbmNlID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWVOb3RDaGFuZ2VkU2luY2UgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gbm93IC0gdGhpcy5jdXJyZW50VGltZU5vdENoYW5nZWRTaW5jZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lID4gdGhpcy5NQVhfVElNRV9UT19SRUNPVkVSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhc29uVG9KdW1wID0gYEN1cnJlbnQgdGltZSBub3QgY2hhbmdlZCBmb3IgJHt0aW1lfSBtcy5gO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1JlYXNvblRvSnVtcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFoYXNSZWFzb25Ub0p1bXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgd2FpdGluZ0ZvclNlZWtFbmQgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWVraW5nU2luY2UgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB3YWl0aW5nRm9yU2Vla0VuZCA9IG5vdyAtIHRoaXMuc2Vla2luZ1NpbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhaXRpbmdGb3JTZWVrRW5kIDwgMTUwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmluZm8oYCR7cmVhc29uVG9KdW1wfSBKdW1waW5nIHRvIHRoZSBlbmQuICR7d2FpdGluZ0ZvclNlZWtFbmR9YCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvblNlZWtFbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlZWtpbmdTaW5jZSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgb25TZWVrRW5kKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFnLnBsYXkoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Vla2luZ1NpbmNlICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbJHt0aGlzLm5hbWV9XWAsIGBBdHRlbXB0IHRvIHNlZWsgd2hpbGUgYWxyZWFkeSBzZWVraW5nISAke3dhaXRpbmdGb3JTZWVrRW5kfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2Vla2luZ1NpbmNlID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLnRhZy5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCBvblNlZWtFbmQpO1xyXG4gICAgICAgICAgICB0aGlzLnRhZy5jdXJyZW50VGltZSA9IHRoaXMudGFnLmJ1ZmZlcmVkLmVuZCgwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNoZWNrRm9ySUZyYW1lKGZyYW1lOiBVaW50OEFycmF5KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnZlcnRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVyID0gdGhpcy5jb252ZXJ0ZXIuc291cmNlQnVmZmVyO1xyXG4gICAgICAgIGlmIChCYXNlUGxheWVyLmlzSUZyYW1lKGZyYW1lKSkge1xyXG4gICAgICAgICAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgZW5kID0gMDtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFnLmJ1ZmZlcmVkICYmIHRoaXMudGFnLmJ1ZmZlcmVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLnRhZy5idWZmZXJlZC5zdGFydCgwKTtcclxuICAgICAgICAgICAgICAgIGVuZCA9IHRoaXMudGFnLmJ1ZmZlcmVkLmVuZCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW5kICE9PSAwICYmIHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibG9jazogQmxvY2sgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tzLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmxvY2tzLmxlbmd0aCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0VW50aWxTZWdtZW50UmVtb3ZlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlQnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMuY2xlYW5Tb3VyY2VCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udmVydGVyLmFwcGVuZFJhd0RhdGEoZnJhbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdXJjZUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIub251cGRhdGVlbmQgPSB0aGlzLmNoZWNrVmlkZW9SZXNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMud2FpdFVudGlsU2VnbWVudFJlbW92ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXIuYXBwZW5kUmF3RGF0YShmcmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdG9wQ29udmVydGVyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnZlcnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnRlci5hcHBlbmRSYXdEYXRhKG5ldyBVaW50OEFycmF5KFtdKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udmVydGVyLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbnZlcnRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEZpdFRvU2NyZWVuU3RhdHVzKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBNc2VQbGF5ZXIuZ2V0Rml0VG9TY3JlZW5TdGF0dXModGhpcy51ZGlkLCB0aGlzLmRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZFZpZGVvU2V0dGluZ3MoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIE1zZVBsYXllci5sb2FkVmlkZW9TZXR0aW5ncyh0aGlzLnVkaWQsIHRoaXMuZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VDYW52YXNCYXNlZFBsYXllciB9IGZyb20gJy4vQmFzZUNhbnZhc0Jhc2VkUGxheWVyJztcclxuaW1wb3J0IFRpbnlIMjY0V29ya2VyIGZyb20gJ3dvcmtlci1sb2FkZXIhLi8uLi8uLi8uLi92ZW5kb3IvdGlueWgyNjQvSDI2NE5BTERlY29kZXIud29ya2VyJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBZVVZXZWJHTENhbnZhcyBmcm9tICcuLi8uLi8uLi92ZW5kb3IvdGlueWgyNjQvWVVWV2ViR0xDYW52YXMnO1xyXG5pbXBvcnQgWVVWQ2FudmFzIGZyb20gJy4uLy4uLy4uL3ZlbmRvci90aW55aDI2NC9ZVVZDYW52YXMnO1xyXG5pbXBvcnQgU2l6ZSBmcm9tICcuLi9TaXplJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi9EaXNwbGF5SW5mbyc7XHJcblxyXG50eXBlIFdvcmtlck1lc3NhZ2UgPSB7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBkYXRhOiBBcnJheUJ1ZmZlcjtcclxuICAgIHJlbmRlclN0YXRlSWQ6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaW55SDI2NFBsYXllciBleHRlbmRzIEJhc2VDYW52YXNCYXNlZFBsYXllciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN0b3JhZ2VLZXlQcmVmaXggPSAnVGlueWgyNjREZWNvZGVyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGxheWVyRnVsbE5hbWUgPSAnVGlueSBIMjY0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGxheWVyQ29kZU5hbWUgPSAndGlueWgyNjQnO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdmlkZW9TdHJlYW1JZCA9IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHByZWZlcnJlZFZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MgPSBuZXcgVmlkZW9TZXR0aW5ncyh7XHJcbiAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogLTEsXHJcbiAgICAgICAgYml0cmF0ZTogNTI0Mjg4LFxyXG4gICAgICAgIG1heEZwczogMjQsXHJcbiAgICAgICAgaUZyYW1lSW50ZXJ2YWw6IDUsXHJcbiAgICAgICAgYm91bmRzOiBuZXcgU2l6ZSg0ODAsIDQ4MCksXHJcbiAgICAgICAgc2VuZEZyYW1lTWV0YTogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICBwcml2YXRlIHdvcmtlcj86IFRpbnlIMjY0V29ya2VyO1xyXG4gICAgcHJpdmF0ZSBpc0RlY29kZXJSZWFkeSA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIGNhbnZhcz86IFlVVldlYkdMQ2FudmFzIHwgWVVWQ2FudmFzO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN1cHBvcnRzU2NyZWVuc2hvdDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIFdlYkFzc2VtYmx5ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUgPT09ICdmdW5jdGlvbic7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IodWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLCBuYW1lID0gVGlueUgyNjRQbGF5ZXIucGxheWVyRnVsbE5hbWUpIHtcclxuICAgICAgICBzdXBlcih1ZGlkLCBkaXNwbGF5SW5mbywgbmFtZSwgVGlueUgyNjRQbGF5ZXIuc3RvcmFnZUtleVByZWZpeCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbldvcmtlck1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFdvcmtlck1lc3NhZ2UgPSBldmVudC5kYXRhO1xyXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BpY3R1cmVSZWFkeSc6XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGRhdGEgfSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRnJhbWVEZWNvZGVkKHdpZHRoLCBoZWlnaHQsIG5ldyBVaW50OEFycmF5KGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkZWNvZGVyUmVhZHknOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RlY29kZXJSZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgRXJyb3IoYFdyb25nIG1lc3NhZ2UgdHlwZSBcIiR7bWVzc2FnZS50eXBlfVwiYCkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0V29ya2VyKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMud29ya2VyID0gbmV3IFRpbnlIMjY0V29ya2VyKCk7XHJcbiAgICAgICAgdGhpcy53b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25Xb3JrZXJNZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgaW5pdENhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmluaXRDYW52YXMod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIGlmIChCYXNlQ2FudmFzQmFzZWRQbGF5ZXIuaGFzV2ViR0xTdXBwb3J0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgWVVWV2ViR0xDYW52YXModGhpcy50YWcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gbmV3IFlVVkNhbnZhcyh0aGlzLnRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkZWNvZGUoZGF0YTogVWludDhBcnJheSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy53b3JrZXIgfHwgIXRoaXMuaXNEZWNvZGVyUmVhZHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdkZWNvZGUnLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YS5idWZmZXIsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGRhdGEuYnl0ZU9mZnNldCxcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogZGF0YS5ieXRlTGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgcmVuZGVyU3RhdGVJZDogVGlueUgyNjRQbGF5ZXIudmlkZW9TdHJlYW1JZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgW2RhdGEuYnVmZmVyXSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnBsYXkoKTtcclxuICAgICAgICBpZiAoIXRoaXMud29ya2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFdvcmtlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5zdG9wKCk7XHJcbiAgICAgICAgaWYgKHRoaXMud29ya2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uV29ya2VyTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHsgdHlwZTogJ3JlbGVhc2UnLCByZW5kZXJTdGF0ZUlkOiBUaW55SDI2NFBsYXllci52aWRlb1N0cmVhbUlkIH0pO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy53b3JrZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIFRpbnlIMjY0UGxheWVyLnByZWZlcnJlZFZpZGVvU2V0dGluZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNsZWFyU3RhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY2xlYXJTdGF0ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLndvcmtlcikge1xyXG4gICAgICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7IHR5cGU6ICdyZWxlYXNlJywgcmVuZGVyU3RhdGVJZDogVGlueUgyNjRQbGF5ZXIudmlkZW9TdHJlYW1JZCB9KTtcclxuICAgICAgICAgICAgVGlueUgyNjRQbGF5ZXIudmlkZW9TdHJlYW1JZCsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Rml0VG9TY3JlZW5TdGF0dXMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIFRpbnlIMjY0UGxheWVyLmdldEZpdFRvU2NyZWVuU3RhdHVzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRWaWRlb1NldHRpbmdzKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiBUaW55SDI2NFBsYXllci5sb2FkVmlkZW9TZXR0aW5ncyh0aGlzLnVkaWQsIHRoaXMuZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VDYW52YXNCYXNlZFBsYXllciB9IGZyb20gJy4vQmFzZUNhbnZhc0Jhc2VkUGxheWVyJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uL1NpemUnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uL0Rpc3BsYXlJbmZvJztcclxuaW1wb3J0IEgyNjRQYXJzZXIgZnJvbSAnaDI2NC1jb252ZXJ0ZXIvZGlzdC9oMjY0LXBhcnNlcic7XHJcbmltcG9ydCBOQUxVIGZyb20gJ2gyNjQtY29udmVydGVyL2Rpc3QvdXRpbC9OQUxVJztcclxuaW1wb3J0IFNjcmVlbkluZm8gZnJvbSAnLi4vU2NyZWVuSW5mbyc7XHJcbmltcG9ydCBSZWN0IGZyb20gJy4uL1JlY3QnO1xyXG5cclxudHlwZSBQYXJhbWV0ZXJzU3ViU2V0ID0ge1xyXG4gICAgY29kZWM6IHN0cmluZztcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHRvSGV4KHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKS50b1VwcGVyQ2FzZSgpO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV2ViQ29kZWNzUGxheWVyIGV4dGVuZHMgQmFzZUNhbnZhc0Jhc2VkUGxheWVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgc3RvcmFnZUtleVByZWZpeCA9ICdXZWJDb2RlY3NQbGF5ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwbGF5ZXJGdWxsTmFtZSA9ICdXZWJDb2RlY3MnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwbGF5ZXJDb2RlTmFtZSA9ICd3ZWJjb2RlY3MnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcHJlZmVycmVkVmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyA9IG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uOiAtMSxcclxuICAgICAgICBiaXRyYXRlOiA1MjQyODgsXHJcbiAgICAgICAgbWF4RnBzOiAyNCxcclxuICAgICAgICBpRnJhbWVJbnRlcnZhbDogNSxcclxuICAgICAgICBib3VuZHM6IG5ldyBTaXplKDQ4MCwgNDgwKSxcclxuICAgICAgICBzZW5kRnJhbWVNZXRhOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBWaWRlb0RlY29kZXIgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFZpZGVvRGVjb2Rlci5pc0NvbmZpZ1N1cHBvcnRlZCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGSVhNRTogdmVyaWZ5IHN1cHBvcnRcclxuICAgICAgICAvLyBjb25zdCByZXN1bHQgPSBhd2FpdCBWaWRlb0RlY29kZXIuaXNDb25maWdTdXBwb3J0ZWQoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBwYXJzZVNQUyhkYXRhOiBVaW50OEFycmF5KTogUGFyYW1ldGVyc1N1YlNldCB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBwcm9maWxlX2lkYyxcclxuICAgICAgICAgICAgY29uc3RyYWludF9zZXRfZmxhZ3MsXHJcbiAgICAgICAgICAgIGxldmVsX2lkYyxcclxuICAgICAgICAgICAgcGljX3dpZHRoX2luX21ic19taW51czEsXHJcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQsXHJcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0LFxyXG4gICAgICAgICAgICBmcmFtZV9tYnNfb25seV9mbGFnLFxyXG4gICAgICAgICAgICBwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEsXHJcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfdG9wX29mZnNldCxcclxuICAgICAgICAgICAgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0LFxyXG4gICAgICAgICAgICBzYXIsXHJcbiAgICAgICAgfSA9IEgyNjRQYXJzZXIucGFyc2VTUFMoZGF0YSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNhclNjYWxlID0gc2FyWzBdIC8gc2FyWzFdO1xyXG4gICAgICAgIGNvbnN0IGNvZGVjID0gYGF2YzEuJHtbcHJvZmlsZV9pZGMsIGNvbnN0cmFpbnRfc2V0X2ZsYWdzLCBsZXZlbF9pZGNdLm1hcCh0b0hleCkuam9pbignJyl9YDtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChcclxuICAgICAgICAgICAgKChwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSArIDEpICogMTYgLSBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ICogMiAtIGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0ICogMikgKiBzYXJTY2FsZSxcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9XHJcbiAgICAgICAgICAgICgyIC0gZnJhbWVfbWJzX29ubHlfZmxhZykgKiAocGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxICsgMSkgKiAxNiAtXHJcbiAgICAgICAgICAgIChmcmFtZV9tYnNfb25seV9mbGFnID8gMiA6IDQpICogKGZyYW1lX2Nyb3BfdG9wX29mZnNldCArIGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY29kZWMsIHdpZHRoLCBoZWlnaHQgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3VwcG9ydHNTY3JlZW5zaG90ID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBkZWNvZGVyOiBWaWRlb0RlY29kZXI7XHJcbiAgICBwcml2YXRlIGJ1ZmZlcjogQXJyYXlCdWZmZXIgfCB1bmRlZmluZWQ7XHJcbiAgICBwcml2YXRlIGhhZElEUiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBidWZmZXJlZFNQUyA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBidWZmZXJlZFBQUyA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVkaWQ6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbywgbmFtZSA9IFdlYkNvZGVjc1BsYXllci5wbGF5ZXJGdWxsTmFtZSkge1xyXG4gICAgICAgIHN1cGVyKHVkaWQsIGRpc3BsYXlJbmZvLCBuYW1lLCBXZWJDb2RlY3NQbGF5ZXIuc3RvcmFnZUtleVByZWZpeCk7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMudGFnLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdGYWlsZWQgdG8gZ2V0IDJkIGNvbnRleHQgZnJvbSBjYW52YXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmRlY29kZXIgPSB0aGlzLmNyZWF0ZURlY29kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZURlY29kZXIoKTogVmlkZW9EZWNvZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZpZGVvRGVjb2Rlcih7XHJcbiAgICAgICAgICAgIG91dHB1dDogKGZyYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRnJhbWVEZWNvZGVkKDAsIDAsIGZyYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IChlcnJvcjogRE9NRXhjZXB0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLCBgY29kZTogJHtlcnJvci5jb2RlfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFkZFRvQnVmZmVyKGRhdGE6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHtcclxuICAgICAgICBsZXQgYXJyYXk6IFVpbnQ4QXJyYXk7XHJcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIuYnl0ZUxlbmd0aCArIGRhdGEuYnl0ZUxlbmd0aCk7XHJcbiAgICAgICAgICAgIGFycmF5LnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpO1xyXG4gICAgICAgICAgICBhcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoZGF0YSksIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFycmF5ID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBhcnJheS5idWZmZXI7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzY2FsZUNhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvU2l6ZSA9IG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGxldCBzY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMuYm91bmRzICYmICF0aGlzLmJvdW5kcy5pbnRlcnNlY3QodmlkZW9TaXplKS5lcXVhbHModmlkZW9TaXplKSkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IE1hdGgubWluKHRoaXMuYm91bmRzLncgLyB3aWR0aCwgdGhpcy5ib3VuZHMuaCAvIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHcgPSB3aWR0aCAqIHNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGggPSBoZWlnaHQgKiBzY2FsZTtcclxuICAgICAgICBjb25zdCBzY3JlZW5JbmZvID0gbmV3IFNjcmVlbkluZm8obmV3IFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCksIG5ldyBTaXplKHcsIGgpLCAwKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2lucHV0LXZpZGVvLXJlc2l6ZScsIHNjcmVlbkluZm8pO1xyXG4gICAgICAgIHRoaXMuc2V0U2NyZWVuSW5mbyhzY3JlZW5JbmZvKTtcclxuXHJcbiAgICAgICAgLy8gRklYTUU6IGNhbnZhcyB3YXMgaW5pdGlhbGl6ZWQgZnJvbSBgLnNldFNjcmVlbkluZm8oKWAgY2FsbCBhYm92ZSwgYnV0IHdpdGggd3JvbmcgdmFsdWVzXHJcbiAgICAgICAgdGhpcy5pbml0Q2FudmFzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGlmIChzY2FsZSAhPT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnRhZy5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZS50b0ZpeGVkKDQpfSlgO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFnLnN0eWxlLnRyYW5zZm9ybSA9IGBgO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhZy5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAndG9wIGxlZnQnO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkZWNvZGUoZGF0YTogVWludDhBcnJheSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0eXBlID0gZGF0YVs0XSAmIDMxO1xyXG4gICAgICAgIGNvbnN0IGlzSURSID0gdHlwZSA9PT0gTkFMVS5JRFI7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSBOQUxVLlNQUykge1xyXG4gICAgICAgICAgICBjb25zdCB7IGNvZGVjLCB3aWR0aCwgaGVpZ2h0IH0gPSBXZWJDb2RlY3NQbGF5ZXIucGFyc2VTUFMoZGF0YS5zdWJhcnJheSg0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGVDYW52YXMod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZzogVmlkZW9EZWNvZGVyQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZWMsXHJcbiAgICAgICAgICAgICAgICBvcHRpbWl6ZUZvckxhdGVuY3k6IHRydWUsXHJcbiAgICAgICAgICAgIH0gYXMgVmlkZW9EZWNvZGVyQ29uZmlnO1xyXG4gICAgICAgICAgICB0aGlzLmRlY29kZXIuY29uZmlndXJlKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyZWRTUFMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRvQnVmZmVyKGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmhhZElEUiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBOQUxVLlBQUykge1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcmVkUFBTID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5hZGRUb0J1ZmZlcihkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gTkFMVS5TRUkpIHtcclxuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgbG9uZWx5IFNFSSBmcm9tIHdzLXF2aFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVmZmVyZWRTUFMgfHwgIXRoaXMuYnVmZmVyZWRQUFMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhcnJheSA9IHRoaXMuYWRkVG9CdWZmZXIoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5oYWRJRFIgPSB0aGlzLmhhZElEUiB8fCBpc0lEUjtcclxuICAgICAgICBpZiAoYXJyYXkgJiYgdGhpcy5kZWNvZGVyLnN0YXRlID09PSAnY29uZmlndXJlZCcgJiYgdGhpcy5oYWRJRFIpIHtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyZWRQUFMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJlZFNQUyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlY29kZXIuZGVjb2RlKFxyXG4gICAgICAgICAgICAgICAgbmV3IEVuY29kZWRWaWRlb0NodW5rKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAna2V5JyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYXJyYXkuYnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRyYXdEZWNvZGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kZWNvZGVkRnJhbWVzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZTogVmlkZW9GcmFtZSA9IGRhdGEuZnJhbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGZyYW1lLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIGZyYW1lLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGVjb2RlZEZyYW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhd0RlY29kZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByb3RlY3RlZCBkcm9wRnJhbWUoZnJhbWU6IFZpZGVvRnJhbWUpOiB2b2lkIHtcclxuICAgICAgICBmcmFtZS5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXRUb1NjcmVlblN0YXR1cygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gV2ViQ29kZWNzUGxheWVyLnByZWZlcnJlZFZpZGVvU2V0dGluZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRWaWRlb1NldHRpbmdzKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiBXZWJDb2RlY3NQbGF5ZXIubG9hZFZpZGVvU2V0dGluZ3ModGhpcy51ZGlkLCB0aGlzLmRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbmVlZFNjcmVlbkluZm9CZWZvcmVQbGF5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5zdG9wKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVjb2Rlci5zdGF0ZSA9PT0gJ2NvbmZpZ3VyZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUb29sQm94RWxlbWVudCB9IGZyb20gJy4vVG9vbEJveEVsZW1lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xCb3gge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBob2xkZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxpc3Q6IFRvb2xCb3hFbGVtZW50PGFueT5bXSkge1xyXG4gICAgICAgIHRoaXMuaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LmFkZCgnY29udHJvbC1idXR0b25zLWxpc3QnLCAnY29udHJvbC13cmFwcGVyJyk7XHJcbiAgICAgICAgbGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0QWxsRWxlbWVudHMoKS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob2xkZXIuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SG9sZGVyRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaG9sZGVyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IE9wdGlvbmFsLCBUb29sQm94RWxlbWVudCB9IGZyb20gJy4vVG9vbEJveEVsZW1lbnQnO1xyXG5pbXBvcnQgU3ZnSW1hZ2UsIHsgSWNvbiB9IGZyb20gJy4uL3VpL1N2Z0ltYWdlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sQm94QnV0dG9uIGV4dGVuZHMgVG9vbEJveEVsZW1lbnQ8SFRNTEJ1dHRvbkVsZW1lbnQ+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYnRuOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlOiBzdHJpbmcsIGljb246IEljb24sIG9wdGlvbmFsPzogT3B0aW9uYWwpIHtcclxuICAgICAgICBzdXBlcih0aXRsZSwgb3B0aW9uYWwpO1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdjb250cm9sLWJ1dHRvbicpO1xyXG4gICAgICAgIGJ0bi50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIGJ0bi5hcHBlbmRDaGlsZChTdmdJbWFnZS5jcmVhdGUoaWNvbikpO1xyXG4gICAgICAgIHRoaXMuYnRuID0gYnRuO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFbGVtZW50KCk6IEhUTUxCdXR0b25FbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5idG47XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0QWxsRWxlbWVudHMoKTogSFRNTEVsZW1lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLmJ0bl07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgT3B0aW9uYWwsIFRvb2xCb3hFbGVtZW50IH0gZnJvbSAnLi9Ub29sQm94RWxlbWVudCc7XHJcbmltcG9ydCBTdmdJbWFnZSwgeyBJY29uIH0gZnJvbSAnLi4vdWkvU3ZnSW1hZ2UnO1xyXG5cclxudHlwZSBJY29ucyA9IHtcclxuICAgIG9uPzogSWNvbjtcclxuICAgIG9mZjogSWNvbjtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb29sQm94Q2hlY2tib3ggZXh0ZW5kcyBUb29sQm94RWxlbWVudDxIVE1MSW5wdXRFbGVtZW50PiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsYWJlbDogSFRNTExhYmVsRWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaW1hZ2VPbj86IEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGltYWdlT2ZmOiBFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgaWNvbnM6IEljb25zIHwgSWNvbiwgb3B0X2lkPzogc3RyaW5nLCBvcHRpb25hbD86IE9wdGlvbmFsKSB7XHJcbiAgICAgICAgc3VwZXIodGl0bGUsIG9wdGlvbmFsKTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaW5wdXQudHlwZSA9ICdjaGVja2JveCc7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgIGxhYmVsLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnY29udHJvbC1idXR0b24nKTtcclxuICAgICAgICBsZXQgaWNvbk9mZjogSWNvbjtcclxuICAgICAgICBsZXQgaWNvbk9uOiBJY29uIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh0eXBlb2YgaWNvbnMgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGljb25PZmYgPSBpY29ucy5vZmY7XHJcbiAgICAgICAgICAgIGljb25PbiA9IGljb25zLm9uO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGljb25PZmYgPSBpY29ucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbWFnZU9mZiA9IFN2Z0ltYWdlLmNyZWF0ZShpY29uT2ZmKTtcclxuICAgICAgICB0aGlzLmltYWdlT2ZmLmNsYXNzTGlzdC5hZGQoJ2ltYWdlJywgJ2ltYWdlLW9mZicpO1xyXG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2VPZmYpO1xyXG4gICAgICAgIGlmIChpY29uT24pIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZU9uID0gU3ZnSW1hZ2UuY3JlYXRlKGljb25Pbik7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VPbi5jbGFzc0xpc3QuYWRkKCdpbWFnZScsICdpbWFnZS1vbicpO1xyXG4gICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZCh0aGlzLmltYWdlT24pO1xyXG4gICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCd0d28taW1hZ2VzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlkID0gb3B0X2lkIHx8IHRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnICcsICdfJyk7XHJcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IGlucHV0LmlkID0gYGlucHV0XyR7aWR9YDtcclxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFbGVtZW50KCk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBbGxFbGVtZW50cygpOiBIVE1MRWxlbWVudFtdIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuaW5wdXQsIHRoaXMubGFiZWxdO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCB0eXBlIE9wdGlvbmFsID0ge1xyXG4gICAgW2luZGV4OiBzdHJpbmddOiBhbnk7XHJcbn07XHJcblxyXG4vLyB0eXBlIExpc3RlbmVyID0gPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwLCBUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHR5cGU6IEssIGVsOiBUb29sQm94RWxlbWVudDxUPikgPT4gYW55O1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRvb2xCb3hFbGVtZW50PFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIFNldDw8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KHR5cGU6IEssIGVsOiBUb29sQm94RWxlbWVudDxUPikgPT4gYW55Pj4gPVxyXG4gICAgICAgIG5ldyBNYXAoKTtcclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdGl0bGU6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG9wdGlvbmFsPzogT3B0aW9uYWwpIHt9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEVsZW1lbnQoKTogVDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBbGxFbGVtZW50cygpOiBIVE1MRWxlbWVudFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwPihcclxuICAgICAgICB0eXBlOiBLLFxyXG4gICAgICAgIGxpc3RlbmVyOiA8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KHR5cGU6IEssIGVsOiBUb29sQm94RWxlbWVudDxUPikgPT4gYW55LFxyXG4gICAgICAgIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLmxpc3RlbmVycy5nZXQodHlwZSkgfHwgbmV3IFNldCgpO1xyXG4gICAgICAgIGlmICghc2V0LnNpemUpIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgdGhpcy5vbkV2ZW50LCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0LmFkZChsaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHR5cGUsIHNldCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcjxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcD4oXHJcbiAgICAgICAgdHlwZTogSyxcclxuICAgICAgICBsaXN0ZW5lcjogPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwPih0eXBlOiBLLCBlbDogVG9vbEJveEVsZW1lbnQ8VD4pID0+IGFueSxcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMubGlzdGVuZXJzLmdldCh0eXBlKTtcclxuICAgICAgICBpZiAoIXNldCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldC5kZWxldGUobGlzdGVuZXIpO1xyXG4gICAgICAgIGlmICghc2V0LnNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHR5cGUpO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLm9uRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRXZlbnQgPSA8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KGV2OiBIVE1MRWxlbWVudEV2ZW50TWFwW0tdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2LnR5cGUpO1xyXG4gICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGV2LnR5cGUgYXMgSztcclxuICAgICAgICBzZXQuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgbGlzdGVuZXIodHlwZSwgdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbnR5cGUgVmFsdWUgPSBhbnk7XHJcblxyXG5mdW5jdGlvbiBodG1sVmFsdWUodmFsdWU6IFZhbHVlKTogc3RyaW5nIHtcclxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gJ251bGwnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2R1bW15Jyk7XHJcbiAgICBlLmlubmVyVGV4dCA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICByZXR1cm4gZS5pbm5lckhUTUw7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBodG1sID0gZnVuY3Rpb24gaHRtbChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiBSZWFkb25seUFycmF5PFZhbHVlPik6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT4gYWNjICsgaHRtbFZhbHVlKHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSkudG9TdHJpbmcoKTtcclxuICAgIHJldHVybiB0ZW1wbGF0ZTtcclxufTtcclxuIiwiaW1wb3J0IEtleWJvYXJkU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19rZXlib2FyZF82NzhfNDhkcC5zdmcnO1xyXG5pbXBvcnQgTW9yZVNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvaWNfbW9yZV9ob3Jpel82NzhfNDhkcC5zdmcnO1xyXG5pbXBvcnQgQ2FtZXJhU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19waG90b19jYW1lcmFfNjc4XzQ4ZHAuc3ZnJztcclxuaW1wb3J0IFBvd2VyU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19wb3dlcl9zZXR0aW5nc19uZXdfNjc4XzQ4cHguc3ZnJztcclxuaW1wb3J0IFZvbHVtZURvd25TVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX3ZvbHVtZV9kb3duXzY3OF80OHB4LnN2Zyc7XHJcbmltcG9ydCBWb2x1bWVVcFNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvaWNfdm9sdW1lX3VwXzY3OF80OHB4LnN2Zyc7XHJcbmltcG9ydCBCYWNrU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9TeXN0ZW1fQmFja182Nzguc3ZnJztcclxuaW1wb3J0IEhvbWVTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L1N5c3RlbV9Ib21lXzY3OC5zdmcnO1xyXG5pbXBvcnQgT3ZlcnZpZXdTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L1N5c3RlbV9PdmVydmlld182Nzguc3ZnJztcclxuaW1wb3J0IENhbmNlbFNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvY2FuY2VsLnN2Zyc7XHJcbmltcG9ydCBPZmZsaW5lU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9vZmZsaW5lLnN2Zyc7XHJcbmltcG9ydCBSZWZyZXNoU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9yZWZyZXNoLnN2Zyc7XHJcbmltcG9ydCBTZXR0aW5nc1NWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvc2V0dGluZ3Muc3ZnJztcclxuaW1wb3J0IE1lbnVTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL21lbnUuc3ZnJztcclxuaW1wb3J0IEFycm93QmFja1NWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvYXJyb3dfYmFjay5zdmcnO1xyXG5pbXBvcnQgVG9nZ2xlT25TVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL3RvZ2dsZV9vbi5zdmcnO1xyXG5pbXBvcnQgVG9nZ2xlT2ZmU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy90b2dnbGVfb2ZmLnN2Zyc7XHJcbmltcG9ydCBQYXN0ZTFTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL2ljX3Bhc3RlLnN2Zyc7XHJcbmltcG9ydCBQYXN0ZTJTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL2ljX3Bhc3RlMi5zdmcnO1xyXG5pbXBvcnQgUGFzdGUzU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9pY19wYXN0ZTMuc3ZnJztcclxuXHJcbmV4cG9ydCBlbnVtIEljb24ge1xyXG4gICAgQkFDSyxcclxuICAgIEhPTUUsXHJcbiAgICBPVkVSVklFVyxcclxuICAgIFBPV0VSLFxyXG4gICAgVk9MVU1FX1VQLFxyXG4gICAgVk9MVU1FX0RPV04sXHJcbiAgICBNT1JFLFxyXG4gICAgQ0FNRVJBLFxyXG4gICAgS0VZQk9BUkQsXHJcbiAgICBDQU5DRUwsXHJcbiAgICBPRkZMSU5FLFxyXG4gICAgUkVGUkVTSCxcclxuICAgIFNFVFRJTkdTLFxyXG4gICAgTUVOVSxcclxuICAgIEFSUk9XX0JBQ0ssXHJcbiAgICBUT0dHTEVfT04sXHJcbiAgICBUT0dHTEVfT0ZGLFxyXG4gICAgUEFTVEUxLFxyXG4gICAgUEFTVEUyLFxyXG4gICAgUEFTVEUzLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdmdJbWFnZSB7XHJcbiAgICBzdGF0aWMgSWNvbiA9IEljb247XHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTdmdTdHJpbmcodHlwZTogSWNvbik6IHN0cmluZyB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5LRVlCT0FSRDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXlib2FyZFNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLk1PUkU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9yZVNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLkNBTUVSQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYW1lcmFTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5QT1dFUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBQb3dlclNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLlZPTFVNRV9ET1dOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFZvbHVtZURvd25TVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5WT0xVTUVfVVA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVm9sdW1lVXBTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5CQUNLOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJhY2tTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5IT01FOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEhvbWVTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5PVkVSVklFVzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPdmVydmlld1NWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLkNBTkNFTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYW5jZWxTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5PRkZMSU5FOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9mZmxpbmVTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5SRUZSRVNIOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZnJlc2hTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5TRVRUSU5HUzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBTZXR0aW5nc1NWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLk1FTlU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWVudVNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLkFSUk9XX0JBQ0s6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyb3dCYWNrU1ZHO1xyXG4gICAgICAgICAgICBjYXNlIEljb24uVE9HR0xFX09OOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRvZ2dsZU9uU1ZHO1xyXG4gICAgICAgICAgICBjYXNlIEljb24uVE9HR0xFX09GRjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBUb2dnbGVPZmZTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5QQVNURTE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFzdGUxU1ZHO1xyXG4gICAgICAgICAgICBjYXNlIEljb24uUEFTVEUyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhc3RlMlNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLlBBU1RFMzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBQYXN0ZTNTVkc7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUodHlwZTogSWNvbik6IEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZHVtbXkuaW5uZXJIVE1MID0gdGhpcy5nZXRTdmdTdHJpbmcodHlwZSk7XHJcbiAgICAgICAgY29uc3Qgc3ZnID0gZHVtbXkuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgY29uc3QgdGl0bGVzID0gc3ZnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGl0bGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBzdmcucmVtb3ZlQ2hpbGQodGl0bGVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN2ZztcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZW51bSBBQ1RJT04ge1xyXG4gICAgTElTVF9IT1NUUyA9ICdsaXN0LWhvc3RzJyxcclxuICAgIEFQUExfREVWSUNFX0xJU1QgPSAnYXBwbC1kZXZpY2UtbGlzdCcsXHJcbiAgICBHT09HX0RFVklDRV9MSVNUID0gJ2dvb2ctZGV2aWNlLWxpc3QnLFxyXG4gICAgTVVMVElQTEVYID0gJ211bHRpcGxleCcsXHJcbiAgICBTSEVMTCA9ICdzaGVsbCcsXHJcbiAgICBQUk9YWV9XUyA9ICdwcm94eS13cycsXHJcbiAgICBQUk9YWV9BREIgPSAncHJveHktYWRiJyxcclxuICAgIERFVlRPT0xTID0gJ2RldnRvb2xzJyxcclxuICAgIFNUUkVBTV9TQ1JDUFkgPSAnc3RyZWFtJyxcclxuICAgIFNUUkVBTV9XU19RVkggPSAnc3RyZWFtLXF2aCcsXHJcbiAgICBTVFJFQU1fTUpQRUcgPSAnc3RyZWFtLW1qcGVnJyxcclxuICAgIFBST1hZX1dEQSA9ICdwcm94eS13ZGEnLFxyXG4gICAgRklMRV9MSVNUSU5HID0gJ2xpc3QtZmlsZXMnLFxyXG59XHJcbiIsImV4cG9ydCBlbnVtIENoYW5uZWxDb2RlIHtcclxuICAgIEZTTFMgPSAnRlNMUycsIC8vIEZpbGUgU3lzdGVtIExpU3RcclxuICAgIEhTVFMgPSAnSFNUUycsIC8vIEhvU1RTIExpc3RcclxuICAgIFNIRUwgPSAnU0hFTCcsIC8vIFNIRUxsXHJcbiAgICBHVFJDID0gJ0dUUkMnLCAvLyBHb29nIGRldmljZSBUUmFDZXJcclxuICAgIEFUUkMgPSAnQVRSQycsIC8vIEFwcGwgZGV2aWNlIFRSYUNlclxyXG4gICAgV0RBUCA9ICdXREFQJywgLy8gV2ViRHJpdmVyQWdlbnQgUHJveHlcclxuICAgIFFWSFMgPSAnUVZIUycsIC8vIFF1aWNrdGltZV9WaWRlb19IYWNrIFN0cmVhbVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBTRVJWRVJfUEFDS0FHRSA9ICdjb20uZ2VueW1vYmlsZS5zY3JjcHkuU2VydmVyJztcbmV4cG9ydCBjb25zdCBTRVJWRVJfUE9SVCA9IDg4ODY7XG5leHBvcnQgY29uc3QgU0VSVkVSX1ZFUlNJT04gPSAnMS4xOS13czYnO1xuXG5leHBvcnQgY29uc3QgU0VSVkVSX1RZUEUgPSAnd2ViJztcblxuZXhwb3J0IGNvbnN0IExPR19MRVZFTCA9ICdFUlJPUic7XG5cbmxldCBTQ1JDUFlfTElTVEVOU19PTl9BTExfSU5URVJGQUNFUztcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblNDUkNQWV9MSVNURU5TX09OX0FMTF9JTlRFUkZBQ0VTID0gdHJ1ZTtcbi8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy9cblxuY29uc3QgQVJHVU1FTlRTID0gW1NFUlZFUl9WRVJTSU9OLCBTRVJWRVJfVFlQRSwgTE9HX0xFVkVMLCBTRVJWRVJfUE9SVCwgU0NSQ1BZX0xJU1RFTlNfT05fQUxMX0lOVEVSRkFDRVNdO1xuXG5leHBvcnQgY29uc3QgU0VSVkVSX1BST0NFU1NfTkFNRSA9ICdhcHBfcHJvY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBBUkdTX1NUUklORyA9IGAvICR7U0VSVkVSX1BBQ0tBR0V9ICR7QVJHVU1FTlRTLmpvaW4oJyAnKX0gMj4mMSA+IC9kZXYvbnVsbGA7XG4iLCJpbXBvcnQgeyBXREFNZXRob2QgfSBmcm9tICcuL1dEQU1ldGhvZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbENlbnRlckNvbW1hbmQge1xyXG4gICAgcHVibGljIHN0YXRpYyBLSUxMX1NFUlZFUiA9ICdraWxsX3NlcnZlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIFNUQVJUX1NFUlZFUiA9ICdzdGFydF9zZXJ2ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyBVUERBVEVfSU5URVJGQUNFUyA9ICd1cGRhdGVfaW50ZXJmYWNlcyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIENPTkZJR1VSRV9TVFJFQU0gPSAnY29uZmlndXJlX3N0cmVhbSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIFJVTl9XREEgPSAncnVuLXdkYSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIFJFUVVFU1RfV0RBID0gJ3JlcXVlc3Qtd2RhJztcclxuXHJcbiAgICBwcml2YXRlIGlkID0gLTE7XHJcbiAgICBwcml2YXRlIHR5cGUgPSAnJztcclxuICAgIHByaXZhdGUgcGlkID0gMDtcclxuICAgIHByaXZhdGUgdWRpZCA9ICcnO1xyXG4gICAgcHJpdmF0ZSBtZXRob2QgPSAnJztcclxuICAgIHByaXZhdGUgYXJncz86IGFueTtcclxuICAgIHByaXZhdGUgZGF0YT86IGFueTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21KU09OKGpzb246IHN0cmluZyk6IENvbnRyb2xDZW50ZXJDb21tYW5kIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZShqc29uKTtcclxuICAgICAgICBpZiAoIWJvZHkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgQ29udHJvbENlbnRlckNvbW1hbmQoKTtcclxuICAgICAgICBjb25zdCBkYXRhID0gKGNvbW1hbmQuZGF0YSA9IGJvZHkuZGF0YSk7XHJcbiAgICAgICAgY29tbWFuZC5pZCA9IGJvZHkuaWQ7XHJcbiAgICAgICAgY29tbWFuZC50eXBlID0gYm9keS50eXBlO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGRhdGEudWRpZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29tbWFuZC51ZGlkID0gZGF0YS51ZGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKGJvZHkudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMuS0lMTF9TRVJWRVI6XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEucGlkICE9PSAnbnVtYmVyJyAmJiBkYXRhLnBpZCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwicGlkXCIgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbW1hbmQucGlkID0gZGF0YS5waWQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcclxuICAgICAgICAgICAgY2FzZSB0aGlzLlJFUVVFU1RfV0RBOlxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLm1ldGhvZCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJtZXRob2RcIiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29tbWFuZC5tZXRob2QgPSBkYXRhLm1ldGhvZDtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmQuYXJncyA9IGRhdGEuYXJncztcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMuU1RBUlRfU0VSVkVSOlxyXG4gICAgICAgICAgICBjYXNlIHRoaXMuVVBEQVRFX0lOVEVSRkFDRVM6XHJcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DT05GSUdVUkVfU1RSRUFNOlxyXG4gICAgICAgICAgICBjYXNlIHRoaXMuUlVOX1dEQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNvbW1hbmQgXCIke2JvZHkuY29tbWFuZH1cImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0UGlkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGlkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFVkaWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51ZGlkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldElkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0TWV0aG9kKCk6IFdEQU1ldGhvZCB8IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldERhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldEFyZ3MoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcmdzO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBlbnVtIERldmljZVN0YXRlIHtcclxuICAgIERFVklDRSA9ICdkZXZpY2UnLFxyXG4gICAgRElTQ09OTkVDVEVEID0gJ2Rpc2Nvbm5lY3RlZCcsXHJcblxyXG4gICAgQ09OTkVDVEVEID0gJ0Nvbm5lY3RlZCcsXHJcbn1cclxuIiwiaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uL3R5cGVzL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBIb3N0SXRlbSB9IGZyb20gJy4uL3R5cGVzL0NvbmZpZ3VyYXRpb24nO1xyXG5cclxuZXhwb3J0IGVudW0gTWVzc2FnZVR5cGUge1xyXG4gICAgSE9TVFMgPSAnaG9zdHMnLFxyXG4gICAgRVJST1IgPSAnZXJyb3InLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VIb3N0cyBleHRlbmRzIE1lc3NhZ2Uge1xyXG4gICAgdHlwZTogJ2hvc3RzJztcclxuICAgIGRhdGE6IHtcclxuICAgICAgICBsb2NhbD86IHsgdHlwZTogc3RyaW5nIH1bXTtcclxuICAgICAgICByZW1vdGU/OiBIb3N0SXRlbVtdO1xyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlRXJyb3IgZXh0ZW5kcyBNZXNzYWdlIHtcclxuICAgIHR5cGU6ICdlcnJvcic7XHJcbiAgICBkYXRhOiBzdHJpbmc7XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmV4cG9ydCB0eXBlIEV2ZW50TWFwID0gUmVjb3JkPHN0cmluZywgYW55PjtcclxuZXhwb3J0IHR5cGUgRXZlbnRLZXk8VCBleHRlbmRzIEV2ZW50TWFwPiA9IHN0cmluZyAmIGtleW9mIFQ7XHJcbmV4cG9ydCB0eXBlIEV2ZW50UmVjZWl2ZXI8VD4gPSAocGFyYW1zOiBUKSA9PiB2b2lkO1xyXG5cclxuaW50ZXJmYWNlIEVtaXR0ZXI8VCBleHRlbmRzIEV2ZW50TWFwPiB7XHJcbiAgICBvbjxLIGV4dGVuZHMgRXZlbnRLZXk8VD4+KGV2ZW50TmFtZTogSywgZm46IEV2ZW50UmVjZWl2ZXI8VFtLXT4pOiB2b2lkO1xyXG4gICAgb2ZmPEsgZXh0ZW5kcyBFdmVudEtleTxUPj4oZXZlbnROYW1lOiBLLCBmbjogRXZlbnRSZWNlaXZlcjxUW0tdPik6IHZvaWQ7XHJcbiAgICBlbWl0PEsgZXh0ZW5kcyBFdmVudEtleTxUPj4oZXZlbnROYW1lOiBLLCBwYXJhbXM6IFRbS10pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVHlwZWRFbWl0dGVyPFQgZXh0ZW5kcyBFdmVudE1hcD4gaW1wbGVtZW50cyBFbWl0dGVyPFQ+IHtcclxuICAgIHByaXZhdGUgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIGFkZEV2ZW50TGlzdGVuZXI8SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI8SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9mZihldmVudE5hbWUsIGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwYXRjaEV2ZW50KGV2ZW50OiBFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVtaXR0ZXIuZW1pdChldmVudC50eXBlLCBldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgb248SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uY2U8SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uY2UoZXZlbnROYW1lLCBmbik7XHJcbiAgICB9XHJcblxyXG4gICAgb2ZmPEsgZXh0ZW5kcyBFdmVudEtleTxUPj4oZXZlbnROYW1lOiBLLCBmbjogRXZlbnRSZWNlaXZlcjxUW0tdPik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZW1pdHRlci5vZmYoZXZlbnROYW1lLCBmbik7XHJcbiAgICB9XHJcblxyXG4gICAgZW1pdDxLIGV4dGVuZHMgRXZlbnRLZXk8VD4+KGV2ZW50TmFtZTogSywgcGFyYW1zOiBUW0tdKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdHRlci5lbWl0KGV2ZW50TmFtZSwgcGFyYW1zKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBFdmVudDIgfSBmcm9tICcuL0V2ZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBDbG9zZUV2ZW50MiBleHRlbmRzIEV2ZW50MiBpbXBsZW1lbnRzIENsb3NlRXZlbnQge1xyXG4gICAgcmVhZG9ubHkgY29kZTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgcmVhc29uOiBzdHJpbmc7XHJcbiAgICByZWFkb25seSB3YXNDbGVhbjogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgeyBjb2RlLCByZWFzb24gfTogQ2xvc2VFdmVudEluaXQgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHR5cGUpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGUgfHwgMDtcclxuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbiB8fCAnJztcclxuICAgICAgICB0aGlzLndhc0NsZWFuID0gdGhpcy5jb2RlID09PSAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ2xvc2VFdmVudENsYXNzID0gdHlwZW9mIENsb3NlRXZlbnQgIT09ICd1bmRlZmluZWQnID8gQ2xvc2VFdmVudCA6IENsb3NlRXZlbnQyO1xyXG4iLCJpbXBvcnQgeyBFdmVudDIgfSBmcm9tICcuL0V2ZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBFcnJvckV2ZW50MiBleHRlbmRzIEV2ZW50MiBpbXBsZW1lbnRzIEVycm9yRXZlbnQge1xyXG4gICAgcmVhZG9ubHkgY29sbm86IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGVycm9yOiBhbnk7XHJcbiAgICByZWFkb25seSBmaWxlbmFtZTogc3RyaW5nO1xyXG4gICAgcmVhZG9ubHkgbGluZW5vOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBtZXNzYWdlOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCB7IGNvbG5vLCBlcnJvciwgZmlsZW5hbWUsIGxpbmVubywgbWVzc2FnZSB9OiBFcnJvckV2ZW50SW5pdCA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSk7XHJcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgIHRoaXMuY29sbm8gPSBjb2xubyB8fCAwO1xyXG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSB8fCAnJztcclxuICAgICAgICB0aGlzLmxpbmVubyA9IGxpbmVubyB8fCAwO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFcnJvckV2ZW50Q2xhc3MgPSB0eXBlb2YgRXJyb3JFdmVudCAhPT0gJ3VuZGVmaW5lZCcgPyBFcnJvckV2ZW50IDogRXJyb3JFdmVudDI7XHJcbiIsImV4cG9ydCBjbGFzcyBFdmVudDIge1xyXG4gICAgc3RhdGljIE5PTkUgPSAwO1xyXG4gICAgc3RhdGljIENBUFRVUklOR19QSEFTRSA9IDE7XHJcbiAgICBzdGF0aWMgQVRfVEFSR0VUID0gMjtcclxuICAgIHN0YXRpYyBCVUJCTElOR19QSEFTRSA9IDM7XHJcblxyXG4gICAgcHVibGljIGNhbmNlbGFibGU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgYnViYmxlczogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBjb21wb3NlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyB0aW1lU3RhbXA6IG51bWJlcjtcclxuICAgIHB1YmxpYyB0YXJnZXQ6IGFueTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc1RydXN0ZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcmVhZG9ubHkgQVRfVEFSR0VUOiBudW1iZXIgPSAwO1xyXG4gICAgcmVhZG9ubHkgQlVCQkxJTkdfUEhBU0U6IG51bWJlciA9IDA7XHJcbiAgICByZWFkb25seSBDQVBUVVJJTkdfUEhBU0U6IG51bWJlciA9IDA7XHJcbiAgICByZWFkb25seSBOT05FOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgb3B0aW9ucyA9IHsgY2FuY2VsYWJsZTogdHJ1ZSwgYnViYmxlczogdHJ1ZSwgY29tcG9zZWQ6IGZhbHNlIH0pIHtcclxuICAgICAgICBjb25zdCB7IGNhbmNlbGFibGUsIGJ1YmJsZXMsIGNvbXBvc2VkIH0gPSB7IC4uLm9wdGlvbnMgfTtcclxuICAgICAgICB0aGlzLmNhbmNlbGFibGUgPSAhIWNhbmNlbGFibGU7XHJcbiAgICAgICAgdGhpcy5idWJibGVzID0gISFidWJibGVzO1xyXG4gICAgICAgIHRoaXMuY29tcG9zZWQgPSAhIWNvbXBvc2VkO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IGAke3R5cGV9YDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcclxuICAgICAgICAvLyB0aGlzW2tTdG9wXSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJldmVudERlZmF1bHQoKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VycmVudFRhcmdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcbiAgICBnZXQgc3JjRWxlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9zZWRQYXRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldCA/IFt0aGlzLnRhcmdldF0gOiBbXTtcclxuICAgIH1cclxuICAgIGdldCByZXR1cm5WYWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuZGVmYXVsdFByZXZlbnRlZDtcclxuICAgIH1cclxuICAgIGdldCBldmVudFBoYXNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldCA/IEV2ZW50LkFUX1RBUkdFVCA6IEV2ZW50Lk5PTkU7XHJcbiAgICB9XHJcbiAgICBnZXQgY2FuY2VsQnViYmxlKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyByZXR1cm4gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgY2FuY2VsQnViYmxlKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdG9wUHJvcGFnYXRpb24oKSB7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaW5pdEV2ZW50KHR5cGU6IHN0cmluZywgYnViYmxlcz86IGJvb2xlYW4sIGNhbmNlbGFibGU/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5idWJibGVzID0gISFidWJibGVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWxhYmxlID0gISFjYW5jZWxhYmxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50Q2xhc3MgPSB0eXBlb2YgRXZlbnQgIT09ICd1bmRlZmluZWQnID8gRXZlbnQgOiBFdmVudDI7XHJcbiIsImltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnLi9NZXNzYWdlVHlwZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL2FwcC9VdGlsJztcclxuaW1wb3J0IHsgQ2xvc2VFdmVudENsYXNzIH0gZnJvbSAnLi9DbG9zZUV2ZW50Q2xhc3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lc3NhZ2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZShidWZmZXI6IEFycmF5QnVmZmVyKTogTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgdmlldyA9IEJ1ZmZlci5mcm9tKGJ1ZmZlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHR5cGU6IE1lc3NhZ2VUeXBlID0gdmlldy5yZWFkVUludDgoMCk7XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbElkID0gdmlldy5yZWFkVUludDMyTEUoMSk7XHJcbiAgICAgICAgY29uc3QgZGF0YTogQXJyYXlCdWZmZXIgPSBidWZmZXIuc2xpY2UoNSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZSh0eXBlLCBjaGFubmVsSWQsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUNsb3NlRXZlbnQoaWQ6IG51bWJlciwgY29kZTogbnVtYmVyLCByZWFzb24/OiBzdHJpbmcpOiBNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCByZWFzb25CdWZmZXIgPSByZWFzb24gPyBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheShyZWFzb24pIDogQnVmZmVyLmFsbG9jKDApO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygyICsgNCArIHJlYXNvbkJ1ZmZlci5ieXRlTGVuZ3RoKTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50MTZMRShjb2RlLCAwKTtcclxuICAgICAgICBpZiAocmVhc29uQnVmZmVyLmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDMyTEUocmVhc29uQnVmZmVyLmJ5dGVMZW5ndGgsIDIpO1xyXG4gICAgICAgICAgICBidWZmZXIuc2V0KHJlYXNvbkJ1ZmZlciwgNik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShNZXNzYWdlVHlwZS5DbG9zZUNoYW5uZWwsIGlkLCBidWZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlQnVmZmVyKHR5cGU6IE1lc3NhZ2VUeXBlLCBjaGFubmVsSWQ6IG51bWJlciwgZGF0YT86IEFycmF5QnVmZmVyKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBCdWZmZXIuYWxsb2MoNSArIChkYXRhID8gZGF0YS5ieXRlTGVuZ3RoIDogMCkpO1xyXG4gICAgICAgIHJlc3VsdC53cml0ZVVJbnQ4KHR5cGUsIDApO1xyXG4gICAgICAgIHJlc3VsdC53cml0ZVVJbnQzMkxFKGNoYW5uZWxJZCwgMSk7XHJcbiAgICAgICAgaWYgKGRhdGE/LmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnNldChCdWZmZXIuZnJvbShkYXRhKSwgNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBNZXNzYWdlVHlwZSxcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY2hhbm5lbElkOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGRhdGE6IEFycmF5QnVmZmVyLFxyXG4gICAgKSB7fVxyXG5cclxuICAgIHB1YmxpYyB0b0Nsb3NlRXZlbnQoKTogQ2xvc2VFdmVudCB7XHJcbiAgICAgICAgbGV0IGNvZGU6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgcmVhc29uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEuYnl0ZUxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbSh0aGlzLmRhdGEpO1xyXG4gICAgICAgICAgICBjb2RlID0gYnVmZmVyLnJlYWRVSW50MTZMRSgwKTtcclxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoID4gNikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gYnVmZmVyLnJlYWRVSW50MzJMRSgyKTtcclxuICAgICAgICAgICAgICAgIHJlYXNvbiA9IFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKGJ1ZmZlci5zbGljZSg2LCA2ICsgbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbG9zZUV2ZW50Q2xhc3MoJ2Nsb3NlJywge1xyXG4gICAgICAgICAgICBjb2RlLFxyXG4gICAgICAgICAgICByZWFzb24sXHJcbiAgICAgICAgICAgIHdhc0NsZWFuOiBjb2RlID09PSAxMDAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0J1ZmZlcigpOiBBcnJheUJ1ZmZlciB7XHJcbiAgICAgICAgcmV0dXJuIE1lc3NhZ2UuY3JlYXRlQnVmZmVyKHRoaXMudHlwZSwgdGhpcy5jaGFubmVsSWQsIHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnQyIH0gZnJvbSAnLi9FdmVudCc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVzc2FnZUV2ZW50MiBleHRlbmRzIEV2ZW50MiBpbXBsZW1lbnRzIE1lc3NhZ2VFdmVudCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YTogYW55O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9yaWdpbjogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxhc3RFdmVudElkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlOiBhbnk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcG9ydHM6IFJlYWRvbmx5QXJyYXk8YW55PjtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHR5cGU6IHN0cmluZyxcclxuICAgICAgICB7IGRhdGEgPSBudWxsLCBvcmlnaW4gPSAnJywgbGFzdEV2ZW50SWQgPSAnJywgc291cmNlID0gbnVsbCwgcG9ydHMgPSBbXSB9OiBNZXNzYWdlRXZlbnRJbml0ID0ge30sXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcih0eXBlKTtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gYCR7b3JpZ2lufWA7XHJcbiAgICAgICAgdGhpcy5sYXN0RXZlbnRJZCA9IGAke2xhc3RFdmVudElkfWA7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICAgICAgdGhpcy5wb3J0cyA9IFsuLi5wb3J0c107XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdE1lc3NhZ2VFdmVudCgpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBFcnJvcignRGVwcmVjYXRlZCBtZXRob2QnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VFdmVudENsYXNzID0gdHlwZW9mIE1lc3NhZ2VFdmVudCAhPT0gJ3VuZGVmaW5lZCcgPyBNZXNzYWdlRXZlbnQgOiBNZXNzYWdlRXZlbnQyO1xyXG4iLCJleHBvcnQgZW51bSBNZXNzYWdlVHlwZSB7XHJcbiAgICBDcmVhdGVDaGFubmVsID0gNCxcclxuICAgIENsb3NlQ2hhbm5lbCA9IDgsXHJcbiAgICBSYXdCaW5hcnlEYXRhID0gMTYsXHJcbiAgICBSYXdTdHJpbmdEYXRhID0gMzIsXHJcbiAgICBEYXRhID0gNjQsXHJcbn1cclxuIiwiaW1wb3J0IHsgVHlwZWRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vY29tbW9uL1R5cGVkRW1pdHRlcic7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJy4vTWVzc2FnZVR5cGUnO1xyXG5pbXBvcnQgeyBFdmVudENsYXNzIH0gZnJvbSAnLi9FdmVudCc7XHJcbmltcG9ydCB7IENsb3NlRXZlbnRDbGFzcyB9IGZyb20gJy4vQ2xvc2VFdmVudENsYXNzJztcclxuaW1wb3J0IHsgRXJyb3JFdmVudENsYXNzIH0gZnJvbSAnLi9FcnJvckV2ZW50Q2xhc3MnO1xyXG5pbXBvcnQgeyBNZXNzYWdlRXZlbnRDbGFzcyB9IGZyb20gJy4vTWVzc2FnZUV2ZW50Q2xhc3MnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9hcHAvVXRpbCc7XHJcblxyXG5pbnRlcmZhY2UgTXVsdGlwbGV4ZXJFdmVudHMgZXh0ZW5kcyBXZWJTb2NrZXRFdmVudE1hcCB7XHJcbiAgICBlbXB0eTogTXVsdGlwbGV4ZXI7XHJcbiAgICBjaGFubmVsOiB7IGNoYW5uZWw6IE11bHRpcGxleGVyOyBkYXRhOiBBcnJheUJ1ZmZlciB9O1xyXG4gICAgb3BlbjogRXZlbnQ7XHJcbiAgICBjbG9zZTogQ2xvc2VFdmVudDtcclxuICAgIG1lc3NhZ2U6IE1lc3NhZ2VFdmVudDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXZWJzb2NrZXRFdmVudEVtaXR0ZXIge1xyXG4gICAgZGlzcGF0Y2hFdmVudChldmVudDogRXZlbnQpOiBib29sZWFuO1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjxLIGV4dGVuZHMga2V5b2YgV2ViU29ja2V0RXZlbnRNYXA+KFxyXG4gICAgICAgIHR5cGU6IEssXHJcbiAgICAgICAgbGlzdGVuZXI6ICh0aGlzOiBXZWJTb2NrZXQsIGV2OiBXZWJTb2NrZXRFdmVudE1hcFtLXSkgPT4gYW55LFxyXG4gICAgICAgIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsXHJcbiAgICApOiB2b2lkO1xyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjxLIGV4dGVuZHMga2V5b2YgV2ViU29ja2V0RXZlbnRNYXA+KFxyXG4gICAgICAgIHR5cGU6IEssXHJcbiAgICAgICAgbGlzdGVuZXI6ICh0aGlzOiBXZWJTb2NrZXQsIGV2OiBXZWJTb2NrZXRFdmVudE1hcFtLXSkgPT4gYW55LFxyXG4gICAgICAgIG9wdGlvbnM/OiBib29sZWFuIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnMsXHJcbiAgICApOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGV4ZXIgZXh0ZW5kcyBUeXBlZEVtaXR0ZXI8TXVsdGlwbGV4ZXJFdmVudHM+IGltcGxlbWVudHMgV2ViU29ja2V0IHtcclxuICAgIHJlYWRvbmx5IENPTk5FQ1RJTkcgPSAwO1xyXG4gICAgcmVhZG9ubHkgT1BFTiA9IDE7XHJcbiAgICByZWFkb25seSBDTE9TSU5HID0gMjtcclxuICAgIHJlYWRvbmx5IENMT1NFRCA9IDM7XHJcbiAgICBwdWJsaWMgYmluYXJ5VHlwZTogQmluYXJ5VHlwZSA9ICdibG9iJztcclxuICAgIHB1YmxpYyByZWFkeVN0YXRlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNoYW5uZWxzOiBNYXA8bnVtYmVyLCB7IGNoYW5uZWw6IE11bHRpcGxleGVyOyBlbWl0dGVyOiBXZWJzb2NrZXRFdmVudEVtaXR0ZXIgfT4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIG5leHRJZCA9IDA7XHJcbiAgICBwcml2YXRlIG1heElkID0gNDI5NDk2NzI5NjtcclxuICAgIHByaXZhdGUgc3RvcmFnZTogQXJyYXk8c3RyaW5nIHwgQXJyYXlCdWZmZXJMaWtlIHwgQmxvYiB8IEFycmF5QnVmZmVyVmlldz4gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVzc2FnZUVtaXR0ZXI6IFdlYnNvY2tldEV2ZW50RW1pdHRlcjtcclxuICAgIHByaXZhdGUgZW1wdHlUaW1lclNjaGVkdWxlZCA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBvbmNsb3NlOiAoKHRoaXM6IFdlYlNvY2tldCwgZXY6IENsb3NlRXZlbnQpID0+IGFueSkgfCBudWxsID0gbnVsbDtcclxuICAgIHB1YmxpYyBvbmVycm9yOiAoKHRoaXM6IFdlYlNvY2tldCwgZXY6IEV2ZW50KSA9PiBhbnkpIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwdWJsaWMgb25tZXNzYWdlOiAoKHRoaXM6IFdlYlNvY2tldCwgZXY6IE1lc3NhZ2VFdmVudCkgPT4gYW55KSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIG9ub3BlbjogKCh0aGlzOiBXZWJTb2NrZXQsIGV2OiBFdmVudCkgPT4gYW55KSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHVybCA9ICcnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgd3JhcCh3czogV2ViU29ja2V0KTogTXVsdGlwbGV4ZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlwbGV4ZXIod3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgd3M6IFdlYlNvY2tldCwgcHJpdmF0ZSBfaWQgPSAwLCBlbWl0dGVyPzogV2Vic29ja2V0RXZlbnRFbWl0dGVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNPTk5FQ1RJTkc7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHdzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLndzLnJlYWR5U3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzc2FnZUVtaXR0ZXIgPSBlbWl0dGVyIHx8IHdzO1xyXG5cclxuICAgICAgICBjb25zdCBvbk9wZW5IYW5kbGVyID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLndzLnJlYWR5U3RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25DbG9zZUhhbmRsZXIgPSAoZXZlbnQ6IENsb3NlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy53cy5yZWFkeVN0YXRlO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmNsZWFyKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25FcnJvckhhbmRsZXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IHRoaXMud3MucmVhZHlTdGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscy5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IG9uTWVzc2FnZUhhbmRsZXIgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50O1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gTWVzc2FnZS5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ3JlYXRlQ2hhbm5lbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY2hhbm5lbElkLCBkYXRhIH0gPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRJZCA8IGNoYW5uZWxJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRJZCA9IGNoYW5uZWxJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuX2NyZWF0ZUNoYW5uZWwoY2hhbm5lbElkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFubmVsJywgeyBjaGFubmVsLCBkYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5SYXdTdHJpbmdEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhbm5lbHMuZ2V0KG1lc3NhZ2UuY2hhbm5lbElkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNoYW5uZWwgfSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IG5ldyBNZXNzYWdlRXZlbnRDbGFzcygnbWVzc2FnZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKEJ1ZmZlci5mcm9tKG1lc3NhZ2UuZGF0YSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQ6IGV2ZW50Lmxhc3RFdmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBldmVudC5vcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGV2ZW50LnNvdXJjZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuZGlzcGF0Y2hFdmVudChtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENoYW5uZWwgd2l0aCBpZCAoJHttZXNzYWdlLmNoYW5uZWxJZH0pIG5vdCBmb3VuZGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuUmF3QmluYXJ5RGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNoYW5uZWxzLmdldChtZXNzYWdlLmNoYW5uZWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjaGFubmVsIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBuZXcgTWVzc2FnZUV2ZW50Q2xhc3MoJ21lc3NhZ2UnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBtZXNzYWdlLmRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0RXZlbnRJZDogZXZlbnQubGFzdEV2ZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IGV2ZW50Lm9yaWdpbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZXZlbnQuc291cmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5kaXNwYXRjaEV2ZW50KG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ2hhbm5lbCB3aXRoIGlkICgke21lc3NhZ2UuY2hhbm5lbElkfSkgbm90IGZvdW5kYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5EYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhbm5lbHMuZ2V0KG1lc3NhZ2UuY2hhbm5lbElkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVtaXR0ZXIgfSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IG5ldyBNZXNzYWdlRXZlbnRDbGFzcygnbWVzc2FnZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG1lc3NhZ2UuZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFdmVudElkOiBldmVudC5sYXN0RXZlbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogZXZlbnQub3JpZ2luLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBldmVudC5zb3VyY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmRpc3BhdGNoRXZlbnQobXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDaGFubmVsIHdpdGggaWQgKCR7bWVzc2FnZS5jaGFubmVsSWR9KSBub3QgZm91bmRgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkNsb3NlQ2hhbm5lbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNoYW5uZWxzLmdldChtZXNzYWdlLmNoYW5uZWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjaGFubmVsIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLnJlYWR5U3RhdGUgPSBjaGFubmVsLkNMT1NJTkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmRpc3BhdGNoRXZlbnQobWVzc2FnZS50b0Nsb3NlRXZlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLnJlYWR5U3RhdGUgPSBjaGFubmVsLkNMT1NFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENoYW5uZWwgd2l0aCBpZCAoJHttZXNzYWdlLmNoYW5uZWxJZH0pIG5vdCBmb3VuZGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZTogJHttZXNzYWdlLnR5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFcnJvckV2ZW50Q2xhc3MoJ2Vycm9yJywgeyBlcnJvciB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBvblRoaXNPcGVuSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3JhZ2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgd3MgPSB0aGlzLndzO1xyXG4gICAgICAgICAgICBpZiAod3MgaW5zdGFuY2VvZiBNdWx0aXBsZXhlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLmZvckVhY2goKGRhdGEpID0+IHdzLnNlbmREYXRhKGRhdGEpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5mb3JFYWNoKChkYXRhKSA9PiB3cy5zZW5kKGRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UubGVuZ3RoID0gMDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBvblRoaXNDbG9zZUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW5IYW5kbGVyKTtcclxuICAgICAgICAgICAgd3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9ySGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5vZmYoJ2Nsb3NlJywgb25UaGlzQ2xvc2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5vZmYoJ29wZW4nLCBvblRoaXNPcGVuSGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uT3BlbkhhbmRsZXIpO1xyXG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvckhhbmRsZXIpO1xyXG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZUhhbmRsZXIpO1xyXG5cclxuICAgICAgICB0aGlzLm9uKCdjbG9zZScsIG9uVGhpc0Nsb3NlSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbignb3BlbicsIG9uVGhpc09wZW5IYW5kbGVyKTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlRW1wdHlFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYnVmZmVyZWRBbW91bnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGV4dGVuc2lvbnMoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBwcm90b2NvbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2NoZWR1bGVFbXB0eUV2ZW50KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbXB0eVRpbWVyU2NoZWR1bGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZW1wdHknLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJFbXB0eUV2ZW50KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbXB0eVRpbWVyU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbG9zZShjb2RlID0gMTAwMCwgcmVhc29uPzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQgfHwgdGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNMT1NJTkcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5faWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TSU5HO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBNZXNzYWdlLmZyb21DbG9zZUV2ZW50KHRoaXMuX2lkLCBjb2RlLCByZWFzb24pLnRvQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cyBpbnN0YW5jZW9mIE11bHRpcGxleGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kRGF0YShtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjbG9zZScsIG5ldyBDbG9zZUV2ZW50Q2xhc3MoJ2Nsb3NlJywgeyBjb2RlLCByZWFzb24gfSkpO1xyXG4gICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKGNvZGUsIHJlYXNvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kKGRhdGE6IHN0cmluZyB8IEFycmF5QnVmZmVyTGlrZSB8IEJsb2IgfCBBcnJheUJ1ZmZlclZpZXcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy53cyBpbnN0YW5jZW9mIE11bHRpcGxleGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBNZXNzYWdlLmNyZWF0ZUJ1ZmZlcihNZXNzYWdlVHlwZS5SYXdTdHJpbmdEYXRhLCB0aGlzLl9pZCwgQnVmZmVyLmZyb20oZGF0YSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IE1lc3NhZ2UuY3JlYXRlQnVmZmVyKE1lc3NhZ2VUeXBlLlJhd0JpbmFyeURhdGEsIHRoaXMuX2lkLCBCdWZmZXIuZnJvbShkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2VuZChkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZERhdGEoZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXJMaWtlIHwgQmxvYiB8IEFycmF5QnVmZmVyVmlldyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLndzIGluc3RhbmNlb2YgTXVsdGlwbGV4ZXIpIHtcclxuICAgICAgICAgICAgZGF0YSA9IE1lc3NhZ2UuY3JlYXRlQnVmZmVyKE1lc3NhZ2VUeXBlLkRhdGEsIHRoaXMuX2lkLCBCdWZmZXIuZnJvbShkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NlbmQoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc2VuZChkYXRhOiBzdHJpbmcgfCBBcnJheUJ1ZmZlckxpa2UgfCBCbG9iIHwgQXJyYXlCdWZmZXJWaWV3KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyByZWFkeVN0YXRlIH0gPSB0aGlzO1xyXG4gICAgICAgIGlmIChyZWFkeVN0YXRlID09PSB0aGlzLk9QRU4pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgaW5zdGFuY2VvZiBNdWx0aXBsZXhlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kRGF0YShkYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVhZHlTdGF0ZSA9PT0gdGhpcy53cy5DT05ORUNUSU5HKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5wdXNoKGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBTb2NrZXQgaXMgYWxyZWFkeSBpbiBDTE9TSU5HIG9yIENMT1NFRCBzdGF0ZS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfY3JlYXRlQ2hhbm5lbChpZDogbnVtYmVyLCBzZW5kT3BlbkV2ZW50OiBib29sZWFuKTogTXVsdGlwbGV4ZXIge1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgVHlwZWRFbWl0dGVyPE11bHRpcGxleGVyRXZlbnRzPigpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBuZXcgTXVsdGlwbGV4ZXIodGhpcywgaWQsIGVtaXR0ZXIpO1xyXG4gICAgICAgIHRoaXMuY2hhbm5lbHMuc2V0KGlkLCB7IGNoYW5uZWwsIGVtaXR0ZXIgfSk7XHJcbiAgICAgICAgaWYgKHNlbmRPcGVuRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICBVdGlsLnNldEltbWVkaWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5yZWFkeVN0YXRlID0gdGhpcy5PUEVOO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnRDbGFzcygnb3BlbicpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhbm5lbC5yZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGFubmVscy5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlRW1wdHlFdmVudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbGVhckVtcHR5RXZlbnQoKTtcclxuICAgICAgICByZXR1cm4gY2hhbm5lbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ2hhbm5lbChkYXRhOiBCdWZmZXIpOiBNdWx0aXBsZXhlciB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TSU5HIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBzb2NrZXQgc3RhdGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldE5leHRJZCgpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLl9jcmVhdGVDaGFubmVsKGlkLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNlbmREYXRhKE1lc3NhZ2UuY3JlYXRlQnVmZmVyKE1lc3NhZ2VUeXBlLkNyZWF0ZUNoYW5uZWwsIGlkLCBkYXRhKSk7XHJcbiAgICAgICAgcmV0dXJuIGNoYW5uZWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXROZXh0SWQoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgaGl0VG9wID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY2hhbm5lbHMuaGFzKCsrdGhpcy5uZXh0SWQpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHRJZCA9PT0gdGhpcy5tYXhJZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpdFRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdObyBhdmFpbGFibGUgaWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dElkID0gMDtcclxuICAgICAgICAgICAgICAgIGhpdFRvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dElkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50KGV2ZW50OiBFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnY2xvc2UnICYmIHR5cGVvZiB0aGlzLm9uY2xvc2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgUmVmbGVjdC5hcHBseSh0aGlzLm9uY2xvc2UsIHRoaXMsIFtldmVudF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29wZW4nICYmIHR5cGVvZiB0aGlzLm9ub3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBSZWZsZWN0LmFwcGx5KHRoaXMub25vcGVuLCB0aGlzLCBbZXZlbnRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtZXNzYWdlJyAmJiB0eXBlb2YgdGhpcy5vbm1lc3NhZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgUmVmbGVjdC5hcHBseSh0aGlzLm9ubWVzc2FnZSwgdGhpcywgW2V2ZW50XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnZXJyb3InICYmIHR5cGVvZiB0aGlzLm9uZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgUmVmbGVjdC5hcHBseSh0aGlzLm9uZXJyb3IsIHRoaXMsIFtldmVudF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VwZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGVudW0gUmVtb3RlRGV2dG9vbHNDb21tYW5kIHtcclxuICAgIExJU1RfREVWVE9PTFMgPSAnbGlzdF9kZXZ0b29scycsXHJcbn1cclxuIiwiaW1wb3J0IFNpemUgZnJvbSAnLi91dGlscy9TaXplJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIENhbnZhcyB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgcmVhZG9ubHkgc2l6ZTogU2l6ZSkge31cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQ7XHJcbn1cclxuIiwiaW1wb3J0IFNoYWRlciBmcm9tICcuL1NoYWRlcic7XHJcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi91dGlscy9hc3NlcnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3JhbSB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvZ3JhbTogV2ViR0xQcm9ncmFtIHwgbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gdGhpcy5nbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGF0dGFjaChzaGFkZXI6IFNoYWRlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNoYWRlci5zaGFkZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFNoYWRlciB0eXBlIGlzICR7dHlwZW9mIHNoYWRlci5zaGFkZXJ9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgc2hhZGVyLnNoYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpbmsoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFByb2dyYW0gdHlwZSBpcyAke3R5cGVvZiB0aGlzLnByb2dyYW19YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICAvLyBJZiBjcmVhdGluZyB0aGUgc2hhZGVyIHByb2dyYW0gZmFpbGVkLCBhbGVydC5cclxuICAgICAgICBhc3NlcnQodGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgdGhpcy5nbC5MSU5LX1NUQVRVUyksXHJcbiAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSB0aGUgc2hhZGVyIHByb2dyYW0uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXR0cmlidXRlTG9jYXRpb24obmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZ3JhbSB0eXBlIGlzICR7dHlwZW9mIHRoaXMucHJvZ3JhbX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TWF0cml4VW5pZm9ybShuYW1lOiBzdHJpbmcsIGFycmF5OiBGbG9hdDMyTGlzdCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1bmlmb3JtID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBuYW1lKTtcclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybSwgZmFsc2UsIGFycmF5KTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JpcHQge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHR5cGU6IHN0cmluZywgcHVibGljIHNvdXJjZTogc3RyaW5nKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tRWxlbWVudElkKGlkOiBzdHJpbmcpOiBTY3JpcHQge1xyXG4gICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcbiAgICAgICAgLy8gRGlkbid0IGZpbmQgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgSUQsIGFib3J0LlxyXG4gICAgICAgIGlmICghc2NyaXB0KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdDb3VsZCBub3QgZmluZCBzaGFkZXIgd2l0aCBJRDogJyArIGlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdhbGsgdGhyb3VnaCB0aGUgc291cmNlIGVsZW1lbnQncyBjaGlsZHJlbiwgYnVpbGRpbmcgdGhlIHNoYWRlciBzb3VyY2Ugc3RyaW5nLlxyXG4gICAgICAgIGxldCBzb3VyY2UgPSAnJztcclxuICAgICAgICBsZXQgY3VycmVudENoaWxkID0gc2NyaXB0LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRDaGlsZCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudENoaWxkLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2UgKz0gY3VycmVudENoaWxkLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnRDaGlsZCA9IGN1cnJlbnRDaGlsZC5uZXh0U2libGluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgU2NyaXB0KChzY3JpcHQgYXMgSFRNTFNjcmlwdEVsZW1lbnQpLnR5cGUsIHNvdXJjZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tU291cmNlKHR5cGU6IHN0cmluZywgc291cmNlOiBzdHJpbmcpOiBTY3JpcHQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2NyaXB0KHR5cGUsIHNvdXJjZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNjcmlwdCBmcm9tICcuL1NjcmlwdCc7XHJcbmltcG9ydCBlcnJvciBmcm9tICcuL3V0aWxzL2Vycm9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlciB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2hhZGVyPzogV2ViR0xTaGFkZXIgfCBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHJlYWRvbmx5IHNjcmlwdDogU2NyaXB0KSB7XHJcbiAgICAgICAgLy8gTm93IGZpZ3VyZSBvdXQgd2hhdCB0eXBlIG9mIHNoYWRlciBzY3JpcHQgd2UgaGF2ZSwgYmFzZWQgb24gaXRzIE1JTUUgdHlwZS5cclxuICAgICAgICBpZiAoc2NyaXB0LnR5cGUgPT09ICd4LXNoYWRlci94LWZyYWdtZW50Jykge1xyXG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0LnR5cGUgPT09ICd4LXNoYWRlci94LXZlcnRleCcpIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXJyb3IoYFVua25vd24gc2hhZGVyIHR5cGU6ICR7c2NyaXB0LnR5cGV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zaGFkZXIpIHtcclxuICAgICAgICAgICAgZXJyb3IoYFNoYWRlciBpcyAke3R5cGVvZiB0aGlzLnNoYWRlcn1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VuZCB0aGUgc291cmNlIHRvIHRoZSBzaGFkZXIgb2JqZWN0LlxyXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZSh0aGlzLnNoYWRlciwgc2NyaXB0LnNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodGhpcy5zaGFkZXIpO1xyXG5cclxuICAgICAgICAvLyBTZWUgaWYgaXQgY29tcGlsZWQgc3VjY2Vzc2Z1bGx5LlxyXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuICAgICAgICAgICAgZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyczogJyArIGdsLmdldFNoYWRlckluZm9Mb2codGhpcy5zaGFkZXIpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgU2l6ZSBmcm9tICcuL3V0aWxzL1NpemUnO1xyXG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4vdXRpbHMvYXNzZXJ0JztcclxuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi9Qcm9ncmFtJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHR1cmU6IFdlYkdMVGV4dHVyZSB8IG51bGw7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0OiBHTGVudW07XHJcbiAgICBwcml2YXRlIHRleHR1cmVJRHM6IG51bWJlcltdO1xyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUgKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGZvcm1hdDogbnVtYmVyKTogVGV4dHVyZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKGdsLCB1bmRlZmluZWQsIGZvcm1hdCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcmVhZG9ubHkgc2l6ZT86IFNpemUsIGZvcm1hdD86IEdMZW51bSkge1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xyXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0ID8gZm9ybWF0IDogZ2wuTFVNSU5BTkNFO1xyXG4gICAgICAgIGlmIChzaXplKSB7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHNpemUudywgc2l6ZS5oLCAwLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XHJcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlSURzID0gW2dsLlRFWFRVUkUwLCBnbC5URVhUVVJFMSwgZ2wuVEVYVFVSRTJdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaWxsKHRleHR1cmVEYXRhOiBVaW50OEFycmF5LCB1c2VUZXhTdWJJbWFnZTJEPzogYm9vbGVhbiwgdz86IG51bWJlciwgaD86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGggPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdyA9IHRoaXMuc2l6ZS53O1xyXG4gICAgICAgICAgICBoID0gdGhpcy5zaXplLmg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuICAgICAgICBhc3NlcnQodGV4dHVyZURhdGEubGVuZ3RoID49IHcgKiBoLFxyXG4gICAgICAgICAgICAnVGV4dHVyZSBzaXplIG1pc21hdGNoLCBkYXRhOicgKyB0ZXh0dXJlRGF0YS5sZW5ndGggKyAnLCB0ZXh0dXJlOiAnICsgdyAqIGgpO1xyXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XHJcbiAgICAgICAgaWYgKHVzZVRleFN1YkltYWdlMkQpIHtcclxuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB3LCBoLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZURhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRleEltYWdlMkQgc2VlbXMgdG8gYmUgZmFzdGVyLCB0aHVzIGtlZXBpbmcgaXQgYXMgdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgdywgaCwgMCwgdGhpcy5mb3JtYXQsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGltYWdlMmRCdWZmZXIgKGJ1ZmZlcjogVWludDhBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmZpbGwoYnVmZmVyLCBmYWxzZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmQobjogbnVtYmVyLCBwcm9ncmFtOiBQcm9ncmFtLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgaWYgKCFwcm9ncmFtLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKHRoaXMudGV4dHVyZUlEc1tuXSk7XHJcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcclxuICAgICAgICBnbC51bmlmb3JtMWkoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgbmFtZSksIG4pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBTaXplIGZyb20gJy4vdXRpbHMvU2l6ZSc7XHJcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vVGV4dHVyZSc7XHJcbmltcG9ydCBlcnJvciBmcm9tICcuL3V0aWxzL2Vycm9yJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXRyaXgsIFZlY3RvciB9IGZyb20gJ3N5bHZlc3Rlci5qcyc7XHJcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vUHJvZ3JhbSc7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSAnLi9TaGFkZXInO1xyXG5pbXBvcnQgeyBtYWtlUGVyc3BlY3RpdmUgfSBmcm9tICcuL3V0aWxzL2dsVXRpbHMnO1xyXG5pbXBvcnQgU2NyaXB0IGZyb20gJy4vU2NyaXB0JztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBXZWJHTENhbnZhcyBleHRlbmRzIENhbnZhcyB7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHZlcnRleFNoYWRlclNjcmlwdDogU2NyaXB0ID0gU2NyaXB0LmNyZWF0ZUZyb21Tb3VyY2UoJ3gtc2hhZGVyL3gtdmVydGV4JywgYFxyXG4gICAgICBhdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XHJcbiAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcclxuICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xyXG4gICAgICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xyXG4gICAgICB9XHJcbiAgICBgKTtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgZnJhZ21lbnRTaGFkZXJTY3JpcHQ6IFNjcmlwdCA9IFNjcmlwdC5jcmVhdGVGcm9tU291cmNlKCd4LXNoYWRlci94LWZyYWdtZW50JywgYFxyXG4gICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XHJcbiAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VGV4dHVyZUNvb3JkO1xyXG4gICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xyXG4gICAgICB2b2lkIG1haW4odm9pZCkge1xyXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4dHVyZUNvb3JkKTtcclxuICAgICAgfVxyXG4gICAgYCk7XHJcbiAgICBwdWJsaWMgcXVhZFZQQnVmZmVyPzogV2ViR0xCdWZmZXIgfCBudWxsO1xyXG4gICAgcHVibGljIHF1YWRWVENCdWZmZXI/OiBXZWJHTEJ1ZmZlciB8IG51bGw7XHJcbiAgICBwdWJsaWMgbXZNYXRyaXg6IE1hdHJpeDtcclxuICAgIHB1YmxpYyBnbE5hbWVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuICAgIHB1YmxpYyB0ZXh0dXJlQ29vcmRBdHRyaWJ1dGU/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdmVydGV4UG9zaXRpb25BdHRyaWJ1dGU/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcGVyc3BlY3RpdmVNYXRyaXg6IE1hdHJpeDtcclxuICAgIHByb3RlY3RlZCBnbD86IFdlYkdMUmVuZGVyaW5nQ29udGV4dCB8IG51bGw7XHJcbiAgICBwcm90ZWN0ZWQgZnJhbWVidWZmZXI/OiBXZWJHTEZyYW1lYnVmZmVyIHwgbnVsbDtcclxuICAgIHByb3RlY3RlZCBmcmFtZWJ1ZmZlclRleHR1cmU/OiBUZXh0dXJlO1xyXG4gICAgcHJvdGVjdGVkIHRleHR1cmU/OiBUZXh0dXJlO1xyXG4gICAgcHJvdGVjdGVkIHByb2dyYW0/OiBQcm9ncmFtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIHJlYWRvbmx5IHNpemU6IFNpemUsIHVzZUZyYW1lQnVmZmVyOiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIoY2FudmFzLCBzaXplKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHNpemUudztcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBzaXplLmg7XHJcblxyXG4gICAgICAgIHRoaXMub25Jbml0V2ViR0woKTtcclxuICAgICAgICB0aGlzLm9uSW5pdFNoYWRlcnMoKTtcclxuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XHJcblxyXG4gICAgICAgIGlmICh1c2VGcmFtZUJ1ZmZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRGcmFtZWJ1ZmZlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbkluaXRUZXh0dXJlcygpO1xyXG4gICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGluaXRGcmFtZWJ1ZmZlcigpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgaWYgKCFnbCkge1xyXG4gICAgICAgICAgICBlcnJvcihgZ2wgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgdGV4dHVyZS5cclxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIpO1xyXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wsIHRoaXMuc2l6ZSwgZ2wuUkdCQSk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgYWxsb2NhdGUgcmVuZGVyYnVmZmVyIGZvciBkZXB0aCBkYXRhLlxyXG4gICAgICAgIGNvbnN0IHJlbmRlcmJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xyXG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJidWZmZXIpO1xyXG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgdGhpcy5zaXplLncsIHRoaXMuc2l6ZS5oKTtcclxuXHJcbiAgICAgICAgLy8gQXR0YWNoIHRleHR1cmUgYW5kIHJlbmRlcmJ1ZmZlciB0byB0aGUgZnJhbWVidWZmZXIuXHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLmZyYW1lYnVmZmVyVGV4dHVyZS50ZXh0dXJlLCAwKTtcclxuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJidWZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0QnVmZmVycygpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdG1wO1xyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuXHJcbiAgICAgICAgaWYgKCFnbCkge1xyXG4gICAgICAgICAgICBlcnJvcihgZ2wgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHZlcnRleCBwb3NpdGlvbiBidWZmZXIuXHJcbiAgICAgICAgdGhpcy5xdWFkVlBCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICBpZiAoIXRoaXMucXVhZFZQQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBxdWFkVlBCdWZmZXIgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5xdWFkVlBCdWZmZXIpO1xyXG4gICAgICAgIHRtcCA9IFtcclxuICAgICAgICAgICAgMS4wLCAxLjAsIDAuMCxcclxuICAgICAgICAgICAgLTEuMCwgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgIDEuMCwgLTEuMCwgMC4wLFxyXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAwLjBdO1xyXG5cclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0bXApLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgLy8gKHRoaXMucXVhZFZQQnVmZmVyIGFzIGFueSkuaXRlbVNpemUgPSAzO1xyXG4gICAgICAgIC8vICh0aGlzLnF1YWRWUEJ1ZmZlciBhcyBhbnkpLm51bUl0ZW1zID0gNDtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tK1xyXG4gICAgICAgICB8IC0xLDEgKDEpICAgICAgICAgICB8IDEsMSAoMClcclxuICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgIHwgLTEsLTEgKDMpICAgICAgICAgIHwgMSwtMSAoMilcclxuICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tK1xyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZVggPSAxLjA7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gMS4wO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdmVydGV4IHRleHR1cmUgY29vcmRpbmF0ZSBidWZmZXIuXHJcbiAgICAgICAgdGhpcy5xdWFkVlRDQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucXVhZFZUQ0J1ZmZlcik7XHJcbiAgICAgICAgdG1wID0gW1xyXG4gICAgICAgICAgICBzY2FsZVgsIDAuMCxcclxuICAgICAgICAgICAgMC4wLCAwLjAsXHJcbiAgICAgICAgICAgIHNjYWxlWCwgc2NhbGVZLFxyXG4gICAgICAgICAgICAwLjAsIHNjYWxlWVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodG1wKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBtdklkZW50aXR5KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm12TWF0cml4ID0gTWF0cml4LkkoNCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG12TXVsdGlwbHkobTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tdk1hdHJpeCA9IHRoaXMubXZNYXRyaXgueChtKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbXZUcmFuc2xhdGUobTogbnVtYmVyW10pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCAkViA9IFZlY3Rvci5jcmVhdGU7XHJcbiAgICAgICAgdGhpcy5tdk11bHRpcGx5KE1hdHJpeC5UcmFuc2xhdGlvbigkVihbbVswXSwgbVsxXSwgbVsyXV0pKS5lbnN1cmU0eDQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldE1hdHJpeFVuaWZvcm1zKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3JhbS5zZXRNYXRyaXhVbmlmb3JtKCd1UE1hdHJpeCcsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5wZXJzcGVjdGl2ZU1hdHJpeC5mbGF0dGVuKCkpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0uc2V0TWF0cml4VW5pZm9ybSgndU1WTWF0cml4JywgbmV3IEZsb2F0MzJBcnJheSh0aGlzLm12TWF0cml4LmZsYXR0ZW4oKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0U2NlbmUoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG5cclxuICAgICAgICBpZiAoIWdsKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBnbCB0eXBlIGlzICR7dHlwZW9mIGdsfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFc3RhYmxpc2ggdGhlIHBlcnNwZWN0aXZlIHdpdGggd2hpY2ggd2Ugd2FudCB0byB2aWV3IHRoZVxyXG4gICAgICAgIC8vIHNjZW5lLiBPdXIgZmllbGQgb2YgdmlldyBpcyA0NSBkZWdyZWVzLCB3aXRoIGEgd2lkdGgvaGVpZ2h0XHJcbiAgICAgICAgLy8gcmF0aW8gb2YgNjQwOjQ4MCwgYW5kIHdlIG9ubHkgd2FudCB0byBzZWUgb2JqZWN0cyBiZXR3ZWVuIDAuMSB1bml0c1xyXG4gICAgICAgIC8vIGFuZCAxMDAgdW5pdHMgYXdheSBmcm9tIHRoZSBjYW1lcmEuXHJcblxyXG4gICAgICAgIHRoaXMucGVyc3BlY3RpdmVNYXRyaXggPSBtYWtlUGVyc3BlY3RpdmUoNDUsIDEsIDAuMSwgMTAwLjApO1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGRyYXdpbmcgcG9zaXRpb24gdG8gdGhlICdpZGVudGl0eScgcG9pbnQsIHdoaWNoIGlzXHJcbiAgICAgICAgLy8gdGhlIGNlbnRlciBvZiB0aGUgc2NlbmUuXHJcbiAgICAgICAgdGhpcy5tdklkZW50aXR5KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdyBtb3ZlIHRoZSBkcmF3aW5nIHBvc2l0aW9uIGEgYml0IHRvIHdoZXJlIHdlIHdhbnQgdG8gc3RhcnRcclxuICAgICAgICAvLyBkcmF3aW5nIHRoZSBzcXVhcmUuXHJcbiAgICAgICAgdGhpcy5tdlRyYW5zbGF0ZShbMC4wLCAwLjAsIC0yLjRdKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgY3ViZSBieSBiaW5kaW5nIHRoZSBhcnJheSBidWZmZXIgdG8gdGhlIGN1YmUncyB2ZXJ0aWNlc1xyXG4gICAgICAgIC8vIGFycmF5LCBzZXR0aW5nIGF0dHJpYnV0ZXMsIGFuZCBwdXNoaW5nIGl0IHRvIEdMLlxyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnF1YWRWUEJ1ZmZlciBhcyBXZWJHTEJ1ZmZlcik7XHJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlIGFzIG51bWJlciwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGF0dHJpYnV0ZSBmb3IgdGhlIHZlcnRpY2VzLlxyXG5cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5xdWFkVlRDQnVmZmVyIGFzIFdlYkdMQnVmZmVyKTtcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMudGV4dHVyZUNvb3JkQXR0cmlidXRlIGFzIG51bWJlciwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbkluaXRTY2VuZVRleHR1cmVzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TWF0cml4VW5pZm9ybXMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVidWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdW5kIEZyYW1lIEJ1ZmZlcicpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ1dlYkdMQ2FudmFzIFNpemU6ICcgKyB0aGlzLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNoZWNrTGFzdEVycm9yKG9wZXJhdGlvbjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdsIHx8ICF0aGlzLmdsTmFtZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlcnIgPSB0aGlzLmdsLmdldEVycm9yKCk7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdGhpcy5nbC5OT19FUlJPUikge1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuZ2xOYW1lc1tlcnJdO1xyXG4gICAgICAgICAgICBuYW1lID0gKG5hbWUgIT09IHVuZGVmaW5lZCkgPyBuYW1lICsgJygnICsgZXJyICsgJyknIDpcclxuICAgICAgICAgICAgICAgICgnVW5rbm93biBXZWJHTCBFTlVNICgweCcgKyBlcnIudG9TdHJpbmcoMTYpICsgJyknKTtcclxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYkdMIEVycm9yOiAlcywgJXMnLCBvcGVyYXRpb24sIG5hbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYkdMIEVycm9yOiAlcycsIG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uSW5pdFdlYkdMKCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7XHJcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWVcclxuICAgICAgICAgICAgfSkgYXMgV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmdsKSB7XHJcbiAgICAgICAgICAgIGVycm9yKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTC4gWW91ciBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nbE5hbWVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nbE5hbWVzID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgaW4gdGhpcy5nbCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nbC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICh0aGlzLmdsIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPilbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbE5hbWVzW3ZhbHVlXSA9IHByb3BlcnR5TmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Jbml0U2hhZGVycygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgaWYgKCFnbCkge1xyXG4gICAgICAgICAgICBlcnJvcihgZ2wgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbShnbCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtLmF0dGFjaChuZXcgU2hhZGVyKGdsLCBXZWJHTENhbnZhcy52ZXJ0ZXhTaGFkZXJTY3JpcHQpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0uYXR0YWNoKG5ldyBTaGFkZXIoZ2wsIFdlYkdMQ2FudmFzLmZyYWdtZW50U2hhZGVyU2NyaXB0KSk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtLmxpbmsoKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0udXNlKCk7XHJcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSA9IHRoaXMucHJvZ3JhbS5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYVZlcnRleFBvc2l0aW9uJyk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSBhcyBudW1iZXIpO1xyXG4gICAgICAgIHRoaXMudGV4dHVyZUNvb3JkQXR0cmlidXRlID0gdGhpcy5wcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhVGV4dHVyZUNvb3JkJyk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUgYXMgbnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Jbml0VGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdsIHR5cGUgaXMgJHt0eXBlb2YgZ2x9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wsIHRoaXMuc2l6ZSwgZ2wuUkdCQSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uSW5pdFNjZW5lVGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcclxuICAgICAgICAgICAgZXJyb3IoYHRleHR1cmUgdHlwZSBpcyAke3R5cGVvZiB0aGlzLnRleHR1cmV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgZXJyb3IoYHByb2dyYW0gdHlwZSBpcyAke3R5cGVvZiB0aGlzLnRleHR1cmV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoMCwgdGhpcy5wcm9ncmFtLCAndGV4dHVyZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkcmF3U2NlbmUoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdsIHR5cGUgaXMgJHt0eXBlb2YgZ2x9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRQaXhlbHMoYnVmZmVyOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdsIHR5cGUgaXMgJHt0eXBlb2YgZ2x9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2wucmVhZFBpeGVscygwLCAwLCB0aGlzLnNpemUudywgdGhpcy5zaXplLmgsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGJ1ZmZlcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNpemUgZnJvbSAnLi91dGlscy9TaXplJztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBZVVZDYW52YXMgZXh0ZW5kcyBDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXNDdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgY2FudmFzQnVmZmVyOiBJbWFnZURhdGE7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgcmVhZG9ubHkgc2l6ZTogU2l6ZSkge1xyXG4gICAgICAgIHN1cGVyKGNhbnZhcywgc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlciA9IHRoaXMuY2FudmFzQ3R4LmNyZWF0ZUltYWdlRGF0YShzaXplLncsIHNpemUuaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbHVtYVNpemUgPSB3aWR0aCAqIGhlaWdodDtcclxuICAgICAgICBjb25zdCBjaHJvbWFTaXplID0gbHVtYVNpemUgPj4gMjtcclxuXHJcbiAgICAgICAgY29uc3QgeWJ1ZiA9IGJ1ZmZlci5zdWJhcnJheSgwLCBsdW1hU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdWJ1ZiA9IGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSwgbHVtYVNpemUgKyBjaHJvbWFTaXplKTtcclxuICAgICAgICBjb25zdCB2YnVmID0gYnVmZmVyLnN1YmFycmF5KGx1bWFTaXplICsgY2hyb21hU2l6ZSwgbHVtYVNpemUgKyAyICogY2hyb21hU2l6ZSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5SW5kZXggPSB4ICsgeSAqIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdUluZGV4ID0gfn4oeSAvIDIpICogfn4od2lkdGggLyAyKSArIH5+KHggLyAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZJbmRleCA9IH5+KHkgLyAyKSAqIH5+KHdpZHRoIC8gMikgKyB+fih4IC8gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBSID0gMS4xNjQgKiAoeWJ1Zlt5SW5kZXhdIC0gMTYpICsgMS41OTYgKiAodmJ1Zlt2SW5kZXhdIC0gMTI4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEcgPSAxLjE2NCAqICh5YnVmW3lJbmRleF0gLSAxNikgLSAwLjgxMyAqICh2YnVmW3ZJbmRleF0gLSAxMjgpIC0gMC4zOTEgKiAodWJ1Zlt1SW5kZXhdIC0gMTI4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEIgPSAxLjE2NCAqICh5YnVmW3lJbmRleF0gLSAxNikgKyAyLjAxOCAqICh1YnVmW3VJbmRleF0gLSAxMjgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJnYkluZGV4ID0geUluZGV4ICogNDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQnVmZmVyLmRhdGFbcmdiSW5kZXggKyAwXSA9IFI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlci5kYXRhW3JnYkluZGV4ICsgMV0gPSBHO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNCdWZmZXIuZGF0YVtyZ2JJbmRleCArIDJdID0gQjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQnVmZmVyLmRhdGFbcmdiSW5kZXggKyAzXSA9IDB4ZmY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4LnB1dEltYWdlRGF0YSh0aGlzLmNhbnZhc0J1ZmZlciwgMCwgMCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdXU0F2Y1BsYXllcjogRGVjb2RlIHRpbWU6ICcgKyAoZGF0ZS5nZXRUaW1lKCkgLSB0aGlzLnJjdnRpbWUpICsgJyBtcycpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJHTENhbnZhcyBmcm9tICcuL1dlYkdMQ2FudmFzJztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi91dGlscy9TaXplJztcclxuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi9Qcm9ncmFtJztcclxuaW1wb3J0IFNoYWRlciBmcm9tICcuL1NoYWRlcic7XHJcbmltcG9ydCBTY3JpcHQgZnJvbSAnLi9TY3JpcHQnO1xyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL1RleHR1cmUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWVVWV2ViR0xDYW52YXMgZXh0ZW5kcyBXZWJHTENhbnZhcyB7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHZlcnRleFNoYWRlclNjcmlwdDogU2NyaXB0ID0gU2NyaXB0LmNyZWF0ZUZyb21Tb3VyY2UoJ3gtc2hhZGVyL3gtdmVydGV4JywgYFxyXG4gICAgICBhdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XHJcbiAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcclxuICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xyXG4gICAgICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xyXG4gICAgICB9XHJcbiAgICBgKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGZyYWdtZW50U2hhZGVyU2NyaXB0OiBTY3JpcHQgPSBTY3JpcHQuY3JlYXRlRnJvbVNvdXJjZSgneC1zaGFkZXIveC1mcmFnbWVudCcsIGBcclxuICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xyXG4gICAgICB2YXJ5aW5nIGhpZ2hwIHZlYzIgdlRleHR1cmVDb29yZDtcclxuICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgWVRleHR1cmU7XHJcbiAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIFVUZXh0dXJlO1xyXG4gICAgICB1bmlmb3JtIHNhbXBsZXIyRCBWVGV4dHVyZTtcclxuICAgICAgY29uc3QgbWF0NCBZVVYyUkdCID0gbWF0NFxyXG4gICAgICAoXHJcbiAgICAgICAxLjE2NDM4MjgxMjUsIDAsIDEuNTk2MDI3MzQzNzUsIC0uODcwNzg1MTU2MjUsXHJcbiAgICAgICAxLjE2NDM4MjgxMjUsIC0uMzkxNzYxNzE4NzUsIC0uODEyOTY4NzUsIC41Mjk1OTM3NSxcclxuICAgICAgIDEuMTY0MzgyODEyNSwgMi4wMTcyMzQzNzUsIDAsIC0xLjA4MTM5MDYyNSxcclxuICAgICAgIDAsIDAsIDAsIDFcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KFxyXG4gICAgICAgICB0ZXh0dXJlMkQoWVRleHR1cmUsICB2VGV4dHVyZUNvb3JkKS54LFxyXG4gICAgICAgICB0ZXh0dXJlMkQoVVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpLngsXHJcbiAgICAgICAgIHRleHR1cmUyRChWVGV4dHVyZSwgdlRleHR1cmVDb29yZCkueCxcclxuICAgICAgICAgMVxyXG4gICAgICAgKSAqIFlVVjJSR0I7XHJcbiAgICAgIH1gKTtcclxuXHJcbiAgICBwcml2YXRlIFlUZXh0dXJlPzogVGV4dHVyZTtcclxuICAgIHByaXZhdGUgVVRleHR1cmU/OiBUZXh0dXJlO1xyXG4gICAgcHJpdmF0ZSBWVGV4dHVyZT86IFRleHR1cmU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgcmVhZG9ubHkgc2l6ZTogU2l6ZSkge1xyXG4gICAgICAgIHN1cGVyKGNhbnZhcywgc2l6ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkluaXRTaGFkZXJzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5nbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMuZ2wpO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbS5hdHRhY2gobmV3IFNoYWRlcih0aGlzLmdsLCBZVVZXZWJHTENhbnZhcy52ZXJ0ZXhTaGFkZXJTY3JpcHQpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0uYXR0YWNoKG5ldyBTaGFkZXIodGhpcy5nbCwgWVVWV2ViR0xDYW52YXMuZnJhZ21lbnRTaGFkZXJTY3JpcHQpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0ubGluaygpO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbS51c2UoKTtcclxuICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlID0gdGhpcy5wcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhVmVydGV4UG9zaXRpb24nKTtcclxuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudmVydGV4UG9zaXRpb25BdHRyaWJ1dGUgYXMgbnVtYmVyKTtcclxuICAgICAgICB0aGlzLnRleHR1cmVDb29yZEF0dHJpYnV0ZSA9IHRoaXMucHJvZ3JhbS5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYVRleHR1cmVDb29yZCcpO1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUgYXMgbnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Jbml0VGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ZVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZ2wsIHRoaXMuc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5VVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZ2wsIHRoaXMuc2l6ZS5nZXRIYWxmU2l6ZSgpKTtcclxuICAgICAgICB0aGlzLlZUZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5nbCwgdGhpcy5zaXplLmdldEhhbGZTaXplKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkluaXRTY2VuZVRleHR1cmVzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLllUZXh0dXJlIHx8ICF0aGlzLlVUZXh0dXJlIHx8ICF0aGlzLlZUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ZVGV4dHVyZS5iaW5kKDAsIHRoaXMucHJvZ3JhbSwgJ1lUZXh0dXJlJyk7XHJcbiAgICAgICAgdGhpcy5VVGV4dHVyZS5iaW5kKDEsIHRoaXMucHJvZ3JhbSwgJ1VUZXh0dXJlJyk7XHJcbiAgICAgICAgdGhpcy5WVGV4dHVyZS5iaW5kKDIsIHRoaXMucHJvZ3JhbSwgJ1ZUZXh0dXJlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGZpbGxZVVZUZXh0dXJlcyh5OiBVaW50OEFycmF5LCB1OiBVaW50OEFycmF5LCB2OiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLllUZXh0dXJlIHx8ICF0aGlzLlVUZXh0dXJlIHx8ICF0aGlzLlZUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ZVGV4dHVyZS5maWxsKHkpO1xyXG4gICAgICAgIHRoaXMuVVRleHR1cmUuZmlsbCh1KTtcclxuICAgICAgICB0aGlzLlZUZXh0dXJlLmZpbGwodik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmICghYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLllUZXh0dXJlIHx8ICF0aGlzLlVUZXh0dXJlIHx8ICF0aGlzLlZUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGx1bWFTaXplID0gd2lkdGggKiBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY2hyb21hU2l6ZSA9IGx1bWFTaXplID4+IDI7XHJcbiAgICAgICAgdGhpcy5maWxsWVVWVGV4dHVyZXMoXHJcbiAgICAgICAgICAgIGJ1ZmZlci5zdWJhcnJheSgwLCBsdW1hU2l6ZSksXHJcbiAgICAgICAgICAgIGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSwgbHVtYVNpemUgKyBjaHJvbWFTaXplKSxcclxuICAgICAgICAgICAgYnVmZmVyLnN1YmFycmF5KGx1bWFTaXplICsgY2hyb21hU2l6ZSwgbHVtYVNpemUgKyAyICogY2hyb21hU2l6ZSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnWVVWQ2FudmFzIFNpemU6ICcgKyB0aGlzLnNpemU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGVycm9yIGZyb20gJy4vZXJyb3InO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbjogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgICAgIGVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbn1cclxuIiwiLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXRyaXgsIFZlY3RvciB9IGZyb20gJ3N5bHZlc3Rlci5qcyc7XHJcblxyXG5jb25zdCAkTSA9IE1hdHJpeC5jcmVhdGU7XHJcblxyXG4vLyBhdWdtZW50IFN5bHZlc3RlciBzb21lXHJcbk1hdHJpeC5UcmFuc2xhdGlvbiA9IGZ1bmN0aW9uKHY6IE1hdHJpeCk6IE1hdHJpeCB7XHJcbiAgICBpZiAodi5lbGVtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBjb25zdCByID0gTWF0cml4LkkoMyk7XHJcbiAgICAgICAgci5lbGVtZW50c1syXVswXSA9IHYuZWxlbWVudHNbMF07XHJcbiAgICAgICAgci5lbGVtZW50c1syXVsxXSA9IHYuZWxlbWVudHNbMV07XHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHYuZWxlbWVudHMubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgY29uc3QgciA9IE1hdHJpeC5JKDQpO1xyXG4gICAgICAgIHIuZWxlbWVudHNbMF1bM10gPSB2LmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIHIuZWxlbWVudHNbMV1bM10gPSB2LmVsZW1lbnRzWzFdO1xyXG4gICAgICAgIHIuZWxlbWVudHNbMl1bM10gPSB2LmVsZW1lbnRzWzJdO1xyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93IEVycm9yKCdJbnZhbGlkIGxlbmd0aCBmb3IgVHJhbnNsYXRpb24nKTtcclxufTtcclxuXHJcbk1hdHJpeC5wcm90b3R5cGUuZmxhdHRlbiA9IGZ1bmN0aW9uKCk6IG51bWJlcltdIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgLyogdHNsaW50OmRpc2FibGU6IG5vLWludmFsaWQtdGhpcyBwcmVmZXItZm9yLW9mICovXHJcbiAgICBpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZWxlbWVudHNbaV1bal0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qIHRzbGludDplbmFibGUgKi9cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5NYXRyaXgucHJvdG90eXBlLmVuc3VyZTR4NCA9IGZ1bmN0aW9uKCk6IE1hdHJpeCB8IG51bGwge1xyXG4gICAgLyogdHNsaW50OmRpc2FibGU6IG5vLWludmFsaWQtdGhpcyAqL1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID09PSA0ICYmIHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID4gNCB8fCB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCA+IDQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5lbGVtZW50c1tpXS5sZW5ndGg7IGogPCA0OyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IGopIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0ucHVzaCgxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0ucHVzaCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2goWzEsIDAsIDAsIDBdKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKFswLCAxLCAwLCAwXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpID09PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMucHVzaChbMCwgMCwgMSwgMF0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2goWzAsIDAsIDAsIDFdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXHJcbn07XHJcblxyXG5WZWN0b3IucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbigpOiBudW1iZXJbXSB7XHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTogbm8taW52YWxpZC10aGlzICovXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50cztcclxuICAgIC8qIHRzbGludDplbmFibGUgKi9cclxufTtcclxuXHJcbi8vXHJcbi8vIGdsdVBlcnNwZWN0aXZlXHJcbi8vXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGVyc3BlY3RpdmUoZm92eTogbnVtYmVyLCBhc3BlY3Q6IG51bWJlciwgem5lYXI6IG51bWJlciwgemZhcjogbnVtYmVyKTogTWF0cml4IHtcclxuICAgIGNvbnN0IHltYXggPSB6bmVhciAqIE1hdGgudGFuKGZvdnkgKiBNYXRoLlBJIC8gMzYwLjApO1xyXG4gICAgY29uc3QgeW1pbiA9IC15bWF4O1xyXG4gICAgY29uc3QgeG1pbiA9IHltaW4gKiBhc3BlY3Q7XHJcbiAgICBjb25zdCB4bWF4ID0geW1heCAqIGFzcGVjdDtcclxuXHJcbiAgICByZXR1cm4gbWFrZUZydXN0dW0oeG1pbiwgeG1heCwgeW1pbiwgeW1heCwgem5lYXIsIHpmYXIpO1xyXG59XHJcblxyXG4vL1xyXG4vLyBnbEZydXN0dW1cclxuLy9cclxuZnVuY3Rpb24gbWFrZUZydXN0dW0obGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICBib3R0b206IG51bWJlciwgdG9wOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgIHpuZWFyOiBudW1iZXIsIHpmYXI6IG51bWJlcik6IE1hdHJpeCB7XHJcbiAgICBjb25zdCBYID0gMiAqIHpuZWFyIC8gKHJpZ2h0IC0gbGVmdCk7XHJcbiAgICBjb25zdCBZID0gMiAqIHpuZWFyIC8gKHRvcCAtIGJvdHRvbSk7XHJcbiAgICBjb25zdCBBID0gKHJpZ2h0ICsgbGVmdCkgLyAocmlnaHQgLSBsZWZ0KTtcclxuICAgIGNvbnN0IEIgPSAodG9wICsgYm90dG9tKSAvICh0b3AgLSBib3R0b20pO1xyXG4gICAgY29uc3QgQyA9IC0oemZhciArIHpuZWFyKSAvICh6ZmFyIC0gem5lYXIpO1xyXG4gICAgY29uc3QgRCA9IC0yICogemZhciAqIHpuZWFyIC8gKHpmYXIgLSB6bmVhcik7XHJcblxyXG4gICAgcmV0dXJuICRNKFtbWCwgMCwgQSwgMF0sXHJcbiAgICAgICAgWzAsIFksIEIsIDBdLFxyXG4gICAgICAgIFswLCAwLCBDLCBEXSxcclxuICAgICAgICBbMCwgMCwgLTEsIDBdXSk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQ2FudmFzIHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7fVxyXG4gICAgcHVibGljIGFic3RyYWN0IGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcclxufVxyXG4iLCIvKipcclxuICogUmVwcmVzZW50cyBhIFdlYkdMIHNoYWRlciBvYmplY3QgYW5kIHByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGxvYWQgc2hhZGVycyBmcm9tIEhUTUxcclxuICogc2NyaXB0IHRhZ3MuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyQ29tcGlsZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1nbFxyXG4gICAgICogQHBhcmFtIHt7dHlwZTogc3RyaW5nLCBzb3VyY2U6IHN0cmluZ319c2NyaXB0XHJcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNvbXBpbGUoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2NyaXB0OiB7IHR5cGU6IHN0cmluZzsgc291cmNlOiBzdHJpbmcgfSk6IFdlYkdMU2hhZGVyIHwgbnVsbCB7XHJcbiAgICAgICAgbGV0IHNoYWRlcjogV2ViR0xTaGFkZXIgfCBudWxsO1xyXG4gICAgICAgIC8vIE5vdyBmaWd1cmUgb3V0IHdoYXQgdHlwZSBvZiBzaGFkZXIgc2NyaXB0IHdlIGhhdmUsIGJhc2VkIG9uIGl0cyBNSU1FIHR5cGUuXHJcbiAgICAgICAgaWYgKHNjcmlwdC50eXBlID09PSAneC1zaGFkZXIveC1mcmFnbWVudCcpIHtcclxuICAgICAgICAgICAgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY3JpcHQudHlwZSA9PT0gJ3gtc2hhZGVyL3gtdmVydGV4Jykge1xyXG4gICAgICAgICAgICBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNoYWRlciB0eXBlOiAnICsgc2NyaXB0LnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNoYWRlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2hhZGVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZW5kIHRoZSBzb3VyY2UgdG8gdGhlIHNoYWRlciBvYmplY3QuXHJcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2NyaXB0LnNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgICAgICAgLy8gU2VlIGlmIGl0IGNvbXBpbGVkIHN1Y2Nlc3NmdWxseS5cclxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyczogJyArIGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlclByb2dyYW0ge1xyXG4gICAgcHVibGljIHByb2dyYW06IFdlYkdMUHJvZ3JhbSB8IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fWdsXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlcn1zaGFkZXJcclxuICAgICAqL1xyXG4gICAgYXR0YWNoKHNoYWRlcjogV2ViR0xTaGFkZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZ3JhbSB0eXBlIGlzICR7dHlwZW9mIHRoaXMucHJvZ3JhbX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBzaGFkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbmsoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFByb2dyYW0gdHlwZSBpcyAke3R5cGVvZiB0aGlzLnByb2dyYW19YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICAvLyBJZiBjcmVhdGluZyB0aGUgc2hhZGVyIHByb2dyYW0gZmFpbGVkLCBhbGVydC5cclxuICAgICAgICBpZiAoIXRoaXMuZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIHRoaXMuZ2wuTElOS19TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBpbml0aWFsaXplIHRoZSBzaGFkZXIgcHJvZ3JhbS4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9bmFtZVxyXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXRBdHRyaWJ1dGVMb2NhdGlvbihuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9bmFtZVxyXG4gICAgICogQHJldHVybiB7V2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRVbmlmb3JtTG9jYXRpb24obmFtZTogc3RyaW5nKTogV2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZ3JhbSB0eXBlIGlzICR7dHlwZW9mIHRoaXMucHJvZ3JhbX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1dlYkdMVW5pZm9ybUxvY2F0aW9ufXVuaWZvcm1Mb2NhdGlvblxyXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fWFycmF5XHJcbiAgICAgKi9cclxuICAgIHNldFVuaWZvcm1NNCh1bmlmb3JtTG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uLCBhcnJheTogbnVtYmVyW10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybUxvY2F0aW9uLCBmYWxzZSwgYXJyYXkpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAdHlwZSB7e3R5cGU6IHN0cmluZywgc291cmNlOiBzdHJpbmd9fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHZlcnRleFF1YWQgPSB7XHJcbiAgICB0eXBlOiAneC1zaGFkZXIveC12ZXJ0ZXgnLFxyXG4gICAgc291cmNlOiBgXHJcbiAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gIHVuaWZvcm0gbWF0NCB1X3Byb2plY3Rpb247XHJcbiAgYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcclxuICBhdHRyaWJ1dGUgdmVjMiBhX3RleENvb3JkO1xyXG4gIHZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG4gIHZvaWQgbWFpbigpe1xyXG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcclxuICAgICAgZ2xfUG9zaXRpb24gPSB1X3Byb2plY3Rpb24gKiB2ZWM0KGFfcG9zaXRpb24sIDAuMCwgMS4wKTtcclxuICB9XHJcbmAsXHJcbn07XHJcblxyXG4vKipcclxuICogQHR5cGUge3t0eXBlOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nfX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBmcmFnbWVudFlVViA9IHtcclxuICAgIHR5cGU6ICd4LXNoYWRlci94LWZyYWdtZW50JyxcclxuICAgIHNvdXJjZTogYFxyXG4gIHByZWNpc2lvbiBsb3dwIGZsb2F0O1xyXG4gIFxyXG4gIHZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG4gIFxyXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHlUZXh0dXJlO1xyXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xyXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHZUZXh0dXJlO1xyXG4gICAgXHJcbiAgY29uc3QgbWF0NCBjb252ZXJzaW9uID0gbWF0NChcclxuICAgIDEuMCwgICAgIDAuMCwgICAgIDEuNDAyLCAgLTAuNzAxLFxyXG4gICAgMS4wLCAgICAtMC4zNDQsICAtMC43MTQsICAgMC41MjksXHJcbiAgICAxLjAsICAgICAxLjc3MiwgICAwLjAsICAgIC0wLjg4NixcclxuICAgIDAuMCwgICAgIDAuMCwgICAgIDAuMCwgICAgIDAuMFxyXG4gICk7XHJcblxyXG4gIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICBmbG9hdCB5Q2hhbm5lbCA9IHRleHR1cmUyRCh5VGV4dHVyZSwgdl90ZXhDb29yZCkueDtcclxuICAgIGZsb2F0IHVDaGFubmVsID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2X3RleENvb3JkKS54O1xyXG4gICAgZmxvYXQgdkNoYW5uZWwgPSB0ZXh0dXJlMkQodlRleHR1cmUsIHZfdGV4Q29vcmQpLng7XHJcbiAgICB2ZWM0IGNoYW5uZWxzID0gdmVjNCh5Q2hhbm5lbCwgdUNoYW5uZWwsIHZDaGFubmVsLCAxLjApO1xyXG4gICAgdmVjMyByZ2IgPSAoY2hhbm5lbHMgKiBjb252ZXJzaW9uKS54eXo7XHJcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgMS4wKTtcclxuICB9XHJcbmAsXHJcbn07XHJcbiIsImltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWVVWQ2FudmFzIGV4dGVuZHMgQ2FudmFzIHtcclxuICAgIHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGNhbnZhc0J1ZmZlcjogSW1hZ2VEYXRhIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKGNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhc0J1ZmZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlciA9IHRoaXMuY2FudmFzQ3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGx1bWFTaXplID0gd2lkdGggKiBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY2hyb21hU2l6ZSA9IGx1bWFTaXplID4+IDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHlidWYgPSBidWZmZXIuc3ViYXJyYXkoMCwgbHVtYVNpemUpO1xyXG4gICAgICAgIGNvbnN0IHVidWYgPSBidWZmZXIuc3ViYXJyYXkobHVtYVNpemUsIGx1bWFTaXplICsgY2hyb21hU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdmJ1ZiA9IGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSArIGNocm9tYVNpemUsIGx1bWFTaXplICsgMiAqIGNocm9tYVNpemUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeUluZGV4ID0geCArIHkgKiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVJbmRleCA9IH5+KHkgLyAyKSAqIH5+KHdpZHRoIC8gMikgKyB+fih4IC8gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2SW5kZXggPSB+fih5IC8gMikgKiB+fih3aWR0aCAvIDIpICsgfn4oeCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgUiA9IDEuMTY0ICogKHlidWZbeUluZGV4XSAtIDE2KSArIDEuNTk2ICogKHZidWZbdkluZGV4XSAtIDEyOCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBHID0gMS4xNjQgKiAoeWJ1Zlt5SW5kZXhdIC0gMTYpIC0gMC44MTMgKiAodmJ1Zlt2SW5kZXhdIC0gMTI4KSAtIDAuMzkxICogKHVidWZbdUluZGV4XSAtIDEyOCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCID0gMS4xNjQgKiAoeWJ1Zlt5SW5kZXhdIC0gMTYpICsgMi4wMTggKiAodWJ1Zlt1SW5kZXhdIC0gMTI4KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZ2JJbmRleCA9IHlJbmRleCAqIDQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlci5kYXRhW3JnYkluZGV4ICsgMF0gPSBSO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNCdWZmZXIuZGF0YVtyZ2JJbmRleCArIDFdID0gRztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQnVmZmVyLmRhdGFbcmdiSW5kZXggKyAyXSA9IEI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlci5kYXRhW3JnYkluZGV4ICsgM10gPSAweGZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNhbnZhc0N0eC5wdXRJbWFnZURhdGEodGhpcy5jYW52YXNCdWZmZXIsIDAsIDApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBTaGFkZXJQcm9ncmFtIGZyb20gJy4vU2hhZGVyUHJvZ3JhbSc7XHJcbmltcG9ydCBTaGFkZXJDb21waWxlciBmcm9tICcuL1NoYWRlckNvbXBpbGVyJztcclxuaW1wb3J0IHsgZnJhZ21lbnRZVVYsIHZlcnRleFF1YWQgfSBmcm9tICcuL1NoYWRlclNvdXJjZXMnO1xyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9oMjY0LWxpdmUtcGxheWVyL1RleHR1cmUnO1xyXG5cclxudHlwZSBTaGFkZXJBcmd1bWVudHMgPSB7XHJcbiAgICB5VGV4dHVyZTogV2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsO1xyXG4gICAgdVRleHR1cmU6IFdlYkdMVW5pZm9ybUxvY2F0aW9uIHwgbnVsbDtcclxuICAgIHZUZXh0dXJlOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiB8IG51bGw7XHJcbiAgICB1X3Byb2plY3Rpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uIHwgbnVsbDtcclxuICAgIGFfcG9zaXRpb246IG51bWJlcjtcclxuICAgIGFfdGV4Q29vcmQ6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlVVlN1cmZhY2VTaGFkZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICAgKiBAcmV0dXJucyB7WVVWU3VyZmFjZVNoYWRlcn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogWVVWU3VyZmFjZVNoYWRlciB7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMuX2luaXRTaGFkZXJzKGdsKTtcclxuICAgICAgICBjb25zdCBzaGFkZXJBcmdzID0gdGhpcy5faW5pdFNoYWRlckFyZ3MoZ2wsIHByb2dyYW0pO1xyXG4gICAgICAgIGNvbnN0IHZlcnRleEJ1ZmZlciA9IHRoaXMuX2luaXRCdWZmZXJzKGdsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBZVVZTdXJmYWNlU2hhZGVyKGdsLCB2ZXJ0ZXhCdWZmZXIgYXMgV2ViR0xCdWZmZXIsIHNoYWRlckFyZ3MsIHByb2dyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfaW5pdFNoYWRlcnMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk6IFNoYWRlclByb2dyYW0ge1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgU2hhZGVyUHJvZ3JhbShnbCk7XHJcbiAgICAgICAgcHJvZ3JhbS5hdHRhY2goU2hhZGVyQ29tcGlsZXIuY29tcGlsZShnbCwgdmVydGV4UXVhZCkgYXMgV2ViR0xTaGFkZXIpO1xyXG4gICAgICAgIHByb2dyYW0uYXR0YWNoKFNoYWRlckNvbXBpbGVyLmNvbXBpbGUoZ2wsIGZyYWdtZW50WVVWKSBhcyBXZWJHTFNoYWRlcik7XHJcbiAgICAgICAgcHJvZ3JhbS5saW5rKCk7XHJcbiAgICAgICAgcHJvZ3JhbS51c2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIF9pbml0U2hhZGVyQXJncyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBwcm9ncmFtOiBTaGFkZXJQcm9ncmFtKTogU2hhZGVyQXJndW1lbnRzIHtcclxuICAgICAgICAvLyBmaW5kIHNoYWRlciBhcmd1bWVudHNcclxuICAgICAgICBjb25zdCBzaGFkZXJBcmdzOiBTaGFkZXJBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgIHlUZXh0dXJlOiBwcm9ncmFtLmdldFVuaWZvcm1Mb2NhdGlvbigneVRleHR1cmUnKSxcclxuICAgICAgICAgICAgdVRleHR1cmU6IHByb2dyYW0uZ2V0VW5pZm9ybUxvY2F0aW9uKCd1VGV4dHVyZScpLFxyXG4gICAgICAgICAgICB2VGV4dHVyZTogcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3ZUZXh0dXJlJyksXHJcbiAgICAgICAgICAgIHVfcHJvamVjdGlvbjogcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfcHJvamVjdGlvbicpLFxyXG4gICAgICAgICAgICBhX3Bvc2l0aW9uOiBwcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgIGFfdGV4Q29vcmQ6IHByb2dyYW0uZ2V0QXR0cmlidXRlTG9jYXRpb24oJ2FfdGV4Q29vcmQnKSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXJBcmdzLmFfcG9zaXRpb24pO1xyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlckFyZ3MuYV90ZXhDb29yZCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzaGFkZXJBcmdzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfaW5pdEJ1ZmZlcnMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk6IFdlYkdMQnVmZmVyIHwgbnVsbCB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHZlcnRleCBidWZmZXIgb2JqZWN0LlxyXG4gICAgICAgIHJldHVybiBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICAgICAgcHJpdmF0ZSB2ZXJ0ZXhCdWZmZXI6IFdlYkdMQnVmZmVyLFxyXG4gICAgICAgIHByaXZhdGUgc2hhZGVyQXJnczogU2hhZGVyQXJndW1lbnRzLFxyXG4gICAgICAgIHByaXZhdGUgcHJvZ3JhbTogU2hhZGVyUHJvZ3JhbSxcclxuICAgICkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVZXHJcbiAgICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVVXHJcbiAgICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVWXHJcbiAgICAgKi9cclxuICAgIHNldFRleHR1cmUodGV4dHVyZVk6IFRleHR1cmUsIHRleHR1cmVVOiBUZXh0dXJlLCB0ZXh0dXJlVjogVGV4dHVyZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuXHJcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy55VGV4dHVyZSwgMCk7XHJcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy51VGV4dHVyZSwgMSk7XHJcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy52VGV4dHVyZSwgMik7XHJcblxyXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xyXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmVZLnRleHR1cmUpO1xyXG5cclxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcclxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlVS50ZXh0dXJlKTtcclxuXHJcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMik7XHJcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZVYudGV4dHVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbS51c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7e3c6bnVtYmVyLCBoOm51bWJlcn19ZW5jb2RlZEZyYW1lU2l6ZVxyXG4gICAgICogQHBhcmFtIHt7bWF4WFRleENvb3JkOm51bWJlciwgbWF4WVRleENvb3JkOm51bWJlcn19IGgyNjRSZW5kZXJTdGF0ZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTaGFkZXJEYXRhKFxyXG4gICAgICAgIGVuY29kZWRGcmFtZVNpemU6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSxcclxuICAgICAgICBoMjY0UmVuZGVyU3RhdGU6IHsgbWF4WFRleENvb3JkOiBudW1iZXI7IG1heFlUZXhDb29yZDogbnVtYmVyIH0sXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IHcsIGggfSA9IGVuY29kZWRGcmFtZVNpemU7XHJcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB3LCBoKTtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICB0aGlzLnByb2dyYW0uc2V0VW5pZm9ybU00KHRoaXMuc2hhZGVyQXJncy51X3Byb2plY3Rpb24gYXMgV2ViR0xVbmlmb3JtTG9jYXRpb24sIFtcclxuICAgICAgMi4wIC8gdywgMCwgMCwgMCxcclxuICAgICAgMCwgMi4wIC8gLWgsIDAsIDAsXHJcbiAgICAgIDAsIDAsIDEsIDAsXHJcbiAgICAgIC0xLCAxLCAwLCAxXHJcbiAgICBdKVxyXG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhCdWZmZXIpO1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgICAgIC8vIEZpcnN0IHRyaWFuZ2xlXHJcbiAgICAgICAgICAgIC8vIHRvcCBsZWZ0OlxyXG4gICAgICAgICAgICAwLCAwLCAwLCAwLFxyXG4gICAgICAgICAgICAvLyB0b3AgcmlnaHQ6XHJcbiAgICAgICAgICAgIHcsIDAsIGgyNjRSZW5kZXJTdGF0ZS5tYXhYVGV4Q29vcmQsIDAsXHJcbiAgICAgICAgICAgIC8vIGJvdHRvbSByaWdodDpcclxuICAgICAgICAgICAgdywgaCwgaDI2NFJlbmRlclN0YXRlLm1heFhUZXhDb29yZCwgaDI2NFJlbmRlclN0YXRlLm1heFlUZXhDb29yZCxcclxuXHJcbiAgICAgICAgICAgIC8vIFNlY29uZCB0cmlhbmdsZVxyXG4gICAgICAgICAgICAvLyBib3R0b20gcmlnaHQ6XHJcbiAgICAgICAgICAgIHcsIGgsIGgyNjRSZW5kZXJTdGF0ZS5tYXhYVGV4Q29vcmQsIGgyNjRSZW5kZXJTdGF0ZS5tYXhZVGV4Q29vcmQsXHJcbiAgICAgICAgICAgIC8vIGJvdHRvbSBsZWZ0OlxyXG4gICAgICAgICAgICAwLCBoLCAwLCBoMjY0UmVuZGVyU3RhdGUubWF4WVRleENvb3JkLFxyXG4gICAgICAgICAgICAvLyB0b3AgbGVmdDpcclxuICAgICAgICAgICAgMCwgMCwgMCwgMFxyXG4gICAgICAgICAgXSksIHRoaXMuZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXJBcmdzLmFfcG9zaXRpb24sIDIsIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCAxNiwgMCk7XHJcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyQXJncy5hX3RleENvb3JkLCAyLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgMTYsIDgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUIHwgZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcclxuICAgICAgICBnbC5kcmF3QXJyYXlzKHRoaXMuZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDYpO1xyXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBiYXNlZCBvbiB0aW55aDI2NCBkZW1vOiBodHRwczovL2dpdGh1Yi5jb20vdWRldmJlL3RpbnloMjY0L3RyZWUvbWFzdGVyL2RlbW9cclxuICovXHJcblxyXG5pbXBvcnQgWVVWU3VyZmFjZVNoYWRlciBmcm9tICcuL1lVVlN1cmZhY2VTaGFkZXInO1xyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9oMjY0LWxpdmUtcGxheWVyL1RleHR1cmUnO1xyXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vQ2FudmFzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlVVldlYkdMQ2FudmFzIGV4dGVuZHMgQ2FudmFzIHtcclxuICAgIHByaXZhdGUgeVRleHR1cmU6IFRleHR1cmU7XHJcbiAgICBwcml2YXRlIHVUZXh0dXJlOiBUZXh0dXJlO1xyXG4gICAgcHJpdmF0ZSB2VGV4dHVyZTogVGV4dHVyZTtcclxuICAgIHByaXZhdGUgeXV2U3VyZmFjZVNoYWRlcjogWVVWU3VyZmFjZVNoYWRlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoY2FudmFzKTtcclxuICAgICAgICBjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7XHJcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcclxuICAgICAgICB9KSBhcyBXZWJHTFJlbmRlcmluZ0NvbnRleHQgfCBudWxsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTC4gWW91ciBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy55dXZTdXJmYWNlU2hhZGVyID0gWVVWU3VyZmFjZVNoYWRlci5jcmVhdGUoZ2wpO1xyXG4gICAgICAgIHRoaXMueVRleHR1cmUgPSBUZXh0dXJlLmNyZWF0ZShnbCwgZ2wuTFVNSU5BTkNFKTtcclxuICAgICAgICB0aGlzLnVUZXh0dXJlID0gVGV4dHVyZS5jcmVhdGUoZ2wsIGdsLkxVTUlOQU5DRSk7XHJcbiAgICAgICAgdGhpcy52VGV4dHVyZSA9IFRleHR1cmUuY3JlYXRlKGdsLCBnbC5MVU1JTkFOQ0UpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIHRoZSB3aWR0aCAmIGhlaWdodCByZXR1cm5lZCBhcmUgYWN0dWFsbHkgcGFkZGVkLCBzbyB3ZSBoYXZlIHRvIHVzZSB0aGUgZnJhbWUgc2l6ZSB0byBnZXQgdGhlIHJlYWwgaW1hZ2UgZGltZW5zaW9uXHJcbiAgICAgICAgLy8gd2hlbiB1cGxvYWRpbmcgdG8gdGV4dHVyZVxyXG4gICAgICAgIGNvbnN0IHN0cmlkZSA9IHdpZHRoOyAvLyBzdHJpZGVcclxuICAgICAgICAvLyBoZWlnaHQgaXMgcGFkZGVkIHdpdGggZmlsbGVyIHJvd3NcclxuXHJcbiAgICAgICAgLy8gaWYgd2Uga25ldyB0aGUgc2l6ZSBvZiB0aGUgdmlkZW8gYmVmb3JlIGVuY29kaW5nLCB3ZSBjb3VsZCBjdXQgb3V0IHRoZSBibGFjayBmaWxsZXIgcGl4ZWxzLiBXZSBkb24ndCwgc28ganVzdCBzZXRcclxuICAgICAgICAvLyBpdCB0byB0aGUgc2l6ZSBhZnRlciBlbmNvZGluZ1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc291cmNlSGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IG1heFhUZXhDb29yZCA9IHNvdXJjZVdpZHRoIC8gc3RyaWRlO1xyXG4gICAgICAgIGNvbnN0IG1heFlUZXhDb29yZCA9IHNvdXJjZUhlaWdodCAvIGhlaWdodDtcclxuXHJcbiAgICAgICAgY29uc3QgbHVtYVNpemUgPSBzdHJpZGUgKiBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY2hyb21hU2l6ZSA9IGx1bWFTaXplID4+IDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHlCdWZmZXIgPSBidWZmZXIuc3ViYXJyYXkoMCwgbHVtYVNpemUpO1xyXG4gICAgICAgIGNvbnN0IHVCdWZmZXIgPSBidWZmZXIuc3ViYXJyYXkobHVtYVNpemUsIGx1bWFTaXplICsgY2hyb21hU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdkJ1ZmZlciA9IGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSArIGNocm9tYVNpemUsIGx1bWFTaXplICsgMiAqIGNocm9tYVNpemUpO1xyXG5cclxuICAgICAgICBjb25zdCBjaHJvbWFIZWlnaHQgPSBoZWlnaHQgPj4gMTtcclxuICAgICAgICBjb25zdCBjaHJvbWFTdHJpZGUgPSBzdHJpZGUgPj4gMTtcclxuXHJcbiAgICAgICAgLy8gd2UgdXBsb2FkIHRoZSBlbnRpcmUgaW1hZ2UsIGluY2x1ZGluZyBzdHJpZGUgcGFkZGluZyAmIGZpbGxlciByb3dzLiBUaGUgYWN0dWFsIHZpc2libGUgaW1hZ2Ugd2lsbCBiZSBtYXBwZWRcclxuICAgICAgICAvLyBmcm9tIHRleHR1cmUgY29vcmRpbmF0ZXMgYXMgdG8gY3JvcCBvdXQgc3RyaWRlIHBhZGRpbmcgJiBmaWxsZXIgcm93cyB1c2luZyBtYXhYVGV4Q29vcmQgYW5kIG1heFlUZXhDb29yZC5cclxuXHJcbiAgICAgICAgdGhpcy55VGV4dHVyZS5pbWFnZTJkQnVmZmVyKHlCdWZmZXIsIHN0cmlkZSwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnVUZXh0dXJlLmltYWdlMmRCdWZmZXIodUJ1ZmZlciwgY2hyb21hU3RyaWRlLCBjaHJvbWFIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMudlRleHR1cmUuaW1hZ2UyZEJ1ZmZlcih2QnVmZmVyLCBjaHJvbWFTdHJpZGUsIGNocm9tYUhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMueXV2U3VyZmFjZVNoYWRlci5zZXRUZXh0dXJlKHRoaXMueVRleHR1cmUsIHRoaXMudVRleHR1cmUsIHRoaXMudlRleHR1cmUpO1xyXG4gICAgICAgIHRoaXMueXV2U3VyZmFjZVNoYWRlci51cGRhdGVTaGFkZXJEYXRhKHsgdzogd2lkdGgsIGg6IGhlaWdodCB9LCB7IG1heFhUZXhDb29yZCwgbWF4WVRleENvb3JkIH0pO1xyXG4gICAgICAgIHRoaXMueXV2U3VyZmFjZVNoYWRlci5kcmF3KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV29ya2VyX2ZuKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYnVuZGxlLndvcmtlci5qc1wiKTtcbn1cbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQXR0YWNoQWRkb249ZSgpOnQuQXR0YWNoQWRkb249ZSgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciByPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQobyxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5BdHRhY2hBZGRvbj12b2lkIDA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZGlzcG9zYWJsZXM9W10sdGhpcy5fc29ja2V0PXQsdGhpcy5fc29ja2V0LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMuX2JpZGlyZWN0aW9uYWw9IWV8fCExIT09ZS5iaWRpcmVjdGlvbmFsfXJldHVybiB0LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2Rpc3Bvc2FibGVzLnB1c2gocih0aGlzLl9zb2NrZXQsXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTt0LndyaXRlKFwic3RyaW5nXCI9PXR5cGVvZiBuP246bmV3IFVpbnQ4QXJyYXkobikpfSkpKSx0aGlzLl9iaWRpcmVjdGlvbmFsJiYodGhpcy5fZGlzcG9zYWJsZXMucHVzaCh0Lm9uRGF0YSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NlbmREYXRhKHQpfSkpKSx0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHQub25CaW5hcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zZW5kQmluYXJ5KHQpfSkpKSksdGhpcy5fZGlzcG9zYWJsZXMucHVzaChyKHRoaXMuX3NvY2tldCxcImNsb3NlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGlzcG9zZSgpfSkpKSx0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHIodGhpcy5fc29ja2V0LFwiZXJyb3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5kaXNwb3NlKCl9KSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGlzcG9zZSgpfSkpfSx0LnByb3RvdHlwZS5fc2VuZERhdGE9ZnVuY3Rpb24odCl7MT09PXRoaXMuX3NvY2tldC5yZWFkeVN0YXRlJiZ0aGlzLl9zb2NrZXQuc2VuZCh0KX0sdC5wcm90b3R5cGUuX3NlbmRCaW5hcnk9ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3NvY2tldC5yZWFkeVN0YXRlKXtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLG49MDtuPHQubGVuZ3RoOysrbillW25dPTI1NSZ0LmNoYXJDb2RlQXQobik7dGhpcy5fc29ja2V0LnNlbmQoZSl9fSx0fSgpO2Z1bmN0aW9uIHIodCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuKSx7ZGlzcG9zZTpmdW5jdGlvbigpe24mJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4pfX19ZS5BdHRhY2hBZGRvbj1vfV0pfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eHRlcm0tYWRkb24tYXR0YWNoLmpzLm1hcCIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRml0QWRkb249dCgpOmUuRml0QWRkb249dCgpfShzZWxmLChmdW5jdGlvbigpe3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs3NzU6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkZpdEFkZG9uPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGUpe3RoaXMuX3Rlcm1pbmFsPWV9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmZpdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcG9zZURpbWVuc2lvbnMoKTtpZihlJiZ0aGlzLl90ZXJtaW5hbCl7dmFyIHQ9dGhpcy5fdGVybWluYWwuX2NvcmU7dGhpcy5fdGVybWluYWwucm93cz09PWUucm93cyYmdGhpcy5fdGVybWluYWwuY29scz09PWUuY29sc3x8KHQuX3JlbmRlclNlcnZpY2UuY2xlYXIoKSx0aGlzLl90ZXJtaW5hbC5yZXNpemUoZS5jb2xzLGUucm93cykpfX0sZS5wcm90b3R5cGUucHJvcG9zZURpbWVuc2lvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXJtaW5hbCYmdGhpcy5fdGVybWluYWwuZWxlbWVudCYmdGhpcy5fdGVybWluYWwuZWxlbWVudC5wYXJlbnRFbGVtZW50KXt2YXIgZT10aGlzLl90ZXJtaW5hbC5fY29yZTtpZigwIT09ZS5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCYmMCE9PWUuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0KXt2YXIgdD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl90ZXJtaW5hbC5lbGVtZW50LnBhcmVudEVsZW1lbnQpLHI9cGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwiaGVpZ2h0XCIpKSxpPU1hdGgubWF4KDAscGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwid2lkdGhcIikpKSxuPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQpLG89ci0ocGFyc2VJbnQobi5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy10b3BcIikpK3BhcnNlSW50KG4uZ2V0UHJvcGVydHlWYWx1ZShcInBhZGRpbmctYm90dG9tXCIpKSksYT1pLShwYXJzZUludChuLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLXJpZ2h0XCIpKStwYXJzZUludChuLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLWxlZnRcIikpKS1lLnZpZXdwb3J0LnNjcm9sbEJhcldpZHRoO3JldHVybntjb2xzOk1hdGgubWF4KDIsTWF0aC5mbG9vcihhL2UuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgpKSxyb3dzOk1hdGgubWF4KDEsTWF0aC5mbG9vcihvL2UuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0KSl9fX19LGV9KCk7dC5GaXRBZGRvbj1yfX0sdD17fTtyZXR1cm4gZnVuY3Rpb24gcihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIG49dFtpXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbaV0obixuLmV4cG9ydHMsciksbi5leHBvcnRzfSg3NzUpfSkoKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXh0ZXJtLWFkZG9uLWZpdC5qcy5tYXAiLCIhZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIHI9dCgpO2Zvcih2YXIgaSBpbiByKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOmUpW2ldPXJbaV19fShzZWxmLChmdW5jdGlvbigpe3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs0NTY3OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQWNjZXNzaWJpbGl0eU1hbmFnZXI9dm9pZCAwO3ZhciBvPXIoOTA0Mikscz1yKDYxMTQpLGE9cig5OTI0KSxjPXIoMzY1NiksbD1yKDg0NCksaD1yKDU1OTYpLHU9cig5NjMxKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgaT1lLmNhbGwodGhpcyl8fHRoaXM7aS5fdGVybWluYWw9dCxpLl9yZW5kZXJTZXJ2aWNlPXIsaS5fbGl2ZVJlZ2lvbkxpbmVDb3VudD0wLGkuX2NoYXJzVG9Db25zdW1lPVtdLGkuX2NoYXJzVG9Bbm5vdW5jZT1cIlwiLGkuX2FjY2Vzc2liaWxpdHlUcmVlUm9vdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGkuX2FjY2Vzc2liaWxpdHlUcmVlUm9vdC5jbGFzc0xpc3QuYWRkKFwieHRlcm0tYWNjZXNzaWJpbGl0eVwiKSxpLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QudGFiSW5kZXg9MCxpLl9yb3dDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLl9yb3dDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibGlzdFwiKSxpLl9yb3dDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInh0ZXJtLWFjY2Vzc2liaWxpdHktdHJlZVwiKSxpLl9yb3dFbGVtZW50cz1bXTtmb3IodmFyIG49MDtuPGkuX3Rlcm1pbmFsLnJvd3M7bisrKWkuX3Jvd0VsZW1lbnRzW25dPWkuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpLGkuX3Jvd0NvbnRhaW5lci5hcHBlbmRDaGlsZChpLl9yb3dFbGVtZW50c1tuXSk7aWYoaS5fdG9wQm91bmRhcnlGb2N1c0xpc3RlbmVyPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9vbkJvdW5kYXJ5Rm9jdXMoZSwwKX0saS5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9vbkJvdW5kYXJ5Rm9jdXMoZSwxKX0saS5fcm93RWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsaS5fdG9wQm91bmRhcnlGb2N1c0xpc3RlbmVyKSxpLl9yb3dFbGVtZW50c1tpLl9yb3dFbGVtZW50cy5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsaS5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKSxpLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKSxpLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QuYXBwZW5kQ2hpbGQoaS5fcm93Q29udGFpbmVyKSxpLl9yZW5kZXJSb3dzRGVib3VuY2VyPW5ldyBhLlRpbWVCYXNlZERlYm91bmNlcihpLl9yZW5kZXJSb3dzLmJpbmQoaSkpLGkuX3JlZnJlc2hSb3dzKCksaS5fbGl2ZVJlZ2lvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGkuX2xpdmVSZWdpb24uY2xhc3NMaXN0LmFkZChcImxpdmUtcmVnaW9uXCIpLGkuX2xpdmVSZWdpb24uc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsXCJhc3NlcnRpdmVcIiksaS5fYWNjZXNzaWJpbGl0eVRyZWVSb290LmFwcGVuZENoaWxkKGkuX2xpdmVSZWdpb24pLCFpLl90ZXJtaW5hbC5lbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlbmFibGUgYWNjZXNzaWJpbGl0eSBiZWZvcmUgVGVybWluYWwub3BlblwiKTtyZXR1cm4gaS5fdGVybWluYWwuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsaS5fYWNjZXNzaWJpbGl0eVRyZWVSb290KSxpLnJlZ2lzdGVyKGkuX3JlbmRlclJvd3NEZWJvdW5jZXIpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25SZXNpemUoKGZ1bmN0aW9uKGUpe3JldHVybiBpLl9vblJlc2l6ZShlLnJvd3MpfSkpKSxpLnJlZ2lzdGVyKGkuX3Rlcm1pbmFsLm9uUmVuZGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5fcmVmcmVzaFJvd3MoZS5zdGFydCxlLmVuZCl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25TY3JvbGwoKGZ1bmN0aW9uKCl7cmV0dXJuIGkuX3JlZnJlc2hSb3dzKCl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25BMTF5Q2hhcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuX29uQ2hhcihlKX0pKSksaS5yZWdpc3RlcihpLl90ZXJtaW5hbC5vbkxpbmVGZWVkKChmdW5jdGlvbigpe3JldHVybiBpLl9vbkNoYXIoXCJcXG5cIil9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25BMTF5VGFiKChmdW5jdGlvbihlKXtyZXR1cm4gaS5fb25UYWIoZSl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25LZXkoKGZ1bmN0aW9uKGUpe3JldHVybiBpLl9vbktleShlLmtleSl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25CbHVyKChmdW5jdGlvbigpe3JldHVybiBpLl9jbGVhckxpdmVSZWdpb24oKX0pKSksaS5yZWdpc3RlcihpLl9yZW5kZXJTZXJ2aWNlLm9uRGltZW5zaW9uc0NoYW5nZSgoZnVuY3Rpb24oKXtyZXR1cm4gaS5fcmVmcmVzaFJvd3NEaW1lbnNpb25zKCl9KSkpLGkuX3NjcmVlbkRwck1vbml0b3I9bmV3IGguU2NyZWVuRHByTW9uaXRvcixpLnJlZ2lzdGVyKGkuX3NjcmVlbkRwck1vbml0b3IpLGkuX3NjcmVlbkRwck1vbml0b3Iuc2V0TGlzdGVuZXIoKGZ1bmN0aW9uKCl7cmV0dXJuIGkuX3JlZnJlc2hSb3dzRGltZW5zaW9ucygpfSkpLGkucmVnaXN0ZXIoKDAsYy5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe3JldHVybiBpLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKX0pKSksaX1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksKDAsdS5yZW1vdmVFbGVtZW50RnJvbVBhcmVudCkodGhpcy5fYWNjZXNzaWJpbGl0eVRyZWVSb290KSx0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGg9MH0sdC5wcm90b3R5cGUuX29uQm91bmRhcnlGb2N1cz1mdW5jdGlvbihlLHQpe3ZhciByPWUudGFyZ2V0LGk9dGhpcy5fcm93RWxlbWVudHNbMD09PXQ/MTp0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMl07aWYoci5nZXRBdHRyaWJ1dGUoXCJhcmlhLXBvc2luc2V0XCIpIT09KDA9PT10P1wiMVwiOlwiXCIrdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLmxlbmd0aCkmJmUucmVsYXRlZFRhcmdldD09PWkpe3ZhciBuLG87aWYoMD09PXQ/KG49cixvPXRoaXMuX3Jvd0VsZW1lbnRzLnBvcCgpLHRoaXMuX3Jvd0NvbnRhaW5lci5yZW1vdmVDaGlsZChvKSk6KG49dGhpcy5fcm93RWxlbWVudHMuc2hpZnQoKSxvPXIsdGhpcy5fcm93Q29udGFpbmVyLnJlbW92ZUNoaWxkKG4pKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX3RvcEJvdW5kYXJ5Rm9jdXNMaXN0ZW5lciksby5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9ib3R0b21Cb3VuZGFyeUZvY3VzTGlzdGVuZXIpLDA9PT10KXt2YXIgcz10aGlzLl9jcmVhdGVBY2Nlc3NpYmlsaXR5VHJlZU5vZGUoKTt0aGlzLl9yb3dFbGVtZW50cy51bnNoaWZ0KHMpLHRoaXMuX3Jvd0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIscyl9ZWxzZSBzPXRoaXMuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpLHRoaXMuX3Jvd0VsZW1lbnRzLnB1c2gocyksdGhpcy5fcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKHMpO3RoaXMuX3Jvd0VsZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX3RvcEJvdW5kYXJ5Rm9jdXNMaXN0ZW5lciksdGhpcy5fcm93RWxlbWVudHNbdGhpcy5fcm93RWxlbWVudHMubGVuZ3RoLTFdLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX2JvdHRvbUJvdW5kYXJ5Rm9jdXNMaXN0ZW5lciksdGhpcy5fdGVybWluYWwuc2Nyb2xsTGluZXMoMD09PXQ/LTE6MSksdGhpcy5fcm93RWxlbWVudHNbMD09PXQ/MTp0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMl0uZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX19LHQucHJvdG90eXBlLl9vblJlc2l6ZT1mdW5jdGlvbihlKXt0aGlzLl9yb3dFbGVtZW50c1t0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKTtmb3IodmFyIHQ9dGhpcy5fcm93Q29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aDt0PHRoaXMuX3Rlcm1pbmFsLnJvd3M7dCsrKXRoaXMuX3Jvd0VsZW1lbnRzW3RdPXRoaXMuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpLHRoaXMuX3Jvd0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9yb3dFbGVtZW50c1t0XSk7Zm9yKDt0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGg+ZTspdGhpcy5fcm93Q29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX3Jvd0VsZW1lbnRzLnBvcCgpKTt0aGlzLl9yb3dFbGVtZW50c1t0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKSx0aGlzLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibGlzdGl0ZW1cIiksZS50YWJJbmRleD0tMSx0aGlzLl9yZWZyZXNoUm93RGltZW5zaW9ucyhlKSxlfSx0LnByb3RvdHlwZS5fb25UYWI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlO3QrKyl0aGlzLl9vbkNoYXIoXCIgXCIpfSx0LnByb3RvdHlwZS5fb25DaGFyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fbGl2ZVJlZ2lvbkxpbmVDb3VudDwyMSYmKHRoaXMuX2NoYXJzVG9Db25zdW1lLmxlbmd0aD4wP3RoaXMuX2NoYXJzVG9Db25zdW1lLnNoaWZ0KCkhPT1lJiYodGhpcy5fY2hhcnNUb0Fubm91bmNlKz1lKTp0aGlzLl9jaGFyc1RvQW5ub3VuY2UrPWUsXCJcXG5cIj09PWUmJih0aGlzLl9saXZlUmVnaW9uTGluZUNvdW50KyssMjE9PT10aGlzLl9saXZlUmVnaW9uTGluZUNvdW50JiYodGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudCs9by50b29NdWNoT3V0cHV0KSkscy5pc01hYyYmdGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudCYmdGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudC5sZW5ndGg+MCYmIXRoaXMuX2xpdmVSZWdpb24ucGFyZW50Tm9kZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QuYXBwZW5kQ2hpbGQodC5fbGl2ZVJlZ2lvbil9KSwwKSl9LHQucHJvdG90eXBlLl9jbGVhckxpdmVSZWdpb249ZnVuY3Rpb24oKXt0aGlzLl9saXZlUmVnaW9uLnRleHRDb250ZW50PVwiXCIsdGhpcy5fbGl2ZVJlZ2lvbkxpbmVDb3VudD0wLHMuaXNNYWMmJigwLHUucmVtb3ZlRWxlbWVudEZyb21QYXJlbnQpKHRoaXMuX2xpdmVSZWdpb24pfSx0LnByb3RvdHlwZS5fb25LZXk9ZnVuY3Rpb24oZSl7dGhpcy5fY2xlYXJMaXZlUmVnaW9uKCksdGhpcy5fY2hhcnNUb0NvbnN1bWUucHVzaChlKX0sdC5wcm90b3R5cGUuX3JlZnJlc2hSb3dzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVuZGVyUm93c0RlYm91bmNlci5yZWZyZXNoKGUsdCx0aGlzLl90ZXJtaW5hbC5yb3dzKX0sdC5wcm90b3R5cGUuX3JlbmRlclJvd3M9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5fdGVybWluYWwuYnVmZmVyLGk9ci5saW5lcy5sZW5ndGgudG9TdHJpbmcoKSxuPWU7bjw9dDtuKyspe3ZhciBvPXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKHIueWRpc3ArbiwhMCkscz0oci55ZGlzcCtuKzEpLnRvU3RyaW5nKCksYT10aGlzLl9yb3dFbGVtZW50c1tuXTthJiYoMD09PW8ubGVuZ3RoP2EuaW5uZXJUZXh0PVwiwqBcIjphLnRleHRDb250ZW50PW8sYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXBvc2luc2V0XCIscyksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNldHNpemVcIixpKSl9dGhpcy5fYW5ub3VuY2VDaGFyYWN0ZXJzKCl9LHQucHJvdG90eXBlLl9yZWZyZXNoUm93c0RpbWVuc2lvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCl7dGhpcy5fcm93RWxlbWVudHMubGVuZ3RoIT09dGhpcy5fdGVybWluYWwucm93cyYmdGhpcy5fb25SZXNpemUodGhpcy5fdGVybWluYWwucm93cyk7Zm9yKHZhciBlPTA7ZTx0aGlzLl90ZXJtaW5hbC5yb3dzO2UrKyl0aGlzLl9yZWZyZXNoUm93RGltZW5zaW9ucyh0aGlzLl9yb3dFbGVtZW50c1tlXSl9fSx0LnByb3RvdHlwZS5fcmVmcmVzaFJvd0RpbWVuc2lvbnM9ZnVuY3Rpb24oZSl7ZS5zdHlsZS5oZWlnaHQ9dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQrXCJweFwifSx0LnByb3RvdHlwZS5fYW5ub3VuY2VDaGFyYWN0ZXJzPWZ1bmN0aW9uKCl7MCE9PXRoaXMuX2NoYXJzVG9Bbm5vdW5jZS5sZW5ndGgmJih0aGlzLl9saXZlUmVnaW9uLnRleHRDb250ZW50Kz10aGlzLl9jaGFyc1RvQW5ub3VuY2UsdGhpcy5fY2hhcnNUb0Fubm91bmNlPVwiXCIpfSx0fShsLkRpc3Bvc2FibGUpO3QuQWNjZXNzaWJpbGl0eU1hbmFnZXI9Zn0sMzYxNDooZSx0KT0+e2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxyP1xcbi9nLFwiXFxyXCIpfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gdD9cIlx1MDAxYlsyMDB+XCIrZStcIlx1MDAxYlsyMDF+XCI6ZX1mdW5jdGlvbiBuKGUsdCxuKXtlPWkoZT1yKGUpLG4uZGVjUHJpdmF0ZU1vZGVzLmJyYWNrZXRlZFBhc3RlTW9kZSksbi50cmlnZ2VyRGF0YUV2ZW50KGUsITApLHQudmFsdWU9XCJcIn1mdW5jdGlvbiBvKGUsdCxyKXt2YXIgaT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ZS5jbGllbnRYLWkubGVmdC0xMCxvPWUuY2xpZW50WS1pLnRvcC0xMDt0LnN0eWxlLndpZHRoPVwiMjBweFwiLHQuc3R5bGUuaGVpZ2h0PVwiMjBweFwiLHQuc3R5bGUubGVmdD1uK1wicHhcIix0LnN0eWxlLnRvcD1vK1wicHhcIix0LnN0eWxlLnpJbmRleD1cIjEwMDBcIix0LmZvY3VzKCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yaWdodENsaWNrSGFuZGxlcj10Lm1vdmVUZXh0QXJlYVVuZGVyTW91c2VDdXJzb3I9dC5wYXN0ZT10LmhhbmRsZVBhc3RlRXZlbnQ9dC5jb3B5SGFuZGxlcj10LmJyYWNrZXRUZXh0Rm9yUGFzdGU9dC5wcmVwYXJlVGV4dEZvclRlcm1pbmFsPXZvaWQgMCx0LnByZXBhcmVUZXh0Rm9yVGVybWluYWw9cix0LmJyYWNrZXRUZXh0Rm9yUGFzdGU9aSx0LmNvcHlIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7ZS5jbGlwYm9hcmREYXRhJiZlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIix0LnNlbGVjdGlvblRleHQpLGUucHJldmVudERlZmF1bHQoKX0sdC5oYW5kbGVQYXN0ZUV2ZW50PWZ1bmN0aW9uKGUsdCxyKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUuY2xpcGJvYXJkRGF0YSYmbihlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIiksdCxyKX0sdC5wYXN0ZT1uLHQubW92ZVRleHRBcmVhVW5kZXJNb3VzZUN1cnNvcj1vLHQucmlnaHRDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZSx0LHIsaSxuKXtvKGUsdCxyKSxuJiZpLnJpZ2h0Q2xpY2tTZWxlY3QoZSksdC52YWx1ZT1pLnNlbGVjdGlvblRleHQsdC5zZWxlY3QoKX19LDcyMzk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbG9yQ29udHJhc3RDYWNoZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fY29sb3I9e30sdGhpcy5fcmdiYT17fX1yZXR1cm4gZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9jb2xvcj17fSx0aGlzLl9yZ2JhPXt9fSxlLnByb3RvdHlwZS5zZXRDc3M9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3JnYmFbZV18fCh0aGlzLl9yZ2JhW2VdPXt9KSx0aGlzLl9yZ2JhW2VdW3RdPXJ9LGUucHJvdG90eXBlLmdldENzcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9yZ2JhW2VdP3RoaXMuX3JnYmFbZV1bdF06dm9pZCAwfSxlLnByb3RvdHlwZS5zZXRDb2xvcj1mdW5jdGlvbihlLHQscil7dGhpcy5fY29sb3JbZV18fCh0aGlzLl9jb2xvcltlXT17fSksdGhpcy5fY29sb3JbZV1bdF09cn0sZS5wcm90b3R5cGUuZ2V0Q29sb3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fY29sb3JbZV0/dGhpcy5fY29sb3JbZV1bdF06dm9pZCAwfSxlfSgpO3QuQ29sb3JDb250cmFzdENhY2hlPXJ9LDU2ODA6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbG9yTWFuYWdlcj10LkRFRkFVTFRfQU5TSV9DT0xPUlM9dm9pZCAwO3ZhciBuPXIoODA1NSksbz1yKDcyMzkpLHM9bi5jc3MudG9Db2xvcihcIiNmZmZmZmZcIiksYT1uLmNzcy50b0NvbG9yKFwiIzAwMDAwMFwiKSxjPW4uY3NzLnRvQ29sb3IoXCIjZmZmZmZmXCIpLGw9bi5jc3MudG9Db2xvcihcIiMwMDAwMDBcIiksaD17Y3NzOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpXCIscmdiYTo0Mjk0OTY3MTE3fTt0LkRFRkFVTFRfQU5TSV9DT0xPUlM9T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe2Zvcih2YXIgZT1bbi5jc3MudG9Db2xvcihcIiMyZTM0MzZcIiksbi5jc3MudG9Db2xvcihcIiNjYzAwMDBcIiksbi5jc3MudG9Db2xvcihcIiM0ZTlhMDZcIiksbi5jc3MudG9Db2xvcihcIiNjNGEwMDBcIiksbi5jc3MudG9Db2xvcihcIiMzNDY1YTRcIiksbi5jc3MudG9Db2xvcihcIiM3NTUwN2JcIiksbi5jc3MudG9Db2xvcihcIiMwNjk4OWFcIiksbi5jc3MudG9Db2xvcihcIiNkM2Q3Y2ZcIiksbi5jc3MudG9Db2xvcihcIiM1NTU3NTNcIiksbi5jc3MudG9Db2xvcihcIiNlZjI5MjlcIiksbi5jc3MudG9Db2xvcihcIiM4YWUyMzRcIiksbi5jc3MudG9Db2xvcihcIiNmY2U5NGZcIiksbi5jc3MudG9Db2xvcihcIiM3MjlmY2ZcIiksbi5jc3MudG9Db2xvcihcIiNhZDdmYThcIiksbi5jc3MudG9Db2xvcihcIiMzNGUyZTJcIiksbi5jc3MudG9Db2xvcihcIiNlZWVlZWNcIildLHQ9WzAsOTUsMTM1LDE3NSwyMTUsMjU1XSxyPTA7cjwyMTY7cisrKXt2YXIgaT10W3IvMzYlNnwwXSxvPXRbci82JTZ8MF0scz10W3IlNl07ZS5wdXNoKHtjc3M6bi5jaGFubmVscy50b0NzcyhpLG8scykscmdiYTpuLmNoYW5uZWxzLnRvUmdiYShpLG8scyl9KX1mb3Iocj0wO3I8MjQ7cisrKXt2YXIgYT04KzEwKnI7ZS5wdXNoKHtjc3M6bi5jaGFubmVscy50b0NzcyhhLGEsYSkscmdiYTpuLmNoYW5uZWxzLnRvUmdiYShhLGEsYSl9KX1yZXR1cm4gZX0oKSk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7dGhpcy5hbGxvd1RyYW5zcGFyZW5jeT1yO3ZhciBpPWUuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpLndpZHRoPTEsaS5oZWlnaHQ9MTt2YXIgdT1pLmdldENvbnRleHQoXCIyZFwiKTtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2V0IHJlbmRlcmluZyBjb250ZXh0XCIpO3RoaXMuX2N0eD11LHRoaXMuX2N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJjb3B5XCIsdGhpcy5fbGl0bXVzQ29sb3I9dGhpcy5fY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwxLDEpLHRoaXMuX2NvbnRyYXN0Q2FjaGU9bmV3IG8uQ29sb3JDb250cmFzdENhY2hlLHRoaXMuY29sb3JzPXtmb3JlZ3JvdW5kOnMsYmFja2dyb3VuZDphLGN1cnNvcjpjLGN1cnNvckFjY2VudDpsLHNlbGVjdGlvblRyYW5zcGFyZW50Omgsc2VsZWN0aW9uT3BhcXVlOm4uY29sb3IuYmxlbmQoYSxoKSxzZWxlY3Rpb25Gb3JlZ3JvdW5kOnZvaWQgMCxhbnNpOnQuREVGQVVMVF9BTlNJX0NPTE9SUy5zbGljZSgpLGNvbnRyYXN0Q2FjaGU6dGhpcy5fY29udHJhc3RDYWNoZX0sdGhpcy5fdXBkYXRlUmVzdG9yZUNvbG9ycygpfXJldHVybiBlLnByb3RvdHlwZS5vbk9wdGlvbnNDaGFuZ2U9ZnVuY3Rpb24oZSl7XCJtaW5pbXVtQ29udHJhc3RSYXRpb1wiPT09ZSYmdGhpcy5fY29udHJhc3RDYWNoZS5jbGVhcigpfSxlLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSksdGhpcy5jb2xvcnMuZm9yZWdyb3VuZD10aGlzLl9wYXJzZUNvbG9yKGUuZm9yZWdyb3VuZCxzKSx0aGlzLmNvbG9ycy5iYWNrZ3JvdW5kPXRoaXMuX3BhcnNlQ29sb3IoZS5iYWNrZ3JvdW5kLGEpLHRoaXMuY29sb3JzLmN1cnNvcj10aGlzLl9wYXJzZUNvbG9yKGUuY3Vyc29yLGMsITApLHRoaXMuY29sb3JzLmN1cnNvckFjY2VudD10aGlzLl9wYXJzZUNvbG9yKGUuY3Vyc29yQWNjZW50LGwsITApLHRoaXMuY29sb3JzLnNlbGVjdGlvblRyYW5zcGFyZW50PXRoaXMuX3BhcnNlQ29sb3IoZS5zZWxlY3Rpb24saCwhMCksdGhpcy5jb2xvcnMuc2VsZWN0aW9uT3BhcXVlPW4uY29sb3IuYmxlbmQodGhpcy5jb2xvcnMuYmFja2dyb3VuZCx0aGlzLmNvbG9ycy5zZWxlY3Rpb25UcmFuc3BhcmVudCk7dmFyIHI9e2NzczpcIlwiLHJnYmE6MH07dGhpcy5jb2xvcnMuc2VsZWN0aW9uRm9yZWdyb3VuZD1lLnNlbGVjdGlvbkZvcmVncm91bmQ/dGhpcy5fcGFyc2VDb2xvcihlLnNlbGVjdGlvbkZvcmVncm91bmQscik6dm9pZCAwLHRoaXMuY29sb3JzLnNlbGVjdGlvbkZvcmVncm91bmQ9PT1yJiYodGhpcy5jb2xvcnMuc2VsZWN0aW9uRm9yZWdyb3VuZD12b2lkIDApLG4uY29sb3IuaXNPcGFxdWUodGhpcy5jb2xvcnMuc2VsZWN0aW9uVHJhbnNwYXJlbnQpJiYodGhpcy5jb2xvcnMuc2VsZWN0aW9uVHJhbnNwYXJlbnQ9bi5jb2xvci5vcGFjaXR5KHRoaXMuY29sb3JzLnNlbGVjdGlvblRyYW5zcGFyZW50LC4zKSksdGhpcy5jb2xvcnMuYW5zaVswXT10aGlzLl9wYXJzZUNvbG9yKGUuYmxhY2ssdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzBdKSx0aGlzLmNvbG9ycy5hbnNpWzFdPXRoaXMuX3BhcnNlQ29sb3IoZS5yZWQsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzFdKSx0aGlzLmNvbG9ycy5hbnNpWzJdPXRoaXMuX3BhcnNlQ29sb3IoZS5ncmVlbix0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMl0pLHRoaXMuY29sb3JzLmFuc2lbM109dGhpcy5fcGFyc2VDb2xvcihlLnllbGxvdyx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbM10pLHRoaXMuY29sb3JzLmFuc2lbNF09dGhpcy5fcGFyc2VDb2xvcihlLmJsdWUsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzRdKSx0aGlzLmNvbG9ycy5hbnNpWzVdPXRoaXMuX3BhcnNlQ29sb3IoZS5tYWdlbnRhLHQuREVGQVVMVF9BTlNJX0NPTE9SU1s1XSksdGhpcy5jb2xvcnMuYW5zaVs2XT10aGlzLl9wYXJzZUNvbG9yKGUuY3lhbix0LkRFRkFVTFRfQU5TSV9DT0xPUlNbNl0pLHRoaXMuY29sb3JzLmFuc2lbN109dGhpcy5fcGFyc2VDb2xvcihlLndoaXRlLHQuREVGQVVMVF9BTlNJX0NPTE9SU1s3XSksdGhpcy5jb2xvcnMuYW5zaVs4XT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0QmxhY2ssdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzhdKSx0aGlzLmNvbG9ycy5hbnNpWzldPXRoaXMuX3BhcnNlQ29sb3IoZS5icmlnaHRSZWQsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzldKSx0aGlzLmNvbG9ycy5hbnNpWzEwXT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0R3JlZW4sdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzEwXSksdGhpcy5jb2xvcnMuYW5zaVsxMV09dGhpcy5fcGFyc2VDb2xvcihlLmJyaWdodFllbGxvdyx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTFdKSx0aGlzLmNvbG9ycy5hbnNpWzEyXT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0Qmx1ZSx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTJdKSx0aGlzLmNvbG9ycy5hbnNpWzEzXT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0TWFnZW50YSx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTNdKSx0aGlzLmNvbG9ycy5hbnNpWzE0XT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0Q3lhbix0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTRdKSx0aGlzLmNvbG9ycy5hbnNpWzE1XT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0V2hpdGUsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzE1XSksdGhpcy5fY29udHJhc3RDYWNoZS5jbGVhcigpLHRoaXMuX3VwZGF0ZVJlc3RvcmVDb2xvcnMoKX0sZS5wcm90b3R5cGUucmVzdG9yZUNvbG9yPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUpc3dpdGNoKGUpe2Nhc2UgMjU2OnRoaXMuY29sb3JzLmZvcmVncm91bmQ9dGhpcy5fcmVzdG9yZUNvbG9ycy5mb3JlZ3JvdW5kO2JyZWFrO2Nhc2UgMjU3OnRoaXMuY29sb3JzLmJhY2tncm91bmQ9dGhpcy5fcmVzdG9yZUNvbG9ycy5iYWNrZ3JvdW5kO2JyZWFrO2Nhc2UgMjU4OnRoaXMuY29sb3JzLmN1cnNvcj10aGlzLl9yZXN0b3JlQ29sb3JzLmN1cnNvcjticmVhaztkZWZhdWx0OnRoaXMuY29sb3JzLmFuc2lbZV09dGhpcy5fcmVzdG9yZUNvbG9ycy5hbnNpW2VdfWVsc2UgZm9yKHZhciB0PTA7dDx0aGlzLl9yZXN0b3JlQ29sb3JzLmFuc2kubGVuZ3RoOysrdCl0aGlzLmNvbG9ycy5hbnNpW3RdPXRoaXMuX3Jlc3RvcmVDb2xvcnMuYW5zaVt0XX0sZS5wcm90b3R5cGUuX3VwZGF0ZVJlc3RvcmVDb2xvcnM9ZnVuY3Rpb24oKXt0aGlzLl9yZXN0b3JlQ29sb3JzPXtmb3JlZ3JvdW5kOnRoaXMuY29sb3JzLmZvcmVncm91bmQsYmFja2dyb3VuZDp0aGlzLmNvbG9ycy5iYWNrZ3JvdW5kLGN1cnNvcjp0aGlzLmNvbG9ycy5jdXJzb3IsYW5zaTp0aGlzLmNvbG9ycy5hbnNpLnNsaWNlKCl9fSxlLnByb3RvdHlwZS5fcGFyc2VDb2xvcj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ciYmKHI9dGhpcy5hbGxvd1RyYW5zcGFyZW5jeSksdm9pZCAwPT09ZSlyZXR1cm4gdDtpZih0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2xpdG11c0NvbG9yLHRoaXMuX2N0eC5maWxsU3R5bGU9ZSxcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5fY3R4LmZpbGxTdHlsZSlyZXR1cm4gY29uc29sZS53YXJuKFwiQ29sb3I6IFwiK2UrXCIgaXMgaW52YWxpZCB1c2luZyBmYWxsYmFjayBcIit0LmNzcyksdDt0aGlzLl9jdHguZmlsbFJlY3QoMCwwLDEsMSk7dmFyIG89dGhpcy5fY3R4LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhO2lmKDI1NSE9PW9bM10pe2lmKCFyKXJldHVybiBjb25zb2xlLndhcm4oXCJDb2xvcjogXCIrZStcIiBpcyB1c2luZyB0cmFuc3BhcmVuY3ksIGJ1dCBhbGxvd1RyYW5zcGFyZW5jeSBpcyBmYWxzZS4gVXNpbmcgZmFsbGJhY2sgXCIrdC5jc3MrXCIuXCIpLHQ7dmFyIHM9aSh0aGlzLl9jdHguZmlsbFN0eWxlLnN1YnN0cmluZyg1LHRoaXMuX2N0eC5maWxsU3R5bGUubGVuZ3RoLTEpLnNwbGl0KFwiLFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSksNCksYT1zWzBdLGM9c1sxXSxsPXNbMl0saD1zWzNdLHU9TWF0aC5yb3VuZCgyNTUqaCk7cmV0dXJue3JnYmE6bi5jaGFubmVscy50b1JnYmEoYSxjLGwsdSksY3NzOmV9fXJldHVybntjc3M6dGhpcy5fY3R4LmZpbGxTdHlsZSxyZ2JhOm4uY2hhbm5lbHMudG9SZ2JhKG9bMF0sb1sxXSxvWzJdLG9bM10pfX0sZX0oKTt0LkNvbG9yTWFuYWdlcj11fSw5NjMxOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yZW1vdmVFbGVtZW50RnJvbVBhcmVudD12b2lkIDAsdC5yZW1vdmVFbGVtZW50RnJvbVBhcmVudD1mdW5jdGlvbigpe2Zvcih2YXIgZSx0LGksbj1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKyluW29dPWFyZ3VtZW50c1tvXTt0cnl7Zm9yKHZhciBzPXIobiksYT1zLm5leHQoKTshYS5kb25lO2E9cy5uZXh0KCkpe3ZhciBjPWEudmFsdWU7bnVsbD09PShpPW51bGw9PWM/dm9pZCAwOmMucGFyZW50RWxlbWVudCl8fHZvaWQgMD09PWl8fGkucmVtb3ZlQ2hpbGQoYyl9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJih0PXMucmV0dXJuKSYmdC5jYWxsKHMpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX19fSwzNjU2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXI9dm9pZCAwLHQuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyLGkpe2UuYWRkRXZlbnRMaXN0ZW5lcih0LHIsaSk7dmFyIG49ITE7cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXtufHwobj0hMCxlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxyLGkpKX19fX0sMzU1MTpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1vdXNlWm9uZT10LkxpbmtpZmllcj12b2lkIDA7dmFyIG89cig4NDYwKSxzPXIoMjU4NSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLl9sb2dTZXJ2aWNlPXQsdGhpcy5fdW5pY29kZVNlcnZpY2U9cix0aGlzLl9saW5rTWF0Y2hlcnM9W10sdGhpcy5fbmV4dExpbmtNYXRjaGVySWQ9MCx0aGlzLl9vblNob3dMaW5rVW5kZXJsaW5lPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLl9vbkhpZGVMaW5rVW5kZXJsaW5lPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLl9vbkxpbmtUb29sdGlwPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLl9yb3dzVG9MaW5raWZ5PXtzdGFydDp2b2lkIDAsZW5kOnZvaWQgMH19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uU2hvd0xpbmtVbmRlcmxpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2hvd0xpbmtVbmRlcmxpbmUuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25IaWRlTGlua1VuZGVybGluZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25IaWRlTGlua1VuZGVybGluZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkxpbmtUb29sdGlwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkxpbmtUb29sdGlwLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmF0dGFjaFRvRG9tPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZWxlbWVudD1lLHRoaXMuX21vdXNlWm9uZU1hbmFnZXI9dH0sZS5wcm90b3R5cGUubGlua2lmeVJvd3M9ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzO3RoaXMuX21vdXNlWm9uZU1hbmFnZXImJih2b2lkIDA9PT10aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0fHx2b2lkIDA9PT10aGlzLl9yb3dzVG9MaW5raWZ5LmVuZD8odGhpcy5fcm93c1RvTGlua2lmeS5zdGFydD10LHRoaXMuX3Jvd3NUb0xpbmtpZnkuZW5kPXIpOih0aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0PU1hdGgubWluKHRoaXMuX3Jvd3NUb0xpbmtpZnkuc3RhcnQsdCksdGhpcy5fcm93c1RvTGlua2lmeS5lbmQ9TWF0aC5tYXgodGhpcy5fcm93c1RvTGlua2lmeS5lbmQscikpLHRoaXMuX21vdXNlWm9uZU1hbmFnZXIuY2xlYXJBbGwodCxyKSx0aGlzLl9yb3dzVGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fcm93c1RpbWVvdXRJZCksdGhpcy5fcm93c1RpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBpLl9saW5raWZ5Um93cygpfSksZS5fdGltZUJlZm9yZUxhdGVuY3kpKX0sZS5wcm90b3R5cGUuX2xpbmtpZnlSb3dzPWZ1bmN0aW9uKCl7dGhpcy5fcm93c1RpbWVvdXRJZD12b2lkIDA7dmFyIGU9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXI7aWYodm9pZCAwIT09dGhpcy5fcm93c1RvTGlua2lmeS5zdGFydCYmdm9pZCAwIT09dGhpcy5fcm93c1RvTGlua2lmeS5lbmQpe3ZhciB0PWUueWRpc3ArdGhpcy5fcm93c1RvTGlua2lmeS5zdGFydDtpZighKHQ+PWUubGluZXMubGVuZ3RoKSl7Zm9yKHZhciByPWUueWRpc3ArTWF0aC5taW4odGhpcy5fcm93c1RvTGlua2lmeS5lbmQsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKSsxLGk9TWF0aC5jZWlsKDJlMy90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpLG49dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIuaXRlcmF0b3IoITEsdCxyLGksaSk7bi5oYXNOZXh0KCk7KWZvcih2YXIgbz1uLm5leHQoKSxzPTA7czx0aGlzLl9saW5rTWF0Y2hlcnMubGVuZ3RoO3MrKyl0aGlzLl9kb0xpbmtpZnlSb3coby5yYW5nZS5maXJzdCxvLmNvbnRlbnQsdGhpcy5fbGlua01hdGNoZXJzW3NdKTt0aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0PXZvaWQgMCx0aGlzLl9yb3dzVG9MaW5raWZ5LmVuZD12b2lkIDB9fWVsc2UgdGhpcy5fbG9nU2VydmljZS5kZWJ1ZyhcIl9yb3dUb0xpbmtpZnkgd2FzIHVuc2V0IGJlZm9yZSBfbGlua2lmeVJvd3Mgd2FzIGNhbGxlZFwiKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJMaW5rTWF0Y2hlcj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ciYmKHI9e30pLCF0KXRocm93IG5ldyBFcnJvcihcImhhbmRsZXIgbXVzdCBiZSBkZWZpbmVkXCIpO3ZhciBpPXtpZDp0aGlzLl9uZXh0TGlua01hdGNoZXJJZCsrLHJlZ2V4OmUsaGFuZGxlcjp0LG1hdGNoSW5kZXg6ci5tYXRjaEluZGV4LHZhbGlkYXRpb25DYWxsYmFjazpyLnZhbGlkYXRpb25DYWxsYmFjayxob3ZlclRvb2x0aXBDYWxsYmFjazpyLnRvb2x0aXBDYWxsYmFjayxob3ZlckxlYXZlQ2FsbGJhY2s6ci5sZWF2ZUNhbGxiYWNrLHdpbGxMaW5rQWN0aXZhdGU6ci53aWxsTGlua0FjdGl2YXRlLHByaW9yaXR5OnIucHJpb3JpdHl8fDB9O3JldHVybiB0aGlzLl9hZGRMaW5rTWF0Y2hlclRvTGlzdChpKSxpLmlkfSxlLnByb3RvdHlwZS5fYWRkTGlua01hdGNoZXJUb0xpc3Q9ZnVuY3Rpb24oZSl7aWYoMCE9PXRoaXMuX2xpbmtNYXRjaGVycy5sZW5ndGgpe2Zvcih2YXIgdD10aGlzLl9saW5rTWF0Y2hlcnMubGVuZ3RoLTE7dD49MDt0LS0paWYoZS5wcmlvcml0eTw9dGhpcy5fbGlua01hdGNoZXJzW3RdLnByaW9yaXR5KXJldHVybiB2b2lkIHRoaXMuX2xpbmtNYXRjaGVycy5zcGxpY2UodCsxLDAsZSk7dGhpcy5fbGlua01hdGNoZXJzLnNwbGljZSgwLDAsZSl9ZWxzZSB0aGlzLl9saW5rTWF0Y2hlcnMucHVzaChlKX0sZS5wcm90b3R5cGUuZGVyZWdpc3RlckxpbmtNYXRjaGVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fbGlua01hdGNoZXJzLmxlbmd0aDt0KyspaWYodGhpcy5fbGlua01hdGNoZXJzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5fbGlua01hdGNoZXJzLnNwbGljZSh0LDEpLCEwO3JldHVybiExfSxlLnByb3RvdHlwZS5fZG9MaW5raWZ5Um93PWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGksbj10aGlzLG89bmV3IFJlZ0V4cChyLnJlZ2V4LnNvdXJjZSwoci5yZWdleC5mbGFnc3x8XCJcIikrXCJnXCIpLHM9LTEsYT1mdW5jdGlvbigpe3ZhciBhPWlbXCJudW1iZXJcIiE9dHlwZW9mIHIubWF0Y2hJbmRleD8wOnIubWF0Y2hJbmRleF07aWYoIWEpcmV0dXJuIGMuX2xvZ1NlcnZpY2UuZGVidWcoXCJtYXRjaCBmb3VuZCB3aXRob3V0IGNvcnJlc3BvbmRpbmcgbWF0Y2hJbmRleFwiLGksciksXCJicmVha1wiO2lmKHM9dC5pbmRleE9mKGEscysxKSxvLmxhc3RJbmRleD1zK2EubGVuZ3RoLHM8MClyZXR1cm5cImJyZWFrXCI7dmFyIGw9Yy5fYnVmZmVyU2VydmljZS5idWZmZXIuc3RyaW5nSW5kZXhUb0J1ZmZlckluZGV4KGUscyk7aWYobFswXTwwKXJldHVyblwiYnJlYWtcIjt2YXIgaD1jLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5nZXQobFswXSk7aWYoIWgpcmV0dXJuXCJicmVha1wiO3ZhciB1PWguZ2V0RmcobFsxXSksZj11P3U+PjkmNTExOnZvaWQgMDtyLnZhbGlkYXRpb25DYWxsYmFjaz9yLnZhbGlkYXRpb25DYWxsYmFjayhhLChmdW5jdGlvbihlKXtuLl9yb3dzVGltZW91dElkfHxlJiZuLl9hZGRMaW5rKGxbMV0sbFswXS1uLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCxhLHIsZil9KSk6Yy5fYWRkTGluayhsWzFdLGxbMF0tYy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3AsYSxyLGYpfSxjPXRoaXM7bnVsbCE9PShpPW8uZXhlYyh0KSkmJlwiYnJlYWtcIiE9PWEoKTspO30sZS5wcm90b3R5cGUuX2FkZExpbms9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbz10aGlzO2lmKHRoaXMuX21vdXNlWm9uZU1hbmFnZXImJnRoaXMuX2VsZW1lbnQpe3ZhciBzPXRoaXMuX3VuaWNvZGVTZXJ2aWNlLmdldFN0cmluZ0NlbGxXaWR0aChyKSxhPWUldGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGw9dCtNYXRoLmZsb29yKGUvdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKSxoPShhK3MpJXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx1PWwrTWF0aC5mbG9vcigoYStzKS90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpOzA9PT1oJiYoaD10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdS0tKSx0aGlzLl9tb3VzZVpvbmVNYW5hZ2VyLmFkZChuZXcgYyhhKzEsbCsxLGgrMSx1KzEsKGZ1bmN0aW9uKGUpe2lmKGkuaGFuZGxlcilyZXR1cm4gaS5oYW5kbGVyKGUscik7dmFyIHQ9d2luZG93Lm9wZW4oKTt0Pyh0Lm9wZW5lcj1udWxsLHQubG9jYXRpb24uaHJlZj1yKTpjb25zb2xlLndhcm4oXCJPcGVuaW5nIGxpbmsgYmxvY2tlZCBhcyBvcGVuZXIgY291bGQgbm90IGJlIGNsZWFyZWRcIil9KSwoZnVuY3Rpb24oKXtvLl9vblNob3dMaW5rVW5kZXJsaW5lLmZpcmUoby5fY3JlYXRlTGlua0hvdmVyRXZlbnQoYSxsLGgsdSxuKSksby5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwieHRlcm0tY3Vyc29yLXBvaW50ZXJcIil9KSwoZnVuY3Rpb24oZSl7by5fb25MaW5rVG9vbHRpcC5maXJlKG8uX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KGEsbCxoLHUsbikpLGkuaG92ZXJUb29sdGlwQ2FsbGJhY2smJmkuaG92ZXJUb29sdGlwQ2FsbGJhY2soZSxyLHtzdGFydDp7eDphLHk6bH0sZW5kOnt4OmgseTp1fX0pfSksKGZ1bmN0aW9uKCl7by5fb25IaWRlTGlua1VuZGVybGluZS5maXJlKG8uX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KGEsbCxoLHUsbikpLG8uX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInh0ZXJtLWN1cnNvci1wb2ludGVyXCIpLGkuaG92ZXJMZWF2ZUNhbGxiYWNrJiZpLmhvdmVyTGVhdmVDYWxsYmFjaygpfSksKGZ1bmN0aW9uKGUpe3JldHVybiFpLndpbGxMaW5rQWN0aXZhdGV8fGkud2lsbExpbmtBY3RpdmF0ZShlLHIpfSkpKX19LGUucHJvdG90eXBlLl9jcmVhdGVMaW5rSG92ZXJFdmVudD1mdW5jdGlvbihlLHQscixpLG4pe3JldHVybnt4MTplLHkxOnQseDI6cix5MjppLGNvbHM6dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGZnOm59fSxlLl90aW1lQmVmb3JlTGF0ZW5jeT0yMDAsZT1pKFtuKDAscy5JQnVmZmVyU2VydmljZSksbigxLHMuSUxvZ1NlcnZpY2UpLG4oMixzLklVbmljb2RlU2VydmljZSldLGUpfSgpO3QuTGlua2lmaWVyPWE7dmFyIGM9ZnVuY3Rpb24oZSx0LHIsaSxuLG8scyxhLGMpe3RoaXMueDE9ZSx0aGlzLnkxPXQsdGhpcy54Mj1yLHRoaXMueTI9aSx0aGlzLmNsaWNrQ2FsbGJhY2s9bix0aGlzLmhvdmVyQ2FsbGJhY2s9byx0aGlzLnRvb2x0aXBDYWxsYmFjaz1zLHRoaXMubGVhdmVDYWxsYmFjaz1hLHRoaXMud2lsbExpbmtBY3RpdmF0ZT1jfTt0Lk1vdXNlWm9uZT1jfSw2NDY1OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fSxhPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9LGM9dGhpcyYmdGhpcy5fX3JlYWR8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIGksbixvPXIuY2FsbChlKSxzPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKGk9by5uZXh0KCkpLmRvbmU7KXMucHVzaChpLnZhbHVlKX1jYXRjaChlKXtuPXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19cmV0dXJuIHN9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGlua2lmaWVyMj12b2lkIDA7dmFyIGw9cigyNTg1KSxoPXIoODQ2MCksdT1yKDg0NCksZj1yKDM2NTYpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2J1ZmZlclNlcnZpY2U9dCxyLl9saW5rUHJvdmlkZXJzPVtdLHIuX2xpbmtDYWNoZURpc3Bvc2FibGVzPVtdLHIuX2lzTW91c2VPdXQ9ITAsci5fYWN0aXZlTGluZT0tMSxyLl9vblNob3dMaW5rVW5kZXJsaW5lPXIucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxyLl9vbkhpZGVMaW5rVW5kZXJsaW5lPXIucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxyLnJlZ2lzdGVyKCgwLHUuZ2V0RGlzcG9zZUFycmF5RGlzcG9zYWJsZSkoci5fbGlua0NhY2hlRGlzcG9zYWJsZXMpKSxyfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY3VycmVudExpbmtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMaW5rfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uU2hvd0xpbmtVbmRlcmxpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2hvd0xpbmtVbmRlcmxpbmUuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25IaWRlTGlua1VuZGVybGluZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25IaWRlTGlua1VuZGVybGluZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZWdpc3RlckxpbmtQcm92aWRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9saW5rUHJvdmlkZXJzLnB1c2goZSkse2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgcj10Ll9saW5rUHJvdmlkZXJzLmluZGV4T2YoZSk7LTEhPT1yJiZ0Ll9saW5rUHJvdmlkZXJzLnNwbGljZShyLDEpfX19LHQucHJvdG90eXBlLmF0dGFjaFRvRG9tPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3RoaXMuX2VsZW1lbnQ9ZSx0aGlzLl9tb3VzZVNlcnZpY2U9dCx0aGlzLl9yZW5kZXJTZXJ2aWNlPXIsdGhpcy5yZWdpc3RlcigoMCxmLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5fZWxlbWVudCxcIm1vdXNlbGVhdmVcIiwoZnVuY3Rpb24oKXtpLl9pc01vdXNlT3V0PSEwLGkuX2NsZWFyQ3VycmVudExpbmsoKX0pKSksdGhpcy5yZWdpc3RlcigoMCxmLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5fZWxlbWVudCxcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcykpKSx0aGlzLnJlZ2lzdGVyKCgwLGYuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLl9lbGVtZW50LFwibW91c2Vkb3duXCIsdGhpcy5faGFuZGxlTW91c2VEb3duLmJpbmQodGhpcykpKSx0aGlzLnJlZ2lzdGVyKCgwLGYuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLl9lbGVtZW50LFwibW91c2V1cFwiLHRoaXMuX2hhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSkpfSx0LnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fbGFzdE1vdXNlRXZlbnQ9ZSx0aGlzLl9lbGVtZW50JiZ0aGlzLl9tb3VzZVNlcnZpY2Upe3ZhciB0PXRoaXMuX3Bvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZSx0aGlzLl9lbGVtZW50LHRoaXMuX21vdXNlU2VydmljZSk7aWYodCl7dGhpcy5faXNNb3VzZU91dD0hMTtmb3IodmFyIHI9ZS5jb21wb3NlZFBhdGgoKSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV07aWYobi5jbGFzc0xpc3QuY29udGFpbnMoXCJ4dGVybVwiKSlicmVhaztpZihuLmNsYXNzTGlzdC5jb250YWlucyhcInh0ZXJtLWhvdmVyXCIpKXJldHVybn10aGlzLl9sYXN0QnVmZmVyQ2VsbCYmdC54PT09dGhpcy5fbGFzdEJ1ZmZlckNlbGwueCYmdC55PT09dGhpcy5fbGFzdEJ1ZmZlckNlbGwueXx8KHRoaXMuX29uSG92ZXIodCksdGhpcy5fbGFzdEJ1ZmZlckNlbGw9dCl9fX0sdC5wcm90b3R5cGUuX29uSG92ZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5fYWN0aXZlTGluZSE9PWUueSlyZXR1cm4gdGhpcy5fY2xlYXJDdXJyZW50TGluaygpLHZvaWQgdGhpcy5fYXNrRm9yTGluayhlLCExKTt0aGlzLl9jdXJyZW50TGluayYmdGhpcy5fbGlua0F0UG9zaXRpb24odGhpcy5fY3VycmVudExpbmsubGluayxlKXx8KHRoaXMuX2NsZWFyQ3VycmVudExpbmsoKSx0aGlzLl9hc2tGb3JMaW5rKGUsITApKX0sdC5wcm90b3R5cGUuX2Fza0Zvckxpbms9ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXRoaXM7dGhpcy5fYWN0aXZlUHJvdmlkZXJSZXBsaWVzJiZ0fHwobnVsbD09PShuPXRoaXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcyl8fHZvaWQgMD09PW58fG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7bnVsbD09ZXx8ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmxpbmsuZGlzcG9zZSYmZS5saW5rLmRpc3Bvc2UoKX0pKX0pKSx0aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXM9bmV3IE1hcCx0aGlzLl9hY3RpdmVMaW5lPWUueSk7dmFyIGw9ITEsaD1mdW5jdGlvbihyLGkpe3Q/KG51bGw9PT0obz11Ll9hY3RpdmVQcm92aWRlclJlcGxpZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmdldChyKSkmJihsPXUuX2NoZWNrTGlua1Byb3ZpZGVyUmVzdWx0KHIsZSxsKSk6aS5wcm92aWRlTGlua3MoZS55LChmdW5jdGlvbih0KXt2YXIgaSxuO2lmKCFzLl9pc01vdXNlT3V0KXt2YXIgbz1udWxsPT10P3ZvaWQgMDp0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2xpbms6ZX19KSk7bnVsbD09PShpPXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcyl8fHZvaWQgMD09PWl8fGkuc2V0KHIsbyksbD1zLl9jaGVja0xpbmtQcm92aWRlclJlc3VsdChyLGUsbCksKG51bGw9PT0obj1zLl9hY3RpdmVQcm92aWRlclJlcGxpZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNpemUpPT09cy5fbGlua1Byb3ZpZGVycy5sZW5ndGgmJnMuX3JlbW92ZUludGVyc2VjdGluZ0xpbmtzKGUueSxzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMpfX0pKX0sdT10aGlzO3RyeXtmb3IodmFyIGY9YSh0aGlzLl9saW5rUHJvdmlkZXJzLmVudHJpZXMoKSksXz1mLm5leHQoKTshXy5kb25lO189Zi5uZXh0KCkpe3ZhciBkPWMoXy52YWx1ZSwyKTtoKGRbMF0sZFsxXSl9fWNhdGNoKGUpe3I9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e18mJiFfLmRvbmUmJihpPWYucmV0dXJuKSYmaS5jYWxsKGYpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX19LHQucHJvdG90eXBlLl9yZW1vdmVJbnRlcnNlY3RpbmdMaW5rcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1uZXcgU2V0LGk9MDtpPHQuc2l6ZTtpKyspe3ZhciBuPXQuZ2V0KGkpO2lmKG4pZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspZm9yKHZhciBzPW5bb10sYT1zLmxpbmsucmFuZ2Uuc3RhcnQueTxlPzA6cy5saW5rLnJhbmdlLnN0YXJ0LngsYz1zLmxpbmsucmFuZ2UuZW5kLnk+ZT90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM6cy5saW5rLnJhbmdlLmVuZC54LGw9YTtsPD1jO2wrKyl7aWYoci5oYXMobCkpe24uc3BsaWNlKG8tLSwxKTticmVha31yLmFkZChsKX19fSx0LnByb3RvdHlwZS5fY2hlY2tMaW5rUHJvdmlkZXJSZXN1bHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcztpZighdGhpcy5fYWN0aXZlUHJvdmlkZXJSZXBsaWVzKXJldHVybiByO2Zvcih2YXIgbz10aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMuZ2V0KGUpLHM9ITEsYT0wO2E8ZTthKyspdGhpcy5fYWN0aXZlUHJvdmlkZXJSZXBsaWVzLmhhcyhhKSYmIXRoaXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcy5nZXQoYSl8fChzPSEwKTtpZighcyYmbyl7dmFyIGM9by5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gbi5fbGlua0F0UG9zaXRpb24oZS5saW5rLHQpfSkpO2MmJihyPSEwLHRoaXMuX2hhbmRsZU5ld0xpbmsoYykpfWlmKHRoaXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcy5zaXplPT09dGhpcy5fbGlua1Byb3ZpZGVycy5sZW5ndGgmJiFyKWZvcihhPTA7YTx0aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMuc2l6ZTthKyspe3ZhciBsPW51bGw9PT0oaT10aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMuZ2V0KGEpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gbi5fbGlua0F0UG9zaXRpb24oZS5saW5rLHQpfSkpO2lmKGwpe3I9ITAsdGhpcy5faGFuZGxlTmV3TGluayhsKTticmVha319cmV0dXJuIHJ9LHQucHJvdG90eXBlLl9oYW5kbGVNb3VzZURvd249ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURvd25MaW5rPXRoaXMuX2N1cnJlbnRMaW5rfSx0LnByb3RvdHlwZS5faGFuZGxlTW91c2VVcD1mdW5jdGlvbihlKXtpZih0aGlzLl9lbGVtZW50JiZ0aGlzLl9tb3VzZVNlcnZpY2UmJnRoaXMuX2N1cnJlbnRMaW5rKXt2YXIgdD10aGlzLl9wb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGUsdGhpcy5fZWxlbWVudCx0aGlzLl9tb3VzZVNlcnZpY2UpO3QmJnRoaXMuX21vdXNlRG93bkxpbms9PT10aGlzLl9jdXJyZW50TGluayYmdGhpcy5fbGlua0F0UG9zaXRpb24odGhpcy5fY3VycmVudExpbmsubGluayx0KSYmdGhpcy5fY3VycmVudExpbmsubGluay5hY3RpdmF0ZShlLHRoaXMuX2N1cnJlbnRMaW5rLmxpbmsudGV4dCl9fSx0LnByb3RvdHlwZS5fY2xlYXJDdXJyZW50TGluaz1mdW5jdGlvbihlLHQpe3RoaXMuX2VsZW1lbnQmJnRoaXMuX2N1cnJlbnRMaW5rJiZ0aGlzLl9sYXN0TW91c2VFdmVudCYmKCFlfHwhdHx8dGhpcy5fY3VycmVudExpbmsubGluay5yYW5nZS5zdGFydC55Pj1lJiZ0aGlzLl9jdXJyZW50TGluay5saW5rLnJhbmdlLmVuZC55PD10KSYmKHRoaXMuX2xpbmtMZWF2ZSh0aGlzLl9lbGVtZW50LHRoaXMuX2N1cnJlbnRMaW5rLmxpbmssdGhpcy5fbGFzdE1vdXNlRXZlbnQpLHRoaXMuX2N1cnJlbnRMaW5rPXZvaWQgMCwoMCx1LmRpc3Bvc2VBcnJheSkodGhpcy5fbGlua0NhY2hlRGlzcG9zYWJsZXMpKX0sdC5wcm90b3R5cGUuX2hhbmRsZU5ld0xpbms9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9lbGVtZW50JiZ0aGlzLl9sYXN0TW91c2VFdmVudCYmdGhpcy5fbW91c2VTZXJ2aWNlKXt2YXIgcj10aGlzLl9wb3NpdGlvbkZyb21Nb3VzZUV2ZW50KHRoaXMuX2xhc3RNb3VzZUV2ZW50LHRoaXMuX2VsZW1lbnQsdGhpcy5fbW91c2VTZXJ2aWNlKTtyJiZ0aGlzLl9saW5rQXRQb3NpdGlvbihlLmxpbmsscikmJih0aGlzLl9jdXJyZW50TGluaz1lLHRoaXMuX2N1cnJlbnRMaW5rLnN0YXRlPXtkZWNvcmF0aW9uczp7dW5kZXJsaW5lOnZvaWQgMD09PWUubGluay5kZWNvcmF0aW9uc3x8ZS5saW5rLmRlY29yYXRpb25zLnVuZGVybGluZSxwb2ludGVyQ3Vyc29yOnZvaWQgMD09PWUubGluay5kZWNvcmF0aW9uc3x8ZS5saW5rLmRlY29yYXRpb25zLnBvaW50ZXJDdXJzb3J9LGlzSG92ZXJlZDohMH0sdGhpcy5fbGlua0hvdmVyKHRoaXMuX2VsZW1lbnQsZS5saW5rLHRoaXMuX2xhc3RNb3VzZUV2ZW50KSxlLmxpbmsuZGVjb3JhdGlvbnM9e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5saW5rLmRlY29yYXRpb25zLHtwb2ludGVyQ3Vyc29yOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZSxyO3JldHVybiBudWxsPT09KHI9bnVsbD09PShlPXQuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zdGF0ZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGVjb3JhdGlvbnMucG9pbnRlckN1cnNvcn0sc2V0OmZ1bmN0aW9uKGUpe3ZhciByLGk7KG51bGw9PT0ocj10Ll9jdXJyZW50TGluayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3RhdGUpJiZ0Ll9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy5wb2ludGVyQ3Vyc29yIT09ZSYmKHQuX2N1cnJlbnRMaW5rLnN0YXRlLmRlY29yYXRpb25zLnBvaW50ZXJDdXJzb3I9ZSx0Ll9jdXJyZW50TGluay5zdGF0ZS5pc0hvdmVyZWQmJihudWxsPT09KGk9dC5fZWxlbWVudCl8fHZvaWQgMD09PWl8fGkuY2xhc3NMaXN0LnRvZ2dsZShcInh0ZXJtLWN1cnNvci1wb2ludGVyXCIsZSkpKX19LHVuZGVybGluZTp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gbnVsbD09PShyPW51bGw9PT0oZT10Ll9jdXJyZW50TGluayl8fHZvaWQgMD09PWU/dm9pZCAwOmUuc3RhdGUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRlY29yYXRpb25zLnVuZGVybGluZX0sc2V0OmZ1bmN0aW9uKHIpe3ZhciBpLG4sbzsobnVsbD09PShpPXQuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdGF0ZSkmJihudWxsPT09KG89bnVsbD09PShuPXQuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zdGF0ZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZGVjb3JhdGlvbnMudW5kZXJsaW5lKSE9PXImJih0Ll9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy51bmRlcmxpbmU9cix0Ll9jdXJyZW50TGluay5zdGF0ZS5pc0hvdmVyZWQmJnQuX2ZpcmVVbmRlcmxpbmVFdmVudChlLmxpbmsscikpfX19KSx0aGlzLl9yZW5kZXJTZXJ2aWNlJiZ0aGlzLl9saW5rQ2FjaGVEaXNwb3NhYmxlcy5wdXNoKHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlKChmdW5jdGlvbihlKXt2YXIgcj0wPT09ZS5zdGFydD8wOmUuc3RhcnQrMSt0Ll9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcDt0Ll9jbGVhckN1cnJlbnRMaW5rKHIsZS5lbmQrMSt0Ll9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCl9KSkpKX19LHQucHJvdG90eXBlLl9saW5rSG92ZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpOyhudWxsPT09KGk9dGhpcy5fY3VycmVudExpbmspfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnN0YXRlKSYmKHRoaXMuX2N1cnJlbnRMaW5rLnN0YXRlLmlzSG92ZXJlZD0hMCx0aGlzLl9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy51bmRlcmxpbmUmJnRoaXMuX2ZpcmVVbmRlcmxpbmVFdmVudCh0LCEwKSx0aGlzLl9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy5wb2ludGVyQ3Vyc29yJiZlLmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1jdXJzb3ItcG9pbnRlclwiKSksdC5ob3ZlciYmdC5ob3ZlcihyLHQudGV4dCl9LHQucHJvdG90eXBlLl9maXJlVW5kZXJsaW5lRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnJhbmdlLGk9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3Asbj10aGlzLl9jcmVhdGVMaW5rVW5kZXJsaW5lRXZlbnQoci5zdGFydC54LTEsci5zdGFydC55LWktMSxyLmVuZC54LHIuZW5kLnktaS0xLHZvaWQgMCk7KHQ/dGhpcy5fb25TaG93TGlua1VuZGVybGluZTp0aGlzLl9vbkhpZGVMaW5rVW5kZXJsaW5lKS5maXJlKG4pfSx0LnByb3RvdHlwZS5fbGlua0xlYXZlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaTsobnVsbD09PShpPXRoaXMuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdGF0ZSkmJih0aGlzLl9jdXJyZW50TGluay5zdGF0ZS5pc0hvdmVyZWQ9ITEsdGhpcy5fY3VycmVudExpbmsuc3RhdGUuZGVjb3JhdGlvbnMudW5kZXJsaW5lJiZ0aGlzLl9maXJlVW5kZXJsaW5lRXZlbnQodCwhMSksdGhpcy5fY3VycmVudExpbmsuc3RhdGUuZGVjb3JhdGlvbnMucG9pbnRlckN1cnNvciYmZS5jbGFzc0xpc3QucmVtb3ZlKFwieHRlcm0tY3Vyc29yLXBvaW50ZXJcIikpLHQubGVhdmUmJnQubGVhdmUocix0LnRleHQpfSx0LnByb3RvdHlwZS5fbGlua0F0UG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnJhbmdlLnN0YXJ0Lnk9PT1lLnJhbmdlLmVuZC55LGk9ZS5yYW5nZS5zdGFydC55PHQueSxuPWUucmFuZ2UuZW5kLnk+dC55O3JldHVybihyJiZlLnJhbmdlLnN0YXJ0Lng8PXQueCYmZS5yYW5nZS5lbmQueD49dC54fHxpJiZlLnJhbmdlLmVuZC54Pj10Lnh8fG4mJmUucmFuZ2Uuc3RhcnQueDw9dC54fHxpJiZuKSYmZS5yYW5nZS5zdGFydC55PD10LnkmJmUucmFuZ2UuZW5kLnk+PXQueX0sdC5wcm90b3R5cGUuX3Bvc2l0aW9uRnJvbU1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuZ2V0Q29vcmRzKGUsdCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKTtpZihpKXJldHVybnt4OmlbMF0seTppWzFdK3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwfX0sdC5wcm90b3R5cGUuX2NyZWF0ZUxpbmtVbmRlcmxpbmVFdmVudD1mdW5jdGlvbihlLHQscixpLG4pe3JldHVybnt4MTplLHkxOnQseDI6cix5MjppLGNvbHM6dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGZnOm59fSxvKFtzKDAsbC5JQnVmZmVyU2VydmljZSldLHQpfSh1LkRpc3Bvc2FibGUpO3QuTGlua2lmaWVyMj1ffSw5MDQyOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC50b29NdWNoT3V0cHV0PXQucHJvbXB0TGFiZWw9dm9pZCAwLHQucHJvbXB0TGFiZWw9XCJUZXJtaW5hbCBpbnB1dFwiLHQudG9vTXVjaE91dHB1dD1cIlRvbyBtdWNoIG91dHB1dCB0byBhbm5vdW5jZSwgbmF2aWdhdGUgdG8gcm93cyBtYW51YWxseSB0byByZWFkXCJ9LDY5NTQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTW91c2Vab25lTWFuYWdlcj12b2lkIDA7dmFyIGE9cig4NDQpLGM9cigzNjU2KSxsPXIoNDcyNSksaD1yKDI1ODUpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyl7dmFyIGE9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBhLl9lbGVtZW50PXQsYS5fc2NyZWVuRWxlbWVudD1yLGEuX2J1ZmZlclNlcnZpY2U9aSxhLl9tb3VzZVNlcnZpY2U9bixhLl9zZWxlY3Rpb25TZXJ2aWNlPW8sYS5fb3B0aW9uc1NlcnZpY2U9cyxhLl96b25lcz1bXSxhLl9hcmVab25lc0FjdGl2ZT0hMSxhLl9sYXN0SG92ZXJDb29yZHM9W3ZvaWQgMCx2b2lkIDBdLGEuX2luaXRpYWxTZWxlY3Rpb25MZW5ndGg9MCxhLnJlZ2lzdGVyKCgwLGMuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKShhLl9lbGVtZW50LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBhLl9vbk1vdXNlRG93bihlKX0pKSksYS5fbW91c2VNb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX29uTW91c2VNb3ZlKGUpfSxhLl9tb3VzZUxlYXZlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX29uTW91c2VMZWF2ZShlKX0sYS5fY2xpY2tMaXN0ZW5lcj1mdW5jdGlvbihlKXtyZXR1cm4gYS5fb25DbGljayhlKX0sYX1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZGVhY3RpdmF0ZSgpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dGhpcy5fem9uZXMucHVzaChlKSwxPT09dGhpcy5fem9uZXMubGVuZ3RoJiZ0aGlzLl9hY3RpdmF0ZSgpfSx0LnByb3RvdHlwZS5jbGVhckFsbD1mdW5jdGlvbihlLHQpe2lmKDAhPT10aGlzLl96b25lcy5sZW5ndGgpe2UmJnR8fChlPTAsdD10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSk7Zm9yKHZhciByPTA7cjx0aGlzLl96b25lcy5sZW5ndGg7cisrKXt2YXIgaT10aGlzLl96b25lc1tyXTsoaS55MT5lJiZpLnkxPD10KzF8fGkueTI+ZSYmaS55Mjw9dCsxfHxpLnkxPGUmJmkueTI+dCsxKSYmKHRoaXMuX2N1cnJlbnRab25lJiZ0aGlzLl9jdXJyZW50Wm9uZT09PWkmJih0aGlzLl9jdXJyZW50Wm9uZS5sZWF2ZUNhbGxiYWNrKCksdGhpcy5fY3VycmVudFpvbmU9dm9pZCAwKSx0aGlzLl96b25lcy5zcGxpY2Uoci0tLDEpKX0wPT09dGhpcy5fem9uZXMubGVuZ3RoJiZ0aGlzLl9kZWFjdGl2YXRlKCl9fSx0LnByb3RvdHlwZS5fYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9hcmVab25lc0FjdGl2ZXx8KHRoaXMuX2FyZVpvbmVzQWN0aXZlPSEwLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fbW91c2VMZWF2ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2NsaWNrTGlzdGVuZXIpKX0sdC5wcm90b3R5cGUuX2RlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9hcmVab25lc0FjdGl2ZSYmKHRoaXMuX2FyZVpvbmVzQWN0aXZlPSExLHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fbW91c2VMZWF2ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2NsaWNrTGlzdGVuZXIpKX0sdC5wcm90b3R5cGUuX29uTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuX2xhc3RIb3ZlckNvb3Jkc1swXT09PWUucGFnZVgmJnRoaXMuX2xhc3RIb3ZlckNvb3Jkc1sxXT09PWUucGFnZVl8fCh0aGlzLl9vbkhvdmVyKGUpLHRoaXMuX2xhc3RIb3ZlckNvb3Jkcz1bZS5wYWdlWCxlLnBhZ2VZXSl9LHQucHJvdG90eXBlLl9vbkhvdmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLl9maW5kWm9uZUV2ZW50QXQoZSk7ciE9PXRoaXMuX2N1cnJlbnRab25lJiYodGhpcy5fY3VycmVudFpvbmUmJih0aGlzLl9jdXJyZW50Wm9uZS5sZWF2ZUNhbGxiYWNrKCksdGhpcy5fY3VycmVudFpvbmU9dm9pZCAwLHRoaXMuX3Rvb2x0aXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fdG9vbHRpcFRpbWVvdXQpKSxyJiYodGhpcy5fY3VycmVudFpvbmU9cixyLmhvdmVyQ2FsbGJhY2smJnIuaG92ZXJDYWxsYmFjayhlKSx0aGlzLl90b29sdGlwVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25Ub29sdGlwKGUpfSksdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5saW5rVG9vbHRpcEhvdmVyRHVyYXRpb24pKSl9LHQucHJvdG90eXBlLl9vblRvb2x0aXA9ZnVuY3Rpb24oZSl7dGhpcy5fdG9vbHRpcFRpbWVvdXQ9dm9pZCAwO3ZhciB0PXRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTtudWxsPT10fHx0LnRvb2x0aXBDYWxsYmFjayhlKX0sdC5wcm90b3R5cGUuX29uTW91c2VEb3duPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2luaXRpYWxTZWxlY3Rpb25MZW5ndGg9dGhpcy5fZ2V0U2VsZWN0aW9uTGVuZ3RoKCksdGhpcy5fYXJlWm9uZXNBY3RpdmUpe3ZhciB0PXRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTsobnVsbD09dD92b2lkIDA6dC53aWxsTGlua0FjdGl2YXRlKGUpKSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19LHQucHJvdG90eXBlLl9vbk1vdXNlTGVhdmU9ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFpvbmUmJih0aGlzLl9jdXJyZW50Wm9uZS5sZWF2ZUNhbGxiYWNrKCksdGhpcy5fY3VycmVudFpvbmU9dm9pZCAwLHRoaXMuX3Rvb2x0aXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fdG9vbHRpcFRpbWVvdXQpKX0sdC5wcm90b3R5cGUuX29uQ2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmluZFpvbmVFdmVudEF0KGUpLHI9dGhpcy5fZ2V0U2VsZWN0aW9uTGVuZ3RoKCk7dCYmcj09PXRoaXMuX2luaXRpYWxTZWxlY3Rpb25MZW5ndGgmJih0LmNsaWNrQ2FsbGJhY2soZSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfSx0LnByb3RvdHlwZS5fZ2V0U2VsZWN0aW9uTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2VsZWN0aW9uU2VydmljZS5zZWxlY3Rpb25UZXh0O3JldHVybiBlP2UubGVuZ3RoOjB9LHQucHJvdG90eXBlLl9maW5kWm9uZUV2ZW50QXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW91c2VTZXJ2aWNlLmdldENvb3JkcyhlLHRoaXMuX3NjcmVlbkVsZW1lbnQsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyk7aWYodClmb3IodmFyIHI9dFswXSxpPXRbMV0sbj0wO248dGhpcy5fem9uZXMubGVuZ3RoO24rKyl7dmFyIG89dGhpcy5fem9uZXNbbl07aWYoby55MT09PW8ueTIpe2lmKGk9PT1vLnkxJiZyPj1vLngxJiZyPG8ueDIpcmV0dXJuIG99ZWxzZSBpZihpPT09by55MSYmcj49by54MXx8aT09PW8ueTImJnI8by54Mnx8aT5vLnkxJiZpPG8ueTIpcmV0dXJuIG99fSxvKFtzKDIsaC5JQnVmZmVyU2VydmljZSkscygzLGwuSU1vdXNlU2VydmljZSkscyg0LGwuSVNlbGVjdGlvblNlcnZpY2UpLHMoNSxoLklPcHRpb25zU2VydmljZSldLHQpfShhLkRpc3Bvc2FibGUpO3QuTW91c2Vab25lTWFuYWdlcj11fSw2MTkzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SZW5kZXJEZWJvdW5jZXI9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9yZW5kZXJDYWxsYmFjaz1lLHRoaXMuX3JlZnJlc2hDYWxsYmFja3M9W119cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9hbmltYXRpb25GcmFtZSYmKHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSksdGhpcy5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwKX0sZS5wcm90b3R5cGUuYWRkUmVmcmVzaENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3JlZnJlc2hDYWxsYmFja3MucHVzaChlKSx0aGlzLl9hbmltYXRpb25GcmFtZXx8KHRoaXMuX2FuaW1hdGlvbkZyYW1lPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2lubmVyUmVmcmVzaCgpfSkpKSx0aGlzLl9hbmltYXRpb25GcmFtZX0sZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpczt0aGlzLl9yb3dDb3VudD1yLGU9dm9pZCAwIT09ZT9lOjAsdD12b2lkIDAhPT10P3Q6dGhpcy5fcm93Q291bnQtMSx0aGlzLl9yb3dTdGFydD12b2lkIDAhPT10aGlzLl9yb3dTdGFydD9NYXRoLm1pbih0aGlzLl9yb3dTdGFydCxlKTplLHRoaXMuX3Jvd0VuZD12b2lkIDAhPT10aGlzLl9yb3dFbmQ/TWF0aC5tYXgodGhpcy5fcm93RW5kLHQpOnQsdGhpcy5fYW5pbWF0aW9uRnJhbWV8fCh0aGlzLl9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3JldHVybiBpLl9pbm5lclJlZnJlc2goKX0pKSl9LGUucHJvdG90eXBlLl9pbm5lclJlZnJlc2g9ZnVuY3Rpb24oKXtpZih0aGlzLl9hbmltYXRpb25GcmFtZT12b2lkIDAsdm9pZCAwIT09dGhpcy5fcm93U3RhcnQmJnZvaWQgMCE9PXRoaXMuX3Jvd0VuZCYmdm9pZCAwIT09dGhpcy5fcm93Q291bnQpe3ZhciBlPU1hdGgubWF4KHRoaXMuX3Jvd1N0YXJ0LDApLHQ9TWF0aC5taW4odGhpcy5fcm93RW5kLHRoaXMuX3Jvd0NvdW50LTEpO3RoaXMuX3Jvd1N0YXJ0PXZvaWQgMCx0aGlzLl9yb3dFbmQ9dm9pZCAwLHRoaXMuX3JlbmRlckNhbGxiYWNrKGUsdCksdGhpcy5fcnVuUmVmcmVzaENhbGxiYWNrcygpfWVsc2UgdGhpcy5fcnVuUmVmcmVzaENhbGxiYWNrcygpfSxlLnByb3RvdHlwZS5fcnVuUmVmcmVzaENhbGxiYWNrcz1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e2Zvcih2YXIgaT1yKHRoaXMuX3JlZnJlc2hDYWxsYmFja3MpLG49aS5uZXh0KCk7IW4uZG9uZTtuPWkubmV4dCgpKSgwLG4udmFsdWUpKDApfWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJih0PWkucmV0dXJuKSYmdC5jYWxsKGkpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLl9yZWZyZXNoQ2FsbGJhY2tzPVtdfSxlfSgpO3QuUmVuZGVyRGVib3VuY2VyPWl9LDU1OTY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TY3JlZW5EcHJNb25pdG9yPXZvaWQgMDt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0fXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUuc2V0TGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9saXN0ZW5lciYmdGhpcy5jbGVhckxpc3RlbmVyKCksdGhpcy5fbGlzdGVuZXI9ZSx0aGlzLl9vdXRlckxpc3RlbmVyPWZ1bmN0aW9uKCl7dC5fbGlzdGVuZXImJih0Ll9saXN0ZW5lcih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0Ll9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyksdC5fdXBkYXRlRHByKCkpfSx0aGlzLl91cGRhdGVEcHIoKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLmNsZWFyTGlzdGVuZXIoKX0sdC5wcm90b3R5cGUuX3VwZGF0ZURwcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuX291dGVyTGlzdGVuZXImJihudWxsPT09KGU9dGhpcy5fcmVzb2x1dGlvbk1lZGlhTWF0Y2hMaXN0KXx8dm9pZCAwPT09ZXx8ZS5yZW1vdmVMaXN0ZW5lcih0aGlzLl9vdXRlckxpc3RlbmVyKSx0aGlzLl9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLl9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3Q9d2luZG93Lm1hdGNoTWVkaWEoXCJzY3JlZW4gYW5kIChyZXNvbHV0aW9uOiBcIit3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbytcImRwcHgpXCIpLHRoaXMuX3Jlc29sdXRpb25NZWRpYU1hdGNoTGlzdC5hZGRMaXN0ZW5lcih0aGlzLl9vdXRlckxpc3RlbmVyKSl9LHQucHJvdG90eXBlLmNsZWFyTGlzdGVuZXI9ZnVuY3Rpb24oKXt0aGlzLl9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3QmJnRoaXMuX2xpc3RlbmVyJiZ0aGlzLl9vdXRlckxpc3RlbmVyJiYodGhpcy5fcmVzb2x1dGlvbk1lZGlhTWF0Y2hMaXN0LnJlbW92ZUxpc3RlbmVyKHRoaXMuX291dGVyTGlzdGVuZXIpLHRoaXMuX3Jlc29sdXRpb25NZWRpYU1hdGNoTGlzdD12b2lkIDAsdGhpcy5fbGlzdGVuZXI9dm9pZCAwLHRoaXMuX291dGVyTGlzdGVuZXI9dm9pZCAwKX0sdH0ocig4NDQpLkRpc3Bvc2FibGUpO3QuU2NyZWVuRHByTW9uaXRvcj1vfSwzMjM2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX0scz10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgaSxuLG89ci5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEoaT1vLm5leHQoKSkuZG9uZTspcy5wdXNoKGkudmFsdWUpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gc30sYT10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXl8fGZ1bmN0aW9uKGUsdCxyKXtpZihyfHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGksbj0wLG89dC5sZW5ndGg7bjxvO24rKykhaSYmbiBpbiB0fHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLG4pKSxpW25dPXRbbl0pO3JldHVybiBlLmNvbmNhdChpfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVGVybWluYWw9dm9pZCAwO3ZhciBjPXIoMjk1MCksbD1yKDE2ODApLGg9cigzNjE0KSx1PXIoMjU4NCksZj1yKDU0MzUpLF89cigzNTI1KSxkPXIoMzU1MSkscD1yKDkzMTIpLHY9cig2MTE0KSx5PXIoMzY1NiksZz1yKDkwNDIpLG09cigzNTcpLGI9cig2OTU0KSxTPXIoNDU2NyksQz1yKDEyOTYpLHc9cig3Mzk5KSxMPXIoODQ2MCksRT1yKDg0MzcpLHg9cig1NjgwKSxSPXIoMzIzMCksaz1yKDQ3MjUpLE09cig0MjgpLEE9cig4OTM0KSxPPXIoNjQ2NSksRD1yKDUxMTQpLFQ9cig4OTY5KSxCPXIoODA1NSksUD1yKDQyNjkpLEk9cig1OTQxKSxIPXIoMzEwNyksaj1yKDU3NDQpLEY9cig5MDc0KSxXPXIoMjU4NSksVT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5kb2N1bWVudDpudWxsLHE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuYnJvd3Nlcj12LHIuX2tleURvd25IYW5kbGVkPSExLHIuX2tleURvd25TZWVuPSExLHIuX2tleVByZXNzSGFuZGxlZD0hMSxyLl91bnByb2Nlc3NlZERlYWRLZXk9ITEsci5fb25DdXJzb3JNb3ZlPW5ldyBMLkV2ZW50RW1pdHRlcixyLl9vbktleT1uZXcgTC5FdmVudEVtaXR0ZXIsci5fb25SZW5kZXI9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uU2VsZWN0aW9uQ2hhbmdlPW5ldyBMLkV2ZW50RW1pdHRlcixyLl9vblRpdGxlQ2hhbmdlPW5ldyBMLkV2ZW50RW1pdHRlcixyLl9vbkJlbGw9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uRm9jdXM9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uQmx1cj1uZXcgTC5FdmVudEVtaXR0ZXIsci5fb25BMTF5Q2hhckVtaXR0ZXI9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uQTExeVRhYkVtaXR0ZXI9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX3NldHVwKCksci5saW5raWZpZXI9ci5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoZC5MaW5raWZpZXIpLHIubGlua2lmaWVyMj1yLnJlZ2lzdGVyKHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKE8uTGlua2lmaWVyMikpLHIuX2RlY29yYXRpb25TZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKEYuRGVjb3JhdGlvblNlcnZpY2UpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoVy5JRGVjb3JhdGlvblNlcnZpY2Usci5fZGVjb3JhdGlvblNlcnZpY2UpLHIucmVnaXN0ZXIoci5faW5wdXRIYW5kbGVyLm9uUmVxdWVzdEJlbGwoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuYmVsbCgpfSkpKSxyLnJlZ2lzdGVyKHIuX2lucHV0SGFuZGxlci5vblJlcXVlc3RSZWZyZXNoUm93cygoZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5yZWZyZXNoKGUsdCl9KSkpLHIucmVnaXN0ZXIoci5faW5wdXRIYW5kbGVyLm9uUmVxdWVzdFNlbmRGb2N1cygoZnVuY3Rpb24oKXtyZXR1cm4gci5fcmVwb3J0Rm9jdXMoKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25SZXF1ZXN0UmVzZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzZXQoKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25SZXF1ZXN0V2luZG93c09wdGlvbnNSZXBvcnQoKGZ1bmN0aW9uKGUpe3JldHVybiByLl9yZXBvcnRXaW5kb3dzT3B0aW9ucyhlKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25Db2xvcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2hhbmRsZUNvbG9yRXZlbnQoZSl9KSkpLHIucmVnaXN0ZXIoKDAsTC5mb3J3YXJkRXZlbnQpKHIuX2lucHV0SGFuZGxlci5vbkN1cnNvck1vdmUsci5fb25DdXJzb3JNb3ZlKSksci5yZWdpc3RlcigoMCxMLmZvcndhcmRFdmVudCkoci5faW5wdXRIYW5kbGVyLm9uVGl0bGVDaGFuZ2Usci5fb25UaXRsZUNoYW5nZSkpLHIucmVnaXN0ZXIoKDAsTC5mb3J3YXJkRXZlbnQpKHIuX2lucHV0SGFuZGxlci5vbkExMXlDaGFyLHIuX29uQTExeUNoYXJFbWl0dGVyKSksci5yZWdpc3RlcigoMCxMLmZvcndhcmRFdmVudCkoci5faW5wdXRIYW5kbGVyLm9uQTExeVRhYixyLl9vbkExMXlUYWJFbWl0dGVyKSksci5yZWdpc3RlcihyLl9idWZmZXJTZXJ2aWNlLm9uUmVzaXplKChmdW5jdGlvbihlKXtyZXR1cm4gci5fYWZ0ZXJSZXNpemUoZS5jb2xzLGUucm93cyl9KSkpLHJ9cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkN1cnNvck1vdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQ3Vyc29yTW92ZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbktleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25LZXkuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVuZGVyLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uU2VsZWN0aW9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblNlbGVjdGlvbkNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblRpdGxlQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblRpdGxlQ2hhbmdlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQmVsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25CZWxsLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uRm9jdXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRm9jdXMuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25CbHVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJsdXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25BMTF5Q2hhclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25BMTF5Q2hhckVtaXR0ZXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25BMTF5VGFiXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkExMXlUYWJFbWl0dGVyLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9oYW5kbGVDb2xvckV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxuO2lmKHRoaXMuX2NvbG9yTWFuYWdlcil7dHJ5e2Zvcih2YXIgYz1vKGUpLGw9Yy5uZXh0KCk7IWwuZG9uZTtsPWMubmV4dCgpKXt2YXIgaD1sLnZhbHVlLGY9dm9pZCAwLF89XCJcIjtzd2l0Y2goaC5pbmRleCl7Y2FzZSAyNTY6Zj1cImZvcmVncm91bmRcIixfPVwiMTBcIjticmVhaztjYXNlIDI1NzpmPVwiYmFja2dyb3VuZFwiLF89XCIxMVwiO2JyZWFrO2Nhc2UgMjU4OmY9XCJjdXJzb3JcIixfPVwiMTJcIjticmVhaztkZWZhdWx0OmY9XCJhbnNpXCIsXz1cIjQ7XCIraC5pbmRleH1pZihmKXN3aXRjaChoLnR5cGUpe2Nhc2UgMDp2YXIgZD1CLmNvbG9yLnRvQ29sb3JSR0IoXCJhbnNpXCI9PT1mP3RoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMuYW5zaVtoLmluZGV4XTp0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzW2ZdKTt0aGlzLmNvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQodS5DMC5FU0MrXCJdXCIrXytcIjtcIisoMCxJLnRvUmdiU3RyaW5nKShkKSt1LkMxX0VTQ0FQRUQuU1QpO2JyZWFrO2Nhc2UgMTpcImFuc2lcIj09PWY/dGhpcy5fY29sb3JNYW5hZ2VyLmNvbG9ycy5hbnNpW2guaW5kZXhdPUIucmdiYS50b0NvbG9yLmFwcGx5KEIucmdiYSxhKFtdLHMoaC5jb2xvciksITEpKTp0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzW2ZdPUIucmdiYS50b0NvbG9yLmFwcGx5KEIucmdiYSxhKFtdLHMoaC5jb2xvciksITEpKTticmVhaztjYXNlIDI6dGhpcy5fY29sb3JNYW5hZ2VyLnJlc3RvcmVDb2xvcihoLmluZGV4KX19fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1udWxsPT09KGk9dGhpcy5fcmVuZGVyU2VydmljZSl8fHZvaWQgMD09PWl8fGkuc2V0Q29sb3JzKHRoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMpLG51bGw9PT0obj10aGlzLnZpZXdwb3J0KXx8dm9pZCAwPT09bnx8bi5vblRoZW1lQ2hhbmdlKHRoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMpfX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0LHIsaTt0aGlzLl9pc0Rpc3Bvc2VkfHwoZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl9yZW5kZXJTZXJ2aWNlKXx8dm9pZCAwPT09dHx8dC5kaXNwb3NlKCksdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyPXZvaWQgMCx0aGlzLndyaXRlPWZ1bmN0aW9uKCl7fSxudWxsPT09KGk9bnVsbD09PShyPXRoaXMuZWxlbWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucGFyZW50Tm9kZSl8fHZvaWQgMD09PWl8fGkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KSl9LHQucHJvdG90eXBlLl9zZXR1cD1mdW5jdGlvbigpe2UucHJvdG90eXBlLl9zZXR1cC5jYWxsKHRoaXMpLHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcj12b2lkIDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJ1ZmZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJzLmFjdGl2ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMudGV4dGFyZWEmJnRoaXMudGV4dGFyZWEuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KX0sdC5wcm90b3R5cGUuX3VwZGF0ZU9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIHIsaSxuLG87c3dpdGNoKGUucHJvdG90eXBlLl91cGRhdGVPcHRpb25zLmNhbGwodGhpcyx0KSx0KXtjYXNlXCJmb250RmFtaWx5XCI6Y2FzZVwiZm9udFNpemVcIjpudWxsPT09KHI9dGhpcy5fcmVuZGVyU2VydmljZSl8fHZvaWQgMD09PXJ8fHIuY2xlYXIoKSxudWxsPT09KGk9dGhpcy5fY2hhclNpemVTZXJ2aWNlKXx8dm9pZCAwPT09aXx8aS5tZWFzdXJlKCk7YnJlYWs7Y2FzZVwiY3Vyc29yQmxpbmtcIjpjYXNlXCJjdXJzb3JTdHlsZVwiOnRoaXMucmVmcmVzaCh0aGlzLmJ1ZmZlci55LHRoaXMuYnVmZmVyLnkpO2JyZWFrO2Nhc2VcImN1c3RvbUdseXBoc1wiOmNhc2VcImRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzXCI6Y2FzZVwibGV0dGVyU3BhY2luZ1wiOmNhc2VcImxpbmVIZWlnaHRcIjpjYXNlXCJmb250V2VpZ2h0XCI6Y2FzZVwiZm9udFdlaWdodEJvbGRcIjpjYXNlXCJtaW5pbXVtQ29udHJhc3RSYXRpb1wiOnRoaXMuX3JlbmRlclNlcnZpY2UmJih0aGlzLl9yZW5kZXJTZXJ2aWNlLmNsZWFyKCksdGhpcy5fcmVuZGVyU2VydmljZS5vblJlc2l6ZSh0aGlzLmNvbHMsdGhpcy5yb3dzKSx0aGlzLnJlZnJlc2goMCx0aGlzLnJvd3MtMSkpO2JyZWFrO2Nhc2VcInJlbmRlcmVyVHlwZVwiOnRoaXMuX3JlbmRlclNlcnZpY2UmJih0aGlzLl9yZW5kZXJTZXJ2aWNlLnNldFJlbmRlcmVyKHRoaXMuX2NyZWF0ZVJlbmRlcmVyKCkpLHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZXNpemUodGhpcy5jb2xzLHRoaXMucm93cykpO2JyZWFrO2Nhc2VcInNjcm9sbGJhY2tcIjpudWxsPT09KG49dGhpcy52aWV3cG9ydCl8fHZvaWQgMD09PW58fG4uc3luY1Njcm9sbEFyZWEoKTticmVhaztjYXNlXCJzY3JlZW5SZWFkZXJNb2RlXCI6dGhpcy5vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLnNjcmVlblJlYWRlck1vZGU/IXRoaXMuX2FjY2Vzc2liaWxpdHlNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJTZXJ2aWNlJiYodGhpcy5fYWNjZXNzaWJpbGl0eU1hbmFnZXI9bmV3IFMuQWNjZXNzaWJpbGl0eU1hbmFnZXIodGhpcyx0aGlzLl9yZW5kZXJTZXJ2aWNlKSk6KG51bGw9PT0obz10aGlzLl9hY2Nlc3NpYmlsaXR5TWFuYWdlcil8fHZvaWQgMD09PW98fG8uZGlzcG9zZSgpLHRoaXMuX2FjY2Vzc2liaWxpdHlNYW5hZ2VyPXZvaWQgMCk7YnJlYWs7Y2FzZVwidGFiU3RvcFdpZHRoXCI6dGhpcy5idWZmZXJzLnNldHVwVGFiU3RvcHMoKTticmVhaztjYXNlXCJ0aGVtZVwiOnRoaXMuX3NldFRoZW1lKHRoaXMub3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy50aGVtZSl9fSx0LnByb3RvdHlwZS5fb25UZXh0QXJlYUZvY3VzPWZ1bmN0aW9uKGUpe3RoaXMuY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLnNlbmRGb2N1cyYmdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHUuQzAuRVNDK1wiW0lcIiksdGhpcy51cGRhdGVDdXJzb3JTdHlsZShlKSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvY3VzXCIpLHRoaXMuX3Nob3dDdXJzb3IoKSx0aGlzLl9vbkZvY3VzLmZpcmUoKX0sdC5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy50ZXh0YXJlYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuYmx1cigpfSx0LnByb3RvdHlwZS5fb25UZXh0QXJlYUJsdXI9ZnVuY3Rpb24oKXt0aGlzLnRleHRhcmVhLnZhbHVlPVwiXCIsdGhpcy5yZWZyZXNoKHRoaXMuYnVmZmVyLnksdGhpcy5idWZmZXIueSksdGhpcy5jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuc2VuZEZvY3VzJiZ0aGlzLmNvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQodS5DMC5FU0MrXCJbT1wiKSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvY3VzXCIpLHRoaXMuX29uQmx1ci5maXJlKCl9LHQucHJvdG90eXBlLl9zeW5jVGV4dEFyZWE9ZnVuY3Rpb24oKXtpZih0aGlzLnRleHRhcmVhJiZ0aGlzLmJ1ZmZlci5pc0N1cnNvckluVmlld3BvcnQmJiF0aGlzLl9jb21wb3NpdGlvbkhlbHBlci5pc0NvbXBvc2luZyYmdGhpcy5fcmVuZGVyU2VydmljZSl7dmFyIGU9dGhpcy5idWZmZXIueWJhc2UrdGhpcy5idWZmZXIueSx0PXRoaXMuYnVmZmVyLmxpbmVzLmdldChlKTtpZih0KXt2YXIgcj1NYXRoLm1pbih0aGlzLmJ1ZmZlci54LHRoaXMuY29scy0xKSxpPXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0LG49dC5nZXRXaWR0aChyKSxvPXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgqbixzPXRoaXMuYnVmZmVyLnkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQsYT1yKnRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGg7dGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PWErXCJweFwiLHRoaXMudGV4dGFyZWEuc3R5bGUudG9wPXMrXCJweFwiLHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9bytcInB4XCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9aStcInB4XCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5saW5lSGVpZ2h0PWkrXCJweFwiLHRoaXMudGV4dGFyZWEuc3R5bGUuekluZGV4PVwiLTVcIn19fSx0LnByb3RvdHlwZS5faW5pdEdsb2JhbD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fYmluZEtleXMoKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLmVsZW1lbnQsXCJjb3B5XCIsKGZ1bmN0aW9uKHQpe2UuaGFzU2VsZWN0aW9uKCkmJigwLGguY29weUhhbmRsZXIpKHQsZS5fc2VsZWN0aW9uU2VydmljZSl9KSkpO3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybigwLGguaGFuZGxlUGFzdGVFdmVudCkodCxlLnRleHRhcmVhLGUuY29yZVNlcnZpY2UpfTt0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwicGFzdGVcIix0KSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwicGFzdGVcIix0KSksdi5pc0ZpcmVmb3g/dGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKHQpezI9PT10LmJ1dHRvbiYmKDAsaC5yaWdodENsaWNrSGFuZGxlcikodCxlLnRleHRhcmVhLGUuc2NyZWVuRWxlbWVudCxlLl9zZWxlY3Rpb25TZXJ2aWNlLGUub3B0aW9ucy5yaWdodENsaWNrU2VsZWN0c1dvcmQpfSkpKTp0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLmVsZW1lbnQsXCJjb250ZXh0bWVudVwiLChmdW5jdGlvbih0KXsoMCxoLnJpZ2h0Q2xpY2tIYW5kbGVyKSh0LGUudGV4dGFyZWEsZS5zY3JlZW5FbGVtZW50LGUuX3NlbGVjdGlvblNlcnZpY2UsZS5vcHRpb25zLnJpZ2h0Q2xpY2tTZWxlY3RzV29yZCl9KSkpLHYuaXNMaW51eCYmdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwiYXV4Y2xpY2tcIiwoZnVuY3Rpb24odCl7MT09PXQuYnV0dG9uJiYoMCxoLm1vdmVUZXh0QXJlYVVuZGVyTW91c2VDdXJzb3IpKHQsZS50ZXh0YXJlYSxlLnNjcmVlbkVsZW1lbnQpfSkpKX0sdC5wcm90b3R5cGUuX2JpbmRLZXlzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwia2V5dXBcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2tleVVwKHQpfSksITApKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwia2V5ZG93blwiLChmdW5jdGlvbih0KXtyZXR1cm4gZS5fa2V5RG93bih0KX0pLCEwKSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImtleXByZXNzXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9rZXlQcmVzcyh0KX0pLCEwKSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImNvbXBvc2l0aW9uc3RhcnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5fY29tcG9zaXRpb25IZWxwZXIuY29tcG9zaXRpb25zdGFydCgpfSkpKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwiY29tcG9zaXRpb251cGRhdGVcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NvbXBvc2l0aW9uSGVscGVyLmNvbXBvc2l0aW9udXBkYXRlKHQpfSkpKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwiY29tcG9zaXRpb25lbmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5fY29tcG9zaXRpb25IZWxwZXIuY29tcG9zaXRpb25lbmQoKX0pKSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImlucHV0XCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9pbnB1dEV2ZW50KHQpfSksITApKSx0aGlzLnJlZ2lzdGVyKHRoaXMub25SZW5kZXIoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2NvbXBvc2l0aW9uSGVscGVyLnVwZGF0ZUNvbXBvc2l0aW9uRWxlbWVudHMoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLm9uUmVuZGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcXVldWVMaW5raWZpY2F0aW9uKHQuc3RhcnQsdC5lbmQpfSkpKX0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIHJlcXVpcmVzIGEgcGFyZW50IGVsZW1lbnQuXCIpO2UuaXNDb25uZWN0ZWR8fHRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJUZXJtaW5hbC5vcGVuIHdhcyBjYWxsZWQgb24gYW4gZWxlbWVudCB0aGF0IHdhcyBub3QgYXR0YWNoZWQgdG8gdGhlIERPTVwiKSx0aGlzLl9kb2N1bWVudD1lLm93bmVyRG9jdW1lbnQsdGhpcy5lbGVtZW50PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5lbGVtZW50LmRpcj1cImx0clwiLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGVybWluYWxcIiksdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO3ZhciByPVUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3RoaXMuX3ZpZXdwb3J0RWxlbWVudD1VLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5fdmlld3BvcnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybS12aWV3cG9ydFwiKSxyLmFwcGVuZENoaWxkKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCksdGhpcy5fdmlld3BvcnRTY3JvbGxBcmVhPVUuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl92aWV3cG9ydFNjcm9sbEFyZWEuY2xhc3NMaXN0LmFkZChcInh0ZXJtLXNjcm9sbC1hcmVhXCIpLHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl92aWV3cG9ydFNjcm9sbEFyZWEpLHRoaXMuc2NyZWVuRWxlbWVudD1VLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5zY3JlZW5FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1zY3JlZW5cIiksdGhpcy5faGVscGVyQ29udGFpbmVyPVUuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9oZWxwZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInh0ZXJtLWhlbHBlcnNcIiksdGhpcy5zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2hlbHBlckNvbnRhaW5lciksci5hcHBlbmRDaGlsZCh0aGlzLnNjcmVlbkVsZW1lbnQpLHRoaXMudGV4dGFyZWE9VS5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdGhpcy50ZXh0YXJlYS5jbGFzc0xpc3QuYWRkKFwieHRlcm0taGVscGVyLXRleHRhcmVhXCIpLHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGcucHJvbXB0TGFiZWwpLHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKFwiYXJpYS1tdWx0aWxpbmVcIixcImZhbHNlXCIpLHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIixcIm9mZlwiKSx0aGlzLnRleHRhcmVhLnNldEF0dHJpYnV0ZShcImF1dG9jYXBpdGFsaXplXCIsXCJvZmZcIiksdGhpcy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsXCJmYWxzZVwiKSx0aGlzLnRleHRhcmVhLnRhYkluZGV4PTAsdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImZvY3VzXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9vblRleHRBcmVhRm9jdXMoZSl9KSkpLHRoaXMucmVnaXN0ZXIoKDAseS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHRoaXMudGV4dGFyZWEsXCJibHVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX29uVGV4dEFyZWFCbHVyKCl9KSkpLHRoaXMuX2hlbHBlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRleHRhcmVhKTt2YXIgaT10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShELkNvcmVCcm93c2VyU2VydmljZSx0aGlzLnRleHRhcmVhKTt0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSUNvcmVCcm93c2VyU2VydmljZSxpKSx0aGlzLl9jaGFyU2l6ZVNlcnZpY2U9dGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoTS5DaGFyU2l6ZVNlcnZpY2UsdGhpcy5fZG9jdW1lbnQsdGhpcy5faGVscGVyQ29udGFpbmVyKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSUNoYXJTaXplU2VydmljZSx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UpLHRoaXMuX3RoZW1lPXRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fdGhlbWUsdGhpcy5fY29sb3JNYW5hZ2VyPW5ldyB4LkNvbG9yTWFuYWdlcihVLHRoaXMub3B0aW9ucy5hbGxvd1RyYW5zcGFyZW5jeSksdGhpcy5yZWdpc3Rlcih0aGlzLm9wdGlvbnNTZXJ2aWNlLm9uT3B0aW9uQ2hhbmdlKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fY29sb3JNYW5hZ2VyLm9uT3B0aW9uc0NoYW5nZShlKX0pKSksdGhpcy5fY29sb3JNYW5hZ2VyLnNldFRoZW1lKHRoaXMuX3RoZW1lKSx0aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPXRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKFAuQ2hhcmFjdGVySm9pbmVyU2VydmljZSksdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShrLklDaGFyYWN0ZXJKb2luZXJTZXJ2aWNlLHRoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2UpO3ZhciBuPXRoaXMuX2NyZWF0ZVJlbmRlcmVyKCk7dGhpcy5fcmVuZGVyU2VydmljZT10aGlzLnJlZ2lzdGVyKHRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKFIuUmVuZGVyU2VydmljZSxuLHRoaXMucm93cyx0aGlzLnNjcmVlbkVsZW1lbnQpKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSVJlbmRlclNlcnZpY2UsdGhpcy5fcmVuZGVyU2VydmljZSksdGhpcy5yZWdpc3Rlcih0aGlzLl9yZW5kZXJTZXJ2aWNlLm9uUmVuZGVyZWRWaWV3cG9ydENoYW5nZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX29uUmVuZGVyLmZpcmUoZSl9KSkpLHRoaXMub25SZXNpemUoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9yZW5kZXJTZXJ2aWNlLnJlc2l6ZShlLmNvbHMsZS5yb3dzKX0pKSx0aGlzLl9jb21wb3NpdGlvblZpZXc9VS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5jbGFzc0xpc3QuYWRkKFwiY29tcG9zaXRpb24tdmlld1wiKSx0aGlzLl9jb21wb3NpdGlvbkhlbHBlcj10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShjLkNvbXBvc2l0aW9uSGVscGVyLHRoaXMudGV4dGFyZWEsdGhpcy5fY29tcG9zaXRpb25WaWV3KSx0aGlzLl9oZWxwZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY29tcG9zaXRpb25WaWV3KSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQociksdGhpcy5fc291bmRTZXJ2aWNlPXRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKG0uU291bmRTZXJ2aWNlKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSVNvdW5kU2VydmljZSx0aGlzLl9zb3VuZFNlcnZpY2UpLHRoaXMuX21vdXNlU2VydmljZT10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShBLk1vdXNlU2VydmljZSksdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShrLklNb3VzZVNlcnZpY2UsdGhpcy5fbW91c2VTZXJ2aWNlKSx0aGlzLnZpZXdwb3J0PXRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGwuVmlld3BvcnQsKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNjcm9sbExpbmVzKGUsITAsMSl9KSx0aGlzLl92aWV3cG9ydEVsZW1lbnQsdGhpcy5fdmlld3BvcnRTY3JvbGxBcmVhLHRoaXMuZWxlbWVudCksdGhpcy52aWV3cG9ydC5vblRoZW1lQ2hhbmdlKHRoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMpLHRoaXMucmVnaXN0ZXIodGhpcy5faW5wdXRIYW5kbGVyLm9uUmVxdWVzdFN5bmNTY3JvbGxCYXIoKGZ1bmN0aW9uKCl7cmV0dXJuIHQudmlld3BvcnQuc3luY1Njcm9sbEFyZWEoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLnZpZXdwb3J0KSx0aGlzLnJlZ2lzdGVyKHRoaXMub25DdXJzb3JNb3ZlKChmdW5jdGlvbigpe3QuX3JlbmRlclNlcnZpY2Uub25DdXJzb3JNb3ZlKCksdC5fc3luY1RleHRBcmVhKCl9KSkpLHRoaXMucmVnaXN0ZXIodGhpcy5vblJlc2l6ZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVuZGVyU2VydmljZS5vblJlc2l6ZSh0LmNvbHMsdC5yb3dzKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLm9uQmx1cigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVuZGVyU2VydmljZS5vbkJsdXIoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLm9uRm9jdXMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3JlbmRlclNlcnZpY2Uub25Gb2N1cygpfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX3JlbmRlclNlcnZpY2Uub25EaW1lbnNpb25zQ2hhbmdlKChmdW5jdGlvbigpe3JldHVybiB0LnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCl9KSkpLHRoaXMuX3NlbGVjdGlvblNlcnZpY2U9dGhpcy5yZWdpc3Rlcih0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShwLlNlbGVjdGlvblNlcnZpY2UsdGhpcy5lbGVtZW50LHRoaXMuc2NyZWVuRWxlbWVudCx0aGlzLmxpbmtpZmllcjIpKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSVNlbGVjdGlvblNlcnZpY2UsdGhpcy5fc2VsZWN0aW9uU2VydmljZSksdGhpcy5yZWdpc3Rlcih0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLm9uUmVxdWVzdFNjcm9sbExpbmVzKChmdW5jdGlvbihlKXtyZXR1cm4gdC5zY3JvbGxMaW5lcyhlLmFtb3VudCxlLnN1cHByZXNzU2Nyb2xsRXZlbnQpfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX3NlbGVjdGlvblNlcnZpY2Uub25TZWxlY3Rpb25DaGFuZ2UoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX29uU2VsZWN0aW9uQ2hhbmdlLmZpcmUoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLm9uUmVxdWVzdFJlZHJhdygoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3JlbmRlclNlcnZpY2Uub25TZWxlY3Rpb25DaGFuZ2VkKGUuc3RhcnQsZS5lbmQsZS5jb2x1bW5TZWxlY3RNb2RlKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLm9uTGludXhNb3VzZVNlbGVjdGlvbigoZnVuY3Rpb24oZSl7dC50ZXh0YXJlYS52YWx1ZT1lLHQudGV4dGFyZWEuZm9jdXMoKSx0LnRleHRhcmVhLnNlbGVjdCgpfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX29uU2Nyb2xsLmV2ZW50KChmdW5jdGlvbihlKXt0LnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCksdC5fc2VsZWN0aW9uU2VydmljZS5yZWZyZXNoKCl9KSkpLHRoaXMucmVnaXN0ZXIoKDAseS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCxcInNjcm9sbFwiLChmdW5jdGlvbigpe3JldHVybiB0Ll9zZWxlY3Rpb25TZXJ2aWNlLnJlZnJlc2goKX0pKSksdGhpcy5fbW91c2Vab25lTWFuYWdlcj10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShiLk1vdXNlWm9uZU1hbmFnZXIsdGhpcy5lbGVtZW50LHRoaXMuc2NyZWVuRWxlbWVudCksdGhpcy5yZWdpc3Rlcih0aGlzLl9tb3VzZVpvbmVNYW5hZ2VyKSx0aGlzLnJlZ2lzdGVyKHRoaXMub25TY3JvbGwoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX21vdXNlWm9uZU1hbmFnZXIuY2xlYXJBbGwoKX0pKSksdGhpcy5saW5raWZpZXIuYXR0YWNoVG9Eb20odGhpcy5lbGVtZW50LHRoaXMuX21vdXNlWm9uZU1hbmFnZXIpLHRoaXMubGlua2lmaWVyMi5hdHRhY2hUb0RvbSh0aGlzLnNjcmVlbkVsZW1lbnQsdGhpcy5fbW91c2VTZXJ2aWNlLHRoaXMuX3JlbmRlclNlcnZpY2UpLHRoaXMucmVnaXN0ZXIodGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoSC5CdWZmZXJEZWNvcmF0aW9uUmVuZGVyZXIsdGhpcy5zY3JlZW5FbGVtZW50KSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9zZWxlY3Rpb25TZXJ2aWNlLm9uTW91c2VEb3duKGUpfSkpKSx0aGlzLmNvcmVNb3VzZVNlcnZpY2UuYXJlTW91c2VFdmVudHNBY3RpdmU/KHRoaXMuX3NlbGVjdGlvblNlcnZpY2UuZGlzYWJsZSgpLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZW5hYmxlLW1vdXNlLWV2ZW50c1wiKSk6dGhpcy5fc2VsZWN0aW9uU2VydmljZS5lbmFibGUoKSx0aGlzLm9wdGlvbnMuc2NyZWVuUmVhZGVyTW9kZSYmKHRoaXMuX2FjY2Vzc2liaWxpdHlNYW5hZ2VyPW5ldyBTLkFjY2Vzc2liaWxpdHlNYW5hZ2VyKHRoaXMsdGhpcy5fcmVuZGVyU2VydmljZSkpLHRoaXMub3B0aW9ucy5vdmVydmlld1J1bGVyV2lkdGgmJih0aGlzLl9vdmVydmlld1J1bGVyUmVuZGVyZXI9dGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2Uoai5PdmVydmlld1J1bGVyUmVuZGVyZXIsdGhpcy5fdmlld3BvcnRFbGVtZW50LHRoaXMuc2NyZWVuRWxlbWVudCkpLHRoaXMub3B0aW9uc1NlcnZpY2Uub25PcHRpb25DaGFuZ2UoKGZ1bmN0aW9uKCl7IXQuX292ZXJ2aWV3UnVsZXJSZW5kZXJlciYmdC5vcHRpb25zLm92ZXJ2aWV3UnVsZXJXaWR0aCYmdC5fdmlld3BvcnRFbGVtZW50JiZ0LnNjcmVlbkVsZW1lbnQmJih0Ll9vdmVydmlld1J1bGVyUmVuZGVyZXI9dC5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2Uoai5PdmVydmlld1J1bGVyUmVuZGVyZXIsdC5fdmlld3BvcnRFbGVtZW50LHQuc2NyZWVuRWxlbWVudCkpfSkpLHRoaXMuX2NoYXJTaXplU2VydmljZS5tZWFzdXJlKCksdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpLHRoaXMuX2luaXRHbG9iYWwoKSx0aGlzLmJpbmRNb3VzZSgpfSx0LnByb3RvdHlwZS5fY3JlYXRlUmVuZGVyZXI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5vcHRpb25zLnJlbmRlcmVyVHlwZSl7Y2FzZVwiY2FudmFzXCI6cmV0dXJuIHRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKF8uUmVuZGVyZXIsdGhpcy5fY29sb3JNYW5hZ2VyLmNvbG9ycyx0aGlzLnNjcmVlbkVsZW1lbnQsdGhpcy5saW5raWZpZXIsdGhpcy5saW5raWZpZXIyKTtjYXNlXCJkb21cIjpyZXR1cm4gdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoQy5Eb21SZW5kZXJlcix0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzLHRoaXMuZWxlbWVudCx0aGlzLnNjcmVlbkVsZW1lbnQsdGhpcy5fdmlld3BvcnRFbGVtZW50LHRoaXMubGlua2lmaWVyLHRoaXMubGlua2lmaWVyMik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCByZW5kZXJlclR5cGUgXCInK3RoaXMub3B0aW9ucy5yZW5kZXJlclR5cGUrJ1wiJyl9fSx0LnByb3RvdHlwZS5fc2V0VGhlbWU9ZnVuY3Rpb24oZSl7dmFyIHQscixpO3RoaXMuX3RoZW1lPWUsbnVsbD09PSh0PXRoaXMuX2NvbG9yTWFuYWdlcil8fHZvaWQgMD09PXR8fHQuc2V0VGhlbWUoZSksbnVsbD09PShyPXRoaXMuX3JlbmRlclNlcnZpY2UpfHx2b2lkIDA9PT1yfHxyLnNldENvbG9ycyh0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzKSxudWxsPT09KGk9dGhpcy52aWV3cG9ydCl8fHZvaWQgMD09PWl8fGkub25UaGVtZUNoYW5nZSh0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzKX0sdC5wcm90b3R5cGUuYmluZE1vdXNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10aGlzLmVsZW1lbnQ7ZnVuY3Rpb24gaShlKXt2YXIgcixpLG49dC5fbW91c2VTZXJ2aWNlLmdldFJhd0J5dGVDb29yZHMoZSx0LnNjcmVlbkVsZW1lbnQsdC5jb2xzLHQucm93cyk7aWYoIW4pcmV0dXJuITE7c3dpdGNoKGUub3ZlcnJpZGVUeXBlfHxlLnR5cGUpe2Nhc2VcIm1vdXNlbW92ZVwiOmk9MzIsdm9pZCAwPT09ZS5idXR0b25zPyhyPTMsdm9pZCAwIT09ZS5idXR0b24mJihyPWUuYnV0dG9uPDM/ZS5idXR0b246MykpOnI9MSZlLmJ1dHRvbnM/MDo0JmUuYnV0dG9ucz8xOjImZS5idXR0b25zPzI6MzticmVhaztjYXNlXCJtb3VzZXVwXCI6aT0wLHI9ZS5idXR0b248Mz9lLmJ1dHRvbjozO2JyZWFrO2Nhc2VcIm1vdXNlZG93blwiOmk9MSxyPWUuYnV0dG9uPDM/ZS5idXR0b246MzticmVhaztjYXNlXCJ3aGVlbFwiOmlmKDA9PT10LnZpZXdwb3J0LmdldExpbmVzU2Nyb2xsZWQoZSkpcmV0dXJuITE7aT1lLmRlbHRhWTwwPzA6MSxyPTQ7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4hKHZvaWQgMD09PWl8fHZvaWQgMD09PXJ8fHI+NCkmJnQuY29yZU1vdXNlU2VydmljZS50cmlnZ2VyTW91c2VFdmVudCh7Y29sOm4ueC0zMyxyb3c6bi55LTMzLGJ1dHRvbjpyLGFjdGlvbjppLGN0cmw6ZS5jdHJsS2V5LGFsdDplLmFsdEtleSxzaGlmdDplLnNoaWZ0S2V5fSl9dmFyIG49e21vdXNldXA6bnVsbCx3aGVlbDpudWxsLG1vdXNlZHJhZzpudWxsLG1vdXNlbW92ZTpudWxsfSxvPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQpLHQuYnV0dG9uc3x8KGUuX2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsbi5tb3VzZXVwKSxuLm1vdXNlZHJhZyYmZS5fZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG4ubW91c2VkcmFnKSksZS5jYW5jZWwodCl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCksZS5jYW5jZWwodCwhMCl9LGE9ZnVuY3Rpb24oZSl7ZS5idXR0b25zJiZpKGUpfSxjPWZ1bmN0aW9uKGUpe2UuYnV0dG9uc3x8aShlKX07dGhpcy5yZWdpc3Rlcih0aGlzLmNvcmVNb3VzZVNlcnZpY2Uub25Qcm90b2NvbENoYW5nZSgoZnVuY3Rpb24odCl7dD8oXCJkZWJ1Z1wiPT09ZS5vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxvZ0xldmVsJiZlLl9sb2dTZXJ2aWNlLmRlYnVnKFwiQmluZGluZyB0byBtb3VzZSBldmVudHM6XCIsZS5jb3JlTW91c2VTZXJ2aWNlLmV4cGxhaW5FdmVudHModCkpLGUuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZW5hYmxlLW1vdXNlLWV2ZW50c1wiKSxlLl9zZWxlY3Rpb25TZXJ2aWNlLmRpc2FibGUoKSk6KGUuX2xvZ1NlcnZpY2UuZGVidWcoXCJVbmJpbmRpbmcgZnJvbSBtb3VzZSBldmVudHMuXCIpLGUuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZW5hYmxlLW1vdXNlLWV2ZW50c1wiKSxlLl9zZWxlY3Rpb25TZXJ2aWNlLmVuYWJsZSgpKSw4JnQ/bi5tb3VzZW1vdmV8fChyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixjKSxuLm1vdXNlbW92ZT1jKTooci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsbi5tb3VzZW1vdmUpLG4ubW91c2Vtb3ZlPW51bGwpLDE2JnQ/bi53aGVlbHx8KHIuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIscyx7cGFzc2l2ZTohMX0pLG4ud2hlZWw9cyk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsbi53aGVlbCksbi53aGVlbD1udWxsKSwyJnQ/bi5tb3VzZXVwfHwobi5tb3VzZXVwPW8pOihlLl9kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLG4ubW91c2V1cCksbi5tb3VzZXVwPW51bGwpLDQmdD9uLm1vdXNlZHJhZ3x8KG4ubW91c2VkcmFnPWEpOihlLl9kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsbi5tb3VzZWRyYWcpLG4ubW91c2VkcmFnPW51bGwpfSkpKSx0aGlzLmNvcmVNb3VzZVNlcnZpY2UuYWN0aXZlUHJvdG9jb2w9dGhpcy5jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZVByb3RvY29sLHRoaXMucmVnaXN0ZXIoKDAseS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHIsXCJtb3VzZWRvd25cIiwoZnVuY3Rpb24odCl7aWYodC5wcmV2ZW50RGVmYXVsdCgpLGUuZm9jdXMoKSxlLmNvcmVNb3VzZVNlcnZpY2UuYXJlTW91c2VFdmVudHNBY3RpdmUmJiFlLl9zZWxlY3Rpb25TZXJ2aWNlLnNob3VsZEZvcmNlU2VsZWN0aW9uKHQpKXJldHVybiBpKHQpLG4ubW91c2V1cCYmZS5fZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixuLm1vdXNldXApLG4ubW91c2VkcmFnJiZlLl9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsbi5tb3VzZWRyYWcpLGUuY2FuY2VsKHQpfSkpKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKShyLFwid2hlZWxcIiwoZnVuY3Rpb24odCl7aWYoIW4ud2hlZWwpe2lmKCFlLmJ1ZmZlci5oYXNTY3JvbGxiYWNrKXt2YXIgcj1lLnZpZXdwb3J0LmdldExpbmVzU2Nyb2xsZWQodCk7aWYoMD09PXIpcmV0dXJuO2Zvcih2YXIgaT11LkMwLkVTQysoZS5jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25DdXJzb3JLZXlzP1wiT1wiOlwiW1wiKSsodC5kZWx0YVk8MD9cIkFcIjpcIkJcIiksbz1cIlwiLHM9MDtzPE1hdGguYWJzKHIpO3MrKylvKz1pO3JldHVybiBlLmNvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQobywhMCksZS5jYW5jZWwodCwhMCl9cmV0dXJuIGUudmlld3BvcnQub25XaGVlbCh0KT9lLmNhbmNlbCh0KTp2b2lkIDB9fSkse3Bhc3NpdmU6ITF9KSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikocixcInRvdWNoc3RhcnRcIiwoZnVuY3Rpb24odCl7aWYoIWUuY29yZU1vdXNlU2VydmljZS5hcmVNb3VzZUV2ZW50c0FjdGl2ZSlyZXR1cm4gZS52aWV3cG9ydC5vblRvdWNoU3RhcnQodCksZS5jYW5jZWwodCl9KSx7cGFzc2l2ZTohMH0pKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKShyLFwidG91Y2htb3ZlXCIsKGZ1bmN0aW9uKHQpe2lmKCFlLmNvcmVNb3VzZVNlcnZpY2UuYXJlTW91c2VFdmVudHNBY3RpdmUpcmV0dXJuIGUudmlld3BvcnQub25Ub3VjaE1vdmUodCk/dm9pZCAwOmUuY2FuY2VsKHQpfSkse3Bhc3NpdmU6ITF9KSl9LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcjtudWxsPT09KHI9dGhpcy5fcmVuZGVyU2VydmljZSl8fHZvaWQgMD09PXJ8fHIucmVmcmVzaFJvd3MoZSx0KX0sdC5wcm90b3R5cGUuX3F1ZXVlTGlua2lmaWNhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByO251bGw9PT0ocj10aGlzLmxpbmtpZmllcil8fHZvaWQgMD09PXJ8fHIubGlua2lmeVJvd3MoZSx0KX0sdC5wcm90b3R5cGUudXBkYXRlQ3Vyc29yU3R5bGU9ZnVuY3Rpb24oZSl7dmFyIHQ7KG51bGw9PT0odD10aGlzLl9zZWxlY3Rpb25TZXJ2aWNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zaG91bGRDb2x1bW5TZWxlY3QoZSkpP3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29sdW1uLXNlbGVjdFwiKTp0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImNvbHVtbi1zZWxlY3RcIil9LHQucHJvdG90eXBlLl9zaG93Q3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy5jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkfHwodGhpcy5jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkPSEwLHRoaXMucmVmcmVzaCh0aGlzLmJ1ZmZlci55LHRoaXMuYnVmZmVyLnkpKX0sdC5wcm90b3R5cGUuc2Nyb2xsTGluZXM9ZnVuY3Rpb24odCxyLGkpe3ZvaWQgMD09PWkmJihpPTApLGUucHJvdG90eXBlLnNjcm9sbExpbmVzLmNhbGwodGhpcyx0LHIsaSksdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpfSx0LnByb3RvdHlwZS5wYXN0ZT1mdW5jdGlvbihlKXsoMCxoLnBhc3RlKShlLHRoaXMudGV4dGFyZWEsdGhpcy5jb3JlU2VydmljZSl9LHQucHJvdG90eXBlLmF0dGFjaEN1c3RvbUtleUV2ZW50SGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXI9ZX0sdC5wcm90b3R5cGUucmVnaXN0ZXJMaW5rTWF0Y2hlcj1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5saW5raWZpZXIucmVnaXN0ZXJMaW5rTWF0Y2hlcihlLHQscik7cmV0dXJuIHRoaXMucmVmcmVzaCgwLHRoaXMucm93cy0xKSxpfSx0LnByb3RvdHlwZS5kZXJlZ2lzdGVyTGlua01hdGNoZXI9ZnVuY3Rpb24oZSl7dGhpcy5saW5raWZpZXIuZGVyZWdpc3RlckxpbmtNYXRjaGVyKGUpJiZ0aGlzLnJlZnJlc2goMCx0aGlzLnJvd3MtMSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyTGlua1Byb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxpbmtpZmllcjIucmVnaXN0ZXJMaW5rUHJvdmlkZXIoZSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlKXRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIG11c3QgYmUgb3BlbmVkIGZpcnN0XCIpO3ZhciB0PXRoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2UucmVnaXN0ZXIoZSk7cmV0dXJuIHRoaXMucmVmcmVzaCgwLHRoaXMucm93cy0xKSx0fSx0LnByb3RvdHlwZS5kZXJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlKXRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIG11c3QgYmUgb3BlbmVkIGZpcnN0XCIpO3RoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2UuZGVyZWdpc3RlcihlKSYmdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtYXJrZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5tYXJrZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFkZE1hcmtlcj1mdW5jdGlvbihlKXtpZih0aGlzLmJ1ZmZlcj09PXRoaXMuYnVmZmVycy5ub3JtYWwpcmV0dXJuIHRoaXMuYnVmZmVyLmFkZE1hcmtlcih0aGlzLmJ1ZmZlci55YmFzZSt0aGlzLmJ1ZmZlci55K2UpfSx0LnByb3RvdHlwZS5yZWdpc3RlckRlY29yYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLnJlZ2lzdGVyRGVjb3JhdGlvbihlKX0sdC5wcm90b3R5cGUuaGFzU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlJiZ0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLmhhc1NlbGVjdGlvbn0sdC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLnNldFNlbGVjdGlvbihlLHQscil9LHQucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlP3RoaXMuX3NlbGVjdGlvblNlcnZpY2Uuc2VsZWN0aW9uVGV4dDpcIlwifSx0LnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Qb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX3NlbGVjdGlvblNlcnZpY2UmJnRoaXMuX3NlbGVjdGlvblNlcnZpY2UuaGFzU2VsZWN0aW9uKXJldHVybntzdGFydENvbHVtbjp0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdGlvblN0YXJ0WzBdLHN0YXJ0Um93OnRoaXMuX3NlbGVjdGlvblNlcnZpY2Uuc2VsZWN0aW9uU3RhcnRbMV0sZW5kQ29sdW1uOnRoaXMuX3NlbGVjdGlvblNlcnZpY2Uuc2VsZWN0aW9uRW5kWzBdLGVuZFJvdzp0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdGlvbkVuZFsxXX19LHQucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuX3NlbGVjdGlvblNlcnZpY2UpfHx2b2lkIDA9PT1lfHxlLmNsZWFyU2VsZWN0aW9uKCl9LHQucHJvdG90eXBlLnNlbGVjdEFsbD1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9zZWxlY3Rpb25TZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5zZWxlY3RBbGwoKX0sdC5wcm90b3R5cGUuc2VsZWN0TGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcjtudWxsPT09KHI9dGhpcy5fc2VsZWN0aW9uU2VydmljZSl8fHZvaWQgMD09PXJ8fHIuc2VsZWN0TGluZXMoZSx0KX0sdC5wcm90b3R5cGUuX2tleURvd249ZnVuY3Rpb24oZSl7aWYodGhpcy5fa2V5RG93bkhhbmRsZWQ9ITEsdGhpcy5fa2V5RG93blNlZW49ITAsdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyJiYhMT09PXRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcihlKSlyZXR1cm4hMTt2YXIgdD10aGlzLmJyb3dzZXIuaXNNYWMmJnRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEmJmUuYWx0S2V5O2lmKCF0JiYhdGhpcy5fY29tcG9zaXRpb25IZWxwZXIua2V5ZG93bihlKSlyZXR1cm4gdGhpcy5idWZmZXIueWJhc2UhPT10aGlzLmJ1ZmZlci55ZGlzcCYmdGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGxUb0JvdHRvbSgpLCExO3R8fFwiRGVhZFwiIT09ZS5rZXkmJlwiQWx0R3JhcGhcIiE9PWUua2V5fHwodGhpcy5fdW5wcm9jZXNzZWREZWFkS2V5PSEwKTt2YXIgcj0oMCx3LmV2YWx1YXRlS2V5Ym9hcmRFdmVudCkoZSx0aGlzLmNvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbkN1cnNvcktleXMsdGhpcy5icm93c2VyLmlzTWFjLHRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEpO2lmKHRoaXMudXBkYXRlQ3Vyc29yU3R5bGUoZSksMz09PXIudHlwZXx8Mj09PXIudHlwZSl7dmFyIGk9dGhpcy5yb3dzLTE7cmV0dXJuIHRoaXMuc2Nyb2xsTGluZXMoMj09PXIudHlwZT8taTppKSx0aGlzLmNhbmNlbChlLCEwKX1yZXR1cm4gMT09PXIudHlwZSYmdGhpcy5zZWxlY3RBbGwoKSwhIXRoaXMuX2lzVGhpcmRMZXZlbFNoaWZ0KHRoaXMuYnJvd3NlcixlKXx8KHIuY2FuY2VsJiZ0aGlzLmNhbmNlbChlLCEwKSwhci5rZXl8fCEhKGUua2V5JiYhZS5jdHJsS2V5JiYhZS5hbHRLZXkmJiFlLm1ldGFLZXkmJjE9PT1lLmtleS5sZW5ndGgmJmUua2V5LmNoYXJDb2RlQXQoMCk+PTY1JiZlLmtleS5jaGFyQ29kZUF0KDApPD05MCl8fCh0aGlzLl91bnByb2Nlc3NlZERlYWRLZXk/KHRoaXMuX3VucHJvY2Vzc2VkRGVhZEtleT0hMSwhMCk6KHIua2V5IT09dS5DMC5FVFgmJnIua2V5IT09dS5DMC5DUnx8KHRoaXMudGV4dGFyZWEudmFsdWU9XCJcIiksdGhpcy5fb25LZXkuZmlyZSh7a2V5OnIua2V5LGRvbUV2ZW50OmV9KSx0aGlzLl9zaG93Q3Vyc29yKCksdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHIua2V5LCEwKSx0aGlzLm9wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuc2NyZWVuUmVhZGVyTW9kZT92b2lkKHRoaXMuX2tleURvd25IYW5kbGVkPSEwKTp0aGlzLmNhbmNlbChlLCEwKSkpKX0sdC5wcm90b3R5cGUuX2lzVGhpcmRMZXZlbFNoaWZ0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5pc01hYyYmIXRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEmJnQuYWx0S2V5JiYhdC5jdHJsS2V5JiYhdC5tZXRhS2V5fHxlLmlzV2luZG93cyYmdC5hbHRLZXkmJnQuY3RybEtleSYmIXQubWV0YUtleXx8ZS5pc1dpbmRvd3MmJnQuZ2V0TW9kaWZpZXJTdGF0ZShcIkFsdEdyYXBoXCIpO3JldHVyblwia2V5cHJlc3NcIj09PXQudHlwZT9yOnImJighdC5rZXlDb2RlfHx0LmtleUNvZGU+NDcpfSx0LnByb3RvdHlwZS5fa2V5VXA9ZnVuY3Rpb24oZSl7dGhpcy5fa2V5RG93blNlZW49ITEsdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyJiYhMT09PXRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcihlKXx8KGZ1bmN0aW9uKGUpe3JldHVybiAxNj09PWUua2V5Q29kZXx8MTc9PT1lLmtleUNvZGV8fDE4PT09ZS5rZXlDb2RlfShlKXx8dGhpcy5mb2N1cygpLHRoaXMudXBkYXRlQ3Vyc29yU3R5bGUoZSksdGhpcy5fa2V5UHJlc3NIYW5kbGVkPSExKX0sdC5wcm90b3R5cGUuX2tleVByZXNzPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKHRoaXMuX2tleVByZXNzSGFuZGxlZD0hMSx0aGlzLl9rZXlEb3duSGFuZGxlZClyZXR1cm4hMTtpZih0aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXImJiExPT09dGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyKGUpKXJldHVybiExO2lmKHRoaXMuY2FuY2VsKGUpLGUuY2hhckNvZGUpdD1lLmNoYXJDb2RlO2Vsc2UgaWYobnVsbD09PWUud2hpY2h8fHZvaWQgMD09PWUud2hpY2gpdD1lLmtleUNvZGU7ZWxzZXtpZigwPT09ZS53aGljaHx8MD09PWUuY2hhckNvZGUpcmV0dXJuITE7dD1lLndoaWNofXJldHVybiEoIXR8fChlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiYhdGhpcy5faXNUaGlyZExldmVsU2hpZnQodGhpcy5icm93c2VyLGUpfHwodD1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpLHRoaXMuX29uS2V5LmZpcmUoe2tleTp0LGRvbUV2ZW50OmV9KSx0aGlzLl9zaG93Q3Vyc29yKCksdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHQsITApLHRoaXMuX2tleVByZXNzSGFuZGxlZD0hMCx0aGlzLl91bnByb2Nlc3NlZERlYWRLZXk9ITEsMCkpfSx0LnByb3RvdHlwZS5faW5wdXRFdmVudD1mdW5jdGlvbihlKXtpZihlLmRhdGEmJlwiaW5zZXJ0VGV4dFwiPT09ZS5pbnB1dFR5cGUmJighZS5jb21wb3NlZHx8IXRoaXMuX2tleURvd25TZWVuKSYmIXRoaXMub3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5zY3JlZW5SZWFkZXJNb2RlKXtpZih0aGlzLl9rZXlQcmVzc0hhbmRsZWQpcmV0dXJuITE7dGhpcy5fdW5wcm9jZXNzZWREZWFkS2V5PSExO3ZhciB0PWUuZGF0YTtyZXR1cm4gdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHQsITApLHRoaXMuY2FuY2VsKGUpLCEwfXJldHVybiExfSx0LnByb3RvdHlwZS5iZWxsPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5fc291bmRCZWxsKCkmJihudWxsPT09KGU9dGhpcy5fc291bmRTZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5wbGF5QmVsbFNvdW5kKCkpLHRoaXMuX29uQmVsbC5maXJlKCl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LHIpe3QhPT10aGlzLmNvbHN8fHIhPT10aGlzLnJvd3M/ZS5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0LHIpOnRoaXMuX2NoYXJTaXplU2VydmljZSYmIXRoaXMuX2NoYXJTaXplU2VydmljZS5oYXNWYWxpZFNpemUmJnRoaXMuX2NoYXJTaXplU2VydmljZS5tZWFzdXJlKCl9LHQucHJvdG90eXBlLl9hZnRlclJlc2l6ZT1mdW5jdGlvbihlLHQpe3ZhciByLGk7bnVsbD09PShyPXRoaXMuX2NoYXJTaXplU2VydmljZSl8fHZvaWQgMD09PXJ8fHIubWVhc3VyZSgpLG51bGw9PT0oaT10aGlzLnZpZXdwb3J0KXx8dm9pZCAwPT09aXx8aS5zeW5jU2Nyb2xsQXJlYSghMCl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuYnVmZmVyLnliYXNlfHwwIT09dGhpcy5idWZmZXIueSl7dGhpcy5idWZmZXIuY2xlYXJBbGxNYXJrZXJzKCksdGhpcy5idWZmZXIubGluZXMuc2V0KDAsdGhpcy5idWZmZXIubGluZXMuZ2V0KHRoaXMuYnVmZmVyLnliYXNlK3RoaXMuYnVmZmVyLnkpKSx0aGlzLmJ1ZmZlci5saW5lcy5sZW5ndGg9MSx0aGlzLmJ1ZmZlci55ZGlzcD0wLHRoaXMuYnVmZmVyLnliYXNlPTAsdGhpcy5idWZmZXIueT0wO2Zvcih2YXIgZT0xO2U8dGhpcy5yb3dzO2UrKyl0aGlzLmJ1ZmZlci5saW5lcy5wdXNoKHRoaXMuYnVmZmVyLmdldEJsYW5rTGluZShFLkRFRkFVTFRfQVRUUl9EQVRBKSk7dGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpLHRoaXMuX29uU2Nyb2xsLmZpcmUoe3Bvc2l0aW9uOnRoaXMuYnVmZmVyLnlkaXNwLHNvdXJjZTowfSl9fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciB0LHI7dGhpcy5vcHRpb25zLnJvd3M9dGhpcy5yb3dzLHRoaXMub3B0aW9ucy5jb2xzPXRoaXMuY29sczt2YXIgaT10aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXI7dGhpcy5fc2V0dXAoKSxlLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl9zZWxlY3Rpb25TZXJ2aWNlKXx8dm9pZCAwPT09dHx8dC5yZXNldCgpLHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLnJlc2V0KCksdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyPWksdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpLG51bGw9PT0ocj10aGlzLnZpZXdwb3J0KXx8dm9pZCAwPT09cnx8ci5zeW5jU2Nyb2xsQXJlYSgpfSx0LnByb3RvdHlwZS5jbGVhclRleHR1cmVBdGxhcz1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9yZW5kZXJTZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5jbGVhclRleHR1cmVBdGxhcygpfSx0LnByb3RvdHlwZS5fcmVwb3J0Rm9jdXM9ZnVuY3Rpb24oKXt2YXIgZTsobnVsbD09PShlPXRoaXMuZWxlbWVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9jdXNcIikpP3RoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIltJXCIpOnRoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIltPXCIpfSx0LnByb3RvdHlwZS5fcmVwb3J0V2luZG93c09wdGlvbnM9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcmVuZGVyU2VydmljZSlzd2l0Y2goZSl7Y2FzZSBmLldpbmRvd3NPcHRpb25zUmVwb3J0VHlwZS5HRVRfV0lOX1NJWkVfUElYRUxTOnZhciB0PXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5zY2FsZWRDYW52YXNXaWR0aC50b0ZpeGVkKDApLHI9dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodC50b0ZpeGVkKDApO3RoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIls0O1wiK3IrXCI7XCIrdCtcInRcIik7YnJlYWs7Y2FzZSBmLldpbmRvd3NPcHRpb25zUmVwb3J0VHlwZS5HRVRfQ0VMTF9TSVpFX1BJWEVMUzp2YXIgaT10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbFdpZHRoLnRvRml4ZWQoMCksbj10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodC50b0ZpeGVkKDApO3RoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIls2O1wiK24rXCI7XCIraStcInRcIil9fSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9wdGlvbnMuY2FuY2VsRXZlbnRzfHx0KXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwhMX0sdC5wcm90b3R5cGUuX3Zpc3VhbEJlbGw9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5wcm90b3R5cGUuX3NvdW5kQmVsbD1mdW5jdGlvbigpe3JldHVyblwic291bmRcIj09PXRoaXMub3B0aW9ucy5iZWxsU3R5bGV9LHR9KFQuQ29yZVRlcm1pbmFsKTt0LlRlcm1pbmFsPXF9LDk5MjQ6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRpbWVCYXNlZERlYm91bmNlcj12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09dCYmKHQ9MWUzKSx0aGlzLl9yZW5kZXJDYWxsYmFjaz1lLHRoaXMuX2RlYm91bmNlVGhyZXNob2xkTVM9dCx0aGlzLl9sYXN0UmVmcmVzaE1zPTAsdGhpcy5fYWRkaXRpb25hbFJlZnJlc2hSZXF1ZXN0ZWQ9ITF9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoVGltZW91dElEJiZjbGVhclRpbWVvdXQodGhpcy5fcmVmcmVzaFRpbWVvdXRJRCl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy5fcm93Q291bnQ9cixlPXZvaWQgMCE9PWU/ZTowLHQ9dm9pZCAwIT09dD90OnRoaXMuX3Jvd0NvdW50LTEsdGhpcy5fcm93U3RhcnQ9dm9pZCAwIT09dGhpcy5fcm93U3RhcnQ/TWF0aC5taW4odGhpcy5fcm93U3RhcnQsZSk6ZSx0aGlzLl9yb3dFbmQ9dm9pZCAwIT09dGhpcy5fcm93RW5kP01hdGgubWF4KHRoaXMuX3Jvd0VuZCx0KTp0O3ZhciBuPURhdGUubm93KCk7aWYobi10aGlzLl9sYXN0UmVmcmVzaE1zPj10aGlzLl9kZWJvdW5jZVRocmVzaG9sZE1TKXRoaXMuX2xhc3RSZWZyZXNoTXM9bix0aGlzLl9pbm5lclJlZnJlc2goKTtlbHNlIGlmKCF0aGlzLl9hZGRpdGlvbmFsUmVmcmVzaFJlcXVlc3RlZCl7dmFyIG89bi10aGlzLl9sYXN0UmVmcmVzaE1zLHM9dGhpcy5fZGVib3VuY2VUaHJlc2hvbGRNUy1vO3RoaXMuX2FkZGl0aW9uYWxSZWZyZXNoUmVxdWVzdGVkPSEwLHRoaXMuX3JlZnJlc2hUaW1lb3V0SUQ9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5fbGFzdFJlZnJlc2hNcz1EYXRlLm5vdygpLGkuX2lubmVyUmVmcmVzaCgpLGkuX2FkZGl0aW9uYWxSZWZyZXNoUmVxdWVzdGVkPSExLGkuX3JlZnJlc2hUaW1lb3V0SUQ9dm9pZCAwfSkscyl9fSxlLnByb3RvdHlwZS5faW5uZXJSZWZyZXNoPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fcm93U3RhcnQmJnZvaWQgMCE9PXRoaXMuX3Jvd0VuZCYmdm9pZCAwIT09dGhpcy5fcm93Q291bnQpe3ZhciBlPU1hdGgubWF4KHRoaXMuX3Jvd1N0YXJ0LDApLHQ9TWF0aC5taW4odGhpcy5fcm93RW5kLHRoaXMuX3Jvd0NvdW50LTEpO3RoaXMuX3Jvd1N0YXJ0PXZvaWQgMCx0aGlzLl9yb3dFbmQ9dm9pZCAwLHRoaXMuX3JlbmRlckNhbGxiYWNrKGUsdCl9fSxlfSgpO3QuVGltZUJhc2VkRGVib3VuY2VyPXJ9LDE2ODA6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVmlld3BvcnQ9dm9pZCAwO3ZhciBhPXIoODQ0KSxjPXIoMzY1NiksbD1yKDQ3MjUpLGg9cigyNTg1KSx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLHMsYSxsKXt2YXIgaD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGguX3Njcm9sbExpbmVzPXQsaC5fdmlld3BvcnRFbGVtZW50PXIsaC5fc2Nyb2xsQXJlYT1pLGguX2VsZW1lbnQ9bixoLl9idWZmZXJTZXJ2aWNlPW8saC5fb3B0aW9uc1NlcnZpY2U9cyxoLl9jaGFyU2l6ZVNlcnZpY2U9YSxoLl9yZW5kZXJTZXJ2aWNlPWwsaC5zY3JvbGxCYXJXaWR0aD0wLGguX2N1cnJlbnRSb3dIZWlnaHQ9MCxoLl9jdXJyZW50U2NhbGVkQ2VsbEhlaWdodD0wLGguX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aD0wLGguX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0PTAsaC5fbGFzdFJlY29yZGVkQnVmZmVySGVpZ2h0PTAsaC5fbGFzdFRvdWNoWT0wLGguX2xhc3RTY3JvbGxUb3A9MCxoLl93aGVlbFBhcnRpYWxTY3JvbGw9MCxoLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWU9bnVsbCxoLl9pZ25vcmVOZXh0U2Nyb2xsRXZlbnQ9ITEsaC5zY3JvbGxCYXJXaWR0aD1oLl92aWV3cG9ydEVsZW1lbnQub2Zmc2V0V2lkdGgtaC5fc2Nyb2xsQXJlYS5vZmZzZXRXaWR0aHx8MTUsaC5yZWdpc3RlcigoMCxjLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikoaC5fdmlld3BvcnRFbGVtZW50LFwic2Nyb2xsXCIsaC5fb25TY3JvbGwuYmluZChoKSkpLGguX2FjdGl2ZUJ1ZmZlcj1oLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcixoLnJlZ2lzdGVyKGguX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5vbkJ1ZmZlckFjdGl2YXRlKChmdW5jdGlvbihlKXtyZXR1cm4gaC5fYWN0aXZlQnVmZmVyPWUuYWN0aXZlQnVmZmVyfSkpKSxoLl9yZW5kZXJEaW1lbnNpb25zPWguX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucyxoLnJlZ2lzdGVyKGguX3JlbmRlclNlcnZpY2Uub25EaW1lbnNpb25zQ2hhbmdlKChmdW5jdGlvbihlKXtyZXR1cm4gaC5fcmVuZGVyRGltZW5zaW9ucz1lfSkpKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBoLnN5bmNTY3JvbGxBcmVhKCl9KSwwKSxofXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUub25UaGVtZUNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLl92aWV3cG9ydEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUuYmFja2dyb3VuZC5jc3N9LHQucHJvdG90eXBlLl9yZWZyZXNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZSlyZXR1cm4gdGhpcy5faW5uZXJSZWZyZXNoKCksdm9pZChudWxsIT09dGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWUpKTtudWxsPT09dGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lJiYodGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lPXJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5faW5uZXJSZWZyZXNoKCl9KSkpfSx0LnByb3RvdHlwZS5faW5uZXJSZWZyZXNoPWZ1bmN0aW9uKCl7aWYodGhpcy5fY2hhclNpemVTZXJ2aWNlLmhlaWdodD4wKXt0aGlzLl9jdXJyZW50Um93SGVpZ2h0PXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5zY2FsZWRDZWxsSGVpZ2h0L3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuX2N1cnJlbnRTY2FsZWRDZWxsSGVpZ2h0PXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5zY2FsZWRDZWxsSGVpZ2h0LHRoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0PXRoaXMuX3ZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHQ7dmFyIGU9TWF0aC5yb3VuZCh0aGlzLl9jdXJyZW50Um93SGVpZ2h0KnRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aCkrKHRoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0LXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQpO3RoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckhlaWdodCE9PWUmJih0aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJIZWlnaHQ9ZSx0aGlzLl9zY3JvbGxBcmVhLnN0eWxlLmhlaWdodD10aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJIZWlnaHQrXCJweFwiKX12YXIgdD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCp0aGlzLl9jdXJyZW50Um93SGVpZ2h0O3RoaXMuX3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3AhPT10JiYodGhpcy5faWdub3JlTmV4dFNjcm9sbEV2ZW50PSEwLHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A9dCksdGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lPW51bGx9LHQucHJvdG90eXBlLnN5bmNTY3JvbGxBcmVhPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSx0aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJMZW5ndGghPT10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5sZW5ndGgpcmV0dXJuIHRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5sZW5ndGgsdm9pZCB0aGlzLl9yZWZyZXNoKGUpO3RoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0PT09dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmNhbnZhc0hlaWdodCYmdGhpcy5fbGFzdFNjcm9sbFRvcD09PXRoaXMuX2FjdGl2ZUJ1ZmZlci55ZGlzcCp0aGlzLl9jdXJyZW50Um93SGVpZ2h0JiZ0aGlzLl9yZW5kZXJEaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQ9PT10aGlzLl9jdXJyZW50U2NhbGVkQ2VsbEhlaWdodHx8dGhpcy5fcmVmcmVzaChlKX0sdC5wcm90b3R5cGUuX29uU2Nyb2xsPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xhc3RTY3JvbGxUb3A9dGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCx0aGlzLl92aWV3cG9ydEVsZW1lbnQub2Zmc2V0UGFyZW50KXtpZih0aGlzLl9pZ25vcmVOZXh0U2Nyb2xsRXZlbnQpcmV0dXJuIHRoaXMuX2lnbm9yZU5leHRTY3JvbGxFdmVudD0hMSx2b2lkIHRoaXMuX3Njcm9sbExpbmVzKDApO3ZhciB0PU1hdGgucm91bmQodGhpcy5fbGFzdFNjcm9sbFRvcC90aGlzLl9jdXJyZW50Um93SGVpZ2h0KS10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcDt0aGlzLl9zY3JvbGxMaW5lcyh0KX19LHQucHJvdG90eXBlLl9idWJibGVTY3JvbGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl92aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wK3RoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0O3JldHVybiEodDwwJiYwIT09dGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcHx8dD4wJiZyPHRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckhlaWdodCl8fChlLmNhbmNlbGFibGUmJmUucHJldmVudERlZmF1bHQoKSwhMSl9LHQucHJvdG90eXBlLm9uV2hlZWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0UGl4ZWxzU2Nyb2xsZWQoZSk7cmV0dXJuIDAhPT10JiYodGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCs9dCx0aGlzLl9idWJibGVTY3JvbGwoZSx0KSl9LHQucHJvdG90eXBlLl9nZXRQaXhlbHNTY3JvbGxlZD1mdW5jdGlvbihlKXtpZigwPT09ZS5kZWx0YVl8fGUuc2hpZnRLZXkpcmV0dXJuIDA7dmFyIHQ9dGhpcy5fYXBwbHlTY3JvbGxNb2RpZmllcihlLmRlbHRhWSxlKTtyZXR1cm4gZS5kZWx0YU1vZGU9PT1XaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FP3QqPXRoaXMuX2N1cnJlbnRSb3dIZWlnaHQ6ZS5kZWx0YU1vZGU9PT1XaGVlbEV2ZW50LkRPTV9ERUxUQV9QQUdFJiYodCo9dGhpcy5fY3VycmVudFJvd0hlaWdodCp0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpLHR9LHQucHJvdG90eXBlLmdldExpbmVzU2Nyb2xsZWQ9ZnVuY3Rpb24oZSl7aWYoMD09PWUuZGVsdGFZfHxlLnNoaWZ0S2V5KXJldHVybiAwO3ZhciB0PXRoaXMuX2FwcGx5U2Nyb2xsTW9kaWZpZXIoZS5kZWx0YVksZSk7cmV0dXJuIGUuZGVsdGFNb2RlPT09V2hlZWxFdmVudC5ET01fREVMVEFfUElYRUw/KHQvPXRoaXMuX2N1cnJlbnRSb3dIZWlnaHQrMCx0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwrPXQsdD1NYXRoLmZsb29yKE1hdGguYWJzKHRoaXMuX3doZWVsUGFydGlhbFNjcm9sbCkpKih0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGw+MD8xOi0xKSx0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwlPTEpOmUuZGVsdGFNb2RlPT09V2hlZWxFdmVudC5ET01fREVMVEFfUEFHRSYmKHQqPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyksdH0sdC5wcm90b3R5cGUuX2FwcGx5U2Nyb2xsTW9kaWZpZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZhc3RTY3JvbGxNb2RpZmllcjtyZXR1cm5cImFsdFwiPT09ciYmdC5hbHRLZXl8fFwiY3RybFwiPT09ciYmdC5jdHJsS2V5fHxcInNoaWZ0XCI9PT1yJiZ0LnNoaWZ0S2V5P2UqdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mYXN0U2Nyb2xsU2Vuc2l0aXZpdHkqdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5zY3JvbGxTZW5zaXRpdml0eTplKnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHl9LHQucHJvdG90eXBlLm9uVG91Y2hTdGFydD1mdW5jdGlvbihlKXt0aGlzLl9sYXN0VG91Y2hZPWUudG91Y2hlc1swXS5wYWdlWX0sdC5wcm90b3R5cGUub25Ub3VjaE1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGFzdFRvdWNoWS1lLnRvdWNoZXNbMF0ucGFnZVk7cmV0dXJuIHRoaXMuX2xhc3RUb3VjaFk9ZS50b3VjaGVzWzBdLnBhZ2VZLDAhPT10JiYodGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCs9dCx0aGlzLl9idWJibGVTY3JvbGwoZSx0KSl9LG8oW3MoNCxoLklCdWZmZXJTZXJ2aWNlKSxzKDUsaC5JT3B0aW9uc1NlcnZpY2UpLHMoNixsLklDaGFyU2l6ZVNlcnZpY2UpLHMoNyxsLklSZW5kZXJTZXJ2aWNlKV0sdCl9KGEuRGlzcG9zYWJsZSk7dC5WaWV3cG9ydD11fSwzMTA3OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fSxhPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQnVmZmVyRGVjb3JhdGlvblJlbmRlcmVyPXZvaWQgMDt2YXIgYz1yKDM2NTYpLGw9cig0NzI1KSxoPXIoODQ0KSx1PXIoMjU4NSksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4pe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5fc2NyZWVuRWxlbWVudD10LG8uX2J1ZmZlclNlcnZpY2U9cixvLl9kZWNvcmF0aW9uU2VydmljZT1pLG8uX3JlbmRlclNlcnZpY2U9bixvLl9kZWNvcmF0aW9uRWxlbWVudHM9bmV3IE1hcCxvLl9hbHRCdWZmZXJJc0FjdGl2ZT0hMSxvLl9kaW1lbnNpb25zQ2hhbmdlZD0hMSxvLl9jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcInh0ZXJtLWRlY29yYXRpb24tY29udGFpbmVyXCIpLG8uX3NjcmVlbkVsZW1lbnQuYXBwZW5kQ2hpbGQoby5fY29udGFpbmVyKSxvLnJlZ2lzdGVyKG8uX3JlbmRlclNlcnZpY2Uub25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlKChmdW5jdGlvbigpe3JldHVybiBvLl9xdWV1ZVJlZnJlc2goKX0pKSksby5yZWdpc3RlcihvLl9yZW5kZXJTZXJ2aWNlLm9uRGltZW5zaW9uc0NoYW5nZSgoZnVuY3Rpb24oKXtvLl9kaW1lbnNpb25zQ2hhbmdlZD0hMCxvLl9xdWV1ZVJlZnJlc2goKX0pKSksby5yZWdpc3RlcigoMCxjLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikod2luZG93LFwicmVzaXplXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX3F1ZXVlUmVmcmVzaCgpfSkpKSxvLnJlZ2lzdGVyKG8uX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5vbkJ1ZmZlckFjdGl2YXRlKChmdW5jdGlvbigpe28uX2FsdEJ1ZmZlcklzQWN0aXZlPW8uX2J1ZmZlclNlcnZpY2UuYnVmZmVyPT09by5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFsdH0pKSksby5yZWdpc3RlcihvLl9kZWNvcmF0aW9uU2VydmljZS5vbkRlY29yYXRpb25SZWdpc3RlcmVkKChmdW5jdGlvbigpe3JldHVybiBvLl9xdWV1ZVJlZnJlc2goKX0pKSksby5yZWdpc3RlcihvLl9kZWNvcmF0aW9uU2VydmljZS5vbkRlY29yYXRpb25SZW1vdmVkKChmdW5jdGlvbihlKXtyZXR1cm4gby5fcmVtb3ZlRGVjb3JhdGlvbihlKX0pKSksb31yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLmNsZWFyKCksZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5fcXVldWVSZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt2b2lkIDA9PT10aGlzLl9hbmltYXRpb25GcmFtZSYmKHRoaXMuX2FuaW1hdGlvbkZyYW1lPXRoaXMuX3JlbmRlclNlcnZpY2UuYWRkUmVmcmVzaENhbGxiYWNrKChmdW5jdGlvbigpe2UucmVmcmVzaERlY29yYXRpb25zKCksZS5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpKX0sdC5wcm90b3R5cGUucmVmcmVzaERlY29yYXRpb25zPWZ1bmN0aW9uKCl7dmFyIGUsdDt0cnl7Zm9yKHZhciByPWEodGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZGVjb3JhdGlvbnMpLGk9ci5uZXh0KCk7IWkuZG9uZTtpPXIubmV4dCgpKXt2YXIgbj1pLnZhbHVlO3RoaXMuX3JlbmRlckRlY29yYXRpb24obil9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLl9kaW1lbnNpb25zQ2hhbmdlZD0hMX0sdC5wcm90b3R5cGUuX3JlbmRlckRlY29yYXRpb249ZnVuY3Rpb24oZSl7dGhpcy5fcmVmcmVzaFN0eWxlKGUpLHRoaXMuX2RpbWVuc2lvbnNDaGFuZ2VkJiZ0aGlzLl9yZWZyZXNoWFBvc2l0aW9uKGUpfSx0LnByb3RvdHlwZS5fY3JlYXRlRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgdCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc0xpc3QuYWRkKFwieHRlcm0tZGVjb3JhdGlvblwiKSxyLnN0eWxlLndpZHRoPU1hdGgucm91bmQoKGUub3B0aW9ucy53aWR0aHx8MSkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCkrXCJweFwiLHIuc3R5bGUuaGVpZ2h0PShlLm9wdGlvbnMuaGVpZ2h0fHwxKSp0aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCtcInB4XCIsci5zdHlsZS50b3A9KGUubWFya2VyLmxpbmUtdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2ZS55ZGlzcCkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQrXCJweFwiLHIuc3R5bGUubGluZUhlaWdodD10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCtcInB4XCI7dmFyIGk9bnVsbCE9PSh0PWUub3B0aW9ucy54KSYmdm9pZCAwIT09dD90OjA7cmV0dXJuIGkmJmk+dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzJiYoci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSx0aGlzLl9yZWZyZXNoWFBvc2l0aW9uKGUscikscn0sdC5wcm90b3R5cGUuX3JlZnJlc2hTdHlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5tYXJrZXIubGluZS10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLnlkaXNwO2lmKHI8MHx8cj49dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKWUuZWxlbWVudCYmKGUuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUub25SZW5kZXJFbWl0dGVyLmZpcmUoZS5lbGVtZW50KSk7ZWxzZXt2YXIgaT10aGlzLl9kZWNvcmF0aW9uRWxlbWVudHMuZ2V0KGUpO2l8fChlLm9uRGlzcG9zZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVtb3ZlRGVjb3JhdGlvbihlKX0pKSxpPXRoaXMuX2NyZWF0ZUVsZW1lbnQoZSksZS5lbGVtZW50PWksdGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLnNldChlLGkpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChpKSksaS5zdHlsZS50b3A9cip0aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCtcInB4XCIsaS5zdHlsZS5kaXNwbGF5PXRoaXMuX2FsdEJ1ZmZlcklzQWN0aXZlP1wibm9uZVwiOlwiYmxvY2tcIixlLm9uUmVuZGVyRW1pdHRlci5maXJlKGkpfX0sdC5wcm90b3R5cGUuX3JlZnJlc2hYUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZih2b2lkIDA9PT10JiYodD1lLmVsZW1lbnQpLHQpe3ZhciBpPW51bGwhPT0ocj1lLm9wdGlvbnMueCkmJnZvaWQgMCE9PXI/cjowO1wicmlnaHRcIj09PShlLm9wdGlvbnMuYW5jaG9yfHxcImxlZnRcIik/dC5zdHlsZS5yaWdodD1pP2kqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCtcInB4XCI6XCJcIjp0LnN0eWxlLmxlZnQ9aT9pKnRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgrXCJweFwiOlwiXCJ9fSx0LnByb3RvdHlwZS5fcmVtb3ZlRGVjb3JhdGlvbj1mdW5jdGlvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLmdldChlKSl8fHZvaWQgMD09PXR8fHQucmVtb3ZlKCksdGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLmRlbGV0ZShlKX0sbyhbcygxLHUuSUJ1ZmZlclNlcnZpY2UpLHMoMix1LklEZWNvcmF0aW9uU2VydmljZSkscygzLGwuSVJlbmRlclNlcnZpY2UpXSx0KX0oaC5EaXNwb3NhYmxlKTt0LkJ1ZmZlckRlY29yYXRpb25SZW5kZXJlcj1mfSw1ODcxOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db2xvclpvbmVTdG9yZT12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fem9uZXM9W10sdGhpcy5fem9uZVBvb2w9W10sdGhpcy5fem9uZVBvb2xJbmRleD0wLHRoaXMuX2xpbmVQYWRkaW5nPXtmdWxsOjAsbGVmdDowLGNlbnRlcjowLHJpZ2h0OjB9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ6b25lc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9uZVBvb2wubGVuZ3RoPU1hdGgubWluKHRoaXMuX3pvbmVQb29sLmxlbmd0aCx0aGlzLl96b25lcy5sZW5ndGgpLHRoaXMuX3pvbmVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fem9uZXMubGVuZ3RoPTAsdGhpcy5fem9uZVBvb2xJbmRleD0wfSxlLnByb3RvdHlwZS5hZGREZWNvcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LGk7aWYoZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJPcHRpb25zKXt0cnl7Zm9yKHZhciBuPXIodGhpcy5fem9uZXMpLG89bi5uZXh0KCk7IW8uZG9uZTtvPW4ubmV4dCgpKXt2YXIgcz1vLnZhbHVlO2lmKHMuY29sb3I9PT1lLm9wdGlvbnMub3ZlcnZpZXdSdWxlck9wdGlvbnMuY29sb3ImJnMucG9zaXRpb249PT1lLm9wdGlvbnMub3ZlcnZpZXdSdWxlck9wdGlvbnMucG9zaXRpb24pe2lmKHRoaXMuX2xpbmVJbnRlcnNlY3RzWm9uZShzLGUubWFya2VyLmxpbmUpKXJldHVybjtpZih0aGlzLl9saW5lQWRqYWNlbnRUb1pvbmUocyxlLm1hcmtlci5saW5lLGUub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbikpcmV0dXJuIHZvaWQgdGhpcy5fYWRkTGluZVRvWm9uZShzLGUubWFya2VyLmxpbmUpfX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKGk9bi5yZXR1cm4pJiZpLmNhbGwobil9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWlmKHRoaXMuX3pvbmVQb29sSW5kZXg8dGhpcy5fem9uZVBvb2wubGVuZ3RoKXJldHVybiB0aGlzLl96b25lUG9vbFt0aGlzLl96b25lUG9vbEluZGV4XS5jb2xvcj1lLm9wdGlvbnMub3ZlcnZpZXdSdWxlck9wdGlvbnMuY29sb3IsdGhpcy5fem9uZVBvb2xbdGhpcy5fem9uZVBvb2xJbmRleF0ucG9zaXRpb249ZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJPcHRpb25zLnBvc2l0aW9uLHRoaXMuX3pvbmVQb29sW3RoaXMuX3pvbmVQb29sSW5kZXhdLnN0YXJ0QnVmZmVyTGluZT1lLm1hcmtlci5saW5lLHRoaXMuX3pvbmVQb29sW3RoaXMuX3pvbmVQb29sSW5kZXhdLmVuZEJ1ZmZlckxpbmU9ZS5tYXJrZXIubGluZSx2b2lkIHRoaXMuX3pvbmVzLnB1c2godGhpcy5fem9uZVBvb2xbdGhpcy5fem9uZVBvb2xJbmRleCsrXSk7dGhpcy5fem9uZXMucHVzaCh7Y29sb3I6ZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJPcHRpb25zLmNvbG9yLHBvc2l0aW9uOmUub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbixzdGFydEJ1ZmZlckxpbmU6ZS5tYXJrZXIubGluZSxlbmRCdWZmZXJMaW5lOmUubWFya2VyLmxpbmV9KSx0aGlzLl96b25lUG9vbC5wdXNoKHRoaXMuX3pvbmVzW3RoaXMuX3pvbmVzLmxlbmd0aC0xXSksdGhpcy5fem9uZVBvb2xJbmRleCsrfX0sZS5wcm90b3R5cGUuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLl9saW5lUGFkZGluZz1lfSxlLnByb3RvdHlwZS5fbGluZUludGVyc2VjdHNab25lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ+PWUuc3RhcnRCdWZmZXJMaW5lJiZ0PD1lLmVuZEJ1ZmZlckxpbmV9LGUucHJvdG90eXBlLl9saW5lQWRqYWNlbnRUb1pvbmU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0Pj1lLnN0YXJ0QnVmZmVyTGluZS10aGlzLl9saW5lUGFkZGluZ1tyfHxcImZ1bGxcIl0mJnQ8PWUuZW5kQnVmZmVyTGluZSt0aGlzLl9saW5lUGFkZGluZ1tyfHxcImZ1bGxcIl19LGUucHJvdG90eXBlLl9hZGRMaW5lVG9ab25lPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydEJ1ZmZlckxpbmU9TWF0aC5taW4oZS5zdGFydEJ1ZmZlckxpbmUsdCksZS5lbmRCdWZmZXJMaW5lPU1hdGgubWF4KGUuZW5kQnVmZmVyTGluZSx0KX0sZX0oKTt0LkNvbG9yWm9uZVN0b3JlPWl9LDU3NDQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19LGE9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5PdmVydmlld1J1bGVyUmVuZGVyZXI9dm9pZCAwO3ZhciBjPXIoNTg3MSksbD1yKDM2NTYpLGg9cig0NzI1KSx1PXIoODQ0KSxmPXIoMjU4NSksXz17ZnVsbDowLGxlZnQ6MCxjZW50ZXI6MCxyaWdodDowfSxkPXtmdWxsOjAsbGVmdDowLGNlbnRlcjowLHJpZ2h0OjB9LHA9e2Z1bGw6MCxsZWZ0OjAsY2VudGVyOjAscmlnaHQ6MH0sdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzKXt2YXIgYSxsPWUuY2FsbCh0aGlzKXx8dGhpcztsLl92aWV3cG9ydEVsZW1lbnQ9dCxsLl9zY3JlZW5FbGVtZW50PXIsbC5fYnVmZmVyU2VydmljZT1pLGwuX2RlY29yYXRpb25TZXJ2aWNlPW4sbC5fcmVuZGVyU2VydmljZT1vLGwuX29wdGlvbnNTZXJ2aWNlPXMsbC5fY29sb3Jab25lU3RvcmU9bmV3IGMuQ29sb3Jab25lU3RvcmUsbC5fc2hvdWxkVXBkYXRlRGltZW5zaW9ucz0hMCxsLl9zaG91bGRVcGRhdGVBbmNob3I9ITAsbC5fbGFzdEtub3duQnVmZmVyTGVuZ3RoPTAsbC5fY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksbC5fY2FudmFzLmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1kZWNvcmF0aW9uLW92ZXJ2aWV3LXJ1bGVyXCIpLGwuX3JlZnJlc2hDYW52YXNEaW1lbnNpb25zKCksbnVsbD09PShhPWwuX3ZpZXdwb3J0RWxlbWVudC5wYXJlbnRFbGVtZW50KXx8dm9pZCAwPT09YXx8YS5pbnNlcnRCZWZvcmUobC5fY2FudmFzLGwuX3ZpZXdwb3J0RWxlbWVudCk7dmFyIGg9bC5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtpZighaCl0aHJvdyBuZXcgRXJyb3IoXCJDdHggY2Fubm90IGJlIG51bGxcIik7cmV0dXJuIGwuX2N0eD1oLGwuX3JlZ2lzdGVyRGVjb3JhdGlvbkxpc3RlbmVycygpLGwuX3JlZ2lzdGVyQnVmZmVyQ2hhbmdlTGlzdGVuZXJzKCksbC5fcmVnaXN0ZXJEaW1lbnNpb25DaGFuZ2VMaXN0ZW5lcnMoKSxsfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiX3dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcHRpb25zU2VydmljZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJXaWR0aHx8MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fcmVnaXN0ZXJEZWNvcmF0aW9uTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLm9uRGVjb3JhdGlvblJlZ2lzdGVyZWQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3F1ZXVlUmVmcmVzaCh2b2lkIDAsITApfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLm9uRGVjb3JhdGlvblJlbW92ZWQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3F1ZXVlUmVmcmVzaCh2b2lkIDAsITApfSkpKX0sdC5wcm90b3R5cGUuX3JlZ2lzdGVyQnVmZmVyQ2hhbmdlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlKChmdW5jdGlvbigpe3JldHVybiBlLl9xdWV1ZVJlZnJlc2goKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMub25CdWZmZXJBY3RpdmF0ZSgoZnVuY3Rpb24oKXtlLl9jYW52YXMuc3R5bGUuZGlzcGxheT1lLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcj09PWUuX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5hbHQ/XCJub25lXCI6XCJibG9ja1wifSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX2J1ZmZlclNlcnZpY2Uub25TY3JvbGwoKGZ1bmN0aW9uKCl7ZS5fbGFzdEtub3duQnVmZmVyTGVuZ3RoIT09ZS5fYnVmZmVyU2VydmljZS5idWZmZXJzLm5vcm1hbC5saW5lcy5sZW5ndGgmJihlLl9yZWZyZXNoRHJhd0hlaWdodENvbnN0YW50cygpLGUuX3JlZnJlc2hDb2xvclpvbmVQYWRkaW5nKCkpfSkpKX0sdC5wcm90b3R5cGUuX3JlZ2lzdGVyRGltZW5zaW9uQ2hhbmdlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZW5kZXIoKGZ1bmN0aW9uKCl7ZS5fY29udGFpbmVySGVpZ2h0JiZlLl9jb250YWluZXJIZWlnaHQ9PT1lLl9zY3JlZW5FbGVtZW50LmNsaWVudEhlaWdodHx8KGUuX3F1ZXVlUmVmcmVzaCghMCksZS5fY29udGFpbmVySGVpZ2h0PWUuX3NjcmVlbkVsZW1lbnQuY2xpZW50SGVpZ2h0KX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9vcHRpb25zU2VydmljZS5vbk9wdGlvbkNoYW5nZSgoZnVuY3Rpb24odCl7XCJvdmVydmlld1J1bGVyV2lkdGhcIj09PXQmJmUuX3F1ZXVlUmVmcmVzaCghMCl9KSkpLHRoaXMucmVnaXN0ZXIoKDAsbC5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe2UuX3F1ZXVlUmVmcmVzaCghMCl9KSkpLHRoaXMuX3F1ZXVlUmVmcmVzaCghMCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fY2FudmFzKXx8dm9pZCAwPT09dHx8dC5yZW1vdmUoKSxlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9yZWZyZXNoRHJhd0NvbnN0YW50cz1mdW5jdGlvbigpe3ZhciBlPU1hdGguZmxvb3IodGhpcy5fY2FudmFzLndpZHRoLzMpLHQ9TWF0aC5jZWlsKHRoaXMuX2NhbnZhcy53aWR0aC8zKTtkLmZ1bGw9dGhpcy5fY2FudmFzLndpZHRoLGQubGVmdD1lLGQuY2VudGVyPXQsZC5yaWdodD1lLHRoaXMuX3JlZnJlc2hEcmF3SGVpZ2h0Q29uc3RhbnRzKCkscC5mdWxsPTAscC5sZWZ0PTAscC5jZW50ZXI9ZC5sZWZ0LHAucmlnaHQ9ZC5sZWZ0K2QuY2VudGVyfSx0LnByb3RvdHlwZS5fcmVmcmVzaERyYXdIZWlnaHRDb25zdGFudHM9ZnVuY3Rpb24oKXtfLmZ1bGw9TWF0aC5yb3VuZCgyKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTt2YXIgZT10aGlzLl9jYW52YXMuaGVpZ2h0L3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLmxpbmVzLmxlbmd0aCx0PU1hdGgucm91bmQoTWF0aC5tYXgoTWF0aC5taW4oZSwxMiksNikqd2luZG93LmRldmljZVBpeGVsUmF0aW8pO18ubGVmdD10LF8uY2VudGVyPXQsXy5yaWdodD10fSx0LnByb3RvdHlwZS5fcmVmcmVzaENvbG9yWm9uZVBhZGRpbmc9ZnVuY3Rpb24oKXt0aGlzLl9jb2xvclpvbmVTdG9yZS5zZXRQYWRkaW5nKHtmdWxsOk1hdGguZmxvb3IodGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2ZS5saW5lcy5sZW5ndGgvKHRoaXMuX2NhbnZhcy5oZWlnaHQtMSkqXy5mdWxsKSxsZWZ0Ok1hdGguZmxvb3IodGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2ZS5saW5lcy5sZW5ndGgvKHRoaXMuX2NhbnZhcy5oZWlnaHQtMSkqXy5sZWZ0KSxjZW50ZXI6TWF0aC5mbG9vcih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLmxpbmVzLmxlbmd0aC8odGhpcy5fY2FudmFzLmhlaWdodC0xKSpfLmNlbnRlcikscmlnaHQ6TWF0aC5mbG9vcih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLmxpbmVzLmxlbmd0aC8odGhpcy5fY2FudmFzLmhlaWdodC0xKSpfLnJpZ2h0KX0pLHRoaXMuX2xhc3RLbm93bkJ1ZmZlckxlbmd0aD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMubm9ybWFsLmxpbmVzLmxlbmd0aH0sdC5wcm90b3R5cGUuX3JlZnJlc2hDYW52YXNEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dGhpcy5fY2FudmFzLnN0eWxlLndpZHRoPXRoaXMuX3dpZHRoK1wicHhcIix0aGlzLl9jYW52YXMud2lkdGg9TWF0aC5yb3VuZCh0aGlzLl93aWR0aCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD10aGlzLl9zY3JlZW5FbGVtZW50LmNsaWVudEhlaWdodCtcInB4XCIsdGhpcy5fY2FudmFzLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuX3NjcmVlbkVsZW1lbnQuY2xpZW50SGVpZ2h0KndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLl9yZWZyZXNoRHJhd0NvbnN0YW50cygpLHRoaXMuX3JlZnJlc2hDb2xvclpvbmVQYWRkaW5nKCl9LHQucHJvdG90eXBlLl9yZWZyZXNoRGVjb3JhdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxuLG87dGhpcy5fc2hvdWxkVXBkYXRlRGltZW5zaW9ucyYmdGhpcy5fcmVmcmVzaENhbnZhc0RpbWVuc2lvbnMoKSx0aGlzLl9jdHguY2xlYXJSZWN0KDAsMCx0aGlzLl9jYW52YXMud2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodCksdGhpcy5fY29sb3Jab25lU3RvcmUuY2xlYXIoKTt0cnl7Zm9yKHZhciBzPWEodGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZGVjb3JhdGlvbnMpLGM9cy5uZXh0KCk7IWMuZG9uZTtjPXMubmV4dCgpKXt2YXIgbD1jLnZhbHVlO3RoaXMuX2NvbG9yWm9uZVN0b3JlLmFkZERlY29yYXRpb24obCl9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2MmJiFjLmRvbmUmJih0PXMucmV0dXJuKSYmdC5jYWxsKHMpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLl9jdHgubGluZVdpZHRoPTE7dmFyIGg9dGhpcy5fY29sb3Jab25lU3RvcmUuem9uZXM7dHJ5e2Zvcih2YXIgdT1hKGgpLGY9dS5uZXh0KCk7IWYuZG9uZTtmPXUubmV4dCgpKVwiZnVsbFwiIT09KHA9Zi52YWx1ZSkucG9zaXRpb24mJnRoaXMuX3JlbmRlckNvbG9yWm9uZShwKX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtmJiYhZi5kb25lJiYoaT11LnJldHVybikmJmkuY2FsbCh1KX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dHJ5e2Zvcih2YXIgXz1hKGgpLGQ9Xy5uZXh0KCk7IWQuZG9uZTtkPV8ubmV4dCgpKXt2YXIgcDtcImZ1bGxcIj09PShwPWQudmFsdWUpLnBvc2l0aW9uJiZ0aGlzLl9yZW5kZXJDb2xvclpvbmUocCl9fWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2QmJiFkLmRvbmUmJihvPV8ucmV0dXJuKSYmby5jYWxsKF8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX10aGlzLl9zaG91bGRVcGRhdGVEaW1lbnNpb25zPSExLHRoaXMuX3Nob3VsZFVwZGF0ZUFuY2hvcj0hMX0sdC5wcm90b3R5cGUuX3JlbmRlckNvbG9yWm9uZT1mdW5jdGlvbihlKXt0aGlzLl9jdHguZmlsbFN0eWxlPWUuY29sb3IsdGhpcy5fY3R4LmZpbGxSZWN0KHBbZS5wb3NpdGlvbnx8XCJmdWxsXCJdLE1hdGgucm91bmQoKHRoaXMuX2NhbnZhcy5oZWlnaHQtMSkqKGUuc3RhcnRCdWZmZXJMaW5lL3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5hY3RpdmUubGluZXMubGVuZ3RoKS1fW2UucG9zaXRpb258fFwiZnVsbFwiXS8yKSxkW2UucG9zaXRpb258fFwiZnVsbFwiXSxNYXRoLnJvdW5kKCh0aGlzLl9jYW52YXMuaGVpZ2h0LTEpKigoZS5lbmRCdWZmZXJMaW5lLWUuc3RhcnRCdWZmZXJMaW5lKS90aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLmxpbmVzLmxlbmd0aCkrX1tlLnBvc2l0aW9ufHxcImZ1bGxcIl0pKX0sdC5wcm90b3R5cGUuX3F1ZXVlUmVmcmVzaD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5fc2hvdWxkVXBkYXRlRGltZW5zaW9ucz1lfHx0aGlzLl9zaG91bGRVcGRhdGVEaW1lbnNpb25zLHRoaXMuX3Nob3VsZFVwZGF0ZUFuY2hvcj10fHx0aGlzLl9zaG91bGRVcGRhdGVBbmNob3Isdm9pZCAwPT09dGhpcy5fYW5pbWF0aW9uRnJhbWUmJih0aGlzLl9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3IuX3JlZnJlc2hEZWNvcmF0aW9ucygpLHIuX2FuaW1hdGlvbkZyYW1lPXZvaWQgMH0pKSl9LG8oW3MoMixmLklCdWZmZXJTZXJ2aWNlKSxzKDMsZi5JRGVjb3JhdGlvblNlcnZpY2UpLHMoNCxoLklSZW5kZXJTZXJ2aWNlKSxzKDUsZi5JT3B0aW9uc1NlcnZpY2UpXSx0KX0odS5EaXNwb3NhYmxlKTt0Lk92ZXJ2aWV3UnVsZXJSZW5kZXJlcj12fSwyOTUwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxuPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ29tcG9zaXRpb25IZWxwZXI9dm9pZCAwO3ZhciBvPXIoNDcyNSkscz1yKDI1ODUpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvKXt0aGlzLl90ZXh0YXJlYT1lLHRoaXMuX2NvbXBvc2l0aW9uVmlldz10LHRoaXMuX2J1ZmZlclNlcnZpY2U9cix0aGlzLl9vcHRpb25zU2VydmljZT1pLHRoaXMuX2NvcmVTZXJ2aWNlPW4sdGhpcy5fcmVuZGVyU2VydmljZT1vLHRoaXMuX2lzQ29tcG9zaW5nPSExLHRoaXMuX2lzU2VuZGluZ0NvbXBvc2l0aW9uPSExLHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb249e3N0YXJ0OjAsZW5kOjB9LHRoaXMuX2RhdGFBbHJlYWR5U2VudD1cIlwifXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0NvbXBvc2luZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb21wb3Npbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY29tcG9zaXRpb25zdGFydD1mdW5jdGlvbigpe3RoaXMuX2lzQ29tcG9zaW5nPSEwLHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uc3RhcnQ9dGhpcy5fdGV4dGFyZWEudmFsdWUubGVuZ3RoLHRoaXMuX2NvbXBvc2l0aW9uVmlldy50ZXh0Q29udGVudD1cIlwiLHRoaXMuX2RhdGFBbHJlYWR5U2VudD1cIlwiLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpfSxlLnByb3RvdHlwZS5jb21wb3NpdGlvbnVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2NvbXBvc2l0aW9uVmlldy50ZXh0Q29udGVudD1lLmRhdGEsdGhpcy51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9jb21wb3NpdGlvblBvc2l0aW9uLmVuZD10Ll90ZXh0YXJlYS52YWx1ZS5sZW5ndGh9KSwwKX0sZS5wcm90b3R5cGUuY29tcG9zaXRpb25lbmQ9ZnVuY3Rpb24oKXt0aGlzLl9maW5hbGl6ZUNvbXBvc2l0aW9uKCEwKX0sZS5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihlKXtpZih0aGlzLl9pc0NvbXBvc2luZ3x8dGhpcy5faXNTZW5kaW5nQ29tcG9zaXRpb24pe2lmKDIyOT09PWUua2V5Q29kZSlyZXR1cm4hMTtpZigxNj09PWUua2V5Q29kZXx8MTc9PT1lLmtleUNvZGV8fDE4PT09ZS5rZXlDb2RlKXJldHVybiExO3RoaXMuX2ZpbmFsaXplQ29tcG9zaXRpb24oITEpfXJldHVybiAyMjkhPT1lLmtleUNvZGV8fCh0aGlzLl9oYW5kbGVBbnlUZXh0YXJlYUNoYW5nZXMoKSwhMSl9LGUucHJvdG90eXBlLl9maW5hbGl6ZUNvbXBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fY29tcG9zaXRpb25WaWV3LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIiksdGhpcy5faXNDb21wb3Npbmc9ITEsZSl7dmFyIHI9e3N0YXJ0OnRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uc3RhcnQsZW5kOnRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uZW5kfTt0aGlzLl9pc1NlbmRpbmdDb21wb3NpdGlvbj0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuX2lzU2VuZGluZ0NvbXBvc2l0aW9uKXt0Ll9pc1NlbmRpbmdDb21wb3NpdGlvbj0hMTt2YXIgZTtyLnN0YXJ0Kz10Ll9kYXRhQWxyZWFkeVNlbnQubGVuZ3RoLChlPXQuX2lzQ29tcG9zaW5nP3QuX3RleHRhcmVhLnZhbHVlLnN1YnN0cmluZyhyLnN0YXJ0LHIuZW5kKTp0Ll90ZXh0YXJlYS52YWx1ZS5zdWJzdHJpbmcoci5zdGFydCkpLmxlbmd0aD4wJiZ0Ll9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KGUsITApfX0pLDApfWVsc2V7dGhpcy5faXNTZW5kaW5nQ29tcG9zaXRpb249ITE7dmFyIGk9dGhpcy5fdGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uc3RhcnQsdGhpcy5fY29tcG9zaXRpb25Qb3NpdGlvbi5lbmQpO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQoaSwhMCl9fSxlLnByb3RvdHlwZS5faGFuZGxlQW55VGV4dGFyZWFDaGFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3RleHRhcmVhLnZhbHVlO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYoIWUuX2lzQ29tcG9zaW5nKXt2YXIgcj1lLl90ZXh0YXJlYS52YWx1ZS5yZXBsYWNlKHQsXCJcIik7ci5sZW5ndGg+MCYmKGUuX2RhdGFBbHJlYWR5U2VudD1yLGUuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQociwhMCkpfX0pLDApfSxlLnByb3RvdHlwZS51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5faXNDb21wb3Npbmcpe2lmKHRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLmlzQ3Vyc29ySW5WaWV3cG9ydCl7dmFyIHI9TWF0aC5taW4odGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtMSksaT10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCxuPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQsbz1yKnRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGg7dGhpcy5fY29tcG9zaXRpb25WaWV3LnN0eWxlLmxlZnQ9bytcInB4XCIsdGhpcy5fY29tcG9zaXRpb25WaWV3LnN0eWxlLnRvcD1uK1wicHhcIix0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUuaGVpZ2h0PWkrXCJweFwiLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5zdHlsZS5saW5lSGVpZ2h0PWkrXCJweFwiLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5zdHlsZS5mb250RmFtaWx5PXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udEZhbWlseSx0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUuZm9udFNpemU9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250U2l6ZStcInB4XCI7dmFyIHM9dGhpcy5fY29tcG9zaXRpb25WaWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuX3RleHRhcmVhLnN0eWxlLmxlZnQ9bytcInB4XCIsdGhpcy5fdGV4dGFyZWEuc3R5bGUudG9wPW4rXCJweFwiLHRoaXMuX3RleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgubWF4KHMud2lkdGgsMSkrXCJweFwiLHRoaXMuX3RleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLm1heChzLmhlaWdodCwxKStcInB4XCIsdGhpcy5fdGV4dGFyZWEuc3R5bGUubGluZUhlaWdodD1zLmhlaWdodCtcInB4XCJ9ZXx8c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzKCEwKX0pLDApfX0saShbbigyLHMuSUJ1ZmZlclNlcnZpY2UpLG4oMyxzLklPcHRpb25zU2VydmljZSksbig0LHMuSUNvcmVTZXJ2aWNlKSxuKDUsby5JUmVuZGVyU2VydmljZSldLGUpfSgpO3QuQ29tcG9zaXRpb25IZWxwZXI9YX0sOTgwNjooZSx0KT0+e2Z1bmN0aW9uIHIoZSx0LHIpe3ZhciBpPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLmdldENvbXB1dGVkU3R5bGUociksbz1wYXJzZUludChuLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLWxlZnRcIikpLHM9cGFyc2VJbnQobi5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy10b3BcIikpO3JldHVyblt0LmNsaWVudFgtaS5sZWZ0LW8sdC5jbGllbnRZLWkudG9wLXNdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0UmF3Qnl0ZUNvb3Jkcz10LmdldENvb3Jkcz10LmdldENvb3Jkc1JlbGF0aXZlVG9FbGVtZW50PXZvaWQgMCx0LmdldENvb3Jkc1JlbGF0aXZlVG9FbGVtZW50PXIsdC5nZXRDb29yZHM9ZnVuY3Rpb24oZSx0LGksbixvLHMsYSxjLGwpe2lmKHMpe3ZhciBoPXIoZSx0LGkpO2lmKGgpcmV0dXJuIGhbMF09TWF0aC5jZWlsKChoWzBdKyhsP2EvMjowKSkvYSksaFsxXT1NYXRoLmNlaWwoaFsxXS9jKSxoWzBdPU1hdGgubWluKE1hdGgubWF4KGhbMF0sMSksbisobD8xOjApKSxoWzFdPU1hdGgubWluKE1hdGgubWF4KGhbMV0sMSksbyksaH19LHQuZ2V0UmF3Qnl0ZUNvb3Jkcz1mdW5jdGlvbihlKXtpZihlKXJldHVybnt4OmVbMF0rMzIseTplWzFdKzMyfX19LDk1MDQ6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQubW92ZVRvQ2VsbFNlcXVlbmNlPXZvaWQgMDt2YXIgaT1yKDI1ODQpO2Z1bmN0aW9uIG4oZSx0LHIsaSl7dmFyIG49ZS1vKHIsZSksYT10LW8ocix0KSxoPU1hdGguYWJzKG4tYSktZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT0wLG49ZS1vKHIsZSksYT10LW8ocix0KSxjPTA7YzxNYXRoLmFicyhuLWEpO2MrKyl7dmFyIGw9XCJBXCI9PT1zKGUsdCk/LTE6MSxoPXIuYnVmZmVyLmxpbmVzLmdldChuK2wqYyk7KG51bGw9PWg/dm9pZCAwOmguaXNXcmFwcGVkKSYmaSsrfXJldHVybiBpfShlLHQscik7cmV0dXJuIGwoaCxjKHMoZSx0KSxpKSl9ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgcj0wLGk9ZS5idWZmZXIubGluZXMuZ2V0KHQpLG49bnVsbD09aT92b2lkIDA6aS5pc1dyYXBwZWQ7biYmdD49MCYmdDxlLnJvd3M7KXIrKyxuPW51bGw9PShpPWUuYnVmZmVyLmxpbmVzLmdldCgtLXQpKT92b2lkIDA6aS5pc1dyYXBwZWQ7cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlPnQ/XCJBXCI6XCJCXCJ9ZnVuY3Rpb24gYShlLHQscixpLG4sbyl7Zm9yKHZhciBzPWUsYT10LGM9XCJcIjtzIT09cnx8YSE9PWk7KXMrPW4/MTotMSxuJiZzPm8uY29scy0xPyhjKz1vLmJ1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcoYSwhMSxlLHMpLHM9MCxlPTAsYSsrKTohbiYmczwwJiYoYys9by5idWZmZXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKGEsITEsMCxlKzEpLGU9cz1vLmNvbHMtMSxhLS0pO3JldHVybiBjK28uYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhhLCExLGUscyl9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPXQ/XCJPXCI6XCJbXCI7cmV0dXJuIGkuQzAuRVNDK3IrZX1mdW5jdGlvbiBsKGUsdCl7ZT1NYXRoLmZsb29yKGUpO2Zvcih2YXIgcj1cIlwiLGk9MDtpPGU7aSsrKXIrPXQ7cmV0dXJuIHJ9dC5tb3ZlVG9DZWxsU2VxdWVuY2U9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIHMsaD1yLmJ1ZmZlci54LHU9ci5idWZmZXIueTtpZighci5idWZmZXIuaGFzU2Nyb2xsYmFjaylyZXR1cm4gZnVuY3Rpb24oZSx0LHIsaSxzLGgpe3JldHVybiAwPT09bih0LGkscyxoKS5sZW5ndGg/XCJcIjpsKGEoZSx0LGUsdC1vKHMsdCksITEscykubGVuZ3RoLGMoXCJEXCIsaCkpfShoLHUsMCx0LHIsaSkrbih1LHQscixpKStmdW5jdGlvbihlLHQscixpLHMsaCl7dmFyIHU7dT1uKHQsaSxzLGgpLmxlbmd0aD4wP2ktbyhzLGkpOnQ7dmFyIGY9aSxfPWZ1bmN0aW9uKGUsdCxyLGkscyxhKXt2YXIgYztyZXR1cm4gYz1uKHIsaSxzLGEpLmxlbmd0aD4wP2ktbyhzLGkpOnQsZTxyJiZjPD1pfHxlPj1yJiZjPGk/XCJDXCI6XCJEXCJ9KGUsdCxyLGkscyxoKTtyZXR1cm4gbChhKGUsdSxyLGYsXCJDXCI9PT1fLHMpLmxlbmd0aCxjKF8saCkpfShoLHUsZSx0LHIsaSk7aWYodT09PXQpcmV0dXJuIHM9aD5lP1wiRFwiOlwiQ1wiLGwoTWF0aC5hYnMoaC1lKSxjKHMsaSkpO3M9dT50P1wiRFwiOlwiQ1wiO3ZhciBmPU1hdGguYWJzKHUtdCk7cmV0dXJuIGwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb2xzLWV9KHU+dD9lOmgscikrKGYtMSkqci5jb2xzKzErKCh1PnQ/aDplKS0xKSxjKHMsaSkpfX0sNDM4OTpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbiBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVGVybWluYWw9dm9pZCAwO3ZhciBvPXIoMzIzNikscz1yKDkwNDIpLGE9cig3OTc1KSxjPXIoNzA5MCksbD1yKDU3NDEpLGg9cig4Mjg1KSx1PVtcImNvbHNcIixcInJvd3NcIl0sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLl9jb3JlPW5ldyBvLlRlcm1pbmFsKGUpLHRoaXMuX2FkZG9uTWFuYWdlcj1uZXcgbC5BZGRvbk1hbmFnZXIsdGhpcy5fcHVibGljT3B0aW9ucz1pKHt9LHRoaXMuX2NvcmUub3B0aW9ucyk7dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2NvcmUub3B0aW9uc1tlXX0sbj1mdW5jdGlvbihlLHIpe3QuX2NoZWNrUmVhZG9ubHlPcHRpb25zKGUpLHQuX2NvcmUub3B0aW9uc1tlXT1yfTtmb3IodmFyIHMgaW4gdGhpcy5fY29yZS5vcHRpb25zKXt2YXIgYT17Z2V0OnIuYmluZCh0aGlzLHMpLHNldDpuLmJpbmQodGhpcyxzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuX3B1YmxpY09wdGlvbnMscyxhKX19cmV0dXJuIGUucHJvdG90eXBlLl9jaGVja1JlYWRvbmx5T3B0aW9ucz1mdW5jdGlvbihlKXtpZih1LmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcignT3B0aW9uIFwiJytlKydcIiBjYW4gb25seSBiZSBzZXQgaW4gdGhlIGNvbnN0cnVjdG9yJyl9LGUucHJvdG90eXBlLl9jaGVja1Byb3Bvc2VkQXBpPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NvcmUub3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5hbGxvd1Byb3Bvc2VkQXBpKXRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHNldCB0aGUgYWxsb3dQcm9wb3NlZEFwaSBvcHRpb24gdG8gdHJ1ZSB0byB1c2UgcHJvcG9zZWQgQVBJXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkJlbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25CZWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQmluYXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLm9uQmluYXJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ3Vyc29yTW92ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS5vbkN1cnNvck1vdmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25EYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLm9uRGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbktleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS5vbktleX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkxpbmVGZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLm9uTGluZUZlZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25SZW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25SZW5kZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25SZXNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25SZXNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25TY3JvbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25TY3JvbGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25TZWxlY3Rpb25DaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25TZWxlY3Rpb25DaGFuZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25UaXRsZUNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS5vblRpdGxlQ2hhbmdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uV3JpdGVQYXJzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25Xcml0ZVBhcnNlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJlbGVtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmVsZW1lbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGFyc2VyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja1Byb3Bvc2VkQXBpKCksdGhpcy5fcGFyc2VyfHwodGhpcy5fcGFyc2VyPW5ldyBhLlBhcnNlckFwaSh0aGlzLl9jb3JlKSksdGhpcy5fcGFyc2VyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInVuaWNvZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSxuZXcgYy5Vbmljb2RlQXBpKHRoaXMuX2NvcmUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInRleHRhcmVhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLnRleHRhcmVhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInJvd3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUucm93c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjb2xzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmNvbHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja1Byb3Bvc2VkQXBpKCksdGhpcy5fYnVmZmVyfHwodGhpcy5fYnVmZmVyPW5ldyBoLkJ1ZmZlck5hbWVzcGFjZUFwaSh0aGlzLl9jb3JlKSksdGhpcy5fYnVmZmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1hcmtlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl9jb3JlLm1hcmtlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibW9kZXNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29yZS5jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMsdD1cIm5vbmVcIjtzd2l0Y2godGhpcy5fY29yZS5jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZVByb3RvY29sKXtjYXNlXCJYMTBcIjp0PVwieDEwXCI7YnJlYWs7Y2FzZVwiVlQyMDBcIjp0PVwidnQyMDBcIjticmVhaztjYXNlXCJEUkFHXCI6dD1cImRyYWdcIjticmVhaztjYXNlXCJBTllcIjp0PVwiYW55XCJ9cmV0dXJue2FwcGxpY2F0aW9uQ3Vyc29yS2V5c01vZGU6ZS5hcHBsaWNhdGlvbkN1cnNvcktleXMsYXBwbGljYXRpb25LZXlwYWRNb2RlOmUuYXBwbGljYXRpb25LZXlwYWQsYnJhY2tldGVkUGFzdGVNb2RlOmUuYnJhY2tldGVkUGFzdGVNb2RlLGluc2VydE1vZGU6dGhpcy5fY29yZS5jb3JlU2VydmljZS5tb2Rlcy5pbnNlcnRNb2RlLG1vdXNlVHJhY2tpbmdNb2RlOnQsb3JpZ2luTW9kZTplLm9yaWdpbixyZXZlcnNlV3JhcGFyb3VuZE1vZGU6ZS5yZXZlcnNlV3JhcGFyb3VuZCxzZW5kRm9jdXNNb2RlOmUuc2VuZEZvY3VzLHdyYXBhcm91bmRNb2RlOmUud3JhcGFyb3VuZH19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3B0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHVibGljT3B0aW9uc30sc2V0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMuX3B1YmxpY09wdGlvbnNbdF09ZVt0XX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5ibHVyKCl9LGUucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5mb2N1cygpfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLl92ZXJpZnlJbnRlZ2VycyhlLHQpLHRoaXMuX2NvcmUucmVzaXplKGUsdCl9LGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSl7dGhpcy5fY29yZS5vcGVuKGUpfSxlLnByb3RvdHlwZS5hdHRhY2hDdXN0b21LZXlFdmVudEhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY29yZS5hdHRhY2hDdXN0b21LZXlFdmVudEhhbmRsZXIoZSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyTGlua01hdGNoZXI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9jaGVja1Byb3Bvc2VkQXBpKCksdGhpcy5fY29yZS5yZWdpc3RlckxpbmtNYXRjaGVyKGUsdCxyKX0sZS5wcm90b3R5cGUuZGVyZWdpc3RlckxpbmtNYXRjaGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl9jb3JlLmRlcmVnaXN0ZXJMaW5rTWF0Y2hlcihlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJMaW5rUHJvdmlkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl9jb3JlLnJlZ2lzdGVyTGlua1Byb3ZpZGVyKGUpfSxlLnByb3RvdHlwZS5yZWdpc3RlckNoYXJhY3RlckpvaW5lcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2hlY2tQcm9wb3NlZEFwaSgpLHRoaXMuX2NvcmUucmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXIoZSl9LGUucHJvdG90eXBlLmRlcmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tQcm9wb3NlZEFwaSgpLHRoaXMuX2NvcmUuZGVyZWdpc3RlckNoYXJhY3RlckpvaW5lcihlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJNYXJrZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl92ZXJpZnlJbnRlZ2VycyhlKSx0aGlzLl9jb3JlLmFkZE1hcmtlcihlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaTtyZXR1cm4gdGhpcy5fY2hlY2tQcm9wb3NlZEFwaSgpLHRoaXMuX3ZlcmlmeVBvc2l0aXZlSW50ZWdlcnMobnVsbCE9PSh0PWUueCkmJnZvaWQgMCE9PXQ/dDowLG51bGwhPT0ocj1lLndpZHRoKSYmdm9pZCAwIT09cj9yOjAsbnVsbCE9PShpPWUuaGVpZ2h0KSYmdm9pZCAwIT09aT9pOjApLHRoaXMuX2NvcmUucmVnaXN0ZXJEZWNvcmF0aW9uKGUpfSxlLnByb3RvdHlwZS5hZGRNYXJrZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVnaXN0ZXJNYXJrZXIoZSl9LGUucHJvdG90eXBlLmhhc1NlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmhhc1NlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3ZlcmlmeUludGVnZXJzKGUsdCxyKSx0aGlzLl9jb3JlLnNlbGVjdChlLHQscil9LGUucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmdldFNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Qb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmdldFNlbGVjdGlvblBvc2l0aW9uKCl9LGUucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNlbGVjdEFsbCgpfSxlLnByb3RvdHlwZS5zZWxlY3RMaW5lcz1mdW5jdGlvbihlLHQpe3RoaXMuX3ZlcmlmeUludGVnZXJzKGUsdCksdGhpcy5fY29yZS5zZWxlY3RMaW5lcyhlLHQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fYWRkb25NYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9jb3JlLmRpc3Bvc2UoKX0sZS5wcm90b3R5cGUuc2Nyb2xsTGluZXM9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZ5SW50ZWdlcnMoZSksdGhpcy5fY29yZS5zY3JvbGxMaW5lcyhlKX0sZS5wcm90b3R5cGUuc2Nyb2xsUGFnZXM9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZ5SW50ZWdlcnMoZSksdGhpcy5fY29yZS5zY3JvbGxQYWdlcyhlKX0sZS5wcm90b3R5cGUuc2Nyb2xsVG9Ub3A9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNjcm9sbFRvVG9wKCl9LGUucHJvdG90eXBlLnNjcm9sbFRvQm90dG9tPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zY3JvbGxUb0JvdHRvbSgpfSxlLnByb3RvdHlwZS5zY3JvbGxUb0xpbmU9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZ5SW50ZWdlcnMoZSksdGhpcy5fY29yZS5zY3JvbGxUb0xpbmUoZSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5jbGVhcigpfSxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQpe3RoaXMuX2NvcmUud3JpdGUoZSx0KX0sZS5wcm90b3R5cGUud3JpdGVVdGY4PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY29yZS53cml0ZShlLHQpfSxlLnByb3RvdHlwZS53cml0ZWxuPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY29yZS53cml0ZShlKSx0aGlzLl9jb3JlLndyaXRlKFwiXFxyXFxuXCIsdCl9LGUucHJvdG90eXBlLnBhc3RlPWZ1bmN0aW9uKGUpe3RoaXMuX2NvcmUucGFzdGUoZSl9LGUucHJvdG90eXBlLmdldE9wdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29yZS5vcHRpb25zU2VydmljZS5nZXRPcHRpb24oZSl9LGUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuX2NoZWNrUmVhZG9ubHlPcHRpb25zKGUpLHRoaXMuX2NvcmUub3B0aW9uc1NlcnZpY2Uuc2V0T3B0aW9uKGUsdCl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSx0KXt0aGlzLl92ZXJpZnlJbnRlZ2VycyhlLHQpLHRoaXMuX2NvcmUucmVmcmVzaChlLHQpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2NvcmUucmVzZXQoKX0sZS5wcm90b3R5cGUuY2xlYXJUZXh0dXJlQXRsYXM9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLmNsZWFyVGV4dHVyZUF0bGFzKCl9LGUucHJvdG90eXBlLmxvYWRBZGRvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYWRkb25NYW5hZ2VyLmxvYWRBZGRvbih0aGlzLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInN0cmluZ3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3ZlcmlmeUludGVnZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQscj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTt0cnl7Zm9yKHZhciBvPW4ocikscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBhPXMudmFsdWU7aWYoYT09PTEvMHx8aXNOYU4oYSl8fGElMSE9MCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIEFQSSBvbmx5IGFjY2VwdHMgaW50ZWdlcnNcIil9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJih0PW8ucmV0dXJuKSYmdC5jYWxsKG8pfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX19LGUucHJvdG90eXBlLl92ZXJpZnlQb3NpdGl2ZUludGVnZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQscj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTt0cnl7Zm9yKHZhciBvPW4ocikscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBhPXMudmFsdWU7aWYoYSYmKGE9PT0xLzB8fGlzTmFOKGEpfHxhJTEhPTB8fGE8MCkpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBBUEkgb25seSBhY2NlcHRzIHBvc2l0aXZlIGludGVnZXJzXCIpfX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYodD1vLnJldHVybikmJnQuY2FsbChvKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSxlfSgpO3QuVGVybWluYWw9Zn0sMTU0NjpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CYXNlUmVuZGVyTGF5ZXI9dm9pZCAwO3ZhciBuPXIoNjQzKSxvPXIoODgwMykscz1yKDE0MjApLGE9cigzNzM0KSxjPXIoMTc1MiksbD1yKDgwNTUpLGg9cig5NjMxKSx1PXIoODk3OCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuLG8scyxhLGMpe3RoaXMuX2NvbnRhaW5lcj1lLHRoaXMuX2FscGhhPWksdGhpcy5fY29sb3JzPW4sdGhpcy5fcmVuZGVyZXJJZD1vLHRoaXMuX2J1ZmZlclNlcnZpY2U9cyx0aGlzLl9vcHRpb25zU2VydmljZT1hLHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlPWMsdGhpcy5fc2NhbGVkQ2hhcldpZHRoPTAsdGhpcy5fc2NhbGVkQ2hhckhlaWdodD0wLHRoaXMuX3NjYWxlZENlbGxXaWR0aD0wLHRoaXMuX3NjYWxlZENlbGxIZWlnaHQ9MCx0aGlzLl9zY2FsZWRDaGFyTGVmdD0wLHRoaXMuX3NjYWxlZENoYXJUb3A9MCx0aGlzLl9jb2x1bW5TZWxlY3RNb2RlPSExLHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXI9e2NoYXJzOlwiXCIsY29kZTowLGJnOjAsZmc6MCxib2xkOiExLGRpbTohMSxpdGFsaWM6ITF9LHRoaXMuX2NhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuX2NhbnZhcy5jbGFzc0xpc3QuYWRkKFwieHRlcm0tXCIrdCtcIi1sYXllclwiKSx0aGlzLl9jYW52YXMuc3R5bGUuekluZGV4PXIudG9TdHJpbmcoKSx0aGlzLl9pbml0Q2FudmFzKCksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhcyl9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZTsoMCxoLnJlbW92ZUVsZW1lbnRGcm9tUGFyZW50KSh0aGlzLl9jYW52YXMpLG51bGw9PT0oZT10aGlzLl9jaGFyQXRsYXMpfHx2b2lkIDA9PT1lfHxlLmRpc3Bvc2UoKX0sZS5wcm90b3R5cGUuX2luaXRDYW52YXM9ZnVuY3Rpb24oKXt0aGlzLl9jdHg9KDAsYy50aHJvd0lmRmFsc3kpKHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6dGhpcy5fYWxwaGF9KSksdGhpcy5fYWxwaGF8fHRoaXMuX2NsZWFyQWxsKCl9LGUucHJvdG90eXBlLm9uT3B0aW9uc0NoYW5nZWQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25Gb2N1cz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25DdXJzb3JNb3ZlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5vbkdyaWRDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7fSxlLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLl9zZWxlY3Rpb25TdGFydD1lLHRoaXMuX3NlbGVjdGlvbkVuZD10LHRoaXMuX2NvbHVtblNlbGVjdE1vZGU9cn0sZS5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKGUpe3RoaXMuX3JlZnJlc2hDaGFyQXRsYXMoZSl9LGUucHJvdG90eXBlLl9zZXRUcmFuc3BhcmVuY3k9ZnVuY3Rpb24oZSl7aWYoZSE9PXRoaXMuX2FscGhhKXt2YXIgdD10aGlzLl9jYW52YXM7dGhpcy5fYWxwaGE9ZSx0aGlzLl9jYW52YXM9dGhpcy5fY2FudmFzLmNsb25lTm9kZSgpLHRoaXMuX2luaXRDYW52YXMoKSx0aGlzLl9jb250YWluZXIucmVwbGFjZUNoaWxkKHRoaXMuX2NhbnZhcyx0KSx0aGlzLl9yZWZyZXNoQ2hhckF0bGFzKHRoaXMuX2NvbG9ycyksdGhpcy5vbkdyaWRDaGFuZ2VkKDAsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEpfX0sZS5wcm90b3R5cGUuX3JlZnJlc2hDaGFyQXRsYXM9ZnVuY3Rpb24oZSl7dGhpcy5fc2NhbGVkQ2hhcldpZHRoPD0wJiZ0aGlzLl9zY2FsZWRDaGFySGVpZ2h0PD0wfHwodGhpcy5fY2hhckF0bGFzPSgwLHMuYWNxdWlyZUNoYXJBdGxhcykodGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucyx0aGlzLl9yZW5kZXJlcklkLGUsdGhpcy5fc2NhbGVkQ2hhcldpZHRoLHRoaXMuX3NjYWxlZENoYXJIZWlnaHQpLHRoaXMuX2NoYXJBdGxhcy53YXJtVXAoKSl9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlKXt0aGlzLl9zY2FsZWRDZWxsV2lkdGg9ZS5zY2FsZWRDZWxsV2lkdGgsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodD1lLnNjYWxlZENlbGxIZWlnaHQsdGhpcy5fc2NhbGVkQ2hhcldpZHRoPWUuc2NhbGVkQ2hhcldpZHRoLHRoaXMuX3NjYWxlZENoYXJIZWlnaHQ9ZS5zY2FsZWRDaGFySGVpZ2h0LHRoaXMuX3NjYWxlZENoYXJMZWZ0PWUuc2NhbGVkQ2hhckxlZnQsdGhpcy5fc2NhbGVkQ2hhclRvcD1lLnNjYWxlZENoYXJUb3AsdGhpcy5fY2FudmFzLndpZHRoPWUuc2NhbGVkQ2FudmFzV2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodD1lLnNjYWxlZENhbnZhc0hlaWdodCx0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9ZS5jYW52YXNXaWR0aCtcInB4XCIsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1lLmNhbnZhc0hlaWdodCtcInB4XCIsdGhpcy5fYWxwaGF8fHRoaXMuX2NsZWFyQWxsKCksdGhpcy5fcmVmcmVzaENoYXJBdGxhcyh0aGlzLl9jb2xvcnMpfSxlLnByb3RvdHlwZS5jbGVhclRleHR1cmVBdGxhcz1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9jaGFyQXRsYXMpfHx2b2lkIDA9PT1lfHxlLmNsZWFyKCl9LGUucHJvdG90eXBlLl9maWxsQ2VsbHM9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fY3R4LmZpbGxSZWN0KGUqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLHQqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCxyKnRoaXMuX3NjYWxlZENlbGxXaWR0aCxpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQpfSxlLnByb3RvdHlwZS5fZmlsbE1pZGRsZUxpbmVBdENlbGxzPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0xKTt2YXIgaT1NYXRoLmNlaWwoLjUqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCk7dGhpcy5fY3R4LmZpbGxSZWN0KGUqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLCh0KzEpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQtaS13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxyKnRoaXMuX3NjYWxlZENlbGxXaWR0aCx3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyl9LGUucHJvdG90eXBlLl9maWxsQm90dG9tTGluZUF0Q2VsbHM9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPTEpLHRoaXMuX2N0eC5maWxsUmVjdChlKnRoaXMuX3NjYWxlZENlbGxXaWR0aCwodCsxKSp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLTEscip0aGlzLl9zY2FsZWRDZWxsV2lkdGgsd2luZG93LmRldmljZVBpeGVsUmF0aW8pfSxlLnByb3RvdHlwZS5fZmlsbExlZnRMaW5lQXRDZWxsPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jdHguZmlsbFJlY3QoZSp0aGlzLl9zY2FsZWRDZWxsV2lkdGgsdCp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKnIsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCl9LGUucHJvdG90eXBlLl9zdHJva2VSZWN0QXRDZWxsPWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuX2N0eC5saW5lV2lkdGg9d2luZG93LmRldmljZVBpeGVsUmF0aW8sdGhpcy5fY3R4LnN0cm9rZVJlY3QoZSp0aGlzLl9zY2FsZWRDZWxsV2lkdGgrd2luZG93LmRldmljZVBpeGVsUmF0aW8vMix0KnRoaXMuX3NjYWxlZENlbGxIZWlnaHQrd2luZG93LmRldmljZVBpeGVsUmF0aW8vMixyKnRoaXMuX3NjYWxlZENlbGxXaWR0aC13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQtd2luZG93LmRldmljZVBpeGVsUmF0aW8pfSxlLnByb3RvdHlwZS5fY2xlYXJBbGw9ZnVuY3Rpb24oKXt0aGlzLl9hbHBoYT90aGlzLl9jdHguY2xlYXJSZWN0KDAsMCx0aGlzLl9jYW52YXMud2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodCk6KHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmJhY2tncm91bmQuY3NzLHRoaXMuX2N0eC5maWxsUmVjdCgwLDAsdGhpcy5fY2FudmFzLndpZHRoLHRoaXMuX2NhbnZhcy5oZWlnaHQpKX0sZS5wcm90b3R5cGUuX2NsZWFyQ2VsbHM9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fYWxwaGE/dGhpcy5fY3R4LmNsZWFyUmVjdChlKnRoaXMuX3NjYWxlZENlbGxXaWR0aCx0KnRoaXMuX3NjYWxlZENlbGxIZWlnaHQscip0aGlzLl9zY2FsZWRDZWxsV2lkdGgsaSp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KToodGhpcy5fY3R4LmZpbGxTdHlsZT10aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5jc3MsdGhpcy5fY3R4LmZpbGxSZWN0KGUqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLHQqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCxyKnRoaXMuX3NjYWxlZENlbGxXaWR0aCxpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQpKX0sZS5wcm90b3R5cGUuX2ZpbGxDaGFyVHJ1ZUNvbG9yPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jdHguZm9udD10aGlzLl9nZXRGb250KCExLCExKSx0aGlzLl9jdHgudGV4dEJhc2VsaW5lPW8uVEVYVF9CQVNFTElORSx0aGlzLl9jbGlwUm93KHIpO3ZhciBpPSExOyExIT09dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXN0b21HbHlwaHMmJihpPSgwLHUudHJ5RHJhd0N1c3RvbUNoYXIpKHRoaXMuX2N0eCxlLmdldENoYXJzKCksdCp0aGlzLl9zY2FsZWRDZWxsV2lkdGgscip0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LHRoaXMuX3NjYWxlZENlbGxXaWR0aCx0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KSksaXx8dGhpcy5fY3R4LmZpbGxUZXh0KGUuZ2V0Q2hhcnMoKSx0KnRoaXMuX3NjYWxlZENlbGxXaWR0aCt0aGlzLl9zY2FsZWRDaGFyTGVmdCxyKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQrdGhpcy5fc2NhbGVkQ2hhclRvcCt0aGlzLl9zY2FsZWRDaGFySGVpZ2h0KX0sZS5wcm90b3R5cGUuX2RyYXdDaGFycz1mdW5jdGlvbihlLHQscil7dmFyIHMsYSxjLGw9dGhpcy5fZ2V0Q29udHJhc3RDb2xvcihlLHQscik7aWYobHx8ZS5pc0ZnUkdCKCl8fGUuaXNCZ1JHQigpKXRoaXMuX2RyYXdVbmNhY2hlZENoYXJzKGUsdCxyLGwpO2Vsc2V7dmFyIGgsdTtlLmlzSW52ZXJzZSgpPyhoPWUuaXNCZ0RlZmF1bHQoKT9vLklOVkVSVEVEX0RFRkFVTFRfQ09MT1I6ZS5nZXRCZ0NvbG9yKCksdT1lLmlzRmdEZWZhdWx0KCk/by5JTlZFUlRFRF9ERUZBVUxUX0NPTE9SOmUuZ2V0RmdDb2xvcigpKToodT1lLmlzQmdEZWZhdWx0KCk/bi5ERUZBVUxUX0NPTE9SOmUuZ2V0QmdDb2xvcigpLGg9ZS5pc0ZnRGVmYXVsdCgpP24uREVGQVVMVF9DT0xPUjplLmdldEZnQ29sb3IoKSksaCs9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5kcmF3Qm9sZFRleHRJbkJyaWdodENvbG9ycyYmZS5pc0JvbGQoKSYmaDw4Pzg6MCx0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmNoYXJzPWUuZ2V0Q2hhcnMoKXx8bi5XSElURVNQQUNFX0NFTExfQ0hBUix0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmNvZGU9ZS5nZXRDb2RlKCl8fG4uV0hJVEVTUEFDRV9DRUxMX0NPREUsdGhpcy5fY3VycmVudEdseXBoSWRlbnRpZmllci5iZz11LHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuZmc9aCx0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmJvbGQ9ISFlLmlzQm9sZCgpLHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuZGltPSEhZS5pc0RpbSgpLHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuaXRhbGljPSEhZS5pc0l0YWxpYygpO3ZhciBmPSExO3RyeXtmb3IodmFyIF89aSh0aGlzLl9kZWNvcmF0aW9uU2VydmljZS5nZXREZWNvcmF0aW9uc0F0Q2VsbCh0LHIpKSxkPV8ubmV4dCgpOyFkLmRvbmU7ZD1fLm5leHQoKSl7dmFyIHA9ZC52YWx1ZTtpZihwLmJhY2tncm91bmRDb2xvclJHQnx8cC5mb3JlZ3JvdW5kQ29sb3JSR0Ipe2Y9ITA7YnJlYWt9fX1jYXRjaChlKXtzPXtlcnJvcjplfX1maW5hbGx5e3RyeXtkJiYhZC5kb25lJiYoYT1fLnJldHVybikmJmEuY2FsbChfKX1maW5hbGx5e2lmKHMpdGhyb3cgcy5lcnJvcn19IWYmJihudWxsPT09KGM9dGhpcy5fY2hhckF0bGFzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5kcmF3KHRoaXMuX2N0eCx0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLHQqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoK3RoaXMuX3NjYWxlZENoYXJMZWZ0LHIqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCt0aGlzLl9zY2FsZWRDaGFyVG9wKSl8fHRoaXMuX2RyYXdVbmNhY2hlZENoYXJzKGUsdCxyKX19LGUucHJvdG90eXBlLl9kcmF3VW5jYWNoZWRDaGFycz1mdW5jdGlvbihlLHQscixpKXtpZih0aGlzLl9jdHguc2F2ZSgpLHRoaXMuX2N0eC5mb250PXRoaXMuX2dldEZvbnQoISFlLmlzQm9sZCgpLCEhZS5pc0l0YWxpYygpKSx0aGlzLl9jdHgudGV4dEJhc2VsaW5lPW8uVEVYVF9CQVNFTElORSxlLmlzSW52ZXJzZSgpKWlmKGkpdGhpcy5fY3R4LmZpbGxTdHlsZT1pLmNzcztlbHNlIGlmKGUuaXNCZ0RlZmF1bHQoKSl0aGlzLl9jdHguZmlsbFN0eWxlPWwuY29sb3Iub3BhcXVlKHRoaXMuX2NvbG9ycy5iYWNrZ3JvdW5kKS5jc3M7ZWxzZSBpZihlLmlzQmdSR0IoKSl0aGlzLl9jdHguZmlsbFN0eWxlPVwicmdiKFwiK2EuQXR0cmlidXRlRGF0YS50b0NvbG9yUkdCKGUuZ2V0QmdDb2xvcigpKS5qb2luKFwiLFwiKStcIilcIjtlbHNle3ZhciBuPWUuZ2V0QmdDb2xvcigpO3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMmJmUuaXNCb2xkKCkmJm48OCYmKG4rPTgpLHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmFuc2lbbl0uY3NzfWVsc2UgaWYoaSl0aGlzLl9jdHguZmlsbFN0eWxlPWkuY3NzO2Vsc2UgaWYoZS5pc0ZnRGVmYXVsdCgpKXRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzO2Vsc2UgaWYoZS5pc0ZnUkdCKCkpdGhpcy5fY3R4LmZpbGxTdHlsZT1cInJnYihcIithLkF0dHJpYnV0ZURhdGEudG9Db2xvclJHQihlLmdldEZnQ29sb3IoKSkuam9pbihcIixcIikrXCIpXCI7ZWxzZXt2YXIgcz1lLmdldEZnQ29sb3IoKTt0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzJiZlLmlzQm9sZCgpJiZzPDgmJihzKz04KSx0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5hbnNpW3NdLmNzc310aGlzLl9jbGlwUm93KHIpLGUuaXNEaW0oKSYmKHRoaXMuX2N0eC5nbG9iYWxBbHBoYT1vLkRJTV9PUEFDSVRZKTt2YXIgYz0hMTshMSE9PXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3VzdG9tR2x5cGhzJiYoYz0oMCx1LnRyeURyYXdDdXN0b21DaGFyKSh0aGlzLl9jdHgsZS5nZXRDaGFycygpLHQqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLHIqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCx0aGlzLl9zY2FsZWRDZWxsV2lkdGgsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCkpLGN8fHRoaXMuX2N0eC5maWxsVGV4dChlLmdldENoYXJzKCksdCp0aGlzLl9zY2FsZWRDZWxsV2lkdGgrdGhpcy5fc2NhbGVkQ2hhckxlZnQscip0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0K3RoaXMuX3NjYWxlZENoYXJUb3ArdGhpcy5fc2NhbGVkQ2hhckhlaWdodCksdGhpcy5fY3R4LnJlc3RvcmUoKX0sZS5wcm90b3R5cGUuX2NsaXBSb3c9ZnVuY3Rpb24oZSl7dGhpcy5fY3R4LmJlZ2luUGF0aCgpLHRoaXMuX2N0eC5yZWN0KDAsZSp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyp0aGlzLl9zY2FsZWRDZWxsV2lkdGgsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCksdGhpcy5fY3R4LmNsaXAoKX0sZS5wcm90b3R5cGUuX2dldEZvbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD9cIml0YWxpY1wiOlwiXCIpK1wiIFwiKyhlP3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udFdlaWdodEJvbGQ6dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250V2VpZ2h0KStcIiBcIit0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZvbnRTaXplKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvK1wicHggXCIrdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250RmFtaWx5fSxlLnByb3RvdHlwZS5fZ2V0Q29udHJhc3RDb2xvcj1mdW5jdGlvbihlLHQscil7dmFyIG4sbyxzLGEsaD0hMTt0cnl7Zm9yKHZhciB1PWkodGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZ2V0RGVjb3JhdGlvbnNBdENlbGwodCxyKSksZj11Lm5leHQoKTshZi5kb25lO2Y9dS5uZXh0KCkpe3ZhciBfPWYudmFsdWU7XCJ0b3BcIiE9PV8ub3B0aW9ucy5sYXllciYmaHx8KF8uYmFja2dyb3VuZENvbG9yUkdCJiYocz1fLmJhY2tncm91bmRDb2xvclJHQi5yZ2JhKSxfLmZvcmVncm91bmRDb2xvclJHQiYmKGE9Xy5mb3JlZ3JvdW5kQ29sb3JSR0IucmdiYSksaD1cInRvcFwiPT09Xy5vcHRpb25zLmxheWVyKX19Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKG89dS5yZXR1cm4pJiZvLmNhbGwodSl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWlmKGh8fHRoaXMuX2NvbG9ycy5zZWxlY3Rpb25Gb3JlZ3JvdW5kJiZ0aGlzLl9pc0NlbGxJblNlbGVjdGlvbih0LHIpJiYoYT10aGlzLl9jb2xvcnMuc2VsZWN0aW9uRm9yZWdyb3VuZC5yZ2JhKSxzfHxhfHwxIT09dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5taW5pbXVtQ29udHJhc3RSYXRpbyYmISgwLGMuZXhjbHVkZUZyb21Db250cmFzdFJhdGlvRGVtYW5kcykoZS5nZXRDb2RlKCkpKXtpZighcyYmIWEpe3ZhciBkPXRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLmdldENvbG9yKGUuYmcsZS5mZyk7aWYodm9pZCAwIT09ZClyZXR1cm4gZHx8dm9pZCAwfXZhciBwPWUuZ2V0RmdDb2xvcigpLHY9ZS5nZXRGZ0NvbG9yTW9kZSgpLHk9ZS5nZXRCZ0NvbG9yKCksZz1lLmdldEJnQ29sb3JNb2RlKCksbT0hIWUuaXNJbnZlcnNlKCksYj0hIWUuaXNJbnZlcnNlKCk7aWYobSl7dmFyIFM9cDtwPXkseT1TO3ZhciBDPXY7dj1nLGc9Q312YXIgdz10aGlzLl9yZXNvbHZlQmFja2dyb3VuZFJnYmEodm9pZCAwIT09cz81MDMzMTY0ODpnLG51bGwhPXM/czp5LG0pLEw9dGhpcy5fcmVzb2x2ZUZvcmVncm91bmRSZ2JhKHYscCxtLGIpLEU9bC5yZ2JhLmVuc3VyZUNvbnRyYXN0UmF0aW8obnVsbCE9cz9zOncsbnVsbCE9YT9hOkwsdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5taW5pbXVtQ29udHJhc3RSYXRpbyk7aWYoIUUpe2lmKCFhKXJldHVybiB2b2lkIHRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLnNldENvbG9yKGUuYmcsZS5mZyxudWxsKTtFPWF9dmFyIHg9e2NzczpsLmNoYW5uZWxzLnRvQ3NzKEU+PjI0JjI1NSxFPj4xNiYyNTUsRT4+OCYyNTUpLHJnYmE6RX07cmV0dXJuIHN8fGF8fHRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLnNldENvbG9yKGUuYmcsZS5mZyx4KSx4fX0sZS5wcm90b3R5cGUuX3Jlc29sdmVCYWNrZ3JvdW5kUmdiYT1mdW5jdGlvbihlLHQscil7c3dpdGNoKGUpe2Nhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpyZXR1cm4gdGhpcy5fY29sb3JzLmFuc2lbdF0ucmdiYTtjYXNlIDUwMzMxNjQ4OnJldHVybiB0PDw4O2RlZmF1bHQ6cmV0dXJuIHI/dGhpcy5fY29sb3JzLmZvcmVncm91bmQucmdiYTp0aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5yZ2JhfX0sZS5wcm90b3R5cGUuX3Jlc29sdmVGb3JlZ3JvdW5kUmdiYT1mdW5jdGlvbihlLHQscixpKXtzd2l0Y2goZSl7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOnJldHVybiB0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzJiZpJiZ0PDgmJih0Kz04KSx0aGlzLl9jb2xvcnMuYW5zaVt0XS5yZ2JhO2Nhc2UgNTAzMzE2NDg6cmV0dXJuIHQ8PDg7ZGVmYXVsdDpyZXR1cm4gcj90aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5yZ2JhOnRoaXMuX2NvbG9ycy5mb3JlZ3JvdW5kLnJnYmF9fSxlLnByb3RvdHlwZS5faXNDZWxsSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9zZWxlY3Rpb25TdGFydCxpPXRoaXMuX3NlbGVjdGlvbkVuZDtyZXR1cm4hKCFyfHwhaSkmJih0aGlzLl9jb2x1bW5TZWxlY3RNb2RlP2U+PXJbMF0mJnQ+PXJbMV0mJmU8aVswXSYmdDxpWzFdOnQ+clsxXSYmdDxpWzFdfHxyWzFdPT09aVsxXSYmdD09PXJbMV0mJmU+PXJbMF0mJmU8aVswXXx8clsxXTxpWzFdJiZ0PT09aVsxXSYmZTxpWzBdfHxyWzFdPGlbMV0mJnQ9PT1yWzFdJiZlPj1yWzBdKX0sZX0oKTt0LkJhc2VSZW5kZXJMYXllcj1mfSwyNTEyOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkN1cnNvclJlbmRlckxheWVyPXZvaWQgMDt2YXIgYT1yKDE1NDYpLGM9cig1MTEpLGw9cigyNTg1KSxoPXIoNDcyNSksdT02MDAsZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzLGEsbCxoLHUpe3ZhciBmPWUuY2FsbCh0aGlzLHQsXCJjdXJzb3JcIixyLCEwLGksbixzLGEsdSl8fHRoaXM7cmV0dXJuIGYuX29uUmVxdWVzdFJlZHJhdz1vLGYuX2NvcmVTZXJ2aWNlPWwsZi5fY29yZUJyb3dzZXJTZXJ2aWNlPWgsZi5fY2VsbD1uZXcgYy5DZWxsRGF0YSxmLl9zdGF0ZT17eDowLHk6MCxpc0ZvY3VzZWQ6ITEsc3R5bGU6XCJcIix3aWR0aDowfSxmLl9jdXJzb3JSZW5kZXJlcnM9e2JhcjpmLl9yZW5kZXJCYXJDdXJzb3IuYmluZChmKSxibG9jazpmLl9yZW5kZXJCbG9ja0N1cnNvci5iaW5kKGYpLHVuZGVybGluZTpmLl9yZW5kZXJVbmRlcmxpbmVDdXJzb3IuYmluZChmKX0sZn1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlciYmKHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcj12b2lkIDApLGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsdCksdGhpcy5fc3RhdGU9e3g6MCx5OjAsaXNGb2N1c2VkOiExLHN0eWxlOlwiXCIsd2lkdGg6MH19LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5fY2xlYXJDdXJzb3IoKSxudWxsPT09KGU9dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpfHx2b2lkIDA9PT1lfHxlLnJlc3RhcnRCbGlua0FuaW1hdGlvbigpLHRoaXMub25PcHRpb25zQ2hhbmdlZCgpfSx0LnByb3RvdHlwZS5vbkJsdXI9ZnVuY3Rpb24oKXt2YXIgZTtudWxsPT09KGU9dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpfHx2b2lkIDA9PT1lfHxlLnBhdXNlKCksdGhpcy5fb25SZXF1ZXN0UmVkcmF3LmZpcmUoe3N0YXJ0OnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnksZW5kOnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnl9KX0sdC5wcm90b3R5cGUub25Gb2N1cz1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcil8fHZvaWQgMD09PWV8fGUucmVzdW1lKCksdGhpcy5fb25SZXF1ZXN0UmVkcmF3LmZpcmUoe3N0YXJ0OnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnksZW5kOnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnl9KX0sdC5wcm90b3R5cGUub25PcHRpb25zQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmN1cnNvckJsaW5rP3RoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyfHwodGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXI9bmV3IF8odGhpcy5fY29yZUJyb3dzZXJTZXJ2aWNlLmlzRm9jdXNlZCwoZnVuY3Rpb24oKXt0Ll9yZW5kZXIoITApfSkpKToobnVsbD09PShlPXRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyKXx8dm9pZCAwPT09ZXx8ZS5kaXNwb3NlKCksdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXI9dm9pZCAwKSx0aGlzLl9vblJlcXVlc3RSZWRyYXcuZmlyZSh7c3RhcnQ6dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueSxlbmQ6dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueX0pfSx0LnByb3RvdHlwZS5vbkN1cnNvck1vdmU9ZnVuY3Rpb24oKXt2YXIgZTtudWxsPT09KGU9dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpfHx2b2lkIDA9PT1lfHxlLnJlc3RhcnRCbGlua0FuaW1hdGlvbigpfSx0LnByb3RvdHlwZS5vbkdyaWRDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7IXRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyfHx0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlci5pc1BhdXNlZD90aGlzLl9yZW5kZXIoITEpOnRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLnJlc3RhcnRCbGlua0FuaW1hdGlvbigpfSx0LnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2NvcmVTZXJ2aWNlLmlzQ3Vyc29ySW5pdGlhbGl6ZWQmJiF0aGlzLl9jb3JlU2VydmljZS5pc0N1cnNvckhpZGRlbil7dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWJhc2UrdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueSxyPXQtdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3A7aWYocjwwfHxyPj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpdGhpcy5fY2xlYXJDdXJzb3IoKTtlbHNle3ZhciBpPU1hdGgubWluKHRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLngsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLTEpO2lmKHRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLmxpbmVzLmdldCh0KS5sb2FkQ2VsbChpLHRoaXMuX2NlbGwpLHZvaWQgMCE9PXRoaXMuX2NlbGwuY29udGVudCl7aWYoIXRoaXMuX2NvcmVCcm93c2VyU2VydmljZS5pc0ZvY3VzZWQpe3RoaXMuX2NsZWFyQ3Vyc29yKCksdGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5jdXJzb3IuY3NzO3ZhciBuPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yU3R5bGU7cmV0dXJuIG4mJlwiYmxvY2tcIiE9PW4/dGhpcy5fY3Vyc29yUmVuZGVyZXJzW25dKGkscix0aGlzLl9jZWxsKTp0aGlzLl9yZW5kZXJCbHVyQ3Vyc29yKGkscix0aGlzLl9jZWxsKSx0aGlzLl9jdHgucmVzdG9yZSgpLHRoaXMuX3N0YXRlLng9aSx0aGlzLl9zdGF0ZS55PXIsdGhpcy5fc3RhdGUuaXNGb2N1c2VkPSExLHRoaXMuX3N0YXRlLnN0eWxlPW4sdm9pZCh0aGlzLl9zdGF0ZS53aWR0aD10aGlzLl9jZWxsLmdldFdpZHRoKCkpfWlmKCF0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcnx8dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIuaXNDdXJzb3JWaXNpYmxlKXtpZih0aGlzLl9zdGF0ZSl7aWYodGhpcy5fc3RhdGUueD09PWkmJnRoaXMuX3N0YXRlLnk9PT1yJiZ0aGlzLl9zdGF0ZS5pc0ZvY3VzZWQ9PT10aGlzLl9jb3JlQnJvd3NlclNlcnZpY2UuaXNGb2N1c2VkJiZ0aGlzLl9zdGF0ZS5zdHlsZT09PXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yU3R5bGUmJnRoaXMuX3N0YXRlLndpZHRoPT09dGhpcy5fY2VsbC5nZXRXaWR0aCgpKXJldHVybjt0aGlzLl9jbGVhckN1cnNvcigpfXRoaXMuX2N0eC5zYXZlKCksdGhpcy5fY3Vyc29yUmVuZGVyZXJzW3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yU3R5bGV8fFwiYmxvY2tcIl0oaSxyLHRoaXMuX2NlbGwpLHRoaXMuX2N0eC5yZXN0b3JlKCksdGhpcy5fc3RhdGUueD1pLHRoaXMuX3N0YXRlLnk9cix0aGlzLl9zdGF0ZS5pc0ZvY3VzZWQ9ITEsdGhpcy5fc3RhdGUuc3R5bGU9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXJzb3JTdHlsZSx0aGlzLl9zdGF0ZS53aWR0aD10aGlzLl9jZWxsLmdldFdpZHRoKCl9ZWxzZSB0aGlzLl9jbGVhckN1cnNvcigpfX19ZWxzZSB0aGlzLl9jbGVhckN1cnNvcigpfSx0LnByb3RvdHlwZS5fY2xlYXJDdXJzb3I9ZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZSYmKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPDE/dGhpcy5fY2xlYXJBbGwoKTp0aGlzLl9jbGVhckNlbGxzKHRoaXMuX3N0YXRlLngsdGhpcy5fc3RhdGUueSx0aGlzLl9zdGF0ZS53aWR0aCwxKSx0aGlzLl9zdGF0ZT17eDowLHk6MCxpc0ZvY3VzZWQ6ITEsc3R5bGU6XCJcIix3aWR0aDowfSl9LHQucHJvdG90eXBlLl9yZW5kZXJCYXJDdXJzb3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2N0eC5zYXZlKCksdGhpcy5fY3R4LmZpbGxTdHlsZT10aGlzLl9jb2xvcnMuY3Vyc29yLmNzcyx0aGlzLl9maWxsTGVmdExpbmVBdENlbGwoZSx0LHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yV2lkdGgpLHRoaXMuX2N0eC5yZXN0b3JlKCl9LHQucHJvdG90eXBlLl9yZW5kZXJCbG9ja0N1cnNvcj1mdW5jdGlvbihlLHQscil7dGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5jdXJzb3IuY3NzLHRoaXMuX2ZpbGxDZWxscyhlLHQsci5nZXRXaWR0aCgpLDEpLHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmN1cnNvckFjY2VudC5jc3MsdGhpcy5fZmlsbENoYXJUcnVlQ29sb3IocixlLHQpLHRoaXMuX2N0eC5yZXN0b3JlKCl9LHQucHJvdG90eXBlLl9yZW5kZXJVbmRlcmxpbmVDdXJzb3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2N0eC5zYXZlKCksdGhpcy5fY3R4LmZpbGxTdHlsZT10aGlzLl9jb2xvcnMuY3Vyc29yLmNzcyx0aGlzLl9maWxsQm90dG9tTGluZUF0Q2VsbHMoZSx0KSx0aGlzLl9jdHgucmVzdG9yZSgpfSx0LnByb3RvdHlwZS5fcmVuZGVyQmx1ckN1cnNvcj1mdW5jdGlvbihlLHQscil7dGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguc3Ryb2tlU3R5bGU9dGhpcy5fY29sb3JzLmN1cnNvci5jc3MsdGhpcy5fc3Ryb2tlUmVjdEF0Q2VsbChlLHQsci5nZXRXaWR0aCgpLDEpLHRoaXMuX2N0eC5yZXN0b3JlKCl9LG8oW3MoNSxsLklCdWZmZXJTZXJ2aWNlKSxzKDYsbC5JT3B0aW9uc1NlcnZpY2UpLHMoNyxsLklDb3JlU2VydmljZSkscyg4LGguSUNvcmVCcm93c2VyU2VydmljZSkscyg5LGwuSURlY29yYXRpb25TZXJ2aWNlKV0sdCl9KGEuQmFzZVJlbmRlckxheWVyKTt0LkN1cnNvclJlbmRlckxheWVyPWY7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5fcmVuZGVyQ2FsbGJhY2s9dCx0aGlzLmlzQ3Vyc29yVmlzaWJsZT0hMCxlJiZ0aGlzLl9yZXN0YXJ0SW50ZXJ2YWwoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNQYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9ibGlua1N0YXJ0VGltZW91dHx8dGhpcy5fYmxpbmtJbnRlcnZhbCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2JsaW5rSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9ibGlua0ludGVydmFsKSx0aGlzLl9ibGlua0ludGVydmFsPXZvaWQgMCksdGhpcy5fYmxpbmtTdGFydFRpbWVvdXQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0KSx0aGlzLl9ibGlua1N0YXJ0VGltZW91dD12b2lkIDApLHRoaXMuX2FuaW1hdGlvbkZyYW1lJiYod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkZyYW1lKSx0aGlzLl9hbmltYXRpb25GcmFtZT12b2lkIDApfSxlLnByb3RvdHlwZS5yZXN0YXJ0QmxpbmtBbmltYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaXNQYXVzZWR8fCh0aGlzLl9hbmltYXRpb25UaW1lUmVzdGFydGVkPURhdGUubm93KCksdGhpcy5pc0N1cnNvclZpc2libGU9ITAsdGhpcy5fYW5pbWF0aW9uRnJhbWV8fCh0aGlzLl9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe2UuX3JlbmRlckNhbGxiYWNrKCksZS5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpKSl9LGUucHJvdG90eXBlLl9yZXN0YXJ0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT11KSx0aGlzLl9ibGlua0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYmxpbmtJbnRlcnZhbCksdGhpcy5fYmxpbmtJbnRlcnZhbD12b2lkIDApLHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQpe3ZhciBlPXUtKERhdGUubm93KCktdC5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCk7aWYodC5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZD12b2lkIDAsZT4wKXJldHVybiB2b2lkIHQuX3Jlc3RhcnRJbnRlcnZhbChlKX10LmlzQ3Vyc29yVmlzaWJsZT0hMSx0Ll9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3QuX3JlbmRlckNhbGxiYWNrKCksdC5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpLHQuX2JsaW5rSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2lmKHQuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQpe3ZhciBlPXUtKERhdGUubm93KCktdC5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCk7cmV0dXJuIHQuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQ9dm9pZCAwLHZvaWQgdC5fcmVzdGFydEludGVydmFsKGUpfXQuaXNDdXJzb3JWaXNpYmxlPSF0LmlzQ3Vyc29yVmlzaWJsZSx0Ll9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3QuX3JlbmRlckNhbGxiYWNrKCksdC5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpfSksdSl9KSxlKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLmlzQ3Vyc29yVmlzaWJsZT0hMCx0aGlzLl9ibGlua0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYmxpbmtJbnRlcnZhbCksdGhpcy5fYmxpbmtJbnRlcnZhbD12b2lkIDApLHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0JiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9ibGlua1N0YXJ0VGltZW91dCksdGhpcy5fYmxpbmtTdGFydFRpbWVvdXQ9dm9pZCAwKSx0aGlzLl9hbmltYXRpb25GcmFtZSYmKHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSksdGhpcy5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwKX0sZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZSgpLHRoaXMuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQ9dm9pZCAwLHRoaXMuX3Jlc3RhcnRJbnRlcnZhbCgpLHRoaXMucmVzdGFydEJsaW5rQW5pbWF0aW9uKCl9LGV9KCl9LDg5Nzg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sbyxzLGEsYyxsLGgsdSxmLF8sZCxwLHYseSxnLG0sYixTLEMsdyxMLEUseCxSLGssTSxBLE8sRCxULEIsUCxJLEgsaixGLFcsVSxxLE4seixLLEcsVixYLFosWSxKLCQsUSxlZSx0ZSxyZSxpZSxuZSxvZSxzZSxhZSxjZSxsZSxoZSx1ZSxmZSxfZSxkZSxwZSx2ZSx5ZSxnZSxtZSxiZSxTZSxDZSx3ZSxMZSxFZSx4ZSxSZSxrZSxNZSxBZSxPZSxEZSxUZSxCZSxQZSxJZSxIZSxqZSxGZSxXZSxVZSxxZSxOZSx6ZSxLZSxHZSxWZSxYZSxaZSxZZSxKZSwkZSxRZSxldCx0dCxydCxpdCxudCxvdCxzdCxhdCxjdCxsdCxodCx1dCxmdCxfdCxkdCxwdCx2dCx5dCxndCxtdCxidCxTdCxDdCx3dD10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgaSxuLG89ci5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEoaT1vLm5leHQoKSkuZG9uZTspcy5wdXNoKGkudmFsdWUpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gc30sTHQ9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC50cnlEcmF3Q3VzdG9tQ2hhcj10LnBvd2VybGluZURlZmluaXRpb25zPXQuYm94RHJhd2luZ0RlZmluaXRpb25zPXQuYmxvY2tFbGVtZW50RGVmaW5pdGlvbnM9dm9pZCAwO3ZhciBFdD1yKDE3NTIpO3QuYmxvY2tFbGVtZW50RGVmaW5pdGlvbnM9e1wi4paAXCI6W3t4OjAseTowLHc6OCxoOjR9XSxcIuKWgVwiOlt7eDowLHk6Nyx3OjgsaDoxfV0sXCLiloJcIjpbe3g6MCx5OjYsdzo4LGg6Mn1dLFwi4paDXCI6W3t4OjAseTo1LHc6OCxoOjN9XSxcIuKWhFwiOlt7eDowLHk6NCx3OjgsaDo0fV0sXCLiloVcIjpbe3g6MCx5OjMsdzo4LGg6NX1dLFwi4paGXCI6W3t4OjAseToyLHc6OCxoOjZ9XSxcIuKWh1wiOlt7eDowLHk6MSx3OjgsaDo3fV0sXCLilohcIjpbe3g6MCx5OjAsdzo4LGg6OH1dLFwi4paJXCI6W3t4OjAseTowLHc6NyxoOjh9XSxcIuKWilwiOlt7eDowLHk6MCx3OjYsaDo4fV0sXCLilotcIjpbe3g6MCx5OjAsdzo1LGg6OH1dLFwi4paMXCI6W3t4OjAseTowLHc6NCxoOjh9XSxcIuKWjVwiOlt7eDowLHk6MCx3OjMsaDo4fV0sXCLilo5cIjpbe3g6MCx5OjAsdzoyLGg6OH1dLFwi4paPXCI6W3t4OjAseTowLHc6MSxoOjh9XSxcIuKWkFwiOlt7eDo0LHk6MCx3OjQsaDo4fV0sXCLilpRcIjpbe3g6MCx5OjAsdzo5LGg6MX1dLFwi4paVXCI6W3t4OjcseTowLHc6MSxoOjh9XSxcIuKWllwiOlt7eDowLHk6NCx3OjQsaDo0fV0sXCLilpdcIjpbe3g6NCx5OjQsdzo0LGg6NH1dLFwi4paYXCI6W3t4OjAseTowLHc6NCxoOjR9XSxcIuKWmVwiOlt7eDowLHk6MCx3OjQsaDo4fSx7eDowLHk6NCx3OjgsaDo0fV0sXCLilppcIjpbe3g6MCx5OjAsdzo0LGg6NH0se3g6NCx5OjQsdzo0LGg6NH1dLFwi4pabXCI6W3t4OjAseTowLHc6NCxoOjh9LHt4OjAseTowLHc6NCxoOjh9XSxcIuKWnFwiOlt7eDowLHk6MCx3OjgsaDo0fSx7eDo0LHk6MCx3OjQsaDo4fV0sXCLilp1cIjpbe3g6NCx5OjAsdzo0LGg6NH1dLFwi4paeXCI6W3t4OjQseTowLHc6NCxoOjR9LHt4OjAseTo0LHc6NCxoOjR9XSxcIuKWn1wiOlt7eDo0LHk6MCx3OjQsaDo4fSx7eDowLHk6NCx3OjgsaDo0fV0sXCLwn62wXCI6W3t4OjEseTowLHc6MSxoOjh9XSxcIvCfrbFcIjpbe3g6Mix5OjAsdzoxLGg6OH1dLFwi8J+tslwiOlt7eDozLHk6MCx3OjEsaDo4fV0sXCLwn62zXCI6W3t4OjQseTowLHc6MSxoOjh9XSxcIvCfrbRcIjpbe3g6NSx5OjAsdzoxLGg6OH1dLFwi8J+ttVwiOlt7eDo2LHk6MCx3OjEsaDo4fV0sXCLwn622XCI6W3t4OjAseToxLHc6OCxoOjF9XSxcIvCfrbdcIjpbe3g6MCx5OjIsdzo4LGg6MX1dLFwi8J+tuFwiOlt7eDowLHk6Myx3OjgsaDoxfV0sXCLwn625XCI6W3t4OjAseTo0LHc6OCxoOjF9XSxcIvCfrbpcIjpbe3g6MCx5OjUsdzo4LGg6MX1dLFwi8J+tu1wiOlt7eDowLHk6Nix3OjgsaDoxfV0sXCLwn628XCI6W3t4OjAseTowLHc6MSxoOjh9LHt4OjAseTo3LHc6OCxoOjF9XSxcIvCfrb1cIjpbe3g6MCx5OjAsdzoxLGg6OH0se3g6MCx5OjAsdzo4LGg6MX1dLFwi8J+tvlwiOlt7eDo3LHk6MCx3OjEsaDo4fSx7eDowLHk6MCx3OjgsaDoxfV0sXCLwn62/XCI6W3t4OjcseTowLHc6MSxoOjh9LHt4OjAseTo3LHc6OCxoOjF9XSxcIvCfroBcIjpbe3g6MCx5OjAsdzo4LGg6MX0se3g6MCx5Ojcsdzo4LGg6MX1dLFwi8J+ugVwiOlt7eDowLHk6MCx3OjgsaDoxfSx7eDowLHk6Mix3OjgsaDoxfSx7eDowLHk6NCx3OjgsaDoxfSx7eDowLHk6Nyx3OjgsaDoxfV0sXCLwn66CXCI6W3t4OjAseTowLHc6OCxoOjJ9XSxcIvCfroNcIjpbe3g6MCx5OjAsdzo4LGg6M31dLFwi8J+uhFwiOlt7eDowLHk6MCx3OjgsaDo1fV0sXCLwn66FXCI6W3t4OjAseTowLHc6OCxoOjZ9XSxcIvCfroZcIjpbe3g6MCx5OjAsdzo4LGg6N31dLFwi8J+uh1wiOlt7eDo2LHk6MCx3OjIsaDo4fV0sXCLwn66IXCI6W3t4OjUseTowLHc6MyxoOjh9XSxcIvCfrolcIjpbe3g6Myx5OjAsdzo1LGg6OH1dLFwi8J+uilwiOlt7eDoyLHk6MCx3OjYsaDo4fV0sXCLwn66LXCI6W3t4OjEseTowLHc6NyxoOjh9XSxcIvCfrpVcIjpbe3g6MCx5OjAsdzoyLGg6Mn0se3g6NCx5OjAsdzoyLGg6Mn0se3g6Mix5OjIsdzoyLGg6Mn0se3g6Nix5OjIsdzoyLGg6Mn0se3g6MCx5OjQsdzoyLGg6Mn0se3g6NCx5OjQsdzoyLGg6Mn0se3g6Mix5OjYsdzoyLGg6Mn0se3g6Nix5OjYsdzoyLGg6Mn1dLFwi8J+ullwiOlt7eDoyLHk6MCx3OjIsaDoyfSx7eDo2LHk6MCx3OjIsaDoyfSx7eDowLHk6Mix3OjIsaDoyfSx7eDo0LHk6Mix3OjIsaDoyfSx7eDoyLHk6NCx3OjIsaDoyfSx7eDo2LHk6NCx3OjIsaDoyfSx7eDowLHk6Nix3OjIsaDoyfSx7eDo0LHk6Nix3OjIsaDoyfV0sXCLwn66XXCI6W3t4OjAseToyLHc6OCxoOjJ9LHt4OjAseTo2LHc6OCxoOjJ9XX07dmFyIHh0PXtcIuKWkVwiOltbMSwwLDAsMF0sWzAsMCwwLDBdLFswLDAsMSwwXSxbMCwwLDAsMF1dLFwi4paSXCI6W1sxLDBdLFswLDBdLFswLDFdLFswLDBdXSxcIuKWk1wiOltbMCwxXSxbMSwxXSxbMSwwXSxbMSwxXV19O3QuYm94RHJhd2luZ0RlZmluaXRpb25zPXtcIuKUgFwiOihpPXt9LGlbMV09XCJNMCwuNSBMMSwuNVwiLGkpLFwi4pSBXCI6KG49e30sblszXT1cIk0wLC41IEwxLC41XCIsbiksXCLilIJcIjoobz17fSxvWzFdPVwiTS41LDAgTC41LDFcIixvKSxcIuKUg1wiOihzPXt9LHNbM109XCJNLjUsMCBMLjUsMVwiLHMpLFwi4pSMXCI6KGE9e30sYVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixhKSxcIuKUj1wiOihjPXt9LGNbM109XCJNMC41LDEgTC41LC41IEwxLC41XCIsYyksXCLilJBcIjoobD17fSxsWzFdPVwiTTAsLjUgTC41LC41IEwuNSwxXCIsbCksXCLilJNcIjooaD17fSxoWzNdPVwiTTAsLjUgTC41LC41IEwuNSwxXCIsaCksXCLilJRcIjoodT17fSx1WzFdPVwiTS41LDAgTC41LC41IEwxLC41XCIsdSksXCLilJdcIjooZj17fSxmWzNdPVwiTS41LDAgTC41LC41IEwxLC41XCIsZiksXCLilJhcIjooXz17fSxfWzFdPVwiTS41LDAgTC41LC41IEwwLC41XCIsXyksXCLilJtcIjooZD17fSxkWzNdPVwiTS41LDAgTC41LC41IEwwLC41XCIsZCksXCLilJxcIjoocD17fSxwWzFdPVwiTS41LDAgTC41LDEgTS41LC41IEwxLC41XCIscCksXCLilKNcIjoodj17fSx2WzNdPVwiTS41LDAgTC41LDEgTS41LC41IEwxLC41XCIsdiksXCLilKRcIjooeT17fSx5WzFdPVwiTS41LDAgTC41LDEgTS41LC41IEwwLC41XCIseSksXCLilKtcIjooZz17fSxnWzNdPVwiTS41LDAgTC41LDEgTS41LC41IEwwLC41XCIsZyksXCLilKxcIjoobT17fSxtWzFdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsbSksXCLilLNcIjooYj17fSxiWzNdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsYiksXCLilLRcIjooUz17fSxTWzFdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwwXCIsUyksXCLilLtcIjooQz17fSxDWzNdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwwXCIsQyksXCLilLxcIjoodz17fSx3WzFdPVwiTTAsLjUgTDEsLjUgTS41LDAgTC41LDFcIix3KSxcIuKVi1wiOihMPXt9LExbM109XCJNMCwuNSBMMSwuNSBNLjUsMCBMLjUsMVwiLEwpLFwi4pW0XCI6KEU9e30sRVsxXT1cIk0uNSwuNSBMMCwuNVwiLEUpLFwi4pW4XCI6KHg9e30seFszXT1cIk0uNSwuNSBMMCwuNVwiLHgpLFwi4pW1XCI6KFI9e30sUlsxXT1cIk0uNSwuNSBMLjUsMFwiLFIpLFwi4pW5XCI6KGs9e30sa1szXT1cIk0uNSwuNSBMLjUsMFwiLGspLFwi4pW2XCI6KE09e30sTVsxXT1cIk0uNSwuNSBMMSwuNVwiLE0pLFwi4pW6XCI6KEE9e30sQVszXT1cIk0uNSwuNSBMMSwuNVwiLEEpLFwi4pW3XCI6KE89e30sT1sxXT1cIk0uNSwuNSBMLjUsMVwiLE8pLFwi4pW7XCI6KEQ9e30sRFszXT1cIk0uNSwuNSBMLjUsMVwiLEQpLFwi4pWQXCI6KFQ9e30sVFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41LXQpK1wiIEwxLFwiKyguNS10KStcIiBNMCxcIisoLjUrdCkrXCIgTDEsXCIrKC41K3QpfSxUKSxcIuKVkVwiOihCPXt9LEJbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk1cIisoLjUtZSkrXCIsMCBMXCIrKC41LWUpK1wiLDEgTVwiKyguNStlKStcIiwwIExcIisoLjUrZSkrXCIsMVwifSxCKSxcIuKVklwiOihQPXt9LFBbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0uNSwxIEwuNSxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0uNSxcIisoLjUrdCkrXCIgTDEsXCIrKC41K3QpfSxQKSxcIuKVk1wiOihJPXt9LElbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk1cIisoLjUtZSkrXCIsMSBMXCIrKC41LWUpK1wiLC41IEwxLC41IE1cIisoLjUrZSkrXCIsLjUgTFwiKyguNStlKStcIiwxXCJ9LEkpLFwi4pWUXCI6KEg9e30sSFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTEsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsMSBNMSxcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIixcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIiwxXCJ9LEgpLFwi4pWVXCI6KGo9e30salsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41LXQpK1wiIEwuNSxcIisoLjUtdCkrXCIgTC41LDEgTTAsXCIrKC41K3QpK1wiIEwuNSxcIisoLjUrdCl9LGopLFwi4pWWXCI6KEY9e30sRlsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTVwiKyguNStlKStcIiwxIExcIisoLjUrZSkrXCIsLjUgTDAsLjUgTVwiKyguNS1lKStcIiwuNSBMXCIrKC41LWUpK1wiLDFcIn0sRiksXCLilZdcIjooVz17fSxXWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMCxcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIixcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIiwxIE0wLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLDFcIn0sVyksXCLilZhcIjooVT17fSxVWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNLjUsMCBMLjUsXCIrKC41K3QpK1wiIEwxLFwiKyguNSt0KStcIiBNLjUsXCIrKC41LXQpK1wiIEwxLFwiKyguNS10KX0sVSksXCLilZlcIjoocT17fSxxWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMSwuNSBMXCIrKC41LWUpK1wiLC41IExcIisoLjUtZSkrXCIsMCBNXCIrKC41K2UpK1wiLC41IExcIisoLjUrZSkrXCIsMFwifSxxKSxcIuKVmlwiOihOPXt9LE5bMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0xLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLDAgTTEsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsMFwifSxOKSxcIuKVm1wiOih6PXt9LHpbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLFwiKyguNSt0KStcIiBMLjUsXCIrKC41K3QpK1wiIEwuNSwwIE0wLFwiKyguNS10KStcIiBMLjUsXCIrKC41LXQpfSx6KSxcIuKVnFwiOihLPXt9LEtbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLC41IExcIisoLjUrZSkrXCIsLjUgTFwiKyguNStlKStcIiwwIE1cIisoLjUtZSkrXCIsLjUgTFwiKyguNS1lKStcIiwwXCJ9LEspLFwi4pWdXCI6KEc9e30sR1sxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsMCBNMCxcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIixcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIiwwXCJ9LEcpLFwi4pWeXCI6KFY9e30sVlsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTS41LDAgTC41LDEgTS41LFwiKyguNS10KStcIiBMMSxcIisoLjUtdCkrXCIgTS41LFwiKyguNSt0KStcIiBMMSxcIisoLjUrdCl9LFYpLFwi4pWfXCI6KFg9e30sWFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTVwiKyguNS1lKStcIiwwIExcIisoLjUtZSkrXCIsMSBNXCIrKC41K2UpK1wiLDAgTFwiKyguNStlKStcIiwxIE1cIisoLjUrZSkrXCIsLjUgTDEsLjVcIn0sWCksXCLilaBcIjooWj17fSxaWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNXCIrKC41LWUpK1wiLDAgTFwiKyguNS1lKStcIiwxIE0xLFwiKyguNSt0KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNSt0KStcIiBMXCIrKC41K2UpK1wiLDEgTTEsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsMFwifSxaKSxcIuKVoVwiOihZPXt9LFlbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0uNSwwIEwuNSwxIE0wLFwiKyguNS10KStcIiBMLjUsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMLjUsXCIrKC41K3QpfSxZKSxcIuKVolwiOihKPXt9LEpbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLC41IExcIisoLjUtZSkrXCIsLjUgTVwiKyguNS1lKStcIiwwIExcIisoLjUtZSkrXCIsMSBNXCIrKC41K2UpK1wiLDAgTFwiKyguNStlKStcIiwxXCJ9LEopLFwi4pWjXCI6KCQ9e30sJFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTVwiKyguNStlKStcIiwwIExcIisoLjUrZSkrXCIsMSBNMCxcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIixcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIiwxIE0wLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLDBcIn0sJCksXCLilaRcIjooUT17fSxRWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMCxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMMSxcIisoLjUrdCkrXCIgTS41LFwiKyguNSt0KStcIiBMLjUsMVwifSxRKSxcIuKVpVwiOihlZT17fSxlZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsLjUgTDEsLjUgTVwiKyguNS1lKStcIiwuNSBMXCIrKC41LWUpK1wiLDEgTVwiKyguNStlKStcIiwuNSBMXCIrKC41K2UpK1wiLDFcIn0sZWUpLFwi4pWmXCI6KHRlPXt9LHRlWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMCxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMXCIrKC41LWUpK1wiLFwiKyguNSt0KStcIiBMXCIrKC41LWUpK1wiLDEgTTEsXCIrKC41K3QpK1wiIExcIisoLjUrZSkrXCIsXCIrKC41K3QpK1wiIExcIisoLjUrZSkrXCIsMVwifSx0ZSksXCLiladcIjoocmU9e30scmVbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0uNSwwIEwuNSxcIisoLjUtdCkrXCIgTTAsXCIrKC41LXQpK1wiIEwxLFwiKyguNS10KStcIiBNMCxcIisoLjUrdCkrXCIgTDEsXCIrKC41K3QpfSxyZSksXCLilahcIjooaWU9e30saWVbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLC41IEwxLC41IE1cIisoLjUtZSkrXCIsLjUgTFwiKyguNS1lKStcIiwwIE1cIisoLjUrZSkrXCIsLjUgTFwiKyguNStlKStcIiwwXCJ9LGllKSxcIuKVqVwiOihuZT17fSxuZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41K3QpK1wiIEwxLFwiKyguNSt0KStcIiBNMCxcIisoLjUtdCkrXCIgTFwiKyguNS1lKStcIixcIisoLjUtdCkrXCIgTFwiKyguNS1lKStcIiwwIE0xLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLDBcIn0sbmUpLFwi4pWqXCI6KG9lPXt9LG9lWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNLjUsMCBMLjUsMSBNMCxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMMSxcIisoLjUrdCl9LG9lKSxcIuKVq1wiOihzZT17fSxzZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsLjUgTDEsLjUgTVwiKyguNS1lKStcIiwwIExcIisoLjUtZSkrXCIsMSBNXCIrKC41K2UpK1wiLDAgTFwiKyguNStlKStcIiwxXCJ9LHNlKSxcIuKVrFwiOihhZT17fSxhZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsMSBNMSxcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIixcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIiwxIE0wLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLDAgTTEsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsMFwifSxhZSksXCLilbFcIjooY2U9e30sY2VbMV09XCJNMSwwIEwwLDFcIixjZSksXCLilbJcIjoobGU9e30sbGVbMV09XCJNMCwwIEwxLDFcIixsZSksXCLilbNcIjooaGU9e30saGVbMV09XCJNMSwwIEwwLDEgTTAsMCBMMSwxXCIsaGUpLFwi4pW8XCI6KHVlPXt9LHVlWzFdPVwiTS41LC41IEwwLC41XCIsdWVbM109XCJNLjUsLjUgTDEsLjVcIix1ZSksXCLilb1cIjooZmU9e30sZmVbMV09XCJNLjUsLjUgTC41LDBcIixmZVszXT1cIk0uNSwuNSBMLjUsMVwiLGZlKSxcIuKVvlwiOihfZT17fSxfZVsxXT1cIk0uNSwuNSBMMSwuNVwiLF9lWzNdPVwiTS41LC41IEwwLC41XCIsX2UpLFwi4pW/XCI6KGRlPXt9LGRlWzFdPVwiTS41LC41IEwuNSwxXCIsZGVbM109XCJNLjUsLjUgTC41LDBcIixkZSksXCLilI1cIjoocGU9e30scGVbMV09XCJNLjUsLjUgTC41LDFcIixwZVszXT1cIk0uNSwuNSBMMSwuNVwiLHBlKSxcIuKUjlwiOih2ZT17fSx2ZVsxXT1cIk0uNSwuNSBMMSwuNVwiLHZlWzNdPVwiTS41LC41IEwuNSwxXCIsdmUpLFwi4pSRXCI6KHllPXt9LHllWzFdPVwiTS41LC41IEwuNSwxXCIseWVbM109XCJNLjUsLjUgTDAsLjVcIix5ZSksXCLilJJcIjooZ2U9e30sZ2VbMV09XCJNLjUsLjUgTDAsLjVcIixnZVszXT1cIk0uNSwuNSBMLjUsMVwiLGdlKSxcIuKUlVwiOihtZT17fSxtZVsxXT1cIk0uNSwuNSBMLjUsMFwiLG1lWzNdPVwiTS41LC41IEwxLC41XCIsbWUpLFwi4pSWXCI6KGJlPXt9LGJlWzFdPVwiTS41LC41IEwxLC41XCIsYmVbM109XCJNLjUsLjUgTC41LDBcIixiZSksXCLilJlcIjooU2U9e30sU2VbMV09XCJNLjUsLjUgTC41LDBcIixTZVszXT1cIk0uNSwuNSBMMCwuNVwiLFNlKSxcIuKUmlwiOihDZT17fSxDZVsxXT1cIk0uNSwuNSBMMCwuNVwiLENlWzNdPVwiTS41LC41IEwuNSwwXCIsQ2UpLFwi4pSdXCI6KHdlPXt9LHdlWzFdPVwiTS41LDAgTC41LDFcIix3ZVszXT1cIk0uNSwuNSBMMSwuNVwiLHdlKSxcIuKUnlwiOihMZT17fSxMZVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixMZVszXT1cIk0uNSwuNSBMLjUsMFwiLExlKSxcIuKUn1wiOihFZT17fSxFZVsxXT1cIk0uNSwwIEwuNSwuNSBMMSwuNVwiLEVlWzNdPVwiTS41LC41IEwuNSwxXCIsRWUpLFwi4pSgXCI6KHhlPXt9LHhlWzFdPVwiTS41LC41IEwxLC41XCIseGVbM109XCJNLjUsMCBMLjUsMVwiLHhlKSxcIuKUoVwiOihSZT17fSxSZVsxXT1cIk0uNSwuNSBMLjUsMVwiLFJlWzNdPVwiTS41LDAgTC41LC41IEwxLC41XCIsUmUpLFwi4pSiXCI6KGtlPXt9LGtlWzFdPVwiTS41LC41IEwuNSwwXCIsa2VbM109XCJNMC41LDEgTC41LC41IEwxLC41XCIsa2UpLFwi4pSlXCI6KE1lPXt9LE1lWzFdPVwiTS41LDAgTC41LDFcIixNZVszXT1cIk0uNSwuNSBMMCwuNVwiLE1lKSxcIuKUplwiOihBZT17fSxBZVsxXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEFlWzNdPVwiTS41LC41IEwuNSwwXCIsQWUpLFwi4pSnXCI6KE9lPXt9LE9lWzFdPVwiTS41LDAgTC41LC41IEwwLC41XCIsT2VbM109XCJNLjUsLjUgTC41LDFcIixPZSksXCLilKhcIjooRGU9e30sRGVbMV09XCJNLjUsLjUgTDAsLjVcIixEZVszXT1cIk0uNSwwIEwuNSwxXCIsRGUpLFwi4pSpXCI6KFRlPXt9LFRlWzFdPVwiTS41LC41IEwuNSwxXCIsVGVbM109XCJNLjUsMCBMLjUsLjUgTDAsLjVcIixUZSksXCLilKpcIjooQmU9e30sQmVbMV09XCJNLjUsLjUgTC41LDBcIixCZVszXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEJlKSxcIuKUrVwiOihQZT17fSxQZVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixQZVszXT1cIk0uNSwuNSBMMCwuNVwiLFBlKSxcIuKUrlwiOihJZT17fSxJZVsxXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEllWzNdPVwiTS41LC41IEwxLC41XCIsSWUpLFwi4pSvXCI6KEhlPXt9LEhlWzFdPVwiTS41LC41IEwuNSwxXCIsSGVbM109XCJNMCwuNSBMMSwuNVwiLEhlKSxcIuKUsFwiOihqZT17fSxqZVsxXT1cIk0wLC41IEwxLC41XCIsamVbM109XCJNLjUsLjUgTC41LDFcIixqZSksXCLilLFcIjooRmU9e30sRmVbMV09XCJNLjUsLjUgTDEsLjVcIixGZVszXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEZlKSxcIuKUslwiOihXZT17fSxXZVsxXT1cIk0uNSwuNSBMMCwuNVwiLFdlWzNdPVwiTTAuNSwxIEwuNSwuNSBMMSwuNVwiLFdlKSxcIuKUtVwiOihVZT17fSxVZVsxXT1cIk0uNSwwIEwuNSwuNSBMMSwuNVwiLFVlWzNdPVwiTS41LC41IEwwLC41XCIsVWUpLFwi4pS2XCI6KHFlPXt9LHFlWzFdPVwiTS41LDAgTC41LC41IEwwLC41XCIscWVbM109XCJNLjUsLjUgTDEsLjVcIixxZSksXCLilLdcIjooTmU9e30sTmVbMV09XCJNLjUsLjUgTC41LDBcIixOZVszXT1cIk0wLC41IEwxLC41XCIsTmUpLFwi4pS4XCI6KHplPXt9LHplWzFdPVwiTTAsLjUgTDEsLjVcIix6ZVszXT1cIk0uNSwuNSBMLjUsMFwiLHplKSxcIuKUuVwiOihLZT17fSxLZVsxXT1cIk0uNSwuNSBMMSwuNVwiLEtlWzNdPVwiTS41LDAgTC41LC41IEwwLC41XCIsS2UpLFwi4pS6XCI6KEdlPXt9LEdlWzFdPVwiTS41LC41IEwwLC41XCIsR2VbM109XCJNLjUsMCBMLjUsLjUgTDEsLjVcIixHZSksXCLilL1cIjooVmU9e30sVmVbMV09XCJNLjUsMCBMLjUsMSBNLjUsLjUgTDEsLjVcIixWZVszXT1cIk0uNSwuNSBMMCwuNVwiLFZlKSxcIuKUvlwiOihYZT17fSxYZVsxXT1cIk0uNSwwIEwuNSwxIE0uNSwuNSBMMCwuNVwiLFhlWzNdPVwiTS41LC41IEwxLC41XCIsWGUpLFwi4pS/XCI6KFplPXt9LFplWzFdPVwiTS41LDAgTC41LDFcIixaZVszXT1cIk0wLC41IEwxLC41XCIsWmUpLFwi4pWAXCI6KFllPXt9LFllWzFdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsWWVbM109XCJNLjUsLjUgTC41LDBcIixZZSksXCLilYFcIjooSmU9e30sSmVbMV09XCJNLjUsLjUgTC41LDAgTTAsLjUgTDEsLjVcIixKZVszXT1cIk0uNSwuNSBMLjUsMVwiLEplKSxcIuKVglwiOigkZT17fSwkZVsxXT1cIk0wLC41IEwxLC41XCIsJGVbM109XCJNLjUsMCBMLjUsMVwiLCRlKSxcIuKVg1wiOihRZT17fSxRZVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixRZVszXT1cIk0uNSwwIEwuNSwuNSBMMCwuNVwiLFFlKSxcIuKVhFwiOihldD17fSxldFsxXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLGV0WzNdPVwiTS41LDAgTC41LC41IEwxLC41XCIsZXQpLFwi4pWFXCI6KHR0PXt9LHR0WzFdPVwiTS41LDAgTC41LC41IEwxLC41XCIsdHRbM109XCJNMCwuNSBMLjUsLjUgTC41LDFcIix0dCksXCLilYZcIjoocnQ9e30scnRbMV09XCJNLjUsMCBMLjUsLjUgTDAsLjVcIixydFszXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixydCksXCLilYdcIjooaXQ9e30saXRbMV09XCJNLjUsLjUgTC41LDFcIixpdFszXT1cIk0uNSwuNSBMLjUsMCBNMCwuNSBMMSwuNVwiLGl0KSxcIuKViFwiOihudD17fSxudFsxXT1cIk0uNSwuNSBMLjUsMFwiLG50WzNdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsbnQpLFwi4pWJXCI6KG90PXt9LG90WzFdPVwiTS41LC41IEwxLC41XCIsb3RbM109XCJNLjUsMCBMLjUsMSBNLjUsLjUgTDAsLjVcIixvdCksXCLilYpcIjooc3Q9e30sc3RbMV09XCJNLjUsLjUgTDAsLjVcIixzdFszXT1cIk0uNSwwIEwuNSwxIE0uNSwuNSBMMSwuNVwiLHN0KSxcIuKVjFwiOihhdD17fSxhdFsxXT1cIk0uMSwuNSBMLjQsLjUgTS42LC41IEwuOSwuNVwiLGF0KSxcIuKVjVwiOihjdD17fSxjdFszXT1cIk0uMSwuNSBMLjQsLjUgTS42LC41IEwuOSwuNVwiLGN0KSxcIuKUhFwiOihsdD17fSxsdFsxXT1cIk0uMDY2NywuNSBMLjI2NjcsLjUgTS40LC41IEwuNiwuNSBNLjczMzMsLjUgTC45MzMzLC41XCIsbHQpLFwi4pSFXCI6KGh0PXt9LGh0WzNdPVwiTS4wNjY3LC41IEwuMjY2NywuNSBNLjQsLjUgTC42LC41IE0uNzMzMywuNSBMLjkzMzMsLjVcIixodCksXCLilIhcIjoodXQ9e30sdXRbMV09XCJNLjA1LC41IEwuMiwuNSBNLjMsLjUgTC40NSwuNSBNLjU1LC41IEwuNywuNSBNLjgsLjUgTC45NSwuNVwiLHV0KSxcIuKUiVwiOihmdD17fSxmdFszXT1cIk0uMDUsLjUgTC4yLC41IE0uMywuNSBMLjQ1LC41IE0uNTUsLjUgTC43LC41IE0uOCwuNSBMLjk1LC41XCIsZnQpLFwi4pWOXCI6KF90PXt9LF90WzFdPVwiTS41LC4xIEwuNSwuNCBNLjUsLjYgTC41LC45XCIsX3QpLFwi4pWPXCI6KGR0PXt9LGR0WzNdPVwiTS41LC4xIEwuNSwuNCBNLjUsLjYgTC41LC45XCIsZHQpLFwi4pSGXCI6KHB0PXt9LHB0WzFdPVwiTS41LC4wNjY3IEwuNSwuMjY2NyBNLjUsLjQgTC41LC42IE0uNSwuNzMzMyBMLjUsLjkzMzNcIixwdCksXCLilIdcIjoodnQ9e30sdnRbM109XCJNLjUsLjA2NjcgTC41LC4yNjY3IE0uNSwuNCBMLjUsLjYgTS41LC43MzMzIEwuNSwuOTMzM1wiLHZ0KSxcIuKUilwiOih5dD17fSx5dFsxXT1cIk0uNSwuMDUgTC41LC4yIE0uNSwuMyBMLjUsLjQ1IEwuNSwuNTUgTS41LC43IEwuNSwuOTVcIix5dCksXCLilItcIjooZ3Q9e30sZ3RbM109XCJNLjUsLjA1IEwuNSwuMiBNLjUsLjMgTC41LC40NSBMLjUsLjU1IE0uNSwuNyBMLjUsLjk1XCIsZ3QpLFwi4pWtXCI6KG10PXt9LG10WzFdPVwiQy41LDEsLjUsLjUsMSwuNVwiLG10KSxcIuKVrlwiOihidD17fSxidFsxXT1cIkMuNSwxLC41LC41LDAsLjVcIixidCksXCLila9cIjooU3Q9e30sU3RbMV09XCJDLjUsMCwuNSwuNSwwLC41XCIsU3QpLFwi4pWwXCI6KEN0PXt9LEN0WzFdPVwiQy41LDAsLjUsLjUsMSwuNVwiLEN0KX0sdC5wb3dlcmxpbmVEZWZpbml0aW9ucz17XCLugrBcIjp7ZDpcIk0wLDAgTDEsLjUgTDAsMVwiLHR5cGU6MH0sXCLugrFcIjp7ZDpcIk0wLDAgTDEsLjUgTDAsMVwiLHR5cGU6MSxob3Jpem9udGFsUGFkZGluZzouNX0sXCLugrJcIjp7ZDpcIk0xLDAgTDAsLjUgTDEsMVwiLHR5cGU6MH0sXCLugrNcIjp7ZDpcIk0xLDAgTDAsLjUgTDEsMVwiLHR5cGU6MSxob3Jpem9udGFsUGFkZGluZzouNX19LHQudHJ5RHJhd0N1c3RvbUNoYXI9ZnVuY3Rpb24oZSxyLGksbixvLHMpe3ZhciBhPXQuYmxvY2tFbGVtZW50RGVmaW5pdGlvbnNbcl07aWYoYSlyZXR1cm4gZnVuY3Rpb24oZSx0LHIsaSxuLG8pe2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYT10W3NdLGM9bi84LGw9by84O2UuZmlsbFJlY3QocithLngqYyxpK2EueSpsLGEudypjLGEuaCpsKX19KGUsYSxpLG4sbyxzKSwhMDt2YXIgYz14dFtyXTtpZihjKXJldHVybiBmdW5jdGlvbihlLHQscixpLG4sbyl7dmFyIHMsYT1SdC5nZXQodCk7YXx8KGE9bmV3IE1hcCxSdC5zZXQodCxhKSk7dmFyIGM9ZS5maWxsU3R5bGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGMpdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGZpbGxTdHlsZSB0eXBlIFwiJytjKydcIicpO3ZhciBsPWEuZ2V0KGMpO2lmKCFsKXt2YXIgaD10WzBdLmxlbmd0aCx1PXQubGVuZ3RoLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtmLndpZHRoPWgsZi5oZWlnaHQ9dTt2YXIgXz0oMCxFdC50aHJvd0lmRmFsc3kpKGYuZ2V0Q29udGV4dChcIjJkXCIpKSxkPW5ldyBJbWFnZURhdGEoaCx1KSxwPXZvaWQgMCx2PXZvaWQgMCx5PXZvaWQgMCxnPXZvaWQgMDtpZihjLnN0YXJ0c1dpdGgoXCIjXCIpKXA9cGFyc2VJbnQoYy5zbGljZSgxLDMpLDE2KSx2PXBhcnNlSW50KGMuc2xpY2UoMyw1KSwxNikseT1wYXJzZUludChjLnNsaWNlKDUsNyksMTYpLGc9Yy5sZW5ndGg+NyYmcGFyc2VJbnQoYy5zbGljZSg3LDkpLDE2KXx8MTtlbHNle2lmKCFjLnN0YXJ0c1dpdGgoXCJyZ2JhXCIpKXRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBmaWxsU3R5bGUgY29sb3IgZm9ybWF0IFwiJytjKydcIiB3aGVuIGRyYXdpbmcgcGF0dGVybiBnbHlwaCcpO3A9KHM9d3QoYy5zdWJzdHJpbmcoNSxjLmxlbmd0aC0xKS5zcGxpdChcIixcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VGbG9hdChlKX0pKSw0KSlbMF0sdj1zWzFdLHk9c1syXSxnPXNbM119Zm9yKHZhciBtPTA7bTx1O20rKylmb3IodmFyIGI9MDtiPGg7YisrKWQuZGF0YVs0KihtKmgrYildPXAsZC5kYXRhWzQqKG0qaCtiKSsxXT12LGQuZGF0YVs0KihtKmgrYikrMl09eSxkLmRhdGFbNCoobSpoK2IpKzNdPXRbbV1bYl0qKDI1NSpnKTtfLnB1dEltYWdlRGF0YShkLDAsMCksbD0oMCxFdC50aHJvd0lmRmFsc3kpKGUuY3JlYXRlUGF0dGVybihmLG51bGwpKSxhLnNldChjLGwpfWUuZmlsbFN0eWxlPWwsZS5maWxsUmVjdChyLGksbixvKX0oZSxjLGksbixvLHMpLCEwO3ZhciBsPXQuYm94RHJhd2luZ0RlZmluaXRpb25zW3JdO2lmKGwpcmV0dXJuIGZ1bmN0aW9uKGUsdCxyLGksbixvKXt2YXIgcyxhLGMsbDtlLnN0cm9rZVN0eWxlPWUuZmlsbFN0eWxlO3RyeXtmb3IodmFyIGg9THQoT2JqZWN0LmVudHJpZXModCkpLHU9aC5uZXh0KCk7IXUuZG9uZTt1PWgubmV4dCgpKXt2YXIgZj13dCh1LnZhbHVlLDIpLF89ZlswXSxkPWZbMV07ZS5iZWdpblBhdGgoKSxlLmxpbmVXaWR0aD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbypOdW1iZXIucGFyc2VJbnQoXyk7dmFyIHA9dm9pZCAwO3A9XCJmdW5jdGlvblwiPT10eXBlb2YgZD9kKC4xNSwuMTUvbypuKTpkO3RyeXtmb3IodmFyIHY9KGM9dm9pZCAwLEx0KHAuc3BsaXQoXCIgXCIpKSkseT12Lm5leHQoKTsheS5kb25lO3k9di5uZXh0KCkpe3ZhciBnPXkudmFsdWUsbT1nWzBdLGI9TXRbbV07aWYoYil7dmFyIFM9Zy5zdWJzdHJpbmcoMSkuc3BsaXQoXCIsXCIpO1NbMF0mJlNbMV0mJmIoZSxBdChTLG4sbyxyLGkpKX1lbHNlIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGRyYXdpbmcgaW5zdHJ1Y3Rpb25zIGZvciBcIicrbSsnXCInKX19Y2F0Y2goZSl7Yz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7eSYmIXkuZG9uZSYmKGw9di5yZXR1cm4pJiZsLmNhbGwodil9ZmluYWxseXtpZihjKXRocm93IGMuZXJyb3J9fWUuc3Ryb2tlKCksZS5jbG9zZVBhdGgoKX19Y2F0Y2goZSl7cz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKGE9aC5yZXR1cm4pJiZhLmNhbGwoaCl9ZmluYWxseXtpZihzKXRocm93IHMuZXJyb3J9fX0oZSxsLGksbixvLHMpLCEwO3ZhciBoPXQucG93ZXJsaW5lRGVmaW5pdGlvbnNbcl07cmV0dXJuISFoJiYoZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBzLGE7ZS5iZWdpblBhdGgoKSxlLmxpbmVXaWR0aD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzt0cnl7Zm9yKHZhciBjPUx0KHQuZC5zcGxpdChcIiBcIikpLGw9Yy5uZXh0KCk7IWwuZG9uZTtsPWMubmV4dCgpKXt2YXIgaD1sLnZhbHVlLHU9aFswXSxmPU10W3VdO2lmKGYpe3ZhciBfPWguc3Vic3RyaW5nKDEpLnNwbGl0KFwiLFwiKTtfWzBdJiZfWzFdJiZmKGUsQXQoXyxuLG8scixpLHQuaG9yaXpvbnRhbFBhZGRpbmcpKX1lbHNlIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGRyYXdpbmcgaW5zdHJ1Y3Rpb25zIGZvciBcIicrdSsnXCInKX19Y2F0Y2goZSl7cz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7bCYmIWwuZG9uZSYmKGE9Yy5yZXR1cm4pJiZhLmNhbGwoYyl9ZmluYWxseXtpZihzKXRocm93IHMuZXJyb3J9fTE9PT10LnR5cGU/KGUuc3Ryb2tlU3R5bGU9ZS5maWxsU3R5bGUsZS5zdHJva2UoKSk6ZS5maWxsKCksZS5jbG9zZVBhdGgoKX0oZSxoLGksbixvLHMpLCEwKX07dmFyIFJ0PW5ldyBNYXA7ZnVuY3Rpb24ga3QoZSx0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0wKSxNYXRoLm1heChNYXRoLm1pbihlLHQpLHIpfXZhciBNdD17QzpmdW5jdGlvbihlLHQpe3JldHVybiBlLmJlemllckN1cnZlVG8odFswXSx0WzFdLHRbMl0sdFszXSx0WzRdLHRbNV0pfSxMOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGluZVRvKHRbMF0sdFsxXSl9LE06ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tb3ZlVG8odFswXSx0WzFdKX19O2Z1bmN0aW9uIEF0KGUsdCxyLGksbixvKXt2b2lkIDA9PT1vJiYobz0wKTt2YXIgcz1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl8fHBhcnNlSW50KGUpfSkpO2lmKHMubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiVG9vIGZldyBhcmd1bWVudHMgZm9yIGluc3RydWN0aW9uXCIpO2Zvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSs9MilzW2FdKj10LTIqbyp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywwIT09c1thXSYmKHNbYV09a3QoTWF0aC5yb3VuZChzW2FdKy41KS0uNSx0LDApKSxzW2FdKz1pK28qd2luZG93LmRldmljZVBpeGVsUmF0aW87Zm9yKHZhciBjPTE7YzxzLmxlbmd0aDtjKz0yKXNbY10qPXIsMCE9PXNbY10mJihzW2NdPWt0KE1hdGgucm91bmQoc1tjXSsuNSktLjUsciwwKSksc1tjXSs9bjtyZXR1cm4gc319LDM3MDA6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkdyaWRDYWNoZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jYWNoZT1bXX1yZXR1cm4gZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlO3IrKyl7dGhpcy5jYWNoZS5sZW5ndGg8PXImJnRoaXMuY2FjaGUucHVzaChbXSk7Zm9yKHZhciBpPXRoaXMuY2FjaGVbcl0ubGVuZ3RoO2k8dDtpKyspdGhpcy5jYWNoZVtyXS5wdXNoKHZvaWQgMCk7dGhpcy5jYWNoZVtyXS5sZW5ndGg9dH10aGlzLmNhY2hlLmxlbmd0aD1lfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5jYWNoZS5sZW5ndGg7ZSsrKWZvcih2YXIgdD0wO3Q8dGhpcy5jYWNoZVtlXS5sZW5ndGg7dCsrKXRoaXMuY2FjaGVbZV1bdF09dm9pZCAwfSxlfSgpO3QuR3JpZENhY2hlPXJ9LDUwOTg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGlua1JlbmRlckxheWVyPXZvaWQgMDt2YXIgYT1yKDE1NDYpLGM9cig4ODAzKSxsPXIoMjA0MCksaD1yKDI1ODUpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyxhLGMsbCl7dmFyIGg9ZS5jYWxsKHRoaXMsdCxcImxpbmtcIixyLCEwLGksbixhLGMsbCl8fHRoaXM7cmV0dXJuIG8ub25TaG93TGlua1VuZGVybGluZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGguX29uU2hvd0xpbmtVbmRlcmxpbmUoZSl9KSksby5vbkhpZGVMaW5rVW5kZXJsaW5lKChmdW5jdGlvbihlKXtyZXR1cm4gaC5fb25IaWRlTGlua1VuZGVybGluZShlKX0pKSxzLm9uU2hvd0xpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBoLl9vblNob3dMaW5rVW5kZXJsaW5lKGUpfSkpLHMub25IaWRlTGlua1VuZGVybGluZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGguX29uSGlkZUxpbmtVbmRlcmxpbmUoZSl9KSksaH1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXtlLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLHQpLHRoaXMuX3N0YXRlPXZvaWQgMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckN1cnJlbnRMaW5rKCl9LHQucHJvdG90eXBlLl9jbGVhckN1cnJlbnRMaW5rPWZ1bmN0aW9uKCl7aWYodGhpcy5fc3RhdGUpe3RoaXMuX2NsZWFyQ2VsbHModGhpcy5fc3RhdGUueDEsdGhpcy5fc3RhdGUueTEsdGhpcy5fc3RhdGUuY29scy10aGlzLl9zdGF0ZS54MSwxKTt2YXIgZT10aGlzLl9zdGF0ZS55Mi10aGlzLl9zdGF0ZS55MS0xO2U+MCYmdGhpcy5fY2xlYXJDZWxscygwLHRoaXMuX3N0YXRlLnkxKzEsdGhpcy5fc3RhdGUuY29scyxlKSx0aGlzLl9jbGVhckNlbGxzKDAsdGhpcy5fc3RhdGUueTIsdGhpcy5fc3RhdGUueDIsMSksdGhpcy5fc3RhdGU9dm9pZCAwfX0sdC5wcm90b3R5cGUuX29uU2hvd0xpbmtVbmRlcmxpbmU9ZnVuY3Rpb24oZSl7aWYoZS5mZz09PWMuSU5WRVJURURfREVGQVVMVF9DT0xPUj90aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5iYWNrZ3JvdW5kLmNzczplLmZnJiYoMCxsLmlzMjU2Q29sb3IpKGUuZmcpP3RoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmFuc2lbZS5mZ10uY3NzOnRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzLGUueTE9PT1lLnkyKXRoaXMuX2ZpbGxCb3R0b21MaW5lQXRDZWxscyhlLngxLGUueTEsZS54Mi1lLngxKTtlbHNle3RoaXMuX2ZpbGxCb3R0b21MaW5lQXRDZWxscyhlLngxLGUueTEsZS5jb2xzLWUueDEpO2Zvcih2YXIgdD1lLnkxKzE7dDxlLnkyO3QrKyl0aGlzLl9maWxsQm90dG9tTGluZUF0Q2VsbHMoMCx0LGUuY29scyk7dGhpcy5fZmlsbEJvdHRvbUxpbmVBdENlbGxzKDAsZS55MixlLngyKX10aGlzLl9zdGF0ZT1lfSx0LnByb3RvdHlwZS5fb25IaWRlTGlua1VuZGVybGluZT1mdW5jdGlvbihlKXt0aGlzLl9jbGVhckN1cnJlbnRMaW5rKCl9LG8oW3MoNixoLklCdWZmZXJTZXJ2aWNlKSxzKDcsaC5JT3B0aW9uc1NlcnZpY2UpLHMoOCxoLklEZWNvcmF0aW9uU2VydmljZSldLHQpfShhLkJhc2VSZW5kZXJMYXllcik7dC5MaW5rUmVuZGVyTGF5ZXI9dX0sMzUyNTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxvPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LHM9dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX0sYT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJlbmRlcmVyPXZvaWQgMDt2YXIgYz1yKDk1OTYpLGw9cig0MTQ5KSxoPXIoMjUxMiksdT1yKDUwOTgpLGY9cig4NDQpLF89cig0NzI1KSxkPXIoMjU4NSkscD1yKDE0MjApLHY9cig4NDYwKSx5PTEsZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzLGEsZil7dmFyIF89ZS5jYWxsKHRoaXMpfHx0aGlzO18uX2NvbG9ycz10LF8uX3NjcmVlbkVsZW1lbnQ9cixfLl9idWZmZXJTZXJ2aWNlPXMsXy5fY2hhclNpemVTZXJ2aWNlPWEsXy5fb3B0aW9uc1NlcnZpY2U9ZixfLl9pZD15KyssXy5fb25SZXF1ZXN0UmVkcmF3PW5ldyB2LkV2ZW50RW1pdHRlcjt2YXIgZD1fLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmFsbG93VHJhbnNwYXJlbmN5O3JldHVybiBfLl9yZW5kZXJMYXllcnM9W28uY3JlYXRlSW5zdGFuY2UoYy5UZXh0UmVuZGVyTGF5ZXIsXy5fc2NyZWVuRWxlbWVudCwwLF8uX2NvbG9ycyxkLF8uX2lkKSxvLmNyZWF0ZUluc3RhbmNlKGwuU2VsZWN0aW9uUmVuZGVyTGF5ZXIsXy5fc2NyZWVuRWxlbWVudCwxLF8uX2NvbG9ycyxfLl9pZCksby5jcmVhdGVJbnN0YW5jZSh1LkxpbmtSZW5kZXJMYXllcixfLl9zY3JlZW5FbGVtZW50LDIsXy5fY29sb3JzLF8uX2lkLGksbiksby5jcmVhdGVJbnN0YW5jZShoLkN1cnNvclJlbmRlckxheWVyLF8uX3NjcmVlbkVsZW1lbnQsMyxfLl9jb2xvcnMsXy5faWQsXy5fb25SZXF1ZXN0UmVkcmF3KV0sXy5kaW1lbnNpb25zPXtzY2FsZWRDaGFyV2lkdGg6MCxzY2FsZWRDaGFySGVpZ2h0OjAsc2NhbGVkQ2VsbFdpZHRoOjAsc2NhbGVkQ2VsbEhlaWdodDowLHNjYWxlZENoYXJMZWZ0OjAsc2NhbGVkQ2hhclRvcDowLHNjYWxlZENhbnZhc1dpZHRoOjAsc2NhbGVkQ2FudmFzSGVpZ2h0OjAsY2FudmFzV2lkdGg6MCxjYW52YXNIZWlnaHQ6MCxhY3R1YWxDZWxsV2lkdGg6MCxhY3R1YWxDZWxsSGVpZ2h0OjB9LF8uX2RldmljZVBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW8sXy5fdXBkYXRlRGltZW5zaW9ucygpLF8ub25PcHRpb25zQ2hhbmdlZCgpLF99cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlcXVlc3RSZWRyYXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFJlZHJhdy5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQscjt0cnl7Zm9yKHZhciBpPWEodGhpcy5fcmVuZGVyTGF5ZXJzKSxuPWkubmV4dCgpOyFuLmRvbmU7bj1pLm5leHQoKSluLnZhbHVlLmRpc3Bvc2UoKX1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19ZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLCgwLHAucmVtb3ZlVGVybWluYWxGcm9tQ2FjaGUpKHRoaXMuX2lkKX0sdC5wcm90b3R5cGUub25EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fZGV2aWNlUGl4ZWxSYXRpbyE9PXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvJiYodGhpcy5fZGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLm9uUmVzaXplKHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpKX0sdC5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5fY29sb3JzPWU7dHJ5e2Zvcih2YXIgaT1hKHRoaXMuX3JlbmRlckxheWVycyksbj1pLm5leHQoKTshbi5kb25lO249aS5uZXh0KCkpe3ZhciBvPW4udmFsdWU7by5zZXRDb2xvcnModGhpcy5fY29sb3JzKSxvLnJlc2V0KCl9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX19LHQucHJvdG90eXBlLm9uUmVzaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaTt0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7dHJ5e2Zvcih2YXIgbj1hKHRoaXMuX3JlbmRlckxheWVycyksbz1uLm5leHQoKTshby5kb25lO289bi5uZXh0KCkpby52YWx1ZS5yZXNpemUodGhpcy5kaW1lbnNpb25zKX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtvJiYhby5kb25lJiYoaT1uLnJldHVybikmJmkuY2FsbChuKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dGhpcy5fc2NyZWVuRWxlbWVudC5zdHlsZS53aWR0aD10aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGgrXCJweFwiLHRoaXMuX3NjcmVlbkVsZW1lbnQuc3R5bGUuaGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQrXCJweFwifSx0LnByb3RvdHlwZS5vbkNoYXJTaXplQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMub25SZXNpemUodGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyl9LHQucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuX3J1bk9wZXJhdGlvbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUub25CbHVyKCl9KSl9LHQucHJvdG90eXBlLm9uRm9jdXM9ZnVuY3Rpb24oKXt0aGlzLl9ydW5PcGVyYXRpb24oKGZ1bmN0aW9uKGUpe3JldHVybiBlLm9uRm9jdXMoKX0pKX0sdC5wcm90b3R5cGUub25TZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fcnVuT3BlcmF0aW9uKChmdW5jdGlvbihpKXtyZXR1cm4gaS5vblNlbGVjdGlvbkNoYW5nZWQoZSx0LHIpfSkpLHRoaXMuX2NvbG9ycy5zZWxlY3Rpb25Gb3JlZ3JvdW5kJiZ0aGlzLl9vblJlcXVlc3RSZWRyYXcuZmlyZSh7c3RhcnQ6MCxlbmQ6dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTF9KX0sdC5wcm90b3R5cGUub25DdXJzb3JNb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcnVuT3BlcmF0aW9uKChmdW5jdGlvbihlKXtyZXR1cm4gZS5vbkN1cnNvck1vdmUoKX0pKX0sdC5wcm90b3R5cGUub25PcHRpb25zQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX3J1bk9wZXJhdGlvbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUub25PcHRpb25zQ2hhbmdlZCgpfSkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX3J1bk9wZXJhdGlvbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzZXQoKX0pKX0sdC5wcm90b3R5cGUuX3J1bk9wZXJhdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxyO3RyeXtmb3IodmFyIGk9YSh0aGlzLl9yZW5kZXJMYXllcnMpLG49aS5uZXh0KCk7IW4uZG9uZTtuPWkubmV4dCgpKWUobi52YWx1ZSl9Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX0sdC5wcm90b3R5cGUucmVuZGVyUm93cz1mdW5jdGlvbihlLHQpe3ZhciByLGk7dHJ5e2Zvcih2YXIgbj1hKHRoaXMuX3JlbmRlckxheWVycyksbz1uLm5leHQoKTshby5kb25lO289bi5uZXh0KCkpby52YWx1ZS5vbkdyaWRDaGFuZ2VkKGUsdCl9Y2F0Y2goZSl7cj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKGk9bi5yZXR1cm4pJiZpLmNhbGwobil9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX0sdC5wcm90b3R5cGUuY2xlYXJUZXh0dXJlQXRsYXM9ZnVuY3Rpb24oKXt2YXIgZSx0O3RyeXtmb3IodmFyIHI9YSh0aGlzLl9yZW5kZXJMYXllcnMpLGk9ci5uZXh0KCk7IWkuZG9uZTtpPXIubmV4dCgpKWkudmFsdWUuY2xlYXJUZXh0dXJlQXRsYXMoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1yLnJldHVybikmJnQuY2FsbChyKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSx0LnByb3RvdHlwZS5fdXBkYXRlRGltZW5zaW9ucz1mdW5jdGlvbigpe3RoaXMuX2NoYXJTaXplU2VydmljZS5oYXNWYWxpZFNpemUmJih0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoPU1hdGguZmxvb3IodGhpcy5fY2hhclNpemVTZXJ2aWNlLndpZHRoKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodD1NYXRoLmNlaWwodGhpcy5fY2hhclNpemVTZXJ2aWNlLmhlaWdodCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQ9TWF0aC5mbG9vcih0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodCp0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxpbmVIZWlnaHQpLHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFyVG9wPTE9PT10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxpbmVIZWlnaHQ/MDpNYXRoLnJvdW5kKCh0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodC10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodCkvMiksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aD10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoK01hdGgucm91bmQodGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5sZXR0ZXJTcGFjaW5nKSx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckxlZnQ9TWF0aC5mbG9vcih0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxldHRlclNwYWNpbmcvMiksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodD10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MqdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQsdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc1dpZHRoPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyp0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbFdpZHRoLHRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzSGVpZ2h0L3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGg9TWF0aC5yb3VuZCh0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzV2lkdGgvd2luZG93LmRldmljZVBpeGVsUmF0aW8pLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQvdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGg9dGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRoL3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scyl9LG8oW3MoNCxkLklJbnN0YW50aWF0aW9uU2VydmljZSkscyg1LGQuSUJ1ZmZlclNlcnZpY2UpLHMoNixfLklDaGFyU2l6ZVNlcnZpY2UpLHMoNyxkLklPcHRpb25zU2VydmljZSldLHQpfShmLkRpc3Bvc2FibGUpO3QuUmVuZGVyZXI9Z30sMTc1MjooZSx0KT0+e2Z1bmN0aW9uIHIoZSl7cmV0dXJuIDU3NTA4PD1lJiZlPD01NzU1OH1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4Y2x1ZGVGcm9tQ29udHJhc3RSYXRpb0RlbWFuZHM9dC5pc1Bvd2VybGluZUdseXBoPXQudGhyb3dJZkZhbHN5PXZvaWQgMCx0LnRocm93SWZGYWxzeT1mdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZSBtdXN0IG5vdCBiZSBmYWxzeVwiKTtyZXR1cm4gZX0sdC5pc1Bvd2VybGluZUdseXBoPXIsdC5leGNsdWRlRnJvbUNvbnRyYXN0UmF0aW9EZW1hbmRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gOTQ3Mjw9ZSYmZTw9OTYzMX0oZSl9fSw0MTQ5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNlbGVjdGlvblJlbmRlckxheWVyPXZvaWQgMDt2YXIgYT1yKDE1NDYpLGM9cigyNTg1KSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLHMsYSl7dmFyIGM9ZS5jYWxsKHRoaXMsdCxcInNlbGVjdGlvblwiLHIsITAsaSxuLG8scyxhKXx8dGhpcztyZXR1cm4gYy5fY2xlYXJTdGF0ZSgpLGN9cmV0dXJuIG4odCxlKSx0LnByb3RvdHlwZS5fY2xlYXJTdGF0ZT1mdW5jdGlvbigpe3RoaXMuX3N0YXRlPXtzdGFydDp2b2lkIDAsZW5kOnZvaWQgMCxjb2x1bW5TZWxlY3RNb2RlOnZvaWQgMCx5ZGlzcDp2b2lkIDB9fSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0KSx0aGlzLl9jbGVhclN0YXRlKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhdGUuc3RhcnQmJnRoaXMuX3N0YXRlLmVuZCYmKHRoaXMuX2NsZWFyU3RhdGUoKSx0aGlzLl9jbGVhckFsbCgpKX0sdC5wcm90b3R5cGUub25TZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKHQscixpKXtpZihlLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZWQuY2FsbCh0aGlzLHQscixpKSx0aGlzLl9kaWRTdGF0ZUNoYW5nZSh0LHIsaSx0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCkpaWYodGhpcy5fY2xlYXJBbGwoKSx0JiZyKXt2YXIgbj10WzFdLXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLG89clsxXS10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCxzPU1hdGgubWF4KG4sMCksYT1NYXRoLm1pbihvLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKTtpZihzPj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3N8fGE8MCl0aGlzLl9zdGF0ZS55ZGlzcD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcDtlbHNle2lmKHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLnNlbGVjdGlvblRyYW5zcGFyZW50LmNzcyxpKXt2YXIgYz10WzBdLGw9clswXS1jLGg9YS1zKzE7dGhpcy5fZmlsbENlbGxzKGMscyxsLGgpfWVsc2V7Yz1uPT09cz90WzBdOjA7dmFyIHU9cz09PW8/clswXTp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM7dGhpcy5fZmlsbENlbGxzKGMscyx1LWMsMSk7dmFyIGY9TWF0aC5tYXgoYS1zLTEsMCk7aWYodGhpcy5fZmlsbENlbGxzKDAscysxLHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyxmKSxzIT09YSl7dmFyIF89bz09PWE/clswXTp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM7dGhpcy5fZmlsbENlbGxzKDAsYSxfLDEpfX10aGlzLl9zdGF0ZS5zdGFydD1bdFswXSx0WzFdXSx0aGlzLl9zdGF0ZS5lbmQ9W3JbMF0sclsxXV0sdGhpcy5fc3RhdGUuY29sdW1uU2VsZWN0TW9kZT1pLHRoaXMuX3N0YXRlLnlkaXNwPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwfX1lbHNlIHRoaXMuX2NsZWFyU3RhdGUoKX0sdC5wcm90b3R5cGUuX2RpZFN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiF0aGlzLl9hcmVDb29yZGluYXRlc0VxdWFsKGUsdGhpcy5fc3RhdGUuc3RhcnQpfHwhdGhpcy5fYXJlQ29vcmRpbmF0ZXNFcXVhbCh0LHRoaXMuX3N0YXRlLmVuZCl8fHIhPT10aGlzLl9zdGF0ZS5jb2x1bW5TZWxlY3RNb2RlfHxpIT09dGhpcy5fc3RhdGUueWRpc3B9LHQucHJvdG90eXBlLl9hcmVDb29yZGluYXRlc0VxdWFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISghZXx8IXQpJiZlWzBdPT09dFswXSYmZVsxXT09PXRbMV19LG8oW3MoNCxjLklCdWZmZXJTZXJ2aWNlKSxzKDUsYy5JT3B0aW9uc1NlcnZpY2UpLHMoNixjLklEZWNvcmF0aW9uU2VydmljZSldLHQpfShhLkJhc2VSZW5kZXJMYXllcik7dC5TZWxlY3Rpb25SZW5kZXJMYXllcj1sfSw5NTk2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fSxhPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVGV4dFJlbmRlckxheWVyPXZvaWQgMDt2YXIgYz1yKDM3MDApLGw9cigxNTQ2KSxoPXIoMzczNCksdT1yKDY0MyksZj1yKDUxMSksXz1yKDI1ODUpLGQ9cig0NzI1KSxwPXIoNDI2OSksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzLGEsbCxoKXt2YXIgdT1lLmNhbGwodGhpcyx0LFwidGV4dFwiLHIsbixpLG8scyxhLGgpfHx0aGlzO3JldHVybiB1Ll9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPWwsdS5fY2hhcmFjdGVyV2lkdGg9MCx1Ll9jaGFyYWN0ZXJGb250PVwiXCIsdS5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlPXt9LHUuX3dvcmtDZWxsPW5ldyBmLkNlbGxEYXRhLHUuX3N0YXRlPW5ldyBjLkdyaWRDYWNoZSx1fXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsdCk7dmFyIHI9dGhpcy5fZ2V0Rm9udCghMSwhMSk7dGhpcy5fY2hhcmFjdGVyV2lkdGg9PT10LnNjYWxlZENoYXJXaWR0aCYmdGhpcy5fY2hhcmFjdGVyRm9udD09PXJ8fCh0aGlzLl9jaGFyYWN0ZXJXaWR0aD10LnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jaGFyYWN0ZXJGb250PXIsdGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlPXt9KSx0aGlzLl9zdGF0ZS5jbGVhcigpLHRoaXMuX3N0YXRlLnJlc2l6ZSh0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZS5jbGVhcigpLHRoaXMuX2NsZWFyQWxsKCl9LHQucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPWU7aTw9dDtpKyspZm9yKHZhciBuPWkrdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3Asbz10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5nZXQobikscz10aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlLmdldEpvaW5lZENoYXJhY3RlcnMobiksYT0wO2E8dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzO2ErKyl7by5sb2FkQ2VsbChhLHRoaXMuX3dvcmtDZWxsKTt2YXIgYz10aGlzLl93b3JrQ2VsbCxsPSExLGg9YTtpZigwIT09Yy5nZXRXaWR0aCgpKXtpZihzLmxlbmd0aD4wJiZhPT09c1swXVswXSl7bD0hMDt2YXIgZj1zLnNoaWZ0KCk7Yz1uZXcgcC5Kb2luZWRDZWxsRGF0YSh0aGlzLl93b3JrQ2VsbCxvLnRyYW5zbGF0ZVRvU3RyaW5nKCEwLGZbMF0sZlsxXSksZlsxXS1mWzBdKSxoPWZbMV0tMX0hbCYmdGhpcy5faXNPdmVybGFwcGluZyhjKSYmaDxvLmxlbmd0aC0xJiZvLmdldENvZGVQb2ludChoKzEpPT09dS5OVUxMX0NFTExfQ09ERSYmKGMuY29udGVudCY9LTEyNTgyOTEzLGMuY29udGVudHw9Mjw8MjIpLHIoYyxhLGkpLGE9aH19fSx0LnByb3RvdHlwZS5fZHJhd0JhY2tncm91bmQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5fY3R4LG49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLG89MCxzPTAsYz1udWxsO2kuc2F2ZSgpLHRoaXMuX2ZvckVhY2hDZWxsKGUsdCwoZnVuY3Rpb24oZSx0LGwpe3ZhciB1LGYsXz1udWxsO2UuaXNJbnZlcnNlKCk/Xz1lLmlzRmdEZWZhdWx0KCk/ci5fY29sb3JzLmZvcmVncm91bmQuY3NzOmUuaXNGZ1JHQigpP1wicmdiKFwiK2guQXR0cmlidXRlRGF0YS50b0NvbG9yUkdCKGUuZ2V0RmdDb2xvcigpKS5qb2luKFwiLFwiKStcIilcIjpyLl9jb2xvcnMuYW5zaVtlLmdldEZnQ29sb3IoKV0uY3NzOmUuaXNCZ1JHQigpP189XCJyZ2IoXCIraC5BdHRyaWJ1dGVEYXRhLnRvQ29sb3JSR0IoZS5nZXRCZ0NvbG9yKCkpLmpvaW4oXCIsXCIpK1wiKVwiOmUuaXNCZ1BhbGV0dGUoKSYmKF89ci5fY29sb3JzLmFuc2lbZS5nZXRCZ0NvbG9yKCldLmNzcyk7dmFyIGQ9ITE7dHJ5e2Zvcih2YXIgcD1hKHIuX2RlY29yYXRpb25TZXJ2aWNlLmdldERlY29yYXRpb25zQXRDZWxsKHQsci5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3ArbCkpLHY9cC5uZXh0KCk7IXYuZG9uZTt2PXAubmV4dCgpKXt2YXIgeT12LnZhbHVlO1widG9wXCIhPT15Lm9wdGlvbnMubGF5ZXImJmR8fCh5LmJhY2tncm91bmRDb2xvclJHQiYmKF89eS5iYWNrZ3JvdW5kQ29sb3JSR0IuY3NzKSxkPVwidG9wXCI9PT15Lm9wdGlvbnMubGF5ZXIpfX1jYXRjaChlKXt1PXtlcnJvcjplfX1maW5hbGx5e3RyeXt2JiYhdi5kb25lJiYoZj1wLnJldHVybikmJmYuY2FsbChwKX1maW5hbGx5e2lmKHUpdGhyb3cgdS5lcnJvcn19bnVsbD09PWMmJihvPXQscz1sKSxsIT09cz8oaS5maWxsU3R5bGU9Y3x8XCJcIixyLl9maWxsQ2VsbHMobyxzLG4tbywxKSxvPXQscz1sKTpjIT09XyYmKGkuZmlsbFN0eWxlPWN8fFwiXCIsci5fZmlsbENlbGxzKG8scyx0LW8sMSksbz10LHM9bCksYz1ffSkpLG51bGwhPT1jJiYoaS5maWxsU3R5bGU9Yyx0aGlzLl9maWxsQ2VsbHMobyxzLG4tbywxKSksaS5yZXN0b3JlKCl9LHQucHJvdG90eXBlLl9kcmF3Rm9yZWdyb3VuZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5fZm9yRWFjaENlbGwoZSx0LChmdW5jdGlvbihlLHQsaSl7aWYoIWUuaXNJbnZpc2libGUoKSYmKHIuX2RyYXdDaGFycyhlLHQsaSksZS5pc1VuZGVybGluZSgpfHxlLmlzU3RyaWtldGhyb3VnaCgpKSl7aWYoci5fY3R4LnNhdmUoKSxlLmlzSW52ZXJzZSgpKWlmKGUuaXNCZ0RlZmF1bHQoKSlyLl9jdHguZmlsbFN0eWxlPXIuX2NvbG9ycy5iYWNrZ3JvdW5kLmNzcztlbHNlIGlmKGUuaXNCZ1JHQigpKXIuX2N0eC5maWxsU3R5bGU9XCJyZ2IoXCIraC5BdHRyaWJ1dGVEYXRhLnRvQ29sb3JSR0IoZS5nZXRCZ0NvbG9yKCkpLmpvaW4oXCIsXCIpK1wiKVwiO2Vsc2V7dmFyIG49ZS5nZXRCZ0NvbG9yKCk7ci5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5kcmF3Qm9sZFRleHRJbkJyaWdodENvbG9ycyYmZS5pc0JvbGQoKSYmbjw4JiYobis9OCksci5fY3R4LmZpbGxTdHlsZT1yLl9jb2xvcnMuYW5zaVtuXS5jc3N9ZWxzZSBpZihlLmlzRmdEZWZhdWx0KCkpci5fY3R4LmZpbGxTdHlsZT1yLl9jb2xvcnMuZm9yZWdyb3VuZC5jc3M7ZWxzZSBpZihlLmlzRmdSR0IoKSlyLl9jdHguZmlsbFN0eWxlPVwicmdiKFwiK2guQXR0cmlidXRlRGF0YS50b0NvbG9yUkdCKGUuZ2V0RmdDb2xvcigpKS5qb2luKFwiLFwiKStcIilcIjtlbHNle3ZhciBvPWUuZ2V0RmdDb2xvcigpO3IuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMmJmUuaXNCb2xkKCkmJm88OCYmKG8rPTgpLHIuX2N0eC5maWxsU3R5bGU9ci5fY29sb3JzLmFuc2lbb10uY3NzfWUuaXNTdHJpa2V0aHJvdWdoKCkmJnIuX2ZpbGxNaWRkbGVMaW5lQXRDZWxscyh0LGksZS5nZXRXaWR0aCgpKSxlLmlzVW5kZXJsaW5lKCkmJnIuX2ZpbGxCb3R0b21MaW5lQXRDZWxscyh0LGksZS5nZXRXaWR0aCgpKSxyLl9jdHgucmVzdG9yZSgpfX0pKX0sdC5wcm90b3R5cGUub25HcmlkQ2hhbmdlZD1mdW5jdGlvbihlLHQpezAhPT10aGlzLl9zdGF0ZS5jYWNoZS5sZW5ndGgmJih0aGlzLl9jaGFyQXRsYXMmJnRoaXMuX2NoYXJBdGxhcy5iZWdpbkZyYW1lKCksdGhpcy5fY2xlYXJDZWxscygwLGUsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHQtZSsxKSx0aGlzLl9kcmF3QmFja2dyb3VuZChlLHQpLHRoaXMuX2RyYXdGb3JlZ3JvdW5kKGUsdCkpfSx0LnByb3RvdHlwZS5vbk9wdGlvbnNDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5fc2V0VHJhbnNwYXJlbmN5KHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuYWxsb3dUcmFuc3BhcmVuY3kpfSx0LnByb3RvdHlwZS5faXNPdmVybGFwcGluZz1mdW5jdGlvbihlKXtpZigxIT09ZS5nZXRXaWR0aCgpKXJldHVybiExO2lmKGUuZ2V0Q29kZSgpPDI1NilyZXR1cm4hMTt2YXIgdD1lLmdldENoYXJzKCk7aWYodGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlLmhhc093blByb3BlcnR5KHQpKXJldHVybiB0aGlzLl9jaGFyYWN0ZXJPdmVybGFwQ2FjaGVbdF07dGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguZm9udD10aGlzLl9jaGFyYWN0ZXJGb250O3ZhciByPU1hdGguZmxvb3IodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KHQpLndpZHRoKT50aGlzLl9jaGFyYWN0ZXJXaWR0aDtyZXR1cm4gdGhpcy5fY3R4LnJlc3RvcmUoKSx0aGlzLl9jaGFyYWN0ZXJPdmVybGFwQ2FjaGVbdF09cixyfSxvKFtzKDUsXy5JQnVmZmVyU2VydmljZSkscyg2LF8uSU9wdGlvbnNTZXJ2aWNlKSxzKDcsZC5JQ2hhcmFjdGVySm9pbmVyU2VydmljZSkscyg4LF8uSURlY29yYXRpb25TZXJ2aWNlKV0sdCl9KGwuQmFzZVJlbmRlckxheWVyKTt0LlRleHRSZW5kZXJMYXllcj12fSw5NjE2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CYXNlQ2hhckF0bGFzPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9kaWRXYXJtVXA9ITF9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLndhcm1VcD1mdW5jdGlvbigpe3RoaXMuX2RpZFdhcm1VcHx8KHRoaXMuX2RvV2FybVVwKCksdGhpcy5fZGlkV2FybVVwPSEwKX0sZS5wcm90b3R5cGUuX2RvV2FybVVwPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe30sZX0oKTt0LkJhc2VDaGFyQXRsYXM9cn0sMTQyMDooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yZW1vdmVUZXJtaW5hbEZyb21DYWNoZT10LmFjcXVpcmVDaGFyQXRsYXM9dm9pZCAwO3ZhciBpPXIoMjA0MCksbj1yKDE5MDYpLG89W107dC5hY3F1aXJlQ2hhckF0bGFzPWZ1bmN0aW9uKGUsdCxyLHMsYSl7Zm9yKHZhciBjPSgwLGkuZ2VuZXJhdGVDb25maWcpKHMsYSxlLHIpLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIGg9KHU9b1tsXSkub3duZWRCeS5pbmRleE9mKHQpO2lmKGg+PTApe2lmKCgwLGkuY29uZmlnRXF1YWxzKSh1LmNvbmZpZyxjKSlyZXR1cm4gdS5hdGxhczsxPT09dS5vd25lZEJ5Lmxlbmd0aD8odS5hdGxhcy5kaXNwb3NlKCksby5zcGxpY2UobCwxKSk6dS5vd25lZEJ5LnNwbGljZShoLDEpO2JyZWFrfX1mb3IobD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdO2lmKCgwLGkuY29uZmlnRXF1YWxzKSh1LmNvbmZpZyxjKSlyZXR1cm4gdS5vd25lZEJ5LnB1c2godCksdS5hdGxhc312YXIgZj17YXRsYXM6bmV3IG4uRHluYW1pY0NoYXJBdGxhcyhkb2N1bWVudCxjKSxjb25maWc6Yyxvd25lZEJ5Olt0XX07cmV0dXJuIG8ucHVzaChmKSxmLmF0bGFzfSx0LnJlbW92ZVRlcm1pbmFsRnJvbUNhY2hlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgcj1vW3RdLm93bmVkQnkuaW5kZXhPZihlKTtpZigtMSE9PXIpezE9PT1vW3RdLm93bmVkQnkubGVuZ3RoPyhvW3RdLmF0bGFzLmRpc3Bvc2UoKSxvLnNwbGljZSh0LDEpKTpvW3RdLm93bmVkQnkuc3BsaWNlKHIsMSk7YnJlYWt9fX19LDIwNDA6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXMyNTZDb2xvcj10LmNvbmZpZ0VxdWFscz10LmdlbmVyYXRlQ29uZmlnPXZvaWQgMDt2YXIgaT1yKDY0Myk7dC5nZW5lcmF0ZUNvbmZpZz1mdW5jdGlvbihlLHQscixpKXt2YXIgbj17Zm9yZWdyb3VuZDppLmZvcmVncm91bmQsYmFja2dyb3VuZDppLmJhY2tncm91bmQsY3Vyc29yOnZvaWQgMCxjdXJzb3JBY2NlbnQ6dm9pZCAwLHNlbGVjdGlvbjp2b2lkIDAsYW5zaTppLmFuc2kuc2xpY2UoKX07cmV0dXJue2RldmljZVBpeGVsUmF0aW86d2luZG93LmRldmljZVBpeGVsUmF0aW8sc2NhbGVkQ2hhcldpZHRoOmUsc2NhbGVkQ2hhckhlaWdodDp0LGZvbnRGYW1pbHk6ci5mb250RmFtaWx5LGZvbnRTaXplOnIuZm9udFNpemUsZm9udFdlaWdodDpyLmZvbnRXZWlnaHQsZm9udFdlaWdodEJvbGQ6ci5mb250V2VpZ2h0Qm9sZCxhbGxvd1RyYW5zcGFyZW5jeTpyLmFsbG93VHJhbnNwYXJlbmN5LGNvbG9yczpufX0sdC5jb25maWdFcXVhbHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUuY29sb3JzLmFuc2kubGVuZ3RoO3IrKylpZihlLmNvbG9ycy5hbnNpW3JdLnJnYmEhPT10LmNvbG9ycy5hbnNpW3JdLnJnYmEpcmV0dXJuITE7cmV0dXJuIGUuZGV2aWNlUGl4ZWxSYXRpbz09PXQuZGV2aWNlUGl4ZWxSYXRpbyYmZS5mb250RmFtaWx5PT09dC5mb250RmFtaWx5JiZlLmZvbnRTaXplPT09dC5mb250U2l6ZSYmZS5mb250V2VpZ2h0PT09dC5mb250V2VpZ2h0JiZlLmZvbnRXZWlnaHRCb2xkPT09dC5mb250V2VpZ2h0Qm9sZCYmZS5hbGxvd1RyYW5zcGFyZW5jeT09PXQuYWxsb3dUcmFuc3BhcmVuY3kmJmUuc2NhbGVkQ2hhcldpZHRoPT09dC5zY2FsZWRDaGFyV2lkdGgmJmUuc2NhbGVkQ2hhckhlaWdodD09PXQuc2NhbGVkQ2hhckhlaWdodCYmZS5jb2xvcnMuZm9yZWdyb3VuZD09PXQuY29sb3JzLmZvcmVncm91bmQmJmUuY29sb3JzLmJhY2tncm91bmQ9PT10LmNvbG9ycy5iYWNrZ3JvdW5kfSx0LmlzMjU2Q29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8aS5ERUZBVUxUX0NPTE9SfX0sODgwMzooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DSEFSX0FUTEFTX0NFTExfU1BBQ0lORz10LlRFWFRfQkFTRUxJTkU9dC5ESU1fT1BBQ0lUWT10LklOVkVSVEVEX0RFRkFVTFRfQ09MT1I9dm9pZCAwO3ZhciBpPXIoNjExNCk7dC5JTlZFUlRFRF9ERUZBVUxUX0NPTE9SPTI1Nyx0LkRJTV9PUEFDSVRZPS41LHQuVEVYVF9CQVNFTElORT1pLmlzRmlyZWZveHx8aS5pc0xlZ2FjeUVkZ2U/XCJib3R0b21cIjpcImlkZW9ncmFwaGljXCIsdC5DSEFSX0FUTEFTX0NFTExfU1BBQ0lORz0xfSwxOTA2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTm9uZUNoYXJBdGxhcz10LkR5bmFtaWNDaGFyQXRsYXM9dC5nZXRHbHlwaENhY2hlS2V5PXZvaWQgMDt2YXIgbz1yKDg4MDMpLHM9cig5NjE2KSxhPXIoNTY4MCksYz1yKDcwMDEpLGw9cig2MTE0KSxoPXIoMTc1MiksdT1yKDgwNTUpLGY9MTAyNCxfPTEwMjQsZD17Y3NzOlwicmdiYSgwLCAwLCAwLCAwKVwiLHJnYmE6MH07ZnVuY3Rpb24gcChlKXtyZXR1cm4gZS5jb2RlPDwyMXxlLmJnPDwxMnxlLmZnPDwzfChlLmJvbGQ/MDo0KSsoZS5kaW0/MDoyKSsoZS5pdGFsaWM/MDoxKX10LmdldEdseXBoQ2FjaGVLZXk9cDt2YXIgdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO2kuX2NvbmZpZz1yLGkuX2RyYXdUb0NhY2hlQ291bnQ9MCxpLl9nbHlwaHNXYWl0aW5nT25CaXRtYXA9W10saS5fYml0bWFwQ29tbWl0VGltZW91dD1udWxsLGkuX2JpdG1hcD1udWxsLGkuX2NhY2hlQ2FudmFzPXQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpLl9jYWNoZUNhbnZhcy53aWR0aD1mLGkuX2NhY2hlQ2FudmFzLmhlaWdodD1fLGkuX2NhY2hlQ3R4PSgwLGgudGhyb3dJZkZhbHN5KShpLl9jYWNoZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6ITB9KSk7dmFyIG49dC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO24ud2lkdGg9aS5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCxuLmhlaWdodD1pLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCxpLl90bXBDdHg9KDAsaC50aHJvd0lmRmFsc3kpKG4uZ2V0Q29udGV4dChcIjJkXCIse2FscGhhOmkuX2NvbmZpZy5hbGxvd1RyYW5zcGFyZW5jeX0pKSxpLl93aWR0aD1NYXRoLmZsb29yKGYvaS5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCksaS5faGVpZ2h0PU1hdGguZmxvb3IoXy9pLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCk7dmFyIG89aS5fd2lkdGgqaS5faGVpZ2h0O3JldHVybiBpLl9jYWNoZU1hcD1uZXcgYy5MUlVNYXAobyksaS5fY2FjaGVNYXAucHJlYWxsb2MobyksaX1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCksdGhpcy5fYml0bWFwQ29tbWl0VGltZW91dD1udWxsKX0sdC5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuX2RyYXdUb0NhY2hlQ291bnQ9MH0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9jYWNoZU1hcC5zaXplPjApe3ZhciBlPXRoaXMuX3dpZHRoKnRoaXMuX2hlaWdodDt0aGlzLl9jYWNoZU1hcD1uZXcgYy5MUlVNYXAoZSksdGhpcy5fY2FjaGVNYXAucHJlYWxsb2MoZSl9dGhpcy5fY2FjaGVDdHguY2xlYXJSZWN0KDAsMCxmLF8pLHRoaXMuX3RtcEN0eC5jbGVhclJlY3QoMCwwLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgsdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHQpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKGUsdCxyLGkpe2lmKDMyPT09dC5jb2RlKXJldHVybiEwO2lmKCF0aGlzLl9jYW5DYWNoZSh0KSlyZXR1cm4hMTt2YXIgbj1wKHQpLG89dGhpcy5fY2FjaGVNYXAuZ2V0KG4pO2lmKG51bGwhPW8pcmV0dXJuIHRoaXMuX2RyYXdGcm9tQ2FjaGUoZSxvLHIsaSksITA7aWYodGhpcy5fZHJhd1RvQ2FjaGVDb3VudDwxMDApe3ZhciBzO3M9dGhpcy5fY2FjaGVNYXAuc2l6ZTx0aGlzLl9jYWNoZU1hcC5jYXBhY2l0eT90aGlzLl9jYWNoZU1hcC5zaXplOnRoaXMuX2NhY2hlTWFwLnBlZWsoKS5pbmRleDt2YXIgYT10aGlzLl9kcmF3VG9DYWNoZSh0LHMpO3JldHVybiB0aGlzLl9jYWNoZU1hcC5zZXQobixhKSx0aGlzLl9kcmF3RnJvbUNhY2hlKGUsYSxyLGkpLCEwfXJldHVybiExfSx0LnByb3RvdHlwZS5fY2FuQ2FjaGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZTwyNTZ9LHQucHJvdG90eXBlLl90b0Nvb3JkaW5hdGVYPWZ1bmN0aW9uKGUpe3JldHVybiBlJXRoaXMuX3dpZHRoKnRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGh9LHQucHJvdG90eXBlLl90b0Nvb3JkaW5hdGVZPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmZsb29yKGUvdGhpcy5fd2lkdGgpKnRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0fSx0LnByb3RvdHlwZS5fZHJhd0Zyb21DYWNoZT1mdW5jdGlvbihlLHQscixpKXtpZighdC5pc0VtcHR5KXt2YXIgbj10aGlzLl90b0Nvb3JkaW5hdGVYKHQuaW5kZXgpLG89dGhpcy5fdG9Db29yZGluYXRlWSh0LmluZGV4KTtlLmRyYXdJbWFnZSh0LmluQml0bWFwP3RoaXMuX2JpdG1hcDp0aGlzLl9jYWNoZUNhbnZhcyxuLG8sdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCxyLGksdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCl9fSx0LnByb3RvdHlwZS5fZ2V0Q29sb3JGcm9tQW5zaUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiBlPHRoaXMuX2NvbmZpZy5jb2xvcnMuYW5zaS5sZW5ndGg/dGhpcy5fY29uZmlnLmNvbG9ycy5hbnNpW2VdOmEuREVGQVVMVF9BTlNJX0NPTE9SU1tlXX0sdC5wcm90b3R5cGUuX2dldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29uZmlnLmFsbG93VHJhbnNwYXJlbmN5P2Q6ZS5iZz09PW8uSU5WRVJURURfREVGQVVMVF9DT0xPUj90aGlzLl9jb25maWcuY29sb3JzLmZvcmVncm91bmQ6ZS5iZzwyNTY/dGhpcy5fZ2V0Q29sb3JGcm9tQW5zaUluZGV4KGUuYmcpOnRoaXMuX2NvbmZpZy5jb2xvcnMuYmFja2dyb3VuZH0sdC5wcm90b3R5cGUuX2dldEZvcmVncm91bmRDb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mZz09PW8uSU5WRVJURURfREVGQVVMVF9DT0xPUj91LmNvbG9yLm9wYXF1ZSh0aGlzLl9jb25maWcuY29sb3JzLmJhY2tncm91bmQpOmUuZmc8MjU2P3RoaXMuX2dldENvbG9yRnJvbUFuc2lJbmRleChlLmZnKTp0aGlzLl9jb25maWcuY29sb3JzLmZvcmVncm91bmR9LHQucHJvdG90eXBlLl9kcmF3VG9DYWNoZT1mdW5jdGlvbihlLHQpe3RoaXMuX2RyYXdUb0NhY2hlQ291bnQrKyx0aGlzLl90bXBDdHguc2F2ZSgpO3ZhciByPXRoaXMuX2dldEJhY2tncm91bmRDb2xvcihlKTt0aGlzLl90bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiY29weVwiLHRoaXMuX3RtcEN0eC5maWxsU3R5bGU9ci5jc3MsdGhpcy5fdG1wQ3R4LmZpbGxSZWN0KDAsMCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhcldpZHRoLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0KSx0aGlzLl90bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwic291cmNlLW92ZXJcIjt2YXIgaT1lLmJvbGQ/dGhpcy5fY29uZmlnLmZvbnRXZWlnaHRCb2xkOnRoaXMuX2NvbmZpZy5mb250V2VpZ2h0LG49ZS5pdGFsaWM/XCJpdGFsaWNcIjpcIlwiO3RoaXMuX3RtcEN0eC5mb250PW4rXCIgXCIraStcIiBcIit0aGlzLl9jb25maWcuZm9udFNpemUqdGhpcy5fY29uZmlnLmRldmljZVBpeGVsUmF0aW8rXCJweCBcIit0aGlzLl9jb25maWcuZm9udEZhbWlseSx0aGlzLl90bXBDdHgudGV4dEJhc2VsaW5lPW8uVEVYVF9CQVNFTElORSx0aGlzLl90bXBDdHguZmlsbFN0eWxlPXRoaXMuX2dldEZvcmVncm91bmRDb2xvcihlKS5jc3MsZS5kaW0mJih0aGlzLl90bXBDdHguZ2xvYmFsQWxwaGE9by5ESU1fT1BBQ0lUWSksdGhpcy5fdG1wQ3R4LmZpbGxUZXh0KGUuY2hhcnMsMCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCk7dmFyIHM9dGhpcy5fdG1wQ3R4LmdldEltYWdlRGF0YSgwLDAsdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCksYT0hMTtpZih0aGlzLl9jb25maWcuYWxsb3dUcmFuc3BhcmVuY3l8fChhPWcocyxyKSksYSYmXCJfXCI9PT1lLmNoYXJzJiYhdGhpcy5fY29uZmlnLmFsbG93VHJhbnNwYXJlbmN5KWZvcih2YXIgYz0xO2M8PTUmJih0aGlzLl90bXBDdHguZmlsbFRleHQoZS5jaGFycywwLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0LWMpLGE9ZyhzPXRoaXMuX3RtcEN0eC5nZXRJbWFnZURhdGEoMCwwLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgsdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHQpLHIpKTtjKyspO3RoaXMuX3RtcEN0eC5yZXN0b3JlKCk7dmFyIGw9dGhpcy5fdG9Db29yZGluYXRlWCh0KSxoPXRoaXMuX3RvQ29vcmRpbmF0ZVkodCk7dGhpcy5fY2FjaGVDdHgucHV0SW1hZ2VEYXRhKHMsbCxoKTt2YXIgdT17aW5kZXg6dCxpc0VtcHR5OmEsaW5CaXRtYXA6ITF9O3JldHVybiB0aGlzLl9hZGRHbHlwaFRvQml0bWFwKHUpLHV9LHQucHJvdG90eXBlLl9hZGRHbHlwaFRvQml0bWFwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7IShcImNyZWF0ZUltYWdlQml0bWFwXCJpbiB3aW5kb3cpfHxsLmlzRmlyZWZveHx8bC5pc1NhZmFyaXx8KHRoaXMuX2dseXBoc1dhaXRpbmdPbkJpdG1hcC5wdXNoKGUpLG51bGw9PT10aGlzLl9iaXRtYXBDb21taXRUaW1lb3V0JiYodGhpcy5fYml0bWFwQ29tbWl0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fZ2VuZXJhdGVCaXRtYXAoKX0pLDEwMCkpKX0sdC5wcm90b3R5cGUuX2dlbmVyYXRlQml0bWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX2dseXBoc1dhaXRpbmdPbkJpdG1hcDt0aGlzLl9nbHlwaHNXYWl0aW5nT25CaXRtYXA9W10sd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKHRoaXMuX2NhY2hlQ2FudmFzKS50aGVuKChmdW5jdGlvbihyKXtlLl9iaXRtYXA9cjtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldLmluQml0bWFwPSEwfSkpLHRoaXMuX2JpdG1hcENvbW1pdFRpbWVvdXQ9bnVsbH0sdH0ocy5CYXNlQ2hhckF0bGFzKTt0LkR5bmFtaWNDaGFyQXRsYXM9djt2YXIgeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7cmV0dXJuIGUuY2FsbCh0aGlzKXx8dGhpc31yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuITF9LHR9KHMuQmFzZUNoYXJBdGxhcyk7ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgcj0hMCxpPXQucmdiYT4+PjI0LG49dC5yZ2JhPj4+MTYmMjU1LG89dC5yZ2JhPj4+OCYyNTUscz0wO3M8ZS5kYXRhLmxlbmd0aDtzKz00KWUuZGF0YVtzXT09PWkmJmUuZGF0YVtzKzFdPT09biYmZS5kYXRhW3MrMl09PT1vP2UuZGF0YVtzKzNdPTA6cj0hMTtyZXR1cm4gcn10Lk5vbmVDaGFyQXRsYXM9eX0sNzAwMTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTFJVTWFwPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5jYXBhY2l0eT1lLHRoaXMuX21hcD17fSx0aGlzLl9oZWFkPW51bGwsdGhpcy5fdGFpbD1udWxsLHRoaXMuX25vZGVQb29sPVtdLHRoaXMuc2l6ZT0wfXJldHVybiBlLnByb3RvdHlwZS5fdW5saW5rTm9kZT1mdW5jdGlvbihlKXt2YXIgdD1lLnByZXYscj1lLm5leHQ7ZT09PXRoaXMuX2hlYWQmJih0aGlzLl9oZWFkPXIpLGU9PT10aGlzLl90YWlsJiYodGhpcy5fdGFpbD10KSxudWxsIT09dCYmKHQubmV4dD1yKSxudWxsIT09ciYmKHIucHJldj10KX0sZS5wcm90b3R5cGUuX2FwcGVuZE5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdGFpbDtudWxsIT09dCYmKHQubmV4dD1lKSxlLnByZXY9dCxlLm5leHQ9bnVsbCx0aGlzLl90YWlsPWUsbnVsbD09PXRoaXMuX2hlYWQmJih0aGlzLl9oZWFkPWUpfSxlLnByb3RvdHlwZS5wcmVhbGxvYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fbm9kZVBvb2wscj0wO3I8ZTtyKyspdC5wdXNoKHtwcmV2Om51bGwsbmV4dDpudWxsLGtleTpudWxsLHZhbHVlOm51bGx9KX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21hcFtlXTtyZXR1cm4gdm9pZCAwIT09dD8odGhpcy5fdW5saW5rTm9kZSh0KSx0aGlzLl9hcHBlbmROb2RlKHQpLHQudmFsdWUpOm51bGx9LGUucHJvdG90eXBlLnBlZWtWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tYXBbZV07cmV0dXJuIHZvaWQgMCE9PXQ/dC52YWx1ZTpudWxsfSxlLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faGVhZDtyZXR1cm4gbnVsbD09PWU/bnVsbDplLnZhbHVlfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tYXBbZV07aWYodm9pZCAwIT09cilyPXRoaXMuX21hcFtlXSx0aGlzLl91bmxpbmtOb2RlKHIpLHIudmFsdWU9dDtlbHNlIGlmKHRoaXMuc2l6ZT49dGhpcy5jYXBhY2l0eSlyPXRoaXMuX2hlYWQsdGhpcy5fdW5saW5rTm9kZShyKSxkZWxldGUgdGhpcy5fbWFwW3Iua2V5XSxyLmtleT1lLHIudmFsdWU9dCx0aGlzLl9tYXBbZV09cjtlbHNle3ZhciBpPXRoaXMuX25vZGVQb29sO2kubGVuZ3RoPjA/KChyPWkucG9wKCkpLmtleT1lLHIudmFsdWU9dCk6cj17cHJldjpudWxsLG5leHQ6bnVsbCxrZXk6ZSx2YWx1ZTp0fSx0aGlzLl9tYXBbZV09cix0aGlzLnNpemUrK310aGlzLl9hcHBlbmROb2RlKHIpfSxlfSgpO3QuTFJVTWFwPXJ9LDEyOTY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19LGE9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Eb21SZW5kZXJlcj12b2lkIDA7dmFyIGM9cigzNzg3KSxsPXIoODgwMyksaD1yKDg0NCksdT1yKDQ3MjUpLGY9cigyNTg1KSxfPXIoODQ2MCksZD1yKDgwNTUpLHA9cig5NjMxKSx2PVwieHRlcm0tZG9tLXJlbmRlcmVyLW93bmVyLVwiLHk9XCJ4dGVybS1mZy1cIixnPVwieHRlcm0tYmctXCIsbT1cInh0ZXJtLWZvY3VzXCIsYj0xLFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyxhLGwsaCx1KXt2YXIgZj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGYuX2NvbG9ycz10LGYuX2VsZW1lbnQ9cixmLl9zY3JlZW5FbGVtZW50PWksZi5fdmlld3BvcnRFbGVtZW50PW4sZi5fbGlua2lmaWVyPW8sZi5fbGlua2lmaWVyMj1zLGYuX2NoYXJTaXplU2VydmljZT1sLGYuX29wdGlvbnNTZXJ2aWNlPWgsZi5fYnVmZmVyU2VydmljZT11LGYuX3Rlcm1pbmFsQ2xhc3M9YisrLGYuX3Jvd0VsZW1lbnRzPVtdLGYuX3Jvd0NvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGYuX3Jvd0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwieHRlcm0tcm93c1wiKSxmLl9yb3dDb250YWluZXIuc3R5bGUubGluZUhlaWdodD1cIm5vcm1hbFwiLGYuX3Jvd0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxmLl9yZWZyZXNoUm93RWxlbWVudHMoZi5fYnVmZmVyU2VydmljZS5jb2xzLGYuX2J1ZmZlclNlcnZpY2Uucm93cyksZi5fc2VsZWN0aW9uQ29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZi5fc2VsZWN0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1zZWxlY3Rpb25cIiksZi5fc2VsZWN0aW9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGYuZGltZW5zaW9ucz17c2NhbGVkQ2hhcldpZHRoOjAsc2NhbGVkQ2hhckhlaWdodDowLHNjYWxlZENlbGxXaWR0aDowLHNjYWxlZENlbGxIZWlnaHQ6MCxzY2FsZWRDaGFyTGVmdDowLHNjYWxlZENoYXJUb3A6MCxzY2FsZWRDYW52YXNXaWR0aDowLHNjYWxlZENhbnZhc0hlaWdodDowLGNhbnZhc1dpZHRoOjAsY2FudmFzSGVpZ2h0OjAsYWN0dWFsQ2VsbFdpZHRoOjAsYWN0dWFsQ2VsbEhlaWdodDowfSxmLl91cGRhdGVEaW1lbnNpb25zKCksZi5faW5qZWN0Q3NzKCksZi5fcm93RmFjdG9yeT1hLmNyZWF0ZUluc3RhbmNlKGMuRG9tUmVuZGVyZXJSb3dGYWN0b3J5LGRvY3VtZW50LGYuX2NvbG9ycyksZi5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKHYrZi5fdGVybWluYWxDbGFzcyksZi5fc2NyZWVuRWxlbWVudC5hcHBlbmRDaGlsZChmLl9yb3dDb250YWluZXIpLGYuX3NjcmVlbkVsZW1lbnQuYXBwZW5kQ2hpbGQoZi5fc2VsZWN0aW9uQ29udGFpbmVyKSxmLnJlZ2lzdGVyKGYuX2xpbmtpZmllci5vblNob3dMaW5rVW5kZXJsaW5lKChmdW5jdGlvbihlKXtyZXR1cm4gZi5fb25MaW5rSG92ZXIoZSl9KSkpLGYucmVnaXN0ZXIoZi5fbGlua2lmaWVyLm9uSGlkZUxpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkxpbmtMZWF2ZShlKX0pKSksZi5yZWdpc3RlcihmLl9saW5raWZpZXIyLm9uU2hvd0xpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkxpbmtIb3ZlcihlKX0pKSksZi5yZWdpc3RlcihmLl9saW5raWZpZXIyLm9uSGlkZUxpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkxpbmtMZWF2ZShlKX0pKSksZn1yZXR1cm4gbih0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFJlZHJhd1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IF8uRXZlbnRFbWl0dGVyKS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHYrdGhpcy5fdGVybWluYWxDbGFzcyksKDAscC5yZW1vdmVFbGVtZW50RnJvbVBhcmVudCkodGhpcy5fcm93Q29udGFpbmVyLHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lcix0aGlzLl90aGVtZVN0eWxlRWxlbWVudCx0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50KSxlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl91cGRhdGVEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIGUsdDt0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoPXRoaXMuX2NoYXJTaXplU2VydmljZS53aWR0aCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodD1NYXRoLmNlaWwodGhpcy5fY2hhclNpemVTZXJ2aWNlLmhlaWdodCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aD10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoK01hdGgucm91bmQodGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5sZXR0ZXJTcGFjaW5nKSx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodD1NYXRoLmZsb29yKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFySGVpZ2h0KnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMubGluZUhlaWdodCksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENoYXJMZWZ0PTAsdGhpcy5kaW1lbnNpb25zLnNjYWxlZENoYXJUb3A9MCx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzV2lkdGg9dGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aCp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodD10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodCp0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MsdGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRoPU1hdGgucm91bmQodGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc1dpZHRoL3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0PU1hdGgucm91bmQodGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodC93aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aD10aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGgvdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQvdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzO3RyeXtmb3IodmFyIHI9YSh0aGlzLl9yb3dFbGVtZW50cyksaT1yLm5leHQoKTshaS5kb25lO2k9ci5uZXh0KCkpe3ZhciBuPWkudmFsdWU7bi5zdHlsZS53aWR0aD10aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGgrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0K1wicHhcIixuLnN0eWxlLmxpbmVIZWlnaHQ9dGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQrXCJweFwiLG4uc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIn19Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHQ9ci5yZXR1cm4pJiZ0LmNhbGwocil9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXRoaXMuX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnR8fCh0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLl9zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnQpKTt2YXIgbz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1yb3dzIHNwYW4geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGhlaWdodDogMTAwJTsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IFwiK3RoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgrXCJweH1cIjt0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50LnRleHRDb250ZW50PW8sdGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLnN0eWxlLmhlaWdodD10aGlzLl92aWV3cG9ydEVsZW1lbnQuc3R5bGUuaGVpZ2h0LHRoaXMuX3NjcmVlbkVsZW1lbnQuc3R5bGUud2lkdGg9dGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRoK1wicHhcIix0aGlzLl9zY3JlZW5FbGVtZW50LnN0eWxlLmhlaWdodD10aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0K1wicHhcIn0sdC5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9ycz1lLHRoaXMuX2luamVjdENzcygpfSx0LnByb3RvdHlwZS5faW5qZWN0Q3NzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl90aGVtZVN0eWxlRWxlbWVudHx8KHRoaXMuX3RoZW1lU3R5bGVFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLl9zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3RoZW1lU3R5bGVFbGVtZW50KSk7dmFyIHQ9dGhpcy5fdGVybWluYWxTZWxlY3RvcitcIiAueHRlcm0tcm93cyB7IGNvbG9yOiBcIit0aGlzLl9jb2xvcnMuZm9yZWdyb3VuZC5jc3MrXCI7IGZvbnQtZmFtaWx5OiBcIit0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZvbnRGYW1pbHkrXCI7IGZvbnQtc2l6ZTogXCIrdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250U2l6ZStcInB4O31cIjt0Kz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIHNwYW46bm90KC5cIitjLkJPTERfQ0xBU1MrXCIpIHsgZm9udC13ZWlnaHQ6IFwiK3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udFdlaWdodCtcIjt9XCIrdGhpcy5fdGVybWluYWxTZWxlY3RvcitcIiBzcGFuLlwiK2MuQk9MRF9DTEFTUytcIiB7IGZvbnQtd2VpZ2h0OiBcIit0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZvbnRXZWlnaHRCb2xkK1wiO31cIit0aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIHNwYW4uXCIrYy5JVEFMSUNfQ0xBU1MrXCIgeyBmb250LXN0eWxlOiBpdGFsaWM7fVwiLHQrPVwiQGtleWZyYW1lcyBibGlua19ib3hfc2hhZG93X1wiK3RoaXMuX3Rlcm1pbmFsQ2xhc3MrXCIgeyA1MCUgeyAgYm94LXNoYWRvdzogbm9uZTsgfX1cIix0Kz1cIkBrZXlmcmFtZXMgYmxpbmtfYmxvY2tfXCIrdGhpcy5fdGVybWluYWxDbGFzcytcIiB7IDAlIHsgIGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5jdXJzb3IuY3NzK1wiOyAgY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5jdXJzb3JBY2NlbnQuY3NzK1wiOyB9IDUwJSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiBcIit0aGlzLl9jb2xvcnMuY3Vyc29yQWNjZW50LmNzcytcIjsgIGNvbG9yOiBcIit0aGlzLl9jb2xvcnMuY3Vyc29yLmNzcytcIjsgfX1cIix0Kz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1yb3dzOm5vdCgueHRlcm0tZm9jdXMpIC5cIitjLkNVUlNPUl9DTEFTUytcIi5cIitjLkNVUlNPUl9TVFlMRV9CTE9DS19DTEFTUytcIiB7IG91dGxpbmU6IDFweCBzb2xpZCBcIit0aGlzLl9jb2xvcnMuY3Vyc29yLmNzcytcIjsgb3V0bGluZS1vZmZzZXQ6IC0xcHg7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MueHRlcm0tZm9jdXMgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX0JMSU5LX0NMQVNTK1wiOm5vdCguXCIrYy5DVVJTT1JfU1RZTEVfQkxPQ0tfQ0xBU1MrXCIpIHsgYW5pbWF0aW9uOiBibGlua19ib3hfc2hhZG93X1wiK3RoaXMuX3Rlcm1pbmFsQ2xhc3MrXCIgMXMgc3RlcC1lbmQgaW5maW5pdGU7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MueHRlcm0tZm9jdXMgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX0JMSU5LX0NMQVNTK1wiLlwiK2MuQ1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTK1wiIHsgYW5pbWF0aW9uOiBibGlua19ibG9ja19cIit0aGlzLl90ZXJtaW5hbENsYXNzK1wiIDFzIHN0ZXAtZW5kIGluZmluaXRlO31cIit0aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1yb3dzLnh0ZXJtLWZvY3VzIC5cIitjLkNVUlNPUl9DTEFTUytcIi5cIitjLkNVUlNPUl9TVFlMRV9CTE9DS19DTEFTUytcIiB7IGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5jdXJzb3IuY3NzK1wiOyBjb2xvcjogXCIrdGhpcy5fY29sb3JzLmN1cnNvckFjY2VudC5jc3MrXCI7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX1NUWUxFX0JBUl9DTEFTUytcIiB7IGJveC1zaGFkb3c6IFwiK3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yV2lkdGgrXCJweCAwIDAgXCIrdGhpcy5fY29sb3JzLmN1cnNvci5jc3MrXCIgaW5zZXQ7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX1NUWUxFX1VOREVSTElORV9DTEFTUytcIiB7IGJveC1zaGFkb3c6IDAgLTFweCAwIFwiK3RoaXMuX2NvbG9ycy5jdXJzb3IuY3NzK1wiIGluc2V0O31cIix0Kz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1zZWxlY3Rpb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgei1pbmRleDogMTsgcG9pbnRlci1ldmVudHM6IG5vbmU7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXNlbGVjdGlvbiBkaXYgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5zZWxlY3Rpb25PcGFxdWUuY3NzK1wiO31cIix0aGlzLl9jb2xvcnMuYW5zaS5mb3JFYWNoKChmdW5jdGlvbihyLGkpe3QrPWUuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLlwiK3kraStcIiB7IGNvbG9yOiBcIityLmNzcytcIjsgfVwiK2UuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLlwiK2craStcIiB7IGJhY2tncm91bmQtY29sb3I6IFwiK3IuY3NzK1wiOyB9XCJ9KSksdCs9dGhpcy5fdGVybWluYWxTZWxlY3RvcitcIiAuXCIreStsLklOVkVSVEVEX0RFRkFVTFRfQ09MT1IrXCIgeyBjb2xvcjogXCIrZC5jb2xvci5vcGFxdWUodGhpcy5fY29sb3JzLmJhY2tncm91bmQpLmNzcytcIjsgfVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLlwiK2crbC5JTlZFUlRFRF9ERUZBVUxUX0NPTE9SK1wiIHsgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzK1wiOyB9XCIsdGhpcy5fdGhlbWVTdHlsZUVsZW1lbnQudGV4dENvbnRlbnQ9dH0sdC5wcm90b3R5cGUub25EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlRGltZW5zaW9ucygpfSx0LnByb3RvdHlwZS5fcmVmcmVzaFJvd0VsZW1lbnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuX3Jvd0VsZW1lbnRzLmxlbmd0aDtyPD10O3IrKyl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLl9yb3dDb250YWluZXIuYXBwZW5kQ2hpbGQoaSksdGhpcy5fcm93RWxlbWVudHMucHVzaChpKX1mb3IoO3RoaXMuX3Jvd0VsZW1lbnRzLmxlbmd0aD50Oyl0aGlzLl9yb3dDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fcm93RWxlbWVudHMucG9wKCkpfSx0LnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMuX3JlZnJlc2hSb3dFbGVtZW50cyhlLHQpLHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKX0sdC5wcm90b3R5cGUub25DaGFyU2l6ZUNoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVEaW1lbnNpb25zKCl9LHQucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuX3Jvd0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKG0pfSx0LnByb3RvdHlwZS5vbkZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5fcm93Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQobSl9LHQucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbihlLHQscil7Zm9yKDt0aGlzLl9zZWxlY3Rpb25Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoOyl0aGlzLl9zZWxlY3Rpb25Db250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLmNoaWxkcmVuWzBdKTtpZih0aGlzLl9yb3dGYWN0b3J5Lm9uU2VsZWN0aW9uQ2hhbmdlZChlLHQsciksdGhpcy5yZW5kZXJSb3dzKDAsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEpLGUmJnQpe3ZhciBpPWVbMV0tdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3Asbj10WzFdLXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLG89TWF0aC5tYXgoaSwwKSxzPU1hdGgubWluKG4sdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEpO2lmKCEobz49dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzfHxzPDApKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYocil7dmFyIGM9ZVswXT50WzBdO2EuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU2VsZWN0aW9uRWxlbWVudChvLGM/dFswXTplWzBdLGM/ZVswXTp0WzBdLHMtbysxKSl9ZWxzZXt2YXIgbD1pPT09bz9lWzBdOjAsaD1vPT09bj90WzBdOnRoaXMuX2J1ZmZlclNlcnZpY2UuY29sczthLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNlbGVjdGlvbkVsZW1lbnQobyxsLGgpKTt2YXIgdT1zLW8tMTtpZihhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNlbGVjdGlvbkVsZW1lbnQobysxLDAsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHUpKSxvIT09cyl7dmFyIGY9bj09PXM/dFswXTp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM7YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTZWxlY3Rpb25FbGVtZW50KHMsMCxmKSl9fXRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChhKX19fSx0LnByb3RvdHlwZS5fY3JlYXRlU2VsZWN0aW9uRWxlbWVudD1mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1pJiYoaT0xKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBuLnN0eWxlLmhlaWdodD1pKnRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0K1wicHhcIixuLnN0eWxlLnRvcD1lKnRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0K1wicHhcIixuLnN0eWxlLmxlZnQ9dCp0aGlzLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbFdpZHRoK1wicHhcIixuLnN0eWxlLndpZHRoPXRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgqKHItdCkrXCJweFwiLG59LHQucHJvdG90eXBlLm9uQ3Vyc29yTW92ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUub25PcHRpb25zQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKSx0aGlzLl9pbmplY3RDc3MoKX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZSx0O3RyeXtmb3IodmFyIHI9YSh0aGlzLl9yb3dFbGVtZW50cyksaT1yLm5leHQoKTshaS5kb25lO2k9ci5uZXh0KCkpaS52YWx1ZS5pbm5lclRleHQ9XCJcIn1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1yLnJldHVybikmJnQuY2FsbChyKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSx0LnByb3RvdHlwZS5yZW5kZXJSb3dzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnliYXNlK3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnksaT1NYXRoLm1pbih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci54LHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scy0xKSxuPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yQmxpbmssbz1lO288PXQ7bysrKXt2YXIgcz10aGlzLl9yb3dFbGVtZW50c1tvXTtzLmlubmVyVGV4dD1cIlwiO3ZhciBhPW8rdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3AsYz10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5nZXQoYSksbD10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmN1cnNvclN0eWxlO3MuYXBwZW5kQ2hpbGQodGhpcy5fcm93RmFjdG9yeS5jcmVhdGVSb3coYyxhLGE9PT1yLGwsaSxuLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJfdGVybWluYWxTZWxlY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIi5cIit2K3RoaXMuX3Rlcm1pbmFsQ2xhc3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX29uTGlua0hvdmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3NldENlbGxVbmRlcmxpbmUoZS54MSxlLngyLGUueTEsZS55MixlLmNvbHMsITApfSx0LnByb3RvdHlwZS5fb25MaW5rTGVhdmU9ZnVuY3Rpb24oZSl7dGhpcy5fc2V0Q2VsbFVuZGVybGluZShlLngxLGUueDIsZS55MSxlLnkyLGUuY29scywhMSl9LHQucHJvdG90eXBlLl9zZXRDZWxsVW5kZXJsaW5lPWZ1bmN0aW9uKGUsdCxyLGksbixvKXtmb3IoO2UhPT10fHxyIT09aTspe3ZhciBzPXRoaXMuX3Jvd0VsZW1lbnRzW3JdO2lmKCFzKXJldHVybjt2YXIgYT1zLmNoaWxkcmVuW2VdO2EmJihhLnN0eWxlLnRleHREZWNvcmF0aW9uPW8/XCJ1bmRlcmxpbmVcIjpcIm5vbmVcIiksKytlPj1uJiYoZT0wLHIrKyl9fSxvKFtzKDYsZi5JSW5zdGFudGlhdGlvblNlcnZpY2UpLHMoNyx1LklDaGFyU2l6ZVNlcnZpY2UpLHMoOCxmLklPcHRpb25zU2VydmljZSkscyg5LGYuSUJ1ZmZlclNlcnZpY2UpXSx0KX0oaC5EaXNwb3NhYmxlKTt0LkRvbVJlbmRlcmVyPVN9LDM3ODc6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LG49dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX0sbz10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRvbVJlbmRlcmVyUm93RmFjdG9yeT10LkNVUlNPUl9TVFlMRV9VTkRFUkxJTkVfQ0xBU1M9dC5DVVJTT1JfU1RZTEVfQkFSX0NMQVNTPXQuQ1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTPXQuQ1VSU09SX0JMSU5LX0NMQVNTPXQuQ1VSU09SX0NMQVNTPXQuU1RSSUtFVEhST1VHSF9DTEFTUz10LlVOREVSTElORV9DTEFTUz10LklUQUxJQ19DTEFTUz10LkRJTV9DTEFTUz10LkJPTERfQ0xBU1M9dm9pZCAwO3ZhciBzPXIoODgwMyksYT1yKDY0MyksYz1yKDUxMSksbD1yKDI1ODUpLGg9cig4MDU1KSx1PXIoNDcyNSksZj1yKDQyNjkpLF89cigxNzUyKTt0LkJPTERfQ0xBU1M9XCJ4dGVybS1ib2xkXCIsdC5ESU1fQ0xBU1M9XCJ4dGVybS1kaW1cIix0LklUQUxJQ19DTEFTUz1cInh0ZXJtLWl0YWxpY1wiLHQuVU5ERVJMSU5FX0NMQVNTPVwieHRlcm0tdW5kZXJsaW5lXCIsdC5TVFJJS0VUSFJPVUdIX0NMQVNTPVwieHRlcm0tc3RyaWtldGhyb3VnaFwiLHQuQ1VSU09SX0NMQVNTPVwieHRlcm0tY3Vyc29yXCIsdC5DVVJTT1JfQkxJTktfQ0xBU1M9XCJ4dGVybS1jdXJzb3ItYmxpbmtcIix0LkNVUlNPUl9TVFlMRV9CTE9DS19DTEFTUz1cInh0ZXJtLWN1cnNvci1ibG9ja1wiLHQuQ1VSU09SX1NUWUxFX0JBUl9DTEFTUz1cInh0ZXJtLWN1cnNvci1iYXJcIix0LkNVUlNPUl9TVFlMRV9VTkRFUkxJTkVfQ0xBU1M9XCJ4dGVybS1jdXJzb3ItdW5kZXJsaW5lXCI7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvKXt0aGlzLl9kb2N1bWVudD1lLHRoaXMuX2NvbG9ycz10LHRoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2U9cix0aGlzLl9vcHRpb25zU2VydmljZT1pLHRoaXMuX2NvcmVTZXJ2aWNlPW4sdGhpcy5fZGVjb3JhdGlvblNlcnZpY2U9byx0aGlzLl93b3JrQ2VsbD1uZXcgYy5DZWxsRGF0YSx0aGlzLl9jb2x1bW5TZWxlY3RNb2RlPSExfXJldHVybiBlLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JzPWV9LGUucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbihlLHQscil7dGhpcy5fc2VsZWN0aW9uU3RhcnQ9ZSx0aGlzLl9zZWxlY3Rpb25FbmQ9dCx0aGlzLl9jb2x1bW5TZWxlY3RNb2RlPXJ9LGUucHJvdG90eXBlLmNyZWF0ZVJvdz1mdW5jdGlvbihlLHIsaSxuLGMsbCx1LF8pe2Zvcih2YXIgZCx2LHk9dGhpcy5fZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGc9dGhpcy5fY2hhcmFjdGVySm9pbmVyU2VydmljZS5nZXRKb2luZWRDaGFyYWN0ZXJzKHIpLG09MCxiPU1hdGgubWluKGUubGVuZ3RoLF8pLTE7Yj49MDtiLS0paWYoZS5sb2FkQ2VsbChiLHRoaXMuX3dvcmtDZWxsKS5nZXRDb2RlKCkhPT1hLk5VTExfQ0VMTF9DT0RFfHxpJiZiPT09Yyl7bT1iKzE7YnJlYWt9Zm9yKGI9MDtiPG07YisrKXtlLmxvYWRDZWxsKGIsdGhpcy5fd29ya0NlbGwpO3ZhciBTPXRoaXMuX3dvcmtDZWxsLmdldFdpZHRoKCk7aWYoMCE9PVMpe3ZhciBDPSExLHc9YixMPXRoaXMuX3dvcmtDZWxsO2lmKGcubGVuZ3RoPjAmJmI9PT1nWzBdWzBdKXtDPSEwO3ZhciBFPWcuc2hpZnQoKTtMPW5ldyBmLkpvaW5lZENlbGxEYXRhKHRoaXMuX3dvcmtDZWxsLGUudHJhbnNsYXRlVG9TdHJpbmcoITAsRVswXSxFWzFdKSxFWzFdLUVbMF0pLHc9RVsxXS0xLFM9TC5nZXRXaWR0aCgpfXZhciB4PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2lmKFM+MSYmKHguc3R5bGUud2lkdGg9dSpTK1wicHhcIiksQyYmKHguc3R5bGUuZGlzcGxheT1cImlubGluZVwiLGM+PWImJmM8PXcmJihjPWIpKSwhdGhpcy5fY29yZVNlcnZpY2UuaXNDdXJzb3JIaWRkZW4mJmkmJmI9PT1jKXN3aXRjaCh4LmNsYXNzTGlzdC5hZGQodC5DVVJTT1JfQ0xBU1MpLGwmJnguY2xhc3NMaXN0LmFkZCh0LkNVUlNPUl9CTElOS19DTEFTUyksbil7Y2FzZVwiYmFyXCI6eC5jbGFzc0xpc3QuYWRkKHQuQ1VSU09SX1NUWUxFX0JBUl9DTEFTUyk7YnJlYWs7Y2FzZVwidW5kZXJsaW5lXCI6eC5jbGFzc0xpc3QuYWRkKHQuQ1VSU09SX1NUWUxFX1VOREVSTElORV9DTEFTUyk7YnJlYWs7ZGVmYXVsdDp4LmNsYXNzTGlzdC5hZGQodC5DVVJTT1JfU1RZTEVfQkxPQ0tfQ0xBU1MpfUwuaXNCb2xkKCkmJnguY2xhc3NMaXN0LmFkZCh0LkJPTERfQ0xBU1MpLEwuaXNJdGFsaWMoKSYmeC5jbGFzc0xpc3QuYWRkKHQuSVRBTElDX0NMQVNTKSxMLmlzRGltKCkmJnguY2xhc3NMaXN0LmFkZCh0LkRJTV9DTEFTUyksTC5pc1VuZGVybGluZSgpJiZ4LmNsYXNzTGlzdC5hZGQodC5VTkRFUkxJTkVfQ0xBU1MpLEwuaXNJbnZpc2libGUoKT94LnRleHRDb250ZW50PWEuV0hJVEVTUEFDRV9DRUxMX0NIQVI6eC50ZXh0Q29udGVudD1MLmdldENoYXJzKCl8fGEuV0hJVEVTUEFDRV9DRUxMX0NIQVIsTC5pc1N0cmlrZXRocm91Z2goKSYmeC5jbGFzc0xpc3QuYWRkKHQuU1RSSUtFVEhST1VHSF9DTEFTUyk7dmFyIFI9TC5nZXRGZ0NvbG9yKCksaz1MLmdldEZnQ29sb3JNb2RlKCksTT1MLmdldEJnQ29sb3IoKSxBPUwuZ2V0QmdDb2xvck1vZGUoKSxPPSEhTC5pc0ludmVyc2UoKTtpZihPKXt2YXIgRD1SO1I9TSxNPUQ7dmFyIFQ9aztrPUEsQT1UfXZhciBCPXZvaWQgMCxQPXZvaWQgMCxJPSExO3RyeXtmb3IodmFyIEg9KGQ9dm9pZCAwLG8odGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZ2V0RGVjb3JhdGlvbnNBdENlbGwoYixyKSkpLGo9SC5uZXh0KCk7IWouZG9uZTtqPUgubmV4dCgpKXt2YXIgRj1qLnZhbHVlO1widG9wXCIhPT1GLm9wdGlvbnMubGF5ZXImJkl8fChGLmJhY2tncm91bmRDb2xvclJHQiYmKEE9NTAzMzE2NDgsTT1GLmJhY2tncm91bmRDb2xvclJHQi5yZ2JhPj44JjE2Nzc3MjE1LEI9Ri5iYWNrZ3JvdW5kQ29sb3JSR0IpLEYuZm9yZWdyb3VuZENvbG9yUkdCJiYoaz01MDMzMTY0OCxSPUYuZm9yZWdyb3VuZENvbG9yUkdCLnJnYmE+PjgmMTY3NzcyMTUsUD1GLmZvcmVncm91bmRDb2xvclJHQiksST1cInRvcFwiPT09Ri5vcHRpb25zLmxheWVyKX19Y2F0Y2goZSl7ZD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aiYmIWouZG9uZSYmKHY9SC5yZXR1cm4pJiZ2LmNhbGwoSCl9ZmluYWxseXtpZihkKXRocm93IGQuZXJyb3J9fXZhciBXPXRoaXMuX2lzQ2VsbEluU2VsZWN0aW9uKGIscik7SXx8dGhpcy5fY29sb3JzLnNlbGVjdGlvbkZvcmVncm91bmQmJlcmJihrPTUwMzMxNjQ4LFI9dGhpcy5fY29sb3JzLnNlbGVjdGlvbkZvcmVncm91bmQucmdiYT4+OCYxNjc3NzIxNSxQPXRoaXMuX2NvbG9ycy5zZWxlY3Rpb25Gb3JlZ3JvdW5kKSxXJiYoQj10aGlzLl9jb2xvcnMuc2VsZWN0aW9uT3BhcXVlLEk9ITApLEkmJnguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWRlY29yYXRpb24tdG9wXCIpO3ZhciBVPXZvaWQgMDtzd2l0Y2goQSl7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOlU9dGhpcy5fY29sb3JzLmFuc2lbTV0seC5jbGFzc0xpc3QuYWRkKFwieHRlcm0tYmctXCIrTSk7YnJlYWs7Y2FzZSA1MDMzMTY0ODpVPWgucmdiYS50b0NvbG9yKE0+PjE2LE0+PjgmMjU1LDI1NSZNKSx0aGlzLl9hZGRTdHlsZSh4LFwiYmFja2dyb3VuZC1jb2xvcjojXCIrcCgoTT4+PjApLnRvU3RyaW5nKDE2KSxcIjBcIiw2KSk7YnJlYWs7ZGVmYXVsdDpPPyhVPXRoaXMuX2NvbG9ycy5mb3JlZ3JvdW5kLHguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWJnLVwiK3MuSU5WRVJURURfREVGQVVMVF9DT0xPUikpOlU9dGhpcy5fY29sb3JzLmJhY2tncm91bmR9c3dpdGNoKGspe2Nhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpMLmlzQm9sZCgpJiZSPDgmJnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMmJihSKz04KSx0aGlzLl9hcHBseU1pbmltdW1Db250cmFzdCh4LFUsdGhpcy5fY29sb3JzLmFuc2lbUl0sTCxCLHZvaWQgMCl8fHguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWZnLVwiK1IpO2JyZWFrO2Nhc2UgNTAzMzE2NDg6dmFyIHE9aC5yZ2JhLnRvQ29sb3IoUj4+MTYmMjU1LFI+PjgmMjU1LDI1NSZSKTt0aGlzLl9hcHBseU1pbmltdW1Db250cmFzdCh4LFUscSxMLEIsUCl8fHRoaXMuX2FkZFN0eWxlKHgsXCJjb2xvcjojXCIrcChSLnRvU3RyaW5nKDE2KSxcIjBcIiw2KSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9hcHBseU1pbmltdW1Db250cmFzdCh4LFUsdGhpcy5fY29sb3JzLmZvcmVncm91bmQsTCxCLHZvaWQgMCl8fE8mJnguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWZnLVwiK3MuSU5WRVJURURfREVGQVVMVF9DT0xPUil9eS5hcHBlbmRDaGlsZCh4KSxiPXd9fXJldHVybiB5fSxlLnByb3RvdHlwZS5fYXBwbHlNaW5pbXVtQ29udHJhc3Q9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe2lmKDE9PT10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLm1pbmltdW1Db250cmFzdFJhdGlvfHwoMCxfLmV4Y2x1ZGVGcm9tQ29udHJhc3RSYXRpb0RlbWFuZHMpKGkuZ2V0Q29kZSgpKSlyZXR1cm4hMTt2YXIgcz12b2lkIDA7cmV0dXJuIG58fG98fChzPXRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLmdldENvbG9yKHQucmdiYSxyLnJnYmEpKSx2b2lkIDA9PT1zJiYocz1oLmNvbG9yLmVuc3VyZUNvbnRyYXN0UmF0aW8obnx8dCxvfHxyLHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMubWluaW11bUNvbnRyYXN0UmF0aW8pLHRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLnNldENvbG9yKChufHx0KS5yZ2JhLChvfHxyKS5yZ2JhLG51bGwhPXM/czpudWxsKSksISFzJiYodGhpcy5fYWRkU3R5bGUoZSxcImNvbG9yOlwiK3MuY3NzKSwhMCl9LGUucHJvdG90eXBlLl9hZGRTdHlsZT1mdW5jdGlvbihlLHQpe2Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIlwiKyhlLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKSt0K1wiO1wiKX0sZS5wcm90b3R5cGUuX2lzQ2VsbEluU2VsZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fc2VsZWN0aW9uU3RhcnQsaT10aGlzLl9zZWxlY3Rpb25FbmQ7cmV0dXJuISghcnx8IWkpJiYodGhpcy5fY29sdW1uU2VsZWN0TW9kZT9yWzBdPD1pWzBdP2U+PXJbMF0mJnQ+PXJbMV0mJmU8aVswXSYmdDw9aVsxXTplPHJbMF0mJnQ+PXJbMV0mJmU+PWlbMF0mJnQ8PWlbMV06dD5yWzFdJiZ0PGlbMV18fHJbMV09PT1pWzFdJiZ0PT09clsxXSYmZT49clswXSYmZTxpWzBdfHxyWzFdPGlbMV0mJnQ9PT1pWzFdJiZlPGlbMF18fHJbMV08aVsxXSYmdD09PXJbMV0mJmU+PXJbMF0pfSxpKFtuKDIsdS5JQ2hhcmFjdGVySm9pbmVyU2VydmljZSksbigzLGwuSU9wdGlvbnNTZXJ2aWNlKSxuKDQsbC5JQ29yZVNlcnZpY2UpLG4oNSxsLklEZWNvcmF0aW9uU2VydmljZSldLGUpfSgpO2Z1bmN0aW9uIHAoZSx0LHIpe2Zvcig7ZS5sZW5ndGg8cjspZT10K2U7cmV0dXJuIGV9dC5Eb21SZW5kZXJlclJvd0ZhY3Rvcnk9ZH0sNDU2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TZWxlY3Rpb25Nb2RlbD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLmlzU2VsZWN0QWxsQWN0aXZlPSExLHRoaXMuc2VsZWN0aW9uU3RhcnRMZW5ndGg9MH1yZXR1cm4gZS5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvblN0YXJ0PXZvaWQgMCx0aGlzLnNlbGVjdGlvbkVuZD12b2lkIDAsdGhpcy5pc1NlbGVjdEFsbEFjdGl2ZT0hMSx0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoPTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZpbmFsU2VsZWN0aW9uU3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNTZWxlY3RBbGxBY3RpdmU/WzAsMF06dGhpcy5zZWxlY3Rpb25FbmQmJnRoaXMuc2VsZWN0aW9uU3RhcnQmJnRoaXMuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKT90aGlzLnNlbGVjdGlvbkVuZDp0aGlzLnNlbGVjdGlvblN0YXJ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZpbmFsU2VsZWN0aW9uRW5kXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzU2VsZWN0QWxsQWN0aXZlP1t0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWJhc2UrdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTFdOnRoaXMuc2VsZWN0aW9uU3RhcnQ/IXRoaXMuc2VsZWN0aW9uRW5kfHx0aGlzLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkKCk/KGU9dGhpcy5zZWxlY3Rpb25TdGFydFswXSt0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoKT50aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM/ZSV0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM9PTA/W3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLnNlbGVjdGlvblN0YXJ0WzFdK01hdGguZmxvb3IoZS90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpLTFdOltlJXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLnNlbGVjdGlvblN0YXJ0WzFdK01hdGguZmxvb3IoZS90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpXTpbZSx0aGlzLnNlbGVjdGlvblN0YXJ0WzFdXTp0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoJiZ0aGlzLnNlbGVjdGlvbkVuZFsxXT09PXRoaXMuc2VsZWN0aW9uU3RhcnRbMV0/KGU9dGhpcy5zZWxlY3Rpb25TdGFydFswXSt0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoKT50aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM/W2UldGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0rTWF0aC5mbG9vcihlL3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scyldOltNYXRoLm1heChlLHRoaXMuc2VsZWN0aW9uRW5kWzBdKSx0aGlzLnNlbGVjdGlvbkVuZFsxXV06dGhpcy5zZWxlY3Rpb25FbmQ6dm9pZCAwO3ZhciBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3Rpb25TdGFydCx0PXRoaXMuc2VsZWN0aW9uRW5kO3JldHVybiEoIWV8fCF0KSYmKGVbMV0+dFsxXXx8ZVsxXT09PXRbMV0mJmVbMF0+dFswXSl9LGUucHJvdG90eXBlLm9uVHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25TdGFydCYmKHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0tPWUpLHRoaXMuc2VsZWN0aW9uRW5kJiYodGhpcy5zZWxlY3Rpb25FbmRbMV0tPWUpLHRoaXMuc2VsZWN0aW9uRW5kJiZ0aGlzLnNlbGVjdGlvbkVuZFsxXTwwPyh0aGlzLmNsZWFyU2VsZWN0aW9uKCksITApOih0aGlzLnNlbGVjdGlvblN0YXJ0JiZ0aGlzLnNlbGVjdGlvblN0YXJ0WzFdPDAmJih0aGlzLnNlbGVjdGlvblN0YXJ0WzFdPTApLCExKX0sZX0oKTt0LlNlbGVjdGlvbk1vZGVsPXJ9LDQyODpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNoYXJTaXplU2VydmljZT12b2lkIDA7dmFyIG89cigyNTg1KSxzPXIoODQ2MCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuX29wdGlvbnNTZXJ2aWNlPXIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fb25DaGFyU2l6ZUNoYW5nZT1uZXcgcy5FdmVudEVtaXR0ZXIsdGhpcy5fbWVhc3VyZVN0cmF0ZWd5PW5ldyBjKGUsdCx0aGlzLl9vcHRpb25zU2VydmljZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhc1ZhbGlkU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aD4wJiZ0aGlzLmhlaWdodD4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ2hhclNpemVDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQ2hhclNpemVDaGFuZ2UuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lYXN1cmVTdHJhdGVneS5tZWFzdXJlKCk7ZS53aWR0aD09PXRoaXMud2lkdGgmJmUuaGVpZ2h0PT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5fb25DaGFyU2l6ZUNoYW5nZS5maXJlKCkpfSxpKFtuKDIsby5JT3B0aW9uc1NlcnZpY2UpXSxlKX0oKTt0LkNoYXJTaXplU2VydmljZT1hO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5fZG9jdW1lbnQ9ZSx0aGlzLl9wYXJlbnRFbGVtZW50PXQsdGhpcy5fb3B0aW9uc1NlcnZpY2U9cix0aGlzLl9yZXN1bHQ9e3dpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuX21lYXN1cmVFbGVtZW50PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMuX21lYXN1cmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1jaGFyLW1lYXN1cmUtZWxlbWVudFwiKSx0aGlzLl9tZWFzdXJlRWxlbWVudC50ZXh0Q29udGVudD1cIldcIix0aGlzLl9tZWFzdXJlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX21lYXN1cmVFbGVtZW50KX1yZXR1cm4gZS5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbigpe3RoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnRGYW1pbHk9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250RmFtaWx5LHRoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnRTaXplPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udFNpemUrXCJweFwiO3ZhciBlPXRoaXMuX21lYXN1cmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiAwIT09ZS53aWR0aCYmMCE9PWUuaGVpZ2h0JiYodGhpcy5fcmVzdWx0LndpZHRoPWUud2lkdGgsdGhpcy5fcmVzdWx0LmhlaWdodD1NYXRoLmNlaWwoZS5oZWlnaHQpKSx0aGlzLl9yZXN1bHR9LGV9KCl9LDQyNjk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhcmFjdGVySm9pbmVyU2VydmljZT10LkpvaW5lZENlbGxEYXRhPXZvaWQgMDt2YXIgYT1yKDM3MzQpLGM9cig2NDMpLGw9cig1MTEpLGg9cigyNTg1KSx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGkpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5jb250ZW50PTAsbi5jb21iaW5lZERhdGE9XCJcIixuLmZnPXQuZmcsbi5iZz10LmJnLG4uY29tYmluZWREYXRhPXIsbi5fd2lkdGg9aSxufXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUuaXNDb21iaW5lZD1mdW5jdGlvbigpe3JldHVybiAyMDk3MTUyfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sdC5wcm90b3R5cGUuZ2V0Q2hhcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21iaW5lZERhdGF9LHQucHJvdG90eXBlLmdldENvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gMjA5NzE1MX0sdC5wcm90b3R5cGUuc2V0RnJvbUNoYXJEYXRhPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX0sdC5wcm90b3R5cGUuZ2V0QXNDaGFyRGF0YT1mdW5jdGlvbigpe3JldHVyblt0aGlzLmZnLHRoaXMuZ2V0Q2hhcnMoKSx0aGlzLmdldFdpZHRoKCksdGhpcy5nZXRDb2RlKCldfSx0fShhLkF0dHJpYnV0ZURhdGEpO3QuSm9pbmVkQ2VsbERhdGE9dTt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fYnVmZmVyU2VydmljZT1lLHRoaXMuX2NoYXJhY3RlckpvaW5lcnM9W10sdGhpcy5fbmV4dENoYXJhY3RlckpvaW5lcklkPTAsdGhpcy5fd29ya0NlbGw9bmV3IGwuQ2VsbERhdGF9cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXtpZDp0aGlzLl9uZXh0Q2hhcmFjdGVySm9pbmVySWQrKyxoYW5kbGVyOmV9O3JldHVybiB0aGlzLl9jaGFyYWN0ZXJKb2luZXJzLnB1c2godCksdC5pZH0sZS5wcm90b3R5cGUuZGVyZWdpc3Rlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuX2NoYXJhY3RlckpvaW5lcnMubGVuZ3RoO3QrKylpZih0aGlzLl9jaGFyYWN0ZXJKb2luZXJzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5fY2hhcmFjdGVySm9pbmVycy5zcGxpY2UodCwxKSwhMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0Sm9pbmVkQ2hhcmFjdGVycz1mdW5jdGlvbihlKXtpZigwPT09dGhpcy5fY2hhcmFjdGVySm9pbmVycy5sZW5ndGgpcmV0dXJuW107dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIubGluZXMuZ2V0KGUpO2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW107Zm9yKHZhciByPVtdLGk9dC50cmFuc2xhdGVUb1N0cmluZyghMCksbj0wLG89MCxzPTAsYT10LmdldEZnKDApLGw9dC5nZXRCZygwKSxoPTA7aDx0LmdldFRyaW1tZWRMZW5ndGgoKTtoKyspaWYodC5sb2FkQ2VsbChoLHRoaXMuX3dvcmtDZWxsKSwwIT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKSl7aWYodGhpcy5fd29ya0NlbGwuZmchPT1hfHx0aGlzLl93b3JrQ2VsbC5iZyE9PWwpe2lmKGgtbj4xKWZvcih2YXIgdT10aGlzLl9nZXRKb2luZWRSYW5nZXMoaSxzLG8sdCxuKSxmPTA7Zjx1Lmxlbmd0aDtmKyspci5wdXNoKHVbZl0pO249aCxzPW8sYT10aGlzLl93b3JrQ2VsbC5mZyxsPXRoaXMuX3dvcmtDZWxsLmJnfW8rPXRoaXMuX3dvcmtDZWxsLmdldENoYXJzKCkubGVuZ3RofHxjLldISVRFU1BBQ0VfQ0VMTF9DSEFSLmxlbmd0aH1pZih0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtbj4xKWZvcih1PXRoaXMuX2dldEpvaW5lZFJhbmdlcyhpLHMsbyx0LG4pLGY9MDtmPHUubGVuZ3RoO2YrKylyLnB1c2godVtmXSk7cmV0dXJuIHJ9LGUucHJvdG90eXBlLl9nZXRKb2luZWRSYW5nZXM9ZnVuY3Rpb24odCxyLGksbixvKXt2YXIgcz10LnN1YnN0cmluZyhyLGkpLGE9W107dHJ5e2E9dGhpcy5fY2hhcmFjdGVySm9pbmVyc1swXS5oYW5kbGVyKHMpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9Zm9yKHZhciBjPTE7Yzx0aGlzLl9jaGFyYWN0ZXJKb2luZXJzLmxlbmd0aDtjKyspdHJ5e2Zvcih2YXIgbD10aGlzLl9jaGFyYWN0ZXJKb2luZXJzW2NdLmhhbmRsZXIocyksaD0wO2g8bC5sZW5ndGg7aCsrKWUuX21lcmdlUmFuZ2VzKGEsbFtoXSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX1yZXR1cm4gdGhpcy5fc3RyaW5nUmFuZ2VzVG9DZWxsUmFuZ2VzKGEsbixvKSxhfSxlLnByb3RvdHlwZS5fc3RyaW5nUmFuZ2VzVG9DZWxsUmFuZ2VzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT0wLG49ITEsbz0wLHM9ZVtpXTtpZihzKXtmb3IodmFyIGE9cjthPHRoaXMuX2J1ZmZlclNlcnZpY2UuY29sczthKyspe3ZhciBsPXQuZ2V0V2lkdGgoYSksaD10LmdldFN0cmluZyhhKS5sZW5ndGh8fGMuV0hJVEVTUEFDRV9DRUxMX0NIQVIubGVuZ3RoO2lmKDAhPT1sKXtpZighbiYmc1swXTw9byYmKHNbMF09YSxuPSEwKSxzWzFdPD1vKXtpZihzWzFdPWEsIShzPWVbKytpXSkpYnJlYWs7c1swXTw9bz8oc1swXT1hLG49ITApOm49ITF9bys9aH19cyYmKHNbMV09dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKX19LGUuX21lcmdlUmFuZ2VzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPSExLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTtpZihyKXtpZih0WzFdPD1uWzBdKXJldHVybiBlW2ktMV1bMV09dFsxXSxlO2lmKHRbMV08PW5bMV0pcmV0dXJuIGVbaS0xXVsxXT1NYXRoLm1heCh0WzFdLG5bMV0pLGUuc3BsaWNlKGksMSksZTtlLnNwbGljZShpLDEpLGktLX1lbHNle2lmKHRbMV08PW5bMF0pcmV0dXJuIGUuc3BsaWNlKGksMCx0KSxlO2lmKHRbMV08PW5bMV0pcmV0dXJuIG5bMF09TWF0aC5taW4odFswXSxuWzBdKSxlO3RbMF08blsxXSYmKG5bMF09TWF0aC5taW4odFswXSxuWzBdKSxyPSEwKX19cmV0dXJuIHI/ZVtlLmxlbmd0aC0xXVsxXT10WzFdOmUucHVzaCh0KSxlfSxlPW8oW3MoMCxoLklCdWZmZXJTZXJ2aWNlKV0sZSl9KCk7dC5DaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPWZ9LDUxMTQ6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvcmVCcm93c2VyU2VydmljZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3RleHRhcmVhPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzRm9jdXNlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fdGV4dGFyZWEuZ2V0Um9vdE5vZGU/dGhpcy5fdGV4dGFyZWEuZ2V0Um9vdE5vZGUoKTpkb2N1bWVudCkuYWN0aXZlRWxlbWVudD09PXRoaXMuX3RleHRhcmVhJiZkb2N1bWVudC5oYXNGb2N1cygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7dC5Db3JlQnJvd3NlclNlcnZpY2U9cn0sODkzNDpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1vdXNlU2VydmljZT12b2lkIDA7dmFyIG89cig0NzI1KSxzPXIoOTgwNiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9yZW5kZXJTZXJ2aWNlPWUsdGhpcy5fY2hhclNpemVTZXJ2aWNlPXR9cmV0dXJuIGUucHJvdG90eXBlLmdldENvb3Jkcz1mdW5jdGlvbihlLHQscixpLG4pe3JldHVybigwLHMuZ2V0Q29vcmRzKSh3aW5kb3csZSx0LHIsaSx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UuaGFzVmFsaWRTaXplLHRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgsdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQsbil9LGUucHJvdG90eXBlLmdldFJhd0J5dGVDb29yZHM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcy5nZXRDb29yZHMoZSx0LHIsaSk7cmV0dXJuKDAscy5nZXRSYXdCeXRlQ29vcmRzKShuKX0saShbbigwLG8uSVJlbmRlclNlcnZpY2UpLG4oMSxvLklDaGFyU2l6ZVNlcnZpY2UpXSxlKX0oKTt0Lk1vdXNlU2VydmljZT1hfSwzMjMwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJlbmRlclNlcnZpY2U9dm9pZCAwO3ZhciBhPXIoNjE5MyksYz1yKDg0NjApLGw9cig4NDQpLGg9cig1NTk2KSx1PXIoMzY1NiksZj1yKDI1ODUpLF89cig0NzI1KSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLHMsbCl7dmFyIGY9ZS5jYWxsKHRoaXMpfHx0aGlzO2lmKGYuX3JlbmRlcmVyPXQsZi5fcm93Q291bnQ9cixmLl9jaGFyU2l6ZVNlcnZpY2U9byxmLl9pc1BhdXNlZD0hMSxmLl9uZWVkc0Z1bGxSZWZyZXNoPSExLGYuX2lzTmV4dFJlbmRlclJlZHJhd09ubHk9ITAsZi5fbmVlZHNTZWxlY3Rpb25SZWZyZXNoPSExLGYuX2NhbnZhc1dpZHRoPTAsZi5fY2FudmFzSGVpZ2h0PTAsZi5fc2VsZWN0aW9uU3RhdGU9e3N0YXJ0OnZvaWQgMCxlbmQ6dm9pZCAwLGNvbHVtblNlbGVjdE1vZGU6ITF9LGYuX29uRGltZW5zaW9uc0NoYW5nZT1uZXcgYy5FdmVudEVtaXR0ZXIsZi5fb25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlPW5ldyBjLkV2ZW50RW1pdHRlcixmLl9vblJlbmRlcj1uZXcgYy5FdmVudEVtaXR0ZXIsZi5fb25SZWZyZXNoUmVxdWVzdD1uZXcgYy5FdmVudEVtaXR0ZXIsZi5yZWdpc3Rlcih7ZGlzcG9zZTpmdW5jdGlvbigpe3JldHVybiBmLl9yZW5kZXJlci5kaXNwb3NlKCl9fSksZi5fcmVuZGVyRGVib3VuY2VyPW5ldyBhLlJlbmRlckRlYm91bmNlcigoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5fcmVuZGVyUm93cyhlLHQpfSkpLGYucmVnaXN0ZXIoZi5fcmVuZGVyRGVib3VuY2VyKSxmLl9zY3JlZW5EcHJNb25pdG9yPW5ldyBoLlNjcmVlbkRwck1vbml0b3IsZi5fc2NyZWVuRHByTW9uaXRvci5zZXRMaXN0ZW5lcigoZnVuY3Rpb24oKXtyZXR1cm4gZi5vbkRldmljZVBpeGVsUmF0aW9DaGFuZ2UoKX0pKSxmLnJlZ2lzdGVyKGYuX3NjcmVlbkRwck1vbml0b3IpLGYucmVnaXN0ZXIobC5vblJlc2l6ZSgoZnVuY3Rpb24oKXtyZXR1cm4gZi5fZnVsbFJlZnJlc2goKX0pKSksZi5yZWdpc3RlcihsLmJ1ZmZlcnMub25CdWZmZXJBY3RpdmF0ZSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPWYuX3JlbmRlcmVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jbGVhcigpfSkpKSxmLnJlZ2lzdGVyKG4ub25PcHRpb25DaGFuZ2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGYuX2hhbmRsZU9wdGlvbnNDaGFuZ2VkKCl9KSkpLGYucmVnaXN0ZXIoZi5fY2hhclNpemVTZXJ2aWNlLm9uQ2hhclNpemVDaGFuZ2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGYub25DaGFyU2l6ZUNoYW5nZWQoKX0pKSksZi5yZWdpc3RlcihzLm9uRGVjb3JhdGlvblJlZ2lzdGVyZWQoKGZ1bmN0aW9uKCl7cmV0dXJuIGYuX2Z1bGxSZWZyZXNoKCl9KSkpLGYucmVnaXN0ZXIocy5vbkRlY29yYXRpb25SZW1vdmVkKChmdW5jdGlvbigpe3JldHVybiBmLl9mdWxsUmVmcmVzaCgpfSkpKSxmLl9yZW5kZXJlci5vblJlcXVlc3RSZWRyYXcoKGZ1bmN0aW9uKGUpe3JldHVybiBmLnJlZnJlc2hSb3dzKGUuc3RhcnQsZS5lbmQsITApfSkpLGYucmVnaXN0ZXIoKDAsdS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe3JldHVybiBmLm9uRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZSgpfSkpKSxcIkludGVyc2VjdGlvbk9ic2VydmVyXCJpbiB3aW5kb3cpe3ZhciBfPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYuX29uSW50ZXJzZWN0aW9uQ2hhbmdlKGVbZS5sZW5ndGgtMV0pfSkse3RocmVzaG9sZDowfSk7Xy5vYnNlcnZlKGkpLGYucmVnaXN0ZXIoe2Rpc3Bvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gXy5kaXNjb25uZWN0KCl9fSl9cmV0dXJuIGZ9cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkRpbWVuc2lvbnNDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRGltZW5zaW9uc0NoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlbmRlcmVkVmlld3BvcnRDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVuZGVyZWRWaWV3cG9ydENoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlbmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZW5kZXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZWZyZXNoUmVxdWVzdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZWZyZXNoUmVxdWVzdC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkaW1lbnNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlci5kaW1lbnNpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9vbkludGVyc2VjdGlvbkNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9pc1BhdXNlZD12b2lkIDA9PT1lLmlzSW50ZXJzZWN0aW5nPzA9PT1lLmludGVyc2VjdGlvblJhdGlvOiFlLmlzSW50ZXJzZWN0aW5nLHRoaXMuX2lzUGF1c2VkfHx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UuaGFzVmFsaWRTaXplfHx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UubWVhc3VyZSgpLCF0aGlzLl9pc1BhdXNlZCYmdGhpcy5fbmVlZHNGdWxsUmVmcmVzaCYmKHRoaXMucmVmcmVzaFJvd3MoMCx0aGlzLl9yb3dDb3VudC0xKSx0aGlzLl9uZWVkc0Z1bGxSZWZyZXNoPSExKX0sdC5wcm90b3R5cGUucmVmcmVzaFJvd3M9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLl9pc1BhdXNlZD90aGlzLl9uZWVkc0Z1bGxSZWZyZXNoPSEwOihyfHwodGhpcy5faXNOZXh0UmVuZGVyUmVkcmF3T25seT0hMSksdGhpcy5fcmVuZGVyRGVib3VuY2VyLnJlZnJlc2goZSx0LHRoaXMuX3Jvd0NvdW50KSl9LHQucHJvdG90eXBlLl9yZW5kZXJSb3dzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVuZGVyZXIucmVuZGVyUm93cyhlLHQpLHRoaXMuX25lZWRzU2VsZWN0aW9uUmVmcmVzaCYmKHRoaXMuX3JlbmRlcmVyLm9uU2VsZWN0aW9uQ2hhbmdlZCh0aGlzLl9zZWxlY3Rpb25TdGF0ZS5zdGFydCx0aGlzLl9zZWxlY3Rpb25TdGF0ZS5lbmQsdGhpcy5fc2VsZWN0aW9uU3RhdGUuY29sdW1uU2VsZWN0TW9kZSksdGhpcy5fbmVlZHNTZWxlY3Rpb25SZWZyZXNoPSExKSx0aGlzLl9pc05leHRSZW5kZXJSZWRyYXdPbmx5fHx0aGlzLl9vblJlbmRlcmVkVmlld3BvcnRDaGFuZ2UuZmlyZSh7c3RhcnQ6ZSxlbmQ6dH0pLHRoaXMuX29uUmVuZGVyLmZpcmUoe3N0YXJ0OmUsZW5kOnR9KSx0aGlzLl9pc05leHRSZW5kZXJSZWRyYXdPbmx5PSEwfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9yb3dDb3VudD10LHRoaXMuX2ZpcmVPbkNhbnZhc1Jlc2l6ZSgpfSx0LnByb3RvdHlwZS5faGFuZGxlT3B0aW9uc0NoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJlci5vbk9wdGlvbnNDaGFuZ2VkKCksdGhpcy5yZWZyZXNoUm93cygwLHRoaXMuX3Jvd0NvdW50LTEpLHRoaXMuX2ZpcmVPbkNhbnZhc1Jlc2l6ZSgpfSx0LnByb3RvdHlwZS5fZmlyZU9uQ2FudmFzUmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyZXIuZGltZW5zaW9ucy5jYW52YXNXaWR0aD09PXRoaXMuX2NhbnZhc1dpZHRoJiZ0aGlzLl9yZW5kZXJlci5kaW1lbnNpb25zLmNhbnZhc0hlaWdodD09PXRoaXMuX2NhbnZhc0hlaWdodHx8dGhpcy5fb25EaW1lbnNpb25zQ2hhbmdlLmZpcmUodGhpcy5fcmVuZGVyZXIuZGltZW5zaW9ucyl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLnNldFJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fcmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmVyPWUsdGhpcy5fcmVuZGVyZXIub25SZXF1ZXN0UmVkcmF3KChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZWZyZXNoUm93cyhlLnN0YXJ0LGUuZW5kLCEwKX0pKSx0aGlzLl9uZWVkc1NlbGVjdGlvblJlZnJlc2g9ITAsdGhpcy5fZnVsbFJlZnJlc2goKX0sdC5wcm90b3R5cGUuYWRkUmVmcmVzaENhbGxiYWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZW5kZXJEZWJvdW5jZXIuYWRkUmVmcmVzaENhbGxiYWNrKGUpfSx0LnByb3RvdHlwZS5fZnVsbFJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZD90aGlzLl9uZWVkc0Z1bGxSZWZyZXNoPSEwOnRoaXMucmVmcmVzaFJvd3MoMCx0aGlzLl9yb3dDb3VudC0xKX0sdC5wcm90b3R5cGUuY2xlYXJUZXh0dXJlQXRsYXM9ZnVuY3Rpb24oKXt2YXIgZSx0O251bGw9PT0odD1udWxsPT09KGU9dGhpcy5fcmVuZGVyZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNsZWFyVGV4dHVyZUF0bGFzKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpLHRoaXMuX2Z1bGxSZWZyZXNoKCl9LHQucHJvdG90eXBlLnNldENvbG9ycz1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJlci5zZXRDb2xvcnMoZSksdGhpcy5fZnVsbFJlZnJlc2goKX0sdC5wcm90b3R5cGUub25EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fY2hhclNpemVTZXJ2aWNlLm1lYXN1cmUoKSx0aGlzLl9yZW5kZXJlci5vbkRldmljZVBpeGVsUmF0aW9DaGFuZ2UoKSx0aGlzLnJlZnJlc2hSb3dzKDAsdGhpcy5fcm93Q291bnQtMSl9LHQucHJvdG90eXBlLm9uUmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVuZGVyZXIub25SZXNpemUoZSx0KSx0aGlzLl9mdWxsUmVmcmVzaCgpfSx0LnByb3RvdHlwZS5vbkNoYXJTaXplQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLm9uQ2hhclNpemVDaGFuZ2VkKCl9LHQucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLm9uQmx1cigpfSx0LnByb3RvdHlwZS5vbkZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyZXIub25Gb2N1cygpfSx0LnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3NlbGVjdGlvblN0YXRlLnN0YXJ0PWUsdGhpcy5fc2VsZWN0aW9uU3RhdGUuZW5kPXQsdGhpcy5fc2VsZWN0aW9uU3RhdGUuY29sdW1uU2VsZWN0TW9kZT1yLHRoaXMuX3JlbmRlcmVyLm9uU2VsZWN0aW9uQ2hhbmdlZChlLHQscil9LHQucHJvdG90eXBlLm9uQ3Vyc29yTW92ZT1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLm9uQ3Vyc29yTW92ZSgpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLmNsZWFyKCl9LG8oW3MoMyxmLklPcHRpb25zU2VydmljZSkscyg0LF8uSUNoYXJTaXplU2VydmljZSkscyg1LGYuSURlY29yYXRpb25TZXJ2aWNlKSxzKDYsZi5JQnVmZmVyU2VydmljZSldLHQpfShsLkRpc3Bvc2FibGUpO3QuUmVuZGVyU2VydmljZT1kfSw5MzEyOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNlbGVjdGlvblNlcnZpY2U9dm9pZCAwO3ZhciBhPXIoNjExNCksYz1yKDQ1NiksbD1yKDUxMSksaD1yKDg0NjApLHU9cig0NzI1KSxmPXIoMjU4NSksXz1yKDk4MDYpLGQ9cig5NTA0KSxwPXIoODQ0KSx2PXIoNDg0MSkseT1TdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCksZz1uZXcgUmVnRXhwKHksXCJnXCIpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyxhLHUpe3ZhciBmPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZi5fZWxlbWVudD10LGYuX3NjcmVlbkVsZW1lbnQ9cixmLl9saW5raWZpZXI9aSxmLl9idWZmZXJTZXJ2aWNlPW4sZi5fY29yZVNlcnZpY2U9byxmLl9tb3VzZVNlcnZpY2U9cyxmLl9vcHRpb25zU2VydmljZT1hLGYuX3JlbmRlclNlcnZpY2U9dSxmLl9kcmFnU2Nyb2xsQW1vdW50PTAsZi5fZW5hYmxlZD0hMCxmLl93b3JrQ2VsbD1uZXcgbC5DZWxsRGF0YSxmLl9tb3VzZURvd25UaW1lU3RhbXA9MCxmLl9vbGRIYXNTZWxlY3Rpb249ITEsZi5fb2xkU2VsZWN0aW9uU3RhcnQ9dm9pZCAwLGYuX29sZFNlbGVjdGlvbkVuZD12b2lkIDAsZi5fb25MaW51eE1vdXNlU2VsZWN0aW9uPWYucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxmLl9vblJlZHJhd1JlcXVlc3Q9Zi5yZWdpc3RlcihuZXcgaC5FdmVudEVtaXR0ZXIpLGYuX29uU2VsZWN0aW9uQ2hhbmdlPWYucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxmLl9vblJlcXVlc3RTY3JvbGxMaW5lcz1mLnJlZ2lzdGVyKG5ldyBoLkV2ZW50RW1pdHRlciksZi5fbW91c2VNb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGYuX29uTW91c2VNb3ZlKGUpfSxmLl9tb3VzZVVwTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGYuX29uTW91c2VVcChlKX0sZi5fY29yZVNlcnZpY2Uub25Vc2VySW5wdXQoKGZ1bmN0aW9uKCl7Zi5oYXNTZWxlY3Rpb24mJmYuY2xlYXJTZWxlY3Rpb24oKX0pKSxmLl90cmltTGlzdGVuZXI9Zi5fYnVmZmVyU2VydmljZS5idWZmZXIubGluZXMub25UcmltKChmdW5jdGlvbihlKXtyZXR1cm4gZi5fb25UcmltKGUpfSkpLGYucmVnaXN0ZXIoZi5fYnVmZmVyU2VydmljZS5idWZmZXJzLm9uQnVmZmVyQWN0aXZhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkJ1ZmZlckFjdGl2YXRlKGUpfSkpKSxmLmVuYWJsZSgpLGYuX21vZGVsPW5ldyBjLlNlbGVjdGlvbk1vZGVsKGYuX2J1ZmZlclNlcnZpY2UpLGYuX2FjdGl2ZVNlbGVjdGlvbk1vZGU9MCxmfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25MaW51eE1vdXNlU2VsZWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkxpbnV4TW91c2VTZWxlY3Rpb24uZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0UmVkcmF3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlZHJhd1JlcXVlc3QuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25TZWxlY3Rpb25DaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFNjcm9sbExpbmVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlcXVlc3RTY3JvbGxMaW5lcy5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlTW91c2VEb3duTGlzdGVuZXJzKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jbGVhclNlbGVjdGlvbigpfSx0LnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuX2VuYWJsZWQ9ITF9LHQucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNlbGVjdGlvblN0YXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNlbGVjdGlvbkVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaGFzU2VsZWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uU3RhcnQsdD10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZDtyZXR1cm4hKCFlfHwhdHx8ZVswXT09PXRbMF0mJmVbMV09PT10WzFdKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzZWxlY3Rpb25UZXh0XCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uU3RhcnQsdD10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZDtpZighZXx8IXQpcmV0dXJuXCJcIjt2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcixpPVtdO2lmKDM9PT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlKXtpZihlWzBdPT09dFswXSlyZXR1cm5cIlwiO2Zvcih2YXIgbj1lWzBdPHRbMF0/ZVswXTp0WzBdLG89ZVswXTx0WzBdP3RbMF06ZVswXSxzPWVbMV07czw9dFsxXTtzKyspe3ZhciBjPXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKHMsITAsbixvKTtpLnB1c2goYyl9fWVsc2V7dmFyIGw9ZVsxXT09PXRbMV0/dFswXTp2b2lkIDA7Zm9yKGkucHVzaChyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhlWzFdLCEwLGVbMF0sbCkpLHM9ZVsxXSsxO3M8PXRbMV0tMTtzKyspe3ZhciBoPXIubGluZXMuZ2V0KHMpO2M9ci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcocywhMCksKG51bGw9PWg/dm9pZCAwOmguaXNXcmFwcGVkKT9pW2kubGVuZ3RoLTFdKz1jOmkucHVzaChjKX1lWzFdIT09dFsxXSYmKGg9ci5saW5lcy5nZXQodFsxXSksYz1yLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyh0WzFdLCEwLDAsdFswXSksaCYmaC5pc1dyYXBwZWQ/aVtpLmxlbmd0aC0xXSs9YzppLnB1c2goYykpfXJldHVybiBpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShnLFwiIFwiKX0pKS5qb2luKGEuaXNXaW5kb3dzP1wiXFxyXFxuXCI6XCJcXG5cIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLl9tb2RlbC5jbGVhclNlbGVjdGlvbigpLHRoaXMuX3JlbW92ZU1vdXNlRG93bkxpc3RlbmVycygpLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlLmZpcmUoKX0sdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZXx8KHRoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3JldHVybiB0Ll9yZWZyZXNoKCl9KSkpLGEuaXNMaW51eCYmZSYmdGhpcy5zZWxlY3Rpb25UZXh0Lmxlbmd0aCYmdGhpcy5fb25MaW51eE1vdXNlU2VsZWN0aW9uLmZpcmUodGhpcy5zZWxlY3Rpb25UZXh0KX0sdC5wcm90b3R5cGUuX3JlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWU9dm9pZCAwLHRoaXMuX29uUmVkcmF3UmVxdWVzdC5maXJlKHtzdGFydDp0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0LGVuZDp0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZCxjb2x1bW5TZWxlY3RNb2RlOjM9PT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlfSl9LHQucHJvdG90eXBlLl9pc0NsaWNrSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZSkscj10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0LGk9dGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQ7cmV0dXJuISEociYmaSYmdCkmJnRoaXMuX2FyZUNvb3Jkc0luU2VsZWN0aW9uKHQscixpKX0sdC5wcm90b3R5cGUuaXNDZWxsSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0LGk9dGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQ7cmV0dXJuISghcnx8IWkpJiZ0aGlzLl9hcmVDb29yZHNJblNlbGVjdGlvbihbZSx0XSxyLGkpfSx0LnByb3RvdHlwZS5fYXJlQ29vcmRzSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzFdPnRbMV0mJmVbMV08clsxXXx8dFsxXT09PXJbMV0mJmVbMV09PT10WzFdJiZlWzBdPj10WzBdJiZlWzBdPHJbMF18fHRbMV08clsxXSYmZVsxXT09PXJbMV0mJmVbMF08clswXXx8dFsxXTxyWzFdJiZlWzFdPT09dFsxXSYmZVswXT49dFswXX0sdC5wcm90b3R5cGUuX3NlbGVjdFdvcmRBdEN1cnNvcj1mdW5jdGlvbihlLHQpe3ZhciByLGksbj1udWxsPT09KGk9bnVsbD09PShyPXRoaXMuX2xpbmtpZmllci5jdXJyZW50TGluayl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGluayl8fHZvaWQgMD09PWk/dm9pZCAwOmkucmFuZ2U7aWYobilyZXR1cm4gdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9W24uc3RhcnQueC0xLG4uc3RhcnQueS0xXSx0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydExlbmd0aD0oMCx2LmdldFJhbmdlTGVuZ3RoKShuLHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyksdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPXZvaWQgMCwhMDt2YXIgbz10aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhlKTtyZXR1cm4hIW8mJih0aGlzLl9zZWxlY3RXb3JkQXQobyx0KSx0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQ9dm9pZCAwLCEwKX0sdC5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKCl7dGhpcy5fbW9kZWwuaXNTZWxlY3RBbGxBY3RpdmU9ITAsdGhpcy5yZWZyZXNoKCksdGhpcy5fb25TZWxlY3Rpb25DaGFuZ2UuZmlyZSgpfSx0LnByb3RvdHlwZS5zZWxlY3RMaW5lcz1mdW5jdGlvbihlLHQpe3RoaXMuX21vZGVsLmNsZWFyU2VsZWN0aW9uKCksZT1NYXRoLm1heChlLDApLHQ9TWF0aC5taW4odCx0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5sZW5ndGgtMSksdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9WzAsZV0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPVt0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdF0sdGhpcy5yZWZyZXNoKCksdGhpcy5fb25TZWxlY3Rpb25DaGFuZ2UuZmlyZSgpfSx0LnByb3RvdHlwZS5fb25UcmltPWZ1bmN0aW9uKGUpe3RoaXMuX21vZGVsLm9uVHJpbShlKSYmdGhpcy5yZWZyZXNoKCl9LHQucHJvdG90eXBlLl9nZXRNb3VzZUJ1ZmZlckNvb3Jkcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb3VzZVNlcnZpY2UuZ2V0Q29vcmRzKGUsdGhpcy5fc2NyZWVuRWxlbWVudCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLCEwKTtpZih0KXJldHVybiB0WzBdLS0sdFsxXS0tLHRbMV0rPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLHR9LHQucHJvdG90eXBlLl9nZXRNb3VzZUV2ZW50U2Nyb2xsQW1vdW50PWZ1bmN0aW9uKGUpe3ZhciB0PSgwLF8uZ2V0Q29vcmRzUmVsYXRpdmVUb0VsZW1lbnQpKHdpbmRvdyxlLHRoaXMuX3NjcmVlbkVsZW1lbnQpWzFdLHI9dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmNhbnZhc0hlaWdodDtyZXR1cm4gdD49MCYmdDw9cj8wOih0PnImJih0LT1yKSx0PU1hdGgubWluKE1hdGgubWF4KHQsLTUwKSw1MCksKHQvPTUwKS9NYXRoLmFicyh0KStNYXRoLnJvdW5kKDE0KnQpKX0sdC5wcm90b3R5cGUuc2hvdWxkRm9yY2VTZWxlY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNNYWM/ZS5hbHRLZXkmJnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMubWFjT3B0aW9uQ2xpY2tGb3JjZXNTZWxlY3Rpb246ZS5zaGlmdEtleX0sdC5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7aWYodGhpcy5fbW91c2VEb3duVGltZVN0YW1wPWUudGltZVN0YW1wLCgyIT09ZS5idXR0b258fCF0aGlzLmhhc1NlbGVjdGlvbikmJjA9PT1lLmJ1dHRvbil7aWYoIXRoaXMuX2VuYWJsZWQpe2lmKCF0aGlzLnNob3VsZEZvcmNlU2VsZWN0aW9uKGUpKXJldHVybjtlLnN0b3BQcm9wYWdhdGlvbigpfWUucHJldmVudERlZmF1bHQoKSx0aGlzLl9kcmFnU2Nyb2xsQW1vdW50PTAsdGhpcy5fZW5hYmxlZCYmZS5zaGlmdEtleT90aGlzLl9vbkluY3JlbWVudGFsQ2xpY2soZSk6MT09PWUuZGV0YWlsP3RoaXMuX29uU2luZ2xlQ2xpY2soZSk6Mj09PWUuZGV0YWlsP3RoaXMuX29uRG91YmxlQ2xpY2soZSk6Mz09PWUuZGV0YWlsJiZ0aGlzLl9vblRyaXBsZUNsaWNrKGUpLHRoaXMuX2FkZE1vdXNlRG93bkxpc3RlbmVycygpLHRoaXMucmVmcmVzaCghMCl9fSx0LnByb3RvdHlwZS5fYWRkTW91c2VEb3duTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9zY3JlZW5FbGVtZW50Lm93bmVyRG9jdW1lbnQmJih0aGlzLl9zY3JlZW5FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKSx0aGlzLl9zY3JlZW5FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9tb3VzZVVwTGlzdGVuZXIpKSx0aGlzLl9kcmFnU2Nyb2xsSW50ZXJ2YWxUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2RyYWdTY3JvbGwoKX0pLDUwKX0sdC5wcm90b3R5cGUuX3JlbW92ZU1vdXNlRG93bkxpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuX3NjcmVlbkVsZW1lbnQub3duZXJEb2N1bWVudCYmKHRoaXMuX3NjcmVlbkVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fbW91c2VNb3ZlTGlzdGVuZXIpLHRoaXMuX3NjcmVlbkVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX21vdXNlVXBMaXN0ZW5lcikpLGNsZWFySW50ZXJ2YWwodGhpcy5fZHJhZ1Njcm9sbEludGVydmFsVGltZXIpLHRoaXMuX2RyYWdTY3JvbGxJbnRlcnZhbFRpbWVyPXZvaWQgMH0sdC5wcm90b3R5cGUuX29uSW5jcmVtZW50YWxDbGljaz1mdW5jdGlvbihlKXt0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydCYmKHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZD10aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhlKSl9LHQucHJvdG90eXBlLl9vblNpbmdsZUNsaWNrPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0TGVuZ3RoPTAsdGhpcy5fbW9kZWwuaXNTZWxlY3RBbGxBY3RpdmU9ITEsdGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZT10aGlzLnNob3VsZENvbHVtblNlbGVjdChlKT8zOjAsdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9dGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZSksdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQpe3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZD12b2lkIDA7dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIubGluZXMuZ2V0KHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzFdKTt0JiZ0Lmxlbmd0aCE9PXRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzBdJiYwPT09dC5oYXNXaWR0aCh0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydFswXSkmJnRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzBdKyt9fSx0LnByb3RvdHlwZS5fb25Eb3VibGVDbGljaz1mdW5jdGlvbihlKXt0aGlzLl9zZWxlY3RXb3JkQXRDdXJzb3IoZSwhMCkmJih0aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlPTEpfSx0LnByb3RvdHlwZS5fb25UcmlwbGVDbGljaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhlKTt0JiYodGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZT0yLHRoaXMuX3NlbGVjdExpbmVBdCh0WzFdKSl9LHQucHJvdG90eXBlLnNob3VsZENvbHVtblNlbGVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXkmJiEoYS5pc01hYyYmdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5tYWNPcHRpb25DbGlja0ZvcmNlc1NlbGVjdGlvbil9LHQucHJvdG90eXBlLl9vbk1vdXNlTW92ZT1mdW5jdGlvbihlKXtpZihlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0KXt2YXIgdD10aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQ/W3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSx0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV1dOm51bGw7aWYodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPXRoaXMuX2dldE1vdXNlQnVmZmVyQ29vcmRzKGUpLHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCl7Mj09PXRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGU/dGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdPHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzFdP3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXT0wOnRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXT10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM6MT09PXRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUmJnRoaXMuX3NlbGVjdFRvV29yZEF0KHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCksdGhpcy5fZHJhZ1Njcm9sbEFtb3VudD10aGlzLl9nZXRNb3VzZUV2ZW50U2Nyb2xsQW1vdW50KGUpLDMhPT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlJiYodGhpcy5fZHJhZ1Njcm9sbEFtb3VudD4wP3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXT10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM6dGhpcy5fZHJhZ1Njcm9sbEFtb3VudDwwJiYodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdPTApKTt2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcjtpZih0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV08ci5saW5lcy5sZW5ndGgpe3ZhciBpPXIubGluZXMuZ2V0KHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFsxXSk7aSYmMD09PWkuaGFzV2lkdGgodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdKSYmdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdKyt9dCYmdFswXT09PXRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSYmdFsxXT09PXRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFsxXXx8dGhpcy5yZWZyZXNoKCEwKX1lbHNlIHRoaXMucmVmcmVzaCghMCl9fSx0LnByb3RvdHlwZS5fZHJhZ1Njcm9sbD1mdW5jdGlvbigpe2lmKHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCYmdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQmJnRoaXMuX2RyYWdTY3JvbGxBbW91bnQpe3RoaXMuX29uUmVxdWVzdFNjcm9sbExpbmVzLmZpcmUoe2Ftb3VudDp0aGlzLl9kcmFnU2Nyb2xsQW1vdW50LHN1cHByZXNzU2Nyb2xsRXZlbnQ6ITF9KTt2YXIgZT10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcjt0aGlzLl9kcmFnU2Nyb2xsQW1vdW50PjA/KDMhPT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlJiYodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyksdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdPU1hdGgubWluKGUueWRpc3ArdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLGUubGluZXMubGVuZ3RoLTEpKTooMyE9PXRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUmJih0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMF09MCksdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdPWUueWRpc3ApLHRoaXMucmVmcmVzaCgpfX0sdC5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbihlKXt2YXIgdD1lLnRpbWVTdGFtcC10aGlzLl9tb3VzZURvd25UaW1lU3RhbXA7aWYodGhpcy5fcmVtb3ZlTW91c2VEb3duTGlzdGVuZXJzKCksdGhpcy5zZWxlY3Rpb25UZXh0Lmxlbmd0aDw9MSYmdDw1MDAmJmUuYWx0S2V5JiZ0aGlzLl9vcHRpb25zU2VydmljZS5nZXRPcHRpb24oXCJhbHRDbGlja01vdmVzQ3Vyc29yXCIpKXtpZih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55YmFzZT09PXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwKXt2YXIgcj10aGlzLl9tb3VzZVNlcnZpY2UuZ2V0Q29vcmRzKGUsdGhpcy5fZWxlbWVudCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLCExKTtpZihyJiZ2b2lkIDAhPT1yWzBdJiZ2b2lkIDAhPT1yWzFdKXt2YXIgaT0oMCxkLm1vdmVUb0NlbGxTZXF1ZW5jZSkoclswXS0xLHJbMV0tMSx0aGlzLl9idWZmZXJTZXJ2aWNlLHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbkN1cnNvcktleXMpO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQoaSwhMCl9fX1lbHNlIHRoaXMuX2ZpcmVFdmVudElmU2VsZWN0aW9uQ2hhbmdlZCgpfSx0LnByb3RvdHlwZS5fZmlyZUV2ZW50SWZTZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25TdGFydCx0PXRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uRW5kLHI9ISghZXx8IXR8fGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSk7cj9lJiZ0JiYodGhpcy5fb2xkU2VsZWN0aW9uU3RhcnQmJnRoaXMuX29sZFNlbGVjdGlvbkVuZCYmZVswXT09PXRoaXMuX29sZFNlbGVjdGlvblN0YXJ0WzBdJiZlWzFdPT09dGhpcy5fb2xkU2VsZWN0aW9uU3RhcnRbMV0mJnRbMF09PT10aGlzLl9vbGRTZWxlY3Rpb25FbmRbMF0mJnRbMV09PT10aGlzLl9vbGRTZWxlY3Rpb25FbmRbMV18fHRoaXMuX2ZpcmVPblNlbGVjdGlvbkNoYW5nZShlLHQscikpOnRoaXMuX29sZEhhc1NlbGVjdGlvbiYmdGhpcy5fZmlyZU9uU2VsZWN0aW9uQ2hhbmdlKGUsdCxyKX0sdC5wcm90b3R5cGUuX2ZpcmVPblNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbihlLHQscil7dGhpcy5fb2xkU2VsZWN0aW9uU3RhcnQ9ZSx0aGlzLl9vbGRTZWxlY3Rpb25FbmQ9dCx0aGlzLl9vbGRIYXNTZWxlY3Rpb249cix0aGlzLl9vblNlbGVjdGlvbkNoYW5nZS5maXJlKCl9LHQucHJvdG90eXBlLl9vbkJ1ZmZlckFjdGl2YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuX3RyaW1MaXN0ZW5lci5kaXNwb3NlKCksdGhpcy5fdHJpbUxpc3RlbmVyPWUuYWN0aXZlQnVmZmVyLmxpbmVzLm9uVHJpbSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX29uVHJpbShlKX0pKX0sdC5wcm90b3R5cGUuX2NvbnZlcnRWaWV3cG9ydENvbFRvQ2hhcmFjdGVySW5kZXg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dFswXSxpPTA7dFswXT49aTtpKyspe3ZhciBuPWUubG9hZENlbGwoaSx0aGlzLl93b3JrQ2VsbCkuZ2V0Q2hhcnMoKS5sZW5ndGg7MD09PXRoaXMuX3dvcmtDZWxsLmdldFdpZHRoKCk/ci0tOm4+MSYmdFswXSE9PWkmJihyKz1uLTEpfXJldHVybiByfSx0LnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX21vZGVsLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5fcmVtb3ZlTW91c2VEb3duTGlzdGVuZXJzKCksdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9W2UsdF0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRMZW5ndGg9cix0aGlzLnJlZnJlc2goKSx0aGlzLl9maXJlRXZlbnRJZlNlbGVjdGlvbkNoYW5nZWQoKX0sdC5wcm90b3R5cGUucmlnaHRDbGlja1NlbGVjdD1mdW5jdGlvbihlKXt0aGlzLl9pc0NsaWNrSW5TZWxlY3Rpb24oZSl8fCh0aGlzLl9zZWxlY3RXb3JkQXRDdXJzb3IoZSwhMSkmJnRoaXMucmVmcmVzaCghMCksdGhpcy5fZmlyZUV2ZW50SWZTZWxlY3Rpb25DaGFuZ2VkKCkpfSx0LnByb3RvdHlwZS5fZ2V0V29yZEF0PWZ1bmN0aW9uKGUsdCxyLGkpe2lmKHZvaWQgMD09PXImJihyPSEwKSx2b2lkIDA9PT1pJiYoaT0hMCksIShlWzBdPj10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpKXt2YXIgbj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcixvPW4ubGluZXMuZ2V0KGVbMV0pO2lmKG8pe3ZhciBzPW4udHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKGVbMV0sITEpLGE9dGhpcy5fY29udmVydFZpZXdwb3J0Q29sVG9DaGFyYWN0ZXJJbmRleChvLGUpLGM9YSxsPWVbMF0tYSxoPTAsdT0wLGY9MCxfPTA7aWYoXCIgXCI9PT1zLmNoYXJBdChhKSl7Zm9yKDthPjAmJlwiIFwiPT09cy5jaGFyQXQoYS0xKTspYS0tO2Zvcig7YzxzLmxlbmd0aCYmXCIgXCI9PT1zLmNoYXJBdChjKzEpOyljKyt9ZWxzZXt2YXIgZD1lWzBdLHA9ZVswXTswPT09by5nZXRXaWR0aChkKSYmKGgrKyxkLS0pLDI9PT1vLmdldFdpZHRoKHApJiYodSsrLHArKyk7dmFyIHY9by5nZXRTdHJpbmcocCkubGVuZ3RoO2Zvcih2PjEmJihfKz12LTEsYys9di0xKTtkPjAmJmE+MCYmIXRoaXMuX2lzQ2hhcldvcmRTZXBhcmF0b3Ioby5sb2FkQ2VsbChkLTEsdGhpcy5fd29ya0NlbGwpKTspe28ubG9hZENlbGwoZC0xLHRoaXMuX3dvcmtDZWxsKTt2YXIgeT10aGlzLl93b3JrQ2VsbC5nZXRDaGFycygpLmxlbmd0aDswPT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKT8oaCsrLGQtLSk6eT4xJiYoZis9eS0xLGEtPXktMSksYS0tLGQtLX1mb3IoO3A8by5sZW5ndGgmJmMrMTxzLmxlbmd0aCYmIXRoaXMuX2lzQ2hhcldvcmRTZXBhcmF0b3Ioby5sb2FkQ2VsbChwKzEsdGhpcy5fd29ya0NlbGwpKTspe28ubG9hZENlbGwocCsxLHRoaXMuX3dvcmtDZWxsKTt2YXIgZz10aGlzLl93b3JrQ2VsbC5nZXRDaGFycygpLmxlbmd0aDsyPT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKT8odSsrLHArKyk6Zz4xJiYoXys9Zy0xLGMrPWctMSksYysrLHArK319YysrO3ZhciBtPWErbC1oK2YsYj1NYXRoLm1pbih0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsYy1hK2grdS1mLV8pO2lmKHR8fFwiXCIhPT1zLnNsaWNlKGEsYykudHJpbSgpKXtpZihyJiYwPT09bSYmMzIhPT1vLmdldENvZGVQb2ludCgwKSl7dmFyIFM9bi5saW5lcy5nZXQoZVsxXS0xKTtpZihTJiZvLmlzV3JhcHBlZCYmMzIhPT1TLmdldENvZGVQb2ludCh0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtMSkpe3ZhciBDPXRoaXMuX2dldFdvcmRBdChbdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLTEsZVsxXS0xXSwhMSwhMCwhMSk7aWYoQyl7dmFyIHc9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLUMuc3RhcnQ7bS09dyxiKz13fX19aWYoaSYmbStiPT09dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzJiYzMiE9PW8uZ2V0Q29kZVBvaW50KHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scy0xKSl7dmFyIEw9bi5saW5lcy5nZXQoZVsxXSsxKTtpZigobnVsbD09TD92b2lkIDA6TC5pc1dyYXBwZWQpJiYzMiE9PUwuZ2V0Q29kZVBvaW50KDApKXt2YXIgRT10aGlzLl9nZXRXb3JkQXQoWzAsZVsxXSsxXSwhMSwhMSwhMCk7RSYmKGIrPUUubGVuZ3RoKX19cmV0dXJue3N0YXJ0Om0sbGVuZ3RoOmJ9fX19fSx0LnByb3RvdHlwZS5fc2VsZWN0V29yZEF0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2V0V29yZEF0KGUsdCk7aWYocil7Zm9yKDtyLnN0YXJ0PDA7KXIuc3RhcnQrPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyxlWzFdLS07dGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9W3Iuc3RhcnQsZVsxXV0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRMZW5ndGg9ci5sZW5ndGh9fSx0LnByb3RvdHlwZS5fc2VsZWN0VG9Xb3JkQXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0V29yZEF0KGUsITApO2lmKHQpe2Zvcih2YXIgcj1lWzFdO3Quc3RhcnQ8MDspdC5zdGFydCs9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHItLTtpZighdGhpcy5fbW9kZWwuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKSlmb3IoO3Quc3RhcnQrdC5sZW5ndGg+dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzOyl0Lmxlbmd0aC09dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHIrKzt0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQ9W3RoaXMuX21vZGVsLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkKCk/dC5zdGFydDp0LnN0YXJ0K3QubGVuZ3RoLHJdfX0sdC5wcm90b3R5cGUuX2lzQ2hhcldvcmRTZXBhcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmdldFdpZHRoKCkmJnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud29yZFNlcGFyYXRvci5pbmRleE9mKGUuZ2V0Q2hhcnMoKSk+PTB9LHQucHJvdG90eXBlLl9zZWxlY3RMaW5lQXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIuZ2V0V3JhcHBlZFJhbmdlRm9yTGluZShlKSxyPXtzdGFydDp7eDowLHk6dC5maXJzdH0sZW5kOnt4OnRoaXMuX2J1ZmZlclNlcnZpY2UuY29scy0xLHk6dC5sYXN0fX07dGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9WzAsdC5maXJzdF0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPXZvaWQgMCx0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydExlbmd0aD0oMCx2LmdldFJhbmdlTGVuZ3RoKShyLHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyl9LG8oW3MoMyxmLklCdWZmZXJTZXJ2aWNlKSxzKDQsZi5JQ29yZVNlcnZpY2UpLHMoNSx1LklNb3VzZVNlcnZpY2UpLHMoNixmLklPcHRpb25zU2VydmljZSkscyg3LHUuSVJlbmRlclNlcnZpY2UpXSx0KX0ocC5EaXNwb3NhYmxlKTt0LlNlbGVjdGlvblNlcnZpY2U9bX0sNDcyNTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JQ2hhcmFjdGVySm9pbmVyU2VydmljZT10LklTb3VuZFNlcnZpY2U9dC5JU2VsZWN0aW9uU2VydmljZT10LklSZW5kZXJTZXJ2aWNlPXQuSU1vdXNlU2VydmljZT10LklDb3JlQnJvd3NlclNlcnZpY2U9dC5JQ2hhclNpemVTZXJ2aWNlPXZvaWQgMDt2YXIgaT1yKDgzNDMpO3QuSUNoYXJTaXplU2VydmljZT0oMCxpLmNyZWF0ZURlY29yYXRvcikoXCJDaGFyU2l6ZVNlcnZpY2VcIiksdC5JQ29yZUJyb3dzZXJTZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIkNvcmVCcm93c2VyU2VydmljZVwiKSx0LklNb3VzZVNlcnZpY2U9KDAsaS5jcmVhdGVEZWNvcmF0b3IpKFwiTW91c2VTZXJ2aWNlXCIpLHQuSVJlbmRlclNlcnZpY2U9KDAsaS5jcmVhdGVEZWNvcmF0b3IpKFwiUmVuZGVyU2VydmljZVwiKSx0LklTZWxlY3Rpb25TZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIlNlbGVjdGlvblNlcnZpY2VcIiksdC5JU291bmRTZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIlNvdW5kU2VydmljZVwiKSx0LklDaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIkNoYXJhY3RlckpvaW5lclNlcnZpY2VcIil9LDM1NzpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNvdW5kU2VydmljZT12b2lkIDA7dmFyIG89cigyNTg1KSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9vcHRpb25zU2VydmljZT1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImF1ZGlvQ29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZighZS5fYXVkaW9Db250ZXh0KXt2YXIgdD13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O2lmKCF0KXJldHVybiBjb25zb2xlLndhcm4oXCJXZWIgQXVkaW8gQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiBDb25zaWRlciB1cGdyYWRpbmcgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uXCIpLG51bGw7ZS5fYXVkaW9Db250ZXh0PW5ldyB0fXJldHVybiBlLl9hdWRpb0NvbnRleHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucGxheUJlbGxTb3VuZD1mdW5jdGlvbigpe3ZhciB0PWUuYXVkaW9Db250ZXh0O2lmKHQpe3ZhciByPXQuY3JlYXRlQnVmZmVyU291cmNlKCk7dC5kZWNvZGVBdWRpb0RhdGEodGhpcy5fYmFzZTY0VG9BcnJheUJ1ZmZlcih0aGlzLl9yZW1vdmVNaW1lVHlwZSh0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmJlbGxTb3VuZCkpLChmdW5jdGlvbihlKXtyLmJ1ZmZlcj1lLHIuY29ubmVjdCh0LmRlc3RpbmF0aW9uKSxyLnN0YXJ0KDApfSkpfX0sZS5wcm90b3R5cGUuX2Jhc2U2NFRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXdpbmRvdy5hdG9iKGUpLHI9dC5sZW5ndGgsaT1uZXcgVWludDhBcnJheShyKSxuPTA7bjxyO24rKylpW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gaS5idWZmZXJ9LGUucHJvdG90eXBlLl9yZW1vdmVNaW1lVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIixcIilbMV19LGU9aShbbigwLG8uSU9wdGlvbnNTZXJ2aWNlKV0sZSl9KCk7dC5Tb3VuZFNlcnZpY2U9c30sNjM0OTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DaXJjdWxhckxpc3Q9dm9pZCAwO3ZhciBpPXIoODQ2MCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fbWF4TGVuZ3RoPWUsdGhpcy5vbkRlbGV0ZUVtaXR0ZXI9bmV3IGkuRXZlbnRFbWl0dGVyLHRoaXMub25JbnNlcnRFbWl0dGVyPW5ldyBpLkV2ZW50RW1pdHRlcix0aGlzLm9uVHJpbUVtaXR0ZXI9bmV3IGkuRXZlbnRFbWl0dGVyLHRoaXMuX2FycmF5PW5ldyBBcnJheSh0aGlzLl9tYXhMZW5ndGgpLHRoaXMuX3N0YXJ0SW5kZXg9MCx0aGlzLl9sZW5ndGg9MH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25EZWxldGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25EZWxldGVFbWl0dGVyLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uSW5zZXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uSW5zZXJ0RW1pdHRlci5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvblRyaW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25UcmltRW1pdHRlci5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtYXhMZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heExlbmd0aH0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX21heExlbmd0aCE9PWUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZSkscj0wO3I8TWF0aC5taW4oZSx0aGlzLmxlbmd0aCk7cisrKXRbcl09dGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgocildO3RoaXMuX2FycmF5PXQsdGhpcy5fbWF4TGVuZ3RoPWUsdGhpcy5fc3RhcnRJbmRleD0wfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sc2V0OmZ1bmN0aW9uKGUpe2lmKGU+dGhpcy5fbGVuZ3RoKWZvcih2YXIgdD10aGlzLl9sZW5ndGg7dDxlO3QrKyl0aGlzLl9hcnJheVt0XT12b2lkIDA7dGhpcy5fbGVuZ3RoPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChlKV19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KGUpXT10fSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KHRoaXMuX2xlbmd0aCldPWUsdGhpcy5fbGVuZ3RoPT09dGhpcy5fbWF4TGVuZ3RoPyh0aGlzLl9zdGFydEluZGV4PSsrdGhpcy5fc3RhcnRJbmRleCV0aGlzLl9tYXhMZW5ndGgsdGhpcy5vblRyaW1FbWl0dGVyLmZpcmUoMSkpOnRoaXMuX2xlbmd0aCsrfSxlLnByb3RvdHlwZS5yZWN5Y2xlPWZ1bmN0aW9uKCl7aWYodGhpcy5fbGVuZ3RoIT09dGhpcy5fbWF4TGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbiBvbmx5IHJlY3ljbGUgd2hlbiB0aGUgYnVmZmVyIGlzIGZ1bGxcIik7cmV0dXJuIHRoaXMuX3N0YXJ0SW5kZXg9Kyt0aGlzLl9zdGFydEluZGV4JXRoaXMuX21heExlbmd0aCx0aGlzLm9uVHJpbUVtaXR0ZXIuZmlyZSgxKSx0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleCh0aGlzLl9sZW5ndGgtMSldfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0Z1bGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aD09PXRoaXMuX21heExlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgodGhpcy5fbGVuZ3RoLS0tMSldfSxlLnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTJdPWFyZ3VtZW50c1tpXTtpZih0KXtmb3IodmFyIG49ZTtuPHRoaXMuX2xlbmd0aC10O24rKyl0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChuKV09dGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgobit0KV07dGhpcy5fbGVuZ3RoLT10LHRoaXMub25EZWxldGVFbWl0dGVyLmZpcmUoe2luZGV4OmUsYW1vdW50OnR9KX1mb3Iobj10aGlzLl9sZW5ndGgtMTtuPj1lO24tLSl0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChuK3IubGVuZ3RoKV09dGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgobildO2ZvcihuPTA7bjxyLmxlbmd0aDtuKyspdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgoZStuKV09cltuXTtpZihyLmxlbmd0aCYmdGhpcy5vbkluc2VydEVtaXR0ZXIuZmlyZSh7aW5kZXg6ZSxhbW91bnQ6ci5sZW5ndGh9KSx0aGlzLl9sZW5ndGgrci5sZW5ndGg+dGhpcy5fbWF4TGVuZ3RoKXt2YXIgbz10aGlzLl9sZW5ndGgrci5sZW5ndGgtdGhpcy5fbWF4TGVuZ3RoO3RoaXMuX3N0YXJ0SW5kZXgrPW8sdGhpcy5fbGVuZ3RoPXRoaXMuX21heExlbmd0aCx0aGlzLm9uVHJpbUVtaXR0ZXIuZmlyZShvKX1lbHNlIHRoaXMuX2xlbmd0aCs9ci5sZW5ndGh9LGUucHJvdG90eXBlLnRyaW1TdGFydD1mdW5jdGlvbihlKXtlPnRoaXMuX2xlbmd0aCYmKGU9dGhpcy5fbGVuZ3RoKSx0aGlzLl9zdGFydEluZGV4Kz1lLHRoaXMuX2xlbmd0aC09ZSx0aGlzLm9uVHJpbUVtaXR0ZXIuZmlyZShlKX0sZS5wcm90b3R5cGUuc2hpZnRFbGVtZW50cz1mdW5jdGlvbihlLHQscil7aWYoISh0PD0wKSl7aWYoZTwwfHxlPj10aGlzLl9sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwic3RhcnQgYXJndW1lbnQgb3V0IG9mIHJhbmdlXCIpO2lmKGUrcjwwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzaGlmdCBlbGVtZW50cyBpbiBsaXN0IGJleW9uZCBpbmRleCAwXCIpO2lmKHI+MCl7Zm9yKHZhciBpPXQtMTtpPj0wO2ktLSl0aGlzLnNldChlK2krcix0aGlzLmdldChlK2kpKTt2YXIgbj1lK3Qrci10aGlzLl9sZW5ndGg7aWYobj4wKWZvcih0aGlzLl9sZW5ndGgrPW47dGhpcy5fbGVuZ3RoPnRoaXMuX21heExlbmd0aDspdGhpcy5fbGVuZ3RoLS0sdGhpcy5fc3RhcnRJbmRleCsrLHRoaXMub25UcmltRW1pdHRlci5maXJlKDEpfWVsc2UgZm9yKGk9MDtpPHQ7aSsrKXRoaXMuc2V0KGUraStyLHRoaXMuZ2V0KGUraSkpfX0sZS5wcm90b3R5cGUuX2dldEN5Y2xpY0luZGV4PWZ1bmN0aW9uKGUpe3JldHVybih0aGlzLl9zdGFydEluZGV4K2UpJXRoaXMuX21heExlbmd0aH0sZX0oKTt0LkNpcmN1bGFyTGlzdD1ufSwxNDM5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jbG9uZT12b2lkIDAsdC5jbG9uZT1mdW5jdGlvbiBlKHQscil7aWYodm9pZCAwPT09ciYmKHI9NSksXCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGk9QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIG4gaW4gdClpW25dPXI8PTE/dFtuXTp0W25dJiZlKHRbbl0sci0xKTtyZXR1cm4gaX19LDgwNTU6ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfTtmdW5jdGlvbiBhKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiB0Lmxlbmd0aDwyP1wiMFwiK3Q6dH1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGU8dD8odCsuMDUpLyhlKy4wNSk6KGUrLjA1KS8odCsuMDUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY29udHJhc3RSYXRpbz10LnRvUGFkZGVkSGV4PXQucmdiYT10LnJnYj10LmNzcz10LmNvbG9yPXQuY2hhbm5lbHM9dm9pZCAwLGZ1bmN0aW9uKGUpe2UudG9Dc3M9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHZvaWQgMCE9PWk/XCIjXCIrYShlKSthKHQpK2EocikrYShpKTpcIiNcIithKGUpK2EodCkrYShyKX0sZS50b1JnYmE9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTI1NSksKGU8PDI0fHQ8PDE2fHI8PDh8aSk+Pj4wfX0ocj10LmNoYW5uZWxzfHwodC5jaGFubmVscz17fSkpLChpPXQuY29sb3J8fCh0LmNvbG9yPXt9KSkuYmxlbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT0oMjU1JnQucmdiYSkvMjU1O2lmKDE9PT1pKXJldHVybntjc3M6dC5jc3MscmdiYTp0LnJnYmF9O3ZhciBuPXQucmdiYT4+MjQmMjU1LG89dC5yZ2JhPj4xNiYyNTUscz10LnJnYmE+PjgmMjU1LGE9ZS5yZ2JhPj4yNCYyNTUsYz1lLnJnYmE+PjE2JjI1NSxsPWUucmdiYT4+OCYyNTUsaD1hK01hdGgucm91bmQoKG4tYSkqaSksdT1jK01hdGgucm91bmQoKG8tYykqaSksZj1sK01hdGgucm91bmQoKHMtbCkqaSk7cmV0dXJue2NzczpyLnRvQ3NzKGgsdSxmKSxyZ2JhOnIudG9SZ2JhKGgsdSxmKX19LGkuaXNPcGFxdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI1NT09KDI1NSZlLnJnYmEpfSxpLmVuc3VyZUNvbnRyYXN0UmF0aW89ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW8uZW5zdXJlQ29udHJhc3RSYXRpbyhlLnJnYmEsdC5yZ2JhLHIpO2lmKGkpcmV0dXJuIG8udG9Db2xvcihpPj4yNCYyNTUsaT4+MTYmMjU1LGk+PjgmMjU1KX0saS5vcGFxdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9KDI1NXxlLnJnYmEpPj4+MCxpPXMoby50b0NoYW5uZWxzKHQpLDMpLG49aVswXSxhPWlbMV0sYz1pWzJdO3JldHVybntjc3M6ci50b0NzcyhuLGEsYykscmdiYTp0fX0saS5vcGFjaXR5PWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5yb3VuZCgyNTUqdCksbj1zKG8udG9DaGFubmVscyhlLnJnYmEpLDMpLGE9blswXSxjPW5bMV0sbD1uWzJdO3JldHVybntjc3M6ci50b0NzcyhhLGMsbCxpKSxyZ2JhOnIudG9SZ2JhKGEsYyxsLGkpfX0saS50b0NvbG9yUkdCPWZ1bmN0aW9uKGUpe3JldHVybltlLnJnYmE+PjI0JjI1NSxlLnJnYmE+PjE2JjI1NSxlLnJnYmE+PjgmMjU1XX0sKHQuY3NzfHwodC5jc3M9e30pKS50b0NvbG9yPWZ1bmN0aW9uKGUpe2lmKGUubWF0Y2goLyNbMC05YS1mXXszLDh9L2kpKXN3aXRjaChlLmxlbmd0aCl7Y2FzZSA0OnZhciB0PXBhcnNlSW50KGUuc2xpY2UoMSwyKS5yZXBlYXQoMiksMTYpLHI9cGFyc2VJbnQoZS5zbGljZSgyLDMpLnJlcGVhdCgyKSwxNiksaT1wYXJzZUludChlLnNsaWNlKDMsNCkucmVwZWF0KDIpLDE2KTtyZXR1cm4gby50b0NvbG9yKHQscixpKTtjYXNlIDU6dD1wYXJzZUludChlLnNsaWNlKDEsMikucmVwZWF0KDIpLDE2KSxyPXBhcnNlSW50KGUuc2xpY2UoMiwzKS5yZXBlYXQoMiksMTYpLGk9cGFyc2VJbnQoZS5zbGljZSgzLDQpLnJlcGVhdCgyKSwxNik7dmFyIG49cGFyc2VJbnQoZS5zbGljZSg0LDUpLnJlcGVhdCgyKSwxNik7cmV0dXJuIG8udG9Db2xvcih0LHIsaSxuKTtjYXNlIDc6cmV0dXJue2NzczplLHJnYmE6KHBhcnNlSW50KGUuc2xpY2UoMSksMTYpPDw4fDI1NSk+Pj4wfTtjYXNlIDk6cmV0dXJue2NzczplLHJnYmE6cGFyc2VJbnQoZS5zbGljZSgxKSwxNik+Pj4wfX12YXIgcz1lLm1hdGNoKC9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKCxcXHMqKDB8MXxcXGQ/XFwuKFxcZCspKVxccyopP1xcKS8pO2lmKHMpcmV0dXJuIHQ9cGFyc2VJbnQoc1sxXSkscj1wYXJzZUludChzWzJdKSxpPXBhcnNlSW50KHNbM10pLG49TWF0aC5yb3VuZCgyNTUqKHZvaWQgMD09PXNbNV0/MTpwYXJzZUZsb2F0KHNbNV0pKSksby50b0NvbG9yKHQscixpLG4pO3Rocm93IG5ldyBFcnJvcihcImNzcy50b0NvbG9yOiBVbnN1cHBvcnRlZCBjc3MgZm9ybWF0XCIpfSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyKXt2YXIgaT1lLzI1NSxuPXQvMjU1LG89ci8yNTU7cmV0dXJuLjIxMjYqKGk8PS4wMzkyOD9pLzEyLjkyOk1hdGgucG93KChpKy4wNTUpLzEuMDU1LDIuNCkpKy43MTUyKihuPD0uMDM5Mjg/bi8xMi45MjpNYXRoLnBvdygobisuMDU1KS8xLjA1NSwyLjQpKSsuMDcyMioobzw9LjAzOTI4P28vMTIuOTI6TWF0aC5wb3coKG8rLjA1NSkvMS4wNTUsMi40KSl9ZS5yZWxhdGl2ZUx1bWluYW5jZT1mdW5jdGlvbihlKXtyZXR1cm4gdChlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmUpfSxlLnJlbGF0aXZlTHVtaW5hbmNlMj10fShuPXQucmdifHwodC5yZ2I9e30pKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyKXtmb3IodmFyIGk9ZT4+MjQmMjU1LG89ZT4+MTYmMjU1LHM9ZT4+OCYyNTUsYT10Pj4yNCYyNTUsbD10Pj4xNiYyNTUsaD10Pj44JjI1NSx1PWMobi5yZWxhdGl2ZUx1bWluYW5jZTIoYSxsLGgpLG4ucmVsYXRpdmVMdW1pbmFuY2UyKGksbyxzKSk7dTxyJiYoYT4wfHxsPjB8fGg+MCk7KWEtPU1hdGgubWF4KDAsTWF0aC5jZWlsKC4xKmEpKSxsLT1NYXRoLm1heCgwLE1hdGguY2VpbCguMSpsKSksaC09TWF0aC5tYXgoMCxNYXRoLmNlaWwoLjEqaCkpLHU9YyhuLnJlbGF0aXZlTHVtaW5hbmNlMihhLGwsaCksbi5yZWxhdGl2ZUx1bWluYW5jZTIoaSxvLHMpKTtyZXR1cm4oYTw8MjR8bDw8MTZ8aDw8OHwyNTUpPj4+MH1mdW5jdGlvbiBpKGUsdCxyKXtmb3IodmFyIGk9ZT4+MjQmMjU1LG89ZT4+MTYmMjU1LHM9ZT4+OCYyNTUsYT10Pj4yNCYyNTUsbD10Pj4xNiYyNTUsaD10Pj44JjI1NSx1PWMobi5yZWxhdGl2ZUx1bWluYW5jZTIoYSxsLGgpLG4ucmVsYXRpdmVMdW1pbmFuY2UyKGksbyxzKSk7dTxyJiYoYTwyNTV8fGw8MjU1fHxoPDI1NSk7KWE9TWF0aC5taW4oMjU1LGErTWF0aC5jZWlsKC4xKigyNTUtYSkpKSxsPU1hdGgubWluKDI1NSxsK01hdGguY2VpbCguMSooMjU1LWwpKSksaD1NYXRoLm1pbigyNTUsaCtNYXRoLmNlaWwoLjEqKDI1NS1oKSkpLHU9YyhuLnJlbGF0aXZlTHVtaW5hbmNlMihhLGwsaCksbi5yZWxhdGl2ZUx1bWluYW5jZTIoaSxvLHMpKTtyZXR1cm4oYTw8MjR8bDw8MTZ8aDw8OHwyNTUpPj4+MH1lLmVuc3VyZUNvbnRyYXN0UmF0aW89ZnVuY3Rpb24oZSxyLG8pe3ZhciBzPW4ucmVsYXRpdmVMdW1pbmFuY2UoZT4+OCksYT1uLnJlbGF0aXZlTHVtaW5hbmNlKHI+PjgpO2lmKGMocyxhKTxvKXtpZihhPHMpe3ZhciBsPXQoZSxyLG8pLGg9YyhzLG4ucmVsYXRpdmVMdW1pbmFuY2UobD4+OCkpO2lmKGg8byl7dmFyIHU9aShlLGUsbyk7cmV0dXJuIGg+YyhzLG4ucmVsYXRpdmVMdW1pbmFuY2UodT4+OCkpP2w6dX1yZXR1cm4gbH12YXIgZj1pKGUscixvKSxfPWMocyxuLnJlbGF0aXZlTHVtaW5hbmNlKGY+PjgpKTtyZXR1cm4gXzxvPyh1PXQoZSxlLG8pLF8+YyhzLG4ucmVsYXRpdmVMdW1pbmFuY2UodT4+OCkpP2Y6dSk6Zn19LGUucmVkdWNlTHVtaW5hbmNlPXQsZS5pbmNyZWFzZUx1bWluYW5jZT1pLGUudG9DaGFubmVscz1mdW5jdGlvbihlKXtyZXR1cm5bZT4+MjQmMjU1LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV19LGUudG9Db2xvcj1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm57Y3NzOnIudG9Dc3MoZSx0LGksbikscmdiYTpyLnRvUmdiYShlLHQsaSxuKX19fShvPXQucmdiYXx8KHQucmdiYT17fSkpLHQudG9QYWRkZWRIZXg9YSx0LmNvbnRyYXN0UmF0aW89Y30sODk2OTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxvPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ29yZVRlcm1pbmFsPXZvaWQgMDt2YXIgcz1yKDg0NCksYT1yKDI1ODUpLGM9cig0MzQ4KSxsPXIoNzg2NiksaD1yKDc0NCksdT1yKDczMDIpLGY9cig2OTc1KSxfPXIoODQ2MCksZD1yKDE3NTMpLHA9cigzNzMwKSx2PXIoMTQ4MCkseT1yKDc5OTQpLGc9cig5MjgyKSxtPXIoNTQzNSksYj1yKDU5ODEpLFM9ITEsQz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fb25CaW5hcnk9bmV3IF8uRXZlbnRFbWl0dGVyLHIuX29uRGF0YT1uZXcgXy5FdmVudEVtaXR0ZXIsci5fb25MaW5lRmVlZD1uZXcgXy5FdmVudEVtaXR0ZXIsci5fb25SZXNpemU9bmV3IF8uRXZlbnRFbWl0dGVyLHIuX29uU2Nyb2xsPW5ldyBfLkV2ZW50RW1pdHRlcixyLl9vbldyaXRlUGFyc2VkPW5ldyBfLkV2ZW50RW1pdHRlcixyLl9pbnN0YW50aWF0aW9uU2VydmljZT1uZXcgYy5JbnN0YW50aWF0aW9uU2VydmljZSxyLm9wdGlvbnNTZXJ2aWNlPW5ldyB1Lk9wdGlvbnNTZXJ2aWNlKHQpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoYS5JT3B0aW9uc1NlcnZpY2Usci5vcHRpb25zU2VydmljZSksci5fYnVmZmVyU2VydmljZT1yLnJlZ2lzdGVyKHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGguQnVmZmVyU2VydmljZSkpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoYS5JQnVmZmVyU2VydmljZSxyLl9idWZmZXJTZXJ2aWNlKSxyLl9sb2dTZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGwuTG9nU2VydmljZSksci5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShhLklMb2dTZXJ2aWNlLHIuX2xvZ1NlcnZpY2UpLHIuY29yZVNlcnZpY2U9ci5yZWdpc3RlcihyLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShmLkNvcmVTZXJ2aWNlLChmdW5jdGlvbigpe3JldHVybiByLnNjcm9sbFRvQm90dG9tKCl9KSkpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoYS5JQ29yZVNlcnZpY2Usci5jb3JlU2VydmljZSksci5jb3JlTW91c2VTZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGQuQ29yZU1vdXNlU2VydmljZSksci5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShhLklDb3JlTW91c2VTZXJ2aWNlLHIuY29yZU1vdXNlU2VydmljZSksci5fZGlydHlSb3dTZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKHAuRGlydHlSb3dTZXJ2aWNlKSxyLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGEuSURpcnR5Um93U2VydmljZSxyLl9kaXJ0eVJvd1NlcnZpY2UpLHIudW5pY29kZVNlcnZpY2U9ci5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2Uodi5Vbmljb2RlU2VydmljZSksci5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShhLklVbmljb2RlU2VydmljZSxyLnVuaWNvZGVTZXJ2aWNlKSxyLl9jaGFyc2V0U2VydmljZT1yLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZSh5LkNoYXJzZXRTZXJ2aWNlKSxyLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGEuSUNoYXJzZXRTZXJ2aWNlLHIuX2NoYXJzZXRTZXJ2aWNlKSxyLl9pbnB1dEhhbmRsZXI9bmV3IG0uSW5wdXRIYW5kbGVyKHIuX2J1ZmZlclNlcnZpY2Usci5fY2hhcnNldFNlcnZpY2Usci5jb3JlU2VydmljZSxyLl9kaXJ0eVJvd1NlcnZpY2Usci5fbG9nU2VydmljZSxyLm9wdGlvbnNTZXJ2aWNlLHIuY29yZU1vdXNlU2VydmljZSxyLnVuaWNvZGVTZXJ2aWNlKSxyLnJlZ2lzdGVyKCgwLF8uZm9yd2FyZEV2ZW50KShyLl9pbnB1dEhhbmRsZXIub25MaW5lRmVlZCxyLl9vbkxpbmVGZWVkKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIpLHIucmVnaXN0ZXIoKDAsXy5mb3J3YXJkRXZlbnQpKHIuX2J1ZmZlclNlcnZpY2Uub25SZXNpemUsci5fb25SZXNpemUpKSxyLnJlZ2lzdGVyKCgwLF8uZm9yd2FyZEV2ZW50KShyLmNvcmVTZXJ2aWNlLm9uRGF0YSxyLl9vbkRhdGEpKSxyLnJlZ2lzdGVyKCgwLF8uZm9yd2FyZEV2ZW50KShyLmNvcmVTZXJ2aWNlLm9uQmluYXJ5LHIuX29uQmluYXJ5KSksci5yZWdpc3RlcihyLm9wdGlvbnNTZXJ2aWNlLm9uT3B0aW9uQ2hhbmdlKChmdW5jdGlvbihlKXtyZXR1cm4gci5fdXBkYXRlT3B0aW9ucyhlKX0pKSksci5yZWdpc3RlcihyLl9idWZmZXJTZXJ2aWNlLm9uU2Nyb2xsKChmdW5jdGlvbihlKXtyLl9vblNjcm9sbC5maXJlKHtwb3NpdGlvbjpyLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCxzb3VyY2U6MH0pLHIuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eShyLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5zY3JvbGxUb3Asci5fYnVmZmVyU2VydmljZS5idWZmZXIuc2Nyb2xsQm90dG9tKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25TY3JvbGwoKGZ1bmN0aW9uKGUpe3IuX29uU2Nyb2xsLmZpcmUoe3Bvc2l0aW9uOnIuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLHNvdXJjZTowfSksci5fZGlydHlSb3dTZXJ2aWNlLm1hcmtSYW5nZURpcnR5KHIuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnNjcm9sbFRvcCxyLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5zY3JvbGxCb3R0b20pfSkpKSxyLl93cml0ZUJ1ZmZlcj1uZXcgYi5Xcml0ZUJ1ZmZlcigoZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5faW5wdXRIYW5kbGVyLnBhcnNlKGUsdCl9KSksci5yZWdpc3RlcigoMCxfLmZvcndhcmRFdmVudCkoci5fd3JpdGVCdWZmZXIub25Xcml0ZVBhcnNlZCxyLl9vbldyaXRlUGFyc2VkKSkscn1yZXR1cm4gbih0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQmluYXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJpbmFyeS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRGF0YS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkxpbmVGZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkxpbmVGZWVkLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlc2l6ZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbldyaXRlUGFyc2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbldyaXRlUGFyc2VkLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uU2Nyb2xsXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX29uU2Nyb2xsQXBpfHwodGhpcy5fb25TY3JvbGxBcGk9bmV3IF8uRXZlbnRFbWl0dGVyLHRoaXMucmVnaXN0ZXIodGhpcy5fb25TY3JvbGwuZXZlbnQoKGZ1bmN0aW9uKHQpe3ZhciByO251bGw9PT0ocj1lLl9vblNjcm9sbEFwaSl8fHZvaWQgMD09PXJ8fHIuZmlyZSh0LnBvc2l0aW9uKX0pKSkpLHRoaXMuX29uU2Nyb2xsQXBpLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvbHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNlcnZpY2UuY29sc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyb3dzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYnVmZmVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9wdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc1NlcnZpY2Uub3B0aW9uc30sc2V0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMub3B0aW9uc1NlcnZpY2Uub3B0aW9uc1t0XT1lW3RdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9pc0Rpc3Bvc2VkfHwoZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl93aW5kb3dzTW9kZSl8fHZvaWQgMD09PXR8fHQuZGlzcG9zZSgpLHRoaXMuX3dpbmRvd3NNb2RlPXZvaWQgMCl9LHQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fd3JpdGVCdWZmZXIud3JpdGUoZSx0KX0sdC5wcm90b3R5cGUud3JpdGVTeW5jPWZ1bmN0aW9uKGUsdCl7dGhpcy5fbG9nU2VydmljZS5sb2dMZXZlbDw9YS5Mb2dMZXZlbEVudW0uV0FSTiYmIVMmJih0aGlzLl9sb2dTZXJ2aWNlLndhcm4oXCJ3cml0ZVN5bmMgaXMgdW5yZWxpYWJsZSBhbmQgd2lsbCBiZSByZW1vdmVkIHNvb24uXCIpLFM9ITApLHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3luYyhlLHQpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXtpc05hTihlKXx8aXNOYU4odCl8fChlPU1hdGgubWF4KGUsaC5NSU5JTVVNX0NPTFMpLHQ9TWF0aC5tYXgodCxoLk1JTklNVU1fUk9XUyksdGhpcy5fYnVmZmVyU2VydmljZS5yZXNpemUoZSx0KSl9LHQucHJvdG90eXBlLnNjcm9sbD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSExKSx0aGlzLl9idWZmZXJTZXJ2aWNlLnNjcm9sbChlLHQpfSx0LnByb3RvdHlwZS5zY3JvbGxMaW5lcz1mdW5jdGlvbihlLHQscil7dGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGxMaW5lcyhlLHQscil9LHQucHJvdG90eXBlLnNjcm9sbFBhZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsUGFnZXMoZSl9LHQucHJvdG90eXBlLnNjcm9sbFRvVG9wPWZ1bmN0aW9uKCl7dGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGxUb1RvcCgpfSx0LnByb3RvdHlwZS5zY3JvbGxUb0JvdHRvbT1mdW5jdGlvbigpe3RoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsVG9Cb3R0b20oKX0sdC5wcm90b3R5cGUuc2Nyb2xsVG9MaW5lPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsVG9MaW5lKGUpfSx0LnByb3RvdHlwZS5yZWdpc3RlckVzY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyRXNjSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3RlckRjc0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyRGNzSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3RlckNzaUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyQ3NpSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyT3NjSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5fc2V0dXA9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGUmJnRoaXMuX2VuYWJsZVdpbmRvd3NNb2RlKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5faW5wdXRIYW5kbGVyLnJlc2V0KCksdGhpcy5fYnVmZmVyU2VydmljZS5yZXNldCgpLHRoaXMuX2NoYXJzZXRTZXJ2aWNlLnJlc2V0KCksdGhpcy5jb3JlU2VydmljZS5yZXNldCgpLHRoaXMuY29yZU1vdXNlU2VydmljZS5yZXNldCgpfSx0LnByb3RvdHlwZS5fdXBkYXRlT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goZSl7Y2FzZVwic2Nyb2xsYmFja1wiOnRoaXMuYnVmZmVycy5yZXNpemUodGhpcy5jb2xzLHRoaXMucm93cyk7YnJlYWs7Y2FzZVwid2luZG93c01vZGVcIjp0aGlzLm9wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGU/dGhpcy5fZW5hYmxlV2luZG93c01vZGUoKToobnVsbD09PSh0PXRoaXMuX3dpbmRvd3NNb2RlKXx8dm9pZCAwPT09dHx8dC5kaXNwb3NlKCksdGhpcy5fd2luZG93c01vZGU9dm9pZCAwKX19LHQucHJvdG90eXBlLl9lbmFibGVXaW5kb3dzTW9kZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuX3dpbmRvd3NNb2RlKXt2YXIgdD1bXTt0LnB1c2godGhpcy5vbkxpbmVGZWVkKGcudXBkYXRlV2luZG93c01vZGVXcmFwcGVkU3RhdGUuYmluZChudWxsLHRoaXMuX2J1ZmZlclNlcnZpY2UpKSksdC5wdXNoKHRoaXMucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkhcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuKDAsZy51cGRhdGVXaW5kb3dzTW9kZVdyYXBwZWRTdGF0ZSkoZS5fYnVmZmVyU2VydmljZSksITF9KSkpLHRoaXMuX3dpbmRvd3NNb2RlPXtkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIGUscjt0cnl7Zm9yKHZhciBpPW8odCksbj1pLm5leHQoKTshbi5kb25lO249aS5uZXh0KCkpbi52YWx1ZS5kaXNwb3NlKCl9Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fX19fX0sdH0ocy5EaXNwb3NhYmxlKTt0LkNvcmVUZXJtaW5hbD1DfSw4NDYwOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5mb3J3YXJkRXZlbnQ9dC5FdmVudEVtaXR0ZXI9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2xpc3RlbmVycz1bXSx0aGlzLl9kaXNwb3NlZD0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZXZlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZXZlbnR8fCh0aGlzLl9ldmVudD1mdW5jdGlvbih0KXtyZXR1cm4gZS5fbGlzdGVuZXJzLnB1c2godCkse2Rpc3Bvc2U6ZnVuY3Rpb24oKXtpZighZS5fZGlzcG9zZWQpZm9yKHZhciByPTA7cjxlLl9saXN0ZW5lcnMubGVuZ3RoO3IrKylpZihlLl9saXN0ZW5lcnNbcl09PT10KXJldHVybiB2b2lkIGUuX2xpc3RlbmVycy5zcGxpY2UociwxKX19fSksdGhpcy5fZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTx0aGlzLl9saXN0ZW5lcnMubGVuZ3RoO2krKylyLnB1c2godGhpcy5fbGlzdGVuZXJzW2ldKTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXJbaV0uY2FsbCh2b2lkIDAsZSx0KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVycy5sZW5ndGg9MCksdGhpcy5fZGlzcG9zZWQ9ITB9LGV9KCk7dC5FdmVudEVtaXR0ZXI9cix0LmZvcndhcmRFdmVudD1mdW5jdGlvbihlLHQpe3JldHVybiBlKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maXJlKGUpfSkpfX0sNTQzNTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LklucHV0SGFuZGxlcj10LldpbmRvd3NPcHRpb25zUmVwb3J0VHlwZT12b2lkIDA7dmFyIG8scz1yKDI1ODQpLGE9cig3MTE2KSxjPXIoMjAxNSksbD1yKDg0NCksaD1yKDgyNzMpLHU9cig0ODIpLGY9cig4NDM3KSxfPXIoODQ2MCksZD1yKDY0MykscD1yKDUxMSksdj1yKDM3MzQpLHk9cigyNTg1KSxnPXIoNjI0MiksbT1yKDYzNTEpLGI9cig1OTQxKSxTPXtcIihcIjowLFwiKVwiOjEsXCIqXCI6MixcIitcIjozLFwiLVwiOjEsXCIuXCI6Mn0sQz0xMzEwNzI7ZnVuY3Rpb24gdyhlLHQpe2lmKGU+MjQpcmV0dXJuIHQuc2V0V2luTGluZXN8fCExO3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuISF0LnJlc3RvcmVXaW47Y2FzZSAyOnJldHVybiEhdC5taW5pbWl6ZVdpbjtjYXNlIDM6cmV0dXJuISF0LnNldFdpblBvc2l0aW9uO2Nhc2UgNDpyZXR1cm4hIXQuc2V0V2luU2l6ZVBpeGVscztjYXNlIDU6cmV0dXJuISF0LnJhaXNlV2luO2Nhc2UgNjpyZXR1cm4hIXQubG93ZXJXaW47Y2FzZSA3OnJldHVybiEhdC5yZWZyZXNoV2luO2Nhc2UgODpyZXR1cm4hIXQuc2V0V2luU2l6ZUNoYXJzO2Nhc2UgOTpyZXR1cm4hIXQubWF4aW1pemVXaW47Y2FzZSAxMDpyZXR1cm4hIXQuZnVsbHNjcmVlbldpbjtjYXNlIDExOnJldHVybiEhdC5nZXRXaW5TdGF0ZTtjYXNlIDEzOnJldHVybiEhdC5nZXRXaW5Qb3NpdGlvbjtjYXNlIDE0OnJldHVybiEhdC5nZXRXaW5TaXplUGl4ZWxzO2Nhc2UgMTU6cmV0dXJuISF0LmdldFNjcmVlblNpemVQaXhlbHM7Y2FzZSAxNjpyZXR1cm4hIXQuZ2V0Q2VsbFNpemVQaXhlbHM7Y2FzZSAxODpyZXR1cm4hIXQuZ2V0V2luU2l6ZUNoYXJzO2Nhc2UgMTk6cmV0dXJuISF0LmdldFNjcmVlblNpemVDaGFycztjYXNlIDIwOnJldHVybiEhdC5nZXRJY29uVGl0bGU7Y2FzZSAyMTpyZXR1cm4hIXQuZ2V0V2luVGl0bGU7Y2FzZSAyMjpyZXR1cm4hIXQucHVzaFRpdGxlO2Nhc2UgMjM6cmV0dXJuISF0LnBvcFRpdGxlO2Nhc2UgMjQ6cmV0dXJuISF0LnNldFdpbkxpbmVzfXJldHVybiExfSFmdW5jdGlvbihlKXtlW2UuR0VUX1dJTl9TSVpFX1BJWEVMUz0wXT1cIkdFVF9XSU5fU0laRV9QSVhFTFNcIixlW2UuR0VUX0NFTExfU0laRV9QSVhFTFM9MV09XCJHRVRfQ0VMTF9TSVpFX1BJWEVMU1wifShvPXQuV2luZG93c09wdGlvbnNSZXBvcnRUeXBlfHwodC5XaW5kb3dzT3B0aW9uc1JlcG9ydFR5cGU9e30pKTt2YXIgTD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5fYnVmZmVyU2VydmljZT1lLHRoaXMuX2NvcmVTZXJ2aWNlPXQsdGhpcy5fbG9nU2VydmljZT1yLHRoaXMuX29wdGlvbnNTZXJ2aWNlPWksdGhpcy5fZGF0YT1uZXcgVWludDMyQXJyYXkoMCl9cmV0dXJuIGUucHJvdG90eXBlLmhvb2s9ZnVuY3Rpb24oZSl7dGhpcy5fZGF0YT1uZXcgVWludDMyQXJyYXkoMCl9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7dGhpcy5fZGF0YT0oMCxoLmNvbmNhdCkodGhpcy5fZGF0YSxlLnN1YmFycmF5KHQscikpfSxlLnByb3RvdHlwZS51bmhvb2s9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDApLCEwO3ZhciB0PSgwLHUudXRmMzJUb1N0cmluZykodGhpcy5fZGF0YSk7c3dpdGNoKHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDApLHQpe2Nhc2UnXCJxJzp0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDKydQMSRyMFwicScrcy5DMC5FU0MrXCJcXFxcXCIpO2JyZWFrO2Nhc2UnXCJwJzp0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDKydQMSRyNjE7MVwicCcrcy5DMC5FU0MrXCJcXFxcXCIpO2JyZWFrO2Nhc2VcInJcIjp2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5zY3JvbGxUb3ArMStcIjtcIisodGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIuc2Nyb2xsQm90dG9tKzEpK1wiclwiO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJQMSRyXCIrcitzLkMwLkVTQytcIlxcXFxcIik7YnJlYWs7Y2FzZVwibVwiOnRoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJQMSRyMG1cIitzLkMwLkVTQytcIlxcXFxcIik7YnJlYWs7Y2FzZVwiIHFcIjp2YXIgaT17YmxvY2s6Mix1bmRlcmxpbmU6NCxiYXI6Nn1bdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXJzb3JTdHlsZV07aS09dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXJzb3JCbGluaz8xOjAsdGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIlAxJHJcIitpK1wiIHFcIitzLkMwLkVTQytcIlxcXFxcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBEQ1MgJHEgJXNcIix0KSx0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDK1wiUDAkclwiK3MuQzAuRVNDK1wiXFxcXFwiKX1yZXR1cm4hMH0sZX0oKSxFPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLGwsaCxkLHYpe3ZvaWQgMD09PXYmJih2PW5ldyBjLkVzY2FwZVNlcXVlbmNlUGFyc2VyKTt2YXIgeT1lLmNhbGwodGhpcyl8fHRoaXM7eS5fYnVmZmVyU2VydmljZT10LHkuX2NoYXJzZXRTZXJ2aWNlPXIseS5fY29yZVNlcnZpY2U9aSx5Ll9kaXJ0eVJvd1NlcnZpY2U9bix5Ll9sb2dTZXJ2aWNlPW8seS5fb3B0aW9uc1NlcnZpY2U9bCx5Ll9jb3JlTW91c2VTZXJ2aWNlPWgseS5fdW5pY29kZVNlcnZpY2U9ZCx5Ll9wYXJzZXI9dix5Ll9wYXJzZUJ1ZmZlcj1uZXcgVWludDMyQXJyYXkoNDA5NikseS5fc3RyaW5nRGVjb2Rlcj1uZXcgdS5TdHJpbmdUb1V0ZjMyLHkuX3V0ZjhEZWNvZGVyPW5ldyB1LlV0ZjhUb1V0ZjMyLHkuX3dvcmtDZWxsPW5ldyBwLkNlbGxEYXRhLHkuX3dpbmRvd1RpdGxlPVwiXCIseS5faWNvbk5hbWU9XCJcIix5Ll93aW5kb3dUaXRsZVN0YWNrPVtdLHkuX2ljb25OYW1lU3RhY2s9W10seS5fY3VyQXR0ckRhdGE9Zi5ERUZBVUxUX0FUVFJfREFUQS5jbG9uZSgpLHkuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbD1mLkRFRkFVTFRfQVRUUl9EQVRBLmNsb25lKCkseS5fb25SZXF1ZXN0QmVsbD1uZXcgXy5FdmVudEVtaXR0ZXIseS5fb25SZXF1ZXN0UmVmcmVzaFJvd3M9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uUmVxdWVzdFJlc2V0PW5ldyBfLkV2ZW50RW1pdHRlcix5Ll9vblJlcXVlc3RTZW5kRm9jdXM9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uUmVxdWVzdFN5bmNTY3JvbGxCYXI9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0PW5ldyBfLkV2ZW50RW1pdHRlcix5Ll9vbkExMXlDaGFyPW5ldyBfLkV2ZW50RW1pdHRlcix5Ll9vbkExMXlUYWI9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uQ3Vyc29yTW92ZT1uZXcgXy5FdmVudEVtaXR0ZXIseS5fb25MaW5lRmVlZD1uZXcgXy5FdmVudEVtaXR0ZXIseS5fb25TY3JvbGw9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uVGl0bGVDaGFuZ2U9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uQ29sb3I9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX3BhcnNlU3RhY2s9e3BhdXNlZDohMSxjdXJzb3JTdGFydFg6MCxjdXJzb3JTdGFydFk6MCxkZWNvZGVkTGVuZ3RoOjAscG9zaXRpb246MH0seS5fc3BlY2lhbENvbG9ycz1bMjU2LDI1NywyNThdLHkucmVnaXN0ZXIoeS5fcGFyc2VyKSx5Ll9hY3RpdmVCdWZmZXI9eS5fYnVmZmVyU2VydmljZS5idWZmZXIseS5yZWdpc3Rlcih5Ll9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMub25CdWZmZXJBY3RpdmF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHkuX2FjdGl2ZUJ1ZmZlcj1lLmFjdGl2ZUJ1ZmZlcn0pKSkseS5fcGFyc2VyLnNldENzaUhhbmRsZXJGYWxsYmFjaygoZnVuY3Rpb24oZSx0KXt5Ll9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBDU0kgY29kZTogXCIse2lkZW50aWZpZXI6eS5fcGFyc2VyLmlkZW50VG9TdHJpbmcoZSkscGFyYW1zOnQudG9BcnJheSgpfSl9KSkseS5fcGFyc2VyLnNldEVzY0hhbmRsZXJGYWxsYmFjaygoZnVuY3Rpb24oZSl7eS5fbG9nU2VydmljZS5kZWJ1ZyhcIlVua25vd24gRVNDIGNvZGU6IFwiLHtpZGVudGlmaWVyOnkuX3BhcnNlci5pZGVudFRvU3RyaW5nKGUpfSl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyRmFsbGJhY2soKGZ1bmN0aW9uKGUpe3kuX2xvZ1NlcnZpY2UuZGVidWcoXCJVbmtub3duIEVYRUNVVEUgY29kZTogXCIse2NvZGU6ZX0pfSkpLHkuX3BhcnNlci5zZXRPc2NIYW5kbGVyRmFsbGJhY2soKGZ1bmN0aW9uKGUsdCxyKXt5Ll9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBPU0MgY29kZTogXCIse2lkZW50aWZpZXI6ZSxhY3Rpb246dCxkYXRhOnJ9KX0pKSx5Ll9wYXJzZXIuc2V0RGNzSGFuZGxlckZhbGxiYWNrKChmdW5jdGlvbihlLHQscil7XCJIT09LXCI9PT10JiYocj1yLnRvQXJyYXkoKSkseS5fbG9nU2VydmljZS5kZWJ1ZyhcIlVua25vd24gRENTIGNvZGU6IFwiLHtpZGVudGlmaWVyOnkuX3BhcnNlci5pZGVudFRvU3RyaW5nKGUpLGFjdGlvbjp0LHBheWxvYWQ6cn0pfSkpLHkuX3BhcnNlci5zZXRQcmludEhhbmRsZXIoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4geS5wcmludChlLHQscil9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJAXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5pbnNlcnRDaGFycyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiIFwiLGZpbmFsOlwiQFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2Nyb2xsTGVmdChlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkFcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvclVwKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCIgXCIsZmluYWw6XCJBXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zY3JvbGxSaWdodChlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkJcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvckRvd24oZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJDXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JGb3J3YXJkKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiRFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuY3Vyc29yQmFja3dhcmQoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJFXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JOZXh0TGluZShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkZcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvclByZWNlZGluZ0xpbmUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJHXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JDaGFyQWJzb2x1dGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJIXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JQb3NpdGlvbihlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIklcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvckZvcndhcmRUYWIoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJKXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5lcmFzZUluRGlzcGxheShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtwcmVmaXg6XCI/XCIsZmluYWw6XCJKXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5lcmFzZUluRGlzcGxheShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIktcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmVyYXNlSW5MaW5lKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe3ByZWZpeDpcIj9cIixmaW5hbDpcIktcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmVyYXNlSW5MaW5lKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiTFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuaW5zZXJ0TGluZXMoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJNXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5kZWxldGVMaW5lcyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIlBcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmRlbGV0ZUNoYXJzKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiU1wifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2Nyb2xsVXAoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJUXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zY3JvbGxEb3duKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiWFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuZXJhc2VDaGFycyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIlpcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvckJhY2t3YXJkVGFiKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiYFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuY2hhclBvc0Fic29sdXRlKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiYVwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuaFBvc2l0aW9uUmVsYXRpdmUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJiXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5yZXBlYXRQcmVjZWRpbmdDaGFyYWN0ZXIoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJjXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zZW5kRGV2aWNlQXR0cmlidXRlc1ByaW1hcnkoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7cHJlZml4OlwiPlwiLGZpbmFsOlwiY1wifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2VuZERldmljZUF0dHJpYnV0ZXNTZWNvbmRhcnkoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJkXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5saW5lUG9zQWJzb2x1dGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJlXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS52UG9zaXRpb25SZWxhdGl2ZShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcImZcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmhWUG9zaXRpb24oZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJnXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS50YWJDbGVhcihlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcImhcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNldE1vZGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7cHJlZml4OlwiP1wiLGZpbmFsOlwiaFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0TW9kZVByaXZhdGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJsXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5yZXNldE1vZGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7cHJlZml4OlwiP1wiLGZpbmFsOlwibFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkucmVzZXRNb2RlUHJpdmF0ZShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIm1cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmNoYXJBdHRyaWJ1dGVzKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiblwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuZGV2aWNlU3RhdHVzKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe3ByZWZpeDpcIj9cIixmaW5hbDpcIm5cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmRldmljZVN0YXR1c1ByaXZhdGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIiFcIixmaW5hbDpcInBcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNvZnRSZXNldChlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiIFwiLGZpbmFsOlwicVwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0Q3Vyc29yU3R5bGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJyXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zZXRTY3JvbGxSZWdpb24oZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJzXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zYXZlQ3Vyc29yKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwidFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkud2luZG93T3B0aW9ucyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcInVcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LnJlc3RvcmVDdXJzb3IoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIidcIixmaW5hbDpcIn1cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5Lmluc2VydENvbHVtbnMoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIidcIixmaW5hbDpcIn5cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmRlbGV0ZUNvbHVtbnMoZSl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKHMuQzAuQkVMLChmdW5jdGlvbigpe3JldHVybiB5LmJlbGwoKX0pKSx5Ll9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIocy5DMC5MRiwoZnVuY3Rpb24oKXtyZXR1cm4geS5saW5lRmVlZCgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLlZULChmdW5jdGlvbigpe3JldHVybiB5LmxpbmVGZWVkKCl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKHMuQzAuRkYsKGZ1bmN0aW9uKCl7cmV0dXJuIHkubGluZUZlZWQoKX0pKSx5Ll9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIocy5DMC5DUiwoZnVuY3Rpb24oKXtyZXR1cm4geS5jYXJyaWFnZVJldHVybigpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLkJTLChmdW5jdGlvbigpe3JldHVybiB5LmJhY2tzcGFjZSgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLkhULChmdW5jdGlvbigpe3JldHVybiB5LnRhYigpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLlNPLChmdW5jdGlvbigpe3JldHVybiB5LnNoaWZ0T3V0KCl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKHMuQzAuU0ksKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2hpZnRJbigpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMxLklORCwoZnVuY3Rpb24oKXtyZXR1cm4geS5pbmRleCgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMxLk5FTCwoZnVuY3Rpb24oKXtyZXR1cm4geS5uZXh0TGluZSgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMxLkhUUywoZnVuY3Rpb24oKXtyZXR1cm4geS50YWJTZXQoKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDAsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0VGl0bGUoZSkseS5zZXRJY29uTmFtZShlKSwhMH0pKSkseS5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcigxLG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNldEljb25OYW1lKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDIsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0VGl0bGUoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoNCxuZXcgZy5Pc2NIYW5kbGVyKChmdW5jdGlvbihlKXtyZXR1cm4geS5zZXRPclJlcG9ydEluZGV4ZWRDb2xvcihlKX0pKSkseS5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcigxMCxuZXcgZy5Pc2NIYW5kbGVyKChmdW5jdGlvbihlKXtyZXR1cm4geS5zZXRPclJlcG9ydEZnQ29sb3IoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoMTEsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0T3JSZXBvcnRCZ0NvbG9yKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDEyLG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNldE9yUmVwb3J0Q3Vyc29yQ29sb3IoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoMTA0LG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnJlc3RvcmVJbmRleGVkQ29sb3IoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoMTEwLG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnJlc3RvcmVGZ0NvbG9yKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDExMSxuZXcgZy5Pc2NIYW5kbGVyKChmdW5jdGlvbihlKXtyZXR1cm4geS5yZXN0b3JlQmdDb2xvcihlKX0pKSkseS5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcigxMTIsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkucmVzdG9yZUN1cnNvckNvbG9yKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtmaW5hbDpcIjdcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2F2ZUN1cnNvcigpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwiOFwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5yZXN0b3JlQ3Vyc29yKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJEXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LmluZGV4KCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJFXCJ9LChmdW5jdGlvbigpe3JldHVybiB5Lm5leHRMaW5lKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJIXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnRhYlNldCgpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwiTVwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5yZXZlcnNlSW5kZXgoKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtmaW5hbDpcIj1cIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkua2V5cGFkQXBwbGljYXRpb25Nb2RlKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCI+XCJ9LChmdW5jdGlvbigpe3JldHVybiB5LmtleXBhZE51bWVyaWNNb2RlKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJjXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LmZ1bGxSZXNldCgpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwiblwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZXRnTGV2ZWwoMil9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJvXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnNldGdMZXZlbCgzKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtmaW5hbDpcInxcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2V0Z0xldmVsKDMpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwifVwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZXRnTGV2ZWwoMil9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJ+XCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnNldGdMZXZlbCgxKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiJVwiLGZpbmFsOlwiQFwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3REZWZhdWx0Q2hhcnNldCgpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCIlXCIsZmluYWw6XCJHXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnNlbGVjdERlZmF1bHRDaGFyc2V0KCl9KSk7dmFyIG09ZnVuY3Rpb24oZSl7Yi5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIihcIixmaW5hbDplfSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3RDaGFyc2V0KFwiKFwiK2UpfSkpLGIuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCIpXCIsZmluYWw6ZX0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2VsZWN0Q2hhcnNldChcIilcIitlKX0pKSxiLl9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiKlwiLGZpbmFsOmV9LChmdW5jdGlvbigpe3JldHVybiB5LnNlbGVjdENoYXJzZXQoXCIqXCIrZSl9KSksYi5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIitcIixmaW5hbDplfSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3RDaGFyc2V0KFwiK1wiK2UpfSkpLGIuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCItXCIsZmluYWw6ZX0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2VsZWN0Q2hhcnNldChcIi1cIitlKX0pKSxiLl9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiLlwiLGZpbmFsOmV9LChmdW5jdGlvbigpe3JldHVybiB5LnNlbGVjdENoYXJzZXQoXCIuXCIrZSl9KSksYi5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIi9cIixmaW5hbDplfSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3RDaGFyc2V0KFwiL1wiK2UpfSkpfSxiPXRoaXM7Zm9yKHZhciBTIGluIGEuQ0hBUlNFVFMpbShTKTtyZXR1cm4geS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIiNcIixmaW5hbDpcIjhcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2NyZWVuQWxpZ25tZW50UGF0dGVybigpfSkpLHkuX3BhcnNlci5zZXRFcnJvckhhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5Ll9sb2dTZXJ2aWNlLmVycm9yKFwiUGFyc2luZyBlcnJvcjogXCIsZSksZX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJEY3NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiJFwiLGZpbmFsOlwicVwifSxuZXcgTCh5Ll9idWZmZXJTZXJ2aWNlLHkuX2NvcmVTZXJ2aWNlLHkuX2xvZ1NlcnZpY2UseS5fb3B0aW9uc1NlcnZpY2UpKSx5fXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0QmVsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZXF1ZXN0QmVsbC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlcXVlc3RSZWZyZXNoUm93c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZXF1ZXN0UmVmcmVzaFJvd3MuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0UmVzZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFJlc2V0LmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFNlbmRGb2N1c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZXF1ZXN0U2VuZEZvY3VzLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFN5bmNTY3JvbGxCYXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFN5bmNTY3JvbGxCYXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0V2luZG93c09wdGlvbnNSZXBvcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0LmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQTExeUNoYXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQTExeUNoYXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25BMTF5VGFiXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkExMXlUYWIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25DdXJzb3JNb3ZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkN1cnNvck1vdmUuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25MaW5lRmVlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25MaW5lRmVlZC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblNjcm9sbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TY3JvbGwuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25UaXRsZUNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25UaXRsZUNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkNvbG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkNvbG9yLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9wcmVzZXJ2ZVN0YWNrPWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuX3BhcnNlU3RhY2sucGF1c2VkPSEwLHRoaXMuX3BhcnNlU3RhY2suY3Vyc29yU3RhcnRYPWUsdGhpcy5fcGFyc2VTdGFjay5jdXJzb3JTdGFydFk9dCx0aGlzLl9wYXJzZVN0YWNrLmRlY29kZWRMZW5ndGg9cix0aGlzLl9wYXJzZVN0YWNrLnBvc2l0aW9uPWl9LHQucHJvdG90eXBlLl9sb2dTbG93UmVzb2x2aW5nQXN5bmM9ZnVuY3Rpb24oZSl7dGhpcy5fbG9nU2VydmljZS5sb2dMZXZlbDw9eS5Mb2dMZXZlbEVudW0uV0FSTiYmUHJvbWlzZS5yYWNlKFtlLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3JldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0KFwiI1NMT1dfVElNRU9VVFwiKX0pLDVlMyl9KSldKS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoXCIjU0xPV19USU1FT1VUXCIhPT1lKXRocm93IGU7Y29uc29sZS53YXJuKFwiYXN5bmMgcGFyc2VyIGhhbmRsZXIgdGFraW5nIGxvbmdlciB0aGFuIDUwMDAgbXNcIil9KSl9LHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaT10aGlzLl9hY3RpdmVCdWZmZXIueCxuPXRoaXMuX2FjdGl2ZUJ1ZmZlci55LG89MCxzPXRoaXMuX3BhcnNlU3RhY2sucGF1c2VkO2lmKHMpe2lmKHI9dGhpcy5fcGFyc2VyLnBhcnNlKHRoaXMuX3BhcnNlQnVmZmVyLHRoaXMuX3BhcnNlU3RhY2suZGVjb2RlZExlbmd0aCx0KSlyZXR1cm4gdGhpcy5fbG9nU2xvd1Jlc29sdmluZ0FzeW5jKHIpLHI7aT10aGlzLl9wYXJzZVN0YWNrLmN1cnNvclN0YXJ0WCxuPXRoaXMuX3BhcnNlU3RhY2suY3Vyc29yU3RhcnRZLHRoaXMuX3BhcnNlU3RhY2sucGF1c2VkPSExLGUubGVuZ3RoPkMmJihvPXRoaXMuX3BhcnNlU3RhY2sucG9zaXRpb24rQyl9aWYodGhpcy5fbG9nU2VydmljZS5sb2dMZXZlbDw9eS5Mb2dMZXZlbEVudW0uREVCVUcmJnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJwYXJzaW5nIGRhdGFcIisoXCJzdHJpbmdcIj09dHlwZW9mIGU/JyBcIicrZSsnXCInOicgXCInK0FycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLChmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlKX0pKS5qb2luKFwiXCIpKydcIicpLFwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCJcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQ29kZUF0KDApfSkpOmUpLHRoaXMuX3BhcnNlQnVmZmVyLmxlbmd0aDxlLmxlbmd0aCYmdGhpcy5fcGFyc2VCdWZmZXIubGVuZ3RoPEMmJih0aGlzLl9wYXJzZUJ1ZmZlcj1uZXcgVWludDMyQXJyYXkoTWF0aC5taW4oZS5sZW5ndGgsQykpKSxzfHx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UuY2xlYXJSYW5nZSgpLGUubGVuZ3RoPkMpZm9yKHZhciBhPW87YTxlLmxlbmd0aDthKz1DKXt2YXIgYz1hK0M8ZS5sZW5ndGg/YStDOmUubGVuZ3RoLGw9XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc3RyaW5nRGVjb2Rlci5kZWNvZGUoZS5zdWJzdHJpbmcoYSxjKSx0aGlzLl9wYXJzZUJ1ZmZlcik6dGhpcy5fdXRmOERlY29kZXIuZGVjb2RlKGUuc3ViYXJyYXkoYSxjKSx0aGlzLl9wYXJzZUJ1ZmZlcik7aWYocj10aGlzLl9wYXJzZXIucGFyc2UodGhpcy5fcGFyc2VCdWZmZXIsbCkpcmV0dXJuIHRoaXMuX3ByZXNlcnZlU3RhY2soaSxuLGwsYSksdGhpcy5fbG9nU2xvd1Jlc29sdmluZ0FzeW5jKHIpLHJ9ZWxzZSBpZighcyYmKGw9XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc3RyaW5nRGVjb2Rlci5kZWNvZGUoZSx0aGlzLl9wYXJzZUJ1ZmZlcik6dGhpcy5fdXRmOERlY29kZXIuZGVjb2RlKGUsdGhpcy5fcGFyc2VCdWZmZXIpLHI9dGhpcy5fcGFyc2VyLnBhcnNlKHRoaXMuX3BhcnNlQnVmZmVyLGwpKSlyZXR1cm4gdGhpcy5fcHJlc2VydmVTdGFjayhpLG4sbCwwKSx0aGlzLl9sb2dTbG93UmVzb2x2aW5nQXN5bmMocikscjt0aGlzLl9hY3RpdmVCdWZmZXIueD09PWkmJnRoaXMuX2FjdGl2ZUJ1ZmZlci55PT09bnx8dGhpcy5fb25DdXJzb3JNb3ZlLmZpcmUoKSx0aGlzLl9vblJlcXVlc3RSZWZyZXNoUm93cy5maXJlKHRoaXMuX2RpcnR5Um93U2VydmljZS5zdGFydCx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UuZW5kKX0sdC5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sbz10aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0LHM9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5zY3JlZW5SZWFkZXJNb2RlLGE9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGM9dGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLndyYXBhcm91bmQsbD10aGlzLl9jb3JlU2VydmljZS5tb2Rlcy5pbnNlcnRNb2RlLGg9dGhpcy5fY3VyQXR0ckRhdGEsZj10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSk7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSksdGhpcy5fYWN0aXZlQnVmZmVyLngmJnItdD4wJiYyPT09Zi5nZXRXaWR0aCh0aGlzLl9hY3RpdmVCdWZmZXIueC0xKSYmZi5zZXRDZWxsRnJvbUNvZGVQb2ludCh0aGlzLl9hY3RpdmVCdWZmZXIueC0xLDAsMSxoLmZnLGguYmcsaC5leHRlbmRlZCk7Zm9yKHZhciBfPXQ7XzxyOysrXyl7aWYoaT1lW19dLG49dGhpcy5fdW5pY29kZVNlcnZpY2Uud2N3aWR0aChpKSxpPDEyNyYmbyl7dmFyIHA9b1tTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXTtwJiYoaT1wLmNoYXJDb2RlQXQoMCkpfWlmKHMmJnRoaXMuX29uQTExeUNoYXIuZmlyZSgoMCx1LnN0cmluZ0Zyb21Db2RlUG9pbnQpKGkpKSxufHwhdGhpcy5fYWN0aXZlQnVmZmVyLngpe2lmKHRoaXMuX2FjdGl2ZUJ1ZmZlci54K24tMT49YSlpZihjKXtmb3IoO3RoaXMuX2FjdGl2ZUJ1ZmZlci54PGE7KWYuc2V0Q2VsbEZyb21Db2RlUG9pbnQodGhpcy5fYWN0aXZlQnVmZmVyLngrKywwLDEsaC5mZyxoLmJnLGguZXh0ZW5kZWQpO3RoaXMuX2FjdGl2ZUJ1ZmZlci54PTAsdGhpcy5fYWN0aXZlQnVmZmVyLnkrKyx0aGlzLl9hY3RpdmVCdWZmZXIueT09PXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20rMT8odGhpcy5fYWN0aXZlQnVmZmVyLnktLSx0aGlzLl9idWZmZXJTZXJ2aWNlLnNjcm9sbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCksITApKToodGhpcy5fYWN0aXZlQnVmZmVyLnk+PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKSx0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSkuaXNXcmFwcGVkPSEwKSxmPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55KX1lbHNlIGlmKHRoaXMuX2FjdGl2ZUJ1ZmZlci54PWEtMSwyPT09biljb250aW51ZTtpZihsJiYoZi5pbnNlcnRDZWxscyh0aGlzLl9hY3RpdmVCdWZmZXIueCxuLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbChoKSxoKSwyPT09Zi5nZXRXaWR0aChhLTEpJiZmLnNldENlbGxGcm9tQ29kZVBvaW50KGEtMSxkLk5VTExfQ0VMTF9DT0RFLGQuTlVMTF9DRUxMX1dJRFRILGguZmcsaC5iZyxoLmV4dGVuZGVkKSksZi5zZXRDZWxsRnJvbUNvZGVQb2ludCh0aGlzLl9hY3RpdmVCdWZmZXIueCsrLGksbixoLmZnLGguYmcsaC5leHRlbmRlZCksbj4wKWZvcig7LS1uOylmLnNldENlbGxGcm9tQ29kZVBvaW50KHRoaXMuX2FjdGl2ZUJ1ZmZlci54KyssMCwwLGguZmcsaC5iZyxoLmV4dGVuZGVkKX1lbHNlIGYuZ2V0V2lkdGgodGhpcy5fYWN0aXZlQnVmZmVyLngtMSk/Zi5hZGRDb2RlcG9pbnRUb0NlbGwodGhpcy5fYWN0aXZlQnVmZmVyLngtMSxpKTpmLmFkZENvZGVwb2ludFRvQ2VsbCh0aGlzLl9hY3RpdmVCdWZmZXIueC0yLGkpfXItdD4wJiYoZi5sb2FkQ2VsbCh0aGlzLl9hY3RpdmVCdWZmZXIueC0xLHRoaXMuX3dvcmtDZWxsKSwyPT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKXx8dGhpcy5fd29ya0NlbGwuZ2V0Q29kZSgpPjY1NTM1P3RoaXMuX3BhcnNlci5wcmVjZWRpbmdDb2RlcG9pbnQ9MDp0aGlzLl93b3JrQ2VsbC5pc0NvbWJpbmVkKCk/dGhpcy5fcGFyc2VyLnByZWNlZGluZ0NvZGVwb2ludD10aGlzLl93b3JrQ2VsbC5nZXRDaGFycygpLmNoYXJDb2RlQXQoMCk6dGhpcy5fcGFyc2VyLnByZWNlZGluZ0NvZGVwb2ludD10aGlzLl93b3JrQ2VsbC5jb250ZW50KSx0aGlzLl9hY3RpdmVCdWZmZXIueDxhJiZyLXQ+MCYmMD09PWYuZ2V0V2lkdGgodGhpcy5fYWN0aXZlQnVmZmVyLngpJiYhZi5oYXNDb250ZW50KHRoaXMuX2FjdGl2ZUJ1ZmZlci54KSYmZi5zZXRDZWxsRnJvbUNvZGVQb2ludCh0aGlzLl9hY3RpdmVCdWZmZXIueCwwLDEsaC5mZyxoLmJnLGguZXh0ZW5kZWQpLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnkpfSx0LnByb3RvdHlwZS5yZWdpc3RlckNzaUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVyblwidFwiIT09ZS5maW5hbHx8ZS5wcmVmaXh8fGUuaW50ZXJtZWRpYXRlcz90aGlzLl9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKGUsdCk6dGhpcy5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcihlLChmdW5jdGlvbihlKXtyZXR1cm4hdyhlLnBhcmFtc1swXSxyLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLndpbmRvd09wdGlvbnMpfHx0KGUpfSkpfSx0LnByb3RvdHlwZS5yZWdpc3RlckRjc0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGFyc2VyLnJlZ2lzdGVyRGNzSGFuZGxlcihlLG5ldyBtLkRjc0hhbmRsZXIodCkpfSx0LnByb3RvdHlwZS5yZWdpc3RlckVzY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcihlLG5ldyBnLk9zY0hhbmRsZXIodCkpfSx0LnByb3RvdHlwZS5iZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdEJlbGwuZmlyZSgpLCEwfSx0LnByb3RvdHlwZS5saW5lRmVlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSx0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmNvbnZlcnRFb2wmJih0aGlzLl9hY3RpdmVCdWZmZXIueD0wKSx0aGlzLl9hY3RpdmVCdWZmZXIueSsrLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PT09dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSsxPyh0aGlzLl9hY3RpdmVCdWZmZXIueS0tLHRoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSkpOnRoaXMuX2FjdGl2ZUJ1ZmZlci55Pj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MmJih0aGlzLl9hY3RpdmVCdWZmZXIueT10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSksdGhpcy5fYWN0aXZlQnVmZmVyLng+PXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyYmdGhpcy5fYWN0aXZlQnVmZmVyLngtLSx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSx0aGlzLl9vbkxpbmVGZWVkLmZpcmUoKSwhMH0sdC5wcm90b3R5cGUuY2FycmlhZ2VSZXR1cm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQnVmZmVyLng9MCwhMH0sdC5wcm90b3R5cGUuYmFja3NwYWNlPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5yZXZlcnNlV3JhcGFyb3VuZClyZXR1cm4gdGhpcy5fcmVzdHJpY3RDdXJzb3IoKSx0aGlzLl9hY3RpdmVCdWZmZXIueD4wJiZ0aGlzLl9hY3RpdmVCdWZmZXIueC0tLCEwO2lmKHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyksdGhpcy5fYWN0aXZlQnVmZmVyLng+MCl0aGlzLl9hY3RpdmVCdWZmZXIueC0tO2Vsc2UgaWYoMD09PXRoaXMuX2FjdGl2ZUJ1ZmZlci54JiZ0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wJiZ0aGlzLl9hY3RpdmVCdWZmZXIueTw9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSYmKG51bGw9PT0oZT10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzV3JhcHBlZCkpe3RoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55KS5pc1dyYXBwZWQ9ITEsdGhpcy5fYWN0aXZlQnVmZmVyLnktLSx0aGlzLl9hY3RpdmVCdWZmZXIueD10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtMTt2YXIgdD10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSk7dC5oYXNXaWR0aCh0aGlzLl9hY3RpdmVCdWZmZXIueCkmJiF0Lmhhc0NvbnRlbnQodGhpcy5fYWN0aXZlQnVmZmVyLngpJiZ0aGlzLl9hY3RpdmVCdWZmZXIueC0tfXJldHVybiB0aGlzLl9yZXN0cmljdEN1cnNvcigpLCEwfSx0LnByb3RvdHlwZS50YWI9ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKXJldHVybiEwO3ZhciBlPXRoaXMuX2FjdGl2ZUJ1ZmZlci54O3JldHVybiB0aGlzLl9hY3RpdmVCdWZmZXIueD10aGlzLl9hY3RpdmVCdWZmZXIubmV4dFN0b3AoKSx0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLnNjcmVlblJlYWRlck1vZGUmJnRoaXMuX29uQTExeVRhYi5maXJlKHRoaXMuX2FjdGl2ZUJ1ZmZlci54LWUpLCEwfSx0LnByb3RvdHlwZS5zaGlmdE91dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnTGV2ZWwoMSksITB9LHQucHJvdG90eXBlLnNoaWZ0SW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hhcnNldFNlcnZpY2Uuc2V0Z0xldmVsKDApLCEwfSx0LnByb3RvdHlwZS5fcmVzdHJpY3RDdXJzb3I9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLTEpLHRoaXMuX2FjdGl2ZUJ1ZmZlci54PU1hdGgubWluKGUsTWF0aC5tYXgoMCx0aGlzLl9hY3RpdmVCdWZmZXIueCkpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5vcmlnaW4/TWF0aC5taW4odGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSxNYXRoLm1heCh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSk6TWF0aC5taW4odGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEsTWF0aC5tYXgoMCx0aGlzLl9hY3RpdmVCdWZmZXIueSkpLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnkpfSx0LnByb3RvdHlwZS5fc2V0Q3Vyc29yPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSksdGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLm9yaWdpbj8odGhpcy5fYWN0aXZlQnVmZmVyLng9ZSx0aGlzLl9hY3RpdmVCdWZmZXIueT10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wK3QpOih0aGlzLl9hY3RpdmVCdWZmZXIueD1lLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXQpLHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKCksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSl9LHQucHJvdG90eXBlLl9tb3ZlQ3Vyc29yPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVzdHJpY3RDdXJzb3IoKSx0aGlzLl9zZXRDdXJzb3IodGhpcy5fYWN0aXZlQnVmZmVyLngrZSx0aGlzLl9hY3RpdmVCdWZmZXIueSt0KX0sdC5wcm90b3R5cGUuY3Vyc29yVXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYWN0aXZlQnVmZmVyLnktdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcDtyZXR1cm4gdD49MD90aGlzLl9tb3ZlQ3Vyc29yKDAsLU1hdGgubWluKHQsZS5wYXJhbXNbMF18fDEpKTp0aGlzLl9tb3ZlQ3Vyc29yKDAsLShlLnBhcmFtc1swXXx8MSkpLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JEb3duPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20tdGhpcy5fYWN0aXZlQnVmZmVyLnk7cmV0dXJuIHQ+PTA/dGhpcy5fbW92ZUN1cnNvcigwLE1hdGgubWluKHQsZS5wYXJhbXNbMF18fDEpKTp0aGlzLl9tb3ZlQ3Vyc29yKDAsZS5wYXJhbXNbMF18fDEpLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JGb3J3YXJkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tb3ZlQ3Vyc29yKGUucGFyYW1zWzBdfHwxLDApLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JCYWNrd2FyZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbW92ZUN1cnNvcigtKGUucGFyYW1zWzBdfHwxKSwwKSwhMH0sdC5wcm90b3R5cGUuY3Vyc29yTmV4dExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3Vyc29yRG93bihlKSx0aGlzLl9hY3RpdmVCdWZmZXIueD0wLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JQcmVjZWRpbmdMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnNvclVwKGUpLHRoaXMuX2FjdGl2ZUJ1ZmZlci54PTAsITB9LHQucHJvdG90eXBlLmN1cnNvckNoYXJBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yKChlLnBhcmFtc1swXXx8MSktMSx0aGlzLl9hY3RpdmVCdWZmZXIueSksITB9LHQucHJvdG90eXBlLmN1cnNvclBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRDdXJzb3IoZS5sZW5ndGg+PTI/KGUucGFyYW1zWzFdfHwxKS0xOjAsKGUucGFyYW1zWzBdfHwxKS0xKSwhMH0sdC5wcm90b3R5cGUuY2hhclBvc0Fic29sdXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRDdXJzb3IoKGUucGFyYW1zWzBdfHwxKS0xLHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSwhMH0sdC5wcm90b3R5cGUuaFBvc2l0aW9uUmVsYXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21vdmVDdXJzb3IoZS5wYXJhbXNbMF18fDEsMCksITB9LHQucHJvdG90eXBlLmxpbmVQb3NBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yKHRoaXMuX2FjdGl2ZUJ1ZmZlci54LChlLnBhcmFtc1swXXx8MSktMSksITB9LHQucHJvdG90eXBlLnZQb3NpdGlvblJlbGF0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tb3ZlQ3Vyc29yKDAsZS5wYXJhbXNbMF18fDEpLCEwfSx0LnByb3RvdHlwZS5oVlBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnNvclBvc2l0aW9uKGUpLCEwfSx0LnByb3RvdHlwZS50YWJDbGVhcj1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtc1swXTtyZXR1cm4gMD09PXQ/ZGVsZXRlIHRoaXMuX2FjdGl2ZUJ1ZmZlci50YWJzW3RoaXMuX2FjdGl2ZUJ1ZmZlci54XTozPT09dCYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci50YWJzPXt9KSwhMH0sdC5wcm90b3R5cGUuY3Vyc29yRm9yd2FyZFRhYj1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci54PXRoaXMuX2FjdGl2ZUJ1ZmZlci5uZXh0U3RvcCgpO3JldHVybiEwfSx0LnByb3RvdHlwZS5jdXJzb3JCYWNrd2FyZFRhYj1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci54PXRoaXMuX2FjdGl2ZUJ1ZmZlci5wcmV2U3RvcCgpO3JldHVybiEwfSx0LnByb3RvdHlwZS5fZXJhc2VJbkJ1ZmZlckxpbmU9ZnVuY3Rpb24oZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBuPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK2UpO24ucmVwbGFjZUNlbGxzKHQscix0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0TnVsbENlbGwodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLGkmJihuLmlzV3JhcHBlZD0hMSl9LHQucHJvdG90eXBlLl9yZXNldEJ1ZmZlckxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrZSk7dC5maWxsKHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpKSx0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5jbGVhck1hcmtlcnModGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK2UpLHQuaXNXcmFwcGVkPSExfSx0LnByb3RvdHlwZS5lcmFzZUluRGlzcGxheT1mdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2godGhpcy5fcmVzdHJpY3RDdXJzb3IodGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKSxlLnBhcmFtc1swXSl7Y2FzZSAwOmZvcih0PXRoaXMuX2FjdGl2ZUJ1ZmZlci55LHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodCksdGhpcy5fZXJhc2VJbkJ1ZmZlckxpbmUodCsrLHRoaXMuX2FjdGl2ZUJ1ZmZlci54LHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scywwPT09dGhpcy5fYWN0aXZlQnVmZmVyLngpO3Q8dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzO3QrKyl0aGlzLl9yZXNldEJ1ZmZlckxpbmUodCk7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0KTticmVhaztjYXNlIDE6Zm9yKHQ9dGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0KSx0aGlzLl9lcmFzZUluQnVmZmVyTGluZSh0LDAsdGhpcy5fYWN0aXZlQnVmZmVyLngrMSwhMCksdGhpcy5fYWN0aXZlQnVmZmVyLngrMT49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzJiYodGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0KzEpLmlzV3JhcHBlZD0hMSk7dC0tOyl0aGlzLl9yZXNldEJ1ZmZlckxpbmUodCk7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSgwKTticmVhaztjYXNlIDI6Zm9yKHQ9dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodC0xKTt0LS07KXRoaXMuX3Jlc2V0QnVmZmVyTGluZSh0KTt0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KDApO2JyZWFrO2Nhc2UgMzp2YXIgcj10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMubGVuZ3RoLXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cztyPjAmJih0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMudHJpbVN0YXJ0KHIpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZT1NYXRoLm1heCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UtciwwKSx0aGlzLl9hY3RpdmVCdWZmZXIueWRpc3A9TWF0aC5tYXgodGhpcy5fYWN0aXZlQnVmZmVyLnlkaXNwLXIsMCksdGhpcy5fb25TY3JvbGwuZmlyZSgwKSl9cmV0dXJuITB9LHQucHJvdG90eXBlLmVyYXNlSW5MaW5lPWZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLl9yZXN0cmljdEN1cnNvcih0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpLGUucGFyYW1zWzBdKXtjYXNlIDA6dGhpcy5fZXJhc2VJbkJ1ZmZlckxpbmUodGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLngsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLDA9PT10aGlzLl9hY3RpdmVCdWZmZXIueCk7YnJlYWs7Y2FzZSAxOnRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHRoaXMuX2FjdGl2ZUJ1ZmZlci55LDAsdGhpcy5fYWN0aXZlQnVmZmVyLngrMSwhMSk7YnJlYWs7Y2FzZSAyOnRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHRoaXMuX2FjdGl2ZUJ1ZmZlci55LDAsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLCEwKX1yZXR1cm4gdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSksITB9LHQucHJvdG90eXBlLmluc2VydExpbmVzPWZ1bmN0aW9uKGUpe3RoaXMuX3Jlc3RyaWN0Q3Vyc29yKCk7dmFyIHQ9ZS5wYXJhbXNbMF18fDE7aWYodGhpcy5fYWN0aXZlQnVmZmVyLnk+dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbXx8dGhpcy5fYWN0aXZlQnVmZmVyLnk8dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcClyZXR1cm4hMDtmb3IodmFyIHI9dGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55LGk9dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEtdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSxuPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xK3RoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZS1pKzE7dC0tOyl0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuc3BsaWNlKG4tMSwxKSx0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuc3BsaWNlKHIsMCx0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0QmxhbmtMaW5lKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSkpO3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya1JhbmdlRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSksdGhpcy5fYWN0aXZlQnVmZmVyLng9MCwhMH0sdC5wcm90b3R5cGUuZGVsZXRlTGluZXM9ZnVuY3Rpb24oZSl7dGhpcy5fcmVzdHJpY3RDdXJzb3IoKTt2YXIgdD1lLnBhcmFtc1swXXx8MTtpZih0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tfHx0aGlzLl9hY3RpdmVCdWZmZXIueTx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wKXJldHVybiEwO3ZhciByLGk9dGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55O2ZvcihyPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xLXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20scj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSt0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2Utcjt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zcGxpY2UoaSwxKSx0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuc3BsaWNlKHIsMCx0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0QmxhbmtMaW5lKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSkpO3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya1JhbmdlRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSksdGhpcy5fYWN0aXZlQnVmZmVyLng9MCwhMH0sdC5wcm90b3R5cGUuaW5zZXJ0Q2hhcnM9ZnVuY3Rpb24oZSl7dGhpcy5fcmVzdHJpY3RDdXJzb3IoKTt2YXIgdD10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSk7cmV0dXJuIHQmJih0Lmluc2VydENlbGxzKHRoaXMuX2FjdGl2ZUJ1ZmZlci54LGUucGFyYW1zWzBdfHwxLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSkpLCEwfSx0LnByb3RvdHlwZS5kZWxldGVDaGFycz1mdW5jdGlvbihlKXt0aGlzLl9yZXN0cmljdEN1cnNvcigpO3ZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55KTtyZXR1cm4gdCYmKHQuZGVsZXRlQ2VsbHModGhpcy5fYWN0aXZlQnVmZmVyLngsZS5wYXJhbXNbMF18fDEsdGhpcy5fYWN0aXZlQnVmZmVyLmdldE51bGxDZWxsKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksdGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSksITB9LHQucHJvdG90eXBlLnNjcm9sbFVwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zcGxpY2UodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3AsMSksdGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLnNwbGljZSh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSwwLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXRCbGFua0xpbmUodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSk7cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5zY3JvbGxEb3duPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zcGxpY2UodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20sMSksdGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLnNwbGljZSh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcCwwLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXRCbGFua0xpbmUoZi5ERUZBVUxUX0FUVFJfREFUQSkpO3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya1JhbmdlRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcCx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tKSwhMH0sdC5wcm90b3R5cGUuc2Nyb2xsTGVmdD1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tfHx0aGlzLl9hY3RpdmVCdWZmZXIueTx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MSxyPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3A7cjw9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbTsrK3Ipe3ZhciBpPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3IpO2kuZGVsZXRlQ2VsbHMoMCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5zY3JvbGxSaWdodD1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tfHx0aGlzLl9hY3RpdmVCdWZmZXIueTx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MSxyPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3A7cjw9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbTsrK3Ipe3ZhciBpPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3IpO2kuaW5zZXJ0Q2VsbHMoMCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5pbnNlcnRDb2x1bW5zPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PnRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b218fHRoaXMuX2FjdGl2ZUJ1ZmZlci55PHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3ApcmV0dXJuITA7Zm9yKHZhciB0PWUucGFyYW1zWzBdfHwxLHI9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcDtyPD10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tOysrcil7dmFyIGk9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2Urcik7aS5pbnNlcnRDZWxscyh0aGlzLl9hY3RpdmVCdWZmZXIueCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5kZWxldGVDb2x1bW5zPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PnRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b218fHRoaXMuX2FjdGl2ZUJ1ZmZlci55PHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3ApcmV0dXJuITA7Zm9yKHZhciB0PWUucGFyYW1zWzBdfHwxLHI9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcDtyPD10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tOysrcil7dmFyIGk9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2Urcik7aS5kZWxldGVDZWxscyh0aGlzLl9hY3RpdmVCdWZmZXIueCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5lcmFzZUNoYXJzPWZ1bmN0aW9uKGUpe3RoaXMuX3Jlc3RyaWN0Q3Vyc29yKCk7dmFyIHQ9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnkpO3JldHVybiB0JiYodC5yZXBsYWNlQ2VsbHModGhpcy5fYWN0aXZlQnVmZmVyLngsdGhpcy5fYWN0aXZlQnVmZmVyLngrKGUucGFyYW1zWzBdfHwxKSx0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0TnVsbENlbGwodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnkpKSwhMH0sdC5wcm90b3R5cGUucmVwZWF0UHJlY2VkaW5nQ2hhcmFjdGVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9wYXJzZXIucHJlY2VkaW5nQ29kZXBvaW50KXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MSxyPW5ldyBVaW50MzJBcnJheSh0KSxpPTA7aTx0OysraSlyW2ldPXRoaXMuX3BhcnNlci5wcmVjZWRpbmdDb2RlcG9pbnQ7cmV0dXJuIHRoaXMucHJpbnQociwwLHIubGVuZ3RoKSwhMH0sdC5wcm90b3R5cGUuc2VuZERldmljZUF0dHJpYnV0ZXNQcmltYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtc1swXT4wfHwodGhpcy5faXMoXCJ4dGVybVwiKXx8dGhpcy5faXMoXCJyeHZ0LXVuaWNvZGVcIil8fHRoaXMuX2lzKFwic2NyZWVuXCIpP3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbPzE7MmNcIik6dGhpcy5faXMoXCJsaW51eFwiKSYmdGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls/NmNcIikpLCEwfSx0LnByb3RvdHlwZS5zZW5kRGV2aWNlQXR0cmlidXRlc1NlY29uZGFyeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXNbMF0+MHx8KHRoaXMuX2lzKFwieHRlcm1cIik/dGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls+MDsyNzY7MGNcIik6dGhpcy5faXMoXCJyeHZ0LXVuaWNvZGVcIik/dGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls+ODU7OTU7MGNcIik6dGhpcy5faXMoXCJsaW51eFwiKT90aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KGUucGFyYW1zWzBdK1wiY1wiKTp0aGlzLl9pcyhcInNjcmVlblwiKSYmdGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls+ODM7NDAwMDM7MGNcIikpLCEwfSx0LnByb3RvdHlwZS5faXM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT0odGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy50ZXJtTmFtZStcIlwiKS5pbmRleE9mKGUpfSx0LnByb3RvdHlwZS5zZXRNb2RlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKTQ9PT1lLnBhcmFtc1t0XSYmKHRoaXMuX2NvcmVTZXJ2aWNlLm1vZGVzLmluc2VydE1vZGU9ITApO3JldHVybiEwfSx0LnByb3RvdHlwZS5zZXRNb2RlUHJpdmF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylzd2l0Y2goZS5wYXJhbXNbdF0pe2Nhc2UgMTp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25DdXJzb3JLZXlzPSEwO2JyZWFrO2Nhc2UgMjp0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgwLGEuREVGQVVMVF9DSEFSU0VUKSx0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgxLGEuREVGQVVMVF9DSEFSU0VUKSx0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgyLGEuREVGQVVMVF9DSEFSU0VUKSx0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgzLGEuREVGQVVMVF9DSEFSU0VUKTticmVhaztjYXNlIDM6dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy53aW5kb3dPcHRpb25zLnNldFdpbkxpbmVzJiYodGhpcy5fYnVmZmVyU2VydmljZS5yZXNpemUoMTMyLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyksdGhpcy5fb25SZXF1ZXN0UmVzZXQuZmlyZSgpKTticmVhaztjYXNlIDY6dGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLm9yaWdpbj0hMCx0aGlzLl9zZXRDdXJzb3IoMCwwKTticmVhaztjYXNlIDc6dGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLndyYXBhcm91bmQ9ITA7YnJlYWs7Y2FzZSAxMjpicmVhaztjYXNlIDQ1OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5yZXZlcnNlV3JhcGFyb3VuZD0hMDticmVhaztjYXNlIDY2OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJTZXJpYWwgcG9ydCByZXF1ZXN0ZWQgYXBwbGljYXRpb24ga2V5cGFkLlwiKSx0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25LZXlwYWQ9ITAsdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCk7YnJlYWs7Y2FzZSA5OnRoaXMuX2NvcmVNb3VzZVNlcnZpY2UuYWN0aXZlUHJvdG9jb2w9XCJYMTBcIjticmVhaztjYXNlIDFlMzp0aGlzLl9jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZVByb3RvY29sPVwiVlQyMDBcIjticmVhaztjYXNlIDEwMDI6dGhpcy5fY29yZU1vdXNlU2VydmljZS5hY3RpdmVQcm90b2NvbD1cIkRSQUdcIjticmVhaztjYXNlIDEwMDM6dGhpcy5fY29yZU1vdXNlU2VydmljZS5hY3RpdmVQcm90b2NvbD1cIkFOWVwiO2JyZWFrO2Nhc2UgMTAwNDp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuc2VuZEZvY3VzPSEwLHRoaXMuX29uUmVxdWVzdFNlbmRGb2N1cy5maXJlKCk7YnJlYWs7Y2FzZSAxMDA1OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJERUNTRVQgMTAwNSBub3Qgc3VwcG9ydGVkIChzZWUgIzI1MDcpXCIpO2JyZWFrO2Nhc2UgMTAwNjp0aGlzLl9jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZUVuY29kaW5nPVwiU0dSXCI7YnJlYWs7Y2FzZSAxMDE1OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJERUNTRVQgMTAxNSBub3Qgc3VwcG9ydGVkIChzZWUgIzI1MDcpXCIpO2JyZWFrO2Nhc2UgMjU6dGhpcy5fY29yZVNlcnZpY2UuaXNDdXJzb3JIaWRkZW49ITE7YnJlYWs7Y2FzZSAxMDQ4OnRoaXMuc2F2ZUN1cnNvcigpO2JyZWFrO2Nhc2UgMTA0OTp0aGlzLnNhdmVDdXJzb3IoKTtjYXNlIDQ3OmNhc2UgMTA0Nzp0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZhdGVBbHRCdWZmZXIodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkPSEwLHRoaXMuX29uUmVxdWVzdFJlZnJlc2hSb3dzLmZpcmUoMCx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSksdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCk7YnJlYWs7Y2FzZSAyMDA0OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5icmFja2V0ZWRQYXN0ZU1vZGU9ITB9cmV0dXJuITB9LHQucHJvdG90eXBlLnJlc2V0TW9kZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyk0PT09ZS5wYXJhbXNbdF0mJih0aGlzLl9jb3JlU2VydmljZS5tb2Rlcy5pbnNlcnRNb2RlPSExKTtyZXR1cm4hMH0sdC5wcm90b3R5cGUucmVzZXRNb2RlUHJpdmF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylzd2l0Y2goZS5wYXJhbXNbdF0pe2Nhc2UgMTp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25DdXJzb3JLZXlzPSExO2JyZWFrO2Nhc2UgMzp0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLndpbmRvd09wdGlvbnMuc2V0V2luTGluZXMmJih0aGlzLl9idWZmZXJTZXJ2aWNlLnJlc2l6ZSg4MCx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpLHRoaXMuX29uUmVxdWVzdFJlc2V0LmZpcmUoKSk7YnJlYWs7Y2FzZSA2OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5vcmlnaW49ITEsdGhpcy5fc2V0Q3Vyc29yKDAsMCk7YnJlYWs7Y2FzZSA3OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy53cmFwYXJvdW5kPSExO2JyZWFrO2Nhc2UgMTI6YnJlYWs7Y2FzZSA0NTp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMucmV2ZXJzZVdyYXBhcm91bmQ9ITE7YnJlYWs7Y2FzZSA2Njp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiU3dpdGNoaW5nIGJhY2sgdG8gbm9ybWFsIGtleXBhZC5cIiksdGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLmFwcGxpY2F0aW9uS2V5cGFkPSExLHRoaXMuX29uUmVxdWVzdFN5bmNTY3JvbGxCYXIuZmlyZSgpO2JyZWFrO2Nhc2UgOTpjYXNlIDFlMzpjYXNlIDEwMDI6Y2FzZSAxMDAzOnRoaXMuX2NvcmVNb3VzZVNlcnZpY2UuYWN0aXZlUHJvdG9jb2w9XCJOT05FXCI7YnJlYWs7Y2FzZSAxMDA0OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5zZW5kRm9jdXM9ITE7YnJlYWs7Y2FzZSAxMDA1OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJERUNSU1QgMTAwNSBub3Qgc3VwcG9ydGVkIChzZWUgIzI1MDcpXCIpO2JyZWFrO2Nhc2UgMTAwNjp0aGlzLl9jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZUVuY29kaW5nPVwiREVGQVVMVFwiO2JyZWFrO2Nhc2UgMTAxNTp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiREVDUlNUIDEwMTUgbm90IHN1cHBvcnRlZCAoc2VlICMyNTA3KVwiKTticmVhaztjYXNlIDI1OnRoaXMuX2NvcmVTZXJ2aWNlLmlzQ3Vyc29ySGlkZGVuPSEwO2JyZWFrO2Nhc2UgMTA0ODp0aGlzLnJlc3RvcmVDdXJzb3IoKTticmVhaztjYXNlIDEwNDk6Y2FzZSA0NzpjYXNlIDEwNDc6dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2YXRlTm9ybWFsQnVmZmVyKCksMTA0OT09PWUucGFyYW1zW3RdJiZ0aGlzLnJlc3RvcmVDdXJzb3IoKSx0aGlzLl9jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkPSEwLHRoaXMuX29uUmVxdWVzdFJlZnJlc2hSb3dzLmZpcmUoMCx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSksdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCk7YnJlYWs7Y2FzZSAyMDA0OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5icmFja2V0ZWRQYXN0ZU1vZGU9ITF9cmV0dXJuITB9LHQucHJvdG90eXBlLl91cGRhdGVBdHRyQ29sb3I9ZnVuY3Rpb24oZSx0LHIsaSxuKXtyZXR1cm4gMj09PXQ/KGV8PTUwMzMxNjQ4LGUmPS0xNjc3NzIxNixlfD12LkF0dHJpYnV0ZURhdGEuZnJvbUNvbG9yUkdCKFtyLGksbl0pKTo1PT09dCYmKGUmPS01MDMzMTkwNCxlfD0zMzU1NDQzMnwyNTUmciksZX0sdC5wcm90b3R5cGUuX2V4dHJhY3RDb2xvcj1mdW5jdGlvbihlLHQscil7dmFyIGk9WzAsMCwtMSwwLDAsMF0sbj0wLG89MDtkb3tpZihpW28rbl09ZS5wYXJhbXNbdCtvXSxlLmhhc1N1YlBhcmFtcyh0K28pKXt2YXIgcz1lLmdldFN1YlBhcmFtcyh0K28pLGE9MDtkb3s1PT09aVsxXSYmKG49MSksaVtvK2ErMStuXT1zW2FdfXdoaWxlKCsrYTxzLmxlbmd0aCYmYStvKzErbjxpLmxlbmd0aCk7YnJlYWt9aWYoNT09PWlbMV0mJm8rbj49Mnx8Mj09PWlbMV0mJm8rbj49NSlicmVhaztpWzFdJiYobj0xKX13aGlsZSgrK28rdDxlLmxlbmd0aCYmbytuPGkubGVuZ3RoKTtmb3IoYT0yO2E8aS5sZW5ndGg7KythKS0xPT09aVthXSYmKGlbYV09MCk7c3dpdGNoKGlbMF0pe2Nhc2UgMzg6ci5mZz10aGlzLl91cGRhdGVBdHRyQ29sb3Ioci5mZyxpWzFdLGlbM10saVs0XSxpWzVdKTticmVhaztjYXNlIDQ4OnIuYmc9dGhpcy5fdXBkYXRlQXR0ckNvbG9yKHIuYmcsaVsxXSxpWzNdLGlbNF0saVs1XSk7YnJlYWs7Y2FzZSA1ODpyLmV4dGVuZGVkPXIuZXh0ZW5kZWQuY2xvbmUoKSxyLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yPXRoaXMuX3VwZGF0ZUF0dHJDb2xvcihyLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yLGlbMV0saVszXSxpWzRdLGlbNV0pfXJldHVybiBvfSx0LnByb3RvdHlwZS5fcHJvY2Vzc1VuZGVybGluZT1mdW5jdGlvbihlLHQpe3QuZXh0ZW5kZWQ9dC5leHRlbmRlZC5jbG9uZSgpLCghfmV8fGU+NSkmJihlPTEpLHQuZXh0ZW5kZWQudW5kZXJsaW5lU3R5bGU9ZSx0LmZnfD0yNjg0MzU0NTYsMD09PWUmJih0LmZnJj0tMjY4NDM1NDU3KSx0LnVwZGF0ZUV4dGVuZGVkKCl9LHQucHJvdG90eXBlLmNoYXJBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUpe2lmKDE9PT1lLmxlbmd0aCYmMD09PWUucGFyYW1zWzBdKXJldHVybiB0aGlzLl9jdXJBdHRyRGF0YS5mZz1mLkRFRkFVTFRfQVRUUl9EQVRBLmZnLHRoaXMuX2N1ckF0dHJEYXRhLmJnPWYuREVGQVVMVF9BVFRSX0RBVEEuYmcsITA7Zm9yKHZhciB0LHI9ZS5sZW5ndGgsaT10aGlzLl9jdXJBdHRyRGF0YSxuPTA7bjxyO24rKykodD1lLnBhcmFtc1tuXSk+PTMwJiZ0PD0zNz8oaS5mZyY9LTUwMzMxOTA0LGkuZmd8PTE2Nzc3MjE2fHQtMzApOnQ+PTQwJiZ0PD00Nz8oaS5iZyY9LTUwMzMxOTA0LGkuYmd8PTE2Nzc3MjE2fHQtNDApOnQ+PTkwJiZ0PD05Nz8oaS5mZyY9LTUwMzMxOTA0LGkuZmd8PTE2Nzc3MjI0fHQtOTApOnQ+PTEwMCYmdDw9MTA3PyhpLmJnJj0tNTAzMzE5MDQsaS5iZ3w9MTY3NzcyMjR8dC0xMDApOjA9PT10PyhpLmZnPWYuREVGQVVMVF9BVFRSX0RBVEEuZmcsaS5iZz1mLkRFRkFVTFRfQVRUUl9EQVRBLmJnKToxPT09dD9pLmZnfD0xMzQyMTc3Mjg6Mz09PXQ/aS5iZ3w9NjcxMDg4NjQ6ND09PXQ/KGkuZmd8PTI2ODQzNTQ1Nix0aGlzLl9wcm9jZXNzVW5kZXJsaW5lKGUuaGFzU3ViUGFyYW1zKG4pP2UuZ2V0U3ViUGFyYW1zKG4pWzBdOjEsaSkpOjU9PT10P2kuZmd8PTUzNjg3MDkxMjo3PT09dD9pLmZnfD02NzEwODg2NDo4PT09dD9pLmZnfD0xMDczNzQxODI0Ojk9PT10P2kuZmd8PTIxNDc0ODM2NDg6Mj09PXQ/aS5iZ3w9MTM0MjE3NzI4OjIxPT09dD90aGlzLl9wcm9jZXNzVW5kZXJsaW5lKDIsaSk6MjI9PT10PyhpLmZnJj0tMTM0MjE3NzI5LGkuYmcmPS0xMzQyMTc3MjkpOjIzPT09dD9pLmJnJj0tNjcxMDg4NjU6MjQ9PT10P2kuZmcmPS0yNjg0MzU0NTc6MjU9PT10P2kuZmcmPS01MzY4NzA5MTM6Mjc9PT10P2kuZmcmPS02NzEwODg2NToyOD09PXQ/aS5mZyY9LTEwNzM3NDE4MjU6Mjk9PT10P2kuZmcmPTIxNDc0ODM2NDc6Mzk9PT10PyhpLmZnJj0tNjcxMDg4NjQsaS5mZ3w9MTY3NzcyMTUmZi5ERUZBVUxUX0FUVFJfREFUQS5mZyk6NDk9PT10PyhpLmJnJj0tNjcxMDg4NjQsaS5iZ3w9MTY3NzcyMTUmZi5ERUZBVUxUX0FUVFJfREFUQS5iZyk6Mzg9PT10fHw0OD09PXR8fDU4PT09dD9uKz10aGlzLl9leHRyYWN0Q29sb3IoZSxuLGkpOjU5PT09dD8oaS5leHRlbmRlZD1pLmV4dGVuZGVkLmNsb25lKCksaS5leHRlbmRlZC51bmRlcmxpbmVDb2xvcj0tMSxpLnVwZGF0ZUV4dGVuZGVkKCkpOjEwMD09PXQ/KGkuZmcmPS02NzEwODg2NCxpLmZnfD0xNjc3NzIxNSZmLkRFRkFVTFRfQVRUUl9EQVRBLmZnLGkuYmcmPS02NzEwODg2NCxpLmJnfD0xNjc3NzIxNSZmLkRFRkFVTFRfQVRUUl9EQVRBLmJnKTp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBTR1IgYXR0cmlidXRlOiAlZC5cIix0KTtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZGV2aWNlU3RhdHVzPWZ1bmN0aW9uKGUpe3N3aXRjaChlLnBhcmFtc1swXSl7Y2FzZSA1OnRoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbMG5cIik7YnJlYWs7Y2FzZSA2OnZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci55KzEscj10aGlzLl9hY3RpdmVCdWZmZXIueCsxO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbXCIrdCtcIjtcIityK1wiUlwiKX1yZXR1cm4hMH0sdC5wcm90b3R5cGUuZGV2aWNlU3RhdHVzUHJpdmF0ZT1mdW5jdGlvbihlKXtpZig2PT09ZS5wYXJhbXNbMF0pe3ZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci55KzEscj10aGlzLl9hY3RpdmVCdWZmZXIueCsxO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbP1wiK3QrXCI7XCIrcitcIlJcIil9cmV0dXJuITB9LHQucHJvdG90eXBlLnNvZnRSZXNldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29yZVNlcnZpY2UuaXNDdXJzb3JIaWRkZW49ITEsdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCksdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcD0wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b209dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEsdGhpcy5fY3VyQXR0ckRhdGE9Zi5ERUZBVUxUX0FUVFJfREFUQS5jbG9uZSgpLHRoaXMuX2NvcmVTZXJ2aWNlLnJlc2V0KCksdGhpcy5fY2hhcnNldFNlcnZpY2UucmVzZXQoKSx0aGlzLl9hY3RpdmVCdWZmZXIuc2F2ZWRYPTAsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkWT10aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuZmc9dGhpcy5fY3VyQXR0ckRhdGEuZmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuYmc9dGhpcy5fY3VyQXR0ckRhdGEuYmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ2hhcnNldD10aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0LHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5vcmlnaW49ITEsITB9LHQucHJvdG90eXBlLnNldEN1cnNvclN0eWxlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zWzBdfHwxO3N3aXRjaCh0KXtjYXNlIDE6Y2FzZSAyOnRoaXMuX29wdGlvbnNTZXJ2aWNlLm9wdGlvbnMuY3Vyc29yU3R5bGU9XCJibG9ja1wiO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6dGhpcy5fb3B0aW9uc1NlcnZpY2Uub3B0aW9ucy5jdXJzb3JTdHlsZT1cInVuZGVybGluZVwiO2JyZWFrO2Nhc2UgNTpjYXNlIDY6dGhpcy5fb3B0aW9uc1NlcnZpY2Uub3B0aW9ucy5jdXJzb3JTdHlsZT1cImJhclwifXZhciByPXQlMj09MTtyZXR1cm4gdGhpcy5fb3B0aW9uc1NlcnZpY2Uub3B0aW9ucy5jdXJzb3JCbGluaz1yLCEwfSx0LnByb3RvdHlwZS5zZXRTY3JvbGxSZWdpb249ZnVuY3Rpb24oZSl7dmFyIHQscj1lLnBhcmFtc1swXXx8MTtyZXR1cm4oZS5sZW5ndGg8Mnx8KHQ9ZS5wYXJhbXNbMV0pPnRoaXMuX2J1ZmZlclNlcnZpY2Uucm93c3x8MD09PXQpJiYodD10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpLHQ+ciYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3A9ci0xLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b209dC0xLHRoaXMuX3NldEN1cnNvcigwLDApKSwhMH0sdC5wcm90b3R5cGUud2luZG93T3B0aW9ucz1mdW5jdGlvbihlKXtpZighdyhlLnBhcmFtc1swXSx0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLndpbmRvd09wdGlvbnMpKXJldHVybiEwO3ZhciB0PWUubGVuZ3RoPjE/ZS5wYXJhbXNbMV06MDtzd2l0Y2goZS5wYXJhbXNbMF0pe2Nhc2UgMTQ6MiE9PXQmJnRoaXMuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0LmZpcmUoby5HRVRfV0lOX1NJWkVfUElYRUxTKTticmVhaztjYXNlIDE2OnRoaXMuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0LmZpcmUoby5HRVRfQ0VMTF9TSVpFX1BJWEVMUyk7YnJlYWs7Y2FzZSAxODp0aGlzLl9idWZmZXJTZXJ2aWNlJiZ0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDK1wiWzg7XCIrdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzK1wiO1wiK3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scytcInRcIik7YnJlYWs7Y2FzZSAyMjowIT09dCYmMiE9PXR8fCh0aGlzLl93aW5kb3dUaXRsZVN0YWNrLnB1c2godGhpcy5fd2luZG93VGl0bGUpLHRoaXMuX3dpbmRvd1RpdGxlU3RhY2subGVuZ3RoPjEwJiZ0aGlzLl93aW5kb3dUaXRsZVN0YWNrLnNoaWZ0KCkpLDAhPT10JiYxIT09dHx8KHRoaXMuX2ljb25OYW1lU3RhY2sucHVzaCh0aGlzLl9pY29uTmFtZSksdGhpcy5faWNvbk5hbWVTdGFjay5sZW5ndGg+MTAmJnRoaXMuX2ljb25OYW1lU3RhY2suc2hpZnQoKSk7YnJlYWs7Y2FzZSAyMzowIT09dCYmMiE9PXR8fHRoaXMuX3dpbmRvd1RpdGxlU3RhY2subGVuZ3RoJiZ0aGlzLnNldFRpdGxlKHRoaXMuX3dpbmRvd1RpdGxlU3RhY2sucG9wKCkpLDAhPT10JiYxIT09dHx8dGhpcy5faWNvbk5hbWVTdGFjay5sZW5ndGgmJnRoaXMuc2V0SWNvbk5hbWUodGhpcy5faWNvbk5hbWVTdGFjay5wb3AoKSl9cmV0dXJuITB9LHQucHJvdG90eXBlLnNhdmVDdXJzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZFg9dGhpcy5fYWN0aXZlQnVmZmVyLngsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkWT10aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuZmc9dGhpcy5fY3VyQXR0ckRhdGEuZmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuYmc9dGhpcy5fY3VyQXR0ckRhdGEuYmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ2hhcnNldD10aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0LCEwfSx0LnByb3RvdHlwZS5yZXN0b3JlQ3Vyc29yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hY3RpdmVCdWZmZXIueD10aGlzLl9hY3RpdmVCdWZmZXIuc2F2ZWRYfHwwLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PU1hdGgubWF4KHRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZFktdGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlLDApLHRoaXMuX2N1ckF0dHJEYXRhLmZnPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZEN1ckF0dHJEYXRhLmZnLHRoaXMuX2N1ckF0dHJEYXRhLmJnPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZEN1ckF0dHJEYXRhLmJnLHRoaXMuX2NoYXJzZXRTZXJ2aWNlLmNoYXJzZXQ9dGhpcy5fc2F2ZWRDaGFyc2V0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZENoYXJzZXQmJih0aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0PXRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZENoYXJzZXQpLHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKCksITB9LHQucHJvdG90eXBlLnNldFRpdGxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl93aW5kb3dUaXRsZT1lLHRoaXMuX29uVGl0bGVDaGFuZ2UuZmlyZShlKSwhMH0sdC5wcm90b3R5cGUuc2V0SWNvbk5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ljb25OYW1lPWUsITB9LHQucHJvdG90eXBlLnNldE9yUmVwb3J0SW5kZXhlZENvbG9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPWUuc3BsaXQoXCI7XCIpO3IubGVuZ3RoPjE7KXt2YXIgaT1yLnNoaWZ0KCksbj1yLnNoaWZ0KCk7aWYoL15cXGQrJC8uZXhlYyhpKSl7dmFyIG89cGFyc2VJbnQoaSk7aWYoMDw9byYmbzwyNTYpaWYoXCI/XCI9PT1uKXQucHVzaCh7dHlwZTowLGluZGV4Om99KTtlbHNle3ZhciBzPSgwLGIucGFyc2VDb2xvcikobik7cyYmdC5wdXNoKHt0eXBlOjEsaW5kZXg6byxjb2xvcjpzfSl9fX1yZXR1cm4gdC5sZW5ndGgmJnRoaXMuX29uQ29sb3IuZmlyZSh0KSwhMH0sdC5wcm90b3R5cGUuX3NldE9yUmVwb3J0U3BlY2lhbENvbG9yPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUuc3BsaXQoXCI7XCIpLGk9MDtpPHIubGVuZ3RoJiYhKHQ+PXRoaXMuX3NwZWNpYWxDb2xvcnMubGVuZ3RoKTsrK2ksKyt0KWlmKFwiP1wiPT09cltpXSl0aGlzLl9vbkNvbG9yLmZpcmUoW3t0eXBlOjAsaW5kZXg6dGhpcy5fc3BlY2lhbENvbG9yc1t0XX1dKTtlbHNle3ZhciBuPSgwLGIucGFyc2VDb2xvcikocltpXSk7biYmdGhpcy5fb25Db2xvci5maXJlKFt7dHlwZToxLGluZGV4OnRoaXMuX3NwZWNpYWxDb2xvcnNbdF0sY29sb3I6bn1dKX1yZXR1cm4hMH0sdC5wcm90b3R5cGUuc2V0T3JSZXBvcnRGZ0NvbG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRPclJlcG9ydFNwZWNpYWxDb2xvcihlLDApfSx0LnByb3RvdHlwZS5zZXRPclJlcG9ydEJnQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldE9yUmVwb3J0U3BlY2lhbENvbG9yKGUsMSl9LHQucHJvdG90eXBlLnNldE9yUmVwb3J0Q3Vyc29yQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldE9yUmVwb3J0U3BlY2lhbENvbG9yKGUsMil9LHQucHJvdG90eXBlLnJlc3RvcmVJbmRleGVkQ29sb3I9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXMuX29uQ29sb3IuZmlyZShbe3R5cGU6Mn1dKSwhMDtmb3IodmFyIHQ9W10scj1lLnNwbGl0KFwiO1wiKSxpPTA7aTxyLmxlbmd0aDsrK2kpaWYoL15cXGQrJC8uZXhlYyhyW2ldKSl7dmFyIG49cGFyc2VJbnQocltpXSk7MDw9biYmbjwyNTYmJnQucHVzaCh7dHlwZToyLGluZGV4Om59KX1yZXR1cm4gdC5sZW5ndGgmJnRoaXMuX29uQ29sb3IuZmlyZSh0KSwhMH0sdC5wcm90b3R5cGUucmVzdG9yZUZnQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uQ29sb3IuZmlyZShbe3R5cGU6MixpbmRleDoyNTZ9XSksITB9LHQucHJvdG90eXBlLnJlc3RvcmVCZ0NvbG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vbkNvbG9yLmZpcmUoW3t0eXBlOjIsaW5kZXg6MjU3fV0pLCEwfSx0LnByb3RvdHlwZS5yZXN0b3JlQ3Vyc29yQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uQ29sb3IuZmlyZShbe3R5cGU6MixpbmRleDoyNTh9XSksITB9LHQucHJvdG90eXBlLm5leHRMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJ1ZmZlci54PTAsdGhpcy5pbmRleCgpLCEwfSx0LnByb3RvdHlwZS5rZXlwYWRBcHBsaWNhdGlvbk1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nU2VydmljZS5kZWJ1ZyhcIlNlcmlhbCBwb3J0IHJlcXVlc3RlZCBhcHBsaWNhdGlvbiBrZXlwYWQuXCIpLHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbktleXBhZD0hMCx0aGlzLl9vblJlcXVlc3RTeW5jU2Nyb2xsQmFyLmZpcmUoKSwhMH0sdC5wcm90b3R5cGUua2V5cGFkTnVtZXJpY01vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nU2VydmljZS5kZWJ1ZyhcIlN3aXRjaGluZyBiYWNrIHRvIG5vcm1hbCBrZXlwYWQuXCIpLHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbktleXBhZD0hMSx0aGlzLl9vblJlcXVlc3RTeW5jU2Nyb2xsQmFyLmZpcmUoKSwhMH0sdC5wcm90b3R5cGUuc2VsZWN0RGVmYXVsdENoYXJzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hhcnNldFNlcnZpY2Uuc2V0Z0xldmVsKDApLHRoaXMuX2NoYXJzZXRTZXJ2aWNlLnNldGdDaGFyc2V0KDAsYS5ERUZBVUxUX0NIQVJTRVQpLCEwfSx0LnByb3RvdHlwZS5zZWxlY3RDaGFyc2V0PWZ1bmN0aW9uKGUpe3JldHVybiAyIT09ZS5sZW5ndGg/KHRoaXMuc2VsZWN0RGVmYXVsdENoYXJzZXQoKSwhMCk6KFwiL1wiPT09ZVswXXx8dGhpcy5fY2hhcnNldFNlcnZpY2Uuc2V0Z0NoYXJzZXQoU1tlWzBdXSxhLkNIQVJTRVRTW2VbMV1dfHxhLkRFRkFVTFRfQ0hBUlNFVCksITApfSx0LnByb3RvdHlwZS5pbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN0cmljdEN1cnNvcigpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55KyssdGhpcy5fYWN0aXZlQnVmZmVyLnk9PT10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tKzE/KHRoaXMuX2FjdGl2ZUJ1ZmZlci55LS0sdGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGwodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSk6dGhpcy5fYWN0aXZlQnVmZmVyLnk+PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKSx0aGlzLl9yZXN0cmljdEN1cnNvcigpLCEwfSx0LnByb3RvdHlwZS50YWJTZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQnVmZmVyLnRhYnNbdGhpcy5fYWN0aXZlQnVmZmVyLnhdPSEwLCEwfSx0LnByb3RvdHlwZS5yZXZlcnNlSW5kZXg9ZnVuY3Rpb24oKXtpZih0aGlzLl9yZXN0cmljdEN1cnNvcigpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PT09dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcCl7dmFyIGU9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbS10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wO3RoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zaGlmdEVsZW1lbnRzKHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSxlLDEpLHRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXRCbGFua0xpbmUodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtSYW5nZURpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3AsdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSl9ZWxzZSB0aGlzLl9hY3RpdmVCdWZmZXIueS0tLHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKCk7cmV0dXJuITB9LHQucHJvdG90eXBlLmZ1bGxSZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJzZXIucmVzZXQoKSx0aGlzLl9vblJlcXVlc3RSZXNldC5maXJlKCksITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fY3VyQXR0ckRhdGE9Zi5ERUZBVUxUX0FUVFJfREFUQS5jbG9uZSgpLHRoaXMuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbD1mLkRFRkFVTFRfQVRUUl9EQVRBLmNsb25lKCl9LHQucHJvdG90eXBlLl9lcmFzZUF0dHJEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbC5iZyY9LTY3MTA4ODY0LHRoaXMuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbC5iZ3w9NjcxMDg4NjMmdGhpcy5fY3VyQXR0ckRhdGEuYmcsdGhpcy5fZXJhc2VBdHRyRGF0YUludGVybmFsfSx0LnByb3RvdHlwZS5zZXRnTGV2ZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NoYXJzZXRTZXJ2aWNlLnNldGdMZXZlbChlKSwhMH0sdC5wcm90b3R5cGUuc2NyZWVuQWxpZ25tZW50UGF0dGVybj1mdW5jdGlvbigpe3ZhciBlPW5ldyBwLkNlbGxEYXRhO2UuY29udGVudD0xPDwyMnxcIkVcIi5jaGFyQ29kZUF0KDApLGUuZmc9dGhpcy5fY3VyQXR0ckRhdGEuZmcsZS5iZz10aGlzLl9jdXJBdHRyRGF0YS5iZyx0aGlzLl9zZXRDdXJzb3IoMCwwKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93czsrK3Qpe3ZhciByPXRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSt0LGk9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldChyKTtpJiYoaS5maWxsKGUpLGkuaXNXcmFwcGVkPSExKX1yZXR1cm4gdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtBbGxEaXJ0eSgpLHRoaXMuX3NldEN1cnNvcigwLDApLCEwfSx0fShsLkRpc3Bvc2FibGUpO3QuSW5wdXRIYW5kbGVyPUV9LDg0NDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0RGlzcG9zZUFycmF5RGlzcG9zYWJsZT10LmRpc3Bvc2VBcnJheT10LkRpc3Bvc2FibGU9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2Rpc3Bvc2FibGVzPVtdLHRoaXMuX2lzRGlzcG9zZWQ9ITF9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZSx0O3RoaXMuX2lzRGlzcG9zZWQ9ITA7dHJ5e2Zvcih2YXIgaT1yKHRoaXMuX2Rpc3Bvc2FibGVzKSxuPWkubmV4dCgpOyFuLmRvbmU7bj1pLm5leHQoKSluLnZhbHVlLmRpc3Bvc2UoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYodD1pLnJldHVybikmJnQuY2FsbChpKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19dGhpcy5fZGlzcG9zYWJsZXMubGVuZ3RoPTB9LGUucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKGUpLGV9LGUucHJvdG90eXBlLnVucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGlzcG9zYWJsZXMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX2Rpc3Bvc2FibGVzLnNwbGljZSh0LDEpfSxlfSgpO2Z1bmN0aW9uIG4oZSl7dmFyIHQsaTt0cnl7Zm9yKHZhciBuPXIoZSksbz1uLm5leHQoKTshby5kb25lO289bi5uZXh0KCkpby52YWx1ZS5kaXNwb3NlKCl9Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKGk9bi5yZXR1cm4pJiZpLmNhbGwobil9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWUubGVuZ3RoPTB9dC5EaXNwb3NhYmxlPWksdC5kaXNwb3NlQXJyYXk9bix0LmdldERpc3Bvc2VBcnJheURpc3Bvc2FibGU9ZnVuY3Rpb24oZSl7cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gbihlKX19fX0sNjExNDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXNMaW51eD10LmlzV2luZG93cz10LmlzSXBob25lPXQuaXNJcGFkPXQuaXNNYWM9dC5pc1NhZmFyaT10LmlzTGVnYWN5RWRnZT10LmlzRmlyZWZveD12b2lkIDA7dmFyIHI9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcixpPXI/XCJub2RlXCI6bmF2aWdhdG9yLnVzZXJBZ2VudCxuPXI/XCJub2RlXCI6bmF2aWdhdG9yLnBsYXRmb3JtO3QuaXNGaXJlZm94PWkuaW5jbHVkZXMoXCJGaXJlZm94XCIpLHQuaXNMZWdhY3lFZGdlPWkuaW5jbHVkZXMoXCJFZGdlXCIpLHQuaXNTYWZhcmk9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChpKSx0LmlzTWFjPVtcIk1hY2ludG9zaFwiLFwiTWFjSW50ZWxcIixcIk1hY1BQQ1wiLFwiTWFjNjhLXCJdLmluY2x1ZGVzKG4pLHQuaXNJcGFkPVwiaVBhZFwiPT09bix0LmlzSXBob25lPVwiaVBob25lXCI9PT1uLHQuaXNXaW5kb3dzPVtcIldpbmRvd3NcIixcIldpbjE2XCIsXCJXaW4zMlwiLFwiV2luQ0VcIl0uaW5jbHVkZXMobiksdC5pc0xpbnV4PW4uaW5kZXhPZihcIkxpbnV4XCIpPj0wfSw2MTA2OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobj0yJm9bMF0/aS5yZXR1cm46b1swXT9pLnRocm93fHwoKG49aS5yZXR1cm4pJiZuLmNhbGwoaSksMCk6aS5uZXh0KSYmIShuPW4uY2FsbChpLG9bMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChpPTAsbiYmKG89WzImb1swXSxuLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTpuPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISgobj0obj1zLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIW58fG9bMV0+blswXSYmb1sxXTxuWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPG5bMV0pe3MubGFiZWw9blsxXSxuPW87YnJlYWt9aWYobiYmcy5sYWJlbDxuWzJdKXtzLmxhYmVsPW5bMl0scy5vcHMucHVzaChvKTticmVha31uWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLGk9MH1maW5hbGx5e3I9bj0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Tb3J0ZWRMaXN0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fZ2V0S2V5PWUsdGhpcy5fYXJyYXk9W119cmV0dXJuIGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fYXJyYXkubGVuZ3RoPTB9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlKXtpZigwIT09dGhpcy5fYXJyYXkubGVuZ3RoKXt2YXIgdD10aGlzLl9zZWFyY2godGhpcy5fZ2V0S2V5KGUpLDAsdGhpcy5fYXJyYXkubGVuZ3RoLTEpO3RoaXMuX2FycmF5LnNwbGljZSh0LDAsZSl9ZWxzZSB0aGlzLl9hcnJheS5wdXNoKGUpfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7aWYoMD09PXRoaXMuX2FycmF5Lmxlbmd0aClyZXR1cm4hMTt2YXIgdD10aGlzLl9nZXRLZXkoZSkscj10aGlzLl9zZWFyY2godCwwLHRoaXMuX2FycmF5Lmxlbmd0aC0xKTtpZih0aGlzLl9nZXRLZXkodGhpcy5fYXJyYXlbcl0pIT09dClyZXR1cm4hMTtkb3tpZih0aGlzLl9hcnJheVtyXT09PWUpcmV0dXJuIHRoaXMuX2FycmF5LnNwbGljZShyLDEpLCEwfXdoaWxlKCsrcjx0aGlzLl9hcnJheS5sZW5ndGgmJnRoaXMuX2dldEtleSh0aGlzLl9hcnJheVtyXSk9PT10KTtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0S2V5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZigwPT09dGhpcy5fYXJyYXkubGVuZ3RoKXJldHVyblsyXTtpZigodD10aGlzLl9zZWFyY2goZSwwLHRoaXMuX2FycmF5Lmxlbmd0aC0xKSk8MHx8dD49dGhpcy5fYXJyYXkubGVuZ3RoKXJldHVyblsyXTtpZih0aGlzLl9nZXRLZXkodGhpcy5fYXJyYXlbdF0pIT09ZSlyZXR1cm5bMl07ci5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLl9hcnJheVt0XV07Y2FzZSAyOnIuc2VudCgpLHIubGFiZWw9MztjYXNlIDM6aWYoKyt0PHRoaXMuX2FycmF5Lmxlbmd0aCYmdGhpcy5fZ2V0S2V5KHRoaXMuX2FycmF5W3RdKT09PWUpcmV0dXJuWzMsMV07ci5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSkpfSxlLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXkudmFsdWVzKCl9LGUucHJvdG90eXBlLl9zZWFyY2g9ZnVuY3Rpb24oZSx0LHIpe2lmKHI8dClyZXR1cm4gdDt2YXIgaT1NYXRoLmZsb29yKCh0K3IpLzIpO2lmKHRoaXMuX2dldEtleSh0aGlzLl9hcnJheVtpXSk+ZSlyZXR1cm4gdGhpcy5fc2VhcmNoKGUsdCxpLTEpO2lmKHRoaXMuX2dldEtleSh0aGlzLl9hcnJheVtpXSk8ZSlyZXR1cm4gdGhpcy5fc2VhcmNoKGUsaSsxLHIpO2Zvcig7aT4wJiZ0aGlzLl9nZXRLZXkodGhpcy5fYXJyYXlbaS0xXSk9PT1lOylpLS07cmV0dXJuIGl9LGV9KCk7dC5Tb3J0ZWRMaXN0PWl9LDgyNzM6KGUsdCk9PntmdW5jdGlvbiByKGUsdCxyLGkpe2lmKHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWkmJihpPWUubGVuZ3RoKSxyPj1lLmxlbmd0aClyZXR1cm4gZTtyPShlLmxlbmd0aCtyKSVlLmxlbmd0aCxpPWk+PWUubGVuZ3RoP2UubGVuZ3RoOihlLmxlbmd0aCtpKSVlLmxlbmd0aDtmb3IodmFyIG49cjtuPGk7KytuKWVbbl09dDtyZXR1cm4gZX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbmNhdD10LmZpbGxGYWxsYmFjaz10LmZpbGw9dm9pZCAwLHQuZmlsbD1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gZS5maWxsP2UuZmlsbCh0LGksbik6cihlLHQsaSxuKX0sdC5maWxsRmFsbGJhY2s9cix0LmNvbmNhdD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBlLmNvbnN0cnVjdG9yKGUubGVuZ3RoK3QubGVuZ3RoKTtyZXR1cm4gci5zZXQoZSksci5zZXQodCxlLmxlbmd0aCkscn19LDkyODI6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQudXBkYXRlV2luZG93c01vZGVXcmFwcGVkU3RhdGU9dm9pZCAwO3ZhciBpPXIoNjQzKTt0LnVwZGF0ZVdpbmRvd3NNb2RlV3JhcHBlZFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYnVmZmVyLmxpbmVzLmdldChlLmJ1ZmZlci55YmFzZStlLmJ1ZmZlci55LTEpLHI9bnVsbD09dD92b2lkIDA6dC5nZXQoZS5jb2xzLTEpLG49ZS5idWZmZXIubGluZXMuZ2V0KGUuYnVmZmVyLnliYXNlK2UuYnVmZmVyLnkpO24mJnImJihuLmlzV3JhcHBlZD1yW2kuQ0hBUl9EQVRBX0NPREVfSU5ERVhdIT09aS5OVUxMX0NFTExfQ09ERSYmcltpLkNIQVJfREFUQV9DT0RFX0lOREVYXSE9PWkuV0hJVEVTUEFDRV9DRUxMX0NPREUpfX0sMzczNDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRXh0ZW5kZWRBdHRycz10LkF0dHJpYnV0ZURhdGE9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZmc9MCx0aGlzLmJnPTAsdGhpcy5leHRlbmRlZD1uZXcgaX1yZXR1cm4gZS50b0NvbG9yUkdCPWZ1bmN0aW9uKGUpe3JldHVybltlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZV19LGUuZnJvbUNvbG9yUkdCPWZ1bmN0aW9uKGUpe3JldHVybigyNTUmZVswXSk8PDE2fCgyNTUmZVsxXSk8PDh8MjU1JmVbMl19LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHQuZmc9dGhpcy5mZyx0LmJnPXRoaXMuYmcsdC5leHRlbmRlZD10aGlzLmV4dGVuZGVkLmNsb25lKCksdH0sZS5wcm90b3R5cGUuaXNJbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIDY3MTA4ODY0JnRoaXMuZmd9LGUucHJvdG90eXBlLmlzQm9sZD1mdW5jdGlvbigpe3JldHVybiAxMzQyMTc3MjgmdGhpcy5mZ30sZS5wcm90b3R5cGUuaXNVbmRlcmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gMjY4NDM1NDU2JnRoaXMuZmd9LGUucHJvdG90eXBlLmlzQmxpbms9ZnVuY3Rpb24oKXtyZXR1cm4gNTM2ODcwOTEyJnRoaXMuZmd9LGUucHJvdG90eXBlLmlzSW52aXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIDEwNzM3NDE4MjQmdGhpcy5mZ30sZS5wcm90b3R5cGUuaXNJdGFsaWM9ZnVuY3Rpb24oKXtyZXR1cm4gNjcxMDg4NjQmdGhpcy5iZ30sZS5wcm90b3R5cGUuaXNEaW09ZnVuY3Rpb24oKXtyZXR1cm4gMTM0MjE3NzI4JnRoaXMuYmd9LGUucHJvdG90eXBlLmlzU3RyaWtldGhyb3VnaD1mdW5jdGlvbigpe3JldHVybiAyMTQ3NDgzNjQ4JnRoaXMuZmd9LGUucHJvdG90eXBlLmdldEZnQ29sb3JNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwMzMxNjQ4JnRoaXMuZmd9LGUucHJvdG90eXBlLmdldEJnQ29sb3JNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwMzMxNjQ4JnRoaXMuYmd9LGUucHJvdG90eXBlLmlzRmdSR0I9ZnVuY3Rpb24oKXtyZXR1cm4gNTAzMzE2NDg9PSg1MDMzMTY0OCZ0aGlzLmZnKX0sZS5wcm90b3R5cGUuaXNCZ1JHQj1mdW5jdGlvbigpe3JldHVybiA1MDMzMTY0OD09KDUwMzMxNjQ4JnRoaXMuYmcpfSxlLnByb3RvdHlwZS5pc0ZnUGFsZXR0ZT1mdW5jdGlvbigpe3JldHVybiAxNjc3NzIxNj09KDUwMzMxNjQ4JnRoaXMuZmcpfHwzMzU1NDQzMj09KDUwMzMxNjQ4JnRoaXMuZmcpfSxlLnByb3RvdHlwZS5pc0JnUGFsZXR0ZT1mdW5jdGlvbigpe3JldHVybiAxNjc3NzIxNj09KDUwMzMxNjQ4JnRoaXMuYmcpfHwzMzU1NDQzMj09KDUwMzMxNjQ4JnRoaXMuYmcpfSxlLnByb3RvdHlwZS5pc0ZnRGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAwPT0oNTAzMzE2NDgmdGhpcy5mZyl9LGUucHJvdG90eXBlLmlzQmdEZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSg1MDMzMTY0OCZ0aGlzLmJnKX0sZS5wcm90b3R5cGUuaXNBdHRyaWJ1dGVEZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmZnJiYwPT09dGhpcy5iZ30sZS5wcm90b3R5cGUuZ2V0RmdDb2xvcj1mdW5jdGlvbigpe3N3aXRjaCg1MDMzMTY0OCZ0aGlzLmZnKXtjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6cmV0dXJuIDI1NSZ0aGlzLmZnO2Nhc2UgNTAzMzE2NDg6cmV0dXJuIDE2Nzc3MjE1JnRoaXMuZmc7ZGVmYXVsdDpyZXR1cm4tMX19LGUucHJvdG90eXBlLmdldEJnQ29sb3I9ZnVuY3Rpb24oKXtzd2l0Y2goNTAzMzE2NDgmdGhpcy5iZyl7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOnJldHVybiAyNTUmdGhpcy5iZztjYXNlIDUwMzMxNjQ4OnJldHVybiAxNjc3NzIxNSZ0aGlzLmJnO2RlZmF1bHQ6cmV0dXJuLTF9fSxlLnByb3RvdHlwZS5oYXNFeHRlbmRlZEF0dHJzPWZ1bmN0aW9uKCl7cmV0dXJuIDI2ODQzNTQ1NiZ0aGlzLmJnfSxlLnByb3RvdHlwZS51cGRhdGVFeHRlbmRlZD1mdW5jdGlvbigpe3RoaXMuZXh0ZW5kZWQuaXNFbXB0eSgpP3RoaXMuYmcmPS0yNjg0MzU0NTc6dGhpcy5iZ3w9MjY4NDM1NDU2fSxlLnByb3RvdHlwZS5nZXRVbmRlcmxpbmVDb2xvcj1mdW5jdGlvbigpe2lmKDI2ODQzNTQ1NiZ0aGlzLmJnJiZ+dGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcilzd2l0Y2goNTAzMzE2NDgmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcil7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOnJldHVybiAyNTUmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcjtjYXNlIDUwMzMxNjQ4OnJldHVybiAxNjc3NzIxNSZ0aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZ2V0RmdDb2xvcigpfXJldHVybiB0aGlzLmdldEZnQ29sb3IoKX0sZS5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lQ29sb3JNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIDI2ODQzNTQ1NiZ0aGlzLmJnJiZ+dGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcj81MDMzMTY0OCZ0aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yOnRoaXMuZ2V0RmdDb2xvck1vZGUoKX0sZS5wcm90b3R5cGUuaXNVbmRlcmxpbmVDb2xvclJHQj1mdW5jdGlvbigpe3JldHVybiAyNjg0MzU0NTYmdGhpcy5iZyYmfnRoaXMuZXh0ZW5kZWQudW5kZXJsaW5lQ29sb3I/NTAzMzE2NDg9PSg1MDMzMTY0OCZ0aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yKTp0aGlzLmlzRmdSR0IoKX0sZS5wcm90b3R5cGUuaXNVbmRlcmxpbmVDb2xvclBhbGV0dGU9ZnVuY3Rpb24oKXtyZXR1cm4gMjY4NDM1NDU2JnRoaXMuYmcmJn50aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yPzE2Nzc3MjE2PT0oNTAzMzE2NDgmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcil8fDMzNTU0NDMyPT0oNTAzMzE2NDgmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcik6dGhpcy5pc0ZnUGFsZXR0ZSgpfSxlLnByb3RvdHlwZS5pc1VuZGVybGluZUNvbG9yRGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAyNjg0MzU0NTYmdGhpcy5iZyYmfnRoaXMuZXh0ZW5kZWQudW5kZXJsaW5lQ29sb3I/MD09KDUwMzMxNjQ4JnRoaXMuZXh0ZW5kZWQudW5kZXJsaW5lQ29sb3IpOnRoaXMuaXNGZ0RlZmF1bHQoKX0sZS5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lU3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gMjY4NDM1NDU2JnRoaXMuZmc/MjY4NDM1NDU2JnRoaXMuYmc/dGhpcy5leHRlbmRlZC51bmRlcmxpbmVTdHlsZToxOjB9LGV9KCk7dC5BdHRyaWJ1dGVEYXRhPXI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09dCYmKHQ9LTEpLHRoaXMudW5kZXJsaW5lU3R5bGU9ZSx0aGlzLnVuZGVybGluZUNvbG9yPXR9cmV0dXJuIGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMudW5kZXJsaW5lU3R5bGUsdGhpcy51bmRlcmxpbmVDb2xvcil9LGUucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudW5kZXJsaW5lU3R5bGV9LGV9KCk7dC5FeHRlbmRlZEF0dHJzPWl9LDkwOTI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfSxuPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXx8ZnVuY3Rpb24oZSx0LHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgaSxuPTAsbz10Lmxlbmd0aDtuPG87bisrKSFpJiZuIGluIHR8fChpfHwoaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDAsbikpLGlbbl09dFtuXSk7cmV0dXJuIGUuY29uY2F0KGl8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CdWZmZXJTdHJpbmdJdGVyYXRvcj10LkJ1ZmZlcj10Lk1BWF9CVUZGRVJfU0laRT12b2lkIDA7dmFyIG89cig2MzQ5KSxzPXIoODQzNyksYT1yKDUxMSksYz1yKDY0MyksbD1yKDQ2MzQpLGg9cig0ODYzKSx1PXIoNzExNiksZj1yKDM3MzQpO3QuTUFYX0JVRkZFUl9TSVpFPTQyOTQ5NjcyOTU7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLl9oYXNTY3JvbGxiYWNrPWUsdGhpcy5fb3B0aW9uc1NlcnZpY2U9dCx0aGlzLl9idWZmZXJTZXJ2aWNlPXIsdGhpcy55ZGlzcD0wLHRoaXMueWJhc2U9MCx0aGlzLnk9MCx0aGlzLng9MCx0aGlzLnNhdmVkWT0wLHRoaXMuc2F2ZWRYPTAsdGhpcy5zYXZlZEN1ckF0dHJEYXRhPXMuREVGQVVMVF9BVFRSX0RBVEEuY2xvbmUoKSx0aGlzLnNhdmVkQ2hhcnNldD11LkRFRkFVTFRfQ0hBUlNFVCx0aGlzLm1hcmtlcnM9W10sdGhpcy5fbnVsbENlbGw9YS5DZWxsRGF0YS5mcm9tQ2hhckRhdGEoWzAsYy5OVUxMX0NFTExfQ0hBUixjLk5VTExfQ0VMTF9XSURUSCxjLk5VTExfQ0VMTF9DT0RFXSksdGhpcy5fd2hpdGVzcGFjZUNlbGw9YS5DZWxsRGF0YS5mcm9tQ2hhckRhdGEoWzAsYy5XSElURVNQQUNFX0NFTExfQ0hBUixjLldISVRFU1BBQ0VfQ0VMTF9XSURUSCxjLldISVRFU1BBQ0VfQ0VMTF9DT0RFXSksdGhpcy5faXNDbGVhcmluZz0hMSx0aGlzLl9jb2xzPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLl9yb3dzPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyx0aGlzLmxpbmVzPW5ldyBvLkNpcmN1bGFyTGlzdCh0aGlzLl9nZXRDb3JyZWN0QnVmZmVyTGVuZ3RoKHRoaXMuX3Jvd3MpKSx0aGlzLnNjcm9sbFRvcD0wLHRoaXMuc2Nyb2xsQm90dG9tPXRoaXMuX3Jvd3MtMSx0aGlzLnNldHVwVGFiU3RvcHMoKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TnVsbENlbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KHRoaXMuX251bGxDZWxsLmZnPWUuZmcsdGhpcy5fbnVsbENlbGwuYmc9ZS5iZyx0aGlzLl9udWxsQ2VsbC5leHRlbmRlZD1lLmV4dGVuZGVkKToodGhpcy5fbnVsbENlbGwuZmc9MCx0aGlzLl9udWxsQ2VsbC5iZz0wLHRoaXMuX251bGxDZWxsLmV4dGVuZGVkPW5ldyBmLkV4dGVuZGVkQXR0cnMpLHRoaXMuX251bGxDZWxsfSxlLnByb3RvdHlwZS5nZXRXaGl0ZXNwYWNlQ2VsbD1mdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5fd2hpdGVzcGFjZUNlbGwuZmc9ZS5mZyx0aGlzLl93aGl0ZXNwYWNlQ2VsbC5iZz1lLmJnLHRoaXMuX3doaXRlc3BhY2VDZWxsLmV4dGVuZGVkPWUuZXh0ZW5kZWQpOih0aGlzLl93aGl0ZXNwYWNlQ2VsbC5mZz0wLHRoaXMuX3doaXRlc3BhY2VDZWxsLmJnPTAsdGhpcy5fd2hpdGVzcGFjZUNlbGwuZXh0ZW5kZWQ9bmV3IGYuRXh0ZW5kZWRBdHRycyksdGhpcy5fd2hpdGVzcGFjZUNlbGx9LGUucHJvdG90eXBlLmdldEJsYW5rTGluZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcy5CdWZmZXJMaW5lKHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLmdldE51bGxDZWxsKGUpLHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYXNTY3JvbGxiYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNTY3JvbGxiYWNrJiZ0aGlzLmxpbmVzLm1heExlbmd0aD50aGlzLl9yb3dzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzQ3Vyc29ySW5WaWV3cG9ydFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnliYXNlK3RoaXMueS10aGlzLnlkaXNwO3JldHVybiBlPj0wJiZlPHRoaXMuX3Jvd3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2dldENvcnJlY3RCdWZmZXJMZW5ndGg9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2hhc1Njcm9sbGJhY2spcmV0dXJuIGU7dmFyIHI9ZSt0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLnNjcm9sbGJhY2s7cmV0dXJuIHI+dC5NQVhfQlVGRkVSX1NJWkU/dC5NQVhfQlVGRkVSX1NJWkU6cn0sZS5wcm90b3R5cGUuZmlsbFZpZXdwb3J0Um93cz1mdW5jdGlvbihlKXtpZigwPT09dGhpcy5saW5lcy5sZW5ndGgpe3ZvaWQgMD09PWUmJihlPXMuREVGQVVMVF9BVFRSX0RBVEEpO2Zvcih2YXIgdD10aGlzLl9yb3dzO3QtLTspdGhpcy5saW5lcy5wdXNoKHRoaXMuZ2V0QmxhbmtMaW5lKGUpKX19LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy55ZGlzcD0wLHRoaXMueWJhc2U9MCx0aGlzLnk9MCx0aGlzLng9MCx0aGlzLmxpbmVzPW5ldyBvLkNpcmN1bGFyTGlzdCh0aGlzLl9nZXRDb3JyZWN0QnVmZmVyTGVuZ3RoKHRoaXMuX3Jvd3MpKSx0aGlzLnNjcm9sbFRvcD0wLHRoaXMuc2Nyb2xsQm90dG9tPXRoaXMuX3Jvd3MtMSx0aGlzLnNldHVwVGFiU3RvcHMoKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXROdWxsQ2VsbChzLkRFRkFVTFRfQVRUUl9EQVRBKSxpPXRoaXMuX2dldENvcnJlY3RCdWZmZXJMZW5ndGgodCk7aWYoaT50aGlzLmxpbmVzLm1heExlbmd0aCYmKHRoaXMubGluZXMubWF4TGVuZ3RoPWkpLHRoaXMubGluZXMubGVuZ3RoPjApe2lmKHRoaXMuX2NvbHM8ZSlmb3IodmFyIG49MDtuPHRoaXMubGluZXMubGVuZ3RoO24rKyl0aGlzLmxpbmVzLmdldChuKS5yZXNpemUoZSxyKTt2YXIgbz0wO2lmKHRoaXMuX3Jvd3M8dClmb3IodmFyIGE9dGhpcy5fcm93czthPHQ7YSsrKXRoaXMubGluZXMubGVuZ3RoPHQrdGhpcy55YmFzZSYmKHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGU/dGhpcy5saW5lcy5wdXNoKG5ldyBzLkJ1ZmZlckxpbmUoZSxyKSk6dGhpcy55YmFzZT4wJiZ0aGlzLmxpbmVzLmxlbmd0aDw9dGhpcy55YmFzZSt0aGlzLnkrbysxPyh0aGlzLnliYXNlLS0sbysrLHRoaXMueWRpc3A+MCYmdGhpcy55ZGlzcC0tKTp0aGlzLmxpbmVzLnB1c2gobmV3IHMuQnVmZmVyTGluZShlLHIpKSk7ZWxzZSBmb3IoYT10aGlzLl9yb3dzO2E+dDthLS0pdGhpcy5saW5lcy5sZW5ndGg+dCt0aGlzLnliYXNlJiYodGhpcy5saW5lcy5sZW5ndGg+dGhpcy55YmFzZSt0aGlzLnkrMT90aGlzLmxpbmVzLnBvcCgpOih0aGlzLnliYXNlKyssdGhpcy55ZGlzcCsrKSk7aWYoaTx0aGlzLmxpbmVzLm1heExlbmd0aCl7dmFyIGM9dGhpcy5saW5lcy5sZW5ndGgtaTtjPjAmJih0aGlzLmxpbmVzLnRyaW1TdGFydChjKSx0aGlzLnliYXNlPU1hdGgubWF4KHRoaXMueWJhc2UtYywwKSx0aGlzLnlkaXNwPU1hdGgubWF4KHRoaXMueWRpc3AtYywwKSx0aGlzLnNhdmVkWT1NYXRoLm1heCh0aGlzLnNhdmVkWS1jLDApKSx0aGlzLmxpbmVzLm1heExlbmd0aD1pfXRoaXMueD1NYXRoLm1pbih0aGlzLngsZS0xKSx0aGlzLnk9TWF0aC5taW4odGhpcy55LHQtMSksbyYmKHRoaXMueSs9byksdGhpcy5zYXZlZFg9TWF0aC5taW4odGhpcy5zYXZlZFgsZS0xKSx0aGlzLnNjcm9sbFRvcD0wfWlmKHRoaXMuc2Nyb2xsQm90dG9tPXQtMSx0aGlzLl9pc1JlZmxvd0VuYWJsZWQmJih0aGlzLl9yZWZsb3coZSx0KSx0aGlzLl9jb2xzPmUpKWZvcihuPTA7bjx0aGlzLmxpbmVzLmxlbmd0aDtuKyspdGhpcy5saW5lcy5nZXQobikucmVzaXplKGUscik7dGhpcy5fY29scz1lLHRoaXMuX3Jvd3M9dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX2lzUmVmbG93RW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU2Nyb2xsYmFjayYmIXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3JlZmxvdz1mdW5jdGlvbihlLHQpe3RoaXMuX2NvbHMhPT1lJiYoZT50aGlzLl9jb2xzP3RoaXMuX3JlZmxvd0xhcmdlcihlLHQpOnRoaXMuX3JlZmxvd1NtYWxsZXIoZSx0KSl9LGUucHJvdG90eXBlLl9yZWZsb3dMYXJnZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oMCxsLnJlZmxvd0xhcmdlckdldExpbmVzVG9SZW1vdmUpKHRoaXMubGluZXMsdGhpcy5fY29scyxlLHRoaXMueWJhc2UrdGhpcy55LHRoaXMuZ2V0TnVsbENlbGwocy5ERUZBVUxUX0FUVFJfREFUQSkpO2lmKHIubGVuZ3RoPjApe3ZhciBpPSgwLGwucmVmbG93TGFyZ2VyQ3JlYXRlTmV3TGF5b3V0KSh0aGlzLmxpbmVzLHIpOygwLGwucmVmbG93TGFyZ2VyQXBwbHlOZXdMYXlvdXQpKHRoaXMubGluZXMsaS5sYXlvdXQpLHRoaXMuX3JlZmxvd0xhcmdlckFkanVzdFZpZXdwb3J0KGUsdCxpLmNvdW50UmVtb3ZlZCl9fSxlLnByb3RvdHlwZS5fcmVmbG93TGFyZ2VyQWRqdXN0Vmlld3BvcnQ9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT10aGlzLmdldE51bGxDZWxsKHMuREVGQVVMVF9BVFRSX0RBVEEpLG49cjtuLS0gPjA7KTA9PT10aGlzLnliYXNlPyh0aGlzLnk+MCYmdGhpcy55LS0sdGhpcy5saW5lcy5sZW5ndGg8dCYmdGhpcy5saW5lcy5wdXNoKG5ldyBzLkJ1ZmZlckxpbmUoZSxpKSkpOih0aGlzLnlkaXNwPT09dGhpcy55YmFzZSYmdGhpcy55ZGlzcC0tLHRoaXMueWJhc2UtLSk7dGhpcy5zYXZlZFk9TWF0aC5tYXgodGhpcy5zYXZlZFktciwwKX0sZS5wcm90b3R5cGUuX3JlZmxvd1NtYWxsZXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5nZXROdWxsQ2VsbChzLkRFRkFVTFRfQVRUUl9EQVRBKSxvPVtdLGE9MCxjPXRoaXMubGluZXMubGVuZ3RoLTE7Yz49MDtjLS0pe3ZhciBoPXRoaXMubGluZXMuZ2V0KGMpO2lmKCEoIWh8fCFoLmlzV3JhcHBlZCYmaC5nZXRUcmltbWVkTGVuZ3RoKCk8PWUpKXtmb3IodmFyIHU9W2hdO2guaXNXcmFwcGVkJiZjPjA7KWg9dGhpcy5saW5lcy5nZXQoLS1jKSx1LnVuc2hpZnQoaCk7dmFyIGY9dGhpcy55YmFzZSt0aGlzLnk7aWYoIShmPj1jJiZmPGMrdS5sZW5ndGgpKXt2YXIgXyxkPXVbdS5sZW5ndGgtMV0uZ2V0VHJpbW1lZExlbmd0aCgpLHA9KDAsbC5yZWZsb3dTbWFsbGVyR2V0TmV3TGluZUxlbmd0aHMpKHUsdGhpcy5fY29scyxlKSx2PXAubGVuZ3RoLXUubGVuZ3RoO189MD09PXRoaXMueWJhc2UmJnRoaXMueSE9PXRoaXMubGluZXMubGVuZ3RoLTE/TWF0aC5tYXgoMCx0aGlzLnktdGhpcy5saW5lcy5tYXhMZW5ndGgrdik6TWF0aC5tYXgoMCx0aGlzLmxpbmVzLmxlbmd0aC10aGlzLmxpbmVzLm1heExlbmd0aCt2KTtmb3IodmFyIHk9W10sZz0wO2c8djtnKyspe3ZhciBtPXRoaXMuZ2V0QmxhbmtMaW5lKHMuREVGQVVMVF9BVFRSX0RBVEEsITApO3kucHVzaChtKX15Lmxlbmd0aD4wJiYoby5wdXNoKHtzdGFydDpjK3UubGVuZ3RoK2EsbmV3TGluZXM6eX0pLGErPXkubGVuZ3RoKSx1LnB1c2guYXBwbHkodSxuKFtdLGkoeSksITEpKTt2YXIgYj1wLmxlbmd0aC0xLFM9cFtiXTswPT09UyYmKFM9cFstLWJdKTtmb3IodmFyIEM9dS5sZW5ndGgtdi0xLHc9ZDtDPj0wOyl7dmFyIEw9TWF0aC5taW4odyxTKTtpZih2b2lkIDA9PT11W2JdKWJyZWFrO2lmKHVbYl0uY29weUNlbGxzRnJvbSh1W0NdLHctTCxTLUwsTCwhMCksMD09KFMtPUwpJiYoUz1wWy0tYl0pLDA9PSh3LT1MKSl7Qy0tO3ZhciBFPU1hdGgubWF4KEMsMCk7dz0oMCxsLmdldFdyYXBwZWRMaW5lVHJpbW1lZExlbmd0aCkodSxFLHRoaXMuX2NvbHMpfX1mb3IoZz0wO2c8dS5sZW5ndGg7ZysrKXBbZ108ZSYmdVtnXS5zZXRDZWxsKHBbZ10scik7Zm9yKHZhciB4PXYtXzt4LS0gPjA7KTA9PT10aGlzLnliYXNlP3RoaXMueTx0LTE/KHRoaXMueSsrLHRoaXMubGluZXMucG9wKCkpOih0aGlzLnliYXNlKyssdGhpcy55ZGlzcCsrKTp0aGlzLnliYXNlPE1hdGgubWluKHRoaXMubGluZXMubWF4TGVuZ3RoLHRoaXMubGluZXMubGVuZ3RoK2EpLXQmJih0aGlzLnliYXNlPT09dGhpcy55ZGlzcCYmdGhpcy55ZGlzcCsrLHRoaXMueWJhc2UrKyk7dGhpcy5zYXZlZFk9TWF0aC5taW4odGhpcy5zYXZlZFkrdix0aGlzLnliYXNlK3QtMSl9fX1pZihvLmxlbmd0aD4wKXt2YXIgUj1bXSxrPVtdO2ZvcihnPTA7Zzx0aGlzLmxpbmVzLmxlbmd0aDtnKyspay5wdXNoKHRoaXMubGluZXMuZ2V0KGcpKTt2YXIgTT10aGlzLmxpbmVzLmxlbmd0aCxBPU0tMSxPPTAsRD1vW09dO3RoaXMubGluZXMubGVuZ3RoPU1hdGgubWluKHRoaXMubGluZXMubWF4TGVuZ3RoLHRoaXMubGluZXMubGVuZ3RoK2EpO3ZhciBUPTA7Zm9yKGc9TWF0aC5taW4odGhpcy5saW5lcy5tYXhMZW5ndGgtMSxNK2EtMSk7Zz49MDtnLS0paWYoRCYmRC5zdGFydD5BK1Qpe2Zvcih2YXIgQj1ELm5ld0xpbmVzLmxlbmd0aC0xO0I+PTA7Qi0tKXRoaXMubGluZXMuc2V0KGctLSxELm5ld0xpbmVzW0JdKTtnKyssUi5wdXNoKHtpbmRleDpBKzEsYW1vdW50OkQubmV3TGluZXMubGVuZ3RofSksVCs9RC5uZXdMaW5lcy5sZW5ndGgsRD1vWysrT119ZWxzZSB0aGlzLmxpbmVzLnNldChnLGtbQS0tXSk7dmFyIFA9MDtmb3IoZz1SLmxlbmd0aC0xO2c+PTA7Zy0tKVJbZ10uaW5kZXgrPVAsdGhpcy5saW5lcy5vbkluc2VydEVtaXR0ZXIuZmlyZShSW2ddKSxQKz1SW2ddLmFtb3VudDt2YXIgST1NYXRoLm1heCgwLE0rYS10aGlzLmxpbmVzLm1heExlbmd0aCk7ST4wJiZ0aGlzLmxpbmVzLm9uVHJpbUVtaXR0ZXIuZmlyZShJKX19LGUucHJvdG90eXBlLnN0cmluZ0luZGV4VG9CdWZmZXJJbmRleD1mdW5jdGlvbihlLHQscil7Zm9yKHZvaWQgMD09PXImJihyPSExKTt0Oyl7dmFyIGk9dGhpcy5saW5lcy5nZXQoZSk7aWYoIWkpcmV0dXJuWy0xLC0xXTtmb3IodmFyIG49cj9pLmdldFRyaW1tZWRMZW5ndGgoKTppLmxlbmd0aCxvPTA7bzxuOysrbylpZihpLmdldChvKVtjLkNIQVJfREFUQV9XSURUSF9JTkRFWF0mJih0LT1pLmdldChvKVtjLkNIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGh8fDEpLHQ8MClyZXR1cm5bZSxvXTtlKyt9cmV0dXJuW2UsMF19LGUucHJvdG90eXBlLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZz1mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1yJiYocj0wKTt2YXIgbj10aGlzLmxpbmVzLmdldChlKTtyZXR1cm4gbj9uLnRyYW5zbGF0ZVRvU3RyaW5nKHQscixpKTpcIlwifSxlLnByb3RvdHlwZS5nZXRXcmFwcGVkUmFuZ2VGb3JMaW5lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLHI9ZTt0PjAmJnRoaXMubGluZXMuZ2V0KHQpLmlzV3JhcHBlZDspdC0tO2Zvcig7cisxPHRoaXMubGluZXMubGVuZ3RoJiZ0aGlzLmxpbmVzLmdldChyKzEpLmlzV3JhcHBlZDspcisrO3JldHVybntmaXJzdDp0LGxhc3Q6cn19LGUucHJvdG90eXBlLnNldHVwVGFiU3RvcHM9ZnVuY3Rpb24oZSl7Zm9yKG51bGwhPWU/dGhpcy50YWJzW2VdfHwoZT10aGlzLnByZXZTdG9wKGUpKToodGhpcy50YWJzPXt9LGU9MCk7ZTx0aGlzLl9jb2xzO2UrPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMudGFiU3RvcFdpZHRoKXRoaXMudGFic1tlXT0hMH0sZS5wcm90b3R5cGUucHJldlN0b3A9ZnVuY3Rpb24oZSl7Zm9yKG51bGw9PWUmJihlPXRoaXMueCk7IXRoaXMudGFic1stLWVdJiZlPjA7KTtyZXR1cm4gZT49dGhpcy5fY29scz90aGlzLl9jb2xzLTE6ZTwwPzA6ZX0sZS5wcm90b3R5cGUubmV4dFN0b3A9ZnVuY3Rpb24oZSl7Zm9yKG51bGw9PWUmJihlPXRoaXMueCk7IXRoaXMudGFic1srK2VdJiZlPHRoaXMuX2NvbHM7KTtyZXR1cm4gZT49dGhpcy5fY29scz90aGlzLl9jb2xzLTE6ZTwwPzA6ZX0sZS5wcm90b3R5cGUuY2xlYXJNYXJrZXJzPWZ1bmN0aW9uKGUpe3RoaXMuX2lzQ2xlYXJpbmc9ITA7Zm9yKHZhciB0PTA7dDx0aGlzLm1hcmtlcnMubGVuZ3RoO3QrKyl0aGlzLm1hcmtlcnNbdF0ubGluZT09PWUmJih0aGlzLm1hcmtlcnNbdF0uZGlzcG9zZSgpLHRoaXMubWFya2Vycy5zcGxpY2UodC0tLDEpKTt0aGlzLl9pc0NsZWFyaW5nPSExfSxlLnByb3RvdHlwZS5jbGVhckFsbE1hcmtlcnM9ZnVuY3Rpb24oKXt0aGlzLl9pc0NsZWFyaW5nPSEwO2Zvcih2YXIgZT0wO2U8dGhpcy5tYXJrZXJzLmxlbmd0aDtlKyspdGhpcy5tYXJrZXJzW2VdLmRpc3Bvc2UoKSx0aGlzLm1hcmtlcnMuc3BsaWNlKGUtLSwxKTt0aGlzLl9pc0NsZWFyaW5nPSExfSxlLnByb3RvdHlwZS5hZGRNYXJrZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW5ldyBoLk1hcmtlcihlKTtyZXR1cm4gdGhpcy5tYXJrZXJzLnB1c2gociksci5yZWdpc3Rlcih0aGlzLmxpbmVzLm9uVHJpbSgoZnVuY3Rpb24oZSl7ci5saW5lLT1lLHIubGluZTwwJiZyLmRpc3Bvc2UoKX0pKSksci5yZWdpc3Rlcih0aGlzLmxpbmVzLm9uSW5zZXJ0KChmdW5jdGlvbihlKXtyLmxpbmU+PWUuaW5kZXgmJihyLmxpbmUrPWUuYW1vdW50KX0pKSksci5yZWdpc3Rlcih0aGlzLmxpbmVzLm9uRGVsZXRlKChmdW5jdGlvbihlKXtyLmxpbmU+PWUuaW5kZXgmJnIubGluZTxlLmluZGV4K2UuYW1vdW50JiZyLmRpc3Bvc2UoKSxyLmxpbmU+ZS5pbmRleCYmKHIubGluZS09ZS5hbW91bnQpfSkpKSxyLnJlZ2lzdGVyKHIub25EaXNwb3NlKChmdW5jdGlvbigpe3JldHVybiB0Ll9yZW1vdmVNYXJrZXIocil9KSkpLHJ9LGUucHJvdG90eXBlLl9yZW1vdmVNYXJrZXI9ZnVuY3Rpb24oZSl7dGhpcy5faXNDbGVhcmluZ3x8dGhpcy5tYXJrZXJzLnNwbGljZSh0aGlzLm1hcmtlcnMuaW5kZXhPZihlKSwxKX0sZS5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oZSx0LHIsaSxuKXtyZXR1cm4gbmV3IGQodGhpcyxlLHQscixpLG4pfSxlfSgpO3QuQnVmZmVyPV87dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvKXt2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1pJiYoaT1lLmxpbmVzLmxlbmd0aCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09byYmKG89MCksdGhpcy5fYnVmZmVyPWUsdGhpcy5fdHJpbVJpZ2h0PXQsdGhpcy5fc3RhcnRJbmRleD1yLHRoaXMuX2VuZEluZGV4PWksdGhpcy5fc3RhcnRPdmVyc2Nhbj1uLHRoaXMuX2VuZE92ZXJzY2FuPW8sdGhpcy5fc3RhcnRJbmRleDwwJiYodGhpcy5fc3RhcnRJbmRleD0wKSx0aGlzLl9lbmRJbmRleD50aGlzLl9idWZmZXIubGluZXMubGVuZ3RoJiYodGhpcy5fZW5kSW5kZXg9dGhpcy5fYnVmZmVyLmxpbmVzLmxlbmd0aCksdGhpcy5fY3VycmVudD10aGlzLl9zdGFydEluZGV4fXJldHVybiBlLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQ8dGhpcy5fZW5kSW5kZXh9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9idWZmZXIuZ2V0V3JhcHBlZFJhbmdlRm9yTGluZSh0aGlzLl9jdXJyZW50KTtlLmZpcnN0PHRoaXMuX3N0YXJ0SW5kZXgtdGhpcy5fc3RhcnRPdmVyc2NhbiYmKGUuZmlyc3Q9dGhpcy5fc3RhcnRJbmRleC10aGlzLl9zdGFydE92ZXJzY2FuKSxlLmxhc3Q+dGhpcy5fZW5kSW5kZXgrdGhpcy5fZW5kT3ZlcnNjYW4mJihlLmxhc3Q9dGhpcy5fZW5kSW5kZXgrdGhpcy5fZW5kT3ZlcnNjYW4pLGUuZmlyc3Q9TWF0aC5tYXgoZS5maXJzdCwwKSxlLmxhc3Q9TWF0aC5taW4oZS5sYXN0LHRoaXMuX2J1ZmZlci5saW5lcy5sZW5ndGgpO2Zvcih2YXIgdD1cIlwiLHI9ZS5maXJzdDtyPD1lLmxhc3Q7KytyKXQrPXRoaXMuX2J1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcocix0aGlzLl90cmltUmlnaHQpO3JldHVybiB0aGlzLl9jdXJyZW50PWUubGFzdCsxLHtyYW5nZTplLGNvbnRlbnQ6dH19LGV9KCk7dC5CdWZmZXJTdHJpbmdJdGVyYXRvcj1kfSw4NDM3OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkJ1ZmZlckxpbmU9dC5ERUZBVUxUX0FUVFJfREFUQT12b2lkIDA7dmFyIGk9cig0ODIpLG49cig2NDMpLG89cig1MTEpLHM9cigzNzM0KTt0LkRFRkFVTFRfQVRUUl9EQVRBPU9iamVjdC5mcmVlemUobmV3IHMuQXR0cmlidXRlRGF0YSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5pc1dyYXBwZWQ9cix0aGlzLl9jb21iaW5lZD17fSx0aGlzLl9leHRlbmRlZEF0dHJzPXt9LHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDMqZSk7Zm9yKHZhciBpPXR8fG8uQ2VsbERhdGEuZnJvbUNoYXJEYXRhKFswLG4uTlVMTF9DRUxMX0NIQVIsbi5OVUxMX0NFTExfV0lEVEgsbi5OVUxMX0NFTExfQ09ERV0pLHM9MDtzPGU7KytzKXRoaXMuc2V0Q2VsbChzLGkpO3RoaXMubGVuZ3RoPWV9cmV0dXJuIGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhWzMqZSswXSxyPTIwOTcxNTEmdDtyZXR1cm5bdGhpcy5fZGF0YVszKmUrMV0sMjA5NzE1MiZ0P3RoaXMuX2NvbWJpbmVkW2VdOnI/KDAsaS5zdHJpbmdGcm9tQ29kZVBvaW50KShyKTpcIlwiLHQ+PjIyLDIwOTcxNTImdD90aGlzLl9jb21iaW5lZFtlXS5jaGFyQ29kZUF0KHRoaXMuX2NvbWJpbmVkW2VdLmxlbmd0aC0xKTpyXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGF0YVszKmUrMV09dFtuLkNIQVJfREFUQV9BVFRSX0lOREVYXSx0W24uQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aD4xPyh0aGlzLl9jb21iaW5lZFtlXT10WzFdLHRoaXMuX2RhdGFbMyplKzBdPTIwOTcxNTJ8ZXx0W24uQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTw8MjIpOnRoaXMuX2RhdGFbMyplKzBdPXRbbi5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgwKXx0W24uQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTw8MjJ9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kYXRhWzMqZSswXT4+MjJ9LGUucHJvdG90eXBlLmhhc1dpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiAxMjU4MjkxMiZ0aGlzLl9kYXRhWzMqZSswXX0sZS5wcm90b3R5cGUuZ2V0Rmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFbMyplKzFdfSxlLnByb3RvdHlwZS5nZXRCZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVszKmUrMl19LGUucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIDQxOTQzMDMmdGhpcy5fZGF0YVszKmUrMF19LGUucHJvdG90eXBlLmdldENvZGVQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhWzMqZSswXTtyZXR1cm4gMjA5NzE1MiZ0P3RoaXMuX2NvbWJpbmVkW2VdLmNoYXJDb2RlQXQodGhpcy5fY29tYmluZWRbZV0ubGVuZ3RoLTEpOjIwOTcxNTEmdH0sZS5wcm90b3R5cGUuaXNDb21iaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gMjA5NzE1MiZ0aGlzLl9kYXRhWzMqZSswXX0sZS5wcm90b3R5cGUuZ2V0U3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGFbMyplKzBdO3JldHVybiAyMDk3MTUyJnQ/dGhpcy5fY29tYmluZWRbZV06MjA5NzE1MSZ0PygwLGkuc3RyaW5nRnJvbUNvZGVQb2ludCkoMjA5NzE1MSZ0KTpcIlwifSxlLnByb3RvdHlwZS5sb2FkQ2VsbD1mdW5jdGlvbihlLHQpe3ZhciByPTMqZTtyZXR1cm4gdC5jb250ZW50PXRoaXMuX2RhdGFbciswXSx0LmZnPXRoaXMuX2RhdGFbcisxXSx0LmJnPXRoaXMuX2RhdGFbcisyXSwyMDk3MTUyJnQuY29udGVudCYmKHQuY29tYmluZWREYXRhPXRoaXMuX2NvbWJpbmVkW2VdKSwyNjg0MzU0NTYmdC5iZyYmKHQuZXh0ZW5kZWQ9dGhpcy5fZXh0ZW5kZWRBdHRyc1tlXSksdH0sZS5wcm90b3R5cGUuc2V0Q2VsbD1mdW5jdGlvbihlLHQpezIwOTcxNTImdC5jb250ZW50JiYodGhpcy5fY29tYmluZWRbZV09dC5jb21iaW5lZERhdGEpLDI2ODQzNTQ1NiZ0LmJnJiYodGhpcy5fZXh0ZW5kZWRBdHRyc1tlXT10LmV4dGVuZGVkKSx0aGlzLl9kYXRhWzMqZSswXT10LmNvbnRlbnQsdGhpcy5fZGF0YVszKmUrMV09dC5mZyx0aGlzLl9kYXRhWzMqZSsyXT10LmJnfSxlLnByb3RvdHlwZS5zZXRDZWxsRnJvbUNvZGVQb2ludD1mdW5jdGlvbihlLHQscixpLG4sbyl7MjY4NDM1NDU2Jm4mJih0aGlzLl9leHRlbmRlZEF0dHJzW2VdPW8pLHRoaXMuX2RhdGFbMyplKzBdPXR8cjw8MjIsdGhpcy5fZGF0YVszKmUrMV09aSx0aGlzLl9kYXRhWzMqZSsyXT1ufSxlLnByb3RvdHlwZS5hZGRDb2RlcG9pbnRUb0NlbGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9kYXRhWzMqZSswXTsyMDk3MTUyJnI/dGhpcy5fY29tYmluZWRbZV0rPSgwLGkuc3RyaW5nRnJvbUNvZGVQb2ludCkodCk6KDIwOTcxNTEmcj8odGhpcy5fY29tYmluZWRbZV09KDAsaS5zdHJpbmdGcm9tQ29kZVBvaW50KSgyMDk3MTUxJnIpKygwLGkuc3RyaW5nRnJvbUNvZGVQb2ludCkodCksciY9LTIwOTcxNTIscnw9MjA5NzE1Mik6cj10fDE8PDIyLHRoaXMuX2RhdGFbMyplKzBdPXIpfSxlLnByb3RvdHlwZS5pbnNlcnRDZWxscz1mdW5jdGlvbihlLHQscixpKXtpZigoZSU9dGhpcy5sZW5ndGgpJiYyPT09dGhpcy5nZXRXaWR0aChlLTEpJiZ0aGlzLnNldENlbGxGcm9tQ29kZVBvaW50KGUtMSwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpLHQ8dGhpcy5sZW5ndGgtZSl7Zm9yKHZhciBuPW5ldyBvLkNlbGxEYXRhLGE9dGhpcy5sZW5ndGgtZS10LTE7YT49MDstLWEpdGhpcy5zZXRDZWxsKGUrdCthLHRoaXMubG9hZENlbGwoZSthLG4pKTtmb3IoYT0wO2E8dDsrK2EpdGhpcy5zZXRDZWxsKGUrYSxyKX1lbHNlIGZvcihhPWU7YTx0aGlzLmxlbmd0aDsrK2EpdGhpcy5zZXRDZWxsKGEscik7Mj09PXRoaXMuZ2V0V2lkdGgodGhpcy5sZW5ndGgtMSkmJnRoaXMuc2V0Q2VsbEZyb21Db2RlUG9pbnQodGhpcy5sZW5ndGgtMSwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpfSxlLnByb3RvdHlwZS5kZWxldGVDZWxscz1mdW5jdGlvbihlLHQscixpKXtpZihlJT10aGlzLmxlbmd0aCx0PHRoaXMubGVuZ3RoLWUpe2Zvcih2YXIgbj1uZXcgby5DZWxsRGF0YSxhPTA7YTx0aGlzLmxlbmd0aC1lLXQ7KythKXRoaXMuc2V0Q2VsbChlK2EsdGhpcy5sb2FkQ2VsbChlK3QrYSxuKSk7Zm9yKGE9dGhpcy5sZW5ndGgtdDthPHRoaXMubGVuZ3RoOysrYSl0aGlzLnNldENlbGwoYSxyKX1lbHNlIGZvcihhPWU7YTx0aGlzLmxlbmd0aDsrK2EpdGhpcy5zZXRDZWxsKGEscik7ZSYmMj09PXRoaXMuZ2V0V2lkdGgoZS0xKSYmdGhpcy5zZXRDZWxsRnJvbUNvZGVQb2ludChlLTEsMCwxLChudWxsPT1pP3ZvaWQgMDppLmZnKXx8MCwobnVsbD09aT92b2lkIDA6aS5iZyl8fDAsKG51bGw9PWk/dm9pZCAwOmkuZXh0ZW5kZWQpfHxuZXcgcy5FeHRlbmRlZEF0dHJzKSwwIT09dGhpcy5nZXRXaWR0aChlKXx8dGhpcy5oYXNDb250ZW50KGUpfHx0aGlzLnNldENlbGxGcm9tQ29kZVBvaW50KGUsMCwxLChudWxsPT1pP3ZvaWQgMDppLmZnKXx8MCwobnVsbD09aT92b2lkIDA6aS5iZyl8fDAsKG51bGw9PWk/dm9pZCAwOmkuZXh0ZW5kZWQpfHxuZXcgcy5FeHRlbmRlZEF0dHJzKX0sZS5wcm90b3R5cGUucmVwbGFjZUNlbGxzPWZ1bmN0aW9uKGUsdCxyLGkpe2ZvcihlJiYyPT09dGhpcy5nZXRXaWR0aChlLTEpJiZ0aGlzLnNldENlbGxGcm9tQ29kZVBvaW50KGUtMSwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpLHQ8dGhpcy5sZW5ndGgmJjI9PT10aGlzLmdldFdpZHRoKHQtMSkmJnRoaXMuc2V0Q2VsbEZyb21Db2RlUG9pbnQodCwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpO2U8dCYmZTx0aGlzLmxlbmd0aDspdGhpcy5zZXRDZWxsKGUrKyxyKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7aWYoZSE9PXRoaXMubGVuZ3RoKXtpZihlPnRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDMyQXJyYXkoMyplKTt0aGlzLmxlbmd0aCYmKDMqZTx0aGlzLl9kYXRhLmxlbmd0aD9yLnNldCh0aGlzLl9kYXRhLnN1YmFycmF5KDAsMyplKSk6ci5zZXQodGhpcy5fZGF0YSkpLHRoaXMuX2RhdGE9cjtmb3IodmFyIGk9dGhpcy5sZW5ndGg7aTxlOysraSl0aGlzLnNldENlbGwoaSx0KX1lbHNlIGlmKGUpeyhyPW5ldyBVaW50MzJBcnJheSgzKmUpKS5zZXQodGhpcy5fZGF0YS5zdWJhcnJheSgwLDMqZSkpLHRoaXMuX2RhdGE9cjt2YXIgbj1PYmplY3Qua2V5cyh0aGlzLl9jb21iaW5lZCk7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89cGFyc2VJbnQobltpXSwxMCk7bz49ZSYmZGVsZXRlIHRoaXMuX2NvbWJpbmVkW29dfX1lbHNlIHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDApLHRoaXMuX2NvbWJpbmVkPXt9O3RoaXMubGVuZ3RoPWV9fSxlLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbWJpbmVkPXt9LHRoaXMuX2V4dGVuZGVkQXR0cnM9e307Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDsrK3QpdGhpcy5zZXRDZWxsKHQsZSl9LGUucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLmxlbmd0aCE9PWUubGVuZ3RoP3RoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KGUuX2RhdGEpOnRoaXMuX2RhdGEuc2V0KGUuX2RhdGEpLHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuX2NvbWJpbmVkPXt9LGUuX2NvbWJpbmVkKXRoaXMuX2NvbWJpbmVkW3RdPWUuX2NvbWJpbmVkW3RdO2Zvcih2YXIgdCBpbiB0aGlzLl9leHRlbmRlZEF0dHJzPXt9LGUuX2V4dGVuZGVkQXR0cnMpdGhpcy5fZXh0ZW5kZWRBdHRyc1t0XT1lLl9leHRlbmRlZEF0dHJzW3RdO3RoaXMuaXNXcmFwcGVkPWUuaXNXcmFwcGVkfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBlKDApO2Zvcih2YXIgciBpbiB0Ll9kYXRhPW5ldyBVaW50MzJBcnJheSh0aGlzLl9kYXRhKSx0Lmxlbmd0aD10aGlzLmxlbmd0aCx0aGlzLl9jb21iaW5lZCl0Ll9jb21iaW5lZFtyXT10aGlzLl9jb21iaW5lZFtyXTtmb3IodmFyIHIgaW4gdGhpcy5fZXh0ZW5kZWRBdHRycyl0Ll9leHRlbmRlZEF0dHJzW3JdPXRoaXMuX2V4dGVuZGVkQXR0cnNbcl07cmV0dXJuIHQuaXNXcmFwcGVkPXRoaXMuaXNXcmFwcGVkLHR9LGUucHJvdG90eXBlLmdldFRyaW1tZWRMZW5ndGg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5sZW5ndGgtMTtlPj0wOy0tZSlpZig0MTk0MzAzJnRoaXMuX2RhdGFbMyplKzBdKXJldHVybiBlKyh0aGlzLl9kYXRhWzMqZSswXT4+MjIpO3JldHVybiAwfSxlLnByb3RvdHlwZS5jb3B5Q2VsbHNGcm9tPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG89ZS5fZGF0YTtpZihuKWZvcih2YXIgcz1pLTE7cz49MDtzLS0pZm9yKHZhciBhPTA7YTwzO2ErKyl0aGlzLl9kYXRhWzMqKHIrcykrYV09b1szKih0K3MpK2FdO2Vsc2UgZm9yKHM9MDtzPGk7cysrKWZvcihhPTA7YTwzO2ErKyl0aGlzLl9kYXRhWzMqKHIrcykrYV09b1szKih0K3MpK2FdO3ZhciBjPU9iamVjdC5rZXlzKGUuX2NvbWJpbmVkKTtmb3IoYT0wO2E8Yy5sZW5ndGg7YSsrKXt2YXIgbD1wYXJzZUludChjW2FdLDEwKTtsPj10JiYodGhpcy5fY29tYmluZWRbbC10K3JdPWUuX2NvbWJpbmVkW2xdKX19LGUucHJvdG90eXBlLnRyYW5zbGF0ZVRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ciYmKHI9dGhpcy5sZW5ndGgpLGUmJihyPU1hdGgubWluKHIsdGhpcy5nZXRUcmltbWVkTGVuZ3RoKCkpKTtmb3IodmFyIG89XCJcIjt0PHI7KXt2YXIgcz10aGlzLl9kYXRhWzMqdCswXSxhPTIwOTcxNTEmcztvKz0yMDk3MTUyJnM/dGhpcy5fY29tYmluZWRbdF06YT8oMCxpLnN0cmluZ0Zyb21Db2RlUG9pbnQpKGEpOm4uV0hJVEVTUEFDRV9DRUxMX0NIQVIsdCs9cz4+MjJ8fDF9cmV0dXJuIG99LGV9KCk7dC5CdWZmZXJMaW5lPWF9LDQ4NDE6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldFJhbmdlTGVuZ3RoPXZvaWQgMCx0LmdldFJhbmdlTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7aWYoZS5zdGFydC55PmUuZW5kLnkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyIHJhbmdlIGVuZCAoXCIrZS5lbmQueCtcIiwgXCIrZS5lbmQueStcIikgY2Fubm90IGJlIGJlZm9yZSBzdGFydCAoXCIrZS5zdGFydC54K1wiLCBcIitlLnN0YXJ0LnkrXCIpXCIpO3JldHVybiB0KihlLmVuZC55LWUuc3RhcnQueSkrKGUuZW5kLngtZS5zdGFydC54KzEpfX0sNDYzNDooZSx0KT0+e2Z1bmN0aW9uIHIoZSx0LHIpe2lmKHQ9PT1lLmxlbmd0aC0xKXJldHVybiBlW3RdLmdldFRyaW1tZWRMZW5ndGgoKTt2YXIgaT0hZVt0XS5oYXNDb250ZW50KHItMSkmJjE9PT1lW3RdLmdldFdpZHRoKHItMSksbj0yPT09ZVt0KzFdLmdldFdpZHRoKDApO3JldHVybiBpJiZuP3ItMTpyfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0V3JhcHBlZExpbmVUcmltbWVkTGVuZ3RoPXQucmVmbG93U21hbGxlckdldE5ld0xpbmVMZW5ndGhzPXQucmVmbG93TGFyZ2VyQXBwbHlOZXdMYXlvdXQ9dC5yZWZsb3dMYXJnZXJDcmVhdGVOZXdMYXlvdXQ9dC5yZWZsb3dMYXJnZXJHZXRMaW5lc1RvUmVtb3ZlPXZvaWQgMCx0LnJlZmxvd0xhcmdlckdldExpbmVzVG9SZW1vdmU9ZnVuY3Rpb24oZSx0LGksbixvKXtmb3IodmFyIHM9W10sYT0wO2E8ZS5sZW5ndGgtMTthKyspe3ZhciBjPWEsbD1lLmdldCgrK2MpO2lmKGwuaXNXcmFwcGVkKXtmb3IodmFyIGg9W2UuZ2V0KGEpXTtjPGUubGVuZ3RoJiZsLmlzV3JhcHBlZDspaC5wdXNoKGwpLGw9ZS5nZXQoKytjKTtpZihuPj1hJiZuPGMpYSs9aC5sZW5ndGgtMTtlbHNle2Zvcih2YXIgdT0wLGY9cihoLHUsdCksXz0xLGQ9MDtfPGgubGVuZ3RoOyl7dmFyIHA9cihoLF8sdCksdj1wLWQseT1pLWYsZz1NYXRoLm1pbih2LHkpO2hbdV0uY29weUNlbGxzRnJvbShoW19dLGQsZixnLCExKSwoZis9Zyk9PT1pJiYodSsrLGY9MCksKGQrPWcpPT09cCYmKF8rKyxkPTApLDA9PT1mJiYwIT09dSYmMj09PWhbdS0xXS5nZXRXaWR0aChpLTEpJiYoaFt1XS5jb3B5Q2VsbHNGcm9tKGhbdS0xXSxpLTEsZisrLDEsITEpLGhbdS0xXS5zZXRDZWxsKGktMSxvKSl9aFt1XS5yZXBsYWNlQ2VsbHMoZixpLG8pO2Zvcih2YXIgbT0wLGI9aC5sZW5ndGgtMTtiPjAmJihiPnV8fDA9PT1oW2JdLmdldFRyaW1tZWRMZW5ndGgoKSk7Yi0tKW0rKzttPjAmJihzLnB1c2goYStoLmxlbmd0aC1tKSxzLnB1c2gobSkpLGErPWgubGVuZ3RoLTF9fX1yZXR1cm4gc30sdC5yZWZsb3dMYXJnZXJDcmVhdGVOZXdMYXlvdXQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT0wLG49dFtpXSxvPTAscz0wO3M8ZS5sZW5ndGg7cysrKWlmKG49PT1zKXt2YXIgYT10WysraV07ZS5vbkRlbGV0ZUVtaXR0ZXIuZmlyZSh7aW5kZXg6cy1vLGFtb3VudDphfSkscys9YS0xLG8rPWEsbj10WysraV19ZWxzZSByLnB1c2gocyk7cmV0dXJue2xheW91dDpyLGNvdW50UmVtb3ZlZDpvfX0sdC5yZWZsb3dMYXJnZXJBcHBseU5ld0xheW91dD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspci5wdXNoKGUuZ2V0KHRbaV0pKTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKWUuc2V0KGkscltpXSk7ZS5sZW5ndGg9dC5sZW5ndGh9LHQucmVmbG93U21hbGxlckdldE5ld0xpbmVMZW5ndGhzPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49W10sbz1lLm1hcCgoZnVuY3Rpb24oaSxuKXtyZXR1cm4gcihlLG4sdCl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9KSkscz0wLGE9MCxjPTA7YzxvOyl7aWYoby1jPGkpe24ucHVzaChvLWMpO2JyZWFrfXMrPWk7dmFyIGw9cihlLGEsdCk7cz5sJiYocy09bCxhKyspO3ZhciBoPTI9PT1lW2FdLmdldFdpZHRoKHMtMSk7aCYmcy0tO3ZhciB1PWg/aS0xOmk7bi5wdXNoKHUpLGMrPXV9cmV0dXJuIG59LHQuZ2V0V3JhcHBlZExpbmVUcmltbWVkTGVuZ3RoPXJ9LDUyOTU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CdWZmZXJTZXQ9dm9pZCAwO3ZhciBvPXIoOTA5Mikscz1yKDg0NjApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fb3B0aW9uc1NlcnZpY2U9dCxpLl9idWZmZXJTZXJ2aWNlPXIsaS5fb25CdWZmZXJBY3RpdmF0ZT1pLnJlZ2lzdGVyKG5ldyBzLkV2ZW50RW1pdHRlciksaS5yZXNldCgpLGl9cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkJ1ZmZlckFjdGl2YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJ1ZmZlckFjdGl2YXRlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fbm9ybWFsPW5ldyBvLkJ1ZmZlcighMCx0aGlzLl9vcHRpb25zU2VydmljZSx0aGlzLl9idWZmZXJTZXJ2aWNlKSx0aGlzLl9ub3JtYWwuZmlsbFZpZXdwb3J0Um93cygpLHRoaXMuX2FsdD1uZXcgby5CdWZmZXIoITEsdGhpcy5fb3B0aW9uc1NlcnZpY2UsdGhpcy5fYnVmZmVyU2VydmljZSksdGhpcy5fYWN0aXZlQnVmZmVyPXRoaXMuX25vcm1hbCx0aGlzLl9vbkJ1ZmZlckFjdGl2YXRlLmZpcmUoe2FjdGl2ZUJ1ZmZlcjp0aGlzLl9ub3JtYWwsaW5hY3RpdmVCdWZmZXI6dGhpcy5fYWx0fSksdGhpcy5zZXR1cFRhYlN0b3BzKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFsdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWx0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQnVmZmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5vcm1hbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9ybWFsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFjdGl2YXRlTm9ybWFsQnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlQnVmZmVyIT09dGhpcy5fbm9ybWFsJiYodGhpcy5fbm9ybWFsLng9dGhpcy5fYWx0LngsdGhpcy5fbm9ybWFsLnk9dGhpcy5fYWx0LnksdGhpcy5fYWx0LmNsZWFyKCksdGhpcy5fYWN0aXZlQnVmZmVyPXRoaXMuX25vcm1hbCx0aGlzLl9vbkJ1ZmZlckFjdGl2YXRlLmZpcmUoe2FjdGl2ZUJ1ZmZlcjp0aGlzLl9ub3JtYWwsaW5hY3RpdmVCdWZmZXI6dGhpcy5fYWx0fSkpfSx0LnByb3RvdHlwZS5hY3RpdmF0ZUFsdEJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl9hY3RpdmVCdWZmZXIhPT10aGlzLl9hbHQmJih0aGlzLl9hbHQuZmlsbFZpZXdwb3J0Um93cyhlKSx0aGlzLl9hbHQueD10aGlzLl9ub3JtYWwueCx0aGlzLl9hbHQueT10aGlzLl9ub3JtYWwueSx0aGlzLl9hY3RpdmVCdWZmZXI9dGhpcy5fYWx0LHRoaXMuX29uQnVmZmVyQWN0aXZhdGUuZmlyZSh7YWN0aXZlQnVmZmVyOnRoaXMuX2FsdCxpbmFjdGl2ZUJ1ZmZlcjp0aGlzLl9ub3JtYWx9KSl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMuX25vcm1hbC5yZXNpemUoZSx0KSx0aGlzLl9hbHQucmVzaXplKGUsdCl9LHQucHJvdG90eXBlLnNldHVwVGFiU3RvcHM9ZnVuY3Rpb24oZSl7dGhpcy5fbm9ybWFsLnNldHVwVGFiU3RvcHMoZSksdGhpcy5fYWx0LnNldHVwVGFiU3RvcHMoZSl9LHR9KHIoODQ0KS5EaXNwb3NhYmxlKTt0LkJ1ZmZlclNldD1hfSw1MTE6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DZWxsRGF0YT12b2lkIDA7dmFyIG89cig0ODIpLHM9cig2NDMpLGE9cigzNzM0KSxjPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuY29udGVudD0wLHQuZmc9MCx0LmJnPTAsdC5leHRlbmRlZD1uZXcgYS5FeHRlbmRlZEF0dHJzLHQuY29tYmluZWREYXRhPVwiXCIsdH1yZXR1cm4gbih0LGUpLHQuZnJvbUNoYXJEYXRhPWZ1bmN0aW9uKGUpe3ZhciByPW5ldyB0O3JldHVybiByLnNldEZyb21DaGFyRGF0YShlKSxyfSx0LnByb3RvdHlwZS5pc0NvbWJpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDIwOTcxNTImdGhpcy5jb250ZW50fSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQ+PjIyfSx0LnByb3RvdHlwZS5nZXRDaGFycz1mdW5jdGlvbigpe3JldHVybiAyMDk3MTUyJnRoaXMuY29udGVudD90aGlzLmNvbWJpbmVkRGF0YToyMDk3MTUxJnRoaXMuY29udGVudD8oMCxvLnN0cmluZ0Zyb21Db2RlUG9pbnQpKDIwOTcxNTEmdGhpcy5jb250ZW50KTpcIlwifSx0LnByb3RvdHlwZS5nZXRDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNDb21iaW5lZCgpP3RoaXMuY29tYmluZWREYXRhLmNoYXJDb2RlQXQodGhpcy5jb21iaW5lZERhdGEubGVuZ3RoLTEpOjIwOTcxNTEmdGhpcy5jb250ZW50fSx0LnByb3RvdHlwZS5zZXRGcm9tQ2hhckRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5mZz1lW3MuQ0hBUl9EQVRBX0FUVFJfSU5ERVhdLHRoaXMuYmc9MDt2YXIgdD0hMTtpZihlW3MuQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aD4yKXQ9ITA7ZWxzZSBpZigyPT09ZVtzLkNIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGgpe3ZhciByPWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgwKTtpZig1NTI5Njw9ciYmcjw9NTYzMTkpe3ZhciBpPWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgxKTs1NjMyMDw9aSYmaTw9NTczNDM/dGhpcy5jb250ZW50PTEwMjQqKHItNTUyOTYpK2ktNTYzMjArNjU1MzZ8ZVtzLkNIQVJfREFUQV9XSURUSF9JTkRFWF08PDIyOnQ9ITB9ZWxzZSB0PSEwfWVsc2UgdGhpcy5jb250ZW50PWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgwKXxlW3MuQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTw8MjI7dCYmKHRoaXMuY29tYmluZWREYXRhPWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0sdGhpcy5jb250ZW50PTIwOTcxNTJ8ZVtzLkNIQVJfREFUQV9XSURUSF9JTkRFWF08PDIyKX0sdC5wcm90b3R5cGUuZ2V0QXNDaGFyRGF0YT1mdW5jdGlvbigpe3JldHVyblt0aGlzLmZnLHRoaXMuZ2V0Q2hhcnMoKSx0aGlzLmdldFdpZHRoKCksdGhpcy5nZXRDb2RlKCldfSx0fShhLkF0dHJpYnV0ZURhdGEpO3QuQ2VsbERhdGE9Y30sNjQzOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XSElURVNQQUNFX0NFTExfQ09ERT10LldISVRFU1BBQ0VfQ0VMTF9XSURUSD10LldISVRFU1BBQ0VfQ0VMTF9DSEFSPXQuTlVMTF9DRUxMX0NPREU9dC5OVUxMX0NFTExfV0lEVEg9dC5OVUxMX0NFTExfQ0hBUj10LkNIQVJfREFUQV9DT0RFX0lOREVYPXQuQ0hBUl9EQVRBX1dJRFRIX0lOREVYPXQuQ0hBUl9EQVRBX0NIQVJfSU5ERVg9dC5DSEFSX0RBVEFfQVRUUl9JTkRFWD10LkRFRkFVTFRfQVRUUj10LkRFRkFVTFRfQ09MT1I9dm9pZCAwLHQuREVGQVVMVF9DT0xPUj0yNTYsdC5ERUZBVUxUX0FUVFI9MjU2fHQuREVGQVVMVF9DT0xPUjw8OSx0LkNIQVJfREFUQV9BVFRSX0lOREVYPTAsdC5DSEFSX0RBVEFfQ0hBUl9JTkRFWD0xLHQuQ0hBUl9EQVRBX1dJRFRIX0lOREVYPTIsdC5DSEFSX0RBVEFfQ09ERV9JTkRFWD0zLHQuTlVMTF9DRUxMX0NIQVI9XCJcIix0Lk5VTExfQ0VMTF9XSURUSD0xLHQuTlVMTF9DRUxMX0NPREU9MCx0LldISVRFU1BBQ0VfQ0VMTF9DSEFSPVwiIFwiLHQuV0hJVEVTUEFDRV9DRUxMX1dJRFRIPTEsdC5XSElURVNQQUNFX0NFTExfQ09ERT0zMn0sNDg2MzpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1hcmtlcj12b2lkIDA7dmFyIG89cig4NDYwKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQocil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmxpbmU9cixpLl9pZD10Ll9uZXh0SWQrKyxpLmlzRGlzcG9zZWQ9ITEsaS5fb25EaXNwb3NlPW5ldyBvLkV2ZW50RW1pdHRlcixpfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uRGlzcG9zZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25EaXNwb3NlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcG9zZWR8fCh0aGlzLmlzRGlzcG9zZWQ9ITAsdGhpcy5saW5lPS0xLHRoaXMuX29uRGlzcG9zZS5maXJlKCksZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpKX0sdC5fbmV4dElkPTEsdH0ocig4NDQpLkRpc3Bvc2FibGUpO3QuTWFya2VyPXN9LDcxMTY6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRFRkFVTFRfQ0hBUlNFVD10LkNIQVJTRVRTPXZvaWQgMCx0LkNIQVJTRVRTPXt9LHQuREVGQVVMVF9DSEFSU0VUPXQuQ0hBUlNFVFMuQix0LkNIQVJTRVRTWzBdPXtcImBcIjpcIuKXhlwiLGE6XCLilpJcIixiOlwi4pCJXCIsYzpcIuKQjFwiLGQ6XCLikI1cIixlOlwi4pCKXCIsZjpcIsKwXCIsZzpcIsKxXCIsaDpcIuKQpFwiLGk6XCLikItcIixqOlwi4pSYXCIsazpcIuKUkFwiLGw6XCLilIxcIixtOlwi4pSUXCIsbjpcIuKUvFwiLG86XCLijrpcIixwOlwi4o67XCIscTpcIuKUgFwiLHI6XCLijrxcIixzOlwi4o69XCIsdDpcIuKUnFwiLHU6XCLilKRcIix2Olwi4pS0XCIsdzpcIuKUrFwiLHg6XCLilIJcIix5Olwi4omkXCIsejpcIuKJpVwiLFwie1wiOlwiz4BcIixcInxcIjpcIuKJoFwiLFwifVwiOlwiwqNcIixcIn5cIjpcIsK3XCJ9LHQuQ0hBUlNFVFMuQT17XCIjXCI6XCLCo1wifSx0LkNIQVJTRVRTLkI9dm9pZCAwLHQuQ0hBUlNFVFNbNF09e1wiI1wiOlwiwqNcIixcIkBcIjpcIsK+XCIsXCJbXCI6XCJpalwiLFwiXFxcXFwiOlwiwr1cIixcIl1cIjpcInxcIixcIntcIjpcIsKoXCIsXCJ8XCI6XCJmXCIsXCJ9XCI6XCLCvFwiLFwiflwiOlwiwrRcIn0sdC5DSEFSU0VUUy5DPXQuQ0hBUlNFVFNbNV09e1wiW1wiOlwiw4RcIixcIlxcXFxcIjpcIsOWXCIsXCJdXCI6XCLDhVwiLFwiXlwiOlwiw5xcIixcImBcIjpcIsOpXCIsXCJ7XCI6XCLDpFwiLFwifFwiOlwiw7ZcIixcIn1cIjpcIsOlXCIsXCJ+XCI6XCLDvFwifSx0LkNIQVJTRVRTLlI9e1wiI1wiOlwiwqNcIixcIkBcIjpcIsOgXCIsXCJbXCI6XCLCsFwiLFwiXFxcXFwiOlwiw6dcIixcIl1cIjpcIsKnXCIsXCJ7XCI6XCLDqVwiLFwifFwiOlwiw7lcIixcIn1cIjpcIsOoXCIsXCJ+XCI6XCLCqFwifSx0LkNIQVJTRVRTLlE9e1wiQFwiOlwiw6BcIixcIltcIjpcIsOiXCIsXCJcXFxcXCI6XCLDp1wiLFwiXVwiOlwiw6pcIixcIl5cIjpcIsOuXCIsXCJgXCI6XCLDtFwiLFwie1wiOlwiw6lcIixcInxcIjpcIsO5XCIsXCJ9XCI6XCLDqFwiLFwiflwiOlwiw7tcIn0sdC5DSEFSU0VUUy5LPXtcIkBcIjpcIsKnXCIsXCJbXCI6XCLDhFwiLFwiXFxcXFwiOlwiw5ZcIixcIl1cIjpcIsOcXCIsXCJ7XCI6XCLDpFwiLFwifFwiOlwiw7ZcIixcIn1cIjpcIsO8XCIsXCJ+XCI6XCLDn1wifSx0LkNIQVJTRVRTLlk9e1wiI1wiOlwiwqNcIixcIkBcIjpcIsKnXCIsXCJbXCI6XCLCsFwiLFwiXFxcXFwiOlwiw6dcIixcIl1cIjpcIsOpXCIsXCJgXCI6XCLDuVwiLFwie1wiOlwiw6BcIixcInxcIjpcIsOyXCIsXCJ9XCI6XCLDqFwiLFwiflwiOlwiw6xcIn0sdC5DSEFSU0VUUy5FPXQuQ0hBUlNFVFNbNl09e1wiQFwiOlwiw4RcIixcIltcIjpcIsOGXCIsXCJcXFxcXCI6XCLDmFwiLFwiXVwiOlwiw4VcIixcIl5cIjpcIsOcXCIsXCJgXCI6XCLDpFwiLFwie1wiOlwiw6ZcIixcInxcIjpcIsO4XCIsXCJ9XCI6XCLDpVwiLFwiflwiOlwiw7xcIn0sdC5DSEFSU0VUUy5aPXtcIiNcIjpcIsKjXCIsXCJAXCI6XCLCp1wiLFwiW1wiOlwiwqFcIixcIlxcXFxcIjpcIsORXCIsXCJdXCI6XCLCv1wiLFwie1wiOlwiwrBcIixcInxcIjpcIsOxXCIsXCJ9XCI6XCLDp1wifSx0LkNIQVJTRVRTLkg9dC5DSEFSU0VUU1s3XT17XCJAXCI6XCLDiVwiLFwiW1wiOlwiw4RcIixcIlxcXFxcIjpcIsOWXCIsXCJdXCI6XCLDhVwiLFwiXlwiOlwiw5xcIixcImBcIjpcIsOpXCIsXCJ7XCI6XCLDpFwiLFwifFwiOlwiw7ZcIixcIn1cIjpcIsOlXCIsXCJ+XCI6XCLDvFwifSx0LkNIQVJTRVRTW1wiPVwiXT17XCIjXCI6XCLDuVwiLFwiQFwiOlwiw6BcIixcIltcIjpcIsOpXCIsXCJcXFxcXCI6XCLDp1wiLFwiXVwiOlwiw6pcIixcIl5cIjpcIsOuXCIsXzpcIsOoXCIsXCJgXCI6XCLDtFwiLFwie1wiOlwiw6RcIixcInxcIjpcIsO2XCIsXCJ9XCI6XCLDvFwiLFwiflwiOlwiw7tcIn19LDI1ODQ6KGUsdCk9Pnt2YXIgcixpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQzFfRVNDQVBFRD10LkMxPXQuQzA9dm9pZCAwLGZ1bmN0aW9uKGUpe2UuTlVMPVwiXFwwXCIsZS5TT0g9XCJcdTAwMDFcIixlLlNUWD1cIlx1MDAwMlwiLGUuRVRYPVwiXHUwMDAzXCIsZS5FT1Q9XCJcdTAwMDRcIixlLkVOUT1cIlx1MDAwNVwiLGUuQUNLPVwiXHUwMDA2XCIsZS5CRUw9XCJcdTAwMDdcIixlLkJTPVwiXFxiXCIsZS5IVD1cIlxcdFwiLGUuTEY9XCJcXG5cIixlLlZUPVwiXFx2XCIsZS5GRj1cIlxcZlwiLGUuQ1I9XCJcXHJcIixlLlNPPVwiXHUwMDBlXCIsZS5TST1cIlx1MDAwZlwiLGUuRExFPVwiXHUwMDEwXCIsZS5EQzE9XCJcdTAwMTFcIixlLkRDMj1cIlx1MDAxMlwiLGUuREMzPVwiXHUwMDEzXCIsZS5EQzQ9XCJcdTAwMTRcIixlLk5BSz1cIlx1MDAxNVwiLGUuU1lOPVwiXHUwMDE2XCIsZS5FVEI9XCJcdTAwMTdcIixlLkNBTj1cIlx1MDAxOFwiLGUuRU09XCJcdTAwMTlcIixlLlNVQj1cIlx1MDAxYVwiLGUuRVNDPVwiXHUwMDFiXCIsZS5GUz1cIlx1MDAxY1wiLGUuR1M9XCJcdTAwMWRcIixlLlJTPVwiXHUwMDFlXCIsZS5VUz1cIlx1MDAxZlwiLGUuU1A9XCIgXCIsZS5ERUw9XCJ/XCJ9KHI9dC5DMHx8KHQuQzA9e30pKSwoaT10LkMxfHwodC5DMT17fSkpLlBBRD1cIsKAXCIsaS5IT1A9XCLCgVwiLGkuQlBIPVwiwoJcIixpLk5CSD1cIsKDXCIsaS5JTkQ9XCLChFwiLGkuTkVMPVwiwoVcIixpLlNTQT1cIsKGXCIsaS5FU0E9XCLCh1wiLGkuSFRTPVwiwohcIixpLkhUSj1cIsKJXCIsaS5WVFM9XCLCilwiLGkuUExEPVwiwotcIixpLlBMVT1cIsKMXCIsaS5SST1cIsKNXCIsaS5TUzI9XCLCjlwiLGkuU1MzPVwiwo9cIixpLkRDUz1cIsKQXCIsaS5QVTE9XCLCkVwiLGkuUFUyPVwiwpJcIixpLlNUUz1cIsKTXCIsaS5DQ0g9XCLClFwiLGkuTVc9XCLClVwiLGkuU1BBPVwiwpZcIixpLkVQQT1cIsKXXCIsaS5TT1M9XCLCmFwiLGkuU0dDST1cIsKZXCIsaS5TQ0k9XCLCmlwiLGkuQ1NJPVwiwptcIixpLlNUPVwiwpxcIixpLk9TQz1cIsKdXCIsaS5QTT1cIsKeXCIsaS5BUEM9XCLCn1wiLCh0LkMxX0VTQ0FQRUR8fCh0LkMxX0VTQ0FQRUQ9e30pKS5TVD1yLkVTQytcIlxcXFxcIn0sNzM5OTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ldmFsdWF0ZUtleWJvYXJkRXZlbnQ9dm9pZCAwO3ZhciBpPXIoMjU4NCksbj17NDg6W1wiMFwiLFwiKVwiXSw0OTpbXCIxXCIsXCIhXCJdLDUwOltcIjJcIixcIkBcIl0sNTE6W1wiM1wiLFwiI1wiXSw1MjpbXCI0XCIsXCIkXCJdLDUzOltcIjVcIixcIiVcIl0sNTQ6W1wiNlwiLFwiXlwiXSw1NTpbXCI3XCIsXCImXCJdLDU2OltcIjhcIixcIipcIl0sNTc6W1wiOVwiLFwiKFwiXSwxODY6W1wiO1wiLFwiOlwiXSwxODc6W1wiPVwiLFwiK1wiXSwxODg6W1wiLFwiLFwiPFwiXSwxODk6W1wiLVwiLFwiX1wiXSwxOTA6W1wiLlwiLFwiPlwiXSwxOTE6W1wiL1wiLFwiP1wiXSwxOTI6W1wiYFwiLFwiflwiXSwyMTk6W1wiW1wiLFwie1wiXSwyMjA6W1wiXFxcXFwiLFwifFwiXSwyMjE6W1wiXVwiLFwifVwiXSwyMjI6W1wiJ1wiLCdcIiddfTt0LmV2YWx1YXRlS2V5Ym9hcmRFdmVudD1mdW5jdGlvbihlLHQscixvKXt2YXIgcz17dHlwZTowLGNhbmNlbDohMSxrZXk6dm9pZCAwfSxhPShlLnNoaWZ0S2V5PzE6MCl8KGUuYWx0S2V5PzI6MCl8KGUuY3RybEtleT80OjApfChlLm1ldGFLZXk/ODowKTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDA6XCJVSUtleUlucHV0VXBBcnJvd1wiPT09ZS5rZXk/cy5rZXk9dD9pLkMwLkVTQytcIk9BXCI6aS5DMC5FU0MrXCJbQVwiOlwiVUlLZXlJbnB1dExlZnRBcnJvd1wiPT09ZS5rZXk/cy5rZXk9dD9pLkMwLkVTQytcIk9EXCI6aS5DMC5FU0MrXCJbRFwiOlwiVUlLZXlJbnB1dFJpZ2h0QXJyb3dcIj09PWUua2V5P3Mua2V5PXQ/aS5DMC5FU0MrXCJPQ1wiOmkuQzAuRVNDK1wiW0NcIjpcIlVJS2V5SW5wdXREb3duQXJyb3dcIj09PWUua2V5JiYocy5rZXk9dD9pLkMwLkVTQytcIk9CXCI6aS5DMC5FU0MrXCJbQlwiKTticmVhaztjYXNlIDg6aWYoZS5zaGlmdEtleSl7cy5rZXk9aS5DMC5CUzticmVha31pZihlLmFsdEtleSl7cy5rZXk9aS5DMC5FU0MraS5DMC5ERUw7YnJlYWt9cy5rZXk9aS5DMC5ERUw7YnJlYWs7Y2FzZSA5OmlmKGUuc2hpZnRLZXkpe3Mua2V5PWkuQzAuRVNDK1wiW1pcIjticmVha31zLmtleT1pLkMwLkhULHMuY2FuY2VsPSEwO2JyZWFrO2Nhc2UgMTM6cy5rZXk9ZS5hbHRLZXk/aS5DMC5FU0MraS5DMC5DUjppLkMwLkNSLHMuY2FuY2VsPSEwO2JyZWFrO2Nhc2UgMjc6cy5rZXk9aS5DMC5FU0MsZS5hbHRLZXkmJihzLmtleT1pLkMwLkVTQytpLkMwLkVTQykscy5jYW5jZWw9ITA7YnJlYWs7Y2FzZSAzNzppZihlLm1ldGFLZXkpYnJlYWs7YT8ocy5rZXk9aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkRcIixzLmtleT09PWkuQzAuRVNDK1wiWzE7M0RcIiYmKHMua2V5PWkuQzAuRVNDKyhyP1wiYlwiOlwiWzE7NURcIikpKTpzLmtleT10P2kuQzAuRVNDK1wiT0RcIjppLkMwLkVTQytcIltEXCI7YnJlYWs7Y2FzZSAzOTppZihlLm1ldGFLZXkpYnJlYWs7YT8ocy5rZXk9aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkNcIixzLmtleT09PWkuQzAuRVNDK1wiWzE7M0NcIiYmKHMua2V5PWkuQzAuRVNDKyhyP1wiZlwiOlwiWzE7NUNcIikpKTpzLmtleT10P2kuQzAuRVNDK1wiT0NcIjppLkMwLkVTQytcIltDXCI7YnJlYWs7Y2FzZSAzODppZihlLm1ldGFLZXkpYnJlYWs7YT8ocy5rZXk9aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkFcIixyfHxzLmtleSE9PWkuQzAuRVNDK1wiWzE7M0FcInx8KHMua2V5PWkuQzAuRVNDK1wiWzE7NUFcIikpOnMua2V5PXQ/aS5DMC5FU0MrXCJPQVwiOmkuQzAuRVNDK1wiW0FcIjticmVhaztjYXNlIDQwOmlmKGUubWV0YUtleSlicmVhazthPyhzLmtleT1pLkMwLkVTQytcIlsxO1wiKyhhKzEpK1wiQlwiLHJ8fHMua2V5IT09aS5DMC5FU0MrXCJbMTszQlwifHwocy5rZXk9aS5DMC5FU0MrXCJbMTs1QlwiKSk6cy5rZXk9dD9pLkMwLkVTQytcIk9CXCI6aS5DMC5FU0MrXCJbQlwiO2JyZWFrO2Nhc2UgNDU6ZS5zaGlmdEtleXx8ZS5jdHJsS2V5fHwocy5rZXk9aS5DMC5FU0MrXCJbMn5cIik7YnJlYWs7Y2FzZSA0NjpzLmtleT1hP2kuQzAuRVNDK1wiWzM7XCIrKGErMSkrXCJ+XCI6aS5DMC5FU0MrXCJbM35cIjticmVhaztjYXNlIDM2OnMua2V5PWE/aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkhcIjp0P2kuQzAuRVNDK1wiT0hcIjppLkMwLkVTQytcIltIXCI7YnJlYWs7Y2FzZSAzNTpzLmtleT1hP2kuQzAuRVNDK1wiWzE7XCIrKGErMSkrXCJGXCI6dD9pLkMwLkVTQytcIk9GXCI6aS5DMC5FU0MrXCJbRlwiO2JyZWFrO2Nhc2UgMzM6ZS5zaGlmdEtleT9zLnR5cGU9MjplLmN0cmxLZXk/cy5rZXk9aS5DMC5FU0MrXCJbNTtcIisoYSsxKStcIn5cIjpzLmtleT1pLkMwLkVTQytcIls1flwiO2JyZWFrO2Nhc2UgMzQ6ZS5zaGlmdEtleT9zLnR5cGU9MzplLmN0cmxLZXk/cy5rZXk9aS5DMC5FU0MrXCJbNjtcIisoYSsxKStcIn5cIjpzLmtleT1pLkMwLkVTQytcIls2flwiO2JyZWFrO2Nhc2UgMTEyOnMua2V5PWE/aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIlBcIjppLkMwLkVTQytcIk9QXCI7YnJlYWs7Y2FzZSAxMTM6cy5rZXk9YT9pLkMwLkVTQytcIlsxO1wiKyhhKzEpK1wiUVwiOmkuQzAuRVNDK1wiT1FcIjticmVhaztjYXNlIDExNDpzLmtleT1hP2kuQzAuRVNDK1wiWzE7XCIrKGErMSkrXCJSXCI6aS5DMC5FU0MrXCJPUlwiO2JyZWFrO2Nhc2UgMTE1OnMua2V5PWE/aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIlNcIjppLkMwLkVTQytcIk9TXCI7YnJlYWs7Y2FzZSAxMTY6cy5rZXk9YT9pLkMwLkVTQytcIlsxNTtcIisoYSsxKStcIn5cIjppLkMwLkVTQytcIlsxNX5cIjticmVhaztjYXNlIDExNzpzLmtleT1hP2kuQzAuRVNDK1wiWzE3O1wiKyhhKzEpK1wiflwiOmkuQzAuRVNDK1wiWzE3flwiO2JyZWFrO2Nhc2UgMTE4OnMua2V5PWE/aS5DMC5FU0MrXCJbMTg7XCIrKGErMSkrXCJ+XCI6aS5DMC5FU0MrXCJbMTh+XCI7YnJlYWs7Y2FzZSAxMTk6cy5rZXk9YT9pLkMwLkVTQytcIlsxOTtcIisoYSsxKStcIn5cIjppLkMwLkVTQytcIlsxOX5cIjticmVhaztjYXNlIDEyMDpzLmtleT1hP2kuQzAuRVNDK1wiWzIwO1wiKyhhKzEpK1wiflwiOmkuQzAuRVNDK1wiWzIwflwiO2JyZWFrO2Nhc2UgMTIxOnMua2V5PWE/aS5DMC5FU0MrXCJbMjE7XCIrKGErMSkrXCJ+XCI6aS5DMC5FU0MrXCJbMjF+XCI7YnJlYWs7Y2FzZSAxMjI6cy5rZXk9YT9pLkMwLkVTQytcIlsyMztcIisoYSsxKStcIn5cIjppLkMwLkVTQytcIlsyM35cIjticmVhaztjYXNlIDEyMzpzLmtleT1hP2kuQzAuRVNDK1wiWzI0O1wiKyhhKzEpK1wiflwiOmkuQzAuRVNDK1wiWzI0flwiO2JyZWFrO2RlZmF1bHQ6aWYoIWUuY3RybEtleXx8ZS5zaGlmdEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSlpZihyJiYhb3x8IWUuYWx0S2V5fHxlLm1ldGFLZXkpIXJ8fGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUuc2hpZnRLZXl8fCFlLm1ldGFLZXk/ZS5rZXkmJiFlLmN0cmxLZXkmJiFlLmFsdEtleSYmIWUubWV0YUtleSYmZS5rZXlDb2RlPj00OCYmMT09PWUua2V5Lmxlbmd0aD9zLmtleT1lLmtleTplLmtleSYmZS5jdHJsS2V5JiYoXCJfXCI9PT1lLmtleSYmKHMua2V5PWkuQzAuVVMpLFwiQFwiPT09ZS5rZXkmJihzLmtleT1pLkMwLk5VTCkpOjY1PT09ZS5rZXlDb2RlJiYocy50eXBlPTEpO2Vsc2V7dmFyIGM9bltlLmtleUNvZGVdLGw9bnVsbD09Yz92b2lkIDA6Y1tlLnNoaWZ0S2V5PzE6MF07aWYobClzLmtleT1pLkMwLkVTQytsO2Vsc2UgaWYoZS5rZXlDb2RlPj02NSYmZS5rZXlDb2RlPD05MCl7dmFyIGg9ZS5jdHJsS2V5P2Uua2V5Q29kZS02NDplLmtleUNvZGUrMzIsdT1TdHJpbmcuZnJvbUNoYXJDb2RlKGgpO2Uuc2hpZnRLZXkmJih1PXUudG9VcHBlckNhc2UoKSkscy5rZXk9aS5DMC5FU0MrdX1lbHNlXCJEZWFkXCI9PT1lLmtleSYmZS5jb2RlLnN0YXJ0c1dpdGgoXCJLZXlcIikmJih1PWUuY29kZS5zbGljZSgzLDQpLGUuc2hpZnRLZXl8fCh1PXUudG9Mb3dlckNhc2UoKSkscy5rZXk9aS5DMC5FU0MrdSxzLmNhbmNlbD0hMCl9ZWxzZSBlLmtleUNvZGU+PTY1JiZlLmtleUNvZGU8PTkwP3Mua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlLTY0KTozMj09PWUua2V5Q29kZT9zLmtleT1pLkMwLk5VTDplLmtleUNvZGU+PTUxJiZlLmtleUNvZGU8PTU1P3Mua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlLTUxKzI3KTo1Nj09PWUua2V5Q29kZT9zLmtleT1pLkMwLkRFTDoyMTk9PT1lLmtleUNvZGU/cy5rZXk9aS5DMC5FU0M6MjIwPT09ZS5rZXlDb2RlP3Mua2V5PWkuQzAuRlM6MjIxPT09ZS5rZXlDb2RlJiYocy5rZXk9aS5DMC5HUyl9cmV0dXJuIHN9fSw0ODI6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlV0ZjhUb1V0ZjMyPXQuU3RyaW5nVG9VdGYzMj10LnV0ZjMyVG9TdHJpbmc9dC5zdHJpbmdGcm9tQ29kZVBvaW50PXZvaWQgMCx0LnN0cmluZ0Zyb21Db2RlUG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+NjU1MzU/KGUtPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGU+PjEwKSkrU3RyaW5nLmZyb21DaGFyQ29kZShlJTEwMjQrNTYzMjApKTpTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSx0LnV0ZjMyVG9TdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PXImJihyPWUubGVuZ3RoKTtmb3IodmFyIGk9XCJcIixuPXQ7bjxyOysrbil7dmFyIG89ZVtuXTtvPjY1NTM1PyhvLT02NTUzNixpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2KyhvPj4xMCkpK1N0cmluZy5mcm9tQ2hhckNvZGUobyUxMDI0KzU2MzIwKSk6aSs9U3RyaW5nLmZyb21DaGFyQ29kZShvKX1yZXR1cm4gaX07dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5faW50ZXJpbT0wfXJldHVybiBlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2ludGVyaW09MH0sZS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGg7aWYoIXIpcmV0dXJuIDA7dmFyIGk9MCxuPTA7dGhpcy5faW50ZXJpbSYmKDU2MzIwPD0oYT1lLmNoYXJDb2RlQXQobisrKSkmJmE8PTU3MzQzP3RbaSsrXT0xMDI0Kih0aGlzLl9pbnRlcmltLTU1Mjk2KSthLTU2MzIwKzY1NTM2Oih0W2krK109dGhpcy5faW50ZXJpbSx0W2krK109YSksdGhpcy5faW50ZXJpbT0wKTtmb3IodmFyIG89bjtvPHI7KytvKXt2YXIgcz1lLmNoYXJDb2RlQXQobyk7aWYoNTUyOTY8PXMmJnM8PTU2MzE5KXtpZigrK28+PXIpcmV0dXJuIHRoaXMuX2ludGVyaW09cyxpO3ZhciBhOzU2MzIwPD0oYT1lLmNoYXJDb2RlQXQobykpJiZhPD01NzM0Mz90W2krK109MTAyNCoocy01NTI5NikrYS01NjMyMCs2NTUzNjoodFtpKytdPXMsdFtpKytdPWEpfWVsc2UgNjUyNzkhPT1zJiYodFtpKytdPXMpfXJldHVybiBpfSxlfSgpO3QuU3RyaW5nVG9VdGYzMj1yO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaW50ZXJpbT1uZXcgVWludDhBcnJheSgzKX1yZXR1cm4gZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmludGVyaW0uZmlsbCgwKX0sZS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGg7aWYoIXIpcmV0dXJuIDA7dmFyIGksbixvLHMsYT0wLGM9MCxsPTA7aWYodGhpcy5pbnRlcmltWzBdKXt2YXIgaD0hMSx1PXRoaXMuaW50ZXJpbVswXTt1Jj0xOTI9PSgyMjQmdSk/MzE6MjI0PT0oMjQwJnUpPzE1Ojc7Zm9yKHZhciBmPTAsXz12b2lkIDA7KF89NjMmdGhpcy5pbnRlcmltWysrZl0pJiZmPDQ7KXU8PD02LHV8PV87Zm9yKHZhciBkPTE5Mj09KDIyNCZ0aGlzLmludGVyaW1bMF0pPzI6MjI0PT0oMjQwJnRoaXMuaW50ZXJpbVswXSk/Mzo0LHA9ZC1mO2w8cDspe2lmKGw+PXIpcmV0dXJuIDA7aWYoMTI4IT0oMTkyJihfPWVbbCsrXSkpKXtsLS0saD0hMDticmVha310aGlzLmludGVyaW1bZisrXT1fLHU8PD02LHV8PTYzJl99aHx8KDI9PT1kP3U8MTI4P2wtLTp0W2ErK109dTozPT09ZD91PDIwNDh8fHU+PTU1Mjk2JiZ1PD01NzM0M3x8NjUyNzk9PT11fHwodFthKytdPXUpOnU8NjU1MzZ8fHU+MTExNDExMXx8KHRbYSsrXT11KSksdGhpcy5pbnRlcmltLmZpbGwoMCl9Zm9yKHZhciB2PXItNCx5PWw7eTxyOyl7Zm9yKDshKCEoeTx2KXx8MTI4JihpPWVbeV0pfHwxMjgmKG49ZVt5KzFdKXx8MTI4JihvPWVbeSsyXSl8fDEyOCYocz1lW3krM10pKTspdFthKytdPWksdFthKytdPW4sdFthKytdPW8sdFthKytdPXMseSs9NDtpZigoaT1lW3krK10pPDEyOCl0W2ErK109aTtlbHNlIGlmKDE5Mj09KDIyNCZpKSl7aWYoeT49cilyZXR1cm4gdGhpcy5pbnRlcmltWzBdPWksYTtpZigxMjghPSgxOTImKG49ZVt5KytdKSkpe3ktLTtjb250aW51ZX1pZigoYz0oMzEmaSk8PDZ8NjMmbik8MTI4KXt5LS07Y29udGludWV9dFthKytdPWN9ZWxzZSBpZigyMjQ9PSgyNDAmaSkpe2lmKHk+PXIpcmV0dXJuIHRoaXMuaW50ZXJpbVswXT1pLGE7aWYoMTI4IT0oMTkyJihuPWVbeSsrXSkpKXt5LS07Y29udGludWV9aWYoeT49cilyZXR1cm4gdGhpcy5pbnRlcmltWzBdPWksdGhpcy5pbnRlcmltWzFdPW4sYTtpZigxMjghPSgxOTImKG89ZVt5KytdKSkpe3ktLTtjb250aW51ZX1pZigoYz0oMTUmaSk8PDEyfCg2MyZuKTw8Nnw2MyZvKTwyMDQ4fHxjPj01NTI5NiYmYzw9NTczNDN8fDY1Mjc5PT09Yyljb250aW51ZTt0W2ErK109Y31lbHNlIGlmKDI0MD09KDI0OCZpKSl7aWYoeT49cilyZXR1cm4gdGhpcy5pbnRlcmltWzBdPWksYTtpZigxMjghPSgxOTImKG49ZVt5KytdKSkpe3ktLTtjb250aW51ZX1pZih5Pj1yKXJldHVybiB0aGlzLmludGVyaW1bMF09aSx0aGlzLmludGVyaW1bMV09bixhO2lmKDEyOCE9KDE5MiYobz1lW3krK10pKSl7eS0tO2NvbnRpbnVlfWlmKHk+PXIpcmV0dXJuIHRoaXMuaW50ZXJpbVswXT1pLHRoaXMuaW50ZXJpbVsxXT1uLHRoaXMuaW50ZXJpbVsyXT1vLGE7aWYoMTI4IT0oMTkyJihzPWVbeSsrXSkpKXt5LS07Y29udGludWV9aWYoKGM9KDcmaSk8PDE4fCg2MyZuKTw8MTJ8KDYzJm8pPDw2fDYzJnMpPDY1NTM2fHxjPjExMTQxMTEpY29udGludWU7dFthKytdPWN9fXJldHVybiBhfSxlfSgpO3QuVXRmOFRvVXRmMzI9aX0sMjI1OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlVuaWNvZGVWNj12b2lkIDA7dmFyIGksbj1yKDgyNzMpLG89W1s3NjgsODc5XSxbMTE1NSwxMTU4XSxbMTE2MCwxMTYxXSxbMTQyNSwxNDY5XSxbMTQ3MSwxNDcxXSxbMTQ3MywxNDc0XSxbMTQ3NiwxNDc3XSxbMTQ3OSwxNDc5XSxbMTUzNiwxNTM5XSxbMTU1MiwxNTU3XSxbMTYxMSwxNjMwXSxbMTY0OCwxNjQ4XSxbMTc1MCwxNzY0XSxbMTc2NywxNzY4XSxbMTc3MCwxNzczXSxbMTgwNywxODA3XSxbMTgwOSwxODA5XSxbMTg0MCwxODY2XSxbMTk1OCwxOTY4XSxbMjAyNywyMDM1XSxbMjMwNSwyMzA2XSxbMjM2NCwyMzY0XSxbMjM2OSwyMzc2XSxbMjM4MSwyMzgxXSxbMjM4NSwyMzg4XSxbMjQwMiwyNDAzXSxbMjQzMywyNDMzXSxbMjQ5MiwyNDkyXSxbMjQ5NywyNTAwXSxbMjUwOSwyNTA5XSxbMjUzMCwyNTMxXSxbMjU2MSwyNTYyXSxbMjYyMCwyNjIwXSxbMjYyNSwyNjI2XSxbMjYzMSwyNjMyXSxbMjYzNSwyNjM3XSxbMjY3MiwyNjczXSxbMjY4OSwyNjkwXSxbMjc0OCwyNzQ4XSxbMjc1MywyNzU3XSxbMjc1OSwyNzYwXSxbMjc2NSwyNzY1XSxbMjc4NiwyNzg3XSxbMjgxNywyODE3XSxbMjg3NiwyODc2XSxbMjg3OSwyODc5XSxbMjg4MSwyODgzXSxbMjg5MywyODkzXSxbMjkwMiwyOTAyXSxbMjk0NiwyOTQ2XSxbMzAwOCwzMDA4XSxbMzAyMSwzMDIxXSxbMzEzNCwzMTM2XSxbMzE0MiwzMTQ0XSxbMzE0NiwzMTQ5XSxbMzE1NywzMTU4XSxbMzI2MCwzMjYwXSxbMzI2MywzMjYzXSxbMzI3MCwzMjcwXSxbMzI3NiwzMjc3XSxbMzI5OCwzMjk5XSxbMzM5MywzMzk1XSxbMzQwNSwzNDA1XSxbMzUzMCwzNTMwXSxbMzUzOCwzNTQwXSxbMzU0MiwzNTQyXSxbMzYzMywzNjMzXSxbMzYzNiwzNjQyXSxbMzY1NSwzNjYyXSxbMzc2MSwzNzYxXSxbMzc2NCwzNzY5XSxbMzc3MSwzNzcyXSxbMzc4NCwzNzg5XSxbMzg2NCwzODY1XSxbMzg5MywzODkzXSxbMzg5NSwzODk1XSxbMzg5NywzODk3XSxbMzk1MywzOTY2XSxbMzk2OCwzOTcyXSxbMzk3NCwzOTc1XSxbMzk4NCwzOTkxXSxbMzk5Myw0MDI4XSxbNDAzOCw0MDM4XSxbNDE0MSw0MTQ0XSxbNDE0Niw0MTQ2XSxbNDE1MCw0MTUxXSxbNDE1Myw0MTUzXSxbNDE4NCw0MTg1XSxbNDQ0OCw0NjA3XSxbNDk1OSw0OTU5XSxbNTkwNiw1OTA4XSxbNTkzOCw1OTQwXSxbNTk3MCw1OTcxXSxbNjAwMiw2MDAzXSxbNjA2OCw2MDY5XSxbNjA3MSw2MDc3XSxbNjA4Niw2MDg2XSxbNjA4OSw2MDk5XSxbNjEwOSw2MTA5XSxbNjE1NSw2MTU3XSxbNjMxMyw2MzEzXSxbNjQzMiw2NDM0XSxbNjQzOSw2NDQwXSxbNjQ1MCw2NDUwXSxbNjQ1Nyw2NDU5XSxbNjY3OSw2NjgwXSxbNjkxMiw2OTE1XSxbNjk2NCw2OTY0XSxbNjk2Niw2OTcwXSxbNjk3Miw2OTcyXSxbNjk3OCw2OTc4XSxbNzAxOSw3MDI3XSxbNzYxNiw3NjI2XSxbNzY3OCw3Njc5XSxbODIwMyw4MjA3XSxbODIzNCw4MjM4XSxbODI4OCw4MjkxXSxbODI5OCw4MzAzXSxbODQwMCw4NDMxXSxbMTIzMzAsMTIzMzVdLFsxMjQ0MSwxMjQ0Ml0sWzQzMDE0LDQzMDE0XSxbNDMwMTksNDMwMTldLFs0MzA0NSw0MzA0Nl0sWzY0Mjg2LDY0Mjg2XSxbNjUwMjQsNjUwMzldLFs2NTA1Niw2NTA1OV0sWzY1Mjc5LDY1Mjc5XSxbNjU1MjksNjU1MzFdXSxzPVtbNjgwOTcsNjgwOTldLFs2ODEwMSw2ODEwMl0sWzY4MTA4LDY4MTExXSxbNjgxNTIsNjgxNTRdLFs2ODE1OSw2ODE1OV0sWzExOTE0MywxMTkxNDVdLFsxMTkxNTUsMTE5MTcwXSxbMTE5MTczLDExOTE3OV0sWzExOTIxMCwxMTkyMTNdLFsxMTkzNjIsMTE5MzY0XSxbOTE3NTA1LDkxNzUwNV0sWzkxNzUzNiw5MTc2MzFdLFs5MTc3NjAsOTE3OTk5XV0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZih0aGlzLnZlcnNpb249XCI2XCIsIWkpe2k9bmV3IFVpbnQ4QXJyYXkoNjU1MzYpLCgwLG4uZmlsbCkoaSwxKSxpWzBdPTAsKDAsbi5maWxsKShpLDAsMSwzMiksKDAsbi5maWxsKShpLDAsMTI3LDE2MCksKDAsbi5maWxsKShpLDIsNDM1Miw0NDQ4KSxpWzkwMDFdPTIsaVs5MDAyXT0yLCgwLG4uZmlsbCkoaSwyLDExOTA0LDQyMTkyKSxpWzEyMzUxXT0xLCgwLG4uZmlsbCkoaSwyLDQ0MDMyLDU1MjA0KSwoMCxuLmZpbGwpKGksMiw2Mzc0NCw2NDI1NiksKDAsbi5maWxsKShpLDIsNjUwNDAsNjUwNTApLCgwLG4uZmlsbCkoaSwyLDY1MDcyLDY1MTM2KSwoMCxuLmZpbGwpKGksMiw2NTI4MCw2NTM3NyksKDAsbi5maWxsKShpLDIsNjU1MDQsNjU1MTEpO2Zvcih2YXIgZT0wO2U8by5sZW5ndGg7KytlKSgwLG4uZmlsbCkoaSwwLG9bZV1bMF0sb1tlXVsxXSsxKX19cmV0dXJuIGUucHJvdG90eXBlLndjd2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MzI/MDplPDEyNz8xOmU8NjU1MzY/aVtlXTpmdW5jdGlvbihlLHQpe3ZhciByLGk9MCxuPXQubGVuZ3RoLTE7aWYoZTx0WzBdWzBdfHxlPnRbbl1bMV0pcmV0dXJuITE7Zm9yKDtuPj1pOylpZihlPnRbcj1pK24+PjFdWzFdKWk9cisxO2Vsc2V7aWYoIShlPHRbcl1bMF0pKXJldHVybiEwO249ci0xfXJldHVybiExfShlLHMpPzA6ZT49MTMxMDcyJiZlPD0xOTY2MDV8fGU+PTE5NjYwOCYmZTw9MjYyMTQxPzI6MX0sZX0oKTt0LlVuaWNvZGVWNj1hfSw1OTgxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LldyaXRlQnVmZmVyPXZvaWQgMDt2YXIgaT1yKDg0NjApLG49XCJ1bmRlZmluZWRcIj09dHlwZW9mIHF1ZXVlTWljcm90YXNrP2Z1bmN0aW9uKGUpe1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oZSl9OnF1ZXVlTWljcm90YXNrLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2FjdGlvbj1lLHRoaXMuX3dyaXRlQnVmZmVyPVtdLHRoaXMuX2NhbGxiYWNrcz1bXSx0aGlzLl9wZW5kaW5nRGF0YT0wLHRoaXMuX2J1ZmZlck9mZnNldD0wLHRoaXMuX2lzU3luY1dyaXRpbmc9ITEsdGhpcy5fc3luY0NhbGxzPTAsdGhpcy5fb25Xcml0ZVBhcnNlZD1uZXcgaS5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uV3JpdGVQYXJzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uV3JpdGVQYXJzZWQuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUud3JpdGVTeW5jPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCYmdGhpcy5fc3luY0NhbGxzPnQpdGhpcy5fc3luY0NhbGxzPTA7ZWxzZSBpZih0aGlzLl9wZW5kaW5nRGF0YSs9ZS5sZW5ndGgsdGhpcy5fd3JpdGVCdWZmZXIucHVzaChlKSx0aGlzLl9jYWxsYmFja3MucHVzaCh2b2lkIDApLHRoaXMuX3N5bmNDYWxscysrLCF0aGlzLl9pc1N5bmNXcml0aW5nKXt2YXIgcjtmb3IodGhpcy5faXNTeW5jV3JpdGluZz0hMDtyPXRoaXMuX3dyaXRlQnVmZmVyLnNoaWZ0KCk7KXt0aGlzLl9hY3Rpb24ocik7dmFyIGk9dGhpcy5fY2FsbGJhY2tzLnNoaWZ0KCk7aSYmaSgpfXRoaXMuX3BlbmRpbmdEYXRhPTAsdGhpcy5fYnVmZmVyT2Zmc2V0PTIxNDc0ODM2NDcsdGhpcy5faXNTeW5jV3JpdGluZz0hMSx0aGlzLl9zeW5jQ2FsbHM9MH19LGUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLl9wZW5kaW5nRGF0YT41ZTcpdGhyb3cgbmV3IEVycm9yKFwid3JpdGUgZGF0YSBkaXNjYXJkZWQsIHVzZSBmbG93IGNvbnRyb2wgdG8gYXZvaWQgbG9zaW5nIGRhdGFcIik7dGhpcy5fd3JpdGVCdWZmZXIubGVuZ3RofHwodGhpcy5fYnVmZmVyT2Zmc2V0PTAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gci5faW5uZXJXcml0ZSgpfSkpKSx0aGlzLl9wZW5kaW5nRGF0YSs9ZS5sZW5ndGgsdGhpcy5fd3JpdGVCdWZmZXIucHVzaChlKSx0aGlzLl9jYWxsYmFja3MucHVzaCh0KX0sZS5wcm90b3R5cGUuX2lubmVyV3JpdGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXQmJih0PSEwKTtmb3IodmFyIGk9ZXx8RGF0ZS5ub3coKTt0aGlzLl93cml0ZUJ1ZmZlci5sZW5ndGg+dGhpcy5fYnVmZmVyT2Zmc2V0Oyl7dmFyIG89dGhpcy5fd3JpdGVCdWZmZXJbdGhpcy5fYnVmZmVyT2Zmc2V0XSxzPXRoaXMuX2FjdGlvbihvLHQpO2lmKHMpcmV0dXJuIHZvaWQgcy5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4oKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKSxQcm9taXNlLnJlc29sdmUoITEpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBEYXRlLm5vdygpLWk+PTEyP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuX2lubmVyV3JpdGUoMCxlKX0pKTpyLl9pbm5lcldyaXRlKGksZSl9KSk7dmFyIGE9dGhpcy5fY2FsbGJhY2tzW3RoaXMuX2J1ZmZlck9mZnNldF07aWYoYSYmYSgpLHRoaXMuX2J1ZmZlck9mZnNldCsrLHRoaXMuX3BlbmRpbmdEYXRhLT1vLmxlbmd0aCxEYXRlLm5vdygpLWk+PTEyKWJyZWFrfXRoaXMuX3dyaXRlQnVmZmVyLmxlbmd0aD50aGlzLl9idWZmZXJPZmZzZXQ/KHRoaXMuX2J1ZmZlck9mZnNldD41MCYmKHRoaXMuX3dyaXRlQnVmZmVyPXRoaXMuX3dyaXRlQnVmZmVyLnNsaWNlKHRoaXMuX2J1ZmZlck9mZnNldCksdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5zbGljZSh0aGlzLl9idWZmZXJPZmZzZXQpLHRoaXMuX2J1ZmZlck9mZnNldD0wKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiByLl9pbm5lcldyaXRlKCl9KSkpOih0aGlzLl93cml0ZUJ1ZmZlci5sZW5ndGg9MCx0aGlzLl9jYWxsYmFja3MubGVuZ3RoPTAsdGhpcy5fcGVuZGluZ0RhdGE9MCx0aGlzLl9idWZmZXJPZmZzZXQ9MCksdGhpcy5fb25Xcml0ZVBhcnNlZC5maXJlKCl9LGV9KCk7dC5Xcml0ZUJ1ZmZlcj1vfSw1OTQxOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3JlYWR8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIGksbixvPXIuY2FsbChlKSxzPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKGk9by5uZXh0KCkpLmRvbmU7KXMucHVzaChpLnZhbHVlKX1jYXRjaChlKXtuPXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19cmV0dXJuIHN9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQudG9SZ2JTdHJpbmc9dC5wYXJzZUNvbG9yPXZvaWQgMDt2YXIgaT0vXihbXFxkYS1mXSlcXC8oW1xcZGEtZl0pXFwvKFtcXGRhLWZdKSR8XihbXFxkYS1mXXsyfSlcXC8oW1xcZGEtZl17Mn0pXFwvKFtcXGRhLWZdezJ9KSR8XihbXFxkYS1mXXszfSlcXC8oW1xcZGEtZl17M30pXFwvKFtcXGRhLWZdezN9KSR8XihbXFxkYS1mXXs0fSlcXC8oW1xcZGEtZl17NH0pXFwvKFtcXGRhLWZdezR9KSQvLG49L15bXFxkYS1mXSskLztmdW5jdGlvbiBvKGUsdCl7dmFyIHI9ZS50b1N0cmluZygxNiksaT1yLmxlbmd0aDwyP1wiMFwiK3I6cjtzd2l0Y2godCl7Y2FzZSA0OnJldHVybiByWzBdO2Nhc2UgODpyZXR1cm4gaTtjYXNlIDEyOnJldHVybihpK2kpLnNsaWNlKDAsMyk7ZGVmYXVsdDpyZXR1cm4gaStpfX10LnBhcnNlQ29sb3I9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9ZS50b0xvd2VyQ2FzZSgpO2lmKDA9PT10LmluZGV4T2YoXCJyZ2I6XCIpKXt0PXQuc2xpY2UoNCk7dmFyIHI9aS5leGVjKHQpO2lmKHIpe3ZhciBvPXJbMV0/MTU6cls0XT8yNTU6cls3XT80MDk1OjY1NTM1O3JldHVybltNYXRoLnJvdW5kKHBhcnNlSW50KHJbMV18fHJbNF18fHJbN118fHJbMTBdLDE2KS9vKjI1NSksTWF0aC5yb3VuZChwYXJzZUludChyWzJdfHxyWzVdfHxyWzhdfHxyWzExXSwxNikvbyoyNTUpLE1hdGgucm91bmQocGFyc2VJbnQoclszXXx8cls2XXx8cls5XXx8clsxMl0sMTYpL28qMjU1KV19fWVsc2UgaWYoMD09PXQuaW5kZXhPZihcIiNcIikmJih0PXQuc2xpY2UoMSksbi5leGVjKHQpJiZbMyw2LDksMTJdLmluY2x1ZGVzKHQubGVuZ3RoKSkpe2Zvcih2YXIgcz10Lmxlbmd0aC8zLGE9WzAsMCwwXSxjPTA7YzwzOysrYyl7dmFyIGw9cGFyc2VJbnQodC5zbGljZShzKmMscypjK3MpLDE2KTthW2NdPTE9PT1zP2w8PDQ6Mj09PXM/bDozPT09cz9sPj40Omw+Pjh9cmV0dXJuIGF9fX0sdC50b1JnYlN0cmluZz1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTE2KTt2YXIgaT1yKGUsMyksbj1pWzBdLHM9aVsxXSxhPWlbMl07cmV0dXJuXCJyZ2I6XCIrbyhuLHQpK1wiL1wiK28ocyx0KStcIi9cIitvKGEsdCl9fSw1NzcwOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QQVlMT0FEX0xJTUlUPXZvaWQgMCx0LlBBWUxPQURfTElNSVQ9MWU3fSw2MzUxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRjc0hhbmRsZXI9dC5EY3NQYXJzZXI9dm9pZCAwO3ZhciBpPXIoNDgyKSxuPXIoODc0Miksbz1yKDU3NzApLHM9W10sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9oYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FjdGl2ZT1zLHRoaXMuX2lkZW50PTAsdGhpcy5faGFuZGxlckZiPWZ1bmN0aW9uKCl7fSx0aGlzLl9zdGFjaz17cGF1c2VkOiExLGxvb3BQb3NpdGlvbjowLGZhbGxUaHJvdWdoOiExfX1yZXR1cm4gZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2hhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5faGFuZGxlckZiPWZ1bmN0aW9uKCl7fSx0aGlzLl9hY3RpdmU9c30sZS5wcm90b3R5cGUucmVnaXN0ZXJIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dGhpcy5faGFuZGxlcnNbZV0mJih0aGlzLl9oYW5kbGVyc1tlXT1bXSk7dmFyIHI9dGhpcy5faGFuZGxlcnNbZV07cmV0dXJuIHIucHVzaCh0KSx7ZGlzcG9zZTpmdW5jdGlvbigpe3ZhciBlPXIuaW5kZXhPZih0KTstMSE9PWUmJnIuc3BsaWNlKGUsMSl9fX0sZS5wcm90b3R5cGUuY2xlYXJIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZXJzW2VdJiZkZWxldGUgdGhpcy5faGFuZGxlcnNbZV19LGUucHJvdG90eXBlLnNldEhhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9oYW5kbGVyRmI9ZX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmUubGVuZ3RoKWZvcih2YXIgZT10aGlzLl9zdGFjay5wYXVzZWQ/dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTE6dGhpcy5fYWN0aXZlLmxlbmd0aC0xO2U+PTA7LS1lKXRoaXMuX2FjdGl2ZVtlXS51bmhvb2soITEpO3RoaXMuX3N0YWNrLnBhdXNlZD0hMSx0aGlzLl9hY3RpdmU9cyx0aGlzLl9pZGVudD0wfSxlLnByb3RvdHlwZS5ob29rPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5yZXNldCgpLHRoaXMuX2lkZW50PWUsdGhpcy5fYWN0aXZlPXRoaXMuX2hhbmRsZXJzW2VdfHxzLHRoaXMuX2FjdGl2ZS5sZW5ndGgpZm9yKHZhciByPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMTtyPj0wO3ItLSl0aGlzLl9hY3RpdmVbcl0uaG9vayh0KTtlbHNlIHRoaXMuX2hhbmRsZXJGYih0aGlzLl9pZGVudCxcIkhPT0tcIix0KX0sZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLl9hY3RpdmUubGVuZ3RoKWZvcih2YXIgbj10aGlzLl9hY3RpdmUubGVuZ3RoLTE7bj49MDtuLS0pdGhpcy5fYWN0aXZlW25dLnB1dChlLHQscik7ZWxzZSB0aGlzLl9oYW5kbGVyRmIodGhpcy5faWRlbnQsXCJQVVRcIiwoMCxpLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSl9LGUucHJvdG90eXBlLnVuaG9vaz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSEwKSx0aGlzLl9hY3RpdmUubGVuZ3RoKXt2YXIgcj0hMSxpPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMSxuPSExO2lmKHRoaXMuX3N0YWNrLnBhdXNlZCYmKGk9dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTEscj10LG49dGhpcy5fc3RhY2suZmFsbFRocm91Z2gsdGhpcy5fc3RhY2sucGF1c2VkPSExKSwhbiYmITE9PT1yKXtmb3IoO2k+PTAmJiEwIT09KHI9dGhpcy5fYWN0aXZlW2ldLnVuaG9vayhlKSk7aS0tKWlmKHIgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9zdGFjay5wYXVzZWQ9ITAsdGhpcy5fc3RhY2subG9vcFBvc2l0aW9uPWksdGhpcy5fc3RhY2suZmFsbFRocm91Z2g9ITEscjtpLS19Zm9yKDtpPj0wO2ktLSlpZigocj10aGlzLl9hY3RpdmVbaV0udW5ob29rKCExKSlpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3N0YWNrLnBhdXNlZD0hMCx0aGlzLl9zdGFjay5sb29wUG9zaXRpb249aSx0aGlzLl9zdGFjay5mYWxsVGhyb3VnaD0hMCxyfWVsc2UgdGhpcy5faGFuZGxlckZiKHRoaXMuX2lkZW50LFwiVU5IT09LXCIsZSk7dGhpcy5fYWN0aXZlPXMsdGhpcy5faWRlbnQ9MH0sZX0oKTt0LkRjc1BhcnNlcj1hO3ZhciBjPW5ldyBuLlBhcmFtcztjLmFkZFBhcmFtKDApO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9oYW5kbGVyPWUsdGhpcy5fZGF0YT1cIlwiLHRoaXMuX3BhcmFtcz1jLHRoaXMuX2hpdExpbWl0PSExfXJldHVybiBlLnByb3RvdHlwZS5ob29rPWZ1bmN0aW9uKGUpe3RoaXMuX3BhcmFtcz1lLmxlbmd0aD4xfHxlLnBhcmFtc1swXT9lLmNsb25lKCk6Yyx0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITF9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7dGhpcy5faGl0TGltaXR8fCh0aGlzLl9kYXRhKz0oMCxpLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSx0aGlzLl9kYXRhLmxlbmd0aD5vLlBBWUxPQURfTElNSVQmJih0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITApKX0sZS5wcm90b3R5cGUudW5ob29rPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0hMTtpZih0aGlzLl9oaXRMaW1pdClyPSExO2Vsc2UgaWYoZSYmKHI9dGhpcy5faGFuZGxlcih0aGlzLl9kYXRhLHRoaXMuX3BhcmFtcykpaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiByLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9wYXJhbXM9Yyx0Ll9kYXRhPVwiXCIsdC5faGl0TGltaXQ9ITEsZX0pKTtyZXR1cm4gdGhpcy5fcGFyYW1zPWMsdGhpcy5fZGF0YT1cIlwiLHRoaXMuX2hpdExpbWl0PSExLHJ9LGV9KCk7dC5EY3NIYW5kbGVyPWx9LDIwMTU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Fc2NhcGVTZXF1ZW5jZVBhcnNlcj10LlZUNTAwX1RSQU5TSVRJT05fVEFCTEU9dC5UcmFuc2l0aW9uVGFibGU9dm9pZCAwO3ZhciBvPXIoODQ0KSxzPXIoODI3MyksYT1yKDg3NDIpLGM9cig2MjQyKSxsPXIoNjM1MSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy50YWJsZT1uZXcgVWludDhBcnJheShlKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0RGVmYXVsdD1mdW5jdGlvbihlLHQpeygwLHMuZmlsbCkodGhpcy50YWJsZSxlPDw0fHQpfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy50YWJsZVt0PDw4fGVdPXI8PDR8aX0sZS5wcm90b3R5cGUuYWRkTWFueT1mdW5jdGlvbihlLHQscixpKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLnRhYmxlW3Q8PDh8ZVtuXV09cjw8NHxpfSxlfSgpO3QuVHJhbnNpdGlvblRhYmxlPWg7dmFyIHU9MTYwO3QuVlQ1MDBfVFJBTlNJVElPTl9UQUJMRT1mdW5jdGlvbigpe3ZhciBlPW5ldyBoKDQwOTUpLHQ9QXJyYXkuYXBwbHkobnVsbCxBcnJheSgyNTYpKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSkscj1mdW5jdGlvbihlLHIpe3JldHVybiB0LnNsaWNlKGUscil9LGk9cigzMiwxMjcpLG49cigwLDI0KTtuLnB1c2goMjUpLG4ucHVzaC5hcHBseShuLHIoMjgsMzIpKTt2YXIgbyxzPXIoMCwxNCk7Zm9yKG8gaW4gZS5zZXREZWZhdWx0KDEsMCksZS5hZGRNYW55KGksMCwyLDApLHMpZS5hZGRNYW55KFsyNCwyNiwxNTMsMTU0XSxvLDMsMCksZS5hZGRNYW55KHIoMTI4LDE0NCksbywzLDApLGUuYWRkTWFueShyKDE0NCwxNTIpLG8sMywwKSxlLmFkZCgxNTYsbywwLDApLGUuYWRkKDI3LG8sMTEsMSksZS5hZGQoMTU3LG8sNCw4KSxlLmFkZE1hbnkoWzE1MiwxNTgsMTU5XSxvLDAsNyksZS5hZGQoMTU1LG8sMTEsMyksZS5hZGQoMTQ0LG8sMTEsOSk7cmV0dXJuIGUuYWRkTWFueShuLDAsMywwKSxlLmFkZE1hbnkobiwxLDMsMSksZS5hZGQoMTI3LDEsMCwxKSxlLmFkZE1hbnkobiw4LDAsOCksZS5hZGRNYW55KG4sMywzLDMpLGUuYWRkKDEyNywzLDAsMyksZS5hZGRNYW55KG4sNCwzLDQpLGUuYWRkKDEyNyw0LDAsNCksZS5hZGRNYW55KG4sNiwzLDYpLGUuYWRkTWFueShuLDUsMyw1KSxlLmFkZCgxMjcsNSwwLDUpLGUuYWRkTWFueShuLDIsMywyKSxlLmFkZCgxMjcsMiwwLDIpLGUuYWRkKDkzLDEsNCw4KSxlLmFkZE1hbnkoaSw4LDUsOCksZS5hZGQoMTI3LDgsNSw4KSxlLmFkZE1hbnkoWzE1NiwyNywyNCwyNiw3XSw4LDYsMCksZS5hZGRNYW55KHIoMjgsMzIpLDgsMCw4KSxlLmFkZE1hbnkoWzg4LDk0LDk1XSwxLDAsNyksZS5hZGRNYW55KGksNywwLDcpLGUuYWRkTWFueShuLDcsMCw3KSxlLmFkZCgxNTYsNywwLDApLGUuYWRkKDEyNyw3LDAsNyksZS5hZGQoOTEsMSwxMSwzKSxlLmFkZE1hbnkocig2NCwxMjcpLDMsNywwKSxlLmFkZE1hbnkocig0OCw2MCksMyw4LDQpLGUuYWRkTWFueShbNjAsNjEsNjIsNjNdLDMsOSw0KSxlLmFkZE1hbnkocig0OCw2MCksNCw4LDQpLGUuYWRkTWFueShyKDY0LDEyNyksNCw3LDApLGUuYWRkTWFueShbNjAsNjEsNjIsNjNdLDQsMCw2KSxlLmFkZE1hbnkocigzMiw2NCksNiwwLDYpLGUuYWRkKDEyNyw2LDAsNiksZS5hZGRNYW55KHIoNjQsMTI3KSw2LDAsMCksZS5hZGRNYW55KHIoMzIsNDgpLDMsOSw1KSxlLmFkZE1hbnkocigzMiw0OCksNSw5LDUpLGUuYWRkTWFueShyKDQ4LDY0KSw1LDAsNiksZS5hZGRNYW55KHIoNjQsMTI3KSw1LDcsMCksZS5hZGRNYW55KHIoMzIsNDgpLDQsOSw1KSxlLmFkZE1hbnkocigzMiw0OCksMSw5LDIpLGUuYWRkTWFueShyKDMyLDQ4KSwyLDksMiksZS5hZGRNYW55KHIoNDgsMTI3KSwyLDEwLDApLGUuYWRkTWFueShyKDQ4LDgwKSwxLDEwLDApLGUuYWRkTWFueShyKDgxLDg4KSwxLDEwLDApLGUuYWRkTWFueShbODksOTAsOTJdLDEsMTAsMCksZS5hZGRNYW55KHIoOTYsMTI3KSwxLDEwLDApLGUuYWRkKDgwLDEsMTEsOSksZS5hZGRNYW55KG4sOSwwLDkpLGUuYWRkKDEyNyw5LDAsOSksZS5hZGRNYW55KHIoMjgsMzIpLDksMCw5KSxlLmFkZE1hbnkocigzMiw0OCksOSw5LDEyKSxlLmFkZE1hbnkocig0OCw2MCksOSw4LDEwKSxlLmFkZE1hbnkoWzYwLDYxLDYyLDYzXSw5LDksMTApLGUuYWRkTWFueShuLDExLDAsMTEpLGUuYWRkTWFueShyKDMyLDEyOCksMTEsMCwxMSksZS5hZGRNYW55KHIoMjgsMzIpLDExLDAsMTEpLGUuYWRkTWFueShuLDEwLDAsMTApLGUuYWRkKDEyNywxMCwwLDEwKSxlLmFkZE1hbnkocigyOCwzMiksMTAsMCwxMCksZS5hZGRNYW55KHIoNDgsNjApLDEwLDgsMTApLGUuYWRkTWFueShbNjAsNjEsNjIsNjNdLDEwLDAsMTEpLGUuYWRkTWFueShyKDMyLDQ4KSwxMCw5LDEyKSxlLmFkZE1hbnkobiwxMiwwLDEyKSxlLmFkZCgxMjcsMTIsMCwxMiksZS5hZGRNYW55KHIoMjgsMzIpLDEyLDAsMTIpLGUuYWRkTWFueShyKDMyLDQ4KSwxMiw5LDEyKSxlLmFkZE1hbnkocig0OCw2NCksMTIsMCwxMSksZS5hZGRNYW55KHIoNjQsMTI3KSwxMiwxMiwxMyksZS5hZGRNYW55KHIoNjQsMTI3KSwxMCwxMiwxMyksZS5hZGRNYW55KHIoNjQsMTI3KSw5LDEyLDEzKSxlLmFkZE1hbnkobiwxMywxMywxMyksZS5hZGRNYW55KGksMTMsMTMsMTMpLGUuYWRkKDEyNywxMywwLDEzKSxlLmFkZE1hbnkoWzI3LDE1NiwyNCwyNl0sMTMsMTQsMCksZS5hZGQodSwwLDIsMCksZS5hZGQodSw4LDUsOCksZS5hZGQodSw2LDAsNiksZS5hZGQodSwxMSwwLDExKSxlLmFkZCh1LDEzLDEzLDEzKSxlfSgpO3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIocil7dm9pZCAwPT09ciYmKHI9dC5WVDUwMF9UUkFOU0lUSU9OX1RBQkxFKTt2YXIgaT1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuX3RyYW5zaXRpb25zPXIsaS5fcGFyc2VTdGFjaz17c3RhdGU6MCxoYW5kbGVyczpbXSxoYW5kbGVyUG9zOjAsdHJhbnNpdGlvbjowLGNodW5rUG9zOjB9LGkuaW5pdGlhbFN0YXRlPTAsaS5jdXJyZW50U3RhdGU9aS5pbml0aWFsU3RhdGUsaS5fcGFyYW1zPW5ldyBhLlBhcmFtcyxpLl9wYXJhbXMuYWRkUGFyYW0oMCksaS5fY29sbGVjdD0wLGkucHJlY2VkaW5nQ29kZXBvaW50PTAsaS5fcHJpbnRIYW5kbGVyRmI9ZnVuY3Rpb24oZSx0LHIpe30saS5fZXhlY3V0ZUhhbmRsZXJGYj1mdW5jdGlvbihlKXt9LGkuX2NzaUhhbmRsZXJGYj1mdW5jdGlvbihlLHQpe30saS5fZXNjSGFuZGxlckZiPWZ1bmN0aW9uKGUpe30saS5fZXJyb3JIYW5kbGVyRmI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGkuX3ByaW50SGFuZGxlcj1pLl9wcmludEhhbmRsZXJGYixpLl9leGVjdXRlSGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSxpLl9jc2lIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLGkuX2VzY0hhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCksaS5fb3NjUGFyc2VyPW5ldyBjLk9zY1BhcnNlcixpLl9kY3NQYXJzZXI9bmV3IGwuRGNzUGFyc2VyLGkuX2Vycm9ySGFuZGxlcj1pLl9lcnJvckhhbmRsZXJGYixpLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJcXFxcXCJ9LChmdW5jdGlvbigpe3JldHVybiEwfSkpLGl9cmV0dXJuIG4ocixlKSxyLnByb3RvdHlwZS5faWRlbnRpZmllcj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PVs2NCwxMjZdKTt2YXIgcj0wO2lmKGUucHJlZml4KXtpZihlLnByZWZpeC5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IG9uZSBieXRlIGFzIHByZWZpeCBzdXBwb3J0ZWRcIik7aWYoKHI9ZS5wcmVmaXguY2hhckNvZGVBdCgwKSkmJjYwPnJ8fHI+NjMpdGhyb3cgbmV3IEVycm9yKFwicHJlZml4IG11c3QgYmUgaW4gcmFuZ2UgMHgzYyAuLiAweDNmXCIpfWlmKGUuaW50ZXJtZWRpYXRlcyl7aWYoZS5pbnRlcm1lZGlhdGVzLmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcihcIm9ubHkgdHdvIGJ5dGVzIGFzIGludGVybWVkaWF0ZXMgYXJlIHN1cHBvcnRlZFwiKTtmb3IodmFyIGk9MDtpPGUuaW50ZXJtZWRpYXRlcy5sZW5ndGg7KytpKXt2YXIgbj1lLmludGVybWVkaWF0ZXMuY2hhckNvZGVBdChpKTtpZigzMj5ufHxuPjQ3KXRocm93IG5ldyBFcnJvcihcImludGVybWVkaWF0ZSBtdXN0IGJlIGluIHJhbmdlIDB4MjAgLi4gMHgyZlwiKTtyPDw9OCxyfD1ufX1pZigxIT09ZS5maW5hbC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiZmluYWwgbXVzdCBiZSBhIHNpbmdsZSBieXRlXCIpO3ZhciBvPWUuZmluYWwuY2hhckNvZGVBdCgwKTtpZih0WzBdPm98fG8+dFsxXSl0aHJvdyBuZXcgRXJyb3IoXCJmaW5hbCBtdXN0IGJlIGluIHJhbmdlIFwiK3RbMF0rXCIgLi4gXCIrdFsxXSk7cmV0dXJuKHI8PD04KXxvfSxyLnByb3RvdHlwZS5pZGVudFRvU3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlOyl0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmZSkpLGU+Pj04O3JldHVybiB0LnJldmVyc2UoKS5qb2luKFwiXCIpfSxyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY3NpSGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9leGVjdXRlSGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9lc2NIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX29zY1BhcnNlci5kaXNwb3NlKCksdGhpcy5fZGNzUGFyc2VyLmRpc3Bvc2UoKX0sci5wcm90b3R5cGUuc2V0UHJpbnRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX3ByaW50SGFuZGxlcj1lfSxyLnByb3RvdHlwZS5jbGVhclByaW50SGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuX3ByaW50SGFuZGxlcj10aGlzLl9wcmludEhhbmRsZXJGYn0sci5wcm90b3R5cGUucmVnaXN0ZXJFc2NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5faWRlbnRpZmllcihlLFs0OCwxMjZdKTt2b2lkIDA9PT10aGlzLl9lc2NIYW5kbGVyc1tyXSYmKHRoaXMuX2VzY0hhbmRsZXJzW3JdPVtdKTt2YXIgaT10aGlzLl9lc2NIYW5kbGVyc1tyXTtyZXR1cm4gaS5wdXNoKHQpLHtkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIGU9aS5pbmRleE9mKHQpOy0xIT09ZSYmaS5zcGxpY2UoZSwxKX19fSxyLnByb3RvdHlwZS5jbGVhckVzY0hhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZXNjSGFuZGxlcnNbdGhpcy5faWRlbnRpZmllcihlLFs0OCwxMjZdKV0mJmRlbGV0ZSB0aGlzLl9lc2NIYW5kbGVyc1t0aGlzLl9pZGVudGlmaWVyKGUsWzQ4LDEyNl0pXX0sci5wcm90b3R5cGUuc2V0RXNjSGFuZGxlckZhbGxiYWNrPWZ1bmN0aW9uKGUpe3RoaXMuX2VzY0hhbmRsZXJGYj1lfSxyLnByb3RvdHlwZS5zZXRFeGVjdXRlSGFuZGxlcj1mdW5jdGlvbihlLHQpe3RoaXMuX2V4ZWN1dGVIYW5kbGVyc1tlLmNoYXJDb2RlQXQoMCldPXR9LHIucHJvdG90eXBlLmNsZWFyRXhlY3V0ZUhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZXhlY3V0ZUhhbmRsZXJzW2UuY2hhckNvZGVBdCgwKV0mJmRlbGV0ZSB0aGlzLl9leGVjdXRlSGFuZGxlcnNbZS5jaGFyQ29kZUF0KDApXX0sci5wcm90b3R5cGUuc2V0RXhlY3V0ZUhhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9leGVjdXRlSGFuZGxlckZiPWV9LHIucHJvdG90eXBlLnJlZ2lzdGVyQ3NpSGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2lkZW50aWZpZXIoZSk7dm9pZCAwPT09dGhpcy5fY3NpSGFuZGxlcnNbcl0mJih0aGlzLl9jc2lIYW5kbGVyc1tyXT1bXSk7dmFyIGk9dGhpcy5fY3NpSGFuZGxlcnNbcl07cmV0dXJuIGkucHVzaCh0KSx7ZGlzcG9zZTpmdW5jdGlvbigpe3ZhciBlPWkuaW5kZXhPZih0KTstMSE9PWUmJmkuc3BsaWNlKGUsMSl9fX0sci5wcm90b3R5cGUuY2xlYXJDc2lIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2NzaUhhbmRsZXJzW3RoaXMuX2lkZW50aWZpZXIoZSldJiZkZWxldGUgdGhpcy5fY3NpSGFuZGxlcnNbdGhpcy5faWRlbnRpZmllcihlKV19LHIucHJvdG90eXBlLnNldENzaUhhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9jc2lIYW5kbGVyRmI9ZX0sci5wcm90b3R5cGUucmVnaXN0ZXJEY3NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2Rjc1BhcnNlci5yZWdpc3RlckhhbmRsZXIodGhpcy5faWRlbnRpZmllcihlKSx0KX0sci5wcm90b3R5cGUuY2xlYXJEY3NIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2Rjc1BhcnNlci5jbGVhckhhbmRsZXIodGhpcy5faWRlbnRpZmllcihlKSl9LHIucHJvdG90eXBlLnNldERjc0hhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9kY3NQYXJzZXIuc2V0SGFuZGxlckZhbGxiYWNrKGUpfSxyLnByb3RvdHlwZS5yZWdpc3Rlck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fb3NjUGFyc2VyLnJlZ2lzdGVySGFuZGxlcihlLHQpfSxyLnByb3RvdHlwZS5jbGVhck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fb3NjUGFyc2VyLmNsZWFySGFuZGxlcihlKX0sci5wcm90b3R5cGUuc2V0T3NjSGFuZGxlckZhbGxiYWNrPWZ1bmN0aW9uKGUpe3RoaXMuX29zY1BhcnNlci5zZXRIYW5kbGVyRmFsbGJhY2soZSl9LHIucHJvdG90eXBlLnNldEVycm9ySGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9lcnJvckhhbmRsZXI9ZX0sci5wcm90b3R5cGUuY2xlYXJFcnJvckhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLl9lcnJvckhhbmRsZXI9dGhpcy5fZXJyb3JIYW5kbGVyRmJ9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U3RhdGU9dGhpcy5pbml0aWFsU3RhdGUsdGhpcy5fb3NjUGFyc2VyLnJlc2V0KCksdGhpcy5fZGNzUGFyc2VyLnJlc2V0KCksdGhpcy5fcGFyYW1zLnJlc2V0KCksdGhpcy5fcGFyYW1zLmFkZFBhcmFtKDApLHRoaXMuX2NvbGxlY3Q9MCx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wLDAhPT10aGlzLl9wYXJzZVN0YWNrLnN0YXRlJiYodGhpcy5fcGFyc2VTdGFjay5zdGF0ZT0yLHRoaXMuX3BhcnNlU3RhY2suaGFuZGxlcnM9W10pfSxyLnByb3RvdHlwZS5fcHJlc2VydmVTdGFjaz1mdW5jdGlvbihlLHQscixpLG4pe3RoaXMuX3BhcnNlU3RhY2suc3RhdGU9ZSx0aGlzLl9wYXJzZVN0YWNrLmhhbmRsZXJzPXQsdGhpcy5fcGFyc2VTdGFjay5oYW5kbGVyUG9zPXIsdGhpcy5fcGFyc2VTdGFjay50cmFuc2l0aW9uPWksdGhpcy5fcGFyc2VTdGFjay5jaHVua1Bvcz1ufSxyLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIGksbj0wLG89MCxzPTA7aWYodGhpcy5fcGFyc2VTdGFjay5zdGF0ZSlpZigyPT09dGhpcy5fcGFyc2VTdGFjay5zdGF0ZSl0aGlzLl9wYXJzZVN0YWNrLnN0YXRlPTAscz10aGlzLl9wYXJzZVN0YWNrLmNodW5rUG9zKzE7ZWxzZXtpZih2b2lkIDA9PT1yfHwxPT09dGhpcy5fcGFyc2VTdGFjay5zdGF0ZSl0aHJvdyB0aGlzLl9wYXJzZVN0YWNrLnN0YXRlPTEsbmV3IEVycm9yKFwiaW1wcm9wZXIgY29udGludWF0aW9uIGR1ZSB0byBwcmV2aW91cyBhc3luYyBoYW5kbGVyLCBnaXZpbmcgdXAgcGFyc2luZ1wiKTt2YXIgYT10aGlzLl9wYXJzZVN0YWNrLmhhbmRsZXJzLGM9dGhpcy5fcGFyc2VTdGFjay5oYW5kbGVyUG9zLTE7c3dpdGNoKHRoaXMuX3BhcnNlU3RhY2suc3RhdGUpe2Nhc2UgMzppZighMT09PXImJmM+LTEpZm9yKDtjPj0wJiYhMCE9PShpPWFbY10odGhpcy5fcGFyYW1zKSk7Yy0tKWlmKGkgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9wYXJzZVN0YWNrLmhhbmRsZXJQb3M9YyxpO3RoaXMuX3BhcnNlU3RhY2suaGFuZGxlcnM9W107YnJlYWs7Y2FzZSA0OmlmKCExPT09ciYmYz4tMSlmb3IoO2M+PTAmJiEwIT09KGk9YVtjXSgpKTtjLS0paWYoaSBpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3BhcnNlU3RhY2suaGFuZGxlclBvcz1jLGk7dGhpcy5fcGFyc2VTdGFjay5oYW5kbGVycz1bXTticmVhaztjYXNlIDY6aWYobj1lW3RoaXMuX3BhcnNlU3RhY2suY2h1bmtQb3NdLGk9dGhpcy5fZGNzUGFyc2VyLnVuaG9vaygyNCE9PW4mJjI2IT09bixyKSlyZXR1cm4gaTsyNz09PW4mJih0aGlzLl9wYXJzZVN0YWNrLnRyYW5zaXRpb258PTEpLHRoaXMuX3BhcmFtcy5yZXNldCgpLHRoaXMuX3BhcmFtcy5hZGRQYXJhbSgwKSx0aGlzLl9jb2xsZWN0PTA7YnJlYWs7Y2FzZSA1OmlmKG49ZVt0aGlzLl9wYXJzZVN0YWNrLmNodW5rUG9zXSxpPXRoaXMuX29zY1BhcnNlci5lbmQoMjQhPT1uJiYyNiE9PW4scikpcmV0dXJuIGk7Mjc9PT1uJiYodGhpcy5fcGFyc2VTdGFjay50cmFuc2l0aW9ufD0xKSx0aGlzLl9wYXJhbXMucmVzZXQoKSx0aGlzLl9wYXJhbXMuYWRkUGFyYW0oMCksdGhpcy5fY29sbGVjdD0wfXRoaXMuX3BhcnNlU3RhY2suc3RhdGU9MCxzPXRoaXMuX3BhcnNlU3RhY2suY2h1bmtQb3MrMSx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wLHRoaXMuY3VycmVudFN0YXRlPTE1JnRoaXMuX3BhcnNlU3RhY2sudHJhbnNpdGlvbn1mb3IodmFyIGw9cztsPHQ7KytsKXtzd2l0Y2gobj1lW2xdLChvPXRoaXMuX3RyYW5zaXRpb25zLnRhYmxlW3RoaXMuY3VycmVudFN0YXRlPDw4fChuPDE2MD9uOnUpXSk+PjQpe2Nhc2UgMjpmb3IodmFyIGg9bCsxOzsrK2gpe2lmKGg+PXR8fChuPWVbaF0pPDMyfHxuPjEyNiYmbjx1KXt0aGlzLl9wcmludEhhbmRsZXIoZSxsLGgpLGw9aC0xO2JyZWFrfWlmKCsraD49dHx8KG49ZVtoXSk8MzJ8fG4+MTI2JiZuPHUpe3RoaXMuX3ByaW50SGFuZGxlcihlLGwsaCksbD1oLTE7YnJlYWt9aWYoKytoPj10fHwobj1lW2hdKTwzMnx8bj4xMjYmJm48dSl7dGhpcy5fcHJpbnRIYW5kbGVyKGUsbCxoKSxsPWgtMTticmVha31pZigrK2g+PXR8fChuPWVbaF0pPDMyfHxuPjEyNiYmbjx1KXt0aGlzLl9wcmludEhhbmRsZXIoZSxsLGgpLGw9aC0xO2JyZWFrfX1icmVhaztjYXNlIDM6dGhpcy5fZXhlY3V0ZUhhbmRsZXJzW25dP3RoaXMuX2V4ZWN1dGVIYW5kbGVyc1tuXSgpOnRoaXMuX2V4ZWN1dGVIYW5kbGVyRmIobiksdGhpcy5wcmVjZWRpbmdDb2RlcG9pbnQ9MDticmVhaztjYXNlIDA6YnJlYWs7Y2FzZSAxOmlmKHRoaXMuX2Vycm9ySGFuZGxlcih7cG9zaXRpb246bCxjb2RlOm4sY3VycmVudFN0YXRlOnRoaXMuY3VycmVudFN0YXRlLGNvbGxlY3Q6dGhpcy5fY29sbGVjdCxwYXJhbXM6dGhpcy5fcGFyYW1zLGFib3J0OiExfSkuYWJvcnQpcmV0dXJuO2JyZWFrO2Nhc2UgNzpmb3IodmFyIGY9KGE9dGhpcy5fY3NpSGFuZGxlcnNbdGhpcy5fY29sbGVjdDw8OHxuXSk/YS5sZW5ndGgtMTotMTtmPj0wJiYhMCE9PShpPWFbZl0odGhpcy5fcGFyYW1zKSk7Zi0tKWlmKGkgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9wcmVzZXJ2ZVN0YWNrKDMsYSxmLG8sbCksaTtmPDAmJnRoaXMuX2NzaUhhbmRsZXJGYih0aGlzLl9jb2xsZWN0PDw4fG4sdGhpcy5fcGFyYW1zKSx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wO2JyZWFrO2Nhc2UgODpkb3tzd2l0Y2gobil7Y2FzZSA1OTp0aGlzLl9wYXJhbXMuYWRkUGFyYW0oMCk7YnJlYWs7Y2FzZSA1ODp0aGlzLl9wYXJhbXMuYWRkU3ViUGFyYW0oLTEpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fcGFyYW1zLmFkZERpZ2l0KG4tNDgpfX13aGlsZSgrK2w8dCYmKG49ZVtsXSk+NDcmJm48NjApO2wtLTticmVhaztjYXNlIDk6dGhpcy5fY29sbGVjdDw8PTgsdGhpcy5fY29sbGVjdHw9bjticmVhaztjYXNlIDEwOmZvcih2YXIgXz10aGlzLl9lc2NIYW5kbGVyc1t0aGlzLl9jb2xsZWN0PDw4fG5dLGQ9Xz9fLmxlbmd0aC0xOi0xO2Q+PTAmJiEwIT09KGk9X1tkXSgpKTtkLS0paWYoaSBpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3ByZXNlcnZlU3RhY2soNCxfLGQsbyxsKSxpO2Q8MCYmdGhpcy5fZXNjSGFuZGxlckZiKHRoaXMuX2NvbGxlY3Q8PDh8biksdGhpcy5wcmVjZWRpbmdDb2RlcG9pbnQ9MDticmVhaztjYXNlIDExOnRoaXMuX3BhcmFtcy5yZXNldCgpLHRoaXMuX3BhcmFtcy5hZGRQYXJhbSgwKSx0aGlzLl9jb2xsZWN0PTA7YnJlYWs7Y2FzZSAxMjp0aGlzLl9kY3NQYXJzZXIuaG9vayh0aGlzLl9jb2xsZWN0PDw4fG4sdGhpcy5fcGFyYW1zKTticmVhaztjYXNlIDEzOmZvcih2YXIgcD1sKzE7OysrcClpZihwPj10fHwyND09PShuPWVbcF0pfHwyNj09PW58fDI3PT09bnx8bj4xMjcmJm48dSl7dGhpcy5fZGNzUGFyc2VyLnB1dChlLGwscCksbD1wLTE7YnJlYWt9YnJlYWs7Y2FzZSAxNDppZihpPXRoaXMuX2Rjc1BhcnNlci51bmhvb2soMjQhPT1uJiYyNiE9PW4pKXJldHVybiB0aGlzLl9wcmVzZXJ2ZVN0YWNrKDYsW10sMCxvLGwpLGk7Mjc9PT1uJiYob3w9MSksdGhpcy5fcGFyYW1zLnJlc2V0KCksdGhpcy5fcGFyYW1zLmFkZFBhcmFtKDApLHRoaXMuX2NvbGxlY3Q9MCx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wO2JyZWFrO2Nhc2UgNDp0aGlzLl9vc2NQYXJzZXIuc3RhcnQoKTticmVhaztjYXNlIDU6Zm9yKHZhciB2PWwrMTs7disrKWlmKHY+PXR8fChuPWVbdl0pPDMyfHxuPjEyNyYmbjx1KXt0aGlzLl9vc2NQYXJzZXIucHV0KGUsbCx2KSxsPXYtMTticmVha31icmVhaztjYXNlIDY6aWYoaT10aGlzLl9vc2NQYXJzZXIuZW5kKDI0IT09biYmMjYhPT1uKSlyZXR1cm4gdGhpcy5fcHJlc2VydmVTdGFjayg1LFtdLDAsbyxsKSxpOzI3PT09biYmKG98PTEpLHRoaXMuX3BhcmFtcy5yZXNldCgpLHRoaXMuX3BhcmFtcy5hZGRQYXJhbSgwKSx0aGlzLl9jb2xsZWN0PTAsdGhpcy5wcmVjZWRpbmdDb2RlcG9pbnQ9MH10aGlzLmN1cnJlbnRTdGF0ZT0xNSZvfX0scn0oby5EaXNwb3NhYmxlKTt0LkVzY2FwZVNlcXVlbmNlUGFyc2VyPWZ9LDYyNDI6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuT3NjSGFuZGxlcj10Lk9zY1BhcnNlcj12b2lkIDA7dmFyIGk9cig1NzcwKSxuPXIoNDgyKSxvPVtdLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fc3RhdGU9MCx0aGlzLl9hY3RpdmU9byx0aGlzLl9pZD0tMSx0aGlzLl9oYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2hhbmRsZXJGYj1mdW5jdGlvbigpe30sdGhpcy5fc3RhY2s9e3BhdXNlZDohMSxsb29wUG9zaXRpb246MCxmYWxsVGhyb3VnaDohMX19cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVySGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXRoaXMuX2hhbmRsZXJzW2VdJiYodGhpcy5faGFuZGxlcnNbZV09W10pO3ZhciByPXRoaXMuX2hhbmRsZXJzW2VdO3JldHVybiByLnB1c2godCkse2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgZT1yLmluZGV4T2YodCk7LTEhPT1lJiZyLnNwbGljZShlLDEpfX19LGUucHJvdG90eXBlLmNsZWFySGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9oYW5kbGVyc1tlXSYmZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2VdfSxlLnByb3RvdHlwZS5zZXRIYW5kbGVyRmFsbGJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5faGFuZGxlckZiPWV9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2hhbmRsZXJGYj1mdW5jdGlvbigpe30sdGhpcy5fYWN0aXZlPW99LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7aWYoMj09PXRoaXMuX3N0YXRlKWZvcih2YXIgZT10aGlzLl9zdGFjay5wYXVzZWQ/dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTE6dGhpcy5fYWN0aXZlLmxlbmd0aC0xO2U+PTA7LS1lKXRoaXMuX2FjdGl2ZVtlXS5lbmQoITEpO3RoaXMuX3N0YWNrLnBhdXNlZD0hMSx0aGlzLl9hY3RpdmU9byx0aGlzLl9pZD0tMSx0aGlzLl9zdGF0ZT0wfSxlLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmU9dGhpcy5faGFuZGxlcnNbdGhpcy5faWRdfHxvLHRoaXMuX2FjdGl2ZS5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLl9hY3RpdmVbZV0uc3RhcnQoKTtlbHNlIHRoaXMuX2hhbmRsZXJGYih0aGlzLl9pZCxcIlNUQVJUXCIpfSxlLnByb3RvdHlwZS5fcHV0PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLl9hY3RpdmUubGVuZ3RoKWZvcih2YXIgaT10aGlzLl9hY3RpdmUubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5fYWN0aXZlW2ldLnB1dChlLHQscik7ZWxzZSB0aGlzLl9oYW5kbGVyRmIodGhpcy5faWQsXCJQVVRcIiwoMCxuLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuX3N0YXRlPTF9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7aWYoMyE9PXRoaXMuX3N0YXRlKXtpZigxPT09dGhpcy5fc3RhdGUpZm9yKDt0PHI7KXt2YXIgaT1lW3QrK107aWYoNTk9PT1pKXt0aGlzLl9zdGF0ZT0yLHRoaXMuX3N0YXJ0KCk7YnJlYWt9aWYoaTw0OHx8NTc8aSlyZXR1cm4gdm9pZCh0aGlzLl9zdGF0ZT0zKTstMT09PXRoaXMuX2lkJiYodGhpcy5faWQ9MCksdGhpcy5faWQ9MTAqdGhpcy5faWQraS00OH0yPT09dGhpcy5fc3RhdGUmJnItdD4wJiZ0aGlzLl9wdXQoZSx0LHIpfX0sZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITApLDAhPT10aGlzLl9zdGF0ZSl7aWYoMyE9PXRoaXMuX3N0YXRlKWlmKDE9PT10aGlzLl9zdGF0ZSYmdGhpcy5fc3RhcnQoKSx0aGlzLl9hY3RpdmUubGVuZ3RoKXt2YXIgcj0hMSxpPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMSxuPSExO2lmKHRoaXMuX3N0YWNrLnBhdXNlZCYmKGk9dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTEscj10LG49dGhpcy5fc3RhY2suZmFsbFRocm91Z2gsdGhpcy5fc3RhY2sucGF1c2VkPSExKSwhbiYmITE9PT1yKXtmb3IoO2k+PTAmJiEwIT09KHI9dGhpcy5fYWN0aXZlW2ldLmVuZChlKSk7aS0tKWlmKHIgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9zdGFjay5wYXVzZWQ9ITAsdGhpcy5fc3RhY2subG9vcFBvc2l0aW9uPWksdGhpcy5fc3RhY2suZmFsbFRocm91Z2g9ITEscjtpLS19Zm9yKDtpPj0wO2ktLSlpZigocj10aGlzLl9hY3RpdmVbaV0uZW5kKCExKSlpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3N0YWNrLnBhdXNlZD0hMCx0aGlzLl9zdGFjay5sb29wUG9zaXRpb249aSx0aGlzLl9zdGFjay5mYWxsVGhyb3VnaD0hMCxyfWVsc2UgdGhpcy5faGFuZGxlckZiKHRoaXMuX2lkLFwiRU5EXCIsZSk7dGhpcy5fYWN0aXZlPW8sdGhpcy5faWQ9LTEsdGhpcy5fc3RhdGU9MH19LGV9KCk7dC5Pc2NQYXJzZXI9czt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faGFuZGxlcj1lLHRoaXMuX2RhdGE9XCJcIix0aGlzLl9oaXRMaW1pdD0hMX1yZXR1cm4gZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITF9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7dGhpcy5faGl0TGltaXR8fCh0aGlzLl9kYXRhKz0oMCxuLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSx0aGlzLl9kYXRhLmxlbmd0aD5pLlBBWUxPQURfTElNSVQmJih0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITApKX0sZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0hMTtpZih0aGlzLl9oaXRMaW1pdClyPSExO2Vsc2UgaWYoZSYmKHI9dGhpcy5faGFuZGxlcih0aGlzLl9kYXRhKSlpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHIudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2RhdGE9XCJcIix0Ll9oaXRMaW1pdD0hMSxlfSkpO3JldHVybiB0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITEscn0sZX0oKTt0Lk9zY0hhbmRsZXI9YX0sODc0MjooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFyYW1zPXZvaWQgMDt2YXIgcj0yMTQ3NDgzNjQ3LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9MzIpLHZvaWQgMD09PXQmJih0PTMyKSx0aGlzLm1heExlbmd0aD1lLHRoaXMubWF4U3ViUGFyYW1zTGVuZ3RoPXQsdD4yNTYpdGhyb3cgbmV3IEVycm9yKFwibWF4U3ViUGFyYW1zTGVuZ3RoIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiAyNTZcIik7dGhpcy5wYXJhbXM9bmV3IEludDMyQXJyYXkoZSksdGhpcy5sZW5ndGg9MCx0aGlzLl9zdWJQYXJhbXM9bmV3IEludDMyQXJyYXkodCksdGhpcy5fc3ViUGFyYW1zTGVuZ3RoPTAsdGhpcy5fc3ViUGFyYW1zSWR4PW5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9yZWplY3REaWdpdHM9ITEsdGhpcy5fcmVqZWN0U3ViRGlnaXRzPSExLHRoaXMuX2RpZ2l0SXNTdWI9ITF9cmV0dXJuIGUuZnJvbUFycmF5PWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBlO2lmKCF0Lmxlbmd0aClyZXR1cm4gcjtmb3IodmFyIGk9QXJyYXkuaXNBcnJheSh0WzBdKT8xOjA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBuPXRbaV07aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIG89MDtvPG4ubGVuZ3RoOysrbylyLmFkZFN1YlBhcmFtKG5bb10pO2Vsc2Ugci5hZGRQYXJhbShuKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZSh0aGlzLm1heExlbmd0aCx0aGlzLm1heFN1YlBhcmFtc0xlbmd0aCk7cmV0dXJuIHQucGFyYW1zLnNldCh0aGlzLnBhcmFtcyksdC5sZW5ndGg9dGhpcy5sZW5ndGgsdC5fc3ViUGFyYW1zLnNldCh0aGlzLl9zdWJQYXJhbXMpLHQuX3N1YlBhcmFtc0xlbmd0aD10aGlzLl9zdWJQYXJhbXNMZW5ndGgsdC5fc3ViUGFyYW1zSWR4LnNldCh0aGlzLl9zdWJQYXJhbXNJZHgpLHQuX3JlamVjdERpZ2l0cz10aGlzLl9yZWplY3REaWdpdHMsdC5fcmVqZWN0U3ViRGlnaXRzPXRoaXMuX3JlamVjdFN1YkRpZ2l0cyx0Ll9kaWdpdElzU3ViPXRoaXMuX2RpZ2l0SXNTdWIsdH0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLmxlbmd0aDsrK3Qpe2UucHVzaCh0aGlzLnBhcmFtc1t0XSk7dmFyIHI9dGhpcy5fc3ViUGFyYW1zSWR4W3RdPj44LGk9MjU1JnRoaXMuX3N1YlBhcmFtc0lkeFt0XTtpLXI+MCYmZS5wdXNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX3N1YlBhcmFtcyxyLGkpKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wLHRoaXMuX3N1YlBhcmFtc0xlbmd0aD0wLHRoaXMuX3JlamVjdERpZ2l0cz0hMSx0aGlzLl9yZWplY3RTdWJEaWdpdHM9ITEsdGhpcy5fZGlnaXRJc1N1Yj0hMX0sZS5wcm90b3R5cGUuYWRkUGFyYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fZGlnaXRJc1N1Yj0hMSx0aGlzLmxlbmd0aD49dGhpcy5tYXhMZW5ndGgpdGhpcy5fcmVqZWN0RGlnaXRzPSEwO2Vsc2V7aWYoZTwtMSl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZXMgbGVzc2VyIHRoYW4gLTEgYXJlIG5vdCBhbGxvd2VkXCIpO3RoaXMuX3N1YlBhcmFtc0lkeFt0aGlzLmxlbmd0aF09dGhpcy5fc3ViUGFyYW1zTGVuZ3RoPDw4fHRoaXMuX3N1YlBhcmFtc0xlbmd0aCx0aGlzLnBhcmFtc1t0aGlzLmxlbmd0aCsrXT1lPnI/cjplfX0sZS5wcm90b3R5cGUuYWRkU3ViUGFyYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fZGlnaXRJc1N1Yj0hMCx0aGlzLmxlbmd0aClpZih0aGlzLl9yZWplY3REaWdpdHN8fHRoaXMuX3N1YlBhcmFtc0xlbmd0aD49dGhpcy5tYXhTdWJQYXJhbXNMZW5ndGgpdGhpcy5fcmVqZWN0U3ViRGlnaXRzPSEwO2Vsc2V7aWYoZTwtMSl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZXMgbGVzc2VyIHRoYW4gLTEgYXJlIG5vdCBhbGxvd2VkXCIpO3RoaXMuX3N1YlBhcmFtc1t0aGlzLl9zdWJQYXJhbXNMZW5ndGgrK109ZT5yP3I6ZSx0aGlzLl9zdWJQYXJhbXNJZHhbdGhpcy5sZW5ndGgtMV0rK319LGUucHJvdG90eXBlLmhhc1N1YlBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4oMjU1JnRoaXMuX3N1YlBhcmFtc0lkeFtlXSktKHRoaXMuX3N1YlBhcmFtc0lkeFtlXT4+OCk+MH0sZS5wcm90b3R5cGUuZ2V0U3ViUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N1YlBhcmFtc0lkeFtlXT4+OCxyPTI1NSZ0aGlzLl9zdWJQYXJhbXNJZHhbZV07cmV0dXJuIHItdD4wP3RoaXMuX3N1YlBhcmFtcy5zdWJhcnJheSh0LHIpOm51bGx9LGUucHJvdG90eXBlLmdldFN1YlBhcmFtc0FsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTA7dDx0aGlzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX3N1YlBhcmFtc0lkeFt0XT4+OCxpPTI1NSZ0aGlzLl9zdWJQYXJhbXNJZHhbdF07aS1yPjAmJihlW3RdPXRoaXMuX3N1YlBhcmFtcy5zbGljZShyLGkpKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuYWRkRGlnaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoISh0aGlzLl9yZWplY3REaWdpdHN8fCEodD10aGlzLl9kaWdpdElzU3ViP3RoaXMuX3N1YlBhcmFtc0xlbmd0aDp0aGlzLmxlbmd0aCl8fHRoaXMuX2RpZ2l0SXNTdWImJnRoaXMuX3JlamVjdFN1YkRpZ2l0cykpe3ZhciBpPXRoaXMuX2RpZ2l0SXNTdWI/dGhpcy5fc3ViUGFyYW1zOnRoaXMucGFyYW1zLG49aVt0LTFdO2lbdC0xXT1+bj9NYXRoLm1pbigxMCpuK2Uscik6ZX19LGV9KCk7dC5QYXJhbXM9aX0sNTc0MTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQWRkb25NYW5hZ2VyPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9hZGRvbnM9W119cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fYWRkb25zLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX2FkZG9uc1tlXS5pbnN0YW5jZS5kaXNwb3NlKCl9LGUucHJvdG90eXBlLmxvYWRBZGRvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT17aW5zdGFuY2U6dCxkaXNwb3NlOnQuZGlzcG9zZSxpc0Rpc3Bvc2VkOiExfTt0aGlzLl9hZGRvbnMucHVzaChpKSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gci5fd3JhcHBlZEFkZG9uRGlzcG9zZShpKX0sdC5hY3RpdmF0ZShlKX0sZS5wcm90b3R5cGUuX3dyYXBwZWRBZGRvbkRpc3Bvc2U9ZnVuY3Rpb24oZSl7aWYoIWUuaXNEaXNwb3NlZCl7Zm9yKHZhciB0PS0xLHI9MDtyPHRoaXMuX2FkZG9ucy5sZW5ndGg7cisrKWlmKHRoaXMuX2FkZG9uc1tyXT09PWUpe3Q9cjticmVha31pZigtMT09PXQpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRpc3Bvc2UgYW4gYWRkb24gdGhhdCBoYXMgbm90IGJlZW4gbG9hZGVkXCIpO2UuaXNEaXNwb3NlZD0hMCxlLmRpc3Bvc2UuYXBwbHkoZS5pbnN0YW5jZSksdGhpcy5fYWRkb25zLnNwbGljZSh0LDEpfX0sZX0oKTt0LkFkZG9uTWFuYWdlcj1yfSw4NzcxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkJ1ZmZlckFwaVZpZXc9dm9pZCAwO3ZhciBpPXIoMzc4NSksbj1yKDUxMSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9idWZmZXI9ZSx0aGlzLnR5cGU9dH1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYnVmZmVyPWUsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3Vyc29yWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3Vyc29yWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLnh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmlld3BvcnRZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXIueWRpc3B9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYmFzZVlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci55YmFzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5saW5lcy5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TGluZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9idWZmZXIubGluZXMuZ2V0KGUpO2lmKHQpcmV0dXJuIG5ldyBpLkJ1ZmZlckxpbmVBcGlWaWV3KHQpfSxlLnByb3RvdHlwZS5nZXROdWxsQ2VsbD1mdW5jdGlvbigpe3JldHVybiBuZXcgbi5DZWxsRGF0YX0sZX0oKTt0LkJ1ZmZlckFwaVZpZXc9b30sMzc4NTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CdWZmZXJMaW5lQXBpVmlldz12b2lkIDA7dmFyIGk9cig1MTEpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2xpbmU9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNXcmFwcGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lLmlzV3JhcHBlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmUubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24oZSx0KXtpZighKGU8MHx8ZT49dGhpcy5fbGluZS5sZW5ndGgpKXJldHVybiB0Pyh0aGlzLl9saW5lLmxvYWRDZWxsKGUsdCksdCk6dGhpcy5fbGluZS5sb2FkQ2VsbChlLG5ldyBpLkNlbGxEYXRhKX0sZS5wcm90b3R5cGUudHJhbnNsYXRlVG9TdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9saW5lLnRyYW5zbGF0ZVRvU3RyaW5nKGUsdCxyKX0sZX0oKTt0LkJ1ZmZlckxpbmVBcGlWaWV3PW59LDgyODU6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQnVmZmVyTmFtZXNwYWNlQXBpPXZvaWQgMDt2YXIgaT1yKDg3NzEpLG49cig4NDYwKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzO3RoaXMuX2NvcmU9ZSx0aGlzLl9vbkJ1ZmZlckNoYW5nZT1uZXcgbi5FdmVudEVtaXR0ZXIsdGhpcy5fbm9ybWFsPW5ldyBpLkJ1ZmZlckFwaVZpZXcodGhpcy5fY29yZS5idWZmZXJzLm5vcm1hbCxcIm5vcm1hbFwiKSx0aGlzLl9hbHRlcm5hdGU9bmV3IGkuQnVmZmVyQXBpVmlldyh0aGlzLl9jb3JlLmJ1ZmZlcnMuYWx0LFwiYWx0ZXJuYXRlXCIpLHRoaXMuX2NvcmUuYnVmZmVycy5vbkJ1ZmZlckFjdGl2YXRlKChmdW5jdGlvbigpe3JldHVybiB0Ll9vbkJ1ZmZlckNoYW5nZS5maXJlKHQuYWN0aXZlKX0pKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25CdWZmZXJDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQnVmZmVyQ2hhbmdlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9jb3JlLmJ1ZmZlcnMuYWN0aXZlPT09dGhpcy5fY29yZS5idWZmZXJzLm5vcm1hbClyZXR1cm4gdGhpcy5ub3JtYWw7aWYodGhpcy5fY29yZS5idWZmZXJzLmFjdGl2ZT09PXRoaXMuX2NvcmUuYnVmZmVycy5hbHQpcmV0dXJuIHRoaXMuYWx0ZXJuYXRlO3Rocm93IG5ldyBFcnJvcihcIkFjdGl2ZSBidWZmZXIgaXMgbmVpdGhlciBub3JtYWwgbm9yIGFsdGVybmF0ZVwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJub3JtYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcm1hbC5pbml0KHRoaXMuX2NvcmUuYnVmZmVycy5ub3JtYWwpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFsdGVybmF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWx0ZXJuYXRlLmluaXQodGhpcy5fY29yZS5idWZmZXJzLmFsdCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oKTt0LkJ1ZmZlck5hbWVzcGFjZUFwaT1vfSw3OTc1OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYXJzZXJBcGk9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9jb3JlPWV9cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVyQ3NpSGFuZGxlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9jb3JlLnJlZ2lzdGVyQ3NpSGFuZGxlcihlLChmdW5jdGlvbihlKXtyZXR1cm4gdChlLnRvQXJyYXkoKSl9KSl9LGUucHJvdG90eXBlLmFkZENzaUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3RlckNzaUhhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJEY3NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJEY3NIYW5kbGVyKGUsKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZSxyLnRvQXJyYXkoKSl9KSl9LGUucHJvdG90eXBlLmFkZERjc0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3RlckRjc0hhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJFc2NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJFc2NIYW5kbGVyKGUsdCl9LGUucHJvdG90eXBlLmFkZEVzY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3RlckVzY0hhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJPc2NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJPc2NIYW5kbGVyKGUsdCl9LGUucHJvdG90eXBlLmFkZE9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3Rlck9zY0hhbmRsZXIoZSx0KX0sZX0oKTt0LlBhcnNlckFwaT1yfSw3MDkwOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Vbmljb2RlQXBpPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fY29yZT1lfXJldHVybiBlLnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbihlKXt0aGlzLl9jb3JlLnVuaWNvZGVTZXJ2aWNlLnJlZ2lzdGVyKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2ZXJzaW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS51bmljb2RlU2VydmljZS52ZXJzaW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RpdmVWZXJzaW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLnVuaWNvZGVTZXJ2aWNlLmFjdGl2ZVZlcnNpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb3JlLnVuaWNvZGVTZXJ2aWNlLmFjdGl2ZVZlcnNpb249ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfSgpO3QuVW5pY29kZUFwaT1yfSw3NDQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQnVmZmVyU2VydmljZT10Lk1JTklNVU1fUk9XUz10Lk1JTklNVU1fQ09MUz12b2lkIDA7dmFyIGE9cigyNTg1KSxjPXIoNTI5NSksbD1yKDg0NjApLGg9cig4NDQpO3QuTUlOSU1VTV9DT0xTPTIsdC5NSU5JTVVNX1JPV1M9MTt2YXIgdT1mdW5jdGlvbihlKXtmdW5jdGlvbiByKHIpe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fb3B0aW9uc1NlcnZpY2U9cixpLmlzVXNlclNjcm9sbGluZz0hMSxpLl9vblJlc2l6ZT1uZXcgbC5FdmVudEVtaXR0ZXIsaS5fb25TY3JvbGw9bmV3IGwuRXZlbnRFbWl0dGVyLGkuY29scz1NYXRoLm1heChyLnJhd09wdGlvbnMuY29sc3x8MCx0Lk1JTklNVU1fQ09MUyksaS5yb3dzPU1hdGgubWF4KHIucmF3T3B0aW9ucy5yb3dzfHwwLHQuTUlOSU1VTV9ST1dTKSxpLmJ1ZmZlcnM9bmV3IGMuQnVmZmVyU2V0KHIsaSksaX1yZXR1cm4gbihyLGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcIm9uUmVzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlc2l6ZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJvblNjcm9sbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TY3JvbGwuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlcnMuYWN0aXZlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5idWZmZXJzLmRpc3Bvc2UoKX0sci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb2xzPWUsdGhpcy5yb3dzPXQsdGhpcy5idWZmZXJzLnJlc2l6ZShlLHQpLHRoaXMuYnVmZmVycy5zZXR1cFRhYlN0b3BzKHRoaXMuY29scyksdGhpcy5fb25SZXNpemUuZmlyZSh7Y29sczplLHJvd3M6dH0pfSxyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYnVmZmVycy5yZXNldCgpLHRoaXMuaXNVc2VyU2Nyb2xsaW5nPSExfSxyLnByb3RvdHlwZS5zY3JvbGw9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIHIsaT10aGlzLmJ1ZmZlcjsocj10aGlzLl9jYWNoZWRCbGFua0xpbmUpJiZyLmxlbmd0aD09PXRoaXMuY29scyYmci5nZXRGZygwKT09PWUuZmcmJnIuZ2V0QmcoMCk9PT1lLmJnfHwocj1pLmdldEJsYW5rTGluZShlLHQpLHRoaXMuX2NhY2hlZEJsYW5rTGluZT1yKSxyLmlzV3JhcHBlZD10O3ZhciBuPWkueWJhc2UraS5zY3JvbGxUb3Asbz1pLnliYXNlK2kuc2Nyb2xsQm90dG9tO2lmKDA9PT1pLnNjcm9sbFRvcCl7dmFyIHM9aS5saW5lcy5pc0Z1bGw7bz09PWkubGluZXMubGVuZ3RoLTE/cz9pLmxpbmVzLnJlY3ljbGUoKS5jb3B5RnJvbShyKTppLmxpbmVzLnB1c2goci5jbG9uZSgpKTppLmxpbmVzLnNwbGljZShvKzEsMCxyLmNsb25lKCkpLHM/dGhpcy5pc1VzZXJTY3JvbGxpbmcmJihpLnlkaXNwPU1hdGgubWF4KGkueWRpc3AtMSwwKSk6KGkueWJhc2UrKyx0aGlzLmlzVXNlclNjcm9sbGluZ3x8aS55ZGlzcCsrKX1lbHNle3ZhciBhPW8tbisxO2kubGluZXMuc2hpZnRFbGVtZW50cyhuKzEsYS0xLC0xKSxpLmxpbmVzLnNldChvLHIuY2xvbmUoKSl9dGhpcy5pc1VzZXJTY3JvbGxpbmd8fChpLnlkaXNwPWkueWJhc2UpLHRoaXMuX29uU2Nyb2xsLmZpcmUoaS55ZGlzcCl9LHIucHJvdG90eXBlLnNjcm9sbExpbmVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmJ1ZmZlcjtpZihlPDApe2lmKDA9PT1pLnlkaXNwKXJldHVybjt0aGlzLmlzVXNlclNjcm9sbGluZz0hMH1lbHNlIGUraS55ZGlzcD49aS55YmFzZSYmKHRoaXMuaXNVc2VyU2Nyb2xsaW5nPSExKTt2YXIgbj1pLnlkaXNwO2kueWRpc3A9TWF0aC5tYXgoTWF0aC5taW4oaS55ZGlzcCtlLGkueWJhc2UpLDApLG4hPT1pLnlkaXNwJiYodHx8dGhpcy5fb25TY3JvbGwuZmlyZShpLnlkaXNwKSl9LHIucHJvdG90eXBlLnNjcm9sbFBhZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsTGluZXMoZSoodGhpcy5yb3dzLTEpKX0sci5wcm90b3R5cGUuc2Nyb2xsVG9Ub3A9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbExpbmVzKC10aGlzLmJ1ZmZlci55ZGlzcCl9LHIucHJvdG90eXBlLnNjcm9sbFRvQm90dG9tPWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxMaW5lcyh0aGlzLmJ1ZmZlci55YmFzZS10aGlzLmJ1ZmZlci55ZGlzcCl9LHIucHJvdG90eXBlLnNjcm9sbFRvTGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLXRoaXMuYnVmZmVyLnlkaXNwOzAhPT10JiZ0aGlzLnNjcm9sbExpbmVzKHQpfSxvKFtzKDAsYS5JT3B0aW9uc1NlcnZpY2UpXSxyKX0oaC5EaXNwb3NhYmxlKTt0LkJ1ZmZlclNlcnZpY2U9dX0sNzk5NDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhcnNldFNlcnZpY2U9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZ2xldmVsPTAsdGhpcy5fY2hhcnNldHM9W119cmV0dXJuIGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jaGFyc2V0PXZvaWQgMCx0aGlzLl9jaGFyc2V0cz1bXSx0aGlzLmdsZXZlbD0wfSxlLnByb3RvdHlwZS5zZXRnTGV2ZWw9ZnVuY3Rpb24oZSl7dGhpcy5nbGV2ZWw9ZSx0aGlzLmNoYXJzZXQ9dGhpcy5fY2hhcnNldHNbZV19LGUucHJvdG90eXBlLnNldGdDaGFyc2V0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2hhcnNldHNbZV09dCx0aGlzLmdsZXZlbD09PWUmJih0aGlzLmNoYXJzZXQ9dCl9LGV9KCk7dC5DaGFyc2V0U2VydmljZT1yfSwxNzUzOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxuPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19LG89dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db3JlTW91c2VTZXJ2aWNlPXZvaWQgMDt2YXIgcz1yKDI1ODUpLGE9cig4NDYwKSxjPXtOT05FOntldmVudHM6MCxyZXN0cmljdDpmdW5jdGlvbigpe3JldHVybiExfX0sWDEwOntldmVudHM6MSxyZXN0cmljdDpmdW5jdGlvbihlKXtyZXR1cm4gNCE9PWUuYnV0dG9uJiYxPT09ZS5hY3Rpb24mJihlLmN0cmw9ITEsZS5hbHQ9ITEsZS5zaGlmdD0hMSwhMCl9fSxWVDIwMDp7ZXZlbnRzOjE5LHJlc3RyaWN0OmZ1bmN0aW9uKGUpe3JldHVybiAzMiE9PWUuYWN0aW9ufX0sRFJBRzp7ZXZlbnRzOjIzLHJlc3RyaWN0OmZ1bmN0aW9uKGUpe3JldHVybiAzMiE9PWUuYWN0aW9ufHwzIT09ZS5idXR0b259fSxBTlk6e2V2ZW50czozMSxyZXN0cmljdDpmdW5jdGlvbihlKXtyZXR1cm4hMH19fTtmdW5jdGlvbiBsKGUsdCl7dmFyIHI9KGUuY3RybD8xNjowKXwoZS5zaGlmdD80OjApfChlLmFsdD84OjApO3JldHVybiA0PT09ZS5idXR0b24/KHJ8PTY0LHJ8PWUuYWN0aW9uKToocnw9MyZlLmJ1dHRvbiw0JmUuYnV0dG9uJiYocnw9NjQpLDgmZS5idXR0b24mJihyfD0xMjgpLDMyPT09ZS5hY3Rpb24/cnw9MzI6MCE9PWUuYWN0aW9ufHx0fHwocnw9MykpLHJ9dmFyIGg9U3RyaW5nLmZyb21DaGFyQ29kZSx1PXtERUZBVUxUOmZ1bmN0aW9uKGUpe3ZhciB0PVtsKGUsITEpKzMyLGUuY29sKzMyLGUucm93KzMyXTtyZXR1cm4gdFswXT4yNTV8fHRbMV0+MjU1fHx0WzJdPjI1NT9cIlwiOlwiXHUwMDFiW01cIitoKHRbMF0pK2godFsxXSkraCh0WzJdKX0sU0dSOmZ1bmN0aW9uKGUpe3ZhciB0PTA9PT1lLmFjdGlvbiYmNCE9PWUuYnV0dG9uP1wibVwiOlwiTVwiO3JldHVyblwiXHUwMDFiWzxcIitsKGUsITApK1wiO1wiK2UuY29sK1wiO1wiK2Uucm93K3R9fSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciByLGksbixzO3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLl9jb3JlU2VydmljZT10LHRoaXMuX3Byb3RvY29scz17fSx0aGlzLl9lbmNvZGluZ3M9e30sdGhpcy5fYWN0aXZlUHJvdG9jb2w9XCJcIix0aGlzLl9hY3RpdmVFbmNvZGluZz1cIlwiLHRoaXMuX29uUHJvdG9jb2xDaGFuZ2U9bmV3IGEuRXZlbnRFbWl0dGVyLHRoaXMuX2xhc3RFdmVudD1udWxsO3RyeXtmb3IodmFyIGw9byhPYmplY3Qua2V5cyhjKSksaD1sLm5leHQoKTshaC5kb25lO2g9bC5uZXh0KCkpe3ZhciBmPWgudmFsdWU7dGhpcy5hZGRQcm90b2NvbChmLGNbZl0pfX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtoJiYhaC5kb25lJiYoaT1sLnJldHVybikmJmkuY2FsbChsKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dHJ5e2Zvcih2YXIgXz1vKE9iamVjdC5rZXlzKHUpKSxkPV8ubmV4dCgpOyFkLmRvbmU7ZD1fLm5leHQoKSl7dmFyIHA9ZC52YWx1ZTt0aGlzLmFkZEVuY29kaW5nKHAsdVtwXSl9fWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2QmJiFkLmRvbmUmJihzPV8ucmV0dXJuKSYmcy5jYWxsKF8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX10aGlzLnJlc2V0KCl9cmV0dXJuIGUucHJvdG90eXBlLmFkZFByb3RvY29sPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcHJvdG9jb2xzW2VdPXR9LGUucHJvdG90eXBlLmFkZEVuY29kaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5jb2RpbmdzW2VdPXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZVByb3RvY29sXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVQcm90b2NvbH0sc2V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9wcm90b2NvbHNbZV0pdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHByb3RvY29sIFwiJytlKydcIicpO3RoaXMuX2FjdGl2ZVByb3RvY29sPWUsdGhpcy5fb25Qcm90b2NvbENoYW5nZS5maXJlKHRoaXMuX3Byb3RvY29sc1tlXS5ldmVudHMpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFyZU1vdXNlRXZlbnRzQWN0aXZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy5fcHJvdG9jb2xzW3RoaXMuX2FjdGl2ZVByb3RvY29sXS5ldmVudHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWN0aXZlRW5jb2RpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUVuY29kaW5nfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2VuY29kaW5nc1tlXSl0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZW5jb2RpbmcgXCInK2UrJ1wiJyk7dGhpcy5fYWN0aXZlRW5jb2Rpbmc9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlUHJvdG9jb2w9XCJOT05FXCIsdGhpcy5hY3RpdmVFbmNvZGluZz1cIkRFRkFVTFRcIix0aGlzLl9sYXN0RXZlbnQ9bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25Qcm90b2NvbENoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25Qcm90b2NvbENoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50cmlnZ2VyTW91c2VFdmVudD1mdW5jdGlvbihlKXtpZihlLmNvbDwwfHxlLmNvbD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzfHxlLnJvdzwwfHxlLnJvdz49dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKXJldHVybiExO2lmKDQ9PT1lLmJ1dHRvbiYmMzI9PT1lLmFjdGlvbilyZXR1cm4hMTtpZigzPT09ZS5idXR0b24mJjMyIT09ZS5hY3Rpb24pcmV0dXJuITE7aWYoNCE9PWUuYnV0dG9uJiYoMj09PWUuYWN0aW9ufHwzPT09ZS5hY3Rpb24pKXJldHVybiExO2lmKGUuY29sKyssZS5yb3crKywzMj09PWUuYWN0aW9uJiZ0aGlzLl9sYXN0RXZlbnQmJnRoaXMuX2NvbXBhcmVFdmVudHModGhpcy5fbGFzdEV2ZW50LGUpKXJldHVybiExO2lmKCF0aGlzLl9wcm90b2NvbHNbdGhpcy5fYWN0aXZlUHJvdG9jb2xdLnJlc3RyaWN0KGUpKXJldHVybiExO3ZhciB0PXRoaXMuX2VuY29kaW5nc1t0aGlzLl9hY3RpdmVFbmNvZGluZ10oZSk7cmV0dXJuIHQmJihcIkRFRkFVTFRcIj09PXRoaXMuX2FjdGl2ZUVuY29kaW5nP3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJCaW5hcnlFdmVudCh0KTp0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHQsITApKSx0aGlzLl9sYXN0RXZlbnQ9ZSwhMH0sZS5wcm90b3R5cGUuZXhwbGFpbkV2ZW50cz1mdW5jdGlvbihlKXtyZXR1cm57ZG93bjohISgxJmUpLHVwOiEhKDImZSksZHJhZzohISg0JmUpLG1vdmU6ISEoOCZlKSx3aGVlbDohISgxNiZlKX19LGUucHJvdG90eXBlLl9jb21wYXJlRXZlbnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29sPT09dC5jb2wmJmUucm93PT09dC5yb3cmJmUuYnV0dG9uPT09dC5idXR0b24mJmUuYWN0aW9uPT09dC5hY3Rpb24mJmUuY3RybD09PXQuY3RybCYmZS5hbHQ9PT10LmFsdCYmZS5zaGlmdD09PXQuc2hpZnR9LGkoW24oMCxzLklCdWZmZXJTZXJ2aWNlKSxuKDEscy5JQ29yZVNlcnZpY2UpXSxlKX0oKTt0LkNvcmVNb3VzZVNlcnZpY2U9Zn0sNjk3NTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxvPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LHM9dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db3JlU2VydmljZT12b2lkIDA7dmFyIGE9cigyNTg1KSxjPXIoODQ2MCksbD1yKDE0MzkpLGg9cig4NDQpLHU9T2JqZWN0LmZyZWV6ZSh7aW5zZXJ0TW9kZTohMX0pLGY9T2JqZWN0LmZyZWV6ZSh7YXBwbGljYXRpb25DdXJzb3JLZXlzOiExLGFwcGxpY2F0aW9uS2V5cGFkOiExLGJyYWNrZXRlZFBhc3RlTW9kZTohMSxvcmlnaW46ITEscmV2ZXJzZVdyYXBhcm91bmQ6ITEsc2VuZEZvY3VzOiExLHdyYXBhcm91bmQ6ITB9KSxfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLl9idWZmZXJTZXJ2aWNlPXIsby5fbG9nU2VydmljZT1pLG8uX29wdGlvbnNTZXJ2aWNlPW4sby5pc0N1cnNvckluaXRpYWxpemVkPSExLG8uaXNDdXJzb3JIaWRkZW49ITEsby5fb25EYXRhPW8ucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSxvLl9vblVzZXJJbnB1dD1vLnJlZ2lzdGVyKG5ldyBjLkV2ZW50RW1pdHRlciksby5fb25CaW5hcnk9by5yZWdpc3RlcihuZXcgYy5FdmVudEVtaXR0ZXIpLG8uX3Njcm9sbFRvQm90dG9tPXQsby5yZWdpc3Rlcih7ZGlzcG9zZTpmdW5jdGlvbigpe3JldHVybiBvLl9zY3JvbGxUb0JvdHRvbT12b2lkIDB9fSksby5tb2Rlcz0oMCxsLmNsb25lKSh1KSxvLmRlY1ByaXZhdGVNb2Rlcz0oMCxsLmNsb25lKShmKSxvfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25EYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkRhdGEuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25Vc2VySW5wdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uVXNlcklucHV0LmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQmluYXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJpbmFyeS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubW9kZXM9KDAsbC5jbG9uZSkodSksdGhpcy5kZWNQcml2YXRlTW9kZXM9KDAsbC5jbG9uZSkoZil9LHQucHJvdG90eXBlLnRyaWdnZXJEYXRhRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMSksIXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZGlzYWJsZVN0ZGluKXt2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcjtyLnliYXNlIT09ci55ZGlzcCYmdGhpcy5fc2Nyb2xsVG9Cb3R0b20oKSx0JiZ0aGlzLl9vblVzZXJJbnB1dC5maXJlKCksdGhpcy5fbG9nU2VydmljZS5kZWJ1Zygnc2VuZGluZyBkYXRhIFwiJytlKydcIicsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3BsaXQoXCJcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQ29kZUF0KDApfSkpfSkpLHRoaXMuX29uRGF0YS5maXJlKGUpfX0sdC5wcm90b3R5cGUudHJpZ2dlckJpbmFyeUV2ZW50PWZ1bmN0aW9uKGUpe3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZGlzYWJsZVN0ZGlufHwodGhpcy5fbG9nU2VydmljZS5kZWJ1Zygnc2VuZGluZyBiaW5hcnkgXCInK2UrJ1wiJywoZnVuY3Rpb24oKXtyZXR1cm4gZS5zcGxpdChcIlwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCl9KSl9KSksdGhpcy5fb25CaW5hcnkuZmlyZShlKSl9LG8oW3MoMSxhLklCdWZmZXJTZXJ2aWNlKSxzKDIsYS5JTG9nU2VydmljZSkscygzLGEuSU9wdGlvbnNTZXJ2aWNlKV0sdCl9KGguRGlzcG9zYWJsZSk7dC5Db3JlU2VydmljZT1ffSw5MDc0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobj0yJm9bMF0/aS5yZXR1cm46b1swXT9pLnRocm93fHwoKG49aS5yZXR1cm4pJiZuLmNhbGwoaSksMCk6aS5uZXh0KSYmIShuPW4uY2FsbChpLG9bMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChpPTAsbiYmKG89WzImb1swXSxuLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTpuPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISgobj0obj1zLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIW58fG9bMV0+blswXSYmb1sxXTxuWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPG5bMV0pe3MubGFiZWw9blsxXSxuPW87YnJlYWt9aWYobiYmcy5sYWJlbDxuWzJdKXtzLmxhYmVsPW5bMl0scy5vcHMucHVzaChvKTticmVha31uWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLGk9MH1maW5hbGx5e3I9bj0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX0scz10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRlY29yYXRpb25TZXJ2aWNlPXZvaWQgMDt2YXIgYT1yKDgwNTUpLGM9cig4NDYwKSxsPXIoODQ0KSxoPXIoNjEwNiksdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0Ll9kZWNvcmF0aW9ucz1uZXcgaC5Tb3J0ZWRMaXN0KChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrZXIubGluZX0pKSx0Ll9vbkRlY29yYXRpb25SZWdpc3RlcmVkPXQucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSx0Ll9vbkRlY29yYXRpb25SZW1vdmVkPXQucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSx0fXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25EZWNvcmF0aW9uUmVnaXN0ZXJlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25EZWNvcmF0aW9uUmVnaXN0ZXJlZC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkRlY29yYXRpb25SZW1vdmVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkRlY29yYXRpb25SZW1vdmVkLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRlY29yYXRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWNvcmF0aW9ucy52YWx1ZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZWdpc3RlckRlY29yYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5tYXJrZXIuaXNEaXNwb3NlZCl7dmFyIHI9bmV3IGYoZSk7aWYocil7dmFyIGk9ci5tYXJrZXIub25EaXNwb3NlKChmdW5jdGlvbigpe3JldHVybiByLmRpc3Bvc2UoKX0pKTtyLm9uRGlzcG9zZSgoZnVuY3Rpb24oKXtyJiYodC5fZGVjb3JhdGlvbnMuZGVsZXRlKHIpJiZ0Ll9vbkRlY29yYXRpb25SZW1vdmVkLmZpcmUociksaS5kaXNwb3NlKCkpfSkpLHRoaXMuX2RlY29yYXRpb25zLmluc2VydChyKSx0aGlzLl9vbkRlY29yYXRpb25SZWdpc3RlcmVkLmZpcmUocil9cmV0dXJuIHJ9fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e2Zvcih2YXIgcj1zKHRoaXMuX2RlY29yYXRpb25zLnZhbHVlcygpKSxpPXIubmV4dCgpOyFpLmRvbmU7aT1yLm5leHQoKSlpLnZhbHVlLmRpc3Bvc2UoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1yLnJldHVybikmJnQuY2FsbChyKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19dGhpcy5fZGVjb3JhdGlvbnMuY2xlYXIoKX0sdC5wcm90b3R5cGUuZ2V0RGVjb3JhdGlvbnNBdExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsdGhpcy5fZGVjb3JhdGlvbnMuZ2V0S2V5SXRlcmF0b3IoZSldfSkpfSx0LnByb3RvdHlwZS5nZXREZWNvcmF0aW9uc0F0Q2VsbD1mdW5jdGlvbihlLHQscil7dmFyIGksbixhLGMsbCxoLHUsZixfLGQscDtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOmk9MCxuPTAsby5sYWJlbD0xO2Nhc2UgMTpvLnRyeXMucHVzaChbMSw2LDcsOF0pLGE9cyh0aGlzLl9kZWNvcmF0aW9ucy5nZXRLZXlJdGVyYXRvcih0KSksYz1hLm5leHQoKSxvLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBjLmRvbmU/WzMsNV06KGw9Yy52YWx1ZSxpPW51bGwhPT0oXz1sLm9wdGlvbnMueCkmJnZvaWQgMCE9PV8/XzowLG49aSsobnVsbCE9PShkPWwub3B0aW9ucy53aWR0aCkmJnZvaWQgMCE9PWQ/ZDoxKSwhKGU+PWkmJmU8bil8fHImJihudWxsIT09KHA9bC5vcHRpb25zLmxheWVyKSYmdm9pZCAwIT09cD9wOlwiYm90dG9tXCIpIT09cj9bMyw0XTpbNCxsXSk7Y2FzZSAzOm8uc2VudCgpLG8ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIGM9YS5uZXh0KCksWzMsMl07Y2FzZSA1OnJldHVyblszLDhdO2Nhc2UgNjpyZXR1cm4gaD1vLnNlbnQoKSx1PXtlcnJvcjpofSxbMyw4XTtjYXNlIDc6dHJ5e2MmJiFjLmRvbmUmJihmPWEucmV0dXJuKSYmZi5jYWxsKGEpfWZpbmFsbHl7aWYodSl0aHJvdyB1LmVycm9yfXJldHVybls3XTtjYXNlIDg6cmV0dXJuWzJdfX0pKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e2Zvcih2YXIgcj1zKHRoaXMuX2RlY29yYXRpb25zLnZhbHVlcygpKSxpPXIubmV4dCgpOyFpLmRvbmU7aT1yLm5leHQoKSl7dmFyIG49aS52YWx1ZTt0aGlzLl9vbkRlY29yYXRpb25SZW1vdmVkLmZpcmUobil9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLnJlc2V0KCl9LHR9KGwuRGlzcG9zYWJsZSk7dC5EZWNvcmF0aW9uU2VydmljZT11O3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLm9wdGlvbnM9dCxyLmlzRGlzcG9zZWQ9ITEsci5vblJlbmRlckVtaXR0ZXI9ci5yZWdpc3RlcihuZXcgYy5FdmVudEVtaXR0ZXIpLHIub25SZW5kZXI9ci5vblJlbmRlckVtaXR0ZXIuZXZlbnQsci5fb25EaXNwb3NlPXIucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSxyLm9uRGlzcG9zZT1yLl9vbkRpc3Bvc2UuZXZlbnQsci5fY2FjaGVkQmc9bnVsbCxyLl9jYWNoZWRGZz1udWxsLHIubWFya2VyPXQubWFya2VyLHIub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucyYmIXIub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbiYmKHIub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbj1cImZ1bGxcIikscn1yZXR1cm4gbih0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJhY2tncm91bmRDb2xvclJHQlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2NhY2hlZEJnJiYodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcj90aGlzLl9jYWNoZWRCZz1hLmNzcy50b0NvbG9yKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpOnRoaXMuX2NhY2hlZEJnPXZvaWQgMCksdGhpcy5fY2FjaGVkQmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZm9yZWdyb3VuZENvbG9yUkdCXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fY2FjaGVkRmcmJih0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENvbG9yP3RoaXMuX2NhY2hlZEZnPWEuY3NzLnRvQ29sb3IodGhpcy5vcHRpb25zLmZvcmVncm91bmRDb2xvcik6dGhpcy5fY2FjaGVkRmc9dm9pZCAwKSx0aGlzLl9jYWNoZWRGZ30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXNwb3NlZHx8KHRoaXMuX2lzRGlzcG9zZWQ9ITAsdGhpcy5fb25EaXNwb3NlLmZpcmUoKSxlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcykpfSx0fShsLkRpc3Bvc2FibGUpfSwzNzMwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxuPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRGlydHlSb3dTZXJ2aWNlPXZvaWQgMDt2YXIgbz1yKDI1ODUpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLmNsZWFyUmFuZ2UoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNsZWFyUmFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55LHRoaXMuX2VuZD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55fSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSl7ZTx0aGlzLl9zdGFydD90aGlzLl9zdGFydD1lOmU+dGhpcy5fZW5kJiYodGhpcy5fZW5kPWUpfSxlLnByb3RvdHlwZS5tYXJrUmFuZ2VEaXJ0eT1mdW5jdGlvbihlLHQpe2lmKGU+dCl7dmFyIHI9ZTtlPXQsdD1yfWU8dGhpcy5fc3RhcnQmJih0aGlzLl9zdGFydD1lKSx0PnRoaXMuX2VuZCYmKHRoaXMuX2VuZD10KX0sZS5wcm90b3R5cGUubWFya0FsbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5tYXJrUmFuZ2VEaXJ0eSgwLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKX0saShbbigwLG8uSUJ1ZmZlclNlcnZpY2UpXSxlKX0oKTt0LkRpcnR5Um93U2VydmljZT1zfSw0MzQ4OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxuPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfSxvPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXx8ZnVuY3Rpb24oZSx0LHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgaSxuPTAsbz10Lmxlbmd0aDtuPG87bisrKSFpJiZuIGluIHR8fChpfHwoaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDAsbikpLGlbbl09dFtuXSk7cmV0dXJuIGUuY29uY2F0KGl8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbnN0YW50aWF0aW9uU2VydmljZT10LlNlcnZpY2VDb2xsZWN0aW9uPXZvaWQgMDt2YXIgcz1yKDI1ODUpLGE9cig4MzQzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZSx0LHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107dGhpcy5fZW50cmllcz1uZXcgTWFwO3RyeXtmb3IodmFyIHM9aShyKSxhPXMubmV4dCgpOyFhLmRvbmU7YT1zLm5leHQoKSl7dmFyIGM9bihhLnZhbHVlLDIpLGw9Y1swXSxoPWNbMV07dGhpcy5zZXQobCxoKX19Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKHQ9cy5yZXR1cm4pJiZ0LmNhbGwocyl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZW50cmllcy5nZXQoZSk7cmV0dXJuIHRoaXMuX2VudHJpZXMuc2V0KGUsdCkscn0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt0aGlzLl9lbnRyaWVzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIGUocix0KX0pKX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbnRyaWVzLmhhcyhlKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbnRyaWVzLmdldChlKX0sZX0oKTt0LlNlcnZpY2VDb2xsZWN0aW9uPWM7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fc2VydmljZXM9bmV3IGMsdGhpcy5fc2VydmljZXMuc2V0KHMuSUluc3RhbnRpYXRpb25TZXJ2aWNlLHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5zZXRTZXJ2aWNlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc2VydmljZXMuc2V0KGUsdCl9LGUucHJvdG90eXBlLmdldFNlcnZpY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NlcnZpY2VzLmdldChlKX0sZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIscz1bXSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylzW2MtMV09YXJndW1lbnRzW2NdO3ZhciBsPSgwLGEuZ2V0U2VydmljZURlcGVuZGVuY2llcykoZSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleC10LmluZGV4fSkpLGg9W107dHJ5e2Zvcih2YXIgdT1pKGwpLGY9dS5uZXh0KCk7IWYuZG9uZTtmPXUubmV4dCgpKXt2YXIgXz1mLnZhbHVlLGQ9dGhpcy5fc2VydmljZXMuZ2V0KF8uaWQpO2lmKCFkKXRocm93IG5ldyBFcnJvcihcIltjcmVhdGVJbnN0YW5jZV0gXCIrZS5uYW1lK1wiIGRlcGVuZHMgb24gVU5LTk9XTiBzZXJ2aWNlIFwiK18uaWQrXCIuXCIpO2gucHVzaChkKX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKHI9dS5yZXR1cm4pJiZyLmNhbGwodSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fXZhciBwPWwubGVuZ3RoPjA/bFswXS5pbmRleDpzLmxlbmd0aDtpZihzLmxlbmd0aCE9PXApdGhyb3cgbmV3IEVycm9yKFwiW2NyZWF0ZUluc3RhbmNlXSBGaXJzdCBzZXJ2aWNlIGRlcGVuZGVuY3kgb2YgXCIrZS5uYW1lK1wiIGF0IHBvc2l0aW9uIFwiKyhwKzEpK1wiIGNvbmZsaWN0cyB3aXRoIFwiK3MubGVuZ3RoK1wiIHN0YXRpYyBhcmd1bWVudHNcIik7cmV0dXJuIG5ldyhlLmJpbmQuYXBwbHkoZSxvKFt2b2lkIDBdLG4obyhvKFtdLG4ocyksITEpLG4oaCksITEpKSwhMSkpKX0sZX0oKTt0Lkluc3RhbnRpYXRpb25TZXJ2aWNlPWx9LDc4NjY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LG49dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX0sbz10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgaSxuLG89ci5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEoaT1vLm5leHQoKSkuZG9uZTspcy5wdXNoKGkudmFsdWUpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gc30scz10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXl8fGZ1bmN0aW9uKGUsdCxyKXtpZihyfHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGksbj0wLG89dC5sZW5ndGg7bjxvO24rKykhaSYmbiBpbiB0fHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLG4pKSxpW25dPXRbbl0pO3JldHVybiBlLmNvbmNhdChpfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTG9nU2VydmljZT12b2lkIDA7dmFyIGE9cigyNTg1KSxjPXtkZWJ1ZzphLkxvZ0xldmVsRW51bS5ERUJVRyxpbmZvOmEuTG9nTGV2ZWxFbnVtLklORk8sd2FybjphLkxvZ0xldmVsRW51bS5XQVJOLGVycm9yOmEuTG9nTGV2ZWxFbnVtLkVSUk9SLG9mZjphLkxvZ0xldmVsRW51bS5PRkZ9LGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy5fb3B0aW9uc1NlcnZpY2U9ZSx0aGlzLmxvZ0xldmVsPWEuTG9nTGV2ZWxFbnVtLk9GRix0aGlzLl91cGRhdGVMb2dMZXZlbCgpLHRoaXMuX29wdGlvbnNTZXJ2aWNlLm9uT3B0aW9uQ2hhbmdlKChmdW5jdGlvbihlKXtcImxvZ0xldmVsXCI9PT1lJiZ0Ll91cGRhdGVMb2dMZXZlbCgpfSkpfXJldHVybiBlLnByb3RvdHlwZS5fdXBkYXRlTG9nTGV2ZWw9ZnVuY3Rpb24oKXt0aGlzLmxvZ0xldmVsPWNbdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5sb2dMZXZlbF19LGUucHJvdG90eXBlLl9ldmFsTGF6eU9wdGlvbmFsUGFyYW1zPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKVwiZnVuY3Rpb25cIj09dHlwZW9mIGVbdF0mJihlW3RdPWVbdF0oKSl9LGUucHJvdG90eXBlLl9sb2c9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2V2YWxMYXp5T3B0aW9uYWxQYXJhbXMociksZS5jYWxsLmFwcGx5KGUscyhbY29uc29sZSxcInh0ZXJtLmpzOiBcIit0XSxvKHIpLCExKSl9LGUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3RoaXMubG9nTGV2ZWw8PWEuTG9nTGV2ZWxFbnVtLkRFQlVHJiZ0aGlzLl9sb2coY29uc29sZS5sb2csZSx0KX0sZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmxvZ0xldmVsPD1hLkxvZ0xldmVsRW51bS5JTkZPJiZ0aGlzLl9sb2coY29uc29sZS5pbmZvLGUsdCl9LGUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07dGhpcy5sb2dMZXZlbDw9YS5Mb2dMZXZlbEVudW0uV0FSTiYmdGhpcy5fbG9nKGNvbnNvbGUud2FybixlLHQpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmxvZ0xldmVsPD1hLkxvZ0xldmVsRW51bS5FUlJPUiYmdGhpcy5fbG9nKGNvbnNvbGUuZXJyb3IsZSx0KX0saShbbigwLGEuSU9wdGlvbnNTZXJ2aWNlKV0sZSl9KCk7dC5Mb2dTZXJ2aWNlPWx9LDczMDI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylmb3IodmFyIG4gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBlfSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5PcHRpb25zU2VydmljZT10LkRFRkFVTFRfT1BUSU9OUz10LkRFRkFVTFRfQkVMTF9TT1VORD12b2lkIDA7dmFyIG49cig4NDYwKSxvPXIoNjExNCk7dC5ERUZBVUxUX0JFTExfU09VTkQ9XCJkYXRhOmF1ZGlvL21wMztiYXNlNjQsU1VRekJBQUFBQUFBSTFSVFUwVUFBQUFQQUFBRFRHRjJaalU0TGpNeUxqRXdOQUFBQUFBQUFBQUFBQUFBLy90UXhBQURCOEFoU214aElJRVZDU2lKckRDUUJUY3UzVXJBSXdVZGtSZ1FiRkFaQzFDUUV3VEo5bWpSdkJBNFVPTEQ4bktWT1dmaCtVbEszei8xNzdPWHJmT2RLbDdweW4zWGYvL1dyZXlUUlVvQVdnQmdrT0FHYlpIQmdHMU9GNnpNODJEV2JaYVVtTUJwdGdRaEdqc3lZcWM5YWU5WEZ6MjgwOTQ4Tk1CV0lubGp5enNOUkZMUFdkblpHV3JkZERzaksxdW51U3JWTjlqSnNLOEt1UXRRQ3RNQmpDRXRJbUlTZE5LSk9vcElwQkZwTlNNYklIQ1NScFJSNWlha2pUaXl6TGhjaFVVQndDZ3lLaXdlQnYvN1VzUWJnOGlzVk5vTVBNakFBQUEwZ0FBQUJFVkZHbWdxSy8vLy85YlAvNlhDeWt4QlRVVXpMakV3TUtxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcVwiLHQuREVGQVVMVF9PUFRJT05TPXtjb2xzOjgwLHJvd3M6MjQsY3Vyc29yQmxpbms6ITEsY3Vyc29yU3R5bGU6XCJibG9ja1wiLGN1cnNvcldpZHRoOjEsY3VzdG9tR2x5cGhzOiEwLGJlbGxTb3VuZDp0LkRFRkFVTFRfQkVMTF9TT1VORCxiZWxsU3R5bGU6XCJub25lXCIsZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnM6ITAsZmFzdFNjcm9sbE1vZGlmaWVyOlwiYWx0XCIsZmFzdFNjcm9sbFNlbnNpdGl2aXR5OjUsZm9udEZhbWlseTpcImNvdXJpZXItbmV3LCBjb3VyaWVyLCBtb25vc3BhY2VcIixmb250U2l6ZToxNSxmb250V2VpZ2h0Olwibm9ybWFsXCIsZm9udFdlaWdodEJvbGQ6XCJib2xkXCIsbGluZUhlaWdodDoxLGxpbmtUb29sdGlwSG92ZXJEdXJhdGlvbjo1MDAsbGV0dGVyU3BhY2luZzowLGxvZ0xldmVsOlwiaW5mb1wiLHNjcm9sbGJhY2s6MWUzLHNjcm9sbFNlbnNpdGl2aXR5OjEsc2NyZWVuUmVhZGVyTW9kZTohMSxtYWNPcHRpb25Jc01ldGE6ITEsbWFjT3B0aW9uQ2xpY2tGb3JjZXNTZWxlY3Rpb246ITEsbWluaW11bUNvbnRyYXN0UmF0aW86MSxkaXNhYmxlU3RkaW46ITEsYWxsb3dQcm9wb3NlZEFwaTohMCxhbGxvd1RyYW5zcGFyZW5jeTohMSx0YWJTdG9wV2lkdGg6OCx0aGVtZTp7fSxyaWdodENsaWNrU2VsZWN0c1dvcmQ6by5pc01hYyxyZW5kZXJlclR5cGU6XCJjYW52YXNcIix3aW5kb3dPcHRpb25zOnt9LHdpbmRvd3NNb2RlOiExLHdvcmRTZXBhcmF0b3I6XCIgKClbXXt9JyxcXFwiYFwiLGFsdENsaWNrTW92ZXNDdXJzb3I6ITAsY29udmVydEVvbDohMSx0ZXJtTmFtZTpcInh0ZXJtXCIsY2FuY2VsRXZlbnRzOiExLG92ZXJ2aWV3UnVsZXJXaWR0aDp2b2lkIDB9O3ZhciBzPVtcIm5vcm1hbFwiLFwiYm9sZFwiLFwiMTAwXCIsXCIyMDBcIixcIjMwMFwiLFwiNDAwXCIsXCI1MDBcIixcIjYwMFwiLFwiNzAwXCIsXCI4MDBcIixcIjkwMFwiXSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9vbk9wdGlvbkNoYW5nZT1uZXcgbi5FdmVudEVtaXR0ZXI7dmFyIHI9aSh7fSx0LkRFRkFVTFRfT1BUSU9OUyk7Zm9yKHZhciBvIGluIGUpaWYobyBpbiByKXRyeXt2YXIgcz1lW29dO3Jbb109dGhpcy5fc2FuaXRpemVBbmRWYWxpZGF0ZU9wdGlvbihvLHMpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9dGhpcy5yYXdPcHRpb25zPXIsdGhpcy5vcHRpb25zPWkoe30sciksdGhpcy5fc2V0dXBPcHRpb25zKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uT3B0aW9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbk9wdGlvbkNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fc2V0dXBPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPWZ1bmN0aW9uKHIpe2lmKCEociBpbiB0LkRFRkFVTFRfT1BUSU9OUykpdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb24gd2l0aCBrZXkgXCInK3IrJ1wiJyk7cmV0dXJuIGUucmF3T3B0aW9uc1tyXX0saT1mdW5jdGlvbihyLGkpe2lmKCEociBpbiB0LkRFRkFVTFRfT1BUSU9OUykpdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb24gd2l0aCBrZXkgXCInK3IrJ1wiJyk7aT1lLl9zYW5pdGl6ZUFuZFZhbGlkYXRlT3B0aW9uKHIsaSksZS5yYXdPcHRpb25zW3JdIT09aSYmKGUucmF3T3B0aW9uc1tyXT1pLGUuX29uT3B0aW9uQ2hhbmdlLmZpcmUocikpfTtmb3IodmFyIG4gaW4gdGhpcy5yYXdPcHRpb25zKXt2YXIgbz17Z2V0OnIuYmluZCh0aGlzLG4pLHNldDppLmJpbmQodGhpcyxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucyxuLG8pfX0sZS5wcm90b3R5cGUuc2V0T3B0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5vcHRpb25zW2VdPXR9LGUucHJvdG90eXBlLl9zYW5pdGl6ZUFuZFZhbGlkYXRlT3B0aW9uPWZ1bmN0aW9uKGUscil7c3dpdGNoKGUpe2Nhc2VcImJlbGxTdHlsZVwiOmNhc2VcImN1cnNvclN0eWxlXCI6Y2FzZVwicmVuZGVyZXJUeXBlXCI6Y2FzZVwid29yZFNlcGFyYXRvclwiOnJ8fChyPXQuREVGQVVMVF9PUFRJT05TW2VdKTticmVhaztjYXNlXCJmb250V2VpZ2h0XCI6Y2FzZVwiZm9udFdlaWdodEJvbGRcIjppZihcIm51bWJlclwiPT10eXBlb2YgciYmMTw9ciYmcjw9MWUzKWJyZWFrO3I9cy5pbmNsdWRlcyhyKT9yOnQuREVGQVVMVF9PUFRJT05TW2VdO2JyZWFrO2Nhc2VcImN1cnNvcldpZHRoXCI6cj1NYXRoLmZsb29yKHIpO2Nhc2VcImxpbmVIZWlnaHRcIjpjYXNlXCJ0YWJTdG9wV2lkdGhcIjppZihyPDEpdGhyb3cgbmV3IEVycm9yKGUrXCIgY2Fubm90IGJlIGxlc3MgdGhhbiAxLCB2YWx1ZTogXCIrcik7YnJlYWs7Y2FzZVwibWluaW11bUNvbnRyYXN0UmF0aW9cIjpyPU1hdGgubWF4KDEsTWF0aC5taW4oMjEsTWF0aC5yb3VuZCgxMCpyKS8xMCkpO2JyZWFrO2Nhc2VcInNjcm9sbGJhY2tcIjppZigocj1NYXRoLm1pbihyLDQyOTQ5NjcyOTUpKTwwKXRocm93IG5ldyBFcnJvcihlK1wiIGNhbm5vdCBiZSBsZXNzIHRoYW4gMCwgdmFsdWU6IFwiK3IpO2JyZWFrO2Nhc2VcImZhc3RTY3JvbGxTZW5zaXRpdml0eVwiOmNhc2VcInNjcm9sbFNlbnNpdGl2aXR5XCI6aWYocjw9MCl0aHJvdyBuZXcgRXJyb3IoZStcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDAsIHZhbHVlOiBcIityKTtjYXNlXCJyb3dzXCI6Y2FzZVwiY29sc1wiOmlmKCFyJiYwIT09cil0aHJvdyBuZXcgRXJyb3IoZStcIiBtdXN0IGJlIG51bWVyaWMsIHZhbHVlOiBcIityKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuZ2V0T3B0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnNbZV19LGV9KCk7dC5PcHRpb25zU2VydmljZT1hfSw4MzQzOihlLHQpPT57ZnVuY3Rpb24gcihlLHQscil7dC5kaSR0YXJnZXQ9PT10P3QuZGkkZGVwZW5kZW5jaWVzLnB1c2goe2lkOmUsaW5kZXg6cn0pOih0LmRpJGRlcGVuZGVuY2llcz1be2lkOmUsaW5kZXg6cn1dLHQuZGkkdGFyZ2V0PXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlRGVjb3JhdG9yPXQuZ2V0U2VydmljZURlcGVuZGVuY2llcz10LnNlcnZpY2VSZWdpc3RyeT12b2lkIDAsdC5zZXJ2aWNlUmVnaXN0cnk9bmV3IE1hcCx0LmdldFNlcnZpY2VEZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGkkZGVwZW5kZW5jaWVzfHxbXX0sdC5jcmVhdGVEZWNvcmF0b3I9ZnVuY3Rpb24oZSl7aWYodC5zZXJ2aWNlUmVnaXN0cnkuaGFzKGUpKXJldHVybiB0LnNlcnZpY2VSZWdpc3RyeS5nZXQoZSk7dmFyIGk9ZnVuY3Rpb24oZSx0LG4pe2lmKDMhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkBJU2VydmljZU5hbWUtZGVjb3JhdG9yIGNhbiBvbmx5IGJlIHVzZWQgdG8gZGVjb3JhdGUgYSBwYXJhbWV0ZXJcIik7cihpLGUsbil9O3JldHVybiBpLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuc2VydmljZVJlZ2lzdHJ5LnNldChlLGkpLGl9fSwyNTg1OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LklEZWNvcmF0aW9uU2VydmljZT10LklVbmljb2RlU2VydmljZT10LklPcHRpb25zU2VydmljZT10LklMb2dTZXJ2aWNlPXQuTG9nTGV2ZWxFbnVtPXQuSUluc3RhbnRpYXRpb25TZXJ2aWNlPXQuSURpcnR5Um93U2VydmljZT10LklDaGFyc2V0U2VydmljZT10LklDb3JlU2VydmljZT10LklDb3JlTW91c2VTZXJ2aWNlPXQuSUJ1ZmZlclNlcnZpY2U9dm9pZCAwO3ZhciBpLG49cig4MzQzKTt0LklCdWZmZXJTZXJ2aWNlPSgwLG4uY3JlYXRlRGVjb3JhdG9yKShcIkJ1ZmZlclNlcnZpY2VcIiksdC5JQ29yZU1vdXNlU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJDb3JlTW91c2VTZXJ2aWNlXCIpLHQuSUNvcmVTZXJ2aWNlPSgwLG4uY3JlYXRlRGVjb3JhdG9yKShcIkNvcmVTZXJ2aWNlXCIpLHQuSUNoYXJzZXRTZXJ2aWNlPSgwLG4uY3JlYXRlRGVjb3JhdG9yKShcIkNoYXJzZXRTZXJ2aWNlXCIpLHQuSURpcnR5Um93U2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJEaXJ0eVJvd1NlcnZpY2VcIiksdC5JSW5zdGFudGlhdGlvblNlcnZpY2U9KDAsbi5jcmVhdGVEZWNvcmF0b3IpKFwiSW5zdGFudGlhdGlvblNlcnZpY2VcIiksKGk9dC5Mb2dMZXZlbEVudW18fCh0LkxvZ0xldmVsRW51bT17fSkpW2kuREVCVUc9MF09XCJERUJVR1wiLGlbaS5JTkZPPTFdPVwiSU5GT1wiLGlbaS5XQVJOPTJdPVwiV0FSTlwiLGlbaS5FUlJPUj0zXT1cIkVSUk9SXCIsaVtpLk9GRj00XT1cIk9GRlwiLHQuSUxvZ1NlcnZpY2U9KDAsbi5jcmVhdGVEZWNvcmF0b3IpKFwiTG9nU2VydmljZVwiKSx0LklPcHRpb25zU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJPcHRpb25zU2VydmljZVwiKSx0LklVbmljb2RlU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJVbmljb2RlU2VydmljZVwiKSx0LklEZWNvcmF0aW9uU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJEZWNvcmF0aW9uU2VydmljZVwiKX0sMTQ4MDooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Vbmljb2RlU2VydmljZT12b2lkIDA7dmFyIGk9cig4NDYwKSxuPXIoMjI1KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3Byb3ZpZGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FjdGl2ZT1cIlwiLHRoaXMuX29uQ2hhbmdlPW5ldyBpLkV2ZW50RW1pdHRlcjt2YXIgZT1uZXcgbi5Vbmljb2RlVjY7dGhpcy5yZWdpc3RlcihlKSx0aGlzLl9hY3RpdmU9ZS52ZXJzaW9uLHRoaXMuX2FjdGl2ZVByb3ZpZGVyPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2ZXJzaW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5fcHJvdmlkZXJzKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RpdmVWZXJzaW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmV9LHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5fcHJvdmlkZXJzW2VdKXRocm93IG5ldyBFcnJvcigndW5rbm93biBVbmljb2RlIHZlcnNpb24gXCInK2UrJ1wiJyk7dGhpcy5fYWN0aXZlPWUsdGhpcy5fYWN0aXZlUHJvdmlkZXI9dGhpcy5fcHJvdmlkZXJzW2VdLHRoaXMuX29uQ2hhbmdlLmZpcmUoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcHJvdmlkZXJzW2UudmVyc2lvbl09ZX0sZS5wcm90b3R5cGUud2N3aWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYWN0aXZlUHJvdmlkZXIud2N3aWR0aChlKX0sZS5wcm90b3R5cGUuZ2V0U3RyaW5nQ2VsbFdpZHRoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9ZS5sZW5ndGgsaT0wO2k8cjsrK2kpe3ZhciBuPWUuY2hhckNvZGVBdChpKTtpZig1NTI5Njw9biYmbjw9NTYzMTkpe2lmKCsraT49cilyZXR1cm4gdCt0aGlzLndjd2lkdGgobik7dmFyIG89ZS5jaGFyQ29kZUF0KGkpOzU2MzIwPD1vJiZvPD01NzM0Mz9uPTEwMjQqKG4tNTUyOTYpK28tNTYzMjArNjU1MzY6dCs9dGhpcy53Y3dpZHRoKG8pfXQrPXRoaXMud2N3aWR0aChuKX1yZXR1cm4gdH0sZX0oKTt0LlVuaWNvZGVTZXJ2aWNlPW99fSx0PXt9O3JldHVybiBmdW5jdGlvbiByKGkpe3ZhciBuPXRbaV07aWYodm9pZCAwIT09bilyZXR1cm4gbi5leHBvcnRzO3ZhciBvPXRbaV09e2V4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8uZXhwb3J0c30oNDM4OSl9KSgpfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eHRlcm0uanMubWFwIiwiLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcclxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcclxuICAgICAgICAvLyBsaWtlIE5vZGUuXHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXHJcbiAgICAgICAgcm9vdC5EZWNvZGVyID0gZmFjdG9yeSgpO1xyXG4gICAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICBcclxuICB2YXIgZ2xvYmFsO1xyXG4gIFxyXG4gIGZ1bmN0aW9uIGluaXRnbG9iYWwoKXtcclxuICAgIGdsb2JhbCA9IHRoaXM7XHJcbiAgICBpZiAoIWdsb2JhbCl7XHJcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgIGdsb2JhbCA9IHdpbmRvdztcclxuICAgICAgfWVsc2UgaWYgKHR5cGVvZiBzZWxmICE9IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgIGdsb2JhbCA9IHNlbGY7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgaW5pdGdsb2JhbCgpO1xyXG4gIFxyXG4gIFxyXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgfTtcclxuXHJcbiAgXHJcbiAgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xyXG4gICAgaWYgKCFjb25kaXRpb24pIHtcclxuICAgICAgZXJyb3IobWVzc2FnZSk7XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgdmFyIGdldE1vZHVsZSA9IGZ1bmN0aW9uKHBhcl9icm9hZHdheU9uSGVhZGVyc0RlY29kZWQsIHBhcl9icm9hZHdheU9uUGljdHVyZURlY29kZWQpe1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8qdmFyIE1vZHVsZVggPSB7XHJcbiAgICAgICdwcmludCc6IGZ1bmN0aW9uKHRleHQpIHsgY29uc29sZS5sb2coJ3N0ZG91dDogJyArIHRleHQpOyB9LFxyXG4gICAgICAncHJpbnRFcnInOiBmdW5jdGlvbih0ZXh0KSB7IGNvbnNvbGUubG9nKCdzdGRlcnI6ICcgKyB0ZXh0KTsgfVxyXG4gICAgfTsqL1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8qXHJcbiAgICBcclxuICAgICAgVGhlIHJlYXNvbiB3aHkgdGhpcyBpcyBhbGwgcGFja2VkIGludG8gb25lIGZpbGUgaXMgdGhhdCB0aGlzIGZpbGUgY2FuIGFsc28gZnVuY3Rpb24gYXMgd29ya2VyLlxyXG4gICAgICB5b3UgY2FuIGludGVncmF0ZSB0aGUgZmlsZSBpbnRvIHlvdXIgYnVpbGQgc3lzdGVtIGFuZCBwcm92aWRlIHRoZSBvcmlnaW5hbCBmaWxlIHRvIGJlIGxvYWRlZCBpbnRvIGEgd29ya2VyLlxyXG4gICAgXHJcbiAgICAqL1xyXG4gICAgXHJcbiAgICAvL3ZhciBNb2R1bGUgPSAoZnVuY3Rpb24oKXtcclxuICAgIFxyXG4gICAgXHJcbnZhciBNb2R1bGU9dHlwZW9mIE1vZHVsZSE9PVwidW5kZWZpbmVkXCI/TW9kdWxlOnt9O3ZhciBtb2R1bGVPdmVycmlkZXM9e307dmFyIGtleTtmb3Ioa2V5IGluIE1vZHVsZSl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpe21vZHVsZU92ZXJyaWRlc1trZXldPU1vZHVsZVtrZXldfX1Nb2R1bGVbXCJhcmd1bWVudHNcIl09W107TW9kdWxlW1widGhpc1Byb2dyYW1cIl09XCIuL3RoaXMucHJvZ3JhbVwiO01vZHVsZVtcInF1aXRcIl09KGZ1bmN0aW9uKHN0YXR1cyx0b1Rocm93KXt0aHJvdyB0b1Rocm93fSk7TW9kdWxlW1wicHJlUnVuXCJdPVtdO01vZHVsZVtcInBvc3RSdW5cIl09W107dmFyIEVOVklST05NRU5UX0lTX1dFQj1mYWxzZTt2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSPWZhbHNlO3ZhciBFTlZJUk9OTUVOVF9JU19OT0RFPWZhbHNlO3ZhciBFTlZJUk9OTUVOVF9JU19TSEVMTD1mYWxzZTtpZihNb2R1bGVbXCJFTlZJUk9OTUVOVFwiXSl7aWYoTW9kdWxlW1wiRU5WSVJPTk1FTlRcIl09PT1cIldFQlwiKXtFTlZJUk9OTUVOVF9JU19XRUI9dHJ1ZX1lbHNlIGlmKE1vZHVsZVtcIkVOVklST05NRU5UXCJdPT09XCJXT1JLRVJcIil7RU5WSVJPTk1FTlRfSVNfV09SS0VSPXRydWV9ZWxzZSBpZihNb2R1bGVbXCJFTlZJUk9OTUVOVFwiXT09PVwiTk9ERVwiKXtFTlZJUk9OTUVOVF9JU19OT0RFPXRydWV9ZWxzZSBpZihNb2R1bGVbXCJFTlZJUk9OTUVOVFwiXT09PVwiU0hFTExcIil7RU5WSVJPTk1FTlRfSVNfU0hFTEw9dHJ1ZX1lbHNle3Rocm93IG5ldyBFcnJvcihcIk1vZHVsZVsnRU5WSVJPTk1FTlQnXSB2YWx1ZSBpcyBub3QgdmFsaWQuIG11c3QgYmUgb25lIG9mOiBXRUJ8V09SS0VSfE5PREV8U0hFTEwuXCIpfX1lbHNle0VOVklST05NRU5UX0lTX1dFQj10eXBlb2Ygd2luZG93PT09XCJvYmplY3RcIjtFTlZJUk9OTUVOVF9JU19XT1JLRVI9dHlwZW9mIGltcG9ydFNjcmlwdHM9PT1cImZ1bmN0aW9uXCI7RU5WSVJPTk1FTlRfSVNfTk9ERT10eXBlb2YgcHJvY2Vzcz09PVwib2JqZWN0XCImJnR5cGVvZiBudWxsPT09XCJmdW5jdGlvblwiJiYhRU5WSVJPTk1FTlRfSVNfV0VCJiYhRU5WSVJPTk1FTlRfSVNfV09SS0VSO0VOVklST05NRU5UX0lTX1NIRUxMPSFFTlZJUk9OTUVOVF9JU19XRUImJiFFTlZJUk9OTUVOVF9JU19OT0RFJiYhRU5WSVJPTk1FTlRfSVNfV09SS0VSfWlmKEVOVklST05NRU5UX0lTX05PREUpe3ZhciBub2RlRlM7dmFyIG5vZGVQYXRoO01vZHVsZVtcInJlYWRcIl09ZnVuY3Rpb24gc2hlbGxfcmVhZChmaWxlbmFtZSxiaW5hcnkpe3ZhciByZXQ7aWYoIW5vZGVGUylub2RlRlM9KG51bGwpKFwiZnNcIik7aWYoIW5vZGVQYXRoKW5vZGVQYXRoPShudWxsKShcInBhdGhcIik7ZmlsZW5hbWU9bm9kZVBhdGhbXCJub3JtYWxpemVcIl0oZmlsZW5hbWUpO3JldD1ub2RlRlNbXCJyZWFkRmlsZVN5bmNcIl0oZmlsZW5hbWUpO3JldHVybiBiaW5hcnk/cmV0OnJldC50b1N0cmluZygpfTtNb2R1bGVbXCJyZWFkQmluYXJ5XCJdPWZ1bmN0aW9uIHJlYWRCaW5hcnkoZmlsZW5hbWUpe3ZhciByZXQ9TW9kdWxlW1wicmVhZFwiXShmaWxlbmFtZSx0cnVlKTtpZighcmV0LmJ1ZmZlcil7cmV0PW5ldyBVaW50OEFycmF5KHJldCl9YXNzZXJ0KHJldC5idWZmZXIpO3JldHVybiByZXR9O2lmKHByb2Nlc3NbXCJhcmd2XCJdLmxlbmd0aD4xKXtNb2R1bGVbXCJ0aGlzUHJvZ3JhbVwiXT1wcm9jZXNzW1wiYXJndlwiXVsxXS5yZXBsYWNlKC9cXFxcL2csXCIvXCIpfU1vZHVsZVtcImFyZ3VtZW50c1wiXT1wcm9jZXNzW1wiYXJndlwiXS5zbGljZSgyKTtpZih0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlW1wiZXhwb3J0c1wiXT1Nb2R1bGV9cHJvY2Vzc1tcIm9uXCJdKFwidW5jYXVnaHRFeGNlcHRpb25cIiwoZnVuY3Rpb24oZXgpe2lmKCEoZXggaW5zdGFuY2VvZiBFeGl0U3RhdHVzKSl7dGhyb3cgZXh9fSkpO3Byb2Nlc3NbXCJvblwiXShcInVuaGFuZGxlZFJlamVjdGlvblwiLChmdW5jdGlvbihyZWFzb24scCl7cHJvY2Vzc1tcImV4aXRcIl0oMSl9KSk7TW9kdWxlW1wiaW5zcGVjdFwiXT0oZnVuY3Rpb24oKXtyZXR1cm5cIltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdXCJ9KX1lbHNlIGlmKEVOVklST05NRU5UX0lTX1NIRUxMKXtpZih0eXBlb2YgcmVhZCE9XCJ1bmRlZmluZWRcIil7TW9kdWxlW1wicmVhZFwiXT1mdW5jdGlvbiBzaGVsbF9yZWFkKGYpe3JldHVybiByZWFkKGYpfX1Nb2R1bGVbXCJyZWFkQmluYXJ5XCJdPWZ1bmN0aW9uIHJlYWRCaW5hcnkoZil7dmFyIGRhdGE7aWYodHlwZW9mIHJlYWRidWZmZXI9PT1cImZ1bmN0aW9uXCIpe3JldHVybiBuZXcgVWludDhBcnJheShyZWFkYnVmZmVyKGYpKX1kYXRhPXJlYWQoZixcImJpbmFyeVwiKTthc3NlcnQodHlwZW9mIGRhdGE9PT1cIm9iamVjdFwiKTtyZXR1cm4gZGF0YX07aWYodHlwZW9mIHNjcmlwdEFyZ3MhPVwidW5kZWZpbmVkXCIpe01vZHVsZVtcImFyZ3VtZW50c1wiXT1zY3JpcHRBcmdzfWVsc2UgaWYodHlwZW9mIGFyZ3VtZW50cyE9XCJ1bmRlZmluZWRcIil7TW9kdWxlW1wiYXJndW1lbnRzXCJdPWFyZ3VtZW50c31pZih0eXBlb2YgcXVpdD09PVwiZnVuY3Rpb25cIil7TW9kdWxlW1wicXVpdFwiXT0oZnVuY3Rpb24oc3RhdHVzLHRvVGhyb3cpe3F1aXQoc3RhdHVzKX0pfX1lbHNlIGlmKEVOVklST05NRU5UX0lTX1dFQnx8RU5WSVJPTk1FTlRfSVNfV09SS0VSKXtNb2R1bGVbXCJyZWFkXCJdPWZ1bmN0aW9uIHNoZWxsX3JlYWQodXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbihcIkdFVFwiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7cmV0dXJuIHhoci5yZXNwb25zZVRleHR9O2lmKEVOVklST05NRU5UX0lTX1dPUktFUil7TW9kdWxlW1wicmVhZEJpbmFyeVwiXT1mdW5jdGlvbiByZWFkQmluYXJ5KHVybCl7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO3hoci5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpfX1Nb2R1bGVbXCJyZWFkQXN5bmNcIl09ZnVuY3Rpb24gcmVhZEFzeW5jKHVybCxvbmxvYWQsb25lcnJvcil7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsdHJ1ZSk7eGhyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7eGhyLm9ubG9hZD1mdW5jdGlvbiB4aHJfb25sb2FkKCl7aWYoeGhyLnN0YXR1cz09MjAwfHx4aHIuc3RhdHVzPT0wJiZ4aHIucmVzcG9uc2Upe29ubG9hZCh4aHIucmVzcG9uc2UpO3JldHVybn1vbmVycm9yKCl9O3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9O01vZHVsZVtcInNldFdpbmRvd1RpdGxlXCJdPShmdW5jdGlvbih0aXRsZSl7ZG9jdW1lbnQudGl0bGU9dGl0bGV9KX1lbHNle3Rocm93IG5ldyBFcnJvcihcIm5vdCBjb21waWxlZCBmb3IgdGhpcyBlbnZpcm9ubWVudFwiKX1Nb2R1bGVbXCJwcmludFwiXT10eXBlb2YgY29uc29sZSE9PVwidW5kZWZpbmVkXCI/Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTp0eXBlb2YgcHJpbnQhPT1cInVuZGVmaW5lZFwiP3ByaW50Om51bGw7TW9kdWxlW1wicHJpbnRFcnJcIl09dHlwZW9mIHByaW50RXJyIT09XCJ1bmRlZmluZWRcIj9wcmludEVycjp0eXBlb2YgY29uc29sZSE9PVwidW5kZWZpbmVkXCImJmNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpfHxNb2R1bGVbXCJwcmludFwiXTtNb2R1bGUucHJpbnQ9TW9kdWxlW1wicHJpbnRcIl07TW9kdWxlLnByaW50RXJyPU1vZHVsZVtcInByaW50RXJyXCJdO2ZvcihrZXkgaW4gbW9kdWxlT3ZlcnJpZGVzKXtpZihtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSl7TW9kdWxlW2tleV09bW9kdWxlT3ZlcnJpZGVzW2tleV19fW1vZHVsZU92ZXJyaWRlcz11bmRlZmluZWQ7dmFyIFNUQUNLX0FMSUdOPTE2O2Z1bmN0aW9uIHN0YXRpY0FsbG9jKHNpemUpe2Fzc2VydCghc3RhdGljU2VhbGVkKTt2YXIgcmV0PVNUQVRJQ1RPUDtTVEFUSUNUT1A9U1RBVElDVE9QK3NpemUrMTUmLTE2O3JldHVybiByZXR9ZnVuY3Rpb24gYWxpZ25NZW1vcnkoc2l6ZSxmYWN0b3Ipe2lmKCFmYWN0b3IpZmFjdG9yPVNUQUNLX0FMSUdOO3ZhciByZXQ9c2l6ZT1NYXRoLmNlaWwoc2l6ZS9mYWN0b3IpKmZhY3RvcjtyZXR1cm4gcmV0fXZhciBhc20yd2FzbUltcG9ydHM9e1wiZjY0LXJlbVwiOihmdW5jdGlvbih4LHkpe3JldHVybiB4JXl9KSxcImRlYnVnZ2VyXCI6KGZ1bmN0aW9uKCl7ZGVidWdnZXJ9KX07dmFyIGZ1bmN0aW9uUG9pbnRlcnM9bmV3IEFycmF5KDApO3ZhciBHTE9CQUxfQkFTRT0xMDI0O3ZhciBBQk9SVD0wO3ZhciBFWElUU1RBVFVTPTA7ZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbix0ZXh0KXtpZighY29uZGl0aW9uKXthYm9ydChcIkFzc2VydGlvbiBmYWlsZWQ6IFwiK3RleHQpfX1mdW5jdGlvbiBQb2ludGVyX3N0cmluZ2lmeShwdHIsbGVuZ3RoKXtpZihsZW5ndGg9PT0wfHwhcHRyKXJldHVyblwiXCI7dmFyIGhhc1V0Zj0wO3ZhciB0O3ZhciBpPTA7d2hpbGUoMSl7dD1IRUFQVThbcHRyK2k+PjBdO2hhc1V0Znw9dDtpZih0PT0wJiYhbGVuZ3RoKWJyZWFrO2krKztpZihsZW5ndGgmJmk9PWxlbmd0aClicmVha31pZighbGVuZ3RoKWxlbmd0aD1pO3ZhciByZXQ9XCJcIjtpZihoYXNVdGY8MTI4KXt2YXIgTUFYX0NIVU5LPTEwMjQ7dmFyIGN1cnI7d2hpbGUobGVuZ3RoPjApe2N1cnI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsSEVBUFU4LnN1YmFycmF5KHB0cixwdHIrTWF0aC5taW4obGVuZ3RoLE1BWF9DSFVOSykpKTtyZXQ9cmV0P3JldCtjdXJyOmN1cnI7cHRyKz1NQVhfQ0hVTks7bGVuZ3RoLT1NQVhfQ0hVTkt9cmV0dXJuIHJldH1yZXR1cm4gVVRGOFRvU3RyaW5nKHB0cil9dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9PVwidW5kZWZpbmVkXCI/bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTp1bmRlZmluZWQ7ZnVuY3Rpb24gVVRGOEFycmF5VG9TdHJpbmcodThBcnJheSxpZHgpe3ZhciBlbmRQdHI9aWR4O3doaWxlKHU4QXJyYXlbZW5kUHRyXSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZ1OEFycmF5LnN1YmFycmF5JiZVVEY4RGVjb2Rlcil7cmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZSh1OEFycmF5LnN1YmFycmF5KGlkeCxlbmRQdHIpKX1lbHNle3ZhciB1MCx1MSx1Mix1Myx1NCx1NTt2YXIgc3RyPVwiXCI7d2hpbGUoMSl7dTA9dThBcnJheVtpZHgrK107aWYoIXUwKXJldHVybiBzdHI7aWYoISh1MCYxMjgpKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApO2NvbnRpbnVlfXUxPXU4QXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyMjQpPT0xOTIpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgodTAmMzEpPDw2fHUxKTtjb250aW51ZX11Mj11OEFycmF5W2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mn1lbHNle3UzPXU4QXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyNDgpPT0yNDApe3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fHUzfWVsc2V7dTQ9dThBcnJheVtpZHgrK10mNjM7aWYoKHUwJjI1Mik9PTI0OCl7dTA9KHUwJjMpPDwyNHx1MTw8MTh8dTI8PDEyfHUzPDw2fHU0fWVsc2V7dTU9dThBcnJheVtpZHgrK10mNjM7dTA9KHUwJjEpPDwzMHx1MTw8MjR8dTI8PDE4fHUzPDwxMnx1NDw8Nnx1NX19fWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApfWVsc2V7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9fX19ZnVuY3Rpb24gVVRGOFRvU3RyaW5nKHB0cil7cmV0dXJuIFVURjhBcnJheVRvU3RyaW5nKEhFQVBVOCxwdHIpfXZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT09XCJ1bmRlZmluZWRcIj9uZXcgVGV4dERlY29kZXIoXCJ1dGYtMTZsZVwiKTp1bmRlZmluZWQ7dmFyIFdBU01fUEFHRV9TSVpFPTY1NTM2O3ZhciBBU01KU19QQUdFX1NJWkU9MTY3NzcyMTY7ZnVuY3Rpb24gYWxpZ25VcCh4LG11bHRpcGxlKXtpZih4JW11bHRpcGxlPjApe3grPW11bHRpcGxlLXglbXVsdGlwbGV9cmV0dXJuIHh9dmFyIGJ1ZmZlcixIRUFQOCxIRUFQVTgsSEVBUDE2LEhFQVBVMTYsSEVBUDMyLEhFQVBVMzIsSEVBUEYzMixIRUFQRjY0O2Z1bmN0aW9uIHVwZGF0ZUdsb2JhbEJ1ZmZlcihidWYpe01vZHVsZVtcImJ1ZmZlclwiXT1idWZmZXI9YnVmfWZ1bmN0aW9uIHVwZGF0ZUdsb2JhbEJ1ZmZlclZpZXdzKCl7TW9kdWxlW1wiSEVBUDhcIl09SEVBUDg9bmV3IEludDhBcnJheShidWZmZXIpO01vZHVsZVtcIkhFQVAxNlwiXT1IRUFQMTY9bmV3IEludDE2QXJyYXkoYnVmZmVyKTtNb2R1bGVbXCJIRUFQMzJcIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7TW9kdWxlW1wiSEVBUFU4XCJdPUhFQVBVOD1uZXcgVWludDhBcnJheShidWZmZXIpO01vZHVsZVtcIkhFQVBVMTZcIl09SEVBUFUxNj1uZXcgVWludDE2QXJyYXkoYnVmZmVyKTtNb2R1bGVbXCJIRUFQVTMyXCJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7TW9kdWxlW1wiSEVBUEYzMlwiXT1IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtNb2R1bGVbXCJIRUFQRjY0XCJdPUhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShidWZmZXIpfXZhciBTVEFUSUNfQkFTRSxTVEFUSUNUT1Asc3RhdGljU2VhbGVkO3ZhciBTVEFDS19CQVNFLFNUQUNLVE9QLFNUQUNLX01BWDt2YXIgRFlOQU1JQ19CQVNFLERZTkFNSUNUT1BfUFRSO1NUQVRJQ19CQVNFPVNUQVRJQ1RPUD1TVEFDS19CQVNFPVNUQUNLVE9QPVNUQUNLX01BWD1EWU5BTUlDX0JBU0U9RFlOQU1JQ1RPUF9QVFI9MDtzdGF0aWNTZWFsZWQ9ZmFsc2U7ZnVuY3Rpb24gYWJvcnRPbkNhbm5vdEdyb3dNZW1vcnkoKXthYm9ydChcIkNhbm5vdCBlbmxhcmdlIG1lbW9yeSBhcnJheXMuIEVpdGhlciAoMSkgY29tcGlsZSB3aXRoICAtcyBUT1RBTF9NRU1PUlk9WCAgd2l0aCBYIGhpZ2hlciB0aGFuIHRoZSBjdXJyZW50IHZhbHVlIFwiK1RPVEFMX01FTU9SWStcIiwgKDIpIGNvbXBpbGUgd2l0aCAgLXMgQUxMT1dfTUVNT1JZX0dST1dUSD0xICB3aGljaCBhbGxvd3MgaW5jcmVhc2luZyB0aGUgc2l6ZSBhdCBydW50aW1lLCBvciAoMykgaWYgeW91IHdhbnQgbWFsbG9jIHRvIHJldHVybiBOVUxMICgwKSBpbnN0ZWFkIG9mIHRoaXMgYWJvcnQsIGNvbXBpbGUgd2l0aCAgLXMgQUJPUlRJTkdfTUFMTE9DPTAgXCIpfWZ1bmN0aW9uIGVubGFyZ2VNZW1vcnkoKXthYm9ydE9uQ2Fubm90R3Jvd01lbW9yeSgpfXZhciBUT1RBTF9TVEFDSz1Nb2R1bGVbXCJUT1RBTF9TVEFDS1wiXXx8NTI0Mjg4MDt2YXIgVE9UQUxfTUVNT1JZPU1vZHVsZVtcIlRPVEFMX01FTU9SWVwiXXx8NTI0Mjg4MDA7aWYoVE9UQUxfTUVNT1JZPFRPVEFMX1NUQUNLKU1vZHVsZS5wcmludEVycihcIlRPVEFMX01FTU9SWSBzaG91bGQgYmUgbGFyZ2VyIHRoYW4gVE9UQUxfU1RBQ0ssIHdhcyBcIitUT1RBTF9NRU1PUlkrXCIhIChUT1RBTF9TVEFDSz1cIitUT1RBTF9TVEFDSytcIilcIik7aWYoTW9kdWxlW1wiYnVmZmVyXCJdKXtidWZmZXI9TW9kdWxlW1wiYnVmZmVyXCJdfWVsc2V7aWYodHlwZW9mIFdlYkFzc2VtYmx5PT09XCJvYmplY3RcIiYmdHlwZW9mIFdlYkFzc2VtYmx5Lk1lbW9yeT09PVwiZnVuY3Rpb25cIil7TW9kdWxlW1wid2FzbU1lbW9yeVwiXT1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtcImluaXRpYWxcIjpUT1RBTF9NRU1PUlkvV0FTTV9QQUdFX1NJWkUsXCJtYXhpbXVtXCI6VE9UQUxfTUVNT1JZL1dBU01fUEFHRV9TSVpFfSk7YnVmZmVyPU1vZHVsZVtcIndhc21NZW1vcnlcIl0uYnVmZmVyfWVsc2V7YnVmZmVyPW5ldyBBcnJheUJ1ZmZlcihUT1RBTF9NRU1PUlkpfU1vZHVsZVtcImJ1ZmZlclwiXT1idWZmZXJ9dXBkYXRlR2xvYmFsQnVmZmVyVmlld3MoKTtmdW5jdGlvbiBnZXRUb3RhbE1lbW9yeSgpe3JldHVybiBUT1RBTF9NRU1PUll9SEVBUDMyWzBdPTE2Njg1MDkwMjk7SEVBUDE2WzFdPTI1NDU5O2lmKEhFQVBVOFsyXSE9PTExNXx8SEVBUFU4WzNdIT09OTkpdGhyb3dcIlJ1bnRpbWUgZXJyb3I6IGV4cGVjdGVkIHRoZSBzeXN0ZW0gdG8gYmUgbGl0dGxlLWVuZGlhbiFcIjtmdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3Mpe3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7dmFyIGNhbGxiYWNrPWNhbGxiYWNrcy5zaGlmdCgpO2lmKHR5cGVvZiBjYWxsYmFjaz09XCJmdW5jdGlvblwiKXtjYWxsYmFjaygpO2NvbnRpbnVlfXZhciBmdW5jPWNhbGxiYWNrLmZ1bmM7aWYodHlwZW9mIGZ1bmM9PT1cIm51bWJlclwiKXtpZihjYWxsYmFjay5hcmc9PT11bmRlZmluZWQpe01vZHVsZVtcImR5bkNhbGxfdlwiXShmdW5jKX1lbHNle01vZHVsZVtcImR5bkNhbGxfdmlcIl0oZnVuYyxjYWxsYmFjay5hcmcpfX1lbHNle2Z1bmMoY2FsbGJhY2suYXJnPT09dW5kZWZpbmVkP251bGw6Y2FsbGJhY2suYXJnKX19fXZhciBfX0FUUFJFUlVOX189W107dmFyIF9fQVRJTklUX189W107dmFyIF9fQVRNQUlOX189W107dmFyIF9fQVRFWElUX189W107dmFyIF9fQVRQT1NUUlVOX189W107dmFyIHJ1bnRpbWVJbml0aWFsaXplZD1mYWxzZTt2YXIgcnVudGltZUV4aXRlZD1mYWxzZTtmdW5jdGlvbiBwcmVSdW4oKXtpZihNb2R1bGVbXCJwcmVSdW5cIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwcmVSdW5cIl09PVwiZnVuY3Rpb25cIilNb2R1bGVbXCJwcmVSdW5cIl09W01vZHVsZVtcInByZVJ1blwiXV07d2hpbGUoTW9kdWxlW1wicHJlUnVuXCJdLmxlbmd0aCl7YWRkT25QcmVSdW4oTW9kdWxlW1wicHJlUnVuXCJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pfWZ1bmN0aW9uIGVuc3VyZUluaXRSdW50aW1lKCl7aWYocnVudGltZUluaXRpYWxpemVkKXJldHVybjtydW50aW1lSW5pdGlhbGl6ZWQ9dHJ1ZTtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKX1mdW5jdGlvbiBwcmVNYWluKCl7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVE1BSU5fXyl9ZnVuY3Rpb24gZXhpdFJ1bnRpbWUoKXtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FURVhJVF9fKTtydW50aW1lRXhpdGVkPXRydWV9ZnVuY3Rpb24gcG9zdFJ1bigpe2lmKE1vZHVsZVtcInBvc3RSdW5cIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwb3N0UnVuXCJdPT1cImZ1bmN0aW9uXCIpTW9kdWxlW1wicG9zdFJ1blwiXT1bTW9kdWxlW1wicG9zdFJ1blwiXV07d2hpbGUoTW9kdWxlW1wicG9zdFJ1blwiXS5sZW5ndGgpe2FkZE9uUG9zdFJ1bihNb2R1bGVbXCJwb3N0UnVuXCJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKX1mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpfWZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYil7X19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKX12YXIgTWF0aF9hYnM9TWF0aC5hYnM7dmFyIE1hdGhfY29zPU1hdGguY29zO3ZhciBNYXRoX3Npbj1NYXRoLnNpbjt2YXIgTWF0aF90YW49TWF0aC50YW47dmFyIE1hdGhfYWNvcz1NYXRoLmFjb3M7dmFyIE1hdGhfYXNpbj1NYXRoLmFzaW47dmFyIE1hdGhfYXRhbj1NYXRoLmF0YW47dmFyIE1hdGhfYXRhbjI9TWF0aC5hdGFuMjt2YXIgTWF0aF9leHA9TWF0aC5leHA7dmFyIE1hdGhfbG9nPU1hdGgubG9nO3ZhciBNYXRoX3NxcnQ9TWF0aC5zcXJ0O3ZhciBNYXRoX2NlaWw9TWF0aC5jZWlsO3ZhciBNYXRoX2Zsb29yPU1hdGguZmxvb3I7dmFyIE1hdGhfcG93PU1hdGgucG93O3ZhciBNYXRoX2ltdWw9TWF0aC5pbXVsO3ZhciBNYXRoX2Zyb3VuZD1NYXRoLmZyb3VuZDt2YXIgTWF0aF9yb3VuZD1NYXRoLnJvdW5kO3ZhciBNYXRoX21pbj1NYXRoLm1pbjt2YXIgTWF0aF9tYXg9TWF0aC5tYXg7dmFyIE1hdGhfY2x6MzI9TWF0aC5jbHozMjt2YXIgTWF0aF90cnVuYz1NYXRoLnRydW5jO3ZhciBydW5EZXBlbmRlbmNpZXM9MDt2YXIgcnVuRGVwZW5kZW5jeVdhdGNoZXI9bnVsbDt2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkPW51bGw7ZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzKys7aWYoTW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXSl7TW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXShydW5EZXBlbmRlbmNpZXMpfX1mdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMtLTtpZihNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKXtNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKHJ1bkRlcGVuZGVuY2llcyl9aWYocnVuRGVwZW5kZW5jaWVzPT0wKXtpZihydW5EZXBlbmRlbmN5V2F0Y2hlciE9PW51bGwpe2NsZWFySW50ZXJ2YWwocnVuRGVwZW5kZW5jeVdhdGNoZXIpO3J1bkRlcGVuZGVuY3lXYXRjaGVyPW51bGx9aWYoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKXt2YXIgY2FsbGJhY2s9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2NhbGxiYWNrKCl9fX1Nb2R1bGVbXCJwcmVsb2FkZWRJbWFnZXNcIl09e307TW9kdWxlW1wicHJlbG9hZGVkQXVkaW9zXCJdPXt9O3ZhciBkYXRhVVJJUHJlZml4PVwiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LFwiO2Z1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD9maWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpOmZpbGVuYW1lLmluZGV4T2YoZGF0YVVSSVByZWZpeCk9PT0wfWZ1bmN0aW9uIGludGVncmF0ZVdhc21KUygpe3ZhciB3YXNtVGV4dEZpbGU9XCJhdmMud2FzdFwiO3ZhciB3YXNtQmluYXJ5RmlsZT1cImF2Yy53YXNtXCI7dmFyIGFzbWpzQ29kZUZpbGU9XCJhdmMudGVtcC5hc20uanNcIjtpZih0eXBlb2YgTW9kdWxlW1wibG9jYXRlRmlsZVwiXT09PVwiZnVuY3Rpb25cIil7aWYoIWlzRGF0YVVSSSh3YXNtVGV4dEZpbGUpKXt3YXNtVGV4dEZpbGU9TW9kdWxlW1wibG9jYXRlRmlsZVwiXSh3YXNtVGV4dEZpbGUpfWlmKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKXt3YXNtQmluYXJ5RmlsZT1Nb2R1bGVbXCJsb2NhdGVGaWxlXCJdKHdhc21CaW5hcnlGaWxlKX1pZighaXNEYXRhVVJJKGFzbWpzQ29kZUZpbGUpKXthc21qc0NvZGVGaWxlPU1vZHVsZVtcImxvY2F0ZUZpbGVcIl0oYXNtanNDb2RlRmlsZSl9fXZhciB3YXNtUGFnZVNpemU9NjQqMTAyNDt2YXIgaW5mbz17XCJnbG9iYWxcIjpudWxsLFwiZW52XCI6bnVsbCxcImFzbTJ3YXNtXCI6YXNtMndhc21JbXBvcnRzLFwicGFyZW50XCI6TW9kdWxlfTt2YXIgZXhwb3J0cz1udWxsO2Z1bmN0aW9uIG1lcmdlTWVtb3J5KG5ld0J1ZmZlcil7dmFyIG9sZEJ1ZmZlcj1Nb2R1bGVbXCJidWZmZXJcIl07aWYobmV3QnVmZmVyLmJ5dGVMZW5ndGg8b2xkQnVmZmVyLmJ5dGVMZW5ndGgpe01vZHVsZVtcInByaW50RXJyXCJdKFwidGhlIG5ldyBidWZmZXIgaW4gbWVyZ2VNZW1vcnkgaXMgc21hbGxlciB0aGFuIHRoZSBwcmV2aW91cyBvbmUuIGluIG5hdGl2ZSB3YXNtLCB3ZSBzaG91bGQgZ3JvdyBtZW1vcnkgaGVyZVwiKX12YXIgb2xkVmlldz1uZXcgSW50OEFycmF5KG9sZEJ1ZmZlcik7dmFyIG5ld1ZpZXc9bmV3IEludDhBcnJheShuZXdCdWZmZXIpO25ld1ZpZXcuc2V0KG9sZFZpZXcpO3VwZGF0ZUdsb2JhbEJ1ZmZlcihuZXdCdWZmZXIpO3VwZGF0ZUdsb2JhbEJ1ZmZlclZpZXdzKCl9ZnVuY3Rpb24gZml4SW1wb3J0cyhpbXBvcnRzKXtyZXR1cm4gaW1wb3J0c31mdW5jdGlvbiBnZXRCaW5hcnkoKXt0cnl7aWYoTW9kdWxlW1wid2FzbUJpbmFyeVwiXSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KE1vZHVsZVtcIndhc21CaW5hcnlcIl0pfWlmKE1vZHVsZVtcInJlYWRCaW5hcnlcIl0pe3JldHVybiBNb2R1bGVbXCJyZWFkQmluYXJ5XCJdKHdhc21CaW5hcnlGaWxlKX1lbHNle3Rocm93XCJvbiB0aGUgd2ViLCB3ZSBuZWVkIHRoZSB3YXNtIGJpbmFyeSB0byBiZSBwcmVsb2FkZWQgYW5kIHNldCBvbiBNb2R1bGVbJ3dhc21CaW5hcnknXS4gZW1jYy5weSB3aWxsIGRvIHRoYXQgZm9yIHlvdSB3aGVuIGdlbmVyYXRpbmcgSFRNTCAoYnV0IG5vdCBKUylcIn19Y2F0Y2goZXJyKXthYm9ydChlcnIpfX1mdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKCl7aWYoIU1vZHVsZVtcIndhc21CaW5hcnlcIl0mJihFTlZJUk9OTUVOVF9JU19XRUJ8fEVOVklST05NRU5UX0lTX1dPUktFUikmJnR5cGVvZiBmZXRjaD09PVwiZnVuY3Rpb25cIil7cmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLHtjcmVkZW50aWFsczpcInNhbWUtb3JpZ2luXCJ9KS50aGVuKChmdW5jdGlvbihyZXNwb25zZSl7aWYoIXJlc3BvbnNlW1wib2tcIl0pe3Rocm93XCJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICdcIit3YXNtQmluYXJ5RmlsZStcIidcIn1yZXR1cm4gcmVzcG9uc2VbXCJhcnJheUJ1ZmZlclwiXSgpfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBnZXRCaW5hcnkoKX0pKX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZXNvbHZlKGdldEJpbmFyeSgpKX0pKX1mdW5jdGlvbiBkb05hdGl2ZVdhc20oZ2xvYmFsLGVudixwcm92aWRlZEJ1ZmZlcil7aWYodHlwZW9mIFdlYkFzc2VtYmx5IT09XCJvYmplY3RcIil7TW9kdWxlW1wicHJpbnRFcnJcIl0oXCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkXCIpO3JldHVybiBmYWxzZX1pZighKE1vZHVsZVtcIndhc21NZW1vcnlcIl1pbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lk1lbW9yeSkpe01vZHVsZVtcInByaW50RXJyXCJdKFwibm8gbmF0aXZlIHdhc20gTWVtb3J5IGluIHVzZVwiKTtyZXR1cm4gZmFsc2V9ZW52W1wibWVtb3J5XCJdPU1vZHVsZVtcIndhc21NZW1vcnlcIl07aW5mb1tcImdsb2JhbFwiXT17XCJOYU5cIjpOYU4sXCJJbmZpbml0eVwiOkluZmluaXR5fTtpbmZvW1wiZ2xvYmFsLk1hdGhcIl09TWF0aDtpbmZvW1wiZW52XCJdPWVudjtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXtleHBvcnRzPWluc3RhbmNlLmV4cG9ydHM7aWYoZXhwb3J0cy5tZW1vcnkpbWVyZ2VNZW1vcnkoZXhwb3J0cy5tZW1vcnkpO01vZHVsZVtcImFzbVwiXT1leHBvcnRzO01vZHVsZVtcInVzaW5nV2FzbVwiXT10cnVlO3JlbW92ZVJ1bkRlcGVuZGVuY3koXCJ3YXNtLWluc3RhbnRpYXRlXCIpfWFkZFJ1bkRlcGVuZGVuY3koXCJ3YXNtLWluc3RhbnRpYXRlXCIpO2lmKE1vZHVsZVtcImluc3RhbnRpYXRlV2FzbVwiXSl7dHJ5e3JldHVybiBNb2R1bGVbXCJpbnN0YW50aWF0ZVdhc21cIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpfWNhdGNoKGUpe01vZHVsZVtcInByaW50RXJyXCJdKFwiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogXCIrZSk7cmV0dXJuIGZhbHNlfX1mdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKG91dHB1dCl7cmVjZWl2ZUluc3RhbmNlKG91dHB1dFtcImluc3RhbmNlXCJdLG91dHB1dFtcIm1vZHVsZVwiXSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlcil7Z2V0QmluYXJ5UHJvbWlzZSgpLnRoZW4oKGZ1bmN0aW9uKGJpbmFyeSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSxpbmZvKX0pKS50aGVuKHJlY2VpdmVyKS5jYXRjaCgoZnVuY3Rpb24ocmVhc29uKXtNb2R1bGVbXCJwcmludEVyclwiXShcImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206IFwiK3JlYXNvbik7YWJvcnQocmVhc29uKX0pKX1pZighTW9kdWxlW1wid2FzbUJpbmFyeVwiXSYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT09XCJmdW5jdGlvblwiJiYhaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSYmdHlwZW9mIGZldGNoPT09XCJmdW5jdGlvblwiKXtXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhmZXRjaCh3YXNtQmluYXJ5RmlsZSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSksaW5mbykudGhlbihyZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKS5jYXRjaCgoZnVuY3Rpb24ocmVhc29uKXtNb2R1bGVbXCJwcmludEVyclwiXShcIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiBcIityZWFzb24pO01vZHVsZVtcInByaW50RXJyXCJdKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIik7aW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKX0pKX1lbHNle2luc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRlZFNvdXJjZSl9cmV0dXJue319TW9kdWxlW1wiYXNtUHJlbG9hZFwiXT1Nb2R1bGVbXCJhc21cIl07dmFyIGFzbWpzUmVhbGxvY0J1ZmZlcj1Nb2R1bGVbXCJyZWFsbG9jQnVmZmVyXCJdO3ZhciB3YXNtUmVhbGxvY0J1ZmZlcj0oZnVuY3Rpb24oc2l6ZSl7dmFyIFBBR0VfTVVMVElQTEU9TW9kdWxlW1widXNpbmdXYXNtXCJdP1dBU01fUEFHRV9TSVpFOkFTTUpTX1BBR0VfU0laRTtzaXplPWFsaWduVXAoc2l6ZSxQQUdFX01VTFRJUExFKTt2YXIgb2xkPU1vZHVsZVtcImJ1ZmZlclwiXTt2YXIgb2xkU2l6ZT1vbGQuYnl0ZUxlbmd0aDtpZihNb2R1bGVbXCJ1c2luZ1dhc21cIl0pe3RyeXt2YXIgcmVzdWx0PU1vZHVsZVtcIndhc21NZW1vcnlcIl0uZ3Jvdygoc2l6ZS1vbGRTaXplKS93YXNtUGFnZVNpemUpO2lmKHJlc3VsdCE9PSgtMXwwKSl7cmV0dXJuIE1vZHVsZVtcImJ1ZmZlclwiXT1Nb2R1bGVbXCJ3YXNtTWVtb3J5XCJdLmJ1ZmZlcn1lbHNle3JldHVybiBudWxsfX1jYXRjaChlKXtyZXR1cm4gbnVsbH19fSk7TW9kdWxlW1wicmVhbGxvY0J1ZmZlclwiXT0oZnVuY3Rpb24oc2l6ZSl7aWYoZmluYWxNZXRob2Q9PT1cImFzbWpzXCIpe3JldHVybiBhc21qc1JlYWxsb2NCdWZmZXIoc2l6ZSl9ZWxzZXtyZXR1cm4gd2FzbVJlYWxsb2NCdWZmZXIoc2l6ZSl9fSk7dmFyIGZpbmFsTWV0aG9kPVwiXCI7TW9kdWxlW1wiYXNtXCJdPShmdW5jdGlvbihnbG9iYWwsZW52LHByb3ZpZGVkQnVmZmVyKXtlbnY9Zml4SW1wb3J0cyhlbnYpO2lmKCFlbnZbXCJ0YWJsZVwiXSl7dmFyIFRBQkxFX1NJWkU9TW9kdWxlW1wid2FzbVRhYmxlU2l6ZVwiXTtpZihUQUJMRV9TSVpFPT09dW5kZWZpbmVkKVRBQkxFX1NJWkU9MTAyNDt2YXIgTUFYX1RBQkxFX1NJWkU9TW9kdWxlW1wid2FzbU1heFRhYmxlU2l6ZVwiXTtpZih0eXBlb2YgV2ViQXNzZW1ibHk9PT1cIm9iamVjdFwiJiZ0eXBlb2YgV2ViQXNzZW1ibHkuVGFibGU9PT1cImZ1bmN0aW9uXCIpe2lmKE1BWF9UQUJMRV9TSVpFIT09dW5kZWZpbmVkKXtlbnZbXCJ0YWJsZVwiXT1uZXcgV2ViQXNzZW1ibHkuVGFibGUoe1wiaW5pdGlhbFwiOlRBQkxFX1NJWkUsXCJtYXhpbXVtXCI6TUFYX1RBQkxFX1NJWkUsXCJlbGVtZW50XCI6XCJhbnlmdW5jXCJ9KX1lbHNle2VudltcInRhYmxlXCJdPW5ldyBXZWJBc3NlbWJseS5UYWJsZSh7XCJpbml0aWFsXCI6VEFCTEVfU0laRSxlbGVtZW50OlwiYW55ZnVuY1wifSl9fWVsc2V7ZW52W1widGFibGVcIl09bmV3IEFycmF5KFRBQkxFX1NJWkUpfU1vZHVsZVtcIndhc21UYWJsZVwiXT1lbnZbXCJ0YWJsZVwiXX1pZighZW52W1wibWVtb3J5QmFzZVwiXSl7ZW52W1wibWVtb3J5QmFzZVwiXT1Nb2R1bGVbXCJTVEFUSUNfQkFTRVwiXX1pZighZW52W1widGFibGVCYXNlXCJdKXtlbnZbXCJ0YWJsZUJhc2VcIl09MH12YXIgZXhwb3J0cztleHBvcnRzPWRvTmF0aXZlV2FzbShnbG9iYWwsZW52LHByb3ZpZGVkQnVmZmVyKTthc3NlcnQoZXhwb3J0cyxcIm5vIGJpbmFyeWVuIG1ldGhvZCBzdWNjZWVkZWQuXCIpO3JldHVybiBleHBvcnRzfSl9aW50ZWdyYXRlV2FzbUpTKCk7U1RBVElDX0JBU0U9R0xPQkFMX0JBU0U7U1RBVElDVE9QPVNUQVRJQ19CQVNFKzk4ODg7X19BVElOSVRfXy5wdXNoKCk7dmFyIFNUQVRJQ19CVU1QPTk4ODg7TW9kdWxlW1wiU1RBVElDX0JBU0VcIl09U1RBVElDX0JBU0U7TW9kdWxlW1wiU1RBVElDX0JVTVBcIl09U1RBVElDX0JVTVA7U1RBVElDVE9QKz0xNjt2YXIgU1lTQ0FMTFM9e3ZhcmFyZ3M6MCxnZXQ6KGZ1bmN0aW9uKHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3MrPTQ7dmFyIHJldD1IRUFQMzJbU1lTQ0FMTFMudmFyYXJncy00Pj4yXTtyZXR1cm4gcmV0fSksZ2V0U3RyOihmdW5jdGlvbigpe3ZhciByZXQ9UG9pbnRlcl9zdHJpbmdpZnkoU1lTQ0FMTFMuZ2V0KCkpO3JldHVybiByZXR9KSxnZXQ2NDooZnVuY3Rpb24oKXt2YXIgbG93PVNZU0NBTExTLmdldCgpLGhpZ2g9U1lTQ0FMTFMuZ2V0KCk7aWYobG93Pj0wKWFzc2VydChoaWdoPT09MCk7ZWxzZSBhc3NlcnQoaGlnaD09PS0xKTtyZXR1cm4gbG93fSksZ2V0WmVybzooZnVuY3Rpb24oKXthc3NlcnQoU1lTQ0FMTFMuZ2V0KCk9PT0wKX0pfTtmdW5jdGlvbiBfX19zeXNjYWxsMTQwKHdoaWNoLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoKSxvZmZzZXRfaGlnaD1TWVNDQUxMUy5nZXQoKSxvZmZzZXRfbG93PVNZU0NBTExTLmdldCgpLHJlc3VsdD1TWVNDQUxMUy5nZXQoKSx3aGVuY2U9U1lTQ0FMTFMuZ2V0KCk7dmFyIG9mZnNldD1vZmZzZXRfbG93O0ZTLmxsc2VlayhzdHJlYW0sb2Zmc2V0LHdoZW5jZSk7SEVBUDMyW3Jlc3VsdD4+Ml09c3RyZWFtLnBvc2l0aW9uO2lmKHN0cmVhbS5nZXRkZW50cyYmb2Zmc2V0PT09MCYmd2hlbmNlPT09MClzdHJlYW0uZ2V0ZGVudHM9bnVsbDtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSlhYm9ydChlKTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbDE0Nih3aGljaCx2YXJhcmdzKXtTWVNDQUxMUy52YXJhcmdzPXZhcmFyZ3M7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0KCksaW92PVNZU0NBTExTLmdldCgpLGlvdmNudD1TWVNDQUxMUy5nZXQoKTt2YXIgcmV0PTA7aWYoIV9fX3N5c2NhbGwxNDYuYnVmZmVycyl7X19fc3lzY2FsbDE0Ni5idWZmZXJzPVtudWxsLFtdLFtdXTtfX19zeXNjYWxsMTQ2LnByaW50Q2hhcj0oZnVuY3Rpb24oc3RyZWFtLGN1cnIpe3ZhciBidWZmZXI9X19fc3lzY2FsbDE0Ni5idWZmZXJzW3N0cmVhbV07YXNzZXJ0KGJ1ZmZlcik7aWYoY3Vycj09PTB8fGN1cnI9PT0xMCl7KHN0cmVhbT09PTE/TW9kdWxlW1wicHJpbnRcIl06TW9kdWxlW1wicHJpbnRFcnJcIl0pKFVURjhBcnJheVRvU3RyaW5nKGJ1ZmZlciwwKSk7YnVmZmVyLmxlbmd0aD0wfWVsc2V7YnVmZmVyLnB1c2goY3Vycil9fSl9Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVAzMltpb3YraSo4Pj4yXTt2YXIgbGVuPUhFQVAzMltpb3YrKGkqOCs0KT4+Ml07Zm9yKHZhciBqPTA7ajxsZW47aisrKXtfX19zeXNjYWxsMTQ2LnByaW50Q2hhcihzdHJlYW0sSEVBUFU4W3B0citqXSl9cmV0Kz1sZW59cmV0dXJuIHJldH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSlhYm9ydChlKTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbDU0KHdoaWNoLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpYWJvcnQoZSk7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGw2KHdoaWNoLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoKTtGUy5jbG9zZShzdHJlYW0pO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKWFib3J0KGUpO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfYnJvYWR3YXlPbkhlYWRlcnNEZWNvZGVkKCl7cGFyX2Jyb2Fkd2F5T25IZWFkZXJzRGVjb2RlZCgpfU1vZHVsZVtcIl9icm9hZHdheU9uSGVhZGVyc0RlY29kZWRcIl09X2Jyb2Fkd2F5T25IZWFkZXJzRGVjb2RlZDtmdW5jdGlvbiBfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkKCRidWZmZXIsd2lkdGgsaGVpZ2h0KXtwYXJfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkKCRidWZmZXIsd2lkdGgsaGVpZ2h0KX1Nb2R1bGVbXCJfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkXCJdPV9icm9hZHdheU9uUGljdHVyZURlY29kZWQ7ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LHNyYyxudW0pe0hFQVBVOC5zZXQoSEVBUFU4LnN1YmFycmF5KHNyYyxzcmMrbnVtKSxkZXN0KTtyZXR1cm4gZGVzdH1mdW5jdGlvbiBfX19zZXRFcnJObyh2YWx1ZSl7aWYoTW9kdWxlW1wiX19fZXJybm9fbG9jYXRpb25cIl0pSEVBUDMyW01vZHVsZVtcIl9fX2Vycm5vX2xvY2F0aW9uXCJdKCk+PjJdPXZhbHVlO3JldHVybiB2YWx1ZX1EWU5BTUlDVE9QX1BUUj1zdGF0aWNBbGxvYyg0KTtTVEFDS19CQVNFPVNUQUNLVE9QPWFsaWduTWVtb3J5KFNUQVRJQ1RPUCk7U1RBQ0tfTUFYPVNUQUNLX0JBU0UrVE9UQUxfU1RBQ0s7RFlOQU1JQ19CQVNFPWFsaWduTWVtb3J5KFNUQUNLX01BWCk7SEVBUDMyW0RZTkFNSUNUT1BfUFRSPj4yXT1EWU5BTUlDX0JBU0U7c3RhdGljU2VhbGVkPXRydWU7TW9kdWxlW1wid2FzbVRhYmxlU2l6ZVwiXT0xMDtNb2R1bGVbXCJ3YXNtTWF4VGFibGVTaXplXCJdPTEwO01vZHVsZS5hc21HbG9iYWxBcmc9e307TW9kdWxlLmFzbUxpYnJhcnlBcmc9e1wiYWJvcnRcIjphYm9ydCxcImVubGFyZ2VNZW1vcnlcIjplbmxhcmdlTWVtb3J5LFwiZ2V0VG90YWxNZW1vcnlcIjpnZXRUb3RhbE1lbW9yeSxcImFib3J0T25DYW5ub3RHcm93TWVtb3J5XCI6YWJvcnRPbkNhbm5vdEdyb3dNZW1vcnksXCJfX19zZXRFcnJOb1wiOl9fX3NldEVyck5vLFwiX19fc3lzY2FsbDE0MFwiOl9fX3N5c2NhbGwxNDAsXCJfX19zeXNjYWxsMTQ2XCI6X19fc3lzY2FsbDE0NixcIl9fX3N5c2NhbGw1NFwiOl9fX3N5c2NhbGw1NCxcIl9fX3N5c2NhbGw2XCI6X19fc3lzY2FsbDYsXCJfYnJvYWR3YXlPbkhlYWRlcnNEZWNvZGVkXCI6X2Jyb2Fkd2F5T25IZWFkZXJzRGVjb2RlZCxcIl9icm9hZHdheU9uUGljdHVyZURlY29kZWRcIjpfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkLFwiX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZ1wiOl9lbXNjcmlwdGVuX21lbWNweV9iaWcsXCJEWU5BTUlDVE9QX1BUUlwiOkRZTkFNSUNUT1BfUFRSLFwiU1RBQ0tUT1BcIjpTVEFDS1RPUH07dmFyIGFzbT1Nb2R1bGVbXCJhc21cIl0oTW9kdWxlLmFzbUdsb2JhbEFyZyxNb2R1bGUuYXNtTGlicmFyeUFyZyxidWZmZXIpO01vZHVsZVtcImFzbVwiXT1hc207dmFyIF9icm9hZHdheUNyZWF0ZVN0cmVhbT1Nb2R1bGVbXCJfYnJvYWR3YXlDcmVhdGVTdHJlYW1cIl09KGZ1bmN0aW9uKCl7cmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcIl9icm9hZHdheUNyZWF0ZVN0cmVhbVwiXS5hcHBseShudWxsLGFyZ3VtZW50cyl9KTt2YXIgX2Jyb2Fkd2F5RXhpdD1Nb2R1bGVbXCJfYnJvYWR3YXlFeGl0XCJdPShmdW5jdGlvbigpe3JldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfYnJvYWR3YXlFeGl0XCJdLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pO3ZhciBfYnJvYWR3YXlHZXRNYWpvclZlcnNpb249TW9kdWxlW1wiX2Jyb2Fkd2F5R2V0TWFqb3JWZXJzaW9uXCJdPShmdW5jdGlvbigpe3JldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfYnJvYWR3YXlHZXRNYWpvclZlcnNpb25cIl0uYXBwbHkobnVsbCxhcmd1bWVudHMpfSk7dmFyIF9icm9hZHdheUdldE1pbm9yVmVyc2lvbj1Nb2R1bGVbXCJfYnJvYWR3YXlHZXRNaW5vclZlcnNpb25cIl09KGZ1bmN0aW9uKCl7cmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcIl9icm9hZHdheUdldE1pbm9yVmVyc2lvblwiXS5hcHBseShudWxsLGFyZ3VtZW50cyl9KTt2YXIgX2Jyb2Fkd2F5SW5pdD1Nb2R1bGVbXCJfYnJvYWR3YXlJbml0XCJdPShmdW5jdGlvbigpe3JldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfYnJvYWR3YXlJbml0XCJdLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pO3ZhciBfYnJvYWR3YXlQbGF5U3RyZWFtPU1vZHVsZVtcIl9icm9hZHdheVBsYXlTdHJlYW1cIl09KGZ1bmN0aW9uKCl7cmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcIl9icm9hZHdheVBsYXlTdHJlYW1cIl0uYXBwbHkobnVsbCxhcmd1bWVudHMpfSk7TW9kdWxlW1wiYXNtXCJdPWFzbTtmdW5jdGlvbiBFeGl0U3RhdHVzKHN0YXR1cyl7dGhpcy5uYW1lPVwiRXhpdFN0YXR1c1wiO3RoaXMubWVzc2FnZT1cIlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoXCIrc3RhdHVzK1wiKVwiO3RoaXMuc3RhdHVzPXN0YXR1c31FeGl0U3RhdHVzLnByb3RvdHlwZT1uZXcgRXJyb3I7RXhpdFN0YXR1cy5wcm90b3R5cGUuY29uc3RydWN0b3I9RXhpdFN0YXR1czt2YXIgaW5pdGlhbFN0YWNrVG9wO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1mdW5jdGlvbiBydW5DYWxsZXIoKXtpZighTW9kdWxlW1wiY2FsbGVkUnVuXCJdKXJ1bigpO2lmKCFNb2R1bGVbXCJjYWxsZWRSdW5cIl0pZGVwZW5kZW5jaWVzRnVsZmlsbGVkPXJ1bkNhbGxlcn07ZnVuY3Rpb24gcnVuKGFyZ3Mpe2FyZ3M9YXJnc3x8TW9kdWxlW1wiYXJndW1lbnRzXCJdO2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59cHJlUnVuKCk7aWYocnVuRGVwZW5kZW5jaWVzPjApcmV0dXJuO2lmKE1vZHVsZVtcImNhbGxlZFJ1blwiXSlyZXR1cm47ZnVuY3Rpb24gZG9SdW4oKXtpZihNb2R1bGVbXCJjYWxsZWRSdW5cIl0pcmV0dXJuO01vZHVsZVtcImNhbGxlZFJ1blwiXT10cnVlO2lmKEFCT1JUKXJldHVybjtlbnN1cmVJbml0UnVudGltZSgpO3ByZU1haW4oKTtpZihNb2R1bGVbXCJvblJ1bnRpbWVJbml0aWFsaXplZFwiXSlNb2R1bGVbXCJvblJ1bnRpbWVJbml0aWFsaXplZFwiXSgpO3Bvc3RSdW4oKX1pZihNb2R1bGVbXCJzZXRTdGF0dXNcIl0pe01vZHVsZVtcInNldFN0YXR1c1wiXShcIlJ1bm5pbmcuLi5cIik7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe01vZHVsZVtcInNldFN0YXR1c1wiXShcIlwiKX0pLDEpO2RvUnVuKCl9KSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVtcInJ1blwiXT1ydW47ZnVuY3Rpb24gZXhpdChzdGF0dXMsaW1wbGljaXQpe2lmKGltcGxpY2l0JiZNb2R1bGVbXCJub0V4aXRSdW50aW1lXCJdJiZzdGF0dXM9PT0wKXtyZXR1cm59aWYoTW9kdWxlW1wibm9FeGl0UnVudGltZVwiXSl7fWVsc2V7QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPXN0YXR1cztTVEFDS1RPUD1pbml0aWFsU3RhY2tUb3A7ZXhpdFJ1bnRpbWUoKTtpZihNb2R1bGVbXCJvbkV4aXRcIl0pTW9kdWxlW1wib25FeGl0XCJdKHN0YXR1cyl9aWYoRU5WSVJPTk1FTlRfSVNfTk9ERSl7cHJvY2Vzc1tcImV4aXRcIl0oc3RhdHVzKX1Nb2R1bGVbXCJxdWl0XCJdKHN0YXR1cyxuZXcgRXhpdFN0YXR1cyhzdGF0dXMpKX1Nb2R1bGVbXCJleGl0XCJdPWV4aXQ7ZnVuY3Rpb24gYWJvcnQod2hhdCl7aWYoTW9kdWxlW1wib25BYm9ydFwiXSl7TW9kdWxlW1wib25BYm9ydFwiXSh3aGF0KX1pZih3aGF0IT09dW5kZWZpbmVkKXtNb2R1bGUucHJpbnQod2hhdCk7TW9kdWxlLnByaW50RXJyKHdoYXQpO3doYXQ9SlNPTi5zdHJpbmdpZnkod2hhdCl9ZWxzZXt3aGF0PVwiXCJ9QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPTE7dGhyb3dcImFib3J0KFwiK3doYXQrXCIpLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLlwifU1vZHVsZVtcImFib3J0XCJdPWFib3J0O2lmKE1vZHVsZVtcInByZUluaXRcIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwcmVJbml0XCJdPT1cImZ1bmN0aW9uXCIpTW9kdWxlW1wicHJlSW5pdFwiXT1bTW9kdWxlW1wicHJlSW5pdFwiXV07d2hpbGUoTW9kdWxlW1wicHJlSW5pdFwiXS5sZW5ndGg+MCl7TW9kdWxlW1wicHJlSW5pdFwiXS5wb3AoKSgpfX1Nb2R1bGVbXCJub0V4aXRSdW50aW1lXCJdPXRydWU7cnVuKClcclxuXHJcblxyXG5cclxuICAgIC8vICAgcmV0dXJuIE1vZHVsZTtcclxuICAgIC8vfSkoKTtcclxuICAgIFxyXG4gICAgdmFyIHJlc3VsdE1vZHVsZTtcclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgaWYgKGdsb2JhbC5Nb2R1bGUpe1xyXG4gICAgICAgIHJlc3VsdE1vZHVsZSA9IGdsb2JhbC5Nb2R1bGU7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGVvZiBNb2R1bGUgIT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgIHJlc3VsdE1vZHVsZSA9IE1vZHVsZTtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdWx0TW9kdWxlLl9icm9hZHdheU9uSGVhZGVyc0RlY29kZWQgPSBwYXJfYnJvYWR3YXlPbkhlYWRlcnNEZWNvZGVkO1xyXG4gICAgcmVzdWx0TW9kdWxlLl9icm9hZHdheU9uUGljdHVyZURlY29kZWQgPSBwYXJfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkO1xyXG4gICAgXHJcbiAgICB2YXIgbW9kdWxlSXNSZWFkeSA9IGZhbHNlO1xyXG4gICAgdmFyIGNiRnVuO1xyXG4gICAgdmFyIG1vZHVsZVJlYWR5ID0gZnVuY3Rpb24oKXtcclxuICAgICAgbW9kdWxlSXNSZWFkeSA9IHRydWU7XHJcbiAgICAgIGlmIChjYkZ1bil7XHJcbiAgICAgICAgY2JGdW4ocmVzdWx0TW9kdWxlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmVzdWx0TW9kdWxlLm9uUnVudGltZUluaXRpYWxpemVkID0gZnVuY3Rpb24oKXtcclxuICAgICAgbW9kdWxlUmVhZHkocmVzdWx0TW9kdWxlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2spe1xyXG4gICAgICBpZiAobW9kdWxlSXNSZWFkeSl7XHJcbiAgICAgICAgY2FsbGJhY2socmVzdWx0TW9kdWxlKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgY2JGdW4gPSBjYWxsYmFjaztcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChmdW5jdGlvbigpe1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgXHJcbiAgXHJcbiAgdmFyIG5vd1ZhbHVlID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gIH07XHJcbiAgXHJcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPSBcInVuZGVmaW5lZFwiKXtcclxuICAgIGlmIChwZXJmb3JtYW5jZS5ub3cpe1xyXG4gICAgICBub3dWYWx1ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9O1xyXG4gIFxyXG4gIFxyXG4gIHZhciBEZWNvZGVyID0gZnVuY3Rpb24ocGFyT3B0aW9ucyl7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBwYXJPcHRpb25zIHx8IHt9O1xyXG4gICAgXHJcbiAgICB0aGlzLm5vdyA9IG5vd1ZhbHVlO1xyXG4gICAgXHJcbiAgICB2YXIgYXNtSW5zdGFuY2U7XHJcbiAgICBcclxuICAgIHZhciBmYWtlV2luZG93ID0ge1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIHRvVThBcnJheTtcclxuICAgIHZhciB0b1UzMkFycmF5O1xyXG4gICAgXHJcbiAgICB2YXIgb25QaWNGdW4gPSBmdW5jdGlvbiAoJGJ1ZmZlciwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICB2YXIgYnVmZmVyID0gdGhpcy5waWN0dXJlQnVmZmVyc1skYnVmZmVyXTtcclxuICAgICAgaWYgKCFidWZmZXIpIHtcclxuICAgICAgICBidWZmZXIgPSB0aGlzLnBpY3R1cmVCdWZmZXJzWyRidWZmZXJdID0gdG9VOEFycmF5KCRidWZmZXIsICh3aWR0aCAqIGhlaWdodCAqIDMpIC8gMik7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICB2YXIgaW5mb3M7XHJcbiAgICAgIHZhciBkb0luZm8gPSBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMuaW5mb0FyLmxlbmd0aCl7XHJcbiAgICAgICAgZG9JbmZvID0gdHJ1ZTtcclxuICAgICAgICBpbmZvcyA9IHRoaXMuaW5mb0FyO1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmluZm9BciA9IFtdO1xyXG4gICAgICBcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZ2Ipe1xyXG4gICAgICAgIGlmICghYXNtSW5zdGFuY2Upe1xyXG4gICAgICAgICAgYXNtSW5zdGFuY2UgPSBnZXRBc20od2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhc21JbnN0YW5jZS5pbnAuc2V0KGJ1ZmZlcik7XHJcbiAgICAgICAgYXNtSW5zdGFuY2UuZG9pdCgpO1xyXG5cclxuICAgICAgICB2YXIgY29weVU4ID0gbmV3IFVpbnQ4QXJyYXkoYXNtSW5zdGFuY2Uub3V0U2l6ZSk7XHJcbiAgICAgICAgY29weVU4LnNldCggYXNtSW5zdGFuY2Uub3V0ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRvSW5mbyl7XHJcbiAgICAgICAgICBpbmZvc1swXS5maW5pc2hEZWNvZGluZyA9IG5vd1ZhbHVlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm9uUGljdHVyZURlY29kZWQoY29weVU4LCB3aWR0aCwgaGVpZ2h0LCBpbmZvcyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgaWYgKGRvSW5mbyl7XHJcbiAgICAgICAgaW5mb3NbMF0uZmluaXNoRGVjb2RpbmcgPSBub3dWYWx1ZSgpO1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLm9uUGljdHVyZURlY29kZWQoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBpbmZvcyk7XHJcbiAgICB9LmJpbmQodGhpcyk7XHJcbiAgICBcclxuICAgIHZhciBpZ25vcmUgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbGljZU1vZGUpe1xyXG4gICAgICBvblBpY0Z1biA9IGZ1bmN0aW9uICgkYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCAkc2xpY2VJbmZvKSB7XHJcbiAgICAgICAgaWYgKGlnbm9yZSl7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5waWN0dXJlQnVmZmVyc1skYnVmZmVyXTtcclxuICAgICAgICBpZiAoIWJ1ZmZlcikge1xyXG4gICAgICAgICAgYnVmZmVyID0gdGhpcy5waWN0dXJlQnVmZmVyc1skYnVmZmVyXSA9IHRvVThBcnJheSgkYnVmZmVyLCAod2lkdGggKiBoZWlnaHQgKiAzKSAvIDIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNsaWNlSW5mbyA9IHRoaXMucGljdHVyZUJ1ZmZlcnNbJHNsaWNlSW5mb107XHJcbiAgICAgICAgaWYgKCFzbGljZUluZm8pIHtcclxuICAgICAgICAgIHNsaWNlSW5mbyA9IHRoaXMucGljdHVyZUJ1ZmZlcnNbJHNsaWNlSW5mb10gPSB0b1UzMkFycmF5KCRzbGljZUluZm8sIDE4KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgaW5mb3M7XHJcbiAgICAgICAgdmFyIGRvSW5mbyA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmluZm9Bci5sZW5ndGgpe1xyXG4gICAgICAgICAgZG9JbmZvID0gdHJ1ZTtcclxuICAgICAgICAgIGluZm9zID0gdGhpcy5pbmZvQXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmluZm9BciA9IFtdO1xyXG5cclxuICAgICAgICAvKmlmICh0aGlzLm9wdGlvbnMucmdiKXtcclxuICAgICAgICBcclxuICAgICAgICBubyByZ2IgaW4gc2xpY2UgbW9kZVxyXG5cclxuICAgICAgICB9OyovXHJcblxyXG4gICAgICAgIGluZm9zWzBdLmZpbmlzaERlY29kaW5nID0gbm93VmFsdWUoKTtcclxuICAgICAgICB2YXIgc2xpY2VJbmZvQXIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyArK2kpe1xyXG4gICAgICAgICAgc2xpY2VJbmZvQXIucHVzaChzbGljZUluZm9baV0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW5mb3NbMF0uc2xpY2VJbmZvQXIgPSBzbGljZUluZm9BcjtcclxuXHJcbiAgICAgICAgdGhpcy5vblBpY3R1cmVEZWNvZGVkKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgaW5mb3MpO1xyXG4gICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB2YXIgTW9kdWxlQ2FsbGJhY2sgPSBnZXRNb2R1bGUuYXBwbHkoZmFrZVdpbmRvdywgW2Z1bmN0aW9uICgpIHtcclxuICAgIH0sIG9uUGljRnVuXSk7XHJcbiAgICBcclxuXHJcbiAgICB2YXIgTUFYX1NUUkVBTV9CVUZGRVJfTEVOR1RIID0gMTAyNCAqIDEwMjQ7XHJcbiAgICBcclxuICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB0aGlzLm9uUGljdHVyZURlY29kZWQgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBpbmZvcykge1xyXG5cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMub25EZWNvZGVyUmVhZHkgPSBmdW5jdGlvbigpe307XHJcbiAgICBcclxuICAgIHZhciBidWZmZXJlZENhbGxzID0gW107XHJcbiAgICB0aGlzLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZSh0eXBlZEFyLCBwYXJJbmZvLCBjb3B5RG9uZUZ1bikge1xyXG4gICAgICBidWZmZXJlZENhbGxzLnB1c2goW3R5cGVkQXIsIHBhckluZm8sIGNvcHlEb25lRnVuXSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBNb2R1bGVDYWxsYmFjayhmdW5jdGlvbihNb2R1bGUpe1xyXG4gICAgICB2YXIgSEVBUDggPSBNb2R1bGUuSEVBUDg7XHJcbiAgICAgIHZhciBIRUFQVTggPSBNb2R1bGUuSEVBUFU4O1xyXG4gICAgICB2YXIgSEVBUDE2ID0gTW9kdWxlLkhFQVAxNjtcclxuICAgICAgdmFyIEhFQVAzMiA9IE1vZHVsZS5IRUFQMzI7XHJcbiAgICAgIC8vIGZyb20gb2xkIGNvbnN0cnVjdG9yXHJcbiAgICAgIE1vZHVsZS5fYnJvYWR3YXlJbml0KCk7XHJcbiAgICAgIFxyXG4gICAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSB0eXBlZCBhcnJheSBmcm9tIGEgSEVBUDggcG9pbnRlci4gXHJcbiAgICAgKi9cclxuICAgICAgdG9VOEFycmF5ID0gZnVuY3Rpb24ocHRyLCBsZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gSEVBUFU4LnN1YmFycmF5KHB0ciwgcHRyICsgbGVuZ3RoKTtcclxuICAgICAgfTtcclxuICAgICAgdG9VMzJBcnJheSA9IGZ1bmN0aW9uKHB0ciwgbGVuZ3RoKSB7XHJcbiAgICAgICAgLy92YXIgdG1wID0gSEVBUFU4LnN1YmFycmF5KHB0ciwgcHRyICsgKGxlbmd0aCAqIDQpKTtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KEhFQVBVOC5idWZmZXIsIHB0ciwgbGVuZ3RoKTtcclxuICAgICAgfTtcclxuICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyID0gdG9VOEFycmF5KE1vZHVsZS5fYnJvYWR3YXlDcmVhdGVTdHJlYW0oTUFYX1NUUkVBTV9CVUZGRVJfTEVOR1RIKSwgTUFYX1NUUkVBTV9CVUZGRVJfTEVOR1RIKTtcclxuICAgICAgaW5zdGFuY2UucGljdHVyZUJ1ZmZlcnMgPSB7fTtcclxuICAgICAgLy8gY29sbGVjdCBleHRyYSBpbmZvcyB0aGF0IGFyZSBwcm92aWRlZCB3aXRoIHRoZSBuYWwgdW5pdHNcclxuICAgICAgaW5zdGFuY2UuaW5mb0FyID0gW107XHJcblxyXG4gICAgICAvKipcclxuICAgICAqIERlY29kZXMgYSBzdHJlYW0gYnVmZmVyLiBUaGlzIG1heSBiZSBvbmUgc2luZ2xlICh1bmZyYW1lZCkgTkFMIHVuaXQgd2l0aG91dCB0aGVcclxuICAgICAqIHN0YXJ0IGNvZGUsIG9yIGEgc2VxdWVuY2Ugb2YgTkFMIHVuaXRzIHdpdGggZnJhbWluZyBzdGFydCBjb2RlIHByZWZpeGVzLiBUaGlzXHJcbiAgICAgKiBmdW5jdGlvbiBvdmVyd3JpdGVzIHN0cmVhbSBidWZmZXIgYWxsb2NhdGVkIGJ5IHRoZSBjb2RlYyB3aXRoIHRoZSBzdXBwbGllZCBidWZmZXIuXHJcbiAgICAgKi9cclxuXHJcbiAgICAgIHZhciBzbGljZU51bSA9IDA7XHJcbiAgICAgIGlmIChpbnN0YW5jZS5vcHRpb25zLnNsaWNlTW9kZSl7XHJcbiAgICAgICAgc2xpY2VOdW0gPSBpbnN0YW5jZS5vcHRpb25zLnNsaWNlTnVtO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUodHlwZWRBciwgcGFySW5mbywgY29weURvbmVGdW4pIHtcclxuICAgICAgICAgIGluc3RhbmNlLmluZm9Bci5wdXNoKHBhckluZm8pO1xyXG4gICAgICAgICAgcGFySW5mby5zdGFydERlY29kaW5nID0gbm93VmFsdWUoKTtcclxuICAgICAgICAgIHZhciBuYWxzID0gcGFySW5mby5uYWxzO1xyXG4gICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICBpZiAoIW5hbHMpe1xyXG4gICAgICAgICAgICBuYWxzID0gW107XHJcbiAgICAgICAgICAgIHBhckluZm8ubmFscyA9IG5hbHM7XHJcbiAgICAgICAgICAgIHZhciBsID0gdHlwZWRBci5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZFNvbWV0aGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgbGFzdEZvdW5kID0gMDtcclxuICAgICAgICAgICAgdmFyIGxhc3RTdGFydCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyArK2kpe1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlZEFyW2ldID09PSAxKXtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgdHlwZWRBcltpIC0gMV0gPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgdHlwZWRBcltpIC0gMl0gPT09IDBcclxuICAgICAgICAgICAgICAgICl7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBzdGFydFBvcyA9IGkgLSAyO1xyXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZWRBcltpIC0gM10gPT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zID0gaSAtIDM7XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIG5hbDtcclxuICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kU29tZXRoaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICBuYWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBsYXN0Rm91bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHN0YXJ0UG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZWRBcltsYXN0U3RhcnRdICYgMzFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgbGFzdEZvdW5kID0gc3RhcnRQb3M7XHJcbiAgICAgICAgICAgICAgICAgIGxhc3RTdGFydCA9IHN0YXJ0UG9zICsgMztcclxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVkQXJbaSAtIDNdID09PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0U3RhcnQgPSBzdGFydFBvcyArIDQ7XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIGZvdW5kU29tZXRoaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGZvdW5kU29tZXRoaW5nKXtcclxuICAgICAgICAgICAgICBuYWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBsYXN0Rm91bmQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IGksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlZEFyW2xhc3RTdGFydF0gJiAzMVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgY3VycmVudFNsaWNlID0gMDtcclxuICAgICAgICAgIHZhciBwbGF5QXI7XHJcbiAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcclxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuYWxzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgaWYgKG5hbHNbaV0udHlwZSA9PT0gMSB8fCBuYWxzW2ldLnR5cGUgPT09IDUpe1xyXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50U2xpY2UgPT09IHNsaWNlTnVtKXtcclxuICAgICAgICAgICAgICAgIHBsYXlBciA9IHR5cGVkQXIuc3ViYXJyYXkobmFsc1tpXS5vZmZzZXQsIG5hbHNbaV0uZW5kKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN0cmVhbUJ1ZmZlcltvZmZzZXRdID0gMDtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyLnNldChwbGF5QXIsIG9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gcGxheUFyLmxlbmd0aDtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRTbGljZSArPSAxO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICBwbGF5QXIgPSB0eXBlZEFyLnN1YmFycmF5KG5hbHNbaV0ub2Zmc2V0LCBuYWxzW2ldLmVuZCk7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyW29mZnNldF0gPSAwO1xyXG4gICAgICAgICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgICAgICAgIGluc3RhbmNlLnN0cmVhbUJ1ZmZlci5zZXQocGxheUFyLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICAgIG9mZnNldCArPSBwbGF5QXIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIE1vZHVsZS5fYnJvYWR3YXlQbGF5U3RyZWFtKG9mZnNldCk7XHJcbiAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBjb3B5RG9uZUZ1bigpO1xyXG4gICAgICAgICAgTW9kdWxlLl9icm9hZHdheVBsYXlTdHJlYW0ob2Zmc2V0KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgaW5zdGFuY2UuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHR5cGVkQXIsIHBhckluZm8pIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbyhcIkRlY29kaW5nOiBcIiArIGJ1ZmZlci5sZW5ndGgpO1xyXG4gICAgICAgICAgLy8gY29sbGVjdCBpbmZvc1xyXG4gICAgICAgICAgaWYgKHBhckluZm8pe1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5pbmZvQXIucHVzaChwYXJJbmZvKTtcclxuICAgICAgICAgICAgcGFySW5mby5zdGFydERlY29kaW5nID0gbm93VmFsdWUoKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyLnNldCh0eXBlZEFyKTtcclxuICAgICAgICAgIE1vZHVsZS5fYnJvYWR3YXlQbGF5U3RyZWFtKHR5cGVkQXIubGVuZ3RoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgaWYgKGJ1ZmZlcmVkQ2FsbHMubGVuZ3RoKXtcclxuICAgICAgICB2YXIgYmkgPSAwO1xyXG4gICAgICAgIGZvciAoYmkgPSAwOyBiaSA8IGJ1ZmZlcmVkQ2FsbHMubGVuZ3RoOyArK2JpKXtcclxuICAgICAgICAgIGluc3RhbmNlLmRlY29kZShidWZmZXJlZENhbGxzW2JpXVswXSwgYnVmZmVyZWRDYWxsc1tiaV1bMV0sIGJ1ZmZlcmVkQ2FsbHNbYmldWzJdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGJ1ZmZlcmVkQ2FsbHMgPSBbXTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGluc3RhbmNlLm9uRGVjb2RlclJlYWR5KGluc3RhbmNlKTtcclxuXHJcbiAgICB9KTtcclxuICBcclxuXHJcbiAgfTtcclxuXHJcbiAgXHJcbiAgRGVjb2Rlci5wcm90b3R5cGUgPSB7XHJcbiAgICBcclxuICB9O1xyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIC8qXHJcbiAgXHJcbiAgICBhc20uanMgaW1wbGVtZW50YXRpb24gb2YgYSB5dXYgdG8gcmdiIGNvbnZlcnRvclxyXG4gICAgcHJvdmlkZWQgYnkgQHNvbGl0b240XHJcbiAgICBcclxuICAgIGJhc2VkIG9uIFxyXG4gICAgaHR0cDovL3d3dy53b3Jkc2FyZXRveXMuY29tLzIwMTMvMTAvMTgvbWFraW5nLXl1di1jb252ZXJzaW9uLWEtbGl0dGxlLWZhc3Rlci9cclxuICBcclxuICAqL1xyXG4gIFxyXG4gIFxyXG4gIC8vIGZhY3RvcnkgdG8gY3JlYXRlIGFzbS5qcyB5dXYgLT4gcmdiIGNvbnZlcnRvciBmb3IgYSBnaXZlbiByZXNvbHV0aW9uXHJcbiAgdmFyIGFzbUluc3RhbmNlcyA9IHt9O1xyXG4gIHZhciBnZXRBc20gPSBmdW5jdGlvbihwYXJXaWR0aCwgcGFySGVpZ2h0KXtcclxuICAgIHZhciBpZFN0ciA9IFwiXCIgKyBwYXJXaWR0aCArIFwieFwiICsgcGFySGVpZ2h0O1xyXG4gICAgaWYgKGFzbUluc3RhbmNlc1tpZFN0cl0pe1xyXG4gICAgICByZXR1cm4gYXNtSW5zdGFuY2VzW2lkU3RyXTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGx1bWFTaXplID0gcGFyV2lkdGggKiBwYXJIZWlnaHQ7XHJcbiAgICB2YXIgY2hyb21hU2l6ZSA9IChsdW1hU2l6ZXwwKSA+PiAyO1xyXG5cclxuICAgIHZhciBpbnBTaXplID0gbHVtYVNpemUgKyBjaHJvbWFTaXplICsgY2hyb21hU2l6ZTtcclxuICAgIHZhciBvdXRTaXplID0gcGFyV2lkdGggKiBwYXJIZWlnaHQgKiA0O1xyXG4gICAgdmFyIGNhY2hlU2l6ZSA9IE1hdGgucG93KDIsIDI0KSAqIDQ7XHJcbiAgICB2YXIgc2l6ZSA9IGlucFNpemUgKyBvdXRTaXplICsgY2FjaGVTaXplO1xyXG5cclxuICAgIHZhciBjaHVua1NpemUgPSBNYXRoLnBvdygyLCAyNCk7XHJcbiAgICB2YXIgaGVhcFNpemUgPSBjaHVua1NpemU7XHJcbiAgICB3aGlsZSAoaGVhcFNpemUgPCBzaXplKXtcclxuICAgICAgaGVhcFNpemUgKz0gY2h1bmtTaXplO1xyXG4gICAgfTtcclxuICAgIHZhciBoZWFwID0gbmV3IEFycmF5QnVmZmVyKGhlYXBTaXplKTtcclxuXHJcbiAgICB2YXIgcmVzID0gYXNtRmFjdG9yeShnbG9iYWwsIHt9LCBoZWFwKTtcclxuICAgIHJlcy5pbml0KHBhcldpZHRoLCBwYXJIZWlnaHQpO1xyXG4gICAgYXNtSW5zdGFuY2VzW2lkU3RyXSA9IHJlcztcclxuXHJcbiAgICByZXMuaGVhcCA9IGhlYXA7XHJcbiAgICByZXMub3V0ID0gbmV3IFVpbnQ4QXJyYXkoaGVhcCwgMCwgb3V0U2l6ZSk7XHJcbiAgICByZXMuaW5wID0gbmV3IFVpbnQ4QXJyYXkoaGVhcCwgb3V0U2l6ZSwgaW5wU2l6ZSk7XHJcbiAgICByZXMub3V0U2l6ZSA9IG91dFNpemU7XHJcblxyXG4gICAgcmV0dXJuIHJlcztcclxuICB9O1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gYXNtRmFjdG9yeShzdGRsaWIsIGZvcmVpZ24sIGhlYXApIHtcclxuICAgIFwidXNlIGFzbVwiO1xyXG5cclxuICAgIHZhciBpbXVsID0gc3RkbGliLk1hdGguaW11bDtcclxuICAgIHZhciBtaW4gPSBzdGRsaWIuTWF0aC5taW47XHJcbiAgICB2YXIgbWF4ID0gc3RkbGliLk1hdGgubWF4O1xyXG4gICAgdmFyIHBvdyA9IHN0ZGxpYi5NYXRoLnBvdztcclxuICAgIHZhciBvdXQgPSBuZXcgc3RkbGliLlVpbnQ4QXJyYXkoaGVhcCk7XHJcbiAgICB2YXIgb3V0MzIgPSBuZXcgc3RkbGliLlVpbnQzMkFycmF5KGhlYXApO1xyXG4gICAgdmFyIGlucCA9IG5ldyBzdGRsaWIuVWludDhBcnJheShoZWFwKTtcclxuICAgIHZhciBtZW0gPSBuZXcgc3RkbGliLlVpbnQ4QXJyYXkoaGVhcCk7XHJcbiAgICB2YXIgbWVtMzIgPSBuZXcgc3RkbGliLlVpbnQzMkFycmF5KGhlYXApO1xyXG5cclxuICAgIC8vIGZvciBkb3VibGUgYWxnb1xyXG4gICAgLyp2YXIgdnQgPSAxLjM3MDcwNTtcclxuICAgIHZhciBndCA9IDAuNjk4MDAxO1xyXG4gICAgdmFyIGd0MiA9IDAuMzM3NjMzO1xyXG4gICAgdmFyIGJ0ID0gMS43MzI0NDY7Ki9cclxuXHJcbiAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgdmFyIGhlaWdodCA9IDA7XHJcbiAgICB2YXIgbHVtYVNpemUgPSAwO1xyXG4gICAgdmFyIGNocm9tYVNpemUgPSAwO1xyXG4gICAgdmFyIGlucFNpemUgPSAwO1xyXG4gICAgdmFyIG91dFNpemUgPSAwO1xyXG5cclxuICAgIHZhciBpbnBTdGFydCA9IDA7XHJcbiAgICB2YXIgb3V0U3RhcnQgPSAwO1xyXG5cclxuICAgIHZhciB3aWR0aEZvdXIgPSAwO1xyXG5cclxuICAgIHZhciBjYWNoZVN0YXJ0ID0gMDtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdChwYXJXaWR0aCwgcGFySGVpZ2h0KXtcclxuICAgICAgcGFyV2lkdGggPSBwYXJXaWR0aHwwO1xyXG4gICAgICBwYXJIZWlnaHQgPSBwYXJIZWlnaHR8MDtcclxuXHJcbiAgICAgIHZhciBpID0gMDtcclxuICAgICAgdmFyIHMgPSAwO1xyXG5cclxuICAgICAgd2lkdGggPSBwYXJXaWR0aDtcclxuICAgICAgd2lkdGhGb3VyID0gaW11bChwYXJXaWR0aCwgNCl8MDtcclxuICAgICAgaGVpZ2h0ID0gcGFySGVpZ2h0O1xyXG4gICAgICBsdW1hU2l6ZSA9IGltdWwod2lkdGh8MCwgaGVpZ2h0fDApfDA7XHJcbiAgICAgIGNocm9tYVNpemUgPSAobHVtYVNpemV8MCkgPj4gMjtcclxuICAgICAgb3V0U2l6ZSA9IGltdWwoaW11bCh3aWR0aCwgaGVpZ2h0KXwwLCA0KXwwO1xyXG4gICAgICBpbnBTaXplID0gKChsdW1hU2l6ZSArIGNocm9tYVNpemUpfDAgKyBjaHJvbWFTaXplKXwwO1xyXG5cclxuICAgICAgb3V0U3RhcnQgPSAwO1xyXG4gICAgICBpbnBTdGFydCA9IChvdXRTdGFydCArIG91dFNpemUpfDA7XHJcbiAgICAgIGNhY2hlU3RhcnQgPSAoaW5wU3RhcnQgKyBpbnBTaXplKXwwO1xyXG5cclxuICAgICAgLy8gaW5pdGlhbGl6aW5nIG1lbW9yeSAodG8gYmUgb24gdGhlIHNhZmUgc2lkZSlcclxuICAgICAgcyA9IH5+KCtwb3coKzIsICsyNCkpO1xyXG4gICAgICBzID0gaW11bChzLCA0KXwwO1xyXG5cclxuICAgICAgZm9yIChpID0gMHwwOyAoKGl8MCkgPCAoc3wwKSl8MDsgaSA9IChpICsgNCl8MCl7XHJcbiAgICAgICAgbWVtMzJbKChjYWNoZVN0YXJ0ICsgaSl8MCkgPj4gMl0gPSAwO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBkb2l0KCl7XHJcbiAgICAgIHZhciB5c3RhcnQgPSAwO1xyXG4gICAgICB2YXIgdXN0YXJ0ID0gMDtcclxuICAgICAgdmFyIHZzdGFydCA9IDA7XHJcblxyXG4gICAgICB2YXIgeSA9IDA7XHJcbiAgICAgIHZhciB5biA9IDA7XHJcbiAgICAgIHZhciB1ID0gMDtcclxuICAgICAgdmFyIHYgPSAwO1xyXG5cclxuICAgICAgdmFyIG8gPSAwO1xyXG5cclxuICAgICAgdmFyIGxpbmUgPSAwO1xyXG4gICAgICB2YXIgY29sID0gMDtcclxuXHJcbiAgICAgIHZhciB1c2F2ZSA9IDA7XHJcbiAgICAgIHZhciB2c2F2ZSA9IDA7XHJcblxyXG4gICAgICB2YXIgb3N0YXJ0ID0gMDtcclxuICAgICAgdmFyIGNhY2hlQWRyID0gMDtcclxuXHJcbiAgICAgIG9zdGFydCA9IG91dFN0YXJ0fDA7XHJcblxyXG4gICAgICB5c3RhcnQgPSBpbnBTdGFydHwwO1xyXG4gICAgICB1c3RhcnQgPSAoeXN0YXJ0ICsgbHVtYVNpemV8MCl8MDtcclxuICAgICAgdnN0YXJ0ID0gKHVzdGFydCArIGNocm9tYVNpemUpfDA7XHJcblxyXG4gICAgICBmb3IgKGxpbmUgPSAwOyAobGluZXwwKSA8IChoZWlnaHR8MCk7IGxpbmUgPSAobGluZSArIDIpfDApe1xyXG4gICAgICAgIHVzYXZlID0gdXN0YXJ0O1xyXG4gICAgICAgIHZzYXZlID0gdnN0YXJ0O1xyXG4gICAgICAgIGZvciAoY29sID0gMDsgKGNvbHwwKSA8ICh3aWR0aHwwKTsgY29sID0gKGNvbCArIDIpfDApe1xyXG4gICAgICAgICAgeSA9IGlucFt5c3RhcnQgPj4gMF18MDtcclxuICAgICAgICAgIHluID0gaW5wWygoeXN0YXJ0ICsgd2lkdGgpfDApID4+IDBdfDA7XHJcblxyXG4gICAgICAgICAgdSA9IGlucFt1c3RhcnQgPj4gMF18MDtcclxuICAgICAgICAgIHYgPSBpbnBbdnN0YXJ0ID4+IDBdfDA7XHJcblxyXG4gICAgICAgICAgY2FjaGVBZHIgPSAoKCgoKHkgPDwgMTYpfDApICsgKCh1IDw8IDgpfDApKXwwKSArIHYpfDA7XHJcbiAgICAgICAgICBvID0gbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdfDA7XHJcbiAgICAgICAgICBpZiAobyl7fWVsc2V7XHJcbiAgICAgICAgICAgIG8gPSB5dXYycmdiY2FsYyh5LHUsdil8MDtcclxuICAgICAgICAgICAgbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdID0gb3wwO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG1lbTMyW29zdGFydCA+PiAyXSA9IG87XHJcblxyXG4gICAgICAgICAgY2FjaGVBZHIgPSAoKCgoKHluIDw8IDE2KXwwKSArICgodSA8PCA4KXwwKSl8MCkgKyB2KXwwO1xyXG4gICAgICAgICAgbyA9IG1lbTMyWygoY2FjaGVTdGFydCArIGNhY2hlQWRyKXwwKSA+PiAyXXwwO1xyXG4gICAgICAgICAgaWYgKG8pe31lbHNle1xyXG4gICAgICAgICAgICBvID0geXV2MnJnYmNhbGMoeW4sdSx2KXwwO1xyXG4gICAgICAgICAgICBtZW0zMlsoKGNhY2hlU3RhcnQgKyBjYWNoZUFkcil8MCkgPj4gMl0gPSBvfDA7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgbWVtMzJbKChvc3RhcnQgKyB3aWR0aEZvdXIpfDApID4+IDJdID0gbztcclxuXHJcbiAgICAgICAgICAvL3l1djJyZ2I1KHksIHUsIHYsIG9zdGFydCk7XHJcbiAgICAgICAgICAvL3l1djJyZ2I1KHluLCB1LCB2LCAob3N0YXJ0ICsgd2lkdGhGb3VyKXwwKTtcclxuICAgICAgICAgIG9zdGFydCA9IChvc3RhcnQgKyA0KXwwO1xyXG5cclxuICAgICAgICAgIC8vIG5leHQgc3RlcCBvbmx5IGZvciB5LiB1IGFuZCB2IHN0YXkgdGhlIHNhbWVcclxuICAgICAgICAgIHlzdGFydCA9ICh5c3RhcnQgKyAxKXwwO1xyXG4gICAgICAgICAgeSA9IGlucFt5c3RhcnQgPj4gMF18MDtcclxuICAgICAgICAgIHluID0gaW5wWygoeXN0YXJ0ICsgd2lkdGgpfDApID4+IDBdfDA7XHJcblxyXG4gICAgICAgICAgLy95dXYycmdiNSh5LCB1LCB2LCBvc3RhcnQpO1xyXG4gICAgICAgICAgY2FjaGVBZHIgPSAoKCgoKHkgPDwgMTYpfDApICsgKCh1IDw8IDgpfDApKXwwKSArIHYpfDA7XHJcbiAgICAgICAgICBvID0gbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdfDA7XHJcbiAgICAgICAgICBpZiAobyl7fWVsc2V7XHJcbiAgICAgICAgICAgIG8gPSB5dXYycmdiY2FsYyh5LHUsdil8MDtcclxuICAgICAgICAgICAgbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdID0gb3wwO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG1lbTMyW29zdGFydCA+PiAyXSA9IG87XHJcblxyXG4gICAgICAgICAgLy95dXYycmdiNSh5biwgdSwgdiwgKG9zdGFydCArIHdpZHRoRm91cil8MCk7XHJcbiAgICAgICAgICBjYWNoZUFkciA9ICgoKCgoeW4gPDwgMTYpfDApICsgKCh1IDw8IDgpfDApKXwwKSArIHYpfDA7XHJcbiAgICAgICAgICBvID0gbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdfDA7XHJcbiAgICAgICAgICBpZiAobyl7fWVsc2V7XHJcbiAgICAgICAgICAgIG8gPSB5dXYycmdiY2FsYyh5bix1LHYpfDA7XHJcbiAgICAgICAgICAgIG1lbTMyWygoY2FjaGVTdGFydCArIGNhY2hlQWRyKXwwKSA+PiAyXSA9IG98MDtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBtZW0zMlsoKG9zdGFydCArIHdpZHRoRm91cil8MCkgPj4gMl0gPSBvO1xyXG4gICAgICAgICAgb3N0YXJ0ID0gKG9zdGFydCArIDQpfDA7XHJcblxyXG4gICAgICAgICAgLy9hbGwgcG9zaXRpb25zIGluYyAxXHJcblxyXG4gICAgICAgICAgeXN0YXJ0ID0gKHlzdGFydCArIDEpfDA7XHJcbiAgICAgICAgICB1c3RhcnQgPSAodXN0YXJ0ICsgMSl8MDtcclxuICAgICAgICAgIHZzdGFydCA9ICh2c3RhcnQgKyAxKXwwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb3N0YXJ0ID0gKG9zdGFydCArIHdpZHRoRm91cil8MDtcclxuICAgICAgICB5c3RhcnQgPSAoeXN0YXJ0ICsgd2lkdGgpfDA7XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24geXV2MnJnYmNhbGMoeSwgdSwgdil7XHJcbiAgICAgIHkgPSB5fDA7XHJcbiAgICAgIHUgPSB1fDA7XHJcbiAgICAgIHYgPSB2fDA7XHJcblxyXG4gICAgICB2YXIgciA9IDA7XHJcbiAgICAgIHZhciBnID0gMDtcclxuICAgICAgdmFyIGIgPSAwO1xyXG5cclxuICAgICAgdmFyIG8gPSAwO1xyXG5cclxuICAgICAgdmFyIGEwID0gMDtcclxuICAgICAgdmFyIGExID0gMDtcclxuICAgICAgdmFyIGEyID0gMDtcclxuICAgICAgdmFyIGEzID0gMDtcclxuICAgICAgdmFyIGE0ID0gMDtcclxuXHJcbiAgICAgIGEwID0gaW11bCgxMTkyLCAoeSAtIDE2KXwwKXwwO1xyXG4gICAgICBhMSA9IGltdWwoMTYzNCwgKHYgLSAxMjgpfDApfDA7XHJcbiAgICAgIGEyID0gaW11bCg4MzIsICh2IC0gMTI4KXwwKXwwO1xyXG4gICAgICBhMyA9IGltdWwoNDAwLCAodSAtIDEyOCl8MCl8MDtcclxuICAgICAgYTQgPSBpbXVsKDIwNjYsICh1IC0gMTI4KXwwKXwwO1xyXG5cclxuICAgICAgciA9ICgoKGEwICsgYTEpfDApID4+IDEwKXwwO1xyXG4gICAgICBnID0gKCgoKChhMCAtIGEyKXwwKSAtIGEzKXwwKSA+PiAxMCl8MDtcclxuICAgICAgYiA9ICgoKGEwICsgYTQpfDApID4+IDEwKXwwO1xyXG5cclxuICAgICAgaWYgKCgoKHIgJiAyNTUpfDApICE9IChyfDApKXwwKXtcclxuICAgICAgICByID0gbWluKDI1NSwgbWF4KDAsIHJ8MCl8MCl8MDtcclxuICAgICAgfTtcclxuICAgICAgaWYgKCgoKGcgJiAyNTUpfDApICE9IChnfDApKXwwKXtcclxuICAgICAgICBnID0gbWluKDI1NSwgbWF4KDAsIGd8MCl8MCl8MDtcclxuICAgICAgfTtcclxuICAgICAgaWYgKCgoKGIgJiAyNTUpfDApICE9IChifDApKXwwKXtcclxuICAgICAgICBiID0gbWluKDI1NSwgbWF4KDAsIGJ8MCl8MCl8MDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIG8gPSAyNTU7XHJcbiAgICAgIG8gPSAobyA8PCA4KXwwO1xyXG4gICAgICBvID0gKG8gKyBiKXwwO1xyXG4gICAgICBvID0gKG8gPDwgOCl8MDtcclxuICAgICAgbyA9IChvICsgZyl8MDtcclxuICAgICAgbyA9IChvIDw8IDgpfDA7XHJcbiAgICAgIG8gPSAobyArIHIpfDA7XHJcblxyXG4gICAgICByZXR1cm4gb3wwO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbml0OiBpbml0LFxyXG4gICAgICBkb2l0OiBkb2l0XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIFxyXG4gIC8qXHJcbiAgICBwb3RlbnRpYWwgd29ya2VyIGluaXRpYWxpemF0aW9uXHJcbiAgXHJcbiAgKi9cclxuICBcclxuICBcclxuICBpZiAodHlwZW9mIHNlbGYgIT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICB2YXIgaXNXb3JrZXIgPSBmYWxzZTtcclxuICAgIHZhciBkZWNvZGVyO1xyXG4gICAgdmFyIHJldXNlTWVtb3J5ID0gZmFsc2U7XHJcbiAgICB2YXIgc2xpY2VNb2RlID0gZmFsc2U7XHJcbiAgICB2YXIgc2xpY2VOdW0gPSAwO1xyXG4gICAgdmFyIHNsaWNlQ250ID0gMDtcclxuICAgIHZhciBsYXN0U2xpY2VOdW0gPSAwO1xyXG4gICAgdmFyIHNsaWNlSW5mb0FyO1xyXG4gICAgdmFyIGxhc3RCdWY7XHJcbiAgICB2YXIgYXdhaXRpbmcgPSAwO1xyXG4gICAgdmFyIHBpbGUgPSBbXTtcclxuICAgIHZhciBzdGFydERlY29kaW5nO1xyXG4gICAgdmFyIGZpbmlzaERlY29kaW5nO1xyXG4gICAgdmFyIHRpbWVEZWNvZGluZztcclxuICAgIFxyXG4gICAgdmFyIG1lbUFyID0gW107XHJcbiAgICB2YXIgZ2V0TWVtID0gZnVuY3Rpb24obGVuZ3RoKXtcclxuICAgICAgaWYgKG1lbUFyLmxlbmd0aCl7XHJcbiAgICAgICAgdmFyIHUgPSBtZW1Bci5zaGlmdCgpO1xyXG4gICAgICAgIHdoaWxlICh1ICYmIHUuYnl0ZUxlbmd0aCAhPT0gbGVuZ3RoKXtcclxuICAgICAgICAgIHUgPSBtZW1Bci5zaGlmdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHUpe1xyXG4gICAgICAgICAgcmV0dXJuIHU7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xyXG4gICAgfTsgXHJcbiAgICBcclxuICAgIHZhciBjb3B5U2xpY2UgPSBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgaW5mb0FyLCB3aWR0aCwgaGVpZ2h0KXtcclxuICAgICAgXHJcbiAgICAgIHZhciBsZW5ndGggPSB3aWR0aCAqIGhlaWdodDtcclxuICAgICAgdmFyIGxlbmd0aDQgPSBsZW5ndGggLyA0XHJcbiAgICAgIHZhciBwbGFuZTIgPSBsZW5ndGg7XHJcbiAgICAgIHZhciBwbGFuZTMgPSBsZW5ndGggKyBsZW5ndGg0O1xyXG4gICAgICBcclxuICAgICAgdmFyIGNvcHkxNiA9IGZ1bmN0aW9uKHBhckJlZ2luLCBwYXJFbmQpe1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7ICsraSl7XHJcbiAgICAgICAgICB2YXIgYmVnaW4gPSBwYXJCZWdpbiArICh3aWR0aCAqIGkpO1xyXG4gICAgICAgICAgdmFyIGVuZCA9IHBhckVuZCArICh3aWR0aCAqIGkpXHJcbiAgICAgICAgICB0YXJnZXQuc2V0KHNvdXJjZS5zdWJhcnJheShiZWdpbiwgZW5kKSwgYmVnaW4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciBjb3B5OCA9IGZ1bmN0aW9uKHBhckJlZ2luLCBwYXJFbmQpe1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgKytpKXtcclxuICAgICAgICAgIHZhciBiZWdpbiA9IHBhckJlZ2luICsgKCh3aWR0aCAvIDIpICogaSk7XHJcbiAgICAgICAgICB2YXIgZW5kID0gcGFyRW5kICsgKCh3aWR0aCAvIDIpICogaSlcclxuICAgICAgICAgIHRhcmdldC5zZXQoc291cmNlLnN1YmFycmF5KGJlZ2luLCBlbmQpLCBiZWdpbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgdmFyIGNvcHlDaHVuayA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpe1xyXG4gICAgICAgIHRhcmdldC5zZXQoc291cmNlLnN1YmFycmF5KGJlZ2luLCBlbmQpLCBiZWdpbik7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICB2YXIgYmVnaW4gPSBpbmZvQXJbMF07XHJcbiAgICAgIHZhciBlbmQgPSBpbmZvQXJbMV07XHJcbiAgICAgIGlmIChlbmQgPiAwKXtcclxuICAgICAgICBjb3B5MTYoYmVnaW4sIGVuZCk7XHJcbiAgICAgICAgY29weTgoaW5mb0FyWzJdLCBpbmZvQXJbM10pO1xyXG4gICAgICAgIGNvcHk4KGluZm9Bcls0XSwgaW5mb0FyWzVdKTtcclxuICAgICAgfTtcclxuICAgICAgYmVnaW4gPSBpbmZvQXJbNl07XHJcbiAgICAgIGVuZCA9IGluZm9Bcls3XTtcclxuICAgICAgaWYgKGVuZCA+IDApe1xyXG4gICAgICAgIGNvcHkxNihiZWdpbiwgZW5kKTtcclxuICAgICAgICBjb3B5OChpbmZvQXJbOF0sIGluZm9Bcls5XSk7XHJcbiAgICAgICAgY29weTgoaW5mb0FyWzEwXSwgaW5mb0FyWzExXSk7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBiZWdpbiA9IGluZm9BclsxMl07XHJcbiAgICAgIGVuZCA9IGluZm9BclsxNV07XHJcbiAgICAgIGlmIChlbmQgPiAwKXtcclxuICAgICAgICBjb3B5Q2h1bmsoYmVnaW4sIGVuZCk7XHJcbiAgICAgICAgY29weUNodW5rKGluZm9BclsxM10sIGluZm9BclsxNl0pO1xyXG4gICAgICAgIGNvcHlDaHVuayhpbmZvQXJbMTRdLCBpbmZvQXJbMTddKTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB2YXIgc2xpY2VNc2dGdW4gPSBmdW5jdGlvbigpe307XHJcbiAgICBcclxuICAgIHZhciBzZXRTbGljZUNudCA9IGZ1bmN0aW9uKHBhclNsaWNlQ250KXtcclxuICAgICAgc2xpY2VDbnQgPSBwYXJTbGljZUNudDtcclxuICAgICAgbGFzdFNsaWNlTnVtID0gc2xpY2VDbnQgLSAxO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaXNXb3JrZXIpe1xyXG4gICAgICAgIGlmIChyZXVzZU1lbW9yeSl7XHJcbiAgICAgICAgICBpZiAoZS5kYXRhLnJldXNlKXtcclxuICAgICAgICAgICAgbWVtQXIucHVzaChlLmRhdGEucmV1c2UpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChlLmRhdGEuYnVmKXtcclxuICAgICAgICAgIGlmIChzbGljZU1vZGUgJiYgYXdhaXRpbmcgIT09IDApe1xyXG4gICAgICAgICAgICBwaWxlLnB1c2goZS5kYXRhKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkZWNvZGVyLmRlY29kZShcclxuICAgICAgICAgICAgICBuZXcgVWludDhBcnJheShlLmRhdGEuYnVmLCBlLmRhdGEub2Zmc2V0IHx8IDAsIGUuZGF0YS5sZW5ndGgpLCBcclxuICAgICAgICAgICAgICBlLmRhdGEuaW5mbywgXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmIChzbGljZU1vZGUgJiYgc2xpY2VOdW0gIT09IGxhc3RTbGljZU51bSl7XHJcbiAgICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKGUuZGF0YSwgW2UuZGF0YS5idWZdKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChlLmRhdGEuc2xpY2Upe1xyXG4gICAgICAgICAgLy8gdXBkYXRlIHJlZiBwaWNcclxuICAgICAgICAgIHZhciBjb3B5U3RhcnQgPSBub3dWYWx1ZSgpO1xyXG4gICAgICAgICAgY29weVNsaWNlKG5ldyBVaW50OEFycmF5KGUuZGF0YS5zbGljZSksIGxhc3RCdWYsIGUuZGF0YS5pbmZvc1swXS5zbGljZUluZm9BciwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTtcclxuICAgICAgICAgIC8vIGlzIGl0IHRoZSBvbmU/IHRoZW4gd2UgbmVlZCB0byB1cGRhdGUgaXRcclxuICAgICAgICAgIGlmIChlLmRhdGEudGhlT25lKXtcclxuICAgICAgICAgICAgY29weVNsaWNlKGxhc3RCdWYsIG5ldyBVaW50OEFycmF5KGUuZGF0YS5zbGljZSksIHNsaWNlSW5mb0FyLCBlLmRhdGEud2lkdGgsIGUuZGF0YS5oZWlnaHQpO1xyXG4gICAgICAgICAgICBpZiAodGltZURlY29kaW5nID4gZS5kYXRhLmluZm9zWzBdLnRpbWVEZWNvZGluZyl7XHJcbiAgICAgICAgICAgICAgZS5kYXRhLmluZm9zWzBdLnRpbWVEZWNvZGluZyA9IHRpbWVEZWNvZGluZztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZS5kYXRhLmluZm9zWzBdLnRpbWVDb3B5ICs9IChub3dWYWx1ZSgpIC0gY29weVN0YXJ0KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAvLyBtb3ZlIG9uXHJcbiAgICAgICAgICBwb3N0TWVzc2FnZShlLmRhdGEsIFtlLmRhdGEuc2xpY2VdKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gbmV4dCBmcmFtZSBpbiB0aGUgcGlwZT9cclxuICAgICAgICAgIGF3YWl0aW5nIC09IDE7XHJcbiAgICAgICAgICBpZiAoYXdhaXRpbmcgPT09IDAgJiYgcGlsZS5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHBpbGUuc2hpZnQoKTtcclxuICAgICAgICAgICAgZGVjb2Rlci5kZWNvZGUoXHJcbiAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoZGF0YS5idWYsIGRhdGEub2Zmc2V0IHx8IDAsIGRhdGEubGVuZ3RoKSwgXHJcbiAgICAgICAgICAgICAgZGF0YS5pbmZvLCBcclxuICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsaWNlTW9kZSAmJiBzbGljZU51bSAhPT0gbGFzdFNsaWNlTnVtKXtcclxuICAgICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2UoZGF0YSwgW2RhdGEuYnVmXSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZS5kYXRhLnNldFNsaWNlQ250KXtcclxuICAgICAgICAgIHNldFNsaWNlQ250KGUuZGF0YS5zbGljZUNudCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgaWYgKGUuZGF0YSAmJiBlLmRhdGEudHlwZSA9PT0gXCJCcm9hZHdheS5qcyAtIFdvcmtlciBpbml0XCIpe1xyXG4gICAgICAgICAgaXNXb3JrZXIgPSB0cnVlO1xyXG4gICAgICAgICAgZGVjb2RlciA9IG5ldyBEZWNvZGVyKGUuZGF0YS5vcHRpb25zKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGUuZGF0YS5vcHRpb25zLnNsaWNlTW9kZSl7XHJcbiAgICAgICAgICAgIHJldXNlTWVtb3J5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2xpY2VNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2xpY2VOdW0gPSBlLmRhdGEub3B0aW9ucy5zbGljZU51bTtcclxuICAgICAgICAgICAgc2V0U2xpY2VDbnQoZS5kYXRhLm9wdGlvbnMuc2xpY2VDbnQpO1xyXG5cclxuICAgICAgICAgICAgZGVjb2Rlci5vblBpY3R1cmVEZWNvZGVkID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgaW5mb3MpIHtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBidWZmZXIgbmVlZHMgdG8gYmUgY29waWVkIGJlY2F1c2Ugd2UgZ2l2ZSB1cCBvd25lcnNoaXBcclxuICAgICAgICAgICAgICB2YXIgY29weVU4ID0gbmV3IFVpbnQ4QXJyYXkoZ2V0TWVtKGJ1ZmZlci5sZW5ndGgpKTtcclxuICAgICAgICAgICAgICBjb3B5U2xpY2UoYnVmZmVyLCBjb3B5VTgsIGluZm9zWzBdLnNsaWNlSW5mb0FyLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBzdGFydERlY29kaW5nID0gaW5mb3NbMF0uc3RhcnREZWNvZGluZztcclxuICAgICAgICAgICAgICBmaW5pc2hEZWNvZGluZyA9IGluZm9zWzBdLmZpbmlzaERlY29kaW5nO1xyXG4gICAgICAgICAgICAgIHRpbWVEZWNvZGluZyA9IGZpbmlzaERlY29kaW5nIC0gc3RhcnREZWNvZGluZztcclxuICAgICAgICAgICAgICBpbmZvc1swXS50aW1lRGVjb2RpbmcgPSB0aW1lRGVjb2Rpbmc7XHJcbiAgICAgICAgICAgICAgaW5mb3NbMF0udGltZUNvcHkgPSAwO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHNsaWNlOiBjb3B5VTguYnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgc2xpY2VOdW06IHNsaWNlTnVtLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLCBcclxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LCBcclxuICAgICAgICAgICAgICAgIGluZm9zOiBpbmZvc1xyXG4gICAgICAgICAgICAgIH0sIFtjb3B5VTguYnVmZmVyXSk7IC8vIDJuZCBwYXJhbWV0ZXIgaXMgdXNlZCB0byBpbmRpY2F0ZSB0cmFuc2ZlciBvZiBvd25lcnNoaXBcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBhd2FpdGluZyA9IHNsaWNlQ250IC0gMTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBsYXN0QnVmID0gYnVmZmVyO1xyXG4gICAgICAgICAgICAgIHNsaWNlSW5mb0FyID0gaW5mb3NbMF0uc2xpY2VJbmZvQXI7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH1lbHNlIGlmIChlLmRhdGEub3B0aW9ucy5yZXVzZU1lbW9yeSl7XHJcbiAgICAgICAgICAgIHJldXNlTWVtb3J5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGVjb2Rlci5vblBpY3R1cmVEZWNvZGVkID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgaW5mb3MpIHtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBidWZmZXIgbmVlZHMgdG8gYmUgY29waWVkIGJlY2F1c2Ugd2UgZ2l2ZSB1cCBvd25lcnNoaXBcclxuICAgICAgICAgICAgICB2YXIgY29weVU4ID0gbmV3IFVpbnQ4QXJyYXkoZ2V0TWVtKGJ1ZmZlci5sZW5ndGgpKTtcclxuICAgICAgICAgICAgICBjb3B5VTguc2V0KCBidWZmZXIsIDAsIGJ1ZmZlci5sZW5ndGggKTtcclxuXHJcbiAgICAgICAgICAgICAgcG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgYnVmOiBjb3B5VTguYnVmZmVyLCBcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogYnVmZmVyLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCwgXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCwgXHJcbiAgICAgICAgICAgICAgICBpbmZvczogaW5mb3NcclxuICAgICAgICAgICAgICB9LCBbY29weVU4LmJ1ZmZlcl0pOyAvLyAybmQgcGFyYW1ldGVyIGlzIHVzZWQgdG8gaW5kaWNhdGUgdHJhbnNmZXIgb2Ygb3duZXJzaGlwXHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkZWNvZGVyLm9uUGljdHVyZURlY29kZWQgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBpbmZvcykge1xyXG4gICAgICAgICAgICAgIGlmIChidWZmZXIpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gYnVmZmVyIG5lZWRzIHRvIGJlIGNvcGllZCBiZWNhdXNlIHdlIGdpdmUgdXAgb3duZXJzaGlwXHJcbiAgICAgICAgICAgICAgdmFyIGNvcHlVOCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgIGNvcHlVOC5zZXQoIGJ1ZmZlciwgMCwgYnVmZmVyLmxlbmd0aCApO1xyXG5cclxuICAgICAgICAgICAgICBwb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICBidWY6IGNvcHlVOC5idWZmZXIsIFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBidWZmZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLCBcclxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LCBcclxuICAgICAgICAgICAgICAgIGluZm9zOiBpbmZvc1xyXG4gICAgICAgICAgICAgIH0sIFtjb3B5VTguYnVmZmVyXSk7IC8vIDJuZCBwYXJhbWV0ZXIgaXMgdXNlZCB0byBpbmRpY2F0ZSB0cmFuc2ZlciBvZiBvd25lcnNoaXBcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcG9zdE1lc3NhZ2UoeyBjb25zb2xlTG9nOiBcImJyb2Fkd2F5IHdvcmtlciBpbml0aWFsaXplZFwiIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcblxyXG5cclxuICAgIH0sIGZhbHNlKTtcclxuICB9O1xyXG4gIFxyXG4gIERlY29kZXIubm93VmFsdWUgPSBub3dWYWx1ZTtcclxuICBcclxuICByZXR1cm4gRGVjb2RlcjtcclxuICBcclxuICB9KSgpO1xyXG4gIFxyXG4gIFxyXG59KSk7XHJcblxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZzOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5oYXNDT1JTID0gdm9pZCAwO1xuLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2hhcy1jb3JzXG5sZXQgdmFsdWUgPSBmYWxzZTtcbnRyeSB7XG4gICAgdmFsdWUgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufVxuY2F0Y2ggKGVycikge1xuICAgIC8vIGlmIFhNTEh0dHAgc3VwcG9ydCBpcyBkaXNhYmxlZCBpbiBJRSB0aGVuIGl0IHdpbGwgdGhyb3dcbiAgICAvLyB3aGVuIHRyeWluZyB0byBjcmVhdGVcbn1cbmV4cG9ydHMuaGFzQ09SUyA9IHZhbHVlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYWxrbi9xdWVyeXN0cmluZ1xuLyoqXG4gKiBDb21waWxlcyBhIHF1ZXJ5c3RyaW5nXG4gKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbmNvZGUgPSBlbmNvZGU7XG5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcbmZ1bmN0aW9uIGVuY29kZShvYmopIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcmJztcbiAgICAgICAgICAgIHN0ciArPSBlbmNvZGVVUklDb21wb25lbnQoaSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuLyoqXG4gKiBQYXJzZXMgYSBzaW1wbGUgcXVlcnlzdHJpbmcgaW50byBhbiBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWNvZGUocXMpIHtcbiAgICBsZXQgcXJ5ID0ge307XG4gICAgbGV0IHBhaXJzID0gcXMuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsZXQgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgIHFyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcXJ5O1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG4vLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9nYWxrbi9wYXJzZXVyaVxuLyoqXG4gKiBQYXJzZXMgYSBVUklcbiAqXG4gKiBOb3RlOiB3ZSBjb3VsZCBhbHNvIGhhdmUgdXNlZCB0aGUgYnVpbHQtaW4gVVJMIG9iamVjdCwgYnV0IGl0IGlzbid0IHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLlxuICpcbiAqIFNlZTpcbiAqIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1VSTFxuICogLSBodHRwczovL2Nhbml1c2UuY29tL3VybFxuICogLSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjMzk4NiNhcHBlbmRpeC1CXG4gKlxuICogSGlzdG9yeSBvZiB0aGUgcGFyc2UoKSBtZXRob2Q6XG4gKiAtIGZpcnN0IGNvbW1pdDogaHR0cHM6Ly9naXRodWIuY29tL3NvY2tldGlvL3NvY2tldC5pby1jbGllbnQvY29tbWl0LzRlZTFkNWQ5NGIzOTA2YTljMDUyYjQ1OWYxYTgxOGIxNWYzOGY5MWNcbiAqIC0gZXhwb3J0IGludG8gaXRzIG93biBtb2R1bGU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9lbmdpbmUuaW8tY2xpZW50L2NvbW1pdC9kZTJjNTYxZTQ1NjRlZmViNzhmMWJkYjFiYTM5ZWY4MWIyODIyY2IzXG4gKiAtIHJlaW1wb3J0OiBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vZW5naW5lLmlvLWNsaWVudC9jb21taXQvZGYzMjI3N2MzZjZkNjIyZWVjNWVkMDlmNDkzY2FlM2YzMzkxZDI0MlxuICpcbiAqIEBhdXRob3IgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+IChNSVQgbGljZW5zZSlcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5jb25zdCByZSA9IC9eKD86KD8hW146QFxcLz8jXSs6W146QFxcL10qQCkoaHR0cHxodHRwc3x3c3x3c3MpOlxcL1xcLyk/KCg/OigoW146QFxcLz8jXSopKD86OihbXjpAXFwvPyNdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuY29uc3QgcGFydHMgPSBbXG4gICAgJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXG5dO1xuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiA4MDAwKSB7XG4gICAgICAgIHRocm93IFwiVVJJIHRvbyBsb25nXCI7XG4gICAgfVxuICAgIGNvbnN0IHNyYyA9IHN0ciwgYiA9IHN0ci5pbmRleE9mKCdbJyksIGUgPSBzdHIuaW5kZXhPZignXScpO1xuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBiKSArIHN0ci5zdWJzdHJpbmcoYiwgZSkucmVwbGFjZSgvOi9nLCAnOycpICsgc3RyLnN1YnN0cmluZyhlLCBzdHIubGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IG0gPSByZS5leGVjKHN0ciB8fCAnJyksIHVyaSA9IHt9LCBpID0gMTQ7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICB1cmlbcGFydHNbaV1dID0gbVtpXSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGIgIT0gLTEgJiYgZSAhPSAtMSkge1xuICAgICAgICB1cmkuc291cmNlID0gc3JjO1xuICAgICAgICB1cmkuaG9zdCA9IHVyaS5ob3N0LnN1YnN0cmluZygxLCB1cmkuaG9zdC5sZW5ndGggLSAxKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgICAgIHVyaS5hdXRob3JpdHkgPSB1cmkuYXV0aG9yaXR5LnJlcGxhY2UoJ1snLCAnJykucmVwbGFjZSgnXScsICcnKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgICAgIHVyaS5pcHY2dXJpID0gdHJ1ZTtcbiAgICB9XG4gICAgdXJpLnBhdGhOYW1lcyA9IHBhdGhOYW1lcyh1cmksIHVyaVsncGF0aCddKTtcbiAgICB1cmkucXVlcnlLZXkgPSBxdWVyeUtleSh1cmksIHVyaVsncXVlcnknXSk7XG4gICAgcmV0dXJuIHVyaTtcbn1cbmZ1bmN0aW9uIHBhdGhOYW1lcyhvYmosIHBhdGgpIHtcbiAgICBjb25zdCByZWd4ID0gL1xcL3syLDl9L2csIG5hbWVzID0gcGF0aC5yZXBsYWNlKHJlZ3gsIFwiL1wiKS5zcGxpdChcIi9cIik7XG4gICAgaWYgKHBhdGguc2xpY2UoMCwgMSkgPT0gJy8nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZSgwLCAxKTtcbiAgICB9XG4gICAgaWYgKHBhdGguc2xpY2UoLTEpID09ICcvJykge1xuICAgICAgICBuYW1lcy5zcGxpY2UobmFtZXMubGVuZ3RoIC0gMSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcztcbn1cbmZ1bmN0aW9uIHF1ZXJ5S2V5KHVyaSwgcXVlcnkpIHtcbiAgICBjb25zdCBkYXRhID0ge307XG4gICAgcXVlcnkucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgIGlmICgkMSkge1xuICAgICAgICAgICAgZGF0YVskMV0gPSAkMjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYXRhO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHRCaW5hcnlUeXBlID0gZXhwb3J0cy5nbG9iYWxUaGlzU2hpbSA9IGV4cG9ydHMubmV4dFRpY2sgPSB2b2lkIDA7XG5leHBvcnRzLmNyZWF0ZUNvb2tpZUphciA9IGNyZWF0ZUNvb2tpZUphcjtcbmV4cG9ydHMubmV4dFRpY2sgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGlzUHJvbWlzZUF2YWlsYWJsZSA9IHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGlmIChpc1Byb21pc2VBdmFpbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIChjYikgPT4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihjYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGNiLCBzZXRUaW1lb3V0Rm4pID0+IHNldFRpbWVvdXRGbihjYiwgMCk7XG4gICAgfVxufSkoKTtcbmV4cG9ydHMuZ2xvYmFsVGhpc1NoaW0gPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9XG59KSgpO1xuZXhwb3J0cy5kZWZhdWx0QmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbmZ1bmN0aW9uIGNyZWF0ZUNvb2tpZUphcigpIHsgfVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldlYlRyYW5zcG9ydCA9IGV4cG9ydHMuV2ViU29ja2V0ID0gZXhwb3J0cy5Ob2RlV2ViU29ja2V0ID0gZXhwb3J0cy5YSFIgPSBleHBvcnRzLk5vZGVYSFIgPSBleHBvcnRzLkZldGNoID0gZXhwb3J0cy5uZXh0VGljayA9IGV4cG9ydHMucGFyc2UgPSBleHBvcnRzLmluc3RhbGxUaW1lckZ1bmN0aW9ucyA9IGV4cG9ydHMudHJhbnNwb3J0cyA9IGV4cG9ydHMuVHJhbnNwb3J0RXJyb3IgPSBleHBvcnRzLlRyYW5zcG9ydCA9IGV4cG9ydHMucHJvdG9jb2wgPSBleHBvcnRzLlNvY2tldFdpdGhVcGdyYWRlID0gZXhwb3J0cy5Tb2NrZXRXaXRob3V0VXBncmFkZSA9IGV4cG9ydHMuU29ja2V0ID0gdm9pZCAwO1xuY29uc3Qgc29ja2V0X2pzXzEgPSByZXF1aXJlKFwiLi9zb2NrZXQuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTb2NrZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvY2tldF9qc18xLlNvY2tldDsgfSB9KTtcbnZhciBzb2NrZXRfanNfMiA9IHJlcXVpcmUoXCIuL3NvY2tldC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNvY2tldFdpdGhvdXRVcGdyYWRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzb2NrZXRfanNfMi5Tb2NrZXRXaXRob3V0VXBncmFkZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNvY2tldFdpdGhVcGdyYWRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzb2NrZXRfanNfMi5Tb2NrZXRXaXRoVXBncmFkZTsgfSB9KTtcbmV4cG9ydHMucHJvdG9jb2wgPSBzb2NrZXRfanNfMS5Tb2NrZXQucHJvdG9jb2w7XG52YXIgdHJhbnNwb3J0X2pzXzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnQuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUcmFuc3BvcnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zcG9ydF9qc18xLlRyYW5zcG9ydDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRyYW5zcG9ydEVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFuc3BvcnRfanNfMS5UcmFuc3BvcnRFcnJvcjsgfSB9KTtcbnZhciBpbmRleF9qc18xID0gcmVxdWlyZShcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInRyYW5zcG9ydHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluZGV4X2pzXzEudHJhbnNwb3J0czsgfSB9KTtcbnZhciB1dGlsX2pzXzEgPSByZXF1aXJlKFwiLi91dGlsLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaW5zdGFsbFRpbWVyRnVuY3Rpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsX2pzXzEuaW5zdGFsbFRpbWVyRnVuY3Rpb25zOyB9IH0pO1xudmFyIHBhcnNldXJpX2pzXzEgPSByZXF1aXJlKFwiLi9jb250cmliL3BhcnNldXJpLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhcnNldXJpX2pzXzEucGFyc2U7IH0gfSk7XG52YXIgZ2xvYmFsc19ub2RlX2pzXzEgPSByZXF1aXJlKFwiLi9nbG9iYWxzLm5vZGUuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJuZXh0VGlja1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2xvYmFsc19ub2RlX2pzXzEubmV4dFRpY2s7IH0gfSk7XG52YXIgcG9sbGluZ19mZXRjaF9qc18xID0gcmVxdWlyZShcIi4vdHJhbnNwb3J0cy9wb2xsaW5nLWZldGNoLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmV0Y2hcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBvbGxpbmdfZmV0Y2hfanNfMS5GZXRjaDsgfSB9KTtcbnZhciBwb2xsaW5nX3hocl9ub2RlX2pzXzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRzL3BvbGxpbmcteGhyLm5vZGUuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOb2RlWEhSXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwb2xsaW5nX3hocl9ub2RlX2pzXzEuWEhSOyB9IH0pO1xudmFyIHBvbGxpbmdfeGhyX2pzXzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRzL3BvbGxpbmcteGhyLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiWEhSXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwb2xsaW5nX3hocl9qc18xLlhIUjsgfSB9KTtcbnZhciB3ZWJzb2NrZXRfbm9kZV9qc18xID0gcmVxdWlyZShcIi4vdHJhbnNwb3J0cy93ZWJzb2NrZXQubm9kZS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk5vZGVXZWJTb2NrZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdlYnNvY2tldF9ub2RlX2pzXzEuV1M7IH0gfSk7XG52YXIgd2Vic29ja2V0X2pzXzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRzL3dlYnNvY2tldC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIldlYlNvY2tldFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2Vic29ja2V0X2pzXzEuV1M7IH0gfSk7XG52YXIgd2VidHJhbnNwb3J0X2pzXzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRzL3dlYnRyYW5zcG9ydC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIldlYlRyYW5zcG9ydFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2VidHJhbnNwb3J0X2pzXzEuV1Q7IH0gfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU29ja2V0ID0gZXhwb3J0cy5Tb2NrZXRXaXRoVXBncmFkZSA9IGV4cG9ydHMuU29ja2V0V2l0aG91dFVwZ3JhZGUgPSB2b2lkIDA7XG5jb25zdCBpbmRleF9qc18xID0gcmVxdWlyZShcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiKTtcbmNvbnN0IHV0aWxfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWwuanNcIik7XG5jb25zdCBwYXJzZXFzX2pzXzEgPSByZXF1aXJlKFwiLi9jb250cmliL3BhcnNlcXMuanNcIik7XG5jb25zdCBwYXJzZXVyaV9qc18xID0gcmVxdWlyZShcIi4vY29udHJpYi9wYXJzZXVyaS5qc1wiKTtcbmNvbnN0IGNvbXBvbmVudF9lbWl0dGVyXzEgPSByZXF1aXJlKFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiKTtcbmNvbnN0IGVuZ2luZV9pb19wYXJzZXJfMSA9IHJlcXVpcmUoXCJlbmdpbmUuaW8tcGFyc2VyXCIpO1xuY29uc3QgZ2xvYmFsc19ub2RlX2pzXzEgPSByZXF1aXJlKFwiLi9nbG9iYWxzLm5vZGUuanNcIik7XG5jb25zdCBkZWJ1Z18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJkZWJ1Z1wiKSk7IC8vIGRlYnVnKClcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoXCJlbmdpbmUuaW8tY2xpZW50OnNvY2tldFwiKTsgLy8gZGVidWcoKVxuY29uc3Qgd2l0aEV2ZW50TGlzdGVuZXJzID0gdHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHR5cGVvZiByZW1vdmVFdmVudExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUyA9IFtdO1xuaWYgKHdpdGhFdmVudExpc3RlbmVycykge1xuICAgIC8vIHdpdGhpbiBhIFNlcnZpY2VXb3JrZXIsIGFueSBldmVudCBoYW5kbGVyIGZvciB0aGUgJ29mZmxpbmUnIGV2ZW50IG11c3QgYmUgYWRkZWQgb24gdGhlIGluaXRpYWwgZXZhbHVhdGlvbiBvZiB0aGVcbiAgICAvLyBzY3JpcHQsIHNvIHdlIGNyZWF0ZSBvbmUgc2luZ2xlIGV2ZW50IGxpc3RlbmVyIGhlcmUgd2hpY2ggd2lsbCBmb3J3YXJkIHRoZSBldmVudCB0byB0aGUgc29ja2V0IGluc3RhbmNlc1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsICgpID0+IHtcbiAgICAgICAgZGVidWcoXCJjbG9zaW5nICVkIGNvbm5lY3Rpb24ocykgYmVjYXVzZSB0aGUgbmV0d29yayB3YXMgbG9zdFwiLCBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUy5sZW5ndGgpO1xuICAgICAgICBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG4gICAgfSwgZmFsc2UpO1xufVxuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIGEgV2ViU29ja2V0LWxpa2UgaW50ZXJmYWNlIHRvIGNvbm5lY3QgdG8gYW4gRW5naW5lLklPIHNlcnZlci4gVGhlIGNvbm5lY3Rpb24gd2lsbCBiZSBlc3RhYmxpc2hlZFxuICogd2l0aCBvbmUgb2YgdGhlIGF2YWlsYWJsZSBsb3ctbGV2ZWwgdHJhbnNwb3J0cywgbGlrZSBIVFRQIGxvbmctcG9sbGluZywgV2ViU29ja2V0IG9yIFdlYlRyYW5zcG9ydC5cbiAqXG4gKiBUaGlzIGNsYXNzIGNvbWVzIHdpdGhvdXQgdXBncmFkZSBtZWNoYW5pc20sIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBrZWVwIHRoZSBmaXJzdCBsb3ctbGV2ZWwgdHJhbnNwb3J0IHRoYXRcbiAqIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlcyB0aGUgY29ubmVjdGlvbi5cbiAqXG4gKiBJbiBvcmRlciB0byBhbGxvdyB0cmVlLXNoYWtpbmcsIHRoZXJlIGFyZSBubyB0cmFuc3BvcnRzIGluY2x1ZGVkLCB0aGF0J3Mgd2h5IHRoZSBgdHJhbnNwb3J0c2Agb3B0aW9uIGlzIG1hbmRhdG9yeS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgU29ja2V0V2l0aG91dFVwZ3JhZGUsIFdlYlNvY2tldCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG4gKlxuICogY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldFdpdGhvdXRVcGdyYWRlKHtcbiAqICAgdHJhbnNwb3J0czogW1dlYlNvY2tldF1cbiAqIH0pO1xuICpcbiAqIHNvY2tldC5vbihcIm9wZW5cIiwgKCkgPT4ge1xuICogICBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICogfSk7XG4gKlxuICogQHNlZSBTb2NrZXRXaXRoVXBncmFkZVxuICogQHNlZSBTb2NrZXRcbiAqL1xuY2xhc3MgU29ja2V0V2l0aG91dFVwZ3JhZGUgZXh0ZW5kcyBjb21wb25lbnRfZW1pdHRlcl8xLkVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFNvY2tldCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gdXJpIC0gdXJpIG9yIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iaW5hcnlUeXBlID0gZ2xvYmFsc19ub2RlX2pzXzEuZGVmYXVsdEJpbmFyeVR5cGU7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5fcHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIHRoaXMuX3BpbmdJbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLl9waW5nVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLl9tYXhQYXlsb2FkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhwaXJhdGlvbiB0aW1lc3RhbXAgb2YgdGhlIHtAbGluayBfcGluZ1RpbWVvdXRUaW1lcn0gb2JqZWN0IGlzIHRyYWNrZWQsIGluIGNhc2UgdGhlIHRpbWVyIGlzIHRocm90dGxlZCBhbmQgdGhlXG4gICAgICAgICAqIGNhbGxiYWNrIGlzIG5vdCBmaXJlZCBvbiB0aW1lLiBUaGlzIGNhbiBoYXBwZW4gZm9yIGV4YW1wbGUgd2hlbiBhIGxhcHRvcCBpcyBzdXNwZW5kZWQgb3Igd2hlbiBhIHBob25lIGlzIGxvY2tlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZSA9IEluZmluaXR5O1xuICAgICAgICBpZiAodXJpICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiB1cmkpIHtcbiAgICAgICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgICAgICB1cmkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFVyaSA9ICgwLCBwYXJzZXVyaV9qc18xLnBhcnNlKSh1cmkpO1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNlZFVyaS5ob3N0O1xuICAgICAgICAgICAgb3B0cy5zZWN1cmUgPVxuICAgICAgICAgICAgICAgIHBhcnNlZFVyaS5wcm90b2NvbCA9PT0gXCJodHRwc1wiIHx8IHBhcnNlZFVyaS5wcm90b2NvbCA9PT0gXCJ3c3NcIjtcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHBhcnNlZFVyaS5wb3J0O1xuICAgICAgICAgICAgaWYgKHBhcnNlZFVyaS5xdWVyeSlcbiAgICAgICAgICAgICAgICBvcHRzLnF1ZXJ5ID0gcGFyc2VkVXJpLnF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9ICgwLCBwYXJzZXVyaV9qc18xLnBhcnNlKShvcHRzLmhvc3QpLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgKDAsIHV0aWxfanNfMS5pbnN0YWxsVGltZXJGdW5jdGlvbnMpKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLnNlY3VyZSA9XG4gICAgICAgICAgICBudWxsICE9IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgPyBvcHRzLnNlY3VyZVxuICAgICAgICAgICAgICAgIDogdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBpZiAob3B0cy5ob3N0bmFtZSAmJiAhb3B0cy5wb3J0KSB7XG4gICAgICAgICAgICAvLyBpZiBubyBwb3J0IGlzIHNwZWNpZmllZCBtYW51YWxseSwgdXNlIHRoZSBwcm90b2NvbCBkZWZhdWx0XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB0aGlzLnNlY3VyZSA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IGxvY2F0aW9uLmhvc3RuYW1lIDogXCJsb2NhbGhvc3RcIik7XG4gICAgICAgIHRoaXMucG9ydCA9XG4gICAgICAgICAgICBvcHRzLnBvcnQgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGlvbi5wb3J0XG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5zZWN1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCI0NDNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjgwXCIpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydHMgPSBbXTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0c0J5TmFtZSA9IHt9O1xuICAgICAgICBvcHRzLnRyYW5zcG9ydHMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNwb3J0TmFtZSA9IHQucHJvdG90eXBlLm5hbWU7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMucHVzaCh0cmFuc3BvcnROYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydHNCeU5hbWVbdHJhbnNwb3J0TmFtZV0gPSB0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBwYXRoOiBcIi9lbmdpbmUuaW9cIixcbiAgICAgICAgICAgIGFnZW50OiBmYWxzZSxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICB1cGdyYWRlOiB0cnVlLFxuICAgICAgICAgICAgdGltZXN0YW1wUGFyYW06IFwidFwiLFxuICAgICAgICAgICAgcmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcbiAgICAgICAgICAgIGFkZFRyYWlsaW5nU2xhc2g6IHRydWUsXG4gICAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZToge1xuICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMTAyNCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc3BvcnRPcHRpb25zOiB7fSxcbiAgICAgICAgICAgIGNsb3NlT25CZWZvcmV1bmxvYWQ6IGZhbHNlLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzLnBhdGggPVxuICAgICAgICAgICAgdGhpcy5vcHRzLnBhdGgucmVwbGFjZSgvXFwvJC8sIFwiXCIpICtcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRzLmFkZFRyYWlsaW5nU2xhc2ggPyBcIi9cIiA6IFwiXCIpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0cy5xdWVyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5vcHRzLnF1ZXJ5ID0gKDAsIHBhcnNlcXNfanNfMS5kZWNvZGUpKHRoaXMub3B0cy5xdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpdGhFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uQmVmb3JldW5sb2FkKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gd2hlbiB0aGUgXCJiZWZvcmV1bmxvYWRcIiBldmVudCBpcyBlbWl0dGVkIGJ1dCBub3QgQ2hyb21lLiBUaGlzIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlcyBldmVyeSBicm93c2VyIGJlaGF2ZXMgdGhlIHNhbWUgKG5vIFwiZGlzY29ubmVjdFwiIGV2ZW50IGF0IHRoZSBTb2NrZXQuSU8gbGV2ZWwgd2hlbiB0aGUgcGFnZSBpc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlZC9yZWxvYWRlZClcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbGVudGx5IGNsb3NlIHRoZSB0cmFuc3BvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5ob3N0bmFtZSAhPT0gXCJsb2NhbGhvc3RcIikge1xuICAgICAgICAgICAgICAgIGRlYnVnKFwiYWRkaW5nIGxpc3RlbmVyIGZvciB0aGUgJ29mZmxpbmUnIGV2ZW50XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIm5ldHdvcmsgY29ubmVjdGlvbiBsb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT0ZGTElORV9FVkVOVF9MSVNURU5FUlMucHVzaCh0aGlzLl9vZmZsaW5lRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0cy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nvb2tpZUphciA9ICgwLCBnbG9iYWxzX25vZGVfanNfMS5jcmVhdGVDb29raWVKYXIpKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3BlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRyYW5zcG9ydCBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdHJhbnNwb3J0IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjcmVhdGVUcmFuc3BvcnQobmFtZSkge1xuICAgICAgICBkZWJ1ZygnY3JlYXRpbmcgdHJhbnNwb3J0IFwiJXNcIicsIG5hbWUpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cy5xdWVyeSk7XG4gICAgICAgIC8vIGFwcGVuZCBlbmdpbmUuaW8gcHJvdG9jb2wgaWRlbnRpZmllclxuICAgICAgICBxdWVyeS5FSU8gPSBlbmdpbmVfaW9fcGFyc2VyXzEucHJvdG9jb2w7XG4gICAgICAgIC8vIHRyYW5zcG9ydCBuYW1lXG4gICAgICAgIHF1ZXJ5LnRyYW5zcG9ydCA9IG5hbWU7XG4gICAgICAgIC8vIHNlc3Npb24gaWQgaWYgd2UgYWxyZWFkeSBoYXZlIG9uZVxuICAgICAgICBpZiAodGhpcy5pZClcbiAgICAgICAgICAgIHF1ZXJ5LnNpZCA9IHRoaXMuaWQ7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgc29ja2V0OiB0aGlzLFxuICAgICAgICAgICAgaG9zdG5hbWU6IHRoaXMuaG9zdG5hbWUsXG4gICAgICAgICAgICBzZWN1cmU6IHRoaXMuc2VjdXJlLFxuICAgICAgICAgICAgcG9ydDogdGhpcy5wb3J0LFxuICAgICAgICB9LCB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIGRlYnVnKFwib3B0aW9uczogJWpcIiwgb3B0cyk7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5fdHJhbnNwb3J0c0J5TmFtZVtuYW1lXShvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdHJhbnNwb3J0IHRvIHVzZSBhbmQgc3RhcnRzIHByb2JlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEVtaXQgZXJyb3Igb24gbmV4dCB0aWNrIHNvIGl0IGNhbiBiZSBsaXN0ZW5lZCB0b1xuICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydE5hbWUgPSB0aGlzLm9wdHMucmVtZW1iZXJVcGdyYWRlICYmXG4gICAgICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpICE9PSAtMVxuICAgICAgICAgICAgPyBcIndlYnNvY2tldFwiXG4gICAgICAgICAgICA6IHRoaXMudHJhbnNwb3J0c1swXTtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KHRyYW5zcG9ydE5hbWUpO1xuICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydC4gRGlzYWJsZXMgdGhlIGV4aXN0aW5nIG9uZSAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCkge1xuICAgICAgICBkZWJ1ZyhcInNldHRpbmcgdHJhbnNwb3J0ICVzXCIsIHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICBkZWJ1ZyhcImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlc1wiLCB0aGlzLnRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnRcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnQgbGlzdGVuZXJzXG4gICAgICAgIHRyYW5zcG9ydFxuICAgICAgICAgICAgLm9uKFwiZHJhaW5cIiwgdGhpcy5fb25EcmFpbi5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwicGFja2V0XCIsIHRoaXMuX29uUGFja2V0LmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJlcnJvclwiLCB0aGlzLl9vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJjbG9zZVwiLCAocmVhc29uKSA9PiB0aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIsIHJlYXNvbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBjb25uZWN0aW9uIGlzIGRlZW1lZCBvcGVuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGRlYnVnKFwic29ja2V0IG9wZW5cIik7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPVxuICAgICAgICAgICAgXCJ3ZWJzb2NrZXRcIiA9PT0gdGhpcy50cmFuc3BvcnQubmFtZTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIGRlYnVnKCdzb2NrZXQgcmVjZWl2ZTogdHlwZSBcIiVzXCIsIGRhdGEgXCIlc1wiJywgcGFja2V0LnR5cGUsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgICAgICAgICAvLyBTb2NrZXQgaXMgbGl2ZSAtIGFueSBwYWNrZXQgY291bnRzXG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImhlYXJ0YmVhdFwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSGFuZHNoYWtlKEpTT04ucGFyc2UocGFja2V0LmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZFBhY2tldChcInBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb25nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNldFBpbmdUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBwYWNrZXQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRhdGFcIiwgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcIm1lc3NhZ2VcIiwgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnKCdwYWNrZXQgcmVjZWl2ZWQgd2l0aCBzb2NrZXQgcmVhZHlTdGF0ZSBcIiVzXCInLCB0aGlzLnJlYWR5U3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBoYW5kc2hha2Ugb2JqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGFuZHNoYWtlXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLmlkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgICAgICB0aGlzLl9waW5nSW50ZXJ2YWwgPSBkYXRhLnBpbmdJbnRlcnZhbDtcbiAgICAgICAgdGhpcy5fcGluZ1RpbWVvdXQgPSBkYXRhLnBpbmdUaW1lb3V0O1xuICAgICAgICB0aGlzLl9tYXhQYXlsb2FkID0gZGF0YS5tYXhQYXlsb2FkO1xuICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG4gICAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuX3Jlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbmQgcmVzZXRzIHBpbmcgdGltZW91dCB0aW1lciBiYXNlZCBvbiBzZXJ2ZXIgcGluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXNldFBpbmdUaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMuX3BpbmdUaW1lb3V0VGltZXIpO1xuICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuX3BpbmdJbnRlcnZhbCArIHRoaXMuX3BpbmdUaW1lb3V0O1xuICAgICAgICB0aGlzLl9waW5nVGltZW91dFRpbWUgPSBEYXRlLm5vdygpICsgZGVsYXk7XG4gICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZXIgPSB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9waW5nVGltZW91dFRpbWVyLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uRHJhaW4oKSB7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsIHRoaXMuX3ByZXZCdWZmZXJMZW4pO1xuICAgICAgICAvLyBzZXR0aW5nIHByZXZCdWZmZXJMZW4gPSAwIGlzIHZlcnkgaW1wb3J0YW50XG4gICAgICAgIC8vIGZvciBleGFtcGxlLCB3aGVuIHVwZ3JhZGluZywgdXBncmFkZSBwYWNrZXQgaXMgc2VudCBvdmVyLFxuICAgICAgICAvLyBhbmQgYSBub256ZXJvIHByZXZCdWZmZXJMZW4gY291bGQgY2F1c2UgcHJvYmxlbXMgb24gYGRyYWluYFxuICAgICAgICB0aGlzLl9wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC53cml0YWJsZSAmJlxuICAgICAgICAgICAgIXRoaXMudXBncmFkaW5nICYmXG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0cyA9IHRoaXMuX2dldFdyaXRhYmxlUGFja2V0cygpO1xuICAgICAgICAgICAgZGVidWcoXCJmbHVzaGluZyAlZCBwYWNrZXRzIGluIHNvY2tldFwiLCBwYWNrZXRzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHBhY2tldHMpO1xuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG4gICAgICAgICAgICB0aGlzLl9wcmV2QnVmZmVyTGVuID0gcGFja2V0cy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImZsdXNoXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGUgZW5jb2RlZCBzaXplIG9mIHRoZSB3cml0ZUJ1ZmZlciBpcyBiZWxvdyB0aGUgbWF4UGF5bG9hZCB2YWx1ZSBzZW50IGJ5IHRoZSBzZXJ2ZXIgKG9ubHkgZm9yIEhUVFBcbiAgICAgKiBsb25nLXBvbGxpbmcpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRXcml0YWJsZVBhY2tldHMoKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZENoZWNrUGF5bG9hZFNpemUgPSB0aGlzLl9tYXhQYXlsb2FkICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5uYW1lID09PSBcInBvbGxpbmdcIiAmJlxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPiAxO1xuICAgICAgICBpZiAoIXNob3VsZENoZWNrUGF5bG9hZFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXlsb2FkU2l6ZSA9IDE7IC8vIGZpcnN0IHBhY2tldCB0eXBlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMud3JpdGVCdWZmZXJbaV0uZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gKDAsIHV0aWxfanNfMS5ieXRlTGVuZ3RoKShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBwYXlsb2FkU2l6ZSA+IHRoaXMuX21heFBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhcIm9ubHkgc2VuZCAlZCBvdXQgb2YgJWQgcGFja2V0c1wiLCBpLCB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVCdWZmZXIuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXlsb2FkU2l6ZSArPSAyOyAvLyBzZXBhcmF0b3IgKyBwYWNrZXQgdHlwZVxuICAgICAgICB9XG4gICAgICAgIGRlYnVnKFwicGF5bG9hZCBzaXplIGlzICVkIChtYXg6ICVkKVwiLCBwYXlsb2FkU2l6ZSwgdGhpcy5fbWF4UGF5bG9hZCk7XG4gICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgaGVhcnRiZWF0IHRpbWVyIGhhcyBleHBpcmVkIGJ1dCB0aGUgc29ja2V0IGhhcyBub3QgeWV0IGJlZW4gbm90aWZpZWQuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyBwcml2YXRlIGZvciBub3cgYmVjYXVzZSBpdCBkb2VzIG5vdCByZWFsbHkgZml0IHRoZSBXZWJTb2NrZXQgQVBJLCBidXQgaWYgd2UgcHV0IGl0IGluIHRoZVxuICAgICAqIGB3cml0ZSgpYCBtZXRob2QgdGhlbiB0aGUgbWVzc2FnZSB3b3VsZCBub3QgYmUgYnVmZmVyZWQgYnkgdGhlIFNvY2tldC5JTyBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgLyogcHJpdmF0ZSAqLyBfaGFzUGluZ0V4cGlyZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGluZ1RpbWVvdXRUaW1lKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IGhhc0V4cGlyZWQgPSBEYXRlLm5vdygpID4gdGhpcy5fcGluZ1RpbWVvdXRUaW1lO1xuICAgICAgICBpZiAoaGFzRXhwaXJlZCkge1xuICAgICAgICAgICAgZGVidWcoXCJ0aHJvdHRsZWQgdGltZXIgZGV0ZWN0ZWQsIHNjaGVkdWxpbmcgY29ubmVjdGlvbiBjbG9zZVwiKTtcbiAgICAgICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZSA9IDA7XG4gICAgICAgICAgICAoMCwgZ2xvYmFsc19ub2RlX2pzXzEubmV4dFRpY2spKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNFeHBpcmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge1NvY2tldH0gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHdyaXRlKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UuIEFsaWFzIG9mIHtAbGluayBTb2NrZXQjd3JpdGV9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZW5kKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlOiBwYWNrZXQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlbmRQYWNrZXQodHlwZSwgZGF0YSwgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRhdGEpIHtcbiAgICAgICAgICAgIGZuID0gZGF0YTtcbiAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGZuID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmNvbXByZXNzID0gZmFsc2UgIT09IG9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRDcmVhdGVcIiwgcGFja2V0KTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIGlmIChmbilcbiAgICAgICAgICAgIHRoaXMub25jZShcImZsdXNoXCIsIGZuKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgICAgICAgIGRlYnVnKFwic29ja2V0IGNsb3NpbmcgLSB0ZWxsaW5nIHRyYW5zcG9ydCB0byBjbG9zZVwiKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNsZWFudXBBbmRDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkZVwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdhaXRGb3JVcGdyYWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdXBncmFkZSB0byBmaW5pc2ggc2luY2Ugd2UgY2FuJ3Qgc2VuZCBwYWNrZXRzIHdoaWxlIHBhdXNpbmcgYSB0cmFuc3BvcnRcbiAgICAgICAgICAgIHRoaXMub25jZShcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub25jZShcInVwZ3JhZGVFcnJvclwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NpbmdcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcImRyYWluXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGVycm9yXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGVycikge1xuICAgICAgICBkZWJ1ZyhcInNvY2tldCBlcnJvciAlalwiLCBlcnIpO1xuICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy50cnlBbGxUcmFuc3BvcnRzICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5pbmdcIikge1xuICAgICAgICAgICAgZGVidWcoXCJ0cnlpbmcgbmV4dCB0cmFuc3BvcnRcIik7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB0aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgZGVidWcoJ3NvY2tldCBjbG9zZSB3aXRoIHJlYXNvbjogXCIlc1wiJywgcmVhc29uKTtcbiAgICAgICAgICAgIC8vIGNsZWFyIHRpbWVyc1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aGlzLl9waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIik7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdHJhbnNwb3J0IHdvbid0IHN0YXkgb3BlblxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmICh3aXRoRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUy5pbmRleE9mKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhcInJlbW92aW5nIGxpc3RlbmVyIGZvciB0aGUgJ29mZmxpbmUnIGV2ZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgT0ZGTElORV9FVkVOVF9MSVNURU5FUlMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHJlYWR5IHN0YXRlXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgLy8gY2xlYXIgc2Vzc2lvbiBpZFxuICAgICAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbWl0IGNsb3NlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgLy8gY2xlYW4gYnVmZmVycyBhZnRlciwgc28gdXNlcnMgY2FuIHN0aWxsXG4gICAgICAgICAgICAvLyBncmFiIHRoZSBidWZmZXJzIG9uIGBjbG9zZWAgZXZlbnRcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3ByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Tb2NrZXRXaXRob3V0VXBncmFkZSA9IFNvY2tldFdpdGhvdXRVcGdyYWRlO1xuU29ja2V0V2l0aG91dFVwZ3JhZGUucHJvdG9jb2wgPSBlbmdpbmVfaW9fcGFyc2VyXzEucHJvdG9jb2w7XG4vKipcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYSBXZWJTb2NrZXQtbGlrZSBpbnRlcmZhY2UgdG8gY29ubmVjdCB0byBhbiBFbmdpbmUuSU8gc2VydmVyLiBUaGUgY29ubmVjdGlvbiB3aWxsIGJlIGVzdGFibGlzaGVkXG4gKiB3aXRoIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGxvdy1sZXZlbCB0cmFuc3BvcnRzLCBsaWtlIEhUVFAgbG9uZy1wb2xsaW5nLCBXZWJTb2NrZXQgb3IgV2ViVHJhbnNwb3J0LlxuICpcbiAqIFRoaXMgY2xhc3MgY29tZXMgd2l0aCBhbiB1cGdyYWRlIG1lY2hhbmlzbSwgd2hpY2ggbWVhbnMgdGhhdCBvbmNlIHRoZSBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIHdpdGggdGhlIGZpcnN0XG4gKiBsb3ctbGV2ZWwgdHJhbnNwb3J0LCBpdCB3aWxsIHRyeSB0byB1cGdyYWRlIHRvIGEgYmV0dGVyIHRyYW5zcG9ydC5cbiAqXG4gKiBJbiBvcmRlciB0byBhbGxvdyB0cmVlLXNoYWtpbmcsIHRoZXJlIGFyZSBubyB0cmFuc3BvcnRzIGluY2x1ZGVkLCB0aGF0J3Mgd2h5IHRoZSBgdHJhbnNwb3J0c2Agb3B0aW9uIGlzIG1hbmRhdG9yeS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgU29ja2V0V2l0aFVwZ3JhZGUsIFdlYlNvY2tldCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG4gKlxuICogY29uc3Qgc29ja2V0ID0gbmV3IFNvY2tldFdpdGhVcGdyYWRlKHtcbiAqICAgdHJhbnNwb3J0czogW1dlYlNvY2tldF1cbiAqIH0pO1xuICpcbiAqIHNvY2tldC5vbihcIm9wZW5cIiwgKCkgPT4ge1xuICogICBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICogfSk7XG4gKlxuICogQHNlZSBTb2NrZXRXaXRob3V0VXBncmFkZVxuICogQHNlZSBTb2NrZXRcbiAqL1xuY2xhc3MgU29ja2V0V2l0aFVwZ3JhZGUgZXh0ZW5kcyBTb2NrZXRXaXRob3V0VXBncmFkZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3VwZ3JhZGVzID0gW107XG4gICAgfVxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgc3VwZXIub25PcGVuKCk7XG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlICYmIHRoaXMub3B0cy51cGdyYWRlKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcInN0YXJ0aW5nIHVwZ3JhZGUgcHJvYmVzXCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl91cGdyYWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2JlKHRoaXMuX3VwZ3JhZGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9iZXMgYSB0cmFuc3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRyYW5zcG9ydCBuYW1lXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcHJvYmUobmFtZSkge1xuICAgICAgICBkZWJ1ZygncHJvYmluZyB0cmFuc3BvcnQgXCIlc1wiJywgbmFtZSk7XG4gICAgICAgIGxldCB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydChuYW1lKTtcbiAgICAgICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xuICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb25UcmFuc3BvcnRPcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLCBuYW1lKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKFt7IHR5cGU6IFwicGluZ1wiLCBkYXRhOiBcInByb2JlXCIgfV0pO1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJwYWNrZXRcIiwgKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoXCJwb25nXCIgPT09IG1zZy50eXBlICYmIFwicHJvYmVcIiA9PT0gbXNnLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgcG9uZycsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkaW5nXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNwb3J0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJzb2NrZXRcIiA9PT0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsIHRoaXMudHJhbnNwb3J0Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5wYXVzZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJjaGFuZ2luZyB0cmFuc3BvcnQgYW5kIHNlbmRpbmcgdXBncmFkZSBwYWNrZXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJ1cGdyYWRlXCIgfV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGdyYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBmYWlsZWQnLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQoKSB7XG4gICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIEFueSBjYWxsYmFjayBjYWxsZWQgYnkgdHJhbnNwb3J0IHNob3VsZCBiZSBpZ25vcmVkIHNpbmNlIG5vd1xuICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYW55IGVycm9yIHRoYXQgaGFwcGVucyB3aGlsZSBwcm9iaW5nXG4gICAgICAgIGNvbnN0IG9uZXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcInByb2JlIGVycm9yOiBcIiArIGVycik7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBlcnJvci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuICAgICAgICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkIGJlY2F1c2Ugb2YgZXJyb3I6ICVzJywgbmFtZSwgZXJyKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoXCJ0cmFuc3BvcnQgY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgICAgICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgICAgICAgICAgb25lcnJvcihcInNvY2tldCBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIHVwZ3JhZGVkIHdoaWxlIHdlJ3JlIHByb2JpbmdcbiAgICAgICAgZnVuY3Rpb24gb251cGdyYWRlKHRvKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ1wiJXNcIiB3b3JrcyAtIGFib3J0aW5nIFwiJXNcIicsIHRvLm5hbWUsIHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBvbiB0aGUgdHJhbnNwb3J0IGFuZCBvbiBzZWxmXG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJvcGVuXCIsIG9uVHJhbnNwb3J0T3Blbik7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcImNsb3NlXCIsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgICAgICB0aGlzLm9uY2UoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgICAgIGlmICh0aGlzLl91cGdyYWRlcy5pbmRleE9mKFwid2VidHJhbnNwb3J0XCIpICE9PSAtMSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gXCJ3ZWJ0cmFuc3BvcnRcIikge1xuICAgICAgICAgICAgLy8gZmF2b3IgV2ViVHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuX3VwZ3JhZGVzID0gdGhpcy5fZmlsdGVyVXBncmFkZXMoZGF0YS51cGdyYWRlcyk7XG4gICAgICAgIHN1cGVyLm9uSGFuZHNoYWtlKGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHVwZ3JhZGVzLCByZXR1cm5pbmcgb25seSB0aG9zZSBtYXRjaGluZyBjbGllbnQgdHJhbnNwb3J0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZ3JhZGVzIC0gc2VydmVyIHVwZ3JhZGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlsdGVyVXBncmFkZXModXBncmFkZXMpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRVcGdyYWRlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZ3JhZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAofnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKHVwZ3JhZGVzW2ldKSlcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFVwZ3JhZGVzLnB1c2godXBncmFkZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFVwZ3JhZGVzO1xuICAgIH1cbn1cbmV4cG9ydHMuU29ja2V0V2l0aFVwZ3JhZGUgPSBTb2NrZXRXaXRoVXBncmFkZTtcbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyBhIFdlYlNvY2tldC1saWtlIGludGVyZmFjZSB0byBjb25uZWN0IHRvIGFuIEVuZ2luZS5JTyBzZXJ2ZXIuIFRoZSBjb25uZWN0aW9uIHdpbGwgYmUgZXN0YWJsaXNoZWRcbiAqIHdpdGggb25lIG9mIHRoZSBhdmFpbGFibGUgbG93LWxldmVsIHRyYW5zcG9ydHMsIGxpa2UgSFRUUCBsb25nLXBvbGxpbmcsIFdlYlNvY2tldCBvciBXZWJUcmFuc3BvcnQuXG4gKlxuICogVGhpcyBjbGFzcyBjb21lcyB3aXRoIGFuIHVwZ3JhZGUgbWVjaGFuaXNtLCB3aGljaCBtZWFucyB0aGF0IG9uY2UgdGhlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgd2l0aCB0aGUgZmlyc3RcbiAqIGxvdy1sZXZlbCB0cmFuc3BvcnQsIGl0IHdpbGwgdHJ5IHRvIHVwZ3JhZGUgdG8gYSBiZXR0ZXIgdHJhbnNwb3J0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuICpcbiAqIGNvbnN0IHNvY2tldCA9IG5ldyBTb2NrZXQoKTtcbiAqXG4gKiBzb2NrZXQub24oXCJvcGVuXCIsICgpID0+IHtcbiAqICAgc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAqIH0pO1xuICpcbiAqIEBzZWUgU29ja2V0V2l0aG91dFVwZ3JhZGVcbiAqIEBzZWUgU29ja2V0V2l0aFVwZ3JhZGVcbiAqL1xuY2xhc3MgU29ja2V0IGV4dGVuZHMgU29ja2V0V2l0aFVwZ3JhZGUge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG8gPSB0eXBlb2YgdXJpID09PSBcIm9iamVjdFwiID8gdXJpIDogb3B0cztcbiAgICAgICAgaWYgKCFvLnRyYW5zcG9ydHMgfHxcbiAgICAgICAgICAgIChvLnRyYW5zcG9ydHMgJiYgdHlwZW9mIG8udHJhbnNwb3J0c1swXSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgIG8udHJhbnNwb3J0cyA9IChvLnRyYW5zcG9ydHMgfHwgW1wicG9sbGluZ1wiLCBcIndlYnNvY2tldFwiLCBcIndlYnRyYW5zcG9ydFwiXSlcbiAgICAgICAgICAgICAgICAubWFwKCh0cmFuc3BvcnROYW1lKSA9PiBpbmRleF9qc18xLnRyYW5zcG9ydHNbdHJhbnNwb3J0TmFtZV0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcigodCkgPT4gISF0KTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcih1cmksIG8pO1xuICAgIH1cbn1cbmV4cG9ydHMuU29ja2V0ID0gU29ja2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRyYW5zcG9ydCA9IGV4cG9ydHMuVHJhbnNwb3J0RXJyb3IgPSB2b2lkIDA7XG5jb25zdCBlbmdpbmVfaW9fcGFyc2VyXzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLXBhcnNlclwiKTtcbmNvbnN0IGNvbXBvbmVudF9lbWl0dGVyXzEgPSByZXF1aXJlKFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiKTtcbmNvbnN0IHV0aWxfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWwuanNcIik7XG5jb25zdCBwYXJzZXFzX2pzXzEgPSByZXF1aXJlKFwiLi9jb250cmliL3BhcnNlcXMuanNcIik7XG5jb25zdCBkZWJ1Z18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJkZWJ1Z1wiKSk7IC8vIGRlYnVnKClcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoXCJlbmdpbmUuaW8tY2xpZW50OnRyYW5zcG9ydFwiKTsgLy8gZGVidWcoKVxuY2xhc3MgVHJhbnNwb3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlcihyZWFzb24pO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnRzLlRyYW5zcG9ydEVycm9yID0gVHJhbnNwb3J0RXJyb3I7XG5jbGFzcyBUcmFuc3BvcnQgZXh0ZW5kcyBjb21wb25lbnRfZW1pdHRlcl8xLkVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgKDAsIHV0aWxfanNfMS5pbnN0YWxsVGltZXJGdW5jdGlvbnMpKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeTtcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBvcHRzLnNvY2tldDtcbiAgICAgICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9ICFvcHRzLmZvcmNlQmFzZTY0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIHRoZSBlcnJvciBjb250ZXh0XG4gICAgICogQHJldHVybiB7VHJhbnNwb3J0fSBmb3IgY2hhaW5pbmdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25FcnJvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIG5ldyBUcmFuc3BvcnRFcnJvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgdHJhbnNwb3J0LlxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLmRvT3BlbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSB0cmFuc3BvcnQuXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFwib3BlbmluZ1wiIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZG9DbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIG11bHRpcGxlIHBhY2tldHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gICAgICovXG4gICAgc2VuZChwYWNrZXRzKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHBhY2tldHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBtaWdodCBoYXBwZW4gaWYgdGhlIHRyYW5zcG9ydCB3YXMgc2lsZW50bHkgY2xvc2VkIGluIHRoZSBiZWZvcmV1bmxvYWQgZXZlbnQgaGFuZGxlclxuICAgICAgICAgICAgZGVidWcoXCJ0cmFuc3BvcnQgaXMgbm90IG9wZW4sIGRpc2NhcmRpbmcgcGFja2V0c1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBvcGVuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBwYWNrZXQgPSAoMCwgZW5naW5lX2lvX3BhcnNlcl8xLmRlY29kZVBhY2tldCkoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvblBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2xvc2UoZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCBkZXRhaWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2VzIHRoZSB0cmFuc3BvcnQsIGluIG9yZGVyIG5vdCB0byBsb3NlIHBhY2tldHMgZHVyaW5nIGFuIHVwZ3JhZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb25QYXVzZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHsgfVxuICAgIGNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIChzY2hlbWEgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICB0aGlzLl9ob3N0bmFtZSgpICtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQoKSArXG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICAgICAgICB0aGlzLl9xdWVyeShxdWVyeSkpO1xuICAgIH1cbiAgICBfaG9zdG5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gdGhpcy5vcHRzLmhvc3RuYW1lO1xuICAgICAgICByZXR1cm4gaG9zdG5hbWUuaW5kZXhPZihcIjpcIikgPT09IC0xID8gaG9zdG5hbWUgOiBcIltcIiArIGhvc3RuYW1lICsgXCJdXCI7XG4gICAgfVxuICAgIF9wb3J0KCkge1xuICAgICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiZcbiAgICAgICAgICAgICgodGhpcy5vcHRzLnNlY3VyZSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQgIT09IDQ0MykpIHx8XG4gICAgICAgICAgICAgICAgKCF0aGlzLm9wdHMuc2VjdXJlICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3F1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRRdWVyeSA9ICgwLCBwYXJzZXFzX2pzXzEuZW5jb2RlKShxdWVyeSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkUXVlcnkubGVuZ3RoID8gXCI/XCIgKyBlbmNvZGVkUXVlcnkgOiBcIlwiO1xuICAgIH1cbn1cbmV4cG9ydHMuVHJhbnNwb3J0ID0gVHJhbnNwb3J0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnRyYW5zcG9ydHMgPSB2b2lkIDA7XG5jb25zdCBwb2xsaW5nX3hocl9ub2RlX2pzXzEgPSByZXF1aXJlKFwiLi9wb2xsaW5nLXhoci5ub2RlLmpzXCIpO1xuY29uc3Qgd2Vic29ja2V0X25vZGVfanNfMSA9IHJlcXVpcmUoXCIuL3dlYnNvY2tldC5ub2RlLmpzXCIpO1xuY29uc3Qgd2VidHJhbnNwb3J0X2pzXzEgPSByZXF1aXJlKFwiLi93ZWJ0cmFuc3BvcnQuanNcIik7XG5leHBvcnRzLnRyYW5zcG9ydHMgPSB7XG4gICAgd2Vic29ja2V0OiB3ZWJzb2NrZXRfbm9kZV9qc18xLldTLFxuICAgIHdlYnRyYW5zcG9ydDogd2VidHJhbnNwb3J0X2pzXzEuV1QsXG4gICAgcG9sbGluZzogcG9sbGluZ194aHJfbm9kZV9qc18xLlhIUixcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmV0Y2ggPSB2b2lkIDA7XG5jb25zdCBwb2xsaW5nX2pzXzEgPSByZXF1aXJlKFwiLi9wb2xsaW5nLmpzXCIpO1xuLyoqXG4gKiBIVFRQIGxvbmctcG9sbGluZyBiYXNlZCBvbiB0aGUgYnVpbHQtaW4gYGZldGNoKClgIG1ldGhvZC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlciwgTm9kZS5qcyAoc2luY2UgdjE4KSwgRGVubywgQnVuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvZmV0Y2hcbiAqIEBzZWUgaHR0cHM6Ly9jYW5pdXNlLmNvbS9mZXRjaFxuICogQHNlZSBodHRwczovL25vZGVqcy5vcmcvYXBpL2dsb2JhbHMuaHRtbCNmZXRjaFxuICovXG5jbGFzcyBGZXRjaCBleHRlbmRzIHBvbGxpbmdfanNfMS5Qb2xsaW5nIHtcbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIHRoaXMuX2ZldGNoKClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihcImZldGNoIHJlYWQgZXJyb3JcIiwgcmVzLnN0YXR1cywgcmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy50ZXh0KCkudGhlbigoZGF0YSkgPT4gdGhpcy5vbkRhdGEoZGF0YSkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcImZldGNoIHJlYWQgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRvV3JpdGUoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZmV0Y2goZGF0YSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihcImZldGNoIHdyaXRlIGVycm9yXCIsIHJlcy5zdGF0dXMsIHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcImZldGNoIHdyaXRlIGVycm9yXCIsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZmV0Y2goZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGlzUG9zdCA9IGRhdGEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMub3B0cy5leHRyYUhlYWRlcnMpO1xuICAgICAgICBpZiAoaXNQb3N0KSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldChcImNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldC5fY29va2llSmFyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXBwZW5kQ29va2llcyhoZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMudXJpKCksIHtcbiAgICAgICAgICAgIG1ldGhvZDogaXNQb3N0ID8gXCJQT1NUXCIgOiBcIkdFVFwiLFxuICAgICAgICAgICAgYm9keTogaXNQb3N0ID8gZGF0YSA6IG51bGwsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IHRoaXMub3B0cy53aXRoQ3JlZGVudGlhbHMgPyBcImluY2x1ZGVcIiA6IFwib21pdFwiLFxuICAgICAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgZ2V0U2V0Q29va2llKCkgd2FzIGFkZGVkIGluIE5vZGUuanMgdjE5LjcuMFxuICAgICAgICAgICAgKF9hID0gdGhpcy5zb2NrZXQuX2Nvb2tpZUphcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcnNlQ29va2llcyhyZXMuaGVhZGVycy5nZXRTZXRDb29raWUoKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkZldGNoID0gRmV0Y2g7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuWEhSID0gZXhwb3J0cy5SZXF1ZXN0ID0gZXhwb3J0cy5CYXNlWEhSID0gdm9pZCAwO1xuY29uc3QgcG9sbGluZ19qc18xID0gcmVxdWlyZShcIi4vcG9sbGluZy5qc1wiKTtcbmNvbnN0IGNvbXBvbmVudF9lbWl0dGVyXzEgPSByZXF1aXJlKFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiKTtcbmNvbnN0IHV0aWxfanNfMSA9IHJlcXVpcmUoXCIuLi91dGlsLmpzXCIpO1xuY29uc3QgZ2xvYmFsc19ub2RlX2pzXzEgPSByZXF1aXJlKFwiLi4vZ2xvYmFscy5ub2RlLmpzXCIpO1xuY29uc3QgaGFzX2NvcnNfanNfMSA9IHJlcXVpcmUoXCIuLi9jb250cmliL2hhcy1jb3JzLmpzXCIpO1xuY29uc3QgZGVidWdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZGVidWdcIikpOyAvLyBkZWJ1ZygpXG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKFwiZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nXCIpOyAvLyBkZWJ1ZygpXG5mdW5jdGlvbiBlbXB0eSgpIHsgfVxuY2xhc3MgQmFzZVhIUiBleHRlbmRzIHBvbGxpbmdfanNfMS5Qb2xsaW5nIHtcbiAgICAvKipcbiAgICAgKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICogQHBhY2thZ2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBpc1NTTCA9IFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICAgICAgbGV0IHBvcnQgPSBsb2NhdGlvbi5wb3J0O1xuICAgICAgICAgICAgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuICAgICAgICAgICAgaWYgKCFwb3J0KSB7XG4gICAgICAgICAgICAgICAgcG9ydCA9IGlzU1NMID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueGQgPVxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwic3VjY2Vzc1wiLCBmbik7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIGRlYnVnKFwieGhyIHBvbGxcIik7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVhIUiA9IEJhc2VYSFI7XG5jbGFzcyBSZXF1ZXN0IGV4dGVuZHMgY29tcG9uZW50X2VtaXR0ZXJfMS5FbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYWNrYWdlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY3JlYXRlUmVxdWVzdCwgdXJpLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgICgwLCB1dGlsX2pzXzEuaW5zdGFsbFRpbWVyRnVuY3Rpb25zKSh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5fb3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMuX21ldGhvZCA9IG9wdHMubWV0aG9kIHx8IFwiR0VUXCI7XG4gICAgICAgIHRoaXMuX3VyaSA9IHVyaTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHVuZGVmaW5lZCAhPT0gb3B0cy5kYXRhID8gb3B0cy5kYXRhIDogbnVsbDtcbiAgICAgICAgdGhpcy5fY3JlYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFhIUiBvYmplY3QgYW5kIHNlbmRzIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG9wdHMgPSAoMCwgdXRpbF9qc18xLnBpY2spKHRoaXMuX29wdHMsIFwiYWdlbnRcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImF1dG9VbnJlZlwiKTtcbiAgICAgICAgb3B0cy54ZG9tYWluID0gISF0aGlzLl9vcHRzLnhkO1xuICAgICAgICBjb25zdCB4aHIgPSAodGhpcy5feGhyID0gdGhpcy5jcmVhdGVSZXF1ZXN0KG9wdHMpKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlYnVnKFwieGhyIG9wZW4gJXM6ICVzXCIsIHRoaXMuX21ldGhvZCwgdGhpcy5fdXJpKTtcbiAgICAgICAgICAgIHhoci5vcGVuKHRoaXMuX21ldGhvZCwgdGhpcy5fdXJpLCB0cnVlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayAmJiB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCB0aGlzLl9vcHRzLmV4dHJhSGVhZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICBpZiAoXCJQT1NUXCIgPT09IHRoaXMuX21ldGhvZCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiKi8qXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgKF9hID0gdGhpcy5fb3B0cy5jb29raWVKYXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRDb29raWVzKHhocik7XG4gICAgICAgICAgICAvLyBpZTYgY2hlY2tcbiAgICAgICAgICAgIGlmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIHhocikge1xuICAgICAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLl9vcHRzLndpdGhDcmVkZW50aWFscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRzLnJlcXVlc3RUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLl9vcHRzLnJlcXVlc3RUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuX29wdHMuY29va2llSmFyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFyc2VDb29raWVzKFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHhoci5nZXRSZXNwb25zZUhlYWRlcihcInNldC1jb29raWVcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoNCAhPT0geGhyLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoMjAwID09PSB4aHIuc3RhdHVzIHx8IDEyMjMgPT09IHhoci5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Mb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGBlcnJvcmAgZXZlbnQgaGFuZGxlciB0aGF0J3MgdXNlci1zZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGVvZiB4aHIuc3RhdHVzID09PSBcIm51bWJlclwiID8geGhyLnN0YXR1cyA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVidWcoXCJ4aHIgZGF0YSAlc1wiLCB0aGlzLl9kYXRhKTtcbiAgICAgICAgICAgIHhoci5zZW5kKHRoaXMuX2RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gUmVxdWVzdC5yZXF1ZXN0c0NvdW50Kys7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuX2luZGV4XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGVycikge1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVyciwgdGhpcy5feGhyKTtcbiAgICAgICAgdGhpcy5fY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2xlYW51cChmcm9tRXJyb3IpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB0aGlzLl94aHIgfHwgbnVsbCA9PT0gdGhpcy5feGhyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5O1xuICAgICAgICBpZiAoZnJvbUVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuX2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25Mb2FkKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5feGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1ZXN0ID0gUmVxdWVzdDtcblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG4vKipcbiAqIEFib3J0cyBwZW5kaW5nIHJlcXVlc3RzIHdoZW4gdW5sb2FkaW5nIHRoZSB3aW5kb3cuIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnRcbiAqIG1lbW9yeSBsZWFrcyAoZS5nLiB3aGVuIHVzaW5nIElFKSBhbmQgdG8gZW5zdXJlIHRoYXQgbm8gc3B1cmlvdXMgZXJyb3IgaXNcbiAqIGVtaXR0ZWQuXG4gKi9cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB0ZXJtaW5hdGlvbkV2ZW50ID0gXCJvbnBhZ2VoaWRlXCIgaW4gZ2xvYmFsc19ub2RlX2pzXzEuZ2xvYmFsVGhpc1NoaW0gPyBcInBhZ2VoaWRlXCIgOiBcInVubG9hZFwiO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHRlcm1pbmF0aW9uRXZlbnQsIHVubG9hZEhhbmRsZXIsIGZhbHNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1bmxvYWRIYW5kbGVyKCkge1xuICAgIGZvciAobGV0IGkgaW4gUmVxdWVzdC5yZXF1ZXN0cykge1xuICAgICAgICBpZiAoUmVxdWVzdC5yZXF1ZXN0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgUmVxdWVzdC5yZXF1ZXN0c1tpXS5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgaGFzWEhSMiA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgeGhyID0gbmV3UmVxdWVzdCh7XG4gICAgICAgIHhkb21haW46IGZhbHNlLFxuICAgIH0pO1xuICAgIHJldHVybiB4aHIgJiYgeGhyLnJlc3BvbnNlVHlwZSAhPT0gbnVsbDtcbn0pKCk7XG4vKipcbiAqIEhUVFAgbG9uZy1wb2xsaW5nIGJhc2VkIG9uIHRoZSBidWlsdC1pbiBgWE1MSHR0cFJlcXVlc3RgIG9iamVjdC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlclxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0XG4gKi9cbmNsYXNzIFhIUiBleHRlbmRzIEJhc2VYSFIge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgICAgIGNvbnN0IGZvcmNlQmFzZTY0ID0gb3B0cyAmJiBvcHRzLmZvcmNlQmFzZTY0O1xuICAgICAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gaGFzWEhSMiAmJiAhZm9yY2VCYXNlNjQ7XG4gICAgfVxuICAgIHJlcXVlc3Qob3B0cyA9IHt9KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cywgeyB4ZDogdGhpcy54ZCB9LCB0aGlzLm9wdHMpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QobmV3UmVxdWVzdCwgdGhpcy51cmkoKSwgb3B0cyk7XG4gICAgfVxufVxuZXhwb3J0cy5YSFIgPSBYSFI7XG5mdW5jdGlvbiBuZXdSZXF1ZXN0KG9wdHMpIHtcbiAgICBjb25zdCB4ZG9tYWluID0gb3B0cy54ZG9tYWluO1xuICAgIC8vIFhNTEh0dHBSZXF1ZXN0IGNhbiBiZSBkaXNhYmxlZCBvbiBJRVxuICAgIHRyeSB7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgKCF4ZG9tYWluIHx8IGhhc19jb3JzX2pzXzEuaGFzQ09SUykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgaWYgKCF4ZG9tYWluKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGdsb2JhbHNfbm9kZV9qc18xLmdsb2JhbFRoaXNTaGltW1tcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIildKFwiTWljcm9zb2Z0LlhNTEhUVFBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb2xsaW5nID0gdm9pZCAwO1xuY29uc3QgdHJhbnNwb3J0X2pzXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNwb3J0LmpzXCIpO1xuY29uc3QgdXRpbF9qc18xID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG5jb25zdCBlbmdpbmVfaW9fcGFyc2VyXzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLXBhcnNlclwiKTtcbmNvbnN0IGRlYnVnXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImRlYnVnXCIpKTsgLy8gZGVidWcoKVxuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KShcImVuZ2luZS5pby1jbGllbnQ6cG9sbGluZ1wiKTsgLy8gZGVidWcoKVxuY2xhc3MgUG9sbGluZyBleHRlbmRzIHRyYW5zcG9ydF9qc18xLlRyYW5zcG9ydCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3BvbGxpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcInBvbGxpbmdcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHNvY2tldCAodHJpZ2dlcnMgcG9sbGluZykuIFdlIHdyaXRlIGEgUElORyBtZXNzYWdlIHRvIGRldGVybWluZVxuICAgICAqIHdoZW4gdGhlIHRyYW5zcG9ydCBpcyBvcGVuLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGRvT3BlbigpIHtcbiAgICAgICAgdGhpcy5fcG9sbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgcG9sbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uUGF1c2UgLSBjYWxsYmFjayB1cG9uIGJ1ZmZlcnMgYXJlIGZsdXNoZWQgYW5kIHRyYW5zcG9ydCBpcyBwYXVzZWRcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzaW5nXCI7XG4gICAgICAgIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgZGVidWcoXCJwYXVzZWRcIik7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNlZFwiO1xuICAgICAgICAgICAgb25QYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fcG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoXCJ3ZSBhcmUgY3VycmVudGx5IHBvbGxpbmcgLSB3YWl0aW5nIHRvIHBhdXNlXCIpO1xuICAgICAgICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwicG9sbENvbXBsZXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJwcmUtcGF1c2UgcG9sbGluZyBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLndyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoXCJ3ZSBhcmUgY3VycmVudGx5IHdyaXRpbmcgLSB3YWl0aW5nIHRvIHBhdXNlXCIpO1xuICAgICAgICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhcInByZS1wYXVzZSB3cml0aW5nIGNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBwb2xsaW5nIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcG9sbCgpIHtcbiAgICAgICAgZGVidWcoXCJwb2xsaW5nXCIpO1xuICAgICAgICB0aGlzLl9wb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kb1BvbGwoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVybG9hZHMgb25EYXRhIHRvIGRldGVjdCBwYXlsb2Fkcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBkZWJ1ZyhcInBvbGxpbmcgZ290IGRhdGEgJXNcIiwgZGF0YSk7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHRoZSBmaXJzdCBtZXNzYWdlIHdlIGNvbnNpZGVyIHRoZSB0cmFuc3BvcnQgb3BlblxuICAgICAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHsgZGVzY3JpcHRpb246IFwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWNvZGUgcGF5bG9hZFxuICAgICAgICAoMCwgZW5naW5lX2lvX3BhcnNlcl8xLmRlY29kZVBheWxvYWQpKGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgICAgICAgICAgdGhpcy5fcG9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsQ29tcGxldGVcIik7XG4gICAgICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdpZ25vcmluZyBwb2xsIC0gdHJhbnNwb3J0IHN0YXRlIFwiJXNcIicsIHRoaXMucmVhZHlTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIHBvbGxpbmcsIHNlbmQgYSBjbG9zZSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBkZWJ1ZyhcIndyaXRpbmcgY2xvc2UgcGFja2V0XCIpO1xuICAgICAgICAgICAgdGhpcy53cml0ZShbeyB0eXBlOiBcImNsb3NlXCIgfV0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgZGVidWcoXCJ0cmFuc3BvcnQgb3BlbiAtIGNsb3NpbmdcIik7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSdyZSB0cnlpbmcgdG8gY2xvc2Ugd2hpbGVcbiAgICAgICAgICAgIC8vIGhhbmRzaGFraW5nIGlzIGluIHByb2dyZXNzIChHSC0xNjQpXG4gICAgICAgICAgICBkZWJ1ZyhcInRyYW5zcG9ydCBub3Qgb3BlbiAtIGRlZmVycmluZyBjbG9zZVwiKTtcbiAgICAgICAgICAgIHRoaXMub25jZShcIm9wZW5cIiwgY2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldHMgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHMgLSBkYXRhIHBhY2tldHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgd3JpdGUocGFja2V0cykge1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgICgwLCBlbmdpbmVfaW9fcGFyc2VyXzEuZW5jb2RlUGF5bG9hZCkocGFja2V0cywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9Xcml0ZShkYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgLy8gY2FjaGUgYnVzdGluZyBpcyBmb3JjZWRcbiAgICAgICAgaWYgKGZhbHNlICE9PSB0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSAoMCwgdXRpbF9qc18xLnJhbmRvbVN0cmluZykoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkgJiYgIXF1ZXJ5LnNpZCkge1xuICAgICAgICAgICAgcXVlcnkuYjY0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVVcmkoc2NoZW1hLCBxdWVyeSk7XG4gICAgfVxufVxuZXhwb3J0cy5Qb2xsaW5nID0gUG9sbGluZztcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XUyA9IGV4cG9ydHMuQmFzZVdTID0gdm9pZCAwO1xuY29uc3QgdHJhbnNwb3J0X2pzXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNwb3J0LmpzXCIpO1xuY29uc3QgdXRpbF9qc18xID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG5jb25zdCBlbmdpbmVfaW9fcGFyc2VyXzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLXBhcnNlclwiKTtcbmNvbnN0IGdsb2JhbHNfbm9kZV9qc18xID0gcmVxdWlyZShcIi4uL2dsb2JhbHMubm9kZS5qc1wiKTtcbmNvbnN0IGRlYnVnXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImRlYnVnXCIpKTsgLy8gZGVidWcoKVxuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KShcImVuZ2luZS5pby1jbGllbnQ6d2Vic29ja2V0XCIpOyAvLyBkZWJ1ZygpXG4vLyBkZXRlY3QgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnRcbmNvbnN0IGlzUmVhY3ROYXRpdmUgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSBcInN0cmluZ1wiICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QudG9Mb3dlckNhc2UoKSA9PT0gXCJyZWFjdG5hdGl2ZVwiO1xuY2xhc3MgQmFzZVdTIGV4dGVuZHMgdHJhbnNwb3J0X2pzXzEuVHJhbnNwb3J0IHtcbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwid2Vic29ja2V0XCI7XG4gICAgfVxuICAgIGRvT3BlbigpIHtcbiAgICAgICAgY29uc3QgdXJpID0gdGhpcy51cmkoKTtcbiAgICAgICAgY29uc3QgcHJvdG9jb2xzID0gdGhpcy5vcHRzLnByb3RvY29scztcbiAgICAgICAgLy8gUmVhY3QgTmF0aXZlIG9ubHkgc3VwcG9ydHMgdGhlICdoZWFkZXJzJyBvcHRpb24sIGFuZCB3aWxsIHByaW50IGEgd2FybmluZyBpZiBhbnl0aGluZyBlbHNlIGlzIHBhc3NlZFxuICAgICAgICBjb25zdCBvcHRzID0gaXNSZWFjdE5hdGl2ZVxuICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgOiAoMCwgdXRpbF9qc18xLnBpY2spKHRoaXMub3B0cywgXCJhZ2VudFwiLCBcInBlck1lc3NhZ2VEZWZsYXRlXCIsIFwicGZ4XCIsIFwia2V5XCIsIFwicGFzc3BocmFzZVwiLCBcImNlcnRcIiwgXCJjYVwiLCBcImNpcGhlcnNcIiwgXCJyZWplY3RVbmF1dGhvcml6ZWRcIiwgXCJsb2NhbEFkZHJlc3NcIiwgXCJwcm90b2NvbFZlcnNpb25cIiwgXCJvcmlnaW5cIiwgXCJtYXhQYXlsb2FkXCIsIFwiZmFtaWx5XCIsIFwiY2hlY2tTZXJ2ZXJJZGVudGl0eVwiKTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICAgIG9wdHMuaGVhZGVycyA9IHRoaXMub3B0cy5leHRyYUhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud3MgPSB0aGlzLmNyZWF0ZVNvY2tldCh1cmksIHByb3RvY29scywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSB0aGlzLnNvY2tldC5iaW5hcnlUeXBlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBzb2NrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzLl9zb2NrZXQudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9IChjbG9zZUV2ZW50KSA9PiB0aGlzLm9uQ2xvc2Uoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwid2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBjbG9zZUV2ZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXYpID0+IHRoaXMub25EYXRhKGV2LmRhdGEpO1xuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZSkgPT4gdGhpcy5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsIGUpO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgICAgICAgLy8gbm8gbmVlZCBmb3IgZW5jb2RlUGF5bG9hZFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHBhY2tldHNbaV07XG4gICAgICAgICAgICBjb25zdCBsYXN0UGFja2V0ID0gaSA9PT0gcGFja2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgKDAsIGVuZ2luZV9pb19wYXJzZXJfMS5lbmNvZGVQYWNrZXQpKHBhY2tldCwgdGhpcy5zdXBwb3J0c0JpbmFyeSwgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTb21ldGltZXMgdGhlIHdlYnNvY2tldCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZCBidXQgdGhlIGJyb3dzZXIgZGlkbid0XG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBpbmZvcm1pbmcgdXMgYWJvdXQgaXQgeWV0LCBpbiB0aGF0IGNhc2Ugc2VuZCB3aWxsXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvV3JpdGUocGFja2V0LCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJ3ZWJzb2NrZXQgY2xvc2VkIGJlZm9yZSBvbmNsb3NlIGV2ZW50XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWtlIGRyYWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmVyIHRvIG5leHQgdGljayB0byBhbGxvdyBTb2NrZXQgdG8gY2xlYXIgd3JpdGVCdWZmZXJcbiAgICAgICAgICAgICAgICAgICAgKDAsIGdsb2JhbHNfbm9kZV9qc18xLm5leHRUaWNrKSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0VGltZW91dEZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb0Nsb3NlKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMud3MgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9ICgpID0+IHsgfTtcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVyaSgpIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5vcHRzLnNlY3VyZSA/IFwid3NzXCIgOiBcIndzXCI7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgLy8gYXBwZW5kIHRpbWVzdGFtcCB0byBVUklcbiAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgICAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9ICgwLCB1dGlsX2pzXzEucmFuZG9tU3RyaW5nKSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbW11bmljYXRlIGJpbmFyeSBzdXBwb3J0IGNhcGFiaWxpdGllc1xuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHF1ZXJ5LmI2NCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVXJpKHNjaGVtYSwgcXVlcnkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVdTID0gQmFzZVdTO1xuY29uc3QgV2ViU29ja2V0Q3RvciA9IGdsb2JhbHNfbm9kZV9qc18xLmdsb2JhbFRoaXNTaGltLldlYlNvY2tldCB8fCBnbG9iYWxzX25vZGVfanNfMS5nbG9iYWxUaGlzU2hpbS5Nb3pXZWJTb2NrZXQ7XG4vKipcbiAqIFdlYlNvY2tldCB0cmFuc3BvcnQgYmFzZWQgb24gdGhlIGJ1aWx0LWluIGBXZWJTb2NrZXRgIG9iamVjdC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlciwgTm9kZS5qcyAoc2luY2UgdjIxKSwgRGVubywgQnVuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0XG4gKiBAc2VlIGh0dHBzOi8vY2FuaXVzZS5jb20vbWRuLWFwaV93ZWJzb2NrZXRcbiAqIEBzZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9nbG9iYWxzLmh0bWwjd2Vic29ja2V0XG4gKi9cbmNsYXNzIFdTIGV4dGVuZHMgQmFzZVdTIHtcbiAgICBjcmVhdGVTb2NrZXQodXJpLCBwcm90b2NvbHMsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuICFpc1JlYWN0TmF0aXZlXG4gICAgICAgICAgICA/IHByb3RvY29sc1xuICAgICAgICAgICAgICAgID8gbmV3IFdlYlNvY2tldEN0b3IodXJpLCBwcm90b2NvbHMpXG4gICAgICAgICAgICAgICAgOiBuZXcgV2ViU29ja2V0Q3Rvcih1cmkpXG4gICAgICAgICAgICA6IG5ldyBXZWJTb2NrZXRDdG9yKHVyaSwgcHJvdG9jb2xzLCBvcHRzKTtcbiAgICB9XG4gICAgZG9Xcml0ZShfcGFja2V0LCBkYXRhKSB7XG4gICAgICAgIHRoaXMud3Muc2VuZChkYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLldTID0gV1M7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV1QgPSB2b2lkIDA7XG5jb25zdCB0cmFuc3BvcnRfanNfMSA9IHJlcXVpcmUoXCIuLi90cmFuc3BvcnQuanNcIik7XG5jb25zdCBnbG9iYWxzX25vZGVfanNfMSA9IHJlcXVpcmUoXCIuLi9nbG9iYWxzLm5vZGUuanNcIik7XG5jb25zdCBlbmdpbmVfaW9fcGFyc2VyXzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLXBhcnNlclwiKTtcbmNvbnN0IGRlYnVnXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImRlYnVnXCIpKTsgLy8gZGVidWcoKVxuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KShcImVuZ2luZS5pby1jbGllbnQ6d2VidHJhbnNwb3J0XCIpOyAvLyBkZWJ1ZygpXG4vKipcbiAqIFdlYlRyYW5zcG9ydCB0cmFuc3BvcnQgYmFzZWQgb24gdGhlIGJ1aWx0LWluIGBXZWJUcmFuc3BvcnRgIG9iamVjdC5cbiAqXG4gKiBVc2FnZTogYnJvd3NlciwgTm9kZS5qcyAod2l0aCB0aGUgYEBmYWlscy1jb21wb25lbnRzL3dlYnRyYW5zcG9ydGAgcGFja2FnZSlcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJUcmFuc3BvcnRcbiAqIEBzZWUgaHR0cHM6Ly9jYW5pdXNlLmNvbS93ZWJ0cmFuc3BvcnRcbiAqL1xuY2xhc3MgV1QgZXh0ZW5kcyB0cmFuc3BvcnRfanNfMS5UcmFuc3BvcnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWJ0cmFuc3BvcnRcIjtcbiAgICB9XG4gICAgZG9PcGVuKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0ID0gbmV3IFdlYlRyYW5zcG9ydCh0aGlzLmNyZWF0ZVVyaShcImh0dHBzXCIpLCB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1t0aGlzLm5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydC5jbG9zZWRcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGRlYnVnKFwidHJhbnNwb3J0IGNsb3NlZCBncmFjZWZ1bGx5XCIpO1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgZGVidWcoXCJ0cmFuc3BvcnQgY2xvc2VkIGR1ZSB0byAlc1wiLCBlcnIpO1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKFwid2VidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBub3RlOiB3ZSBjb3VsZCBoYXZlIHVzZWQgYXN5bmMvYXdhaXQsIGJ1dCB0aGF0IHdvdWxkIHJlcXVpcmUgc29tZSBhZGRpdGlvbmFsIHBvbHlmaWxsc1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc3BvcnQuY3JlYXRlQmlkaXJlY3Rpb25hbFN0cmVhbSgpLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZXJTdHJlYW0gPSAoMCwgZW5naW5lX2lvX3BhcnNlcl8xLmNyZWF0ZVBhY2tldERlY29kZXJTdHJlYW0pKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLCB0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0ucmVhZGFibGUucGlwZVRocm91Z2goZGVjb2RlclN0cmVhbSkuZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlclN0cmVhbSA9ICgwLCBlbmdpbmVfaW9fcGFyc2VyXzEuY3JlYXRlUGFja2V0RW5jb2RlclN0cmVhbSkoKTtcbiAgICAgICAgICAgICAgICBlbmNvZGVyU3RyZWFtLnJlYWRhYmxlLnBpcGVUbyhzdHJlYW0ud3JpdGFibGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dyaXRlciA9IGVuY29kZXJTdHJlYW0ud3JpdGFibGUuZ2V0V3JpdGVyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVhZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKFwic2Vzc2lvbiBpcyBjbG9zZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJyZWNlaXZlZCBjaHVuazogJW9cIiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBhY2tldCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJhbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWFkaW5nOiAlc1wiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrZXQgPSB7IHR5cGU6IFwib3BlblwiIH07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVlcnkuc2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5kYXRhID0gYHtcInNpZFwiOlwiJHt0aGlzLnF1ZXJ5LnNpZH1cIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZXIud3JpdGUocGFja2V0KS50aGVuKCgpID0+IHRoaXMub25PcGVuKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlci53cml0ZShwYWNrZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBnbG9iYWxzX25vZGVfanNfMS5uZXh0VGljaykoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLl90cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuV1QgPSBXVDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5waWNrID0gcGljaztcbmV4cG9ydHMuaW5zdGFsbFRpbWVyRnVuY3Rpb25zID0gaW5zdGFsbFRpbWVyRnVuY3Rpb25zO1xuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aDtcbmV4cG9ydHMucmFuZG9tU3RyaW5nID0gcmFuZG9tU3RyaW5nO1xuY29uc3QgZ2xvYmFsc19ub2RlX2pzXzEgPSByZXF1aXJlKFwiLi9nbG9iYWxzLm5vZGUuanNcIik7XG5mdW5jdGlvbiBwaWNrKG9iaiwgLi4uYXR0cikge1xuICAgIHJldHVybiBhdHRyLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHJlYWwgdGltZW91dCBmdW5jdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCB3aGVuIG92ZXJyaWRkZW5cbmNvbnN0IE5BVElWRV9TRVRfVElNRU9VVCA9IGdsb2JhbHNfbm9kZV9qc18xLmdsb2JhbFRoaXNTaGltLnNldFRpbWVvdXQ7XG5jb25zdCBOQVRJVkVfQ0xFQVJfVElNRU9VVCA9IGdsb2JhbHNfbm9kZV9qc18xLmdsb2JhbFRoaXNTaGltLmNsZWFyVGltZW91dDtcbmZ1bmN0aW9uIGluc3RhbGxUaW1lckZ1bmN0aW9ucyhvYmosIG9wdHMpIHtcbiAgICBpZiAob3B0cy51c2VOYXRpdmVUaW1lcnMpIHtcbiAgICAgICAgb2JqLnNldFRpbWVvdXRGbiA9IE5BVElWRV9TRVRfVElNRU9VVC5iaW5kKGdsb2JhbHNfbm9kZV9qc18xLmdsb2JhbFRoaXNTaGltKTtcbiAgICAgICAgb2JqLmNsZWFyVGltZW91dEZuID0gTkFUSVZFX0NMRUFSX1RJTUVPVVQuYmluZChnbG9iYWxzX25vZGVfanNfMS5nbG9iYWxUaGlzU2hpbSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gZ2xvYmFsc19ub2RlX2pzXzEuZ2xvYmFsVGhpc1NoaW0uc2V0VGltZW91dC5iaW5kKGdsb2JhbHNfbm9kZV9qc18xLmdsb2JhbFRoaXNTaGltKTtcbiAgICAgICAgb2JqLmNsZWFyVGltZW91dEZuID0gZ2xvYmFsc19ub2RlX2pzXzEuZ2xvYmFsVGhpc1NoaW0uY2xlYXJUaW1lb3V0LmJpbmQoZ2xvYmFsc19ub2RlX2pzXzEuZ2xvYmFsVGhpc1NoaW0pO1xuICAgIH1cbn1cbi8vIGJhc2U2NCBlbmNvZGVkIGJ1ZmZlcnMgYXJlIGFib3V0IDMzJSBiaWdnZXIgKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NClcbmNvbnN0IEJBU0U2NF9PVkVSSEVBRCA9IDEuMzM7XG4vLyB3ZSBjb3VsZCBhbHNvIGhhdmUgdXNlZCBgbmV3IEJsb2IoW29ial0pLnNpemVgLCBidXQgaXQgaXNuJ3Qgc3VwcG9ydGVkIGluIElFOVxuZnVuY3Rpb24gYnl0ZUxlbmd0aChvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdXRmOExlbmd0aChvYmopO1xuICAgIH1cbiAgICAvLyBhcnJheWJ1ZmZlciBvciBibG9iXG4gICAgcmV0dXJuIE1hdGguY2VpbCgob2JqLmJ5dGVMZW5ndGggfHwgb2JqLnNpemUpICogQkFTRTY0X09WRVJIRUFEKTtcbn1cbmZ1bmN0aW9uIHV0ZjhMZW5ndGgoc3RyKSB7XG4gICAgbGV0IGMgPSAwLCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxlbmd0aCArPSA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSA4LWNoYXJhY3RlcnMgc3RyaW5nLlxuICovXG5mdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gICAgcmV0dXJuIChEYXRlLm5vdygpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMykgK1xuICAgICAgICBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgNSkpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVSUk9SX1BBQ0tFVCA9IGV4cG9ydHMuUEFDS0VUX1RZUEVTX1JFVkVSU0UgPSBleHBvcnRzLlBBQ0tFVF9UWVBFUyA9IHZvaWQgMDtcbmNvbnN0IFBBQ0tFVF9UWVBFUyA9IE9iamVjdC5jcmVhdGUobnVsbCk7IC8vIG5vIE1hcCA9IG5vIHBvbHlmaWxsXG5leHBvcnRzLlBBQ0tFVF9UWVBFUyA9IFBBQ0tFVF9UWVBFUztcblBBQ0tFVF9UWVBFU1tcIm9wZW5cIl0gPSBcIjBcIjtcblBBQ0tFVF9UWVBFU1tcImNsb3NlXCJdID0gXCIxXCI7XG5QQUNLRVRfVFlQRVNbXCJwaW5nXCJdID0gXCIyXCI7XG5QQUNLRVRfVFlQRVNbXCJwb25nXCJdID0gXCIzXCI7XG5QQUNLRVRfVFlQRVNbXCJtZXNzYWdlXCJdID0gXCI0XCI7XG5QQUNLRVRfVFlQRVNbXCJ1cGdyYWRlXCJdID0gXCI1XCI7XG5QQUNLRVRfVFlQRVNbXCJub29wXCJdID0gXCI2XCI7XG5jb25zdCBQQUNLRVRfVFlQRVNfUkVWRVJTRSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5leHBvcnRzLlBBQ0tFVF9UWVBFU19SRVZFUlNFID0gUEFDS0VUX1RZUEVTX1JFVkVSU0U7XG5PYmplY3Qua2V5cyhQQUNLRVRfVFlQRVMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIFBBQ0tFVF9UWVBFU19SRVZFUlNFW1BBQ0tFVF9UWVBFU1trZXldXSA9IGtleTtcbn0pO1xuY29uc3QgRVJST1JfUEFDS0VUID0geyB0eXBlOiBcImVycm9yXCIsIGRhdGE6IFwicGFyc2VyIGVycm9yXCIgfTtcbmV4cG9ydHMuRVJST1JfUEFDS0VUID0gRVJST1JfUEFDS0VUO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMuZW5jb2RlID0gdm9pZCAwO1xuLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vYmFzZTY0LWFycmF5YnVmZmVyXG5jb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbmNvbnN0IGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xufVxuY29uc3QgZW5jb2RlID0gKGFycmF5YnVmZmVyKSA9PiB7XG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuICAgIGlmIChsZW4gJSAzID09PSAyKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JztcbiAgICB9XG4gICAgcmV0dXJuIGJhc2U2NDtcbn07XG5leHBvcnRzLmVuY29kZSA9IGVuY29kZTtcbmNvbnN0IGRlY29kZSA9IChiYXNlNjQpID0+IHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLCBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMiAmIDE1KSA8PCA0KSB8IChlbmNvZGVkMyA+PiAyKTtcbiAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5YnVmZmVyO1xufTtcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlY29kZVBhY2tldCA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbnNfanNfMSA9IHJlcXVpcmUoXCIuL2NvbW1vbnMuanNcIik7XG5jb25zdCBiYXNlNjRfYXJyYXlidWZmZXJfanNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHR5cGUgPSBlbmNvZGVkUGFja2V0LmNoYXJBdCgwKTtcbiAgICBpZiAodHlwZSA9PT0gXCJiXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgZGF0YTogZGVjb2RlQmFzZTY0UGFja2V0KGVuY29kZWRQYWNrZXQuc3Vic3RyaW5nKDEpLCBiaW5hcnlUeXBlKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcGFja2V0VHlwZSA9IGNvbW1vbnNfanNfMS5QQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXTtcbiAgICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbnNfanNfMS5FUlJPUl9QQUNLRVQ7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVkUGFja2V0Lmxlbmd0aCA+IDFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB0eXBlOiBjb21tb25zX2pzXzEuUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV0sXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVkUGFja2V0LnN1YnN0cmluZygxKSxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IGNvbW1vbnNfanNfMS5QQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXSxcbiAgICAgICAgfTtcbn07XG5leHBvcnRzLmRlY29kZVBhY2tldCA9IGRlY29kZVBhY2tldDtcbmNvbnN0IGRlY29kZUJhc2U2NFBhY2tldCA9IChkYXRhLCBiaW5hcnlUeXBlKSA9PiB7XG4gICAgaWYgKHdpdGhOYXRpdmVBcnJheUJ1ZmZlcikge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gKDAsIGJhc2U2NF9hcnJheWJ1ZmZlcl9qc18xLmRlY29kZSkoZGF0YSk7XG4gICAgICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICAgIH1cbn07XG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIHN3aXRjaCAoYmluYXJ5VHlwZSkge1xuICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBXZWJTb2NrZXQgKyBiaW5hcnlUeXBlIFwiYmxvYlwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIG9yIFdlYlRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbZGF0YV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIChiYXNlNjQpIG9yIFdlYlNvY2tldCArIGJpbmFyeVR5cGUgXCJhcnJheWJ1ZmZlclwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIFdlYlRyYW5zcG9ydCAoVWludDhBcnJheSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5lbmNvZGVQYWNrZXQgPSB2b2lkIDA7XG5leHBvcnRzLmVuY29kZVBhY2tldFRvQmluYXJ5ID0gZW5jb2RlUGFja2V0VG9CaW5hcnk7XG5jb25zdCBjb21tb25zX2pzXzEgPSByZXF1aXJlKFwiLi9jb21tb25zLmpzXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbi8vIEFycmF5QnVmZmVyLmlzVmlldyBtZXRob2QgaXMgbm90IGRlZmluZWQgaW4gSUUxMFxuY29uc3QgaXNWaWV3ID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iaiAmJiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgZW5jb2RlUGFja2V0ID0gKHsgdHlwZSwgZGF0YSB9LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUJsb2IgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KGRhdGEsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcoZGF0YSkpKSB7XG4gICAgICAgIGlmIChzdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChuZXcgQmxvYihbZGF0YV0pLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcGxhaW4gc3RyaW5nXG4gICAgcmV0dXJuIGNhbGxiYWNrKGNvbW1vbnNfanNfMS5QQUNLRVRfVFlQRVNbdHlwZV0gKyAoZGF0YSB8fCBcIlwiKSk7XG59O1xuZXhwb3J0cy5lbmNvZGVQYWNrZXQgPSBlbmNvZGVQYWNrZXQ7XG5jb25zdCBlbmNvZGVCbG9iQXNCYXNlNjQgPSAoZGF0YSwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZpbGVSZWFkZXIucmVzdWx0LnNwbGl0KFwiLFwiKVsxXTtcbiAgICAgICAgY2FsbGJhY2soXCJiXCIgKyAoY29udGVudCB8fCBcIlwiKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGRhdGEpO1xufTtcbmZ1bmN0aW9uIHRvQXJyYXkoZGF0YSkge1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgIH1cbn1cbmxldCBURVhUX0VOQ09ERVI7XG5mdW5jdGlvbiBlbmNvZGVQYWNrZXRUb0JpbmFyeShwYWNrZXQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHdpdGhOYXRpdmVCbG9iICYmIHBhY2tldC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICByZXR1cm4gcGFja2V0LmRhdGEuYXJyYXlCdWZmZXIoKS50aGVuKHRvQXJyYXkpLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgKHBhY2tldC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNWaWV3KHBhY2tldC5kYXRhKSkpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRvQXJyYXkocGFja2V0LmRhdGEpKTtcbiAgICB9XG4gICAgZW5jb2RlUGFja2V0KHBhY2tldCwgZmFsc2UsIChlbmNvZGVkKSA9PiB7XG4gICAgICAgIGlmICghVEVYVF9FTkNPREVSKSB7XG4gICAgICAgICAgICBURVhUX0VOQ09ERVIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhURVhUX0VOQ09ERVIuZW5jb2RlKGVuY29kZWQpKTtcbiAgICB9KTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWNvZGVQYXlsb2FkID0gZXhwb3J0cy5kZWNvZGVQYWNrZXQgPSBleHBvcnRzLmVuY29kZVBheWxvYWQgPSBleHBvcnRzLmVuY29kZVBhY2tldCA9IGV4cG9ydHMucHJvdG9jb2wgPSB2b2lkIDA7XG5leHBvcnRzLmNyZWF0ZVBhY2tldEVuY29kZXJTdHJlYW0gPSBjcmVhdGVQYWNrZXRFbmNvZGVyU3RyZWFtO1xuZXhwb3J0cy5jcmVhdGVQYWNrZXREZWNvZGVyU3RyZWFtID0gY3JlYXRlUGFja2V0RGVjb2RlclN0cmVhbTtcbmNvbnN0IGVuY29kZVBhY2tldF9qc18xID0gcmVxdWlyZShcIi4vZW5jb2RlUGFja2V0LmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZW5jb2RlUGFja2V0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmNvZGVQYWNrZXRfanNfMS5lbmNvZGVQYWNrZXQ7IH0gfSk7XG5jb25zdCBkZWNvZGVQYWNrZXRfanNfMSA9IHJlcXVpcmUoXCIuL2RlY29kZVBhY2tldC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlY29kZVBhY2tldFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVjb2RlUGFja2V0X2pzXzEuZGVjb2RlUGFja2V0OyB9IH0pO1xuY29uc3QgY29tbW9uc19qc18xID0gcmVxdWlyZShcIi4vY29tbW9ucy5qc1wiKTtcbmNvbnN0IFNFUEFSQVRPUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMzApOyAvLyBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVsaW1pdGVyI0FTQ0lJX2RlbGltaXRlZF90ZXh0XG5jb25zdCBlbmNvZGVQYXlsb2FkID0gKHBhY2tldHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgLy8gc29tZSBwYWNrZXRzIG1heSBiZSBhZGRlZCB0byB0aGUgYXJyYXkgd2hpbGUgZW5jb2RpbmcsIHNvIHRoZSBpbml0aWFsIGxlbmd0aCBtdXN0IGJlIHNhdmVkXG4gICAgY29uc3QgbGVuZ3RoID0gcGFja2V0cy5sZW5ndGg7XG4gICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIHBhY2tldHMuZm9yRWFjaCgocGFja2V0LCBpKSA9PiB7XG4gICAgICAgIC8vIGZvcmNlIGJhc2U2NCBlbmNvZGluZyBmb3IgYmluYXJ5IHBhY2tldHNcbiAgICAgICAgKDAsIGVuY29kZVBhY2tldF9qc18xLmVuY29kZVBhY2tldCkocGFja2V0LCBmYWxzZSwgKGVuY29kZWRQYWNrZXQpID0+IHtcbiAgICAgICAgICAgIGVuY29kZWRQYWNrZXRzW2ldID0gZW5jb2RlZFBhY2tldDtcbiAgICAgICAgICAgIGlmICgrK2NvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlbmNvZGVkUGFja2V0cy5qb2luKFNFUEFSQVRPUikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5leHBvcnRzLmVuY29kZVBheWxvYWQgPSBlbmNvZGVQYXlsb2FkO1xuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gZW5jb2RlZFBheWxvYWQuc3BsaXQoU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwYWNrZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGFja2V0ID0gKDAsIGRlY29kZVBhY2tldF9qc18xLmRlY29kZVBhY2tldCkoZW5jb2RlZFBhY2tldHNbaV0sIGJpbmFyeVR5cGUpO1xuICAgICAgICBwYWNrZXRzLnB1c2goZGVjb2RlZFBhY2tldCk7XG4gICAgICAgIGlmIChkZWNvZGVkUGFja2V0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhY2tldHM7XG59O1xuZXhwb3J0cy5kZWNvZGVQYXlsb2FkID0gZGVjb2RlUGF5bG9hZDtcbmZ1bmN0aW9uIGNyZWF0ZVBhY2tldEVuY29kZXJTdHJlYW0oKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICB0cmFuc2Zvcm0ocGFja2V0LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAoMCwgZW5jb2RlUGFja2V0X2pzXzEuZW5jb2RlUGFja2V0VG9CaW5hcnkpKHBhY2tldCwgKGVuY29kZWRQYWNrZXQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkTGVuZ3RoID0gZW5jb2RlZFBhY2tldC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGhlYWRlcjtcbiAgICAgICAgICAgICAgICAvLyBpbnNwaXJlZCBieSB0aGUgV2ViU29ja2V0IGZvcm1hdDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYlNvY2tldHNfQVBJL1dyaXRpbmdfV2ViU29ja2V0X3NlcnZlcnMjZGVjb2RpbmdfcGF5bG9hZF9sZW5ndGhcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZExlbmd0aCA8IDEyNikge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGFWaWV3KGhlYWRlci5idWZmZXIpLnNldFVpbnQ4KDAsIHBheWxvYWRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXlsb2FkTGVuZ3RoIDwgNjU1MzYpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyID0gbmV3IFVpbnQ4QXJyYXkoMyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoaGVhZGVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0VWludDgoMCwgMTI2KTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MTYoMSwgcGF5bG9hZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBuZXcgVWludDhBcnJheSg5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50OCgwLCAxMjcpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldEJpZ1VpbnQ2NCgxLCBCaWdJbnQocGF5bG9hZExlbmd0aCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBiaXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgcGxhaW4gdGV4dCAoMCkgb3IgYmluYXJ5ICgxKVxuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQuZGF0YSAmJiB0eXBlb2YgcGFja2V0LmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyWzBdIHw9IDB4ODA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShoZWFkZXIpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVkUGFja2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxubGV0IFRFWFRfREVDT0RFUjtcbmZ1bmN0aW9uIHRvdGFsTGVuZ3RoKGNodW5rcykge1xuICAgIHJldHVybiBjaHVua3MucmVkdWNlKChhY2MsIGNodW5rKSA9PiBhY2MgKyBjaHVuay5sZW5ndGgsIDApO1xufVxuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgc2l6ZSkge1xuICAgIGlmIChjaHVua3NbMF0ubGVuZ3RoID09PSBzaXplKSB7XG4gICAgICAgIHJldHVybiBjaHVua3Muc2hpZnQoKTtcbiAgICB9XG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgbGV0IGogPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgIGJ1ZmZlcltpXSA9IGNodW5rc1swXVtqKytdO1xuICAgICAgICBpZiAoaiA9PT0gY2h1bmtzWzBdLmxlbmd0aCkge1xuICAgICAgICAgICAgY2h1bmtzLnNoaWZ0KCk7XG4gICAgICAgICAgICBqID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2h1bmtzLmxlbmd0aCAmJiBqIDwgY2h1bmtzWzBdLmxlbmd0aCkge1xuICAgICAgICBjaHVua3NbMF0gPSBjaHVua3NbMF0uc2xpY2Uoaik7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVQYWNrZXREZWNvZGVyU3RyZWFtKG1heFBheWxvYWQsIGJpbmFyeVR5cGUpIHtcbiAgICBpZiAoIVRFWFRfREVDT0RFUikge1xuICAgICAgICBURVhUX0RFQ09ERVIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICB9XG4gICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgbGV0IHN0YXRlID0gMCAvKiBTdGF0ZS5SRUFEX0hFQURFUiAqLztcbiAgICBsZXQgZXhwZWN0ZWRMZW5ndGggPSAtMTtcbiAgICBsZXQgaXNCaW5hcnkgPSBmYWxzZTtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogU3RhdGUuUkVBRF9IRUFERVIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTGVuZ3RoKGNodW5rcykgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBjb25jYXRDaHVua3MoY2h1bmtzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaXNCaW5hcnkgPSAoaGVhZGVyWzBdICYgMHg4MCkgPT09IDB4ODA7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gaGVhZGVyWzBdICYgMHg3ZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkTGVuZ3RoIDwgMTI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDMgLyogU3RhdGUuUkVBRF9QQVlMT0FEICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV4cGVjdGVkTGVuZ3RoID09PSAxMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMSAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF8xNiAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMiAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF82NCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMSAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF8xNiAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxMZW5ndGgoY2h1bmtzKSA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckFycmF5ID0gY29uY2F0Q2h1bmtzKGNodW5rcywgMik7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gbmV3IERhdGFWaWV3KGhlYWRlckFycmF5LmJ1ZmZlciwgaGVhZGVyQXJyYXkuYnl0ZU9mZnNldCwgaGVhZGVyQXJyYXkubGVuZ3RoKS5nZXRVaW50MTYoMCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBTdGF0ZS5SRUFEX1BBWUxPQUQgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAyIC8qIFN0YXRlLlJFQURfRVhURU5ERURfTEVOR1RIXzY0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbExlbmd0aChjaHVua3MpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyQXJyYXkgPSBjb25jYXRDaHVua3MoY2h1bmtzLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXJBcnJheS5idWZmZXIsIGhlYWRlckFycmF5LmJ5dGVPZmZzZXQsIGhlYWRlckFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPiBNYXRoLnBvdygyLCA1MyAtIDMyKSAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBtYXhpbXVtIHNhZmUgaW50ZWdlciBpbiBKYXZhU2NyaXB0IGlzIDJeNTMgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY29tbW9uc19qc18xLkVSUk9SX1BBQ0tFVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZExlbmd0aCA9IG4gKiBNYXRoLnBvdygyLCAzMikgKyB2aWV3LmdldFVpbnQzMig0KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAzIC8qIFN0YXRlLlJFQURfUEFZTE9BRCAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbExlbmd0aChjaHVua3MpIDwgZXhwZWN0ZWRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBjb25jYXRDaHVua3MoY2h1bmtzLCBleHBlY3RlZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSgoMCwgZGVjb2RlUGFja2V0X2pzXzEuZGVjb2RlUGFja2V0KShpc0JpbmFyeSA/IGRhdGEgOiBURVhUX0RFQ09ERVIuZGVjb2RlKGRhdGEpLCBiaW5hcnlUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBTdGF0ZS5SRUFEX0hFQURFUiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkTGVuZ3RoID09PSAwIHx8IGV4cGVjdGVkTGVuZ3RoID4gbWF4UGF5bG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY29tbW9uc19qc18xLkVSUk9SX1BBQ0tFVCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydHMucHJvdG9jb2wgPSA0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEluaXRpYWxpemUgYmFja29mZiB0aW1lciB3aXRoIGBvcHRzYC5cbiAqXG4gKiAtIGBtaW5gIGluaXRpYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgWzEwMF1cbiAqIC0gYG1heGAgbWF4IHRpbWVvdXQgWzEwMDAwXVxuICogLSBgaml0dGVyYCBbMF1cbiAqIC0gYGZhY3RvcmAgWzJdXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHVibGljXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFja29mZiA9IEJhY2tvZmY7XG5mdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB0aGlzLm1zID0gb3B0cy5taW4gfHwgMTAwO1xuICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gICAgdGhpcy5mYWN0b3IgPSBvcHRzLmZhY3RvciB8fCAyO1xuICAgIHRoaXMuaml0dGVyID0gb3B0cy5qaXR0ZXIgPiAwICYmIG9wdHMuaml0dGVyIDw9IDEgPyBvcHRzLmppdHRlciA6IDA7XG4gICAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgYmFja29mZiBkdXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gICAgaWYgKHRoaXMuaml0dGVyKSB7XG4gICAgICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgICAgICBtcyA9IChNYXRoLmZsb29yKHJhbmQgKiAxMCkgJiAxKSA9PSAwID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKG1zLCB0aGlzLm1heCkgfCAwO1xufTtcbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn07XG4vKipcbiAqIFNldCB0aGUgbWluaW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHtcbiAgICB0aGlzLm1zID0gbWluO1xufTtcbi8qKlxuICogU2V0IHRoZSBtYXhpbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24gKG1heCkge1xuICAgIHRoaXMubWF4ID0gbWF4O1xufTtcbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbiAoaml0dGVyKSB7XG4gICAgdGhpcy5qaXR0ZXIgPSBqaXR0ZXI7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldlYlRyYW5zcG9ydCA9IGV4cG9ydHMuV2ViU29ja2V0ID0gZXhwb3J0cy5Ob2RlV2ViU29ja2V0ID0gZXhwb3J0cy5YSFIgPSBleHBvcnRzLk5vZGVYSFIgPSBleHBvcnRzLkZldGNoID0gZXhwb3J0cy5Tb2NrZXQgPSBleHBvcnRzLk1hbmFnZXIgPSBleHBvcnRzLnByb3RvY29sID0gdm9pZCAwO1xuZXhwb3J0cy5pbyA9IGxvb2t1cDtcbmV4cG9ydHMuY29ubmVjdCA9IGxvb2t1cDtcbmV4cG9ydHMuZGVmYXVsdCA9IGxvb2t1cDtcbmNvbnN0IHVybF9qc18xID0gcmVxdWlyZShcIi4vdXJsLmpzXCIpO1xuY29uc3QgbWFuYWdlcl9qc18xID0gcmVxdWlyZShcIi4vbWFuYWdlci5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1hbmFnZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hbmFnZXJfanNfMS5NYW5hZ2VyOyB9IH0pO1xuY29uc3Qgc29ja2V0X2pzXzEgPSByZXF1aXJlKFwiLi9zb2NrZXQuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTb2NrZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvY2tldF9qc18xLlNvY2tldDsgfSB9KTtcbmNvbnN0IGRlYnVnXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImRlYnVnXCIpKTsgLy8gZGVidWcoKVxuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KShcInNvY2tldC5pby1jbGllbnRcIik7IC8vIGRlYnVnKClcbi8qKlxuICogTWFuYWdlcnMgY2FjaGUuXG4gKi9cbmNvbnN0IGNhY2hlID0ge307XG5mdW5jdGlvbiBsb29rdXAodXJpLCBvcHRzKSB7XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBjb25zdCBwYXJzZWQgPSAoMCwgdXJsX2pzXzEudXJsKSh1cmksIG9wdHMucGF0aCB8fCBcIi9zb2NrZXQuaW9cIik7XG4gICAgY29uc3Qgc291cmNlID0gcGFyc2VkLnNvdXJjZTtcbiAgICBjb25zdCBpZCA9IHBhcnNlZC5pZDtcbiAgICBjb25zdCBwYXRoID0gcGFyc2VkLnBhdGg7XG4gICAgY29uc3Qgc2FtZU5hbWVzcGFjZSA9IGNhY2hlW2lkXSAmJiBwYXRoIGluIGNhY2hlW2lkXVtcIm5zcHNcIl07XG4gICAgY29uc3QgbmV3Q29ubmVjdGlvbiA9IG9wdHMuZm9yY2VOZXcgfHxcbiAgICAgICAgb3B0c1tcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdIHx8XG4gICAgICAgIGZhbHNlID09PSBvcHRzLm11bHRpcGxleCB8fFxuICAgICAgICBzYW1lTmFtZXNwYWNlO1xuICAgIGxldCBpbztcbiAgICBpZiAobmV3Q29ubmVjdGlvbikge1xuICAgICAgICBkZWJ1ZyhcImlnbm9yaW5nIHNvY2tldCBjYWNoZSBmb3IgJXNcIiwgc291cmNlKTtcbiAgICAgICAgaW8gPSBuZXcgbWFuYWdlcl9qc18xLk1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcIm5ldyBpbyBpbnN0YW5jZSBmb3IgJXNcIiwgc291cmNlKTtcbiAgICAgICAgICAgIGNhY2hlW2lkXSA9IG5ldyBtYW5hZ2VyX2pzXzEuTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlvID0gY2FjaGVbaWRdO1xuICAgIH1cbiAgICBpZiAocGFyc2VkLnF1ZXJ5ICYmICFvcHRzLnF1ZXJ5KSB7XG4gICAgICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnlLZXk7XG4gICAgfVxuICAgIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuLy8gc28gdGhhdCBcImxvb2t1cFwiIGNhbiBiZSB1c2VkIGJvdGggYXMgYSBmdW5jdGlvbiAoZS5nLiBgaW8oLi4uKWApIGFuZCBhcyBhXG4vLyBuYW1lc3BhY2UgKGUuZy4gYGlvLmNvbm5lY3QoLi4uKWApLCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuT2JqZWN0LmFzc2lnbihsb29rdXAsIHtcbiAgICBNYW5hZ2VyOiBtYW5hZ2VyX2pzXzEuTWFuYWdlcixcbiAgICBTb2NrZXQ6IHNvY2tldF9qc18xLlNvY2tldCxcbiAgICBpbzogbG9va3VwLFxuICAgIGNvbm5lY3Q6IGxvb2t1cCxcbn0pO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xudmFyIHNvY2tldF9pb19wYXJzZXJfMSA9IHJlcXVpcmUoXCJzb2NrZXQuaW8tcGFyc2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHJvdG9jb2xcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvY2tldF9pb19wYXJzZXJfMS5wcm90b2NvbDsgfSB9KTtcbnZhciBlbmdpbmVfaW9fY2xpZW50XzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLWNsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZldGNoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmdpbmVfaW9fY2xpZW50XzEuRmV0Y2g7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOb2RlWEhSXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmdpbmVfaW9fY2xpZW50XzEuTm9kZVhIUjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlhIUlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5naW5lX2lvX2NsaWVudF8xLlhIUjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk5vZGVXZWJTb2NrZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVuZ2luZV9pb19jbGllbnRfMS5Ob2RlV2ViU29ja2V0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiV2ViU29ja2V0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmdpbmVfaW9fY2xpZW50XzEuV2ViU29ja2V0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiV2ViVHJhbnNwb3J0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmdpbmVfaW9fY2xpZW50XzEuV2ViVHJhbnNwb3J0OyB9IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGxvb2t1cDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1hbmFnZXIgPSB2b2lkIDA7XG5jb25zdCBlbmdpbmVfaW9fY2xpZW50XzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLWNsaWVudFwiKTtcbmNvbnN0IHNvY2tldF9qc18xID0gcmVxdWlyZShcIi4vc29ja2V0LmpzXCIpO1xuY29uc3QgcGFyc2VyID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJzb2NrZXQuaW8tcGFyc2VyXCIpKTtcbmNvbnN0IG9uX2pzXzEgPSByZXF1aXJlKFwiLi9vbi5qc1wiKTtcbmNvbnN0IGJhY2tvMl9qc18xID0gcmVxdWlyZShcIi4vY29udHJpYi9iYWNrbzIuanNcIik7XG5jb25zdCBjb21wb25lbnRfZW1pdHRlcl8xID0gcmVxdWlyZShcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIik7XG5jb25zdCBkZWJ1Z18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJkZWJ1Z1wiKSk7IC8vIGRlYnVnKClcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoXCJzb2NrZXQuaW8tY2xpZW50Om1hbmFnZXJcIik7IC8vIGRlYnVnKClcbmNsYXNzIE1hbmFnZXIgZXh0ZW5kcyBjb21wb25lbnRfZW1pdHRlcl8xLkVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubnNwcyA9IHt9O1xuICAgICAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICBvcHRzLnBhdGggPSBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCI7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgICgwLCBlbmdpbmVfaW9fY2xpZW50XzEuaW5zdGFsbFRpbWVyRnVuY3Rpb25zKSh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb24ob3B0cy5yZWNvbm5lY3Rpb24gIT09IGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhvcHRzLnJlY29ubmVjdGlvbkF0dGVtcHRzIHx8IEluZmluaXR5KTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5IHx8IDEwMDApO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KG9wdHMucmVjb25uZWN0aW9uRGVsYXlNYXggfHwgNTAwMCk7XG4gICAgICAgIHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigoX2EgPSBvcHRzLnJhbmRvbWl6YXRpb25GYWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAuNSk7XG4gICAgICAgIHRoaXMuYmFja29mZiA9IG5ldyBiYWNrbzJfanNfMS5CYWNrb2ZmKHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgICAgICAgICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgICAgICAgICBqaXR0ZXI6IHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIGNvbnN0IF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG4gICAgICAgIHRoaXMuZW5jb2RlciA9IG5ldyBfcGFyc2VyLkVuY29kZXIoKTtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IF9wYXJzZXIuRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9hdXRvQ29ubmVjdCA9IG9wdHMuYXV0b0Nvbm5lY3QgIT09IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uKHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICAgICAgICBpZiAoIXYpIHtcbiAgICAgICAgICAgIHRoaXMuc2tpcFJlY29ubmVjdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGRlYnVnKFwicmVhZHlTdGF0ZSAlc1wiLCB0aGlzLl9yZWFkeVN0YXRlKTtcbiAgICAgICAgaWYgKH50aGlzLl9yZWFkeVN0YXRlLmluZGV4T2YoXCJvcGVuXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGRlYnVnKFwib3BlbmluZyAlc1wiLCB0aGlzLnVyaSk7XG4gICAgICAgIHRoaXMuZW5naW5lID0gbmV3IGVuZ2luZV9pb19jbGllbnRfMS5Tb2NrZXQodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSAoMCwgb25fanNfMS5vbikoc29ja2V0LCBcIm9wZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5vbm9wZW4oKTtcbiAgICAgICAgICAgIGZuICYmIGZuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgZGVidWcoXCJlcnJvclwiKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBmbihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBkbyB0aGlzIGlmIHRoZXJlIGlzIG5vIGZuIHRvIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICB0aGlzLm1heWJlUmVjb25uZWN0T25PcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVtaXQgYGVycm9yYFxuICAgICAgICBjb25zdCBlcnJvclN1YiA9ICgwLCBvbl9qc18xLm9uKShzb2NrZXQsIFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgICAgICBkZWJ1ZyhcImNvbm5lY3QgYXR0ZW1wdCB3aWxsIHRpbWVvdXQgYWZ0ZXIgJWRcIiwgdGltZW91dCk7XG4gICAgICAgICAgICAvLyBzZXQgdGltZXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlYnVnKFwiY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZFwiLCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICBvcGVuU3ViRGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IobmV3IEVycm9yKFwidGltZW91dFwiKSk7XG4gICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vicy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRpbWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3Vicy5wdXNoKG9wZW5TdWJEZXN0cm95KTtcbiAgICAgICAgdGhpcy5zdWJzLnB1c2goZXJyb3JTdWIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIG9wZW4oKVxuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbm5lY3QoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbihmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBvcGVuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGRlYnVnKFwib3BlblwiKTtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaCgoMCwgb25fanNfMS5vbikoc29ja2V0LCBcInBpbmdcIiwgdGhpcy5vbnBpbmcuYmluZCh0aGlzKSksICgwLCBvbl9qc18xLm9uKShzb2NrZXQsIFwiZGF0YVwiLCB0aGlzLm9uZGF0YS5iaW5kKHRoaXMpKSwgKDAsIG9uX2pzXzEub24pKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksICgwLCBvbl9qc18xLm9uKShzb2NrZXQsIFwiY2xvc2VcIiwgdGhpcy5vbmNsb3NlLmJpbmQodGhpcykpLCBcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAoMCwgb25fanNfMS5vbikodGhpcy5kZWNvZGVyLCBcImRlY29kZWRcIiwgdGhpcy5vbmRlY29kZWQuYmluZCh0aGlzKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHBpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ucGluZygpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRhdGEoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVyLmFkZChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5vbmNsb3NlKFwicGFyc2UgZXJyb3JcIiwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gcGFyc2VyIGZ1bGx5IGRlY29kZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZGVjb2RlZChwYWNrZXQpIHtcbiAgICAgICAgLy8gdGhlIG5leHRUaWNrIGNhbGwgcHJldmVudHMgYW4gZXhjZXB0aW9uIGluIGEgdXNlci1wcm92aWRlZCBldmVudCBsaXN0ZW5lciBmcm9tIHRyaWdnZXJpbmcgYSBkaXNjb25uZWN0aW9uIGR1ZSB0byBhIFwicGFyc2UgZXJyb3JcIlxuICAgICAgICAoMCwgZW5naW5lX2lvX2NsaWVudF8xLm5leHRUaWNrKSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNvY2tldCBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25lcnJvcihlcnIpIHtcbiAgICAgICAgZGVidWcoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc29ja2V0IGZvciB0aGUgZ2l2ZW4gYG5zcGAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNvY2tldChuc3AsIG9wdHMpIHtcbiAgICAgICAgbGV0IHNvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuICAgICAgICBpZiAoIXNvY2tldCkge1xuICAgICAgICAgICAgc29ja2V0ID0gbmV3IHNvY2tldF9qc18xLlNvY2tldCh0aGlzLCBuc3AsIG9wdHMpO1xuICAgICAgICAgICAgdGhpcy5uc3BzW25zcF0gPSBzb2NrZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b0Nvbm5lY3QgJiYgIXNvY2tldC5hY3RpdmUpIHtcbiAgICAgICAgICAgIHNvY2tldC5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvY2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzb2NrZXQgY2xvc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc29ja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGVzdHJveShzb2NrZXQpIHtcbiAgICAgICAgY29uc3QgbnNwcyA9IE9iamVjdC5rZXlzKHRoaXMubnNwcyk7XG4gICAgICAgIGZvciAoY29uc3QgbnNwIG9mIG5zcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuICAgICAgICAgICAgaWYgKHNvY2tldC5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhcInNvY2tldCAlcyBpcyBzdGlsbCBhY3RpdmUsIHNraXBwaW5nIGNsb3NlXCIsIG5zcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGRlYnVnKFwid3JpdGluZyBwYWNrZXQgJWpcIiwgcGFja2V0KTtcbiAgICAgICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSB0aGlzLmVuY29kZXIuZW5jb2RlKHBhY2tldCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZFBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZW5naW5lLndyaXRlKGVuY29kZWRQYWNrZXRzW2ldLCBwYWNrZXQub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdHJhbnNwb3J0IHN1YnNjcmlwdGlvbnMgYW5kIHBhY2tldCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIGRlYnVnKFwiY2xlYW51cFwiKTtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgZGVidWcoXCJkaXNjb25uZWN0XCIpO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgY2xvc2UoKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW46XG4gICAgICpcbiAgICAgKiAtIHRoZSBsb3ctbGV2ZWwgZW5naW5lIGlzIGNsb3NlZFxuICAgICAqIC0gdGhlIHBhcnNlciBlbmNvdW50ZXJlZCBhIGJhZGx5IGZvcm1hdHRlZCBwYWNrZXRcbiAgICAgKiAtIGFsbCBzb2NrZXRzIGFyZSBkaXNjb25uZWN0ZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZGVidWcoXCJjbG9zZWQgZHVlIHRvICVzXCIsIHJlYXNvbik7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICAoX2EgPSB0aGlzLmVuZ2luZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgYSByZWNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIGRlYnVnKFwicmVjb25uZWN0IGZhaWxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgICAgICAgICAgZGVidWcoXCJ3aWxsIHdhaXQgJWRtcyBiZWZvcmUgcmVjb25uZWN0IGF0dGVtcHRcIiwgZGVsYXkpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhcImF0dGVtcHRpbmcgcmVjb25uZWN0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2F0dGVtcHRcIiwgc2VsZi5iYWNrb2ZmLmF0dGVtcHRzKTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBhZ2FpbiBmb3IgdGhlIGNhc2Ugc29ja2V0IGNsb3NlZCBpbiBhYm92ZSBldmVudHNcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgc2VsZi5vcGVuKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJyZWNvbm5lY3QgYXR0ZW1wdCBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhcInJlY29ubmVjdCBzdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbnJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRpbWVyLnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aW1lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzdWNjZXNzZnVsIHJlY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25yZWNvbm5lY3QoKSB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHQgPSB0aGlzLmJhY2tvZmYuYXR0ZW1wdHM7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RcIiwgYXR0ZW1wdCk7XG4gICAgfVxufVxuZXhwb3J0cy5NYW5hZ2VyID0gTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5vbiA9IG9uO1xuZnVuY3Rpb24gb24ob2JqLCBldiwgZm4pIHtcbiAgICBvYmoub24oZXYsIGZuKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgb2JqLm9mZihldiwgZm4pO1xuICAgIH07XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU29ja2V0ID0gdm9pZCAwO1xuY29uc3Qgc29ja2V0X2lvX3BhcnNlcl8xID0gcmVxdWlyZShcInNvY2tldC5pby1wYXJzZXJcIik7XG5jb25zdCBvbl9qc18xID0gcmVxdWlyZShcIi4vb24uanNcIik7XG5jb25zdCBjb21wb25lbnRfZW1pdHRlcl8xID0gcmVxdWlyZShcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIik7XG5jb25zdCBkZWJ1Z18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJkZWJ1Z1wiKSk7IC8vIGRlYnVnKClcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoXCJzb2NrZXQuaW8tY2xpZW50OnNvY2tldFwiKTsgLy8gZGVidWcoKVxuLyoqXG4gKiBJbnRlcm5hbCBldmVudHMuXG4gKiBUaGVzZSBldmVudHMgY2FuJ3QgYmUgZW1pdHRlZCBieSB0aGUgdXNlci5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgY29ubmVjdDogMSxcbiAgICBjb25uZWN0X2Vycm9yOiAxLFxuICAgIGRpc2Nvbm5lY3Q6IDEsXG4gICAgZGlzY29ubmVjdGluZzogMSxcbiAgICAvLyBFdmVudEVtaXR0ZXIgcmVzZXJ2ZWQgZXZlbnRzOiBodHRwczovL25vZGVqcy5vcmcvYXBpL2V2ZW50cy5odG1sI2V2ZW50c19ldmVudF9uZXdsaXN0ZW5lclxuICAgIG5ld0xpc3RlbmVyOiAxLFxuICAgIHJlbW92ZUxpc3RlbmVyOiAxLFxufSk7XG4vKipcbiAqIEEgU29ja2V0IGlzIHRoZSBmdW5kYW1lbnRhbCBjbGFzcyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2VydmVyLlxuICpcbiAqIEEgU29ja2V0IGJlbG9uZ3MgdG8gYSBjZXJ0YWluIE5hbWVzcGFjZSAoYnkgZGVmYXVsdCAvKSBhbmQgdXNlcyBhbiB1bmRlcmx5aW5nIHtAbGluayBNYW5hZ2VyfSB0byBjb21tdW5pY2F0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAqXG4gKiBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAqICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWRcIik7XG4gKiB9KTtcbiAqXG4gKiAvLyBzZW5kIGFuIGV2ZW50IHRvIHRoZSBzZXJ2ZXJcbiAqIHNvY2tldC5lbWl0KFwiZm9vXCIsIFwiYmFyXCIpO1xuICpcbiAqIHNvY2tldC5vbihcImZvb2JhclwiLCAoKSA9PiB7XG4gKiAgIC8vIGFuIGV2ZW50IHdhcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXJcbiAqIH0pO1xuICpcbiAqIC8vIHVwb24gZGlzY29ubmVjdGlvblxuICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKGBkaXNjb25uZWN0ZWQgZHVlIHRvICR7cmVhc29ufWApO1xuICogfSk7XG4gKi9cbmNsYXNzIFNvY2tldCBleHRlbmRzIGNvbXBvbmVudF9lbWl0dGVyXzEuRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogYFNvY2tldGAgY29uc3RydWN0b3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW8sIG5zcCwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHNlcnZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgICAgICpcbiAgICAgICAgICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmNvbm5lY3RlZCk7IC8vIHRydWVcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5jb25uZWN0ZWQpOyAvLyBmYWxzZVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBjb25uZWN0aW9uIHN0YXRlIHdhcyByZWNvdmVyZWQgYWZ0ZXIgYSB0ZW1wb3JhcnkgZGlzY29ubmVjdGlvbi4gSW4gdGhhdCBjYXNlLCBhbnkgbWlzc2VkIHBhY2tldHMgd2lsbFxuICAgICAgICAgKiBiZSB0cmFuc21pdHRlZCBieSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBmb3IgcGFja2V0cyByZWNlaXZlZCBiZWZvcmUgdGhlIENPTk5FQ1QgcGFja2V0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBmb3IgcGFja2V0cyB0aGF0IHdpbGwgYmUgc2VudCBvbmNlIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBxdWV1ZSBvZiBwYWNrZXRzIHRvIGJlIHNlbnQgd2l0aCByZXRyeSBpbiBjYXNlIG9mIGZhaWx1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBhY2tldHMgYXJlIHNlbnQgb25lIGJ5IG9uZSwgZWFjaCB3YWl0aW5nIGZvciB0aGUgc2VydmVyIGFja25vd2xlZGdlbWVudCwgaW4gb3JkZXIgdG8gZ3VhcmFudGVlIHRoZSBkZWxpdmVyeSBvcmRlci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlcXVlbmNlIHRvIGdlbmVyYXRlIHRoZSBJRCBvZiB0aGUge0BsaW5rIFF1ZXVlZFBhY2tldH0uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZVNlcSA9IDA7XG4gICAgICAgIHRoaXMuaWRzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWNrbm93bGVkZ2VtZW50IGhhbmRsZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgYHdpdGhFcnJvcmAgYXR0cmlidXRlIGlzIHVzZWQgdG8gZGlmZmVyZW50aWF0ZSBoYW5kbGVycyB0aGF0IGFjY2VwdCBhbiBlcnJvciBhcyBmaXJzdCBhcmd1bWVudDpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgc29ja2V0LmVtaXQoXCJ0ZXN0XCIsIChlcnIsIHZhbHVlKSA9PiB7IC4uLiB9KWAgd2l0aCBgYWNrVGltZW91dGAgb3B0aW9uXG4gICAgICAgICAqIC0gYHNvY2tldC50aW1lb3V0KDUwMDApLmVtaXQoXCJ0ZXN0XCIsIChlcnIsIHZhbHVlKSA9PiB7IC4uLiB9KWBcbiAgICAgICAgICogLSBgY29uc3QgdmFsdWUgPSBhd2FpdCBzb2NrZXQuZW1pdFdpdGhBY2soXCJ0ZXN0XCIpYFxuICAgICAgICAgKlxuICAgICAgICAgKiBGcm9tIHRob3NlIHRoYXQgZG9uJ3Q6XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gYHNvY2tldC5lbWl0KFwidGVzdFwiLCAodmFsdWUpID0+IHsgLi4uIH0pO2BcbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhlIGZpcnN0IGNhc2UsIHRoZSBoYW5kbGVycyB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIHdoZW46XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gdGhlIHRpbWVvdXQgaXMgcmVhY2hlZFxuICAgICAgICAgKiAtIHRoZSBzb2NrZXQgZ2V0cyBkaXNjb25uZWN0ZWRcbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhlIHNlY29uZCBjYXNlLCB0aGUgaGFuZGxlcnMgd2lsbCBiZSBzaW1wbHkgZGlzY2FyZGVkIHVwb24gZGlzY29ubmVjdGlvbiwgc2luY2UgdGhlIGNsaWVudCB3aWxsIG5ldmVyIHJlY2VpdmVcbiAgICAgICAgICogYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWNrcyA9IHt9O1xuICAgICAgICB0aGlzLmZsYWdzID0ge307XG4gICAgICAgIHRoaXMuaW8gPSBpbztcbiAgICAgICAgdGhpcy5uc3AgPSBuc3A7XG4gICAgICAgIGlmIChvcHRzICYmIG9wdHMuYXV0aCkge1xuICAgICAgICAgICAgdGhpcy5hdXRoID0gb3B0cy5hdXRoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRzKTtcbiAgICAgICAgaWYgKHRoaXMuaW8uX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNvY2tldCBpcyBjdXJyZW50bHkgZGlzY29ubmVjdGVkXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5kaXNjb25uZWN0ZWQpOyAvLyBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuZGlzY29ubmVjdGVkKTsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGdldCBkaXNjb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jb25uZWN0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBvcGVuLCBjbG9zZSBhbmQgcGFja2V0IGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdWJFdmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGlvID0gdGhpcy5pbztcbiAgICAgICAgdGhpcy5zdWJzID0gW1xuICAgICAgICAgICAgKDAsIG9uX2pzXzEub24pKGlvLCBcIm9wZW5cIiwgdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksXG4gICAgICAgICAgICAoMCwgb25fanNfMS5vbikoaW8sIFwicGFja2V0XCIsIHRoaXMub25wYWNrZXQuYmluZCh0aGlzKSksXG4gICAgICAgICAgICAoMCwgb25fanNfMS5vbikoaW8sIFwiZXJyb3JcIiwgdGhpcy5vbmVycm9yLmJpbmQodGhpcykpLFxuICAgICAgICAgICAgKDAsIG9uX2pzXzEub24pKGlvLCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgU29ja2V0IHdpbGwgdHJ5IHRvIHJlY29ubmVjdCB3aGVuIGl0cyBNYW5hZ2VyIGNvbm5lY3RzIG9yIHJlY29ubmVjdHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gdHJ1ZVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gICAgICogICBpZiAocmVhc29uID09PSBcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpIHtcbiAgICAgKiAgICAgLy8gdGhlIGRpc2Nvbm5lY3Rpb24gd2FzIGluaXRpYXRlZCBieSB0aGUgc2VydmVyLCB5b3UgbmVlZCB0byBtYW51YWxseSByZWNvbm5lY3RcbiAgICAgKiAgICAgY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIGZhbHNlXG4gICAgICogICB9XG4gICAgICogICAvLyBlbHNlIHRoZSBzb2NrZXQgd2lsbCBhdXRvbWF0aWNhbGx5IHRyeSB0byByZWNvbm5lY3RcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdWJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcIk9wZW5zXCIgdGhlIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oe1xuICAgICAqICAgYXV0b0Nvbm5lY3Q6IGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQuY29ubmVjdCgpO1xuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLnN1YkV2ZW50cygpO1xuICAgICAgICBpZiAoIXRoaXMuaW9bXCJfcmVjb25uZWN0aW5nXCJdKVxuICAgICAgICAgICAgdGhpcy5pby5vcGVuKCk7IC8vIGVuc3VyZSBvcGVuXG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5pby5fcmVhZHlTdGF0ZSlcbiAgICAgICAgICAgIHRoaXMub25vcGVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGNvbm5lY3QoKX0uXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGBtZXNzYWdlYCBldmVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1pbWljcyB0aGUgV2ViU29ja2V0LnNlbmQoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJTb2NrZXQvc2VuZFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogLy8gdGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICogc29ja2V0LmVtaXQoXCJtZXNzYWdlXCIsIFwiaGVsbG9cIik7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBzZW5kKC4uLmFyZ3MpIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KFwibWVzc2FnZVwiKTtcbiAgICAgICAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgYGVtaXRgLlxuICAgICAqIElmIHRoZSBldmVudCBpcyBpbiBgZXZlbnRzYCwgaXQncyBlbWl0dGVkIG5vcm1hbGx5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIFwid29ybGRcIik7XG4gICAgICpcbiAgICAgKiAvLyBhbGwgc2VyaWFsaXphYmxlIGRhdGFzdHJ1Y3R1cmVzIGFyZSBzdXBwb3J0ZWQgKG5vIG5lZWQgdG8gY2FsbCBKU09OLnN0cmluZ2lmeSlcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIDEsIFwiMlwiLCB7IDM6IFtcIjRcIl0sIDU6IFVpbnQ4QXJyYXkuZnJvbShbNl0pIH0pO1xuICAgICAqXG4gICAgICogLy8gd2l0aCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCBcIndvcmxkXCIsICh2YWwpID0+IHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgZW1pdChldiwgLi4uYXJncykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKFJFU0VSVkVEX0VWRU5UUy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgZXYudG9TdHJpbmcoKSArICdcIiBpcyBhIHJlc2VydmVkIGV2ZW50IG5hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnVuc2hpZnQoZXYpO1xuICAgICAgICBpZiAodGhpcy5fb3B0cy5yZXRyaWVzICYmICF0aGlzLmZsYWdzLmZyb21RdWV1ZSAmJiAhdGhpcy5mbGFncy52b2xhdGlsZSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9RdWV1ZShhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkVWRU5ULFxuICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgfTtcbiAgICAgICAgcGFja2V0Lm9wdGlvbnMgPSB7fTtcbiAgICAgICAgcGFja2V0Lm9wdGlvbnMuY29tcHJlc3MgPSB0aGlzLmZsYWdzLmNvbXByZXNzICE9PSBmYWxzZTtcbiAgICAgICAgLy8gZXZlbnQgYWNrIGNhbGxiYWNrXG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5pZHMrKztcbiAgICAgICAgICAgIGRlYnVnKFwiZW1pdHRpbmcgcGFja2V0IHdpdGggYWNrIGlkICVkXCIsIGlkKTtcbiAgICAgICAgICAgIGNvbnN0IGFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RlckFja0NhbGxiYWNrKGlkLCBhY2spO1xuICAgICAgICAgICAgcGFja2V0LmlkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNUcmFuc3BvcnRXcml0YWJsZSA9IChfYiA9IChfYSA9IHRoaXMuaW8uZW5naW5lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iud3JpdGFibGU7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0ZWQgJiYgISgoX2MgPSB0aGlzLmlvLmVuZ2luZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLl9oYXNQaW5nRXhwaXJlZCgpKTtcbiAgICAgICAgY29uc3QgZGlzY2FyZFBhY2tldCA9IHRoaXMuZmxhZ3Mudm9sYXRpbGUgJiYgIWlzVHJhbnNwb3J0V3JpdGFibGU7XG4gICAgICAgIGlmIChkaXNjYXJkUGFja2V0KSB7XG4gICAgICAgICAgICBkZWJ1ZyhcImRpc2NhcmQgcGFja2V0IGFzIHRoZSB0cmFuc3BvcnQgaXMgbm90IGN1cnJlbnRseSB3cml0YWJsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IChfYSA9IHRoaXMuZmxhZ3MudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5fb3B0cy5hY2tUaW1lb3V0O1xuICAgICAgICBpZiAodGltZW91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFja3NbaWRdID0gYWNrO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgdGltZXIgPSB0aGlzLmlvLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW2lkXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZW5kQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZEJ1ZmZlcltpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJyZW1vdmluZyBwYWNrZXQgd2l0aCBhY2sgaWQgJWQgZnJvbSB0aGUgYnVmZmVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1ZyhcImV2ZW50IHdpdGggYWNrIGlkICVkIGhhcyB0aW1lZCBvdXQgYWZ0ZXIgJWQgbXNcIiwgaWQsIHRpbWVvdXQpO1xuICAgICAgICAgICAgYWNrLmNhbGwodGhpcywgbmV3IEVycm9yKFwib3BlcmF0aW9uIGhhcyB0aW1lZCBvdXRcIikpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgY29uc3QgZm4gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5pby5jbGVhclRpbWVvdXRGbih0aW1lcik7XG4gICAgICAgICAgICBhY2suYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGZuLndpdGhFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMuYWNrc1tpZF0gPSBmbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgYW5kIHdhaXRzIGZvciBhbiBhY2tub3dsZWRnZW1lbnRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gd2l0aG91dCB0aW1lb3V0XG4gICAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzb2NrZXQuZW1pdFdpdGhBY2soXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqXG4gICAgICogLy8gd2l0aCBhIHNwZWNpZmljIHRpbWVvdXRcbiAgICAgKiB0cnkge1xuICAgICAqICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzb2NrZXQudGltZW91dCgxMDAwKS5lbWl0V2l0aEFjayhcImhlbGxvXCIsIFwid29ybGRcIik7XG4gICAgICogfSBjYXRjaCAoZXJyKSB7XG4gICAgICogICAvLyB0aGUgc2VydmVyIGRpZCBub3QgYWNrbm93bGVkZ2UgdGhlIGV2ZW50IGluIHRoZSBnaXZlbiBkZWxheVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2hlbiB0aGUgc2VydmVyIGFja25vd2xlZGdlcyB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBlbWl0V2l0aEFjayhldiwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm4gPSAoYXJnMSwgYXJnMikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmcxID8gcmVqZWN0KGFyZzEpIDogcmVzb2x2ZShhcmcyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmbi53aXRoRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgYXJncy5wdXNoKGZuKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChldiwgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHBhY2tldCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIGFyZ3NcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRUb1F1ZXVlKGFyZ3MpIHtcbiAgICAgICAgbGV0IGFjaztcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5fcXVldWVTZXErKyxcbiAgICAgICAgICAgIHRyeUNvdW50OiAwLFxuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgZmxhZ3M6IE9iamVjdC5hc3NpZ24oeyBmcm9tUXVldWU6IHRydWUgfSwgdGhpcy5mbGFncyksXG4gICAgICAgIH07XG4gICAgICAgIGFyZ3MucHVzaCgoZXJyLCAuLi5yZXNwb25zZUFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWNrZXQgIT09IHRoaXMuX3F1ZXVlWzBdKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHBhY2tldCBoYXMgYWxyZWFkeSBiZWVuIGFja25vd2xlZGdlZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0Vycm9yID0gZXJyICE9PSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC50cnlDb3VudCA+IHRoaXMuX29wdHMucmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhcInBhY2tldCBbJWRdIGlzIGRpc2NhcmRlZCBhZnRlciAlZCB0cmllc1wiLCBwYWNrZXQuaWQsIHBhY2tldC50cnlDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVidWcoXCJwYWNrZXQgWyVkXSB3YXMgc3VjY2Vzc2Z1bGx5IHNlbnRcIiwgcGFja2V0LmlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGlmIChhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgYWNrKG51bGwsIC4uLnJlc3BvbnNlQXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFja2V0LnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcmFpblF1ZXVlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHBhY2tldCk7XG4gICAgICAgIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgZmlyc3QgcGFja2V0IG9mIHRoZSBxdWV1ZSwgYW5kIHdhaXQgZm9yIGFuIGFja25vd2xlZGdlbWVudCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIGZvcmNlIC0gd2hldGhlciB0byByZXNlbmQgYSBwYWNrZXQgdGhhdCBoYXMgbm90IGJlZW4gYWNrbm93bGVkZ2VkIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZHJhaW5RdWV1ZShmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGRlYnVnKFwiZHJhaW5pbmcgcXVldWVcIik7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQgfHwgdGhpcy5fcXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFja2V0ID0gdGhpcy5fcXVldWVbMF07XG4gICAgICAgIGlmIChwYWNrZXQucGVuZGluZyAmJiAhZm9yY2UpIHtcbiAgICAgICAgICAgIGRlYnVnKFwicGFja2V0IFslZF0gaGFzIGFscmVhZHkgYmVlbiBzZW50IGFuZCBpcyB3YWl0aW5nIGZvciBhbiBhY2tcIiwgcGFja2V0LmlkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYWNrZXQucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHBhY2tldC50cnlDb3VudCsrO1xuICAgICAgICBkZWJ1ZyhcInNlbmRpbmcgcGFja2V0IFslZF0gKHRyeSBuwrAlZClcIiwgcGFja2V0LmlkLCBwYWNrZXQudHJ5Q291bnQpO1xuICAgICAgICB0aGlzLmZsYWdzID0gcGFja2V0LmZsYWdzO1xuICAgICAgICB0aGlzLmVtaXQuYXBwbHkodGhpcywgcGFja2V0LmFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgcGFja2V0Lm5zcCA9IHRoaXMubnNwO1xuICAgICAgICB0aGlzLmlvLl9wYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGBvcGVuYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25vcGVuKCkge1xuICAgICAgICBkZWJ1ZyhcInRyYW5zcG9ydCBpcyBvcGVuIC0gY29ubmVjdGluZ1wiKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmF1dGggPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGgoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZW5kQ29ubmVjdFBhY2tldChkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2VuZENvbm5lY3RQYWNrZXQodGhpcy5hdXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIENPTk5FQ1QgcGFja2V0IHRvIGluaXRpYXRlIHRoZSBTb2NrZXQuSU8gc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2VuZENvbm5lY3RQYWNrZXQoZGF0YSkge1xuICAgICAgICB0aGlzLnBhY2tldCh7XG4gICAgICAgICAgICB0eXBlOiBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5DT05ORUNULFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fcGlkXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHsgcGlkOiB0aGlzLl9waWQsIG9mZnNldDogdGhpcy5fbGFzdE9mZnNldCB9LCBkYXRhKVxuICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICBkZWJ1ZyhcImNsb3NlICglcylcIiwgcmVhc29uKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaWQ7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGlzY29ubmVjdFwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy5fY2xlYXJBY2tzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYWNrbm93bGVkZ2VtZW50IGhhbmRsZXJzIHVwb24gZGlzY29ubmVjdGlvbiwgc2luY2UgdGhlIGNsaWVudCB3aWxsIG5ldmVyIHJlY2VpdmUgYW4gYWNrbm93bGVkZ2VtZW50IGZyb21cbiAgICAgKiB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2xlYXJBY2tzKCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmFja3MpLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0J1ZmZlcmVkID0gdGhpcy5zZW5kQnVmZmVyLnNvbWUoKHBhY2tldCkgPT4gU3RyaW5nKHBhY2tldC5pZCkgPT09IGlkKTtcbiAgICAgICAgICAgIGlmICghaXNCdWZmZXJlZCkge1xuICAgICAgICAgICAgICAgIC8vIG5vdGU6IGhhbmRsZXJzIHRoYXQgZG8gbm90IGFjY2VwdCBhbiBlcnJvciBhcyBmaXJzdCBhcmd1bWVudCBhcmUgaWdub3JlZCBoZXJlXG4gICAgICAgICAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW2lkXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoYWNrLndpdGhFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhY2suY2FsbCh0aGlzLCBuZXcgRXJyb3IoXCJzb2NrZXQgaGFzIGJlZW4gZGlzY29ubmVjdGVkXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgICAgICAgaWYgKCFzYW1lTmFtZXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkNPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5kYXRhICYmIHBhY2tldC5kYXRhLnNpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY29ubmVjdChwYWNrZXQuZGF0YS5zaWQsIHBhY2tldC5kYXRhLnBpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgbmV3IEVycm9yKFwiSXQgc2VlbXMgeW91IGFyZSB0cnlpbmcgdG8gcmVhY2ggYSBTb2NrZXQuSU8gc2VydmVyIGluIHYyLnggd2l0aCBhIHYzLnggY2xpZW50LCBidXQgdGhleSBhcmUgbm90IGNvbXBhdGlibGUgKG1vcmUgaW5mb3JtYXRpb24gaGVyZTogaHR0cHM6Ly9zb2NrZXQuaW8vZG9jcy92My9taWdyYXRpbmctZnJvbS0yLXgtdG8tMy0wLylcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXZlbnQocGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQUNLOlxuICAgICAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5CSU5BUllfQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMub25hY2socGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgICB0aGlzLm9uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihwYWNrZXQuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZXJyLmRhdGEgPSBwYWNrZXQuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25ldmVudChwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHBhY2tldC5kYXRhIHx8IFtdO1xuICAgICAgICBkZWJ1ZyhcImVtaXR0aW5nIGV2ZW50ICVqXCIsIGFyZ3MpO1xuICAgICAgICBpZiAobnVsbCAhPSBwYWNrZXQuaWQpIHtcbiAgICAgICAgICAgIGRlYnVnKFwiYXR0YWNoaW5nIGFjayBjYWxsYmFjayB0byBldmVudFwiKTtcbiAgICAgICAgICAgIGFyZ3MucHVzaCh0aGlzLmFjayhwYWNrZXQuaWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdEV2ZW50KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goT2JqZWN0LmZyZWV6ZShhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1pdEV2ZW50KGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FueUxpc3RlbmVycyAmJiB0aGlzLl9hbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgaWYgKHRoaXMuX3BpZCAmJiBhcmdzLmxlbmd0aCAmJiB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2Zmc2V0ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGFuIGFjayBjYWxsYmFjayB0byBlbWl0IHdpdGggYW4gZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFjayhpZCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IHNlbnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50IGRvdWJsZSBjYWxsYmFja3NcbiAgICAgICAgICAgIGlmIChzZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgZGVidWcoXCJzZW5kaW5nIGFjayAlalwiLCBhcmdzKTtcbiAgICAgICAgICAgIHNlbGYucGFja2V0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5BQ0ssXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVkZ2VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25hY2socGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGFjayA9IHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICAgICAgICBpZiAodHlwZW9mIGFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcImJhZCBhY2sgJXNcIiwgcGFja2V0LmlkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGRlYnVnKFwiY2FsbGluZyBhY2sgJXMgd2l0aCAlalwiLCBwYWNrZXQuaWQsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBGSVhNRSBhY2sgaXMgaW5jb3JyZWN0bHkgaW5mZXJyZWQgYXMgJ25ldmVyJ1xuICAgICAgICBpZiAoYWNrLndpdGhFcnJvcikge1xuICAgICAgICAgICAgcGFja2V0LmRhdGEudW5zaGlmdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGFjay5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmNvbm5lY3QoaWQsIHBpZCkge1xuICAgICAgICBkZWJ1ZyhcInNvY2tldCBjb25uZWN0ZWQgd2l0aCBpZCAlc1wiLCBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yZWNvdmVyZWQgPSBwaWQgJiYgdGhpcy5fcGlkID09PSBwaWQ7XG4gICAgICAgIHRoaXMuX3BpZCA9IHBpZDsgLy8gZGVmaW5lZCBvbmx5IGlmIGNvbm5lY3Rpb24gc3RhdGUgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdEJ1ZmZlcmVkKCk7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdCBidWZmZXJlZCBldmVudHMgKHJlY2VpdmVkIGFuZCBlbWl0dGVkKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZW1pdEJ1ZmZlcmVkKCkge1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIuZm9yRWFjaCgoYXJncykgPT4gdGhpcy5lbWl0RXZlbnQoYXJncykpO1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyLmZvckVhY2goKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgZGlzY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kaXNjb25uZWN0KCkge1xuICAgICAgICBkZWJ1ZyhcInNlcnZlciBkaXNjb25uZWN0ICglcylcIiwgdGhpcy5uc3ApO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGZvcmNlZCBjbGllbnQvc2VydmVyIHNpZGUgZGlzY29ubmVjdGlvbnMsXG4gICAgICogdGhpcyBtZXRob2QgZW5zdXJlcyB0aGUgbWFuYWdlciBzdG9wcyB0cmFja2luZyB1cyBhbmRcbiAgICAgKiB0aGF0IHJlY29ubmVjdGlvbnMgZG9uJ3QgZ2V0IHRyaWdnZXJlZCBmb3IgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicykge1xuICAgICAgICAgICAgLy8gY2xlYW4gc3Vic2NyaXB0aW9ucyB0byBhdm9pZCByZWNvbm5lY3Rpb25zXG4gICAgICAgICAgICB0aGlzLnN1YnMuZm9yRWFjaCgoc3ViRGVzdHJveSkgPT4gc3ViRGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlvW1wiX2Rlc3Ryb3lcIl0odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQgbWFudWFsbHkuIEluIHRoYXQgY2FzZSwgdGhlIHNvY2tldCB3aWxsIG5vdCB0cnkgdG8gcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhpcyBpcyB0aGUgbGFzdCBhY3RpdmUgU29ja2V0IGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgTWFuYWdlcn0sIHRoZSBsb3ctbGV2ZWwgY29ubmVjdGlvbiB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgLy8gY29uc29sZS5sb2cocmVhc29uKTsgcHJpbnRzIFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgZGVidWcoXCJwZXJmb3JtaW5nIGRpc2Nvbm5lY3QgKCVzKVwiLCB0aGlzLm5zcCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkRJU0NPTk5FQ1QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHNvY2tldCBmcm9tIHBvb2xcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGRpc2Nvbm5lY3QoKX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wcmVzcyBmbGFnLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuY29tcHJlc3MoZmFsc2UpLmVtaXQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wcmVzcyAtIGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgY29tcHJlc3MoY29tcHJlc3MpIHtcbiAgICAgICAgdGhpcy5mbGFncy5jb21wcmVzcyA9IGNvbXByZXNzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgZXZlbnQgbWVzc2FnZSB3aWxsIGJlIGRyb3BwZWQgd2hlbiB0aGlzIHNvY2tldCBpcyBub3RcbiAgICAgKiByZWFkeSB0byBzZW5kIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudm9sYXRpbGUuZW1pdChcImhlbGxvXCIpOyAvLyB0aGUgc2VydmVyIG1heSBvciBtYXkgbm90IHJlY2VpdmUgaXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICBnZXQgdm9sYXRpbGUoKSB7XG4gICAgICAgIHRoaXMuZmxhZ3Mudm9sYXRpbGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBlcnJvciB3aGVuIHRoZVxuICAgICAqIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHdpdGhvdXQgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlcjpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnRpbWVvdXQoNTAwMCkuZW1pdChcIm15LWV2ZW50XCIsIChlcnIpID0+IHtcbiAgICAgKiAgIGlmIChlcnIpIHtcbiAgICAgKiAgICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICB0aW1lb3V0KHRpbWVvdXQpIHtcbiAgICAgICAgdGhpcy5mbGFncy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnkobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gb3IgcmVtb3ZlIGFsbCBsaXN0ZW5lcnNcbiAgICAgKiBzb2NrZXQub2ZmQW55KCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvZmZBbnkobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbnlMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdGhhdCBhcmUgbGlzdGVuaW5nIGZvciBhbnkgZXZlbnQgdGhhdCBpcyBzcGVjaWZpZWQuIFRoaXMgYXJyYXkgY2FuIGJlIG1hbmlwdWxhdGVkLFxuICAgICAqIGUuZy4gdG8gcmVtb3ZlIGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICBsaXN0ZW5lcnNBbnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9uQW55T3V0Z29pbmcobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBhY2tub3dsZWRnZW1lbnRzIHNlbnQgdG8gdGhlIHNlcnZlciBhcmUgbm90IGluY2x1ZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQucHJlcGVuZEFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIHByZXBlbmRBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZygpO1xuICAgICAqXG4gICAgICogQHBhcmFtIFtsaXN0ZW5lcl0gLSB0aGUgY2F0Y2gtYWxsIGxpc3RlbmVyIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBvZmZBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueU91dGdvaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgbGlzdGVuZXJzIGZvciBlYWNoIHBhY2tldCBzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCkge1xuICAgICAgICBpZiAodGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgJiYgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNvY2tldCA9IFNvY2tldDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51cmwgPSB1cmw7XG5jb25zdCBlbmdpbmVfaW9fY2xpZW50XzEgPSByZXF1aXJlKFwiZW5naW5lLmlvLWNsaWVudFwiKTtcbmNvbnN0IGRlYnVnXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImRlYnVnXCIpKTsgLy8gZGVidWcoKVxuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KShcInNvY2tldC5pby1jbGllbnQ6dXJsXCIpOyAvLyBkZWJ1ZygpXG4vKipcbiAqIFVSTCBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHVyaSAtIHVybFxuICogQHBhcmFtIHBhdGggLSB0aGUgcmVxdWVzdCBwYXRoIG9mIHRoZSBjb25uZWN0aW9uXG4gKiBAcGFyYW0gbG9jIC0gQW4gb2JqZWN0IG1lYW50IHRvIG1pbWljIHdpbmRvdy5sb2NhdGlvbi5cbiAqICAgICAgICBEZWZhdWx0cyB0byB3aW5kb3cubG9jYXRpb24uXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVybCh1cmksIHBhdGggPSBcIlwiLCBsb2MpIHtcbiAgICBsZXQgb2JqID0gdXJpO1xuICAgIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24pO1xuICAgIGlmIChudWxsID09IHVyaSlcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MuaG9zdCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgZGVidWcoXCJwcm90b2NvbC1sZXNzIHVybCAlc1wiLCB1cmkpO1xuICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBcImh0dHBzOi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2VcbiAgICAgICAgZGVidWcoXCJwYXJzZSAlc1wiLCB1cmkpO1xuICAgICAgICBvYmogPSAoMCwgZW5naW5lX2lvX2NsaWVudF8xLnBhcnNlKSh1cmkpO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgd2UgdHJlYXQgYGxvY2FsaG9zdDo4MGAgYW5kIGBsb2NhbGhvc3RgIGVxdWFsbHlcbiAgICBpZiAoIW9iai5wb3J0KSB7XG4gICAgICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL14oaHR0cHx3cylzJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICAgICAgICBvYmoucG9ydCA9IFwiNDQzXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JqLnBhdGggPSBvYmoucGF0aCB8fCBcIi9cIjtcbiAgICBjb25zdCBpcHY2ID0gb2JqLmhvc3QuaW5kZXhPZihcIjpcIikgIT09IC0xO1xuICAgIGNvbnN0IGhvc3QgPSBpcHY2ID8gXCJbXCIgKyBvYmouaG9zdCArIFwiXVwiIDogb2JqLmhvc3Q7XG4gICAgLy8gZGVmaW5lIHVuaXF1ZSBpZFxuICAgIG9iai5pZCA9IG9iai5wcm90b2NvbCArIFwiOi8vXCIgKyBob3N0ICsgXCI6XCIgKyBvYmoucG9ydCArIHBhdGg7XG4gICAgLy8gZGVmaW5lIGhyZWZcbiAgICBvYmouaHJlZiA9XG4gICAgICAgIG9iai5wcm90b2NvbCArXG4gICAgICAgICAgICBcIjovL1wiICtcbiAgICAgICAgICAgIGhvc3QgK1xuICAgICAgICAgICAgKGxvYyAmJiBsb2MucG9ydCA9PT0gb2JqLnBvcnQgPyBcIlwiIDogXCI6XCIgKyBvYmoucG9ydCk7XG4gICAgcmV0dXJuIG9iajtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWNvbnN0cnVjdFBhY2tldCA9IGV4cG9ydHMuZGVjb25zdHJ1Y3RQYWNrZXQgPSB2b2lkIDA7XG5jb25zdCBpc19iaW5hcnlfanNfMSA9IHJlcXVpcmUoXCIuL2lzLWJpbmFyeS5qc1wiKTtcbi8qKlxuICogUmVwbGFjZXMgZXZlcnkgQnVmZmVyIHwgQXJyYXlCdWZmZXIgfCBCbG9iIHwgRmlsZSBpbiBwYWNrZXQgd2l0aCBhIG51bWJlcmVkIHBsYWNlaG9sZGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBzb2NrZXQuaW8gZXZlbnQgcGFja2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggZGVjb25zdHJ1Y3RlZCBwYWNrZXQgYW5kIGxpc3Qgb2YgYnVmZmVyc1xuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBkZWNvbnN0cnVjdFBhY2tldChwYWNrZXQpIHtcbiAgICBjb25zdCBidWZmZXJzID0gW107XG4gICAgY29uc3QgcGFja2V0RGF0YSA9IHBhY2tldC5kYXRhO1xuICAgIGNvbnN0IHBhY2sgPSBwYWNrZXQ7XG4gICAgcGFjay5kYXRhID0gX2RlY29uc3RydWN0UGFja2V0KHBhY2tldERhdGEsIGJ1ZmZlcnMpO1xuICAgIHBhY2suYXR0YWNobWVudHMgPSBidWZmZXJzLmxlbmd0aDsgLy8gbnVtYmVyIG9mIGJpbmFyeSAnYXR0YWNobWVudHMnXG4gICAgcmV0dXJuIHsgcGFja2V0OiBwYWNrLCBidWZmZXJzOiBidWZmZXJzIH07XG59XG5leHBvcnRzLmRlY29uc3RydWN0UGFja2V0ID0gZGVjb25zdHJ1Y3RQYWNrZXQ7XG5mdW5jdGlvbiBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgaWYgKCgwLCBpc19iaW5hcnlfanNfMS5pc0JpbmFyeSkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSB7IF9wbGFjZWhvbGRlcjogdHJ1ZSwgbnVtOiBidWZmZXJzLmxlbmd0aCB9O1xuICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhKGRhdGEgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiByZWNvbnN0cnVjdFBhY2tldChwYWNrZXQsIGJ1ZmZlcnMpIHtcbiAgICBwYWNrZXQuZGF0YSA9IF9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSwgYnVmZmVycyk7XG4gICAgZGVsZXRlIHBhY2tldC5hdHRhY2htZW50czsgLy8gbm8gbG9uZ2VyIHVzZWZ1bFxuICAgIHJldHVybiBwYWNrZXQ7XG59XG5leHBvcnRzLnJlY29uc3RydWN0UGFja2V0ID0gcmVjb25zdHJ1Y3RQYWNrZXQ7XG5mdW5jdGlvbiBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5fcGxhY2Vob2xkZXIgPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgaXNJbmRleFZhbGlkID0gdHlwZW9mIGRhdGEubnVtID09PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICBkYXRhLm51bSA+PSAwICYmXG4gICAgICAgICAgICBkYXRhLm51bSA8IGJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBpZiAoaXNJbmRleFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyc1tkYXRhLm51bV07IC8vIGFwcHJvcHJpYXRlIGJ1ZmZlciAoc2hvdWxkIGJlIG5hdHVyYWwgb3JkZXIgYW55d2F5KVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBhdHRhY2htZW50c1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldLCBidWZmZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EZWNvZGVyID0gZXhwb3J0cy5FbmNvZGVyID0gZXhwb3J0cy5QYWNrZXRUeXBlID0gZXhwb3J0cy5wcm90b2NvbCA9IHZvaWQgMDtcbmNvbnN0IGNvbXBvbmVudF9lbWl0dGVyXzEgPSByZXF1aXJlKFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiKTtcbmNvbnN0IGJpbmFyeV9qc18xID0gcmVxdWlyZShcIi4vYmluYXJ5LmpzXCIpO1xuY29uc3QgaXNfYmluYXJ5X2pzXzEgPSByZXF1aXJlKFwiLi9pcy1iaW5hcnkuanNcIik7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpOyAvLyBkZWJ1ZygpXG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKFwic29ja2V0LmlvLXBhcnNlclwiKTsgLy8gZGVidWcoKVxuLyoqXG4gKiBUaGVzZSBzdHJpbmdzIG11c3Qgbm90IGJlIHVzZWQgYXMgZXZlbnQgbmFtZXMsIGFzIHRoZXkgaGF2ZSBhIHNwZWNpYWwgbWVhbmluZy5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gW1xuICAgIFwiY29ubmVjdFwiLFxuICAgIFwiY29ubmVjdF9lcnJvclwiLFxuICAgIFwiZGlzY29ubmVjdFwiLFxuICAgIFwiZGlzY29ubmVjdGluZ1wiLFxuICAgIFwibmV3TGlzdGVuZXJcIixcbiAgICBcInJlbW92ZUxpc3RlbmVyXCIsIC8vIHVzZWQgYnkgdGhlIE5vZGUuanMgRXZlbnRFbWl0dGVyXG5dO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0cy5wcm90b2NvbCA9IDU7XG52YXIgUGFja2V0VHlwZTtcbihmdW5jdGlvbiAoUGFja2V0VHlwZSkge1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkNPTk5FQ1RcIl0gPSAwXSA9IFwiQ09OTkVDVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkRJU0NPTk5FQ1RcIl0gPSAxXSA9IFwiRElTQ09OTkVDVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkVWRU5UXCJdID0gMl0gPSBcIkVWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQUNLXCJdID0gM10gPSBcIkFDS1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkNPTk5FQ1RfRVJST1JcIl0gPSA0XSA9IFwiQ09OTkVDVF9FUlJPUlwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkJJTkFSWV9FVkVOVFwiXSA9IDVdID0gXCJCSU5BUllfRVZFTlRcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfQUNLXCJdID0gNl0gPSBcIkJJTkFSWV9BQ0tcIjtcbn0pKFBhY2tldFR5cGUgPSBleHBvcnRzLlBhY2tldFR5cGUgfHwgKGV4cG9ydHMuUGFja2V0VHlwZSA9IHt9KSk7XG4vKipcbiAqIEEgc29ja2V0LmlvIEVuY29kZXIgaW5zdGFuY2VcbiAqL1xuY2xhc3MgRW5jb2RlciB7XG4gICAgLyoqXG4gICAgICogRW5jb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmVwbGFjZXIgLSBjdXN0b20gcmVwbGFjZXIgdG8gcGFzcyBkb3duIHRvIEpTT04ucGFyc2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXBsYWNlcikge1xuICAgICAgICB0aGlzLnJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICAgICAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAgICAgKi9cbiAgICBlbmNvZGUob2JqKSB7XG4gICAgICAgIGRlYnVnKFwiZW5jb2RpbmcgcGFja2V0ICVqXCIsIG9iaik7XG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVCB8fCBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5BQ0spIHtcbiAgICAgICAgICAgIGlmICgoMCwgaXNfYmluYXJ5X2pzXzEuaGFzQmluYXJ5KShvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlQXNCaW5hcnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBQYWNrZXRUeXBlLkJJTkFSWV9BQ0ssXG4gICAgICAgICAgICAgICAgICAgIG5zcDogb2JqLm5zcCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogb2JqLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBvYmouaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmVuY29kZUFzU3RyaW5nKG9iaildO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgICAgLy8gZmlyc3QgaXMgdHlwZVxuICAgICAgICBsZXQgc3RyID0gXCJcIiArIG9iai50eXBlO1xuICAgICAgICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgICAgICAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gICAgICAgIGlmIChvYmoubnNwICYmIFwiL1wiICE9PSBvYmoubnNwKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICAgICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgICAgICAgICBzdHIgKz0gSlNPTi5zdHJpbmdpZnkob2JqLmRhdGEsIHRoaXMucmVwbGFjZXIpO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnKFwiZW5jb2RlZCAlaiBhcyAlc1wiLCBvYmosIHN0cik7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc0JpbmFyeShvYmopIHtcbiAgICAgICAgY29uc3QgZGVjb25zdHJ1Y3Rpb24gPSAoMCwgYmluYXJ5X2pzXzEuZGVjb25zdHJ1Y3RQYWNrZXQpKG9iaik7XG4gICAgICAgIGNvbnN0IHBhY2sgPSB0aGlzLmVuY29kZUFzU3RyaW5nKGRlY29uc3RydWN0aW9uLnBhY2tldCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBkZWNvbnN0cnVjdGlvbi5idWZmZXJzO1xuICAgICAgICBidWZmZXJzLnVuc2hpZnQocGFjayk7IC8vIGFkZCBwYWNrZXQgaW5mbyB0byBiZWdpbm5pbmcgb2YgZGF0YSBsaXN0XG4gICAgICAgIHJldHVybiBidWZmZXJzOyAvLyB3cml0ZSBhbGwgdGhlIGJ1ZmZlcnNcbiAgICB9XG59XG5leHBvcnRzLkVuY29kZXIgPSBFbmNvZGVyO1xuLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MTEyODEvY2hlY2staWYtYS12YWx1ZS1pcy1hbi1vYmplY3QtaW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbn1cbi8qKlxuICogQSBzb2NrZXQuaW8gRGVjb2RlciBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVjb2RlclxuICovXG5jbGFzcyBEZWNvZGVyIGV4dGVuZHMgY29tcG9uZW50X2VtaXR0ZXJfMS5FbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBEZWNvZGVyIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXZpdmVyIC0gY3VzdG9tIHJldml2ZXIgdG8gcGFzcyBkb3duIHRvIEpTT04uc3RyaW5naWZ5XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmV2aXZlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJldml2ZXIgPSByZXZpdmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIGFuIGVuY29kZWQgcGFja2V0IHN0cmluZyBpbnRvIHBhY2tldCBKU09OLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9iaiAtIGVuY29kZWQgcGFja2V0XG4gICAgICovXG4gICAgYWRkKG9iaikge1xuICAgICAgICBsZXQgcGFja2V0O1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImdvdCBwbGFpbnRleHQgZGF0YSB3aGVuIHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFja2V0ID0gdGhpcy5kZWNvZGVTdHJpbmcob2JqKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQmluYXJ5RXZlbnQgPSBwYWNrZXQudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ7XG4gICAgICAgICAgICBpZiAoaXNCaW5hcnlFdmVudCB8fCBwYWNrZXQudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgICAgICAgcGFja2V0LnR5cGUgPSBpc0JpbmFyeUV2ZW50ID8gUGFja2V0VHlwZS5FVkVOVCA6IFBhY2tldFR5cGUuQUNLO1xuICAgICAgICAgICAgICAgIC8vIGJpbmFyeSBwYWNrZXQncyBqc29uXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KTtcbiAgICAgICAgICAgICAgICAvLyBubyBhdHRhY2htZW50cywgbGFiZWxlZCBiaW5hcnkgYnV0IG5vIGJpbmFyeSBkYXRhIHRvIGZvbGxvd1xuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQuYXR0YWNobWVudHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vbi1iaW5hcnkgZnVsbCBwYWNrZXRcbiAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKDAsIGlzX2JpbmFyeV9qc18xLmlzQmluYXJ5KShvYmopIHx8IG9iai5iYXNlNjQpIHtcbiAgICAgICAgICAgIC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIGZpbmFsIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIiArIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIGEgcGFja2V0IFN0cmluZyAoSlNPTiBkYXRhKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcGFja2V0XG4gICAgICovXG4gICAgZGVjb2RlU3RyaW5nKHN0cikge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIC8vIGxvb2sgdXAgdHlwZVxuICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoUGFja2V0VHlwZVtwLnR5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVua25vd24gcGFja2V0IHR5cGUgXCIgKyBwLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgYXR0YWNobWVudHMgaWYgdHlwZSBiaW5hcnlcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQgfHxcbiAgICAgICAgICAgIHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKHN0ci5jaGFyQXQoKytpKSAhPT0gXCItXCIgJiYgaSAhPSBzdHIubGVuZ3RoKSB7IH1cbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICAgICAgaWYgKGJ1ZiAhPSBOdW1iZXIoYnVmKSB8fCBzdHIuY2hhckF0KGkpICE9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLmF0dGFjaG1lbnRzID0gTnVtYmVyKGJ1Zik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBuYW1lc3BhY2UgKGlmIGFueSlcbiAgICAgICAgaWYgKFwiL1wiID09PSBzdHIuY2hhckF0KGkgKyAxKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoXCIsXCIgPT09IGMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAubnNwID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwLm5zcCA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgaWRcbiAgICAgICAgY29uc3QgbmV4dCA9IHN0ci5jaGFyQXQoaSArIDEpO1xuICAgICAgICBpZiAoXCJcIiAhPT0gbmV4dCAmJiBOdW1iZXIobmV4dCkgPT0gbmV4dCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBjIHx8IE51bWJlcihjKSAhPSBjKSB7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuaWQgPSBOdW1iZXIoc3RyLnN1YnN0cmluZyhzdGFydCwgaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGpzb24gZGF0YVxuICAgICAgICBpZiAoc3RyLmNoYXJBdCgrK2kpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy50cnlQYXJzZShzdHIuc3Vic3RyKGkpKTtcbiAgICAgICAgICAgIGlmIChEZWNvZGVyLmlzUGF5bG9hZFZhbGlkKHAudHlwZSwgcGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICBwLmRhdGEgPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXlsb2FkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlYnVnKFwiZGVjb2RlZCAlcyBhcyAlalwiLCBzdHIsIHApO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgdHJ5UGFyc2Uoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIHRoaXMucmV2aXZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgaXNQYXlsb2FkVmFsaWQodHlwZSwgcGF5bG9hZCkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBpc09iamVjdChwYXlsb2FkKTtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwic3RyaW5nXCIgfHwgaXNPYmplY3QocGF5bG9hZCk7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShwYXlsb2FkKSAmJlxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHBheWxvYWRbMF0gPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcGF5bG9hZFswXSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFU0VSVkVEX0VWRU5UUy5pbmRleE9mKHBheWxvYWRbMF0pID09PSAtMSkpKTtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWFsbG9jYXRlcyBhIHBhcnNlcidzIHJlc291cmNlc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EZWNvZGVyID0gRGVjb2Rlcjtcbi8qKlxuICogQSBtYW5hZ2VyIG9mIGEgYmluYXJ5IGV2ZW50J3MgJ2J1ZmZlciBzZXF1ZW5jZScuIFNob3VsZFxuICogYmUgY29uc3RydWN0ZWQgd2hlbmV2ZXIgYSBwYWNrZXQgb2YgdHlwZSBCSU5BUllfRVZFTlQgaXNcbiAqIGRlY29kZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQHJldHVybiB7QmluYXJ5UmVjb25zdHJ1Y3Rvcn0gaW5pdGlhbGl6ZWQgcmVjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBCaW5hcnlSZWNvbnN0cnVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYWNrZXQpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQgPSBwYWNrZXQ7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLnJlY29uUGFjayA9IHBhY2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIGJpbmFyeSBkYXRhIHJlY2VpdmVkIGZyb20gY29ubmVjdGlvblxuICAgICAqIGFmdGVyIGEgQklOQVJZX0VWRU5UIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QnVmZmVyIHwgQXJyYXlCdWZmZXJ9IGJpbkRhdGEgLSB0aGUgcmF3IGJpbmFyeSBkYXRhIHJlY2VpdmVkXG4gICAgICogQHJldHVybiB7bnVsbCB8IE9iamVjdH0gcmV0dXJucyBudWxsIGlmIG1vcmUgYmluYXJ5IGRhdGEgaXMgZXhwZWN0ZWQgb3JcbiAgICAgKiAgIGEgcmVjb25zdHJ1Y3RlZCBwYWNrZXQgb2JqZWN0IGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiByZWNlaXZlZC5cbiAgICAgKi9cbiAgICB0YWtlQmluYXJ5RGF0YShiaW5EYXRhKSB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJpbkRhdGEpO1xuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gdGhpcy5yZWNvblBhY2suYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIC8vIGRvbmUgd2l0aCBidWZmZXIgbGlzdFxuICAgICAgICAgICAgY29uc3QgcGFja2V0ID0gKDAsIGJpbmFyeV9qc18xLnJlY29uc3RydWN0UGFja2V0KSh0aGlzLnJlY29uUGFjaywgdGhpcy5idWZmZXJzKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHBhY2tldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGJpbmFyeSBwYWNrZXQgcmVjb25zdHJ1Y3Rpb24gdmFyaWFibGVzLlxuICAgICAqL1xuICAgIGZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVjb25QYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmhhc0JpbmFyeSA9IGV4cG9ydHMuaXNCaW5hcnkgPSB2b2lkIDA7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzVmlldyA9IChvYmopID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iailcbiAgICAgICAgOiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoQmxvYikgPT09IFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgRmlsZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBGaWxlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoRmlsZSkgPT09IFwiW29iamVjdCBGaWxlQ29uc3RydWN0b3JdXCIpO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgQnVmZmVyLCBhbiBBcnJheUJ1ZmZlciwgYSBCbG9iIG9yIGEgRmlsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpc0JpbmFyeShvYmopIHtcbiAgICByZXR1cm4gKCh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiYgKG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhvYmopKSkgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVCbG9iICYmIG9iaiBpbnN0YW5jZW9mIEJsb2IpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlRmlsZSAmJiBvYmogaW5zdGFuY2VvZiBGaWxlKSk7XG59XG5leHBvcnRzLmlzQmluYXJ5ID0gaXNCaW5hcnk7XG5mdW5jdGlvbiBoYXNCaW5hcnkob2JqLCB0b0pTT04pIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChoYXNCaW5hcnkob2JqW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlzQmluYXJ5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvYmoudG9KU09OICYmXG4gICAgICAgIHR5cGVvZiBvYmoudG9KU09OID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gaGFzQmluYXJ5KG9iai50b0pTT04oKSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSAmJiBoYXNCaW5hcnkob2JqW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmhhc0JpbmFyeSA9IGhhc0JpbmFyeTtcbiIsIi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG5cbi8qKlxuICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogTGlzdGVuIG9uIHRoZSBnaXZlbiBgZXZlbnRgIHdpdGggYGZuYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbiA9XG5FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICAodGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW10pXG4gICAgLnB1c2goZm4pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXG4gKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICBmdW5jdGlvbiBvbigpIHtcbiAgICB0aGlzLm9mZihldmVudCwgb24pO1xuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBvbi5mbiA9IGZuO1xuICB0aGlzLm9uKGV2ZW50LCBvbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuXG4gIC8vIGFsbFxuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzcGVjaWZpYyBldmVudFxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgaWYgKCFjYWxsYmFja3MpIHJldHVybiB0aGlzO1xuXG4gIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcbiAgdmFyIGNiO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgIGNiID0gY2FsbGJhY2tzW2ldO1xuICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIGV2ZW50IHNwZWNpZmljIGFycmF5cyBmb3IgZXZlbnQgdHlwZXMgdGhhdCBub1xuICAvLyBvbmUgaXMgc3Vic2NyaWJlZCBmb3IgdG8gYXZvaWQgbWVtb3J5IGxlYWsuXG4gIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge01peGVkfSAuLi5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuXG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKVxuICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICB9XG5cbiAgaWYgKGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBhbGlhcyB1c2VkIGZvciByZXNlcnZlZCBldmVudHMgKHByb3RlY3RlZCBtZXRob2QpXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0UmVzZXJ2ZWQgPSBFbWl0dGVyLnByb3RvdHlwZS5lbWl0O1xuXG4vKipcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGlzIGVtaXR0ZXIgaGFzIGBldmVudGAgaGFuZGxlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2U7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0ICcuLi9zdHlsZS9hcHAuY3NzJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudFNjcmNweSB9IGZyb20gJy4vZ29vZ0RldmljZS9jbGllbnQvU3RyZWFtQ2xpZW50U2NyY3B5JztcbmltcG9ydCB7IGlvIH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcbmltcG9ydCB7IEhvc3RUcmFja2VyIH0gZnJvbSAnLi9jbGllbnQvSG9zdFRyYWNrZXInO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4vY2xpZW50L1Rvb2wnO1xuXG53aW5kb3cub25sb2FkID0gYXN5bmMgZnVuY3Rpb24gKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGhhc2ggPSBsb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jIS8sICcnKTtcbiAgICBjb25zdCBwYXJzZWRRdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoaGFzaCk7XG4gICAgY29uc3QgYWN0aW9uID0gcGFyc2VkUXVlcnkuZ2V0KCdhY3Rpb24nKTtcbiAgICBjb25zdCBudW1iZXIgPSBwYXJzZWRRdWVyeS5nZXQoJ251bWJlcicpO1xuICAgIGNvbnN0IGlwcyA9IHBhcnNlZFF1ZXJ5LmdldCgnaXBzJyk9PXVuZGVmaW5lZD8nMTcyLjIwLjUwLjEyMzo3MDAwJzpwYXJzZWRRdWVyeS5nZXQoJ2lwcycpO1xuXG4gICAgY29uc29sZS5sb2coXCJpcHNcIixpcHMpO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgY29uc3QgeyBCcm9hZHdheVBsYXllciB9ID0gYXdhaXQgaW1wb3J0KCcuL3BsYXllci9Ccm9hZHdheVBsYXllcicpO1xuICAgIFN0cmVhbUNsaWVudFNjcmNweS5yZWdpc3RlclBsYXllcihCcm9hZHdheVBsYXllcik7XG4vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IE1zZVBsYXllciB9ID0gYXdhaXQgaW1wb3J0KCcuL3BsYXllci9Nc2VQbGF5ZXInKTtcbiAgICBTdHJlYW1DbGllbnRTY3JjcHkucmVnaXN0ZXJQbGF5ZXIoTXNlUGxheWVyKTtcbi8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IFRpbnlIMjY0UGxheWVyIH0gPSBhd2FpdCBpbXBvcnQoJy4vcGxheWVyL1RpbnlIMjY0UGxheWVyJyk7XG4gICAgU3RyZWFtQ2xpZW50U2NyY3B5LnJlZ2lzdGVyUGxheWVyKFRpbnlIMjY0UGxheWVyKTtcbi8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IFdlYkNvZGVjc1BsYXllciB9ID0gYXdhaXQgaW1wb3J0KCcuL3BsYXllci9XZWJDb2RlY3NQbGF5ZXInKTtcbiAgICBTdHJlYW1DbGllbnRTY3JjcHkucmVnaXN0ZXJQbGF5ZXIoV2ViQ29kZWNzUGxheWVyKTtcbi8vLy8vLy8vLy8vLy8vXG5cbiAgICBpZiAoYWN0aW9uID09PSBTdHJlYW1DbGllbnRTY3JjcHkuQUNUSU9OICYmIHR5cGVvZiBwYXJzZWRRdWVyeS5nZXQoJ3VkaWQnKSA9PT0gJ3N0cmluZycpIHtcblx0XHRcbiAgICAgICAgY29uc3QgdXVpZCA9IHBhcnNlZFF1ZXJ5LmdldCgndWRpZCcpO1xuICAgICAgICBjb25zdCBzb2NrZXQgPSBpbyhcIndzOi8vXCIraXBzKTtcbiAgICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNidXR0b24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdGNidXR0b24xLmNsYXNzTmFtZSA9IFwiY29udHJvbC1idXR0b25cIjtcblx0XHRcdGNidXR0b24xLnRpdGxlID0gXCJQZWdhciBlbiBkaXNwb3NpdGl2b1wiXG5cdFx0XHRjb25zdCBpbWcxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdGltZzEuc3JjPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRmdBQUFCY0NBWUFBQURxQkhJaUFBQUFDWEJJV1hNQUFBN0RBQUFPd3dISGI2aGtBQUFBR1hSRldIUlRiMlowZDJGeVpRQjNkM2N1YVc1cmMyTmhjR1V1YjNKbm0rNDhHZ0FBREUxSlJFRlVlSnp0WFh1c0hGVVovMzFuNTh6dXBhVXZFUHNBV29HbVNnV0I4Z2lLcGtBTTRXRVJNQWdvQVJFVWpZSmlpRVFRRUF4RWtwSm9BaEdCb0FsSkZlU3A4akFLeXFOL2FIallCb29nRHlsUWxENW82YjE3ZDg3TStmbkg3cjNkYnVlYzJiMDdzN3MzOXBmYzlIYStPV2UrK2QxdnZ2UE5PZC81UmtoaXNpS0tvZ09WVXNjRE9JTGtJZ0J6QU13QVFBRHZBM2hiUkY0R3NOSmErMmdZaGkvMFdrZVpoQVJMRkVWbmlNajNBWHlpdzdiUGtid2hETU83QU5nQ2ROc0JrNDNnT2NhWU93RWMwMlUvVHlSSmNuYWxVbmt6RDZWOG1Fd0V6emJHUEFsZ3Y1ejZXMnV0WFZvdWwxL0xxYjlVcUNJN3p4RVNSZEZ0eUk5Y0FOaExLYlVDUUpCam56dGdNaEJjTWNiY0tDSW5GdEQzNFZFVVhWZEF2K01ZTkJjUmpJeU03S0cxbmdmZ1FBQ0hBRGdOd0ljNzZLTUtZQlJBR2NBdWJiYjVLNEFWSXZLaXRmWTlrbEc1WEI0R3NLWFIzNFRSRDRKbnhIRjhCTW1QQXBndkludVRuRTl5VHhIWkE1MC9WUitJeUhKcjdiMWhHTDRPWUd1VGJFb1VSU2VMeUUyb2gyOFRRUVRnVFJGWkJlQjVrZzlyclo5QlBSVE1SSzhJM2lPTzQzTklmZ0hBWVFBa3AzNjNBamhLYS8wUDMwbFJGSjBpSXZmbWRFMlFYQWZnamlSSmJoNGFHbnJiZDI3UkJNOHd4bHdONEVMVUg5bGNJU0kvRElMZ3grMmNhNHg1Qm5XWGt5Y01nRjlvcmE4RXNESHRoTUlJTnNZY0N1QWVBSHNYY2dFQVNaTE1iemVXamFMb1ZCRzVweUJWTnBBOFB3ekQrMXNGaFJCc2pEa2N3SjhBN0pwNzU5dndzdFo2VVFmbksyUE1LZ0NMQzlLSEpLOFB3L0FLTlBubklzSzAzVVhrUGhSTGJrTHlSeDIyc1NMeWJkUWY2eUlnSXZLRDFyQXZkd3MyeHZ3U3dEazVkbGtEOEZiajV6VVJXWk1reWYzbGN2bVZpWFFXeC9HeDF0cExSV1FmQUx1akhsMWtEYm9KZ0ZJSGx6bFBhMzBIa0RQQnRWcHRvVkpxVFJ2S1BBL2dDUUJMQUh6S2M5NXlyZlVWcU1lMVJhRVV4L0VsSkc5d25TQWlWMXRyN3hLUjd3RDRLckx2YjNNY3g0dUhob2JlenRWRmlNajVHUmQvUTBTTzFsb2ZyTFcrV0VRdTlmVm5yYjBWeFpJTEFFa1FCRGZERTlkYWExZUZZYmhHYS8xMWtnY0RlQzZqeitsQkVGd081T3lEUmVSMGozaTl0ZmJZSUFqK01uWWdDSUtYTXZycjVMSHNCc1B3L0NGRjVLMngzOE13WEsyMVBoTEFUUmw5bmcyZ25CdkJ0VnB0WHdBTFBLZGNtekp6dGNYWHA0aE02MWF2RHVBazJGcTdvZVZRVFd2OUxaSytlWXlwY1J3ZmxSdkJJbktRUnp5aXRiNHQ1WGpTK0VtRlVtcTNyaFZySDdGTFVDNlgxNmNkRDhQd0tnRC9kYlVqZVdCdUJDdWxGbm91OUJpQUVZYzRjcld6MW42b1c3MXlRQVRnQTRjc0p2bXNwKzNDM0FnbTZTUllLZlYzVDlPdExvR0k5SjFna2h2aEdRQkZ4RGxoTHlLejg1eHNkaEpzcmZVTlpsc0FwQkpKOG90UkZJMjdDYVhVKzJqY0xNa3RhTGdYa3NOb1BBbWxVcWxLY3N5ZlJnMFpBQ1RXMm5HZlh5Nlh4L3VDMjBJaElrNVo0OXFiUk5MRGFKS3o4aVRZYVcwaTRwc3Y4QTEwUzBSa3lkaC9YREY3OHcxYTYxN0xWR3JiQTJ0TTJ5OTB3ejZoVW1xVDUxMWlacDVobW5OeTIxcjducWVkTjVJWUFIZ0pKcm5KSTY3a1NmQ1FTOUI0SEYxNE4wY2Rja2VUaTNISlU2Y3BHOUE5SVJqMStZUlVpTWlMT2VxUU81UlNtUzdDSXc1NlJiRFQ0WkY4RUo1UXJkOW93NEpkNFNkRXBKVFhJQ2Z3ejBFNGczaXQ5Zk1BRmtSUjlFa1JtVWR5cm9qTUZaRUtBRmhycHpXOU11K0MrdXU5TTdRREFKSlJxK1UxUnhwTnh6Wmord3dmcTVUYTNOS2RkemtLZnVNSkNzMEphTDVXaG54ZEdJWkZyVFlVQ3BLUksweER6aTdpL3hJa2ZmRmVhU2ZCWFlLa2IvellhY0hkb2xLcDdDUzRZT3drdUdENGZMRHNKTGg3K0N5WUV3blRacVljeTFxVm5RbDNSbmtNejJ6V0pJRFBncTF6Vlhsa1pHUnVFQVRmRUpFakFYd2M5U1h1b3RmSXhzaCtIOEE3QUZZRFdLbTFmaEJBNnd2QW9FQ01NUzdqaWRJSUxrVlJkSTJJWEFLZ1VxeHViV09VNUkxaEdGNkw0bGVaTzBhRDRMU25lTFNWNEZuR21GOEQrR3hQTk9zY2oybXRUMEtYT2J0NXd4Z1RJLzNwcm80UGNxT2pvd3VNTVU5amNNa0ZnR09NTVcxbFV3NEk2ajQ0aXFJRGxGSVBrZHl6M3hxMWdTUkprdjBxbGNvYi9WWmtETWFZQ0lCT0VXMVZjUngvV2tTZW1pVGtBa0JKS2ZXVmZpdlJBdGNnUjBYeUZBQzlUUERvR2lKeVFyOTFhSUZydHRBR3lJNFVOZ0Y0U0VSZUlmbXV0WFpkcVZUNm9MR3FDNUxEamdrUHJaU2EybnhBUktaaTI2T2tyTFhUbTJSRHpicUl5QXhyN1ZJUk9UNmw3ME1BVE1mZ2hHNU9DODRpZUxQV2VqR0FkZm5ybEkwNGpoT1NhUVNyT0k0WEIwR3dzdWRLcGNQdEl1RGZPL0VnK2tRdUFKQjByb1NRM0wrWHVtVEE2U0xVMk5LTUEzOHJRcHNPNE14YkkxblkzbzhKd0Uyd3RkWkpzSWg0MDB0N0FLY0ZpOGljWGlxU0FiZUw4Rmt3eWRhMHpWN0Q1eUptOTFLUkRFek1CeWRKMG0rQ25TNmlFWkVNQ2xKZEJFbC9tRmFwVkh3Wk9RQ0FPSTZQSlBrbEFJZWlYbkZrYkhkUmMwSkdGY0I3QU40UmtaZEU1SmxTcWZRNHN1Y1VuQllNWUVxV2JqMUVLc0ZLcWN3d3pac2haNHc1RjhBZERuSGF2REZJZ2lTc3RWc0IzS0sxdmdxTy9DK1NpV2RKdk4yTjNuMER5VVRCVDdEUGdnRGdtMTFjZnlxQTd4bGpicC9nOVFlSllIY1VBU0QwTk13aTJKY3UxUzZPbnVEMUI0bGdGeElmd1RFeU1uSkU1Sjg1S1BHSVIrWWM1REJZUHRnRkw4Ryttd01BV0d0LzA4NTVIcXpXV2p2M3lwVktKWjhGNS9IMEZJMGtRUG84SnBEdEhoQ0c0ZDIxV3UxWnBkUlNrdk1iZXlxbWlNaFVrcnRpeDIycUZvMTZaZ0FlMTFyL0Z1N05NU0RwKytNTjBvcTRkelp0d2hZTUFPVnkrVlVBcjA1RXF6YmcweUd2b2g1NXdLVkxvdUMyNEc0ZS9ieVF0WkZpVUt6WVpjR0pndnMxYnhBSXp0SmhVaERzOG9HRHNIS2JOUTRNQ3NFdVdBVTNrYjZkUVQxQnhpQUhESTRmOXZyZzFMUWxrcW43YzN1TXlXTEJUaGNSa1B5WGlPemJLaEdSdGUzMFBEbzZPbDlydmIrMWRyNklURzhTaGRiYWlsSnFmQjljWS8zdUxSRjV0MUdLSzhzTlpWVklIUWlDU2RJeFo1SUVqWHBpeDZVMGVqU3JZMlBNQmFWUzZlZldXdFZvczUxY1JGS1BOZHB1QmJCQ2EzMFJIT2xRSksxbnNnY1lFSUk5c0VwcmZUdUFXN0c5bWY4cURNTjJDcm1kaDRuZjVGUUFGMFJSZElYbm5JR3EremdCSkFwQW9yWCtHc2tEU0o1RmNySFcrbHkwRjZiTjYxWURFVm5tRWZla2lISlJJSm1NNXdjM3ltOTNXb0o3QTRDOXV0VERWLzltc2xpd053NmVNS3kxVjZLN2VIbVYxdm95ajN5eUVPeUM3V29qWXJsYy9sMjFXbDJrdFQ2ZDVHR28xK3laanZyOHhrelVYOE9Ic0cxSC9SWUFhd0c4U3ZMaE1Bd2ZnQ2ZmdDQxQmJxQ2hsSXE2M3VrNU5EUzBGc0R5SFBSSnc2UzJZSkxWZ1E5eitxMUFPMUJLdVF4aHNBa1drVjd0cGU0SzFscVhIeHRzZ3VHZVNoMG91Q3g0NEYyRWlFd0tnajBZYklJeFNTellCYVhVWUJNODJTMlk1T2hBRTR5Q1B5S1NJL3hSaERIbUltUE02OGFZemNhWVAwWlJOQkRKelVtU0ZGbEZPMCs0Q1U2UzVDUUFQMFg5TFd3YTZ2dmsvbHl0VnZ1KzYwZ3B0WHUvZGVnR1NxbjF5bHA3UnF0QVJHWUhRWEI5UDVScTBhUHZ0U3V6VUt2VmxwRk0vVkpOa2lSckZVblhGMUxPcXRWcW5WVDV6eDBEVW4zVmlWcXR0a3dwZFRmU294MkdZZmltRXBIL09Ob3JwZFRGQmVxWENhVlVYLy9BUGtSUmRHcURYRmZpemhvQW14WHFCZXRkT0FmQXJMeVZhd2ZWYW5VZVNWL21aYjhnY1J4ZkppSStjZ0hnVVFDUTRlSGh1VnJydFhBdi9kd2xJcytpWG94NGZBV2E1RlpzeTd4SldoWTNtMlZqeDVyTHp0WTFGUWxGWkFvQUpTTFRyYld6bEZJTFNYNE13T2VRc1FOVmF6ME54Ulh6RUFBenF0WHFsQ0FJNWxoclo1ZEtwUU5Jbm9sNi9Rd2Zha21TTEtwVUt2OFdrb2pqK0Q2U255OUkwYUp3aTliNndveHp4Qml6UkVTT2JSU1Fuby82UExWQ2ZkNTY3Ri9CeEwvV3RlTkZSUzRQZ3VBNm9QRWRqVnF0dHE5UzZnVVU4RUduSWlBaUR3UkJjQm84NjRham82TUxTcVhTdlFBTzdwMW1BTW5maDJGNE1ocFRyUXFvWjBpS3lPVzlWS1FMckF5QzRFeGtMTXFXU3FWTDBHTnlBVHdkaHVGWmFKckhIdmU3UVJBc0IvQ3pIaXZVS1Y3U1dpOURHK3VBSkh1YVcwZnlFYTMxY1dnWkU3WWIyTFRXM3lYNUV3emdVZzNKZFVtU0hJLzZTblk3dUxOSWZab1FrN3dtRE1PVGtMSmJxalZ5c0dFWVhpWWlud0h3VkUvVWF3OWJST1NFVHFxY2hHRzRHb0J2QjFPMzJBaGdCY21ER3QvVFNIVlozbzlGTlFhL3BTVDNFWkdQb0Q1ZlVVRjk1QVhKWFVTa2RXQjAxVUZycnRVNzltRlRrTnl1Wm04akZCeEwrcXVSSEZGSy9TRUlnaWU5dDV1T2tqSG15eUp5SXNsNUFIWkR2VHpaMlBhMTFuMGVvOWptZnJhZ2JwRWJSR1FqeWZVaThycTE5aFVSZVZscnZScHRKT2Y4RDdKNThMdldNOVRZQUFBQUFFbEZUa1N1UW1DQ1wiXHRcdFx0XG5cdFx0XHRjYnV0dG9uMS5hcHBlbmRDaGlsZChpbWcxKTtcblx0XHRcdC8vZGl2V3JhcHBlci5hcHBlbmRDaGlsZChjYnV0dG9uMSk7XG5cblxuICAgICAgICAgICAgY29uc29sZS5sb2coc29ja2V0LmlkKTsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiZmVhdHVyZS5jYXB0dXJlLm9mZlwiLCB7fSk7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChcImNsaWVudC50eXBlLnJlbW90ZVwiLCB7fSk7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdChcImNsaWVudC5zdWJzY3JpYmUuZGV2aWNlc1wiLCAgW3V1aWRdICk7XG4gICAgICAgIH0pO1xuICAgICAgICBzb2NrZXQub24oXCJjbHVzdGVyc1wiLCAoZGF0YTphbnkpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2x1c3RlcnNcIiwgZGF0YSk7IFxuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzb2NrZXQuaWQpOyBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBsZXQgZGl2RmxvYXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXZGbG9hdC5jbGFzc05hbWUgPSBcImRpdi1mbG9hdFwiO1xuICAgICAgICBpZiAobnVtYmVyIT11bmRlZmluZWQpXG4gICAgICAgICAgICBkaXZGbG9hdC5pbm5lckhUTUwgPSBudW1iZXI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRpdkZsb2F0LmlubmVySFRNTCA9IFwiTi9BXCI7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RmxvYXQpO1xuXG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gYCR7bnVtYmVyfSBbJHtwYXJzZWRRdWVyeS5nZXQoJ3VkaWQnKX1dYDtcbiAgICAgICAgU3RyZWFtQ2xpZW50U2NyY3B5LnN0YXJ0KHBhcnNlZFF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vL1xuLy8vLy8vLy8vLy8vLy9cblxuICAgIGNvbnN0IHRvb2xzOiBUb29sW10gPSBbXTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IFNoZWxsQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJy4vZ29vZ0RldmljZS9jbGllbnQvU2hlbGxDbGllbnQnKTtcbiAgICBpZiAoYWN0aW9uID09PSBTaGVsbENsaWVudC5BQ1RJT04gJiYgdHlwZW9mIHBhcnNlZFF1ZXJ5LmdldCgndWRpZCcpID09PSAnc3RyaW5nJykge1xuICAgICAgICBTaGVsbENsaWVudC5zdGFydChTaGVsbENsaWVudC5wYXJzZVBhcmFtZXRlcnMocGFyc2VkUXVlcnkpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b29scy5wdXNoKFNoZWxsQ2xpZW50KTtcbi8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgY29uc3QgeyBEZXZ0b29sc0NsaWVudCB9ID0gYXdhaXQgaW1wb3J0KCcuL2dvb2dEZXZpY2UvY2xpZW50L0RldnRvb2xzQ2xpZW50Jyk7XG4gICAgaWYgKGFjdGlvbiA9PT0gRGV2dG9vbHNDbGllbnQuQUNUSU9OKSB7XG4gICAgICAgIERldnRvb2xzQ2xpZW50LnN0YXJ0KERldnRvb2xzQ2xpZW50LnBhcnNlUGFyYW1ldGVycyhwYXJzZWRRdWVyeSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvb2xzLnB1c2goRGV2dG9vbHNDbGllbnQpO1xuLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IEZpbGVMaXN0aW5nQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJy4vZ29vZ0RldmljZS9jbGllbnQvRmlsZUxpc3RpbmdDbGllbnQnKTtcbiAgICBpZiAoYWN0aW9uID09PSBGaWxlTGlzdGluZ0NsaWVudC5BQ1RJT04pIHtcbiAgICAgICAgRmlsZUxpc3RpbmdDbGllbnQuc3RhcnQoRmlsZUxpc3RpbmdDbGllbnQucGFyc2VQYXJhbWV0ZXJzKHBhcnNlZFF1ZXJ5KSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9vbHMucHVzaChGaWxlTGlzdGluZ0NsaWVudCk7XG4vLy8vLy8vLy8vLy8vL1xuXG4gICAgaWYgKHRvb2xzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB7IERldmljZVRyYWNrZXIgfSA9IGF3YWl0IGltcG9ydCgnLi9nb29nRGV2aWNlL2NsaWVudC9EZXZpY2VUcmFja2VyJyk7XG4gICAgICAgIHRvb2xzLmZvckVhY2goKHRvb2wpID0+IHtcbiAgICAgICAgICAgIERldmljZVRyYWNrZXIucmVnaXN0ZXJUb29sKHRvb2wpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgSG9zdFRyYWNrZXIuc3RhcnQoKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=