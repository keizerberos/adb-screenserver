/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@dead50f7/adbkit/lib/adb/protocol.js":
/*!***********************************************************!*\
  !*** ./node_modules/@dead50f7/adbkit/lib/adb/protocol.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

var Protocol = /** @class */ (function () {
    function Protocol() {
    }
    Protocol.decodeLength = function (length) {
        return parseInt(length, 16);
    };
    Protocol.encodeLength = function (length) {
        return ('0000' + length.toString(16)).slice(-4).toUpperCase();
    };
    Protocol.encodeData = function (data) {
        if (!Buffer.isBuffer(data)) {
            data = new Buffer(data);
        }
        return Buffer.concat([new Buffer(Protocol.encodeLength(data.length)), data]);
    };
    Protocol.OKAY = 'OKAY';
    Protocol.FAIL = 'FAIL';
    Protocol.STAT = 'STAT';
    Protocol.LIST = 'LIST';
    Protocol.DENT = 'DENT';
    Protocol.RECV = 'RECV';
    Protocol.DATA = 'DATA';
    Protocol.DONE = 'DONE';
    Protocol.SEND = 'SEND';
    Protocol.QUIT = 'QUIT';
    return Protocol;
}());
module.exports = Protocol;


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/***/ ((module) => {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var R = typeof Reflect === 'object' ? Reflect : null
var ReflectApply = R && typeof R.apply === 'function'
  ? R.apply
  : function ReflectApply(target, receiver, args) {
    return Function.prototype.apply.call(target, receiver, args);
  }

var ReflectOwnKeys
if (R && typeof R.ownKeys === 'function') {
  ReflectOwnKeys = R.ownKeys
} else if (Object.getOwnPropertySymbols) {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target)
      .concat(Object.getOwnPropertySymbols(target));
  };
} else {
  ReflectOwnKeys = function ReflectOwnKeys(target) {
    return Object.getOwnPropertyNames(target);
  };
}

function ProcessEmitWarning(warning) {
  if (console && console.warn) console.warn(warning);
}

var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {
  return value !== value;
}

function EventEmitter() {
  EventEmitter.init.call(this);
}
module.exports = EventEmitter;
module.exports.once = once;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._eventsCount = 0;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

function checkListener(listener) {
  if (typeof listener !== 'function') {
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
  }
}

Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
  enumerable: true,
  get: function() {
    return defaultMaxListeners;
  },
  set: function(arg) {
    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + '.');
    }
    defaultMaxListeners = arg;
  }
});

EventEmitter.init = function() {

  if (this._events === undefined ||
      this._events === Object.getPrototypeOf(this)._events) {
    this._events = Object.create(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
};

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + '.');
  }
  this._maxListeners = n;
  return this;
};

function _getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return _getMaxListeners(this);
};

EventEmitter.prototype.emit = function emit(type) {
  var args = [];
  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);
  var doError = (type === 'error');

  var events = this._events;
  if (events !== undefined)
    doError = (doError && events.error === undefined);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    var er;
    if (args.length > 0)
      er = args[0];
    if (er instanceof Error) {
      // Note: The comments on the `throw` lines are intentional, they show
      // up in Node's output if this results in an unhandled exception.
      throw er; // Unhandled 'error' event
    }
    // At least give some kind of context to the user
    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));
    err.context = er;
    throw err; // Unhandled 'error' event
  }

  var handler = events[type];

  if (handler === undefined)
    return false;

  if (typeof handler === 'function') {
    ReflectApply(handler, this, args);
  } else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      ReflectApply(listeners[i], this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  checkListener(listener);

  events = target._events;
  if (events === undefined) {
    events = target._events = Object.create(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener !== undefined) {
      target.emit('newListener', type,
                  listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (existing === undefined) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
        prepend ? [listener, existing] : [existing, listener];
      // If we've already got an array, just append.
    } else if (prepend) {
      existing.unshift(listener);
    } else {
      existing.push(listener);
    }

    // Check for listener leak
    m = _getMaxListeners(target);
    if (m > 0 && existing.length > m && !existing.warned) {
      existing.warned = true;
      // No error code for this since it is a Warning
      // eslint-disable-next-line no-restricted-syntax
      var w = new Error('Possible EventEmitter memory leak detected. ' +
                          existing.length + ' ' + String(type) + ' listeners ' +
                          'added. Use emitter.setMaxListeners() to ' +
                          'increase limit');
      w.name = 'MaxListenersExceededWarning';
      w.emitter = target;
      w.type = type;
      w.count = existing.length;
      ProcessEmitWarning(w);
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    if (arguments.length === 0)
      return this.listener.call(this.target);
    return this.listener.apply(this.target, arguments);
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = onceWrapper.bind(state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  checkListener(listener);
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      checkListener(listener);

      events = this._events;
      if (events === undefined)
        return this;

      list = events[type];
      if (list === undefined)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener !== undefined)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.off = EventEmitter.prototype.removeListener;

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (events === undefined)
        return this;

      // not listening for removeListener, no need to emit
      if (events.removeListener === undefined) {
        if (arguments.length === 0) {
          this._events = Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== undefined) {
          if (--this._eventsCount === 0)
            this._events = Object.create(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = Object.create(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners !== undefined) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (events === undefined)
    return [];

  var evlistener = events[type];
  if (evlistener === undefined)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ?
    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events !== undefined) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener !== undefined) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
};

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function spliceOne(list, index) {
  for (; index + 1 < list.length; index++)
    list[index] = list[index + 1];
  list.pop();
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function once(emitter, name) {
  return new Promise(function (resolve, reject) {
    function errorListener(err) {
      emitter.removeListener(name, resolver);
      reject(err);
    }

    function resolver() {
      if (typeof emitter.removeListener === 'function') {
        emitter.removeListener('error', errorListener);
      }
      resolve([].slice.call(arguments));
    };

    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
    if (name !== 'error') {
      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
    }
  });
}

function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
  if (typeof emitter.on === 'function') {
    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);
  }
}

function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
  if (typeof emitter.on === 'function') {
    if (flags.once) {
      emitter.once(name, listener);
    } else {
      emitter.on(name, listener);
    }
  } else if (typeof emitter.addEventListener === 'function') {
    // EventTarget does not have `error` event semantics like Node
    // EventEmitters, we do not listen for `error` events here.
    emitter.addEventListener(name, function wrapListener(arg) {
      // IE does not have builtin `{ once: true }` support so we
      // have to do it manually.
      if (flags.once) {
        emitter.removeEventListener(name, wrapListener);
      }
      listener(arg);
    });
  } else {
    throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
  }
}


/***/ }),

/***/ "./src/public/images/multitouch/center_point.png":
/*!*******************************************************!*\
  !*** ./src/public/images/multitouch/center_point.png ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "1279f368b5bb729ca7b35990042f9928.png");

/***/ }),

/***/ "./src/public/images/multitouch/touch_point.png":
/*!******************************************************!*\
  !*** ./src/public/images/multitouch/touch_point.png ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "0adc36cf9cddfe4b6056c3ca47abaca0.png");

/***/ }),

/***/ "./vendor/Broadway/avc.wasm.asset":
/*!****************************************!*\
  !*** ./vendor/Broadway/avc.wasm.asset ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "avc.wasm");

/***/ }),

/***/ "./node_modules/h264-converter/dist/h264-parser.js":
/*!*********************************************************!*\
  !*** ./node_modules/h264-converter/dist/h264-parser.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var bit_stream_1 = __webpack_require__(/*! ./util/bit-stream */ "./node_modules/h264-converter/dist/util/bit-stream.js");
var debug = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
var NALU_1 = __webpack_require__(/*! ./util/NALU */ "./node_modules/h264-converter/dist/util/NALU.js");
var H264Parser = (function () {
    function H264Parser(remuxer) {
        this.remuxer = remuxer;
        this.track = remuxer.mp4track;
    }
    H264Parser.prototype.parseSEI = function (sei) {
        var messages = H264Parser.readSEI(sei);
        for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {
            var m = messages_1[_i];
            switch (m.type) {
                case 0:
                    this.track.seiBuffering = true;
                    break;
                case 5:
                    return true;
                default:
                    break;
            }
        }
        return false;
    };
    H264Parser.prototype.parseSPS = function (sps) {
        var config = H264Parser.readSPS(sps);
        this.track.width = config.width;
        this.track.height = config.height;
        this.track.sps = [sps];
        this.track.codec = 'avc1.';
        var codecArray = new DataView(sps.buffer, sps.byteOffset + 1, 4);
        for (var i = 0; i < 3; ++i) {
            var h = codecArray.getUint8(i).toString(16);
            if (h.length < 2) {
                h = '0' + h;
            }
            this.track.codec += h;
        }
    };
    H264Parser.prototype.parsePPS = function (pps) {
        this.track.pps = [pps];
    };
    H264Parser.prototype.parseNAL = function (unit) {
        if (!unit) {
            return false;
        }
        var push = false;
        switch (unit.type()) {
            case NALU_1.default.NDR:
            case NALU_1.default.IDR:
                push = true;
                break;
            case NALU_1.default.SEI:
                push = this.parseSEI(unit.getData().subarray(4));
                break;
            case NALU_1.default.SPS:
                this.parseSPS(unit.getData().subarray(4));
                debug.log(" Found SPS type NALU frame.");
                if (!this.remuxer.readyToDecode && this.track.pps.length > 0 && this.track.sps.length > 0) {
                    this.remuxer.readyToDecode = true;
                }
                break;
            case NALU_1.default.PPS:
                this.parsePPS(unit.getData().subarray(4));
                debug.log(" Found PPS type NALU frame.");
                if (!this.remuxer.readyToDecode && this.track.pps.length > 0 && this.track.sps.length > 0) {
                    this.remuxer.readyToDecode = true;
                }
                break;
            default:
                debug.log(" Found Unknown type NALU frame. type=" + unit.type());
                break;
        }
        return push;
    };
    H264Parser.skipScalingList = function (decoder, count) {
        var lastScale = 8;
        var nextScale = 8;
        for (var j = 0; j < count; j++) {
            if (nextScale !== 0) {
                var deltaScale = decoder.readEG();
                nextScale = (lastScale + deltaScale + 256) % 256;
            }
            lastScale = (nextScale === 0) ? lastScale : nextScale;
        }
    };
    H264Parser.readSPS = function (data) {
        var _a = this.parseSPS(data), pic_width_in_mbs_minus1 = _a.pic_width_in_mbs_minus1, frame_crop_left_offset = _a.frame_crop_left_offset, frame_crop_right_offset = _a.frame_crop_right_offset, frame_mbs_only_flag = _a.frame_mbs_only_flag, pic_height_in_map_units_minus1 = _a.pic_height_in_map_units_minus1, frame_crop_top_offset = _a.frame_crop_top_offset, frame_crop_bottom_offset = _a.frame_crop_bottom_offset, sar = _a.sar;
        var sarScale = sar[0] / sar[1];
        return {
            width: Math.ceil((((pic_width_in_mbs_minus1 + 1) * 16) - frame_crop_left_offset * 2 - frame_crop_right_offset * 2) * sarScale),
            height: ((2 - frame_mbs_only_flag) * (pic_height_in_map_units_minus1 + 1) * 16) -
                ((frame_mbs_only_flag ? 2 : 4) * (frame_crop_top_offset + frame_crop_bottom_offset)),
        };
    };
    H264Parser.parseSPS = function (data) {
        var decoder = new bit_stream_1.default(data);
        var frame_crop_left_offset = 0;
        var frame_crop_right_offset = 0;
        var frame_crop_top_offset = 0;
        var frame_crop_bottom_offset = 0;
        decoder.readUByte();
        var profile_idc = decoder.readUByte();
        var constraint_set_flags = decoder.readUByte();
        var level_idc = decoder.readBits(8);
        var seq_parameter_set_id = decoder.readUEG();
        if (profile_idc === 100 ||
            profile_idc === 110 ||
            profile_idc === 122 ||
            profile_idc === 244 ||
            profile_idc === 44 ||
            profile_idc === 83 ||
            profile_idc === 86 ||
            profile_idc === 118 ||
            profile_idc === 128 ||
            profile_idc === 138 ||
            profile_idc === 139 ||
            profile_idc === 134) {
            var chromaFormatIdc = decoder.readUEG();
            if (chromaFormatIdc === 3) {
                decoder.skipBits(1);
            }
            decoder.skipUEG();
            decoder.skipUEG();
            decoder.skipBits(1);
            if (decoder.readBoolean()) {
                var scalingListCount = (chromaFormatIdc !== 3) ? 8 : 12;
                for (var i = 0; i < scalingListCount; ++i) {
                    if (decoder.readBoolean()) {
                        if (i < 6) {
                            H264Parser.skipScalingList(decoder, 16);
                        }
                        else {
                            H264Parser.skipScalingList(decoder, 64);
                        }
                    }
                }
            }
        }
        decoder.skipUEG();
        var picOrderCntType = decoder.readUEG();
        if (picOrderCntType === 0) {
            decoder.readUEG();
        }
        else if (picOrderCntType === 1) {
            decoder.skipBits(1);
            decoder.skipEG();
            decoder.skipEG();
            var numRefFramesInPicOrderCntCycle = decoder.readUEG();
            for (var i = 0; i < numRefFramesInPicOrderCntCycle; ++i) {
                decoder.skipEG();
            }
        }
        decoder.skipUEG();
        decoder.skipBits(1);
        var pic_width_in_mbs_minus1 = decoder.readUEG();
        var pic_height_in_map_units_minus1 = decoder.readUEG();
        var frame_mbs_only_flag = decoder.readBits(1);
        if (frame_mbs_only_flag === 0) {
            decoder.skipBits(1);
        }
        decoder.skipBits(1);
        if (decoder.readBoolean()) {
            frame_crop_left_offset = decoder.readUEG();
            frame_crop_right_offset = decoder.readUEG();
            frame_crop_top_offset = decoder.readUEG();
            frame_crop_bottom_offset = decoder.readUEG();
        }
        var vui_parameters_present_flag = decoder.readBoolean();
        var aspect_ratio_info_present_flag = false;
        var sar = [1, 1];
        if (vui_parameters_present_flag) {
            aspect_ratio_info_present_flag = decoder.readBoolean();
            if (aspect_ratio_info_present_flag) {
                var aspectRatioIdc = decoder.readUByte();
                switch (aspectRatioIdc) {
                    case 1:
                        sar = [1, 1];
                        break;
                    case 2:
                        sar = [12, 11];
                        break;
                    case 3:
                        sar = [10, 11];
                        break;
                    case 4:
                        sar = [16, 11];
                        break;
                    case 5:
                        sar = [40, 33];
                        break;
                    case 6:
                        sar = [24, 11];
                        break;
                    case 7:
                        sar = [20, 11];
                        break;
                    case 8:
                        sar = [32, 11];
                        break;
                    case 9:
                        sar = [80, 33];
                        break;
                    case 10:
                        sar = [18, 11];
                        break;
                    case 11:
                        sar = [15, 11];
                        break;
                    case 12:
                        sar = [64, 33];
                        break;
                    case 13:
                        sar = [160, 99];
                        break;
                    case 14:
                        sar = [4, 3];
                        break;
                    case 15:
                        sar = [3, 2];
                        break;
                    case 16:
                        sar = [2, 1];
                        break;
                    case 255: {
                        sar = [decoder.readUByte() << 8 | decoder.readUByte(), decoder.readUByte() << 8 | decoder.readUByte()];
                        break;
                    }
                    default: {
                        debug.error("  H264: Unknown aspectRatioIdc=" + aspectRatioIdc);
                    }
                }
            }
            if (decoder.readBoolean()) {
                decoder.skipBits(1);
            }
            if (decoder.readBoolean()) {
                decoder.skipBits(4);
                if (decoder.readBoolean()) {
                    decoder.skipBits(24);
                }
            }
            if (decoder.readBoolean()) {
                decoder.skipUEG();
                decoder.skipUEG();
            }
            if (decoder.readBoolean()) {
                if (decoder.bitsAvailable > 64) {
                    var unitsInTick = decoder.readUInt();
                    var timeScale = decoder.readUInt();
                    var fixedFrameRate = decoder.readBoolean();
                    var frameDuration = timeScale / (2 * unitsInTick);
                    debug.log("timescale: " + timeScale + "; unitsInTick: " + unitsInTick + "; " +
                        ("fixedFramerate: " + fixedFrameRate + "; avgFrameDuration: " + frameDuration));
                }
                else {
                    debug.log("Truncated VUI (" + decoder.bitsAvailable + ")");
                }
            }
        }
        return {
            profile_idc: profile_idc,
            constraint_set_flags: constraint_set_flags,
            level_idc: level_idc,
            seq_parameter_set_id: seq_parameter_set_id,
            pic_width_in_mbs_minus1: pic_width_in_mbs_minus1,
            pic_height_in_map_units_minus1: pic_height_in_map_units_minus1,
            frame_mbs_only_flag: frame_mbs_only_flag,
            frame_crop_left_offset: frame_crop_left_offset,
            frame_crop_right_offset: frame_crop_right_offset,
            frame_crop_top_offset: frame_crop_top_offset,
            frame_crop_bottom_offset: frame_crop_bottom_offset,
            sar: sar,
        };
    };
    H264Parser.readSEI = function (data) {
        var decoder = new bit_stream_1.default(data);
        decoder.skipBits(8);
        var result = [];
        while (decoder.bitsAvailable > 3 * 8) {
            result.push(this.readSEIMessage(decoder));
        }
        return result;
    };
    H264Parser.readSEIMessage = function (decoder) {
        function get() {
            var result = 0;
            while (true) {
                var value = decoder.readUByte();
                result += value;
                if (value !== 0xff) {
                    break;
                }
            }
            return result;
        }
        var payloadType = get();
        var payloadSize = get();
        return this.readSEIPayload(decoder, payloadType, payloadSize);
    };
    H264Parser.readSEIPayload = function (decoder, type, size) {
        var result;
        switch (type) {
            default:
                result = { type: type };
                decoder.skipBits(size * 8);
        }
        decoder.skipBits(decoder.bitsAvailable % 8);
        return result;
    };
    return H264Parser;
}());
exports["default"] = H264Parser;


/***/ }),

/***/ "./node_modules/h264-converter/dist/h264-remuxer.js":
/*!**********************************************************!*\
  !*** ./node_modules/h264-converter/dist/h264-remuxer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var h264_parser_1 = __webpack_require__(/*! ./h264-parser */ "./node_modules/h264-converter/dist/h264-parser.js");
var debug = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
var NALU_1 = __webpack_require__(/*! ./util/NALU */ "./node_modules/h264-converter/dist/util/NALU.js");
var trackId = 1;
var H264Remuxer = (function () {
    function H264Remuxer(fps, framePerFragment, timescale) {
        this.fps = fps;
        this.framePerFragment = framePerFragment;
        this.timescale = timescale;
        this.readyToDecode = false;
        this.totalDTS = 0;
        this.stepDTS = Math.round(this.timescale / this.fps);
        this.frameCount = 0;
        this.seq = 1;
        this.mp4track = {
            id: H264Remuxer.getTrackID(),
            type: 'video',
            len: 0,
            codec: '',
            sps: [],
            pps: [],
            seiBuffering: false,
            width: 0,
            height: 0,
            timescale: timescale,
            duration: timescale,
            samples: [],
            isKeyFrame: true,
        };
        this.unitSamples = [[]];
        this.parser = new h264_parser_1.default(this);
    }
    H264Remuxer.getTrackID = function () {
        return trackId++;
    };
    Object.defineProperty(H264Remuxer.prototype, "seqNum", {
        get: function () {
            return this.seq;
        },
        enumerable: true,
        configurable: true
    });
    H264Remuxer.prototype.remux = function (nalu) {
        if (this.mp4track.seiBuffering && nalu.type() === NALU_1.default.SEI) {
            return this.createNextFrame();
        }
        if (this.parser.parseNAL(nalu)) {
            this.unitSamples[this.unitSamples.length - 1].push(nalu);
            this.mp4track.len += nalu.getSize();
            this.mp4track.isKeyFrame = nalu.isKeyframe();
        }
        if (!this.mp4track.seiBuffering && (nalu.type() === NALU_1.default.IDR || nalu.type() === NALU_1.default.NDR)) {
            return this.createNextFrame();
        }
        return;
    };
    H264Remuxer.prototype.createNextFrame = function () {
        if (this.mp4track.len > 0) {
            this.frameCount++;
            if (this.frameCount % this.framePerFragment === 0) {
                var fragment = this.getFragment();
                if (fragment) {
                    var dts = this.totalDTS;
                    this.totalDTS = this.stepDTS * this.frameCount;
                    return [dts, fragment];
                }
                else {
                    debug.log("No mp4 sample data.");
                }
            }
            this.unitSamples.push([]);
        }
        return;
    };
    H264Remuxer.prototype.flush = function () {
        this.seq++;
        this.mp4track.len = 0;
        this.mp4track.samples = [];
        this.mp4track.isKeyFrame = false;
        this.unitSamples = [[]];
    };
    H264Remuxer.prototype.getFragment = function () {
        if (!this.checkReadyToDecode()) {
            return undefined;
        }
        var payload = new Uint8Array(this.mp4track.len);
        this.mp4track.samples = [];
        var offset = 0;
        for (var i = 0, len = this.unitSamples.length; i < len; i++) {
            var units = this.unitSamples[i];
            if (units.length === 0) {
                continue;
            }
            var mp4Sample = {
                size: 0,
                cts: this.stepDTS * i,
            };
            for (var _i = 0, units_1 = units; _i < units_1.length; _i++) {
                var unit = units_1[_i];
                mp4Sample.size += unit.getSize();
                payload.set(unit.getData(), offset);
                offset += unit.getSize();
            }
            this.mp4track.samples.push(mp4Sample);
        }
        if (offset === 0) {
            return undefined;
        }
        return payload;
    };
    H264Remuxer.prototype.checkReadyToDecode = function () {
        if (!this.readyToDecode || this.unitSamples.filter(function (array) { return array.length > 0; }).length === 0) {
            debug.log("Not ready to decode! readyToDecode(" + this.readyToDecode + ") is false or units is empty.");
            return false;
        }
        return true;
    };
    return H264Remuxer;
}());
exports["default"] = H264Remuxer;


/***/ }),

/***/ "./node_modules/h264-converter/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/h264-converter/dist/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var h264_remuxer_1 = __webpack_require__(/*! ./h264-remuxer */ "./node_modules/h264-converter/dist/h264-remuxer.js");
var mp4_generator_1 = __webpack_require__(/*! ./mp4-generator */ "./node_modules/h264-converter/dist/mp4-generator.js");
var debug = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
var nalu_stream_buffer_1 = __webpack_require__(/*! ./util/nalu-stream-buffer */ "./node_modules/h264-converter/dist/util/nalu-stream-buffer.js");
exports.mimeType = 'video/mp4; codecs="avc1.42E01E"';
var debug_1 = __webpack_require__(/*! ./util/debug */ "./node_modules/h264-converter/dist/util/debug.js");
exports.setLogger = debug_1.setLogger;
var VideoConverter = (function () {
    function VideoConverter(element, fps, fpf) {
        if (fps === void 0) { fps = 60; }
        if (fpf === void 0) { fpf = fps; }
        this.element = element;
        this.fps = fps;
        this.fpf = fpf;
        this.receiveBuffer = new nalu_stream_buffer_1.default();
        this.queue = [];
        if (!MediaSource || !MediaSource.isTypeSupported(exports.mimeType)) {
            throw new Error("Your browser is not supported: " + exports.mimeType);
        }
        this.reset();
    }
    Object.defineProperty(VideoConverter, "errorNotes", {
        get: function () {
            var _a;
            return _a = {},
                _a[MediaError.MEDIA_ERR_ABORTED] = 'fetching process aborted by user',
                _a[MediaError.MEDIA_ERR_NETWORK] = 'error occurred when downloading',
                _a[MediaError.MEDIA_ERR_DECODE] = 'error occurred when decoding',
                _a[MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED] = 'audio/video not supported',
                _a;
        },
        enumerable: true,
        configurable: true
    });
    VideoConverter.prototype.setup = function () {
        var _this = this;
        this.mediaReadyPromise = new Promise(function (resolve, _reject) {
            _this.mediaSource.addEventListener('sourceopen', function () {
                debug.log("Media Source opened.");
                _this.sourceBuffer = _this.mediaSource.addSourceBuffer(exports.mimeType);
                _this.sourceBuffer.addEventListener('updateend', function () {
                    debug.log("  SourceBuffer updateend");
                    debug.log("    sourceBuffer.buffered.length=" + _this.sourceBuffer.buffered.length);
                    for (var i = 0, len = _this.sourceBuffer.buffered.length; i < len; i++) {
                        debug.log("    sourceBuffer.buffered [" + i + "]: " +
                            (_this.sourceBuffer.buffered.start(i) + ", " + _this.sourceBuffer.buffered.end(i)));
                    }
                    debug.log("  mediasource.duration=" + _this.mediaSource.duration);
                    debug.log("  mediasource.readyState=" + _this.mediaSource.readyState);
                    debug.log("  video.duration=" + _this.element.duration);
                    debug.log("    video.buffered.length=" + _this.element.buffered.length);
                    if (debug.isEnable()) {
                        for (var i = 0, len = _this.element.buffered.length; i < len; i++) {
                            debug.log("    video.buffered [" + i + "]: " + _this.element.buffered.start(i) + ", " + _this.element.buffered.end(i));
                        }
                    }
                    debug.log("  video.currentTime=" + _this.element.currentTime);
                    debug.log("  video.readyState=" + _this.element.readyState);
                    if (_this.sourceBuffer.updating) {
                        return;
                    }
                    var data = _this.queue.shift();
                    if (data) {
                        _this.doAppend(data);
                    }
                });
                _this.sourceBuffer.addEventListener('error', function () {
                    debug.error('  SourceBuffer errored!');
                });
                _this.mediaReady = true;
                resolve();
            }, false);
            _this.mediaSource.addEventListener('sourceclose', function () {
                debug.log("Media Source closed.");
                _this.mediaReady = false;
            }, false);
            _this.element.src = URL.createObjectURL(_this.mediaSource);
        });
        return this.mediaReadyPromise;
    };
    VideoConverter.prototype.play = function () {
        var _this = this;
        if (!this.element.paused) {
            return;
        }
        if (this.mediaReady && this.element.readyState >= 2) {
            this.element.play();
        }
        else {
            var handler_1 = function () {
                _this.play();
                _this.element.removeEventListener('canplaythrough', handler_1);
            };
            this.element.addEventListener('canplaythrough', handler_1);
        }
    };
    VideoConverter.prototype.pause = function () {
        if (this.element.paused) {
            return;
        }
        this.element.pause();
    };
    VideoConverter.prototype.reset = function () {
        this.receiveBuffer.clear();
        if (this.mediaSource && this.mediaSource.readyState === 'open') {
            if (this.sourceBuffer.updating) {
                var mediaSource_1 = this.mediaSource;
                this.sourceBuffer.addEventListener('updateend', function () {
                    mediaSource_1.endOfStream();
                });
            }
        }
        this.mediaSource = new MediaSource();
        this.remuxer = new h264_remuxer_1.default(this.fps, this.fpf, this.fps * 60);
        this.mediaReady = false;
        this.mediaReadyPromise = undefined;
        this.queue = [];
        this.setup();
    };
    VideoConverter.prototype.appendRawData = function (data) {
        var nalus = this.receiveBuffer.append(data);
        for (var _i = 0, nalus_1 = nalus; _i < nalus_1.length; _i++) {
            var nalu = nalus_1[_i];
            var ret = this.remuxer.remux(nalu);
            if (ret) {
                this.writeFragment(ret[0], ret[1]);
            }
        }
    };
    VideoConverter.prototype.writeFragment = function (dts, pay) {
        var remuxer = this.remuxer;
        if (remuxer.mp4track.isKeyFrame) {
            this.writeBuffer(mp4_generator_1.default.initSegment([remuxer.mp4track], Infinity, remuxer.timescale));
        }
        if (pay && pay.byteLength) {
            debug.log(" Put fragment: " + remuxer.seqNum + ", frames=" + remuxer.mp4track.samples.length + ", size=" + pay.byteLength);
            var fragment = mp4_generator_1.default.fragmentSegment(remuxer.seqNum, dts, remuxer.mp4track, pay);
            this.writeBuffer(fragment);
            remuxer.flush();
        }
        else {
            debug.error("Nothing payload!");
        }
    };
    VideoConverter.prototype.writeBuffer = function (data) {
        var _this = this;
        if (this.mediaReady) {
            if (this.sourceBuffer.updating || this.queue.length) {
                this.queue.push(data);
            }
            else {
                this.doAppend(data);
            }
        }
        else {
            this.queue.push(data);
            if (this.mediaReadyPromise) {
                this.mediaReadyPromise.then(function () {
                    if (!_this.sourceBuffer.updating) {
                        var d = _this.queue.shift();
                        if (d) {
                            _this.doAppend(d);
                        }
                    }
                });
                this.mediaReadyPromise = undefined;
            }
        }
    };
    VideoConverter.prototype.doAppend = function (data) {
        var error = this.element.error;
        if (error) {
            debug.error("MSE Error Occured: " + VideoConverter.errorNotes[error.code]);
            this.element.pause();
            if (this.mediaSource.readyState === 'open') {
                this.mediaSource.endOfStream();
            }
        }
        else {
            try {
                this.sourceBuffer.appendBuffer(data);
                debug.log("  appended buffer: size=" + data.byteLength);
            }
            catch (err) {
                debug.error("MSE Error occured while appending buffer. " + err.name + ": " + err.message);
            }
        }
    };
    return VideoConverter;
}());
exports["default"] = VideoConverter;


/***/ }),

/***/ "./node_modules/h264-converter/dist/mp4-generator.js":
/*!***********************************************************!*\
  !*** ./node_modules/h264-converter/dist/mp4-generator.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var MP4 = (function () {
    function MP4() {
    }
    MP4.init = function () {
        MP4.initalized = true;
        MP4.types = {
            avc1: [],
            avcC: [],
            btrt: [],
            dinf: [],
            dref: [],
            esds: [],
            ftyp: [],
            hdlr: [],
            mdat: [],
            mdhd: [],
            mdia: [],
            mfhd: [],
            minf: [],
            moof: [],
            moov: [],
            mp4a: [],
            mvex: [],
            mvhd: [],
            sdtp: [],
            stbl: [],
            stco: [],
            stsc: [],
            stsd: [],
            stsz: [],
            stts: [],
            styp: [],
            tfdt: [],
            tfhd: [],
            traf: [],
            trak: [],
            trun: [],
            trep: [],
            trex: [],
            tkhd: [],
            vmhd: [],
            smhd: [],
        };
        for (var type in MP4.types) {
            if (MP4.types.hasOwnProperty(type)) {
                MP4.types[type] = [
                    type.charCodeAt(0),
                    type.charCodeAt(1),
                    type.charCodeAt(2),
                    type.charCodeAt(3),
                ];
            }
        }
        var hdlr = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x76, 0x69, 0x64, 0x65,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x56, 0x69, 0x64, 0x65,
            0x6f, 0x48, 0x61, 0x6e,
            0x64, 0x6c, 0x65, 0x72, 0x00,
        ]);
        var dref = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x0c,
            0x75, 0x72, 0x6c, 0x20,
            0x00,
            0x00, 0x00, 0x01,
        ]);
        var stco = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
        ]);
        MP4.STTS = MP4.STSC = MP4.STCO = stco;
        MP4.STSZ = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
        ]);
        MP4.VMHD = new Uint8Array([
            0x00,
            0x00, 0x00, 0x01,
            0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
        ]);
        MP4.SMHD = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
        ]);
        MP4.STSD = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01
        ]);
        MP4.FTYP = MP4.box(MP4.types.ftyp, new Uint8Array([
            0x69, 0x73, 0x6f, 0x35,
            0x00, 0x00, 0x00, 0x01,
            0x61, 0x76, 0x63, 0x31,
            0x69, 0x73, 0x6f, 0x35,
            0x64, 0x61, 0x73, 0x68,
        ]));
        MP4.STYP = MP4.box(MP4.types.styp, new Uint8Array([
            0x6d, 0x73, 0x64, 0x68,
            0x00, 0x00, 0x00, 0x00,
            0x6d, 0x73, 0x64, 0x68,
            0x6d, 0x73, 0x69, 0x78,
        ]));
        MP4.DINF = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, dref));
        MP4.HDLR = MP4.box(MP4.types.hdlr, hdlr);
    };
    MP4.box = function (type) {
        var payload = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            payload[_i - 1] = arguments[_i];
        }
        var size = 8;
        for (var _a = 0, payload_1 = payload; _a < payload_1.length; _a++) {
            var p = payload_1[_a];
            size += p.byteLength;
        }
        var result = new Uint8Array(size);
        result[0] = (size >> 24) & 0xff;
        result[1] = (size >> 16) & 0xff;
        result[2] = (size >> 8) & 0xff;
        result[3] = size & 0xff;
        result.set(type, 4);
        size = 8;
        for (var _b = 0, payload_2 = payload; _b < payload_2.length; _b++) {
            var box = payload_2[_b];
            result.set(box, size);
            size += box.byteLength;
        }
        return result;
    };
    MP4.mdat = function (data) {
        return MP4.box(MP4.types.mdat, data);
    };
    MP4.mdhd = function (timescale) {
        return MP4.box(MP4.types.mdhd, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x02,
            (timescale >> 24) & 0xFF,
            (timescale >> 16) & 0xFF,
            (timescale >> 8) & 0xFF,
            timescale & 0xFF,
            0x00, 0x00, 0x00, 0x00,
            0x55, 0xc4,
            0x00, 0x00,
        ]));
    };
    MP4.mdia = function (track) {
        return MP4.box(MP4.types.mdia, MP4.mdhd(track.timescale), MP4.HDLR, MP4.minf(track));
    };
    MP4.mfhd = function (sequenceNumber) {
        return MP4.box(MP4.types.mfhd, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            (sequenceNumber >> 24),
            (sequenceNumber >> 16) & 0xFF,
            (sequenceNumber >> 8) & 0xFF,
            sequenceNumber & 0xFF,
        ]));
    };
    MP4.minf = function (track) {
        return MP4.box(MP4.types.minf, MP4.box(MP4.types.vmhd, MP4.VMHD), MP4.DINF, MP4.stbl(track));
    };
    MP4.moof = function (sn, baseMediaDecodeTime, track) {
        return MP4.box(MP4.types.moof, MP4.mfhd(sn), MP4.traf(track, baseMediaDecodeTime));
    };
    MP4.moov = function (tracks, duration, timescale) {
        var boxes = [];
        for (var _i = 0, tracks_1 = tracks; _i < tracks_1.length; _i++) {
            var track = tracks_1[_i];
            boxes.push(MP4.trak(track));
        }
        return MP4.box.apply(MP4, [MP4.types.moov, MP4.mvhd(timescale, duration), MP4.mvex(tracks)].concat(boxes));
    };
    MP4.mvhd = function (timescale, duration) {
        var bytes = new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x02,
            (timescale >> 24) & 0xFF,
            (timescale >> 16) & 0xFF,
            (timescale >> 8) & 0xFF,
            timescale & 0xFF,
            (duration >> 24) & 0xFF,
            (duration >> 16) & 0xFF,
            (duration >> 8) & 0xFF,
            duration & 0xFF,
            0x00, 0x01, 0x00, 0x00,
            0x01, 0x00,
            0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x40, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x02,
        ]);
        return MP4.box(MP4.types.mvhd, bytes);
    };
    MP4.mvex = function (tracks) {
        var boxes = [];
        for (var _i = 0, tracks_2 = tracks; _i < tracks_2.length; _i++) {
            var track = tracks_2[_i];
            boxes.push(MP4.trex(track));
        }
        return MP4.box.apply(MP4, [MP4.types.mvex].concat(boxes, [MP4.trep()]));
    };
    MP4.trep = function () {
        return MP4.box(MP4.types.trep, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x01,
        ]));
    };
    MP4.stbl = function (track) {
        return MP4.box(MP4.types.stbl, MP4.stsd(track), MP4.box(MP4.types.stts, MP4.STTS), MP4.box(MP4.types.stsc, MP4.STSC), MP4.box(MP4.types.stsz, MP4.STSZ), MP4.box(MP4.types.stco, MP4.STCO));
    };
    MP4.avc1 = function (track) {
        var sps = [];
        var pps = [];
        for (var _i = 0, _a = track.sps; _i < _a.length; _i++) {
            var data = _a[_i];
            var len = data.byteLength;
            sps.push((len >>> 8) & 0xFF);
            sps.push((len & 0xFF));
            sps = sps.concat(Array.prototype.slice.call(data));
        }
        for (var _b = 0, _c = track.pps; _b < _c.length; _b++) {
            var data = _c[_b];
            var len = data.byteLength;
            pps.push((len >>> 8) & 0xFF);
            pps.push((len & 0xFF));
            pps = pps.concat(Array.prototype.slice.call(data));
        }
        var avcc = MP4.box(MP4.types.avcC, new Uint8Array([
            0x01,
            sps[3],
            sps[4],
            sps[5],
            0xfc | 3,
            0xE0 | track.sps.length,
        ].concat(sps).concat([
            track.pps.length,
        ]).concat(pps)));
        var width = track.width;
        var height = track.height;
        return MP4.box(MP4.types.avc1, new Uint8Array([
            0x00, 0x00, 0x00,
            0x00, 0x00, 0x00,
            0x00, 0x01,
            0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            (width >> 8) & 0xFF,
            width & 0xff,
            (height >> 8) & 0xFF,
            height & 0xff,
            0x00, 0x48, 0x00, 0x00,
            0x00, 0x48, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01,
            0x12,
            0x62, 0x69, 0x6E, 0x65,
            0x6C, 0x70, 0x72, 0x6F,
            0x2E, 0x72, 0x75, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00,
            0x00, 0x18,
            0x11, 0x11
        ]), avcc, MP4.box(MP4.types.btrt, new Uint8Array([
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x2d, 0xc6, 0xc0,
            0x00, 0x2d, 0xc6, 0xc0,
        ])));
    };
    MP4.stsd = function (track) {
        return MP4.box(MP4.types.stsd, MP4.STSD, MP4.avc1(track));
    };
    MP4.tkhd = function (track) {
        var id = track.id;
        var width = track.width;
        var height = track.height;
        return MP4.box(MP4.types.tkhd, new Uint8Array([
            0x00,
            0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x02,
            (id >> 24) & 0xFF,
            (id >> 16) & 0xFF,
            (id >> 8) & 0xFF,
            id & 0xFF,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00,
            0x00, 0x00,
            (track.type === 'audio' ? 0x01 : 0x00), 0x00,
            0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x00, 0x00,
            0x40, 0x00, 0x00, 0x00,
            (width >> 8) & 0xFF,
            width & 0xFF,
            0x00, 0x00,
            (height >> 8) & 0xFF,
            height & 0xFF,
            0x00, 0x00,
        ]));
    };
    MP4.traf = function (track, baseMediaDecodeTime) {
        var id = track.id;
        return MP4.box(MP4.types.traf, MP4.box(MP4.types.tfhd, new Uint8Array([
            0x00,
            0x02, 0x00, 0x00,
            (id >> 24),
            (id >> 16) & 0XFF,
            (id >> 8) & 0XFF,
            (id & 0xFF),
        ])), MP4.box(MP4.types.tfdt, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            (baseMediaDecodeTime >> 24),
            (baseMediaDecodeTime >> 16) & 0XFF,
            (baseMediaDecodeTime >> 8) & 0XFF,
            (baseMediaDecodeTime & 0xFF),
        ])), MP4.trun(track, 16 +
            16 +
            8 +
            16 +
            8 +
            8));
    };
    MP4.trak = function (track) {
        track.duration = track.duration || 0xffffffff;
        return MP4.box(MP4.types.trak, MP4.tkhd(track), MP4.mdia(track));
    };
    MP4.trex = function (track) {
        var id = track.id;
        return MP4.box(MP4.types.trex, new Uint8Array([
            0x00,
            0x00, 0x00, 0x00,
            (id >> 24),
            (id >> 16) & 0XFF,
            (id >> 8) & 0XFF,
            (id & 0xFF),
            0x00, 0x00, 0x00, 0x01,
            0x00, 0x00, 0x00, 0x3c,
            0x00, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x00, 0x00,
        ]));
    };
    MP4.trun = function (track, offset) {
        var samples = track.samples || [];
        var len = samples.length;
        var additionalLen = track.isKeyFrame ? 4 : 0;
        var arraylen = 12 + additionalLen + (4 * len);
        var array = new Uint8Array(arraylen);
        offset += 8 + arraylen;
        array.set([
            0x00,
            0x00, 0x02, (track.isKeyFrame ? 0x05 : 0x01),
            (len >>> 24) & 0xFF,
            (len >>> 16) & 0xFF,
            (len >>> 8) & 0xFF,
            len & 0xFF,
            (offset >>> 24) & 0xFF,
            (offset >>> 16) & 0xFF,
            (offset >>> 8) & 0xFF,
            offset & 0xFF,
        ], 0);
        if (track.isKeyFrame) {
            array.set([
                0x00, 0x00, 0x00, 0x00,
            ], 12);
        }
        for (var i = 0; i < len; i++) {
            var sample = samples[i];
            var size = sample.size;
            array.set([
                (size >>> 24) & 0xFF,
                (size >>> 16) & 0xFF,
                (size >>> 8) & 0xFF,
                size & 0xFF,
            ], 12 + additionalLen + 4 * i);
        }
        return MP4.box(MP4.types.trun, array);
    };
    MP4.initSegment = function (tracks, duration, timescale) {
        if (!MP4.initalized) {
            MP4.init();
        }
        var movie = MP4.moov(tracks, duration, timescale);
        var result = new Uint8Array(MP4.FTYP.byteLength + movie.byteLength);
        result.set(MP4.FTYP);
        result.set(movie, MP4.FTYP.byteLength);
        return result;
    };
    MP4.fragmentSegment = function (sn, baseMediaDecodeTime, track, payload) {
        var moof = MP4.moof(sn, baseMediaDecodeTime, track);
        var mdat = MP4.mdat(payload);
        var result = new Uint8Array(MP4.STYP.byteLength + moof.byteLength + mdat.byteLength);
        result.set(MP4.STYP);
        result.set(moof, MP4.STYP.byteLength);
        result.set(mdat, MP4.STYP.byteLength + moof.byteLength);
        return result;
    };
    MP4.types = {};
    MP4.initalized = false;
    return MP4;
}());
exports["default"] = MP4;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/NALU.js":
/*!*******************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/NALU.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var NALU = (function () {
    function NALU(data) {
        this.data = data;
        this.nri = (data[0] & 0x60) >> 5;
        this.ntype = data[0] & 0x1f;
    }
    Object.defineProperty(NALU, "NDR", {
        get: function () { return 1; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "IDR", {
        get: function () { return 5; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "SEI", {
        get: function () { return 6; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "SPS", {
        get: function () { return 7; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "PPS", {
        get: function () { return 8; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NALU, "TYPES", {
        get: function () {
            var _a;
            return _a = {},
                _a[NALU.IDR] = 'IDR',
                _a[NALU.SEI] = 'SEI',
                _a[NALU.SPS] = 'SPS',
                _a[NALU.PPS] = 'PPS',
                _a[NALU.NDR] = 'NDR',
                _a;
        },
        enumerable: true,
        configurable: true
    });
    NALU.type = function (nalu) {
        if (nalu.ntype in NALU.TYPES) {
            return NALU.TYPES[nalu.ntype];
        }
        else {
            return 'UNKNOWN';
        }
    };
    NALU.prototype.type = function () {
        return this.ntype;
    };
    NALU.prototype.isKeyframe = function () {
        return this.ntype === NALU.IDR;
    };
    NALU.prototype.getSize = function () {
        return 4 + this.data.byteLength;
    };
    NALU.prototype.getData = function () {
        var result = new Uint8Array(this.getSize());
        var view = new DataView(result.buffer);
        view.setUint32(0, this.getSize() - 4);
        result.set(this.data, 4);
        return result;
    };
    return NALU;
}());
exports["default"] = NALU;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/bit-stream.js":
/*!*************************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/bit-stream.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var BitStream = (function () {
    function BitStream(data) {
        this.data = data;
        this.index = 0;
        this.bitLength = data.byteLength * 8;
    }
    Object.defineProperty(BitStream.prototype, "bitsAvailable", {
        get: function () {
            return this.bitLength - this.index;
        },
        enumerable: true,
        configurable: true
    });
    BitStream.prototype.skipBits = function (size) {
        if (this.bitsAvailable < size) {
            throw new Error('no bytes available');
        }
        this.index += size;
    };
    BitStream.prototype.readBits = function (size) {
        var result = this.getBits(size, this.index);
        return result;
    };
    BitStream.prototype.getBits = function (size, offsetBits, moveIndex) {
        if (moveIndex === void 0) { moveIndex = true; }
        if (this.bitsAvailable < size) {
            throw new Error('no bytes available');
        }
        var offset = offsetBits % 8;
        var byte = this.data[(offsetBits / 8) | 0] & (0xff >>> offset);
        var bits = 8 - offset;
        if (bits >= size) {
            if (moveIndex) {
                this.index += size;
            }
            return byte >> (bits - size);
        }
        else {
            if (moveIndex) {
                this.index += bits;
            }
            var nextSize = size - bits;
            return (byte << nextSize) | this.getBits(nextSize, offsetBits + bits, moveIndex);
        }
    };
    BitStream.prototype.skipLZ = function () {
        var leadingZeroCount;
        for (leadingZeroCount = 0; leadingZeroCount < this.bitLength - this.index; ++leadingZeroCount) {
            if (0 !== this.getBits(1, this.index + leadingZeroCount, false)) {
                this.index += leadingZeroCount;
                return leadingZeroCount;
            }
        }
        return leadingZeroCount;
    };
    BitStream.prototype.skipUEG = function () {
        this.skipBits(1 + this.skipLZ());
    };
    BitStream.prototype.skipEG = function () {
        this.skipBits(1 + this.skipLZ());
    };
    BitStream.prototype.readUEG = function () {
        var prefix = this.skipLZ();
        return this.readBits(prefix + 1) - 1;
    };
    BitStream.prototype.readEG = function () {
        var value = this.readUEG();
        if (0x01 & value) {
            return (1 + value) >>> 1;
        }
        else {
            return -1 * (value >>> 1);
        }
    };
    BitStream.prototype.readBoolean = function () {
        return 1 === this.readBits(1);
    };
    BitStream.prototype.readUByte = function () {
        return this.readBits(8);
    };
    BitStream.prototype.readUShort = function () {
        return this.readBits(16);
    };
    BitStream.prototype.readUInt = function () {
        return this.readBits(32);
    };
    return BitStream;
}());
exports["default"] = BitStream;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/debug.js":
/*!********************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/debug.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var mLogger;
var mErrorLogger;
function setLogger(logger, errorLogger) {
    mLogger = logger;
    mErrorLogger = errorLogger != null ? errorLogger : logger;
}
exports.setLogger = setLogger;
function isEnable() {
    return mLogger != null;
}
exports.isEnable = isEnable;
function log(message) {
    var optionalParams = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        optionalParams[_i - 1] = arguments[_i];
    }
    if (mLogger) {
        mLogger.apply(void 0, [message].concat(optionalParams));
    }
}
exports.log = log;
function error(message) {
    var optionalParams = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        optionalParams[_i - 1] = arguments[_i];
    }
    if (mErrorLogger) {
        mErrorLogger.apply(void 0, [message].concat(optionalParams));
    }
}
exports.error = error;


/***/ }),

/***/ "./node_modules/h264-converter/dist/util/nalu-stream-buffer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/h264-converter/dist/util/nalu-stream-buffer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var NALU_1 = __webpack_require__(/*! ./NALU */ "./node_modules/h264-converter/dist/util/NALU.js");
var VideoStreamBuffer = (function () {
    function VideoStreamBuffer() {
    }
    VideoStreamBuffer.prototype.clear = function () {
        this.buffer = undefined;
    };
    VideoStreamBuffer.prototype.append = function (value) {
        var nextNalHeader = function (b) {
            var i = 3;
            return function () {
                var count = 0;
                for (; i < b.length; i++) {
                    switch (b[i]) {
                        case 0:
                            count++;
                            break;
                        case 1:
                            if (count === 3) {
                                return i - 3;
                            }
                        default:
                            count = 0;
                    }
                }
                return;
            };
        };
        var result = [];
        var buffer;
        if (this.buffer) {
            if (value[3] === 1 && value[2] === 0 && value[1] === 0 && value[0] === 0) {
                result.push(new NALU_1.default(this.buffer.subarray(4)));
                buffer = Uint8Array.from(value);
            }
        }
        if (buffer == null) {
            buffer = this.mergeBuffer(value);
        }
        var lastIndex = 0;
        var f = nextNalHeader(buffer);
        for (var index = f(); index != null; index = f()) {
            result.push(new NALU_1.default(buffer.subarray(lastIndex + 4, index)));
            lastIndex = index;
        }
        this.buffer = buffer.subarray(lastIndex);
        return result;
    };
    VideoStreamBuffer.prototype.mergeBuffer = function (value) {
        if (this.buffer == null) {
            return Uint8Array.from(value);
        }
        else {
            var newBuffer = new Uint8Array(this.buffer.byteLength + value.length);
            if (this.buffer.byteLength > 0) {
                newBuffer.set(this.buffer, 0);
            }
            newBuffer.set(value, this.buffer.byteLength);
            return newBuffer;
        }
    };
    return VideoStreamBuffer;
}());
exports["default"] = VideoStreamBuffer;


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/xterm/css/xterm.css":
/*!******************************************!*\
  !*** ./node_modules/xterm/css/xterm.css ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/app.css":
/*!***************************!*\
  !*** ./src/style/app.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/devicelist.css":
/*!**********************************!*\
  !*** ./src/style/devicelist.css ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/devtools.css":
/*!********************************!*\
  !*** ./src/style/devtools.css ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/dialog.css":
/*!******************************!*\
  !*** ./src/style/dialog.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/filelisting.css":
/*!***********************************!*\
  !*** ./src/style/filelisting.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style/morebox.css":
/*!*******************************!*\
  !*** ./src/style/morebox.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/path-browserify/index.js":
/*!***********************************************!*\
  !*** ./node_modules/path-browserify/index.js ***!
  \***********************************************/
/***/ ((module) => {

"use strict";
// 'path' module extracted from Node.js v8.11.1 (only the posix part)
// transplited with Babel

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



function assertPath(path) {
  if (typeof path !== 'string') {
    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));
  }
}

// Resolves . and .. elements in a path with directory names
function normalizeStringPosix(path, allowAboveRoot) {
  var res = '';
  var lastSegmentLength = 0;
  var lastSlash = -1;
  var dots = 0;
  var code;
  for (var i = 0; i <= path.length; ++i) {
    if (i < path.length)
      code = path.charCodeAt(i);
    else if (code === 47 /*/*/)
      break;
    else
      code = 47 /*/*/;
    if (code === 47 /*/*/) {
      if (lastSlash === i - 1 || dots === 1) {
        // NOOP
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {
          if (res.length > 2) {
            var lastSlashIndex = res.lastIndexOf('/');
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = '';
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = '';
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0)
            res += '/..';
          else
            res = '..';
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0)
          res += '/' + path.slice(lastSlash + 1, i);
        else
          res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 /*.*/ && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}

function _format(sep, pathObject) {
  var dir = pathObject.dir || pathObject.root;
  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');
  if (!dir) {
    return base;
  }
  if (dir === pathObject.root) {
    return dir + base;
  }
  return dir + sep + base;
}

var posix = {
  // path.resolve([from ...], to)
  resolve: function resolve() {
    var resolvedPath = '';
    var resolvedAbsolute = false;
    var cwd;

    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
      var path;
      if (i >= 0)
        path = arguments[i];
      else {
        if (cwd === undefined)
          cwd = process.cwd();
        path = cwd;
      }

      assertPath(path);

      // Skip empty entries
      if (path.length === 0) {
        continue;
      }

      resolvedPath = path + '/' + resolvedPath;
      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;
    }

    // At this point the path should be resolved to a full absolute path, but
    // handle relative paths to be safe (might happen when process.cwd() fails)

    // Normalize the path
    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);

    if (resolvedAbsolute) {
      if (resolvedPath.length > 0)
        return '/' + resolvedPath;
      else
        return '/';
    } else if (resolvedPath.length > 0) {
      return resolvedPath;
    } else {
      return '.';
    }
  },

  normalize: function normalize(path) {
    assertPath(path);

    if (path.length === 0) return '.';

    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;
    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;

    // Normalize the path
    path = normalizeStringPosix(path, !isAbsolute);

    if (path.length === 0 && !isAbsolute) path = '.';
    if (path.length > 0 && trailingSeparator) path += '/';

    if (isAbsolute) return '/' + path;
    return path;
  },

  isAbsolute: function isAbsolute(path) {
    assertPath(path);
    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;
  },

  join: function join() {
    if (arguments.length === 0)
      return '.';
    var joined;
    for (var i = 0; i < arguments.length; ++i) {
      var arg = arguments[i];
      assertPath(arg);
      if (arg.length > 0) {
        if (joined === undefined)
          joined = arg;
        else
          joined += '/' + arg;
      }
    }
    if (joined === undefined)
      return '.';
    return posix.normalize(joined);
  },

  relative: function relative(from, to) {
    assertPath(from);
    assertPath(to);

    if (from === to) return '';

    from = posix.resolve(from);
    to = posix.resolve(to);

    if (from === to) return '';

    // Trim any leading backslashes
    var fromStart = 1;
    for (; fromStart < from.length; ++fromStart) {
      if (from.charCodeAt(fromStart) !== 47 /*/*/)
        break;
    }
    var fromEnd = from.length;
    var fromLen = fromEnd - fromStart;

    // Trim any leading backslashes
    var toStart = 1;
    for (; toStart < to.length; ++toStart) {
      if (to.charCodeAt(toStart) !== 47 /*/*/)
        break;
    }
    var toEnd = to.length;
    var toLen = toEnd - toStart;

    // Compare paths to find the longest common path from root
    var length = fromLen < toLen ? fromLen : toLen;
    var lastCommonSep = -1;
    var i = 0;
    for (; i <= length; ++i) {
      if (i === length) {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === 47 /*/*/) {
            // We get here if `from` is the exact base path for `to`.
            // For example: from='/foo/bar'; to='/foo/bar/baz'
            return to.slice(toStart + i + 1);
          } else if (i === 0) {
            // We get here if `from` is the root
            // For example: from='/'; to='/foo'
            return to.slice(toStart + i);
          }
        } else if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {
            // We get here if `to` is the exact base path for `from`.
            // For example: from='/foo/bar/baz'; to='/foo/bar'
            lastCommonSep = i;
          } else if (i === 0) {
            // We get here if `to` is the root.
            // For example: from='/foo'; to='/'
            lastCommonSep = 0;
          }
        }
        break;
      }
      var fromCode = from.charCodeAt(fromStart + i);
      var toCode = to.charCodeAt(toStart + i);
      if (fromCode !== toCode)
        break;
      else if (fromCode === 47 /*/*/)
        lastCommonSep = i;
    }

    var out = '';
    // Generate the relative path based on the path difference between `to`
    // and `from`
    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {
        if (out.length === 0)
          out += '..';
        else
          out += '/..';
      }
    }

    // Lastly, append the rest of the destination (`to`) path that comes after
    // the common path parts
    if (out.length > 0)
      return out + to.slice(toStart + lastCommonSep);
    else {
      toStart += lastCommonSep;
      if (to.charCodeAt(toStart) === 47 /*/*/)
        ++toStart;
      return to.slice(toStart);
    }
  },

  _makeLong: function _makeLong(path) {
    return path;
  },

  dirname: function dirname(path) {
    assertPath(path);
    if (path.length === 0) return '.';
    var code = path.charCodeAt(0);
    var hasRoot = code === 47 /*/*/;
    var end = -1;
    var matchedSlash = true;
    for (var i = path.length - 1; i >= 1; --i) {
      code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
        // We saw the first non-path separator
        matchedSlash = false;
      }
    }

    if (end === -1) return hasRoot ? '/' : '.';
    if (hasRoot && end === 1) return '//';
    return path.slice(0, end);
  },

  basename: function basename(path, ext) {
    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('"ext" argument must be a string');
    assertPath(path);

    var start = 0;
    var end = -1;
    var matchedSlash = true;
    var i;

    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {
      if (ext.length === path.length && ext === path) return '';
      var extIdx = ext.length - 1;
      var firstNonSlashEnd = -1;
      for (i = path.length - 1; i >= 0; --i) {
        var code = path.charCodeAt(i);
        if (code === 47 /*/*/) {
            // If we reached a path separator that was not part of a set of path
            // separators at the end of the string, stop now
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
          if (firstNonSlashEnd === -1) {
            // We saw the first non-path separator, remember this index in case
            // we need it if the extension ends up not matching
            matchedSlash = false;
            firstNonSlashEnd = i + 1;
          }
          if (extIdx >= 0) {
            // Try to match the explicit extension
            if (code === ext.charCodeAt(extIdx)) {
              if (--extIdx === -1) {
                // We matched the extension, so mark this as the end of our path
                // component
                end = i;
              }
            } else {
              // Extension does not match, so our result is the entire path
              // component
              extIdx = -1;
              end = firstNonSlashEnd;
            }
          }
        }
      }

      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;
      return path.slice(start, end);
    } else {
      for (i = path.length - 1; i >= 0; --i) {
        if (path.charCodeAt(i) === 47 /*/*/) {
            // If we reached a path separator that was not part of a set of path
            // separators at the end of the string, stop now
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else if (end === -1) {
          // We saw the first non-path separator, mark this as the end of our
          // path component
          matchedSlash = false;
          end = i + 1;
        }
      }

      if (end === -1) return '';
      return path.slice(start, end);
    }
  },

  extname: function extname(path) {
    assertPath(path);
    var startDot = -1;
    var startPart = 0;
    var end = -1;
    var matchedSlash = true;
    // Track the state of characters (if any) we see before our first dot and
    // after any path separator we find
    var preDotState = 0;
    for (var i = path.length - 1; i >= 0; --i) {
      var code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          // If we reached a path separator that was not part of a set of path
          // separators at the end of the string, stop now
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
      if (end === -1) {
        // We saw the first non-path separator, mark this as the end of our
        // extension
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46 /*.*/) {
          // If this is our first dot, mark it as the start of our extension
          if (startDot === -1)
            startDot = i;
          else if (preDotState !== 1)
            preDotState = 1;
      } else if (startDot !== -1) {
        // We saw a non-dot and non-path separator before our dot, so we should
        // have a good chance at having a non-empty extension
        preDotState = -1;
      }
    }

    if (startDot === -1 || end === -1 ||
        // We saw a non-dot character immediately before the dot
        preDotState === 0 ||
        // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      return '';
    }
    return path.slice(startDot, end);
  },

  format: function format(pathObject) {
    if (pathObject === null || typeof pathObject !== 'object') {
      throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof pathObject);
    }
    return _format('/', pathObject);
  },

  parse: function parse(path) {
    assertPath(path);

    var ret = { root: '', dir: '', base: '', ext: '', name: '' };
    if (path.length === 0) return ret;
    var code = path.charCodeAt(0);
    var isAbsolute = code === 47 /*/*/;
    var start;
    if (isAbsolute) {
      ret.root = '/';
      start = 1;
    } else {
      start = 0;
    }
    var startDot = -1;
    var startPart = 0;
    var end = -1;
    var matchedSlash = true;
    var i = path.length - 1;

    // Track the state of characters (if any) we see before our first dot and
    // after any path separator we find
    var preDotState = 0;

    // Get non-dir info
    for (; i >= start; --i) {
      code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          // If we reached a path separator that was not part of a set of path
          // separators at the end of the string, stop now
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
      if (end === -1) {
        // We saw the first non-path separator, mark this as the end of our
        // extension
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46 /*.*/) {
          // If this is our first dot, mark it as the start of our extension
          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
        } else if (startDot !== -1) {
        // We saw a non-dot and non-path separator before our dot, so we should
        // have a good chance at having a non-empty extension
        preDotState = -1;
      }
    }

    if (startDot === -1 || end === -1 ||
    // We saw a non-dot character immediately before the dot
    preDotState === 0 ||
    // The (right-most) trimmed path component is exactly '..'
    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      if (end !== -1) {
        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);
      }
    } else {
      if (startPart === 0 && isAbsolute) {
        ret.name = path.slice(1, startDot);
        ret.base = path.slice(1, end);
      } else {
        ret.name = path.slice(startPart, startDot);
        ret.base = path.slice(startPart, end);
      }
      ret.ext = path.slice(startDot, end);
    }

    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';

    return ret;
  },

  sep: '/',
  delimiter: ':',
  win32: null,
  posix: null
};

posix.posix = posix;

module.exports = posix;


/***/ }),

/***/ "./src/public/images/buttons/arrow_back.svg":
/*!**************************************************!*\
  !*** ./src/public/images/buttons/arrow_back.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20,11H7.83l5.59,-5.59L12,4l-8,8 8,8 1.41,-1.41L7.83,13H20v-2z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/cancel.svg":
/*!**********************************************!*\
  !*** ./src/public/images/buttons/cancel.svg ***!
  \**********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12,2C6.47,2 2,6.47 2,12s4.47,10 10,10 10,-4.47 10,-10S17.53,2 12,2zM12,20c-4.41,0 -8,-3.59 -8,-8s3.59,-8 8,-8 8,3.59 8,8 -3.59,8 -8,8zM15.59,7L12,10.59 8.41,7 7,8.41 10.59,12 7,15.59 8.41,17 12,13.41 15.59,17 17,15.59 13.41,12 17,8.41z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/menu.svg":
/*!********************************************!*\
  !*** ./src/public/images/buttons/menu.svg ***!
  \********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3,18h18v-2L3,16v2zM3,13h18v-2L3,11v2zM3,6v2h18L21,6L3,6z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/offline.svg":
/*!***********************************************!*\
  !*** ./src/public/images/buttons/offline.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12,2.02c-5.51,0 -9.98,4.47 -9.98,9.98s4.47,9.98 9.98,9.98 9.98,-4.47 9.98,-9.98S17.51,2.02 12,2.02zM12,19.98c-4.4,0 -7.98,-3.58 -7.98,-7.98S7.6,4.02 12,4.02 19.98,7.6 19.98,12 16.4,19.98 12,19.98zM12.75,5l-4.5,8.5h3.14L11.39,19l4.36,-8.5h-3z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/refresh.svg":
/*!***********************************************!*\
  !*** ./src/public/images/buttons/refresh.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.65,6.35C16.2,4.9 14.21,4 12,4c-4.42,0 -7.99,3.58 -7.99,8s3.57,8 7.99,8c3.73,0 6.84,-2.55 7.73,-6h-2.08c-0.82,2.33 -3.04,4 -5.65,4 -3.31,0 -6,-2.69 -6,-6s2.69,-6 6,-6c1.66,0 3.14,0.69 4.22,1.78L13,11h7V4l-2.35,2.35z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/settings.svg":
/*!************************************************!*\
  !*** ./src/public/images/buttons/settings.svg ***!
  \************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19.43,12.98c0.04,-0.32 0.07,-0.64 0.07,-0.98 0,-0.34 -0.03,-0.66 -0.07,-0.98l2.11,-1.65c0.19,-0.15 0.24,-0.42 0.12,-0.64l-2,-3.46c-0.09,-0.16 -0.26,-0.25 -0.44,-0.25 -0.06,0 -0.12,0.01 -0.17,0.03l-2.49,1c-0.52,-0.4 -1.08,-0.73 -1.69,-0.98l-0.38,-2.65C14.46,2.18 14.25,2 14,2h-4c-0.25,0 -0.46,0.18 -0.49,0.42l-0.38,2.65c-0.61,0.25 -1.17,0.59 -1.69,0.98l-2.49,-1c-0.06,-0.02 -0.12,-0.03 -0.18,-0.03 -0.17,0 -0.34,0.09 -0.43,0.25l-2,3.46c-0.13,0.22 -0.07,0.49 0.12,0.64l2.11,1.65c-0.04,0.32 -0.07,0.65 -0.07,0.98 0,0.33 0.03,0.66 0.07,0.98l-2.11,1.65c-0.19,0.15 -0.24,0.42 -0.12,0.64l2,3.46c0.09,0.16 0.26,0.25 0.44,0.25 0.06,0 0.12,-0.01 0.17,-0.03l2.49,-1c0.52,0.4 1.08,0.73 1.69,0.98l0.38,2.65c0.03,0.24 0.24,0.42 0.49,0.42h4c0.25,0 0.46,-0.18 0.49,-0.42l0.38,-2.65c0.61,-0.25 1.17,-0.59 1.69,-0.98l2.49,1c0.06,0.02 0.12,0.03 0.18,0.03 0.17,0 0.34,-0.09 0.43,-0.25l2,-3.46c0.12,-0.22 0.07,-0.49 -0.12,-0.64l-2.11,-1.65zM17.45,11.27c0.04,0.31 0.05,0.52 0.05,0.73 0,0.21 -0.02,0.43 -0.05,0.73l-0.14,1.13 0.89,0.7 1.08,0.84 -0.7,1.21 -1.27,-0.51 -1.04,-0.42 -0.9,0.68c-0.43,0.32 -0.84,0.56 -1.25,0.73l-1.06,0.43 -0.16,1.13 -0.2,1.35h-1.4l-0.19,-1.35 -0.16,-1.13 -1.06,-0.43c-0.43,-0.18 -0.83,-0.41 -1.23,-0.71l-0.91,-0.7 -1.06,0.43 -1.27,0.51 -0.7,-1.21 1.08,-0.84 0.89,-0.7 -0.14,-1.13c-0.03,-0.31 -0.05,-0.54 -0.05,-0.74s0.02,-0.43 0.05,-0.73l0.14,-1.13 -0.89,-0.7 -1.08,-0.84 0.7,-1.21 1.27,0.51 1.04,0.42 0.9,-0.68c0.43,-0.32 0.84,-0.56 1.25,-0.73l1.06,-0.43 0.16,-1.13 0.2,-1.35h1.39l0.19,1.35 0.16,1.13 1.06,0.43c0.43,0.18 0.83,0.41 1.23,0.71l0.91,0.7 1.06,-0.43 1.27,-0.51 0.7,1.21 -1.07,0.85 -0.89,0.7 0.14,1.13zM12,8c-2.21,0 -4,1.79 -4,4s1.79,4 4,4 4,-1.79 4,-4 -1.79,-4 -4,-4zM12,14c-1.1,0 -2,-0.9 -2,-2s0.9,-2 2,-2 2,0.9 2,2 -0.9,2 -2,2z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/toggle_off.svg":
/*!**************************************************!*\
  !*** ./src/public/images/buttons/toggle_off.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17,7H7c-2.76,0 -5,2.24 -5,5s2.24,5 5,5h10c2.76,0 5,-2.24 5,-5s-2.24,-5 -5,-5zM7,15c-1.66,0 -3,-1.34 -3,-3s1.34,-3 3,-3 3,1.34 3,3 -1.34,3 -3,3z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/buttons/toggle_on.svg":
/*!*************************************************!*\
  !*** ./src/public/images/buttons/toggle_on.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg fill=\"none\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17,7L7,7c-2.76,0 -5,2.24 -5,5s2.24,5 5,5h10c2.76,0 5,-2.24 5,-5s-2.24,-5 -5,-5zM17,15c-1.66,0 -3,-1.34 -3,-3s1.34,-3 3,-3 3,1.34 3,3 -1.34,3 -3,3z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/System_Back_678.svg":
/*!**********************************************************!*\
  !*** ./src/public/images/skin-light/System_Back_678.svg ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 48 48\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>Artboard 1</title><desc>Created with Sketch.</desc><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"Artboard-1\" sketch:type=\"MSArtboardGroup\"><g id=\"System_Back\" sketch:type=\"MSLayerGroup\"><g id=\"Page-1\" sketch:type=\"MSShapeGroup\"><g id=\"System_Back\"><g id=\"Rectangle-118-+-back-12-Copy-11\"><rect id=\"Rectangle-118\" x=\"0\" y=\"0\" width=\"48\" height=\"48\"></rect><path d=\"M36.7088473,10.9494765 L36.7088478,37.6349688 C36.7088478,39.4039498 35.4820844,40.0949115 33.9646508,39.1757647 L12.1373795,25.9544497 C10.6218013,25.0364267 10.6199459,23.5491414 12.1373794,22.6299946 L33.9646503,9.40868054 C35.4802284,8.49065763 36.7088473,9.16835511 36.7088473,10.9494765 Z M33.5088482,13.4305237 L33.5088482,35.1305245 L15.5088482,24.2805241 L33.5088482,13.4305237 Z\" id=\"Shape\" fill=\"var(--svg-button-fill)\"></path></g></g></g></g></g></g></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/System_Home_678.svg":
/*!**********************************************************!*\
  !*** ./src/public/images/skin-light/System_Home_678.svg ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 48 48\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>System_Home</title><desc>Created with Sketch.</desc><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"System_Home\" sketch:type=\"MSArtboardGroup\"><g id=\"Rectangle-119-+-home-12-Copy-11\" sketch:type=\"MSLayerGroup\"><rect id=\"Rectangle-119\" sketch:type=\"MSShapeGroup\" x=\"0\" y=\"0\" width=\"48\" height=\"48\"></rect><path d=\"M24,35.2 L24,35.2 C30.1855892,35.2 35.2,30.1855892 35.2,24 C35.2,17.8144108 30.1855892,12.8 24,12.8 C17.8144108,12.8 12.8,17.8144108 12.8,24 C12.8,30.1855892 17.8144108,35.2 24,35.2 L24,35.2 Z M24,38.4 L24,38.4 C16.0470996,38.4 9.6,31.9529004 9.6,24 C9.6,16.0470996 16.0470996,9.6 24,9.6 C31.9529004,9.6 38.4,16.0470996 38.4,24 C38.4,31.9529004 31.9529004,38.4 24,38.4 L24,38.4 Z\" id=\"Shape\" fill=\"var(--svg-button-fill)\" sketch:type=\"MSShapeGroup\"></path></g></g></g></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/System_Overview_678.svg":
/*!**************************************************************!*\
  !*** ./src/public/images/skin-light/System_Overview_678.svg ***!
  \**************************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 48 48\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\"><title>System_Overview</title><desc>Created with Sketch.</desc><defs></defs><g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\"><g id=\"System_Overview\" sketch:type=\"MSArtboardGroup\"><g id=\"Rectangle-120-+-recent-12-Copy-11\" sketch:type=\"MSLayerGroup\"><rect id=\"Rectangle-120\" sketch:type=\"MSShapeGroup\" x=\"0\" y=\"0\" width=\"48\" height=\"48\"></rect><path d=\"M12.7921429,12.8 L12.7921429,12.8 C12.7959945,12.8 12.8,12.7959954 12.8,12.7921429 L12.8,35.2078571 C12.8,35.2040055 12.7959954,35.2 12.7921429,35.2 L35.2078571,35.2 C35.2040055,35.2 35.2,35.2040046 35.2,35.2078571 L35.2,12.7921429 C35.2,12.7959945 35.2040046,12.8 35.2078571,12.8 L12.7921429,12.8 Z M12.7921429,9.6 L12.7921429,9.6 L35.2078571,9.6 C36.9718035,9.6 38.4,11.029171 38.4,12.7921429 L38.4,35.2078571 C38.4,36.9718035 36.970829,38.4 35.2078571,38.4 L12.7921429,38.4 C11.0281965,38.4 9.6,36.970829 9.6,35.2078571 L9.6,12.7921429 C9.6,11.0281965 11.029171,9.6 12.7921429,9.6 L12.7921429,9.6 Z\" id=\"Shape\" fill=\"var(--svg-button-fill)\" sketch:type=\"MSShapeGroup\"></path></g></g></g></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_keyboard_678_48dp.svg":
/*!***************************************************************!*\
  !*** ./src/public/images/skin-light/ic_keyboard_678_48dp.svg ***!
  \***************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" fill=\"var(--svg-button-fill)\"><path d=\"M40 10H8c-2.21 0-3.98 1.79-3.98 4L4 34c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V14c0-2.21-1.79-4-4-4zm-18 6h4v4h-4v-4zm0 6h4v4h-4v-4zm-6-6h4v4h-4v-4zm0 6h4v4h-4v-4zm-2 4h-4v-4h4v4zm0-6h-4v-4h4v4zm18 14H16v-4h16v4zm0-8h-4v-4h4v4zm0-6h-4v-4h4v4zm6 6h-4v-4h4v4zm0-6h-4v-4h4v4z\"></path><path d=\"M0 0h48v48H0zm0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_more_horiz_678_48dp.svg":
/*!*****************************************************************!*\
  !*** ./src/public/images/skin-light/ic_more_horiz_678_48dp.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" fill=\"var(--svg-button-fill)\"><path d=\"M0 0h48v48H0z\" fill=\"none\"></path><path d=\"M12 20c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm24 0c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-12 0c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_photo_camera_678_48dp.svg":
/*!*******************************************************************!*\
  !*** ./src/public/images/skin-light/ic_photo_camera_678_48dp.svg ***!
  \*******************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" fill=\"var(--svg-button-fill)\"><circle cx=\"24\" cy=\"24\" r=\"6.4\"></circle><path d=\"M18 4l-3.66 4H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4h-6.34L30 4H18zm6 30c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10z\"></path><path d=\"M0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_power_settings_new_678_48px.svg":
/*!*************************************************************************!*\
  !*** ./src/public/images/skin-light/ic_power_settings_new_678_48px.svg ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path fill=\"none\" d=\"M0 0h48v48H0z\"></path><path d=\"M26 6h-4v20h4V6zm9.67 4.33l-2.83 2.83C35.98 15.73 38 19.62 38 24c0 7.73-6.27 14-14 14s-14-6.27-14-14c0-4.38 2.02-8.27 5.16-10.84l-2.83-2.83C8.47 13.63 6 18.52 6 24c0 9.94 8.06 18 18 18s18-8.06 18-18c0-5.48-2.47-10.37-6.33-13.67z\" fill=\"var(--svg-button-fill)\" stroke=\"var(--svg-button-fill)\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_volume_down_678_48px.svg":
/*!******************************************************************!*\
  !*** ./src/public/images/skin-light/ic_volume_down_678_48px.svg ***!
  \******************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path d=\"M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z\" fill=\"var(--svg-button-fill)\" stroke=\"var(--svg-button-fill)\"></path><path d=\"M0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./src/public/images/skin-light/ic_volume_up_678_48px.svg":
/*!****************************************************************!*\
  !*** ./src/public/images/skin-light/ic_volume_up_678_48px.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path d=\"M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z\" fill=\"var(--svg-button-fill)\" stroke=\"var(--svg-button-fill)\"></path><path d=\"M0 0h48v48H0z\" fill=\"none\"></path></svg>"

/***/ }),

/***/ "./node_modules/sylvester.js/lib/index.js":
/*!************************************************!*\
  !*** ./node_modules/sylvester.js/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel

var global = (Function('return this'))();

exports.Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");
global.$V = exports.Vector.create;
exports.Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");
global.$M = exports.Matrix.create;
exports.Line = __webpack_require__(/*! ./line */ "./node_modules/sylvester.js/lib/line.js");
global.$L = exports.Line.create;
exports.Plane = __webpack_require__(/*! ./plane */ "./node_modules/sylvester.js/lib/plane.js");
global.$P = exports.Plane.create;
exports.Line.Segment = __webpack_require__(/*! ./line.segment */ "./node_modules/sylvester.js/lib/line.segment.js");
exports.Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");


/***/ }),

/***/ "./node_modules/sylvester.js/lib/line.js":
/*!***********************************************!*\
  !*** ./node_modules/sylvester.js/lib/line.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");
var Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");
var Plane = __webpack_require__(/*! ./plane */ "./node_modules/sylvester.js/lib/plane.js");
var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");

// Line class - depends on Vector, and some methods require Matrix and Plane.

function Line() {}
Line.prototype = {

  // Returns true if the argument occupies the same space as the line
  eql: function(line) {
    return (this.isParallelTo(line) && this.contains(line.anchor));
  },

  // Returns a copy of the line
  dup: function() {
    return Line.create(this.anchor, this.direction);
  },

  // Returns the result of translating the line by the given vector/array
  translate: function(vector) {
    var V = vector.elements || vector;
    return Line.create([
      this.anchor.elements[0] + V[0],
      this.anchor.elements[1] + V[1],
      this.anchor.elements[2] + (V[2] || 0)
    ], this.direction);
  },

  // Returns true if the line is parallel to the argument. Here, 'parallel to'
  // means that the argument's direction is either parallel or antiparallel to
  // the line's own direction. A line is parallel to a plane if the two do not
  // have a unique intersection.
  isParallelTo: function(obj) {
    if (obj.normal || (obj.start && obj.end)) { return obj.isParallelTo(this); }
    var theta = this.direction.angleFrom(obj.direction);
    return (Math.abs(theta) <= Sylvester.precision || Math.abs(theta - Math.PI) <= Sylvester.precision);
  },

  // Returns the line's perpendicular distance from the argument,
  // which can be a point, a line or a plane
  distanceFrom: function(obj) {
    if (obj.normal || (obj.start && obj.end)) { return obj.distanceFrom(this); }
    if (obj.direction) {
      // obj is a line
      if (this.isParallelTo(obj)) { return this.distanceFrom(obj.anchor); }
      var N = this.direction.cross(obj.direction).toUnitVector().elements;
      var A = this.anchor.elements, B = obj.anchor.elements;
      return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      var A = this.anchor.elements, D = this.direction.elements;
      var PA1 = P[0] - A[0], PA2 = P[1] - A[1], PA3 = (P[2] || 0) - A[2];
      var modPA = Math.sqrt(PA1*PA1 + PA2*PA2 + PA3*PA3);
      if (modPA === 0) return 0;
      // Assumes direction vector is normalized
      var cosTheta = (PA1 * D[0] + PA2 * D[1] + PA3 * D[2]) / modPA;
      var sin2 = 1 - cosTheta*cosTheta;
      return Math.abs(modPA * Math.sqrt(sin2 < 0 ? 0 : sin2));
    }
  },

  // Returns true iff the argument is a point on the line, or if the argument
  // is a line segment lying within the receiver
  contains: function(obj) {
    if (obj.start && obj.end) { return this.contains(obj.start) && this.contains(obj.end); }
    var dist = this.distanceFrom(obj);
    return (dist !== null && dist <= Sylvester.precision);
  },

  // Returns the distance from the anchor of the given point. Negative values are
  // returned for points that are in the opposite direction to the line's direction from
  // the line's anchor point.
  positionOf: function(point) {
    if (!this.contains(point)) { return null; }
    var P = point.elements || point;
    var A = this.anchor.elements, D = this.direction.elements;
    return (P[0] - A[0]) * D[0] + (P[1] - A[1]) * D[1] + ((P[2] || 0) - A[2]) * D[2];
  },

  // Returns true iff the line lies in the given plane
  liesIn: function(plane) {
    return plane.contains(this);
  },

  // Returns true iff the line has a unique point of intersection with the argument
  intersects: function(obj) {
    if (obj.normal) { return obj.intersects(this); }
    return (!this.isParallelTo(obj) && this.distanceFrom(obj) <= Sylvester.precision);
  },

  // Returns the unique intersection point with the argument, if one exists
  intersectionWith: function(obj) {
    if (obj.normal || (obj.start && obj.end)) { return obj.intersectionWith(this); }
    if (!this.intersects(obj)) { return null; }
    var P = this.anchor.elements, X = this.direction.elements,
        Q = obj.anchor.elements, Y = obj.direction.elements;
    var X1 = X[0], X2 = X[1], X3 = X[2], Y1 = Y[0], Y2 = Y[1], Y3 = Y[2];
    var PsubQ1 = P[0] - Q[0], PsubQ2 = P[1] - Q[1], PsubQ3 = P[2] - Q[2];
    var XdotQsubP = - X1*PsubQ1 - X2*PsubQ2 - X3*PsubQ3;
    var YdotPsubQ = Y1*PsubQ1 + Y2*PsubQ2 + Y3*PsubQ3;
    var XdotX = X1*X1 + X2*X2 + X3*X3;
    var YdotY = Y1*Y1 + Y2*Y2 + Y3*Y3;
    var XdotY = X1*Y1 + X2*Y2 + X3*Y3;
    var k = (XdotQsubP * YdotY / XdotX + XdotY * YdotPsubQ) / (YdotY - XdotY * XdotY);
    return Vector.create([P[0] + k*X1, P[1] + k*X2, P[2] + k*X3]);
  },

  // Returns the point on the line that is closest to the given point or line/line segment
  pointClosestTo: function(obj) {
    if (obj.start && obj.end) {
      // obj is a line segment
      var P = obj.pointClosestTo(this);
      return (P === null) ? null : this.pointClosestTo(P);
    } else if (obj.direction) {
      // obj is a line
      if (this.intersects(obj)) { return this.intersectionWith(obj); }
      if (this.isParallelTo(obj)) { return null; }
      var D = this.direction.elements, E = obj.direction.elements;
      var D1 = D[0], D2 = D[1], D3 = D[2], E1 = E[0], E2 = E[1], E3 = E[2];
      // Create plane containing obj and the shared normal and intersect this with it
      // Thank you: http://www.cgafaq.info/wiki/Line-line_distance
      var x = (D3 * E1 - D1 * E3), y = (D1 * E2 - D2 * E1), z = (D2 * E3 - D3 * E2);
      var N = [x * E3 - y * E2, y * E1 - z * E3, z * E2 - x * E1];
      var P = Plane.create(obj.anchor, N);
      return P.intersectionWith(this);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      if (this.contains(P)) { return Vector.create(P); }
      var A = this.anchor.elements, D = this.direction.elements;
      var D1 = D[0], D2 = D[1], D3 = D[2], A1 = A[0], A2 = A[1], A3 = A[2];
      var x = D1 * (P[1]-A2) - D2 * (P[0]-A1), y = D2 * ((P[2] || 0) - A3) - D3 * (P[1]-A2),
          z = D3 * (P[0]-A1) - D1 * ((P[2] || 0) - A3);
      var V = Vector.create([D2 * x - D3 * z, D3 * y - D1 * x, D1 * z - D2 * y]);
      var k = this.distanceFrom(P) / V.modulus();
      return Vector.create([
        P[0] + V.elements[0] * k,
        P[1] + V.elements[1] * k,
        (P[2] || 0) + V.elements[2] * k
      ]);
    }
  },

  // Returns a copy of the line rotated by t radians about the given line. Works by
  // finding the argument's closest point to this line's anchor point (call this C) and
  // rotating the anchor about C. Also rotates the line's direction about the argument's.
  // Be careful with this - the rotation axis' direction affects the outcome!
  rotate: function(t, line) {
    // If we're working in 2D
    if (typeof(line.direction) == 'undefined') { line = Line.create(line.to3D(), Vector.k); }
    var R = Matrix.Rotation(t, line.direction).elements;
    var C = line.pointClosestTo(this.anchor).elements;
    var A = this.anchor.elements, D = this.direction.elements;
    var C1 = C[0], C2 = C[1], C3 = C[2], A1 = A[0], A2 = A[1], A3 = A[2];
    var x = A1 - C1, y = A2 - C2, z = A3 - C3;
    return Line.create([
      C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z,
      C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z,
      C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z
    ], [
      R[0][0] * D[0] + R[0][1] * D[1] + R[0][2] * D[2],
      R[1][0] * D[0] + R[1][1] * D[1] + R[1][2] * D[2],
      R[2][0] * D[0] + R[2][1] * D[1] + R[2][2] * D[2]
    ]);
  },

  // Returns a copy of the line with its direction vector reversed.
  // Useful when using lines for rotations.
  reverse: function() {
    return Line.create(this.anchor, this.direction.x(-1));
  },

  // Returns the line's reflection in the given point or line
  reflectionIn: function(obj) {
    if (obj.normal) {
      // obj is a plane
      var A = this.anchor.elements, D = this.direction.elements;
      var A1 = A[0], A2 = A[1], A3 = A[2], D1 = D[0], D2 = D[1], D3 = D[2];
      var newA = this.anchor.reflectionIn(obj).elements;
      // Add the line's direction vector to its anchor, then mirror that in the plane
      var AD1 = A1 + D1, AD2 = A2 + D2, AD3 = A3 + D3;
      var Q = obj.pointClosestTo([AD1, AD2, AD3]).elements;
      var newD = [Q[0] + (Q[0] - AD1) - newA[0], Q[1] + (Q[1] - AD2) - newA[1], Q[2] + (Q[2] - AD3) - newA[2]];
      return Line.create(newA, newD);
    } else if (obj.direction) {
      // obj is a line - reflection obtained by rotating PI radians about obj
      return this.rotate(Math.PI, obj);
    } else {
      // obj is a point - just reflect the line's anchor in it
      var P = obj.elements || obj;
      return Line.create(this.anchor.reflectionIn([P[0], P[1], (P[2] || 0)]), this.direction);
    }
  },

  // Set the line's anchor point and direction.
  setVectors: function(anchor, direction) {
    // Need to do this so that line's properties are not
    // references to the arguments passed in
    anchor = Vector.create(anchor);
    direction = Vector.create(direction);
    if (anchor.elements.length == 2) {anchor.elements.push(0); }
    if (direction.elements.length == 2) { direction.elements.push(0); }
    if (anchor.elements.length > 3 || direction.elements.length > 3) { return null; }
    var mod = direction.modulus();
    if (mod === 0) { return null; }
    this.anchor = anchor;
    this.direction = Vector.create([
      direction.elements[0] / mod,
      direction.elements[1] / mod,
      direction.elements[2] / mod
    ]);
    return this;
  }
};

// Constructor function
Line.create = function(anchor, direction) {
  var L = new Line();
  return L.setVectors(anchor, direction);
};

// Axes
Line.X = Line.create(Vector.Zero(3), Vector.i);
Line.Y = Line.create(Vector.Zero(3), Vector.j);
Line.Z = Line.create(Vector.Zero(3), Vector.k);

module.exports = Line;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/line.segment.js":
/*!*******************************************************!*\
  !*** ./node_modules/sylvester.js/lib/line.segment.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// Line.Segment class - depends on Line and its dependencies.

var Line = __webpack_require__(/*! ./line */ "./node_modules/sylvester.js/lib/line.js");
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");

Line.Segment = function() {};
Line.Segment.prototype = {

  // Returns true iff the line segment is equal to the argument
  eql: function(segment) {
    return (this.start.eql(segment.start) && this.end.eql(segment.end)) ||
        (this.start.eql(segment.end) && this.end.eql(segment.start));
  },

  // Returns a copy of the line segment
  dup: function() {
    return Line.Segment.create(this.start, this.end);
  },

  // Returns the length of the line segment
  length: function() {
    var A = this.start.elements, B = this.end.elements;
    var C1 = B[0] - A[0], C2 = B[1] - A[1], C3 = B[2] - A[2];
    return Math.sqrt(C1*C1 + C2*C2 + C3*C3);
  },

  // Returns the line segment as a vector equal to its
  // end point relative to its endpoint
  toVector: function() {
    var A = this.start.elements, B = this.end.elements;
    return Vector.create([B[0] - A[0], B[1] - A[1], B[2] - A[2]]);
  },

  // Returns the segment's midpoint as a vector
  midpoint: function() {
    var A = this.start.elements, B = this.end.elements;
    return Vector.create([(B[0] + A[0])/2, (B[1] + A[1])/2, (B[2] + A[2])/2]);
  },

  // Returns the plane that bisects the segment
  bisectingPlane: function() {
    return Plane.create(this.midpoint(), this.toVector());
  },

  // Returns the result of translating the line by the given vector/array
  translate: function(vector) {
    var V = vector.elements || vector;
    var S = this.start.elements, E = this.end.elements;
    return Line.Segment.create(
      [S[0] + V[0], S[1] + V[1], S[2] + (V[2] || 0)],
      [E[0] + V[0], E[1] + V[1], E[2] + (V[2] || 0)]
    );
  },

  // Returns true iff the line segment is parallel to the argument. It simply forwards
  // the method call onto its line property.
  isParallelTo: function(obj) {
    return this.line.isParallelTo(obj);
  },

  // Returns the distance between the argument and the line segment's closest point to the argument
  distanceFrom: function(obj) {
    var P = this.pointClosestTo(obj);
    return (P === null) ? null : P.distanceFrom(obj);
  },

  // Returns true iff the given point lies on the segment
  contains: function(obj) {
    if (obj.start && obj.end) { return this.contains(obj.start) && this.contains(obj.end); }
    var P = (obj.elements || obj).slice();
    if (P.length == 2) { P.push(0); }
    if (this.start.eql(P)) { return true; }
    var S = this.start.elements;
    var V = Vector.create([S[0] - P[0], S[1] - P[1], S[2] - (P[2] || 0)]);
    var vect = this.toVector();
    return V.isAntiparallelTo(vect) && V.modulus() <= vect.modulus();
  },

  // Returns true iff the line segment intersects the argument
  intersects: function(obj) {
    return (this.intersectionWith(obj) !== null);
  },

  // Returns the unique point of intersection with the argument
  intersectionWith: function(obj) {
    if (!this.line.intersects(obj)) { return null; }
    var P = this.line.intersectionWith(obj);
    return (this.contains(P) ? P : null);
  },

  // Returns the point on the line segment closest to the given object
  pointClosestTo: function(obj) {
    if (obj.normal) {
      // obj is a plane
      var V = this.line.intersectionWith(obj);
      if (V === null) { return null; }
      return this.pointClosestTo(V);
    } else {
      // obj is a line (segment) or point
      var P = this.line.pointClosestTo(obj);
      if (P === null) { return null; }
      if (this.contains(P)) { return P; }
      return (this.line.positionOf(P) < 0 ? this.start : this.end).dup();
    }
  },

  // Set the start and end-points of the segment
  setPoints: function(startPoint, endPoint) {
    startPoint = Vector.create(startPoint).to3D();
    endPoint = Vector.create(endPoint).to3D();
    if (startPoint === null || endPoint === null) { return null; }
    this.line = Line.create(startPoint, endPoint.subtract(startPoint));
    this.start = startPoint;
    this.end = endPoint;
    return this;
  }
};

// Constructor function
Line.Segment.create = function(v1, v2) {
  var S = new Line.Segment();
  return S.setPoints(v1, v2);
};

module.exports = Line.Segment;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/matrix.js":
/*!*************************************************!*\
  !*** ./node_modules/sylvester.js/lib/matrix.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// Matrix class - depends on Vector.

var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");

// augment a matrix M with identity rows/cols
function identSize(M, m, n, k) {
    var e = M.elements;
    var i = k - 1;

    while(i--) {
	var row = [];
	
	for(var j = 0; j < n; j++)
	    row.push(j == i ? 1 : 0);
	
        e.unshift(row);
    }
    
    for(var i = k - 1; i < m; i++) {
        while(e[i].length < n)
            e[i].unshift(0);
    }

    return $M(e);
}

function pca(X) {
    var Sigma = X.transpose().x(X).x(1 / X.rows());
    var svd = Sigma.svd();
    return {U: svd.U, S: svd.S};
}

// singular value decomposition in pure javascript
function svdJs() {
    var A = this;
    var V = Matrix.I(A.rows());
    var S = A.transpose();
    var U = Matrix.I(A.cols());
    var err = Number.MAX_VALUE;
    var i = 0;
    var maxLoop = 100;

    while(err > 2.2737e-13 && i < maxLoop) {
        var qr = S.transpose().qrJs();
        S = qr.R;
        V = V.x(qr.Q);
        qr = S.transpose().qrJs();
        U = U.x(qr.Q);
        S = qr.R;

        var e = S.triu(1).unroll().norm();
        var f = S.diagonal().norm();

        if(f == 0)
            f = 1;

        err = e / f;

        i++;
    }

    var ss = S.diagonal();
    var s = [];

    for(var i = 1; i <= ss.cols(); i++) {
        var ssn = ss.e(i);
        s.push(Math.abs(ssn));

        if(ssn < 0) {
            for(var j = 0; j < U.rows(); j++) {
                V.elements[j][i - 1] = -(V.elements[j][i - 1]);
            }
        }
    }

    return {U: U, S: $V(s).toDiagonalMatrix(), V: V};
}



// QR decomposition in pure javascript
function qrJs() {
    var m = this.rows();
    var n = this.cols();
    var Q = Matrix.I(m);
    var A = this;
    
    for(var k = 1; k < Math.min(m, n); k++) {
	var ak = A.slice(k, 0, k, k).col(1);
	var oneZero = [1];
	
	while(oneZero.length <=  m - k)
	    oneZero.push(0);
	
	oneZero = $V(oneZero);
	var vk = ak.add(oneZero.x(ak.norm() * Math.sign(ak.e(1))));
	var Vk = $M(vk);
	var Hk = Matrix.I(m - k + 1).subtract(Vk.x(2).x(Vk.transpose()).div(Vk.transpose().x(Vk).e(1, 1)));
	var Qk = identSize(Hk, m, n, k);
	A = Qk.x(A);
	// slow way to compute Q
	Q = Q.x(Qk);
    }
    
    return {Q: Q, R: A};
}




function Matrix() {}
Matrix.prototype = {
    // solve a system of linear equations (work in progress)
    solve: function(b) {
	var lu = this.lu();
	b = lu.P.x(b);
	var y = lu.L.forwardSubstitute(b);
	var x = lu.U.backSubstitute(y);
	return lu.P.x(x);
	//return this.inv().x(b);
    },

    // project a matrix onto a lower dim
    pcaProject: function(k, U) {
	var U = U || pca(this).U;
	var Ureduce= U.slice(1, U.rows(), 1, k);
	return {Z: this.x(Ureduce), U: U};
    },

    // recover a matrix to a higher dimension
    pcaRecover: function(U) {
	var k = this.cols();
	var Ureduce = U.slice(1, U.rows(), 1, k);
	return this.x(Ureduce.transpose());
    },    

    // grab the upper triangular part of the matrix
    triu: function(k) {
	if(!k)
	    k = 0;
	
	return this.map(function(x, i, j) {
	    return j - i >= k ? x : 0;
	});
    },

    // unroll a matrix into a vector
    unroll: function() {
	var v = [];
	
	for(var i = 1; i <= this.cols(); i++) {
	    for(var j = 1; j <= this.rows(); j++) {
		v.push(this.e(j, i));
	    }
	}

	return $V(v);
    },

    // return a sub-block of the matrix
    slice: function(startRow, endRow, startCol, endCol) {
	var x = [];
	
	if(endRow == 0)
	    endRow = this.rows();
	
	if(endCol == 0)
	    endCol = this.cols();

	for(i = startRow; i <= endRow; i++) {
	    var row = [];

	    for(j = startCol; j <= endCol; j++) {
		row.push(this.e(i, j));
	    }

	    x.push(row);
	}

	return $M(x);
    },

    // Returns element (i,j) of the matrix
    e: function(i,j) {
	if (i < 1 || i > this.elements.length || j < 1 || j > this.elements[0].length) { return null; }
	return this.elements[i - 1][j - 1];
    },

    // Returns row k of the matrix as a vector
    row: function(i) {
	if (i > this.elements.length) { return null; }
	return $V(this.elements[i - 1]);
    },

    // Returns column k of the matrix as a vector
    col: function(j) {
	if (j > this.elements[0].length) { return null; }
	var col = [], n = this.elements.length;
	for (var i = 0; i < n; i++) { col.push(this.elements[i][j - 1]); }
	return $V(col);
    },

    // Returns the number of rows/columns the matrix has
    dimensions: function() {
	return {rows: this.elements.length, cols: this.elements[0].length};
    },

    // Returns the number of rows in the matrix
    rows: function() {
	return this.elements.length;
    },

    // Returns the number of columns in the matrix
    cols: function() {
	return this.elements[0].length;
    },

    approxEql: function(matrix) {
	return this.eql(matrix, Sylvester.approxPrecision);
    },

    // Returns true iff the matrix is equal to the argument. You can supply
    // a vector as the argument, in which case the receiver must be a
    // one-column matrix equal to the vector.
    eql: function(matrix, precision) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	if (this.elements.length != M.length ||
            this.elements[0].length != M[0].length) { return false; }
	var i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) { j = nj;
		      while (j--) {
			  if (Math.abs(this.elements[i][j] - M[i][j]) > (precision || Sylvester.precision)) { return false; }
		      }
		    }
	return true;
    },

    // Returns a copy of the matrix
    dup: function() {
	return Matrix.create(this.elements);
    },

    // Maps the matrix to another matrix (of the same dimensions) according to the given function
    map: function(fn) {
    var els = [], i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) { j = nj;
		      els[i] = [];
		      while (j--) {
			  els[i][j] = fn(this.elements[i][j], i + 1, j + 1);
		      }
		    }
	return Matrix.create(els);
    },

    // Returns true iff the argument has the same dimensions as the matrix
    isSameSizeAs: function(matrix) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	return (this.elements.length == M.length &&
		this.elements[0].length == M[0].length);
    },

    // Returns the result of adding the argument to the matrix
    add: function(matrix) {
	if(typeof(matrix) == 'number') {
	    return this.map(function(x, i, j) { return x + matrix});
	} else {
	    var M = matrix.elements || matrix;
	    if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	    if (!this.isSameSizeAs(M)) { return null; }
	    return this.map(function(x, i, j) { return x + M[i - 1][j - 1]; });
	}
    },

    // Returns the result of subtracting the argument from the matrix
    subtract: function(matrix) {
	if(typeof(matrix) == 'number') {
	    return this.map(function(x, i, j) { return x - matrix});
	} else {
	    var M = matrix.elements || matrix;
	    if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	    if (!this.isSameSizeAs(M)) { return null; }
	    return this.map(function(x, i, j) { return x - M[i - 1][j - 1]; });
	}
    },

    // Returns true iff the matrix can multiply the argument from the left
    canMultiplyFromLeft: function(matrix) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	// this.columns should equal matrix.rows
	return (this.elements[0].length == M.length);
    },

    // Returns the result of a multiplication-style operation the matrix from the right by the argument.
    // If the argument is a scalar then just operate on all the elements. If the argument is
    // a vector, a vector is returned, which saves you having to remember calling
    // col(1) on the result.
    mulOp: function(matrix, op) {
	if (!matrix.elements) {
	    return this.map(function(x) { return op(x, matrix); });
	}

	var returnVector = matrix.modulus ? true : false;
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') 
	    M = Matrix.create(M).elements;
	if (!this.canMultiplyFromLeft(M)) 
	    return null; 
	var e = this.elements, rowThis, rowElem, elements = [],
        sum, m = e.length, n = M[0].length, o = e[0].length, i = m, j, k;

	while (i--) {
            rowElem = [];
            rowThis = e[i];
            j = n;

            while (j--) {
		sum = 0;
		k = o;

		while (k--) {
                    sum += op(rowThis[k], M[k][j]);
		}

		rowElem[j] = sum;
            }

            elements[i] = rowElem;
	}

	var M = Matrix.create(elements);
	return returnVector ? M.col(1) : M;
    },

    // Returns the result of dividing the matrix from the right by the argument.
    // If the argument is a scalar then just divide all the elements. If the argument is
    // a vector, a vector is returned, which saves you having to remember calling
    // col(1) on the result.
    div: function(matrix) {
	return this.mulOp(matrix, function(x, y) { return x / y});
    },

    // Returns the result of multiplying the matrix from the right by the argument.
    // If the argument is a scalar then just multiply all the elements. If the argument is
    // a vector, a vector is returned, which saves you having to remember calling
    // col(1) on the result.
    multiply: function(matrix) {
	return this.mulOp(matrix, function(x, y) { return x * y});
    },

    x: function(matrix) { return this.multiply(matrix); },

    elementMultiply: function(v) {
        return this.map(function(k, i, j) {
            return v.e(i, j) * k;
        });
    },

    // sum all elements in the matrix
    sum: function() {
        var sum = 0;

        this.map(function(x) { sum += x;});

        return sum;
    },

    // Returns a Vector of each colum averaged.
    mean: function() {
      var dim = this.dimensions();
      var r = [];
      for (var i = 1; i <= dim.cols; i++) {
        r.push(this.col(i).sum() / dim.rows);
      }
      return $V(r);
    },

    column: function(n) {
	return this.col(n);
    },

    // element-wise log
    log: function() {
	return this.map(function(x) { return Math.log(x); });
    },

    // Returns a submatrix taken from the matrix
    // Argument order is: start row, start col, nrows, ncols
    // Element selection wraps if the required index is outside the matrix's bounds, so you could
    // use this to perform row/column cycling or copy-augmenting.
    minor: function(a, b, c, d) {
	var elements = [], ni = c, i, nj, j;
	var rows = this.elements.length, cols = this.elements[0].length;
	while (ni--) {
	    i = c - ni - 1;
	    elements[i] = [];
	    nj = d;
	    while (nj--) {
		j = d - nj - 1;
		elements[i][j] = this.elements[(a + i - 1) % rows][(b + j - 1) % cols];
	    }
	}
	return Matrix.create(elements);
    },

    // Returns the transpose of the matrix
    transpose: function() {
    var rows = this.elements.length, i, cols = this.elements[0].length, j;
	var elements = [], i = cols;
	while (i--) {
	    j = rows;
	    elements[i] = [];
	    while (j--) {
		elements[i][j] = this.elements[j][i];
	    }
	}
	return Matrix.create(elements);
    },

    // Returns true iff the matrix is square
    isSquare: function() {
	return (this.elements.length == this.elements[0].length);
    },

    // Returns the (absolute) largest element of the matrix
    max: function() {
	var m = 0, i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) {
	    j = nj;
	    while (j--) {
		if (Math.abs(this.elements[i][j]) > Math.abs(m)) { m = this.elements[i][j]; }
	    }
	}
	return m;
    },

    // Returns the indeces of the first match found by reading row-by-row from left to right
    indexOf: function(x) {
	var index = null, ni = this.elements.length, i, nj = this.elements[0].length, j;
	for (i = 0; i < ni; i++) {
	    for (j = 0; j < nj; j++) {
		if (this.elements[i][j] == x) { return {i: i + 1, j: j + 1}; }
	    }
	}
	return null;
    },

    // If the matrix is square, returns the diagonal elements as a vector.
    // Otherwise, returns null.
    diagonal: function() {
	if (!this.isSquare) { return null; }
	var els = [], n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    els.push(this.elements[i][i]);
	}
	return $V(els);
    },

    // Make the matrix upper (right) triangular by Gaussian elimination.
    // This method only adds multiples of rows to other rows. No rows are
    // scaled up or switched, and the determinant is preserved.
    toRightTriangular: function() {
	var M = this.dup(), els;
	var n = this.elements.length, i, j, np = this.elements[0].length, p;
	for (i = 0; i < n; i++) {
	    if (M.elements[i][i] == 0) {
		for (j = i + 1; j < n; j++) {
		    if (M.elements[j][i] != 0) {
			els = [];
			for (p = 0; p < np; p++) { els.push(M.elements[i][p] + M.elements[j][p]); }
			M.elements[i] = els;
			break;
		    }
		}
	    }
	    if (M.elements[i][i] != 0) {
		for (j = i + 1; j < n; j++) {
		    var multiplier = M.elements[j][i] / M.elements[i][i];
		    els = [];
		    for (p = 0; p < np; p++) {
			// Elements with column numbers up to an including the number
			// of the row that we're subtracting can safely be set straight to
			// zero, since that's the point of this routine and it avoids having
			// to loop over and correct rounding errors later
			els.push(p <= i ? 0 : M.elements[j][p] - M.elements[i][p] * multiplier);
		    }
		    M.elements[j] = els;
		}
	    }
	}
	return M;
    },

    toUpperTriangular: function() { return this.toRightTriangular(); },

    // Returns the determinant for square matrices
    determinant: function() {
	if (!this.isSquare()) { return null; }
	if (this.cols == 1 && this.rows == 1) { return this.row(1); }
	if (this.cols == 0 && this.rows == 0) { return 1; }
	var M = this.toRightTriangular();
	var det = M.elements[0][0], n = M.elements.length;
	for (var i = 1; i < n; i++) {
	    det = det * M.elements[i][i];
	}
	return det;
    },
    det: function() { return this.determinant(); },

    // Returns true iff the matrix is singular
    isSingular: function() {
	return (this.isSquare() && this.determinant() === 0);
    },

    // Returns the trace for square matrices
    trace: function() {
	if (!this.isSquare()) { return null; }
	var tr = this.elements[0][0], n = this.elements.length;
	for (var i = 1; i < n; i++) {
	    tr += this.elements[i][i];
	}
	return tr;
    },

    tr: function() { return this.trace(); },

    // Returns the rank of the matrix
    rank: function() {
	var M = this.toRightTriangular(), rank = 0;
	var i = this.elements.length, nj = this.elements[0].length, j;
	while (i--) {
	    j = nj;
	    while (j--) {
		if (Math.abs(M.elements[i][j]) > Sylvester.precision) { rank++; break; }
	    }
	}
	return rank;
    },

    rk: function() { return this.rank(); },

    // Returns the result of attaching the given argument to the right-hand side of the matrix
    augment: function(matrix) {
	var M = matrix.elements || matrix;
	if (typeof(M[0][0]) == 'undefined') { M = Matrix.create(M).elements; }
	var T = this.dup(), cols = T.elements[0].length;
	var i = T.elements.length, nj = M[0].length, j;
	if (i != M.length) { return null; }
	while (i--) {
	    j = nj;
	    while (j--) {
		T.elements[i][cols + j] = M[i][j];
	    }
	}
	return T;
    },

    // Returns the inverse (if one exists) using Gauss-Jordan
    inverse: function() {
	if (!this.isSquare() || this.isSingular()) { return null; }
	var n = this.elements.length, i = n, j;
	var M = this.augment(Matrix.I(n)).toRightTriangular();
	var np = M.elements[0].length, p, els, divisor;
	var inverse_elements = [], new_element;
	// Matrix is non-singular so there will be no zeros on the diagonal
	// Cycle through rows from last to first
	while (i--) {
	    // First, normalise diagonal elements to 1
	    els = [];
	    inverse_elements[i] = [];
	    divisor = M.elements[i][i];
	    for (p = 0; p < np; p++) {
        new_element = M.elements[i][p] / divisor;
		els.push(new_element);
		// Shuffle off the current row of the right hand side into the results
		// array as it will not be modified by later runs through this loop
		if (p >= n) { inverse_elements[i].push(new_element); }
	    }
	    M.elements[i] = els;
	    // Then, subtract this row from those above it to
	    // give the identity matrix on the left hand side
	    j = i;
	    while (j--) {
		els = [];
		for (p = 0; p < np; p++) {
		    els.push(M.elements[j][p] - M.elements[i][p] * M.elements[j][i]);
		}
		M.elements[j] = els;
	    }
	}
	return Matrix.create(inverse_elements);
    },

    inv: function() { return this.inverse(); },

    // Returns the result of rounding all the elements
    round: function() {
	return this.map(function(x) { return Math.round(x); });
    },

    // Returns a copy of the matrix with elements set to the given value if they
    // differ from it by less than Sylvester.precision
    snapTo: function(x) {
	return this.map(function(p) {
	    return (Math.abs(p - x) <= Sylvester.precision) ? x : p;
	});
    },

    // Returns a string representation of the matrix
    inspect: function() {
	var matrix_rows = [];
	var n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    matrix_rows.push($V(this.elements[i]).inspect());
	}
	return matrix_rows.join('\n');
    },

    // Returns a array representation of the matrix
    toArray: function() {
    	var matrix_rows = [];
    	var n = this.elements.length;
    	for (var i = 0; i < n; i++) {
        matrix_rows.push(this.elements[i]);
    	}
      return matrix_rows;
    },


    // Set the matrix's elements from an array. If the argument passed
    // is a vector, the resulting matrix will be a single column.
    setElements: function(els) {
	var i, j, elements = els.elements || els;
	if (typeof(elements[0][0]) != 'undefined') {
	    i = elements.length;
	    this.elements = [];
	    while (i--) {
		j = elements[i].length;
		this.elements[i] = [];
		while (j--) {
		    this.elements[i][j] = elements[i][j];
		}
	    }
	    return this;
	}
	var n = elements.length;
	this.elements = [];
	for (i = 0; i < n; i++) {
	    this.elements.push([elements[i]]);
	}
	return this;
    },

    // return the indexes of the columns with the largest value
    // for each row
    maxColumnIndexes: function() {
	var maxes = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var max = null;
	    var maxIndex = -1;

	    for(var j = 1; j <= this.cols(); j++) {
		if(max === null || this.e(i, j) > max) {
		    max = this.e(i, j);
		    maxIndex = j;
		}
	    }

	    maxes.push(maxIndex);
	}

	return $V(maxes);
    },

    // return the largest values in each row
    maxColumns: function() {
	var maxes = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var max = null;

	    for(var j = 1; j <= this.cols(); j++) {
		if(max === null || this.e(i, j) > max) {
		    max = this.e(i, j);
		}
	    }

	    maxes.push(max);
	}

	return $V(maxes);
    },

    // return the indexes of the columns with the smallest values
    // for each row
    minColumnIndexes: function() {
	var mins = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var min = null;
	    var minIndex = -1;

	    for(var j = 1; j <= this.cols(); j++) {
		if(min === null || this.e(i, j) < min) {
		    min = this.e(i, j);
		    minIndex = j;
		}
	    }

	    mins.push(minIndex);
	}

	return $V(mins);
    },

    // return the smallest values in each row
    minColumns: function() {
	var mins = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var min = null;

	    for(var j = 1; j <= this.cols(); j++) {
		if(min === null || this.e(i, j) < min) {
		    min = this.e(i, j);
		}
	    }

	    mins.push(min);
	}

	return $V(mins);
    },
    
    // perorm a partial pivot on the matrix. essentially move the largest
    // row below-or-including the pivot and replace the pivot's row with it.
    // a pivot matrix is returned so multiplication can perform the transform.
    partialPivot: function(k, j, P, A, L) {
	var maxIndex = 0;
	var maxValue = 0;

	for(var i = k; i <= A.rows(); i++) {
	    if(Math.abs(A.e(i, j)) > maxValue) {
		maxValue = Math.abs(A.e(k, j));
		maxIndex = i;
	    }
	}

	if(maxIndex != k) {
	    var tmp = A.elements[k - 1];
	    A.elements[k - 1] = A.elements[maxIndex - 1];
	    A.elements[maxIndex - 1] = tmp;
	    
	    P.elements[k - 1][k - 1] = 0;
	    P.elements[k - 1][maxIndex - 1] = 1;
	    P.elements[maxIndex - 1][maxIndex - 1] = 0;
	    P.elements[maxIndex - 1][k - 1] = 1;
	}
	
	return P;
    },

    // solve lower-triangular matrix * x = b via forward substitution
    forwardSubstitute: function(b) {
	var xa = [];

	for(var i = 1; i <= this.rows(); i++) {
	    var w = 0;

	    for(var j = 1; j < i; j++) {
		w += this.e(i, j) * xa[j - 1];
	    }

	    xa.push((b.e(i) - w) / this.e(i, i));
	}

	return $V(xa);
    },

    // solve an upper-triangular matrix * x = b via back substitution
    backSubstitute: function(b) {
	var xa = [];

	for(var i = this.rows(); i > 0; i--) {
	    var w = 0;

	    for(var j = this.cols(); j > i; j--) {
		w += this.e(i, j) * xa[this.rows() - j];
	    }

	    xa.push((b.e(i) - w) / this.e(i, i));
	}

	return $V(xa.reverse());
    },
    
    luJs: luJs,
    svdJs: svdJs,
    qrJs: qrJs,
};


var tolerance =  1.4901e-08;

// pure Javascript LU factorization
function luJs() {
    var A = this.dup();
    var L = Matrix.I(A.rows());
    var P = Matrix.I(A.rows());
    var U = Matrix.Zeros(A.rows(), A.cols());
    var p = 1;

    for(var k = 1; k <= Math.min(A.cols(), A.rows()); k++) {
	P = A.partialPivot(k, p, P, A, L);
	
	for(var i = k + 1; i <= A.rows(); i++) {
	    var l = A.e(i, p) / A.e(k, p);
	    L.elements[i - 1][k - 1] = l;
	    
	    for(var j = k + 1 ; j <= A.cols(); j++) {
		A.elements[i - 1][j - 1] -= A.e(k, j) * l;
	    }
	}
	
	for(var j = k; j <= A.cols(); j++) {
	    U.elements[k - 1][j - 1] = A.e(k, j);
	}

	if(p < A.cols())
	    p++;
    }    
    
    return {L: L, U: U, P: P};
}



Matrix.prototype.svd = svdJs;
Matrix.prototype.qr = qrJs;
Matrix.prototype.lu = luJs;

// Constructor function
Matrix.create = function(aElements) {
    var M = new Matrix().setElements(aElements);
    return M;
};

// Identity matrix of size n
Matrix.I = function(n) {
    var els = [], i = n, j;
    while (i--) {
	j = n;
	els[i] = [];
	while (j--) {
	    els[i][j] = (i == j) ? 1 : 0;
	}
    }
    return Matrix.create(els);
};

Matrix.loadFile = function(file) {
    var fs = __webpack_require__(/*! fs */ "fs");
    var contents = fs.readFileSync(file, 'utf-8');
    var matrix = [];

    var rowArray = contents.split('\n');
    for (var i = 0; i < rowArray.length; i++) {
	var d = rowArray[i].split(',');
	if (d.length > 1) {
	    matrix.push(d);
	}
    }

    var M = new Matrix();
    return M.setElements(matrix);
};

// Diagonal matrix - all off-diagonal elements are zero
Matrix.Diagonal = function(elements) {
    var i = elements.length;
    var M = Matrix.I(i);
    while (i--) {
	M.elements[i][i] = elements[i];
    }
    return M;
};

// Rotation matrix about some axis. If no axis is
// supplied, assume we're after a 2D transform
Matrix.Rotation = function(theta, a) {
    if (!a) {
	return Matrix.create([
	    [Math.cos(theta), -Math.sin(theta)],
	    [Math.sin(theta), Math.cos(theta)]
	]);
    }
    var axis = a.dup();
    if (axis.elements.length != 3) { return null; }
    var mod = axis.modulus();
    var x = axis.elements[0] / mod, y = axis.elements[1] / mod, z = axis.elements[2] / mod;
    var s = Math.sin(theta), c = Math.cos(theta), t = 1 - c;
    // Formula derived here: http://www.gamedev.net/reference/articles/article1199.asp
    // That proof rotates the co-ordinate system so theta
    // becomes -theta and sin becomes -sin here.
    return Matrix.create([
	[t * x * x + c, t * x * y - s * z, t * x * z + s * y],
	[t * x * y + s * z, t * y * y + c, t * y * z - s * x],
	[t * x * z - s * y, t * y * z + s * x, t * z * z + c]
    ]);
};

// Special case rotations
Matrix.RotationX = function(t) {
    var c = Math.cos(t), s = Math.sin(t);
    return Matrix.create([
	[1, 0, 0],
	[0, c, -s],
	[0, s, c]
    ]);
};

Matrix.RotationY = function(t) {
    var c = Math.cos(t), s = Math.sin(t);
    return Matrix.create([
	[c, 0, s],
	[0, 1, 0],
	[-s, 0, c]
    ]);
};

Matrix.RotationZ = function(t) {
    var c = Math.cos(t), s = Math.sin(t);
    return Matrix.create([
	[c, -s, 0],
	[s, c, 0],
	[0, 0, 1]
    ]);
};

// Random matrix of n rows, m columns
Matrix.Random = function(n, m) {
    if (arguments.length === 1) m = n;
    return Matrix.Zero(n, m).map(
	function() { return Math.random(); }
  );
};

Matrix.Fill = function(n, m, v) {
    if (arguments.length === 2) {
	v = m;
	m = n;
    }

    var els = [], i = n, j;

    while (i--) {
	j = m;
	els[i] = [];

	while (j--) {
	    els[i][j] = v;
	}
    }

    return Matrix.create(els);
};

// Matrix filled with zeros
Matrix.Zero = function(n, m) {
    return Matrix.Fill(n, m, 0);
};

// Matrix filled with zeros
Matrix.Zeros = function(n, m) {
    return Matrix.Zero(n, m);
};

// Matrix filled with ones
Matrix.One = function(n, m) {
    return Matrix.Fill(n, m, 1);
};

// Matrix filled with ones
Matrix.Ones = function(n, m) {
    return Matrix.One(n, m);
};

module.exports = Matrix;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/plane.js":
/*!************************************************!*\
  !*** ./node_modules/sylvester.js/lib/plane.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// Plane class - depends on Vector. Some methods require Matrix and Line.
var Vector = __webpack_require__(/*! ./vector */ "./node_modules/sylvester.js/lib/vector.js");
var Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");
var Line = __webpack_require__(/*! ./line */ "./node_modules/sylvester.js/lib/line.js");

var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js");

function Plane() {}
Plane.prototype = {

  // Returns true iff the plane occupies the same space as the argument
  eql: function(plane) {
    return (this.contains(plane.anchor) && this.isParallelTo(plane));
  },

  // Returns a copy of the plane
  dup: function() {
    return Plane.create(this.anchor, this.normal);
  },

  // Returns the result of translating the plane by the given vector
  translate: function(vector) {
    var V = vector.elements || vector;
    return Plane.create([
      this.anchor.elements[0] + V[0],
      this.anchor.elements[1] + V[1],
      this.anchor.elements[2] + (V[2] || 0)
    ], this.normal);
  },

  // Returns true iff the plane is parallel to the argument. Will return true
  // if the planes are equal, or if you give a line and it lies in the plane.
  isParallelTo: function(obj) {
    var theta;
    if (obj.normal) {
      // obj is a plane
      theta = this.normal.angleFrom(obj.normal);
      return (Math.abs(theta) <= Sylvester.precision || Math.abs(Math.PI - theta) <= Sylvester.precision);
    } else if (obj.direction) {
      // obj is a line
      return this.normal.isPerpendicularTo(obj.direction);
    }
    return null;
  },

  // Returns true iff the receiver is perpendicular to the argument
  isPerpendicularTo: function(plane) {
    var theta = this.normal.angleFrom(plane.normal);
    return (Math.abs(Math.PI/2 - theta) <= Sylvester.precision);
  },

  // Returns the plane's distance from the given object (point, line or plane)
  distanceFrom: function(obj) {
    if (this.intersects(obj) || this.contains(obj)) { return 0; }
    if (obj.anchor) {
      // obj is a plane or line
      var A = this.anchor.elements, B = obj.anchor.elements, N = this.normal.elements;
      return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      var A = this.anchor.elements, N = this.normal.elements;
      return Math.abs((A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2]);
    }
  },

  // Returns true iff the plane contains the given point or line
  contains: function(obj) {
    if (obj.normal) { return null; }
    if (obj.direction) {
      return (this.contains(obj.anchor) && this.contains(obj.anchor.add(obj.direction)));
    } else {
      var P = obj.elements || obj;
      var A = this.anchor.elements, N = this.normal.elements;
      var diff = Math.abs(N[0]*(A[0] - P[0]) + N[1]*(A[1] - P[1]) + N[2]*(A[2] - (P[2] || 0)));
      return (diff <= Sylvester.precision);
    }
  },

  // Returns true iff the plane has a unique point/line of intersection with the argument
  intersects: function(obj) {
    if (typeof(obj.direction) == 'undefined' && typeof(obj.normal) == 'undefined') { return null; }
    return !this.isParallelTo(obj);
  },

  // Returns the unique intersection with the argument, if one exists. The result
  // will be a vector if a line is supplied, and a line if a plane is supplied.
  intersectionWith: function(obj) {
    if (!this.intersects(obj)) { return null; }
    if (obj.direction) {
      // obj is a line
      var A = obj.anchor.elements, D = obj.direction.elements,
          P = this.anchor.elements, N = this.normal.elements;
      var multiplier = (N[0]*(P[0]-A[0]) + N[1]*(P[1]-A[1]) + N[2]*(P[2]-A[2])) / (N[0]*D[0] + N[1]*D[1] + N[2]*D[2]);
      return Vector.create([A[0] + D[0]*multiplier, A[1] + D[1]*multiplier, A[2] + D[2]*multiplier]);
    } else if (obj.normal) {
      // obj is a plane
      var direction = this.normal.cross(obj.normal).toUnitVector();
      // To find an anchor point, we find one co-ordinate that has a value
      // of zero somewhere on the intersection, and remember which one we picked
      var N = this.normal.elements, A = this.anchor.elements,
          O = obj.normal.elements, B = obj.anchor.elements;
      var solver = Matrix.Zero(2,2), i = 0;
      while (solver.isSingular()) {
        i++;
        solver = Matrix.create([
          [ N[i%3], N[(i+1)%3] ],
          [ O[i%3], O[(i+1)%3]  ]
        ]);
      }
      // Then we solve the simultaneous equations in the remaining dimensions
      var inverse = solver.inverse().elements;
      var x = N[0]*A[0] + N[1]*A[1] + N[2]*A[2];
      var y = O[0]*B[0] + O[1]*B[1] + O[2]*B[2];
      var intersection = [
        inverse[0][0] * x + inverse[0][1] * y,
        inverse[1][0] * x + inverse[1][1] * y
      ];
      var anchor = [];
      for (var j = 1; j <= 3; j++) {
        // This formula picks the right element from intersection by
        // cycling depending on which element we set to zero above
        anchor.push((i == j) ? 0 : intersection[(j + (5 - i)%3)%3]);
      }
      return Line.create(anchor, direction);
    }
  },

  // Returns the point in the plane closest to the given point
  pointClosestTo: function(point) {
    var P = point.elements || point;
    var A = this.anchor.elements, N = this.normal.elements;
    var dot = (A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2];
    return Vector.create([P[0] + N[0] * dot, P[1] + N[1] * dot, (P[2] || 0) + N[2] * dot]);
  },

  // Returns a copy of the plane, rotated by t radians about the given line
  // See notes on Line#rotate.
  rotate: function(t, line) {
    var R = t.determinant ? t.elements : Matrix.Rotation(t, line.direction).elements;
    var C = line.pointClosestTo(this.anchor).elements;
    var A = this.anchor.elements, N = this.normal.elements;
    var C1 = C[0], C2 = C[1], C3 = C[2], A1 = A[0], A2 = A[1], A3 = A[2];
    var x = A1 - C1, y = A2 - C2, z = A3 - C3;
    return Plane.create([
      C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z,
      C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z,
      C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z
    ], [
      R[0][0] * N[0] + R[0][1] * N[1] + R[0][2] * N[2],
      R[1][0] * N[0] + R[1][1] * N[1] + R[1][2] * N[2],
      R[2][0] * N[0] + R[2][1] * N[1] + R[2][2] * N[2]
    ]);
  },

  // Returns the reflection of the plane in the given point, line or plane.
  reflectionIn: function(obj) {
    if (obj.normal) {
      // obj is a plane
      var A = this.anchor.elements, N = this.normal.elements;
      var A1 = A[0], A2 = A[1], A3 = A[2], N1 = N[0], N2 = N[1], N3 = N[2];
      var newA = this.anchor.reflectionIn(obj).elements;
      // Add the plane's normal to its anchor, then mirror that in the other plane
      var AN1 = A1 + N1, AN2 = A2 + N2, AN3 = A3 + N3;
      var Q = obj.pointClosestTo([AN1, AN2, AN3]).elements;
      var newN = [Q[0] + (Q[0] - AN1) - newA[0], Q[1] + (Q[1] - AN2) - newA[1], Q[2] + (Q[2] - AN3) - newA[2]];
      return Plane.create(newA, newN);
    } else if (obj.direction) {
      // obj is a line
      return this.rotate(Math.PI, obj);
    } else {
      // obj is a point
      var P = obj.elements || obj;
      return Plane.create(this.anchor.reflectionIn([P[0], P[1], (P[2] || 0)]), this.normal);
    }
  },

  // Sets the anchor point and normal to the plane. If three arguments are specified,
  // the normal is calculated by assuming the three points should lie in the same plane.
  // If only two are sepcified, the second is taken to be the normal. Normal vector is
  // normalised before storage.
  setVectors: function(anchor, v1, v2) {
    anchor = Vector.create(anchor);
    anchor = anchor.to3D(); if (anchor === null) { return null; }
    v1 = Vector.create(v1);
    v1 = v1.to3D(); if (v1 === null) { return null; }
    if (typeof(v2) == 'undefined') {
      v2 = null;
    } else {
      v2 = Vector.create(v2);
      v2 = v2.to3D(); if (v2 === null) { return null; }
    }
    var A1 = anchor.elements[0], A2 = anchor.elements[1], A3 = anchor.elements[2];
    var v11 = v1.elements[0], v12 = v1.elements[1], v13 = v1.elements[2];
    var normal, mod;
    if (v2 !== null) {
      var v21 = v2.elements[0], v22 = v2.elements[1], v23 = v2.elements[2];
      normal = Vector.create([
        (v12 - A2) * (v23 - A3) - (v13 - A3) * (v22 - A2),
        (v13 - A3) * (v21 - A1) - (v11 - A1) * (v23 - A3),
        (v11 - A1) * (v22 - A2) - (v12 - A2) * (v21 - A1)
      ]);
      mod = normal.modulus();
      if (mod === 0) { return null; }
      normal = Vector.create([normal.elements[0] / mod, normal.elements[1] / mod, normal.elements[2] / mod]);
    } else {
      mod = Math.sqrt(v11*v11 + v12*v12 + v13*v13);
      if (mod === 0) { return null; }
      normal = Vector.create([v1.elements[0] / mod, v1.elements[1] / mod, v1.elements[2] / mod]);
    }
    this.anchor = anchor;
    this.normal = normal;
    return this;
  }
};

// Constructor function
Plane.create = function(anchor, v1, v2) {
  var P = new Plane();
  return P.setVectors(anchor, v1, v2);
};

// X-Y-Z planes
Plane.XY = Plane.create(Vector.Zero(3), Vector.k);
Plane.YZ = Plane.create(Vector.Zero(3), Vector.i);
Plane.ZX = Plane.create(Vector.Zero(3), Vector.j);
Plane.YX = Plane.XY; Plane.ZY = Plane.YZ; Plane.XZ = Plane.ZX;

// Returns the plane containing the given points (can be arrays as
// well as vectors). If the points are not coplanar, returns null.
Plane.fromPoints = function(points) {
  var np = points.length, list = [], i, P, n, N, A, B, C, D, theta, prevN, totalN = Vector.Zero(3);
  for (i = 0; i < np; i++) {
    P = Vector.create(points[i]).to3D();
    if (P === null) { return null; }
    list.push(P);
    n = list.length;
    if (n > 2) {
      // Compute plane normal for the latest three points
      A = list[n-1].elements; B = list[n-2].elements; C = list[n-3].elements;
      N = Vector.create([
        (A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]),
        (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]),
        (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])
      ]).toUnitVector();
      if (n > 3) {
        // If the latest normal is not (anti)parallel to the previous one, we've strayed off the plane.
        // This might be a slightly long-winded way of doing things, but we need the sum of all the normals
        // to find which way the plane normal should point so that the points form an anticlockwise list.
        theta = N.angleFrom(prevN);
        if (theta !== null) {
          if (!(Math.abs(theta) <= Sylvester.precision || Math.abs(theta - Math.PI) <= Sylvester.precision)) { return null; }
        }
      }
      totalN = totalN.add(N);
      prevN = N;
    }
  }
  // We need to add in the normals at the start and end points, which the above misses out
  A = list[1].elements; B = list[0].elements; C = list[n-1].elements; D = list[n-2].elements;
  totalN = totalN.add(Vector.create([
    (A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]),
    (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]),
    (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])
  ]).toUnitVector()).add(Vector.create([
    (B[1] - C[1]) * (D[2] - C[2]) - (B[2] - C[2]) * (D[1] - C[1]),
    (B[2] - C[2]) * (D[0] - C[0]) - (B[0] - C[0]) * (D[2] - C[2]),
    (B[0] - C[0]) * (D[1] - C[1]) - (B[1] - C[1]) * (D[0] - C[0])
  ]).toUnitVector());
  return Plane.create(list[0], totalN);
};

module.exports = Plane;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/sylvester.js":
/*!****************************************************!*\
  !*** ./node_modules/sylvester.js/lib/sylvester.js ***!
  \****************************************************/
/***/ ((module) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// This file is required in order for any other classes to work. Some Vector methods work with the
// other Sylvester classes and are useless unless they are included. Other classes such as Line and
// Plane will not function at all without Vector being loaded first.           

Math.sign = function(x) {
    return x < 0 ? -1: 1;
}
                                              
var Sylvester = {
    precision: 1e-6,
    approxPrecision: 1e-5
};

module.exports = Sylvester;


/***/ }),

/***/ "./node_modules/sylvester.js/lib/vector.js":
/*!*************************************************!*\
  !*** ./node_modules/sylvester.js/lib/vector.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Copyright (c) 2011, Chris Umbel, James Coglan
// This file is required in order for any other classes to work. Some Vector methods work with the
// other Sylvester classes and are useless unless they are included. Other classes such as Line and
// Plane will not function at all without Vector being loaded first.

var Sylvester = __webpack_require__(/*! ./sylvester */ "./node_modules/sylvester.js/lib/sylvester.js"),
Matrix = __webpack_require__(/*! ./matrix */ "./node_modules/sylvester.js/lib/matrix.js");

function Vector() {}
Vector.prototype = {

    norm: function() {
	var n = this.elements.length;
	var sum = 0;

	while (n--) {
	    sum += Math.pow(this.elements[n], 2);
	}

	return Math.sqrt(sum);
    },

    // Returns element i of the vector
    e: function(i) {
      return (i < 1 || i > this.elements.length) ? null : this.elements[i - 1];
    },

    // Returns the number of rows/columns the vector has
    dimensions: function() {
      return {rows: 1, cols: this.elements.length};
    },

    // Returns the number of rows in the vector
    rows: function() {
      return 1;
    },

    // Returns the number of columns in the vector
    cols: function() {
      return this.elements.length;
    },

    // Returns the modulus ('length') of the vector
    modulus: function() {
      return Math.sqrt(this.dot(this));
    },

    // Returns true iff the vector is equal to the argument
    eql: function(vector) {
    	var n = this.elements.length;
    	var V = vector.elements || vector;
    	if (n != V.length) { return false; }
    	while (n--) {
    	    if (Math.abs(this.elements[n] - V[n]) > Sylvester.precision) { return false; }
    	}
    	return true;
    },

    // Returns a copy of the vector
    dup: function() {
	    return Vector.create(this.elements);
    },

    // Maps the vector to another vector according to the given function
    map: function(fn) {
	var elements = [];
	this.each(function(x, i) {
	    elements.push(fn(x, i));
	});
	return Vector.create(elements);
    },

    // Calls the iterator for each element of the vector in turn
    each: function(fn) {
	var n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    fn(this.elements[i], i + 1);
	}
    },

    // Returns a new vector created by normalizing the receiver
    toUnitVector: function() {
	var r = this.modulus();
	if (r === 0) { return this.dup(); }
	return this.map(function(x) { return x / r; });
    },

    // Returns the angle between the vector and the argument (also a vector)
    angleFrom: function(vector) {
	var V = vector.elements || vector;
	var n = this.elements.length, k = n, i;
	if (n != V.length) { return null; }
	var dot = 0, mod1 = 0, mod2 = 0;
	// Work things out in parallel to save time
	this.each(function(x, i) {
	    dot += x * V[i - 1];
	    mod1 += x * x;
	    mod2 += V[i - 1] * V[i - 1];
	});
	mod1 = Math.sqrt(mod1); mod2 = Math.sqrt(mod2);
	if (mod1 * mod2 === 0) { return null; }
	var theta = dot / (mod1 * mod2);
	if (theta < -1) { theta = -1; }
	if (theta > 1) { theta = 1; }
	return Math.acos(theta);
    },

    // Returns true iff the vector is parallel to the argument
    isParallelTo: function(vector) {
	var angle = this.angleFrom(vector);
	return (angle === null) ? null : (angle <= Sylvester.precision);
    },

    // Returns true iff the vector is antiparallel to the argument
    isAntiparallelTo: function(vector) {
	var angle = this.angleFrom(vector);
	return (angle === null) ? null : (Math.abs(angle - Math.PI) <= Sylvester.precision);
    },

    // Returns true iff the vector is perpendicular to the argument
    isPerpendicularTo: function(vector) {
	var dot = this.dot(vector);
	return (dot === null) ? null : (Math.abs(dot) <= Sylvester.precision);
    },

    // Returns the result of adding the argument to the vector
    add: function(value) {
	var V = value.elements || value;

	if (this.elements.length != V.length) 
	    return this.map(function(v) { return v + value });
	else
	    return this.map(function(x, i) { return x + V[i - 1]; });
    },

    // Returns the result of subtracting the argument from the vector
    subtract: function(v) {
	if (typeof(v) == 'number')
	    return this.map(function(k) { return k - v; });

	var V = v.elements || v;
	if (this.elements.length != V.length) { return null; }
	return this.map(function(x, i) { return x - V[i - 1]; });
    },

    // Returns the result of multiplying the elements of the vector by the argument
    multiply: function(k) {
	return this.map(function(x) { return x * k; });
    },

    elementMultiply: function(v) {
	return this.map(function(k, i) {
	    return v.e(i) * k;
	});
    },

    sum: function() {
	var sum = 0;
	this.map(function(x) { sum += x;});
	return sum;
    },

    chomp: function(n) {
	var elements = [];

	for (var i = n; i < this.elements.length; i++) {
	    elements.push(this.elements[i]);
	}

	return Vector.create(elements);
    },

    top: function(n) {
	var elements = [];

	for (var i = 0; i < n; i++) {
	    elements.push(this.elements[i]);
	}

	return Vector.create(elements);
    },

    augment: function(elements) {
	var newElements = this.elements;

	for (var i = 0; i < elements.length; i++) {
	    newElements.push(elements[i]);
	}

	return Vector.create(newElements);
    },

    x: function(k) { return this.multiply(k); },

    log: function() {
	return Vector.log(this);
    },

    elementDivide: function(vector) {
	return this.map(function(v, i) {
	    return v / vector.e(i);
	});
    },

    product: function() {
	var p = 1;

	this.map(function(v) {
	    p *= v;
	});

	return p;
    },

    // Returns the scalar product of the vector with the argument
    // Both vectors must have equal dimensionality
    dot: function(vector) {
	var V = vector.elements || vector;
	var i, product = 0, n = this.elements.length;	
	if (n != V.length) { return null; }
	while (n--) { product += this.elements[n] * V[n]; }
	return product;
    },

    // Returns the vector product of the vector with the argument
    // Both vectors must have dimensionality 3
    cross: function(vector) {
	var B = vector.elements || vector;
	if (this.elements.length != 3 || B.length != 3) { return null; }
	var A = this.elements;
	return Vector.create([
	    (A[1] * B[2]) - (A[2] * B[1]),
	    (A[2] * B[0]) - (A[0] * B[2]),
	    (A[0] * B[1]) - (A[1] * B[0])
	]);
    },

    // Returns the (absolute) largest element of the vector
    max: function() {
	var m = 0, i = this.elements.length;
	while (i--) {
	    if (Math.abs(this.elements[i]) > Math.abs(m)) { m = this.elements[i]; }
	}
	return m;
    },


    maxIndex: function() {
	var m = 0, i = this.elements.length;
	var maxIndex = -1;

	while (i--) {
	    if (Math.abs(this.elements[i]) > Math.abs(m)) { 
		m = this.elements[i]; 
		maxIndex = i + 1;
	    }
	}

	return maxIndex;
    },


    // Returns the index of the first match found
    indexOf: function(x) {
	var index = null, n = this.elements.length;
	for (var i = 0; i < n; i++) {
	    if (index === null && this.elements[i] == x) {
		index = i + 1;
	    }
	}
	return index;
    },

    // Returns a diagonal matrix with the vector's elements as its diagonal elements
    toDiagonalMatrix: function() {
	return Matrix.Diagonal(this.elements);
    },

    // Returns the result of rounding the elements of the vector
    round: function() {
	return this.map(function(x) { return Math.round(x); });
    },

    // Transpose a Vector, return a 1xn Matrix
    transpose: function() {
	var rows = this.elements.length;
	var elements = [];

	for (var i = 0; i < rows; i++) {
	    elements.push([this.elements[i]]);
	}
	return Matrix.create(elements);
    },

    // Returns a copy of the vector with elements set to the given value if they
    // differ from it by less than Sylvester.precision
    snapTo: function(x) {
	return this.map(function(y) {
	    return (Math.abs(y - x) <= Sylvester.precision) ? x : y;
	});
    },

    // Returns the vector's distance from the argument, when considered as a point in space
    distanceFrom: function(obj) {
	if (obj.anchor || (obj.start && obj.end)) { return obj.distanceFrom(this); }
	var V = obj.elements || obj;
	if (V.length != this.elements.length) { return null; }
	var sum = 0, part;
	this.each(function(x, i) {
	    part = x - V[i - 1];
	    sum += part * part;
	});
	return Math.sqrt(sum);
    },

    // Returns true if the vector is point on the given line
    liesOn: function(line) {
	return line.contains(this);
    },

    // Return true iff the vector is a point in the given plane
    liesIn: function(plane) {
	return plane.contains(this);
    },

    // Rotates the vector about the given object. The object should be a
    // point if the vector is 2D, and a line if it is 3D. Be careful with line directions!
    rotate: function(t, obj) {
	var V, R = null, x, y, z;
	if (t.determinant) { R = t.elements; }
	switch (this.elements.length) {
	case 2:
            V = obj.elements || obj;
            if (V.length != 2) { return null; }
            if (!R) { R = Matrix.Rotation(t).elements; }
            x = this.elements[0] - V[0];
            y = this.elements[1] - V[1];
            return Vector.create([
		V[0] + R[0][0] * x + R[0][1] * y,
		V[1] + R[1][0] * x + R[1][1] * y
            ]);
            break;
	case 3:
            if (!obj.direction) { return null; }
            var C = obj.pointClosestTo(this).elements;
            if (!R) { R = Matrix.Rotation(t, obj.direction).elements; }
            x = this.elements[0] - C[0];
            y = this.elements[1] - C[1];
            z = this.elements[2] - C[2];
            return Vector.create([
		C[0] + R[0][0] * x + R[0][1] * y + R[0][2] * z,
		C[1] + R[1][0] * x + R[1][1] * y + R[1][2] * z,
		C[2] + R[2][0] * x + R[2][1] * y + R[2][2] * z
            ]);
            break;
	default:
            return null;
	}
    },

    // Returns the result of reflecting the point in the given point, line or plane
    reflectionIn: function(obj) {
	if (obj.anchor) {
	    // obj is a plane or line
	    var P = this.elements.slice();
	    var C = obj.pointClosestTo(P).elements;
	    return Vector.create([C[0] + (C[0] - P[0]), C[1] + (C[1] - P[1]), C[2] + (C[2] - (P[2] || 0))]);
	} else {
	    // obj is a point
	    var Q = obj.elements || obj;
	    if (this.elements.length != Q.length) { return null; }
	    return this.map(function(x, i) { return Q[i - 1] + (Q[i - 1] - x); });
	}
    },

    // Utility to make sure vectors are 3D. If they are 2D, a zero z-component is added
    to3D: function() {
	var V = this.dup();
	switch (V.elements.length) {
	case 3: break;
	case 2: V.elements.push(0); break;
	default: return null;
	}
	return V;
    },

    // Returns a string representation of the vector
    inspect: function() {
	return '[' + this.elements.join(', ') + ']';
    },

    // Set vector's elements from an array
    setElements: function(els) {
	this.elements = (els.elements || els).slice();
	return this;
    }
};

// Constructor function
Vector.create = function(elements) {
    var V = new Vector();
    return V.setElements(elements);
};

// i, j, k unit vectors
Vector.i = Vector.create([1, 0, 0]);
Vector.j = Vector.create([0, 1, 0]);
Vector.k = Vector.create([0, 0, 1]);

// Random vector of size n
Vector.Random = function(n) {
    var elements = [];
    while (n--) { elements.push(Math.random()); }
    return Vector.create(elements);
};

Vector.Fill = function(n, v) {
    var elements = [];
    while (n--) { elements.push(v); }
    return Vector.create(elements);
};

// Vector filled with zeros
Vector.Zero = function(n) {
    return Vector.Fill(n, 0);
};

Vector.One = function(n) {
    return Vector.Fill(n, 1);
};

Vector.log = function(v) {
    return v.map(function(x) {
	return Math.log(x);
    });
};

module.exports = Vector;


/***/ }),

/***/ "./src/app/Attribute.ts":
/*!******************************!*\
  !*** ./src/app/Attribute.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Attribute = void 0;
exports.Attribute = {
    COMMAND: 'data-command',
    FULL_NAME: 'data-full-name',
    NAME: 'data-name',
    PID: 'data-pid',
    UDID: 'data-udid',
    URL: 'data-url',
    USE_PROXY: 'data-use-proxy',
    SECURE: 'data-secure',
    HOSTNAME: 'data-hostname',
    PORT: 'data-port',
    PATHNAME: 'data-pathname',
    VALUE: 'data-value',
};


/***/ }),

/***/ "./src/app/DisplayInfo.ts":
/*!********************************!*\
  !*** ./src/app/DisplayInfo.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DisplayInfo = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Size */ "./src/app/Size.ts"));
var DisplayInfo = (function () {
    function DisplayInfo(displayId, size, rotation, layerStack, flags) {
        this.displayId = displayId;
        this.size = size;
        this.rotation = rotation;
        this.layerStack = layerStack;
        this.flags = flags;
    }
    DisplayInfo.prototype.toBuffer = function () {
        var temp = Buffer.alloc(DisplayInfo.BUFFER_LENGTH);
        var offset = 0;
        offset = temp.writeInt32BE(this.displayId, offset);
        offset = temp.writeInt32BE(this.size.width, offset);
        offset = temp.writeInt32BE(this.size.height, offset);
        offset = temp.writeInt32BE(this.rotation, offset);
        offset = temp.writeInt32BE(this.layerStack, offset);
        temp.writeInt32BE(this.flags, offset);
        return temp;
    };
    DisplayInfo.prototype.toString = function () {
        return "DisplayInfo{displayId=".concat(this.displayId, ", size=").concat(this.size, ", rotation=").concat(this.rotation, ", layerStack=").concat(this.layerStack, ", flags=").concat(this.flags, "}");
    };
    DisplayInfo.fromBuffer = function (buffer) {
        if (buffer.length !== DisplayInfo.BUFFER_LENGTH) {
            throw Error("Incorrect buffer length. Expected: ".concat(DisplayInfo.BUFFER_LENGTH, ", received: ").concat(buffer.length));
        }
        var offset = 0;
        var displayId = buffer.readInt32BE(offset);
        offset += 4;
        var width = buffer.readInt32BE(offset);
        offset += 4;
        var height = buffer.readInt32BE(offset);
        offset += 4;
        var rotation = buffer.readInt32BE(offset);
        offset += 4;
        var layerStack = buffer.readInt32BE(offset);
        offset += 4;
        var flags = buffer.readInt32BE(offset);
        return new DisplayInfo(displayId, new Size_1.default(width, height), rotation, layerStack, flags);
    };
    DisplayInfo.DEFAULT_DISPLAY = 0x00000000;
    DisplayInfo.FLAG_ROUND = 16;
    DisplayInfo.FLAG_PRESENTATION = 8;
    DisplayInfo.FLAG_PRIVATE = 4;
    DisplayInfo.FLAG_SECURE = 2;
    DisplayInfo.FLAG_SUPPORTS_PROTECTED_BUFFERS = 1;
    DisplayInfo.INVALID_DISPLAY = -1;
    DisplayInfo.BUFFER_LENGTH = 24;
    return DisplayInfo;
}());
exports.DisplayInfo = DisplayInfo;


/***/ }),

/***/ "./src/app/MotionEvent.ts":
/*!********************************!*\
  !*** ./src/app/MotionEvent.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var MotionEvent = (function () {
    function MotionEvent() {
    }
    MotionEvent.ACTION_DOWN = 0;
    MotionEvent.ACTION_UP = 1;
    MotionEvent.ACTION_MOVE = 2;
    MotionEvent.BUTTON_PRIMARY = 1 << 0;
    MotionEvent.BUTTON_SECONDARY = 1 << 1;
    MotionEvent.BUTTON_TERTIARY = 1 << 2;
    return MotionEvent;
}());
exports["default"] = MotionEvent;


/***/ }),

/***/ "./src/app/Point.ts":
/*!**************************!*\
  !*** ./src/app/Point.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Point = (function () {
    function Point(x, y) {
        this.x = Math.round(x);
        this.y = Math.round(y);
    }
    Point.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (o === null) {
            return false;
        }
        return this.x === o.x && this.y === o.y;
    };
    Point.prototype.distance = function (to) {
        var x = this.x - to.x;
        var y = this.y - to.y;
        return Math.sqrt(x * x + y * y);
    };
    Point.prototype.toString = function () {
        return "Point{x=".concat(this.x, ", y=").concat(this.y, "}");
    };
    Point.prototype.toJSON = function () {
        return {
            x: this.x,
            y: this.y,
        };
    };
    return Point;
}());
exports["default"] = Point;


/***/ }),

/***/ "./src/app/Position.ts":
/*!*****************************!*\
  !*** ./src/app/Position.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Point_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Point */ "./src/app/Point.ts"));
var Position = (function () {
    function Position(point, screenSize) {
        this.point = point;
        this.screenSize = screenSize;
    }
    Position.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (o === null) {
            return false;
        }
        return this.point.equals(o.point) && this.screenSize.equals(o.screenSize);
    };
    Position.prototype.rotate = function (rotation) {
        switch (rotation) {
            case 1:
                return new Position(new Point_1.default(this.screenSize.height - this.point.y, this.point.x), this.screenSize.rotate());
            case 2:
                return new Position(new Point_1.default(this.screenSize.width - this.point.x, this.screenSize.height - this.point.y), this.screenSize);
            case 3:
                return new Position(new Point_1.default(this.point.y, this.screenSize.width - this.point.x), this.screenSize.rotate());
            default:
                return this;
        }
    };
    Position.prototype.toString = function () {
        return "Position{point=".concat(this.point, ", screenSize=").concat(this.screenSize, "}");
    };
    Position.prototype.toJSON = function () {
        return {
            point: this.point.toJSON(),
            screenSize: this.screenSize.toJSON(),
        };
    };
    return Position;
}());
exports["default"] = Position;


/***/ }),

/***/ "./src/app/Rect.ts":
/*!*************************!*\
  !*** ./src/app/Rect.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Rect = (function () {
    function Rect(left, top, right, bottom) {
        this.left = left;
        this.top = top;
        this.right = right;
        this.bottom = bottom;
        this.left = left;
        this.top = top;
        this.right = right;
        this.bottom = bottom;
    }
    Rect.equals = function (a, b) {
        if (!a && !b) {
            return true;
        }
        return !!a && !!b && a.equals(b);
    };
    Rect.copy = function (a) {
        if (!a) {
            return null;
        }
        return new Rect(a.left, a.top, a.right, a.bottom);
    };
    Rect.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (!o) {
            return false;
        }
        return this.left === o.left && this.top === o.top && this.right === o.right && this.bottom === o.bottom;
    };
    Rect.prototype.getWidth = function () {
        return this.right - this.left;
    };
    Rect.prototype.getHeight = function () {
        return this.bottom - this.top;
    };
    Rect.prototype.toString = function () {
        return "Rect{left=".concat(this.left, ", top=").concat(this.top, ", right=").concat(this.right, ", bottom=").concat(this.bottom, "}");
    };
    Rect.prototype.toJSON = function () {
        return {
            left: this.left,
            right: this.right,
            top: this.top,
            bottom: this.bottom,
        };
    };
    return Rect;
}());
exports["default"] = Rect;


/***/ }),

/***/ "./src/app/ScreenInfo.ts":
/*!*******************************!*\
  !*** ./src/app/ScreenInfo.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Rect */ "./src/app/Rect.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Size */ "./src/app/Size.ts"));
var ScreenInfo = (function () {
    function ScreenInfo(contentRect, videoSize, deviceRotation) {
        this.contentRect = contentRect;
        this.videoSize = videoSize;
        this.deviceRotation = deviceRotation;
    }
    ScreenInfo.fromBuffer = function (buffer) {
        var left = buffer.readInt32BE(0);
        var top = buffer.readInt32BE(4);
        var right = buffer.readInt32BE(8);
        var bottom = buffer.readInt32BE(12);
        var width = buffer.readInt32BE(16);
        var height = buffer.readInt32BE(20);
        var deviceRotation = buffer.readUInt8(24);
        return new ScreenInfo(new Rect_1.default(left, top, right, bottom), new Size_1.default(width, height), deviceRotation);
    };
    ScreenInfo.prototype.equals = function (o) {
        if (!o) {
            return false;
        }
        return (this.contentRect.equals(o.contentRect) &&
            this.videoSize.equals(o.videoSize) &&
            this.deviceRotation === o.deviceRotation);
    };
    ScreenInfo.prototype.toString = function () {
        return "ScreenInfo{contentRect=".concat(this.contentRect, ", videoSize=").concat(this.videoSize, ", deviceRotation=").concat(this.deviceRotation, "}");
    };
    ScreenInfo.BUFFER_LENGTH = 25;
    return ScreenInfo;
}());
exports["default"] = ScreenInfo;


/***/ }),

/***/ "./src/app/Size.ts":
/*!*************************!*\
  !*** ./src/app/Size.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Size = (function () {
    function Size(width, height) {
        this.width = width;
        this.height = height;
        this.w = width;
        this.h = height;
    }
    Size.equals = function (a, b) {
        if (!a && !b) {
            return true;
        }
        return !!a && !!b && a.equals(b);
    };
    Size.copy = function (a) {
        if (!a) {
            return null;
        }
        return new Size(a.width, a.height);
    };
    Size.prototype.length = function () {
        return this.w * this.h;
    };
    Size.prototype.rotate = function () {
        return new Size(this.height, this.width);
    };
    Size.prototype.equals = function (o) {
        if (this === o) {
            return true;
        }
        if (!o) {
            return false;
        }
        return this.width === o.width && this.height === o.height;
    };
    Size.prototype.intersect = function (o) {
        if (!o) {
            return this;
        }
        var minH = Math.min(this.height, o.height);
        var minW = Math.min(this.width, o.width);
        return new Size(minW, minH);
    };
    Size.prototype.getHalfSize = function () {
        return new Size(this.width >>> 1, this.height >>> 1);
    };
    Size.prototype.toString = function () {
        return "Size{width=".concat(this.width, ", height=").concat(this.height, "}");
    };
    Size.prototype.toJSON = function () {
        return {
            width: this.width,
            height: this.height,
        };
    };
    return Size;
}());
exports["default"] = Size;


/***/ }),

/***/ "./src/app/UIEventsCode.ts":
/*!*********************************!*\
  !*** ./src/app/UIEventsCode.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var UIEventsCode = (function () {
    function UIEventsCode() {
    }
    UIEventsCode.Backquote = 'Backquote';
    UIEventsCode.Backslash = 'Backslash';
    UIEventsCode.BracketLeft = 'BracketLeft';
    UIEventsCode.BracketRight = 'BracketRight';
    UIEventsCode.Comma = 'Comma';
    UIEventsCode.Digit0 = 'Digit0';
    UIEventsCode.Digit1 = 'Digit1';
    UIEventsCode.Digit2 = 'Digit2';
    UIEventsCode.Digit3 = 'Digit3';
    UIEventsCode.Digit4 = 'Digit4';
    UIEventsCode.Digit5 = 'Digit5';
    UIEventsCode.Digit6 = 'Digit6';
    UIEventsCode.Digit7 = 'Digit7';
    UIEventsCode.Digit8 = 'Digit8';
    UIEventsCode.Digit9 = 'Digit9';
    UIEventsCode.Equal = 'Equal';
    UIEventsCode.IntlBackslash = 'IntlBackslash';
    UIEventsCode.IntlRo = 'IntlRo';
    UIEventsCode.IntlYen = 'IntlYen';
    UIEventsCode.KeyA = 'KeyA';
    UIEventsCode.KeyB = 'KeyB';
    UIEventsCode.KeyC = 'KeyC';
    UIEventsCode.KeyD = 'KeyD';
    UIEventsCode.KeyE = 'KeyE';
    UIEventsCode.KeyF = 'KeyF';
    UIEventsCode.KeyG = 'KeyG';
    UIEventsCode.KeyH = 'KeyH';
    UIEventsCode.KeyI = 'KeyI';
    UIEventsCode.KeyJ = 'KeyJ';
    UIEventsCode.KeyK = 'KeyK';
    UIEventsCode.KeyL = 'KeyL';
    UIEventsCode.KeyM = 'KeyM';
    UIEventsCode.KeyN = 'KeyN';
    UIEventsCode.KeyO = 'KeyO';
    UIEventsCode.KeyP = 'KeyP';
    UIEventsCode.KeyQ = 'KeyQ';
    UIEventsCode.KeyR = 'KeyR';
    UIEventsCode.KeyS = 'KeyS';
    UIEventsCode.KeyT = 'KeyT';
    UIEventsCode.KeyU = 'KeyU';
    UIEventsCode.KeyV = 'KeyV';
    UIEventsCode.KeyW = 'KeyW';
    UIEventsCode.KeyX = 'KeyX';
    UIEventsCode.KeyY = 'KeyY';
    UIEventsCode.KeyZ = 'KeyZ';
    UIEventsCode.Minus = 'Minus';
    UIEventsCode.Period = 'Period';
    UIEventsCode.Quote = 'Quote';
    UIEventsCode.Semicolon = 'Semicolon';
    UIEventsCode.Slash = 'Slash';
    UIEventsCode.AltLeft = 'AltLeft';
    UIEventsCode.AltRight = 'AltRight';
    UIEventsCode.Backspace = 'Backspace';
    UIEventsCode.CapsLock = 'CapsLock';
    UIEventsCode.ContextMenu = 'ContextMenu';
    UIEventsCode.ControlLeft = 'ControlLeft';
    UIEventsCode.ControlRight = 'ControlRight';
    UIEventsCode.Enter = 'Enter';
    UIEventsCode.MetaLeft = 'MetaLeft';
    UIEventsCode.MetaRight = 'MetaRight';
    UIEventsCode.ShiftLeft = 'ShiftLeft';
    UIEventsCode.ShiftRight = 'ShiftRight';
    UIEventsCode.Space = 'Space';
    UIEventsCode.Tab = 'Tab';
    UIEventsCode.Convert = 'Convert';
    UIEventsCode.KanaMode = 'KanaMode';
    UIEventsCode.Lang1 = 'Lang1';
    UIEventsCode.Lang2 = 'Lang2';
    UIEventsCode.Lang3 = 'Lang3';
    UIEventsCode.Lang4 = 'Lang4';
    UIEventsCode.Lang5 = 'Lang5';
    UIEventsCode.NonConvert = 'NonConvert';
    UIEventsCode.Delete = 'Delete';
    UIEventsCode.End = 'End';
    UIEventsCode.Help = 'Help';
    UIEventsCode.Home = 'Home';
    UIEventsCode.Insert = 'Insert';
    UIEventsCode.PageDown = 'PageDown';
    UIEventsCode.PageUp = 'PageUp';
    UIEventsCode.ArrowDown = 'ArrowDown';
    UIEventsCode.ArrowLeft = 'ArrowLeft';
    UIEventsCode.ArrowRight = 'ArrowRight';
    UIEventsCode.ArrowUp = 'ArrowUp';
    UIEventsCode.NumLock = 'NumLock';
    UIEventsCode.Numpad0 = 'Numpad0';
    UIEventsCode.Numpad1 = 'Numpad1';
    UIEventsCode.Numpad2 = 'Numpad2';
    UIEventsCode.Numpad3 = 'Numpad3';
    UIEventsCode.Numpad4 = 'Numpad4';
    UIEventsCode.Numpad5 = 'Numpad5';
    UIEventsCode.Numpad6 = 'Numpad6';
    UIEventsCode.Numpad7 = 'Numpad7';
    UIEventsCode.Numpad8 = 'Numpad8';
    UIEventsCode.Numpad9 = 'Numpad9';
    UIEventsCode.NumpadAdd = 'NumpadAdd';
    UIEventsCode.NumpadBackspace = 'NumpadBackspace';
    UIEventsCode.NumpadClear = 'NumpadClear';
    UIEventsCode.NumpadClearEntry = 'NumpadClearEntry';
    UIEventsCode.NumpadComma = 'NumpadComma';
    UIEventsCode.NumpadDecimal = 'NumpadDecimal';
    UIEventsCode.NumpadDivide = 'NumpadDivide';
    UIEventsCode.NumpadEnter = 'NumpadEnter';
    UIEventsCode.NumpadEqual = 'NumpadEqual';
    UIEventsCode.NumpadHash = 'NumpadHash';
    UIEventsCode.NumpadMemoryAdd = 'NumpadMemoryAdd';
    UIEventsCode.NumpadMemoryClear = 'NumpadMemoryClear';
    UIEventsCode.NumpadMemoryRecall = 'NumpadMemoryRecall';
    UIEventsCode.NumpadMemoryStore = 'NumpadMemoryStore';
    UIEventsCode.NumpadMemorySubtract = 'NumpadMemorySubtract';
    UIEventsCode.NumpadMultiply = 'NumpadMultiply';
    UIEventsCode.NumpadParenLeft = 'NumpadParenLeft';
    UIEventsCode.NumpadParenRight = 'NumpadParenRight';
    UIEventsCode.NumpadStar = 'NumpadStar';
    UIEventsCode.NumpadSubtract = 'NumpadSubtract';
    UIEventsCode.Escape = 'Escape';
    UIEventsCode.F1 = 'F1';
    UIEventsCode.F2 = 'F2';
    UIEventsCode.F3 = 'F3';
    UIEventsCode.F4 = 'F4';
    UIEventsCode.F5 = 'F5';
    UIEventsCode.F6 = 'F6';
    UIEventsCode.F7 = 'F7';
    UIEventsCode.F8 = 'F8';
    UIEventsCode.F9 = 'F9';
    UIEventsCode.F10 = 'F10';
    UIEventsCode.F11 = 'F11';
    UIEventsCode.F12 = 'F12';
    UIEventsCode.Fn = 'Fn';
    UIEventsCode.FnLock = 'FnLock';
    UIEventsCode.PrintScreen = 'PrintScreen';
    UIEventsCode.ScrollLock = 'ScrollLock';
    UIEventsCode.Pause = 'Pause';
    UIEventsCode.BrowserBack = 'BrowserBack';
    UIEventsCode.BrowserFavorites = 'BrowserFavorites';
    UIEventsCode.BrowserForward = 'BrowserForward';
    UIEventsCode.BrowserHome = 'BrowserHome';
    UIEventsCode.BrowserRefresh = 'BrowserRefresh';
    UIEventsCode.BrowserSearch = 'BrowserSearch';
    UIEventsCode.BrowserStop = 'BrowserStop';
    UIEventsCode.Eject = 'Eject';
    UIEventsCode.LaunchApp1 = 'LaunchApp1';
    UIEventsCode.LaunchApp2 = 'LaunchApp2';
    UIEventsCode.LaunchMail = 'LaunchMail';
    UIEventsCode.MediaPlayPause = 'MediaPlayPause';
    UIEventsCode.MediaSelect = 'MediaSelect';
    UIEventsCode.MediaStop = 'MediaStop';
    UIEventsCode.MediaTrackNext = 'MediaTrackNext';
    UIEventsCode.MediaTrackPrevious = 'MediaTrackPrevious';
    UIEventsCode.Power = 'Power';
    UIEventsCode.Sleep = 'Sleep';
    UIEventsCode.AudioVolumeDown = 'AudioVolumeDown';
    UIEventsCode.AudioVolumeMute = 'AudioVolumeMute';
    UIEventsCode.AudioVolumeUp = 'AudioVolumeUp';
    UIEventsCode.WakeUp = 'WakeUp';
    UIEventsCode.Hyper = 'Hyper';
    UIEventsCode.Super = 'Super';
    UIEventsCode.Turbo = 'Turbo';
    UIEventsCode.Abort = 'Abort';
    UIEventsCode.Resume = 'Resume';
    UIEventsCode.Suspend = 'Suspend';
    UIEventsCode.Again = 'Again';
    UIEventsCode.Copy = 'Copy';
    UIEventsCode.Cut = 'Cut';
    UIEventsCode.Find = 'Find';
    UIEventsCode.Open = 'Open';
    UIEventsCode.Paste = 'Paste';
    UIEventsCode.Props = 'Props';
    UIEventsCode.Select = 'Select';
    UIEventsCode.Undo = 'Undo';
    UIEventsCode.Hiragana = 'Hiragana';
    UIEventsCode.Katakana = 'Katakana';
    UIEventsCode.Unidentified = 'Unidentified';
    return UIEventsCode;
}());
exports["default"] = UIEventsCode;


/***/ }),

/***/ "./src/app/Util.ts":
/*!*************************!*\
  !*** ./src/app/Util.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Util = (function () {
    function Util() {
    }
    Util.filterTrailingZeroes = function (bytes) {
        var b = 0;
        return bytes
            .reverse()
            .filter(function (i) { return b || (b = i); })
            .reverse();
    };
    Util.prettyBytes = function (value) {
        var suffix = 0;
        while (value >= 512) {
            suffix++;
            value /= 1024;
        }
        return "".concat(value.toFixed(suffix ? 1 : 0)).concat(Util.SUFFIX[suffix]);
    };
    Util.escapeUdid = function (udid) {
        return 'udid_' + udid.replace(/[. :]/g, '_');
    };
    Util.parse = function (params, name, required) {
        var value = params.get(name);
        if (required && value === null) {
            throw TypeError("Missing required parameter \"".concat(name, "\""));
        }
        return value;
    };
    Util.parseString = function (params, name, required) {
        var value = params.get(name);
        if (required && value === null) {
            throw TypeError("Missing required parameter \"".concat(name, "\""));
        }
        return value || '';
    };
    Util.parseBoolean = function (params, name, required) {
        var value = this.parse(params, name, required);
        return value === '1' || (!!value && value.toString() === 'true');
    };
    Util.parseInt = function (params, name, required) {
        var value = this.parse(params, name, required);
        if (value === null) {
            return 0;
        }
        var int = parseInt(value, 10);
        if (isNaN(int)) {
            return 0;
        }
        return int;
    };
    Util.parseBooleanEnv = function (input) {
        if (typeof input === 'boolean') {
            return input;
        }
        if (typeof input === 'undefined' || input === null) {
            return undefined;
        }
        if (Array.isArray(input)) {
            input = input[input.length - 1];
        }
        return input === '1' || input.toLowerCase() === 'true';
    };
    Util.parseStringEnv = function (input) {
        if (typeof input === 'undefined' || input === null) {
            return undefined;
        }
        if (Array.isArray(input)) {
            input = input[input.length - 1];
        }
        return input;
    };
    Util.parseIntEnv = function (input) {
        if (typeof input === 'number') {
            return input;
        }
        if (typeof input === 'undefined' || input === null) {
            return undefined;
        }
        if (Array.isArray(input)) {
            input = input[input.length - 1];
        }
        var int = parseInt(input, 10);
        if (isNaN(int)) {
            return undefined;
        }
        return int;
    };
    Util.utf8ByteArrayToString = function (bytes) {
        var out = [], pos = 0, c = 0;
        while (pos < bytes.length) {
            var c1 = bytes[pos++];
            if (c1 < 128) {
                out[c++] = String.fromCharCode(c1);
            }
            else if (c1 > 191 && c1 < 224) {
                var c2 = bytes[pos++];
                out[c++] = String.fromCharCode((c1 & 31) << 6 | c2 & 63);
            }
            else if (c1 > 239 && c1 < 365) {
                var c2 = bytes[pos++];
                var c3 = bytes[pos++];
                var c4 = bytes[pos++];
                var u = ((c1 & 7) << 18 | (c2 & 63) << 12 | (c3 & 63) << 6 | c4 & 63) -
                    0x10000;
                out[c++] = String.fromCharCode(0xD800 + (u >> 10));
                out[c++] = String.fromCharCode(0xDC00 + (u & 1023));
            }
            else {
                var c2 = bytes[pos++];
                var c3 = bytes[pos++];
                out[c++] =
                    String.fromCharCode((c1 & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
            }
        }
        return out.join('');
    };
    ;
    Util.supportsPassive = function () {
        if (typeof Util.supportsPassiveValue === 'boolean') {
            return Util.supportsPassiveValue;
        }
        var supportsPassive = false;
        try {
            var opts = Object.defineProperty({}, 'passive', {
                get: function () {
                    supportsPassive = true;
                }
            });
            window.addEventListener('testPassive', null, opts);
            window.removeEventListener('testPassive', null, opts);
        }
        catch (error) { }
        return Util.supportsPassiveValue = supportsPassive;
    };
    Util.setImmediate = function (fn) {
        Promise.resolve().then(fn);
    };
    Util.SUFFIX = {
        0: 'B',
        1: 'KiB',
        2: 'MiB',
        3: 'GiB',
        4: 'TiB',
    };
    Util.stringToUtf8ByteArray = function (str) {
        var out = [], p = 0;
        for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            if (c < 128) {
                out[p++] = c;
            }
            else if (c < 2048) {
                out[p++] = (c >> 6) | 192;
                out[p++] = (c & 63) | 128;
            }
            else if (((c & 0xFC00) == 0xD800) && (i + 1) < str.length &&
                ((str.charCodeAt(i + 1) & 0xFC00) == 0xDC00)) {
                c = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);
                out[p++] = (c >> 18) | 240;
                out[p++] = ((c >> 12) & 63) | 128;
                out[p++] = ((c >> 6) & 63) | 128;
                out[p++] = (c & 63) | 128;
            }
            else {
                out[p++] = (c >> 12) | 224;
                out[p++] = ((c >> 6) & 63) | 128;
                out[p++] = (c & 63) | 128;
            }
        }
        return Uint8Array.from(out);
    };
    return Util;
}());
exports["default"] = Util;


/***/ }),

/***/ "./src/app/VideoSettings.ts":
/*!**********************************!*\
  !*** ./src/app/VideoSettings.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Rect */ "./src/app/Rect.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Size */ "./src/app/Size.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Util */ "./src/app/Util.ts"));
var VideoSettings = (function () {
    function VideoSettings(data, bytesLength) {
        if (bytesLength === void 0) { bytesLength = VideoSettings.BASE_BUFFER_LENGTH; }
        this.bytesLength = bytesLength;
        this.crop = null;
        this.bitrate = 0;
        this.bounds = null;
        this.maxFps = 0;
        this.iFrameInterval = 0;
        this.sendFrameMeta = false;
        this.lockedVideoOrientation = -1;
        this.displayId = 0;
        if (data) {
            this.crop = data.crop;
            this.bitrate = data.bitrate;
            this.bounds = data.bounds;
            this.maxFps = data.maxFps;
            this.iFrameInterval = data.iFrameInterval;
            this.sendFrameMeta = data.sendFrameMeta || false;
            this.lockedVideoOrientation = data.lockedVideoOrientation || -1;
            if (typeof data.displayId === 'number' && !isNaN(data.displayId) && data.displayId >= 0) {
                this.displayId = data.displayId;
            }
            if (data.codecOptions) {
                this.codecOptions = data.codecOptions.trim();
            }
            if (data.encoderName) {
                this.encoderName = data.encoderName.trim();
            }
        }
    }
    VideoSettings.fromBuffer = function (buffer) {
        var offset = 0;
        var bitrate = buffer.readInt32BE(offset);
        offset += 4;
        var maxFps = buffer.readInt32BE(offset);
        offset += 4;
        var iFrameInterval = buffer.readInt8(offset);
        offset += 1;
        var width = buffer.readInt16BE(offset);
        offset += 2;
        var height = buffer.readInt16BE(offset);
        offset += 2;
        var left = buffer.readInt16BE(offset);
        offset += 2;
        var top = buffer.readInt16BE(offset);
        offset += 2;
        var right = buffer.readInt16BE(offset);
        offset += 2;
        var bottom = buffer.readInt16BE(offset);
        offset += 2;
        var sendFrameMeta = !!buffer.readInt8(offset);
        offset += 1;
        var lockedVideoOrientation = buffer.readInt8(offset);
        offset += 1;
        var displayId = buffer.readInt32BE(offset);
        offset += 4;
        var bounds = null;
        var crop = null;
        if (width !== 0 && height !== 0) {
            bounds = new Size_1.default(width, height);
        }
        if (left || top || right || bottom) {
            crop = new Rect_1.default(left, top, right, bottom);
        }
        var codecOptions;
        var encoderName;
        var codecOptionsLength = buffer.readInt32BE(offset);
        offset += 4;
        if (codecOptionsLength) {
            var codecOptionsBytes = buffer.slice(offset, offset + codecOptionsLength);
            offset += codecOptionsLength;
            codecOptions = Util_1.default.utf8ByteArrayToString(codecOptionsBytes);
        }
        var encoderNameLength = buffer.readInt32BE(offset);
        offset += 4;
        if (encoderNameLength) {
            var encoderNameBytes = buffer.slice(offset, offset + encoderNameLength);
            offset += encoderNameLength;
            encoderName = Util_1.default.utf8ByteArrayToString(encoderNameBytes);
        }
        return new VideoSettings({
            crop: crop,
            bitrate: bitrate,
            bounds: bounds,
            maxFps: maxFps,
            iFrameInterval: iFrameInterval,
            lockedVideoOrientation: lockedVideoOrientation,
            displayId: displayId,
            sendFrameMeta: sendFrameMeta,
            codecOptions: codecOptions,
            encoderName: encoderName,
        }, offset);
    };
    VideoSettings.copy = function (a) {
        return new VideoSettings({
            bitrate: a.bitrate,
            crop: Rect_1.default.copy(a.crop),
            bounds: Size_1.default.copy(a.bounds),
            maxFps: a.maxFps,
            iFrameInterval: a.iFrameInterval,
            lockedVideoOrientation: a.lockedVideoOrientation,
            displayId: a.displayId,
            sendFrameMeta: a.sendFrameMeta,
            codecOptions: a.codecOptions,
            encoderName: a.encoderName,
        }, a.bytesLength);
    };
    VideoSettings.prototype.equals = function (o) {
        if (!o) {
            return false;
        }
        return (this.encoderName === o.encoderName &&
            this.codecOptions === o.codecOptions &&
            Rect_1.default.equals(this.crop, o.crop) &&
            this.lockedVideoOrientation === o.lockedVideoOrientation &&
            this.displayId === o.displayId &&
            Size_1.default.equals(this.bounds, o.bounds) &&
            this.bitrate === o.bitrate &&
            this.maxFps === o.maxFps &&
            this.iFrameInterval === o.iFrameInterval);
    };
    VideoSettings.prototype.toBuffer = function () {
        var additionalLength = 0;
        var codecOptionsBytes;
        var encoderNameBytes;
        if (this.codecOptions) {
            codecOptionsBytes = Util_1.default.stringToUtf8ByteArray(this.codecOptions);
            additionalLength += codecOptionsBytes.length;
        }
        if (this.encoderName) {
            encoderNameBytes = Util_1.default.stringToUtf8ByteArray(this.encoderName);
            additionalLength += encoderNameBytes.length;
        }
        var buffer = Buffer.alloc(VideoSettings.BASE_BUFFER_LENGTH + additionalLength);
        var _a = this.bounds || {}, _b = _a.width, width = _b === void 0 ? 0 : _b, _c = _a.height, height = _c === void 0 ? 0 : _c;
        var _d = this.crop || {}, _e = _d.left, left = _e === void 0 ? 0 : _e, _f = _d.top, top = _f === void 0 ? 0 : _f, _g = _d.right, right = _g === void 0 ? 0 : _g, _h = _d.bottom, bottom = _h === void 0 ? 0 : _h;
        var offset = 0;
        offset = buffer.writeInt32BE(this.bitrate, offset);
        offset = buffer.writeInt32BE(this.maxFps, offset);
        offset = buffer.writeInt8(this.iFrameInterval, offset);
        offset = buffer.writeInt16BE(width, offset);
        offset = buffer.writeInt16BE(height, offset);
        offset = buffer.writeInt16BE(left, offset);
        offset = buffer.writeInt16BE(top, offset);
        offset = buffer.writeInt16BE(right, offset);
        offset = buffer.writeInt16BE(bottom, offset);
        offset = buffer.writeInt8(this.sendFrameMeta ? 1 : 0, offset);
        offset = buffer.writeInt8(this.lockedVideoOrientation, offset);
        offset = buffer.writeInt32BE(this.displayId, offset);
        if (codecOptionsBytes) {
            offset = buffer.writeInt32BE(codecOptionsBytes.length, offset);
            buffer.fill(codecOptionsBytes, offset);
            offset += codecOptionsBytes.length;
        }
        else {
            offset = buffer.writeInt32BE(0, offset);
        }
        if (encoderNameBytes) {
            offset = buffer.writeInt32BE(encoderNameBytes.length, offset);
            buffer.fill(encoderNameBytes, offset);
            offset += encoderNameBytes.length;
        }
        else {
            buffer.writeInt32BE(0, offset);
        }
        return buffer;
    };
    VideoSettings.prototype.toString = function () {
        return "VideoSettings{bitrate=".concat(this.bitrate, ", maxFps=").concat(this.maxFps, ", iFrameInterval=").concat(this.iFrameInterval, ", bounds=").concat(this.bounds, ", crop=").concat(this.crop, ", metaFrame=").concat(this.sendFrameMeta, ", lockedVideoOrientation=").concat(this.lockedVideoOrientation, ", displayId=").concat(this.displayId, ", codecOptions=").concat(this.codecOptions, ", encoderName=").concat(this.encoderName, "}");
    };
    VideoSettings.prototype.toJSON = function () {
        return {
            bitrate: this.bitrate,
            maxFps: this.maxFps,
            iFrameInterval: this.iFrameInterval,
            bounds: this.bounds,
            crop: this.crop,
            sendFrameMeta: this.sendFrameMeta,
            lockedVideoOrientation: this.lockedVideoOrientation,
            displayId: this.displayId,
            codecOptions: this.codecOptions,
            encoderName: this.encoderName,
        };
    };
    VideoSettings.BASE_BUFFER_LENGTH = 35;
    return VideoSettings;
}());
exports["default"] = VideoSettings;


/***/ }),

/***/ "./src/app/applDevice/client/DeviceTracker.ts":
/*!****************************************************!*\
  !*** ./src/app/applDevice/client/DeviceTracker.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DeviceTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var DeviceState_1 = __webpack_require__(/*! ../../../common/DeviceState */ "./src/common/DeviceState.ts");
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var DeviceTracker = (function (_super) {
    tslib_1.__extends(DeviceTracker, _super);
    function DeviceTracker(params, directUrl) {
        var _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({}, params), { action: DeviceTracker.ACTION }), directUrl) || this;
        _this.tableId = 'appl_devices_list';
        DeviceTracker.instancesByUrl.set(directUrl, _this);
        _this.buildDeviceTable();
        _this.openNewConnection();
        return _this;
    }
    DeviceTracker.start = function (hostItem) {
        var url = this.buildUrlForTracker(hostItem).toString();
        var instance = this.instancesByUrl.get(url);
        if (!instance) {
            instance = new DeviceTracker(hostItem, url);
        }
        return instance;
    };
    DeviceTracker.getInstance = function (hostItem) {
        return this.start(hostItem);
    };
    DeviceTracker.prototype.onSocketOpen = function () {
    };
    DeviceTracker.prototype.buildDeviceRow = function (tbody, device) {
        var _this = this;
        var blockClass = 'desc-block';
        var fullName = "".concat(this.id, "_").concat(Util_1.default.escapeUdid(device.udid));
        var isActive = device.state === DeviceState_1.DeviceState.CONNECTED;
        var servicesId = "device_services_".concat(fullName);
        var row = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">\"", "\"</div>\n                <div class=\"device-model\">", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"], ["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">\"", "\"</div>\n                <div class=\"device-model\">", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"])), isActive ? 'active' : 'not-active', device.name, device.model, device.udid, device.version, device.state, servicesId).content;
        var services = row.getElementById(servicesId);
        if (!services) {
            return;
        }
        DeviceTracker.tools.forEach(function (tool) {
            var entry = tool.createEntryForDeviceList(device, blockClass, _this.params);
            if (entry) {
                if (Array.isArray(entry)) {
                    entry.forEach(function (item) {
                        item && services.appendChild(item);
                    });
                }
                else {
                    services.appendChild(entry);
                }
            }
        });
        tbody.appendChild(row);
    };
    DeviceTracker.prototype.getChannelCode = function () {
        return ChannelCode_1.ChannelCode.ATRC;
    };
    DeviceTracker.ACTION = Action_1.ACTION.APPL_DEVICE_LIST;
    DeviceTracker.tools = new Set();
    DeviceTracker.instancesByUrl = new Map();
    return DeviceTracker;
}(BaseDeviceTracker_1.BaseDeviceTracker));
exports.DeviceTracker = DeviceTracker;
var templateObject_1;


/***/ }),

/***/ "./src/app/client/BaseClient.ts":
/*!**************************************!*\
  !*** ./src/app/client/BaseClient.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var TypedEmitter_1 = __webpack_require__(/*! ../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var BaseClient = (function (_super) {
    tslib_1.__extends(BaseClient, _super);
    function BaseClient(params) {
        var _this = _super.call(this) || this;
        _this.title = 'BaseClient';
        _this.params = params;
        return _this;
    }
    BaseClient.parseParameters = function (query) {
        var action = Util_1.default.parseStringEnv(query.get('action'));
        if (!action) {
            throw TypeError('Invalid action');
        }
        return {
            action: action,
            useProxy: Util_1.default.parseBooleanEnv(query.get('useProxy')),
            secure: Util_1.default.parseBooleanEnv(query.get('secure')),
            hostname: Util_1.default.parseStringEnv(query.get('hostname')),
            port: Util_1.default.parseIntEnv(query.get('port')),
            pathname: Util_1.default.parseStringEnv(query.get('pathname')),
        };
    };
    BaseClient.prototype.setTitle = function (text) {
        if (text === void 0) { text = this.title; }
        var titleTag = document.querySelector('head > title');
        if (!titleTag) {
            titleTag = document.createElement('title');
        }
        titleTag.innerText = text;
    };
    BaseClient.prototype.setBodyClass = function (text) {
        document.body.className = text;
    };
    return BaseClient;
}(TypedEmitter_1.TypedEmitter));
exports.BaseClient = BaseClient;


/***/ }),

/***/ "./src/app/client/BaseDeviceTracker.ts":
/*!*********************************************!*\
  !*** ./src/app/client/BaseDeviceTracker.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseDeviceTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ManagerClient_1 = __webpack_require__(/*! ./ManagerClient */ "./src/app/client/ManagerClient.ts");
var HtmlTag_1 = __webpack_require__(/*! ../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var TAG = '[BaseDeviceTracker]';
var BaseDeviceTracker = (function (_super) {
    tslib_1.__extends(BaseDeviceTracker, _super);
    function BaseDeviceTracker(params, directUrl) {
        var _this = _super.call(this, params) || this;
        _this.directUrl = directUrl;
        _this.title = 'Device list';
        _this.tableId = 'base_device_list';
        _this.descriptors = [];
        _this.trackerName = '';
        _this.id = '';
        _this.created = false;
        _this.messageId = 0;
        _this.elementId = "tracker_instance".concat(++BaseDeviceTracker.instanceId);
        _this.trackerName = "Unavailable. Host: ".concat(params.hostname, ", type: ").concat(params.type);
        _this.setBodyClass('list');
        _this.setTitle();
        return _this;
    }
    BaseDeviceTracker.registerTool = function (tool) {
        this.tools.add(tool);
    };
    BaseDeviceTracker.buildUrl = function (item) {
        var _a;
        var secure = item.secure, port = item.port, hostname = item.hostname;
        var pathname = (_a = item.pathname) !== null && _a !== void 0 ? _a : '/';
        var protocol = secure ? 'wss:' : 'ws:';
        var url = new URL("".concat(protocol, "//").concat(hostname).concat(pathname));
        if (port) {
            url.port = port.toString();
        }
        return url;
    };
    BaseDeviceTracker.buildUrlForTracker = function (params) {
        var wsUrl = this.buildUrl(params);
        wsUrl.searchParams.set('action', this.ACTION);
        return wsUrl;
    };
    BaseDeviceTracker.buildLink = function (q, text, params) {
        var _a;
        var hostname = params.hostname;
        var port = params.port;
        var pathname = (_a = params.pathname) !== null && _a !== void 0 ? _a : location.pathname;
        var protocol = params.secure ? 'https:' : 'http:';
        if (params.useProxy) {
            q.hostname = hostname;
            q.port = port;
            q.pathname = pathname;
            q.secure = params.secure;
            q.useProxy = true;
            protocol = location.protocol;
            hostname = location.hostname;
            port = location.port;
            pathname = location.pathname;
        }
        var hash = "#!".concat(new URLSearchParams(q).toString());
        var a = document.createElement('a');
        a.setAttribute('href', "".concat(protocol, "//").concat(hostname, ":").concat(port).concat(pathname).concat(hash));
        a.setAttribute('rel', 'noopener noreferrer');
        a.setAttribute('target', '_blank');
        a.classList.add("link-".concat(q.action));
        a.innerText = text;
        return a;
    };
    BaseDeviceTracker.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var type = Util_1.default.parseString(params, 'type', true);
        if (type !== 'android' && type !== 'ios') {
            throw Error('Incorrect type');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { type: type });
    };
    BaseDeviceTracker.prototype.getNextId = function () {
        return ++this.messageId;
    };
    BaseDeviceTracker.prototype.buildDeviceTable = function () {
        var _this = this;
        var data = this.descriptors;
        var devices = this.getOrCreateTableHolder();
        var tbody = this.getOrBuildTableBody(devices);
        var block = this.getOrCreateTrackerBlock(tbody, this.trackerName);
        data.forEach(function (item) {
            _this.buildDeviceRow(block, item);
        });
    };
    BaseDeviceTracker.prototype.setNameValue = function (parent, name) {
        if (!parent) {
            return;
        }
        var nameBlockId = "".concat(this.elementId, "_name");
        var nameEl = document.getElementById(nameBlockId);
        if (!nameEl) {
            nameEl = document.createElement('div');
            nameEl.id = nameBlockId;
            nameEl.className = 'tracker-name';
        }
        nameEl.innerText = name;
        parent.insertBefore(nameEl, parent.firstChild);
    };
    BaseDeviceTracker.prototype.getOrCreateTrackerBlock = function (parent, controlCenterName) {
        var el = document.getElementById(this.elementId);
        if (!el) {
            el = document.createElement('div');
            el.id = this.elementId;
            parent.appendChild(el);
            this.created = true;
        }
        else {
            while (el.children.length) {
                el.removeChild(el.children[0]);
            }
        }
        this.setNameValue(el, controlCenterName);
        return el;
    };
    BaseDeviceTracker.prototype.onSocketClose = function (event) {
        var _this = this;
        if (this.destroyed) {
            return;
        }
        console.log(TAG, "Connection closed: ".concat(event.reason));
        setTimeout(function () {
            _this.openNewConnection();
        }, 2000);
    };
    BaseDeviceTracker.prototype.onSocketMessage = function (event) {
        var message;
        try {
            message = JSON.parse(event.data);
        }
        catch (error) {
            console.error(TAG, error.message);
            console.log(TAG, error.data);
            return;
        }
        switch (message.type) {
            case BaseDeviceTracker.ACTION_LIST: {
                var event_1 = message.data;
                this.descriptors = event_1.list;
                this.setIdAndHostName(event_1.id, event_1.name);
                this.buildDeviceTable();
                break;
            }
            case BaseDeviceTracker.ACTION_DEVICE: {
                var event_2 = message.data;
                this.setIdAndHostName(event_2.id, event_2.name);
                this.updateDescriptor(event_2.device);
                this.buildDeviceTable();
                break;
            }
            default:
                console.log(TAG, "Unknown message type: ".concat(message.type));
        }
    };
    BaseDeviceTracker.prototype.setIdAndHostName = function (id, trackerName) {
        if (this.id === id && this.trackerName === trackerName) {
            return;
        }
        this.id = id;
        this.trackerName = trackerName;
        this.setNameValue(document.getElementById(this.elementId), trackerName);
    };
    BaseDeviceTracker.prototype.getOrCreateTableHolder = function () {
        var id = BaseDeviceTracker.HOLDER_ELEMENT_ID;
        var devices = document.getElementById(id);
        if (!devices) {
            devices = document.createElement('div');
            devices.id = id;
            devices.className = 'table-wrapper';
            document.body.appendChild(devices);
        }
        return devices;
    };
    BaseDeviceTracker.prototype.updateDescriptor = function (descriptor) {
        var idx = this.descriptors.findIndex(function (item) {
            return item.udid === descriptor.udid;
        });
        if (idx !== -1) {
            this.descriptors[idx] = descriptor;
        }
        else {
            this.descriptors.push(descriptor);
        }
    };
    BaseDeviceTracker.prototype.getOrBuildTableBody = function (parent) {
        var className = 'device-list';
        var tbody = document.querySelector("#".concat(BaseDeviceTracker.HOLDER_ELEMENT_ID, " #").concat(this.tableId, ".").concat(className));
        if (!tbody) {
            var fragment = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div id=\"", "\" class=\"", "\"></div>"], ["<div id=\"", "\" class=\"", "\"></div>"])), this.tableId, className).content;
            parent.appendChild(fragment);
            var last = parent.children.item(parent.children.length - 1);
            if (last) {
                tbody = last;
            }
        }
        return tbody;
    };
    BaseDeviceTracker.prototype.getDescriptorByUdid = function (udid) {
        if (!this.descriptors.length) {
            return;
        }
        return this.descriptors.find(function (descriptor) {
            return descriptor.udid === udid;
        });
    };
    BaseDeviceTracker.prototype.destroy = function () {
        _super.prototype.destroy.call(this);
        if (this.created) {
            var el = document.getElementById(this.elementId);
            if (el) {
                var parentElement = el.parentElement;
                el.remove();
                if (parentElement && !parentElement.children.length) {
                    parentElement.remove();
                }
            }
        }
        var holder = document.getElementById(BaseDeviceTracker.HOLDER_ELEMENT_ID);
        if (holder && !holder.children.length) {
            holder.remove();
        }
    };
    BaseDeviceTracker.prototype.supportMultiplexing = function () {
        return true;
    };
    BaseDeviceTracker.prototype.getChannelCode = function () {
        throw Error('Not implemented. Must override');
    };
    BaseDeviceTracker.prototype.getChannelInitData = function () {
        var code = this.getChannelCode();
        var buffer = Buffer.alloc(code.length);
        buffer.write(code, 'ascii');
        return buffer;
    };
    BaseDeviceTracker.ACTION_LIST = 'devicelist';
    BaseDeviceTracker.ACTION_DEVICE = 'device';
    BaseDeviceTracker.HOLDER_ELEMENT_ID = 'devices';
    BaseDeviceTracker.AttributePrefixInterfaceSelectFor = 'interface_select_for_';
    BaseDeviceTracker.AttributePlayerFullName = 'data-player-full-name';
    BaseDeviceTracker.AttributePlayerCodeName = 'data-player-code-name';
    BaseDeviceTracker.AttributePrefixPlayerFor = 'player_for_';
    BaseDeviceTracker.tools = new Set();
    BaseDeviceTracker.instanceId = 0;
    return BaseDeviceTracker;
}(ManagerClient_1.ManagerClient));
exports.BaseDeviceTracker = BaseDeviceTracker;
var templateObject_1;


/***/ }),

/***/ "./src/app/client/HostTracker.ts":
/*!***************************************!*\
  !*** ./src/app/client/HostTracker.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HostTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ManagerClient_1 = __webpack_require__(/*! ./ManagerClient */ "./src/app/client/ManagerClient.ts");
var HostTrackerMessage_1 = __webpack_require__(/*! ../../common/HostTrackerMessage */ "./src/common/HostTrackerMessage.ts");
var Action_1 = __webpack_require__(/*! ../../common/Action */ "./src/common/Action.ts");
var DeviceTracker_1 = __webpack_require__(/*! ../googDevice/client/DeviceTracker */ "./src/app/googDevice/client/DeviceTracker.ts");
var DeviceTracker_2 = __webpack_require__(/*! ../applDevice/client/DeviceTracker */ "./src/app/applDevice/client/DeviceTracker.ts");
var ChannelCode_1 = __webpack_require__(/*! ../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var TAG = '[HostTracker]';
var HostTracker = (function (_super) {
    tslib_1.__extends(HostTracker, _super);
    function HostTracker() {
        var _this = _super.call(this, { action: Action_1.ACTION.LIST_HOSTS }) || this;
        _this.trackers = [];
        _this.openNewConnection();
        if (_this.ws) {
            _this.ws.binaryType = 'arraybuffer';
        }
        return _this;
    }
    HostTracker.start = function () {
        this.getInstance();
    };
    HostTracker.getInstance = function () {
        if (!this.instance) {
            this.instance = new HostTracker();
        }
        return this.instance;
    };
    HostTracker.prototype.onSocketClose = function (ev) {
        console.log(TAG, 'WS closed');
        this.emit('disconnected', ev);
    };
    HostTracker.prototype.onSocketMessage = function (event) {
        var _this = this;
        var message;
        try {
            message = JSON.parse(event.data);
        }
        catch (error) {
            console.error(TAG, error.message);
            console.log(TAG, error.data);
            return;
        }
        switch (message.type) {
            case HostTrackerMessage_1.MessageType.ERROR: {
                var msg = message;
                console.error(TAG, msg.data);
                this.emit('error', msg.data);
                break;
            }
            case HostTrackerMessage_1.MessageType.HOSTS: {
                var msg = message;
                if (msg.data.local) {
                    msg.data.local.forEach(function (_a) {
                        var type = _a.type;
                        var secure = location.protocol === 'https:';
                        var port = location.port ? parseInt(location.port, 10) : secure ? 443 : 80;
                        var hostname = location.hostname, pathname = location.pathname;
                        if (type !== 'android' && type !== 'ios') {
                            console.warn(TAG, "Unsupported host type: \"".concat(type, "\""));
                            return;
                        }
                        var hostItem = { useProxy: false, secure: secure, port: port, hostname: hostname, pathname: pathname, type: type };
                        _this.startTracker(hostItem);
                    });
                }
                if (msg.data.remote) {
                    msg.data.remote.forEach(function (item) { return _this.startTracker(item); });
                }
                break;
            }
            default:
                console.log(TAG, "Unknown message type: ".concat(message.type));
        }
    };
    HostTracker.prototype.startTracker = function (hostItem) {
        switch (hostItem.type) {
            case 'android':
                this.trackers.push(DeviceTracker_1.DeviceTracker.start(hostItem));
                break;
            case 'ios':
                this.trackers.push(DeviceTracker_2.DeviceTracker.start(hostItem));
                break;
            default:
                console.warn(TAG, "Unsupported host type: \"".concat(hostItem.type, "\""));
        }
    };
    HostTracker.prototype.onSocketOpen = function () {
    };
    HostTracker.prototype.destroy = function () {
        _super.prototype.destroy.call(this);
        this.trackers.forEach(function (tracker) {
            tracker.destroy();
        });
        this.trackers.length = 0;
    };
    HostTracker.prototype.supportMultiplexing = function () {
        return true;
    };
    HostTracker.prototype.getChannelInitData = function () {
        var buffer = Buffer.alloc(4);
        buffer.write(ChannelCode_1.ChannelCode.HSTS, 'ascii');
        return buffer;
    };
    return HostTracker;
}(ManagerClient_1.ManagerClient));
exports.HostTracker = HostTracker;


/***/ }),

/***/ "./src/app/client/ManagerClient.ts":
/*!*****************************************!*\
  !*** ./src/app/client/ManagerClient.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ManagerClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseClient_1 = __webpack_require__(/*! ./BaseClient */ "./src/app/client/BaseClient.ts");
var Action_1 = __webpack_require__(/*! ../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var Multiplexer_1 = __webpack_require__(/*! ../../packages/multiplexer/Multiplexer */ "./src/packages/multiplexer/Multiplexer.ts");
var ManagerClient = (function (_super) {
    tslib_1.__extends(ManagerClient, _super);
    function ManagerClient(params) {
        var _this = _super.call(this, params) || this;
        _this.destroyed = false;
        _this.action = Util_1.default.parseStringEnv(params.action);
        _this.url = _this.buildWebSocketUrl();
        return _this;
    }
    ManagerClient.start = function () {
        var _rest = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            _rest[_i] = arguments[_i];
        }
        throw Error('Not implemented');
    };
    ManagerClient.prototype.hasConnection = function () {
        return !!(this.ws && this.ws.readyState === this.ws.OPEN);
    };
    ManagerClient.prototype.openNewConnection = function () {
        if (this.ws && this.ws.readyState === this.ws.OPEN) {
            this.ws.close();
            delete this.ws;
        }
        var url = this.url.toString();
        if (this.supportMultiplexing()) {
            var openedMultiplexer = ManagerClient.sockets.get(url);
            if (!openedMultiplexer) {
                var ws_1 = new WebSocket(url);
                ws_1.addEventListener('close', function () {
                    ManagerClient.sockets.delete(url);
                });
                var newMultiplexer_1 = Multiplexer_1.Multiplexer.wrap(ws_1);
                newMultiplexer_1.on('empty', function () {
                    newMultiplexer_1.close();
                });
                ManagerClient.sockets.set(url, newMultiplexer_1);
                openedMultiplexer = newMultiplexer_1;
            }
            var ws = openedMultiplexer.createChannel(this.getChannelInitData());
            ws.addEventListener('open', this.onSocketOpen.bind(this));
            ws.addEventListener('message', this.onSocketMessage.bind(this));
            ws.addEventListener('close', this.onSocketClose.bind(this));
            this.ws = ws;
        }
        else {
            var ws = new WebSocket(url);
            ws.addEventListener('open', this.onSocketOpen.bind(this));
            ws.addEventListener('message', this.onSocketMessage.bind(this));
            ws.addEventListener('close', this.onSocketClose.bind(this));
            this.ws = ws;
        }
        return this.ws;
    };
    ManagerClient.prototype.destroy = function () {
        if (this.destroyed) {
            console.error(new Error('Already disposed'));
            return;
        }
        this.destroyed = true;
        if (this.ws) {
            if (this.ws.readyState === this.ws.OPEN) {
                this.ws.close();
            }
        }
    };
    ManagerClient.prototype.buildWebSocketUrl = function () {
        var directUrl = this.buildDirectWebSocketUrl();
        if (this.params.useProxy && !this.supportMultiplexing()) {
            return this.wrapInProxy(directUrl);
        }
        return directUrl;
    };
    ManagerClient.prototype.buildDirectWebSocketUrl = function () {
        var _a;
        var _b = this.params, hostname = _b.hostname, port = _b.port, secure = _b.secure, action = _b.action;
        var pathname = (_a = this.params.pathname) !== null && _a !== void 0 ? _a : location.pathname;
        var urlString;
        if (typeof hostname === 'string' && typeof port === 'number') {
            var protocol = secure ? 'wss:' : 'ws:';
            urlString = "".concat(protocol, "//").concat(hostname, ":").concat(port).concat(pathname);
        }
        else {
            var protocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            urlString = "".concat(protocol).concat(location.host).concat(pathname);
        }
        var directUrl = new URL(urlString);
        if (this.supportMultiplexing()) {
            directUrl.searchParams.set('action', Action_1.ACTION.MULTIPLEX);
        }
        else {
            if (action) {
                directUrl.searchParams.set('action', action);
            }
        }
        return directUrl;
    };
    ManagerClient.prototype.wrapInProxy = function (directUrl) {
        var localProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
        var localUrl = new URL("".concat(localProtocol, "//").concat(location.host));
        localUrl.searchParams.set('action', Action_1.ACTION.PROXY_WS);
        localUrl.searchParams.set('ws', directUrl.toString());
        return localUrl;
    };
    ManagerClient.prototype.supportMultiplexing = function () {
        return false;
    };
    ManagerClient.prototype.getChannelInitData = function () {
        return Buffer.from(ManagerClient.CODE);
    };
    ManagerClient.ACTION = 'unknown';
    ManagerClient.CODE = 'NONE';
    ManagerClient.sockets = new Map();
    return ManagerClient;
}(BaseClient_1.BaseClient));
exports.ManagerClient = ManagerClient;


/***/ }),

/***/ "./src/app/client/StreamReceiver.ts":
/*!******************************************!*\
  !*** ./src/app/client/StreamReceiver.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamReceiver = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ManagerClient_1 = __webpack_require__(/*! ./ManagerClient */ "./src/app/client/ManagerClient.ts");
var DeviceMessage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../googDevice/DeviceMessage */ "./src/app/googDevice/DeviceMessage.ts"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var ScreenInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ScreenInfo */ "./src/app/ScreenInfo.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var DisplayInfo_1 = __webpack_require__(/*! ../DisplayInfo */ "./src/app/DisplayInfo.ts");
var DEVICE_NAME_FIELD_LENGTH = 64;
var MAGIC_BYTES_INITIAL = Util_1.default.stringToUtf8ByteArray('scrcpy_initial');
var TAG = '[StreamReceiver]';
var StreamReceiver = (function (_super) {
    tslib_1.__extends(StreamReceiver, _super);
    function StreamReceiver(params) {
        var _this = _super.call(this, params) || this;
        _this.events = [];
        _this.encodersSet = new Set();
        _this.clientId = -1;
        _this.deviceName = '';
        _this.displayInfoMap = new Map();
        _this.connectionCountMap = new Map();
        _this.screenInfoMap = new Map();
        _this.videoSettingsMap = new Map();
        _this.hasInitialInfo = false;
        _this.openNewConnection();
        if (_this.ws) {
            _this.ws.binaryType = 'arraybuffer';
        }
        return _this;
    }
    StreamReceiver.prototype.handleInitialInfo = function (data) {
        var offset = MAGIC_BYTES_INITIAL.length;
        var nameBytes = new Uint8Array(data, offset, DEVICE_NAME_FIELD_LENGTH);
        offset += DEVICE_NAME_FIELD_LENGTH;
        var rest = Buffer.from(new Uint8Array(data, offset));
        var displaysCount = rest.readInt32BE(0);
        this.displayInfoMap.clear();
        this.connectionCountMap.clear();
        this.screenInfoMap.clear();
        this.videoSettingsMap.clear();
        rest = rest.slice(4);
        for (var i = 0; i < displaysCount; i++) {
            var displayInfoBuffer = rest.slice(0, DisplayInfo_1.DisplayInfo.BUFFER_LENGTH);
            var displayInfo = DisplayInfo_1.DisplayInfo.fromBuffer(displayInfoBuffer);
            var displayId = displayInfo.displayId;
            this.displayInfoMap.set(displayId, displayInfo);
            rest = rest.slice(DisplayInfo_1.DisplayInfo.BUFFER_LENGTH);
            this.connectionCountMap.set(displayId, rest.readInt32BE(0));
            rest = rest.slice(4);
            var screenInfoBytesCount = rest.readInt32BE(0);
            rest = rest.slice(4);
            if (screenInfoBytesCount) {
                this.screenInfoMap.set(displayId, ScreenInfo_1.default.fromBuffer(rest.slice(0, screenInfoBytesCount)));
                rest = rest.slice(screenInfoBytesCount);
            }
            var videoSettingsBytesCount = rest.readInt32BE(0);
            rest = rest.slice(4);
            if (videoSettingsBytesCount) {
                this.videoSettingsMap.set(displayId, VideoSettings_1.default.fromBuffer(rest.slice(0, videoSettingsBytesCount)));
                rest = rest.slice(videoSettingsBytesCount);
            }
        }
        this.encodersSet.clear();
        var encodersCount = rest.readInt32BE(0);
        rest = rest.slice(4);
        for (var i = 0; i < encodersCount; i++) {
            var nameLength = rest.readInt32BE(0);
            rest = rest.slice(4);
            var nameBytes_1 = rest.slice(0, nameLength);
            rest = rest.slice(nameLength);
            var name_1 = Util_1.default.utf8ByteArrayToString(nameBytes_1);
            this.encodersSet.add(name_1);
        }
        this.clientId = rest.readInt32BE(0);
        nameBytes = Util_1.default.filterTrailingZeroes(nameBytes);
        this.deviceName = Util_1.default.utf8ByteArrayToString(nameBytes);
        this.hasInitialInfo = true;
        this.triggerInitialInfoEvents();
    };
    StreamReceiver.EqualArrays = function (a, b) {
        if (a.length !== b.length) {
            return false;
        }
        for (var i = 0, l = a.length; i < l; i++) {
            if (a[i] !== b[i]) {
                return false;
            }
        }
        return true;
    };
    StreamReceiver.prototype.buildDirectWebSocketUrl = function () {
        var localUrl = _super.prototype.buildDirectWebSocketUrl.call(this);
        if (this.supportMultiplexing()) {
            return localUrl;
        }
        localUrl.searchParams.set('udid', this.params.udid);
        return localUrl;
    };
    StreamReceiver.prototype.onSocketClose = function (ev) {
        console.log("".concat(TAG, ". WS closed: ").concat(ev.reason));
        this.emit('disconnected', ev);
    };
    StreamReceiver.prototype.onSocketMessage = function (event) {
        if (event.data instanceof ArrayBuffer) {
            if (event.data.byteLength > MAGIC_BYTES_INITIAL.length) {
                var magicBytes = new Uint8Array(event.data, 0, MAGIC_BYTES_INITIAL.length);
                if (StreamReceiver.EqualArrays(magicBytes, MAGIC_BYTES_INITIAL)) {
                    this.handleInitialInfo(event.data);
                    return;
                }
                if (StreamReceiver.EqualArrays(magicBytes, DeviceMessage_1.default.MAGIC_BYTES_MESSAGE)) {
                    var message = DeviceMessage_1.default.fromBuffer(event.data);
                    this.emit('deviceMessage', message);
                    return;
                }
            }
            this.emit('video', new Uint8Array(event.data));
        }
    };
    StreamReceiver.prototype.onSocketOpen = function () {
        this.emit('connected', void 0);
        var e = this.events.shift();
        while (e) {
            this.sendEvent(e);
            e = this.events.shift();
        }
    };
    StreamReceiver.prototype.sendEvent = function (event) {
        if (this.ws && this.ws.readyState === this.ws.OPEN) {
            this.ws.send(event.toBuffer());
        }
        else {
            this.events.push(event);
        }
    };
    StreamReceiver.prototype.stop = function () {
        if (this.ws && this.ws.readyState === this.ws.OPEN) {
            this.ws.close();
        }
        this.events.length = 0;
    };
    StreamReceiver.prototype.getEncoders = function () {
        return Array.from(this.encodersSet.values());
    };
    StreamReceiver.prototype.getDeviceName = function () {
        return this.deviceName;
    };
    StreamReceiver.prototype.triggerInitialInfoEvents = function () {
        var _this = this;
        if (this.hasInitialInfo) {
            var encoders = this.getEncoders();
            this.emit('encoders', encoders);
            var _a = this, clientId = _a.clientId, deviceName = _a.deviceName;
            this.emit('clientsStats', { clientId: clientId, deviceName: deviceName });
            var infoArray_1 = [];
            this.displayInfoMap.forEach(function (displayInfo, displayId) {
                var connectionCount = _this.connectionCountMap.get(displayId) || 0;
                infoArray_1.push({
                    displayInfo: displayInfo,
                    videoSettings: _this.videoSettingsMap.get(displayId),
                    screenInfo: _this.screenInfoMap.get(displayId),
                    connectionCount: connectionCount,
                });
            });
            this.emit('displayInfo', infoArray_1);
        }
    };
    StreamReceiver.prototype.getDisplayInfo = function (displayId) {
        return this.displayInfoMap.get(displayId);
    };
    return StreamReceiver;
}(ManagerClient_1.ManagerClient));
exports.StreamReceiver = StreamReceiver;


/***/ }),

/***/ "./src/app/controlMessage/CommandControlMessage.ts":
/*!*********************************************************!*\
  !*** ./src/app/controlMessage/CommandControlMessage.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommandControlMessage = exports.FilePushState = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var FilePushState;
(function (FilePushState) {
    FilePushState[FilePushState["NEW"] = 0] = "NEW";
    FilePushState[FilePushState["START"] = 1] = "START";
    FilePushState[FilePushState["APPEND"] = 2] = "APPEND";
    FilePushState[FilePushState["FINISH"] = 3] = "FINISH";
    FilePushState[FilePushState["CANCEL"] = 4] = "CANCEL";
})(FilePushState = exports.FilePushState || (exports.FilePushState = {}));
var CommandControlMessage = (function (_super) {
    tslib_1.__extends(CommandControlMessage, _super);
    function CommandControlMessage(type) {
        var _this = _super.call(this, type) || this;
        _this.type = type;
        return _this;
    }
    CommandControlMessage.createSetVideoSettingsCommand = function (videoSettings) {
        var temp = videoSettings.toBuffer();
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS);
        var offset = CommandControlMessage.PAYLOAD_LENGTH + 1;
        var buffer = Buffer.alloc(offset + temp.length);
        buffer.writeUInt8(event.type, 0);
        temp.forEach(function (byte, index) {
            buffer.writeUInt8(byte, index + offset);
        });
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createSetClipboardCommand = function (text, paste) {
        if (paste === void 0) { paste = false; }
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_SET_CLIPBOARD);
        var textBytes = text ? Util_1.default.stringToUtf8ByteArray(text) : null;
        var textLength = textBytes ? textBytes.length : 0;
        var offset = 0;
        var buffer = Buffer.alloc(1 + 1 + 4 + textLength);
        offset = buffer.writeInt8(event.type, offset);
        offset = buffer.writeInt8(paste ? 1 : 0, offset);
        offset = buffer.writeInt32BE(textLength, offset);
        if (textBytes) {
            textBytes.forEach(function (byte, index) {
                buffer.writeUInt8(byte, index + offset);
            });
        }
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createSetScreenPowerModeCommand = function (mode) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_SET_SCREEN_POWER_MODE);
        var offset = 0;
        var buffer = Buffer.alloc(1 + 1);
        offset = buffer.writeInt8(event.type, offset);
        buffer.writeUInt8(mode ? 1 : 0, offset);
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createPushFileCommand = function (params) {
        var id = params.id, fileName = params.fileName, fileSize = params.fileSize, chunk = params.chunk, state = params.state;
        if (state === FilePushState.START) {
            return this.createPushFileStartCommand(id, fileName, fileSize);
        }
        if (state === FilePushState.APPEND) {
            if (!chunk) {
                throw TypeError('Invalid type');
            }
            return this.createPushFileChunkCommand(id, chunk);
        }
        if (state === FilePushState.CANCEL || state === FilePushState.FINISH || state === FilePushState.NEW) {
            return this.createPushFileOtherCommand(id, state);
        }
        throw TypeError("Unsupported state: \"".concat(state, "\""));
    };
    CommandControlMessage.createPushFileStartCommand = function (id, fileName, fileSize) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_PUSH_FILE);
        var text = Util_1.default.stringToUtf8ByteArray(fileName);
        var typeField = 1;
        var idField = 2;
        var stateField = 1;
        var sizeField = 4;
        var textLengthField = 2;
        var textLength = text.length;
        var offset = CommandControlMessage.PAYLOAD_LENGTH;
        var buffer = Buffer.alloc(offset + typeField + idField + stateField + sizeField + textLengthField + textLength);
        buffer.writeUInt8(event.type, offset);
        offset += typeField;
        buffer.writeInt16BE(id, offset);
        offset += idField;
        buffer.writeInt8(FilePushState.START, offset);
        offset += stateField;
        buffer.writeUInt32BE(fileSize, offset);
        offset += sizeField;
        buffer.writeUInt16BE(textLength, offset);
        offset += textLengthField;
        text.forEach(function (byte, index) {
            buffer.writeUInt8(byte, index + offset);
        });
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createPushFileChunkCommand = function (id, chunk) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_PUSH_FILE);
        var typeField = 1;
        var idField = 2;
        var stateField = 1;
        var chunkLengthField = 4;
        var chunkLength = chunk.byteLength;
        var offset = CommandControlMessage.PAYLOAD_LENGTH;
        var buffer = Buffer.alloc(offset + typeField + idField + stateField + chunkLengthField + chunkLength);
        buffer.writeUInt8(event.type, offset);
        offset += typeField;
        buffer.writeInt16BE(id, offset);
        offset += idField;
        buffer.writeInt8(FilePushState.APPEND, offset);
        offset += stateField;
        buffer.writeUInt32BE(chunkLength, offset);
        offset += chunkLengthField;
        Array.from(chunk).forEach(function (byte, index) {
            buffer.writeUInt8(byte, index + offset);
        });
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.createPushFileOtherCommand = function (id, state) {
        var event = new CommandControlMessage(ControlMessage_1.ControlMessage.TYPE_PUSH_FILE);
        var typeField = 1;
        var idField = 2;
        var stateField = 1;
        var offset = CommandControlMessage.PAYLOAD_LENGTH;
        var buffer = Buffer.alloc(offset + typeField + idField + stateField);
        buffer.writeUInt8(event.type, offset);
        offset += typeField;
        buffer.writeInt16BE(id, offset);
        offset += idField;
        buffer.writeInt8(state, offset);
        event.buffer = buffer;
        return event;
    };
    CommandControlMessage.pushFileCommandFromBuffer = function (buffer) {
        var offset = 0;
        var type = buffer.readUInt8(offset);
        offset += 1;
        if (type !== CommandControlMessage.TYPE_PUSH_FILE) {
            throw TypeError("Incorrect type: \"".concat(type, "\""));
        }
        var id = buffer.readInt16BE(offset);
        offset += 2;
        var state = buffer.readInt8(offset);
        offset += 1;
        var chunk;
        var fileSize;
        var fileName;
        if (state === FilePushState.APPEND) {
            var chunkLength = buffer.readUInt32BE(offset);
            offset += 4;
            chunk = buffer.slice(offset, offset + chunkLength);
        }
        else if (state === FilePushState.START) {
            fileSize = buffer.readUInt32BE(offset);
            offset += 4;
            var textLength = buffer.readUInt16BE(offset);
            offset += 2;
            fileName = Util_1.default.utf8ByteArrayToString(buffer.slice(offset, offset + textLength));
        }
        return { id: id, state: state, chunk: chunk, fileName: fileName, fileSize: fileSize };
    };
    CommandControlMessage.prototype.toBuffer = function () {
        if (!this.buffer) {
            var buffer = Buffer.alloc(CommandControlMessage.PAYLOAD_LENGTH + 1);
            buffer.writeUInt8(this.type, 0);
            this.buffer = buffer;
        }
        return this.buffer;
    };
    CommandControlMessage.prototype.toString = function () {
        var buffer = this.buffer ? ", buffer=[".concat(this.buffer.join(','), "]") : '';
        return "CommandControlMessage{action=".concat(this.type).concat(buffer, "}");
    };
    CommandControlMessage.PAYLOAD_LENGTH = 0;
    CommandControlMessage.Commands = new Map([
        [ControlMessage_1.ControlMessage.TYPE_EXPAND_NOTIFICATION_PANEL, 'Expandir notificaciones'],
        [ControlMessage_1.ControlMessage.TYPE_EXPAND_SETTINGS_PANEL, 'Expandir configuraciones'],
        [ControlMessage_1.ControlMessage.TYPE_COLLAPSE_PANELS, 'Contraer paneles'],
        [ControlMessage_1.ControlMessage.TYPE_GET_CLIPBOARD, 'Obtener portapapeles'],
        [ControlMessage_1.ControlMessage.TYPE_SET_CLIPBOARD, 'Pegar portapapeles'],
        [ControlMessage_1.ControlMessage.TYPE_ROTATE_DEVICE, 'Girar dispositivo'],
        [ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS, 'Cambiar configuración(video)'],
    ]);
    return CommandControlMessage;
}(ControlMessage_1.ControlMessage));
exports.CommandControlMessage = CommandControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/ControlMessage.ts":
/*!**************************************************!*\
  !*** ./src/app/controlMessage/ControlMessage.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ControlMessage = void 0;
var ControlMessage = (function () {
    function ControlMessage(type) {
        this.type = type;
    }
    ControlMessage.prototype.toBuffer = function () {
        throw Error('Not implemented');
    };
    ControlMessage.prototype.toString = function () {
        return 'ControlMessage';
    };
    ControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
        };
    };
    ControlMessage.TYPE_KEYCODE = 0;
    ControlMessage.TYPE_TEXT = 1;
    ControlMessage.TYPE_TOUCH = 2;
    ControlMessage.TYPE_SCROLL = 3;
    ControlMessage.TYPE_BACK_OR_SCREEN_ON = 4;
    ControlMessage.TYPE_EXPAND_NOTIFICATION_PANEL = 5;
    ControlMessage.TYPE_EXPAND_SETTINGS_PANEL = 6;
    ControlMessage.TYPE_COLLAPSE_PANELS = 7;
    ControlMessage.TYPE_GET_CLIPBOARD = 8;
    ControlMessage.TYPE_SET_CLIPBOARD = 9;
    ControlMessage.TYPE_SET_SCREEN_POWER_MODE = 10;
    ControlMessage.TYPE_ROTATE_DEVICE = 11;
    ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS = 101;
    ControlMessage.TYPE_PUSH_FILE = 102;
    return ControlMessage;
}());
exports.ControlMessage = ControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/KeyCodeControlMessage.ts":
/*!*********************************************************!*\
  !*** ./src/app/controlMessage/KeyCodeControlMessage.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyCodeControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var buffer_1 = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var KeyCodeControlMessage = (function (_super) {
    tslib_1.__extends(KeyCodeControlMessage, _super);
    function KeyCodeControlMessage(action, keycode, repeat, metaState) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_KEYCODE) || this;
        _this.action = action;
        _this.keycode = keycode;
        _this.repeat = repeat;
        _this.metaState = metaState;
        return _this;
    }
    KeyCodeControlMessage.prototype.toBuffer = function () {
        var buffer = buffer_1.Buffer.alloc(KeyCodeControlMessage.PAYLOAD_LENGTH + 1);
        var offset = 0;
        offset = buffer.writeInt8(this.type, offset);
        offset = buffer.writeInt8(this.action, offset);
        offset = buffer.writeInt32BE(this.keycode, offset);
        offset = buffer.writeInt32BE(this.repeat, offset);
        buffer.writeInt32BE(this.metaState, offset);
        return buffer;
    };
    KeyCodeControlMessage.prototype.toString = function () {
        return "KeyCodeControlMessage{action=".concat(this.action, ", keycode=").concat(this.keycode, ", metaState=").concat(this.metaState, "}");
    };
    KeyCodeControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            action: this.action,
            keycode: this.keycode,
            metaState: this.metaState,
            repeat: this.repeat,
        };
    };
    KeyCodeControlMessage.PAYLOAD_LENGTH = 13;
    return KeyCodeControlMessage;
}(ControlMessage_1.ControlMessage));
exports.KeyCodeControlMessage = KeyCodeControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/ScrollControlMessage.ts":
/*!********************************************************!*\
  !*** ./src/app/controlMessage/ScrollControlMessage.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ScrollControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var ScrollControlMessage = (function (_super) {
    tslib_1.__extends(ScrollControlMessage, _super);
    function ScrollControlMessage(position, hScroll, vScroll) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_SCROLL) || this;
        _this.position = position;
        _this.hScroll = hScroll;
        _this.vScroll = vScroll;
        return _this;
    }
    ScrollControlMessage.prototype.toBuffer = function () {
        var buffer = Buffer.alloc(ScrollControlMessage.PAYLOAD_LENGTH + 1);
        var offset = 0;
        offset = buffer.writeUInt8(this.type, offset);
        offset = buffer.writeUInt32BE(this.position.point.x, offset);
        offset = buffer.writeUInt32BE(this.position.point.y, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.width, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.height, offset);
        offset = buffer.writeInt32BE(this.hScroll, offset);
        buffer.writeInt32BE(this.vScroll, offset);
        return buffer;
    };
    ScrollControlMessage.prototype.toString = function () {
        return "ScrollControlMessage{hScroll=".concat(this.hScroll, ", vScroll=").concat(this.vScroll, ", position=").concat(this.position, "}");
    };
    ScrollControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            position: this.position.toJSON(),
            hScroll: this.hScroll,
            vScroll: this.vScroll,
        };
    };
    ScrollControlMessage.PAYLOAD_LENGTH = 20;
    return ScrollControlMessage;
}(ControlMessage_1.ControlMessage));
exports.ScrollControlMessage = ScrollControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/TextControlMessage.ts":
/*!******************************************************!*\
  !*** ./src/app/controlMessage/TextControlMessage.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var buffer_1 = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var TextControlMessage = (function (_super) {
    tslib_1.__extends(TextControlMessage, _super);
    function TextControlMessage(text) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_TEXT) || this;
        _this.text = text;
        return _this;
    }
    TextControlMessage.prototype.getText = function () {
        return this.text;
    };
    TextControlMessage.prototype.toBuffer = function () {
        var length = this.text.length;
        var buffer = buffer_1.Buffer.alloc(length + 1 + TextControlMessage.TEXT_SIZE_FIELD_LENGTH);
        var offset = 0;
        offset = buffer.writeUInt8(this.type, offset);
        offset = buffer.writeUInt32BE(length, offset);
        buffer.write(this.text, offset);
        return buffer;
    };
    TextControlMessage.prototype.toString = function () {
        return "TextControlMessage{text=".concat(this.text, "}");
    };
    TextControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            text: this.text,
        };
    };
    TextControlMessage.TEXT_SIZE_FIELD_LENGTH = 4;
    return TextControlMessage;
}(ControlMessage_1.ControlMessage));
exports.TextControlMessage = TextControlMessage;


/***/ }),

/***/ "./src/app/controlMessage/TouchControlMessage.ts":
/*!*******************************************************!*\
  !*** ./src/app/controlMessage/TouchControlMessage.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TouchControlMessage = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ControlMessage_1 = __webpack_require__(/*! ./ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var TouchControlMessage = (function (_super) {
    tslib_1.__extends(TouchControlMessage, _super);
    function TouchControlMessage(action, pointerId, position, pressure, buttons) {
        var _this = _super.call(this, ControlMessage_1.ControlMessage.TYPE_TOUCH) || this;
        _this.action = action;
        _this.pointerId = pointerId;
        _this.position = position;
        _this.pressure = pressure;
        _this.buttons = buttons;
        return _this;
    }
    TouchControlMessage.prototype.toBuffer = function () {
        var buffer = Buffer.alloc(TouchControlMessage.PAYLOAD_LENGTH + 1);
        var offset = 0;
        offset = buffer.writeUInt8(this.type, offset);
        offset = buffer.writeUInt8(this.action, offset);
        offset = buffer.writeUInt32BE(0, offset);
        offset = buffer.writeUInt32BE(this.pointerId, offset);
        offset = buffer.writeUInt32BE(this.position.point.x, offset);
        offset = buffer.writeUInt32BE(this.position.point.y, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.width, offset);
        offset = buffer.writeUInt16BE(this.position.screenSize.height, offset);
        offset = buffer.writeUInt16BE(this.pressure * TouchControlMessage.MAX_PRESSURE_VALUE, offset);
        buffer.writeUInt32BE(this.buttons, offset);
        return buffer;
    };
    TouchControlMessage.prototype.toString = function () {
        return "TouchControlMessage{action=".concat(this.action, ", pointerId=").concat(this.pointerId, ", position=").concat(this.position, ", pressure=").concat(this.pressure, ", buttons=").concat(this.buttons, "}");
    };
    TouchControlMessage.prototype.toJSON = function () {
        return {
            type: this.type,
            action: this.action,
            pointerId: this.pointerId,
            position: this.position.toJSON(),
            pressure: this.pressure,
            buttons: this.buttons,
        };
    };
    TouchControlMessage.PAYLOAD_LENGTH = 28;
    TouchControlMessage.MAX_PRESSURE_VALUE = 0xffff;
    return TouchControlMessage;
}(ControlMessage_1.ControlMessage));
exports.TouchControlMessage = TouchControlMessage;


/***/ }),

/***/ "./src/app/googDevice/DeviceMessage.ts":
/*!*********************************************!*\
  !*** ./src/app/googDevice/DeviceMessage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var DeviceMessage = (function () {
    function DeviceMessage(type, buffer) {
        this.type = type;
        this.buffer = buffer;
    }
    DeviceMessage.fromBuffer = function (data) {
        var magicSize = this.MAGIC_BYTES_MESSAGE.length;
        var buffer = Buffer.from(data, magicSize, data.byteLength - magicSize);
        var type = buffer.readUInt8(0);
        return new DeviceMessage(type, buffer);
    };
    DeviceMessage.prototype.getText = function () {
        if (this.type !== DeviceMessage.TYPE_CLIPBOARD) {
            throw TypeError("Wrong message type: ".concat(this.type));
        }
        if (!this.buffer) {
            throw Error('Empty buffer');
        }
        var offset = 1;
        var length = this.buffer.readInt32BE(offset);
        offset += 4;
        var textBytes = this.buffer.slice(offset, offset + length);
        return Util_1.default.utf8ByteArrayToString(textBytes);
    };
    DeviceMessage.prototype.getPushStats = function () {
        if (this.type !== DeviceMessage.TYPE_PUSH_RESPONSE) {
            throw TypeError("Wrong message type: ".concat(this.type));
        }
        if (!this.buffer) {
            throw Error('Empty buffer');
        }
        var id = this.buffer.readInt16BE(1);
        var code = this.buffer.readInt8(3);
        return { id: id, code: code };
    };
    DeviceMessage.prototype.toString = function () {
        var desc;
        if (this.type === DeviceMessage.TYPE_CLIPBOARD && this.buffer) {
            desc = ", text=[".concat(this.getText(), "]");
        }
        else {
            desc = this.buffer ? ", buffer=[".concat(this.buffer.join(','), "]") : '';
        }
        return "DeviceMessage{type=".concat(this.type).concat(desc, "}");
    };
    DeviceMessage.TYPE_CLIPBOARD = 0;
    DeviceMessage.TYPE_PUSH_RESPONSE = 101;
    DeviceMessage.MAGIC_BYTES_MESSAGE = Util_1.default.stringToUtf8ByteArray('scrcpy_message');
    return DeviceMessage;
}());
exports["default"] = DeviceMessage;


/***/ }),

/***/ "./src/app/googDevice/DragAndDropHandler.ts":
/*!**************************************************!*\
  !*** ./src/app/googDevice/DragAndDropHandler.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DragAndDropHandler = void 0;
var DragAndDropHandler = (function () {
    function DragAndDropHandler() {
    }
    DragAndDropHandler.attachListeners = function (element) {
        element.addEventListener('drop', this.dropHandler);
        element.addEventListener('dragover', this.dragOverHandler);
        element.addEventListener('dragleave', this.dragLeaveHandler);
        element.addEventListener('dragenter', this.dragEnterHandler);
    };
    DragAndDropHandler.detachListeners = function (element) {
        element.removeEventListener('drop', this.dropHandler);
        element.removeEventListener('dragover', this.dragOverHandler);
        element.removeEventListener('dragleave', this.dragLeaveHandler);
        element.removeEventListener('dragenter', this.dragEnterHandler);
    };
    DragAndDropHandler.addEventListener = function (listener) {
        if (this.listeners.has(listener)) {
            return;
        }
        this.attachListeners(listener.getElement());
        this.listeners.add(listener);
    };
    DragAndDropHandler.removeEventListener = function (listener) {
        if (!this.listeners.has(listener)) {
            return;
        }
        this.detachListeners(listener.getElement());
        this.listeners.delete(listener);
    };
    DragAndDropHandler.listeners = new Set();
    DragAndDropHandler.dropHandler = function (ev) {
        if (!ev.dataTransfer) {
            return false;
        }
        var files = [];
        if (ev.dataTransfer.items) {
            for (var i = 0; i < ev.dataTransfer.items.length; i++) {
                if (ev.dataTransfer.items[i].kind === 'file') {
                    var file = ev.dataTransfer.items[i].getAsFile();
                    if (file) {
                        files.push(file);
                    }
                }
            }
        }
        else {
            for (var i = 0; i < ev.dataTransfer.files.length; i++) {
                files.push(ev.dataTransfer.files[i]);
            }
        }
        var handled = false;
        DragAndDropHandler.listeners.forEach(function (listener) {
            var element = listener.getElement();
            if (element === ev.currentTarget) {
                handled = handled || listener.onFilesDrop(files);
            }
        });
        if (handled) {
            ev.preventDefault();
            return true;
        }
        return false;
    };
    DragAndDropHandler.dragOverHandler = function (ev) {
        ev.preventDefault();
    };
    DragAndDropHandler.dragLeaveHandler = function (ev) {
        var handled = false;
        DragAndDropHandler.listeners.forEach(function (listener) {
            var element = listener.getElement();
            if (element === ev.currentTarget) {
                handled = handled || listener.onDragLeave();
            }
        });
        if (handled) {
            ev.preventDefault();
            return true;
        }
        return false;
    };
    DragAndDropHandler.dragEnterHandler = function (ev) {
        var handled = false;
        DragAndDropHandler.listeners.forEach(function (listener) {
            var element = listener.getElement();
            if (element === ev.currentTarget) {
                handled = handled || listener.onDragEnter();
            }
        });
        if (handled) {
            ev.preventDefault();
            return true;
        }
        return false;
    };
    return DragAndDropHandler;
}());
exports.DragAndDropHandler = DragAndDropHandler;


/***/ }),

/***/ "./src/app/googDevice/DragAndPushLogger.ts":
/*!*************************************************!*\
  !*** ./src/app/googDevice/DragAndPushLogger.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ./filePush/FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var TAG = '[DragAndPushLogger]';
var DragAndPushLogger = (function () {
    function DragAndPushLogger(element) {
        var _this = this;
        this.ctx = null;
        this.timeoutMap = new Map();
        this.dirtyMap = new Map();
        this.pushLineMap = new Map();
        this.linePushMap = new Map();
        this.dirtyLines = [];
        this.cleanDirtyLine = function (line) {
            if (!_this.ctx) {
                return;
            }
            var X = DragAndPushLogger.X, Y = DragAndPushLogger.Y, HEIGHT = DragAndPushLogger.HEIGHT;
            var x = X;
            var y = Y + HEIGHT * line * 2;
            var dirty = _this.dirtyMap.get(line);
            if (dirty) {
                var p = DragAndPushLogger.HEIGHT / 2;
                var d = p * 2;
                _this.ctx.clearRect(x - p, y - HEIGHT - p, dirty + d, HEIGHT + d);
            }
            _this.dirtyLines[line] = false;
        };
        if (element instanceof HTMLCanvasElement) {
            var canvas = element;
            this.ctx = canvas.getContext('2d');
        }
    }
    DragAndPushLogger.prototype.logText = function (text, line, scheduleCleanup, error) {
        var _this = this;
        if (scheduleCleanup === void 0) { scheduleCleanup = false; }
        if (error === void 0) { error = false; }
        if (!this.ctx) {
            error ? console.error(TAG, text) : console.log(TAG, text);
            return;
        }
        if (error) {
            console.error(TAG, text);
        }
        this.cleanDirtyLine(line);
        var X = DragAndPushLogger.X, Y = DragAndPushLogger.Y, HEIGHT = DragAndPushLogger.HEIGHT;
        var x = X;
        var y = Y + HEIGHT * line * 2;
        this.ctx.save();
        this.ctx.font = "".concat(HEIGHT, "px monospace");
        var textMetrics = this.ctx.measureText(text);
        var width = Math.abs(textMetrics.actualBoundingBoxLeft) + Math.abs(textMetrics.actualBoundingBoxRight);
        this.dirtyMap.set(line, width);
        this.ctx.fillStyle = DragAndPushLogger.LOG_BACKGROUND;
        var p = DragAndPushLogger.HEIGHT / 2 - 1;
        var d = p * 2;
        this.ctx.fillRect(x - p, y - HEIGHT - p, width + d, HEIGHT + d);
        this.ctx.fillStyle = error ? DragAndPushLogger.ERROR_COLOR : DragAndPushLogger.DEBUG_COLOR;
        this.ctx.fillText(text, x, y);
        this.ctx.restore();
        if (scheduleCleanup) {
            this.dirtyLines[line] = true;
            var timeout = this.timeoutMap.get(line);
            if (timeout) {
                clearTimeout(timeout);
            }
            timeout = window.setTimeout(function () {
                _this.cleanDirtyLine(line);
                var key = _this.linePushMap.get(line);
                if (typeof key === 'string') {
                    _this.linePushMap.delete(line);
                    _this.pushLineMap.delete(key);
                }
            }, 5000);
            this.timeoutMap.set(line, timeout);
        }
    };
    DragAndPushLogger.prototype.onDragEnter = function () {
        this.logText('Drop APK files here', 1);
        return true;
    };
    DragAndPushLogger.prototype.onDragLeave = function () {
        this.cleanDirtyLine(1);
        return true;
    };
    DragAndPushLogger.prototype.onDrop = function () {
        this.cleanDirtyLine(1);
        return true;
    };
    DragAndPushLogger.prototype.onError = function (error) {
        var text = typeof error === 'string' ? error : error.message;
        this.logText(text, 1, true);
    };
    DragAndPushLogger.prototype.onFilePushUpdate = function (data) {
        var pushId = data.pushId, message = data.message, fileName = data.fileName, error = data.error;
        var key = "".concat(pushId, "/").concat(fileName);
        var firstKey = "".concat(FilePushHandler_1.default.REQUEST_NEW_PUSH_ID, "/").concat(fileName);
        var line = this.pushLineMap.get(key);
        var update = false;
        if (typeof line === 'undefined' && key !== firstKey) {
            line = this.pushLineMap.get(firstKey);
            if (typeof line !== 'undefined') {
                this.pushLineMap.delete(firstKey);
                update = true;
            }
        }
        if (typeof line === 'undefined') {
            line = 2;
            while (this.dirtyLines[line]) {
                line++;
            }
            update = true;
        }
        if (update) {
            this.pushLineMap.set(key, line);
            this.linePushMap.set(line, key);
        }
        this.logText("Upload \"".concat(fileName, "\": ").concat(message), line, true, error);
    };
    DragAndPushLogger.X = 20;
    DragAndPushLogger.Y = 40;
    DragAndPushLogger.HEIGHT = 12;
    DragAndPushLogger.LOG_BACKGROUND = 'rgba(0,0,0, 0.5)';
    DragAndPushLogger.DEBUG_COLOR = 'hsl(136, 85%,50%)';
    DragAndPushLogger.ERROR_COLOR = 'hsl(336,85%,50%)';
    return DragAndPushLogger;
}());
exports["default"] = DragAndPushLogger;


/***/ }),

/***/ "./src/app/googDevice/Entry.ts":
/*!*************************************!*\
  !*** ./src/app/googDevice/Entry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Entry = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Stats_1 = __webpack_require__(/*! ./Stats */ "./src/app/googDevice/Stats.ts");
var Entry = (function (_super) {
    tslib_1.__extends(Entry, _super);
    function Entry(name, mode, size, mtime) {
        var _this = _super.call(this, mode, size, mtime) || this;
        _this.name = name;
        return _this;
    }
    Entry.prototype.toString = function () {
        return this.name;
    };
    return Entry;
}(Stats_1.Stats));
exports.Entry = Entry;


/***/ }),

/***/ "./src/app/googDevice/KeyInputHandler.ts":
/*!***********************************************!*\
  !*** ./src/app/googDevice/KeyInputHandler.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyInputHandler = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var KeyCodeControlMessage_1 = __webpack_require__(/*! ../controlMessage/KeyCodeControlMessage */ "./src/app/controlMessage/KeyCodeControlMessage.ts");
var KeyEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ./android/KeyEvent */ "./src/app/googDevice/android/KeyEvent.ts"));
var KeyToCodeMap_1 = __webpack_require__(/*! ./KeyToCodeMap */ "./src/app/googDevice/KeyToCodeMap.ts");
var KeyInputHandler = (function () {
    function KeyInputHandler() {
    }
    KeyInputHandler.attachListeners = function () {
        document.body.addEventListener('keydown', this.handler);
        document.body.addEventListener('keyup', this.handler);
    };
    KeyInputHandler.detachListeners = function () {
        document.body.removeEventListener('keydown', this.handler);
        document.body.removeEventListener('keyup', this.handler);
    };
    KeyInputHandler.addEventListener = function (listener) {
        if (!this.listeners.size) {
            this.attachListeners();
        }
        this.listeners.add(listener);
    };
    KeyInputHandler.removeEventListener = function (listener) {
        this.listeners.delete(listener);
        if (!this.listeners.size) {
            this.detachListeners();
        }
    };
    KeyInputHandler.repeatCounter = new Map();
    KeyInputHandler.listeners = new Set();
    KeyInputHandler.handler = function (event) {
        var keyboardEvent = event;
        var keyCode = KeyToCodeMap_1.KeyToCodeMap.get(keyboardEvent.code);
        if (!keyCode) {
            return;
        }
        var action;
        var repeatCount = 0;
        if (keyboardEvent.type === 'keydown') {
            action = KeyEvent_1.default.ACTION_DOWN;
            if (keyboardEvent.repeat) {
                var count = KeyInputHandler.repeatCounter.get(keyCode);
                if (typeof count !== 'number') {
                    count = 1;
                }
                else {
                    count++;
                }
                repeatCount = count;
                KeyInputHandler.repeatCounter.set(keyCode, count);
            }
        }
        else if (keyboardEvent.type === 'keyup') {
            action = KeyEvent_1.default.ACTION_UP;
            KeyInputHandler.repeatCounter.delete(keyCode);
        }
        else {
            return;
        }
        var metaState = (keyboardEvent.getModifierState('Alt') ? KeyEvent_1.default.META_ALT_ON : 0) |
            (keyboardEvent.getModifierState('Shift') ? KeyEvent_1.default.META_SHIFT_ON : 0) |
            (keyboardEvent.getModifierState('Control') ? KeyEvent_1.default.META_CTRL_ON : 0) |
            (keyboardEvent.getModifierState('Meta') ? KeyEvent_1.default.META_META_ON : 0) |
            (keyboardEvent.getModifierState('CapsLock') ? KeyEvent_1.default.META_CAPS_LOCK_ON : 0) |
            (keyboardEvent.getModifierState('ScrollLock') ? KeyEvent_1.default.META_SCROLL_LOCK_ON : 0) |
            (keyboardEvent.getModifierState('NumLock') ? KeyEvent_1.default.META_NUM_LOCK_ON : 0);
        var controlMessage = new KeyCodeControlMessage_1.KeyCodeControlMessage(action, keyCode, repeatCount, metaState);
        KeyInputHandler.listeners.forEach(function (listener) {
            listener.onKeyEvent(controlMessage);
        });
        event.preventDefault();
    };
    return KeyInputHandler;
}());
exports.KeyInputHandler = KeyInputHandler;


/***/ }),

/***/ "./src/app/googDevice/KeyToCodeMap.ts":
/*!********************************************!*\
  !*** ./src/app/googDevice/KeyToCodeMap.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyToCodeMap = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var KeyEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ./android/KeyEvent */ "./src/app/googDevice/android/KeyEvent.ts"));
var UIEventsCode_1 = tslib_1.__importDefault(__webpack_require__(/*! ../UIEventsCode */ "./src/app/UIEventsCode.ts"));
exports.KeyToCodeMap = new Map([
    [UIEventsCode_1.default.Backquote, KeyEvent_1.default.KEYCODE_GRAVE],
    [UIEventsCode_1.default.Backslash, KeyEvent_1.default.KEYCODE_BACKSLASH],
    [UIEventsCode_1.default.BracketLeft, KeyEvent_1.default.KEYCODE_LEFT_BRACKET],
    [UIEventsCode_1.default.BracketRight, KeyEvent_1.default.KEYCODE_RIGHT_BRACKET],
    [UIEventsCode_1.default.Comma, KeyEvent_1.default.KEYCODE_COMMA],
    [UIEventsCode_1.default.Digit0, KeyEvent_1.default.KEYCODE_0],
    [UIEventsCode_1.default.Digit1, KeyEvent_1.default.KEYCODE_1],
    [UIEventsCode_1.default.Digit2, KeyEvent_1.default.KEYCODE_2],
    [UIEventsCode_1.default.Digit3, KeyEvent_1.default.KEYCODE_3],
    [UIEventsCode_1.default.Digit4, KeyEvent_1.default.KEYCODE_4],
    [UIEventsCode_1.default.Digit5, KeyEvent_1.default.KEYCODE_5],
    [UIEventsCode_1.default.Digit6, KeyEvent_1.default.KEYCODE_6],
    [UIEventsCode_1.default.Digit7, KeyEvent_1.default.KEYCODE_7],
    [UIEventsCode_1.default.Digit8, KeyEvent_1.default.KEYCODE_8],
    [UIEventsCode_1.default.Digit9, KeyEvent_1.default.KEYCODE_9],
    [UIEventsCode_1.default.Equal, KeyEvent_1.default.KEYCODE_EQUALS],
    [UIEventsCode_1.default.IntlRo, KeyEvent_1.default.KEYCODE_RO],
    [UIEventsCode_1.default.IntlYen, KeyEvent_1.default.KEYCODE_YEN],
    [UIEventsCode_1.default.KeyA, KeyEvent_1.default.KEYCODE_A],
    [UIEventsCode_1.default.KeyB, KeyEvent_1.default.KEYCODE_B],
    [UIEventsCode_1.default.KeyC, KeyEvent_1.default.KEYCODE_C],
    [UIEventsCode_1.default.KeyD, KeyEvent_1.default.KEYCODE_D],
    [UIEventsCode_1.default.KeyE, KeyEvent_1.default.KEYCODE_E],
    [UIEventsCode_1.default.KeyF, KeyEvent_1.default.KEYCODE_F],
    [UIEventsCode_1.default.KeyG, KeyEvent_1.default.KEYCODE_G],
    [UIEventsCode_1.default.KeyH, KeyEvent_1.default.KEYCODE_H],
    [UIEventsCode_1.default.KeyI, KeyEvent_1.default.KEYCODE_I],
    [UIEventsCode_1.default.KeyJ, KeyEvent_1.default.KEYCODE_J],
    [UIEventsCode_1.default.KeyK, KeyEvent_1.default.KEYCODE_K],
    [UIEventsCode_1.default.KeyL, KeyEvent_1.default.KEYCODE_L],
    [UIEventsCode_1.default.KeyM, KeyEvent_1.default.KEYCODE_M],
    [UIEventsCode_1.default.KeyN, KeyEvent_1.default.KEYCODE_N],
    [UIEventsCode_1.default.KeyO, KeyEvent_1.default.KEYCODE_O],
    [UIEventsCode_1.default.KeyP, KeyEvent_1.default.KEYCODE_P],
    [UIEventsCode_1.default.KeyQ, KeyEvent_1.default.KEYCODE_Q],
    [UIEventsCode_1.default.KeyR, KeyEvent_1.default.KEYCODE_R],
    [UIEventsCode_1.default.KeyS, KeyEvent_1.default.KEYCODE_S],
    [UIEventsCode_1.default.KeyT, KeyEvent_1.default.KEYCODE_T],
    [UIEventsCode_1.default.KeyU, KeyEvent_1.default.KEYCODE_U],
    [UIEventsCode_1.default.KeyV, KeyEvent_1.default.KEYCODE_V],
    [UIEventsCode_1.default.KeyW, KeyEvent_1.default.KEYCODE_W],
    [UIEventsCode_1.default.KeyX, KeyEvent_1.default.KEYCODE_X],
    [UIEventsCode_1.default.KeyY, KeyEvent_1.default.KEYCODE_Y],
    [UIEventsCode_1.default.KeyZ, KeyEvent_1.default.KEYCODE_Z],
    [UIEventsCode_1.default.Minus, KeyEvent_1.default.KEYCODE_MINUS],
    [UIEventsCode_1.default.Period, KeyEvent_1.default.KEYCODE_PERIOD],
    [UIEventsCode_1.default.Quote, KeyEvent_1.default.KEYCODE_APOSTROPHE],
    [UIEventsCode_1.default.Semicolon, KeyEvent_1.default.KEYCODE_SEMICOLON],
    [UIEventsCode_1.default.Slash, KeyEvent_1.default.KEYCODE_SLASH],
    [UIEventsCode_1.default.KanaMode, KeyEvent_1.default.KEYCODE_KANA],
    [UIEventsCode_1.default.Delete, KeyEvent_1.default.KEYCODE_FORWARD_DEL],
    [UIEventsCode_1.default.End, KeyEvent_1.default.KEYCODE_MOVE_END],
    [UIEventsCode_1.default.Help, KeyEvent_1.default.KEYCODE_HELP],
    [UIEventsCode_1.default.Home, KeyEvent_1.default.KEYCODE_MOVE_HOME],
    [UIEventsCode_1.default.Insert, KeyEvent_1.default.KEYCODE_INSERT],
    [UIEventsCode_1.default.PageDown, KeyEvent_1.default.KEYCODE_PAGE_DOWN],
    [UIEventsCode_1.default.PageUp, KeyEvent_1.default.KEYCODE_PAGE_UP],
    [UIEventsCode_1.default.AltLeft, KeyEvent_1.default.KEYCODE_ALT_LEFT],
    [UIEventsCode_1.default.AltRight, KeyEvent_1.default.KEYCODE_ALT_RIGHT],
    [UIEventsCode_1.default.Backspace, KeyEvent_1.default.KEYCODE_DEL],
    [UIEventsCode_1.default.CapsLock, KeyEvent_1.default.KEYCODE_CAPS_LOCK],
    [UIEventsCode_1.default.ControlLeft, KeyEvent_1.default.KEYCODE_CTRL_LEFT],
    [UIEventsCode_1.default.ControlRight, KeyEvent_1.default.KEYCODE_CTRL_RIGHT],
    [UIEventsCode_1.default.Enter, KeyEvent_1.default.KEYCODE_ENTER],
    [UIEventsCode_1.default.MetaLeft, KeyEvent_1.default.KEYCODE_META_LEFT],
    [UIEventsCode_1.default.MetaRight, KeyEvent_1.default.KEYCODE_META_RIGHT],
    [UIEventsCode_1.default.ShiftLeft, KeyEvent_1.default.KEYCODE_SHIFT_LEFT],
    [UIEventsCode_1.default.ShiftRight, KeyEvent_1.default.KEYCODE_SHIFT_RIGHT],
    [UIEventsCode_1.default.Space, KeyEvent_1.default.KEYCODE_SPACE],
    [UIEventsCode_1.default.Tab, KeyEvent_1.default.KEYCODE_TAB],
    [UIEventsCode_1.default.ArrowLeft, KeyEvent_1.default.KEYCODE_DPAD_LEFT],
    [UIEventsCode_1.default.ArrowUp, KeyEvent_1.default.KEYCODE_DPAD_UP],
    [UIEventsCode_1.default.ArrowRight, KeyEvent_1.default.KEYCODE_DPAD_RIGHT],
    [UIEventsCode_1.default.ArrowDown, KeyEvent_1.default.KEYCODE_DPAD_DOWN],
    [UIEventsCode_1.default.NumLock, KeyEvent_1.default.KEYCODE_NUM_LOCK],
    [UIEventsCode_1.default.Numpad0, KeyEvent_1.default.KEYCODE_NUMPAD_0],
    [UIEventsCode_1.default.Numpad1, KeyEvent_1.default.KEYCODE_NUMPAD_1],
    [UIEventsCode_1.default.Numpad2, KeyEvent_1.default.KEYCODE_NUMPAD_2],
    [UIEventsCode_1.default.Numpad3, KeyEvent_1.default.KEYCODE_NUMPAD_3],
    [UIEventsCode_1.default.Numpad4, KeyEvent_1.default.KEYCODE_NUMPAD_4],
    [UIEventsCode_1.default.Numpad5, KeyEvent_1.default.KEYCODE_NUMPAD_5],
    [UIEventsCode_1.default.Numpad6, KeyEvent_1.default.KEYCODE_NUMPAD_6],
    [UIEventsCode_1.default.Numpad7, KeyEvent_1.default.KEYCODE_NUMPAD_7],
    [UIEventsCode_1.default.Numpad8, KeyEvent_1.default.KEYCODE_NUMPAD_8],
    [UIEventsCode_1.default.Numpad9, KeyEvent_1.default.KEYCODE_NUMPAD_9],
    [UIEventsCode_1.default.NumpadAdd, KeyEvent_1.default.KEYCODE_NUMPAD_ADD],
    [UIEventsCode_1.default.NumpadComma, KeyEvent_1.default.KEYCODE_NUMPAD_COMMA],
    [UIEventsCode_1.default.NumpadDecimal, KeyEvent_1.default.KEYCODE_NUMPAD_DOT],
    [UIEventsCode_1.default.NumpadDivide, KeyEvent_1.default.KEYCODE_NUMPAD_DIVIDE],
    [UIEventsCode_1.default.NumpadEnter, KeyEvent_1.default.KEYCODE_NUMPAD_ENTER],
    [UIEventsCode_1.default.NumpadEqual, KeyEvent_1.default.KEYCODE_NUMPAD_EQUALS],
    [UIEventsCode_1.default.NumpadMultiply, KeyEvent_1.default.KEYCODE_NUMPAD_MULTIPLY],
    [UIEventsCode_1.default.NumpadParenLeft, KeyEvent_1.default.KEYCODE_NUMPAD_LEFT_PAREN],
    [UIEventsCode_1.default.NumpadParenRight, KeyEvent_1.default.KEYCODE_NUMPAD_RIGHT_PAREN],
    [UIEventsCode_1.default.NumpadSubtract, KeyEvent_1.default.KEYCODE_NUMPAD_SUBTRACT],
    [UIEventsCode_1.default.Escape, KeyEvent_1.default.KEYCODE_ESCAPE],
    [UIEventsCode_1.default.F1, KeyEvent_1.default.KEYCODE_F1],
    [UIEventsCode_1.default.F2, KeyEvent_1.default.KEYCODE_F2],
    [UIEventsCode_1.default.F3, KeyEvent_1.default.KEYCODE_F3],
    [UIEventsCode_1.default.F4, KeyEvent_1.default.KEYCODE_F4],
    [UIEventsCode_1.default.F5, KeyEvent_1.default.KEYCODE_F5],
    [UIEventsCode_1.default.F6, KeyEvent_1.default.KEYCODE_F6],
    [UIEventsCode_1.default.F7, KeyEvent_1.default.KEYCODE_F7],
    [UIEventsCode_1.default.F8, KeyEvent_1.default.KEYCODE_F8],
    [UIEventsCode_1.default.F9, KeyEvent_1.default.KEYCODE_F9],
    [UIEventsCode_1.default.F10, KeyEvent_1.default.KEYCODE_F10],
    [UIEventsCode_1.default.F11, KeyEvent_1.default.KEYCODE_F11],
    [UIEventsCode_1.default.F12, KeyEvent_1.default.KEYCODE_F12],
    [UIEventsCode_1.default.Fn, KeyEvent_1.default.KEYCODE_FUNCTION],
    [UIEventsCode_1.default.PrintScreen, KeyEvent_1.default.KEYCODE_SYSRQ],
    [UIEventsCode_1.default.Pause, KeyEvent_1.default.KEYCODE_BREAK],
]);


/***/ }),

/***/ "./src/app/googDevice/Stats.ts":
/*!*************************************!*\
  !*** ./src/app/googDevice/Stats.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Stats = void 0;
var Stats = (function () {
    function Stats(mode, size, mtime) {
        this.mode = mode;
        this.size = size;
        this.mtime = new Date(mtime * 1000);
    }
    Stats.prototype.checkModeProperty = function (property) {
        return (this.mode & Stats.S_IFMT) === property;
    };
    Stats.prototype.isBlockDevice = function () {
        return this.checkModeProperty(Stats.S_IFBLK);
    };
    Stats.prototype.isCharacterDevice = function () {
        return this.checkModeProperty(Stats.S_IFCHR);
    };
    Stats.prototype.isDirectory = function () {
        return this.checkModeProperty(Stats.S_IFDIR);
    };
    Stats.prototype.isFIFO = function () {
        return this.checkModeProperty(Stats.S_IFIFO);
    };
    Stats.prototype.isisSocket = function () {
        return this.checkModeProperty(Stats.S_IFSOCK);
    };
    Stats.prototype.isSymbolicLink = function () {
        return this.checkModeProperty(Stats.S_IFLNK);
    };
    Stats.prototype.isFile = function () {
        return this.checkModeProperty(Stats.S_IFREG);
    };
    Stats.S_IFMT = 61440;
    Stats.S_IFSOCK = 49152;
    Stats.S_IFLNK = 40960;
    Stats.S_IFREG = 32768;
    Stats.S_IFBLK = 24576;
    Stats.S_IFDIR = 16384;
    Stats.S_IFCHR = 8192;
    Stats.S_IFIFO = 4096;
    Stats.S_ISUID = 2048;
    Stats.S_ISGID = 1024;
    Stats.S_ISVTX = 512;
    Stats.S_IRWXU = 448;
    Stats.S_IRUSR = 256;
    Stats.S_IWUSR = 128;
    Stats.S_IXUSR = 64;
    Stats.S_IRWXG = 56;
    Stats.S_IRGRP = 32;
    return Stats;
}());
exports.Stats = Stats;


/***/ }),

/***/ "./src/app/googDevice/android/KeyEvent.ts":
/*!************************************************!*\
  !*** ./src/app/googDevice/android/KeyEvent.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var KeyEvent = (function () {
    function KeyEvent() {
    }
    KeyEvent.ACTION_DOWN = 0;
    KeyEvent.ACTION_UP = 1;
    KeyEvent.KEYCODE_0 = 7;
    KeyEvent.KEYCODE_1 = 8;
    KeyEvent.KEYCODE_11 = 227;
    KeyEvent.KEYCODE_12 = 228;
    KeyEvent.KEYCODE_2 = 9;
    KeyEvent.KEYCODE_3 = 10;
    KeyEvent.KEYCODE_3D_MODE = 206;
    KeyEvent.KEYCODE_4 = 11;
    KeyEvent.KEYCODE_5 = 12;
    KeyEvent.KEYCODE_6 = 13;
    KeyEvent.KEYCODE_7 = 14;
    KeyEvent.KEYCODE_8 = 15;
    KeyEvent.KEYCODE_9 = 16;
    KeyEvent.KEYCODE_A = 29;
    KeyEvent.KEYCODE_ALL_APPS = 284;
    KeyEvent.KEYCODE_ALT_LEFT = 57;
    KeyEvent.KEYCODE_ALT_RIGHT = 58;
    KeyEvent.KEYCODE_APOSTROPHE = 75;
    KeyEvent.KEYCODE_APP_SWITCH = 187;
    KeyEvent.KEYCODE_ASSIST = 219;
    KeyEvent.KEYCODE_AT = 77;
    KeyEvent.KEYCODE_AVR_INPUT = 182;
    KeyEvent.KEYCODE_AVR_POWER = 181;
    KeyEvent.KEYCODE_B = 30;
    KeyEvent.KEYCODE_BACK = 4;
    KeyEvent.KEYCODE_BACKSLASH = 73;
    KeyEvent.KEYCODE_BOOKMARK = 174;
    KeyEvent.KEYCODE_BREAK = 121;
    KeyEvent.KEYCODE_BRIGHTNESS_DOWN = 220;
    KeyEvent.KEYCODE_BRIGHTNESS_UP = 221;
    KeyEvent.KEYCODE_BUTTON_1 = 188;
    KeyEvent.KEYCODE_BUTTON_10 = 197;
    KeyEvent.KEYCODE_BUTTON_11 = 198;
    KeyEvent.KEYCODE_BUTTON_12 = 199;
    KeyEvent.KEYCODE_BUTTON_13 = 200;
    KeyEvent.KEYCODE_BUTTON_14 = 201;
    KeyEvent.KEYCODE_BUTTON_15 = 202;
    KeyEvent.KEYCODE_BUTTON_16 = 203;
    KeyEvent.KEYCODE_BUTTON_2 = 189;
    KeyEvent.KEYCODE_BUTTON_3 = 190;
    KeyEvent.KEYCODE_BUTTON_4 = 191;
    KeyEvent.KEYCODE_BUTTON_5 = 192;
    KeyEvent.KEYCODE_BUTTON_6 = 193;
    KeyEvent.KEYCODE_BUTTON_7 = 194;
    KeyEvent.KEYCODE_BUTTON_8 = 195;
    KeyEvent.KEYCODE_BUTTON_9 = 196;
    KeyEvent.KEYCODE_BUTTON_A = 96;
    KeyEvent.KEYCODE_BUTTON_B = 97;
    KeyEvent.KEYCODE_BUTTON_C = 98;
    KeyEvent.KEYCODE_BUTTON_L1 = 102;
    KeyEvent.KEYCODE_BUTTON_L2 = 104;
    KeyEvent.KEYCODE_BUTTON_MODE = 110;
    KeyEvent.KEYCODE_BUTTON_R1 = 103;
    KeyEvent.KEYCODE_BUTTON_R2 = 105;
    KeyEvent.KEYCODE_BUTTON_SELECT = 109;
    KeyEvent.KEYCODE_BUTTON_START = 108;
    KeyEvent.KEYCODE_BUTTON_THUMBL = 106;
    KeyEvent.KEYCODE_BUTTON_THUMBR = 107;
    KeyEvent.KEYCODE_BUTTON_X = 99;
    KeyEvent.KEYCODE_BUTTON_Y = 100;
    KeyEvent.KEYCODE_BUTTON_Z = 101;
    KeyEvent.KEYCODE_C = 31;
    KeyEvent.KEYCODE_CALCULATOR = 210;
    KeyEvent.KEYCODE_CALENDAR = 208;
    KeyEvent.KEYCODE_CALL = 5;
    KeyEvent.KEYCODE_CAMERA = 27;
    KeyEvent.KEYCODE_CAPS_LOCK = 115;
    KeyEvent.KEYCODE_CAPTIONS = 175;
    KeyEvent.KEYCODE_CHANNEL_DOWN = 167;
    KeyEvent.KEYCODE_CHANNEL_UP = 166;
    KeyEvent.KEYCODE_CLEAR = 28;
    KeyEvent.KEYCODE_COMMA = 55;
    KeyEvent.KEYCODE_CONTACTS = 207;
    KeyEvent.KEYCODE_COPY = 278;
    KeyEvent.KEYCODE_CTRL_LEFT = 113;
    KeyEvent.KEYCODE_CTRL_RIGHT = 114;
    KeyEvent.KEYCODE_CUT = 277;
    KeyEvent.KEYCODE_D = 32;
    KeyEvent.KEYCODE_DEL = 67;
    KeyEvent.KEYCODE_DPAD_CENTER = 23;
    KeyEvent.KEYCODE_DPAD_DOWN = 20;
    KeyEvent.KEYCODE_DPAD_DOWN_LEFT = 269;
    KeyEvent.KEYCODE_DPAD_DOWN_RIGHT = 271;
    KeyEvent.KEYCODE_DPAD_LEFT = 21;
    KeyEvent.KEYCODE_DPAD_RIGHT = 22;
    KeyEvent.KEYCODE_DPAD_UP = 19;
    KeyEvent.KEYCODE_DPAD_UP_LEFT = 268;
    KeyEvent.KEYCODE_DPAD_UP_RIGHT = 270;
    KeyEvent.KEYCODE_DVR = 173;
    KeyEvent.KEYCODE_E = 33;
    KeyEvent.KEYCODE_EISU = 212;
    KeyEvent.KEYCODE_ENDCALL = 6;
    KeyEvent.KEYCODE_ENTER = 66;
    KeyEvent.KEYCODE_ENVELOPE = 65;
    KeyEvent.KEYCODE_EQUALS = 70;
    KeyEvent.KEYCODE_ESCAPE = 111;
    KeyEvent.KEYCODE_EXPLORER = 64;
    KeyEvent.KEYCODE_F = 34;
    KeyEvent.KEYCODE_F1 = 131;
    KeyEvent.KEYCODE_F10 = 140;
    KeyEvent.KEYCODE_F11 = 141;
    KeyEvent.KEYCODE_F12 = 142;
    KeyEvent.KEYCODE_F2 = 132;
    KeyEvent.KEYCODE_F3 = 133;
    KeyEvent.KEYCODE_F4 = 134;
    KeyEvent.KEYCODE_F5 = 135;
    KeyEvent.KEYCODE_F6 = 136;
    KeyEvent.KEYCODE_F7 = 137;
    KeyEvent.KEYCODE_F8 = 138;
    KeyEvent.KEYCODE_F9 = 139;
    KeyEvent.KEYCODE_FOCUS = 80;
    KeyEvent.KEYCODE_FORWARD = 125;
    KeyEvent.KEYCODE_FORWARD_DEL = 112;
    KeyEvent.KEYCODE_FUNCTION = 119;
    KeyEvent.KEYCODE_G = 35;
    KeyEvent.KEYCODE_GRAVE = 68;
    KeyEvent.KEYCODE_GUIDE = 172;
    KeyEvent.KEYCODE_H = 36;
    KeyEvent.KEYCODE_HEADSETHOOK = 79;
    KeyEvent.KEYCODE_HELP = 259;
    KeyEvent.KEYCODE_HENKAN = 214;
    KeyEvent.KEYCODE_HOME = 3;
    KeyEvent.KEYCODE_I = 37;
    KeyEvent.KEYCODE_INFO = 165;
    KeyEvent.KEYCODE_INSERT = 124;
    KeyEvent.KEYCODE_J = 38;
    KeyEvent.KEYCODE_K = 39;
    KeyEvent.KEYCODE_KANA = 218;
    KeyEvent.KEYCODE_KATAKANA_HIRAGANA = 215;
    KeyEvent.KEYCODE_L = 40;
    KeyEvent.KEYCODE_LANGUAGE_SWITCH = 204;
    KeyEvent.KEYCODE_LAST_CHANNEL = 229;
    KeyEvent.KEYCODE_LEFT_BRACKET = 71;
    KeyEvent.KEYCODE_M = 41;
    KeyEvent.KEYCODE_MANNER_MODE = 205;
    KeyEvent.KEYCODE_MEDIA_AUDIO_TRACK = 222;
    KeyEvent.KEYCODE_MEDIA_CLOSE = 128;
    KeyEvent.KEYCODE_MEDIA_EJECT = 129;
    KeyEvent.KEYCODE_MEDIA_FAST_FORWARD = 90;
    KeyEvent.KEYCODE_MEDIA_NEXT = 87;
    KeyEvent.KEYCODE_MEDIA_PAUSE = 127;
    KeyEvent.KEYCODE_MEDIA_PLAY = 126;
    KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE = 85;
    KeyEvent.KEYCODE_MEDIA_PREVIOUS = 88;
    KeyEvent.KEYCODE_MEDIA_RECORD = 130;
    KeyEvent.KEYCODE_MEDIA_REWIND = 89;
    KeyEvent.KEYCODE_MEDIA_SKIP_BACKWARD = 273;
    KeyEvent.KEYCODE_MEDIA_SKIP_FORWARD = 272;
    KeyEvent.KEYCODE_MEDIA_STEP_BACKWARD = 275;
    KeyEvent.KEYCODE_MEDIA_STEP_FORWARD = 274;
    KeyEvent.KEYCODE_MEDIA_STOP = 86;
    KeyEvent.KEYCODE_MEDIA_TOP_MENU = 226;
    KeyEvent.KEYCODE_MENU = 82;
    KeyEvent.KEYCODE_META_LEFT = 117;
    KeyEvent.KEYCODE_META_RIGHT = 118;
    KeyEvent.KEYCODE_MINUS = 69;
    KeyEvent.KEYCODE_MOVE_END = 123;
    KeyEvent.KEYCODE_MOVE_HOME = 122;
    KeyEvent.KEYCODE_MUHENKAN = 213;
    KeyEvent.KEYCODE_MUSIC = 209;
    KeyEvent.KEYCODE_MUTE = 91;
    KeyEvent.KEYCODE_N = 42;
    KeyEvent.KEYCODE_NAVIGATE_IN = 262;
    KeyEvent.KEYCODE_NAVIGATE_NEXT = 261;
    KeyEvent.KEYCODE_NAVIGATE_OUT = 263;
    KeyEvent.KEYCODE_NAVIGATE_PREVIOUS = 260;
    KeyEvent.KEYCODE_NOTIFICATION = 83;
    KeyEvent.KEYCODE_NUM = 78;
    KeyEvent.KEYCODE_NUMPAD_0 = 144;
    KeyEvent.KEYCODE_NUMPAD_1 = 145;
    KeyEvent.KEYCODE_NUMPAD_2 = 146;
    KeyEvent.KEYCODE_NUMPAD_3 = 147;
    KeyEvent.KEYCODE_NUMPAD_4 = 148;
    KeyEvent.KEYCODE_NUMPAD_5 = 149;
    KeyEvent.KEYCODE_NUMPAD_6 = 150;
    KeyEvent.KEYCODE_NUMPAD_7 = 151;
    KeyEvent.KEYCODE_NUMPAD_8 = 152;
    KeyEvent.KEYCODE_NUMPAD_9 = 153;
    KeyEvent.KEYCODE_NUMPAD_ADD = 157;
    KeyEvent.KEYCODE_NUMPAD_COMMA = 159;
    KeyEvent.KEYCODE_NUMPAD_DIVIDE = 154;
    KeyEvent.KEYCODE_NUMPAD_DOT = 158;
    KeyEvent.KEYCODE_NUMPAD_ENTER = 160;
    KeyEvent.KEYCODE_NUMPAD_EQUALS = 161;
    KeyEvent.KEYCODE_NUMPAD_LEFT_PAREN = 162;
    KeyEvent.KEYCODE_NUMPAD_MULTIPLY = 155;
    KeyEvent.KEYCODE_NUMPAD_RIGHT_PAREN = 163;
    KeyEvent.KEYCODE_NUMPAD_SUBTRACT = 156;
    KeyEvent.KEYCODE_NUM_LOCK = 143;
    KeyEvent.KEYCODE_O = 43;
    KeyEvent.KEYCODE_P = 44;
    KeyEvent.KEYCODE_PAGE_DOWN = 93;
    KeyEvent.KEYCODE_PAGE_UP = 92;
    KeyEvent.KEYCODE_PAIRING = 225;
    KeyEvent.KEYCODE_PASTE = 279;
    KeyEvent.KEYCODE_PERIOD = 56;
    KeyEvent.KEYCODE_PICTSYMBOLS = 94;
    KeyEvent.KEYCODE_PLUS = 81;
    KeyEvent.KEYCODE_POUND = 18;
    KeyEvent.KEYCODE_POWER = 26;
    KeyEvent.KEYCODE_PROFILE_SWITCH = 288;
    KeyEvent.KEYCODE_PROG_BLUE = 186;
    KeyEvent.KEYCODE_PROG_GREEN = 184;
    KeyEvent.KEYCODE_PROG_RED = 183;
    KeyEvent.KEYCODE_PROG_YELLOW = 185;
    KeyEvent.KEYCODE_Q = 45;
    KeyEvent.KEYCODE_R = 46;
    KeyEvent.KEYCODE_REFRESH = 285;
    KeyEvent.KEYCODE_RIGHT_BRACKET = 72;
    KeyEvent.KEYCODE_RO = 217;
    KeyEvent.KEYCODE_S = 47;
    KeyEvent.KEYCODE_SCROLL_LOCK = 116;
    KeyEvent.KEYCODE_SEARCH = 84;
    KeyEvent.KEYCODE_SEMICOLON = 74;
    KeyEvent.KEYCODE_SETTINGS = 176;
    KeyEvent.KEYCODE_SHIFT_LEFT = 59;
    KeyEvent.KEYCODE_SHIFT_RIGHT = 60;
    KeyEvent.KEYCODE_SLASH = 76;
    KeyEvent.KEYCODE_SLEEP = 223;
    KeyEvent.KEYCODE_SOFT_LEFT = 1;
    KeyEvent.KEYCODE_SOFT_RIGHT = 2;
    KeyEvent.KEYCODE_SOFT_SLEEP = 276;
    KeyEvent.KEYCODE_SPACE = 62;
    KeyEvent.KEYCODE_STAR = 17;
    KeyEvent.KEYCODE_STB_INPUT = 180;
    KeyEvent.KEYCODE_STB_POWER = 179;
    KeyEvent.KEYCODE_STEM_1 = 265;
    KeyEvent.KEYCODE_STEM_2 = 266;
    KeyEvent.KEYCODE_STEM_3 = 267;
    KeyEvent.KEYCODE_STEM_PRIMARY = 264;
    KeyEvent.KEYCODE_SWITCH_CHARSET = 95;
    KeyEvent.KEYCODE_SYM = 63;
    KeyEvent.KEYCODE_SYSRQ = 120;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_DOWN = 281;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_LEFT = 282;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_RIGHT = 283;
    KeyEvent.KEYCODE_SYSTEM_NAVIGATION_UP = 280;
    KeyEvent.KEYCODE_T = 48;
    KeyEvent.KEYCODE_TAB = 61;
    KeyEvent.KEYCODE_THUMBS_DOWN = 287;
    KeyEvent.KEYCODE_THUMBS_UP = 286;
    KeyEvent.KEYCODE_TV = 170;
    KeyEvent.KEYCODE_TV_ANTENNA_CABLE = 242;
    KeyEvent.KEYCODE_TV_AUDIO_DESCRIPTION = 252;
    KeyEvent.KEYCODE_TV_AUDIO_DESCRIPTION_MIX_DOWN = 254;
    KeyEvent.KEYCODE_TV_AUDIO_DESCRIPTION_MIX_UP = 253;
    KeyEvent.KEYCODE_TV_CONTENTS_MENU = 256;
    KeyEvent.KEYCODE_TV_DATA_SERVICE = 230;
    KeyEvent.KEYCODE_TV_INPUT = 178;
    KeyEvent.KEYCODE_TV_INPUT_COMPONENT_1 = 249;
    KeyEvent.KEYCODE_TV_INPUT_COMPONENT_2 = 250;
    KeyEvent.KEYCODE_TV_INPUT_COMPOSITE_1 = 247;
    KeyEvent.KEYCODE_TV_INPUT_COMPOSITE_2 = 248;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_1 = 243;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_2 = 244;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_3 = 245;
    KeyEvent.KEYCODE_TV_INPUT_HDMI_4 = 246;
    KeyEvent.KEYCODE_TV_INPUT_VGA_1 = 251;
    KeyEvent.KEYCODE_TV_MEDIA_CONTEXT_MENU = 257;
    KeyEvent.KEYCODE_TV_NETWORK = 241;
    KeyEvent.KEYCODE_TV_NUMBER_ENTRY = 234;
    KeyEvent.KEYCODE_TV_POWER = 177;
    KeyEvent.KEYCODE_TV_RADIO_SERVICE = 232;
    KeyEvent.KEYCODE_TV_SATELLITE = 237;
    KeyEvent.KEYCODE_TV_SATELLITE_BS = 238;
    KeyEvent.KEYCODE_TV_SATELLITE_CS = 239;
    KeyEvent.KEYCODE_TV_SATELLITE_SERVICE = 240;
    KeyEvent.KEYCODE_TV_TELETEXT = 233;
    KeyEvent.KEYCODE_TV_TERRESTRIAL_ANALOG = 235;
    KeyEvent.KEYCODE_TV_TERRESTRIAL_DIGITAL = 236;
    KeyEvent.KEYCODE_TV_TIMER_PROGRAMMING = 258;
    KeyEvent.KEYCODE_TV_ZOOM_MODE = 255;
    KeyEvent.KEYCODE_U = 49;
    KeyEvent.KEYCODE_UNKNOWN = 0;
    KeyEvent.KEYCODE_V = 50;
    KeyEvent.KEYCODE_VOICE_ASSIST = 231;
    KeyEvent.KEYCODE_VOLUME_DOWN = 25;
    KeyEvent.KEYCODE_VOLUME_MUTE = 164;
    KeyEvent.KEYCODE_VOLUME_UP = 24;
    KeyEvent.KEYCODE_W = 51;
    KeyEvent.KEYCODE_WAKEUP = 224;
    KeyEvent.KEYCODE_WINDOW = 171;
    KeyEvent.KEYCODE_X = 52;
    KeyEvent.KEYCODE_Y = 53;
    KeyEvent.KEYCODE_YEN = 216;
    KeyEvent.KEYCODE_Z = 54;
    KeyEvent.KEYCODE_ZENKAKU_HANKAKU = 211;
    KeyEvent.KEYCODE_ZOOM_IN = 168;
    KeyEvent.KEYCODE_ZOOM_OUT = 169;
    KeyEvent.META_ALT_LEFT_ON = 16;
    KeyEvent.META_ALT_MASK = 50;
    KeyEvent.META_ALT_ON = 2;
    KeyEvent.META_ALT_RIGHT_ON = 32;
    KeyEvent.META_CAPS_LOCK_ON = 1048576;
    KeyEvent.META_CTRL_LEFT_ON = 8192;
    KeyEvent.META_CTRL_MASK = 28672;
    KeyEvent.META_CTRL_ON = 4096;
    KeyEvent.META_CTRL_RIGHT_ON = 16384;
    KeyEvent.META_FUNCTION_ON = 8;
    KeyEvent.META_META_LEFT_ON = 131072;
    KeyEvent.META_META_MASK = 458752;
    KeyEvent.META_META_ON = 65536;
    KeyEvent.META_META_RIGHT_ON = 262144;
    KeyEvent.META_NUM_LOCK_ON = 2097152;
    KeyEvent.META_SCROLL_LOCK_ON = 4194304;
    KeyEvent.META_SHIFT_LEFT_ON = 64;
    KeyEvent.META_SHIFT_MASK = 193;
    KeyEvent.META_SHIFT_ON = 1;
    KeyEvent.META_SHIFT_RIGHT_ON = 128;
    KeyEvent.META_SYM_ON = 4;
    return KeyEvent;
}());
exports["default"] = KeyEvent;


/***/ }),

/***/ "./src/app/googDevice/client/ConfigureScrcpy.ts":
/*!******************************************************!*\
  !*** ./src/app/googDevice/client/ConfigureScrcpy.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConfigureScrcpy = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/dialog.css */ "./src/style/dialog.css");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../VideoSettings */ "./src/app/VideoSettings.ts"));
var StreamClientScrcpy_1 = __webpack_require__(/*! ./StreamClientScrcpy */ "./src/app/googDevice/client/StreamClientScrcpy.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Size */ "./src/app/Size.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var DisplayInfo_1 = __webpack_require__(/*! ../../DisplayInfo */ "./src/app/DisplayInfo.ts");
var ToolBoxButton_1 = __webpack_require__(/*! ../../toolbox/ToolBoxButton */ "./src/app/toolbox/ToolBoxButton.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var ToolBoxCheckbox_1 = __webpack_require__(/*! ../../toolbox/ToolBoxCheckbox */ "./src/app/toolbox/ToolBoxCheckbox.ts");
var Attribute_1 = __webpack_require__(/*! ../../Attribute */ "./src/app/Attribute.ts");
var StreamReceiverScrcpy_1 = __webpack_require__(/*! ./StreamReceiverScrcpy */ "./src/app/googDevice/client/StreamReceiverScrcpy.ts");
var BaseClient_1 = __webpack_require__(/*! ../../client/BaseClient */ "./src/app/client/BaseClient.ts");
var ConfigureScrcpy = (function (_super) {
    tslib_1.__extends(ConfigureScrcpy, _super);
    function ConfigureScrcpy(tracker, descriptor, params) {
        var _this = _super.call(this, params) || this;
        _this.tracker = tracker;
        _this.statusText = '';
        _this.connectionCount = 0;
        _this.onEncoders = function (encoders) {
            var select = _this.encoderSelectElement || document.createElement('select');
            var child;
            while ((child = select.firstChild)) {
                select.removeChild(child);
            }
            encoders.unshift('');
            encoders.forEach(function (value) {
                var optionElement = document.createElement('option');
                optionElement.setAttribute('value', value);
                optionElement.innerText = value;
                select.appendChild(optionElement);
            });
            _this.encoderSelectElement = select;
        };
        _this.onDisplayInfo = function (infoArray) {
            var _a;
            _this.statusText = 'Ready';
            _this.updateStatus();
            (_a = _this.dialogContainer) === null || _a === void 0 ? void 0 : _a.classList.add('ready');
            var select = _this.displayIdSelectElement || document.createElement('select');
            var child;
            while ((child = select.firstChild)) {
                select.removeChild(child);
            }
            var selectedOptionIdx = -1;
            infoArray.forEach(function (value, idx) {
                var displayInfo = value.displayInfo;
                var displayId = displayInfo.displayId, size = displayInfo.size;
                var optionElement = document.createElement('option');
                optionElement.setAttribute('value', displayId.toString());
                optionElement.innerText = "ID: ".concat(displayId, "; ").concat(size.width, "x").concat(size.height);
                select.appendChild(optionElement);
                if ((_this.displayInfo && _this.displayInfo.displayId === displayId) ||
                    (!_this.displayInfo && displayId === DisplayInfo_1.DisplayInfo.DEFAULT_DISPLAY)) {
                    selectedOptionIdx = idx;
                }
            });
            if (selectedOptionIdx > -1) {
                select.selectedIndex = selectedOptionIdx;
                var _b = infoArray[selectedOptionIdx], videoSettings = _b.videoSettings, connectionCount = _b.connectionCount, displayInfo = _b.displayInfo;
                _this.displayInfo = displayInfo;
                if (connectionCount > 0 && videoSettings) {
                    _this.fillInputsFromVideoSettings(videoSettings, false);
                }
                else {
                    _this.updateVideoSettingsForPlayer();
                }
                _this.connectionCount = connectionCount;
                _this.updateStatus();
            }
            _this.displayIdSelectElement = select;
            if (_this.dialogBody) {
                _this.dialogBody.classList.remove('hidden');
                _this.dialogBody.classList.add('visible');
            }
        };
        _this.onConnected = function () {
            _this.statusText = 'Waiting for info...';
            _this.updateStatus();
            if (_this.okButton) {
                _this.okButton.disabled = false;
            }
        };
        _this.onDisconnected = function () {
            _this.statusText = 'Disconnected';
            _this.updateStatus();
            if (_this.okButton) {
                _this.okButton.disabled = true;
            }
            if (_this.dialogBody) {
                _this.dialogBody.classList.remove('visible');
                _this.dialogBody.classList.add('hidden');
            }
        };
        _this.onPlayerChange = function () {
            _this.updateVideoSettingsForPlayer();
        };
        _this.onDisplayIdChange = function () {
            var select = _this.displayIdSelectElement;
            if (!select || !_this.streamReceiver) {
                return;
            }
            var value = select.options[select.selectedIndex].value;
            var displayId = parseInt(value, 10);
            if (!isNaN(displayId)) {
                _this.displayInfo = _this.streamReceiver.getDisplayInfo(displayId);
            }
            _this.updateVideoSettingsForPlayer();
        };
        _this.onBackgroundClick = function (event) {
            if (event.target !== event.currentTarget) {
                return;
            }
            _this.cancel();
        };
        _this.cancel = function () {
            if (_this.streamReceiver) {
                _this.detachEventsListeners(_this.streamReceiver);
                _this.streamReceiver.stop();
            }
            _this.emit('closed', { dialog: _this, result: false });
            _this.removeUI();
        };
        _this.resetSettings = function () {
            var player = _this.getPlayer();
            if (player) {
                _this.fillInputsFromVideoSettings(player.getPreferredVideoSetting(), false);
            }
        };
        _this.loadSettings = function () {
            _this.updateVideoSettingsForPlayer();
        };
        _this.saveSettings = function () {
            var videoSettings = _this.buildVideoSettings();
            var player = _this.getPlayer();
            if (videoSettings && player) {
                var fitToScreen = _this.getFitToScreenValue();
                player.saveVideoSettings(_this.udid, videoSettings, fitToScreen, _this.displayInfo);
            }
        };
        _this.openStream = function () {
            var videoSettings = _this.buildVideoSettings();
            if (!videoSettings || !_this.streamReceiver || !_this.playerName) {
                return;
            }
            var fitToScreen = _this.getFitToScreenValue();
            _this.detachEventsListeners(_this.streamReceiver);
            _this.emit('closed', { dialog: _this, result: true });
            _this.removeUI();
            var player = StreamClientScrcpy_1.StreamClientScrcpy.createPlayer(_this.playerName, _this.udid, _this.displayInfo);
            if (!player) {
                return;
            }
            _this.setPreviouslyUsedPlayer(_this.playerName);
            player.setVideoSettings(videoSettings, fitToScreen, false);
            var params = tslib_1.__assign(tslib_1.__assign({}, _this.params), { udid: _this.udid, fitToScreen: fitToScreen });
            StreamClientScrcpy_1.StreamClientScrcpy.start(params, _this.streamReceiver, player, fitToScreen, videoSettings);
            _this.streamReceiver.triggerInitialInfoEvents();
        };
        _this.udid = descriptor.udid;
        _this.escapedUdid = Util_1.default.escapeUdid(_this.udid);
        _this.playerStorageKey = "configure_stream::".concat(_this.escapedUdid, "::player");
        _this.deviceName = descriptor['ro.product.model'];
        _this.TAG = "ConfigureScrcpy[".concat(_this.udid, "]");
        _this.createStreamReceiver(params);
        _this.setTitle("".concat(_this.deviceName, ". Configure stream"));
        _this.background = _this.createUI();
        return _this;
    }
    ConfigureScrcpy.prototype.getTracker = function () {
        return this.tracker;
    };
    ConfigureScrcpy.prototype.createStreamReceiver = function (params) {
        if (this.streamReceiver) {
            this.detachEventsListeners(this.streamReceiver);
            this.streamReceiver.stop();
        }
        this.streamReceiver = new StreamReceiverScrcpy_1.StreamReceiverScrcpy(params);
        this.attachEventsListeners(this.streamReceiver);
    };
    ConfigureScrcpy.prototype.attachEventsListeners = function (streamReceiver) {
        streamReceiver.on('encoders', this.onEncoders);
        streamReceiver.on('displayInfo', this.onDisplayInfo);
        streamReceiver.on('connected', this.onConnected);
        streamReceiver.on('disconnected', this.onDisconnected);
    };
    ConfigureScrcpy.prototype.detachEventsListeners = function (streamReceiver) {
        streamReceiver.off('encoders', this.onEncoders);
        streamReceiver.off('displayInfo', this.onDisplayInfo);
        streamReceiver.off('connected', this.onConnected);
        streamReceiver.off('disconnected', this.onDisconnected);
    };
    ConfigureScrcpy.prototype.updateStatus = function () {
        if (!this.connectionStatusElement) {
            return;
        }
        var text = this.statusText;
        if (this.connectionCount) {
            text = "".concat(text, ". Other clients: ").concat(this.connectionCount, ".");
        }
        this.connectionStatusElement.innerText = text;
    };
    ConfigureScrcpy.prototype.getPlayer = function () {
        if (!this.playerSelectElement) {
            return;
        }
        var playerName = this.playerSelectElement.options[this.playerSelectElement.selectedIndex].value;
        return StreamClientScrcpy_1.StreamClientScrcpy.getPlayers().find(function (playerClass) {
            return playerClass.playerFullName === playerName;
        });
    };
    ConfigureScrcpy.prototype.updateVideoSettingsForPlayer = function () {
        var player = this.getPlayer();
        if (player) {
            this.playerName = player.playerFullName;
            var storedOrPreferred = player.loadVideoSettings(this.udid, this.displayInfo);
            var fitToScreen = player.getFitToScreenStatus(this.udid, this.displayInfo);
            this.fillInputsFromVideoSettings(storedOrPreferred, fitToScreen);
        }
    };
    ConfigureScrcpy.prototype.getBasicInput = function (id) {
        var element = document.getElementById("".concat(id, "_").concat(this.escapedUdid));
        if (!element) {
            return null;
        }
        return element;
    };
    ConfigureScrcpy.prototype.fillInputsFromVideoSettings = function (videoSettings, fitToScreen) {
        if (this.displayInfo && this.displayInfo.displayId !== videoSettings.displayId) {
            console.error(this.TAG, "Display id from VideoSettings and DisplayInfo don't match");
        }
        this.fillBasicInput({ id: 'bitrate' }, videoSettings);
        this.fillBasicInput({ id: 'maxFps' }, videoSettings);
        this.fillBasicInput({ id: 'iFrameInterval' }, videoSettings);
        this.fillBasicInput({ id: 'codecOptions' }, videoSettings);
        if (videoSettings.bounds) {
            var _a = videoSettings.bounds, width = _a.width, height = _a.height;
            var widthInput = this.getBasicInput('maxWidth');
            if (widthInput) {
                widthInput.value = width.toString(10);
            }
            var heightInput = this.getBasicInput('maxHeight');
            if (heightInput) {
                heightInput.value = height.toString(10);
            }
        }
        if (this.encoderSelectElement) {
            var encoderName_1 = videoSettings.encoderName || '';
            var option = Array.from(this.encoderSelectElement.options).find(function (element) {
                return element.value === encoderName_1;
            });
            if (option) {
                this.encoderSelectElement.selectedIndex = option.index;
            }
        }
        if (this.fitToScreenCheckbox) {
            this.fitToScreenCheckbox.checked = fitToScreen;
            this.onFitToScreenChanged(fitToScreen);
        }
    };
    ConfigureScrcpy.prototype.onFitToScreenChanged = function (checked) {
        var heightInput = this.getBasicInput('maxHeight');
        var widthInput = this.getBasicInput('maxWidth');
        if (!this.fitToScreenCheckbox || !heightInput || !widthInput) {
            return;
        }
        heightInput.disabled = widthInput.disabled = checked;
        if (checked) {
            heightInput.setAttribute(Attribute_1.Attribute.VALUE, heightInput.value);
            heightInput.value = '';
            widthInput.setAttribute(Attribute_1.Attribute.VALUE, widthInput.value);
            widthInput.value = '';
        }
        else {
            var storedHeight = heightInput.getAttribute(Attribute_1.Attribute.VALUE);
            if (typeof storedHeight === 'string') {
                heightInput.value = storedHeight;
                heightInput.removeAttribute(Attribute_1.Attribute.VALUE);
            }
            var storedWidth = widthInput.getAttribute(Attribute_1.Attribute.VALUE);
            if (typeof storedWidth === 'string') {
                widthInput.value = storedWidth;
                widthInput.removeAttribute(Attribute_1.Attribute.VALUE);
            }
        }
    };
    ConfigureScrcpy.prototype.fillBasicInput = function (opts, videoSettings) {
        var input = this.getBasicInput(opts.id);
        var value = videoSettings[opts.id];
        if (input) {
            if (typeof value !== 'undefined' && value !== '-' && value !== 0 && value !== null) {
                input.value = value.toString(10);
                if (input.getAttribute('type') === 'range') {
                    input.dispatchEvent(new Event('input'));
                }
            }
            else {
                input.value = '';
            }
        }
    };
    ConfigureScrcpy.prototype.appendBasicInput = function (parent, opts) {
        var label = document.createElement('label');
        label.classList.add('label');
        label.innerText = "".concat(opts.label, ":");
        label.id = "label_".concat(opts.id, "_").concat(this.escapedUdid);
        parent.appendChild(label);
        var input = document.createElement('input');
        input.classList.add('input');
        input.id = label.htmlFor = "".concat(opts.id, "_").concat(this.escapedUdid);
        var range = opts.range;
        if (range) {
            label.setAttribute('title', opts.label);
            input.oninput = function () {
                var value = range.formatter ? range.formatter(parseInt(input.value, 10)) : input.value;
                label.innerText = "".concat(opts.label, " (").concat(value, "):");
            };
            input.setAttribute('type', 'range');
            input.setAttribute('max', range.max.toString());
            input.setAttribute('min', range.min.toString());
            input.setAttribute('step', range.step.toString());
        }
        parent.appendChild(input);
        return input;
    };
    ConfigureScrcpy.prototype.getNumberValueFromInput = function (name) {
        var value = document.getElementById("".concat(name, "_").concat(this.escapedUdid)).value;
        return parseInt(value, 10);
    };
    ConfigureScrcpy.prototype.getStringValueFromInput = function (name) {
        return document.getElementById("".concat(name, "_").concat(this.escapedUdid)).value;
    };
    ConfigureScrcpy.prototype.getValueFromSelect = function (name) {
        var select = document.getElementById("".concat(name, "_").concat(this.escapedUdid));
        return select.options[select.selectedIndex].value;
    };
    ConfigureScrcpy.prototype.buildVideoSettings = function () {
        try {
            var bitrate = this.getNumberValueFromInput('bitrate');
            var maxFps = this.getNumberValueFromInput('maxFps');
            var iFrameInterval = this.getNumberValueFromInput('iFrameInterval');
            var maxWidth = this.getNumberValueFromInput('maxWidth');
            var maxHeight = this.getNumberValueFromInput('maxHeight');
            var displayId = this.getNumberValueFromInput('displayId');
            var codecOptions = this.getStringValueFromInput('codecOptions') || undefined;
            var bounds = void 0;
            if (!isNaN(maxWidth) && !isNaN(maxHeight) && maxWidth && maxHeight) {
                bounds = new Size_1.default(maxWidth, maxHeight);
            }
            var encoderName = this.getValueFromSelect('encoderName') || undefined;
            return new VideoSettings_1.default({
                bitrate: bitrate,
                bounds: bounds,
                maxFps: maxFps,
                iFrameInterval: iFrameInterval,
                displayId: displayId,
                codecOptions: codecOptions,
                encoderName: encoderName,
            });
        }
        catch (error) {
            console.error(this.TAG, error.message);
            return null;
        }
    };
    ConfigureScrcpy.prototype.getFitToScreenValue = function () {
        if (!this.fitToScreenCheckbox) {
            return false;
        }
        return this.fitToScreenCheckbox.checked;
    };
    ConfigureScrcpy.prototype.getPreviouslyUsedPlayer = function () {
        if (!window.localStorage) {
            return '';
        }
        var result = window.localStorage.getItem(this.playerStorageKey);
        if (result) {
            return result;
        }
        else {
            return '';
        }
    };
    ConfigureScrcpy.prototype.setPreviouslyUsedPlayer = function (playerName) {
        if (!window.localStorage) {
            return;
        }
        window.localStorage.setItem(this.playerStorageKey, playerName);
    };
    ConfigureScrcpy.prototype.createUI = function () {
        var _this = this;
        var dialogName = 'configureDialog';
        var blockClass = 'dialog-block';
        var background = document.createElement('div');
        background.classList.add('dialog-background', dialogName);
        var dialogContainer = (this.dialogContainer = document.createElement('div'));
        dialogContainer.classList.add('dialog-container', dialogName);
        var dialogHeader = document.createElement('div');
        dialogHeader.classList.add('dialog-header', dialogName, 'control-wrapper');
        var backButton = new ToolBoxButton_1.ToolBoxButton('Back', SvgImage_1.default.Icon.ARROW_BACK);
        backButton.addEventListener('click', function () {
            _this.cancel();
        });
        backButton.getAllElements().forEach(function (el) {
            dialogHeader.appendChild(el);
        });
        var deviceName = document.createElement('span');
        deviceName.classList.add('dialog-title', 'main-title');
        deviceName.innerText = this.deviceName;
        dialogHeader.appendChild(deviceName);
        var dialogBody = (this.dialogBody = document.createElement('div'));
        dialogBody.classList.add('dialog-body', blockClass, dialogName, 'hidden');
        var playerWrapper = document.createElement('div');
        playerWrapper.classList.add('controls');
        var playerLabel = document.createElement('label');
        playerLabel.classList.add('label');
        playerLabel.innerText = 'Player:';
        playerWrapper.appendChild(playerLabel);
        var playerSelect = (this.playerSelectElement = document.createElement('select'));
        playerSelect.classList.add('input');
        playerSelect.id = playerLabel.htmlFor = "player_".concat(this.escapedUdid);
        playerWrapper.appendChild(playerSelect);
        dialogBody.appendChild(playerWrapper);
        var previouslyUsedPlayer = this.getPreviouslyUsedPlayer();
        StreamClientScrcpy_1.StreamClientScrcpy.getPlayers().forEach(function (playerClass, index) {
            var playerFullName = playerClass.playerFullName;
            var optionElement = document.createElement('option');
            optionElement.setAttribute('value', playerFullName);
            optionElement.innerText = playerFullName;
            playerSelect.appendChild(optionElement);
            if (playerFullName === previouslyUsedPlayer) {
                playerSelect.selectedIndex = index;
            }
        });
        playerSelect.onchange = this.onPlayerChange;
        this.updateVideoSettingsForPlayer();
        var controls = document.createElement('div');
        controls.classList.add('controls', 'control-wrapper');
        var displayIdLabel = document.createElement('label');
        displayIdLabel.classList.add('label');
        displayIdLabel.innerText = 'Display:';
        controls.appendChild(displayIdLabel);
        if (!this.displayIdSelectElement) {
            this.displayIdSelectElement = document.createElement('select');
        }
        controls.appendChild(this.displayIdSelectElement);
        this.displayIdSelectElement.classList.add('input');
        this.displayIdSelectElement.id = displayIdLabel.htmlFor = "displayId_".concat(this.escapedUdid);
        this.displayIdSelectElement.onchange = this.onDisplayIdChange;
        this.appendBasicInput(controls, {
            label: 'Bitrate',
            id: 'bitrate',
            range: { min: 524288, max: 8388608, step: 524288, formatter: Util_1.default.prettyBytes },
        });
        this.appendBasicInput(controls, {
            label: 'Max FPS',
            id: 'maxFps',
            range: { min: 1, max: 60, step: 1 },
        });
        this.appendBasicInput(controls, { label: 'I-Frame interval', id: 'iFrameInterval' });
        var fitLabel = document.createElement('label');
        fitLabel.innerText = 'Fit to screen';
        fitLabel.classList.add('label');
        controls.appendChild(fitLabel);
        var fitToggle = new ToolBoxCheckbox_1.ToolBoxCheckbox('Fit to screen', { off: SvgImage_1.default.Icon.TOGGLE_OFF, on: SvgImage_1.default.Icon.TOGGLE_ON }, 'fit_to_screen');
        fitToggle.getAllElements().forEach(function (el) {
            controls.appendChild(el);
            if (el instanceof HTMLLabelElement) {
                fitLabel.htmlFor = el.htmlFor;
                el.classList.add('input');
            }
            if (el instanceof HTMLInputElement) {
                _this.fitToScreenCheckbox = el;
            }
        });
        fitToggle.addEventListener('click', function (_, el) {
            var element = el.getElement();
            _this.onFitToScreenChanged(element.checked);
        });
        this.appendBasicInput(controls, { label: 'Max width', id: 'maxWidth' });
        this.appendBasicInput(controls, { label: 'Max height', id: 'maxHeight' });
        this.appendBasicInput(controls, { label: 'Codec options', id: 'codecOptions' });
        var encoderLabel = document.createElement('label');
        encoderLabel.classList.add('label');
        encoderLabel.innerText = 'Encoder:';
        controls.appendChild(encoderLabel);
        if (!this.encoderSelectElement) {
            this.encoderSelectElement = document.createElement('select');
        }
        controls.appendChild(this.encoderSelectElement);
        this.encoderSelectElement.classList.add('input');
        this.encoderSelectElement.id = encoderLabel.htmlFor = "encoderName_".concat(this.escapedUdid);
        dialogBody.appendChild(controls);
        var buttonsWrapper = document.createElement('div');
        buttonsWrapper.classList.add('controls');
        var resetSettingsButton = (this.resetSettingsButton = document.createElement('button'));
        resetSettingsButton.classList.add('button');
        resetSettingsButton.innerText = 'Reset settings';
        resetSettingsButton.addEventListener('click', this.resetSettings);
        buttonsWrapper.appendChild(resetSettingsButton);
        var loadSettingsButton = (this.loadSettingsButton = document.createElement('button'));
        loadSettingsButton.classList.add('button');
        loadSettingsButton.innerText = 'Load settings';
        loadSettingsButton.addEventListener('click', this.loadSettings);
        buttonsWrapper.appendChild(loadSettingsButton);
        var saveSettingsButton = (this.saveSettingsButton = document.createElement('button'));
        saveSettingsButton.classList.add('button');
        saveSettingsButton.innerText = 'Save settings';
        saveSettingsButton.addEventListener('click', this.saveSettings);
        buttonsWrapper.appendChild(saveSettingsButton);
        dialogBody.appendChild(buttonsWrapper);
        var dialogFooter = document.createElement('div');
        dialogFooter.classList.add('dialog-footer', blockClass, dialogName);
        var statusElement = document.createElement('span');
        statusElement.classList.add('subtitle');
        this.connectionStatusElement = statusElement;
        dialogFooter.appendChild(statusElement);
        this.statusText = "Connecting...";
        this.updateStatus();
        var okButton = (this.okButton = document.createElement('button'));
        okButton.innerText = 'Open';
        okButton.disabled = true;
        okButton.addEventListener('click', this.openStream);
        dialogFooter.appendChild(okButton);
        dialogBody.appendChild(dialogFooter);
        dialogContainer.appendChild(dialogHeader);
        dialogContainer.appendChild(dialogBody);
        dialogContainer.appendChild(dialogFooter);
        background.appendChild(dialogContainer);
        background.addEventListener('click', this.onBackgroundClick);
        document.body.appendChild(background);
        return background;
    };
    ConfigureScrcpy.prototype.removeUI = function () {
        var _a, _b, _c, _d;
        document.body.removeChild(this.background);
        (_a = this.okButton) === null || _a === void 0 ? void 0 : _a.removeEventListener('click', this.openStream);
        (_b = this.resetSettingsButton) === null || _b === void 0 ? void 0 : _b.removeEventListener('click', this.resetSettings);
        (_c = this.loadSettingsButton) === null || _c === void 0 ? void 0 : _c.removeEventListener('click', this.loadSettings);
        (_d = this.saveSettingsButton) === null || _d === void 0 ? void 0 : _d.removeEventListener('click', this.saveSettings);
        this.background.removeEventListener('click', this.onBackgroundClick);
    };
    return ConfigureScrcpy;
}(BaseClient_1.BaseClient));
exports.ConfigureScrcpy = ConfigureScrcpy;


/***/ }),

/***/ "./src/app/googDevice/client/DeviceTracker.ts":
/*!****************************************************!*\
  !*** ./src/app/googDevice/client/DeviceTracker.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DeviceTracker = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/devicelist.css */ "./src/style/devicelist.css");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Constants_1 = __webpack_require__(/*! ../../../common/Constants */ "./src/common/Constants.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var ControlCenterCommand_1 = __webpack_require__(/*! ../../../common/ControlCenterCommand */ "./src/common/ControlCenterCommand.ts");
var StreamClientScrcpy_1 = __webpack_require__(/*! ./StreamClientScrcpy */ "./src/app/googDevice/client/StreamClientScrcpy.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var Attribute_1 = __webpack_require__(/*! ../../Attribute */ "./src/app/Attribute.ts");
var DeviceState_1 = __webpack_require__(/*! ../../../common/DeviceState */ "./src/common/DeviceState.ts");
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var DESC_COLUMNS = [
    {
        title: 'Net Interface',
        field: 'interfaces',
    },
    {
        title: 'Server PID',
        field: 'pid',
    },
];
var DeviceTracker = (function (_super) {
    tslib_1.__extends(DeviceTracker, _super);
    function DeviceTracker(params, directUrl) {
        var _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({}, params), { action: DeviceTracker.ACTION }), directUrl) || this;
        _this.tableId = 'goog_device_list';
        _this.onInterfaceSelected = function (event) {
            var selectElement = event.currentTarget;
            var option = selectElement.selectedOptions[0];
            var url = decodeURI(option.getAttribute(Attribute_1.Attribute.URL) || '');
            var name = option.getAttribute(Attribute_1.Attribute.NAME) || '';
            var fullName = decodeURIComponent(selectElement.getAttribute(Attribute_1.Attribute.FULL_NAME) || '');
            var udid = selectElement.getAttribute(Attribute_1.Attribute.UDID) || '';
            _this.updateLink({ url: url, name: name, fullName: fullName, udid: udid, store: true });
        };
        _this.onActionButtonClick = function (event) {
            var button = event.currentTarget;
            var udid = button.getAttribute(Attribute_1.Attribute.UDID);
            var pidString = button.getAttribute(Attribute_1.Attribute.PID) || '';
            var command = button.getAttribute(Attribute_1.Attribute.COMMAND);
            var pid = parseInt(pidString, 10);
            var data = {
                id: _this.getNextId(),
                type: command,
                data: {
                    udid: typeof udid === 'string' ? udid : undefined,
                    pid: isNaN(pid) ? undefined : pid,
                },
            };
            if (_this.ws && _this.ws.readyState === _this.ws.OPEN) {
                _this.ws.send(JSON.stringify(data));
            }
        };
        DeviceTracker.instancesByUrl.set(directUrl, _this);
        _this.buildDeviceTable();
        _this.openNewConnection();
        return _this;
    }
    DeviceTracker.start = function (hostItem) {
        var url = this.buildUrlForTracker(hostItem).toString();
        var instance = this.instancesByUrl.get(url);
        if (!instance) {
            instance = new DeviceTracker(hostItem, url);
        }
        return instance;
    };
    DeviceTracker.getInstance = function (hostItem) {
        return this.start(hostItem);
    };
    DeviceTracker.prototype.onSocketOpen = function () {
    };
    DeviceTracker.prototype.setIdAndHostName = function (id, hostName) {
        var e_1, _a;
        _super.prototype.setIdAndHostName.call(this, id, hostName);
        try {
            for (var _b = tslib_1.__values(DeviceTracker.instancesByUrl.values()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var value = _c.value;
                if (value.id === id && value !== this) {
                    console.warn("Tracker with url: \"".concat(this.url, "\" has the same id(").concat(this.id, ") as tracker with url \"").concat(value.url, "\""));
                    console.warn("This tracker will shut down");
                    this.destroy();
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    DeviceTracker.prototype.updateLink = function (params) {
        var _this = this;
        var url = params.url, name = params.name, fullName = params.fullName, udid = params.udid, store = params.store;
        var playerTds = document.getElementsByName(encodeURIComponent("".concat(DeviceTracker.AttributePrefixPlayerFor).concat(fullName)));
        if (typeof udid !== 'string') {
            return;
        }
        if (store) {
            var localStorageKey = DeviceTracker.getLocalStorageKey(fullName || '');
            if (localStorage && name) {
                localStorage.setItem(localStorageKey, name);
            }
        }
        var action = Action_1.ACTION.STREAM_SCRCPY;
        playerTds.forEach(function (item) {
            item.innerHTML = '';
            var playerFullName = item.getAttribute(DeviceTracker.AttributePlayerFullName);
            var playerCodeName = item.getAttribute(DeviceTracker.AttributePlayerCodeName);
            if (!playerFullName || !playerCodeName) {
                return;
            }
            var link = DeviceTracker.buildLink({
                action: action,
                udid: udid,
                player: decodeURIComponent(playerCodeName),
                ws: url,
            }, decodeURIComponent(playerFullName), _this.params);
            item.appendChild(link);
        });
    };
    DeviceTracker.getLocalStorageKey = function (udid) {
        return "device_list::".concat(udid, "::interface");
    };
    DeviceTracker.createUrl = function (params, udid) {
        if (udid === void 0) { udid = ''; }
        var secure = !!params.secure;
        var hostname = params.hostname || location.hostname;
        var port = typeof params.port === 'number' ? params.port : secure ? 443 : 80;
        var pathname = params.pathname || location.pathname;
        var urlObject = this.buildUrl(tslib_1.__assign(tslib_1.__assign({}, params), { secure: secure, hostname: hostname, port: port, pathname: pathname }));
        if (udid) {
            urlObject.searchParams.set('action', Action_1.ACTION.PROXY_ADB);
            urlObject.searchParams.set('remote', "tcp:".concat(Constants_1.SERVER_PORT.toString(10)));
            urlObject.searchParams.set('udid', udid);
        }
        return urlObject;
    };
    DeviceTracker.createInterfaceOption = function (name, url) {
        var optionElement = document.createElement('option');
        optionElement.setAttribute(Attribute_1.Attribute.URL, url);
        optionElement.setAttribute(Attribute_1.Attribute.NAME, name);
        optionElement.innerText = "proxy over adb";
        return optionElement;
    };
    DeviceTracker.titleToClassName = function (title) {
        return title.toLowerCase().replace(/\s/g, '_');
    };
    DeviceTracker.prototype.buildDeviceRow = function (tbody, device) {
        var _this = this;
        var selectedInterfaceUrl = '';
        var selectedInterfaceName = '';
        var blockClass = 'desc-block';
        var fullName = "".concat(this.id, "_").concat(Util_1.default.escapeUdid(device.udid));
        var isActive = device.state === DeviceState_1.DeviceState.DEVICE;
        var hasPid = false;
        var servicesId = "device_services_".concat(fullName);
        var row = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">", " ", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                    <div class=\"sdk-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"], ["<div class=\"device ", "\">\n            <div class=\"device-header\">\n                <div class=\"device-name\">", " ", "</div>\n                <div class=\"device-serial\">", "</div>\n                <div class=\"device-version\">\n                    <div class=\"release-version\">", "</div>\n                    <div class=\"sdk-version\">", "</div>\n                </div>\n                <div class=\"device-state\" title=\"State: ", "\"></div>\n            </div>\n            <div id=\"", "\" class=\"services\"></div>\n        </div>"])), isActive ? 'active' : 'not-active', device['ro.product.manufacturer'], device['ro.product.model'], device.udid, device['ro.build.version.release'], device['ro.build.version.sdk'], device.state, servicesId).content;
        var services = row.getElementById(servicesId);
        if (!services) {
            return;
        }
        DeviceTracker.tools.forEach(function (tool) {
            var entry = tool.createEntryForDeviceList(device, blockClass, _this.params);
            if (entry) {
                if (Array.isArray(entry)) {
                    entry.forEach(function (item) {
                        item && services.appendChild(item);
                    });
                }
                else {
                    services.appendChild(entry);
                }
            }
        });
        var streamEntry = StreamClientScrcpy_1.StreamClientScrcpy.createEntryForDeviceList(device, blockClass, fullName, this.params);
        streamEntry && services.appendChild(streamEntry);
        DESC_COLUMNS.forEach(function (item) {
            var title = item.title;
            var fieldName = item.field;
            var value;
            if (typeof item.field === 'string') {
                value = '' + device[item.field];
            }
            else {
                value = item.field(device);
            }
            var td = document.createElement('div');
            td.classList.add(DeviceTracker.titleToClassName(title), blockClass);
            services.appendChild(td);
            if (fieldName === 'pid') {
                hasPid = value !== '-1';
                var actionButton = document.createElement('button');
                actionButton.className = 'action-button kill-server-button';
                actionButton.setAttribute(Attribute_1.Attribute.UDID, device.udid);
                actionButton.setAttribute(Attribute_1.Attribute.PID, value);
                var command = void 0;
                if (isActive) {
                    actionButton.classList.add('active');
                    actionButton.onclick = _this.onActionButtonClick;
                    if (hasPid) {
                        command = ControlCenterCommand_1.ControlCenterCommand.KILL_SERVER;
                        actionButton.title = 'Kill server';
                        actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.CANCEL));
                    }
                    else {
                        command = ControlCenterCommand_1.ControlCenterCommand.START_SERVER;
                        actionButton.title = 'Start server';
                        actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.REFRESH));
                    }
                    actionButton.setAttribute(Attribute_1.Attribute.COMMAND, command);
                }
                else {
                    var timestamp = device['last.update.timestamp'];
                    if (timestamp) {
                        var date = new Date(timestamp);
                        actionButton.title = "Last update on ".concat(date.toLocaleDateString(), " at ").concat(date.toLocaleTimeString());
                    }
                    else {
                        actionButton.title = "Not active";
                    }
                    actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.OFFLINE));
                }
                var span = document.createElement('span');
                span.innerText = value;
                actionButton.appendChild(span);
                td.appendChild(actionButton);
            }
            else if (fieldName === 'interfaces') {
                var proxyInterfaceUrl = DeviceTracker.createUrl(_this.params, device.udid).toString();
                var proxyInterfaceName = 'proxy';
                var localStorageKey = DeviceTracker.getLocalStorageKey(fullName);
                var lastSelected_1 = localStorage && localStorage.getItem(localStorageKey);
                var selectElement_1 = document.createElement('select');
                selectElement_1.setAttribute(Attribute_1.Attribute.UDID, device.udid);
                selectElement_1.setAttribute(Attribute_1.Attribute.FULL_NAME, fullName);
                selectElement_1.setAttribute('name', encodeURIComponent("".concat(DeviceTracker.AttributePrefixInterfaceSelectFor).concat(fullName)));
                device.interfaces.forEach(function (value) {
                    var params = tslib_1.__assign(tslib_1.__assign({}, _this.params), { secure: false, hostname: value.ipv4, port: Constants_1.SERVER_PORT });
                    var url = DeviceTracker.createUrl(params).toString();
                    var optionElement = DeviceTracker.createInterfaceOption(value.name, url);
                    optionElement.innerText = "".concat(value.name, ": ").concat(value.ipv4);
                    selectElement_1.appendChild(optionElement);
                    if (lastSelected_1) {
                        if (lastSelected_1 === value.name || !selectedInterfaceName) {
                            optionElement.selected = true;
                            selectedInterfaceUrl = url;
                            selectedInterfaceName = value.name;
                        }
                    }
                    else if (device['wifi.interface'] === value.name) {
                        optionElement.selected = true;
                    }
                });
                if (isActive) {
                    var adbProxyOption = DeviceTracker.createInterfaceOption(proxyInterfaceName, proxyInterfaceUrl);
                    if (lastSelected_1 === proxyInterfaceName || !selectedInterfaceName) {
                        adbProxyOption.selected = true;
                        selectedInterfaceUrl = proxyInterfaceUrl;
                        selectedInterfaceName = proxyInterfaceName;
                    }
                    selectElement_1.appendChild(adbProxyOption);
                    var actionButton = document.createElement('button');
                    actionButton.className = 'action-button update-interfaces-button active';
                    actionButton.title = "Update information";
                    actionButton.appendChild(SvgImage_1.default.create(SvgImage_1.default.Icon.REFRESH));
                    actionButton.setAttribute(Attribute_1.Attribute.UDID, device.udid);
                    actionButton.setAttribute(Attribute_1.Attribute.COMMAND, ControlCenterCommand_1.ControlCenterCommand.UPDATE_INTERFACES);
                    actionButton.onclick = _this.onActionButtonClick;
                    td.appendChild(actionButton);
                }
                selectElement_1.onchange = _this.onInterfaceSelected;
                td.appendChild(selectElement_1);
            }
            else {
                td.innerText = value;
            }
        });
        if (DeviceTracker.CREATE_DIRECT_LINKS) {
            var name_1 = "".concat(DeviceTracker.AttributePrefixPlayerFor).concat(fullName);
            StreamClientScrcpy_1.StreamClientScrcpy.getPlayers().forEach(function (playerClass) {
                var playerCodeName = playerClass.playerCodeName, playerFullName = playerClass.playerFullName;
                var playerTd = document.createElement('div');
                playerTd.classList.add(blockClass);
                playerTd.setAttribute('name', encodeURIComponent(name_1));
                playerTd.setAttribute(DeviceTracker.AttributePlayerFullName, encodeURIComponent(playerFullName));
                playerTd.setAttribute(DeviceTracker.AttributePlayerCodeName, encodeURIComponent(playerCodeName));
                services.appendChild(playerTd);
            });
        }
        tbody.appendChild(row);
        if (DeviceTracker.CREATE_DIRECT_LINKS && hasPid && selectedInterfaceUrl) {
            this.updateLink({
                url: selectedInterfaceUrl,
                name: selectedInterfaceName,
                fullName: fullName,
                udid: device.udid,
                store: false,
            });
        }
    };
    DeviceTracker.prototype.getChannelCode = function () {
        return ChannelCode_1.ChannelCode.GTRC;
    };
    DeviceTracker.prototype.destroy = function () {
        _super.prototype.destroy.call(this);
        DeviceTracker.instancesByUrl.delete(this.url.toString());
        if (!DeviceTracker.instancesByUrl.size) {
            var holder = document.getElementById(BaseDeviceTracker_1.BaseDeviceTracker.HOLDER_ELEMENT_ID);
            if (holder && holder.parentElement) {
                holder.parentElement.removeChild(holder);
            }
        }
    };
    DeviceTracker.ACTION = Action_1.ACTION.GOOG_DEVICE_LIST;
    DeviceTracker.CREATE_DIRECT_LINKS = true;
    DeviceTracker.instancesByUrl = new Map();
    DeviceTracker.tools = new Set();
    return DeviceTracker;
}(BaseDeviceTracker_1.BaseDeviceTracker));
exports.DeviceTracker = DeviceTracker;
var templateObject_1;


/***/ }),

/***/ "./src/app/googDevice/client/DevtoolsClient.ts":
/*!*****************************************************!*\
  !*** ./src/app/googDevice/client/DevtoolsClient.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DevtoolsClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/devtools.css */ "./src/style/devtools.css");
var ManagerClient_1 = __webpack_require__(/*! ../../client/ManagerClient */ "./src/app/client/ManagerClient.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var RemoteDevtoolsCommand_1 = __webpack_require__(/*! ../../../types/RemoteDevtoolsCommand */ "./src/types/RemoteDevtoolsCommand.ts");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var FRONTEND_RE = /^https?:\/\/chrome-devtools-frontend\.appspot\.com\/serve_rev\/(@.*)/;
var TAG = '[DevtoolsClient]';
var DevtoolsClient = (function (_super) {
    tslib_1.__extends(DevtoolsClient, _super);
    function DevtoolsClient(params) {
        var _this = _super.call(this, params) || this;
        _this.requestListUpdate = function () {
            _this.timeout = undefined;
            if (!_this.ws || _this.ws.readyState !== _this.ws.OPEN) {
                return;
            }
            _this.ws.send(JSON.stringify({
                command: RemoteDevtoolsCommand_1.RemoteDevtoolsCommand.LIST_DEVTOOLS,
            }));
        };
        _this.onDevtoolsLinkClick = function (event) {
            var a = event.target;
            var url = a.getAttribute('href');
            if (!url) {
                return;
            }
            _this.hiddenInput.value = url;
            _this.hiddenInput.removeAttribute('hidden');
            _this.hiddenInput.select();
            _this.hiddenInput.setSelectionRange(0, url.length);
            document.execCommand('copy');
            _this.hiddenInput.setAttribute('hidden', 'hidden');
            _this.tooltip.style.left = "".concat(event.clientX, "px");
            _this.tooltip.style.top = "".concat(event.clientY, "px");
            _this.tooltip.style.display = 'block';
            _this.hideTooltip();
            event.preventDefault();
        };
        _this.udid = _this.params.udid;
        _this.openNewConnection();
        _this.setTitle("Devtools ".concat(_this.udid));
        _this.setBodyClass('devtools');
        _this.hiddenInput = document.createElement('input');
        _this.hiddenInput.className = 'hidden';
        _this.hiddenInput.setAttribute('hidden', 'hidden');
        document.body.appendChild(_this.hiddenInput);
        _this.tooltip = document.createElement('span');
        _this.tooltip.innerText = 'Copied!';
        _this.tooltip.className = 'tooltip';
        _this.tooltip.style.display = 'none';
        document.body.appendChild(_this.tooltip);
        return _this;
    }
    DevtoolsClient.start = function (params) {
        return new DevtoolsClient(params);
    };
    DevtoolsClient.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.DEVTOOLS) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true) });
    };
    DevtoolsClient.prototype.buildDirectWebSocketUrl = function () {
        var localUrl = _super.prototype.buildDirectWebSocketUrl.call(this);
        if (typeof this.params.udid === 'string') {
            localUrl.searchParams.set('udid', this.params.udid);
        }
        return localUrl;
    };
    DevtoolsClient.prototype.onSocketClose = function (event) {
        var _this = this;
        console.error(TAG, "Socket closed. Code: ".concat(event.code, ".").concat(event.reason ? ' Reason: ' + event.reason : ''));
        setTimeout(function () {
            _this.openNewConnection();
        }, 2000);
    };
    DevtoolsClient.prototype.onSocketMessage = function (event) {
        var message;
        try {
            message = JSON.parse(event.data);
        }
        catch (error) {
            console.error(TAG, error.message);
            console.log(TAG, error.data);
            return;
        }
        if (message.type !== DevtoolsClient.ACTION) {
            console.log(TAG, "Unknown message type: ".concat(message.type));
            return;
        }
        var list = message.data;
        this.buildList(list);
        if (!this.timeout) {
            this.timeout = window.setTimeout(this.requestListUpdate, DevtoolsClient.TIMEOUT);
        }
    };
    DevtoolsClient.prototype.onSocketOpen = function () {
        this.requestListUpdate();
    };
    DevtoolsClient.prototype.createDeviceBlock = function (info) {
        var d = document.createElement('div');
        d.className = 'device';
        d.id = "device:".concat(info.deviceSerial);
        return d;
    };
    DevtoolsClient.prototype.createDeviceHeader = function (info) {
        var h = document.createElement('div');
        h.className = 'device-header';
        var n = document.createElement('div');
        n.className = 'device-name';
        n.innerText = info.deviceName;
        var s = document.createElement('div');
        s.className = 'device-serial';
        s.innerText = "#".concat(info.deviceSerial.toUpperCase());
        var p = document.createElement('div');
        p.className = 'device-ports';
        h.appendChild(n);
        h.appendChild(s);
        h.appendChild(p);
        return h;
    };
    DevtoolsClient.prototype.createBrowsersBlock = function (info) {
        var _this = this;
        var deviceSerial = info.deviceSerial;
        var bs = document.createElement('div');
        bs.className = 'browsers';
        info.browsers.sort(DevtoolsClient.compareBrowsers).forEach(function (browser) {
            var b = _this.createBrowserBlock(deviceSerial, browser);
            bs.appendChild(b);
        });
        return bs;
    };
    DevtoolsClient.prototype.createBrowserBlock = function (serial, info) {
        var _this = this;
        var socket = info.socket;
        var b = document.createElement('div');
        b.id = "".concat(serial, ":").concat(socket);
        b.className = 'browser';
        var h = document.createElement('div');
        h.className = 'browser-header';
        b.appendChild(h);
        var n = document.createElement('div');
        n.className = 'browser-name';
        h.appendChild(n);
        var pkg = info.version['Android-Package'];
        var browser = info.version.Browser;
        var version;
        var temp = browser.split('/');
        if (temp.length > 1) {
            version = temp[1];
        }
        else {
            version = browser;
        }
        var prefix = socket.indexOf('webview') === 0 ? 'WebView in ' : '';
        n.innerText = "".concat(prefix).concat(pkg, "(").concat(version, ")");
        var s = document.createElement('span');
        s.setAttribute('tabIndex', '1');
        s.className = 'action';
        s.innerText = 'trace';
        s.setAttribute('hidden', 'hidden');
        h.appendChild(s);
        var pages = document.createElement('div');
        pages.className = 'list pages';
        info.targets.forEach(function (page) {
            pages.appendChild(_this.createPageBlock(page, version));
        });
        b.appendChild(pages);
        return b;
    };
    DevtoolsClient.prototype.createPageBlock = function (page, version) {
        var row = document.createElement('div');
        row.className = 'row';
        var props = document.createElement('div');
        props.className = 'properties-box';
        row.appendChild(props);
        if (page.faviconUrl) {
            var img = document.createElement('img');
            img.src = page.faviconUrl;
            props.appendChild(img);
        }
        var subrow = document.createElement('div');
        subrow.className = 'subrow-box';
        props.appendChild(subrow);
        var sub1 = document.createElement('div');
        sub1.className = 'subrow';
        subrow.appendChild(sub1);
        var n = document.createElement('div');
        n.className = 'name';
        if (page.title) {
            n.innerText = page.title;
        }
        sub1.appendChild(n);
        var u = document.createElement('div');
        u.className = 'url';
        if (page.url) {
            u.innerText = page.url;
        }
        sub1.appendChild(u);
        var sub2 = document.createElement('div');
        sub2.className = 'subrow webview';
        subrow.appendChild(sub2);
        if (page.description) {
            try {
                var desc = JSON.parse(page.description);
                var position = document.createElement('div');
                position.className = 'position';
                position.innerText = "at (".concat(desc.screenX, ", ").concat(desc.screenY, ")");
                sub2.appendChild(position);
                var size = document.createElement('div');
                size.className = 'size';
                size.innerText = "size ".concat(desc.width, " \u00D7 ").concat(desc.height);
                sub2.appendChild(size);
            }
            catch (error) { }
        }
        var absoluteAddress = page.devtoolsFrontendUrl && page.devtoolsFrontendUrl.startsWith('http');
        var actions = document.createElement('div');
        actions.className = 'actions';
        subrow.appendChild(actions);
        var inspect = document.createElement('a');
        inspect.setAttribute('tabIndex', '1');
        inspect.className = 'action';
        inspect.innerText = 'inspect';
        actions.appendChild(inspect);
        if (page.devtoolsFrontendUrl) {
            inspect.setAttribute('href', page.devtoolsFrontendUrl);
            inspect.setAttribute('rel', 'noopener noreferrer');
            inspect.setAttribute('target', '_blank');
        }
        else {
            inspect.classList.add('disabled');
        }
        if (!absoluteAddress) {
            inspect.classList.add('disabled');
        }
        if (page.webSocketDebuggerUrl) {
            var bundled = document.createElement('a');
            bundled.setAttribute('tabIndex', '1');
            bundled.className = 'action copy';
            bundled.innerText = 'bundled';
            bundled.title = 'Copy link and open manually';
            actions.appendChild(bundled);
            var base = 'devtools://devtools/bundled/inspector.html?experiments=true&ws=';
            bundled.setAttribute('href', "".concat(base).concat(page.webSocketDebuggerUrl));
            bundled.setAttribute('rel', 'noopener noreferrer');
            bundled.setAttribute('target', '_blank');
            bundled.onclick = this.onDevtoolsLinkClick;
        }
        if (page.devtoolsFrontendUrl && page.webSocketDebuggerUrl && absoluteAddress) {
            var ur = new URL(page.devtoolsFrontendUrl);
            ur.searchParams.delete('ws');
            var urStr = ur.toString();
            var match = urStr.match(FRONTEND_RE);
            if (match) {
                var str = match[1];
                var temp = str.split('/');
                var revision = temp.shift();
                var rest = temp.join('/');
                var remoteVersion = version ? "remoteVersion=".concat(version, "&") : '';
                var opts = "remoteFrontend=true&dockSide=undocked&";
                var ws = "ws=".concat(page.webSocketDebuggerUrl);
                var url = "devtools://devtools/remote/serve_rev/".concat(revision, "/").concat(rest, "?").concat(remoteVersion).concat(opts).concat(ws);
                var remote = document.createElement('a');
                remote.setAttribute('tabIndex', '1');
                remote.className = 'action copy';
                remote.innerText = 'remote';
                remote.title = 'Copy link and open manually';
                actions.appendChild(remote);
                remote.setAttribute('href', url);
                remote.setAttribute('rel', 'noopener noreferrer');
                remote.setAttribute('target', '_blank');
                remote.onclick = this.onDevtoolsLinkClick;
            }
        }
        var pause = document.createElement('span');
        pause.setAttribute('hidden', 'hidden');
        pause.setAttribute('tabIndex', '1');
        pause.className = 'action';
        pause.innerText = 'pause';
        actions.appendChild(pause);
        return row;
    };
    DevtoolsClient.prototype.hideTooltip = function () {
        var _this = this;
        if (this.hideTimeout) {
            clearTimeout(this.hideTimeout);
        }
        this.hideTimeout = window.setTimeout(function () {
            _this.hideTimeout = undefined;
            _this.tooltip.style.display = 'none';
        }, 1000);
    };
    DevtoolsClient.prototype.buildList = function (info) {
        var _a;
        var block = this.createDeviceBlock(info);
        var header = this.createDeviceHeader(info);
        var browsers = this.createBrowsersBlock(info);
        block.appendChild(header);
        block.appendChild(browsers);
        var old = document.getElementById(block.id);
        if (old) {
            (_a = old.parentElement) === null || _a === void 0 ? void 0 : _a.replaceChild(block, old);
        }
        else {
            document.body.appendChild(block);
        }
    };
    DevtoolsClient.createEntryForDeviceList = function (descriptor, blockClass, params) {
        if (descriptor.state !== 'device') {
            return;
        }
        var entry = document.createElement('div');
        entry.classList.add('devtools', blockClass);
        entry.appendChild(BaseDeviceTracker_1.BaseDeviceTracker.buildLink({
            action: Action_1.ACTION.DEVTOOLS,
            udid: descriptor.udid,
        }, 'devtools', params));
        return entry;
    };
    DevtoolsClient.ACTION = Action_1.ACTION.DEVTOOLS;
    DevtoolsClient.TIMEOUT = 1000;
    DevtoolsClient.compareBrowsers = function (a, b) {
        var aBrowser = a.version.Browser;
        var bBrowser = b.version.Browser;
        if (aBrowser > bBrowser) {
            return 1;
        }
        else if (aBrowser < bBrowser) {
            return -1;
        }
        return 0;
    };
    return DevtoolsClient;
}(ManagerClient_1.ManagerClient));
exports.DevtoolsClient = DevtoolsClient;


/***/ }),

/***/ "./src/app/googDevice/client/FileListingClient.ts":
/*!********************************************************!*\
  !*** ./src/app/googDevice/client/FileListingClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

var _a;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileListingClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/filelisting.css */ "./src/style/filelisting.css");
var ManagerClient_1 = __webpack_require__(/*! ../../client/ManagerClient */ "./src/app/client/ManagerClient.ts");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var protocol_1 = tslib_1.__importDefault(__webpack_require__(/*! @dead50f7/adbkit/lib/adb/protocol */ "./node_modules/@dead50f7/adbkit/lib/adb/protocol.js"));
var Entry_1 = __webpack_require__(/*! ../Entry */ "./src/app/googDevice/Entry.ts");
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var path = tslib_1.__importStar(__webpack_require__(/*! path */ "./node_modules/path-browserify/index.js"));
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var Multiplexer_1 = __webpack_require__(/*! ../../../packages/multiplexer/Multiplexer */ "./src/packages/multiplexer/Multiplexer.ts");
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ../filePush/FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var AdbkitFilePushStream_1 = __webpack_require__(/*! ../filePush/AdbkitFilePushStream */ "./src/app/googDevice/filePush/AdbkitFilePushStream.ts");
var TAG = '[FileListing]';
var parentDirLinkBox = 'parentDirLinkBox';
var rootDirLinkBox = 'rootDirLinkBox';
var tempDirLinkBox = 'tempDirLinkBox';
var storageDirLinkBox = 'storageDirLinkBox';
var rootPath = '/';
var tempPath = '/data/local/tmp';
var storagePath = '/storage';
var Foreground;
(function (Foreground) {
    Foreground["Drop"] = "drop-target";
    Foreground["Connect"] = "connect";
})(Foreground || (Foreground = {}));
var Message = (_a = {},
    _a[Foreground.Drop] = 'Drop files here',
    _a[Foreground.Connect] = 'Connection lost',
    _a);
var FileListingClient = (function (_super) {
    tslib_1.__extends(FileListingClient, _super);
    function FileListingClient(params) {
        var _this = _super.call(this, params) || this;
        _this.enterCount = 0;
        _this.entries = [];
        _this.requireClean = false;
        _this.requestedPath = '';
        _this.downloads = new Map();
        _this.uploads = new Map();
        _this.channels = new Set();
        _this.parent = document.body;
        _this.serial = _this.params.udid;
        _this.path = _this.params.path;
        _this.openNewConnection();
        _this.setTitle("Listing ".concat(_this.serial));
        _this.setBodyClass('file-listing');
        _this.name = "".concat(TAG, " [").concat(_this.serial, "]");
        _this.tableBodyId = "".concat(Util_1.default.escapeUdid(_this.serial), "_list");
        _this.wrapperId = "wrapper_".concat(_this.tableBodyId);
        var fragment = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div id=\"", "\" class=\"listing\">\n            <h1 id=\"header\">Contents ", "</h1>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon up\" href=\"#!\" ", "=\"..\"> [parent] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "\"> [root] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [storage] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [temp] </a>\n            </div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Size</th>\n                        <th>MTime</th>\n                    </tr>\n                </thead>\n                <tbody id=\"", "\"></tbody>\n            </table>\n        </div>"], ["<div id=\"", "\" class=\"listing\">\n            <h1 id=\"header\">Contents ", "</h1>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon up\" href=\"#!\" ", "=\"..\"> [parent] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "\"> [root] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [storage] </a>\n            </div>\n            <div id=\"", "\" class=\"quick-link-box\">\n                <a class=\"icon dir\" href=\"#!\" ", "=\"", "/\"> [temp] </a>\n            </div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Size</th>\n                        <th>MTime</th>\n                    </tr>\n                </thead>\n                <tbody id=\"", "\"></tbody>\n            </table>\n        </div>"])), _this.wrapperId, _this.path, parentDirLinkBox, FileListingClient.PROPERTY_NAME, rootDirLinkBox, FileListingClient.PROPERTY_NAME, rootPath, storageDirLinkBox, FileListingClient.PROPERTY_NAME, storagePath, tempDirLinkBox, FileListingClient.PROPERTY_NAME, tempPath, _this.tableBodyId).content;
        _this.tableBody = fragment.getElementById(_this.tableBodyId);
        var wrapper = fragment.getElementById(_this.wrapperId);
        if (wrapper) {
            wrapper.addEventListener('click', function (e) {
                if (!e.target || !(e.target instanceof HTMLElement)) {
                    return;
                }
                var name = e.target.getAttribute(FileListingClient.PROPERTY_NAME);
                if (!name) {
                    return;
                }
                e.preventDefault();
                e.cancelBubble = true;
                var newPath = path.resolve(_this.path, name);
                if (newPath !== _this.path) {
                    var entryIdString = e.target.getAttribute(FileListingClient.PROPERTY_ENTRY_ID);
                    var entry = void 0;
                    var anchor = void 0;
                    if (entryIdString) {
                        var entryId = parseInt(entryIdString, 10);
                        if (!isNaN(entryId) && _this.entries[entryId]) {
                            entry = _this.entries[entryId];
                            anchor = e.target;
                        }
                    }
                    _this.loadContent(newPath, entry, anchor);
                }
            });
            if (_this.ws instanceof Multiplexer_1.Multiplexer) {
                _this.filePushHandler = new FilePushHandler_1.default(_this.parent, new AdbkitFilePushStream_1.AdbkitFilePushStream(_this.ws, _this));
                _this.filePushHandler.addEventListener(_this);
            }
        }
        _this.parent.appendChild(fragment);
        return _this;
    }
    FileListingClient.start = function (params) {
        return new FileListingClient(params);
    };
    FileListingClient.createEntryForDeviceList = function (descriptor, blockClass, params) {
        if (descriptor.state !== 'device') {
            return;
        }
        var entry = document.createElement('div');
        entry.classList.add('file-listing', blockClass);
        entry.appendChild(BaseDeviceTracker_1.BaseDeviceTracker.buildLink({
            action: Action_1.ACTION.FILE_LISTING,
            udid: descriptor.udid,
            path: "".concat(tempPath, "/"),
        }, 'list files', params));
        return entry;
    };
    FileListingClient.prototype.onDragEnter = function () {
        if (this.enterCount === 0) {
            this.addForeground(Foreground.Drop);
        }
        this.enterCount++;
        return true;
    };
    FileListingClient.prototype.onDragLeave = function () {
        this.enterCount--;
        if (this.enterCount < 0) {
            this.enterCount = 0;
        }
        if (this.enterCount === 0) {
            this.removeForeground(Foreground.Drop);
        }
        return true;
    };
    FileListingClient.prototype.onDrop = function () {
        this.enterCount = 0;
        this.removeForeground(Foreground.Drop);
        return true;
    };
    FileListingClient.prototype.findOrCreateEntryRow = function (fileName) {
        var row = document.getElementById("entry-".concat(fileName));
        if (row) {
            return row;
        }
        return this.addRow(true, fileName, 'file');
    };
    FileListingClient.prototype.onFilePushUpdate = function (data) {
        var _this = this;
        var fileName = data.fileName, progress = data.progress, error = data.error, message = data.message, finished = data.finished;
        var upload = this.uploads.get(fileName);
        if (!upload || document.getElementById(upload.anchor.id) !== upload.anchor) {
            var row_1 = this.findOrCreateEntryRow(fileName);
            var anchor_1 = row_1.getElementsByTagName('a')[0];
            if (!anchor_1.id) {
                anchor_1.id = "upload_".concat(fileName);
            }
            var progressEl_1 = this.appendProgressElement(anchor_1);
            upload = { row: row_1, progressEl: progressEl_1, anchor: anchor_1, timeout: null };
            this.uploads.set(fileName, upload);
        }
        var row = upload.row, progressEl = upload.progressEl, anchor = upload.anchor;
        if (error) {
            this.uploads.delete(fileName);
            progressEl.style.width = "100%";
            progressEl.classList.add('error');
            if (!anchor.classList.contains('error')) {
                anchor.classList.add('error');
                anchor.innerText = "".concat(fileName, ". ").concat(message);
            }
            if (!upload.timeout) {
                upload.timeout = window.setTimeout(function () {
                    var parent = row.parentElement;
                    if (parent) {
                        parent.removeChild(row);
                        _this.reload();
                    }
                }, FileListingClient.REMOVE_ROW_TIMEOUT);
            }
        }
        else {
            anchor.innerText = "".concat(fileName, ". ").concat(message);
            progressEl.style.width = "".concat(progress, "%");
        }
        if (finished && !error) {
            this.uploads.delete(fileName);
            this.reload();
        }
    };
    FileListingClient.prototype.onError = function (error) {
        console.error(this.name, 'FIXME: implement', error);
    };
    FileListingClient.prototype.addForeground = function (type) {
        var fragment = (0, HtmlTag_1.html)(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject(["<div class=\"foreground ", "\">\n            <div class=\"foreground-message ", "-message\">", "</div>\n        </div>"], ["<div class=\"foreground ", "\">\n            <div class=\"foreground-message ", "-message\">", "</div>\n        </div>"])), type, type, Message[type]).content;
        this.parent.appendChild(fragment);
    };
    FileListingClient.prototype.removeForeground = function (type) {
        var _this = this;
        var els = this.parent.getElementsByClassName(type);
        Array.from(els).forEach(function (el) {
            _this.parent.removeChild(el);
        });
    };
    FileListingClient.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.FILE_LISTING) {
            throw Error('Incorrect action');
        }
        var pathParam = params.get('path');
        var path = pathParam || '/data/local/tmp';
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true), path: path });
    };
    FileListingClient.prototype.buildDirectWebSocketUrl = function () {
        var localUrl = _super.prototype.buildDirectWebSocketUrl.call(this);
        localUrl.searchParams.set('action', Action_1.ACTION.MULTIPLEX);
        return localUrl;
    };
    FileListingClient.prototype.onSocketClose = function (event) {
        if (this.filePushHandler) {
            this.filePushHandler.release();
        }
        console.error(this.name, 'socket closed', event.reason);
        this.addForeground(Foreground.Connect);
    };
    FileListingClient.prototype.onSocketMessage = function (_e) {
    };
    FileListingClient.prototype.onSocketOpen = function () {
        this.loadContent(this.path);
    };
    FileListingClient.prototype.loadContent = function (path, entry, anchor, pathToLoadAfter) {
        var _this = this;
        if (pathToLoadAfter === void 0) { pathToLoadAfter = ''; }
        if (!this.ws || this.ws.readyState !== this.ws.OPEN || !(this.ws instanceof Multiplexer_1.Multiplexer)) {
            return;
        }
        if (!entry && (this.channels.size || this.uploads.size)) {
            return;
        }
        this.requireClean = true;
        this.requestedPath = path;
        var cmd;
        if (!entry) {
            cmd = protocol_1.default.STAT;
        }
        else if (entry.isFile()) {
            cmd = protocol_1.default.RECV;
        }
        else {
            cmd = protocol_1.default.LIST;
        }
        var len = Buffer.byteLength(path, 'utf-8');
        var payload = Buffer.alloc(cmd.length + 4 + len);
        var pos = payload.write(cmd, 0);
        pos = payload.writeUInt32LE(len, pos);
        payload.write(path, pos);
        var channel = this.ws.createChannel(payload);
        this.channels.add(channel);
        var download = {
            receivedBytes: 0,
            path: path,
            entry: entry,
            anchor: anchor,
            chunks: [],
            pathToLoadAfter: pathToLoadAfter,
        };
        this.downloads.set(channel, download);
        var onMessage = function (event) {
            _this.handleReply(channel, event);
        };
        var onClose = function () {
            _this.channels.delete(channel);
            _this.downloads.delete(channel);
            channel.removeEventListener('message', onMessage);
            channel.removeEventListener('close', onClose);
        };
        channel.addEventListener('message', onMessage);
        channel.addEventListener('close', onClose);
    };
    FileListingClient.prototype.clean = function () {
        this.tableBody.innerHTML = '';
        var header = document.getElementById('header');
        if (header) {
            header.innerText = "Content ".concat(this.path);
        }
        this.toggleQuickLinks(this.path);
        var hash = location.hash.replace(/#!/, '');
        var params = new URLSearchParams(hash);
        if (params.get('action') === Action_1.ACTION.FILE_LISTING) {
            params.set('path', this.path);
            location.hash = "#!".concat(params.toString());
        }
    };
    FileListingClient.prototype.toggleQuickLinks = function (path) {
        var isRoot = path === rootPath;
        var parentEl = document.getElementById(parentDirLinkBox);
        if (parentEl) {
            parentEl.classList.toggle('hidden', isRoot);
        }
        var rootEl = document.getElementById(rootDirLinkBox);
        if (rootEl) {
            rootEl.classList.toggle('hidden', isRoot);
        }
        var isTemp = path === tempPath;
        var tempEl = document.getElementById(tempDirLinkBox);
        if (tempEl) {
            tempEl.classList.toggle('hidden', isTemp);
        }
        var isStorage = path === storagePath;
        var storageEl = document.getElementById(storageDirLinkBox);
        if (storageEl) {
            storageEl.classList.toggle('hidden', isStorage);
        }
    };
    FileListingClient.prototype.handleReply = function (channel, e) {
        var data = Buffer.from(e.data);
        var reply = data.slice(0, 4).toString('ascii');
        switch (reply) {
            case protocol_1.default.DENT:
                var stat = data.slice(4);
                var mode = stat.readUInt32LE(0);
                var size = stat.readUInt32LE(4);
                var mtime = stat.readUInt32LE(8);
                var namelen = stat.readUInt32LE(12);
                var name_1 = Util_1.default.utf8ByteArrayToString(stat.slice(16, 16 + namelen));
                this.addEntry(new Entry_1.Entry(name_1, mode, size, mtime));
                return;
            case protocol_1.default.DONE:
                this.finishDownload(channel);
                return;
            case protocol_1.default.STAT: {
                var download_1 = this.downloads.get(channel);
                if (!download_1) {
                    return;
                }
                var stat_1 = data.slice(4);
                var mode_1 = stat_1.readUInt32LE(0);
                var size_1 = stat_1.readUInt32LE(4);
                var mtime_1 = stat_1.readUInt32LE(8);
                var nameString = path.basename(download_1.path);
                if (mode_1 === 0) {
                    console.error('FIXME: show error in UI');
                    console.error("Error: no entity \"".concat(download_1.path, "\""));
                    this.channels.delete(channel);
                    this.loadContent(tempPath);
                    return;
                }
                var entry = new Entry_1.Entry(nameString, mode_1, size_1, mtime_1);
                var anchor = void 0;
                var nextPath = '';
                if (!entry.isDirectory()) {
                    nextPath = this.requestedPath = path.dirname(download_1.path);
                    var row = this.addEntry(entry);
                    anchor = row ? row.getElementsByTagName('a')[0] : undefined;
                }
                this.loadContent(download_1.path, entry, anchor, nextPath);
                break;
            }
            case protocol_1.default.FAIL:
                var length_1 = data.readUInt32LE(4);
                var message = Util_1.default.utf8ByteArrayToString(data.slice(8, 8 + length_1));
                console.error(TAG, "FAIL: ".concat(message));
                return;
            case protocol_1.default.DATA:
                var download = this.downloads.get(channel);
                if (!download) {
                    return;
                }
                download.chunks.push(data.slice(4));
                download.receivedBytes += data.length - 4;
                if (download.anchor) {
                    var progressElement = download.progressEl;
                    if (!progressElement) {
                        progressElement = this.appendProgressElement(download.anchor);
                        download.progressEl = progressElement;
                    }
                    if (download.entry) {
                        var size_2 = download.entry.size;
                        var percent = (download.receivedBytes * 100) / size_2;
                        progressElement.style.width = "".concat(percent, "%");
                    }
                }
                return;
            default:
                console.error("Unexpected \"".concat(reply, "\""));
        }
    };
    FileListingClient.prototype.appendProgressElement = function (anchor) {
        var progressElement = document.createElement('span');
        progressElement.className = 'background-progress';
        var parent = anchor.parentElement;
        if (parent) {
            parent.appendChild(progressElement);
        }
        return progressElement;
    };
    FileListingClient.prototype.addEntry = function (entry) {
        if (this.requireClean) {
            this.path = this.requestedPath;
            this.requestedPath = '';
            this.clean();
            this.requireClean = false;
            this.entries.length = 0;
        }
        this.entries.push(entry);
        var entryId = (this.entries.length - 1).toString();
        if (entry.name === '.') {
            return;
        }
        if (entry.name === FileListingClient.PARENT_DIR) {
            var el = document.getElementById(parentDirLinkBox);
            if (el) {
                var a = el.children[0];
                if (a) {
                    a.setAttribute(FileListingClient.PROPERTY_ENTRY_ID, entryId);
                }
            }
            return;
        }
        var type = entry.isDirectory() ? 'dir' : entry.isSymbolicLink() ? 'link' : entry.isFile() ? 'file' : 'else';
        var date = entry.mtime.toLocaleString();
        return this.addRow(false, entry.name, type, entry.size.toString(), date, entryId);
    };
    FileListingClient.prototype.addRow = function (push, name, typeClass, size, date, entryId) {
        if (size === void 0) { size = ''; }
        if (date === void 0) { date = ''; }
        if (entryId === void 0) { entryId = ''; }
        var row = document.createElement('tr');
        row.id = "entry-".concat(name);
        row.classList.add('entry-row');
        var nameTd = document.createElement('td');
        nameTd.classList.add('entry-name');
        var link = document.createElement('a');
        link.classList.add('icon', typeClass);
        link.setAttribute(FileListingClient.PROPERTY_NAME, name);
        if (entryId) {
            link.setAttribute(FileListingClient.PROPERTY_ENTRY_ID, entryId);
        }
        link.innerText = name;
        nameTd.appendChild(link);
        row.appendChild(nameTd);
        if (push) {
            nameTd.colSpan = 3;
            link.classList.add('push');
        }
        else {
            var href = new URL(location.href);
            var hash = new URLSearchParams(href.hash.replace(/^#!/, ''));
            hash.set('path', path.join(this.path, name));
            href.hash = "#!".concat(hash.toString());
            link.href = href.toString();
            var sizeTd = document.createElement('td');
            sizeTd.classList.add('entry-size');
            sizeTd.innerText = size;
            row.appendChild(sizeTd);
            var mtimeTd = document.createElement('td');
            mtimeTd.classList.add('entry-time');
            mtimeTd.innerText = date;
            row.appendChild(mtimeTd);
        }
        if (push || !this.tableBody.children.length) {
            this.tableBody.insertBefore(row, this.tableBody.firstChild);
        }
        else {
            this.tableBody.appendChild(row);
        }
        return row;
    };
    FileListingClient.prototype.finishDownload = function (channel) {
        var download = this.downloads.get(channel);
        if (!download) {
            return;
        }
        this.downloads.delete(channel);
        var el = download.progressEl;
        if (el) {
            this.cleanProgress(el);
        }
        var name;
        if (download.entry && download.entry.isFile()) {
            name = download.entry.name;
        }
        else {
            name = path.basename(this.path);
        }
        if (download.pathToLoadAfter) {
            this.channels.delete(channel);
            this.loadContent(download.pathToLoadAfter);
        }
        var file = new File(download.chunks, name, { type: 'application/octet-stream' });
        var a = document.createElement('a');
        a.href = URL.createObjectURL(file);
        a.download = "".concat(name);
        a.click();
    };
    FileListingClient.prototype.cleanProgress = function (el) {
        el.classList.add('finished');
        setTimeout(function () {
            var parent = el.parentElement;
            if (parent) {
                parent.removeChild(el);
            }
        });
    };
    FileListingClient.prototype.getPath = function () {
        return this.path;
    };
    FileListingClient.prototype.reload = function () {
        this.loadContent(this.path);
    };
    FileListingClient.prototype.supportMultiplexing = function () {
        return true;
    };
    FileListingClient.prototype.getChannelInitData = function () {
        var serial = Util_1.default.stringToUtf8ByteArray(this.serial);
        var buffer = Buffer.alloc(4 + 4 + serial.byteLength);
        buffer.write(ChannelCode_1.ChannelCode.FSLS, 'ascii');
        buffer.writeUInt32LE(serial.length, 4);
        buffer.set(serial, 8);
        return buffer;
    };
    FileListingClient.ACTION = Action_1.ACTION.FILE_LISTING;
    FileListingClient.PARENT_DIR = '..';
    FileListingClient.PROPERTY_NAME = 'data-name';
    FileListingClient.PROPERTY_ENTRY_ID = 'data-entry-id';
    FileListingClient.REMOVE_ROW_TIMEOUT = 2000;
    return FileListingClient;
}(ManagerClient_1.ManagerClient));
exports.FileListingClient = FileListingClient;
var templateObject_1, templateObject_2;


/***/ }),

/***/ "./src/app/googDevice/client/ShellClient.ts":
/*!**************************************************!*\
  !*** ./src/app/googDevice/client/ShellClient.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShellClient = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! xterm/css/xterm.css */ "./node_modules/xterm/css/xterm.css");
var ManagerClient_1 = __webpack_require__(/*! ../../client/ManagerClient */ "./src/app/client/ManagerClient.ts");
var xterm_1 = __webpack_require__(/*! xterm */ "./node_modules/xterm/lib/xterm.js");
var xterm_addon_attach_1 = __webpack_require__(/*! xterm-addon-attach */ "./node_modules/xterm-addon-attach/lib/xterm-addon-attach.js");
var xterm_addon_fit_1 = __webpack_require__(/*! xterm-addon-fit */ "./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var BaseDeviceTracker_1 = __webpack_require__(/*! ../../client/BaseDeviceTracker */ "./src/app/client/BaseDeviceTracker.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var ChannelCode_1 = __webpack_require__(/*! ../../../common/ChannelCode */ "./src/common/ChannelCode.ts");
var TAG = '[ShellClient]';
var ShellClient = (function (_super) {
    tslib_1.__extends(ShellClient, _super);
    function ShellClient(params) {
        var _this = _super.call(this, params) || this;
        _this.onSocketOpen = function () {
            _this.startShell(_this.udid);
        };
        _this.udid = params.udid;
        _this.openNewConnection();
        _this.setTitle("Shell ".concat(_this.udid));
        _this.setBodyClass('shell');
        if (!_this.ws) {
            throw Error('No WebSocket');
        }
        _this.term = new xterm_1.Terminal();
        _this.term.loadAddon(new xterm_addon_attach_1.AttachAddon(_this.ws));
        _this.fitAddon = new xterm_addon_fit_1.FitAddon();
        _this.term.loadAddon(_this.fitAddon);
        _this.escapedUdid = Util_1.default.escapeUdid(_this.udid);
        _this.term.open(ShellClient.getOrCreateContainer(_this.escapedUdid));
        _this.updateTerminalSize();
        _this.term.focus();
        return _this;
    }
    ShellClient.start = function (params) {
        return new ShellClient(params);
    };
    ShellClient.prototype.supportMultiplexing = function () {
        return true;
    };
    ShellClient.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.SHELL) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true) });
    };
    ShellClient.prototype.onSocketClose = function (event) {
        console.log(TAG, "Connection closed: ".concat(event.reason));
        this.term.dispose();
    };
    ShellClient.prototype.onSocketMessage = function () {
    };
    ShellClient.prototype.startShell = function (udid) {
        if (!udid || !this.ws || this.ws.readyState !== this.ws.OPEN) {
            return;
        }
        var _a = this.fitAddon.proposeDimensions(), rows = _a.rows, cols = _a.cols;
        var message = {
            id: 1,
            type: 'shell',
            data: {
                type: 'start',
                rows: rows,
                cols: cols,
                udid: udid,
            },
        };
        this.ws.send(JSON.stringify(message));
    };
    ShellClient.getOrCreateContainer = function (udid) {
        var container = document.getElementById(udid);
        if (!container) {
            container = document.createElement('div');
            container.className = 'terminal-container';
            container.id = udid;
            document.body.appendChild(container);
        }
        return container;
    };
    ShellClient.prototype.updateTerminalSize = function () {
        var term = this.term;
        var terminalContainer = ShellClient.getOrCreateContainer(this.escapedUdid);
        var _a = this.fitAddon.proposeDimensions(), rows = _a.rows, cols = _a.cols;
        var width = (cols * term._core._renderService.dimensions.actualCellWidth + term._core.viewport.scrollBarWidth).toFixed(2) + 'px';
        var height = (rows * term._core._renderService.dimensions.actualCellHeight).toFixed(2) + 'px';
        terminalContainer.style.width = width;
        terminalContainer.style.height = height;
        this.fitAddon.fit();
    };
    ShellClient.createEntryForDeviceList = function (descriptor, blockClass, params) {
        if (descriptor.state !== 'device') {
            return;
        }
        var entry = document.createElement('div');
        entry.classList.add('shell', blockClass);
        entry.appendChild(BaseDeviceTracker_1.BaseDeviceTracker.buildLink({
            action: Action_1.ACTION.SHELL,
            udid: descriptor.udid,
        }, 'shell', params));
        return entry;
    };
    ShellClient.prototype.getChannelInitData = function () {
        var buffer = Buffer.alloc(4);
        buffer.write(ChannelCode_1.ChannelCode.SHEL, 'ascii');
        return buffer;
    };
    ShellClient.ACTION = Action_1.ACTION.SHELL;
    return ShellClient;
}(ManagerClient_1.ManagerClient));
exports.ShellClient = ShellClient;


/***/ }),

/***/ "./src/app/googDevice/client/StreamClientScrcpy.ts":
/*!*********************************************************!*\
  !*** ./src/app/googDevice/client/StreamClientScrcpy.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamClientScrcpy = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseClient_1 = __webpack_require__(/*! ../../client/BaseClient */ "./src/app/client/BaseClient.ts");
var GoogMoreBox_1 = __webpack_require__(/*! ../toolbox/GoogMoreBox */ "./src/app/googDevice/toolbox/GoogMoreBox.ts");
var GoogToolBox_1 = __webpack_require__(/*! ../toolbox/GoogToolBox */ "./src/app/googDevice/toolbox/GoogToolBox.ts");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../VideoSettings */ "./src/app/VideoSettings.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Size */ "./src/app/Size.ts"));
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ../filePush/FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var DragAndPushLogger_1 = tslib_1.__importDefault(__webpack_require__(/*! ../DragAndPushLogger */ "./src/app/googDevice/DragAndPushLogger.ts"));
var KeyInputHandler_1 = __webpack_require__(/*! ../KeyInputHandler */ "./src/app/googDevice/KeyInputHandler.ts");
var BasePlayer_1 = __webpack_require__(/*! ../../player/BasePlayer */ "./src/app/player/BasePlayer.ts");
var ConfigureScrcpy_1 = __webpack_require__(/*! ./ConfigureScrcpy */ "./src/app/googDevice/client/ConfigureScrcpy.ts");
var DeviceTracker_1 = __webpack_require__(/*! ./DeviceTracker */ "./src/app/googDevice/client/DeviceTracker.ts");
var ControlCenterCommand_1 = __webpack_require__(/*! ../../../common/ControlCenterCommand */ "./src/common/ControlCenterCommand.ts");
var HtmlTag_1 = __webpack_require__(/*! ../../ui/HtmlTag */ "./src/app/ui/HtmlTag.ts");
var FeaturedInteractionHandler_1 = __webpack_require__(/*! ../../interactionHandler/FeaturedInteractionHandler */ "./src/app/interactionHandler/FeaturedInteractionHandler.ts");
var Attribute_1 = __webpack_require__(/*! ../../Attribute */ "./src/app/Attribute.ts");
var HostTracker_1 = __webpack_require__(/*! ../../client/HostTracker */ "./src/app/client/HostTracker.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var StreamReceiverScrcpy_1 = __webpack_require__(/*! ./StreamReceiverScrcpy */ "./src/app/googDevice/client/StreamReceiverScrcpy.ts");
var ScrcpyFilePushStream_1 = __webpack_require__(/*! ../filePush/ScrcpyFilePushStream */ "./src/app/googDevice/filePush/ScrcpyFilePushStream.ts");
var TAG = '[StreamClientScrcpy]';
var StreamClientScrcpy = (function (_super) {
    tslib_1.__extends(StreamClientScrcpy, _super);
    function StreamClientScrcpy(params, streamReceiver, player, fitToScreen, videoSettings) {
        var _this = _super.call(this, params) || this;
        _this.deviceName = '';
        _this.clientId = -1;
        _this.clientsCount = -1;
        _this.joinedStream = false;
        _this.OnDeviceMessage = function (message) {
            if (_this.moreBox) {
                _this.moreBox.OnDeviceMessage(message);
            }
        };
        _this.onVideo = function (data) {
            if (!_this.player) {
                return;
            }
            var STATE = BasePlayer_1.BasePlayer.STATE;
            if (_this.player.getState() === STATE.PAUSED) {
                _this.player.play();
            }
            if (_this.player.getState() === STATE.PLAYING) {
                _this.player.pushFrame(new Uint8Array(data));
            }
        };
        _this.onClientsStats = function (stats) {
            _this.deviceName = stats.deviceName;
            _this.clientId = stats.clientId;
        };
        _this.onDisplayInfo = function (infoArray) {
            var _a;
            if (!_this.player) {
                return;
            }
            var currentSettings = _this.player.getVideoSettings();
            var displayId = currentSettings.displayId;
            var info = infoArray.find(function (value) {
                return value.displayInfo.displayId === displayId;
            });
            if (!info) {
                return;
            }
            if (_this.player.getState() === BasePlayer_1.BasePlayer.STATE.PAUSED) {
                _this.player.play();
            }
            var videoSettings = info.videoSettings, screenInfo = info.screenInfo;
            _this.player.setDisplayInfo(info.displayInfo);
            if (typeof _this.fitToScreen !== 'boolean') {
                _this.fitToScreen = _this.player.getFitToScreenStatus();
            }
            if (_this.fitToScreen) {
                var newBounds = _this.getMaxSize();
                if (newBounds) {
                    currentSettings = StreamClientScrcpy.createVideoSettingsWithBounds(currentSettings, newBounds);
                    _this.player.setVideoSettings(currentSettings, _this.fitToScreen, false);
                }
            }
            if (!videoSettings || !screenInfo) {
                _this.joinedStream = true;
                _this.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetVideoSettingsCommand(currentSettings));
                return;
            }
            _this.clientsCount = info.connectionCount;
            var min = VideoSettings_1.default.copy(videoSettings);
            var oldInfo = _this.player.getScreenInfo();
            if (!screenInfo.equals(oldInfo)) {
                _this.player.setScreenInfo(screenInfo);
            }
            if (!videoSettings.equals(currentSettings)) {
                _this.applyNewVideoSettings(videoSettings, videoSettings.equals(_this.requestedVideoSettings));
            }
            if (!oldInfo) {
                var bounds = currentSettings.bounds;
                var videoSize = screenInfo.videoSize;
                var onlyOneClient = _this.clientsCount === 0;
                var smallerThenCurrent = bounds && (bounds.width < videoSize.width || bounds.height < videoSize.height);
                if (onlyOneClient || smallerThenCurrent) {
                    min = currentSettings;
                }
                var minBounds = (_a = currentSettings.bounds) === null || _a === void 0 ? void 0 : _a.intersect(min.bounds);
                if (minBounds && !minBounds.equals(min.bounds)) {
                    min = StreamClientScrcpy.createVideoSettingsWithBounds(min, minBounds);
                }
            }
            if (!min.equals(videoSettings) || !_this.joinedStream) {
                _this.joinedStream = true;
                _this.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetVideoSettingsCommand(min));
            }
        };
        _this.onDisconnected = function () {
            var _a, _b;
            _this.streamReceiver.off('deviceMessage', _this.OnDeviceMessage);
            _this.streamReceiver.off('video', _this.onVideo);
            _this.streamReceiver.off('clientsStats', _this.onClientsStats);
            _this.streamReceiver.off('displayInfo', _this.onDisplayInfo);
            _this.streamReceiver.off('disconnected', _this.onDisconnected);
            (_a = _this.filePushHandler) === null || _a === void 0 ? void 0 : _a.release();
            _this.filePushHandler = undefined;
            (_b = _this.touchHandler) === null || _b === void 0 ? void 0 : _b.release();
            _this.touchHandler = undefined;
        };
        if (streamReceiver) {
            _this.streamReceiver = streamReceiver;
        }
        else {
            _this.streamReceiver = new StreamReceiverScrcpy_1.StreamReceiverScrcpy(_this.params);
        }
        var _a = _this.params, udid = _a.udid, playerName = _a.player;
        _this.startStream({ udid: udid, player: player, playerName: playerName, fitToScreen: fitToScreen, videoSettings: videoSettings });
        _this.setBodyClass('stream');
        return _this;
    }
    StreamClientScrcpy.registerPlayer = function (playerClass) {
        if (playerClass.isSupported()) {
            this.players.set(playerClass.playerFullName, playerClass);
        }
    };
    StreamClientScrcpy.getPlayers = function () {
        return Array.from(this.players.values());
    };
    StreamClientScrcpy.getPlayerClass = function (playerName) {
        var e_1, _a;
        var playerClass;
        try {
            for (var _b = tslib_1.__values(StreamClientScrcpy.players.values()), _c = _b.next(); !_c.done; _c = _b.next()) {
                var value = _c.value;
                if (value.playerFullName === playerName || value.playerCodeName === playerName) {
                    playerClass = value;
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return playerClass;
    };
    StreamClientScrcpy.createPlayer = function (playerName, udid, displayInfo) {
        var playerClass = this.getPlayerClass(playerName);
        if (!playerClass) {
            return;
        }
        return new playerClass(udid, displayInfo);
    };
    StreamClientScrcpy.getFitToScreen = function (playerName, udid, displayInfo) {
        var playerClass = this.getPlayerClass(playerName);
        if (!playerClass) {
            return false;
        }
        return playerClass.getFitToScreenStatus(udid, displayInfo);
    };
    StreamClientScrcpy.start = function (query, streamReceiver, player, fitToScreen, videoSettings) {
        if (query instanceof URLSearchParams) {
            var params = StreamClientScrcpy.parseParameters(query);
            return new StreamClientScrcpy(params, streamReceiver, player, fitToScreen, videoSettings);
        }
        else {
            return new StreamClientScrcpy(query, streamReceiver, player, fitToScreen, videoSettings);
        }
    };
    StreamClientScrcpy.createVideoSettingsWithBounds = function (old, newBounds) {
        return new VideoSettings_1.default({
            crop: old.crop,
            bitrate: old.bitrate,
            bounds: newBounds,
            maxFps: old.maxFps,
            iFrameInterval: old.iFrameInterval,
            sendFrameMeta: old.sendFrameMeta,
            lockedVideoOrientation: old.lockedVideoOrientation,
            displayId: old.displayId,
            codecOptions: old.codecOptions,
            encoderName: old.encoderName,
        });
    };
    StreamClientScrcpy.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.STREAM_SCRCPY) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, player: Util_1.default.parseString(params, 'player', true), udid: Util_1.default.parseString(params, 'udid', true), ws: Util_1.default.parseString(params, 'ws', true) });
    };
    StreamClientScrcpy.prototype.startStream = function (_a) {
        var _this = this;
        var udid = _a.udid, player = _a.player, playerName = _a.playerName, videoSettings = _a.videoSettings, fitToScreen = _a.fitToScreen;
        if (!udid) {
            throw Error("Invalid udid value: \"".concat(udid, "\""));
        }
        this.fitToScreen = fitToScreen;
        if (!player) {
            if (typeof playerName !== 'string') {
                throw Error('Must provide BasePlayer instance or playerName');
            }
            var displayInfo = void 0;
            if (this.streamReceiver && videoSettings) {
                displayInfo = this.streamReceiver.getDisplayInfo(videoSettings.displayId);
            }
            var p = StreamClientScrcpy.createPlayer(playerName, udid, displayInfo);
            if (!p) {
                throw Error("Unsupported player: \"".concat(playerName, "\""));
            }
            if (typeof fitToScreen !== 'boolean') {
                fitToScreen = StreamClientScrcpy.getFitToScreen(playerName, udid, displayInfo);
            }
            player = p;
        }
        this.player = player;
        this.setTouchListeners(player);
        if (!videoSettings) {
            videoSettings = player.getVideoSettings();
        }
        var deviceView = document.createElement('div');
        deviceView.className = 'device-view';
        var stop = function (ev) {
            if (ev && ev instanceof Event && ev.type === 'error') {
                console.error(TAG, ev);
            }
            var parent;
            parent = deviceView.parentElement;
            if (parent) {
                parent.removeChild(deviceView);
            }
            parent = moreBox.parentElement;
            if (parent) {
                parent.removeChild(moreBox);
            }
            _this.streamReceiver.stop();
            if (_this.player) {
                _this.player.stop();
            }
        };
        var googMoreBox = (this.moreBox = new GoogMoreBox_1.GoogMoreBox(udid, player, this));
        var moreBox = googMoreBox.getHolderElement();
        googMoreBox.setOnStop(stop);
        var googToolBox = GoogToolBox_1.GoogToolBox.createToolBox(udid, player, this, moreBox);
        this.controlButtons = googToolBox.getHolderElement();
        deviceView.appendChild(this.controlButtons);
        var video = document.createElement('div');
        video.className = 'video';
        deviceView.appendChild(video);
        deviceView.appendChild(moreBox);
        player.setParent(video);
        player.pause();
        document.body.appendChild(deviceView);
        if (fitToScreen) {
            var newBounds = this.getMaxSize();
            if (newBounds) {
                videoSettings = StreamClientScrcpy.createVideoSettingsWithBounds(videoSettings, newBounds);
            }
        }
        this.applyNewVideoSettings(videoSettings, false);
        var element = player.getTouchableElement();
        var logger = new DragAndPushLogger_1.default(element);
        this.filePushHandler = new FilePushHandler_1.default(element, new ScrcpyFilePushStream_1.ScrcpyFilePushStream(this.streamReceiver));
        this.filePushHandler.addEventListener(logger);
        var streamReceiver = this.streamReceiver;
        streamReceiver.on('deviceMessage', this.OnDeviceMessage);
        streamReceiver.on('video', this.onVideo);
        streamReceiver.on('clientsStats', this.onClientsStats);
        streamReceiver.on('displayInfo', this.onDisplayInfo);
        streamReceiver.on('disconnected', this.onDisconnected);
        console.log(TAG, player.getName(), udid);
    };
    StreamClientScrcpy.prototype.sendMessage = function (message) {
        this.streamReceiver.sendEvent(message);
    };
    StreamClientScrcpy.prototype.getDeviceName = function () {
        return this.deviceName;
    };
    StreamClientScrcpy.prototype.setHandleKeyboardEvents = function (enabled) {
        if (enabled) {
            KeyInputHandler_1.KeyInputHandler.addEventListener(this);
        }
        else {
            KeyInputHandler_1.KeyInputHandler.removeEventListener(this);
        }
    };
    StreamClientScrcpy.prototype.onKeyEvent = function (event) {
        this.sendMessage(event);
    };
    StreamClientScrcpy.prototype.sendNewVideoSetting = function (videoSettings) {
        this.requestedVideoSettings = videoSettings;
        this.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetVideoSettingsCommand(videoSettings));
    };
    StreamClientScrcpy.prototype.getClientId = function () {
        return this.clientId;
    };
    StreamClientScrcpy.prototype.getClientsCount = function () {
        return this.clientsCount;
    };
    StreamClientScrcpy.prototype.getMaxSize = function () {
        if (!this.controlButtons) {
            return;
        }
        var body = document.body;
        var width = (body.clientWidth - this.controlButtons.clientWidth) & ~15;
        var height = body.clientHeight & ~15;
        return new Size_1.default(width, height);
    };
    StreamClientScrcpy.prototype.setTouchListeners = function (player) {
        if (this.touchHandler) {
            return;
        }
        this.touchHandler = new FeaturedInteractionHandler_1.FeaturedInteractionHandler(player, this);
    };
    StreamClientScrcpy.prototype.applyNewVideoSettings = function (videoSettings, saveToStorage) {
        var fitToScreen = false;
        if (videoSettings.bounds && videoSettings.bounds.equals(this.getMaxSize())) {
            fitToScreen = true;
        }
        if (this.player) {
            this.player.setVideoSettings(videoSettings, fitToScreen, saveToStorage);
        }
    };
    StreamClientScrcpy.createEntryForDeviceList = function (descriptor, blockClass, fullName, params) {
        var hasPid = descriptor.pid !== -1;
        if (hasPid) {
            var configureButtonId = "configure_".concat(Util_1.default.escapeUdid(descriptor.udid));
            var e = (0, HtmlTag_1.html)(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject(["<div class=\"stream ", "\">\n                <button\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    id=\"", "\"\n                    class=\"active action-button\"\n                >\n                    Configure stream\n                </button>\n            </div>"], ["<div class=\"stream ", "\">\n                <button\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    ", "=\"", "\"\n                    id=\"", "\"\n                    class=\"active action-button\"\n                >\n                    Configure stream\n                </button>\n            </div>"])), blockClass, Attribute_1.Attribute.UDID, descriptor.udid, Attribute_1.Attribute.COMMAND, ControlCenterCommand_1.ControlCenterCommand.CONFIGURE_STREAM, Attribute_1.Attribute.FULL_NAME, fullName, Attribute_1.Attribute.SECURE, params.secure, Attribute_1.Attribute.HOSTNAME, params.hostname, Attribute_1.Attribute.PORT, params.port, Attribute_1.Attribute.PATHNAME, params.pathname, Attribute_1.Attribute.USE_PROXY, params.useProxy, configureButtonId);
            var a = e.content.getElementById(configureButtonId);
            a && (a.onclick = this.onConfigureStreamClick);
            return e.content;
        }
        return;
    };
    StreamClientScrcpy.ACTION = 'stream';
    StreamClientScrcpy.players = new Map();
    StreamClientScrcpy.onConfigureStreamClick = function (event) {
        var button = event.currentTarget;
        var udid = Util_1.default.parseStringEnv(button.getAttribute(Attribute_1.Attribute.UDID) || '');
        var fullName = button.getAttribute(Attribute_1.Attribute.FULL_NAME);
        var secure = Util_1.default.parseBooleanEnv(button.getAttribute(Attribute_1.Attribute.SECURE) || undefined) || false;
        var hostname = Util_1.default.parseStringEnv(button.getAttribute(Attribute_1.Attribute.HOSTNAME) || undefined) || '';
        var port = Util_1.default.parseIntEnv(button.getAttribute(Attribute_1.Attribute.PORT) || undefined);
        var pathname = Util_1.default.parseStringEnv(button.getAttribute(Attribute_1.Attribute.PATHNAME) || undefined) || '';
        var useProxy = Util_1.default.parseBooleanEnv(button.getAttribute(Attribute_1.Attribute.USE_PROXY) || undefined);
        if (!udid) {
            throw Error("Invalid udid value: \"".concat(udid, "\""));
        }
        if (typeof port !== 'number') {
            throw Error("Invalid port type: ".concat(typeof port));
        }
        var tracker = DeviceTracker_1.DeviceTracker.getInstance({
            type: 'android',
            secure: secure,
            hostname: hostname,
            port: port,
            pathname: pathname,
            useProxy: useProxy,
        });
        var descriptor = tracker.getDescriptorByUdid(udid);
        if (!descriptor) {
            return;
        }
        event.preventDefault();
        var elements = document.getElementsByName("".concat(DeviceTracker_1.DeviceTracker.AttributePrefixInterfaceSelectFor).concat(fullName));
        if (!elements || !elements.length) {
            return;
        }
        var select = elements[0];
        var optionElement = select.options[select.selectedIndex];
        var ws = optionElement.getAttribute(Attribute_1.Attribute.URL);
        var name = optionElement.getAttribute(Attribute_1.Attribute.NAME);
        if (!ws || !name) {
            return;
        }
        var options = {
            udid: udid,
            ws: ws,
            player: '',
            action: Action_1.ACTION.STREAM_SCRCPY,
            secure: secure,
            hostname: hostname,
            port: port,
            pathname: pathname,
            useProxy: useProxy,
        };
        var dialog = new ConfigureScrcpy_1.ConfigureScrcpy(tracker, descriptor, options);
        dialog.on('closed', StreamClientScrcpy.onConfigureDialogClosed);
    };
    StreamClientScrcpy.onConfigureDialogClosed = function (event) {
        event.dialog.off('closed', StreamClientScrcpy.onConfigureDialogClosed);
        if (event.result) {
            HostTracker_1.HostTracker.getInstance().destroy();
        }
    };
    return StreamClientScrcpy;
}(BaseClient_1.BaseClient));
exports.StreamClientScrcpy = StreamClientScrcpy;
var templateObject_1;


/***/ }),

/***/ "./src/app/googDevice/client/StreamReceiverScrcpy.ts":
/*!***********************************************************!*\
  !*** ./src/app/googDevice/client/StreamReceiverScrcpy.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamReceiverScrcpy = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var StreamReceiver_1 = __webpack_require__(/*! ../../client/StreamReceiver */ "./src/app/client/StreamReceiver.ts");
var Action_1 = __webpack_require__(/*! ../../../common/Action */ "./src/common/Action.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Util */ "./src/app/Util.ts"));
var StreamReceiverScrcpy = (function (_super) {
    tslib_1.__extends(StreamReceiverScrcpy, _super);
    function StreamReceiverScrcpy() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StreamReceiverScrcpy.parseParameters = function (params) {
        var typedParams = _super.parseParameters.call(this, params);
        var action = typedParams.action;
        if (action !== Action_1.ACTION.STREAM_SCRCPY) {
            throw Error('Incorrect action');
        }
        return tslib_1.__assign(tslib_1.__assign({}, typedParams), { action: action, udid: Util_1.default.parseString(params, 'udid', true), ws: Util_1.default.parseString(params, 'ws', true), player: Util_1.default.parseString(params, 'player', true) });
    };
    StreamReceiverScrcpy.prototype.buildDirectWebSocketUrl = function () {
        return new URL(this.params.ws);
    };
    return StreamReceiverScrcpy;
}(StreamReceiver_1.StreamReceiver));
exports.StreamReceiverScrcpy = StreamReceiverScrcpy;


/***/ }),

/***/ "./src/app/googDevice/filePush/AdbkitFilePushStream.ts":
/*!*************************************************************!*\
  !*** ./src/app/googDevice/filePush/AdbkitFilePushStream.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AdbkitFilePushStream = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var FilePushStream_1 = __webpack_require__(/*! ./FilePushStream */ "./src/app/googDevice/filePush/FilePushStream.ts");
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var FilePushResponseStatus_1 = __webpack_require__(/*! ./FilePushResponseStatus */ "./src/app/googDevice/filePush/FilePushResponseStatus.ts");
var protocol_1 = tslib_1.__importDefault(__webpack_require__(/*! @dead50f7/adbkit/lib/adb/protocol */ "./node_modules/@dead50f7/adbkit/lib/adb/protocol.js"));
var path = tslib_1.__importStar(__webpack_require__(/*! path */ "./node_modules/path-browserify/index.js"));
var FilePushHandler_1 = tslib_1.__importDefault(__webpack_require__(/*! ./FilePushHandler */ "./src/app/googDevice/filePush/FilePushHandler.ts"));
var AdbkitFilePushStream = (function (_super) {
    tslib_1.__extends(AdbkitFilePushStream, _super);
    function AdbkitFilePushStream(socket, fileListingClient) {
        var _this = _super.call(this) || this;
        _this.socket = socket;
        _this.fileListingClient = fileListingClient;
        _this.channels = new Map();
        return _this;
    }
    AdbkitFilePushStream.prototype.hasConnection = function () {
        return this.socket.readyState == this.socket.OPEN;
    };
    AdbkitFilePushStream.prototype.isAllowedFile = function () {
        return true;
    };
    AdbkitFilePushStream.prototype.getChannel = function (id) {
        var channel = this.channels.get(id);
        var code = FilePushResponseStatus_1.FilePushResponseStatus.NO_ERROR;
        if (!channel) {
            code = FilePushResponseStatus_1.FilePushResponseStatus.ERROR_UNKNOWN_ID;
        }
        if (code) {
            this.emit('response', { id: id, code: code });
            return;
        }
        return channel;
    };
    AdbkitFilePushStream.prototype.sendEventAppend = function (_a) {
        var id = _a.id, chunk = _a.chunk;
        var appendParams = { id: id, chunk: chunk, state: CommandControlMessage_1.FilePushState.APPEND };
        var channel = this.getChannel(id);
        if (!channel) {
            return;
        }
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(appendParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.sendEventFinish = function (_a) {
        var id = _a.id;
        var finishParams = { id: id, state: CommandControlMessage_1.FilePushState.FINISH };
        var channel = this.getChannel(id);
        if (!channel) {
            return;
        }
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(finishParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.sendEventNew = function (_a) {
        var _this = this;
        var id = _a.id;
        var pushId = id;
        var newParams = { id: id, state: CommandControlMessage_1.FilePushState.NEW };
        var channel = this.socket.createChannel(Buffer.from(protocol_1.default.SEND));
        var onMessage = function (event) {
            var offset = 0;
            var buffer = Buffer.from(event.data);
            var id = buffer.readInt16BE(offset);
            offset += 2;
            var code = buffer.readInt8(offset);
            if (code === FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID) {
                _this.channels.set(id, channel);
                pushId = id;
            }
            _this.emit('response', { id: id, code: code });
        };
        var onClose = function (event) {
            if (!event.wasClean) {
                var code = 4000 - event.code;
                _this.emit('error', {
                    id: pushId,
                    error: new Error(FilePushHandler_1.default.getErrorMessage(code, event.reason)),
                });
            }
            channel.removeEventListener('message', onMessage);
            channel.removeEventListener('close', onClose);
        };
        channel.addEventListener('message', onMessage);
        channel.addEventListener('close', onClose);
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(newParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.sendEventStart = function (_a) {
        var id = _a.id, fileName = _a.fileName, fileSize = _a.fileSize;
        var filePath = path.join(this.fileListingClient.getPath(), fileName);
        var startParams = { id: id, fileName: filePath, fileSize: fileSize, state: CommandControlMessage_1.FilePushState.START };
        var channel = this.getChannel(id);
        if (!channel) {
            return;
        }
        channel.send(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(startParams).toBuffer());
    };
    AdbkitFilePushStream.prototype.release = function () {
        this.channels.forEach(function (channel) {
            channel.close();
        });
    };
    return AdbkitFilePushStream;
}(FilePushStream_1.FilePushStream));
exports.AdbkitFilePushStream = AdbkitFilePushStream;


/***/ }),

/***/ "./src/app/googDevice/filePush/FilePushHandler.ts":
/*!********************************************************!*\
  !*** ./src/app/googDevice/filePush/FilePushHandler.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var DragAndDropHandler_1 = __webpack_require__(/*! ../DragAndDropHandler */ "./src/app/googDevice/DragAndDropHandler.ts");
var FilePushResponseStatus_1 = __webpack_require__(/*! ./FilePushResponseStatus */ "./src/app/googDevice/filePush/FilePushResponseStatus.ts");
var TAG = '[FilePushHandler]';
var FilePushHandler = (function () {
    function FilePushHandler(element, filePushStream) {
        var _this = this;
        this.element = element;
        this.filePushStream = filePushStream;
        this.responseWaiter = new Map();
        this.listeners = new Set();
        this.pushIdFileNameMap = new Map();
        this.onStreamError = function (_a) {
            var pushId = _a.id, error = _a.error;
            var fileName = _this.pushIdFileNameMap.get(pushId) || 'Unknown file';
            _this.sendUpdate({ pushId: pushId, fileName: fileName, message: error.message, progress: -1, error: true, finished: true });
        };
        this.onStreamResponse = function (response) {
            var func;
            var value;
            var code = response.code, idInResponse = response.id;
            var id = code === FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID ? FilePushHandler.REQUEST_NEW_PUSH_ID : response.id;
            var resolve = _this.responseWaiter.get(id);
            if (!resolve) {
                console.warn(TAG, "Unexpected push id: \"".concat(id, "\", ").concat(JSON.stringify(response)));
                return;
            }
            if (Array.isArray(resolve)) {
                func = resolve.shift();
                if (!resolve.length) {
                    _this.responseWaiter.delete(id);
                }
            }
            else {
                func = resolve;
                _this.responseWaiter.delete(id);
            }
            if (code === FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID) {
                value = { id: id, code: idInResponse };
            }
            else {
                value = { id: id, code: code };
            }
            func(value);
        };
        DragAndDropHandler_1.DragAndDropHandler.addEventListener(this);
        filePushStream.on('response', this.onStreamResponse);
        filePushStream.on('error', this.onStreamError);
    }
    FilePushHandler.prototype.sendUpdate = function (params) {
        if (params.error) {
            this.pushIdFileNameMap.delete(params.pushId);
        }
        this.listeners.forEach(function (listener) {
            listener.onFilePushUpdate(params);
        });
    };
    FilePushHandler.prototype.logError = function (pushId, fileName, code) {
        var msg = RESPONSE_CODES.get(code) || "Unknown error (".concat(code, ")");
        this.sendUpdate({ pushId: pushId, fileName: fileName, message: "error: \"".concat(msg, "\""), progress: -1, error: true, finished: true });
    };
    FilePushHandler.getStreamReader = function (file) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var blob, reader, result;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4, new Response(file).blob()];
                    case 1:
                        blob = _a.sent();
                        reader = blob.stream().getReader();
                        return [4, reader.read()];
                    case 2:
                        result = _a.sent();
                        return [2, { reader: reader, result: result }];
                }
            });
        });
    };
    FilePushHandler.prototype.pushFile = function (file) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var start, fileName, fileSize, id, pushId, waitPromise, _a, startResponseCode, _b, reader, result, receivedBytes, processData;
            var _this = this;
            return tslib_1.__generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        start = Date.now();
                        fileName = file.name, fileSize = file.size;
                        if (!this.filePushStream.hasConnection()) {
                            this.listeners.forEach(function (listener) {
                                listener.onError('WebSocket is not ready');
                            });
                            return [2];
                        }
                        id = FilePushHandler.REQUEST_NEW_PUSH_ID;
                        this.sendUpdate({ pushId: id, fileName: fileName, message: 'begins...', progress: 0, error: false, finished: false });
                        this.filePushStream.sendEventNew({ id: id });
                        return [4, this.waitForResponse(id)];
                    case 1:
                        pushId = (_c.sent()).code;
                        if (pushId <= 0) {
                            return [2, this.logError(pushId, fileName, pushId)];
                        }
                        this.pushIdFileNameMap.set(pushId, fileName);
                        waitPromise = this.waitForResponse(pushId);
                        this.filePushStream.sendEventStart({ id: pushId, fileName: fileName, fileSize: fileSize });
                        return [4, Promise.all([
                                waitPromise,
                                FilePushHandler.getStreamReader(file),
                            ])];
                    case 2:
                        _a = tslib_1.__read.apply(void 0, [_c.sent(), 2]), startResponseCode = _a[0].code, _b = _a[1], reader = _b.reader, result = _b.result;
                        if (startResponseCode !== FilePushResponseStatus_1.FilePushResponseStatus.NO_ERROR) {
                            this.logError(pushId, fileName, startResponseCode);
                            return [2];
                        }
                        receivedBytes = 0;
                        processData = function (_a) {
                            var done = _a.done, value = _a.value;
                            return tslib_1.__awaiter(_this, void 0, void 0, function () {
                                var finishResponseCode, _b, appendResponseCode, result, progress, message;
                                return tslib_1.__generator(this, function (_c) {
                                    switch (_c.label) {
                                        case 0:
                                            if (!(done || !value)) return [3, 2];
                                            this.filePushStream.sendEventFinish({ id: pushId });
                                            return [4, this.waitForResponse(pushId)];
                                        case 1:
                                            finishResponseCode = (_c.sent()).code;
                                            if (finishResponseCode !== 0) {
                                                this.logError(pushId, fileName, finishResponseCode);
                                            }
                                            else {
                                                this.sendUpdate({
                                                    pushId: pushId,
                                                    fileName: fileName,
                                                    message: 'success!',
                                                    progress: 100,
                                                    error: false,
                                                    finished: true,
                                                });
                                            }
                                            console.log(TAG, "File \"".concat(fileName, "\" uploaded in ").concat(Date.now() - start, "ms"));
                                            return [2];
                                        case 2:
                                            receivedBytes += value.length;
                                            this.filePushStream.sendEventAppend({ id: pushId, chunk: value });
                                            return [4, Promise.all([
                                                    this.waitForResponse(pushId),
                                                    reader.read(),
                                                ])];
                                        case 3:
                                            _b = tslib_1.__read.apply(void 0, [_c.sent(), 2]), appendResponseCode = _b[0].code, result = _b[1];
                                            if (appendResponseCode !== 0) {
                                                this.logError(pushId, fileName, appendResponseCode);
                                                return [2];
                                            }
                                            progress = (receivedBytes * 100) / fileSize;
                                            message = "".concat(progress.toFixed(2), "%");
                                            this.sendUpdate({ pushId: pushId, fileName: fileName, message: message, progress: progress, error: false, finished: false });
                                            return [2, processData(result)];
                                    }
                                });
                            });
                        };
                        return [2, processData(result)];
                }
            });
        });
    };
    FilePushHandler.prototype.waitForResponse = function (pushId) {
        var _this = this;
        return new Promise(function (resolve) {
            var stored = _this.responseWaiter.get(pushId);
            if (Array.isArray(stored)) {
                stored.push(resolve);
            }
            else if (stored) {
                var arr = [stored];
                arr.push(resolve);
                _this.responseWaiter.set(pushId, arr);
            }
            else {
                _this.responseWaiter.set(pushId, resolve);
            }
        });
    };
    FilePushHandler.prototype.onFilesDrop = function (files) {
        var _this = this;
        this.listeners.forEach(function (listener) {
            listener.onDrop();
        });
        files.forEach(function (file) {
            var type = file.type, name = file.name;
            if (_this.filePushStream.isAllowedFile(file)) {
                _this.pushFile(file);
            }
            else {
                var errorParams = {
                    pushId: FilePushHandler.REQUEST_NEW_PUSH_ID,
                    fileName: name,
                    message: "Unsupported type \"".concat(type, "\""),
                    progress: -1,
                    error: true,
                    finished: true,
                };
                _this.sendUpdate(errorParams);
            }
        });
        return true;
    };
    FilePushHandler.getErrorMessage = function (code, message) {
        return message || RESPONSE_CODES.get(code) || 'Unknown error';
    };
    FilePushHandler.prototype.onDragEnter = function () {
        var handled = false;
        this.listeners.forEach(function (listener) {
            handled = handled || listener.onDragEnter();
        });
        return handled;
    };
    FilePushHandler.prototype.onDragLeave = function () {
        var handled = false;
        this.listeners.forEach(function (listener) {
            handled = handled || listener.onDragLeave();
        });
        return handled;
    };
    FilePushHandler.prototype.getElement = function () {
        return this.element;
    };
    FilePushHandler.prototype.release = function () {
        this.filePushStream.off('response', this.onStreamResponse);
        this.filePushStream.off('error', this.onStreamError);
        this.filePushStream.release();
        DragAndDropHandler_1.DragAndDropHandler.removeEventListener(this);
        this.listeners.clear();
    };
    FilePushHandler.prototype.addEventListener = function (listener) {
        this.listeners.add(listener);
    };
    FilePushHandler.prototype.removeEventListener = function (listener) {
        this.listeners.delete(listener);
    };
    FilePushHandler.REQUEST_NEW_PUSH_ID = 0;
    return FilePushHandler;
}());
exports["default"] = FilePushHandler;
var RESPONSE_CODES = new Map([
    [FilePushResponseStatus_1.FilePushResponseStatus.NEW_PUSH_ID, 'New push id'],
    [FilePushResponseStatus_1.FilePushResponseStatus.NO_ERROR, 'No error'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_INVALID_NAME, 'Invalid name'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_NO_SPACE, 'No space'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FAILED_TO_DELETE, 'Failed to delete existing'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FAILED_TO_CREATE, 'Failed to create new file'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FILE_NOT_FOUND, 'File not found'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FAILED_TO_WRITE, 'Failed to write to file'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_FILE_IS_BUSY, 'File is busy'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_INVALID_STATE, 'Invalid state'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_UNKNOWN_ID, 'Unknown id'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_NO_FREE_ID, 'No free id'],
    [FilePushResponseStatus_1.FilePushResponseStatus.ERROR_INCORRECT_SIZE, 'Incorrect size'],
]);


/***/ }),

/***/ "./src/app/googDevice/filePush/FilePushResponseStatus.ts":
/*!***************************************************************!*\
  !*** ./src/app/googDevice/filePush/FilePushResponseStatus.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilePushResponseStatus = void 0;
var FilePushResponseStatus;
(function (FilePushResponseStatus) {
    FilePushResponseStatus[FilePushResponseStatus["NEW_PUSH_ID"] = 1] = "NEW_PUSH_ID";
    FilePushResponseStatus[FilePushResponseStatus["NO_ERROR"] = 0] = "NO_ERROR";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_INVALID_NAME"] = -1] = "ERROR_INVALID_NAME";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_NO_SPACE"] = -2] = "ERROR_NO_SPACE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FAILED_TO_DELETE"] = -3] = "ERROR_FAILED_TO_DELETE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FAILED_TO_CREATE"] = -4] = "ERROR_FAILED_TO_CREATE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FILE_NOT_FOUND"] = -5] = "ERROR_FILE_NOT_FOUND";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FAILED_TO_WRITE"] = -6] = "ERROR_FAILED_TO_WRITE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_FILE_IS_BUSY"] = -7] = "ERROR_FILE_IS_BUSY";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_INVALID_STATE"] = -8] = "ERROR_INVALID_STATE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_UNKNOWN_ID"] = -9] = "ERROR_UNKNOWN_ID";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_NO_FREE_ID"] = -10] = "ERROR_NO_FREE_ID";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_INCORRECT_SIZE"] = -11] = "ERROR_INCORRECT_SIZE";
    FilePushResponseStatus[FilePushResponseStatus["ERROR_OTHER"] = -12] = "ERROR_OTHER";
})(FilePushResponseStatus = exports.FilePushResponseStatus || (exports.FilePushResponseStatus = {}));


/***/ }),

/***/ "./src/app/googDevice/filePush/FilePushStream.ts":
/*!*******************************************************!*\
  !*** ./src/app/googDevice/filePush/FilePushStream.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilePushStream = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var TypedEmitter_1 = __webpack_require__(/*! ../../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var FilePushStream = (function (_super) {
    tslib_1.__extends(FilePushStream, _super);
    function FilePushStream() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return FilePushStream;
}(TypedEmitter_1.TypedEmitter));
exports.FilePushStream = FilePushStream;


/***/ }),

/***/ "./src/app/googDevice/filePush/ScrcpyFilePushStream.ts":
/*!*************************************************************!*\
  !*** ./src/app/googDevice/filePush/ScrcpyFilePushStream.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ScrcpyFilePushStream = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var FilePushStream_1 = __webpack_require__(/*! ./FilePushStream */ "./src/app/googDevice/filePush/FilePushStream.ts");
var DeviceMessage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../DeviceMessage */ "./src/app/googDevice/DeviceMessage.ts"));
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var ALLOWED_TYPES = ['application/vnd.android.package-archive'];
var ALLOWED_NAME_RE = /\.apk$/i;
var ScrcpyFilePushStream = (function (_super) {
    tslib_1.__extends(ScrcpyFilePushStream, _super);
    function ScrcpyFilePushStream(streamReceiver) {
        var _this = _super.call(this) || this;
        _this.streamReceiver = streamReceiver;
        _this.onDeviceMessage = function (ev) {
            if (ev.type !== DeviceMessage_1.default.TYPE_PUSH_RESPONSE) {
                return;
            }
            var stats = ev.getPushStats();
            _this.emit('response', stats);
        };
        streamReceiver.on('deviceMessage', _this.onDeviceMessage);
        return _this;
    }
    ScrcpyFilePushStream.prototype.hasConnection = function () {
        return this.streamReceiver.hasConnection();
    };
    ScrcpyFilePushStream.prototype.isAllowedFile = function (file) {
        var type = file.type, name = file.name;
        return (type && ALLOWED_TYPES.includes(type)) || (!type && ALLOWED_NAME_RE.test(name));
    };
    ScrcpyFilePushStream.prototype.sendEventAppend = function (_a) {
        var id = _a.id, chunk = _a.chunk;
        var appendParams = { id: id, chunk: chunk, state: CommandControlMessage_1.FilePushState.APPEND };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(appendParams));
    };
    ScrcpyFilePushStream.prototype.sendEventFinish = function (_a) {
        var id = _a.id;
        var finishParams = { id: id, state: CommandControlMessage_1.FilePushState.FINISH };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(finishParams));
    };
    ScrcpyFilePushStream.prototype.sendEventNew = function (_a) {
        var id = _a.id;
        var newParams = { id: id, state: CommandControlMessage_1.FilePushState.NEW };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(newParams));
    };
    ScrcpyFilePushStream.prototype.sendEventStart = function (_a) {
        var id = _a.id, fileName = _a.fileName, fileSize = _a.fileSize;
        var startParams = { id: id, fileName: fileName, fileSize: fileSize, state: CommandControlMessage_1.FilePushState.START };
        this.streamReceiver.sendEvent(CommandControlMessage_1.CommandControlMessage.createPushFileCommand(startParams));
    };
    ScrcpyFilePushStream.prototype.release = function () {
        this.streamReceiver.off('deviceMessage', this.onDeviceMessage);
    };
    return ScrcpyFilePushStream;
}(FilePushStream_1.FilePushStream));
exports.ScrcpyFilePushStream = ScrcpyFilePushStream;


/***/ }),

/***/ "./src/app/googDevice/toolbox/GoogMoreBox.ts":
/*!***************************************************!*\
  !*** ./src/app/googDevice/toolbox/GoogMoreBox.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GoogMoreBox = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../style/morebox.css */ "./src/style/morebox.css");
var BasePlayer_1 = __webpack_require__(/*! ../../player/BasePlayer */ "./src/app/player/BasePlayer.ts");
var TextControlMessage_1 = __webpack_require__(/*! ../../controlMessage/TextControlMessage */ "./src/app/controlMessage/TextControlMessage.ts");
var CommandControlMessage_1 = __webpack_require__(/*! ../../controlMessage/CommandControlMessage */ "./src/app/controlMessage/CommandControlMessage.ts");
var ControlMessage_1 = __webpack_require__(/*! ../../controlMessage/ControlMessage */ "./src/app/controlMessage/ControlMessage.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../Size */ "./src/app/Size.ts"));
var DeviceMessage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../DeviceMessage */ "./src/app/googDevice/DeviceMessage.ts"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../VideoSettings */ "./src/app/VideoSettings.ts"));
var TAG = '[GoogMoreBox]';
var GoogMoreBox = (function () {
    function GoogMoreBox(udid, player, client) {
        var e_1, _a;
        var _this = this;
        var _b, _c;
        this.player = player;
        this.client = client;
        this.onViewVideoResize = function (size) {
            _this.holder.style.width = "".concat(size.width - 2 * 10, "px");
        };
        this.onVideoSettings = function (videoSettings) {
            if (_this.bitrateInput) {
                _this.bitrateInput.value = videoSettings.bitrate.toString();
            }
            if (_this.maxFpsInput) {
                _this.maxFpsInput.value = videoSettings.maxFps.toString();
            }
            if (_this.iFrameIntervalInput) {
                _this.iFrameIntervalInput.value = videoSettings.iFrameInterval.toString();
            }
            if (videoSettings.bounds) {
                var _a = videoSettings.bounds, width = _a.width, height = _a.height;
                if (_this.maxWidthInput) {
                    _this.maxWidthInput.value = width.toString();
                }
                if (_this.maxHeightInput) {
                    _this.maxHeightInput.value = height.toString();
                }
            }
        };
        this.fit = function () {
            var _a = _this.client.getMaxSize() || GoogMoreBox.defaultSize, width = _a.width, height = _a.height;
            if (_this.maxWidthInput) {
                _this.maxWidthInput.value = width.toString();
            }
            if (_this.maxHeightInput) {
                _this.maxHeightInput.value = height.toString();
            }
        };
        this.reset = function () {
            var preferredSettings = _this.player.getPreferredVideoSetting();
            _this.onVideoSettings(preferredSettings);
        };
        var playerName = player.getName();
        var videoSettings = player.getVideoSettings();
        var displayId = videoSettings.displayId;
        var preferredSettings = player.getPreferredVideoSetting();
        var moreBox = document.createElement('div');
        moreBox.className = 'more-box';
        var nameBox = document.createElement('p');
        nameBox.innerText = "".concat(udid, " (").concat(playerName, ")");
        nameBox.className = 'text-with-shadow';
        moreBox.appendChild(nameBox);
        var input = (this.input = document.createElement('textarea'));
        input.classList.add('text-area');
        var sendButton = document.createElement('button');
        sendButton.innerText = 'Enviar como teclas';
        var inputWrapper = GoogMoreBox.wrap('p', [input, sendButton], moreBox);
        sendButton.onclick = function () {
            if (input.value) {
                client.sendMessage(new TextControlMessage_1.TextControlMessage(input.value));
            }
        };
        var commands = [];
        var codes = CommandControlMessage_1.CommandControlMessage.Commands;
        var _loop_1 = function (action, command) {
            var btn = document.createElement('button');
            var bitrateInput;
            var maxFpsInput;
            var iFrameIntervalInput;
            var maxWidthInput;
            var maxHeightInput;
            if (action === ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS) {
                var spoiler = document.createElement('div');
                var spoilerLabel = document.createElement('label');
                var spoilerCheck = document.createElement('input');
                var innerDiv = document.createElement('div');
                var id = "spoiler_video_".concat(udid, "_").concat(playerName, "_").concat(displayId, "_").concat(action);
                spoiler.className = 'spoiler';
                spoilerCheck.type = 'checkbox';
                spoilerCheck.id = id;
                spoilerLabel.htmlFor = id;
                spoilerLabel.innerText = command;
                innerDiv.className = 'box';
                spoiler.appendChild(spoilerCheck);
                spoiler.appendChild(spoilerLabel);
                spoiler.appendChild(innerDiv);
                var bitrateLabel = document.createElement('label');
                bitrateLabel.innerText = 'Bitrate:';
                bitrateInput = document.createElement('input');
                bitrateInput.placeholder = "".concat(preferredSettings.bitrate, " bps");
                bitrateInput.value = videoSettings.bitrate.toString();
                GoogMoreBox.wrap('div', [bitrateLabel, bitrateInput], innerDiv);
                this_1.bitrateInput = bitrateInput;
                var maxFpsLabel = document.createElement('label');
                maxFpsLabel.innerText = 'Max fps:';
                maxFpsInput = document.createElement('input');
                maxFpsInput.placeholder = "".concat(preferredSettings.maxFps, " fps");
                maxFpsInput.value = videoSettings.maxFps.toString();
                GoogMoreBox.wrap('div', [maxFpsLabel, maxFpsInput], innerDiv);
                this_1.maxFpsInput = maxFpsInput;
                var iFrameIntervalLabel = document.createElement('label');
                iFrameIntervalLabel.innerText = 'I-Frame Interval:';
                iFrameIntervalInput = document.createElement('input');
                iFrameIntervalInput.placeholder = "".concat(preferredSettings.iFrameInterval, " seconds");
                iFrameIntervalInput.value = videoSettings.iFrameInterval.toString();
                GoogMoreBox.wrap('div', [iFrameIntervalLabel, iFrameIntervalInput], innerDiv);
                this_1.iFrameIntervalInput = iFrameIntervalInput;
                var _g = videoSettings.bounds || client.getMaxSize() || GoogMoreBox.defaultSize, width = _g.width, height = _g.height;
                var pWidth = ((_b = preferredSettings.bounds) === null || _b === void 0 ? void 0 : _b.width) || width;
                var pHeight = ((_c = preferredSettings.bounds) === null || _c === void 0 ? void 0 : _c.height) || height;
                var maxWidthLabel = document.createElement('label');
                maxWidthLabel.innerText = 'Max width:';
                maxWidthInput = document.createElement('input');
                maxWidthInput.placeholder = "".concat(pWidth, " px");
                maxWidthInput.value = width.toString();
                GoogMoreBox.wrap('div', [maxWidthLabel, maxWidthInput], innerDiv);
                this_1.maxWidthInput = maxWidthInput;
                var maxHeightLabel = document.createElement('label');
                maxHeightLabel.innerText = 'Max height:';
                maxHeightInput = document.createElement('input');
                maxHeightInput.placeholder = "".concat(pHeight, " px");
                maxHeightInput.value = height.toString();
                GoogMoreBox.wrap('div', [maxHeightLabel, maxHeightInput], innerDiv);
                this_1.maxHeightInput = maxHeightInput;
                innerDiv.appendChild(btn);
                var fitButton = document.createElement('button');
                fitButton.innerText = 'Fit';
                fitButton.onclick = this_1.fit;
                innerDiv.insertBefore(fitButton, innerDiv.firstChild);
                var resetButton = document.createElement('button');
                resetButton.innerText = 'Reset';
                resetButton.onclick = this_1.reset;
                innerDiv.insertBefore(resetButton, innerDiv.firstChild);
                commands.push(spoiler);
            }
            else {
                if (action === CommandControlMessage_1.CommandControlMessage.TYPE_SET_CLIPBOARD ||
                    action === CommandControlMessage_1.CommandControlMessage.TYPE_GET_CLIPBOARD) {
                    inputWrapper.appendChild(btn);
                }
                else {
                    commands.push(btn);
                }
            }
            btn.innerText = command;
            if (action === ControlMessage_1.ControlMessage.TYPE_CHANGE_STREAM_PARAMETERS) {
                btn.onclick = function () {
                    var bitrate = parseInt(bitrateInput.value, 10);
                    var maxFps = parseInt(maxFpsInput.value, 10);
                    var iFrameInterval = parseInt(iFrameIntervalInput.value, 10);
                    if (isNaN(bitrate) || isNaN(maxFps)) {
                        return;
                    }
                    var width = parseInt(maxWidthInput.value, 10) & ~15;
                    var height = parseInt(maxHeightInput.value, 10) & ~15;
                    var bounds = new Size_1.default(width, height);
                    var current = player.getVideoSettings();
                    var lockedVideoOrientation = current.lockedVideoOrientation, sendFrameMeta = current.sendFrameMeta, displayId = current.displayId, codecOptions = current.codecOptions, encoderName = current.encoderName;
                    var videoSettings = new VideoSettings_1.default({
                        bounds: bounds,
                        bitrate: bitrate,
                        maxFps: maxFps,
                        iFrameInterval: iFrameInterval,
                        lockedVideoOrientation: lockedVideoOrientation,
                        sendFrameMeta: sendFrameMeta,
                        displayId: displayId,
                        codecOptions: codecOptions,
                        encoderName: encoderName,
                    });
                    client.sendNewVideoSetting(videoSettings);
                };
            }
            else if (action === CommandControlMessage_1.CommandControlMessage.TYPE_SET_CLIPBOARD) {
                btn.onclick = function () {
                    var text = input.value;
                    if (text) {
                        client.sendMessage(CommandControlMessage_1.CommandControlMessage.createSetClipboardCommand(text));
                    }
                };
            }
            else {
                btn.onclick = function () {
                    client.sendMessage(new CommandControlMessage_1.CommandControlMessage(action));
                };
            }
        };
        var this_1 = this;
        try {
            for (var _d = tslib_1.__values(codes.entries()), _e = _d.next(); !_e.done; _e = _d.next()) {
                var _f = tslib_1.__read(_e.value, 2), action = _f[0], command = _f[1];
                _loop_1(action, command);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
            }
            finally { if (e_1) throw e_1.error; }
        }
        GoogMoreBox.wrap('p', commands, moreBox);
        var screenPowerModeId = "screen_power_mode_".concat(udid, "_").concat(playerName, "_").concat(displayId);
        var screenPowerModeLabel = document.createElement('label');
        screenPowerModeLabel.style.display = 'none';
        var labelTextPrefix = 'Mode';
        var buttonTextPrefix = 'Ahorro de energía';
        var screenPowerModeCheck = document.createElement('input');
        screenPowerModeCheck.type = 'checkbox';
        var mode = (screenPowerModeCheck.checked = false) ? 'ON' : 'OFF';
        screenPowerModeCheck.id = screenPowerModeLabel.htmlFor = screenPowerModeId;
        screenPowerModeLabel.innerText = "".concat(labelTextPrefix, " ").concat(mode);
        screenPowerModeCheck.onchange = function () {
            mode = screenPowerModeCheck.checked ? 'ON' : 'OFF';
            screenPowerModeLabel.innerText = "".concat(labelTextPrefix, " ").concat(mode);
            sendScreenPowerModeButton.innerText = "".concat(buttonTextPrefix, " ").concat(mode);
        };
        var sendScreenPowerModeButton = document.createElement('button');
        sendScreenPowerModeButton.innerText = "".concat(buttonTextPrefix, " ").concat(mode);
        sendScreenPowerModeButton.onclick = function () {
            var message = CommandControlMessage_1.CommandControlMessage.createSetScreenPowerModeCommand(screenPowerModeCheck.checked);
            client.sendMessage(message);
        };
        GoogMoreBox.wrap('p', [screenPowerModeCheck, screenPowerModeLabel, sendScreenPowerModeButton], moreBox, [
            'flex-center',
        ]);
        var qualityId = "show_video_quality_".concat(udid, "_").concat(playerName, "_").concat(displayId);
        var qualityLabel = document.createElement('label');
        var qualityCheck = document.createElement('input');
        qualityCheck.type = 'checkbox';
        qualityCheck.checked = BasePlayer_1.BasePlayer.DEFAULT_SHOW_QUALITY_STATS;
        qualityCheck.id = qualityId;
        qualityLabel.htmlFor = qualityId;
        qualityLabel.innerText = 'Ver stats';
        GoogMoreBox.wrap('p', [qualityCheck, qualityLabel], moreBox, ['flex-center']);
        qualityCheck.onchange = function () {
            player.setShowQualityStats(qualityCheck.checked);
        };
        var stop = function (ev) {
            if (ev && ev instanceof Event && ev.type === 'error') {
                console.error(TAG, ev);
            }
            var parent = moreBox.parentElement;
            if (parent) {
                parent.removeChild(moreBox);
            }
            player.off('video-view-resize', _this.onViewVideoResize);
            if (_this.onStop) {
                _this.onStop();
                delete _this.onStop;
            }
        };
        var stopBtn = document.createElement('button');
        stopBtn.innerText = "Desconectar";
        stopBtn.onclick = stop;
        GoogMoreBox.wrap('p', [stopBtn], moreBox);
        player.on('video-view-resize', this.onViewVideoResize);
        player.on('video-settings', this.onVideoSettings);
        this.holder = moreBox;
    }
    GoogMoreBox.prototype.OnDeviceMessage = function (ev) {
        if (ev.type !== DeviceMessage_1.default.TYPE_CLIPBOARD) {
            return;
        }
        this.input.value = ev.getText();
        this.input.select();
        document.execCommand('copy');
    };
    GoogMoreBox.wrap = function (tagName, elements, parent, opt_classes) {
        var _a;
        var wrap = document.createElement(tagName);
        if (opt_classes) {
            (_a = wrap.classList).add.apply(_a, tslib_1.__spreadArray([], tslib_1.__read(opt_classes), false));
        }
        elements.forEach(function (e) {
            wrap.appendChild(e);
        });
        parent.appendChild(wrap);
        return wrap;
    };
    GoogMoreBox.prototype.getHolderElement = function () {
        return this.holder;
    };
    GoogMoreBox.prototype.setOnStop = function (listener) {
        this.onStop = listener;
    };
    GoogMoreBox.defaultSize = new Size_1.default(480, 800);
    return GoogMoreBox;
}());
exports.GoogMoreBox = GoogMoreBox;


/***/ }),

/***/ "./src/app/googDevice/toolbox/GoogToolBox.ts":
/*!***************************************************!*\
  !*** ./src/app/googDevice/toolbox/GoogToolBox.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GoogToolBox = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ToolBox_1 = __webpack_require__(/*! ../../toolbox/ToolBox */ "./src/app/toolbox/ToolBox.ts");
var KeyEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ../android/KeyEvent */ "./src/app/googDevice/android/KeyEvent.ts"));
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var KeyCodeControlMessage_1 = __webpack_require__(/*! ../../controlMessage/KeyCodeControlMessage */ "./src/app/controlMessage/KeyCodeControlMessage.ts");
var ToolBoxButton_1 = __webpack_require__(/*! ../../toolbox/ToolBoxButton */ "./src/app/toolbox/ToolBoxButton.ts");
var ToolBoxCheckbox_1 = __webpack_require__(/*! ../../toolbox/ToolBoxCheckbox */ "./src/app/toolbox/ToolBoxCheckbox.ts");
var BUTTONS = [
    {
        title: 'Apagar',
        code: KeyEvent_1.default.KEYCODE_POWER,
        icon: SvgImage_1.default.Icon.POWER,
    },
    {
        title: 'Subir Vol.',
        code: KeyEvent_1.default.KEYCODE_VOLUME_UP,
        icon: SvgImage_1.default.Icon.VOLUME_UP,
    },
    {
        title: 'Bajar Vol.',
        code: KeyEvent_1.default.KEYCODE_VOLUME_DOWN,
        icon: SvgImage_1.default.Icon.VOLUME_DOWN,
    },
    {
        title: 'Volver',
        code: KeyEvent_1.default.KEYCODE_BACK,
        icon: SvgImage_1.default.Icon.BACK,
    },
    {
        title: 'Home',
        code: KeyEvent_1.default.KEYCODE_HOME,
        icon: SvgImage_1.default.Icon.HOME,
    },
    {
        title: 'Switch',
        code: KeyEvent_1.default.KEYCODE_APP_SWITCH,
        icon: SvgImage_1.default.Icon.OVERVIEW,
    },
];
var GoogToolBox = (function (_super) {
    tslib_1.__extends(GoogToolBox, _super);
    function GoogToolBox(list) {
        return _super.call(this, list) || this;
    }
    GoogToolBox.createToolBox = function (udid, player, client, moreBox) {
        var playerName = player.getName();
        var list = BUTTONS.slice();
        var handler = function (type, element) {
            var _a;
            if (!((_a = element.optional) === null || _a === void 0 ? void 0 : _a.code)) {
                return;
            }
            var code = element.optional.code;
            var action = type === 'mousedown' ? KeyEvent_1.default.ACTION_DOWN : KeyEvent_1.default.ACTION_UP;
            var event = new KeyCodeControlMessage_1.KeyCodeControlMessage(action, code, 0, 0);
            client.sendMessage(event);
        };
        var elements = list.map(function (item) {
            var button = new ToolBoxButton_1.ToolBoxButton(item.title, item.icon, {
                code: item.code,
            });
            button.addEventListener('mousedown', handler);
            button.addEventListener('mouseup', handler);
            return button;
        });
        if (player.supportsScreenshot) {
            var screenshot = new ToolBoxButton_1.ToolBoxButton('Capturar pantalla', SvgImage_1.default.Icon.CAMERA);
            screenshot.addEventListener('click', function () {
                player.createScreenshot(client.getDeviceName());
            });
            elements.push(screenshot);
        }
        var keyboard = new ToolBoxCheckbox_1.ToolBoxCheckbox('Capture keyboard', SvgImage_1.default.Icon.KEYBOARD, "capture_keyboard_".concat(udid, "_").concat(playerName));
        keyboard.addEventListener('click', function (_, el) {
            var element = el.getElement();
            client.setHandleKeyboardEvents(element.checked);
        });
        elements.push(keyboard);
        if (moreBox) {
            var displayId = player.getVideoSettings().displayId;
            var id = "show_more_".concat(udid, "_").concat(playerName, "_").concat(displayId);
            var more = new ToolBoxCheckbox_1.ToolBoxCheckbox('Opciones', SvgImage_1.default.Icon.MORE, id);
            more.addEventListener('click', function (_, el) {
                var element = el.getElement();
                moreBox.style.display = element.checked ? 'block' : 'none';
            });
            elements.unshift(more);
        }
        return new GoogToolBox(elements);
    };
    return GoogToolBox;
}(ToolBox_1.ToolBox));
exports.GoogToolBox = GoogToolBox;


/***/ }),

/***/ "./src/app/interactionHandler/FeaturedInteractionHandler.ts":
/*!******************************************************************!*\
  !*** ./src/app/interactionHandler/FeaturedInteractionHandler.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FeaturedInteractionHandler = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var InteractionHandler_1 = __webpack_require__(/*! ./InteractionHandler */ "./src/app/interactionHandler/InteractionHandler.ts");
var MotionEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ../MotionEvent */ "./src/app/MotionEvent.ts"));
var ScrollControlMessage_1 = __webpack_require__(/*! ../controlMessage/ScrollControlMessage */ "./src/app/controlMessage/ScrollControlMessage.ts");
var TAG = '[FeaturedTouchHandler]';
var FeaturedInteractionHandler = (function (_super) {
    tslib_1.__extends(FeaturedInteractionHandler, _super);
    function FeaturedInteractionHandler(player, listener) {
        var _this = _super.call(this, player, FeaturedInteractionHandler.touchEventsNames, FeaturedInteractionHandler.keyEventsNames) || this;
        _this.listener = listener;
        _this.storedFromMouseEvent = new Map();
        _this.storedFromTouchEvent = new Map();
        _this.onMouseEnter = function () {
            _this.over = true;
        };
        _this.onMouseLeave = function () {
            _this.lastPosition = undefined;
            _this.over = false;
            _this.storedFromMouseEvent.forEach(function (message) {
                _this.listener.sendMessage(InteractionHandler_1.InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_UP, message));
            });
            _this.storedFromMouseEvent.clear();
            _this.clearCanvas();
        };
        _this.tag.addEventListener('mouseleave', _this.onMouseLeave);
        _this.tag.addEventListener('mouseenter', _this.onMouseEnter);
        return _this;
    }
    FeaturedInteractionHandler.prototype.buildScrollEvent = function (event, screenInfo) {
        var messages = [];
        var touchOnClient = InteractionHandler_1.InteractionHandler.buildTouchOnClient(event, screenInfo);
        if (touchOnClient) {
            var hScroll = event.deltaX > 0 ? -1 : event.deltaX < -0 ? 1 : 0;
            var vScroll = event.deltaY > 0 ? -1 : event.deltaY < -0 ? 1 : 0;
            var time = Date.now();
            if (!this.lastScrollEvent ||
                time - this.lastScrollEvent.time > FeaturedInteractionHandler.SCROLL_EVENT_THROTTLING_TIME ||
                this.lastScrollEvent.vScroll !== vScroll ||
                this.lastScrollEvent.hScroll !== hScroll) {
                this.lastScrollEvent = { time: time, hScroll: hScroll, vScroll: vScroll };
                messages.push(new ScrollControlMessage_1.ScrollControlMessage(touchOnClient.touch.position, hScroll, vScroll));
            }
        }
        return messages;
    };
    FeaturedInteractionHandler.prototype.onInteraction = function (event) {
        var _this = this;
        var screenInfo = this.player.getScreenInfo();
        if (!screenInfo) {
            return;
        }
        var messages;
        var storage;
        if (event instanceof MouseEvent) {
            if (event.target !== this.tag) {
                return;
            }
            if (window['WheelEvent'] && event instanceof WheelEvent) {
                messages = this.buildScrollEvent(event, screenInfo);
            }
            else {
                storage = this.storedFromMouseEvent;
                messages = this.buildTouchEvent(event, screenInfo, storage);
            }
            if (this.over) {
                this.lastPosition = event;
            }
        }
        else if (window['TouchEvent'] && event instanceof TouchEvent) {
            if (event.target !== this.tag) {
                return;
            }
            storage = this.storedFromTouchEvent;
            messages = this.formatTouchEvent(event, screenInfo, storage);
        }
        else {
            console.error(TAG, 'Unsupported event', event);
            return;
        }
        if (event.cancelable) {
            event.preventDefault();
        }
        event.stopPropagation();
        messages.forEach(function (message) {
            _this.listener.sendMessage(message);
        });
    };
    FeaturedInteractionHandler.prototype.onKey = function (event) {
        if (!this.lastPosition) {
            return;
        }
        var screenInfo = this.player.getScreenInfo();
        if (!screenInfo) {
            return;
        }
        var ctrlKey = event.ctrlKey, shiftKey = event.shiftKey;
        var _a = this.lastPosition, target = _a.target, button = _a.button, buttons = _a.buttons, clientY = _a.clientY, clientX = _a.clientX;
        var type = InteractionHandler_1.InteractionHandler.SIMULATE_MULTI_TOUCH;
        var props = { ctrlKey: ctrlKey, shiftKey: shiftKey, type: type, target: target, button: button, buttons: buttons, clientX: clientX, clientY: clientY };
        this.buildTouchEvent(props, screenInfo, new Map());
    };
    FeaturedInteractionHandler.prototype.release = function () {
        _super.prototype.release.call(this);
        this.tag.removeEventListener('mouseleave', this.onMouseLeave);
        this.tag.removeEventListener('mouseenter', this.onMouseEnter);
        this.storedFromMouseEvent.clear();
    };
    FeaturedInteractionHandler.touchEventsNames = [
        'touchstart',
        'touchend',
        'touchmove',
        'touchcancel',
        'mousedown',
        'mouseup',
        'mousemove',
        'wheel',
    ];
    FeaturedInteractionHandler.keyEventsNames = ['keydown', 'keyup'];
    FeaturedInteractionHandler.SCROLL_EVENT_THROTTLING_TIME = 30;
    return FeaturedInteractionHandler;
}(InteractionHandler_1.InteractionHandler));
exports.FeaturedInteractionHandler = FeaturedInteractionHandler;


/***/ }),

/***/ "./src/app/interactionHandler/InteractionHandler.ts":
/*!**********************************************************!*\
  !*** ./src/app/interactionHandler/InteractionHandler.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

var _a;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InteractionHandler = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var MotionEvent_1 = tslib_1.__importDefault(__webpack_require__(/*! ../MotionEvent */ "./src/app/MotionEvent.ts"));
var TouchControlMessage_1 = __webpack_require__(/*! ../controlMessage/TouchControlMessage */ "./src/app/controlMessage/TouchControlMessage.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var Point_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Point */ "./src/app/Point.ts"));
var Position_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Position */ "./src/app/Position.ts"));
var touch_point_png_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/multitouch/touch_point.png */ "./src/public/images/multitouch/touch_point.png"));
var center_point_png_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/multitouch/center_point.png */ "./src/public/images/multitouch/center_point.png"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var TAG = '[TouchHandler]';
var InteractionHandler = (function () {
    function InteractionHandler(player, touchEventsNames, keyEventsNames) {
        this.player = player;
        this.touchEventsNames = touchEventsNames;
        this.keyEventsNames = keyEventsNames;
        this.multiTouchActive = false;
        this.multiTouchShift = false;
        this.dirtyPlace = [];
        this.over = false;
        this.tag = player.getTouchableElement();
        this.ctx = this.tag.getContext('2d');
        InteractionHandler.loadImages();
        InteractionHandler.bindGlobalListeners(this);
    }
    InteractionHandler.bindGlobalListeners = function (interactionHandler) {
        var _this = this;
        interactionHandler.touchEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                set = new Set();
                document.body.addEventListener(eventName, _this.onInteractionEvent, InteractionHandler.options);
                _this.eventListeners.set(eventName, set);
            }
            set.add(interactionHandler);
        });
        interactionHandler.keyEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                set = new Set();
                document.body.addEventListener(eventName, _this.onKeyEvent);
                _this.eventListeners.set(eventName, set);
            }
            set.add(interactionHandler);
        });
    };
    InteractionHandler.unbindListeners = function (touchHandler) {
        var _this = this;
        touchHandler.touchEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                return;
            }
            set.delete(touchHandler);
            if (set.size <= 0) {
                _this.eventListeners.delete(eventName);
                document.body.removeEventListener(eventName, _this.onInteractionEvent);
            }
        });
        touchHandler.keyEventsNames.forEach(function (eventName) {
            var set = InteractionHandler.eventListeners.get(eventName);
            if (!set) {
                return;
            }
            set.delete(touchHandler);
            if (set.size <= 0) {
                _this.eventListeners.delete(eventName);
                document.body.removeEventListener(eventName, _this.onKeyEvent);
            }
        });
    };
    InteractionHandler.loadImages = function () {
        var _this = this;
        if (this.pointImagesLoaded) {
            return;
        }
        var total = 2;
        var current = 0;
        var onload = function (event) {
            if (++current === total) {
                _this.pointImagesLoaded = true;
            }
            if (event.target === _this.touchPointImage) {
                _this.touchPointRadius = _this.touchPointImage.width / 2;
            }
            else if (event.target === _this.centerPointImage) {
                _this.centerPointRadius = _this.centerPointImage.width / 2;
            }
        };
        var touch = (this.touchPointImage = new Image());
        touch.src = touch_point_png_1.default;
        touch.onload = onload;
        var center = (this.centerPointImage = new Image());
        center.src = center_point_png_1.default;
        center.onload = onload;
    };
    InteractionHandler.getPointerId = function (type, identifier) {
        if (this.idToPointerMap.has(identifier)) {
            var pointerId_1 = this.idToPointerMap.get(identifier);
            if (type === 'touchend' || type === 'touchcancel') {
                this.idToPointerMap.delete(identifier);
                this.pointerToIdMap.delete(pointerId_1);
            }
            return pointerId_1;
        }
        var pointerId = 0;
        while (this.pointerToIdMap.has(pointerId)) {
            pointerId++;
        }
        this.idToPointerMap.set(identifier, pointerId);
        this.pointerToIdMap.set(pointerId, identifier);
        return pointerId;
    };
    InteractionHandler.buildTouchOnClient = function (event, screenInfo) {
        var action = this.mapTypeToAction(event.type);
        var _a = screenInfo.videoSize, width = _a.width, height = _a.height;
        var target = event.target;
        var rect = target.getBoundingClientRect();
        var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
        var touchX = event.clientX - rect.left;
        var touchY = event.clientY - rect.top;
        var invalid = false;
        if (touchX < 0 || touchX > clientWidth || touchY < 0 || touchY > clientHeight) {
            invalid = true;
        }
        var eps = 1e5;
        var ratio = width / height;
        var shouldBe = Math.round(eps * ratio);
        var haveNow = Math.round((eps * clientWidth) / clientHeight);
        if (shouldBe > haveNow) {
            var realHeight = Math.ceil(clientWidth / ratio);
            var top_1 = (clientHeight - realHeight) / 2;
            if (touchY < top_1 || touchY > top_1 + realHeight) {
                invalid = true;
            }
            touchY -= top_1;
            clientHeight = realHeight;
        }
        else if (shouldBe < haveNow) {
            var realWidth = Math.ceil(clientHeight * ratio);
            var left = (clientWidth - realWidth) / 2;
            if (touchX < left || touchX > left + realWidth) {
                invalid = true;
            }
            touchX -= left;
            clientWidth = realWidth;
        }
        var x = (touchX * width) / clientWidth;
        var y = (touchY * height) / clientHeight;
        var size = new Size_1.default(width, height);
        var point = new Point_1.default(x, y);
        var position = new Position_1.default(point, size);
        if (x < 0 || y < 0 || x > width || y > height) {
            invalid = true;
        }
        return {
            client: {
                width: clientWidth,
                height: clientHeight,
            },
            touch: {
                invalid: invalid,
                action: action,
                position: position,
                buttons: event.buttons,
            },
        };
    };
    InteractionHandler.validateMessage = function (originalEvent, message, storage, logPrefix) {
        var messages = [];
        var action = message.action, pointerId = message.pointerId;
        var previous = storage.get(pointerId);
        if (action === MotionEvent_1.default.ACTION_UP) {
            if (!previous) {
                console.warn(logPrefix, 'Received ACTION_UP while there are no DOWN stored');
            }
            else {
                storage.delete(pointerId);
                messages.push(message);
            }
        }
        else if (action === MotionEvent_1.default.ACTION_DOWN) {
            if (previous) {
                console.warn(logPrefix, 'Received ACTION_DOWN while already has one stored');
            }
            else {
                storage.set(pointerId, message);
                messages.push(message);
            }
        }
        else if (action === MotionEvent_1.default.ACTION_MOVE) {
            if (!previous) {
                if ((originalEvent instanceof MouseEvent && originalEvent.buttons) ||
                    (window['TouchEvent'] && originalEvent instanceof TouchEvent)) {
                    console.warn(logPrefix, 'Received ACTION_MOVE while there are no DOWN stored');
                    var emulated = InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_DOWN, message);
                    messages.push(emulated);
                    storage.set(pointerId, emulated);
                }
            }
            else {
                messages.push(message);
                storage.set(pointerId, message);
            }
        }
        return messages;
    };
    InteractionHandler.createEmulatedMessage = function (action, event) {
        var pointerId = event.pointerId, position = event.position, buttons = event.buttons;
        var pressure = event.pressure;
        if (action === MotionEvent_1.default.ACTION_UP) {
            pressure = 0;
        }
        return new TouchControlMessage_1.TouchControlMessage(action, pointerId, position, pressure, buttons);
    };
    InteractionHandler.mapTypeToAction = function (type) {
        return this.EVENT_ACTION_MAP[type];
    };
    InteractionHandler.prototype.getTouch = function (e, screenInfo, ctrlKey, shiftKey) {
        var touchOnClient = InteractionHandler.buildTouchOnClient(e, screenInfo);
        if (!touchOnClient) {
            return null;
        }
        var client = touchOnClient.client, touch = touchOnClient.touch;
        var result = [touch];
        if (!ctrlKey) {
            this.multiTouchActive = false;
            this.multiTouchCenter = undefined;
            this.multiTouchShift = false;
            this.clearCanvas();
            return result;
        }
        var position = touch.position, action = touch.action, buttons = touch.buttons;
        var point = position.point, screenSize = position.screenSize;
        var width = screenSize.width, height = screenSize.height;
        var x = point.x, y = point.y;
        if (!this.multiTouchActive) {
            if (shiftKey) {
                this.multiTouchCenter = point;
                this.multiTouchShift = true;
            }
            else {
                this.multiTouchCenter = new Point_1.default(client.width / 2, client.height / 2);
            }
        }
        this.multiTouchActive = true;
        var opposite;
        var invalid = false;
        if (this.multiTouchShift && this.multiTouchCenter) {
            var oppoX = 2 * this.multiTouchCenter.x - x;
            var oppoY = 2 * this.multiTouchCenter.y - y;
            opposite = new Point_1.default(oppoX, oppoY);
            if (!(oppoX <= width && oppoX >= 0 && oppoY <= height && oppoY >= 0)) {
                invalid = true;
            }
        }
        else {
            opposite = new Point_1.default(client.width - x, client.height - y);
            invalid = touch.invalid;
        }
        if (opposite) {
            result.push({
                invalid: invalid,
                action: action,
                buttons: buttons,
                position: new Position_1.default(opposite, screenSize),
            });
        }
        return result;
    };
    InteractionHandler.prototype.drawCircle = function (ctx, point, radius) {
        ctx.beginPath();
        ctx.arc(point.x, point.y, radius, 0, Math.PI * 2, true);
        ctx.stroke();
    };
    InteractionHandler.prototype.drawLine = function (point1, point2) {
        if (!this.ctx) {
            return;
        }
        this.ctx.save();
        this.ctx.strokeStyle = InteractionHandler.STROKE_STYLE;
        this.ctx.beginPath();
        this.ctx.moveTo(point1.x, point1.y);
        this.ctx.lineTo(point2.x, point2.y);
        this.ctx.stroke();
        this.ctx.restore();
    };
    InteractionHandler.prototype.drawPoint = function (point, radius, image) {
        if (!this.ctx) {
            return;
        }
        var lineWidth = this.ctx.lineWidth;
        if (InteractionHandler.pointImagesLoaded && image) {
            radius = image.width / 2;
            lineWidth = 0;
            this.ctx.drawImage(image, point.x - radius, point.y - radius);
        }
        else {
            this.drawCircle(this.ctx, point, radius);
        }
        var topLeft = new Point_1.default(point.x - radius - lineWidth, point.y - radius - lineWidth);
        var bottomRight = new Point_1.default(point.x + radius + lineWidth, point.y + radius + lineWidth);
        this.updateDirty(topLeft, bottomRight);
    };
    InteractionHandler.prototype.drawPointer = function (point) {
        this.drawPoint(point, InteractionHandler.touchPointRadius, InteractionHandler.touchPointImage);
        if (this.multiTouchCenter) {
            this.drawLine(this.multiTouchCenter, point);
        }
    };
    InteractionHandler.prototype.drawCenter = function (point) {
        this.drawPoint(point, InteractionHandler.centerPointRadius, InteractionHandler.centerPointImage);
    };
    InteractionHandler.prototype.updateDirty = function (topLeft, bottomRight) {
        if (!this.dirtyPlace.length) {
            this.dirtyPlace.push(topLeft, bottomRight);
            return;
        }
        var currentTopLeft = this.dirtyPlace[0];
        var currentBottomRight = this.dirtyPlace[1];
        var newTopLeft = new Point_1.default(Math.min(currentTopLeft.x, topLeft.x), Math.min(currentTopLeft.y, topLeft.y));
        var newBottomRight = new Point_1.default(Math.max(currentBottomRight.x, bottomRight.x), Math.max(currentBottomRight.y, bottomRight.y));
        this.dirtyPlace.length = 0;
        this.dirtyPlace.push(newTopLeft, newBottomRight);
    };
    InteractionHandler.prototype.clearCanvas = function () {
        var _a = this.tag, clientWidth = _a.clientWidth, clientHeight = _a.clientHeight;
        var ctx = this.ctx;
        if (ctx && this.dirtyPlace.length) {
            var topLeft = this.dirtyPlace[0];
            var bottomRight = this.dirtyPlace[1];
            this.dirtyPlace.length = 0;
            var x = Math.max(topLeft.x, 0);
            var y = Math.max(topLeft.y, 0);
            var w = Math.min(clientWidth, bottomRight.x - x);
            var h = Math.min(clientHeight, bottomRight.y - y);
            ctx.clearRect(x, y, w, h);
            ctx.strokeStyle = InteractionHandler.STROKE_STYLE;
        }
    };
    InteractionHandler.prototype.formatTouchEvent = function (e, screenInfo, storage) {
        var logPrefix = "".concat(TAG, "[formatTouchEvent]");
        var messages = [];
        var touches = e.changedTouches;
        if (touches && touches.length) {
            for (var i = 0, l = touches.length; i < l; i++) {
                var touch = touches[i];
                var pointerId = InteractionHandler.getPointerId(e.type, touch.identifier);
                if (touch.target !== this.tag) {
                    continue;
                }
                var previous = storage.get(pointerId);
                var item = {
                    clientX: touch.clientX,
                    clientY: touch.clientY,
                    type: e.type,
                    buttons: MotionEvent_1.default.BUTTON_PRIMARY,
                    target: e.target,
                };
                var event_1 = InteractionHandler.buildTouchOnClient(item, screenInfo);
                if (event_1) {
                    var _a = event_1.touch, action = _a.action, buttons = _a.buttons, position = _a.position, invalid = _a.invalid;
                    var pressure = 1;
                    if (action === MotionEvent_1.default.ACTION_UP) {
                        pressure = 0;
                    }
                    else if (typeof touch.force === 'number') {
                        pressure = touch.force;
                    }
                    if (!invalid) {
                        var message = new TouchControlMessage_1.TouchControlMessage(action, pointerId, position, pressure, buttons);
                        messages.push.apply(messages, tslib_1.__spreadArray([], tslib_1.__read(InteractionHandler.validateMessage(e, message, storage, "".concat(logPrefix, "[validate]"))), false));
                    }
                    else {
                        if (previous) {
                            messages.push(InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_UP, previous));
                            storage.delete(pointerId);
                        }
                    }
                }
                else {
                    console.error(logPrefix, "Failed to format touch", touch);
                }
            }
        }
        else {
            console.error(logPrefix, 'No "touches"', e);
        }
        return messages;
    };
    InteractionHandler.prototype.buildTouchEvent = function (e, screenInfo, storage) {
        var _this = this;
        var logPrefix = "".concat(TAG, "[buildTouchEvent]");
        var touches = this.getTouch(e, screenInfo, e.ctrlKey, e.shiftKey);
        if (!touches) {
            return [];
        }
        var messages = [];
        var points = [];
        this.clearCanvas();
        touches.forEach(function (touch, pointerId) {
            var action = touch.action, buttons = touch.buttons, position = touch.position;
            var previous = storage.get(pointerId);
            if (!touch.invalid) {
                var pressure = 1.0;
                if (action === MotionEvent_1.default.ACTION_UP) {
                    pressure = 0;
                }
                var message = new TouchControlMessage_1.TouchControlMessage(action, pointerId, position, pressure, buttons);
                messages.push.apply(messages, tslib_1.__spreadArray([], tslib_1.__read(InteractionHandler.validateMessage(e, message, storage, "".concat(logPrefix, "[validate]"))), false));
                points.push(touch.position.point);
            }
            else {
                if (previous) {
                    points.push(previous.position.point);
                }
            }
        });
        if (this.multiTouchActive) {
            if (this.multiTouchCenter) {
                this.drawCenter(this.multiTouchCenter);
            }
            points.forEach(function (point) {
                _this.drawPointer(point);
            });
        }
        var hasActionUp = messages.find(function (message) {
            return message.action === MotionEvent_1.default.ACTION_UP;
        });
        if (hasActionUp && storage.size) {
            console.warn(logPrefix, 'Looks like one of Multi-touch pointers was not raised up');
            storage.forEach(function (message) {
                messages.push(InteractionHandler.createEmulatedMessage(MotionEvent_1.default.ACTION_UP, message));
            });
            storage.clear();
        }
        return messages;
    };
    InteractionHandler.prototype.release = function () {
        InteractionHandler.unbindListeners(this);
    };
    InteractionHandler.SIMULATE_MULTI_TOUCH = 'SIMULATE_MULTI_TOUCH';
    InteractionHandler.STROKE_STYLE = '#00BEA4';
    InteractionHandler.EVENT_ACTION_MAP = (_a = {
            touchstart: MotionEvent_1.default.ACTION_DOWN,
            touchend: MotionEvent_1.default.ACTION_UP,
            touchmove: MotionEvent_1.default.ACTION_MOVE,
            touchcancel: MotionEvent_1.default.ACTION_UP,
            mousedown: MotionEvent_1.default.ACTION_DOWN,
            mousemove: MotionEvent_1.default.ACTION_MOVE,
            mouseup: MotionEvent_1.default.ACTION_UP
        },
        _a[InteractionHandler.SIMULATE_MULTI_TOUCH] = -1,
        _a);
    InteractionHandler.options = Util_1.default.supportsPassive() ? { passive: false } : false;
    InteractionHandler.idToPointerMap = new Map();
    InteractionHandler.pointerToIdMap = new Map();
    InteractionHandler.touchPointRadius = 10;
    InteractionHandler.centerPointRadius = 5;
    InteractionHandler.pointImagesLoaded = false;
    InteractionHandler.eventListeners = new Map();
    InteractionHandler.onInteractionEvent = function (event) {
        var set = InteractionHandler.eventListeners.get(event.type);
        if (!set) {
            return;
        }
        set.forEach(function (instance) {
            instance.onInteraction(event);
        });
    };
    InteractionHandler.onKeyEvent = function (event) {
        var set = InteractionHandler.eventListeners.get(event.type);
        if (!set) {
            return;
        }
        set.forEach(function (instance) {
            instance.onKey(event);
        });
    };
    return InteractionHandler;
}());
exports.InteractionHandler = InteractionHandler;


/***/ }),

/***/ "./src/app/player/BaseCanvasBasedPlayer.ts":
/*!*************************************************!*\
  !*** ./src/app/player/BaseCanvasBasedPlayer.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseCanvasBasedPlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BasePlayer_1 = __webpack_require__(/*! ./BasePlayer */ "./src/app/player/BasePlayer.ts");
var BaseCanvasBasedPlayer = (function (_super) {
    tslib_1.__extends(BaseCanvasBasedPlayer, _super);
    function BaseCanvasBasedPlayer(udid, displayInfo, name, storageKeyPrefix, tag) {
        if (name === void 0) { name = 'Canvas'; }
        if (storageKeyPrefix === void 0) { storageKeyPrefix = 'DummyCanvas'; }
        if (tag === void 0) { tag = BaseCanvasBasedPlayer.createElement(); }
        var _this = _super.call(this, udid, displayInfo, name, storageKeyPrefix, tag) || this;
        _this.tag = tag;
        _this.framesList = [];
        _this.decodedFrames = [];
        _this.videoStats = [];
        _this.drawDecoded = function () {
            if (!_this.canvas) {
                return;
            }
            if (_this.receivedFirstFrame) {
                var data = _this.decodedFrames.shift();
                if (data) {
                    var frame = data.frame, width = data.width, height = data.height;
                    _this.canvas.decode(frame, width, height);
                }
            }
            if (_this.decodedFrames.length) {
                _this.animationFrameId = requestAnimationFrame(_this.drawDecoded);
            }
            else {
                _this.animationFrameId = undefined;
            }
        };
        return _this;
    }
    BaseCanvasBasedPlayer.hasWebGLSupport = function () {
        var testCanvas = document.createElement('canvas');
        var validContextNames = ['webgl', 'experimental-webgl', 'moz-webgl', 'webkit-3d'];
        var index = 0;
        var gl = null;
        while (!gl && index++ < validContextNames.length) {
            try {
                gl = testCanvas.getContext(validContextNames[index]);
            }
            catch (error) {
                gl = null;
            }
        }
        return !!gl;
    };
    BaseCanvasBasedPlayer.createElement = function (id) {
        var tag = document.createElement('canvas');
        if (typeof id === 'string') {
            tag.id = id;
        }
        tag.className = 'video-layer';
        return tag;
    };
    BaseCanvasBasedPlayer.prototype.onFrameDecoded = function (width, height, frame) {
        if (!this.receivedFirstFrame) {
            return;
        }
        var dropped = 0;
        var maxStored = this.videoSettings.maxFps / 10;
        while (this.decodedFrames.length > maxStored) {
            var data = this.decodedFrames.shift();
            if (data) {
                this.dropFrame(data.frame);
                dropped++;
            }
        }
        this.decodedFrames.push({ width: width, height: height, frame: frame });
        this.videoStats.push({
            decodedFrames: 1,
            droppedFrames: dropped,
            inputBytes: 0,
            inputFrames: 0,
            timestamp: Date.now(),
        });
        if (!this.animationFrameId) {
            this.animationFrameId = requestAnimationFrame(this.drawDecoded);
        }
    };
    BaseCanvasBasedPlayer.prototype.dropFrame = function (_frame) {
    };
    BaseCanvasBasedPlayer.prototype.shiftFrame = function () {
        if (this.getState() !== BasePlayer_1.BasePlayer.STATE.PLAYING) {
            return;
        }
        var first = this.framesList.shift();
        if (first) {
            this.decode(first);
        }
    };
    BaseCanvasBasedPlayer.prototype.calculateMomentumStats = function () {
        var timestamp = Date.now();
        var oneSecondBefore = timestamp - 1000;
        while (this.videoStats.length && this.videoStats[0].timestamp < oneSecondBefore) {
            this.videoStats.shift();
        }
        while (this.inputBytes.length && this.inputBytes[0].timestamp < oneSecondBefore) {
            this.inputBytes.shift();
        }
        var decodedFrames = 0;
        var droppedFrames = 0;
        var inputBytes = 0;
        this.videoStats.forEach(function (item) {
            decodedFrames += item.decodedFrames;
            droppedFrames += item.droppedFrames;
        });
        this.inputBytes.forEach(function (item) {
            inputBytes += item.bytes;
        });
        this.momentumQualityStats = {
            decodedFrames: decodedFrames,
            droppedFrames: droppedFrames,
            inputFrames: this.inputBytes.length,
            inputBytes: inputBytes,
            timestamp: timestamp,
        };
    };
    BaseCanvasBasedPlayer.prototype.resetStats = function () {
        _super.prototype.resetStats.call(this);
        this.videoStats = [];
    };
    BaseCanvasBasedPlayer.prototype.getImageDataURL = function () {
        return this.tag.toDataURL();
    };
    BaseCanvasBasedPlayer.prototype.initCanvas = function (width, height) {
        var _this = this;
        if (this.canvas) {
            var parent_1 = this.tag.parentNode;
            if (parent_1) {
                var tag = BaseCanvasBasedPlayer.createElement(this.tag.id);
                tag.className = this.tag.className;
                parent_1.replaceChild(tag, this.tag);
                parent_1.appendChild(this.touchableCanvas);
                this.tag = tag;
            }
        }
        this.tag.onerror = function (event) {
            console.error("[".concat(_this.name, "]"), event);
        };
        this.tag.oncontextmenu = function (event) {
            event.preventDefault();
        };
        this.tag.width = Math.round(width);
        this.tag.height = Math.round(height);
    };
    BaseCanvasBasedPlayer.prototype.play = function () {
        _super.prototype.play.call(this);
        if (this.getState() !== BasePlayer_1.BasePlayer.STATE.PLAYING || !this.screenInfo) {
            return;
        }
        if (!this.canvas) {
            var _a = this.screenInfo.videoSize, width = _a.width, height = _a.height;
            this.initCanvas(width, height);
            this.resetStats();
        }
        this.shiftFrame();
    };
    BaseCanvasBasedPlayer.prototype.stop = function () {
        _super.prototype.stop.call(this);
        this.clearState();
    };
    BaseCanvasBasedPlayer.prototype.setScreenInfo = function (screenInfo) {
        _super.prototype.setScreenInfo.call(this, screenInfo);
        this.clearState();
        var _a = screenInfo.videoSize, width = _a.width, height = _a.height;
        this.initCanvas(width, height);
        this.framesList = [];
        if (this.animationFrameId) {
            cancelAnimationFrame(this.animationFrameId);
            this.animationFrameId = undefined;
        }
    };
    BaseCanvasBasedPlayer.prototype.pushFrame = function (frame) {
        _super.prototype.pushFrame.call(this, frame);
        if (BasePlayer_1.BasePlayer.isIFrame(frame)) {
            if (this.videoSettings) {
                var maxFps = this.videoSettings.maxFps;
                if (this.framesList.length > maxFps / 2) {
                    var dropped = this.framesList.length;
                    this.framesList = [];
                    this.videoStats.push({
                        decodedFrames: 0,
                        droppedFrames: dropped,
                        inputBytes: 0,
                        inputFrames: 0,
                        timestamp: Date.now(),
                    });
                }
            }
        }
        this.framesList.push(frame);
        this.shiftFrame();
    };
    BaseCanvasBasedPlayer.prototype.clearState = function () {
        this.framesList = [];
    };
    return BaseCanvasBasedPlayer;
}(BasePlayer_1.BasePlayer));
exports.BaseCanvasBasedPlayer = BaseCanvasBasedPlayer;


/***/ }),

/***/ "./src/app/player/BasePlayer.ts":
/*!**************************************!*\
  !*** ./src/app/player/BasePlayer.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BasePlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var ScreenInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ScreenInfo */ "./src/app/ScreenInfo.ts"));
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Rect */ "./src/app/Rect.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Util */ "./src/app/Util.ts"));
var TypedEmitter_1 = __webpack_require__(/*! ../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var DisplayInfo_1 = __webpack_require__(/*! ../DisplayInfo */ "./src/app/DisplayInfo.ts");
var BasePlayer = (function (_super) {
    tslib_1.__extends(BasePlayer, _super);
    function BasePlayer(udid, displayInfo, name, storageKeyPrefix, tag) {
        if (name === void 0) { name = 'BasePlayer'; }
        if (storageKeyPrefix === void 0) { storageKeyPrefix = 'Dummy'; }
        if (tag === void 0) { tag = document.createElement('div'); }
        var _this = _super.call(this) || this;
        _this.udid = udid;
        _this.displayInfo = displayInfo;
        _this.name = name;
        _this.storageKeyPrefix = storageKeyPrefix;
        _this.tag = tag;
        _this.inputBytes = [];
        _this.bounds = null;
        _this.totalStats = {
            decodedFrames: 0,
            droppedFrames: 0,
            inputFrames: 0,
            inputBytes: 0,
            timestamp: 0,
        };
        _this.totalStatsCounter = 0;
        _this.dirtyStatsWidth = 0;
        _this.state = BasePlayer.STATE.STOPPED;
        _this.showQualityStats = BasePlayer.DEFAULT_SHOW_QUALITY_STATS;
        _this.receivedFirstFrame = false;
        _this.statLines = [];
        _this.supportsScreenshot = false;
        _this.resizeVideoToBounds = false;
        _this.videoHeight = -1;
        _this.videoWidth = -1;
        _this.updateQualityStats = function () {
            var now = Date.now();
            var oneSecondBefore = now - 1000;
            _this.calculateMomentumStats();
            if (!_this.momentumQualityStats) {
                return;
            }
            if (_this.totalStats.timestamp < oneSecondBefore) {
                _this.totalStats = {
                    timestamp: now,
                    decodedFrames: _this.totalStats.decodedFrames + _this.momentumQualityStats.decodedFrames,
                    droppedFrames: _this.totalStats.droppedFrames + _this.momentumQualityStats.droppedFrames,
                    inputFrames: _this.totalStats.inputFrames + _this.momentumQualityStats.inputFrames,
                    inputBytes: _this.totalStats.inputBytes + _this.momentumQualityStats.inputBytes,
                };
                if (_this.totalStatsCounter !== 0) {
                    _this.perSecondQualityStats = {
                        avgDecoded: _this.totalStats.decodedFrames / _this.totalStatsCounter,
                        avgDropped: _this.totalStats.droppedFrames / _this.totalStatsCounter,
                        avgInput: _this.totalStats.inputFrames / _this.totalStatsCounter,
                        avgSize: _this.totalStats.inputBytes / _this.totalStatsCounter,
                    };
                }
                _this.totalStatsCounter++;
            }
            _this.drawStats();
            if (_this.state !== BasePlayer.STATE.STOPPED) {
                _this.qualityAnimationId = requestAnimationFrame(_this.updateQualityStats);
            }
        };
        _this.touchableCanvas = document.createElement('canvas');
        _this.touchableCanvas.className = 'touch-layer';
        _this.touchableCanvas.oncontextmenu = function (event) {
            event.preventDefault();
        };
        var preferred = _this.getPreferredVideoSetting();
        _this.videoSettings = BasePlayer.getVideoSettingFromStorage(preferred, _this.storageKeyPrefix, udid, displayInfo);
        return _this;
    }
    BasePlayer.isSupported = function () {
        return false;
    };
    BasePlayer.prototype.calculateScreenInfoForBounds = function (videoWidth, videoHeight) {
        this.videoWidth = videoWidth;
        this.videoHeight = videoHeight;
        if (this.resizeVideoToBounds) {
            var w = videoWidth;
            var h = videoHeight;
            if (this.bounds) {
                var _a = this.bounds, boundsWidth = _a.w, boundsHeight = _a.h;
                if (w > boundsWidth || h > boundsHeight) {
                    var scaledHeight = void 0;
                    var scaledWidth = void 0;
                    if (boundsWidth > w) {
                        scaledHeight = h;
                    }
                    else {
                        scaledHeight = (boundsWidth * h) / w;
                    }
                    if (boundsHeight > scaledHeight) {
                        boundsHeight = scaledHeight;
                    }
                    if (boundsHeight == h) {
                        scaledWidth = w;
                    }
                    else {
                        scaledWidth = (boundsHeight * w) / h;
                    }
                    if (boundsWidth > scaledWidth) {
                        boundsWidth = scaledWidth;
                    }
                    w = boundsWidth | 0;
                    h = boundsHeight | 0;
                    this.tag.style.maxWidth = "".concat(w, "px");
                    this.tag.style.maxHeight = "".concat(h, "px");
                }
            }
            var realScreen = new ScreenInfo_1.default(new Rect_1.default(0, 0, videoWidth, videoHeight), new Size_1.default(w, h), 0);
            this.emit('input-video-resize', realScreen);
            this.setScreenInfo(new ScreenInfo_1.default(new Rect_1.default(0, 0, w, h), new Size_1.default(w, h), 0));
        }
    };
    BasePlayer.isIFrame = function (frame) {
        return frame && frame.length > 4 && (frame[4] & 31) === 5;
    };
    BasePlayer.getStorageKey = function (storageKeyPrefix, udid) {
        var innerHeight = window.innerHeight, innerWidth = window.innerWidth;
        return "".concat(storageKeyPrefix, ":").concat(udid, ":").concat(innerWidth, "x").concat(innerHeight);
    };
    BasePlayer.getFullStorageKey = function (storageKeyPrefix, udid, displayInfo) {
        var innerHeight = window.innerHeight, innerWidth = window.innerWidth;
        var base = "".concat(storageKeyPrefix, ":").concat(udid, ":").concat(innerWidth, "x").concat(innerHeight);
        if (displayInfo) {
            var displayId = displayInfo.displayId, size = displayInfo.size;
            base = "".concat(base, ":").concat(displayId, ":").concat(size.width, "x").concat(size.height);
        }
        return base;
    };
    BasePlayer.getFromStorageCompat = function (prefix, udid, displayInfo) {
        var shortKey = this.getStorageKey(prefix, udid);
        var savedInShort = window.localStorage.getItem(shortKey);
        if (!displayInfo) {
            return savedInShort;
        }
        var isDefaultDisplay = displayInfo.displayId === DisplayInfo_1.DisplayInfo.DEFAULT_DISPLAY;
        var fullKey = this.getFullStorageKey(prefix, udid, displayInfo);
        var savedInFull = window.localStorage.getItem(fullKey);
        if (savedInFull) {
            if (savedInShort && isDefaultDisplay) {
                window.localStorage.removeItem(shortKey);
            }
            return savedInFull;
        }
        if (isDefaultDisplay) {
            return savedInShort;
        }
        return null;
    };
    BasePlayer.getFitToScreenFromStorage = function (storageKeyPrefix, udid, displayInfo) {
        if (!window.localStorage) {
            return false;
        }
        var parsedValue = false;
        var key = "".concat(this.getFullStorageKey(storageKeyPrefix, udid, displayInfo), ":fit");
        var saved = window.localStorage.getItem(key);
        if (!saved) {
            return false;
        }
        try {
            parsedValue = JSON.parse(saved);
        }
        catch (error) {
            console.error("[".concat(this.name, "]"), 'Failed to parse', saved);
        }
        return parsedValue;
    };
    BasePlayer.getVideoSettingFromStorage = function (preferred, storageKeyPrefix, udid, displayInfo) {
        if (!window.localStorage) {
            return preferred;
        }
        var saved = this.getFromStorageCompat(storageKeyPrefix, udid, displayInfo);
        if (!saved) {
            return preferred;
        }
        var parsed = JSON.parse(saved);
        var displayId = parsed.displayId, crop = parsed.crop, bitrate = parsed.bitrate, iFrameInterval = parsed.iFrameInterval, sendFrameMeta = parsed.sendFrameMeta, lockedVideoOrientation = parsed.lockedVideoOrientation, codecOptions = parsed.codecOptions, encoderName = parsed.encoderName;
        var maxFps = isNaN(parsed.maxFps) ? parsed.frameRate : parsed.maxFps;
        var bounds = null;
        if (typeof parsed.bounds !== 'object' || isNaN(parsed.bounds.width) || isNaN(parsed.bounds.height)) {
            if (!isNaN(parsed.maxSize)) {
                bounds = new Size_1.default(parsed.maxSize, parsed.maxSize);
            }
        }
        else {
            bounds = new Size_1.default(parsed.bounds.width, parsed.bounds.height);
        }
        return new VideoSettings_1.default({
            displayId: typeof displayId === 'number' ? displayId : 0,
            crop: crop ? new Rect_1.default(crop.left, crop.top, crop.right, crop.bottom) : preferred.crop,
            bitrate: !isNaN(bitrate) ? bitrate : preferred.bitrate,
            bounds: bounds !== null ? bounds : preferred.bounds,
            maxFps: !isNaN(maxFps) ? maxFps : preferred.maxFps,
            iFrameInterval: !isNaN(iFrameInterval) ? iFrameInterval : preferred.iFrameInterval,
            sendFrameMeta: typeof sendFrameMeta === 'boolean' ? sendFrameMeta : preferred.sendFrameMeta,
            lockedVideoOrientation: !isNaN(lockedVideoOrientation)
                ? lockedVideoOrientation
                : preferred.lockedVideoOrientation,
            codecOptions: codecOptions,
            encoderName: encoderName,
        });
    };
    BasePlayer.putVideoSettingsToStorage = function (storageKeyPrefix, udid, videoSettings, fitToScreen, displayInfo) {
        if (!window.localStorage) {
            return;
        }
        var key = this.getFullStorageKey(storageKeyPrefix, udid, displayInfo);
        window.localStorage.setItem(key, JSON.stringify(videoSettings));
        var fitKey = "".concat(key, ":fit");
        window.localStorage.setItem(fitKey, JSON.stringify(fitToScreen));
    };
    BasePlayer.prototype.createScreenshot = function (deviceName) {
        var a = document.createElement('a');
        a.href = this.getImageDataURL();
        a.download = "".concat(deviceName, " ").concat(new Date().toLocaleString(), ".png");
        a.click();
    };
    BasePlayer.prototype.play = function () {
        if (this.needScreenInfoBeforePlay() && !this.screenInfo) {
            return;
        }
        this.state = BasePlayer.STATE.PLAYING;
    };
    BasePlayer.prototype.pause = function () {
        this.state = BasePlayer.STATE.PAUSED;
    };
    BasePlayer.prototype.stop = function () {
        this.state = BasePlayer.STATE.STOPPED;
    };
    BasePlayer.prototype.getState = function () {
        return this.state;
    };
    BasePlayer.prototype.pushFrame = function (frame) {
        if (!this.receivedFirstFrame) {
            this.receivedFirstFrame = true;
            if (typeof this.qualityAnimationId !== 'number') {
                this.qualityAnimationId = requestAnimationFrame(this.updateQualityStats);
            }
        }
        this.inputBytes.push({
            timestamp: Date.now(),
            bytes: frame.byteLength,
        });
    };
    BasePlayer.prototype.getTouchableElement = function () {
        return this.touchableCanvas;
    };
    BasePlayer.prototype.setParent = function (parent) {
        this.parentElement = parent;
        parent.appendChild(this.tag);
        parent.appendChild(this.touchableCanvas);
    };
    BasePlayer.prototype.needScreenInfoBeforePlay = function () {
        return true;
    };
    BasePlayer.prototype.getVideoSettings = function () {
        return this.videoSettings;
    };
    BasePlayer.prototype.setVideoSettings = function (videoSettings, fitToScreen, saveToStorage) {
        this.videoSettings = videoSettings;
        if (saveToStorage) {
            BasePlayer.putVideoSettingsToStorage(this.storageKeyPrefix, this.udid, videoSettings, fitToScreen, this.displayInfo);
        }
        this.resetStats();
        this.emit('video-settings', VideoSettings_1.default.copy(videoSettings));
    };
    BasePlayer.prototype.getScreenInfo = function () {
        return this.screenInfo;
    };
    BasePlayer.prototype.setScreenInfo = function (screenInfo) {
        if (this.needScreenInfoBeforePlay()) {
            this.pause();
        }
        this.receivedFirstFrame = false;
        this.screenInfo = screenInfo;
        var _a = screenInfo.videoSize, width = _a.width, height = _a.height;
        this.touchableCanvas.width = width;
        this.touchableCanvas.height = height;
        if (this.parentElement) {
            this.parentElement.style.height = "".concat(height, "px");
            this.parentElement.style.width = "".concat(width, "px");
        }
        var size = new Size_1.default(width, height);
        this.emit('video-view-resize', size);
    };
    BasePlayer.prototype.getName = function () {
        return this.name;
    };
    BasePlayer.prototype.resetStats = function () {
        this.receivedFirstFrame = false;
        this.totalStatsCounter = 0;
        this.totalStats = {
            droppedFrames: 0,
            decodedFrames: 0,
            inputFrames: 0,
            inputBytes: 0,
            timestamp: 0,
        };
        this.perSecondQualityStats = {
            avgDecoded: 0,
            avgDropped: 0,
            avgInput: 0,
            avgSize: 0,
        };
    };
    BasePlayer.prototype.drawStats = function () {
        if (!this.showQualityStats) {
            return;
        }
        var ctx = this.touchableCanvas.getContext('2d');
        if (!ctx) {
            return;
        }
        var newStats = [];
        if (this.perSecondQualityStats && this.momentumQualityStats) {
            var _a = this.momentumQualityStats, decodedFrames = _a.decodedFrames, droppedFrames = _a.droppedFrames, inputBytes = _a.inputBytes, inputFrames = _a.inputFrames;
            var _b = this.perSecondQualityStats, avgDecoded = _b.avgDecoded, avgDropped = _b.avgDropped, avgSize = _b.avgSize, avgInput = _b.avgInput;
            var padInput = inputFrames.toString().padStart(3, ' ');
            var padDecoded = decodedFrames.toString().padStart(3, ' ');
            var padDropped = droppedFrames.toString().padStart(3, ' ');
            var padAvgDecoded = avgDecoded.toFixed(1).padStart(5, ' ');
            var padAvgDropped = avgDropped.toFixed(1).padStart(5, ' ');
            var padAvgInput = avgInput.toFixed(1).padStart(5, ' ');
            var prettyBytes = Util_1.default.prettyBytes(inputBytes).padStart(8, ' ');
            var prettyAvgBytes = Util_1.default.prettyBytes(avgSize).padStart(8, ' ');
            newStats.push("Input bytes: ".concat(prettyBytes, " (avg: ").concat(prettyAvgBytes, "/s)"));
            newStats.push("Input   FPS: ".concat(padInput, " (avg: ").concat(padAvgInput, ")"));
            newStats.push("Dropped FPS: ".concat(padDropped, " (avg: ").concat(padAvgDropped, ")"));
            newStats.push("Decoded FPS: ".concat(padDecoded, " (avg: ").concat(padAvgDecoded, ")"));
        }
        else {
            newStats.push("Not supported");
        }
        var changed = this.statLines.length !== newStats.length;
        var i = 0;
        while (!changed && i++ < newStats.length) {
            if (newStats[i] !== this.statLines[i]) {
                changed = true;
            }
        }
        if (changed) {
            this.statLines = newStats;
            this.updateCanvas(false);
        }
    };
    BasePlayer.prototype.updateCanvas = function (onlyClear) {
        var _this = this;
        var ctx = this.touchableCanvas.getContext('2d');
        if (!ctx) {
            return;
        }
        var y = this.touchableCanvas.height;
        var height = BasePlayer.STATS_HEIGHT;
        var lines = this.statLines.length;
        var spaces = lines + 1;
        var p = height / 2;
        var d = p * 2;
        var totalHeight = height * lines + p * spaces;
        ctx.clearRect(0, y - totalHeight, this.dirtyStatsWidth + d, totalHeight);
        this.dirtyStatsWidth = 0;
        if (onlyClear) {
            return;
        }
        ctx.save();
        ctx.font = "".concat(height, "px monospace");
        this.statLines.forEach(function (text) {
            var textMetrics = ctx.measureText(text);
            var dirty = Math.abs(textMetrics.actualBoundingBoxLeft) + Math.abs(textMetrics.actualBoundingBoxRight);
            _this.dirtyStatsWidth = Math.max(dirty, _this.dirtyStatsWidth);
        });
        ctx.fillStyle = BasePlayer.STAT_BACKGROUND;
        ctx.fillRect(0, y - totalHeight, this.dirtyStatsWidth + d, totalHeight);
        ctx.fillStyle = BasePlayer.STAT_TEXT_COLOR;
        this.statLines.forEach(function (text, line) {
            ctx.fillText(text, p, y - p - line * (height + p));
        });
        ctx.restore();
    };
    BasePlayer.prototype.setShowQualityStats = function (value) {
        this.showQualityStats = value;
        if (!value) {
            this.updateCanvas(true);
        }
        else {
            this.drawStats();
        }
    };
    BasePlayer.prototype.getShowQualityStats = function () {
        return this.showQualityStats;
    };
    BasePlayer.prototype.setBounds = function (bounds) {
        this.bounds = Size_1.default.copy(bounds);
    };
    BasePlayer.prototype.getDisplayInfo = function () {
        return this.displayInfo;
    };
    BasePlayer.prototype.setDisplayInfo = function (displayInfo) {
        this.displayInfo = displayInfo;
    };
    BasePlayer.loadVideoSettings = function (udid, displayInfo) {
        return this.getVideoSettingFromStorage(this.preferredVideoSettings, this.storageKeyPrefix, udid, displayInfo);
    };
    BasePlayer.getFitToScreenStatus = function (udid, displayInfo) {
        return this.getFitToScreenFromStorage(this.storageKeyPrefix, udid, displayInfo);
    };
    BasePlayer.getPreferredVideoSetting = function () {
        return this.preferredVideoSettings;
    };
    BasePlayer.saveVideoSettings = function (udid, videoSettings, fitToScreen, displayInfo) {
        this.putVideoSettingsToStorage(this.storageKeyPrefix, udid, videoSettings, fitToScreen, displayInfo);
    };
    BasePlayer.STAT_BACKGROUND = 'rgba(0, 0, 0, 0.5)';
    BasePlayer.STAT_TEXT_COLOR = 'hsl(24, 85%, 50%)';
    BasePlayer.DEFAULT_SHOW_QUALITY_STATS = false;
    BasePlayer.STATE = {
        PLAYING: 1,
        PAUSED: 2,
        STOPPED: 3,
    };
    BasePlayer.STATS_HEIGHT = 12;
    BasePlayer.storageKeyPrefix = 'BaseDecoder';
    BasePlayer.playerFullName = 'BasePlayer';
    BasePlayer.playerCodeName = 'baseplayer';
    BasePlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 1080),
        sendFrameMeta: false,
    });
    return BasePlayer;
}(TypedEmitter_1.TypedEmitter));
exports.BasePlayer = BasePlayer;


/***/ }),

/***/ "./src/app/player/BroadwayPlayer.ts":
/*!******************************************!*\
  !*** ./src/app/player/BroadwayPlayer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BroadwayPlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../../../vendor/Broadway/avc.wasm.asset */ "./vendor/Broadway/avc.wasm.asset");
var BaseCanvasBasedPlayer_1 = __webpack_require__(/*! ./BaseCanvasBasedPlayer */ "./src/app/player/BaseCanvasBasedPlayer.ts");
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var YUVCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/h264-live-player/YUVCanvas */ "./vendor/h264-live-player/YUVCanvas.ts"));
var YUVWebGLCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/h264-live-player/YUVWebGLCanvas */ "./vendor/h264-live-player/YUVWebGLCanvas.ts"));
var Decoder_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/Broadway/Decoder */ "./vendor/Broadway/Decoder.js"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var BroadwayPlayer = (function (_super) {
    tslib_1.__extends(BroadwayPlayer, _super);
    function BroadwayPlayer(udid, displayInfo, name) {
        if (name === void 0) { name = BroadwayPlayer.playerFullName; }
        var _this = _super.call(this, udid, displayInfo, name, BroadwayPlayer.storageKeyPrefix) || this;
        _this.supportsScreenshot = true;
        return _this;
    }
    BroadwayPlayer.isSupported = function () {
        return typeof WebAssembly === 'object' && typeof WebAssembly.instantiate === 'function';
    };
    BroadwayPlayer.prototype.initCanvas = function (width, height) {
        var _this = this;
        _super.prototype.initCanvas.call(this, width, height);
        if (BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer.hasWebGLSupport()) {
            this.canvas = new YUVWebGLCanvas_1.default(this.tag, new Size_1.default(width, height));
        }
        else {
            this.canvas = new YUVCanvas_1.default(this.tag, new Size_1.default(width, height));
        }
        if (!this.avc) {
            this.avc = new Decoder_1.default();
        }
        this.avc.onPictureDecoded = function (buffer, width, height) {
            _this.onFrameDecoded(width, height, buffer);
        };
    };
    BroadwayPlayer.prototype.decode = function (data) {
        if (!this.avc) {
            return;
        }
        this.avc.decode(data);
    };
    BroadwayPlayer.prototype.getPreferredVideoSetting = function () {
        return BroadwayPlayer.preferredVideoSettings;
    };
    BroadwayPlayer.prototype.getFitToScreenStatus = function () {
        return BroadwayPlayer.getFitToScreenStatus(this.udid, this.displayInfo);
    };
    BroadwayPlayer.prototype.loadVideoSettings = function () {
        return BroadwayPlayer.loadVideoSettings(this.udid, this.displayInfo);
    };
    BroadwayPlayer.storageKeyPrefix = 'BroadwayDecoder';
    BroadwayPlayer.playerFullName = 'Noded Visor';
    BroadwayPlayer.playerCodeName = 'broadway';
    BroadwayPlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 800),
        sendFrameMeta: false,
    });
    return BroadwayPlayer;
}(BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer));
exports.BroadwayPlayer = BroadwayPlayer;


/***/ }),

/***/ "./src/app/player/MsePlayer.ts":
/*!*************************************!*\
  !*** ./src/app/player/MsePlayer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MsePlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BasePlayer_1 = __webpack_require__(/*! ./BasePlayer */ "./src/app/player/BasePlayer.ts");
var h264_converter_1 = tslib_1.__importStar(__webpack_require__(/*! h264-converter */ "./node_modules/h264-converter/dist/index.js"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var MsePlayer = (function (_super) {
    tslib_1.__extends(MsePlayer, _super);
    function MsePlayer(udid, displayInfo, name, tag) {
        if (name === void 0) { name = MsePlayer.playerFullName; }
        if (tag === void 0) { tag = MsePlayer.createElement(); }
        var _this = _super.call(this, udid, displayInfo, name, MsePlayer.storageKeyPrefix, tag) || this;
        _this.tag = tag;
        _this.videoStats = [];
        _this.noDecodedFramesSince = -1;
        _this.currentTimeNotChangedSince = -1;
        _this.bigBufferSince = -1;
        _this.aheadOfBufferSince = -1;
        _this.fpf = MsePlayer.DEFAULT_FRAMES_PER_FRAGMENT;
        _this.supportsScreenshot = true;
        _this.waitUntilSegmentRemoved = false;
        _this.blocks = [];
        _this.frames = [];
        _this.jumpEnd = -1;
        _this.lastTime = -1;
        _this.canPlay = false;
        _this.seekingSince = -1;
        _this.isSafari = !!window['safari'];
        _this.isChrome = navigator.userAgent.includes('Chrome');
        _this.isMac = navigator.platform.startsWith('Mac');
        _this.MAX_TIME_TO_RECOVER = 200;
        _this.MAX_BUFFER = _this.isSafari ? 2 : _this.isChrome && _this.isMac ? 0.9 : 0.2;
        _this.MAX_AHEAD = -0.2;
        _this.onVideoError = function (event) {
            console.error("[".concat(_this.name, "]"), event);
        };
        _this.onVideoCanPlay = function () {
            _this.onCanPlayHandler();
        };
        _this.checkVideoResize = function () {
            if (!_this.tag) {
                return;
            }
            var _a = _this.tag, videoHeight = _a.videoHeight, videoWidth = _a.videoWidth;
            if (_this.videoHeight !== videoHeight || _this.videoWidth !== videoWidth) {
                _this.calculateScreenInfoForBounds(videoWidth, videoHeight);
            }
        };
        _this.cleanSourceBuffer = function () {
            if (!_this.sourceBuffer) {
                return;
            }
            if (_this.sourceBuffer.updating) {
                return;
            }
            if (_this.blocks.length < 10) {
                return;
            }
            try {
                _this.sourceBuffer.removeEventListener('updateend', _this.cleanSourceBuffer);
                _this.waitUntilSegmentRemoved = false;
                var removeStart = _this.blocks[0].start;
                var removeEnd = _this.blocks[4].end;
                _this.blocks = _this.blocks.slice(5);
                _this.sourceBuffer.remove(removeStart, removeEnd);
                var frame = _this.frames.shift();
                while (frame) {
                    if (!_this.checkForIFrame(frame)) {
                        _this.frames.unshift(frame);
                        break;
                    }
                    frame = _this.frames.shift();
                }
            }
            catch (error) {
                console.error("[".concat(_this.name, "]"), 'Failed to clean source buffer');
            }
        };
        _this.jumpToEnd = function () {
            if (!_this.sourceBuffer) {
                return;
            }
            if (_this.sourceBuffer.updating) {
                return;
            }
            if (!_this.tag.buffered.length) {
                return;
            }
            var end = _this.tag.buffered.end(_this.tag.seekable.length - 1);
            console.log("[".concat(_this.name, "]"), "Jumping to the end (".concat(_this.jumpEnd, ", ").concat(end - _this.jumpEnd, ")."));
            _this.tag.currentTime = end;
            _this.jumpEnd = -1;
            _this.sourceBuffer.removeEventListener('updateend', _this.jumpToEnd);
        };
        tag.oncontextmenu = function (event) {
            event.preventDefault();
            return false;
        };
        tag.addEventListener('error', _this.onVideoError);
        tag.addEventListener('canplay', _this.onVideoCanPlay);
        (0, h264_converter_1.setLogger)(function () { }, console.error);
        return _this;
    }
    MsePlayer.createElement = function (id) {
        var tag = document.createElement('video');
        tag.muted = true;
        tag.autoplay = true;
        tag.setAttribute('muted', 'muted');
        tag.setAttribute('autoplay', 'autoplay');
        if (typeof id === 'string') {
            tag.id = id;
        }
        tag.className = 'video-layer';
        return tag;
    };
    MsePlayer.isSupported = function () {
        return typeof MediaSource !== 'undefined' && MediaSource.isTypeSupported(h264_converter_1.mimeType);
    };
    MsePlayer.createConverter = function (tag, fps, fpf) {
        if (fps === void 0) { fps = MsePlayer.DEFAULT_FRAMES_PER_SECOND; }
        if (fpf === void 0) { fpf = MsePlayer.DEFAULT_FRAMES_PER_FRAGMENT; }
        return new h264_converter_1.default(tag, fps, fpf);
    };
    MsePlayer.prototype.getVideoPlaybackQuality = function () {
        var video = this.tag;
        if (typeof video.mozDecodedFrames !== 'undefined') {
            return null;
        }
        var now = Date.now();
        if (typeof this.tag.getVideoPlaybackQuality == 'function') {
            var temp = this.tag.getVideoPlaybackQuality();
            return {
                timestamp: now,
                decodedFrames: temp.totalVideoFrames,
                droppedFrames: temp.droppedVideoFrames,
            };
        }
        if (typeof video.webkitDecodedFrameCount !== 'undefined') {
            return {
                timestamp: now,
                decodedFrames: video.webkitDecodedFrameCount,
                droppedFrames: video.webkitDroppedFrameCount,
            };
        }
        return null;
    };
    MsePlayer.prototype.onCanPlayHandler = function () {
        this.canPlay = true;
        this.tag.play();
        this.tag.removeEventListener('canplay', this.onVideoCanPlay);
        this.checkVideoResize();
    };
    MsePlayer.prototype.calculateMomentumStats = function () {
        var stat = this.getVideoPlaybackQuality();
        if (!stat) {
            return;
        }
        var timestamp = Date.now();
        var oneSecondBefore = timestamp - 1000;
        this.videoStats.push(stat);
        while (this.videoStats.length && this.videoStats[0].timestamp < oneSecondBefore) {
            this.videoStats.shift();
        }
        while (this.inputBytes.length && this.inputBytes[0].timestamp < oneSecondBefore) {
            this.inputBytes.shift();
        }
        var inputBytes = 0;
        this.inputBytes.forEach(function (item) {
            inputBytes += item.bytes;
        });
        var inputFrames = this.inputBytes.length;
        if (this.videoStats.length) {
            var oldest = this.videoStats[0];
            var decodedFrames = stat.decodedFrames - oldest.decodedFrames;
            var droppedFrames = stat.droppedFrames - oldest.droppedFrames;
            this.momentumQualityStats = {
                decodedFrames: decodedFrames,
                droppedFrames: droppedFrames,
                inputBytes: inputBytes,
                inputFrames: inputFrames,
                timestamp: timestamp,
            };
        }
    };
    MsePlayer.prototype.resetStats = function () {
        _super.prototype.resetStats.call(this);
        this.videoStats = [];
    };
    MsePlayer.prototype.getImageDataURL = function () {
        var canvas = document.createElement('canvas');
        canvas.width = this.tag.clientWidth;
        canvas.height = this.tag.clientHeight;
        var ctx = canvas.getContext('2d');
        if (ctx) {
            ctx.drawImage(this.tag, 0, 0, canvas.width, canvas.height);
        }
        return canvas.toDataURL();
    };
    MsePlayer.prototype.play = function () {
        _super.prototype.play.call(this);
        if (this.getState() !== BasePlayer_1.BasePlayer.STATE.PLAYING) {
            return;
        }
        if (!this.converter) {
            var fps = MsePlayer.DEFAULT_FRAMES_PER_SECOND;
            if (this.videoSettings) {
                fps = this.videoSettings.maxFps;
            }
            this.converter = MsePlayer.createConverter(this.tag, fps, this.fpf);
            this.canPlay = false;
            this.resetStats();
        }
        this.converter.play();
    };
    MsePlayer.prototype.pause = function () {
        _super.prototype.pause.call(this);
        this.stopConverter();
    };
    MsePlayer.prototype.stop = function () {
        _super.prototype.stop.call(this);
        this.stopConverter();
    };
    MsePlayer.prototype.setVideoSettings = function (videoSettings, fitToScreen, saveToStorage) {
        if (this.videoSettings && this.videoSettings.maxFps !== videoSettings.maxFps) {
            var state = this.getState();
            if (this.converter) {
                this.stop();
                this.converter = MsePlayer.createConverter(this.tag, videoSettings.maxFps, this.fpf);
                this.canPlay = false;
            }
            if (state === BasePlayer_1.BasePlayer.STATE.PLAYING) {
                this.play();
            }
        }
        _super.prototype.setVideoSettings.call(this, videoSettings, fitToScreen, saveToStorage);
    };
    MsePlayer.prototype.getPreferredVideoSetting = function () {
        return MsePlayer.preferredVideoSettings;
    };
    MsePlayer.prototype.pushFrame = function (frame) {
        _super.prototype.pushFrame.call(this, frame);
        if (!this.checkForIFrame(frame)) {
            this.frames.push(frame);
        }
        else {
            this.checkForBadState();
        }
    };
    MsePlayer.prototype.checkForBadState = function () {
        var _this = this;
        var currentTime = this.tag.currentTime;
        var now = Date.now();
        var hasReasonToJump = false;
        if (this.momentumQualityStats) {
            if (this.momentumQualityStats.decodedFrames === 0 && this.momentumQualityStats.inputFrames > 0) {
                if (this.noDecodedFramesSince === -1) {
                    this.noDecodedFramesSince = now;
                }
                else {
                    var time = now - this.noDecodedFramesSince;
                    if (time > this.MAX_TIME_TO_RECOVER) {
                        hasReasonToJump = true;
                    }
                }
            }
            else {
                this.noDecodedFramesSince = -1;
            }
        }
        if (currentTime === this.lastTime && this.currentTimeNotChangedSince === -1) {
            this.currentTimeNotChangedSince = now;
        }
        else {
            this.currentTimeNotChangedSince = -1;
        }
        this.lastTime = currentTime;
        if (this.tag.buffered.length) {
            var end = this.tag.buffered.end(0);
            var buffered = end - currentTime;
            if ((end | 0) - currentTime > this.MAX_BUFFER) {
                if (this.bigBufferSince === -1) {
                    this.bigBufferSince = now;
                }
                else {
                    var time = now - this.bigBufferSince;
                    if (time > this.MAX_TIME_TO_RECOVER) {
                        hasReasonToJump = true;
                    }
                }
            }
            else {
                this.bigBufferSince = -1;
            }
            if (buffered < this.MAX_AHEAD) {
                if (this.aheadOfBufferSince === -1) {
                    this.aheadOfBufferSince = now;
                }
                else {
                    var time = now - this.aheadOfBufferSince;
                    if (time > this.MAX_TIME_TO_RECOVER) {
                        hasReasonToJump = true;
                    }
                }
            }
            else {
                this.aheadOfBufferSince = -1;
            }
            if (this.currentTimeNotChangedSince !== -1) {
                var time = now - this.currentTimeNotChangedSince;
                if (time > this.MAX_TIME_TO_RECOVER) {
                    hasReasonToJump = true;
                }
            }
            if (!hasReasonToJump) {
                return;
            }
            var waitingForSeekEnd = 0;
            if (this.seekingSince !== -1) {
                waitingForSeekEnd = now - this.seekingSince;
                if (waitingForSeekEnd < 1500) {
                    return;
                }
            }
            var onSeekEnd_1 = function () {
                _this.seekingSince = -1;
                _this.tag.removeEventListener('seeked', onSeekEnd_1);
                _this.tag.play();
            };
            if (this.seekingSince !== -1) {
                console.warn("[".concat(this.name, "]"), "Attempt to seek while already seeking! ".concat(waitingForSeekEnd));
            }
            this.seekingSince = now;
            this.tag.addEventListener('seeked', onSeekEnd_1);
            this.tag.currentTime = this.tag.buffered.end(0);
        }
    };
    MsePlayer.prototype.checkForIFrame = function (frame) {
        if (!this.converter) {
            return false;
        }
        this.sourceBuffer = this.converter.sourceBuffer;
        if (BasePlayer_1.BasePlayer.isIFrame(frame)) {
            var start = 0;
            var end = 0;
            if (this.tag.buffered && this.tag.buffered.length) {
                start = this.tag.buffered.start(0);
                end = this.tag.buffered.end(0);
            }
            if (end !== 0 && start < end) {
                var block = {
                    start: start,
                    end: end,
                };
                this.blocks.push(block);
                if (this.blocks.length > 10) {
                    this.waitUntilSegmentRemoved = true;
                    this.sourceBuffer.addEventListener('updateend', this.cleanSourceBuffer);
                    this.converter.appendRawData(frame);
                    return true;
                }
            }
            if (this.sourceBuffer) {
                this.sourceBuffer.onupdateend = this.checkVideoResize;
            }
        }
        if (this.waitUntilSegmentRemoved) {
            return false;
        }
        this.converter.appendRawData(frame);
        return true;
    };
    MsePlayer.prototype.stopConverter = function () {
        if (this.converter) {
            this.converter.appendRawData(new Uint8Array([]));
            this.converter.pause();
            delete this.converter;
        }
    };
    MsePlayer.prototype.getFitToScreenStatus = function () {
        return MsePlayer.getFitToScreenStatus(this.udid, this.displayInfo);
    };
    MsePlayer.prototype.loadVideoSettings = function () {
        return MsePlayer.loadVideoSettings(this.udid, this.displayInfo);
    };
    MsePlayer.storageKeyPrefix = 'MseDecoder';
    MsePlayer.playerFullName = 'H264 Converter';
    MsePlayer.playerCodeName = 'mse';
    MsePlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 7340032,
        maxFps: 60,
        iFrameInterval: 10,
        bounds: new Size_1.default(720, 720),
        sendFrameMeta: false,
    });
    MsePlayer.DEFAULT_FRAMES_PER_FRAGMENT = 1;
    MsePlayer.DEFAULT_FRAMES_PER_SECOND = 60;
    return MsePlayer;
}(BasePlayer_1.BasePlayer));
exports.MsePlayer = MsePlayer;


/***/ }),

/***/ "./src/app/player/TinyH264Player.ts":
/*!******************************************!*\
  !*** ./src/app/player/TinyH264Player.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TinyH264Player = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseCanvasBasedPlayer_1 = __webpack_require__(/*! ./BaseCanvasBasedPlayer */ "./src/app/player/BaseCanvasBasedPlayer.ts");
var H264NALDecoder_worker_1 = tslib_1.__importDefault(__webpack_require__(/*! worker-loader!./../../../vendor/tinyh264/H264NALDecoder.worker */ "./node_modules/worker-loader/dist/cjs.js!./vendor/tinyh264/H264NALDecoder.worker.ts"));
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var YUVWebGLCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/tinyh264/YUVWebGLCanvas */ "./vendor/tinyh264/YUVWebGLCanvas.ts"));
var YUVCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../../vendor/tinyh264/YUVCanvas */ "./vendor/tinyh264/YUVCanvas.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var TinyH264Player = (function (_super) {
    tslib_1.__extends(TinyH264Player, _super);
    function TinyH264Player(udid, displayInfo, name) {
        if (name === void 0) { name = TinyH264Player.playerFullName; }
        var _this = _super.call(this, udid, displayInfo, name, TinyH264Player.storageKeyPrefix) || this;
        _this.isDecoderReady = false;
        _this.supportsScreenshot = true;
        _this.onWorkerMessage = function (event) {
            var message = event.data;
            switch (message.type) {
                case 'pictureReady':
                    var width = message.width, height = message.height, data = message.data;
                    _this.onFrameDecoded(width, height, new Uint8Array(data));
                    break;
                case 'decoderReady':
                    _this.isDecoderReady = true;
                    break;
                default:
                    console.error("[".concat(_this.name, "]"), Error("Wrong message type \"".concat(message.type, "\"")));
            }
        };
        return _this;
    }
    TinyH264Player.isSupported = function () {
        return typeof WebAssembly === 'object' && typeof WebAssembly.instantiate === 'function';
    };
    TinyH264Player.prototype.initWorker = function () {
        this.worker = new H264NALDecoder_worker_1.default();
        this.worker.addEventListener('message', this.onWorkerMessage);
    };
    TinyH264Player.prototype.initCanvas = function (width, height) {
        _super.prototype.initCanvas.call(this, width, height);
        if (BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer.hasWebGLSupport()) {
            this.canvas = new YUVWebGLCanvas_1.default(this.tag);
        }
        else {
            this.canvas = new YUVCanvas_1.default(this.tag);
        }
    };
    TinyH264Player.prototype.decode = function (data) {
        if (!this.worker || !this.isDecoderReady) {
            return;
        }
        this.worker.postMessage({
            type: 'decode',
            data: data.buffer,
            offset: data.byteOffset,
            length: data.byteLength,
            renderStateId: TinyH264Player.videoStreamId,
        }, [data.buffer]);
    };
    TinyH264Player.prototype.play = function () {
        _super.prototype.play.call(this);
        if (!this.worker) {
            this.initWorker();
        }
    };
    TinyH264Player.prototype.stop = function () {
        _super.prototype.stop.call(this);
        if (this.worker) {
            this.worker.removeEventListener('message', this.onWorkerMessage);
            this.worker.postMessage({ type: 'release', renderStateId: TinyH264Player.videoStreamId });
            delete this.worker;
        }
    };
    TinyH264Player.prototype.getPreferredVideoSetting = function () {
        return TinyH264Player.preferredVideoSettings;
    };
    TinyH264Player.prototype.clearState = function () {
        _super.prototype.clearState.call(this);
        if (this.worker) {
            this.worker.postMessage({ type: 'release', renderStateId: TinyH264Player.videoStreamId });
            TinyH264Player.videoStreamId++;
        }
    };
    TinyH264Player.prototype.getFitToScreenStatus = function () {
        return TinyH264Player.getFitToScreenStatus(this.udid, this.displayInfo);
    };
    TinyH264Player.prototype.loadVideoSettings = function () {
        return TinyH264Player.loadVideoSettings(this.udid, this.displayInfo);
    };
    TinyH264Player.storageKeyPrefix = 'Tinyh264Decoder';
    TinyH264Player.playerFullName = 'Tiny H264';
    TinyH264Player.playerCodeName = 'tinyh264';
    TinyH264Player.videoStreamId = 1;
    TinyH264Player.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 480),
        sendFrameMeta: false,
    });
    return TinyH264Player;
}(BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer));
exports.TinyH264Player = TinyH264Player;


/***/ }),

/***/ "./src/app/player/WebCodecsPlayer.ts":
/*!*******************************************!*\
  !*** ./src/app/player/WebCodecsPlayer.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebCodecsPlayer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var BaseCanvasBasedPlayer_1 = __webpack_require__(/*! ./BaseCanvasBasedPlayer */ "./src/app/player/BaseCanvasBasedPlayer.ts");
var VideoSettings_1 = tslib_1.__importDefault(__webpack_require__(/*! ../VideoSettings */ "./src/app/VideoSettings.ts"));
var Size_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Size */ "./src/app/Size.ts"));
var h264_parser_1 = tslib_1.__importDefault(__webpack_require__(/*! h264-converter/dist/h264-parser */ "./node_modules/h264-converter/dist/h264-parser.js"));
var NALU_1 = tslib_1.__importDefault(__webpack_require__(/*! h264-converter/dist/util/NALU */ "./node_modules/h264-converter/dist/util/NALU.js"));
var ScreenInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ScreenInfo */ "./src/app/ScreenInfo.ts"));
var Rect_1 = tslib_1.__importDefault(__webpack_require__(/*! ../Rect */ "./src/app/Rect.ts"));
function toHex(value) {
    return value.toString(16).padStart(2, '0').toUpperCase();
}
var WebCodecsPlayer = (function (_super) {
    tslib_1.__extends(WebCodecsPlayer, _super);
    function WebCodecsPlayer(udid, displayInfo, name) {
        if (name === void 0) { name = WebCodecsPlayer.playerFullName; }
        var _this = _super.call(this, udid, displayInfo, name, WebCodecsPlayer.storageKeyPrefix) || this;
        _this.supportsScreenshot = true;
        _this.hadIDR = false;
        _this.bufferedSPS = false;
        _this.bufferedPPS = false;
        _this.drawDecoded = function () {
            if (_this.receivedFirstFrame) {
                var data = _this.decodedFrames.shift();
                if (data) {
                    var frame = data.frame;
                    _this.context.drawImage(frame, 0, 0);
                    frame.close();
                }
            }
            if (_this.decodedFrames.length) {
                _this.animationFrameId = requestAnimationFrame(_this.drawDecoded);
            }
            else {
                _this.animationFrameId = undefined;
            }
        };
        var context = _this.tag.getContext('2d');
        if (!context) {
            throw Error('Failed to get 2d context from canvas');
        }
        _this.context = context;
        _this.decoder = _this.createDecoder();
        return _this;
    }
    WebCodecsPlayer.isSupported = function () {
        if (typeof VideoDecoder !== 'function' || typeof VideoDecoder.isConfigSupported !== 'function') {
            return false;
        }
        return true;
    };
    WebCodecsPlayer.parseSPS = function (data) {
        var _a = h264_parser_1.default.parseSPS(data), profile_idc = _a.profile_idc, constraint_set_flags = _a.constraint_set_flags, level_idc = _a.level_idc, pic_width_in_mbs_minus1 = _a.pic_width_in_mbs_minus1, frame_crop_left_offset = _a.frame_crop_left_offset, frame_crop_right_offset = _a.frame_crop_right_offset, frame_mbs_only_flag = _a.frame_mbs_only_flag, pic_height_in_map_units_minus1 = _a.pic_height_in_map_units_minus1, frame_crop_top_offset = _a.frame_crop_top_offset, frame_crop_bottom_offset = _a.frame_crop_bottom_offset, sar = _a.sar;
        var sarScale = sar[0] / sar[1];
        var codec = "avc1.".concat([profile_idc, constraint_set_flags, level_idc].map(toHex).join(''));
        var width = Math.ceil(((pic_width_in_mbs_minus1 + 1) * 16 - frame_crop_left_offset * 2 - frame_crop_right_offset * 2) * sarScale);
        var height = (2 - frame_mbs_only_flag) * (pic_height_in_map_units_minus1 + 1) * 16 -
            (frame_mbs_only_flag ? 2 : 4) * (frame_crop_top_offset + frame_crop_bottom_offset);
        return { codec: codec, width: width, height: height };
    };
    WebCodecsPlayer.prototype.createDecoder = function () {
        var _this = this;
        return new VideoDecoder({
            output: function (frame) {
                _this.onFrameDecoded(0, 0, frame);
            },
            error: function (error) {
                console.error(error, "code: ".concat(error.code));
                _this.stop();
            },
        });
    };
    WebCodecsPlayer.prototype.addToBuffer = function (data) {
        var array;
        if (this.buffer) {
            array = new Uint8Array(this.buffer.byteLength + data.byteLength);
            array.set(new Uint8Array(this.buffer));
            array.set(new Uint8Array(data), this.buffer.byteLength);
        }
        else {
            array = data;
        }
        this.buffer = array.buffer;
        return array;
    };
    WebCodecsPlayer.prototype.scaleCanvas = function (width, height) {
        var videoSize = new Size_1.default(width, height);
        var scale = 1;
        if (this.bounds && !this.bounds.intersect(videoSize).equals(videoSize)) {
            scale = Math.min(this.bounds.w / width, this.bounds.h / height);
        }
        var w = width * scale;
        var h = height * scale;
        var screenInfo = new ScreenInfo_1.default(new Rect_1.default(0, 0, width, height), new Size_1.default(w, h), 0);
        this.emit('input-video-resize', screenInfo);
        this.setScreenInfo(screenInfo);
        this.initCanvas(width, height);
        if (scale !== 1) {
            this.tag.style.transform = "scale(".concat(scale.toFixed(4), ")");
        }
        else {
            this.tag.style.transform = "";
        }
        this.tag.style.transformOrigin = 'top left';
    };
    WebCodecsPlayer.prototype.decode = function (data) {
        if (!data || data.length < 4) {
            return;
        }
        var type = data[4] & 31;
        var isIDR = type === NALU_1.default.IDR;
        if (type === NALU_1.default.SPS) {
            var _a = WebCodecsPlayer.parseSPS(data.subarray(4)), codec = _a.codec, width = _a.width, height = _a.height;
            this.scaleCanvas(width, height);
            var config = {
                codec: codec,
                optimizeForLatency: true,
            };
            this.decoder.configure(config);
            this.bufferedSPS = true;
            this.addToBuffer(data);
            this.hadIDR = false;
            return;
        }
        else if (type === NALU_1.default.PPS) {
            this.bufferedPPS = true;
            this.addToBuffer(data);
            return;
        }
        else if (type === NALU_1.default.SEI) {
            if (!this.bufferedSPS || !this.bufferedPPS) {
                return;
            }
        }
        var array = this.addToBuffer(data);
        this.hadIDR = this.hadIDR || isIDR;
        if (array && this.decoder.state === 'configured' && this.hadIDR) {
            this.buffer = undefined;
            this.bufferedPPS = false;
            this.bufferedSPS = false;
            this.decoder.decode(new EncodedVideoChunk({
                type: 'key',
                timestamp: 0,
                data: array.buffer,
            }));
            return;
        }
    };
    WebCodecsPlayer.prototype.dropFrame = function (frame) {
        frame.close();
    };
    WebCodecsPlayer.prototype.getFitToScreenStatus = function () {
        return false;
    };
    WebCodecsPlayer.prototype.getPreferredVideoSetting = function () {
        return WebCodecsPlayer.preferredVideoSettings;
    };
    WebCodecsPlayer.prototype.loadVideoSettings = function () {
        return WebCodecsPlayer.loadVideoSettings(this.udid, this.displayInfo);
    };
    WebCodecsPlayer.prototype.needScreenInfoBeforePlay = function () {
        return false;
    };
    WebCodecsPlayer.prototype.stop = function () {
        _super.prototype.stop.call(this);
        if (this.decoder.state === 'configured') {
            this.decoder.close();
        }
    };
    WebCodecsPlayer.storageKeyPrefix = 'WebCodecsPlayer';
    WebCodecsPlayer.playerFullName = 'WebCodecs';
    WebCodecsPlayer.playerCodeName = 'webcodecs';
    WebCodecsPlayer.preferredVideoSettings = new VideoSettings_1.default({
        lockedVideoOrientation: -1,
        bitrate: 524288,
        maxFps: 24,
        iFrameInterval: 5,
        bounds: new Size_1.default(480, 480),
        sendFrameMeta: false,
    });
    return WebCodecsPlayer;
}(BaseCanvasBasedPlayer_1.BaseCanvasBasedPlayer));
exports.WebCodecsPlayer = WebCodecsPlayer;


/***/ }),

/***/ "./src/app/toolbox/ToolBox.ts":
/*!************************************!*\
  !*** ./src/app/toolbox/ToolBox.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBox = void 0;
var ToolBox = (function () {
    function ToolBox(list) {
        var _this = this;
        this.holder = document.createElement('div');
        this.holder.classList.add('control-buttons-list', 'control-wrapper');
        list.forEach(function (item) {
            item.getAllElements().forEach(function (el) {
                _this.holder.appendChild(el);
            });
        });
    }
    ToolBox.prototype.getHolderElement = function () {
        return this.holder;
    };
    return ToolBox;
}());
exports.ToolBox = ToolBox;


/***/ }),

/***/ "./src/app/toolbox/ToolBoxButton.ts":
/*!******************************************!*\
  !*** ./src/app/toolbox/ToolBoxButton.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBoxButton = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ToolBoxElement_1 = __webpack_require__(/*! ./ToolBoxElement */ "./src/app/toolbox/ToolBoxElement.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var ToolBoxButton = (function (_super) {
    tslib_1.__extends(ToolBoxButton, _super);
    function ToolBoxButton(title, icon, optional) {
        var _this = _super.call(this, title, optional) || this;
        var btn = document.createElement('button');
        btn.classList.add('control-button');
        btn.title = title;
        btn.appendChild(SvgImage_1.default.create(icon));
        _this.btn = btn;
        return _this;
    }
    ToolBoxButton.prototype.getElement = function () {
        return this.btn;
    };
    ToolBoxButton.prototype.getAllElements = function () {
        return [this.btn];
    };
    return ToolBoxButton;
}(ToolBoxElement_1.ToolBoxElement));
exports.ToolBoxButton = ToolBoxButton;


/***/ }),

/***/ "./src/app/toolbox/ToolBoxCheckbox.ts":
/*!********************************************!*\
  !*** ./src/app/toolbox/ToolBoxCheckbox.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBoxCheckbox = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ToolBoxElement_1 = __webpack_require__(/*! ./ToolBoxElement */ "./src/app/toolbox/ToolBoxElement.ts");
var SvgImage_1 = tslib_1.__importDefault(__webpack_require__(/*! ../ui/SvgImage */ "./src/app/ui/SvgImage.ts"));
var ToolBoxCheckbox = (function (_super) {
    tslib_1.__extends(ToolBoxCheckbox, _super);
    function ToolBoxCheckbox(title, icons, opt_id, optional) {
        var _this = _super.call(this, title, optional) || this;
        var input = document.createElement('input');
        input.type = 'checkbox';
        var label = document.createElement('label');
        label.title = title;
        label.classList.add('control-button');
        var iconOff;
        var iconOn;
        if (typeof icons !== 'number') {
            iconOff = icons.off;
            iconOn = icons.on;
        }
        else {
            iconOff = icons;
        }
        _this.imageOff = SvgImage_1.default.create(iconOff);
        _this.imageOff.classList.add('image', 'image-off');
        label.appendChild(_this.imageOff);
        if (iconOn) {
            _this.imageOn = SvgImage_1.default.create(iconOn);
            _this.imageOn.classList.add('image', 'image-on');
            label.appendChild(_this.imageOn);
            input.classList.add('two-images');
        }
        var id = opt_id || title.toLowerCase().replace(' ', '_');
        label.htmlFor = input.id = "input_".concat(id);
        _this.input = input;
        _this.label = label;
        return _this;
    }
    ToolBoxCheckbox.prototype.getElement = function () {
        return this.input;
    };
    ToolBoxCheckbox.prototype.getAllElements = function () {
        return [this.input, this.label];
    };
    return ToolBoxCheckbox;
}(ToolBoxElement_1.ToolBoxElement));
exports.ToolBoxCheckbox = ToolBoxCheckbox;


/***/ }),

/***/ "./src/app/toolbox/ToolBoxElement.ts":
/*!*******************************************!*\
  !*** ./src/app/toolbox/ToolBoxElement.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ToolBoxElement = void 0;
var ToolBoxElement = (function () {
    function ToolBoxElement(title, optional) {
        var _this = this;
        this.title = title;
        this.optional = optional;
        this.listeners = new Map();
        this.onEvent = function (ev) {
            var set = _this.listeners.get(ev.type);
            if (!set) {
                return;
            }
            var type = ev.type;
            set.forEach(function (listener) {
                listener(type, _this);
            });
        };
    }
    ToolBoxElement.prototype.addEventListener = function (type, listener, options) {
        var set = this.listeners.get(type) || new Set();
        if (!set.size) {
            var element = this.getElement();
            element.addEventListener(type, this.onEvent, options);
        }
        set.add(listener);
        this.listeners.set(type, set);
    };
    ToolBoxElement.prototype.removeEventListener = function (type, listener) {
        var set = this.listeners.get(type);
        if (!set) {
            return;
        }
        set.delete(listener);
        if (!set.size) {
            this.listeners.delete(type);
            var element = this.getElement();
            element.removeEventListener(type, this.onEvent);
        }
    };
    return ToolBoxElement;
}());
exports.ToolBoxElement = ToolBoxElement;


/***/ }),

/***/ "./src/app/ui/HtmlTag.ts":
/*!*******************************!*\
  !*** ./src/app/ui/HtmlTag.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.html = void 0;
function htmlValue(value) {
    if (value instanceof HTMLTemplateElement) {
        return value.innerHTML;
    }
    if (typeof value === 'undefined') {
        return 'undefined';
    }
    if (value === null) {
        return 'null';
    }
    var e = document.createElement('dummy');
    e.innerText = value.toString();
    return e.innerHTML;
}
var html = function html(strings) {
    var values = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        values[_i - 1] = arguments[_i];
    }
    var template = document.createElement('template');
    template.innerHTML = values.reduce(function (acc, v, idx) { return acc + htmlValue(v) + strings[idx + 1]; }, strings[0]).toString();
    return template;
};
exports.html = html;


/***/ }),

/***/ "./src/app/ui/SvgImage.ts":
/*!********************************!*\
  !*** ./src/app/ui/SvgImage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Icon = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ic_keyboard_678_48dp_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_keyboard_678_48dp.svg */ "./src/public/images/skin-light/ic_keyboard_678_48dp.svg"));
var ic_more_horiz_678_48dp_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_more_horiz_678_48dp.svg */ "./src/public/images/skin-light/ic_more_horiz_678_48dp.svg"));
var ic_photo_camera_678_48dp_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_photo_camera_678_48dp.svg */ "./src/public/images/skin-light/ic_photo_camera_678_48dp.svg"));
var ic_power_settings_new_678_48px_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_power_settings_new_678_48px.svg */ "./src/public/images/skin-light/ic_power_settings_new_678_48px.svg"));
var ic_volume_down_678_48px_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_volume_down_678_48px.svg */ "./src/public/images/skin-light/ic_volume_down_678_48px.svg"));
var ic_volume_up_678_48px_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/ic_volume_up_678_48px.svg */ "./src/public/images/skin-light/ic_volume_up_678_48px.svg"));
var System_Back_678_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/System_Back_678.svg */ "./src/public/images/skin-light/System_Back_678.svg"));
var System_Home_678_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/System_Home_678.svg */ "./src/public/images/skin-light/System_Home_678.svg"));
var System_Overview_678_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/skin-light/System_Overview_678.svg */ "./src/public/images/skin-light/System_Overview_678.svg"));
var cancel_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/cancel.svg */ "./src/public/images/buttons/cancel.svg"));
var offline_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/offline.svg */ "./src/public/images/buttons/offline.svg"));
var refresh_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/refresh.svg */ "./src/public/images/buttons/refresh.svg"));
var settings_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/settings.svg */ "./src/public/images/buttons/settings.svg"));
var menu_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/menu.svg */ "./src/public/images/buttons/menu.svg"));
var arrow_back_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/arrow_back.svg */ "./src/public/images/buttons/arrow_back.svg"));
var toggle_on_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/toggle_on.svg */ "./src/public/images/buttons/toggle_on.svg"));
var toggle_off_svg_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../public/images/buttons/toggle_off.svg */ "./src/public/images/buttons/toggle_off.svg"));
var Icon;
(function (Icon) {
    Icon[Icon["BACK"] = 0] = "BACK";
    Icon[Icon["HOME"] = 1] = "HOME";
    Icon[Icon["OVERVIEW"] = 2] = "OVERVIEW";
    Icon[Icon["POWER"] = 3] = "POWER";
    Icon[Icon["VOLUME_UP"] = 4] = "VOLUME_UP";
    Icon[Icon["VOLUME_DOWN"] = 5] = "VOLUME_DOWN";
    Icon[Icon["MORE"] = 6] = "MORE";
    Icon[Icon["CAMERA"] = 7] = "CAMERA";
    Icon[Icon["KEYBOARD"] = 8] = "KEYBOARD";
    Icon[Icon["CANCEL"] = 9] = "CANCEL";
    Icon[Icon["OFFLINE"] = 10] = "OFFLINE";
    Icon[Icon["REFRESH"] = 11] = "REFRESH";
    Icon[Icon["SETTINGS"] = 12] = "SETTINGS";
    Icon[Icon["MENU"] = 13] = "MENU";
    Icon[Icon["ARROW_BACK"] = 14] = "ARROW_BACK";
    Icon[Icon["TOGGLE_ON"] = 15] = "TOGGLE_ON";
    Icon[Icon["TOGGLE_OFF"] = 16] = "TOGGLE_OFF";
})(Icon = exports.Icon || (exports.Icon = {}));
var SvgImage = (function () {
    function SvgImage() {
    }
    SvgImage.getSvgString = function (type) {
        switch (type) {
            case Icon.KEYBOARD:
                return ic_keyboard_678_48dp_svg_1.default;
            case Icon.MORE:
                return ic_more_horiz_678_48dp_svg_1.default;
            case Icon.CAMERA:
                return ic_photo_camera_678_48dp_svg_1.default;
            case Icon.POWER:
                return ic_power_settings_new_678_48px_svg_1.default;
            case Icon.VOLUME_DOWN:
                return ic_volume_down_678_48px_svg_1.default;
            case Icon.VOLUME_UP:
                return ic_volume_up_678_48px_svg_1.default;
            case Icon.BACK:
                return System_Back_678_svg_1.default;
            case Icon.HOME:
                return System_Home_678_svg_1.default;
            case Icon.OVERVIEW:
                return System_Overview_678_svg_1.default;
            case Icon.CANCEL:
                return cancel_svg_1.default;
            case Icon.OFFLINE:
                return offline_svg_1.default;
            case Icon.REFRESH:
                return refresh_svg_1.default;
            case Icon.SETTINGS:
                return settings_svg_1.default;
            case Icon.MENU:
                return menu_svg_1.default;
            case Icon.ARROW_BACK:
                return arrow_back_svg_1.default;
            case Icon.TOGGLE_ON:
                return toggle_on_svg_1.default;
            case Icon.TOGGLE_OFF:
                return toggle_off_svg_1.default;
            default:
                return '';
        }
    };
    SvgImage.create = function (type) {
        var dummy = document.createElement('div');
        dummy.innerHTML = this.getSvgString(type);
        var svg = dummy.children[0];
        var titles = svg.getElementsByTagName('title');
        for (var i = 0, l = titles.length; i < l; i++) {
            svg.removeChild(titles[i]);
        }
        return svg;
    };
    SvgImage.Icon = Icon;
    return SvgImage;
}());
exports["default"] = SvgImage;


/***/ }),

/***/ "./src/common/Action.ts":
/*!******************************!*\
  !*** ./src/common/Action.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ACTION = void 0;
var ACTION;
(function (ACTION) {
    ACTION["LIST_HOSTS"] = "list-hosts";
    ACTION["APPL_DEVICE_LIST"] = "appl-device-list";
    ACTION["GOOG_DEVICE_LIST"] = "goog-device-list";
    ACTION["MULTIPLEX"] = "multiplex";
    ACTION["SHELL"] = "shell";
    ACTION["PROXY_WS"] = "proxy-ws";
    ACTION["PROXY_ADB"] = "proxy-adb";
    ACTION["DEVTOOLS"] = "devtools";
    ACTION["STREAM_SCRCPY"] = "stream";
    ACTION["STREAM_WS_QVH"] = "stream-qvh";
    ACTION["STREAM_MJPEG"] = "stream-mjpeg";
    ACTION["PROXY_WDA"] = "proxy-wda";
    ACTION["FILE_LISTING"] = "list-files";
})(ACTION = exports.ACTION || (exports.ACTION = {}));


/***/ }),

/***/ "./src/common/ChannelCode.ts":
/*!***********************************!*\
  !*** ./src/common/ChannelCode.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ChannelCode = void 0;
var ChannelCode;
(function (ChannelCode) {
    ChannelCode["FSLS"] = "FSLS";
    ChannelCode["HSTS"] = "HSTS";
    ChannelCode["SHEL"] = "SHEL";
    ChannelCode["GTRC"] = "GTRC";
    ChannelCode["ATRC"] = "ATRC";
    ChannelCode["WDAP"] = "WDAP";
    ChannelCode["QVHS"] = "QVHS";
})(ChannelCode = exports.ChannelCode || (exports.ChannelCode = {}));


/***/ }),

/***/ "./src/common/Constants.ts":
/*!*********************************!*\
  !*** ./src/common/Constants.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ARGS_STRING = exports.SERVER_PROCESS_NAME = exports.LOG_LEVEL = exports.SERVER_TYPE = exports.SERVER_VERSION = exports.SERVER_PORT = exports.SERVER_PACKAGE = void 0;
exports.SERVER_PACKAGE = 'com.genymobile.scrcpy.Server';
exports.SERVER_PORT = 8886;
exports.SERVER_VERSION = '1.19-ws6';
exports.SERVER_TYPE = 'web';
exports.LOG_LEVEL = 'ERROR';
var SCRCPY_LISTENS_ON_ALL_INTERFACES;
SCRCPY_LISTENS_ON_ALL_INTERFACES = true;
var ARGUMENTS = [exports.SERVER_VERSION, exports.SERVER_TYPE, exports.LOG_LEVEL, exports.SERVER_PORT, SCRCPY_LISTENS_ON_ALL_INTERFACES];
exports.SERVER_PROCESS_NAME = 'app_process';
exports.ARGS_STRING = "/ ".concat(exports.SERVER_PACKAGE, " ").concat(ARGUMENTS.join(' '), " 2>&1 > /dev/null");


/***/ }),

/***/ "./src/common/ControlCenterCommand.ts":
/*!********************************************!*\
  !*** ./src/common/ControlCenterCommand.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ControlCenterCommand = void 0;
var ControlCenterCommand = (function () {
    function ControlCenterCommand() {
        this.id = -1;
        this.type = '';
        this.pid = 0;
        this.udid = '';
        this.method = '';
    }
    ControlCenterCommand.fromJSON = function (json) {
        var body = JSON.parse(json);
        if (!body) {
            throw new Error('Invalid input');
        }
        var command = new ControlCenterCommand();
        var data = (command.data = body.data);
        command.id = body.id;
        command.type = body.type;
        if (typeof data.udid === 'string') {
            command.udid = data.udid;
        }
        switch (body.type) {
            case this.KILL_SERVER:
                if (typeof data.pid !== 'number' && data.pid <= 0) {
                    throw new Error('Invalid "pid" value');
                }
                command.pid = data.pid;
                return command;
            case this.REQUEST_WDA:
                if (typeof data.method !== 'string') {
                    throw new Error('Invalid "method" value');
                }
                command.method = data.method;
                command.args = data.args;
                return command;
            case this.START_SERVER:
            case this.UPDATE_INTERFACES:
            case this.CONFIGURE_STREAM:
            case this.RUN_WDA:
                return command;
            default:
                throw new Error("Unknown command \"".concat(body.command, "\""));
        }
    };
    ControlCenterCommand.prototype.getType = function () {
        return this.type;
    };
    ControlCenterCommand.prototype.getPid = function () {
        return this.pid;
    };
    ControlCenterCommand.prototype.getUdid = function () {
        return this.udid;
    };
    ControlCenterCommand.prototype.getId = function () {
        return this.id;
    };
    ControlCenterCommand.prototype.getMethod = function () {
        return this.method;
    };
    ControlCenterCommand.prototype.getData = function () {
        return this.data;
    };
    ControlCenterCommand.prototype.getArgs = function () {
        return this.args;
    };
    ControlCenterCommand.KILL_SERVER = 'kill_server';
    ControlCenterCommand.START_SERVER = 'start_server';
    ControlCenterCommand.UPDATE_INTERFACES = 'update_interfaces';
    ControlCenterCommand.CONFIGURE_STREAM = 'configure_stream';
    ControlCenterCommand.RUN_WDA = 'run-wda';
    ControlCenterCommand.REQUEST_WDA = 'request-wda';
    return ControlCenterCommand;
}());
exports.ControlCenterCommand = ControlCenterCommand;


/***/ }),

/***/ "./src/common/DeviceState.ts":
/*!***********************************!*\
  !*** ./src/common/DeviceState.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DeviceState = void 0;
var DeviceState;
(function (DeviceState) {
    DeviceState["DEVICE"] = "device";
    DeviceState["DISCONNECTED"] = "disconnected";
    DeviceState["CONNECTED"] = "Connected";
})(DeviceState = exports.DeviceState || (exports.DeviceState = {}));


/***/ }),

/***/ "./src/common/HostTrackerMessage.ts":
/*!******************************************!*\
  !*** ./src/common/HostTrackerMessage.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageType = void 0;
var MessageType;
(function (MessageType) {
    MessageType["HOSTS"] = "hosts";
    MessageType["ERROR"] = "error";
})(MessageType = exports.MessageType || (exports.MessageType = {}));


/***/ }),

/***/ "./src/common/TypedEmitter.ts":
/*!************************************!*\
  !*** ./src/common/TypedEmitter.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TypedEmitter = void 0;
var events_1 = __webpack_require__(/*! events */ "./node_modules/events/events.js");
var TypedEmitter = (function () {
    function TypedEmitter() {
        this.emitter = new events_1.EventEmitter();
    }
    TypedEmitter.prototype.addEventListener = function (eventName, fn) {
        this.emitter.on(eventName, fn);
    };
    TypedEmitter.prototype.removeEventListener = function (eventName, fn) {
        this.emitter.off(eventName, fn);
    };
    TypedEmitter.prototype.dispatchEvent = function (event) {
        return this.emitter.emit(event.type, event);
    };
    TypedEmitter.prototype.on = function (eventName, fn) {
        this.emitter.on(eventName, fn);
    };
    TypedEmitter.prototype.once = function (eventName, fn) {
        this.emitter.once(eventName, fn);
    };
    TypedEmitter.prototype.off = function (eventName, fn) {
        this.emitter.off(eventName, fn);
    };
    TypedEmitter.prototype.emit = function (eventName, params) {
        return this.emitter.emit(eventName, params);
    };
    return TypedEmitter;
}());
exports.TypedEmitter = TypedEmitter;


/***/ }),

/***/ "./src/packages/multiplexer/CloseEventClass.ts":
/*!*****************************************************!*\
  !*** ./src/packages/multiplexer/CloseEventClass.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CloseEventClass = exports.CloseEvent2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var CloseEvent2 = (function (_super) {
    tslib_1.__extends(CloseEvent2, _super);
    function CloseEvent2(type, _a) {
        var _b = _a === void 0 ? {} : _a, code = _b.code, reason = _b.reason;
        var _this = _super.call(this, type) || this;
        _this.code = code || 0;
        _this.reason = reason || '';
        _this.wasClean = _this.code === 0;
        return _this;
    }
    return CloseEvent2;
}(Event_1.Event2));
exports.CloseEvent2 = CloseEvent2;
exports.CloseEventClass = typeof CloseEvent !== 'undefined' ? CloseEvent : CloseEvent2;


/***/ }),

/***/ "./src/packages/multiplexer/ErrorEventClass.ts":
/*!*****************************************************!*\
  !*** ./src/packages/multiplexer/ErrorEventClass.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ErrorEventClass = exports.ErrorEvent2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var ErrorEvent2 = (function (_super) {
    tslib_1.__extends(ErrorEvent2, _super);
    function ErrorEvent2(type, _a) {
        var _b = _a === void 0 ? {} : _a, colno = _b.colno, error = _b.error, filename = _b.filename, lineno = _b.lineno, message = _b.message;
        var _this = _super.call(this, type) || this;
        _this.error = error;
        _this.colno = colno || 0;
        _this.filename = filename || '';
        _this.lineno = lineno || 0;
        _this.message = message || '';
        return _this;
    }
    return ErrorEvent2;
}(Event_1.Event2));
exports.ErrorEvent2 = ErrorEvent2;
exports.ErrorEventClass = typeof ErrorEvent !== 'undefined' ? ErrorEvent : ErrorEvent2;


/***/ }),

/***/ "./src/packages/multiplexer/Event.ts":
/*!*******************************************!*\
  !*** ./src/packages/multiplexer/Event.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EventClass = exports.Event2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event2 = (function () {
    function Event2(type, options) {
        if (options === void 0) { options = { cancelable: true, bubbles: true, composed: false }; }
        this.isTrusted = true;
        this.AT_TARGET = 0;
        this.BUBBLING_PHASE = 0;
        this.CAPTURING_PHASE = 0;
        this.NONE = 0;
        var _a = tslib_1.__assign({}, options), cancelable = _a.cancelable, bubbles = _a.bubbles, composed = _a.composed;
        this.cancelable = !!cancelable;
        this.bubbles = !!bubbles;
        this.composed = !!composed;
        this.type = "".concat(type);
        this.defaultPrevented = false;
        this.timeStamp = Date.now();
        this.target = null;
    }
    Event2.prototype.stopImmediatePropagation = function () {
    };
    Event2.prototype.preventDefault = function () {
        this.defaultPrevented = true;
    };
    Object.defineProperty(Event2.prototype, "currentTarget", {
        get: function () {
            return this.target;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Event2.prototype, "srcElement", {
        get: function () {
            return this.target;
        },
        enumerable: false,
        configurable: true
    });
    Event2.prototype.composedPath = function () {
        return this.target ? [this.target] : [];
    };
    Object.defineProperty(Event2.prototype, "returnValue", {
        get: function () {
            return !this.defaultPrevented;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Event2.prototype, "eventPhase", {
        get: function () {
            return this.target ? Event.AT_TARGET : Event.NONE;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Event2.prototype, "cancelBubble", {
        get: function () {
            return false;
        },
        set: function (value) {
            if (value) {
                this.stopPropagation();
            }
        },
        enumerable: false,
        configurable: true
    });
    Event2.prototype.stopPropagation = function () {
    };
    Event2.prototype.initEvent = function (type, bubbles, cancelable) {
        this.type = type;
        if (arguments.length > 1) {
            this.bubbles = !!bubbles;
        }
        if (arguments.length > 2) {
            this.cancelable = !!cancelable;
        }
    };
    Event2.NONE = 0;
    Event2.CAPTURING_PHASE = 1;
    Event2.AT_TARGET = 2;
    Event2.BUBBLING_PHASE = 3;
    return Event2;
}());
exports.Event2 = Event2;
exports.EventClass = typeof Event !== 'undefined' ? Event : Event2;


/***/ }),

/***/ "./src/packages/multiplexer/Message.ts":
/*!*********************************************!*\
  !*** ./src/packages/multiplexer/Message.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Message = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var MessageType_1 = __webpack_require__(/*! ./MessageType */ "./src/packages/multiplexer/MessageType.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../app/Util */ "./src/app/Util.ts"));
var CloseEventClass_1 = __webpack_require__(/*! ./CloseEventClass */ "./src/packages/multiplexer/CloseEventClass.ts");
var Message = (function () {
    function Message(type, channelId, data) {
        this.type = type;
        this.channelId = channelId;
        this.data = data;
    }
    Message.parse = function (buffer) {
        var view = Buffer.from(buffer);
        var type = view.readUInt8(0);
        var channelId = view.readUInt32LE(1);
        var data = buffer.slice(5);
        return new Message(type, channelId, data);
    };
    Message.fromCloseEvent = function (id, code, reason) {
        var reasonBuffer = reason ? Util_1.default.stringToUtf8ByteArray(reason) : Buffer.alloc(0);
        var buffer = Buffer.alloc(2 + 4 + reasonBuffer.byteLength);
        buffer.writeUInt16LE(code, 0);
        if (reasonBuffer.byteLength) {
            buffer.writeUInt32LE(reasonBuffer.byteLength, 2);
            buffer.set(reasonBuffer, 6);
        }
        return new Message(MessageType_1.MessageType.CloseChannel, id, buffer);
    };
    Message.createBuffer = function (type, channelId, data) {
        var result = Buffer.alloc(5 + (data ? data.byteLength : 0));
        result.writeUInt8(type, 0);
        result.writeUInt32LE(channelId, 1);
        if (data === null || data === void 0 ? void 0 : data.byteLength) {
            result.set(Buffer.from(data), 5);
        }
        return result;
    };
    Message.prototype.toCloseEvent = function () {
        var code;
        var reason;
        if (this.data && this.data.byteLength) {
            var buffer = Buffer.from(this.data);
            code = buffer.readUInt16LE(0);
            if (buffer.byteLength > 6) {
                var length_1 = buffer.readUInt32LE(2);
                reason = Util_1.default.utf8ByteArrayToString(buffer.slice(6, 6 + length_1));
            }
        }
        return new CloseEventClass_1.CloseEventClass('close', {
            code: code,
            reason: reason,
            wasClean: code === 1000,
        });
    };
    Message.prototype.toBuffer = function () {
        return Message.createBuffer(this.type, this.channelId, this.data);
    };
    return Message;
}());
exports.Message = Message;


/***/ }),

/***/ "./src/packages/multiplexer/MessageEventClass.ts":
/*!*******************************************************!*\
  !*** ./src/packages/multiplexer/MessageEventClass.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageEventClass = exports.MessageEvent2 = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var MessageEvent2 = (function (_super) {
    tslib_1.__extends(MessageEvent2, _super);
    function MessageEvent2(type, _a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.data, data = _c === void 0 ? null : _c, _d = _b.origin, origin = _d === void 0 ? '' : _d, _e = _b.lastEventId, lastEventId = _e === void 0 ? '' : _e, _f = _b.source, source = _f === void 0 ? null : _f, _g = _b.ports, ports = _g === void 0 ? [] : _g;
        var _this = _super.call(this, type) || this;
        _this.data = data;
        _this.origin = "".concat(origin);
        _this.lastEventId = "".concat(lastEventId);
        _this.source = source;
        _this.ports = tslib_1.__spreadArray([], tslib_1.__read(ports), false);
        return _this;
    }
    MessageEvent2.prototype.initMessageEvent = function () {
        throw Error('Deprecated method');
    };
    return MessageEvent2;
}(Event_1.Event2));
exports.MessageEvent2 = MessageEvent2;
exports.MessageEventClass = typeof MessageEvent !== 'undefined' ? MessageEvent : MessageEvent2;


/***/ }),

/***/ "./src/packages/multiplexer/MessageType.ts":
/*!*************************************************!*\
  !*** ./src/packages/multiplexer/MessageType.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageType = void 0;
var MessageType;
(function (MessageType) {
    MessageType[MessageType["CreateChannel"] = 4] = "CreateChannel";
    MessageType[MessageType["CloseChannel"] = 8] = "CloseChannel";
    MessageType[MessageType["RawBinaryData"] = 16] = "RawBinaryData";
    MessageType[MessageType["RawStringData"] = 32] = "RawStringData";
    MessageType[MessageType["Data"] = 64] = "Data";
})(MessageType = exports.MessageType || (exports.MessageType = {}));


/***/ }),

/***/ "./src/packages/multiplexer/Multiplexer.ts":
/*!*************************************************!*\
  !*** ./src/packages/multiplexer/Multiplexer.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Multiplexer = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var TypedEmitter_1 = __webpack_require__(/*! ../../common/TypedEmitter */ "./src/common/TypedEmitter.ts");
var Message_1 = __webpack_require__(/*! ./Message */ "./src/packages/multiplexer/Message.ts");
var MessageType_1 = __webpack_require__(/*! ./MessageType */ "./src/packages/multiplexer/MessageType.ts");
var Event_1 = __webpack_require__(/*! ./Event */ "./src/packages/multiplexer/Event.ts");
var CloseEventClass_1 = __webpack_require__(/*! ./CloseEventClass */ "./src/packages/multiplexer/CloseEventClass.ts");
var ErrorEventClass_1 = __webpack_require__(/*! ./ErrorEventClass */ "./src/packages/multiplexer/ErrorEventClass.ts");
var MessageEventClass_1 = __webpack_require__(/*! ./MessageEventClass */ "./src/packages/multiplexer/MessageEventClass.ts");
var Util_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../app/Util */ "./src/app/Util.ts"));
var Multiplexer = (function (_super) {
    tslib_1.__extends(Multiplexer, _super);
    function Multiplexer(ws, _id, emitter) {
        if (_id === void 0) { _id = 0; }
        var _this = _super.call(this) || this;
        _this.ws = ws;
        _this._id = _id;
        _this.CONNECTING = 0;
        _this.OPEN = 1;
        _this.CLOSING = 2;
        _this.CLOSED = 3;
        _this.binaryType = 'blob';
        _this.channels = new Map();
        _this.nextId = 0;
        _this.maxId = 4294967296;
        _this.storage = [];
        _this.emptyTimerScheduled = false;
        _this.onclose = null;
        _this.onerror = null;
        _this.onmessage = null;
        _this.onopen = null;
        _this.url = '';
        _this.readyState = _this.CONNECTING;
        if (_this._id === 0) {
            ws.binaryType = 'arraybuffer';
            _this.readyState = _this.ws.readyState;
        }
        _this.messageEmitter = emitter || ws;
        var onOpenHandler = function (event) {
            _this.readyState = _this.ws.readyState;
            _this.dispatchEvent(event);
        };
        var onCloseHandler = function (event) {
            _this.readyState = _this.ws.readyState;
            _this.dispatchEvent(event);
            _this.channels.clear();
        };
        var onErrorHandler = function (event) {
            _this.readyState = _this.ws.readyState;
            _this.dispatchEvent(event);
            _this.channels.clear();
        };
        var onMessageHandler = function (event) {
            var data = event.data;
            var message = Message_1.Message.parse(data);
            switch (message.type) {
                case MessageType_1.MessageType.CreateChannel: {
                    var channelId = message.channelId, data_1 = message.data;
                    if (_this.nextId < channelId) {
                        _this.nextId = channelId;
                    }
                    var channel = _this._createChannel(channelId, false);
                    _this.emit('channel', { channel: channel, data: data_1 });
                    break;
                }
                case MessageType_1.MessageType.RawStringData: {
                    var data_2 = _this.channels.get(message.channelId);
                    if (data_2) {
                        var channel = data_2.channel;
                        var msg = new MessageEventClass_1.MessageEventClass('message', {
                            data: Util_1.default.utf8ByteArrayToString(Buffer.from(message.data)),
                            lastEventId: event.lastEventId,
                            origin: event.origin,
                            source: event.source,
                        });
                        channel.dispatchEvent(msg);
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                case MessageType_1.MessageType.RawBinaryData: {
                    var data_3 = _this.channels.get(message.channelId);
                    if (data_3) {
                        var channel = data_3.channel;
                        var msg = new MessageEventClass_1.MessageEventClass('message', {
                            data: message.data,
                            lastEventId: event.lastEventId,
                            origin: event.origin,
                            source: event.source,
                        });
                        channel.dispatchEvent(msg);
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                case MessageType_1.MessageType.Data: {
                    var data_4 = _this.channels.get(message.channelId);
                    if (data_4) {
                        var emitter_1 = data_4.emitter;
                        var msg = new MessageEventClass_1.MessageEventClass('message', {
                            data: message.data,
                            lastEventId: event.lastEventId,
                            origin: event.origin,
                            source: event.source,
                        });
                        emitter_1.dispatchEvent(msg);
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                case MessageType_1.MessageType.CloseChannel: {
                    var data_5 = _this.channels.get(message.channelId);
                    if (data_5) {
                        var channel = data_5.channel;
                        channel.readyState = channel.CLOSING;
                        try {
                            channel.dispatchEvent(message.toCloseEvent());
                        }
                        finally {
                            channel.readyState = channel.CLOSED;
                        }
                    }
                    else {
                        console.error("Channel with id (".concat(message.channelId, ") not found"));
                    }
                    break;
                }
                default:
                    var error = new Error("Unsupported message type: ".concat(message.type));
                    _this.dispatchEvent(new ErrorEventClass_1.ErrorEventClass('error', { error: error }));
            }
        };
        var onThisOpenHandler = function () {
            if (!_this.storage.length) {
                return;
            }
            var ws = _this.ws;
            if (ws instanceof Multiplexer) {
                _this.storage.forEach(function (data) { return ws.sendData(data); });
            }
            else {
                _this.storage.forEach(function (data) { return ws.send(data); });
            }
            _this.storage.length = 0;
        };
        var onThisCloseHandler = function () {
            ws.removeEventListener('open', onOpenHandler);
            ws.removeEventListener('error', onErrorHandler);
            ws.removeEventListener('close', onCloseHandler);
            _this.messageEmitter.removeEventListener('message', onMessageHandler);
            _this.off('close', onThisCloseHandler);
            _this.off('open', onThisOpenHandler);
        };
        ws.addEventListener('open', onOpenHandler);
        ws.addEventListener('error', onErrorHandler);
        ws.addEventListener('close', onCloseHandler);
        _this.messageEmitter.addEventListener('message', onMessageHandler);
        _this.on('close', onThisCloseHandler);
        _this.on('open', onThisOpenHandler);
        _this.scheduleEmptyEvent();
        return _this;
    }
    Multiplexer.wrap = function (ws) {
        return new Multiplexer(ws);
    };
    Object.defineProperty(Multiplexer.prototype, "bufferedAmount", {
        get: function () {
            return 0;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Multiplexer.prototype, "extensions", {
        get: function () {
            return '';
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Multiplexer.prototype, "protocol", {
        get: function () {
            return '';
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Multiplexer.prototype, "id", {
        get: function () {
            return this._id;
        },
        enumerable: false,
        configurable: true
    });
    Multiplexer.prototype.scheduleEmptyEvent = function () {
        var _this = this;
        if (this.emptyTimerScheduled) {
            return;
        }
        this.emptyTimerScheduled = true;
        Promise.resolve().then(function () {
            if (_this.emptyTimerScheduled) {
                _this.emptyTimerScheduled = false;
                _this.emit('empty', _this);
            }
        });
    };
    Multiplexer.prototype.clearEmptyEvent = function () {
        if (this.emptyTimerScheduled) {
            this.emptyTimerScheduled = false;
        }
    };
    Multiplexer.prototype.close = function (code, reason) {
        if (code === void 0) { code = 1000; }
        if (this.readyState === this.CLOSED || this.readyState === this.CLOSING) {
            return;
        }
        if (this._id) {
            this.readyState = this.CLOSING;
            try {
                var message = Message_1.Message.fromCloseEvent(this._id, code, reason).toBuffer();
                if (this.ws instanceof Multiplexer) {
                    this.ws.sendData(message);
                }
                else {
                    this.ws.send(message);
                }
                this.emit('close', new CloseEventClass_1.CloseEventClass('close', { code: code, reason: reason }));
            }
            finally {
                this.readyState = this.CLOSED;
            }
        }
        else {
            this.ws.close(code, reason);
        }
    };
    Multiplexer.prototype.send = function (data) {
        if (this.ws instanceof Multiplexer) {
            if (typeof data === 'string') {
                data = Message_1.Message.createBuffer(MessageType_1.MessageType.RawStringData, this._id, Buffer.from(data));
            }
            else {
                data = Message_1.Message.createBuffer(MessageType_1.MessageType.RawBinaryData, this._id, Buffer.from(data));
            }
        }
        this._send(data);
    };
    Multiplexer.prototype.sendData = function (data) {
        if (this.ws instanceof Multiplexer) {
            data = Message_1.Message.createBuffer(MessageType_1.MessageType.Data, this._id, Buffer.from(data));
        }
        this._send(data);
    };
    Multiplexer.prototype._send = function (data) {
        var readyState = this.readyState;
        if (readyState === this.OPEN) {
            if (this.ws instanceof Multiplexer) {
                this.ws.sendData(data);
            }
            else {
                this.ws.send(data);
            }
        }
        else if (readyState === this.ws.CONNECTING) {
            this.storage.push(data);
        }
        else {
            throw Error("Socket is already in CLOSING or CLOSED state.");
        }
    };
    Multiplexer.prototype._createChannel = function (id, sendOpenEvent) {
        var _this = this;
        var emitter = new TypedEmitter_1.TypedEmitter();
        var channel = new Multiplexer(this, id, emitter);
        this.channels.set(id, { channel: channel, emitter: emitter });
        if (sendOpenEvent) {
            if (this.readyState === this.OPEN) {
                Util_1.default.setImmediate(function () {
                    channel.readyState = _this.OPEN;
                    channel.dispatchEvent(new Event_1.EventClass('open'));
                });
            }
        }
        else {
            channel.readyState = this.readyState;
        }
        channel.addEventListener('close', function () {
            _this.channels.delete(id);
            if (!_this.channels.size) {
                _this.scheduleEmptyEvent();
            }
        });
        this.clearEmptyEvent();
        return channel;
    };
    Multiplexer.prototype.createChannel = function (data) {
        if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {
            throw Error('Incorrect socket state');
        }
        var id = this.getNextId();
        var channel = this._createChannel(id, true);
        this.sendData(Message_1.Message.createBuffer(MessageType_1.MessageType.CreateChannel, id, data));
        return channel;
    };
    Multiplexer.prototype.getNextId = function () {
        var hitTop = false;
        while (this.channels.has(++this.nextId)) {
            if (this.nextId === this.maxId) {
                if (hitTop) {
                    throw Error('No available id');
                }
                this.nextId = 0;
                hitTop = true;
            }
        }
        return this.nextId;
    };
    Multiplexer.prototype.dispatchEvent = function (event) {
        if (event.type === 'close' && typeof this.onclose === 'function') {
            Reflect.apply(this.onclose, this, [event]);
        }
        if (event.type === 'open' && typeof this.onopen === 'function') {
            Reflect.apply(this.onopen, this, [event]);
        }
        if (event.type === 'message' && typeof this.onmessage === 'function') {
            Reflect.apply(this.onmessage, this, [event]);
        }
        if (event.type === 'error' && typeof this.onerror === 'function') {
            Reflect.apply(this.onerror, this, [event]);
        }
        return _super.prototype.dispatchEvent.call(this, event);
    };
    return Multiplexer;
}(TypedEmitter_1.TypedEmitter));
exports.Multiplexer = Multiplexer;


/***/ }),

/***/ "./src/types/RemoteDevtoolsCommand.ts":
/*!********************************************!*\
  !*** ./src/types/RemoteDevtoolsCommand.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RemoteDevtoolsCommand = void 0;
var RemoteDevtoolsCommand;
(function (RemoteDevtoolsCommand) {
    RemoteDevtoolsCommand["LIST_DEVTOOLS"] = "list_devtools";
})(RemoteDevtoolsCommand = exports.RemoteDevtoolsCommand || (exports.RemoteDevtoolsCommand = {}));


/***/ }),

/***/ "./vendor/h264-live-player/Canvas.ts":
/*!*******************************************!*\
  !*** ./vendor/h264-live-player/Canvas.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Canvas = (function () {
    function Canvas(canvas, size) {
        this.canvas = canvas;
        this.size = size;
    }
    return Canvas;
}());
exports["default"] = Canvas;


/***/ }),

/***/ "./vendor/h264-live-player/Program.ts":
/*!********************************************!*\
  !*** ./vendor/h264-live-player/Program.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var assert_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/assert */ "./vendor/h264-live-player/utils/assert.ts"));
var Program = (function () {
    function Program(gl) {
        this.gl = gl;
        this.program = this.gl.createProgram();
    }
    Program.prototype.attach = function (shader) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        if (!shader.shader) {
            throw Error("Shader type is ".concat(typeof shader.shader));
        }
        this.gl.attachShader(this.program, shader.shader);
    };
    Program.prototype.link = function () {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        this.gl.linkProgram(this.program);
        (0, assert_1.default)(this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS), 'Unable to initialize the shader program.');
    };
    Program.prototype.use = function () {
        this.gl.useProgram(this.program);
    };
    Program.prototype.getAttributeLocation = function (name) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        return this.gl.getAttribLocation(this.program, name);
    };
    Program.prototype.setMatrixUniform = function (name, array) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        var uniform = this.gl.getUniformLocation(this.program, name);
        this.gl.uniformMatrix4fv(uniform, false, array);
    };
    return Program;
}());
exports["default"] = Program;


/***/ }),

/***/ "./vendor/h264-live-player/Script.ts":
/*!*******************************************!*\
  !*** ./vendor/h264-live-player/Script.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Script = (function () {
    function Script(type, source) {
        this.type = type;
        this.source = source;
    }
    Script.createFromElementId = function (id) {
        var script = document.getElementById(id);
        if (!script) {
            throw Error('Could not find shader with ID: ' + id);
        }
        var source = '';
        var currentChild = script.firstChild;
        while (currentChild) {
            if (currentChild.nodeType === 3) {
                source += currentChild.textContent;
            }
            currentChild = currentChild.nextSibling;
        }
        return new Script(script.type, source);
    };
    Script.createFromSource = function (type, source) {
        return new Script(type, source);
    };
    return Script;
}());
exports["default"] = Script;


/***/ }),

/***/ "./vendor/h264-live-player/Shader.ts":
/*!*******************************************!*\
  !*** ./vendor/h264-live-player/Shader.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var error_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/error */ "./vendor/h264-live-player/utils/error.ts"));
var Shader = (function () {
    function Shader(gl, script) {
        this.gl = gl;
        this.script = script;
        if (script.type === 'x-shader/x-fragment') {
            this.shader = gl.createShader(gl.FRAGMENT_SHADER);
        }
        else if (script.type === 'x-shader/x-vertex') {
            this.shader = gl.createShader(gl.VERTEX_SHADER);
        }
        else {
            (0, error_1.default)("Unknown shader type: ".concat(script.type));
            return;
        }
        if (!this.shader) {
            (0, error_1.default)("Shader is ".concat(typeof this.shader));
            return;
        }
        gl.shaderSource(this.shader, script.source);
        gl.compileShader(this.shader);
        if (!gl.getShaderParameter(this.shader, gl.COMPILE_STATUS)) {
            (0, error_1.default)('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(this.shader));
            return;
        }
    }
    return Shader;
}());
exports["default"] = Shader;


/***/ }),

/***/ "./vendor/h264-live-player/Texture.ts":
/*!********************************************!*\
  !*** ./vendor/h264-live-player/Texture.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var assert_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/assert */ "./vendor/h264-live-player/utils/assert.ts"));
var Texture = (function () {
    function Texture(gl, size, format) {
        this.gl = gl;
        this.size = size;
        this.texture = gl.createTexture();
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        this.format = format ? format : gl.LUMINANCE;
        if (size) {
            gl.texImage2D(gl.TEXTURE_2D, 0, this.format, size.w, size.h, 0, this.format, gl.UNSIGNED_BYTE, null);
        }
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        this.textureIDs = [gl.TEXTURE0, gl.TEXTURE1, gl.TEXTURE2];
    }
    Texture.create = function (gl, format) {
        return new Texture(gl, undefined, format);
    };
    Texture.prototype.fill = function (textureData, useTexSubImage2D, w, h) {
        if (typeof w === 'undefined' || typeof h === 'undefined') {
            if (!this.size) {
                return;
            }
            w = this.size.w;
            h = this.size.h;
        }
        var gl = this.gl;
        (0, assert_1.default)(textureData.length >= w * h, 'Texture size mismatch, data:' + textureData.length + ', texture: ' + w * h);
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        if (useTexSubImage2D) {
            gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, w, h, this.format, gl.UNSIGNED_BYTE, textureData);
        }
        else {
            gl.texImage2D(gl.TEXTURE_2D, 0, this.format, w, h, 0, this.format, gl.UNSIGNED_BYTE, textureData);
        }
    };
    Texture.prototype.image2dBuffer = function (buffer, width, height) {
        this.fill(buffer, false, width, height);
    };
    Texture.prototype.bind = function (n, program, name) {
        var gl = this.gl;
        if (!program.program) {
            return;
        }
        gl.activeTexture(this.textureIDs[n]);
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        gl.uniform1i(gl.getUniformLocation(program.program, name), n);
    };
    return Texture;
}());
exports["default"] = Texture;


/***/ }),

/***/ "./vendor/h264-live-player/WebGLCanvas.ts":
/*!************************************************!*\
  !*** ./vendor/h264-live-player/WebGLCanvas.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Texture_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Texture */ "./vendor/h264-live-player/Texture.ts"));
var error_1 = tslib_1.__importDefault(__webpack_require__(/*! ./utils/error */ "./vendor/h264-live-player/utils/error.ts"));
var sylvester_js_1 = __webpack_require__(/*! sylvester.js */ "./node_modules/sylvester.js/lib/index.js");
var Program_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Program */ "./vendor/h264-live-player/Program.ts"));
var Shader_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Shader */ "./vendor/h264-live-player/Shader.ts"));
var glUtils_1 = __webpack_require__(/*! ./utils/glUtils */ "./vendor/h264-live-player/utils/glUtils.ts");
var Script_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Script */ "./vendor/h264-live-player/Script.ts"));
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/h264-live-player/Canvas.ts"));
var WebGLCanvas = (function (_super) {
    tslib_1.__extends(WebGLCanvas, _super);
    function WebGLCanvas(canvas, size, useFrameBuffer) {
        var _this = _super.call(this, canvas, size) || this;
        _this.canvas = canvas;
        _this.size = size;
        _this.canvas.width = size.w;
        _this.canvas.height = size.h;
        _this.onInitWebGL();
        _this.onInitShaders();
        _this.initBuffers();
        if (useFrameBuffer) {
            _this.initFramebuffer();
        }
        _this.onInitTextures();
        _this.initScene();
        return _this;
    }
    WebGLCanvas.prototype.initFramebuffer = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.framebuffer = gl.createFramebuffer();
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);
        this.framebufferTexture = new Texture_1.default(gl, this.size, gl.RGBA);
        var renderbuffer = gl.createRenderbuffer();
        gl.bindRenderbuffer(gl.RENDERBUFFER, renderbuffer);
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.size.w, this.size.h);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.framebufferTexture.texture, 0);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderbuffer);
    };
    WebGLCanvas.prototype.initBuffers = function () {
        var tmp;
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.quadVPBuffer = gl.createBuffer();
        if (!this.quadVPBuffer) {
            (0, error_1.default)("quadVPBuffer type is ".concat(typeof gl));
            return;
        }
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVPBuffer);
        tmp = [
            1.0, 1.0, 0.0,
            -1.0, 1.0, 0.0,
            1.0, -1.0, 0.0,
            -1.0, -1.0, 0.0
        ];
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(tmp), gl.STATIC_DRAW);
        var scaleX = 1.0;
        var scaleY = 1.0;
        this.quadVTCBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVTCBuffer);
        tmp = [
            scaleX, 0.0,
            0.0, 0.0,
            scaleX, scaleY,
            0.0, scaleY
        ];
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(tmp), gl.STATIC_DRAW);
    };
    WebGLCanvas.prototype.mvIdentity = function () {
        this.mvMatrix = sylvester_js_1.Matrix.I(4);
    };
    WebGLCanvas.prototype.mvMultiply = function (m) {
        this.mvMatrix = this.mvMatrix.x(m);
    };
    WebGLCanvas.prototype.mvTranslate = function (m) {
        var $V = sylvester_js_1.Vector.create;
        this.mvMultiply(sylvester_js_1.Matrix.Translation($V([m[0], m[1], m[2]])).ensure4x4());
    };
    WebGLCanvas.prototype.setMatrixUniforms = function () {
        if (!this.program) {
            (0, error_1.default)("Program type is ".concat(typeof this.program));
            return;
        }
        this.program.setMatrixUniform('uPMatrix', new Float32Array(this.perspectiveMatrix.flatten()));
        this.program.setMatrixUniform('uMVMatrix', new Float32Array(this.mvMatrix.flatten()));
    };
    WebGLCanvas.prototype.initScene = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.perspectiveMatrix = (0, glUtils_1.makePerspective)(45, 1, 0.1, 100.0);
        this.mvIdentity();
        this.mvTranslate([0.0, 0.0, -2.4]);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVPBuffer);
        gl.vertexAttribPointer(this.vertexPositionAttribute, 3, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.quadVTCBuffer);
        gl.vertexAttribPointer(this.textureCoordAttribute, 2, gl.FLOAT, false, 0, 0);
        this.onInitSceneTextures();
        this.setMatrixUniforms();
        if (this.framebuffer) {
            console.log('Bound Frame Buffer');
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);
        }
    };
    WebGLCanvas.prototype.toString = function () {
        return 'WebGLCanvas Size: ' + this.size;
    };
    WebGLCanvas.prototype.checkLastError = function (operation) {
        if (!this.gl || !this.glNames) {
            return;
        }
        var err = this.gl.getError();
        if (err !== this.gl.NO_ERROR) {
            var name_1 = this.glNames[err];
            name_1 = (name_1 !== undefined) ? name_1 + '(' + err + ')' :
                ('Unknown WebGL ENUM (0x' + err.toString(16) + ')');
            if (operation) {
                console.log('WebGL Error: %s, %s', operation, name_1);
            }
            else {
                console.log('WebGL Error: %s', name_1);
            }
            console.trace();
        }
    };
    WebGLCanvas.prototype.onInitWebGL = function () {
        try {
            this.gl = this.canvas.getContext('experimental-webgl', {
                preserveDrawingBuffer: true
            });
        }
        catch (e) {
        }
        if (!this.gl) {
            (0, error_1.default)('Unable to initialize WebGL. Your browser may not support it.');
            return;
        }
        if (this.glNames) {
            return;
        }
        this.glNames = {};
        for (var propertyName in this.gl) {
            if (this.gl.hasOwnProperty(propertyName)) {
                var value = this.gl[propertyName];
                if (typeof value === 'number') {
                    this.glNames[value] = propertyName;
                }
            }
        }
    };
    WebGLCanvas.prototype.onInitShaders = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.program = new Program_1.default(gl);
        this.program.attach(new Shader_1.default(gl, WebGLCanvas.vertexShaderScript));
        this.program.attach(new Shader_1.default(gl, WebGLCanvas.fragmentShaderScript));
        this.program.link();
        this.program.use();
        this.vertexPositionAttribute = this.program.getAttributeLocation('aVertexPosition');
        gl.enableVertexAttribArray(this.vertexPositionAttribute);
        this.textureCoordAttribute = this.program.getAttributeLocation('aTextureCoord');
        gl.enableVertexAttribArray(this.textureCoordAttribute);
    };
    WebGLCanvas.prototype.onInitTextures = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        this.texture = new Texture_1.default(gl, this.size, gl.RGBA);
    };
    WebGLCanvas.prototype.onInitSceneTextures = function () {
        if (!this.texture) {
            (0, error_1.default)("texture type is ".concat(typeof this.texture));
            return;
        }
        if (!this.program) {
            (0, error_1.default)("program type is ".concat(typeof this.texture));
            return;
        }
        this.texture.bind(0, this.program, 'texture');
    };
    WebGLCanvas.prototype.drawScene = function () {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
    };
    WebGLCanvas.prototype.readPixels = function (buffer) {
        var gl = this.gl;
        if (!gl) {
            (0, error_1.default)("gl type is ".concat(typeof gl));
            return;
        }
        gl.readPixels(0, 0, this.size.w, this.size.h, gl.RGBA, gl.UNSIGNED_BYTE, buffer);
    };
    WebGLCanvas.vertexShaderScript = Script_1.default.createFromSource('x-shader/x-vertex', "\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      varying highp vec2 vTextureCoord;\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ");
    WebGLCanvas.fragmentShaderScript = Script_1.default.createFromSource('x-shader/x-fragment', "\n      precision highp float;\n      varying highp vec2 vTextureCoord;\n      uniform sampler2D texture;\n      void main(void) {\n        gl_FragColor = texture2D(texture, vTextureCoord);\n      }\n    ");
    return WebGLCanvas;
}(Canvas_1.default));
exports["default"] = WebGLCanvas;


/***/ }),

/***/ "./vendor/h264-live-player/YUVCanvas.ts":
/*!**********************************************!*\
  !*** ./vendor/h264-live-player/YUVCanvas.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/h264-live-player/Canvas.ts"));
var YUVCanvas = (function (_super) {
    tslib_1.__extends(YUVCanvas, _super);
    function YUVCanvas(canvas, size) {
        var _this = _super.call(this, canvas, size) || this;
        _this.canvas = canvas;
        _this.size = size;
        _this.canvasCtx = _this.canvas.getContext('2d');
        _this.canvasBuffer = _this.canvasCtx.createImageData(size.w, size.h);
        return _this;
    }
    YUVCanvas.prototype.decode = function (buffer, width, height) {
        if (!buffer) {
            return;
        }
        var lumaSize = width * height;
        var chromaSize = lumaSize >> 2;
        var ybuf = buffer.subarray(0, lumaSize);
        var ubuf = buffer.subarray(lumaSize, lumaSize + chromaSize);
        var vbuf = buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize);
        for (var y = 0; y < height; y++) {
            for (var x = 0; x < width; x++) {
                var yIndex = x + y * width;
                var uIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var vIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var R = 1.164 * (ybuf[yIndex] - 16) + 1.596 * (vbuf[vIndex] - 128);
                var G = 1.164 * (ybuf[yIndex] - 16) - 0.813 * (vbuf[vIndex] - 128) - 0.391 * (ubuf[uIndex] - 128);
                var B = 1.164 * (ybuf[yIndex] - 16) + 2.018 * (ubuf[uIndex] - 128);
                var rgbIndex = yIndex * 4;
                this.canvasBuffer.data[rgbIndex + 0] = R;
                this.canvasBuffer.data[rgbIndex + 1] = G;
                this.canvasBuffer.data[rgbIndex + 2] = B;
                this.canvasBuffer.data[rgbIndex + 3] = 0xff;
            }
        }
        this.canvasCtx.putImageData(this.canvasBuffer, 0, 0);
    };
    return YUVCanvas;
}(Canvas_1.default));
exports["default"] = YUVCanvas;


/***/ }),

/***/ "./vendor/h264-live-player/YUVWebGLCanvas.ts":
/*!***************************************************!*\
  !*** ./vendor/h264-live-player/YUVWebGLCanvas.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var WebGLCanvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./WebGLCanvas */ "./vendor/h264-live-player/WebGLCanvas.ts"));
var Program_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Program */ "./vendor/h264-live-player/Program.ts"));
var Shader_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Shader */ "./vendor/h264-live-player/Shader.ts"));
var Script_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Script */ "./vendor/h264-live-player/Script.ts"));
var Texture_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Texture */ "./vendor/h264-live-player/Texture.ts"));
var YUVWebGLCanvas = (function (_super) {
    tslib_1.__extends(YUVWebGLCanvas, _super);
    function YUVWebGLCanvas(canvas, size) {
        var _this = _super.call(this, canvas, size, false) || this;
        _this.canvas = canvas;
        _this.size = size;
        return _this;
    }
    YUVWebGLCanvas.prototype.onInitShaders = function () {
        if (!this.gl) {
            return;
        }
        this.program = new Program_1.default(this.gl);
        this.program.attach(new Shader_1.default(this.gl, YUVWebGLCanvas.vertexShaderScript));
        this.program.attach(new Shader_1.default(this.gl, YUVWebGLCanvas.fragmentShaderScript));
        this.program.link();
        this.program.use();
        this.vertexPositionAttribute = this.program.getAttributeLocation('aVertexPosition');
        this.gl.enableVertexAttribArray(this.vertexPositionAttribute);
        this.textureCoordAttribute = this.program.getAttributeLocation('aTextureCoord');
        this.gl.enableVertexAttribArray(this.textureCoordAttribute);
    };
    YUVWebGLCanvas.prototype.onInitTextures = function () {
        if (!this.gl) {
            return;
        }
        this.YTexture = new Texture_1.default(this.gl, this.size);
        this.UTexture = new Texture_1.default(this.gl, this.size.getHalfSize());
        this.VTexture = new Texture_1.default(this.gl, this.size.getHalfSize());
    };
    YUVWebGLCanvas.prototype.onInitSceneTextures = function () {
        if (!this.program) {
            return;
        }
        if (!this.YTexture || !this.UTexture || !this.VTexture) {
            return;
        }
        this.YTexture.bind(0, this.program, 'YTexture');
        this.UTexture.bind(1, this.program, 'UTexture');
        this.VTexture.bind(2, this.program, 'VTexture');
    };
    YUVWebGLCanvas.prototype.fillYUVTextures = function (y, u, v) {
        if (!this.YTexture || !this.UTexture || !this.VTexture) {
            return;
        }
        this.YTexture.fill(y);
        this.UTexture.fill(u);
        this.VTexture.fill(v);
    };
    YUVWebGLCanvas.prototype.decode = function (buffer, width, height) {
        if (!buffer) {
            return;
        }
        if (!this.YTexture || !this.UTexture || !this.VTexture) {
            return;
        }
        var lumaSize = width * height;
        var chromaSize = lumaSize >> 2;
        this.fillYUVTextures(buffer.subarray(0, lumaSize), buffer.subarray(lumaSize, lumaSize + chromaSize), buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize));
        this.drawScene();
    };
    YUVWebGLCanvas.prototype.toString = function () {
        return 'YUVCanvas Size: ' + this.size;
    };
    YUVWebGLCanvas.vertexShaderScript = Script_1.default.createFromSource('x-shader/x-vertex', "\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      varying highp vec2 vTextureCoord;\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ");
    YUVWebGLCanvas.fragmentShaderScript = Script_1.default.createFromSource('x-shader/x-fragment', "\n      precision highp float;\n      varying highp vec2 vTextureCoord;\n      uniform sampler2D YTexture;\n      uniform sampler2D UTexture;\n      uniform sampler2D VTexture;\n      const mat4 YUV2RGB = mat4\n      (\n       1.1643828125, 0, 1.59602734375, -.87078515625,\n       1.1643828125, -.39176171875, -.81296875, .52959375,\n       1.1643828125, 2.017234375, 0, -1.081390625,\n       0, 0, 0, 1\n      );\n\n      void main(void) {\n       gl_FragColor = vec4(\n         texture2D(YTexture,  vTextureCoord).x,\n         texture2D(UTexture, vTextureCoord).x,\n         texture2D(VTexture, vTextureCoord).x,\n         1\n       ) * YUV2RGB;\n      }");
    return YUVWebGLCanvas;
}(WebGLCanvas_1.default));
exports["default"] = YUVWebGLCanvas;


/***/ }),

/***/ "./vendor/h264-live-player/utils/assert.ts":
/*!*************************************************!*\
  !*** ./vendor/h264-live-player/utils/assert.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var error_1 = tslib_1.__importDefault(__webpack_require__(/*! ./error */ "./vendor/h264-live-player/utils/error.ts"));
function assert(condition, message) {
    if (!condition) {
        (0, error_1.default)(message);
        throw new Error(message);
    }
}
exports["default"] = assert;


/***/ }),

/***/ "./vendor/h264-live-player/utils/error.ts":
/*!************************************************!*\
  !*** ./vendor/h264-live-player/utils/error.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
function error(message) {
    console.error(message);
    console.trace();
}
exports["default"] = error;


/***/ }),

/***/ "./vendor/h264-live-player/utils/glUtils.ts":
/*!**************************************************!*\
  !*** ./vendor/h264-live-player/utils/glUtils.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.makePerspective = void 0;
var sylvester_js_1 = __webpack_require__(/*! sylvester.js */ "./node_modules/sylvester.js/lib/index.js");
var $M = sylvester_js_1.Matrix.create;
sylvester_js_1.Matrix.Translation = function (v) {
    if (v.elements.length === 2) {
        var r = sylvester_js_1.Matrix.I(3);
        r.elements[2][0] = v.elements[0];
        r.elements[2][1] = v.elements[1];
        return r;
    }
    if (v.elements.length === 3) {
        var r = sylvester_js_1.Matrix.I(4);
        r.elements[0][3] = v.elements[0];
        r.elements[1][3] = v.elements[1];
        r.elements[2][3] = v.elements[2];
        return r;
    }
    throw Error('Invalid length for Translation');
};
sylvester_js_1.Matrix.prototype.flatten = function () {
    var result = [];
    if (this.elements.length === 0) {
        return [];
    }
    for (var j = 0; j < this.elements[0].length; j++) {
        for (var i = 0; i < this.elements.length; i++) {
            result.push(this.elements[i][j]);
        }
    }
    return result;
};
sylvester_js_1.Matrix.prototype.ensure4x4 = function () {
    if (this.elements.length === 4 && this.elements[0].length === 4) {
        return this;
    }
    if (this.elements.length > 4 || this.elements[0].length > 4) {
        return null;
    }
    for (var i = 0; i < this.elements.length; i++) {
        for (var j = this.elements[i].length; j < 4; j++) {
            if (i === j) {
                this.elements[i].push(1);
            }
            else {
                this.elements[i].push(0);
            }
        }
    }
    for (var i = this.elements.length; i < 4; i++) {
        if (i === 0) {
            this.elements.push([1, 0, 0, 0]);
        }
        else if (i === 1) {
            this.elements.push([0, 1, 0, 0]);
        }
        else if (i === 2) {
            this.elements.push([0, 0, 1, 0]);
        }
        else if (i === 3) {
            this.elements.push([0, 0, 0, 1]);
        }
    }
    return this;
};
sylvester_js_1.Vector.prototype.flatten = function () {
    return this.elements;
};
function makePerspective(fovy, aspect, znear, zfar) {
    var ymax = znear * Math.tan(fovy * Math.PI / 360.0);
    var ymin = -ymax;
    var xmin = ymin * aspect;
    var xmax = ymax * aspect;
    return makeFrustum(xmin, xmax, ymin, ymax, znear, zfar);
}
exports.makePerspective = makePerspective;
function makeFrustum(left, right, bottom, top, znear, zfar) {
    var X = 2 * znear / (right - left);
    var Y = 2 * znear / (top - bottom);
    var A = (right + left) / (right - left);
    var B = (top + bottom) / (top - bottom);
    var C = -(zfar + znear) / (zfar - znear);
    var D = -2 * zfar * znear / (zfar - znear);
    return $M([[X, 0, A, 0],
        [0, Y, B, 0],
        [0, 0, C, D],
        [0, 0, -1, 0]]);
}


/***/ }),

/***/ "./vendor/tinyh264/Canvas.ts":
/*!***********************************!*\
  !*** ./vendor/tinyh264/Canvas.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var Canvas = (function () {
    function Canvas(canvas) {
        this.canvas = canvas;
    }
    return Canvas;
}());
exports["default"] = Canvas;


/***/ }),

/***/ "./vendor/tinyh264/ShaderCompiler.ts":
/*!*******************************************!*\
  !*** ./vendor/tinyh264/ShaderCompiler.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var ShaderCompiler = (function () {
    function ShaderCompiler() {
    }
    ShaderCompiler.compile = function (gl, script) {
        var shader;
        if (script.type === 'x-shader/x-fragment') {
            shader = gl.createShader(gl.FRAGMENT_SHADER);
        }
        else if (script.type === 'x-shader/x-vertex') {
            shader = gl.createShader(gl.VERTEX_SHADER);
        }
        else {
            throw new Error('Unknown shader type: ' + script.type);
        }
        if (!shader) {
            throw new Error('Failed to create shader');
        }
        gl.shaderSource(shader, script.source);
        gl.compileShader(shader);
        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            throw new Error('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));
        }
        return shader;
    };
    return ShaderCompiler;
}());
exports["default"] = ShaderCompiler;


/***/ }),

/***/ "./vendor/tinyh264/ShaderProgram.ts":
/*!******************************************!*\
  !*** ./vendor/tinyh264/ShaderProgram.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var ShaderProgram = (function () {
    function ShaderProgram(gl) {
        this.gl = gl;
        this.program = this.gl.createProgram();
    }
    ShaderProgram.prototype.attach = function (shader) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        this.gl.attachShader(this.program, shader);
    };
    ShaderProgram.prototype.link = function () {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        this.gl.linkProgram(this.program);
        if (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {
            console.error('Unable to initialize the shader program.');
        }
    };
    ShaderProgram.prototype.use = function () {
        this.gl.useProgram(this.program);
    };
    ShaderProgram.prototype.getAttributeLocation = function (name) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        return this.gl.getAttribLocation(this.program, name);
    };
    ShaderProgram.prototype.getUniformLocation = function (name) {
        if (!this.program) {
            throw Error("Program type is ".concat(typeof this.program));
        }
        return this.gl.getUniformLocation(this.program, name);
    };
    ShaderProgram.prototype.setUniformM4 = function (uniformLocation, array) {
        this.gl.uniformMatrix4fv(uniformLocation, false, array);
    };
    return ShaderProgram;
}());
exports["default"] = ShaderProgram;


/***/ }),

/***/ "./vendor/tinyh264/ShaderSources.ts":
/*!******************************************!*\
  !*** ./vendor/tinyh264/ShaderSources.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fragmentYUV = exports.vertexQuad = void 0;
exports.vertexQuad = {
    type: 'x-shader/x-vertex',
    source: "\n  precision mediump float;\n\n  uniform mat4 u_projection;\n  attribute vec2 a_position;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n  void main(){\n      v_texCoord = a_texCoord;\n      gl_Position = u_projection * vec4(a_position, 0.0, 1.0);\n  }\n",
};
exports.fragmentYUV = {
    type: 'x-shader/x-fragment',
    source: "\n  precision lowp float;\n  \n  varying vec2 v_texCoord;\n  \n  uniform sampler2D yTexture;\n  uniform sampler2D uTexture;\n  uniform sampler2D vTexture;\n    \n  const mat4 conversion = mat4(\n    1.0,     0.0,     1.402,  -0.701,\n    1.0,    -0.344,  -0.714,   0.529,\n    1.0,     1.772,   0.0,    -0.886,\n    0.0,     0.0,     0.0,     0.0\n  );\n\n  void main(void) {\n    float yChannel = texture2D(yTexture, v_texCoord).x;\n    float uChannel = texture2D(uTexture, v_texCoord).x;\n    float vChannel = texture2D(vTexture, v_texCoord).x;\n    vec4 channels = vec4(yChannel, uChannel, vChannel, 1.0);\n    vec3 rgb = (channels * conversion).xyz;\n    gl_FragColor = vec4(rgb, 1.0);\n  }\n",
};


/***/ }),

/***/ "./vendor/tinyh264/YUVCanvas.ts":
/*!**************************************!*\
  !*** ./vendor/tinyh264/YUVCanvas.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/tinyh264/Canvas.ts"));
var YUVCanvas = (function (_super) {
    tslib_1.__extends(YUVCanvas, _super);
    function YUVCanvas(canvas) {
        var _this = _super.call(this, canvas) || this;
        _this.canvasBuffer = null;
        _this.canvasCtx = _this.canvas.getContext('2d');
        return _this;
    }
    YUVCanvas.prototype.decode = function (buffer, width, height) {
        if (!buffer) {
            return;
        }
        if (!this.canvasBuffer) {
            this.canvasBuffer = this.canvasCtx.createImageData(width, height);
        }
        var lumaSize = width * height;
        var chromaSize = lumaSize >> 2;
        var ybuf = buffer.subarray(0, lumaSize);
        var ubuf = buffer.subarray(lumaSize, lumaSize + chromaSize);
        var vbuf = buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize);
        for (var y = 0; y < height; y++) {
            for (var x = 0; x < width; x++) {
                var yIndex = x + y * width;
                var uIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var vIndex = ~~(y / 2) * ~~(width / 2) + ~~(x / 2);
                var R = 1.164 * (ybuf[yIndex] - 16) + 1.596 * (vbuf[vIndex] - 128);
                var G = 1.164 * (ybuf[yIndex] - 16) - 0.813 * (vbuf[vIndex] - 128) - 0.391 * (ubuf[uIndex] - 128);
                var B = 1.164 * (ybuf[yIndex] - 16) + 2.018 * (ubuf[uIndex] - 128);
                var rgbIndex = yIndex * 4;
                this.canvasBuffer.data[rgbIndex + 0] = R;
                this.canvasBuffer.data[rgbIndex + 1] = G;
                this.canvasBuffer.data[rgbIndex + 2] = B;
                this.canvasBuffer.data[rgbIndex + 3] = 0xff;
            }
        }
        this.canvasCtx.putImageData(this.canvasBuffer, 0, 0);
    };
    return YUVCanvas;
}(Canvas_1.default));
exports["default"] = YUVCanvas;


/***/ }),

/***/ "./vendor/tinyh264/YUVSurfaceShader.ts":
/*!*********************************************!*\
  !*** ./vendor/tinyh264/YUVSurfaceShader.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var ShaderProgram_1 = tslib_1.__importDefault(__webpack_require__(/*! ./ShaderProgram */ "./vendor/tinyh264/ShaderProgram.ts"));
var ShaderCompiler_1 = tslib_1.__importDefault(__webpack_require__(/*! ./ShaderCompiler */ "./vendor/tinyh264/ShaderCompiler.ts"));
var ShaderSources_1 = __webpack_require__(/*! ./ShaderSources */ "./vendor/tinyh264/ShaderSources.ts");
var YUVSurfaceShader = (function () {
    function YUVSurfaceShader(gl, vertexBuffer, shaderArgs, program) {
        this.gl = gl;
        this.vertexBuffer = vertexBuffer;
        this.shaderArgs = shaderArgs;
        this.program = program;
    }
    YUVSurfaceShader.create = function (gl) {
        var program = this._initShaders(gl);
        var shaderArgs = this._initShaderArgs(gl, program);
        var vertexBuffer = this._initBuffers(gl);
        return new YUVSurfaceShader(gl, vertexBuffer, shaderArgs, program);
    };
    YUVSurfaceShader._initShaders = function (gl) {
        var program = new ShaderProgram_1.default(gl);
        program.attach(ShaderCompiler_1.default.compile(gl, ShaderSources_1.vertexQuad));
        program.attach(ShaderCompiler_1.default.compile(gl, ShaderSources_1.fragmentYUV));
        program.link();
        program.use();
        return program;
    };
    YUVSurfaceShader._initShaderArgs = function (gl, program) {
        var shaderArgs = {
            yTexture: program.getUniformLocation('yTexture'),
            uTexture: program.getUniformLocation('uTexture'),
            vTexture: program.getUniformLocation('vTexture'),
            u_projection: program.getUniformLocation('u_projection'),
            a_position: program.getAttributeLocation('a_position'),
            a_texCoord: program.getAttributeLocation('a_texCoord'),
        };
        gl.enableVertexAttribArray(shaderArgs.a_position);
        gl.enableVertexAttribArray(shaderArgs.a_texCoord);
        return shaderArgs;
    };
    YUVSurfaceShader._initBuffers = function (gl) {
        return gl.createBuffer();
    };
    YUVSurfaceShader.prototype.setTexture = function (textureY, textureU, textureV) {
        var gl = this.gl;
        gl.uniform1i(this.shaderArgs.yTexture, 0);
        gl.uniform1i(this.shaderArgs.uTexture, 1);
        gl.uniform1i(this.shaderArgs.vTexture, 2);
        gl.activeTexture(gl.TEXTURE0);
        gl.bindTexture(gl.TEXTURE_2D, textureY.texture);
        gl.activeTexture(gl.TEXTURE1);
        gl.bindTexture(gl.TEXTURE_2D, textureU.texture);
        gl.activeTexture(gl.TEXTURE2);
        gl.bindTexture(gl.TEXTURE_2D, textureV.texture);
    };
    YUVSurfaceShader.prototype.use = function () {
        this.program.use();
    };
    YUVSurfaceShader.prototype.release = function () {
        this.gl.useProgram(null);
    };
    YUVSurfaceShader.prototype.updateShaderData = function (encodedFrameSize, h264RenderState) {
        var w = encodedFrameSize.w, h = encodedFrameSize.h;
        this.gl.viewport(0, 0, w, h);
        this.program.setUniformM4(this.shaderArgs.u_projection, [
            2.0 / w, 0, 0, 0,
            0, 2.0 / -h, 0, 0,
            0, 0, 1, 0,
            -1, 1, 0, 1
        ]);
        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);
        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([
            0, 0, 0, 0,
            w, 0, h264RenderState.maxXTexCoord, 0,
            w, h, h264RenderState.maxXTexCoord, h264RenderState.maxYTexCoord,
            w, h, h264RenderState.maxXTexCoord, h264RenderState.maxYTexCoord,
            0, h, 0, h264RenderState.maxYTexCoord,
            0, 0, 0, 0
        ]), this.gl.DYNAMIC_DRAW);
        this.gl.vertexAttribPointer(this.shaderArgs.a_position, 2, this.gl.FLOAT, false, 16, 0);
        this.gl.vertexAttribPointer(this.shaderArgs.a_texCoord, 2, this.gl.FLOAT, false, 16, 8);
    };
    YUVSurfaceShader.prototype.draw = function () {
        var gl = this.gl;
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);
        gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 6);
        gl.bindTexture(gl.TEXTURE_2D, null);
    };
    return YUVSurfaceShader;
}());
exports["default"] = YUVSurfaceShader;


/***/ }),

/***/ "./vendor/tinyh264/YUVWebGLCanvas.ts":
/*!*******************************************!*\
  !*** ./vendor/tinyh264/YUVWebGLCanvas.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
var YUVSurfaceShader_1 = tslib_1.__importDefault(__webpack_require__(/*! ./YUVSurfaceShader */ "./vendor/tinyh264/YUVSurfaceShader.ts"));
var Texture_1 = tslib_1.__importDefault(__webpack_require__(/*! ../h264-live-player/Texture */ "./vendor/h264-live-player/Texture.ts"));
var Canvas_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Canvas */ "./vendor/tinyh264/Canvas.ts"));
var YUVWebGLCanvas = (function (_super) {
    tslib_1.__extends(YUVWebGLCanvas, _super);
    function YUVWebGLCanvas(canvas) {
        var _this = _super.call(this, canvas) || this;
        var gl = canvas.getContext('experimental-webgl', {
            preserveDrawingBuffer: true,
        });
        if (!gl) {
            throw new Error('Unable to initialize WebGL. Your browser may not support it.');
        }
        _this.yuvSurfaceShader = YUVSurfaceShader_1.default.create(gl);
        _this.yTexture = Texture_1.default.create(gl, gl.LUMINANCE);
        _this.uTexture = Texture_1.default.create(gl, gl.LUMINANCE);
        _this.vTexture = Texture_1.default.create(gl, gl.LUMINANCE);
        return _this;
    }
    YUVWebGLCanvas.prototype.decode = function (buffer, width, height) {
        this.canvas.width = width;
        this.canvas.height = height;
        var stride = width;
        var sourceWidth = width;
        var sourceHeight = height;
        var maxXTexCoord = sourceWidth / stride;
        var maxYTexCoord = sourceHeight / height;
        var lumaSize = stride * height;
        var chromaSize = lumaSize >> 2;
        var yBuffer = buffer.subarray(0, lumaSize);
        var uBuffer = buffer.subarray(lumaSize, lumaSize + chromaSize);
        var vBuffer = buffer.subarray(lumaSize + chromaSize, lumaSize + 2 * chromaSize);
        var chromaHeight = height >> 1;
        var chromaStride = stride >> 1;
        this.yTexture.image2dBuffer(yBuffer, stride, height);
        this.uTexture.image2dBuffer(uBuffer, chromaStride, chromaHeight);
        this.vTexture.image2dBuffer(vBuffer, chromaStride, chromaHeight);
        this.yuvSurfaceShader.setTexture(this.yTexture, this.uTexture, this.vTexture);
        this.yuvSurfaceShader.updateShaderData({ w: width, h: height }, { maxXTexCoord: maxXTexCoord, maxYTexCoord: maxYTexCoord });
        this.yuvSurfaceShader.draw();
    };
    return YUVWebGLCanvas;
}(Canvas_1.default));
exports["default"] = YUVWebGLCanvas;


/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js!./vendor/tinyh264/H264NALDecoder.worker.ts":
/*!*******************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js!./vendor/tinyh264/H264NALDecoder.worker.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Worker_fn)
/* harmony export */ });
function Worker_fn() {
  return new Worker(__webpack_require__.p + "bundle.worker.js");
}


/***/ }),

/***/ "./node_modules/xterm-addon-attach/lib/xterm-addon-attach.js":
/*!*******************************************************************!*\
  !*** ./node_modules/xterm-addon-attach/lib/xterm-addon-attach.js ***!
  \*******************************************************************/
/***/ ((module) => {

!function(t,e){ true?module.exports=e():0}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachAddon=void 0;var o=function(){function t(t,e){this._disposables=[],this._socket=t,this._socket.binaryType="arraybuffer",this._bidirectional=!e||!1!==e.bidirectional}return t.prototype.activate=function(t){var e=this;this._disposables.push(r(this._socket,"message",(function(e){var n=e.data;t.write("string"==typeof n?n:new Uint8Array(n))}))),this._bidirectional&&(this._disposables.push(t.onData((function(t){return e._sendData(t)}))),this._disposables.push(t.onBinary((function(t){return e._sendBinary(t)})))),this._disposables.push(r(this._socket,"close",(function(){return e.dispose()}))),this._disposables.push(r(this._socket,"error",(function(){return e.dispose()})))},t.prototype.dispose=function(){this._disposables.forEach((function(t){return t.dispose()}))},t.prototype._sendData=function(t){1===this._socket.readyState&&this._socket.send(t)},t.prototype._sendBinary=function(t){if(1===this._socket.readyState){for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);this._socket.send(e)}},t}();function r(t,e,n){return t.addEventListener(e,n),{dispose:function(){n&&t.removeEventListener(e,n)}}}e.AttachAddon=o}])}));
//# sourceMappingURL=xterm-addon-attach.js.map

/***/ }),

/***/ "./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js":
/*!*************************************************************!*\
  !*** ./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js ***!
  \*************************************************************/
/***/ ((module) => {

!function(e,t){ true?module.exports=t():0}(self,(function(){return(()=>{"use strict";var e={775:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var r=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core;if(0!==e._renderService.dimensions.actualCellWidth&&0!==e._renderService.dimensions.actualCellHeight){var t=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),n=window.getComputedStyle(this._terminal.element),o=r-(parseInt(n.getPropertyValue("padding-top"))+parseInt(n.getPropertyValue("padding-bottom"))),a=i-(parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(a/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/e._renderService.dimensions.actualCellHeight))}}}},e}();t.FitAddon=r}},t={};return function r(i){if(t[i])return t[i].exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}(775)})()}));
//# sourceMappingURL=xterm-addon-fit.js.map

/***/ }),

/***/ "./node_modules/xterm/lib/xterm.js":
/*!*****************************************!*\
  !*** ./node_modules/xterm/lib/xterm.js ***!
  \*****************************************/
/***/ ((module) => {

!function(e,t){if(true)module.exports=t();else { var i, r; }}(self,(function(){return(()=>{"use strict";var e={4567:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;var o=r(9042),s=r(6114),a=r(9924),c=r(3656),l=r(844),h=r(5596),u=r(9631),f=function(e){function t(t,r){var i=e.call(this)||this;i._terminal=t,i._renderService=r,i._liveRegionLineCount=0,i._charsToConsume=[],i._charsToAnnounce="",i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._accessibilityTreeRoot.tabIndex=0,i._rowContainer=document.createElement("div"),i._rowContainer.setAttribute("role","list"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowElements=[];for(var n=0;n<i._terminal.rows;n++)i._rowElements[n]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[n]);if(i._topBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,0)},i._bottomBoundaryFocusListener=function(e){return i._onBoundaryFocus(e,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new a.TimeBasedDebouncer(i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),!i._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.onResize((function(e){return i._onResize(e.rows)}))),i.register(i._terminal.onRender((function(e){return i._refreshRows(e.start,e.end)}))),i.register(i._terminal.onScroll((function(){return i._refreshRows()}))),i.register(i._terminal.onA11yChar((function(e){return i._onChar(e)}))),i.register(i._terminal.onLineFeed((function(){return i._onChar("\n")}))),i.register(i._terminal.onA11yTab((function(e){return i._onTab(e)}))),i.register(i._terminal.onKey((function(e){return i._onKey(e.key)}))),i.register(i._terminal.onBlur((function(){return i._clearLiveRegion()}))),i.register(i._renderService.onDimensionsChange((function(){return i._refreshRowsDimensions()}))),i._screenDprMonitor=new h.ScreenDprMonitor,i.register(i._screenDprMonitor),i._screenDprMonitor.setListener((function(){return i._refreshRowsDimensions()})),i.register((0,c.addDisposableDomListener)(window,"resize",(function(){return i._refreshRowsDimensions()}))),i}return n(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),(0,u.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var r=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(r.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===i){var n,o;if(0===t?(n=r,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(n=this._rowElements.shift(),o=r,this._rowContainer.removeChild(n)),n.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&(0,u.removeElementFromParent)(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var r=this._terminal.buffer,i=r.lines.length.toString(),n=e;n<=t;n++){var o=r.translateBufferLineToString(r.ydisp+n,!0),s=(r.ydisp+n+1).toString(),a=this._rowElements[n];a&&(0===o.length?a.innerText=" ":a.textContent=o,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",i))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(l.Disposable);t.AccessibilityManager=f},3614:(e,t)=>{function r(e){return e.replace(/\r?\n/g,"\r")}function i(e,t){return t?"[200~"+e+"[201~":e}function n(e,t,n){e=i(e=r(e),n.decPrivateModes.bracketedPasteMode),n.triggerDataEvent(e,!0),t.value=""}function o(e,t,r){var i=r.getBoundingClientRect(),n=e.clientX-i.left-10,o=e.clientY-i.top-10;t.style.width="20px",t.style.height="20px",t.style.left=n+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=r,t.bracketTextForPaste=i,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,r){e.stopPropagation(),e.clipboardData&&n(e.clipboardData.getData("text/plain"),t,r)},t.paste=n,t.moveTextAreaUnderMouseCursor=o,t.rightClickHandler=function(e,t,r,i,n){o(e,t,r),n&&i.rightClickSelect(e),t.value=i.selectionText,t.select()}},7239:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;var r=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,r){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=r},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,r){this._color[e]||(this._color[e]={}),this._color[e][t]=r},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=r},5680:function(e,t,r){var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorManager=t.DEFAULT_ANSI_COLORS=void 0;var n=r(8055),o=r(7239),s=n.css.toColor("#ffffff"),a=n.css.toColor("#000000"),c=n.css.toColor("#ffffff"),l=n.css.toColor("#000000"),h={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var e=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],r=0;r<216;r++){var i=t[r/36%6|0],o=t[r/6%6|0],s=t[r%6];e.push({css:n.channels.toCss(i,o,s),rgba:n.channels.toRgba(i,o,s)})}for(r=0;r<24;r++){var a=8+10*r;e.push({css:n.channels.toCss(a,a,a),rgba:n.channels.toRgba(a,a,a)})}return e}());var u=function(){function e(e,r){this.allowTransparency=r;var i=e.createElement("canvas");i.width=1,i.height=1;var u=i.getContext("2d");if(!u)throw new Error("Could not get rendering context");this._ctx=u,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new o.ColorContrastCache,this.colors={foreground:s,background:a,cursor:c,cursorAccent:l,selectionTransparent:h,selectionOpaque:n.color.blend(a,h),selectionForeground:void 0,ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,s),this.colors.background=this._parseColor(e.background,a),this.colors.cursor=this._parseColor(e.cursor,c,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,l,!0),this.colors.selectionTransparent=this._parseColor(e.selection,h,!0),this.colors.selectionOpaque=n.color.blend(this.colors.background,this.colors.selectionTransparent);var r={css:"",rgba:0};this.colors.selectionForeground=e.selectionForeground?this._parseColor(e.selectionForeground,r):void 0,this.colors.selectionForeground===r&&(this.colors.selectionForeground=void 0),n.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=n.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},e.prototype.restoreColor=function(e){if(void 0!==e)switch(e){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[e]=this._restoreColors.ansi[e]}else for(var t=0;t<this._restoreColors.ansi.length;++t)this.colors.ansi[t]=this._restoreColors.ansi[t]},e.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:this.colors.ansi.slice()}},e.prototype._parseColor=function(e,t,r){if(void 0===r&&(r=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var o=this._ctx.getImageData(0,0,1,1).data;if(255!==o[3]){if(!r)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var s=i(this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),4),a=s[0],c=s[1],l=s[2],h=s[3],u=Math.round(255*h);return{rgba:n.channels.toRgba(a,c,l,u),css:e}}return{css:this._ctx.fillStyle,rgba:n.channels.toRgba(o[0],o[1],o[2],o[3])}},e}();t.ColorManager=u},9631:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.removeElementFromParent=void 0,t.removeElementFromParent=function(){for(var e,t,i,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{for(var s=r(n),a=s.next();!a.done;a=s.next()){var c=a.value;null===(i=null==c?void 0:c.parentElement)||void 0===i||i.removeChild(c)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,r,i){e.addEventListener(t,r,i);var n=!1;return{dispose:function(){n||(n=!0,e.removeEventListener(t,r,i))}}}},3551:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZone=t.Linkifier=void 0;var o=r(8460),s=r(2585),a=function(){function e(e,t,r){this._bufferService=e,this._logService=t,this._unicodeService=r,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new o.EventEmitter,this._onHideLinkUnderline=new o.EventEmitter,this._onLinkTooltip=new o.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,r){var i=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=r):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,r)),this._mouseZoneManager.clearAll(t,r),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return i._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var r=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,i=Math.ceil(2e3/this._bufferService.cols),n=this._bufferService.buffer.iterator(!1,t,r,i,i);n.hasNext();)for(var o=n.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,r){if(void 0===r&&(r={}),!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:r.matchIndex,validationCallback:r.validationCallback,hoverTooltipCallback:r.tooltipCallback,hoverLeaveCallback:r.leaveCallback,willLinkActivate:r.willLinkActivate,priority:r.priority||0};return this._addLinkMatcherToList(i),i.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,r){for(var i,n=this,o=new RegExp(r.regex.source,(r.regex.flags||"")+"g"),s=-1,a=function(){var a=i["number"!=typeof r.matchIndex?0:r.matchIndex];if(!a)return c._logService.debug("match found without corresponding matchIndex",i,r),"break";if(s=t.indexOf(a,s+1),o.lastIndex=s+a.length,s<0)return"break";var l=c._bufferService.buffer.stringIndexToBufferIndex(e,s);if(l[0]<0)return"break";var h=c._bufferService.buffer.lines.get(l[0]);if(!h)return"break";var u=h.getFg(l[1]),f=u?u>>9&511:void 0;r.validationCallback?r.validationCallback(a,(function(e){n._rowsTimeoutId||e&&n._addLink(l[1],l[0]-n._bufferService.buffer.ydisp,a,r,f)})):c._addLink(l[1],l[0]-c._bufferService.buffer.ydisp,a,r,f)},c=this;null!==(i=o.exec(t))&&"break"!==a(););},e.prototype._addLink=function(e,t,r,i,n){var o=this;if(this._mouseZoneManager&&this._element){var s=this._unicodeService.getStringCellWidth(r),a=e%this._bufferService.cols,l=t+Math.floor(e/this._bufferService.cols),h=(a+s)%this._bufferService.cols,u=l+Math.floor((a+s)/this._bufferService.cols);0===h&&(h=this._bufferService.cols,u--),this._mouseZoneManager.add(new c(a+1,l+1,h+1,u+1,(function(e){if(i.handler)return i.handler(e,r);var t=window.open();t?(t.opener=null,t.location.href=r):console.warn("Opening link blocked as opener could not be cleared")}),(function(){o._onShowLinkUnderline.fire(o._createLinkHoverEvent(a,l,h,u,n)),o._element.classList.add("xterm-cursor-pointer")}),(function(e){o._onLinkTooltip.fire(o._createLinkHoverEvent(a,l,h,u,n)),i.hoverTooltipCallback&&i.hoverTooltipCallback(e,r,{start:{x:a,y:l},end:{x:h,y:u}})}),(function(){o._onHideLinkUnderline.fire(o._createLinkHoverEvent(a,l,h,u,n)),o._element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()}),(function(e){return!i.willLinkActivate||i.willLinkActivate(e,r)})))}},e.prototype._createLinkHoverEvent=function(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}},e._timeBeforeLatency=200,e=i([n(0,s.IBufferService),n(1,s.ILogService),n(2,s.IUnicodeService)],e)}();t.Linkifier=a;var c=function(e,t,r,i,n,o,s,a,c){this.x1=e,this.y1=t,this.x2=r,this.y2=i,this.clickCallback=n,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=c};t.MouseZone=c},6465:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;var l=r(2585),h=r(8460),u=r(844),f=r(3656),_=function(e){function t(t){var r=e.call(this)||this;return r._bufferService=t,r._linkProviders=[],r._linkCacheDisposables=[],r._isMouseOut=!0,r._activeLine=-1,r._onShowLinkUnderline=r.register(new h.EventEmitter),r._onHideLinkUnderline=r.register(new h.EventEmitter),r.register((0,u.getDisposeArrayDisposable)(r._linkCacheDisposables)),r}return n(t,e),Object.defineProperty(t.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),t.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var r=t._linkProviders.indexOf(e);-1!==r&&t._linkProviders.splice(r,1)}}},t.prototype.attachToDom=function(e,t,r){var i=this;this._element=e,this._mouseService=t,this._renderService=r,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",(function(){i._isMouseOut=!0,i._clearCurrentLink()}))),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))},t.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(t){this._isMouseOut=!1;for(var r=e.composedPath(),i=0;i<r.length;i++){var n=r[i];if(n.classList.contains("xterm"))break;if(n.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t)}}},t.prototype._onHover=function(e){if(this._activeLine!==e.y)return this._clearCurrentLink(),void this._askForLink(e,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))},t.prototype._askForLink=function(e,t){var r,i,n,o,s=this;this._activeProviderReplies&&t||(null===(n=this._activeProviderReplies)||void 0===n||n.forEach((function(e){null==e||e.forEach((function(e){e.link.dispose&&e.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=e.y);var l=!1,h=function(r,i){t?(null===(o=u._activeProviderReplies)||void 0===o?void 0:o.get(r))&&(l=u._checkLinkProviderResult(r,e,l)):i.provideLinks(e.y,(function(t){var i,n;if(!s._isMouseOut){var o=null==t?void 0:t.map((function(e){return{link:e}}));null===(i=s._activeProviderReplies)||void 0===i||i.set(r,o),l=s._checkLinkProviderResult(r,e,l),(null===(n=s._activeProviderReplies)||void 0===n?void 0:n.size)===s._linkProviders.length&&s._removeIntersectingLinks(e.y,s._activeProviderReplies)}}))},u=this;try{for(var f=a(this._linkProviders.entries()),_=f.next();!_.done;_=f.next()){var d=c(_.value,2);h(d[0],d[1])}}catch(e){r={error:e}}finally{try{_&&!_.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}},t.prototype._removeIntersectingLinks=function(e,t){for(var r=new Set,i=0;i<t.size;i++){var n=t.get(i);if(n)for(var o=0;o<n.length;o++)for(var s=n[o],a=s.link.range.start.y<e?0:s.link.range.start.x,c=s.link.range.end.y>e?this._bufferService.cols:s.link.range.end.x,l=a;l<=c;l++){if(r.has(l)){n.splice(o--,1);break}r.add(l)}}},t.prototype._checkLinkProviderResult=function(e,t,r){var i,n=this;if(!this._activeProviderReplies)return r;for(var o=this._activeProviderReplies.get(e),s=!1,a=0;a<e;a++)this._activeProviderReplies.has(a)&&!this._activeProviderReplies.get(a)||(s=!0);if(!s&&o){var c=o.find((function(e){return n._linkAtPosition(e.link,t)}));c&&(r=!0,this._handleNewLink(c))}if(this._activeProviderReplies.size===this._linkProviders.length&&!r)for(a=0;a<this._activeProviderReplies.size;a++){var l=null===(i=this._activeProviderReplies.get(a))||void 0===i?void 0:i.find((function(e){return n._linkAtPosition(e.link,t)}));if(l){r=!0,this._handleNewLink(l);break}}return r},t.prototype._handleMouseDown=function(){this._mouseDownLink=this._currentLink},t.prototype._handleMouseUp=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}},t.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,u.disposeArray)(this._linkCacheDisposables))},t.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var r=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);r&&this._linkAtPosition(e.link,r)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:function(){var e,r;return null===(r=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===r?void 0:r.decorations.pointerCursor},set:function(e){var r,i;(null===(r=t._currentLink)||void 0===r?void 0:r.state)&&t._currentLink.state.decorations.pointerCursor!==e&&(t._currentLink.state.decorations.pointerCursor=e,t._currentLink.state.isHovered&&(null===(i=t._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:function(){var e,r;return null===(r=null===(e=t._currentLink)||void 0===e?void 0:e.state)||void 0===r?void 0:r.decorations.underline},set:function(r){var i,n,o;(null===(i=t._currentLink)||void 0===i?void 0:i.state)&&(null===(o=null===(n=t._currentLink)||void 0===n?void 0:n.state)||void 0===o?void 0:o.decorations.underline)!==r&&(t._currentLink.state.decorations.underline=r,t._currentLink.state.isHovered&&t._fireUnderlineEvent(e.link,r))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((function(e){var r=0===e.start?0:e.start+1+t._bufferService.buffer.ydisp;t._clearCurrentLink(r,e.end+1+t._bufferService.buffer.ydisp)}))))}},t.prototype._linkHover=function(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)},t.prototype._fireUnderlineEvent=function(e,t){var r=e.range,i=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-i-1,r.end.x,r.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)},t.prototype._linkLeave=function(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)},t.prototype._linkAtPosition=function(e,t){var r=e.range.start.y===e.range.end.y,i=e.range.start.y<t.y,n=e.range.end.y>t.y;return(r&&e.range.start.x<=t.x&&e.range.end.x>=t.x||i&&e.range.end.x>=t.x||n&&e.range.start.x<=t.x||i&&n)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},t.prototype._positionFromMouseEvent=function(e,t,r){var i=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}},t.prototype._createLinkUnderlineEvent=function(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}},o([s(0,l.IBufferService)],t)}(u.Disposable);t.Linkifier2=_},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseZoneManager=void 0;var a=r(844),c=r(3656),l=r(4725),h=r(2585),u=function(e){function t(t,r,i,n,o,s){var a=e.call(this)||this;return a._element=t,a._screenElement=r,a._bufferService=i,a._mouseService=n,a._selectionService=o,a._optionsService=s,a._zones=[],a._areZonesActive=!1,a._lastHoverCoords=[void 0,void 0],a._initialSelectionLength=0,a.register((0,c.addDisposableDomListener)(a._element,"mousedown",(function(e){return a._onMouseDown(e)}))),a._mouseMoveListener=function(e){return a._onMouseMove(e)},a._mouseLeaveListener=function(e){return a._onMouseLeave(e)},a._clickListener=function(e){return a._onClick(e)},a}return n(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var r=0;r<this._zones.length;r++){var i=this._zones[r];(i.y1>e&&i.y1<=t+1||i.y2>e&&i.y2<=t+1||i.y1<e&&i.y2>t+1)&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(r--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,r=this._findZoneEventAt(e);r!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),r&&(this._currentZone=r,r.hoverCallback&&r.hoverCallback(e),this._tooltipTimeout=window.setTimeout((function(){return t._onTooltip(e)}),this._optionsService.rawOptions.linkTooltipHoverDuration)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);null==t||t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),r=this._getSelectionLength();t&&r===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var r=t[0],i=t[1],n=0;n<this._zones.length;n++){var o=this._zones[n];if(o.y1===o.y2){if(i===o.y1&&r>=o.x1&&r<o.x2)return o}else if(i===o.y1&&r>=o.x1||i===o.y2&&r<o.x2||i>o.y1&&i<o.y2)return o}},o([s(2,h.IBufferService),s(3,l.IMouseService),s(4,l.ISelectionService),s(5,h.IOptionsService)],t)}(a.Disposable);t.MouseZoneManager=u},6193:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0;var i=function(){function e(e){this._renderCallback=e,this._refreshCallbacks=[]}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.addRefreshCallback=function(e){var t=this;return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return t._innerRefresh()}))),this._animationFrame},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return i._innerRefresh()})))},e.prototype._innerRefresh=function(){if(this._animationFrame=void 0,void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}else this._runRefreshCallbacks()},e.prototype._runRefreshCallbacks=function(){var e,t;try{for(var i=r(this._refreshCallbacks),n=i.next();!n.done;n=i.next())(0,n.value)(0)}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._refreshCallbacks=[]},e}();t.RenderDebouncer=i},5596:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return n(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(r(844).Disposable);t.ScreenDprMonitor=o},3236:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var c=r(2950),l=r(1680),h=r(3614),u=r(2584),f=r(5435),_=r(3525),d=r(3551),p=r(9312),v=r(6114),y=r(3656),g=r(9042),m=r(357),b=r(6954),S=r(4567),C=r(1296),w=r(7399),L=r(8460),E=r(8437),x=r(5680),R=r(3230),k=r(4725),M=r(428),A=r(8934),O=r(6465),D=r(5114),T=r(8969),B=r(8055),P=r(4269),I=r(5941),H=r(3107),j=r(5744),F=r(9074),W=r(2585),U="undefined"!=typeof window?window.document:null,q=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r.browser=v,r._keyDownHandled=!1,r._keyDownSeen=!1,r._keyPressHandled=!1,r._unprocessedDeadKey=!1,r._onCursorMove=new L.EventEmitter,r._onKey=new L.EventEmitter,r._onRender=new L.EventEmitter,r._onSelectionChange=new L.EventEmitter,r._onTitleChange=new L.EventEmitter,r._onBell=new L.EventEmitter,r._onFocus=new L.EventEmitter,r._onBlur=new L.EventEmitter,r._onA11yCharEmitter=new L.EventEmitter,r._onA11yTabEmitter=new L.EventEmitter,r._setup(),r.linkifier=r._instantiationService.createInstance(d.Linkifier),r.linkifier2=r.register(r._instantiationService.createInstance(O.Linkifier2)),r._decorationService=r._instantiationService.createInstance(F.DecorationService),r._instantiationService.setService(W.IDecorationService,r._decorationService),r.register(r._inputHandler.onRequestBell((function(){return r.bell()}))),r.register(r._inputHandler.onRequestRefreshRows((function(e,t){return r.refresh(e,t)}))),r.register(r._inputHandler.onRequestSendFocus((function(){return r._reportFocus()}))),r.register(r._inputHandler.onRequestReset((function(){return r.reset()}))),r.register(r._inputHandler.onRequestWindowsOptionsReport((function(e){return r._reportWindowsOptions(e)}))),r.register(r._inputHandler.onColor((function(e){return r._handleColorEvent(e)}))),r.register((0,L.forwardEvent)(r._inputHandler.onCursorMove,r._onCursorMove)),r.register((0,L.forwardEvent)(r._inputHandler.onTitleChange,r._onTitleChange)),r.register((0,L.forwardEvent)(r._inputHandler.onA11yChar,r._onA11yCharEmitter)),r.register((0,L.forwardEvent)(r._inputHandler.onA11yTab,r._onA11yTabEmitter)),r.register(r._bufferService.onResize((function(e){return r._afterResize(e.cols,e.rows)}))),r}return n(t,e),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),t.prototype._handleColorEvent=function(e){var t,r,i,n;if(this._colorManager){try{for(var c=o(e),l=c.next();!l.done;l=c.next()){var h=l.value,f=void 0,_="";switch(h.index){case 256:f="foreground",_="10";break;case 257:f="background",_="11";break;case 258:f="cursor",_="12";break;default:f="ansi",_="4;"+h.index}if(f)switch(h.type){case 0:var d=B.color.toColorRGB("ansi"===f?this._colorManager.colors.ansi[h.index]:this._colorManager.colors[f]);this.coreService.triggerDataEvent(u.C0.ESC+"]"+_+";"+(0,I.toRgbString)(d)+u.C1_ESCAPED.ST);break;case 1:"ansi"===f?this._colorManager.colors.ansi[h.index]=B.rgba.toColor.apply(B.rgba,a([],s(h.color),!1)):this._colorManager.colors[f]=B.rgba.toColor.apply(B.rgba,a([],s(h.color),!1));break;case 2:this._colorManager.restoreColor(h.index)}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(n=this.viewport)||void 0===n||n.onThemeChange(this._colorManager.colors)}},t.prototype.dispose=function(){var t,r,i;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._renderService)||void 0===t||t.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(i=null===(r=this.element)||void 0===r?void 0:r.parentNode)||void 0===i||i.removeChild(this.element))},t.prototype._setup=function(){e.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._updateOptions=function(t){var r,i,n,o;switch(e.prototype._updateOptions.call(this,t),t){case"fontFamily":case"fontSize":null===(r=this._renderService)||void 0===r||r.clear(),null===(i=this._charSizeService)||void 0===i||i.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(n=this.viewport)||void 0===n||n.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new S.AccessibilityManager(this,this._renderService)):(null===(o=this._accessibilityManager)||void 0===o||o.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},t.prototype._onTextAreaFocus=function(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},t.prototype.blur=function(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(u.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(t){var r=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.actualCellHeight,n=t.getWidth(r),o=this._renderService.dimensions.actualCellWidth*n,s=this.buffer.y*this._renderService.dimensions.actualCellHeight,a=r*this._renderService.dimensions.actualCellWidth;this.textarea.style.left=a+"px",this.textarea.style.top=s+"px",this.textarea.style.width=o+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}}},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register((0,y.addDisposableDomListener)(this.element,"copy",(function(t){e.hasSelection()&&(0,h.copyHandler)(t,e._selectionService)})));var t=function(t){return(0,h.handlePasteEvent)(t,e.textarea,e.coreService)};this.register((0,y.addDisposableDomListener)(this.textarea,"paste",t)),this.register((0,y.addDisposableDomListener)(this.element,"paste",t)),v.isFirefox?this.register((0,y.addDisposableDomListener)(this.element,"mousedown",(function(t){2===t.button&&(0,h.rightClickHandler)(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register((0,y.addDisposableDomListener)(this.element,"contextmenu",(function(t){(0,h.rightClickHandler)(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),v.isLinux&&this.register((0,y.addDisposableDomListener)(this.element,"auxclick",(function(t){1===t.button&&(0,h.moveTextAreaUnderMouseCursor)(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register((0,y.addDisposableDomListener)(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register((0,y.addDisposableDomListener)(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register((0,y.addDisposableDomListener)(this.textarea,"input",(function(t){return e._inputEvent(t)}),!0)),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var r=U.createDocumentFragment();this._viewportElement=U.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),r.appendChild(this._viewportElement),this._viewportScrollArea=U.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=U.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=U.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),r.appendChild(this.screenElement),this.textarea=U.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,y.addDisposableDomListener)(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register((0,y.addDisposableDomListener)(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var i=this._instantiationService.createInstance(D.CoreBrowserService,this.textarea);this._instantiationService.setService(k.ICoreBrowserService,i),this._charSizeService=this._instantiationService.createInstance(M.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new x.ColorManager(U,this.options.allowTransparency),this.register(this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)}))),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(P.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService);var n=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(R.RenderService,n,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((function(e){return t._onRender.fire(e)}))),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._compositionView=U.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(r),this._soundService=this._instantiationService.createInstance(m.SoundService),this._instantiationService.setService(k.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,(function(e){return t.scrollLines(e,!0,1)}),this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar((function(){return t.viewport.syncScrollArea()}))),this.register(this.viewport),this.register(this.onCursorMove((function(){t._renderService.onCursorMove(),t._syncTextArea()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this.register(this._instantiationService.createInstance(p.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((function(e){return t.scrollLines(e.amount,e.suppressScrollEvent)}))),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRequestRedraw((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this._onScroll.event((function(e){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(b.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(H.BufferDecorationRenderer,this.screenElement)),this.register((0,y.addDisposableDomListener)(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new S.AccessibilityManager(this,this._renderService)),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this._instantiationService.createInstance(j.OverviewRulerRenderer,this._viewportElement,this.screenElement)),this.optionsService.onOptionChange((function(){!t._overviewRulerRenderer&&t.options.overviewRulerWidth&&t._viewportElement&&t.screenElement&&(t._overviewRulerRenderer=t._instantiationService.createInstance(j.OverviewRulerRenderer,t._viewportElement,t.screenElement))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(_.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(C.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,r,i;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(r=this._renderService)||void 0===r||r.setColors(this._colorManager.colors),null===(i=this.viewport)||void 0===i||i.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,r=this.element;function i(e){var r,i,n=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!n)return!1;switch(e.overrideType||e.type){case"mousemove":i=32,void 0===e.buttons?(r=3,void 0!==e.button&&(r=e.button<3?e.button:3)):r=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":i=0,r=e.button<3?e.button:3;break;case"mousedown":i=1,r=e.button<3?e.button:3;break;case"wheel":if(0===t.viewport.getLinesScrolled(e))return!1;i=e.deltaY<0?0:1,r=4;break;default:return!1}return!(void 0===i||void 0===r||r>4)&&t.coreMouseService.triggerMouseEvent({col:n.x-33,row:n.y-33,button:r,action:i,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o=function(t){return i(t),t.buttons||(e._document.removeEventListener("mouseup",n.mouseup),n.mousedrag&&e._document.removeEventListener("mousemove",n.mousedrag)),e.cancel(t)},s=function(t){return i(t),e.cancel(t,!0)},a=function(e){e.buttons&&i(e)},c=function(e){e.buttons||i(e)};this.register(this.coreMouseService.onProtocolChange((function(t){t?("debug"===e.optionsService.rawOptions.logLevel&&e._logService.debug("Binding to mouse events:",e.coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?n.mousemove||(r.addEventListener("mousemove",c),n.mousemove=c):(r.removeEventListener("mousemove",n.mousemove),n.mousemove=null),16&t?n.wheel||(r.addEventListener("wheel",s,{passive:!1}),n.wheel=s):(r.removeEventListener("wheel",n.wheel),n.wheel=null),2&t?n.mouseup||(n.mouseup=o):(e._document.removeEventListener("mouseup",n.mouseup),n.mouseup=null),4&t?n.mousedrag||(n.mousedrag=a):(e._document.removeEventListener("mousemove",n.mousedrag),n.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,y.addDisposableDomListener)(r,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e.coreMouseService.areMouseEventsActive&&!e._selectionService.shouldForceSelection(t))return i(t),n.mouseup&&e._document.addEventListener("mouseup",n.mouseup),n.mousedrag&&e._document.addEventListener("mousemove",n.mousedrag),e.cancel(t)}))),this.register((0,y.addDisposableDomListener)(r,"wheel",(function(t){if(!n.wheel){if(!e.buffer.hasScrollback){var r=e.viewport.getLinesScrolled(t);if(0===r)return;for(var i=u.C0.ESC+(e.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(r);s++)o+=i;return e.coreService.triggerDataEvent(o,!0),e.cancel(t,!0)}return e.viewport.onWheel(t)?e.cancel(t):void 0}}),{passive:!1})),this.register((0,y.addDisposableDomListener)(r,"touchstart",(function(t){if(!e.coreMouseService.areMouseEventsActive)return e.viewport.onTouchStart(t),e.cancel(t)}),{passive:!0})),this.register((0,y.addDisposableDomListener)(r,"touchmove",(function(t){if(!e.coreMouseService.areMouseEventsActive)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)}),{passive:!1}))},t.prototype.refresh=function(e,t){var r;null===(r=this._renderService)||void 0===r||r.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var r;null===(r=this.linkifier)||void 0===r||r.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scrollLines=function(t,r,i){void 0===i&&(i=0),e.prototype.scrollLines.call(this,t,r,i),this.refresh(0,this.rows-1)},t.prototype.paste=function(e){(0,h.paste)(e,this.textarea,this.coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,r){var i=this.linkifier.registerLinkMatcher(e,t,r);return this.refresh(0,this.rows-1),i},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.registerDecoration=function(e){return this._decorationService.registerDecoration(e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,r){this._selectionService.setSelection(e,t,r)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var r;null===(r=this._selectionService)||void 0===r||r.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;var t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);var r=(0,w.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===r.type||2===r.type){var i=this.rows-1;return this.scrollLines(2===r.type?-i:i),this.cancel(e,!0)}return 1===r.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(r.key!==u.C0.ETX&&r.key!==u.C0.CR||(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0))))},t.prototype._isThirdLevelShift=function(e,t){var r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?r:r&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)},t.prototype._keyPress=function(e){var t;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},t.prototype._inputEvent=function(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;var t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1},t.prototype.bell=function(){var e;this._soundBell()&&(null===(e=this._soundService)||void 0===e||e.playBellSound()),this._onBell.fire()},t.prototype.resize=function(t,r){t!==this.cols||r!==this.rows?e.prototype.resize.call(this,t,r):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},t.prototype._afterResize=function(e,t){var r,i;null===(r=this._charSizeService)||void 0===r||r.measure(),null===(i=this.viewport)||void 0===i||i.syncScrollArea(!0)},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(E.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},t.prototype.reset=function(){var t,r;this.options.rows=this.rows,this.options.cols=this.cols;var i=this._customKeyEventHandler;this._setup(),e.prototype.reset.call(this),null===(t=this._selectionService)||void 0===t||t.reset(),this._decorationService.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1),null===(r=this.viewport)||void 0===r||r.syncScrollArea()},t.prototype.clearTextureAtlas=function(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()},t.prototype._reportFocus=function(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(u.C0.ESC+"[I"):this.coreService.triggerDataEvent(u.C0.ESC+"[O")},t.prototype._reportWindowsOptions=function(e){if(this._renderService)switch(e){case f.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var t=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),r=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(u.C0.ESC+"[4;"+r+";"+t+"t");break;case f.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var i=this._renderService.dimensions.scaledCellWidth.toFixed(0),n=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(u.C0.ESC+"[6;"+n+";"+i+"t")}},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(T.CoreTerminal);t.Terminal=q},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0;var r=function(){function e(e,t){void 0===t&&(t=1e3),this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return e.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},e.prototype.refresh=function(e,t,r){var i=this;this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;var n=Date.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){var o=n-this._lastRefreshMs,s=this._debounceThresholdMS-o;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((function(){i._lastRefreshMs=Date.now(),i._innerRefresh(),i._additionalRefreshRequested=!1,i._refreshTimeoutID=void 0}),s)}},e.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},e}();t.TimeBasedDebouncer=r},1680:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var a=r(844),c=r(3656),l=r(4725),h=r(2585),u=function(e){function t(t,r,i,n,o,s,a,l){var h=e.call(this)||this;return h._scrollLines=t,h._viewportElement=r,h._scrollArea=i,h._element=n,h._bufferService=o,h._optionsService=s,h._charSizeService=a,h._renderService=l,h.scrollBarWidth=0,h._currentRowHeight=0,h._currentScaledCellHeight=0,h._lastRecordedBufferLength=0,h._lastRecordedViewportHeight=0,h._lastRecordedBufferHeight=0,h._lastTouchY=0,h._lastScrollTop=0,h._wheelPartialScroll=0,h._refreshAnimationFrame=null,h._ignoreNextScrollEvent=!1,h.scrollBarWidth=h._viewportElement.offsetWidth-h._scrollArea.offsetWidth||15,h.register((0,c.addDisposableDomListener)(h._viewportElement,"scroll",h._onScroll.bind(h))),h._activeBuffer=h._bufferService.buffer,h.register(h._bufferService.buffers.onBufferActivate((function(e){return h._activeBuffer=e.activeBuffer}))),h._renderDimensions=h._renderService.dimensions,h.register(h._renderService.onDimensionsChange((function(e){return h._renderDimensions=e}))),setTimeout((function(){return h.syncScrollArea()}),0),h}return n(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight||this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t)}},t.prototype._bubbleScroll=function(e,t){var r=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&r<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY||e.shiftKey)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var r=this._optionsService.rawOptions.fastScrollModifier;return"alt"===r&&t.altKey||"ctrl"===r&&t.ctrlKey||"shift"===r&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([s(4,h.IBufferService),s(5,h.IOptionsService),s(6,l.ICharSizeService),s(7,l.IRenderService)],t)}(a.Disposable);t.Viewport=u},3107:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;var c=r(3656),l=r(4725),h=r(844),u=r(2585),f=function(e){function t(t,r,i,n){var o=e.call(this)||this;return o._screenElement=t,o._bufferService=r,o._decorationService=i,o._renderService=n,o._decorationElements=new Map,o._altBufferIsActive=!1,o._dimensionsChanged=!1,o._container=document.createElement("div"),o._container.classList.add("xterm-decoration-container"),o._screenElement.appendChild(o._container),o.register(o._renderService.onRenderedViewportChange((function(){return o._queueRefresh()}))),o.register(o._renderService.onDimensionsChange((function(){o._dimensionsChanged=!0,o._queueRefresh()}))),o.register((0,c.addDisposableDomListener)(window,"resize",(function(){return o._queueRefresh()}))),o.register(o._bufferService.buffers.onBufferActivate((function(){o._altBufferIsActive=o._bufferService.buffer===o._bufferService.buffers.alt}))),o.register(o._decorationService.onDecorationRegistered((function(){return o._queueRefresh()}))),o.register(o._decorationService.onDecorationRemoved((function(e){return o._removeDecoration(e)}))),o}return n(t,e),t.prototype.dispose=function(){this._container.remove(),this._decorationElements.clear(),e.prototype.dispose.call(this)},t.prototype._queueRefresh=function(){var e=this;void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback((function(){e.refreshDecorations(),e._animationFrame=void 0})))},t.prototype.refreshDecorations=function(){var e,t;try{for(var r=a(this._decorationService.decorations),i=r.next();!i.done;i=r.next()){var n=i.value;this._renderDecoration(n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._dimensionsChanged=!1},t.prototype._renderDecoration=function(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)},t.prototype._createElement=function(e){var t,r=document.createElement("div");r.classList.add("xterm-decoration"),r.style.width=Math.round((e.options.width||1)*this._renderService.dimensions.actualCellWidth)+"px",r.style.height=(e.options.height||1)*this._renderService.dimensions.actualCellHeight+"px",r.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.actualCellHeight+"px",r.style.lineHeight=this._renderService.dimensions.actualCellHeight+"px";var i=null!==(t=e.options.x)&&void 0!==t?t:0;return i&&i>this._bufferService.cols&&(r.style.display="none"),this._refreshXPosition(e,r),r},t.prototype._refreshStyle=function(e){var t=this,r=e.marker.line-this._bufferService.buffers.active.ydisp;if(r<0||r>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{var i=this._decorationElements.get(e);i||(e.onDispose((function(){return t._removeDecoration(e)})),i=this._createElement(e),e.element=i,this._decorationElements.set(e,i),this._container.appendChild(i)),i.style.top=r*this._renderService.dimensions.actualCellHeight+"px",i.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(i)}},t.prototype._refreshXPosition=function(e,t){var r;if(void 0===t&&(t=e.element),t){var i=null!==(r=e.options.x)&&void 0!==r?r:0;"right"===(e.options.anchor||"left")?t.style.right=i?i*this._renderService.dimensions.actualCellWidth+"px":"":t.style.left=i?i*this._renderService.dimensions.actualCellWidth+"px":""}},t.prototype._removeDecoration=function(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e)},o([s(1,u.IBufferService),s(2,u.IDecorationService),s(3,l.IRenderService)],t)}(h.Disposable);t.BufferDecorationRenderer=f},5871:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0;var i=function(){function e(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}return Object.defineProperty(e.prototype,"zones",{get:function(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this._zones.length=0,this._zonePoolIndex=0},e.prototype.addDecoration=function(e){var t,i;if(e.options.overviewRulerOptions){try{for(var n=r(this._zones),o=n.next();!o.done;o=n.next()){var s=o.value;if(s.color===e.options.overviewRulerOptions.color&&s.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(s,e.marker.line))return;if(this._lineAdjacentToZone(s,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(s,e.marker.line)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}},e.prototype.setPadding=function(e){this._linePadding=e},e.prototype._lineIntersectsZone=function(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine},e.prototype._lineAdjacentToZone=function(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]},e.prototype._addLineToZone=function(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)},e}();t.ColorZoneStore=i},5744:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;var c=r(5871),l=r(3656),h=r(4725),u=r(844),f=r(2585),_={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},v=function(e){function t(t,r,i,n,o,s){var a,l=e.call(this)||this;l._viewportElement=t,l._screenElement=r,l._bufferService=i,l._decorationService=n,l._renderService=o,l._optionsService=s,l._colorZoneStore=new c.ColorZoneStore,l._shouldUpdateDimensions=!0,l._shouldUpdateAnchor=!0,l._lastKnownBufferLength=0,l._canvas=document.createElement("canvas"),l._canvas.classList.add("xterm-decoration-overview-ruler"),l._refreshCanvasDimensions(),null===(a=l._viewportElement.parentElement)||void 0===a||a.insertBefore(l._canvas,l._viewportElement);var h=l._canvas.getContext("2d");if(!h)throw new Error("Ctx cannot be null");return l._ctx=h,l._registerDecorationListeners(),l._registerBufferChangeListeners(),l._registerDimensionChangeListeners(),l}return n(t,e),Object.defineProperty(t.prototype,"_width",{get:function(){return this._optionsService.options.overviewRulerWidth||0},enumerable:!1,configurable:!0}),t.prototype._registerDecorationListeners=function(){var e=this;this.register(this._decorationService.onDecorationRegistered((function(){return e._queueRefresh(void 0,!0)}))),this.register(this._decorationService.onDecorationRemoved((function(){return e._queueRefresh(void 0,!0)})))},t.prototype._registerBufferChangeListeners=function(){var e=this;this.register(this._renderService.onRenderedViewportChange((function(){return e._queueRefresh()}))),this.register(this._bufferService.buffers.onBufferActivate((function(){e._canvas.style.display=e._bufferService.buffer===e._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((function(){e._lastKnownBufferLength!==e._bufferService.buffers.normal.lines.length&&(e._refreshDrawHeightConstants(),e._refreshColorZonePadding())})))},t.prototype._registerDimensionChangeListeners=function(){var e=this;this.register(this._renderService.onRender((function(){e._containerHeight&&e._containerHeight===e._screenElement.clientHeight||(e._queueRefresh(!0),e._containerHeight=e._screenElement.clientHeight)}))),this.register(this._optionsService.onOptionChange((function(t){"overviewRulerWidth"===t&&e._queueRefresh(!0)}))),this.register((0,l.addDisposableDomListener)(window,"resize",(function(){e._queueRefresh(!0)}))),this._queueRefresh(!0)},t.prototype.dispose=function(){var t;null===(t=this._canvas)||void 0===t||t.remove(),e.prototype.dispose.call(this)},t.prototype._refreshDrawConstants=function(){var e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=e,d.center=t,d.right=e,this._refreshDrawHeightConstants(),p.full=0,p.left=0,p.center=d.left,p.right=d.left+d.center},t.prototype._refreshDrawHeightConstants=function(){_.full=Math.round(2*window.devicePixelRatio);var e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*window.devicePixelRatio);_.left=t,_.center=t,_.right=t},t.prototype._refreshColorZonePadding=function(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*_.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length},t.prototype._refreshCanvasDimensions=function(){this._canvas.style.width=this._width+"px",this._canvas.width=Math.round(this._width*window.devicePixelRatio),this._canvas.style.height=this._screenElement.clientHeight+"px",this._canvas.height=Math.round(this._screenElement.clientHeight*window.devicePixelRatio),this._refreshDrawConstants(),this._refreshColorZonePadding()},t.prototype._refreshDecorations=function(){var e,t,r,i,n,o;this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();try{for(var s=a(this._decorationService.decorations),c=s.next();!c.done;c=s.next()){var l=c.value;this._colorZoneStore.addDecoration(l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this._ctx.lineWidth=1;var h=this._colorZoneStore.zones;try{for(var u=a(h),f=u.next();!f.done;f=u.next())"full"!==(p=f.value).position&&this._renderColorZone(p)}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}try{for(var _=a(h),d=_.next();!d.done;d=_.next()){var p;"full"===(p=d.value).position&&this._renderColorZone(p)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1},t.prototype._renderColorZone=function(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(p[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-_[e.position||"full"]/2),d[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+_[e.position||"full"]))},t.prototype._queueRefresh=function(e,t){var r=this;this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=window.requestAnimationFrame((function(){r._refreshDecorations(),r._animationFrame=void 0})))},o([s(2,f.IBufferService),s(3,f.IDecorationService),s(4,h.IRenderService),s(5,f.IOptionsService)],t)}(u.Disposable);t.OverviewRulerRenderer=v},2950:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;var o=r(4725),s=r(2585),a=function(){function e(e,t,r,i,n,o){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=i,this._coreService=n,this._renderService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(e.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){var r={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){if(t._isSendingComposition){t._isSendingComposition=!1;var e;r.start+=t._dataAlreadySent.length,(e=t._isComposing?t._textarea.value.substring(r.start,r.end):t._textarea.value.substring(r.start)).length>0&&t._coreService.triggerDataEvent(e,!0)}}),0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(i,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var r=e._textarea.value.replace(t,"");r.length>0&&(e._dataAlreadySent=r,e._coreService.triggerDataEvent(r,!0))}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var r=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),i=this._renderService.dimensions.actualCellHeight,n=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,o=r*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=o+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var s=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=n+"px",this._textarea.style.width=Math.max(s.width,1)+"px",this._textarea.style.height=Math.max(s.height,1)+"px",this._textarea.style.lineHeight=s.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},i([n(2,s.IBufferService),n(3,s.IOptionsService),n(4,s.ICoreService),n(5,o.IRenderService)],e)}();t.CompositionHelper=a},9806:(e,t)=>{function r(e,t,r){var i=r.getBoundingClientRect(),n=e.getComputedStyle(r),o=parseInt(n.getPropertyValue("padding-left")),s=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-i.left-o,t.clientY-i.top-s]}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawByteCoords=t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,i,n,o,s,a,c,l){if(s){var h=r(e,t,i);if(h)return h[0]=Math.ceil((h[0]+(l?a/2:0))/a),h[1]=Math.ceil(h[1]/c),h[0]=Math.min(Math.max(h[0],1),n+(l?1:0)),h[1]=Math.min(Math.max(h[1],1),o),h}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},9504:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;var i=r(2584);function n(e,t,r,i){var n=e-o(r,e),a=t-o(r,t),h=Math.abs(n-a)-function(e,t,r){for(var i=0,n=e-o(r,e),a=t-o(r,t),c=0;c<Math.abs(n-a);c++){var l="A"===s(e,t)?-1:1,h=r.buffer.lines.get(n+l*c);(null==h?void 0:h.isWrapped)&&i++}return i}(e,t,r);return l(h,c(s(e,t),i))}function o(e,t){for(var r=0,i=e.buffer.lines.get(t),n=null==i?void 0:i.isWrapped;n&&t>=0&&t<e.rows;)r++,n=null==(i=e.buffer.lines.get(--t))?void 0:i.isWrapped;return r}function s(e,t){return e>t?"A":"B"}function a(e,t,r,i,n,o){for(var s=e,a=t,c="";s!==r||a!==i;)s+=n?1:-1,n&&s>o.cols-1?(c+=o.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!n&&s<0&&(c+=o.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=o.cols-1,a--);return c+o.buffer.translateBufferLineToString(a,!1,e,s)}function c(e,t){var r=t?"O":"[";return i.C0.ESC+r+e}function l(e,t){e=Math.floor(e);for(var r="",i=0;i<e;i++)r+=t;return r}t.moveToCellSequence=function(e,t,r,i){var s,h=r.buffer.x,u=r.buffer.y;if(!r.buffer.hasScrollback)return function(e,t,r,i,s,h){return 0===n(t,i,s,h).length?"":l(a(e,t,e,t-o(s,t),!1,s).length,c("D",h))}(h,u,0,t,r,i)+n(u,t,r,i)+function(e,t,r,i,s,h){var u;u=n(t,i,s,h).length>0?i-o(s,i):t;var f=i,_=function(e,t,r,i,s,a){var c;return c=n(r,i,s,a).length>0?i-o(s,i):t,e<r&&c<=i||e>=r&&c<i?"C":"D"}(e,t,r,i,s,h);return l(a(e,u,r,f,"C"===_,s).length,c(_,h))}(h,u,e,t,r,i);if(u===t)return s=h>e?"D":"C",l(Math.abs(h-e),c(s,i));s=u>t?"D":"C";var f=Math.abs(u-t);return l(function(e,t){return t.cols-e}(u>t?e:h,r)+(f-1)*r.cols+1+((u>t?h:e)-1),c(s,i))}},4389:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)},n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;var o=r(3236),s=r(9042),a=r(7975),c=r(7090),l=r(5741),h=r(8285),u=["cols","rows"],f=function(){function e(e){var t=this;this._core=new o.Terminal(e),this._addonManager=new l.AddonManager,this._publicOptions=i({},this._core.options);var r=function(e){return t._core.options[e]},n=function(e,r){t._checkReadonlyOptions(e),t._core.options[e]=r};for(var s in this._core.options){var a={get:r.bind(this,s),set:n.bind(this,s)};Object.defineProperty(this._publicOptions,s,a)}}return e.prototype._checkReadonlyOptions=function(e){if(u.includes(e))throw new Error('Option "'+e+'" can only be set in the constructor')},e.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(e.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onWriteParsed",{get:function(){return this._core.onWriteParsed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new a.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return this._checkProposedApi(),new c.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new h.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modes",{get:function(){var e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._publicOptions},set:function(e){for(var t in e)this._publicOptions[t]=e[t]},enumerable:!1,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,r){return this._checkProposedApi(),this._core.registerLinkMatcher(e,t,r)},e.prototype.deregisterLinkMatcher=function(e){this._checkProposedApi(),this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._checkProposedApi(),this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return void 0===e&&(e=0),this._checkProposedApi(),this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.registerDecoration=function(e){var t,r,i;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(r=e.width)&&void 0!==r?r:0,null!==(i=e.height)&&void 0!==i?i:0),this._core.registerDecoration(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._checkReadonlyOptions(e),this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return s},enumerable:!1,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var o=n(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(a===1/0||isNaN(a)||a%1!=0)throw new Error("This API only accepts integers")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype._verifyPositiveIntegers=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var o=n(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(a&&(a===1/0||isNaN(a)||a%1!=0||a<0))throw new Error("This API only accepts positive integers")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e}();t.Terminal=f},1546:function(e,t,r){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderLayer=void 0;var n=r(643),o=r(8803),s=r(1420),a=r(3734),c=r(1752),l=r(8055),h=r(9631),u=r(8978),f=function(){function e(e,t,r,i,n,o,s,a,c){this._container=e,this._alpha=i,this._colors=n,this._rendererId=o,this._bufferService=s,this._optionsService=a,this._decorationService=c,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._columnSelectMode=!1,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=r.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;(0,h.removeElementFromParent)(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=(0,c.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,s.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype.clearTextureAtlas=function(){var e;null===(e=this._charAtlas)||void 0===e||e.clear()},e.prototype._fillCells=function(e,t,r,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype._fillMiddleLineAtCells=function(e,t,r){void 0===r&&(r=1);var i=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-i-window.devicePixelRatio,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillBottomLineAtCells=function(e,t,r){void 0===r&&(r=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,r*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,r){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*r,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,r,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,r*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,r,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,r*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,r){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=o.TEXT_BASELINE,this._clipRow(r);var i=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(i=(0,u.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),i||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},e.prototype._drawChars=function(e,t,r){var s,a,c,l=this._getContrastColor(e,t,r);if(l||e.isFgRGB()||e.isBgRGB())this._drawUncachedChars(e,t,r,l);else{var h,u;e.isInverse()?(h=e.isBgDefault()?o.INVERTED_DEFAULT_COLOR:e.getBgColor(),u=e.isFgDefault()?o.INVERTED_DEFAULT_COLOR:e.getFgColor()):(u=e.isBgDefault()?n.DEFAULT_COLOR:e.getBgColor(),h=e.isFgDefault()?n.DEFAULT_COLOR:e.getFgColor()),h+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&h<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||n.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||n.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=u,this._currentGlyphIdentifier.fg=h,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic();var f=!1;try{for(var _=i(this._decorationService.getDecorationsAtCell(t,r)),d=_.next();!d.done;d=_.next()){var p=d.value;if(p.backgroundColorRGB||p.foregroundColorRGB){f=!0;break}}}catch(e){s={error:e}}finally{try{d&&!d.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}!f&&(null===(c=this._charAtlas)||void 0===c?void 0:c.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(e,t,r)}},e.prototype._drawUncachedChars=function(e,t,r,i){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline=o.TEXT_BASELINE,e.isInverse())if(i)this._ctx.fillStyle=i.css;else if(e.isBgDefault())this._ctx.fillStyle=l.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var n=e.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),this._ctx.fillStyle=this._colors.ansi[n].css}else if(i)this._ctx.fillStyle=i.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var s=e.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&s<8&&(s+=8),this._ctx.fillStyle=this._colors.ansi[s].css}this._clipRow(r),e.isDim()&&(this._ctx.globalAlpha=o.DIM_OPACITY);var c=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(c=(0,u.tryDrawCustomChar)(this._ctx,e.getChars(),t*this._scaledCellWidth,r*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),c||this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},e.prototype._getContrastColor=function(e,t,r){var n,o,s,a,h=!1;try{for(var u=i(this._decorationService.getDecorationsAtCell(t,r)),f=u.next();!f.done;f=u.next()){var _=f.value;"top"!==_.options.layer&&h||(_.backgroundColorRGB&&(s=_.backgroundColorRGB.rgba),_.foregroundColorRGB&&(a=_.foregroundColorRGB.rgba),h="top"===_.options.layer)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}if(h||this._colors.selectionForeground&&this._isCellInSelection(t,r)&&(a=this._colors.selectionForeground.rgba),s||a||1!==this._optionsService.rawOptions.minimumContrastRatio&&!(0,c.excludeFromContrastRatioDemands)(e.getCode())){if(!s&&!a){var d=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==d)return d||void 0}var p=e.getFgColor(),v=e.getFgColorMode(),y=e.getBgColor(),g=e.getBgColorMode(),m=!!e.isInverse(),b=!!e.isInverse();if(m){var S=p;p=y,y=S;var C=v;v=g,g=C}var w=this._resolveBackgroundRgba(void 0!==s?50331648:g,null!=s?s:y,m),L=this._resolveForegroundRgba(v,p,m,b),E=l.rgba.ensureContrastRatio(null!=s?s:w,null!=a?a:L,this._optionsService.rawOptions.minimumContrastRatio);if(!E){if(!a)return void this._colors.contrastCache.setColor(e.bg,e.fg,null);E=a}var x={css:l.channels.toCss(E>>24&255,E>>16&255,E>>8&255),rgba:E};return s||a||this._colors.contrastCache.setColor(e.bg,e.fg,x),x}},e.prototype._resolveBackgroundRgba=function(e,t,r){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return r?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,r,i){switch(e){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&i&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;default:return r?this._colors.background.rgba:this._colors.foreground.rgba}},e.prototype._isCellInSelection=function(e,t){var r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?e>=r[0]&&t>=r[1]&&e<i[0]&&t<i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])},e}();t.BaseRenderLayer=f},2512:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorRenderLayer=void 0;var a=r(1546),c=r(511),l=r(2585),h=r(4725),u=600,f=function(e){function t(t,r,i,n,o,s,a,l,h,u){var f=e.call(this,t,"cursor",r,!0,i,n,s,a,u)||this;return f._onRequestRedraw=o,f._coreService=l,f._coreBrowserService=h,f._cell=new c.CellData,f._state={x:0,y:0,isFocused:!1,style:"",width:0},f._cursorRenderers={bar:f._renderBarCursor.bind(f),block:f._renderBlockCursor.bind(f),underline:f._renderUnderlineCursor.bind(f)},f}return n(t,e),t.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),e.prototype.dispose.call(this)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){var e;this._clearCursor(),null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation(),this.onOptionsChanged()},t.prototype.onBlur=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new _(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,r=t-this._bufferService.buffer.ydisp;if(r<0||r>=this._bufferService.rows)this._clearCursor();else{var i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(i,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var n=this._optionsService.rawOptions.cursorStyle;return n&&"block"!==n?this._cursorRenderers[n](i,r,this._cell):this._renderBlurCursor(i,r,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=r,this._state.isFocused=!1,this._state.style=n,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===i&&this._state.y===r&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](i,r,this._cell),this._ctx.restore(),this._state.x=i,this._state.y=r,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,r.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(r,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,r){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,r.getWidth(),1),this._ctx.restore()},o([s(5,l.IBufferService),s(6,l.IOptionsService),s(7,l.ICoreService),s(8,h.ICoreBrowserService),s(9,l.IDecorationService)],t)}(a.BaseRenderLayer);t.CursorRenderLayer=f;var _=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=u),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=u-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=u-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),u)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},8978:function(e,t,r){var i,n,o,s,a,c,l,h,u,f,_,d,p,v,y,g,m,b,S,C,w,L,E,x,R,k,M,A,O,D,T,B,P,I,H,j,F,W,U,q,N,z,K,G,V,X,Z,Y,J,$,Q,ee,te,re,ie,ne,oe,se,ae,ce,le,he,ue,fe,_e,de,pe,ve,ye,ge,me,be,Se,Ce,we,Le,Ee,xe,Re,ke,Me,Ae,Oe,De,Te,Be,Pe,Ie,He,je,Fe,We,Ue,qe,Ne,ze,Ke,Ge,Ve,Xe,Ze,Ye,Je,$e,Qe,et,tt,rt,it,nt,ot,st,at,ct,lt,ht,ut,ft,_t,dt,pt,vt,yt,gt,mt,bt,St,Ct,wt=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},Lt=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.tryDrawCustomChar=t.powerlineDefinitions=t.boxDrawingDefinitions=t.blockElementDefinitions=void 0;var Et=r(1752);t.blockElementDefinitions={"▀":[{x:0,y:0,w:8,h:4}],"▁":[{x:0,y:7,w:8,h:1}],"▂":[{x:0,y:6,w:8,h:2}],"▃":[{x:0,y:5,w:8,h:3}],"▄":[{x:0,y:4,w:8,h:4}],"▅":[{x:0,y:3,w:8,h:5}],"▆":[{x:0,y:2,w:8,h:6}],"▇":[{x:0,y:1,w:8,h:7}],"█":[{x:0,y:0,w:8,h:8}],"▉":[{x:0,y:0,w:7,h:8}],"▊":[{x:0,y:0,w:6,h:8}],"▋":[{x:0,y:0,w:5,h:8}],"▌":[{x:0,y:0,w:4,h:8}],"▍":[{x:0,y:0,w:3,h:8}],"▎":[{x:0,y:0,w:2,h:8}],"▏":[{x:0,y:0,w:1,h:8}],"▐":[{x:4,y:0,w:4,h:8}],"▔":[{x:0,y:0,w:9,h:1}],"▕":[{x:7,y:0,w:1,h:8}],"▖":[{x:0,y:4,w:4,h:4}],"▗":[{x:4,y:4,w:4,h:4}],"▘":[{x:0,y:0,w:4,h:4}],"▙":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"▚":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"▛":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"▜":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"▝":[{x:4,y:0,w:4,h:4}],"▞":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"▟":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"🭰":[{x:1,y:0,w:1,h:8}],"🭱":[{x:2,y:0,w:1,h:8}],"🭲":[{x:3,y:0,w:1,h:8}],"🭳":[{x:4,y:0,w:1,h:8}],"🭴":[{x:5,y:0,w:1,h:8}],"🭵":[{x:6,y:0,w:1,h:8}],"🭶":[{x:0,y:1,w:8,h:1}],"🭷":[{x:0,y:2,w:8,h:1}],"🭸":[{x:0,y:3,w:8,h:1}],"🭹":[{x:0,y:4,w:8,h:1}],"🭺":[{x:0,y:5,w:8,h:1}],"🭻":[{x:0,y:6,w:8,h:1}],"🭼":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🭽":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭾":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"🭿":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"🮀":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮁":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"🮂":[{x:0,y:0,w:8,h:2}],"🮃":[{x:0,y:0,w:8,h:3}],"🮄":[{x:0,y:0,w:8,h:5}],"🮅":[{x:0,y:0,w:8,h:6}],"🮆":[{x:0,y:0,w:8,h:7}],"🮇":[{x:6,y:0,w:2,h:8}],"🮈":[{x:5,y:0,w:3,h:8}],"🮉":[{x:3,y:0,w:5,h:8}],"🮊":[{x:2,y:0,w:6,h:8}],"🮋":[{x:1,y:0,w:7,h:8}],"🮕":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"🮖":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"🮗":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var xt={"░":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"▒":[[1,0],[0,0],[0,1],[0,0]],"▓":[[0,1],[1,1],[1,0],[1,1]]};t.boxDrawingDefinitions={"─":(i={},i[1]="M0,.5 L1,.5",i),"━":(n={},n[3]="M0,.5 L1,.5",n),"│":(o={},o[1]="M.5,0 L.5,1",o),"┃":(s={},s[3]="M.5,0 L.5,1",s),"┌":(a={},a[1]="M0.5,1 L.5,.5 L1,.5",a),"┏":(c={},c[3]="M0.5,1 L.5,.5 L1,.5",c),"┐":(l={},l[1]="M0,.5 L.5,.5 L.5,1",l),"┓":(h={},h[3]="M0,.5 L.5,.5 L.5,1",h),"└":(u={},u[1]="M.5,0 L.5,.5 L1,.5",u),"┗":(f={},f[3]="M.5,0 L.5,.5 L1,.5",f),"┘":(_={},_[1]="M.5,0 L.5,.5 L0,.5",_),"┛":(d={},d[3]="M.5,0 L.5,.5 L0,.5",d),"├":(p={},p[1]="M.5,0 L.5,1 M.5,.5 L1,.5",p),"┣":(v={},v[3]="M.5,0 L.5,1 M.5,.5 L1,.5",v),"┤":(y={},y[1]="M.5,0 L.5,1 M.5,.5 L0,.5",y),"┫":(g={},g[3]="M.5,0 L.5,1 M.5,.5 L0,.5",g),"┬":(m={},m[1]="M0,.5 L1,.5 M.5,.5 L.5,1",m),"┳":(b={},b[3]="M0,.5 L1,.5 M.5,.5 L.5,1",b),"┴":(S={},S[1]="M0,.5 L1,.5 M.5,.5 L.5,0",S),"┻":(C={},C[3]="M0,.5 L1,.5 M.5,.5 L.5,0",C),"┼":(w={},w[1]="M0,.5 L1,.5 M.5,0 L.5,1",w),"╋":(L={},L[3]="M0,.5 L1,.5 M.5,0 L.5,1",L),"╴":(E={},E[1]="M.5,.5 L0,.5",E),"╸":(x={},x[3]="M.5,.5 L0,.5",x),"╵":(R={},R[1]="M.5,.5 L.5,0",R),"╹":(k={},k[3]="M.5,.5 L.5,0",k),"╶":(M={},M[1]="M.5,.5 L1,.5",M),"╺":(A={},A[3]="M.5,.5 L1,.5",A),"╷":(O={},O[1]="M.5,.5 L.5,1",O),"╻":(D={},D[3]="M.5,.5 L.5,1",D),"═":(T={},T[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},T),"║":(B={},B[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},B),"╒":(P={},P[1]=function(e,t){return"M.5,1 L.5,"+(.5-t)+" L1,"+(.5-t)+" M.5,"+(.5+t)+" L1,"+(.5+t)},P),"╓":(I={},I[1]=function(e,t){return"M"+(.5-e)+",1 L"+(.5-e)+",.5 L1,.5 M"+(.5+e)+",.5 L"+(.5+e)+",1"},I),"╔":(H={},H[1]=function(e,t){return"M1,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1"},H),"╕":(j={},j[1]=function(e,t){return"M0,"+(.5-t)+" L.5,"+(.5-t)+" L.5,1 M0,"+(.5+t)+" L.5,"+(.5+t)},j),"╖":(F={},F[1]=function(e,t){return"M"+(.5+e)+",1 L"+(.5+e)+",.5 L0,.5 M"+(.5-e)+",.5 L"+(.5-e)+",1"},F),"╗":(W={},W[1]=function(e,t){return"M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M0,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",1"},W),"╘":(U={},U[1]=function(e,t){return"M.5,0 L.5,"+(.5+t)+" L1,"+(.5+t)+" M.5,"+(.5-t)+" L1,"+(.5-t)},U),"╙":(q={},q[1]=function(e,t){return"M1,.5 L"+(.5-e)+",.5 L"+(.5-e)+",0 M"+(.5+e)+",.5 L"+(.5+e)+",0"},q),"╚":(N={},N[1]=function(e,t){return"M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0 M1,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",0"},N),"╛":(z={},z[1]=function(e,t){return"M0,"+(.5+t)+" L.5,"+(.5+t)+" L.5,0 M0,"+(.5-t)+" L.5,"+(.5-t)},z),"╜":(K={},K[1]=function(e,t){return"M0,.5 L"+(.5+e)+",.5 L"+(.5+e)+",0 M"+(.5-e)+",.5 L"+(.5-e)+",0"},K),"╝":(G={},G[1]=function(e,t){return"M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M0,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",0"},G),"╞":(V={},V[1]=function(e,t){return"M.5,0 L.5,1 M.5,"+(.5-t)+" L1,"+(.5-t)+" M.5,"+(.5+t)+" L1,"+(.5+t)},V),"╟":(X={},X[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1 M"+(.5+e)+",.5 L1,.5"},X),"╠":(Z={},Z[1]=function(e,t){return"M"+(.5-e)+",0 L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},Z),"╡":(Y={},Y[1]=function(e,t){return"M.5,0 L.5,1 M0,"+(.5-t)+" L.5,"+(.5-t)+" M0,"+(.5+t)+" L.5,"+(.5+t)},Y),"╢":(J={},J[1]=function(e,t){return"M0,.5 L"+(.5-e)+",.5 M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},J),"╣":($={},$[1]=function(e,t){return"M"+(.5+e)+",0 L"+(.5+e)+",1 M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0"},$),"╤":(Q={},Q[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)+" M.5,"+(.5+t)+" L.5,1"},Q),"╥":(ee={},ee[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",.5 L"+(.5-e)+",1 M"+(.5+e)+",.5 L"+(.5+e)+",1"},ee),"╦":(te={},te[1]=function(e,t){return"M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1"},te),"╧":(re={},re[1]=function(e,t){return"M.5,0 L.5,"+(.5-t)+" M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},re),"╨":(ie={},ie[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",.5 L"+(.5-e)+",0 M"+(.5+e)+",.5 L"+(.5+e)+",0"},ie),"╩":(ne={},ne[1]=function(e,t){return"M0,"+(.5+t)+" L1,"+(.5+t)+" M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},ne),"╪":(oe={},oe[1]=function(e,t){return"M.5,0 L.5,1 M0,"+(.5-t)+" L1,"+(.5-t)+" M0,"+(.5+t)+" L1,"+(.5+t)},oe),"╫":(se={},se[1]=function(e,t){return"M0,.5 L1,.5 M"+(.5-e)+",0 L"+(.5-e)+",1 M"+(.5+e)+",0 L"+(.5+e)+",1"},se),"╬":(ae={},ae[1]=function(e,t){return"M0,"+(.5+t)+" L"+(.5-e)+","+(.5+t)+" L"+(.5-e)+",1 M1,"+(.5+t)+" L"+(.5+e)+","+(.5+t)+" L"+(.5+e)+",1 M0,"+(.5-t)+" L"+(.5-e)+","+(.5-t)+" L"+(.5-e)+",0 M1,"+(.5-t)+" L"+(.5+e)+","+(.5-t)+" L"+(.5+e)+",0"},ae),"╱":(ce={},ce[1]="M1,0 L0,1",ce),"╲":(le={},le[1]="M0,0 L1,1",le),"╳":(he={},he[1]="M1,0 L0,1 M0,0 L1,1",he),"╼":(ue={},ue[1]="M.5,.5 L0,.5",ue[3]="M.5,.5 L1,.5",ue),"╽":(fe={},fe[1]="M.5,.5 L.5,0",fe[3]="M.5,.5 L.5,1",fe),"╾":(_e={},_e[1]="M.5,.5 L1,.5",_e[3]="M.5,.5 L0,.5",_e),"╿":(de={},de[1]="M.5,.5 L.5,1",de[3]="M.5,.5 L.5,0",de),"┍":(pe={},pe[1]="M.5,.5 L.5,1",pe[3]="M.5,.5 L1,.5",pe),"┎":(ve={},ve[1]="M.5,.5 L1,.5",ve[3]="M.5,.5 L.5,1",ve),"┑":(ye={},ye[1]="M.5,.5 L.5,1",ye[3]="M.5,.5 L0,.5",ye),"┒":(ge={},ge[1]="M.5,.5 L0,.5",ge[3]="M.5,.5 L.5,1",ge),"┕":(me={},me[1]="M.5,.5 L.5,0",me[3]="M.5,.5 L1,.5",me),"┖":(be={},be[1]="M.5,.5 L1,.5",be[3]="M.5,.5 L.5,0",be),"┙":(Se={},Se[1]="M.5,.5 L.5,0",Se[3]="M.5,.5 L0,.5",Se),"┚":(Ce={},Ce[1]="M.5,.5 L0,.5",Ce[3]="M.5,.5 L.5,0",Ce),"┝":(we={},we[1]="M.5,0 L.5,1",we[3]="M.5,.5 L1,.5",we),"┞":(Le={},Le[1]="M0.5,1 L.5,.5 L1,.5",Le[3]="M.5,.5 L.5,0",Le),"┟":(Ee={},Ee[1]="M.5,0 L.5,.5 L1,.5",Ee[3]="M.5,.5 L.5,1",Ee),"┠":(xe={},xe[1]="M.5,.5 L1,.5",xe[3]="M.5,0 L.5,1",xe),"┡":(Re={},Re[1]="M.5,.5 L.5,1",Re[3]="M.5,0 L.5,.5 L1,.5",Re),"┢":(ke={},ke[1]="M.5,.5 L.5,0",ke[3]="M0.5,1 L.5,.5 L1,.5",ke),"┥":(Me={},Me[1]="M.5,0 L.5,1",Me[3]="M.5,.5 L0,.5",Me),"┦":(Ae={},Ae[1]="M0,.5 L.5,.5 L.5,1",Ae[3]="M.5,.5 L.5,0",Ae),"┧":(Oe={},Oe[1]="M.5,0 L.5,.5 L0,.5",Oe[3]="M.5,.5 L.5,1",Oe),"┨":(De={},De[1]="M.5,.5 L0,.5",De[3]="M.5,0 L.5,1",De),"┩":(Te={},Te[1]="M.5,.5 L.5,1",Te[3]="M.5,0 L.5,.5 L0,.5",Te),"┪":(Be={},Be[1]="M.5,.5 L.5,0",Be[3]="M0,.5 L.5,.5 L.5,1",Be),"┭":(Pe={},Pe[1]="M0.5,1 L.5,.5 L1,.5",Pe[3]="M.5,.5 L0,.5",Pe),"┮":(Ie={},Ie[1]="M0,.5 L.5,.5 L.5,1",Ie[3]="M.5,.5 L1,.5",Ie),"┯":(He={},He[1]="M.5,.5 L.5,1",He[3]="M0,.5 L1,.5",He),"┰":(je={},je[1]="M0,.5 L1,.5",je[3]="M.5,.5 L.5,1",je),"┱":(Fe={},Fe[1]="M.5,.5 L1,.5",Fe[3]="M0,.5 L.5,.5 L.5,1",Fe),"┲":(We={},We[1]="M.5,.5 L0,.5",We[3]="M0.5,1 L.5,.5 L1,.5",We),"┵":(Ue={},Ue[1]="M.5,0 L.5,.5 L1,.5",Ue[3]="M.5,.5 L0,.5",Ue),"┶":(qe={},qe[1]="M.5,0 L.5,.5 L0,.5",qe[3]="M.5,.5 L1,.5",qe),"┷":(Ne={},Ne[1]="M.5,.5 L.5,0",Ne[3]="M0,.5 L1,.5",Ne),"┸":(ze={},ze[1]="M0,.5 L1,.5",ze[3]="M.5,.5 L.5,0",ze),"┹":(Ke={},Ke[1]="M.5,.5 L1,.5",Ke[3]="M.5,0 L.5,.5 L0,.5",Ke),"┺":(Ge={},Ge[1]="M.5,.5 L0,.5",Ge[3]="M.5,0 L.5,.5 L1,.5",Ge),"┽":(Ve={},Ve[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Ve[3]="M.5,.5 L0,.5",Ve),"┾":(Xe={},Xe[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Xe[3]="M.5,.5 L1,.5",Xe),"┿":(Ze={},Ze[1]="M.5,0 L.5,1",Ze[3]="M0,.5 L1,.5",Ze),"╀":(Ye={},Ye[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Ye[3]="M.5,.5 L.5,0",Ye),"╁":(Je={},Je[1]="M.5,.5 L.5,0 M0,.5 L1,.5",Je[3]="M.5,.5 L.5,1",Je),"╂":($e={},$e[1]="M0,.5 L1,.5",$e[3]="M.5,0 L.5,1",$e),"╃":(Qe={},Qe[1]="M0.5,1 L.5,.5 L1,.5",Qe[3]="M.5,0 L.5,.5 L0,.5",Qe),"╄":(et={},et[1]="M0,.5 L.5,.5 L.5,1",et[3]="M.5,0 L.5,.5 L1,.5",et),"╅":(tt={},tt[1]="M.5,0 L.5,.5 L1,.5",tt[3]="M0,.5 L.5,.5 L.5,1",tt),"╆":(rt={},rt[1]="M.5,0 L.5,.5 L0,.5",rt[3]="M0.5,1 L.5,.5 L1,.5",rt),"╇":(it={},it[1]="M.5,.5 L.5,1",it[3]="M.5,.5 L.5,0 M0,.5 L1,.5",it),"╈":(nt={},nt[1]="M.5,.5 L.5,0",nt[3]="M0,.5 L1,.5 M.5,.5 L.5,1",nt),"╉":(ot={},ot[1]="M.5,.5 L1,.5",ot[3]="M.5,0 L.5,1 M.5,.5 L0,.5",ot),"╊":(st={},st[1]="M.5,.5 L0,.5",st[3]="M.5,0 L.5,1 M.5,.5 L1,.5",st),"╌":(at={},at[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",at),"╍":(ct={},ct[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",ct),"┄":(lt={},lt[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",lt),"┅":(ht={},ht[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ht),"┈":(ut={},ut[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ut),"┉":(ft={},ft[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ft),"╎":(_t={},_t[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",_t),"╏":(dt={},dt[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",dt),"┆":(pt={},pt[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",pt),"┇":(vt={},vt[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",vt),"┊":(yt={},yt[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",yt),"┋":(gt={},gt[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",gt),"╭":(mt={},mt[1]="C.5,1,.5,.5,1,.5",mt),"╮":(bt={},bt[1]="C.5,1,.5,.5,0,.5",bt),"╯":(St={},St[1]="C.5,0,.5,.5,0,.5",St),"╰":(Ct={},Ct[1]="C.5,0,.5,.5,1,.5",Ct)},t.powerlineDefinitions={"":{d:"M0,0 L1,.5 L0,1",type:0},"":{d:"M0,0 L1,.5 L0,1",type:1,horizontalPadding:.5},"":{d:"M1,0 L0,.5 L1,1",type:0},"":{d:"M1,0 L0,.5 L1,1",type:1,horizontalPadding:.5}},t.tryDrawCustomChar=function(e,r,i,n,o,s){var a=t.blockElementDefinitions[r];if(a)return function(e,t,r,i,n,o){for(var s=0;s<t.length;s++){var a=t[s],c=n/8,l=o/8;e.fillRect(r+a.x*c,i+a.y*l,a.w*c,a.h*l)}}(e,a,i,n,o,s),!0;var c=xt[r];if(c)return function(e,t,r,i,n,o){var s,a=Rt.get(t);a||(a=new Map,Rt.set(t,a));var c=e.fillStyle;if("string"!=typeof c)throw new Error('Unexpected fillStyle type "'+c+'"');var l=a.get(c);if(!l){var h=t[0].length,u=t.length,f=document.createElement("canvas");f.width=h,f.height=u;var _=(0,Et.throwIfFalsy)(f.getContext("2d")),d=new ImageData(h,u),p=void 0,v=void 0,y=void 0,g=void 0;if(c.startsWith("#"))p=parseInt(c.slice(1,3),16),v=parseInt(c.slice(3,5),16),y=parseInt(c.slice(5,7),16),g=c.length>7&&parseInt(c.slice(7,9),16)||1;else{if(!c.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+c+'" when drawing pattern glyph');p=(s=wt(c.substring(5,c.length-1).split(",").map((function(e){return parseFloat(e)})),4))[0],v=s[1],y=s[2],g=s[3]}for(var m=0;m<u;m++)for(var b=0;b<h;b++)d.data[4*(m*h+b)]=p,d.data[4*(m*h+b)+1]=v,d.data[4*(m*h+b)+2]=y,d.data[4*(m*h+b)+3]=t[m][b]*(255*g);_.putImageData(d,0,0),l=(0,Et.throwIfFalsy)(e.createPattern(f,null)),a.set(c,l)}e.fillStyle=l,e.fillRect(r,i,n,o)}(e,c,i,n,o,s),!0;var l=t.boxDrawingDefinitions[r];if(l)return function(e,t,r,i,n,o){var s,a,c,l;e.strokeStyle=e.fillStyle;try{for(var h=Lt(Object.entries(t)),u=h.next();!u.done;u=h.next()){var f=wt(u.value,2),_=f[0],d=f[1];e.beginPath(),e.lineWidth=window.devicePixelRatio*Number.parseInt(_);var p=void 0;p="function"==typeof d?d(.15,.15/o*n):d;try{for(var v=(c=void 0,Lt(p.split(" "))),y=v.next();!y.done;y=v.next()){var g=y.value,m=g[0],b=Mt[m];if(b){var S=g.substring(1).split(",");S[0]&&S[1]&&b(e,At(S,n,o,r,i))}else console.error('Could not find drawing instructions for "'+m+'"')}}catch(e){c={error:e}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(c)throw c.error}}e.stroke(),e.closePath()}}catch(e){s={error:e}}finally{try{u&&!u.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}}(e,l,i,n,o,s),!0;var h=t.powerlineDefinitions[r];return!!h&&(function(e,t,r,i,n,o){var s,a;e.beginPath(),e.lineWidth=window.devicePixelRatio;try{for(var c=Lt(t.d.split(" ")),l=c.next();!l.done;l=c.next()){var h=l.value,u=h[0],f=Mt[u];if(f){var _=h.substring(1).split(",");_[0]&&_[1]&&f(e,At(_,n,o,r,i,t.horizontalPadding))}else console.error('Could not find drawing instructions for "'+u+'"')}}catch(e){s={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}1===t.type?(e.strokeStyle=e.fillStyle,e.stroke()):e.fill(),e.closePath()}(e,h,i,n,o,s),!0)};var Rt=new Map;function kt(e,t,r){return void 0===r&&(r=0),Math.max(Math.min(e,t),r)}var Mt={C:function(e,t){return e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},L:function(e,t){return e.lineTo(t[0],t[1])},M:function(e,t){return e.moveTo(t[0],t[1])}};function At(e,t,r,i,n,o){void 0===o&&(o=0);var s=e.map((function(e){return parseFloat(e)||parseInt(e)}));if(s.length<2)throw new Error("Too few arguments for instruction");for(var a=0;a<s.length;a+=2)s[a]*=t-2*o*window.devicePixelRatio,0!==s[a]&&(s[a]=kt(Math.round(s[a]+.5)-.5,t,0)),s[a]+=i+o*window.devicePixelRatio;for(var c=1;c<s.length;c+=2)s[c]*=r,0!==s[c]&&(s[c]=kt(Math.round(s[c]+.5)-.5,r,0)),s[c]+=n;return s}},3700:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridCache=void 0;var r=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var r=0;r<e;r++){this.cache.length<=r&&this.cache.push([]);for(var i=this.cache[r].length;i<t;i++)this.cache[r].push(void 0);this.cache[r].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=r},5098:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkRenderLayer=void 0;var a=r(1546),c=r(8803),l=r(2040),h=r(2585),u=function(e){function t(t,r,i,n,o,s,a,c,l){var h=e.call(this,t,"link",r,!0,i,n,a,c,l)||this;return o.onShowLinkUnderline((function(e){return h._onShowLinkUnderline(e)})),o.onHideLinkUnderline((function(e){return h._onHideLinkUnderline(e)})),s.onShowLinkUnderline((function(e){return h._onShowLinkUnderline(e)})),s.onHideLinkUnderline((function(e){return h._onHideLinkUnderline(e)})),h}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onShowLinkUnderline=function(e){if(e.fg===c.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&(0,l.is256Color)(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onHideLinkUnderline=function(e){this._clearCurrentLink()},o([s(6,h.IBufferService),s(7,h.IOptionsService),s(8,h.IDecorationService)],t)}(a.BaseRenderLayer);t.LinkRenderLayer=u},3525:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var c=r(9596),l=r(4149),h=r(2512),u=r(5098),f=r(844),_=r(4725),d=r(2585),p=r(1420),v=r(8460),y=1,g=function(e){function t(t,r,i,n,o,s,a,f){var _=e.call(this)||this;_._colors=t,_._screenElement=r,_._bufferService=s,_._charSizeService=a,_._optionsService=f,_._id=y++,_._onRequestRedraw=new v.EventEmitter;var d=_._optionsService.rawOptions.allowTransparency;return _._renderLayers=[o.createInstance(c.TextRenderLayer,_._screenElement,0,_._colors,d,_._id),o.createInstance(l.SelectionRenderLayer,_._screenElement,1,_._colors,_._id),o.createInstance(u.LinkRenderLayer,_._screenElement,2,_._colors,_._id,i,n),o.createInstance(h.CursorRenderLayer,_._screenElement,3,_._colors,_._id,_._onRequestRedraw)],_.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},_._devicePixelRatio=window.devicePixelRatio,_._updateDimensions(),_.onOptionsChanged(),_}return n(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t,r;try{for(var i=a(this._renderLayers),n=i.next();!n.done;n=i.next())n.value.dispose()}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.prototype.dispose.call(this),(0,p.removeTerminalFromCache)(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t,r;this._colors=e;try{for(var i=a(this._renderLayers),n=i.next();!n.done;n=i.next()){var o=n.value;o.setColors(this._colors),o.reset()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.onResize=function(e,t){var r,i;this._updateDimensions();try{for(var n=a(this._renderLayers),o=n.next();!o.done;o=n.next())o.value.resize(this.dimensions)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,r){void 0===r&&(r=!1),this._runOperation((function(i){return i.onSelectionChanged(e,t,r)})),this._colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){var t,r;try{for(var i=a(this._renderLayers),n=i.next();!n.done;n=i.next())e(n.value)}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.renderRows=function(e,t){var r,i;try{for(var n=a(this._renderLayers),o=n.next();!o.done;o=n.next())o.value.onGridChanged(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},t.prototype.clearTextureAtlas=function(){var e,t;try{for(var r=a(this._renderLayers),i=r.next();!i.done;i=r.next())i.value.clearTextureAtlas()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},o([s(4,d.IInstantiationService),s(5,d.IBufferService),s(6,_.ICharSizeService),s(7,d.IOptionsService)],t)}(f.Disposable);t.Renderer=g},1752:(e,t)=>{function r(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.excludeFromContrastRatioDemands=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=r,t.excludeFromContrastRatioDemands=function(e){return r(e)||function(e){return 9472<=e&&e<=9631}(e)}},4149:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRenderLayer=void 0;var a=r(1546),c=r(2585),l=function(e){function t(t,r,i,n,o,s,a){var c=e.call(this,t,"selection",r,!0,i,n,o,s,a)||this;return c._clearState(),c}return n(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(t,r,i){if(e.prototype.onSelectionChanged.call(this,t,r,i),this._didStateChange(t,r,i,this._bufferService.buffer.ydisp))if(this._clearAll(),t&&r){var n=t[1]-this._bufferService.buffer.ydisp,o=r[1]-this._bufferService.buffer.ydisp,s=Math.max(n,0),a=Math.min(o,this._bufferService.rows-1);if(s>=this._bufferService.rows||a<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,i){var c=t[0],l=r[0]-c,h=a-s+1;this._fillCells(c,s,l,h)}else{c=n===s?t[0]:0;var u=s===o?r[0]:this._bufferService.cols;this._fillCells(c,s,u-c,1);var f=Math.max(a-s-1,0);if(this._fillCells(0,s+1,this._bufferService.cols,f),s!==a){var _=o===a?r[0]:this._bufferService.cols;this._fillCells(0,a,_,1)}}this._state.start=[t[0],t[1]],this._state.end=[r[0],r[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,r,i){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||r!==this._state.columnSelectMode||i!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},o([s(4,c.IBufferService),s(5,c.IOptionsService),s(6,c.IDecorationService)],t)}(a.BaseRenderLayer);t.SelectionRenderLayer=l},9596:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderLayer=void 0;var c=r(3700),l=r(1546),h=r(3734),u=r(643),f=r(511),_=r(2585),d=r(4725),p=r(4269),v=function(e){function t(t,r,i,n,o,s,a,l,h){var u=e.call(this,t,"text",r,n,i,o,s,a,h)||this;return u._characterJoinerService=l,u._characterWidth=0,u._characterFont="",u._characterOverlapCache={},u._workCell=new f.CellData,u._state=new c.GridCache,u}return n(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var r=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===r||(this._characterWidth=t.scaledCharWidth,this._characterFont=r,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,r){for(var i=e;i<=t;i++)for(var n=i+this._bufferService.buffer.ydisp,o=this._bufferService.buffer.lines.get(n),s=this._characterJoinerService.getJoinedCharacters(n),a=0;a<this._bufferService.cols;a++){o.loadCell(a,this._workCell);var c=this._workCell,l=!1,h=a;if(0!==c.getWidth()){if(s.length>0&&a===s[0][0]){l=!0;var f=s.shift();c=new p.JoinedCellData(this._workCell,o.translateToString(!0,f[0],f[1]),f[1]-f[0]),h=f[1]-1}!l&&this._isOverlapping(c)&&h<o.length-1&&o.getCodePoint(h+1)===u.NULL_CELL_CODE&&(c.content&=-12582913,c.content|=2<<22),r(c,a,i),a=h}}},t.prototype._drawBackground=function(e,t){var r=this,i=this._ctx,n=this._bufferService.cols,o=0,s=0,c=null;i.save(),this._forEachCell(e,t,(function(e,t,l){var u,f,_=null;e.isInverse()?_=e.isFgDefault()?r._colors.foreground.css:e.isFgRGB()?"rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":r._colors.ansi[e.getFgColor()].css:e.isBgRGB()?_="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(_=r._colors.ansi[e.getBgColor()].css);var d=!1;try{for(var p=a(r._decorationService.getDecorationsAtCell(t,r._bufferService.buffer.ydisp+l)),v=p.next();!v.done;v=p.next()){var y=v.value;"top"!==y.options.layer&&d||(y.backgroundColorRGB&&(_=y.backgroundColorRGB.css),d="top"===y.options.layer)}}catch(e){u={error:e}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(u)throw u.error}}null===c&&(o=t,s=l),l!==s?(i.fillStyle=c||"",r._fillCells(o,s,n-o,1),o=t,s=l):c!==_&&(i.fillStyle=c||"",r._fillCells(o,s,t-o,1),o=t,s=l),c=_})),null!==c&&(i.fillStyle=c,this._fillCells(o,s,n-o,1)),i.restore()},t.prototype._drawForeground=function(e,t){var r=this;this._forEachCell(e,t,(function(e,t,i){if(!e.isInvisible()&&(r._drawChars(e,t,i),e.isUnderline()||e.isStrikethrough())){if(r._ctx.save(),e.isInverse())if(e.isBgDefault())r._ctx.fillStyle=r._colors.background.css;else if(e.isBgRGB())r._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var n=e.getBgColor();r._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&n<8&&(n+=8),r._ctx.fillStyle=r._colors.ansi[n].css}else if(e.isFgDefault())r._ctx.fillStyle=r._colors.foreground.css;else if(e.isFgRGB())r._ctx.fillStyle="rgb("+h.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();r._optionsService.rawOptions.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),r._ctx.fillStyle=r._colors.ansi[o].css}e.isStrikethrough()&&r._fillMiddleLineAtCells(t,i,e.getWidth()),e.isUnderline()&&r._fillBottomLineAtCells(t,i,e.getWidth()),r._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var r=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=r,r},o([s(5,_.IBufferService),s(6,_.IOptionsService),s(7,d.ICharacterJoinerService),s(8,_.IDecorationService)],t)}(l.BaseRenderLayer);t.TextRenderLayer=v},9616:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCharAtlas=void 0;var r=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.clear=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=r},1420:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeTerminalFromCache=t.acquireCharAtlas=void 0;var i=r(2040),n=r(1906),o=[];t.acquireCharAtlas=function(e,t,r,s,a){for(var c=(0,i.generateConfig)(s,a,e,r),l=0;l<o.length;l++){var h=(u=o[l]).ownedBy.indexOf(t);if(h>=0){if((0,i.configEquals)(u.config,c))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),o.splice(l,1)):u.ownedBy.splice(h,1);break}}for(l=0;l<o.length;l++){var u=o[l];if((0,i.configEquals)(u.config,c))return u.ownedBy.push(t),u.atlas}var f={atlas:new n.DynamicCharAtlas(document,c),config:c,ownedBy:[t]};return o.push(f),f.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<o.length;t++){var r=o[t].ownedBy.indexOf(e);if(-1!==r){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(r,1);break}}}},2040:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.is256Color=t.configEquals=t.generateConfig=void 0;var i=r(643);t.generateConfig=function(e,t,r,i){var n={foreground:i.foreground,background:i.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:i.ansi.slice()};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontWeightBold:r.fontWeightBold,allowTransparency:r.allowTransparency,colors:n}},t.configEquals=function(e,t){for(var r=0;r<e.colors.ansi.length;r++)if(e.colors.ansi[r].rgba!==t.colors.ansi[r].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<i.DEFAULT_COLOR}},8803:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_ATLAS_CELL_SPACING=t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;var i=r(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=i.isFirefox||i.isLegacyEdge?"bottom":"ideographic",t.CHAR_ATLAS_CELL_SPACING=1},1906:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NoneCharAtlas=t.DynamicCharAtlas=t.getGlyphCacheKey=void 0;var o=r(8803),s=r(9616),a=r(5680),c=r(7001),l=r(6114),h=r(1752),u=r(8055),f=1024,_=1024,d={css:"rgba(0, 0, 0, 0)",rgba:0};function p(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=p;var v=function(e){function t(t,r){var i=e.call(this)||this;i._config=r,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=t.createElement("canvas"),i._cacheCanvas.width=f,i._cacheCanvas.height=_,i._cacheCtx=(0,h.throwIfFalsy)(i._cacheCanvas.getContext("2d",{alpha:!0}));var n=t.createElement("canvas");n.width=i._config.scaledCharWidth,n.height=i._config.scaledCharHeight,i._tmpCtx=(0,h.throwIfFalsy)(n.getContext("2d",{alpha:i._config.allowTransparency})),i._width=Math.floor(f/i._config.scaledCharWidth),i._height=Math.floor(_/i._config.scaledCharHeight);var o=i._width*i._height;return i._cacheMap=new c.LRUMap(o),i._cacheMap.prealloc(o),i}return n(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.clear=function(){if(this._cacheMap.size>0){var e=this._width*this._height;this._cacheMap=new c.LRUMap(e),this._cacheMap.prealloc(e)}this._cacheCtx.clearRect(0,0,f,_),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},t.prototype.draw=function(e,t,r,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var n=p(t),o=this._cacheMap.get(n);if(null!=o)return this._drawFromCache(e,o,r,i),!0;if(this._drawToCacheCount<100){var s;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(n,a),this._drawFromCache(e,a,r,i),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,r,i){if(!t.isEmpty){var n=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,n,o,this._config.scaledCharWidth,this._config.scaledCharHeight,r,i,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?u.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var r=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=r.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var i=e.bold?this._config.fontWeightBold:this._config.fontWeight,n=e.italic?"italic":"";this._tmpCtx.font=n+" "+i+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=o.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight);var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;if(this._config.allowTransparency||(a=g(s,r)),a&&"_"===e.chars&&!this._config.allowTransparency)for(var c=1;c<=5&&(this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight-c),a=g(s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),r));c++);this._tmpCtx.restore();var l=this._toCoordinateX(t),h=this._toCoordinateY(t);this._cacheCtx.putImageData(s,l,h);var u={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(u),u},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||l.isFirefox||l.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(r){e._bitmap=r;for(var i=0;i<t.length;i++)t[i].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(s.BaseCharAtlas);t.DynamicCharAtlas=v;var y=function(e){function t(t,r){return e.call(this)||this}return n(t,e),t.prototype.draw=function(e,t,r,i){return!1},t}(s.BaseCharAtlas);function g(e,t){for(var r=!0,i=t.rgba>>>24,n=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===i&&e.data[s+1]===n&&e.data[s+2]===o?e.data[s+3]=0:r=!1;return r}t.NoneCharAtlas=y},7001:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LRUMap=void 0;var r=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,r=e.next;e===this._head&&(this._head=r),e===this._tail&&(this._tail=t),null!==t&&(t.next=r),null!==r&&(r.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,r=0;r<e;r++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var r=this._map[e];if(void 0!==r)r=this._map[e],this._unlinkNode(r),r.value=t;else if(this.size>=this.capacity)r=this._head,this._unlinkNode(r),delete this._map[r.key],r.key=e,r.value=t,this._map[e]=r;else{var i=this._nodePool;i.length>0?((r=i.pop()).key=e,r.value=t):r={prev:null,next:null,key:e,value:t},this._map[e]=r,this.size++}this._appendNode(r)},e}();t.LRUMap=r},1296:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;var c=r(3787),l=r(8803),h=r(844),u=r(4725),f=r(2585),_=r(8460),d=r(8055),p=r(9631),v="xterm-dom-renderer-owner-",y="xterm-fg-",g="xterm-bg-",m="xterm-focus",b=1,S=function(e){function t(t,r,i,n,o,s,a,l,h,u){var f=e.call(this)||this;return f._colors=t,f._element=r,f._screenElement=i,f._viewportElement=n,f._linkifier=o,f._linkifier2=s,f._charSizeService=l,f._optionsService=h,f._bufferService=u,f._terminalClass=b++,f._rowElements=[],f._rowContainer=document.createElement("div"),f._rowContainer.classList.add("xterm-rows"),f._rowContainer.style.lineHeight="normal",f._rowContainer.setAttribute("aria-hidden","true"),f._refreshRowElements(f._bufferService.cols,f._bufferService.rows),f._selectionContainer=document.createElement("div"),f._selectionContainer.classList.add("xterm-selection"),f._selectionContainer.setAttribute("aria-hidden","true"),f.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},f._updateDimensions(),f._injectCss(),f._rowFactory=a.createInstance(c.DomRendererRowFactory,document,f._colors),f._element.classList.add(v+f._terminalClass),f._screenElement.appendChild(f._rowContainer),f._screenElement.appendChild(f._selectionContainer),f.register(f._linkifier.onShowLinkUnderline((function(e){return f._onLinkHover(e)}))),f.register(f._linkifier.onHideLinkUnderline((function(e){return f._onLinkLeave(e)}))),f.register(f._linkifier2.onShowLinkUnderline((function(e){return f._onLinkHover(e)}))),f.register(f._linkifier2.onHideLinkUnderline((function(e){return f._onLinkLeave(e)}))),f}return n(t,e),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return(new _.EventEmitter).event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove(v+this._terminalClass),(0,p.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e,t;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;try{for(var r=a(this._rowElements),i=r.next();!i.done;i=r.next()){var n=i.value;n.style.width=this.dimensions.canvasWidth+"px",n.style.height=this.dimensions.actualCellHeight+"px",n.style.lineHeight=this.dimensions.actualCellHeight+"px",n.style.overflow="hidden"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var o=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.textContent=o,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+c.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+c.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+c.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+c.CURSOR_CLASS+"."+c.CURSOR_BLINK_CLASS+":not(."+c.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+c.CURSOR_CLASS+"."+c.CURSOR_BLINK_CLASS+"."+c.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+c.CURSOR_CLASS+"."+c.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionOpaque.css+";}",this._colors.ansi.forEach((function(r,i){t+=e._terminalSelector+" ."+y+i+" { color: "+r.css+"; }"+e._terminalSelector+" ."+g+i+" { background-color: "+r.css+"; }"})),t+=this._terminalSelector+" ."+y+l.INVERTED_DEFAULT_COLOR+" { color: "+d.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+g+l.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var r=this._rowElements.length;r<=t;r++){var i=document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove(m)},t.prototype.onFocus=function(){this._rowContainer.classList.add(m)},t.prototype.onSelectionChanged=function(e,t,r){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.onSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),e&&t){var i=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,o=Math.max(i,0),s=Math.min(n,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(r){var c=e[0]>t[0];a.appendChild(this._createSelectionElement(o,c?t[0]:e[0],c?e[0]:t[0],s-o+1))}else{var l=i===o?e[0]:0,h=o===n?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,l,h));var u=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,u)),o!==s){var f=n===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,f))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,r,i){void 0===i&&(i=1);var n=document.createElement("div");return n.style.height=i*this.dimensions.actualCellHeight+"px",n.style.top=e*this.dimensions.actualCellHeight+"px",n.style.left=t*this.dimensions.actualCellWidth+"px",n.style.width=this.dimensions.actualCellWidth*(r-t)+"px",n},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){var e,t;try{for(var r=a(this._rowElements),i=r.next();!i.done;i=r.next())i.value.innerText=""}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.renderRows=function(e,t){for(var r=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),n=this._optionsService.rawOptions.cursorBlink,o=e;o<=t;o++){var s=this._rowElements[o];s.innerText="";var a=o+this._bufferService.buffer.ydisp,c=this._bufferService.buffer.lines.get(a),l=this._optionsService.rawOptions.cursorStyle;s.appendChild(this._rowFactory.createRow(c,a,a===r,l,i,n,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return"."+v+this._terminalClass},enumerable:!1,configurable:!0}),t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,r,i,n,o){for(;e!==t||r!==i;){var s=this._rowElements[r];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=n&&(e=0,r++)}},o([s(6,f.IInstantiationService),s(7,u.ICharSizeService),s(8,f.IOptionsService),s(9,f.IBufferService)],t)}(h.Disposable);t.DomRenderer=S},3787:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=t.CURSOR_STYLE_UNDERLINE_CLASS=t.CURSOR_STYLE_BAR_CLASS=t.CURSOR_STYLE_BLOCK_CLASS=t.CURSOR_BLINK_CLASS=t.CURSOR_CLASS=t.STRIKETHROUGH_CLASS=t.UNDERLINE_CLASS=t.ITALIC_CLASS=t.DIM_CLASS=t.BOLD_CLASS=void 0;var s=r(8803),a=r(643),c=r(511),l=r(2585),h=r(8055),u=r(4725),f=r(4269),_=r(1752);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.STRIKETHROUGH_CLASS="xterm-strikethrough",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var d=function(){function e(e,t,r,i,n,o){this._document=e,this._colors=t,this._characterJoinerService=r,this._optionsService=i,this._coreService=n,this._decorationService=o,this._workCell=new c.CellData,this._columnSelectMode=!1}return e.prototype.setColors=function(e){this._colors=e},e.prototype.onSelectionChanged=function(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r},e.prototype.createRow=function(e,r,i,n,c,l,u,_){for(var d,v,y=this._document.createDocumentFragment(),g=this._characterJoinerService.getJoinedCharacters(r),m=0,b=Math.min(e.length,_)-1;b>=0;b--)if(e.loadCell(b,this._workCell).getCode()!==a.NULL_CELL_CODE||i&&b===c){m=b+1;break}for(b=0;b<m;b++){e.loadCell(b,this._workCell);var S=this._workCell.getWidth();if(0!==S){var C=!1,w=b,L=this._workCell;if(g.length>0&&b===g[0][0]){C=!0;var E=g.shift();L=new f.JoinedCellData(this._workCell,e.translateToString(!0,E[0],E[1]),E[1]-E[0]),w=E[1]-1,S=L.getWidth()}var x=this._document.createElement("span");if(S>1&&(x.style.width=u*S+"px"),C&&(x.style.display="inline",c>=b&&c<=w&&(c=b)),!this._coreService.isCursorHidden&&i&&b===c)switch(x.classList.add(t.CURSOR_CLASS),l&&x.classList.add(t.CURSOR_BLINK_CLASS),n){case"bar":x.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":x.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:x.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}L.isBold()&&x.classList.add(t.BOLD_CLASS),L.isItalic()&&x.classList.add(t.ITALIC_CLASS),L.isDim()&&x.classList.add(t.DIM_CLASS),L.isUnderline()&&x.classList.add(t.UNDERLINE_CLASS),L.isInvisible()?x.textContent=a.WHITESPACE_CELL_CHAR:x.textContent=L.getChars()||a.WHITESPACE_CELL_CHAR,L.isStrikethrough()&&x.classList.add(t.STRIKETHROUGH_CLASS);var R=L.getFgColor(),k=L.getFgColorMode(),M=L.getBgColor(),A=L.getBgColorMode(),O=!!L.isInverse();if(O){var D=R;R=M,M=D;var T=k;k=A,A=T}var B=void 0,P=void 0,I=!1;try{for(var H=(d=void 0,o(this._decorationService.getDecorationsAtCell(b,r))),j=H.next();!j.done;j=H.next()){var F=j.value;"top"!==F.options.layer&&I||(F.backgroundColorRGB&&(A=50331648,M=F.backgroundColorRGB.rgba>>8&16777215,B=F.backgroundColorRGB),F.foregroundColorRGB&&(k=50331648,R=F.foregroundColorRGB.rgba>>8&16777215,P=F.foregroundColorRGB),I="top"===F.options.layer)}}catch(e){d={error:e}}finally{try{j&&!j.done&&(v=H.return)&&v.call(H)}finally{if(d)throw d.error}}var W=this._isCellInSelection(b,r);I||this._colors.selectionForeground&&W&&(k=50331648,R=this._colors.selectionForeground.rgba>>8&16777215,P=this._colors.selectionForeground),W&&(B=this._colors.selectionOpaque,I=!0),I&&x.classList.add("xterm-decoration-top");var U=void 0;switch(A){case 16777216:case 33554432:U=this._colors.ansi[M],x.classList.add("xterm-bg-"+M);break;case 50331648:U=h.rgba.toColor(M>>16,M>>8&255,255&M),this._addStyle(x,"background-color:#"+p((M>>>0).toString(16),"0",6));break;default:O?(U=this._colors.foreground,x.classList.add("xterm-bg-"+s.INVERTED_DEFAULT_COLOR)):U=this._colors.background}switch(k){case 16777216:case 33554432:L.isBold()&&R<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(R+=8),this._applyMinimumContrast(x,U,this._colors.ansi[R],L,B,void 0)||x.classList.add("xterm-fg-"+R);break;case 50331648:var q=h.rgba.toColor(R>>16&255,R>>8&255,255&R);this._applyMinimumContrast(x,U,q,L,B,P)||this._addStyle(x,"color:#"+p(R.toString(16),"0",6));break;default:this._applyMinimumContrast(x,U,this._colors.foreground,L,B,void 0)||O&&x.classList.add("xterm-fg-"+s.INVERTED_DEFAULT_COLOR)}y.appendChild(x),b=w}}return y},e.prototype._applyMinimumContrast=function(e,t,r,i,n,o){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,_.excludeFromContrastRatioDemands)(i.getCode()))return!1;var s=void 0;return n||o||(s=this._colors.contrastCache.getColor(t.rgba,r.rgba)),void 0===s&&(s=h.color.ensureContrastRatio(n||t,o||r,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor((n||t).rgba,(o||r).rgba,null!=s?s:null)),!!s&&(this._addStyle(e,"color:"+s.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e.prototype._isCellInSelection=function(e,t){var r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?r[0]<=i[0]?e>=r[0]&&t>=r[1]&&e<i[0]&&t<=i[1]:e<r[0]&&t>=r[1]&&e>=i[0]&&t<=i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])},i([n(2,u.ICharacterJoinerService),n(3,l.IOptionsService),n(4,l.ICoreService),n(5,l.IDecorationService)],e)}();function p(e,t,r){for(;e.length<r;)e=t+e;return e}t.DomRendererRowFactory=d},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0;var r=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?(e=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?(e=this.selectionStart[0]+this.selectionStartLength)>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:void 0;var e},enumerable:!1,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=r},428:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;var o=r(2585),s=r(8460),a=function(){function e(e,t,r){this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},i([n(2,o.IOptionsService)],e)}();t.CharSizeService=a;var c=function(){function e(e,t,r){this._document=e,this._parentElement=t,this._optionsService=r,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},4269:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;var a=r(3734),c=r(643),l=r(511),h=r(2585),u=function(e){function t(t,r,i){var n=e.call(this)||this;return n.content=0,n.combinedData="",n.fg=t.fg,n.bg=t.bg,n.combinedData=r,n._width=i,n}return n(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.JoinedCellData=u;var f=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new l.CellData}return e.prototype.register=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregister=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var r=[],i=t.translateToString(!0),n=0,o=0,s=0,a=t.getFg(0),l=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==a||this._workCell.bg!==l){if(h-n>1)for(var u=this._getJoinedRanges(i,s,o,t,n),f=0;f<u.length;f++)r.push(u[f]);n=h,s=o,a=this._workCell.fg,l=this._workCell.bg}o+=this._workCell.getChars().length||c.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-n>1)for(u=this._getJoinedRanges(i,s,o,t,n),f=0;f<u.length;f++)r.push(u[f]);return r},e.prototype._getJoinedRanges=function(t,r,i,n,o){var s=t.substring(r,i),a=[];try{a=this._characterJoiners[0].handler(s)}catch(e){console.error(e)}for(var c=1;c<this._characterJoiners.length;c++)try{for(var l=this._characterJoiners[c].handler(s),h=0;h<l.length;h++)e._mergeRanges(a,l[h])}catch(e){console.error(e)}return this._stringRangesToCellRanges(a,n,o),a},e.prototype._stringRangesToCellRanges=function(e,t,r){var i=0,n=!1,o=0,s=e[i];if(s){for(var a=r;a<this._bufferService.cols;a++){var l=t.getWidth(a),h=t.getString(a).length||c.WHITESPACE_CELL_CHAR.length;if(0!==l){if(!n&&s[0]<=o&&(s[0]=a,n=!0),s[1]<=o){if(s[1]=a,!(s=e[++i]))break;s[0]<=o?(s[0]=a,n=!0):n=!1}o+=h}}s&&(s[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var r=!1,i=0;i<e.length;i++){var n=e[i];if(r){if(t[1]<=n[0])return e[i-1][1]=t[1],e;if(t[1]<=n[1])return e[i-1][1]=Math.max(t[1],n[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=n[0])return e.splice(i,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),r=!0)}}return r?e[e.length-1][1]=t[1]:e.push(t),e},e=o([s(0,h.IBufferService)],e)}();t.CharacterJoinerService=f},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;var r=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),e}();t.CoreBrowserService=r},8934:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;var o=r(4725),s=r(9806),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,r,i,n){return(0,s.getCoords)(window,e,t,r,i,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,n)},e.prototype.getRawByteCoords=function(e,t,r,i){var n=this.getCoords(e,t,r,i);return(0,s.getRawByteCoords)(n)},i([n(0,o.IRenderService),n(1,o.ICharSizeService)],e)}();t.MouseService=a},3230:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;var a=r(6193),c=r(8460),l=r(844),h=r(5596),u=r(3656),f=r(2585),_=r(4725),d=function(e){function t(t,r,i,n,o,s,l){var f=e.call(this)||this;if(f._renderer=t,f._rowCount=r,f._charSizeService=o,f._isPaused=!1,f._needsFullRefresh=!1,f._isNextRenderRedrawOnly=!0,f._needsSelectionRefresh=!1,f._canvasWidth=0,f._canvasHeight=0,f._selectionState={start:void 0,end:void 0,columnSelectMode:!1},f._onDimensionsChange=new c.EventEmitter,f._onRenderedViewportChange=new c.EventEmitter,f._onRender=new c.EventEmitter,f._onRefreshRequest=new c.EventEmitter,f.register({dispose:function(){return f._renderer.dispose()}}),f._renderDebouncer=new a.RenderDebouncer((function(e,t){return f._renderRows(e,t)})),f.register(f._renderDebouncer),f._screenDprMonitor=new h.ScreenDprMonitor,f._screenDprMonitor.setListener((function(){return f.onDevicePixelRatioChange()})),f.register(f._screenDprMonitor),f.register(l.onResize((function(){return f._fullRefresh()}))),f.register(l.buffers.onBufferActivate((function(){var e;return null===(e=f._renderer)||void 0===e?void 0:e.clear()}))),f.register(n.onOptionChange((function(){return f._handleOptionsChanged()}))),f.register(f._charSizeService.onCharSizeChange((function(){return f.onCharSizeChanged()}))),f.register(s.onDecorationRegistered((function(){return f._fullRefresh()}))),f.register(s.onDecorationRemoved((function(){return f._fullRefresh()}))),f._renderer.onRequestRedraw((function(e){return f.refreshRows(e.start,e.end,!0)})),f.register((0,u.addDisposableDomListener)(window,"resize",(function(){return f.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var _=new IntersectionObserver((function(e){return f._onIntersectionChange(e[e.length-1])}),{threshold:0});_.observe(i),f.register({dispose:function(){return _.disconnect()}})}return f}return n(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRenderedViewportChange",{get:function(){return this._onRenderedViewportChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t,r){void 0===r&&(r=!1),this._isPaused?this._needsFullRefresh=!0:(r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype._handleOptionsChanged=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRedraw((function(e){return t.refreshRows(e.start,e.end,!0)})),this._needsSelectionRefresh=!0,this._fullRefresh()},t.prototype.addRefreshCallback=function(e){return this._renderDebouncer.addRefreshCallback(e)},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.clearTextureAtlas=function(){var e,t;null===(t=null===(e=this._renderer)||void 0===e?void 0:e.clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh()},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,r){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,this._renderer.onSelectionChanged(e,t,r)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},o([s(3,f.IOptionsService),s(4,_.ICharSizeService),s(5,f.IDecorationService),s(6,f.IBufferService)],t)}(l.Disposable);t.RenderService=d},9312:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;var a=r(6114),c=r(456),l=r(511),h=r(8460),u=r(4725),f=r(2585),_=r(9806),d=r(9504),p=r(844),v=r(4841),y=String.fromCharCode(160),g=new RegExp(y,"g"),m=function(e){function t(t,r,i,n,o,s,a,u){var f=e.call(this)||this;return f._element=t,f._screenElement=r,f._linkifier=i,f._bufferService=n,f._coreService=o,f._mouseService=s,f._optionsService=a,f._renderService=u,f._dragScrollAmount=0,f._enabled=!0,f._workCell=new l.CellData,f._mouseDownTimeStamp=0,f._oldHasSelection=!1,f._oldSelectionStart=void 0,f._oldSelectionEnd=void 0,f._onLinuxMouseSelection=f.register(new h.EventEmitter),f._onRedrawRequest=f.register(new h.EventEmitter),f._onSelectionChange=f.register(new h.EventEmitter),f._onRequestScrollLines=f.register(new h.EventEmitter),f._mouseMoveListener=function(e){return f._onMouseMove(e)},f._mouseUpListener=function(e){return f._onMouseUp(e)},f._coreService.onUserInput((function(){f.hasSelection&&f.clearSelection()})),f._trimListener=f._bufferService.buffer.lines.onTrim((function(e){return f._onTrim(e)})),f.register(f._bufferService.buffers.onBufferActivate((function(e){return f._onBufferActivate(e)}))),f.enable(),f._model=new c.SelectionModel(f._bufferService),f._activeSelectionMode=0,f}return n(t,e),Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},t.prototype.reset=function(){this.clearSelection()},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var r=this._bufferService.buffer,i=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var n=e[0]<t[0]?e[0]:t[0],o=e[0]<t[0]?t[0]:e[0],s=e[1];s<=t[1];s++){var c=r.translateBufferLineToString(s,!0,n,o);i.push(c)}}else{var l=e[1]===t[1]?t[0]:void 0;for(i.push(r.translateBufferLineToString(e[1],!0,e[0],l)),s=e[1]+1;s<=t[1]-1;s++){var h=r.lines.get(s);c=r.translateBufferLineToString(s,!0),(null==h?void 0:h.isWrapped)?i[i.length-1]+=c:i.push(c)}e[1]!==t[1]&&(h=r.lines.get(t[1]),c=r.translateBufferLineToString(t[1],!0,0,t[0]),h&&h.isWrapped?i[i.length-1]+=c:i.push(c))}return i.map((function(e){return e.replace(g," ")})).join(a.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),a.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype._isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!!(r&&i&&t)&&this._areCoordsInSelection(t,r,i)},t.prototype.isCellInSelection=function(e,t){var r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!(!r||!i)&&this._areCoordsInSelection([e,t],r,i)},t.prototype._areCoordsInSelection=function(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype._selectWordAtCursor=function(e,t){var r,i,n=null===(i=null===(r=this._linkifier.currentLink)||void 0===r?void 0:r.link)||void 0===i?void 0:i.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=(0,v.getRangeLength)(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var o=this._getMouseBufferCoords(e);return!!o&&(this._selectWordAt(o,t),this._model.selectionEnd=void 0,!0)},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},t.prototype._getMouseEventScrollAmount=function(e){var t=(0,_.getCoordsRelativeToElement)(window,e,this._screenElement)[1],r=this._renderService.dimensions.canvasHeight;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},t.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){var i=r.lines.get(this._model.selectionEnd[1]);i&&0===i.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},t.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&void 0!==r[0]&&void 0!==r[1]){var i=(0,d.moveToCellSequence)(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this._fireEventIfSelectionChanged()},t.prototype._fireEventIfSelectionChanged=function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);r?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,r)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,r)},t.prototype._fireOnSelectionChange=function(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var r=t[0],i=0;t[0]>=i;i++){var n=e.loadCell(i,this._workCell).getChars().length;0===this._workCell.getWidth()?r--:n>1&&t[0]!==i&&(r+=n-1)}return r},t.prototype.setSelection=function(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()},t.prototype.rightClickSelect=function(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},t.prototype._getWordAt=function(e,t,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),!(e[0]>=this._bufferService.cols)){var n=this._bufferService.buffer,o=n.lines.get(e[1]);if(o){var s=n.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(o,e),c=a,l=e[0]-a,h=0,u=0,f=0,_=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;c<s.length&&" "===s.charAt(c+1);)c++}else{var d=e[0],p=e[0];0===o.getWidth(d)&&(h++,d--),2===o.getWidth(p)&&(u++,p++);var v=o.getString(p).length;for(v>1&&(_+=v-1,c+=v-1);d>0&&a>0&&!this._isCharWordSeparator(o.loadCell(d-1,this._workCell));){o.loadCell(d-1,this._workCell);var y=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,d--):y>1&&(f+=y-1,a-=y-1),a--,d--}for(;p<o.length&&c+1<s.length&&!this._isCharWordSeparator(o.loadCell(p+1,this._workCell));){o.loadCell(p+1,this._workCell);var g=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,p++):g>1&&(_+=g-1,c+=g-1),c++,p++}}c++;var m=a+l-h+f,b=Math.min(this._bufferService.cols,c-a+h+u-f-_);if(t||""!==s.slice(a,c).trim()){if(r&&0===m&&32!==o.getCodePoint(0)){var S=n.lines.get(e[1]-1);if(S&&o.isWrapped&&32!==S.getCodePoint(this._bufferService.cols-1)){var C=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(C){var w=this._bufferService.cols-C.start;m-=w,b+=w}}}if(i&&m+b===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var L=n.lines.get(e[1]+1);if((null==L?void 0:L.isWrapped)&&32!==L.getCodePoint(0)){var E=this._getWordAt([0,e[1]+1],!1,!1,!0);E&&(b+=E.length)}}return{start:m,length:b}}}}},t.prototype._selectWordAt=function(e,t){var r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var r=e[1];t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}},t.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0},t.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,v.getRangeLength)(r,this._bufferService.cols)},o([s(3,f.IBufferService),s(4,f.ICoreService),s(5,u.IMouseService),s(6,f.IOptionsService),s(7,u.IRenderService)],t)}(p.Disposable);t.SelectionService=m},4725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ICharacterJoinerService=t.ISoundService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;var i=r(8343);t.ICharSizeService=(0,i.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,i.createDecorator)("CoreBrowserService"),t.IMouseService=(0,i.createDecorator)("MouseService"),t.IRenderService=(0,i.createDecorator)("RenderService"),t.ISelectionService=(0,i.createDecorator)("SelectionService"),t.ISoundService=(0,i.createDecorator)("SoundService"),t.ICharacterJoinerService=(0,i.createDecorator)("CharacterJoinerService")},357:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundService=void 0;var o=r(2585),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!1,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var r=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),(function(e){r.buffer=e,r.connect(t.destination),r.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),r=t.length,i=new Uint8Array(r),n=0;n<r;n++)i[n]=t.charCodeAt(n);return i.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=i([n(0,o.IOptionsService)],e)}();t.SoundService=s},6349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;var i=r(8460),n=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new i.EventEmitter,this.onInsertEmitter=new i.EventEmitter,this.onTrimEmitter=new i.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t){for(var n=e;n<this._length-t;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(n=this._length-1;n>=e;n--)this._array[this._getCyclicIndex(n+r.length)]=this._array[this._getCyclicIndex(n)];for(n=0;n<r.length;n++)this._array[this._getCyclicIndex(e+n)]=r[n];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){var o=this._length+r.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=r.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(var i=t-1;i>=0;i--)this.set(e+i+r,this.get(e+i));var n=e+t+r-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(i=0;i<t;i++)this.set(e+i+r,this.get(e+i))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=n},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,r){if(void 0===r&&(r=5),"object"!=typeof t)return t;var i=Array.isArray(t)?[]:{};for(var n in t)i[n]=r<=1?t[n]:t[n]&&e(t[n],r-1);return i}},8055:function(e,t){var r,i,n,o,s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function c(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=void 0,function(e){e.toCss=function(e,t,r,i){return void 0!==i?"#"+a(e)+a(t)+a(r)+a(i):"#"+a(e)+a(t)+a(r)},e.toRgba=function(e,t,r,i){return void 0===i&&(i=255),(e<<24|t<<16|r<<8|i)>>>0}}(r=t.channels||(t.channels={})),(i=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var n=t.rgba>>24&255,o=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,c=e.rgba>>16&255,l=e.rgba>>8&255,h=a+Math.round((n-a)*i),u=c+Math.round((o-c)*i),f=l+Math.round((s-l)*i);return{css:r.toCss(h,u,f),rgba:r.toRgba(h,u,f)}},i.isOpaque=function(e){return 255==(255&e.rgba)},i.ensureContrastRatio=function(e,t,r){var i=o.ensureContrastRatio(e.rgba,t.rgba,r);if(i)return o.toColor(i>>24&255,i>>16&255,i>>8&255)},i.opaque=function(e){var t=(255|e.rgba)>>>0,i=s(o.toChannels(t),3),n=i[0],a=i[1],c=i[2];return{css:r.toCss(n,a,c),rgba:t}},i.opacity=function(e,t){var i=Math.round(255*t),n=s(o.toChannels(e.rgba),3),a=n[0],c=n[1],l=n[2];return{css:r.toCss(a,c,l,i),rgba:r.toRgba(a,c,l,i)}},i.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]},(t.css||(t.css={})).toColor=function(e){if(e.match(/#[0-9a-f]{3,8}/i))switch(e.length){case 4:var t=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),i=parseInt(e.slice(3,4).repeat(2),16);return o.toColor(t,r,i);case 5:t=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),i=parseInt(e.slice(3,4).repeat(2),16);var n=parseInt(e.slice(4,5).repeat(2),16);return o.toColor(t,r,i,n);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}var s=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return t=parseInt(s[1]),r=parseInt(s[2]),i=parseInt(s[3]),n=Math.round(255*(void 0===s[5]?1:parseFloat(s[5]))),o.toColor(t,r,i,n);throw new Error("css.toColor: Unsupported css format")},function(e){function t(e,t,r){var i=e/255,n=t/255,o=r/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(n=t.rgb||(t.rgb={})),function(e){function t(e,t,r){for(var i=e>>24&255,o=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,h=t>>8&255,u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));u<r&&(a>0||l>0||h>0);)a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),h-=Math.max(0,Math.ceil(.1*h)),u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));return(a<<24|l<<16|h<<8|255)>>>0}function i(e,t,r){for(var i=e>>24&255,o=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,h=t>>8&255,u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));u<r&&(a<255||l<255||h<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),h=Math.min(255,h+Math.ceil(.1*(255-h))),u=c(n.relativeLuminance2(a,l,h),n.relativeLuminance2(i,o,s));return(a<<24|l<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,r,o){var s=n.relativeLuminance(e>>8),a=n.relativeLuminance(r>>8);if(c(s,a)<o){if(a<s){var l=t(e,r,o),h=c(s,n.relativeLuminance(l>>8));if(h<o){var u=i(e,e,o);return h>c(s,n.relativeLuminance(u>>8))?l:u}return l}var f=i(e,r,o),_=c(s,n.relativeLuminance(f>>8));return _<o?(u=t(e,e,o),_>c(s,n.relativeLuminance(u>>8))?f:u):f}},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i,n){return{css:r.toCss(e,t,i,n),rgba:r.toRgba(e,t,i,n)}}}(o=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=c},8969:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;var s=r(844),a=r(2585),c=r(4348),l=r(7866),h=r(744),u=r(7302),f=r(6975),_=r(8460),d=r(1753),p=r(3730),v=r(1480),y=r(7994),g=r(9282),m=r(5435),b=r(5981),S=!1,C=function(e){function t(t){var r=e.call(this)||this;return r._onBinary=new _.EventEmitter,r._onData=new _.EventEmitter,r._onLineFeed=new _.EventEmitter,r._onResize=new _.EventEmitter,r._onScroll=new _.EventEmitter,r._onWriteParsed=new _.EventEmitter,r._instantiationService=new c.InstantiationService,r.optionsService=new u.OptionsService(t),r._instantiationService.setService(a.IOptionsService,r.optionsService),r._bufferService=r.register(r._instantiationService.createInstance(h.BufferService)),r._instantiationService.setService(a.IBufferService,r._bufferService),r._logService=r._instantiationService.createInstance(l.LogService),r._instantiationService.setService(a.ILogService,r._logService),r.coreService=r.register(r._instantiationService.createInstance(f.CoreService,(function(){return r.scrollToBottom()}))),r._instantiationService.setService(a.ICoreService,r.coreService),r.coreMouseService=r._instantiationService.createInstance(d.CoreMouseService),r._instantiationService.setService(a.ICoreMouseService,r.coreMouseService),r._dirtyRowService=r._instantiationService.createInstance(p.DirtyRowService),r._instantiationService.setService(a.IDirtyRowService,r._dirtyRowService),r.unicodeService=r._instantiationService.createInstance(v.UnicodeService),r._instantiationService.setService(a.IUnicodeService,r.unicodeService),r._charsetService=r._instantiationService.createInstance(y.CharsetService),r._instantiationService.setService(a.ICharsetService,r._charsetService),r._inputHandler=new m.InputHandler(r._bufferService,r._charsetService,r.coreService,r._dirtyRowService,r._logService,r.optionsService,r.coreMouseService,r.unicodeService),r.register((0,_.forwardEvent)(r._inputHandler.onLineFeed,r._onLineFeed)),r.register(r._inputHandler),r.register((0,_.forwardEvent)(r._bufferService.onResize,r._onResize)),r.register((0,_.forwardEvent)(r.coreService.onData,r._onData)),r.register((0,_.forwardEvent)(r.coreService.onBinary,r._onBinary)),r.register(r.optionsService.onOptionChange((function(e){return r._updateOptions(e)}))),r.register(r._bufferService.onScroll((function(e){r._onScroll.fire({position:r._bufferService.buffer.ydisp,source:0}),r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop,r._bufferService.buffer.scrollBottom)}))),r.register(r._inputHandler.onScroll((function(e){r._onScroll.fire({position:r._bufferService.buffer.ydisp,source:0}),r._dirtyRowService.markRangeDirty(r._bufferService.buffer.scrollTop,r._bufferService.buffer.scrollBottom)}))),r._writeBuffer=new b.WriteBuffer((function(e,t){return r._inputHandler.parse(e,t)})),r.register((0,_.forwardEvent)(r._writeBuffer.onWriteParsed,r._onWriteParsed)),r}return n(t,e),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){var e=this;return this._onScrollApi||(this._onScrollApi=new _.EventEmitter,this.register(this._onScroll.event((function(t){var r;null===(r=e._onScrollApi)||void 0===r||r.fire(t.position)})))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},set:function(e){for(var t in e)this.optionsService.options[t]=e[t]},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){var t;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e,t){this._logService.logLevel<=a.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(e,t)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,h.MINIMUM_COLS),t=Math.max(t,h.MINIMUM_ROWS),this._bufferService.resize(e,t))},t.prototype.scroll=function(e,t){void 0===t&&(t=!1),this._bufferService.scroll(e,t)},t.prototype.scrollLines=function(e,t,r){this._bufferService.scrollLines(e,t,r)},t.prototype.scrollPages=function(e){this._bufferService.scrollPages(e)},t.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},t.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},t.prototype.scrollToLine=function(e){this._bufferService.scrollToLine(e)},t.prototype.registerEscHandler=function(e,t){return this._inputHandler.registerEscHandler(e,t)},t.prototype.registerDcsHandler=function(e,t){return this._inputHandler.registerDcsHandler(e,t)},t.prototype.registerCsiHandler=function(e,t){return this._inputHandler.registerCsiHandler(e,t)},t.prototype.registerOscHandler=function(e,t){return this._inputHandler.registerOscHandler(e,t)},t.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},t.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},t.prototype._updateOptions=function(e){var t;switch(e){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():(null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0)}},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.registerCsiHandler({final:"H"},(function(){return(0,g.updateWindowsModeWrappedState)(e._bufferService),!1}))),this._windowsMode={dispose:function(){var e,r;try{for(var i=o(t),n=i.next();!n.done;n=i.next())n.value.dispose()}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}}},t}(s.Disposable);t.CoreTerminal=C},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0;var r=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var r=0;r<e._listeners.length;r++)if(e._listeners[r]===t)return void e._listeners.splice(r,1)}}}),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e,t){for(var r=[],i=0;i<this._listeners.length;i++)r.push(this._listeners[i]);for(i=0;i<r.length;i++)r[i].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=r,t.forwardEvent=function(e,t){return e((function(e){return t.fire(e)}))}},5435:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;var o,s=r(2584),a=r(7116),c=r(2015),l=r(844),h=r(8273),u=r(482),f=r(8437),_=r(8460),d=r(643),p=r(511),v=r(3734),y=r(2585),g=r(6242),m=r(6351),b=r(5941),S={"(":0,")":1,"*":2,"+":3,"-":1,".":2},C=131072;function w(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(o=t.WindowsOptionsReportType||(t.WindowsOptionsReportType={}));var L=function(){function e(e,t,r,i){this._bufferService=e,this._coreService=t,this._logService=r,this._optionsService=i,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,r){this._data=(0,h.concat)(this._data,e.subarray(t,r))},e.prototype.unhook=function(e){if(!e)return this._data=new Uint32Array(0),!0;var t=(0,u.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),t){case'"q':this._coreService.triggerDataEvent(s.C0.ESC+'P1$r0"q'+s.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(s.C0.ESC+'P1$r61;1"p'+s.C0.ESC+"\\");break;case"r":var r=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+r+s.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(s.C0.ESC+"P1$r0m"+s.C0.ESC+"\\");break;case" q":var i={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];i-=this._optionsService.rawOptions.cursorBlink?1:0,this._coreService.triggerDataEvent(s.C0.ESC+"P1$r"+i+" q"+s.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(s.C0.ESC+"P0$r"+s.C0.ESC+"\\")}return!0},e}(),E=function(e){function t(t,r,i,n,o,l,h,d,v){void 0===v&&(v=new c.EscapeSequenceParser);var y=e.call(this)||this;y._bufferService=t,y._charsetService=r,y._coreService=i,y._dirtyRowService=n,y._logService=o,y._optionsService=l,y._coreMouseService=h,y._unicodeService=d,y._parser=v,y._parseBuffer=new Uint32Array(4096),y._stringDecoder=new u.StringToUtf32,y._utf8Decoder=new u.Utf8ToUtf32,y._workCell=new p.CellData,y._windowTitle="",y._iconName="",y._windowTitleStack=[],y._iconNameStack=[],y._curAttrData=f.DEFAULT_ATTR_DATA.clone(),y._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone(),y._onRequestBell=new _.EventEmitter,y._onRequestRefreshRows=new _.EventEmitter,y._onRequestReset=new _.EventEmitter,y._onRequestSendFocus=new _.EventEmitter,y._onRequestSyncScrollBar=new _.EventEmitter,y._onRequestWindowsOptionsReport=new _.EventEmitter,y._onA11yChar=new _.EventEmitter,y._onA11yTab=new _.EventEmitter,y._onCursorMove=new _.EventEmitter,y._onLineFeed=new _.EventEmitter,y._onScroll=new _.EventEmitter,y._onTitleChange=new _.EventEmitter,y._onColor=new _.EventEmitter,y._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},y._specialColors=[256,257,258],y.register(y._parser),y._activeBuffer=y._bufferService.buffer,y.register(y._bufferService.buffers.onBufferActivate((function(e){return y._activeBuffer=e.activeBuffer}))),y._parser.setCsiHandlerFallback((function(e,t){y._logService.debug("Unknown CSI code: ",{identifier:y._parser.identToString(e),params:t.toArray()})})),y._parser.setEscHandlerFallback((function(e){y._logService.debug("Unknown ESC code: ",{identifier:y._parser.identToString(e)})})),y._parser.setExecuteHandlerFallback((function(e){y._logService.debug("Unknown EXECUTE code: ",{code:e})})),y._parser.setOscHandlerFallback((function(e,t,r){y._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:r})})),y._parser.setDcsHandlerFallback((function(e,t,r){"HOOK"===t&&(r=r.toArray()),y._logService.debug("Unknown DCS code: ",{identifier:y._parser.identToString(e),action:t,payload:r})})),y._parser.setPrintHandler((function(e,t,r){return y.print(e,t,r)})),y._parser.registerCsiHandler({final:"@"},(function(e){return y.insertChars(e)})),y._parser.registerCsiHandler({intermediates:" ",final:"@"},(function(e){return y.scrollLeft(e)})),y._parser.registerCsiHandler({final:"A"},(function(e){return y.cursorUp(e)})),y._parser.registerCsiHandler({intermediates:" ",final:"A"},(function(e){return y.scrollRight(e)})),y._parser.registerCsiHandler({final:"B"},(function(e){return y.cursorDown(e)})),y._parser.registerCsiHandler({final:"C"},(function(e){return y.cursorForward(e)})),y._parser.registerCsiHandler({final:"D"},(function(e){return y.cursorBackward(e)})),y._parser.registerCsiHandler({final:"E"},(function(e){return y.cursorNextLine(e)})),y._parser.registerCsiHandler({final:"F"},(function(e){return y.cursorPrecedingLine(e)})),y._parser.registerCsiHandler({final:"G"},(function(e){return y.cursorCharAbsolute(e)})),y._parser.registerCsiHandler({final:"H"},(function(e){return y.cursorPosition(e)})),y._parser.registerCsiHandler({final:"I"},(function(e){return y.cursorForwardTab(e)})),y._parser.registerCsiHandler({final:"J"},(function(e){return y.eraseInDisplay(e)})),y._parser.registerCsiHandler({prefix:"?",final:"J"},(function(e){return y.eraseInDisplay(e)})),y._parser.registerCsiHandler({final:"K"},(function(e){return y.eraseInLine(e)})),y._parser.registerCsiHandler({prefix:"?",final:"K"},(function(e){return y.eraseInLine(e)})),y._parser.registerCsiHandler({final:"L"},(function(e){return y.insertLines(e)})),y._parser.registerCsiHandler({final:"M"},(function(e){return y.deleteLines(e)})),y._parser.registerCsiHandler({final:"P"},(function(e){return y.deleteChars(e)})),y._parser.registerCsiHandler({final:"S"},(function(e){return y.scrollUp(e)})),y._parser.registerCsiHandler({final:"T"},(function(e){return y.scrollDown(e)})),y._parser.registerCsiHandler({final:"X"},(function(e){return y.eraseChars(e)})),y._parser.registerCsiHandler({final:"Z"},(function(e){return y.cursorBackwardTab(e)})),y._parser.registerCsiHandler({final:"`"},(function(e){return y.charPosAbsolute(e)})),y._parser.registerCsiHandler({final:"a"},(function(e){return y.hPositionRelative(e)})),y._parser.registerCsiHandler({final:"b"},(function(e){return y.repeatPrecedingCharacter(e)})),y._parser.registerCsiHandler({final:"c"},(function(e){return y.sendDeviceAttributesPrimary(e)})),y._parser.registerCsiHandler({prefix:">",final:"c"},(function(e){return y.sendDeviceAttributesSecondary(e)})),y._parser.registerCsiHandler({final:"d"},(function(e){return y.linePosAbsolute(e)})),y._parser.registerCsiHandler({final:"e"},(function(e){return y.vPositionRelative(e)})),y._parser.registerCsiHandler({final:"f"},(function(e){return y.hVPosition(e)})),y._parser.registerCsiHandler({final:"g"},(function(e){return y.tabClear(e)})),y._parser.registerCsiHandler({final:"h"},(function(e){return y.setMode(e)})),y._parser.registerCsiHandler({prefix:"?",final:"h"},(function(e){return y.setModePrivate(e)})),y._parser.registerCsiHandler({final:"l"},(function(e){return y.resetMode(e)})),y._parser.registerCsiHandler({prefix:"?",final:"l"},(function(e){return y.resetModePrivate(e)})),y._parser.registerCsiHandler({final:"m"},(function(e){return y.charAttributes(e)})),y._parser.registerCsiHandler({final:"n"},(function(e){return y.deviceStatus(e)})),y._parser.registerCsiHandler({prefix:"?",final:"n"},(function(e){return y.deviceStatusPrivate(e)})),y._parser.registerCsiHandler({intermediates:"!",final:"p"},(function(e){return y.softReset(e)})),y._parser.registerCsiHandler({intermediates:" ",final:"q"},(function(e){return y.setCursorStyle(e)})),y._parser.registerCsiHandler({final:"r"},(function(e){return y.setScrollRegion(e)})),y._parser.registerCsiHandler({final:"s"},(function(e){return y.saveCursor(e)})),y._parser.registerCsiHandler({final:"t"},(function(e){return y.windowOptions(e)})),y._parser.registerCsiHandler({final:"u"},(function(e){return y.restoreCursor(e)})),y._parser.registerCsiHandler({intermediates:"'",final:"}"},(function(e){return y.insertColumns(e)})),y._parser.registerCsiHandler({intermediates:"'",final:"~"},(function(e){return y.deleteColumns(e)})),y._parser.setExecuteHandler(s.C0.BEL,(function(){return y.bell()})),y._parser.setExecuteHandler(s.C0.LF,(function(){return y.lineFeed()})),y._parser.setExecuteHandler(s.C0.VT,(function(){return y.lineFeed()})),y._parser.setExecuteHandler(s.C0.FF,(function(){return y.lineFeed()})),y._parser.setExecuteHandler(s.C0.CR,(function(){return y.carriageReturn()})),y._parser.setExecuteHandler(s.C0.BS,(function(){return y.backspace()})),y._parser.setExecuteHandler(s.C0.HT,(function(){return y.tab()})),y._parser.setExecuteHandler(s.C0.SO,(function(){return y.shiftOut()})),y._parser.setExecuteHandler(s.C0.SI,(function(){return y.shiftIn()})),y._parser.setExecuteHandler(s.C1.IND,(function(){return y.index()})),y._parser.setExecuteHandler(s.C1.NEL,(function(){return y.nextLine()})),y._parser.setExecuteHandler(s.C1.HTS,(function(){return y.tabSet()})),y._parser.registerOscHandler(0,new g.OscHandler((function(e){return y.setTitle(e),y.setIconName(e),!0}))),y._parser.registerOscHandler(1,new g.OscHandler((function(e){return y.setIconName(e)}))),y._parser.registerOscHandler(2,new g.OscHandler((function(e){return y.setTitle(e)}))),y._parser.registerOscHandler(4,new g.OscHandler((function(e){return y.setOrReportIndexedColor(e)}))),y._parser.registerOscHandler(10,new g.OscHandler((function(e){return y.setOrReportFgColor(e)}))),y._parser.registerOscHandler(11,new g.OscHandler((function(e){return y.setOrReportBgColor(e)}))),y._parser.registerOscHandler(12,new g.OscHandler((function(e){return y.setOrReportCursorColor(e)}))),y._parser.registerOscHandler(104,new g.OscHandler((function(e){return y.restoreIndexedColor(e)}))),y._parser.registerOscHandler(110,new g.OscHandler((function(e){return y.restoreFgColor(e)}))),y._parser.registerOscHandler(111,new g.OscHandler((function(e){return y.restoreBgColor(e)}))),y._parser.registerOscHandler(112,new g.OscHandler((function(e){return y.restoreCursorColor(e)}))),y._parser.registerEscHandler({final:"7"},(function(){return y.saveCursor()})),y._parser.registerEscHandler({final:"8"},(function(){return y.restoreCursor()})),y._parser.registerEscHandler({final:"D"},(function(){return y.index()})),y._parser.registerEscHandler({final:"E"},(function(){return y.nextLine()})),y._parser.registerEscHandler({final:"H"},(function(){return y.tabSet()})),y._parser.registerEscHandler({final:"M"},(function(){return y.reverseIndex()})),y._parser.registerEscHandler({final:"="},(function(){return y.keypadApplicationMode()})),y._parser.registerEscHandler({final:">"},(function(){return y.keypadNumericMode()})),y._parser.registerEscHandler({final:"c"},(function(){return y.fullReset()})),y._parser.registerEscHandler({final:"n"},(function(){return y.setgLevel(2)})),y._parser.registerEscHandler({final:"o"},(function(){return y.setgLevel(3)})),y._parser.registerEscHandler({final:"|"},(function(){return y.setgLevel(3)})),y._parser.registerEscHandler({final:"}"},(function(){return y.setgLevel(2)})),y._parser.registerEscHandler({final:"~"},(function(){return y.setgLevel(1)})),y._parser.registerEscHandler({intermediates:"%",final:"@"},(function(){return y.selectDefaultCharset()})),y._parser.registerEscHandler({intermediates:"%",final:"G"},(function(){return y.selectDefaultCharset()}));var m=function(e){b._parser.registerEscHandler({intermediates:"(",final:e},(function(){return y.selectCharset("("+e)})),b._parser.registerEscHandler({intermediates:")",final:e},(function(){return y.selectCharset(")"+e)})),b._parser.registerEscHandler({intermediates:"*",final:e},(function(){return y.selectCharset("*"+e)})),b._parser.registerEscHandler({intermediates:"+",final:e},(function(){return y.selectCharset("+"+e)})),b._parser.registerEscHandler({intermediates:"-",final:e},(function(){return y.selectCharset("-"+e)})),b._parser.registerEscHandler({intermediates:".",final:e},(function(){return y.selectCharset("."+e)})),b._parser.registerEscHandler({intermediates:"/",final:e},(function(){return y.selectCharset("/"+e)}))},b=this;for(var S in a.CHARSETS)m(S);return y._parser.registerEscHandler({intermediates:"#",final:"8"},(function(){return y.screenAlignmentPattern()})),y._parser.setErrorHandler((function(e){return y._logService.error("Parsing error: ",e),e})),y._parser.registerDcsHandler({intermediates:"$",final:"q"},new L(y._bufferService,y._coreService,y._logService,y._optionsService)),y}return n(t,e),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._preserveStack=function(e,t,r,i){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=i},t.prototype._logSlowResolvingAsync=function(e){this._logService.logLevel<=y.LogLevelEnum.WARN&&Promise.race([e,new Promise((function(e,t){return setTimeout((function(){return t("#SLOW_TIMEOUT")}),5e3)}))]).catch((function(e){if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")}))},t.prototype.parse=function(e,t){var r,i=this._activeBuffer.x,n=this._activeBuffer.y,o=0,s=this._parseStack.paused;if(s){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;i=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>C&&(o=this._parseStack.position+C)}if(this._logService.logLevel<=y.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof e?' "'+e+'"':' "'+Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("")+'"'),"string"==typeof e?e.split("").map((function(e){return e.charCodeAt(0)})):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<C&&(this._parseBuffer=new Uint32Array(Math.min(e.length,C))),s||this._dirtyRowService.clearRange(),e.length>C)for(var a=o;a<e.length;a+=C){var c=a+C<e.length?a+C:e.length,l="string"==typeof e?this._stringDecoder.decode(e.substring(a,c),this._parseBuffer):this._utf8Decoder.decode(e.subarray(a,c),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,l))return this._preserveStack(i,n,l,a),this._logSlowResolvingAsync(r),r}else if(!s&&(l="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),r=this._parser.parse(this._parseBuffer,l)))return this._preserveStack(i,n,l,0),this._logSlowResolvingAsync(r),r;this._activeBuffer.x===i&&this._activeBuffer.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,r){var i,n,o=this._charsetService.charset,s=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,c=this._coreService.decPrivateModes.wraparound,l=this._coreService.modes.insertMode,h=this._curAttrData,f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&2===f.getWidth(this._activeBuffer.x-1)&&f.setCellFromCodePoint(this._activeBuffer.x-1,0,1,h.fg,h.bg,h.extended);for(var _=t;_<r;++_){if(i=e[_],n=this._unicodeService.wcwidth(i),i<127&&o){var p=o[String.fromCharCode(i)];p&&(i=p.charCodeAt(0))}if(s&&this._onA11yChar.fire((0,u.stringFromCodePoint)(i)),n||!this._activeBuffer.x){if(this._activeBuffer.x+n-1>=a)if(c){for(;this._activeBuffer.x<a;)f.setCellFromCodePoint(this._activeBuffer.x++,0,1,h.fg,h.bg,h.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=a-1,2===n)continue;if(l&&(f.insertCells(this._activeBuffer.x,n,this._activeBuffer.getNullCell(h),h),2===f.getWidth(a-1)&&f.setCellFromCodePoint(a-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,h.fg,h.bg,h.extended)),f.setCellFromCodePoint(this._activeBuffer.x++,i,n,h.fg,h.bg,h.extended),n>0)for(;--n;)f.setCellFromCodePoint(this._activeBuffer.x++,0,0,h.fg,h.bg,h.extended)}else f.getWidth(this._activeBuffer.x-1)?f.addCodepointToCell(this._activeBuffer.x-1,i):f.addCodepointToCell(this._activeBuffer.x-2,i)}r-t>0&&(f.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<a&&r-t>0&&0===f.getWidth(this._activeBuffer.x)&&!f.hasContent(this._activeBuffer.x)&&f.setCellFromCodePoint(this._activeBuffer.x,0,1,h.fg,h.bg,h.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype.registerCsiHandler=function(e,t){var r=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,(function(e){return!w(e.params[0],r._optionsService.rawOptions.windowOptions)||t(e)}))},t.prototype.registerDcsHandler=function(e,t){return this._parser.registerDcsHandler(e,new m.DcsHandler(t))},t.prototype.registerEscHandler=function(e,t){return this._parser.registerEscHandler(e,t)},t.prototype.registerOscHandler=function(e,t){return this._parser.registerOscHandler(e,new g.OscHandler(t))},t.prototype.bell=function(){return this._onRequestBell.fire(),!0},t.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},t.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},t.prototype.backspace=function(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},t.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0},t.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},t.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},t.prototype._restrictCursor=function(e){void 0===e&&(e=this._bufferService.cols-1),this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)},t.prototype.cursorUp=function(e){var t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0},t.prototype.cursorDown=function(e){var t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0},t.prototype.cursorForward=function(e){return this._moveCursor(e.params[0]||1,0),!0},t.prototype.cursorBackward=function(e){return this._moveCursor(-(e.params[0]||1),0),!0},t.prototype.cursorNextLine=function(e){return this.cursorDown(e),this._activeBuffer.x=0,!0},t.prototype.cursorPrecedingLine=function(e){return this.cursorUp(e),this._activeBuffer.x=0,!0},t.prototype.cursorCharAbsolute=function(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0},t.prototype.cursorPosition=function(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0},t.prototype.charPosAbsolute=function(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0},t.prototype.hPositionRelative=function(e){return this._moveCursor(e.params[0]||1,0),!0},t.prototype.linePosAbsolute=function(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0},t.prototype.vPositionRelative=function(e){return this._moveCursor(0,e.params[0]||1),!0},t.prototype.hVPosition=function(e){return this.cursorPosition(e),!0},t.prototype.tabClear=function(e){var t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0},t.prototype.cursorForwardTab=function(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var t=e.params[0]||1;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},t.prototype.cursorBackwardTab=function(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var t=e.params[0]||1;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},t.prototype._eraseInBufferLine=function(e,t,r,i){void 0===i&&(i=!1);var n=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);n.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i&&(n.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);t.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(t=this._activeBuffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._activeBuffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var r=this._activeBuffer.lines.length-this._bufferService.rows;r>0&&(this._activeBuffer.lines.trimStart(r),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-r,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-r,0),this._onScroll.fire(0))}return!0},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var r=this._activeBuffer.ybase+this._activeBuffer.y,i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-i+1;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var r,i=this._activeBuffer.ybase+this._activeBuffer.y;for(r=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-r;t--;)this._activeBuffer.lines.splice(i,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(f.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollLeft=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.scrollRight=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.insertColumns=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.deleteColumns=function(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var t=e.params[0]||1,r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){var i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),i.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},t.prototype.repeatPrecedingCharacter=function(e){if(!this._parser.precedingCodepoint)return!0;for(var t=e.params[0]||1,r=new Uint32Array(t),i=0;i<t;++i)r[i]=this._parser.precedingCodepoint;return this.print(r,0,r.length),!0},t.prototype.sendDeviceAttributesPrimary=function(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c")),!0},t.prototype.sendDeviceAttributesSecondary=function(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c")),!0},t.prototype._is=function(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)4===e.params[t]&&(this._coreService.modes.insertMode=!0);return!0},t.prototype.setModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)4===e.params[t]&&(this._coreService.modes.insertMode=!1);return!0},t.prototype.resetModePrivate=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},t.prototype._updateAttrColor=function(e,t,r,i,n){return 2===t?(e|=50331648,e&=-16777216,e|=v.AttributeData.fromColorRGB([r,i,n])):5===t&&(e&=-50331904,e|=33554432|255&r),e},t.prototype._extractColor=function(e,t,r){var i=[0,0,-1,0,0,0],n=0,o=0;do{if(i[o+n]=e.params[t+o],e.hasSubParams(t+o)){var s=e.getSubParams(t+o),a=0;do{5===i[1]&&(n=1),i[o+a+1+n]=s[a]}while(++a<s.length&&a+o+1+n<i.length);break}if(5===i[1]&&o+n>=2||2===i[1]&&o+n>=5)break;i[1]&&(n=1)}while(++o+t<e.length&&o+n<i.length);for(a=2;a<i.length;++a)-1===i[a]&&(i[a]=0);switch(i[0]){case 38:r.fg=this._updateAttrColor(r.fg,i[1],i[3],i[4],i[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,i[1],i[3],i[4],i[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,i[1],i[3],i[4],i[5])}return o},t.prototype._processUnderline=function(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=f.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=f.DEFAULT_ATTR_DATA.bg,!0;for(var t,r=e.length,i=this._curAttrData,n=0;n<r;n++)(t=e.params[n])>=30&&t<=37?(i.fg&=-50331904,i.fg|=16777216|t-30):t>=40&&t<=47?(i.bg&=-50331904,i.bg|=16777216|t-40):t>=90&&t<=97?(i.fg&=-50331904,i.fg|=16777224|t-90):t>=100&&t<=107?(i.bg&=-50331904,i.bg|=16777224|t-100):0===t?(i.fg=f.DEFAULT_ATTR_DATA.fg,i.bg=f.DEFAULT_ATTR_DATA.bg):1===t?i.fg|=134217728:3===t?i.bg|=67108864:4===t?(i.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,i)):5===t?i.fg|=536870912:7===t?i.fg|=67108864:8===t?i.fg|=1073741824:9===t?i.fg|=2147483648:2===t?i.bg|=134217728:21===t?this._processUnderline(2,i):22===t?(i.fg&=-134217729,i.bg&=-134217729):23===t?i.bg&=-67108865:24===t?i.fg&=-268435457:25===t?i.fg&=-536870913:27===t?i.fg&=-67108865:28===t?i.fg&=-1073741825:29===t?i.fg&=2147483647:39===t?(i.fg&=-67108864,i.fg|=16777215&f.DEFAULT_ATTR_DATA.fg):49===t?(i.bg&=-67108864,i.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):38===t||48===t||58===t?n+=this._extractColor(e,n,i):59===t?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):100===t?(i.fg&=-67108864,i.fg|=16777215&f.DEFAULT_ATTR_DATA.fg,i.bg&=-67108864,i.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t);return!0},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(s.C0.ESC+"[0n");break;case 6:var t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"["+t+";"+r+"R")}return!0},t.prototype.deviceStatusPrivate=function(e){if(6===e.params[0]){var t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(s.C0.ESC+"[?"+t+";"+r+"R")}return!0},t.prototype.softReset=function(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var r=t%2==1;return this._optionsService.options.cursorBlink=r,!0},t.prototype.setScrollRegion=function(e){var t,r=e.params[0]||1;return(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>r&&(this._activeBuffer.scrollTop=r-1,this._activeBuffer.scrollBottom=t-1,this._setCursor(0,0)),!0},t.prototype.windowOptions=function(e){if(!w(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;var t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(o.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(o.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(s.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},t.prototype.saveCursor=function(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},t.prototype.restoreCursor=function(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},t.prototype.setTitle=function(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0},t.prototype.setIconName=function(e){return this._iconName=e,!0},t.prototype.setOrReportIndexedColor=function(e){for(var t=[],r=e.split(";");r.length>1;){var i=r.shift(),n=r.shift();if(/^\d+$/.exec(i)){var o=parseInt(i);if(0<=o&&o<256)if("?"===n)t.push({type:0,index:o});else{var s=(0,b.parseColor)(n);s&&t.push({type:1,index:o,color:s})}}}return t.length&&this._onColor.fire(t),!0},t.prototype._setOrReportSpecialColor=function(e,t){for(var r=e.split(";"),i=0;i<r.length&&!(t>=this._specialColors.length);++i,++t)if("?"===r[i])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{var n=(0,b.parseColor)(r[i]);n&&this._onColor.fire([{type:1,index:this._specialColors[t],color:n}])}return!0},t.prototype.setOrReportFgColor=function(e){return this._setOrReportSpecialColor(e,0)},t.prototype.setOrReportBgColor=function(e){return this._setOrReportSpecialColor(e,1)},t.prototype.setOrReportCursorColor=function(e){return this._setOrReportSpecialColor(e,2)},t.prototype.restoreIndexedColor=function(e){if(!e)return this._onColor.fire([{type:2}]),!0;for(var t=[],r=e.split(";"),i=0;i<r.length;++i)if(/^\d+$/.exec(r[i])){var n=parseInt(r[i]);0<=n&&n<256&&t.push({type:2,index:n})}return t.length&&this._onColor.fire(t),!0},t.prototype.restoreFgColor=function(e){return this._onColor.fire([{type:2,index:256}]),!0},t.prototype.restoreBgColor=function(e){return this._onColor.fire([{type:2,index:257}]),!0},t.prototype.restoreCursorColor=function(e){return this._onColor.fire([{type:2,index:258}]),!0},t.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},t.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},t.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},t.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),!0},t.prototype.selectCharset=function(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(S[e[0]],a.CHARSETS[e[1]]||a.DEFAULT_CHARSET),!0)},t.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},t.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},t.prototype.reverseIndex=function(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){var e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0},t.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},t.prototype.reset=function(){this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){return this._charsetService.setgLevel(e),!0},t.prototype.screenAlignmentPattern=function(){var e=new p.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(var t=0;t<this._bufferService.rows;++t){var r=this._activeBuffer.ybase+this._activeBuffer.y+t,i=this._activeBuffer.lines.get(r);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},t}(l.Disposable);t.InputHandler=E},844:function(e,t){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.Disposable=void 0;var i=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){var e,t;this._isDisposed=!0;try{for(var i=r(this._disposables),n=i.next();!n.done;n=i.next())n.value.dispose()}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._disposables.length=0},e.prototype.register=function(e){return this._disposables.push(e),e},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();function n(e){var t,i;try{for(var n=r(e),o=n.next();!o.done;o=n.next())o.value.dispose()}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}e.length=0}t.Disposable=i,t.disposeArray=n,t.getDisposeArrayDisposable=function(e){return{dispose:function(){return n(e)}}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.isSafari=t.isLegacyEdge=t.isFirefox=void 0;var r="undefined"==typeof navigator,i=r?"node":navigator.userAgent,n=r?"node":navigator.platform;t.isFirefox=i.includes("Firefox"),t.isLegacyEdge=i.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(n),t.isIpad="iPad"===n,t.isIphone="iPhone"===n,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(n),t.isLinux=n.indexOf("Linux")>=0},6106:function(e,t){var r=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;var i=function(){function e(e){this._getKey=e,this._array=[]}return e.prototype.clear=function(){this._array.length=0},e.prototype.insert=function(e){if(0!==this._array.length){var t=this._search(this._getKey(e),0,this._array.length-1);this._array.splice(t,0,e)}else this._array.push(e)},e.prototype.delete=function(e){if(0===this._array.length)return!1;var t=this._getKey(e),r=this._search(t,0,this._array.length-1);if(this._getKey(this._array[r])!==t)return!1;do{if(this._array[r]===e)return this._array.splice(r,1),!0}while(++r<this._array.length&&this._getKey(this._array[r])===t);return!1},e.prototype.getKeyIterator=function(e){var t;return r(this,(function(r){switch(r.label){case 0:if(0===this._array.length)return[2];if((t=this._search(e,0,this._array.length-1))<0||t>=this._array.length)return[2];if(this._getKey(this._array[t])!==e)return[2];r.label=1;case 1:return[4,this._array[t]];case 2:r.sent(),r.label=3;case 3:if(++t<this._array.length&&this._getKey(this._array[t])===e)return[3,1];r.label=4;case 4:return[2]}}))},e.prototype.values=function(){return this._array.values()},e.prototype._search=function(e,t,r){if(r<t)return t;var i=Math.floor((t+r)/2);if(this._getKey(this._array[i])>e)return this._search(e,t,i-1);if(this._getKey(this._array[i])<e)return this._search(e,i+1,r);for(;i>0&&this._getKey(this._array[i-1])===e;)i--;return i},e}();t.SortedList=i},8273:(e,t)=>{function r(e,t,r,i){if(void 0===r&&(r=0),void 0===i&&(i=e.length),r>=e.length)return e;r=(e.length+r)%e.length,i=i>=e.length?e.length:(e.length+i)%e.length;for(var n=r;n<i;++n)e[n]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=t.fillFallback=t.fill=void 0,t.fill=function(e,t,i,n){return e.fill?e.fill(t,i,n):r(e,t,i,n)},t.fillFallback=r,t.concat=function(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}},9282:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;var i=r(643);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),r=null==t?void 0:t.get(e.cols-1),n=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);n&&r&&(n.isWrapped=r[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&r[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;var r=function(){function e(){this.fg=0,this.bg=0,this.extended=new i}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.isStrikethrough=function(){return 2147483648&this.fg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},e.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},e.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},e.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},e.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},e.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},e.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},e.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},e}();t.AttributeData=r;var i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=-1),this.underlineStyle=e,this.underlineColor=t}return e.prototype.clone=function(){return new e(this.underlineStyle,this.underlineColor)},e.prototype.isEmpty=function(){return 0===this.underlineStyle},e}();t.ExtendedAttrs=i},9092:function(e,t,r){var i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStringIterator=t.Buffer=t.MAX_BUFFER_SIZE=void 0;var o=r(6349),s=r(8437),a=r(511),c=r(643),l=r(4634),h=r(4863),u=r(7116),f=r(3734);t.MAX_BUFFER_SIZE=4294967295;var _=function(){function e(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=a.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=a.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new s.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!1,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var r=e+this._optionsService.rawOptions.scrollback;return r>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:r},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=s.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new o.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var r=this.getNullCell(s.DEFAULT_ATTR_DATA),i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(var n=0;n<this.lines.length;n++)this.lines.get(n).resize(e,r);var o=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new s.BufferLine(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(e,r)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var c=this.lines.length-i;c>0&&(this.lines.trimStart(c),this.ybase=Math.max(this.ybase-c,0),this.ydisp=Math.max(this.ydisp-c,0),this.savedY=Math.max(this.savedY-c,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),o&&(this.y+=o),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(n=0;n<this.lines.length;n++)this.lines.get(n).resize(e,r);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var r=(0,l.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(r.length>0){var i=(0,l.reflowLargerCreateNewLayout)(this.lines,r);(0,l.reflowLargerApplyNewLayout)(this.lines,i.layout),this._reflowLargerAdjustViewport(e,t,i.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,r){for(var i=this.getNullCell(s.DEFAULT_ATTR_DATA),n=r;n-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new s.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)},e.prototype._reflowSmaller=function(e,t){for(var r=this.getNullCell(s.DEFAULT_ATTR_DATA),o=[],a=0,c=this.lines.length-1;c>=0;c--){var h=this.lines.get(c);if(!(!h||!h.isWrapped&&h.getTrimmedLength()<=e)){for(var u=[h];h.isWrapped&&c>0;)h=this.lines.get(--c),u.unshift(h);var f=this.ybase+this.y;if(!(f>=c&&f<c+u.length)){var _,d=u[u.length-1].getTrimmedLength(),p=(0,l.reflowSmallerGetNewLineLengths)(u,this._cols,e),v=p.length-u.length;_=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+v):Math.max(0,this.lines.length-this.lines.maxLength+v);for(var y=[],g=0;g<v;g++){var m=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);y.push(m)}y.length>0&&(o.push({start:c+u.length+a,newLines:y}),a+=y.length),u.push.apply(u,n([],i(y),!1));var b=p.length-1,S=p[b];0===S&&(S=p[--b]);for(var C=u.length-v-1,w=d;C>=0;){var L=Math.min(w,S);if(void 0===u[b])break;if(u[b].copyCellsFrom(u[C],w-L,S-L,L,!0),0==(S-=L)&&(S=p[--b]),0==(w-=L)){C--;var E=Math.max(C,0);w=(0,l.getWrappedLineTrimmedLength)(u,E,this._cols)}}for(g=0;g<u.length;g++)p[g]<e&&u[g].setCell(p[g],r);for(var x=v-_;x-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+a)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+v,this.ybase+t-1)}}}if(o.length>0){var R=[],k=[];for(g=0;g<this.lines.length;g++)k.push(this.lines.get(g));var M=this.lines.length,A=M-1,O=0,D=o[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+a);var T=0;for(g=Math.min(this.lines.maxLength-1,M+a-1);g>=0;g--)if(D&&D.start>A+T){for(var B=D.newLines.length-1;B>=0;B--)this.lines.set(g--,D.newLines[B]);g++,R.push({index:A+1,amount:D.newLines.length}),T+=D.newLines.length,D=o[++O]}else this.lines.set(g,k[A--]);var P=0;for(g=R.length-1;g>=0;g--)R[g].index+=P,this.lines.onInsertEmitter.fire(R[g]),P+=R[g].amount;var I=Math.max(0,M+a-this.lines.maxLength);I>0&&this.lines.onTrimEmitter.fire(I)}},e.prototype.stringIndexToBufferIndex=function(e,t,r){for(void 0===r&&(r=!1);t;){var i=this.lines.get(e);if(!i)return[-1,-1];for(var n=r?i.getTrimmedLength():i.length,o=0;o<n;++o)if(i.get(o)[c.CHAR_DATA_WIDTH_INDEX]&&(t-=i.get(o)[c.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,r,i){void 0===r&&(r=0);var n=this.lines.get(e);return n?n.translateToString(t,r,i):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,r=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.clearMarkers=function(e){this._isClearing=!0;for(var t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1},e.prototype.clearAllMarkers=function(){this._isClearing=!0;for(var e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1},e.prototype.addMarker=function(e){var t=this,r=new h.Marker(e);return this.markers.push(r),r.register(this.lines.onTrim((function(e){r.line-=e,r.line<0&&r.dispose()}))),r.register(this.lines.onInsert((function(e){r.line>=e.index&&(r.line+=e.amount)}))),r.register(this.lines.onDelete((function(e){r.line>=e.index&&r.line<e.index+e.amount&&r.dispose(),r.line>e.index&&(r.line-=e.amount)}))),r.register(r.onDispose((function(){return t._removeMarker(r)}))),r},e.prototype._removeMarker=function(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,r,i,n){return new d(this,e,t,r,i,n)},e}();t.Buffer=_;var d=function(){function e(e,t,r,i,n,o){void 0===r&&(r=0),void 0===i&&(i=e.lines.length),void 0===n&&(n=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=r,this._endIndex=i,this._startOverscan=n,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",r=e.first;r<=e.last;++r)t+=this._buffer.translateBufferLineToString(r,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=d},8437:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;var i=r(482),n=r(643),o=r(511),s=r(3734);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var a=function(){function e(e,t,r){void 0===r&&(r=!1),this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);for(var i=t||o.CellData.fromCharData([0,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,i);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],r=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:r?(0,i.stringFromCodePoint)(r):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):r]},e.prototype.set=function(e,t){this._data[3*e+1]=t[n.CHAR_DATA_ATTR_INDEX],t[n.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[n.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[n.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,i.stringFromCodePoint)(2097151&t):""},e.prototype.loadCell=function(e,t){var r=3*e;return t.content=this._data[r+0],t.fg=this._data[r+1],t.bg=this._data[r+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,r,i,n,o){268435456&n&&(this._extendedAttrs[e]=o),this._data[3*e+0]=t|r<<22,this._data[3*e+1]=i,this._data[3*e+2]=n},e.prototype.addCodepointToCell=function(e,t){var r=this._data[3*e+0];2097152&r?this._combined[e]+=(0,i.stringFromCodePoint)(t):(2097151&r?(this._combined[e]=(0,i.stringFromCodePoint)(2097151&r)+(0,i.stringFromCodePoint)(t),r&=-2097152,r|=2097152):r=t|1<<22,this._data[3*e+0]=r)},e.prototype.insertCells=function(e,t,r,i){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length-e){for(var n=new o.CellData,a=this.length-e-t-1;a>=0;--a)this.setCell(e+t+a,this.loadCell(e+a,n));for(a=0;a<t;++a)this.setCell(e+a,r)}else for(a=e;a<this.length;++a)this.setCell(a,r);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.deleteCells=function(e,t,r,i){if(e%=this.length,t<this.length-e){for(var n=new o.CellData,a=0;a<this.length-e-t;++a)this.setCell(e+a,this.loadCell(e+t+a,n));for(a=this.length-t;a<this.length;++a)this.setCell(a,r)}else for(a=e;a<this.length;++a)this.setCell(a,r);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs)},e.prototype.replaceCells=function(e,t,r,i){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new s.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,r)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var r=new Uint32Array(3*e);this.length&&(3*e<this._data.length?r.set(this._data.subarray(0,3*e)):r.set(this._data)),this._data=r;for(var i=this.length;i<e;++i)this.setCell(i,t)}else if(e){(r=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=r;var n=Object.keys(this._combined);for(i=0;i<n.length;i++){var o=parseInt(n[i],10);o>=e&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={},this._extendedAttrs={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];for(var t in this._extendedAttrs={},e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var r in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[r]=this._combined[r];for(var r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,r,i,n){var o=e._data;if(n)for(var s=i-1;s>=0;s--)for(var a=0;a<3;a++)this._data[3*(r+s)+a]=o[3*(t+s)+a];else for(s=0;s<i;s++)for(a=0;a<3;a++)this._data[3*(r+s)+a]=o[3*(t+s)+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var l=parseInt(c[a],10);l>=t&&(this._combined[l-t+r]=e._combined[l])}},e.prototype.translateToString=function(e,t,r){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===r&&(r=this.length),e&&(r=Math.min(r,this.getTrimmedLength()));for(var o="";t<r;){var s=this._data[3*t+0],a=2097151&s;o+=2097152&s?this._combined[t]:a?(0,i.stringFromCodePoint)(a):n.WHITESPACE_CELL_CHAR,t+=s>>22||1}return o},e}();t.BufferLine=a},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error("Buffer range end ("+e.end.x+", "+e.end.y+") cannot be before start ("+e.start.x+", "+e.start.y+")");return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function r(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();var i=!e[t].hasContent(r-1)&&1===e[t].getWidth(r-1),n=2===e[t+1].getWidth(0);return i&&n?r-1:r}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,n,o){for(var s=[],a=0;a<e.length-1;a++){var c=a,l=e.get(++c);if(l.isWrapped){for(var h=[e.get(a)];c<e.length&&l.isWrapped;)h.push(l),l=e.get(++c);if(n>=a&&n<c)a+=h.length-1;else{for(var u=0,f=r(h,u,t),_=1,d=0;_<h.length;){var p=r(h,_,t),v=p-d,y=i-f,g=Math.min(v,y);h[u].copyCellsFrom(h[_],d,f,g,!1),(f+=g)===i&&(u++,f=0),(d+=g)===p&&(_++,d=0),0===f&&0!==u&&2===h[u-1].getWidth(i-1)&&(h[u].copyCellsFrom(h[u-1],i-1,f++,1,!1),h[u-1].setCell(i-1,o))}h[u].replaceCells(f,i,o);for(var m=0,b=h.length-1;b>0&&(b>u||0===h[b].getTrimmedLength());b--)m++;m>0&&(s.push(a+h.length-m),s.push(m)),a+=h.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var r=[],i=0,n=t[i],o=0,s=0;s<e.length;s++)if(n===s){var a=t[++i];e.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,n=t[++i]}else r.push(s);return{layout:r,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var r=[],i=0;i<t.length;i++)r.push(e.get(t[i]));for(i=0;i<r.length;i++)e.set(i,r[i]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){for(var n=[],o=e.map((function(i,n){return r(e,n,t)})).reduce((function(e,t){return e+t})),s=0,a=0,c=0;c<o;){if(o-c<i){n.push(o-c);break}s+=i;var l=r(e,a,t);s>l&&(s-=l,a++);var h=2===e[a].getWidth(s-1);h&&s--;var u=h?i-1:i;n.push(u),c+=u}return n},t.getWrappedLineTrimmedLength=r},5295:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;var o=r(9092),s=r(8460),a=function(e){function t(t,r){var i=e.call(this)||this;return i._optionsService=t,i._bufferService=r,i._onBufferActivate=i.register(new s.EventEmitter),i.reset(),i}return n(t,e),Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._normal=new o.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new o.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(r(844).Disposable);t.BufferSet=a},511:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;var o=r(482),s=r(643),a=r(3734),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.extended=new a.ExtendedAttrs,t.combinedData="",t}return n(t,e),t.fromCharData=function(e){var r=new t;return r.setFromCharData(e),r},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,o.stringFromCodePoint)(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[s.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var r=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(r-55296)+i-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(a.AttributeData);t.CellData=c},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;var o=r(8460),s=function(e){function t(r){var i=e.call(this)||this;return i.line=r,i._id=t._nextId++,i.isDisposed=!1,i._onDispose=new o.EventEmitter,i}return n(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),e.prototype.dispose.call(this))},t._nextId=1,t}(r(844).Disposable);t.Marker=s},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},t.CHARSETS.A={"#":"£"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},t.CHARSETS.C=t.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},t.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},t.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},t.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},t.CHARSETS.E=t.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},t.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},t.CHARSETS.H=t.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},t.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(e,t)=>{var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(r=t.C0||(t.C0={})),(i=t.C1||(t.C1={})).PAD="",i.HOP="",i.BPH="",i.NBH="",i.IND="",i.NEL="",i.SSA="",i.ESA="",i.HTS="",i.HTJ="",i.VTS="",i.PLD="",i.PLU="",i.RI="",i.SS2="",i.SS3="",i.DCS="",i.PU1="",i.PU2="",i.STS="",i.CCH="",i.MW="",i.SPA="",i.EPA="",i.SOS="",i.SGCI="",i.SCI="",i.CSI="",i.ST="",i.OSC="",i.PM="",i.APC="",(t.C1_ESCAPED||(t.C1_ESCAPED={})).ST=r.ESC+"\\"},7399:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;var i=r(2584),n={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,r,o){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=i.C0.BS;break}if(e.altKey){s.key=i.C0.ESC+i.C0.DEL;break}s.key=i.C0.DEL;break;case 9:if(e.shiftKey){s.key=i.C0.ESC+"[Z";break}s.key=i.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?i.C0.ESC+i.C0.CR:i.C0.CR,s.cancel=!0;break;case 27:s.key=i.C0.ESC,e.altKey&&(s.key=i.C0.ESC+i.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"D",s.key===i.C0.ESC+"[1;3D"&&(s.key=i.C0.ESC+(r?"b":"[1;5D"))):s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"C",s.key===i.C0.ESC+"[1;3C"&&(s.key=i.C0.ESC+(r?"f":"[1;5C"))):s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"A",r||s.key!==i.C0.ESC+"[1;3A"||(s.key=i.C0.ESC+"[1;5A")):s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=i.C0.ESC+"[1;"+(a+1)+"B",r||s.key!==i.C0.ESC+"[1;3B"||(s.key=i.C0.ESC+"[1;5B")):s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=i.C0.ESC+"[2~");break;case 46:s.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:s.key=a?i.C0.ESC+"[1;"+(a+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:s.key=a?i.C0.ESC+"[1;"+(a+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:e.ctrlKey?s.key=i.C0.ESC+"[5;"+(a+1)+"~":s.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:e.ctrlKey?s.key=i.C0.ESC+"[6;"+(a+1)+"~":s.key=i.C0.ESC+"[6~";break;case 112:s.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:s.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:s.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:s.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:s.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:s.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:s.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:s.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:s.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:s.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:s.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:s.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(r&&!o||!e.altKey||e.metaKey)!r||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(s.key=i.C0.US),"@"===e.key&&(s.key=i.C0.NUL)):65===e.keyCode&&(s.type=1);else{var c=n[e.keyCode],l=null==c?void 0:c[e.shiftKey?1:0];if(l)s.key=i.C0.ESC+l;else if(e.keyCode>=65&&e.keyCode<=90){var h=e.ctrlKey?e.keyCode-64:e.keyCode+32,u=String.fromCharCode(h);e.shiftKey&&(u=u.toUpperCase()),s.key=i.C0.ESC+u}else"Dead"===e.key&&e.code.startsWith("Key")&&(u=e.code.slice(3,4),e.shiftKey||(u=u.toLowerCase()),s.key=i.C0.ESC+u,s.cancel=!0)}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=i.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=i.C0.DEL:219===e.keyCode?s.key=i.C0.ESC:220===e.keyCode?s.key=i.C0.FS:221===e.keyCode&&(s.key=i.C0.GS)}return s}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length);for(var i="",n=t;n<r;++n){var o=e[n];o>65535?(o-=65536,i+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):i+=String.fromCharCode(o)}return i};var r=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var i=0,n=0;this._interim&&(56320<=(a=e.charCodeAt(n++))&&a<=57343?t[i++]=1024*(this._interim-55296)+a-56320+65536:(t[i++]=this._interim,t[i++]=a),this._interim=0);for(var o=n;o<r;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=56319){if(++o>=r)return this._interim=s,i;var a;56320<=(a=e.charCodeAt(o))&&a<=57343?t[i++]=1024*(s-55296)+a-56320+65536:(t[i++]=s,t[i++]=a)}else 65279!==s&&(t[i++]=s)}return i},e}();t.StringToUtf32=r;var i=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var r=e.length;if(!r)return 0;var i,n,o,s,a=0,c=0,l=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var f=0,_=void 0;(_=63&this.interim[++f])&&f<4;)u<<=6,u|=_;for(var d=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,p=d-f;l<p;){if(l>=r)return 0;if(128!=(192&(_=e[l++]))){l--,h=!0;break}this.interim[f++]=_,u<<=6,u|=63&_}h||(2===d?u<128?l--:t[a++]=u:3===d?u<2048||u>=55296&&u<=57343||65279===u||(t[a++]=u):u<65536||u>1114111||(t[a++]=u)),this.interim.fill(0)}for(var v=r-4,y=l;y<r;){for(;!(!(y<v)||128&(i=e[y])||128&(n=e[y+1])||128&(o=e[y+2])||128&(s=e[y+3]));)t[a++]=i,t[a++]=n,t[a++]=o,t[a++]=s,y+=4;if((i=e[y++])<128)t[a++]=i;else if(192==(224&i)){if(y>=r)return this.interim[0]=i,a;if(128!=(192&(n=e[y++]))){y--;continue}if((c=(31&i)<<6|63&n)<128){y--;continue}t[a++]=c}else if(224==(240&i)){if(y>=r)return this.interim[0]=i,a;if(128!=(192&(n=e[y++]))){y--;continue}if(y>=r)return this.interim[0]=i,this.interim[1]=n,a;if(128!=(192&(o=e[y++]))){y--;continue}if((c=(15&i)<<12|(63&n)<<6|63&o)<2048||c>=55296&&c<=57343||65279===c)continue;t[a++]=c}else if(240==(248&i)){if(y>=r)return this.interim[0]=i,a;if(128!=(192&(n=e[y++]))){y--;continue}if(y>=r)return this.interim[0]=i,this.interim[1]=n,a;if(128!=(192&(o=e[y++]))){y--;continue}if(y>=r)return this.interim[0]=i,this.interim[1]=n,this.interim[2]=o,a;if(128!=(192&(s=e[y++]))){y--;continue}if((c=(7&i)<<18|(63&n)<<12|(63&o)<<6|63&s)<65536||c>1114111)continue;t[a++]=c}}return a},e}();t.Utf8ToUtf32=i},225:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;var i,n=r(8273),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!i){i=new Uint8Array(65536),(0,n.fill)(i,1),i[0]=0,(0,n.fill)(i,0,1,32),(0,n.fill)(i,0,127,160),(0,n.fill)(i,2,4352,4448),i[9001]=2,i[9002]=2,(0,n.fill)(i,2,11904,42192),i[12351]=1,(0,n.fill)(i,2,44032,55204),(0,n.fill)(i,2,63744,64256),(0,n.fill)(i,2,65040,65050),(0,n.fill)(i,2,65072,65136),(0,n.fill)(i,2,65280,65377),(0,n.fill)(i,2,65504,65511);for(var e=0;e<o.length;++e)(0,n.fill)(i,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?i[e]:function(e,t){var r,i=0,n=t.length-1;if(e<t[0][0]||e>t[n][1])return!1;for(;n>=i;)if(e>t[r=i+n>>1][1])i=r+1;else{if(!(e<t[r][0]))return!0;n=r-1}return!1}(e,s)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},5981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;var i=r(8460),n="undefined"==typeof queueMicrotask?function(e){Promise.resolve().then(e)}:queueMicrotask,o=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._onWriteParsed=new i.EventEmitter}return Object.defineProperty(e.prototype,"onWriteParsed",{get:function(){return this._onWriteParsed.event},enumerable:!1,configurable:!0}),e.prototype.writeSync=function(e,t){if(void 0!==t&&this._syncCalls>t)this._syncCalls=0;else if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var r;for(this._isSyncWriting=!0;r=this._writeBuffer.shift();){this._action(r);var i=this._callbacks.shift();i&&i()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},e.prototype.write=function(e,t){var r=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return r._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(e,t){var r=this;void 0===e&&(e=0),void 0===t&&(t=!0);for(var i=e||Date.now();this._writeBuffer.length>this._bufferOffset;){var o=this._writeBuffer[this._bufferOffset],s=this._action(o,t);if(s)return void s.catch((function(e){return n((function(){throw e})),Promise.resolve(!1)})).then((function(e){return Date.now()-i>=12?setTimeout((function(){return r._innerWrite(0,e)})):r._innerWrite(i,e)}));var a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-i>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return r._innerWrite()}))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()},e}();t.WriteBuffer=o},5941:function(e,t){var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;var i=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,n=/^[\da-f]+$/;function o(e,t){var r=e.toString(16),i=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return i;case 12:return(i+i).slice(0,3);default:return i+i}}t.parseColor=function(e){if(e){var t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);var r=i.exec(t);if(r){var o=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/o*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/o*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/o*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),n.exec(t)&&[3,6,9,12].includes(t.length))){for(var s=t.length/3,a=[0,0,0],c=0;c<3;++c){var l=parseInt(t.slice(s*c,s*c+s),16);a[c]=1===s?l<<4:2===s?l:3===s?l>>4:l>>8}return a}}},t.toRgbString=function(e,t){void 0===t&&(t=16);var i=r(e,3),n=i[0],s=i[1],a=i[2];return"rgb:"+o(n,t)+"/"+o(s,t)+"/"+o(a,t)}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;var i=r(482),n=r(8742),o=r(5770),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=s},e.prototype.registerHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){if(this._active.length)for(var e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,r){if(this._active.length)for(var n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,r);else this._handlerFb(this._ident,"PUT",(0,i.utf32ToString)(e,t,r))},e.prototype.unhook=function(e,t){if(void 0===t&&(t=!0),this._active.length){var r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===r){for(;i>=0&&!0!==(r=this._active[i].unhook(e));i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if((r=this._active[i].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var c=new n.Params;c.addParam(0);var l=function(){function e(e){this._handler=e,this._data="",this._params=c,this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.length>1||e.params[0]?e.clone():c,this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=(0,i.utf32ToString)(e,t,r),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t=this,r=!1;if(this._hitLimit)r=!1;else if(e&&(r=this._handler(this._data,this._params))instanceof Promise)return r.then((function(e){return t._params=c,t._data="",t._hitLimit=!1,e}));return this._params=c,this._data="",this._hitLimit=!1,r},e}();t.DcsHandler=l},2015:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;var o=r(844),s=r(8273),a=r(8742),c=r(6242),l=r(6351),h=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){(0,s.fill)(this.table,e<<4|t)},e.prototype.add=function(e,t,r,i){this.table[t<<8|e]=r<<4|i},e.prototype.addMany=function(e,t,r,i){for(var n=0;n<e.length;n++)this.table[t<<8|e[n]]=r<<4|i},e}();t.TransitionTable=h;var u=160;t.VT500_TRANSITION_TABLE=function(){var e=new h(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),r=function(e,r){return t.slice(e,r)},i=r(32,127),n=r(0,24);n.push(25),n.push.apply(n,r(28,32));var o,s=r(0,14);for(o in e.setDefault(1,0),e.addMany(i,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(r(128,144),o,3,0),e.addMany(r(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(u,0,2,0),e.add(u,8,5,8),e.add(u,6,0,6),e.add(u,11,0,11),e.add(u,13,13,13),e}();var f=function(e){function r(r){void 0===r&&(r=t.VT500_TRANSITION_TABLE);var i=e.call(this)||this;return i._transitions=r,i._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},i.initialState=0,i.currentState=i.initialState,i._params=new a.Params,i._params.addParam(0),i._collect=0,i.precedingCodepoint=0,i._printHandlerFb=function(e,t,r){},i._executeHandlerFb=function(e){},i._csiHandlerFb=function(e,t){},i._escHandlerFb=function(e){},i._errorHandlerFb=function(e){return e},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscParser=new c.OscParser,i._dcsParser=new l.DcsParser,i._errorHandler=i._errorHandlerFb,i.registerEscHandler({final:"\\"},(function(){return!0})),i}return n(r,e),r.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((r=e.prefix.charCodeAt(0))&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var i=0;i<e.intermediates.length;++i){var n=e.intermediates.charCodeAt(i);if(32>n||n>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=n}}if(1!==e.final.length)throw new Error("final must be a single byte");var o=e.final.charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return(r<<=8)|o},r.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},r.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},r.prototype.setPrintHandler=function(e){this._printHandler=e},r.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},r.prototype.registerEscHandler=function(e,t){var r=this._identifier(e,[48,126]);void 0===this._escHandlers[r]&&(this._escHandlers[r]=[]);var i=this._escHandlers[r];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},r.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},r.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},r.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},r.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},r.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},r.prototype.registerCsiHandler=function(e,t){var r=this._identifier(e);void 0===this._csiHandlers[r]&&(this._csiHandlers[r]=[]);var i=this._csiHandlers[r];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},r.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},r.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},r.prototype.registerDcsHandler=function(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)},r.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},r.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},r.prototype.registerOscHandler=function(e,t){return this._oscParser.registerHandler(e,t)},r.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},r.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},r.prototype.setErrorHandler=function(e){this._errorHandler=e},r.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},r.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])},r.prototype._preserveStack=function(e,t,r,i,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=i,this._parseStack.chunkPos=n},r.prototype.parse=function(e,t,r){var i,n=0,o=0,s=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(void 0===r||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var a=this._parseStack.handlers,c=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===r&&c>-1)for(;c>=0&&!0!==(i=a[c](this._params));c--)if(i instanceof Promise)return this._parseStack.handlerPos=c,i;this._parseStack.handlers=[];break;case 4:if(!1===r&&c>-1)for(;c>=0&&!0!==(i=a[c]());c--)if(i instanceof Promise)return this._parseStack.handlerPos=c,i;this._parseStack.handlers=[];break;case 6:if(n=e[this._parseStack.chunkPos],i=this._dcsParser.unhook(24!==n&&26!==n,r))return i;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(n=e[this._parseStack.chunkPos],i=this._oscParser.end(24!==n&&26!==n,r))return i;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var l=s;l<t;++l){switch(n=e[l],(o=this._transitions.table[this.currentState<<8|(n<160?n:u)])>>4){case 2:for(var h=l+1;;++h){if(h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}if(++h>=t||(n=e[h])<32||n>126&&n<u){this._printHandler(e,l,h),l=h-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:l,code:n,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var f=(a=this._csiHandlers[this._collect<<8|n])?a.length-1:-1;f>=0&&!0!==(i=a[f](this._params));f--)if(i instanceof Promise)return this._preserveStack(3,a,f,o,l),i;f<0&&this._csiHandlerFb(this._collect<<8|n,this._params),this.precedingCodepoint=0;break;case 8:do{switch(n){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(n-48)}}while(++l<t&&(n=e[l])>47&&n<60);l--;break;case 9:this._collect<<=8,this._collect|=n;break;case 10:for(var _=this._escHandlers[this._collect<<8|n],d=_?_.length-1:-1;d>=0&&!0!==(i=_[d]());d--)if(i instanceof Promise)return this._preserveStack(4,_,d,o,l),i;d<0&&this._escHandlerFb(this._collect<<8|n),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|n,this._params);break;case 13:for(var p=l+1;;++p)if(p>=t||24===(n=e[p])||26===n||27===n||n>127&&n<u){this._dcsParser.put(e,l,p),l=p-1;break}break;case 14:if(i=this._dcsParser.unhook(24!==n&&26!==n))return this._preserveStack(6,[],0,o,l),i;27===n&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var v=l+1;;v++)if(v>=t||(n=e[v])<32||n>127&&n<u){this._oscParser.put(e,l,v),l=v-1;break}break;case 6:if(i=this._oscParser.end(24!==n&&26!==n))return this._preserveStack(5,[],0,o,l),i;27===n&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&o}},r}(o.Disposable);t.EscapeSequenceParser=f},6242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;var i=r(5770),n=r(482),o=[],s=function(){function e(){this._state=0,this._active=o,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return e.prototype.registerHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var r=this._handlers[e];return r.push(t),{dispose:function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=o},e.prototype.reset=function(){if(2===this._state)for(var e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=o,this._id=-1,this._state=0},e.prototype._start=function(){if(this._active=this._handlers[this._id]||o,this._active.length)for(var e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,r){if(this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r);else this._handlerFb(this._id,"PUT",(0,n.utf32ToString)(e,t,r))},e.prototype.start=function(){this.reset(),this._state=1},e.prototype.put=function(e,t,r){if(3!==this._state){if(1===this._state)for(;t<r;){var i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&r-t>0&&this._put(e,t,r)}},e.prototype.end=function(e,t){if(void 0===t&&(t=!0),0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){var r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===r){for(;i>=0&&!0!==(r=this._active[i].end(e));i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if((r=this._active[i].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._id,"END",e);this._active=o,this._id=-1,this._state=0}},e}();t.OscParser=s;var a=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,r){this._hitLimit||(this._data+=(0,n.utf32ToString)(e,t,r),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t=this,r=!1;if(this._hitLimit)r=!1;else if(e&&(r=this._handler(this._data))instanceof Promise)return r.then((function(e){return t._data="",t._hitLimit=!1,e}));return this._data="",this._hitLimit=!1,r},e}();t.OscHandler=a},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;var r=2147483647,i=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var r=new e;if(!t.length)return r;for(var i=Array.isArray(t[0])?1:0;i<t.length;++i){var n=t[i];if(Array.isArray(n))for(var o=0;o<n.length;++o)r.addSubParam(n[o]);else r.addParam(n)}return r},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&e.push(Array.prototype.slice.call(this._subParams,r,i))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>r?r:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>r?r:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,r=255&this._subParamsIdx[e];return r-t>0?this._subParams.subarray(t,r):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&(e[t]=this._subParams.slice(r,i))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,n=i[t-1];i[t-1]=~n?Math.min(10*n+e,r):e}},e}();t.Params=i},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0;var r=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var r=this,i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=function(){return r._wrappedAddonDispose(i)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=r},8771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;var i=r(3785),n=r(511),o=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new i.BufferLineApiView(t)},e.prototype.getNullCell=function(){return new n.CellData},e}();t.BufferApiView=o},3785:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;var i=r(511),n=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new i.CellData)},e.prototype.translateToString=function(e,t,r){return this._line.translateToString(e,t,r)},e}();t.BufferLineApiView=n},8285:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;var i=r(8771),n=r(8460),o=function(){function e(e){var t=this;this._core=e,this._onBufferChange=new n.EventEmitter,this._normal=new i.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new i.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),e}();t.BufferNamespaceApi=o},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0;var r=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.registerCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.registerDcsHandler(e,(function(e,r){return t(e,r.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.registerEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.registerOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}();t.ParserApi=r},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0;var r=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!1,configurable:!0}),e}();t.UnicodeApi=r},744:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;var a=r(2585),c=r(5295),l=r(8460),h=r(844);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var u=function(e){function r(r){var i=e.call(this)||this;return i._optionsService=r,i.isUserScrolling=!1,i._onResize=new l.EventEmitter,i._onScroll=new l.EventEmitter,i.cols=Math.max(r.rawOptions.cols||0,t.MINIMUM_COLS),i.rows=Math.max(r.rawOptions.rows||0,t.MINIMUM_ROWS),i.buffers=new c.BufferSet(r,i),i}return n(r,e),Object.defineProperty(r.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),r.prototype.dispose=function(){e.prototype.dispose.call(this),this.buffers.dispose()},r.prototype.resize=function(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:e,rows:t})},r.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},r.prototype.scroll=function(e,t){void 0===t&&(t=!1);var r,i=this.buffer;(r=this._cachedBlankLine)&&r.length===this.cols&&r.getFg(0)===e.fg&&r.getBg(0)===e.bg||(r=i.getBlankLine(e,t),this._cachedBlankLine=r),r.isWrapped=t;var n=i.ybase+i.scrollTop,o=i.ybase+i.scrollBottom;if(0===i.scrollTop){var s=i.lines.isFull;o===i.lines.length-1?s?i.lines.recycle().copyFrom(r):i.lines.push(r.clone()):i.lines.splice(o+1,0,r.clone()),s?this.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this.isUserScrolling||i.ydisp++)}else{var a=o-n+1;i.lines.shiftElements(n+1,a-1,-1),i.lines.set(o,r.clone())}this.isUserScrolling||(i.ydisp=i.ybase),this._onScroll.fire(i.ydisp)},r.prototype.scrollLines=function(e,t,r){var i=this.buffer;if(e<0){if(0===i.ydisp)return;this.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this.isUserScrolling=!1);var n=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),n!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))},r.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},r.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},r.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},r.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},o([s(0,a.IOptionsService)],r)}(h.Disposable);t.BufferService=u},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0;var r=function(){function e(){this.glevel=0,this._charsets=[]}return e.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this._charsets[e]},e.prototype.setgCharset=function(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=r},1753:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;var s=r(2585),a=r(8460),c={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function l(e,t){var r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(r|=64,r|=e.action):(r|=3&e.button,4&e.button&&(r|=64),8&e.button&&(r|=128),32===e.action?r|=32:0!==e.action||t||(r|=3)),r}var h=String.fromCharCode,u={DEFAULT:function(e){var t=[l(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+h(t[0])+h(t[1])+h(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"[<"+l(e,!0)+";"+e.col+";"+e.row+t}},f=function(){function e(e,t){var r,i,n,s;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new a.EventEmitter,this._lastEvent=null;try{for(var l=o(Object.keys(c)),h=l.next();!h.done;h=l.next()){var f=h.value;this.addProtocol(f,c[f])}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}try{for(var _=o(Object.keys(u)),d=_.next();!d.done;d=_.next()){var p=d.value;this.addEncoding(p,u[p])}}catch(e){n={error:e}}finally{try{d&&!d.done&&(s=_.return)&&s.call(_)}finally{if(n)throw n.error}}this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},i([n(0,s.IBufferService),n(1,s.ICoreService)],e)}();t.CoreMouseService=f},6975:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;var a=r(2585),c=r(8460),l=r(1439),h=r(844),u=Object.freeze({insertMode:!1}),f=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),_=function(e){function t(t,r,i,n){var o=e.call(this)||this;return o._bufferService=r,o._logService=i,o._optionsService=n,o.isCursorInitialized=!1,o.isCursorHidden=!1,o._onData=o.register(new c.EventEmitter),o._onUserInput=o.register(new c.EventEmitter),o._onBinary=o.register(new c.EventEmitter),o._scrollToBottom=t,o.register({dispose:function(){return o._scrollToBottom=void 0}}),o.modes=(0,l.clone)(u),o.decPrivateModes=(0,l.clone)(f),o}return n(t,e),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.modes=(0,l.clone)(u),this.decPrivateModes=(0,l.clone)(f)},t.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.rawOptions.disableStdin){var r=this._bufferService.buffer;r.ybase!==r.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},t.prototype.triggerBinaryEvent=function(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},o([s(1,a.IBufferService),s(2,a.ILogService),s(3,a.IOptionsService)],t)}(h.Disposable);t.CoreService=_},9074:function(e,t,r){var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;var a=r(8055),c=r(8460),l=r(844),h=r(6106),u=function(e){function t(){var t=e.call(this)||this;return t._decorations=new h.SortedList((function(e){return e.marker.line})),t._onDecorationRegistered=t.register(new c.EventEmitter),t._onDecorationRemoved=t.register(new c.EventEmitter),t}return n(t,e),Object.defineProperty(t.prototype,"onDecorationRegistered",{get:function(){return this._onDecorationRegistered.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDecorationRemoved",{get:function(){return this._onDecorationRemoved.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decorations",{get:function(){return this._decorations.values()},enumerable:!1,configurable:!0}),t.prototype.registerDecoration=function(e){var t=this;if(!e.marker.isDisposed){var r=new f(e);if(r){var i=r.marker.onDispose((function(){return r.dispose()}));r.onDispose((function(){r&&(t._decorations.delete(r)&&t._onDecorationRemoved.fire(r),i.dispose())})),this._decorations.insert(r),this._onDecorationRegistered.fire(r)}return r}},t.prototype.reset=function(){var e,t;try{for(var r=s(this._decorations.values()),i=r.next();!i.done;i=r.next())i.value.dispose()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._decorations.clear()},t.prototype.getDecorationsAtLine=function(e){return o(this,(function(t){return[2,this._decorations.getKeyIterator(e)]}))},t.prototype.getDecorationsAtCell=function(e,t,r){var i,n,a,c,l,h,u,f,_,d,p;return o(this,(function(o){switch(o.label){case 0:i=0,n=0,o.label=1;case 1:o.trys.push([1,6,7,8]),a=s(this._decorations.getKeyIterator(t)),c=a.next(),o.label=2;case 2:return c.done?[3,5]:(l=c.value,i=null!==(_=l.options.x)&&void 0!==_?_:0,n=i+(null!==(d=l.options.width)&&void 0!==d?d:1),!(e>=i&&e<n)||r&&(null!==(p=l.options.layer)&&void 0!==p?p:"bottom")!==r?[3,4]:[4,l]);case 3:o.sent(),o.label=4;case 4:return c=a.next(),[3,2];case 5:return[3,8];case 6:return h=o.sent(),u={error:h},[3,8];case 7:try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(u)throw u.error}return[7];case 8:return[2]}}))},t.prototype.dispose=function(){var e,t;try{for(var r=s(this._decorations.values()),i=r.next();!i.done;i=r.next()){var n=i.value;this._onDecorationRemoved.fire(n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.reset()},t}(l.Disposable);t.DecorationService=u;var f=function(e){function t(t){var r=e.call(this)||this;return r.options=t,r.isDisposed=!1,r.onRenderEmitter=r.register(new c.EventEmitter),r.onRender=r.onRenderEmitter.event,r._onDispose=r.register(new c.EventEmitter),r.onDispose=r._onDispose.event,r._cachedBg=null,r._cachedFg=null,r.marker=t.marker,r.options.overviewRulerOptions&&!r.options.overviewRulerOptions.position&&(r.options.overviewRulerOptions.position="full"),r}return n(t,e),Object.defineProperty(t.prototype,"backgroundColorRGB",{get:function(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=a.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foregroundColorRGB",{get:function(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=a.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._onDispose.fire(),e.prototype.dispose.call(this))},t}(l.Disposable)},3730:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyRowService=void 0;var o=r(2585),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var r=e;e=t,t=r}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},i([n(0,o.IBufferService)],e)}();t.DirtyRowService=s},4348:function(e,t,r){var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;var s=r(2585),a=r(8343),c=function(){function e(){for(var e,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._entries=new Map;try{for(var s=i(r),a=s.next();!a.done;a=s.next()){var c=n(a.value,2),l=c[0],h=c[1];this.set(l,h)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}}return e.prototype.set=function(e,t){var r=this._entries.get(e);return this._entries.set(e,t),r},e.prototype.forEach=function(e){this._entries.forEach((function(t,r){return e(r,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=c;var l=function(){function e(){this._services=new c,this._services.set(s.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t,r,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];var l=(0,a.getServiceDependencies)(e).sort((function(e,t){return e.index-t.index})),h=[];try{for(var u=i(l),f=u.next();!f.done;f=u.next()){var _=f.value,d=this._services.get(_.id);if(!d)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+_.id+".");h.push(d)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}var p=l.length>0?l[0].index:s.length;if(s.length!==p)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(p+1)+" conflicts with "+s.length+" static arguments");return new(e.bind.apply(e,o([void 0],n(o(o([],n(s),!1),n(h),!1)),!1)))},e}();t.InstantiationService=l},7866:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=void 0;var a=r(2585),c={debug:a.LogLevelEnum.DEBUG,info:a.LogLevelEnum.INFO,warn:a.LogLevelEnum.WARN,error:a.LogLevelEnum.ERROR,off:a.LogLevelEnum.OFF},l=function(){function e(e){var t=this;this._optionsService=e,this.logLevel=a.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this.logLevel=c[this._optionsService.rawOptions.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,r){this._evalLazyOptionalParams(r),e.call.apply(e,s([console,"xterm.js: "+t],o(r),!1))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.logLevel<=a.LogLevelEnum.ERROR&&this._log(console.error,e,t)},i([n(0,a.IOptionsService)],e)}();t.LogService=l},7302:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=t.DEFAULT_BELL_SOUND=void 0;var n=r(8460),o=r(6114);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:o.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:void 0};var s=["normal","bold","100","200","300","400","500","600","700","800","900"],a=function(){function e(e){this._onOptionChange=new n.EventEmitter;var r=i({},t.DEFAULT_OPTIONS);for(var o in e)if(o in r)try{var s=e[o];r[o]=this._sanitizeAndValidateOption(o,s)}catch(e){console.error(e)}this.rawOptions=r,this.options=i({},r),this._setupOptions()}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),e.prototype._setupOptions=function(){var e=this,r=function(r){if(!(r in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+r+'"');return e.rawOptions[r]},i=function(r,i){if(!(r in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+r+'"');i=e._sanitizeAndValidateOption(r,i),e.rawOptions[r]!==i&&(e.rawOptions[r]=i,e._onOptionChange.fire(r))};for(var n in this.rawOptions){var o={get:r.bind(this,n),set:i.bind(this,n)};Object.defineProperty(this.options,n,o)}},e.prototype.setOption=function(e,t){this.options[e]=t},e.prototype._sanitizeAndValidateOption=function(e,r){switch(e){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":r||(r=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof r&&1<=r&&r<=1e3)break;r=s.includes(r)?r:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error(e+" cannot be less than 1, value: "+r);break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+r);break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+r);case"rows":case"cols":if(!r&&0!==r)throw new Error(e+" must be numeric, value: "+r)}return r},e.prototype.getOption=function(e){return this.options[e]},e}();t.OptionsService=a},8343:(e,t)=>{function r(e,t,r){t.di$target===t?t.di$dependencies.push({id:e,index:r}):(t.di$dependencies=[{id:e,index:r}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0,t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var i=function(e,t,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(i,e,n)};return i.toString=function(){return e},t.serviceRegistry.set(e,i),i}},2585:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.IDirtyRowService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;var i,n=r(8343);t.IBufferService=(0,n.createDecorator)("BufferService"),t.ICoreMouseService=(0,n.createDecorator)("CoreMouseService"),t.ICoreService=(0,n.createDecorator)("CoreService"),t.ICharsetService=(0,n.createDecorator)("CharsetService"),t.IDirtyRowService=(0,n.createDecorator)("DirtyRowService"),t.IInstantiationService=(0,n.createDecorator)("InstantiationService"),(i=t.LogLevelEnum||(t.LogLevelEnum={}))[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=3]="ERROR",i[i.OFF=4]="OFF",t.ILogService=(0,n.createDecorator)("LogService"),t.IOptionsService=(0,n.createDecorator)("OptionsService"),t.IUnicodeService=(0,n.createDecorator)("UnicodeService"),t.IDecorationService=(0,n.createDecorator)("DecorationService")},1480:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;var i=r(8460),n=r(225),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter;var e=new n.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!1,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,r=e.length,i=0;i<r;++i){var n=e.charCodeAt(i);if(55296<=n&&n<=56319){if(++i>=r)return t+this.wcwidth(n);var o=e.charCodeAt(i);56320<=o&&o<=57343?n=1024*(n-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(n)}return t},e}();t.UnicodeService=o}},t={};return function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}(4389)})()}));
//# sourceMappingURL=xterm.js.map

/***/ }),

/***/ "./vendor/Broadway/Decoder.js":
/*!************************************!*\
  !*** ./vendor/Broadway/Decoder.js ***!
  \************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// universal module definition
(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function () {
  
  var global;
  
  function initglobal(){
    global = this;
    if (!global){
      if (typeof window != "undefined"){
        global = window;
      }else if (typeof self != "undefined"){
        global = self;
      };
    };
  };
  initglobal();
  
  
  function error(message) {
    console.error(message);
    console.trace();
  };

  
  function assert(condition, message) {
    if (!condition) {
      error(message);
    };
  };
  
  
  
  
  var getModule = function(par_broadwayOnHeadersDecoded, par_broadwayOnPictureDecoded){
    
    
    /*var ModuleX = {
      'print': function(text) { console.log('stdout: ' + text); },
      'printErr': function(text) { console.log('stderr: ' + text); }
    };*/
    
    
    /*
    
      The reason why this is all packed into one file is that this file can also function as worker.
      you can integrate the file into your build system and provide the original file to be loaded into a worker.
    
    */
    
    //var Module = (function(){
    
    
var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=(function(status,toThrow){throw toThrow});Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){if(Module["ENVIRONMENT"]==="WEB"){ENVIRONMENT_IS_WEB=true}else if(Module["ENVIRONMENT"]==="WORKER"){ENVIRONMENT_IS_WORKER=true}else if(Module["ENVIRONMENT"]==="NODE"){ENVIRONMENT_IS_NODE=true}else if(Module["ENVIRONMENT"]==="SHELL"){ENVIRONMENT_IS_SHELL=true}else{throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.")}}else{ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof null==="function"&&0&&0;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER}if(ENVIRONMENT_IS_NODE){var nodeFS;var nodePath;Module["read"]=function shell_read(filename,binary){var ret;if(!nodeFS)nodeFS=(null)("fs");if(!nodePath)nodePath=(null)("path");filename=nodePath["normalize"](filename);ret=nodeFS["readFileSync"](filename);return binary?ret:ret.toString()};Module["readBinary"]=function readBinary(filename){var ret=Module["read"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(true){module["exports"]=Module}process["on"]("uncaughtException",(function(ex){if(!(ex instanceof ExitStatus)){throw ex}}));process["on"]("unhandledRejection",(function(reason,p){process["exit"](1)}));Module["inspect"]=(function(){return"[Emscripten Module object]"})}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function shell_read(f){return read(f)}}Module["readBinary"]=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=(function(status,toThrow){quit(status)})}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){Module["read"]=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}Module["readAsync"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)};Module["setWindowTitle"]=(function(title){document.title=title})}else{throw new Error("not compiled for this environment")}Module["print"]=typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null;Module["printErr"]=typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||Module["print"];Module.print=Module["print"];Module.printErr=Module["printErr"];for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var STACK_ALIGN=16;function staticAlloc(size){assert(!staticSealed);var ret=STATICTOP;STATICTOP=STATICTOP+size+15&-16;return ret}function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;var ret=size=Math.ceil(size/factor)*factor;return ret}var asm2wasmImports={"f64-rem":(function(x,y){return x%y}),"debugger":(function(){debugger})};var functionPointers=new Array(0);var GLOBAL_BASE=1024;var ABORT=0;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function Pointer_stringify(ptr,length){if(length===0||!ptr)return"";var hasUtf=0;var t;var i=0;while(1){t=HEAPU8[ptr+i>>0];hasUtf|=t;if(t==0&&!length)break;i++;if(length&&i==length)break}if(!length)length=i;var ret="";if(hasUtf<128){var MAX_CHUNK=1024;var curr;while(length>0){curr=String.fromCharCode.apply(String,HEAPU8.subarray(ptr,ptr+Math.min(length,MAX_CHUNK)));ret=ret?ret+curr:curr;ptr+=MAX_CHUNK;length-=MAX_CHUNK}return ret}return UTF8ToString(ptr)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(u8Array,idx){var endPtr=idx;while(u8Array[endPtr])++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var u0,u1,u2,u3,u4,u5;var str="";while(1){u0=u8Array[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u3=u8Array[idx++]&63;if((u0&248)==240){u0=(u0&7)<<18|u1<<12|u2<<6|u3}else{u4=u8Array[idx++]&63;if((u0&252)==248){u0=(u0&3)<<24|u1<<18|u2<<12|u3<<6|u4}else{u5=u8Array[idx++]&63;u0=(u0&1)<<30|u1<<24|u2<<18|u3<<12|u4<<6|u5}}}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}}function UTF8ToString(ptr){return UTF8ArrayToString(HEAPU8,ptr)}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;var WASM_PAGE_SIZE=65536;var ASMJS_PAGE_SIZE=16777216;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(buf){Module["buffer"]=buffer=buf}function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880;var TOTAL_MEMORY=Module["TOTAL_MEMORY"]||52428800;if(TOTAL_MEMORY<TOTAL_STACK)Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){Module["wasmMemory"]=new WebAssembly.Memory({"initial":TOTAL_MEMORY/WASM_PAGE_SIZE,"maximum":TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=Module["wasmMemory"].buffer}else{buffer=new ArrayBuffer(TOTAL_MEMORY)}Module["buffer"]=buffer}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}HEAP32[0]=1668509029;HEAP16[1]=25459;if(HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_abs=Math.abs;var Math_cos=Math.cos;var Math_sin=Math.sin;var Math_tan=Math.tan;var Math_acos=Math.acos;var Math_asin=Math.asin;var Math_atan=Math.atan;var Math_atan2=Math.atan2;var Math_exp=Math.exp;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_imul=Math.imul;var Math_fround=Math.fround;var Math_round=Math.round;var Math_min=Math.min;var Math_max=Math.max;var Math_clz32=Math.clz32;var Math_trunc=Math.trunc;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):filename.indexOf(dataURIPrefix)===0}function integrateWasmJS(){var wasmTextFile="avc.wast";var wasmBinaryFile="avc.wasm";var asmjsCodeFile="avc.temp.asm.js";if(typeof Module["locateFile"]==="function"){if(!isDataURI(wasmTextFile)){wasmTextFile=Module["locateFile"](wasmTextFile)}if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=Module["locateFile"](wasmBinaryFile)}if(!isDataURI(asmjsCodeFile)){asmjsCodeFile=Module["locateFile"](asmjsCodeFile)}}var wasmPageSize=64*1024;var info={"global":null,"env":null,"asm2wasm":asm2wasmImports,"parent":Module};var exports=null;function mergeMemory(newBuffer){var oldBuffer=Module["buffer"];if(newBuffer.byteLength<oldBuffer.byteLength){Module["printErr"]("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here")}var oldView=new Int8Array(oldBuffer);var newView=new Int8Array(newBuffer);newView.set(oldView);updateGlobalBuffer(newBuffer);updateGlobalBufferViews()}function fixImports(imports){return imports}function getBinary(){try{if(Module["wasmBinary"]){return new Uint8Array(Module["wasmBinary"])}if(Module["readBinary"]){return Module["readBinary"](wasmBinaryFile)}else{throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}}catch(err){abort(err)}}function getBinaryPromise(){if(!Module["wasmBinary"]&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()})).catch((function(){return getBinary()}))}return new Promise((function(resolve,reject){resolve(getBinary())}))}function doNativeWasm(global,env,providedBuffer){if(typeof WebAssembly!=="object"){Module["printErr"]("no native wasm support detected");return false}if(!(Module["wasmMemory"]instanceof WebAssembly.Memory)){Module["printErr"]("no native wasm Memory in use");return false}env["memory"]=Module["wasmMemory"];info["global"]={"NaN":NaN,"Infinity":Infinity};info["global.Math"]=Math;info["env"]=env;function receiveInstance(instance,module){exports=instance.exports;if(exports.memory)mergeMemory(exports.memory);Module["asm"]=exports;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){Module["printErr"]("Module.instantiateWasm callback failed with error: "+e);return false}}function receiveInstantiatedSource(output){receiveInstance(output["instance"],output["module"])}function instantiateArrayBuffer(receiver){getBinaryPromise().then((function(binary){return WebAssembly.instantiate(binary,info)})).then(receiver).catch((function(reason){Module["printErr"]("failed to asynchronously prepare wasm: "+reason);abort(reason)}))}if(!Module["wasmBinary"]&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&typeof fetch==="function"){WebAssembly.instantiateStreaming(fetch(wasmBinaryFile,{credentials:"same-origin"}),info).then(receiveInstantiatedSource).catch((function(reason){Module["printErr"]("wasm streaming compile failed: "+reason);Module["printErr"]("falling back to ArrayBuffer instantiation");instantiateArrayBuffer(receiveInstantiatedSource)}))}else{instantiateArrayBuffer(receiveInstantiatedSource)}return{}}Module["asmPreload"]=Module["asm"];var asmjsReallocBuffer=Module["reallocBuffer"];var wasmReallocBuffer=(function(size){var PAGE_MULTIPLE=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;size=alignUp(size,PAGE_MULTIPLE);var old=Module["buffer"];var oldSize=old.byteLength;if(Module["usingWasm"]){try{var result=Module["wasmMemory"].grow((size-oldSize)/wasmPageSize);if(result!==(-1|0)){return Module["buffer"]=Module["wasmMemory"].buffer}else{return null}}catch(e){return null}}});Module["reallocBuffer"]=(function(size){if(finalMethod==="asmjs"){return asmjsReallocBuffer(size)}else{return wasmReallocBuffer(size)}});var finalMethod="";Module["asm"]=(function(global,env,providedBuffer){env=fixImports(env);if(!env["table"]){var TABLE_SIZE=Module["wasmTableSize"];if(TABLE_SIZE===undefined)TABLE_SIZE=1024;var MAX_TABLE_SIZE=Module["wasmMaxTableSize"];if(typeof WebAssembly==="object"&&typeof WebAssembly.Table==="function"){if(MAX_TABLE_SIZE!==undefined){env["table"]=new WebAssembly.Table({"initial":TABLE_SIZE,"maximum":MAX_TABLE_SIZE,"element":"anyfunc"})}else{env["table"]=new WebAssembly.Table({"initial":TABLE_SIZE,element:"anyfunc"})}}else{env["table"]=new Array(TABLE_SIZE)}Module["wasmTable"]=env["table"]}if(!env["memoryBase"]){env["memoryBase"]=Module["STATIC_BASE"]}if(!env["tableBase"]){env["tableBase"]=0}var exports;exports=doNativeWasm(global,env,providedBuffer);assert(exports,"no binaryen method succeeded.");return exports})}integrateWasmJS();STATIC_BASE=GLOBAL_BASE;STATICTOP=STATIC_BASE+9888;__ATINIT__.push();var STATIC_BUMP=9888;Module["STATIC_BASE"]=STATIC_BASE;Module["STATIC_BUMP"]=STATIC_BUMP;STATICTOP+=16;var SYSCALLS={varargs:0,get:(function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret}),getStr:(function(){var ret=Pointer_stringify(SYSCALLS.get());return ret}),get64:(function(){var low=SYSCALLS.get(),high=SYSCALLS.get();if(low>=0)assert(high===0);else assert(high===-1);return low}),getZero:(function(){assert(SYSCALLS.get()===0)})};function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get();var offset=offset_low;FS.llseek(stream,offset,whence);HEAP32[result>>2]=stream.position;if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.get(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();var ret=0;if(!___syscall146.buffers){___syscall146.buffers=[null,[],[]];___syscall146.printChar=(function(stream,curr){var buffer=___syscall146.buffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?Module["print"]:Module["printErr"])(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}})}for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){___syscall146.printChar(stream,HEAPU8[ptr+j])}ret+=len}return ret}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(which,varargs){SYSCALLS.varargs=varargs;try{return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function _broadwayOnHeadersDecoded(){par_broadwayOnHeadersDecoded()}Module["_broadwayOnHeadersDecoded"]=_broadwayOnHeadersDecoded;function _broadwayOnPictureDecoded($buffer,width,height){par_broadwayOnPictureDecoded($buffer,width,height)}Module["_broadwayOnPictureDecoded"]=_broadwayOnPictureDecoded;function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest);return dest}function ___setErrNo(value){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=value;return value}DYNAMICTOP_PTR=staticAlloc(4);STACK_BASE=STACKTOP=alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;Module["wasmTableSize"]=10;Module["wasmMaxTableSize"]=10;Module.asmGlobalArg={};Module.asmLibraryArg={"abort":abort,"enlargeMemory":enlargeMemory,"getTotalMemory":getTotalMemory,"abortOnCannotGrowMemory":abortOnCannotGrowMemory,"___setErrNo":___setErrNo,"___syscall140":___syscall140,"___syscall146":___syscall146,"___syscall54":___syscall54,"___syscall6":___syscall6,"_broadwayOnHeadersDecoded":_broadwayOnHeadersDecoded,"_broadwayOnPictureDecoded":_broadwayOnPictureDecoded,"_emscripten_memcpy_big":_emscripten_memcpy_big,"DYNAMICTOP_PTR":DYNAMICTOP_PTR,"STACKTOP":STACKTOP};var asm=Module["asm"](Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module["asm"]=asm;var _broadwayCreateStream=Module["_broadwayCreateStream"]=(function(){return Module["asm"]["_broadwayCreateStream"].apply(null,arguments)});var _broadwayExit=Module["_broadwayExit"]=(function(){return Module["asm"]["_broadwayExit"].apply(null,arguments)});var _broadwayGetMajorVersion=Module["_broadwayGetMajorVersion"]=(function(){return Module["asm"]["_broadwayGetMajorVersion"].apply(null,arguments)});var _broadwayGetMinorVersion=Module["_broadwayGetMinorVersion"]=(function(){return Module["asm"]["_broadwayGetMinorVersion"].apply(null,arguments)});var _broadwayInit=Module["_broadwayInit"]=(function(){return Module["asm"]["_broadwayInit"].apply(null,arguments)});var _broadwayPlayStream=Module["_broadwayPlayStream"]=(function(){return Module["asm"]["_broadwayPlayStream"].apply(null,arguments)});Module["asm"]=asm;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function runCaller(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=runCaller};function run(args){args=args||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function doRun(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){Module["setStatus"]("")}),1);doRun()}),1)}else{doRun()}}Module["run"]=run;function exit(status,implicit){if(implicit&&Module["noExitRuntime"]&&status===0){return}if(Module["noExitRuntime"]){}else{ABORT=true;EXITSTATUS=status;STACKTOP=initialStackTop;exitRuntime();if(Module["onExit"])Module["onExit"](status)}if(ENVIRONMENT_IS_NODE){process["exit"](status)}Module["quit"](status,new ExitStatus(status))}Module["exit"]=exit;function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}if(what!==undefined){Module.print(what);Module.printErr(what);what=JSON.stringify(what)}else{what=""}ABORT=true;EXITSTATUS=1;throw"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}Module["noExitRuntime"]=true;run()



    //   return Module;
    //})();
    
    var resultModule;
    if (typeof global !== "undefined"){
      if (global.Module){
        resultModule = global.Module;
      };
    };
    if (typeof Module != "undefined"){
      resultModule = Module;
    };

    resultModule._broadwayOnHeadersDecoded = par_broadwayOnHeadersDecoded;
    resultModule._broadwayOnPictureDecoded = par_broadwayOnPictureDecoded;
    
    var moduleIsReady = false;
    var cbFun;
    var moduleReady = function(){
      moduleIsReady = true;
      if (cbFun){
        cbFun(resultModule);
      }
    };
    
    resultModule.onRuntimeInitialized = function(){
      moduleReady(resultModule);
    };
    return function(callback){
      if (moduleIsReady){
        callback(resultModule);
      }else{
        cbFun = callback;
      };
    };
  };

  return (function(){
    "use strict";
  
  
  var nowValue = function(){
    return (new Date()).getTime();
  };
  
  if (typeof performance != "undefined"){
    if (performance.now){
      nowValue = function(){
        return performance.now();
      };
    };
  };
  
  
  var Decoder = function(parOptions){
    this.options = parOptions || {};
    
    this.now = nowValue;
    
    var asmInstance;
    
    var fakeWindow = {
    };
    
    var toU8Array;
    var toU32Array;
    
    var onPicFun = function ($buffer, width, height) {
      var buffer = this.pictureBuffers[$buffer];
      if (!buffer) {
        buffer = this.pictureBuffers[$buffer] = toU8Array($buffer, (width * height * 3) / 2);
      };
      
      var infos;
      var doInfo = false;
      if (this.infoAr.length){
        doInfo = true;
        infos = this.infoAr;
      };
      this.infoAr = [];
      
      if (this.options.rgb){
        if (!asmInstance){
          asmInstance = getAsm(width, height);
        };
        asmInstance.inp.set(buffer);
        asmInstance.doit();

        var copyU8 = new Uint8Array(asmInstance.outSize);
        copyU8.set( asmInstance.out );
        
        if (doInfo){
          infos[0].finishDecoding = nowValue();
        };
        
        this.onPictureDecoded(copyU8, width, height, infos);
        return;
        
      };
      
      if (doInfo){
        infos[0].finishDecoding = nowValue();
      };
      this.onPictureDecoded(buffer, width, height, infos);
    }.bind(this);
    
    var ignore = false;
    
    if (this.options.sliceMode){
      onPicFun = function ($buffer, width, height, $sliceInfo) {
        if (ignore){
          return;
        };
        var buffer = this.pictureBuffers[$buffer];
        if (!buffer) {
          buffer = this.pictureBuffers[$buffer] = toU8Array($buffer, (width * height * 3) / 2);
        };
        var sliceInfo = this.pictureBuffers[$sliceInfo];
        if (!sliceInfo) {
          sliceInfo = this.pictureBuffers[$sliceInfo] = toU32Array($sliceInfo, 18);
        };

        var infos;
        var doInfo = false;
        if (this.infoAr.length){
          doInfo = true;
          infos = this.infoAr;
        };
        this.infoAr = [];

        /*if (this.options.rgb){
        
        no rgb in slice mode

        };*/

        infos[0].finishDecoding = nowValue();
        var sliceInfoAr = [];
        for (var i = 0; i < 20; ++i){
          sliceInfoAr.push(sliceInfo[i]);
        };
        infos[0].sliceInfoAr = sliceInfoAr;

        this.onPictureDecoded(buffer, width, height, infos);
      }.bind(this);
    };
    
    var ModuleCallback = getModule.apply(fakeWindow, [function () {
    }, onPicFun]);
    

    var MAX_STREAM_BUFFER_LENGTH = 1024 * 1024;
    
    var instance = this;
    this.onPictureDecoded = function (buffer, width, height, infos) {

    };
    
    this.onDecoderReady = function(){};
    
    var bufferedCalls = [];
    this.decode = function decode(typedAr, parInfo, copyDoneFun) {
      bufferedCalls.push([typedAr, parInfo, copyDoneFun]);
    };
    
    ModuleCallback(function(Module){
      var HEAP8 = Module.HEAP8;
      var HEAPU8 = Module.HEAPU8;
      var HEAP16 = Module.HEAP16;
      var HEAP32 = Module.HEAP32;
      // from old constructor
      Module._broadwayInit();
      
      /**
     * Creates a typed array from a HEAP8 pointer. 
     */
      toU8Array = function(ptr, length) {
        return HEAPU8.subarray(ptr, ptr + length);
      };
      toU32Array = function(ptr, length) {
        //var tmp = HEAPU8.subarray(ptr, ptr + (length * 4));
        return new Uint32Array(HEAPU8.buffer, ptr, length);
      };
      instance.streamBuffer = toU8Array(Module._broadwayCreateStream(MAX_STREAM_BUFFER_LENGTH), MAX_STREAM_BUFFER_LENGTH);
      instance.pictureBuffers = {};
      // collect extra infos that are provided with the nal units
      instance.infoAr = [];

      /**
     * Decodes a stream buffer. This may be one single (unframed) NAL unit without the
     * start code, or a sequence of NAL units with framing start code prefixes. This
     * function overwrites stream buffer allocated by the codec with the supplied buffer.
     */

      var sliceNum = 0;
      if (instance.options.sliceMode){
        sliceNum = instance.options.sliceNum;

        instance.decode = function decode(typedAr, parInfo, copyDoneFun) {
          instance.infoAr.push(parInfo);
          parInfo.startDecoding = nowValue();
          var nals = parInfo.nals;
          var i;
          if (!nals){
            nals = [];
            parInfo.nals = nals;
            var l = typedAr.length;
            var foundSomething = false;
            var lastFound = 0;
            var lastStart = 0;
            for (i = 0; i < l; ++i){
              if (typedAr[i] === 1){
                if (
                  typedAr[i - 1] === 0 &&
                  typedAr[i - 2] === 0
                ){
                  var startPos = i - 2;
                  if (typedAr[i - 3] === 0){
                    startPos = i - 3;
                  };
                  // its a nal;
                  if (foundSomething){
                    nals.push({
                      offset: lastFound,
                      end: startPos,
                      type: typedAr[lastStart] & 31
                    });
                  };
                  lastFound = startPos;
                  lastStart = startPos + 3;
                  if (typedAr[i - 3] === 0){
                    lastStart = startPos + 4;
                  };
                  foundSomething = true;
                };
              };
            };
            if (foundSomething){
              nals.push({
                offset: lastFound,
                end: i,
                type: typedAr[lastStart] & 31
              });
            };
          };

          var currentSlice = 0;
          var playAr;
          var offset = 0;
          for (i = 0; i < nals.length; ++i){
            if (nals[i].type === 1 || nals[i].type === 5){
              if (currentSlice === sliceNum){
                playAr = typedAr.subarray(nals[i].offset, nals[i].end);
                instance.streamBuffer[offset] = 0;
                offset += 1;
                instance.streamBuffer.set(playAr, offset);
                offset += playAr.length;
              };
              currentSlice += 1;
            }else{
              playAr = typedAr.subarray(nals[i].offset, nals[i].end);
              instance.streamBuffer[offset] = 0;
              offset += 1;
              instance.streamBuffer.set(playAr, offset);
              offset += playAr.length;
              Module._broadwayPlayStream(offset);
              offset = 0;
            };
          };
          copyDoneFun();
          Module._broadwayPlayStream(offset);
        };

      }else{
        instance.decode = function decode(typedAr, parInfo) {
          // console.info("Decoding: " + buffer.length);
          // collect infos
          if (parInfo){
            instance.infoAr.push(parInfo);
            parInfo.startDecoding = nowValue();
          };

          instance.streamBuffer.set(typedAr);
          Module._broadwayPlayStream(typedAr.length);
        };
      };
      
      if (bufferedCalls.length){
        var bi = 0;
        for (bi = 0; bi < bufferedCalls.length; ++bi){
          instance.decode(bufferedCalls[bi][0], bufferedCalls[bi][1], bufferedCalls[bi][2]);
        };
        bufferedCalls = [];
      };
      
      instance.onDecoderReady(instance);

    });
  

  };

  
  Decoder.prototype = {
    
  };
  
  
  
  
  /*
  
    asm.js implementation of a yuv to rgb convertor
    provided by @soliton4
    
    based on 
    http://www.wordsaretoys.com/2013/10/18/making-yuv-conversion-a-little-faster/
  
  */
  
  
  // factory to create asm.js yuv -> rgb convertor for a given resolution
  var asmInstances = {};
  var getAsm = function(parWidth, parHeight){
    var idStr = "" + parWidth + "x" + parHeight;
    if (asmInstances[idStr]){
      return asmInstances[idStr];
    };

    var lumaSize = parWidth * parHeight;
    var chromaSize = (lumaSize|0) >> 2;

    var inpSize = lumaSize + chromaSize + chromaSize;
    var outSize = parWidth * parHeight * 4;
    var cacheSize = Math.pow(2, 24) * 4;
    var size = inpSize + outSize + cacheSize;

    var chunkSize = Math.pow(2, 24);
    var heapSize = chunkSize;
    while (heapSize < size){
      heapSize += chunkSize;
    };
    var heap = new ArrayBuffer(heapSize);

    var res = asmFactory(global, {}, heap);
    res.init(parWidth, parHeight);
    asmInstances[idStr] = res;

    res.heap = heap;
    res.out = new Uint8Array(heap, 0, outSize);
    res.inp = new Uint8Array(heap, outSize, inpSize);
    res.outSize = outSize;

    return res;
  };


  function asmFactory(stdlib, foreign, heap) {
    "use asm";

    var imul = stdlib.Math.imul;
    var min = stdlib.Math.min;
    var max = stdlib.Math.max;
    var pow = stdlib.Math.pow;
    var out = new stdlib.Uint8Array(heap);
    var out32 = new stdlib.Uint32Array(heap);
    var inp = new stdlib.Uint8Array(heap);
    var mem = new stdlib.Uint8Array(heap);
    var mem32 = new stdlib.Uint32Array(heap);

    // for double algo
    /*var vt = 1.370705;
    var gt = 0.698001;
    var gt2 = 0.337633;
    var bt = 1.732446;*/

    var width = 0;
    var height = 0;
    var lumaSize = 0;
    var chromaSize = 0;
    var inpSize = 0;
    var outSize = 0;

    var inpStart = 0;
    var outStart = 0;

    var widthFour = 0;

    var cacheStart = 0;


    function init(parWidth, parHeight){
      parWidth = parWidth|0;
      parHeight = parHeight|0;

      var i = 0;
      var s = 0;

      width = parWidth;
      widthFour = imul(parWidth, 4)|0;
      height = parHeight;
      lumaSize = imul(width|0, height|0)|0;
      chromaSize = (lumaSize|0) >> 2;
      outSize = imul(imul(width, height)|0, 4)|0;
      inpSize = ((lumaSize + chromaSize)|0 + chromaSize)|0;

      outStart = 0;
      inpStart = (outStart + outSize)|0;
      cacheStart = (inpStart + inpSize)|0;

      // initializing memory (to be on the safe side)
      s = ~~(+pow(+2, +24));
      s = imul(s, 4)|0;

      for (i = 0|0; ((i|0) < (s|0))|0; i = (i + 4)|0){
        mem32[((cacheStart + i)|0) >> 2] = 0;
      };
    };

    function doit(){
      var ystart = 0;
      var ustart = 0;
      var vstart = 0;

      var y = 0;
      var yn = 0;
      var u = 0;
      var v = 0;

      var o = 0;

      var line = 0;
      var col = 0;

      var usave = 0;
      var vsave = 0;

      var ostart = 0;
      var cacheAdr = 0;

      ostart = outStart|0;

      ystart = inpStart|0;
      ustart = (ystart + lumaSize|0)|0;
      vstart = (ustart + chromaSize)|0;

      for (line = 0; (line|0) < (height|0); line = (line + 2)|0){
        usave = ustart;
        vsave = vstart;
        for (col = 0; (col|0) < (width|0); col = (col + 2)|0){
          y = inp[ystart >> 0]|0;
          yn = inp[((ystart + width)|0) >> 0]|0;

          u = inp[ustart >> 0]|0;
          v = inp[vstart >> 0]|0;

          cacheAdr = (((((y << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(y,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[ostart >> 2] = o;

          cacheAdr = (((((yn << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(yn,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[((ostart + widthFour)|0) >> 2] = o;

          //yuv2rgb5(y, u, v, ostart);
          //yuv2rgb5(yn, u, v, (ostart + widthFour)|0);
          ostart = (ostart + 4)|0;

          // next step only for y. u and v stay the same
          ystart = (ystart + 1)|0;
          y = inp[ystart >> 0]|0;
          yn = inp[((ystart + width)|0) >> 0]|0;

          //yuv2rgb5(y, u, v, ostart);
          cacheAdr = (((((y << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(y,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[ostart >> 2] = o;

          //yuv2rgb5(yn, u, v, (ostart + widthFour)|0);
          cacheAdr = (((((yn << 16)|0) + ((u << 8)|0))|0) + v)|0;
          o = mem32[((cacheStart + cacheAdr)|0) >> 2]|0;
          if (o){}else{
            o = yuv2rgbcalc(yn,u,v)|0;
            mem32[((cacheStart + cacheAdr)|0) >> 2] = o|0;
          };
          mem32[((ostart + widthFour)|0) >> 2] = o;
          ostart = (ostart + 4)|0;

          //all positions inc 1

          ystart = (ystart + 1)|0;
          ustart = (ustart + 1)|0;
          vstart = (vstart + 1)|0;
        };
        ostart = (ostart + widthFour)|0;
        ystart = (ystart + width)|0;

      };

    };

    function yuv2rgbcalc(y, u, v){
      y = y|0;
      u = u|0;
      v = v|0;

      var r = 0;
      var g = 0;
      var b = 0;

      var o = 0;

      var a0 = 0;
      var a1 = 0;
      var a2 = 0;
      var a3 = 0;
      var a4 = 0;

      a0 = imul(1192, (y - 16)|0)|0;
      a1 = imul(1634, (v - 128)|0)|0;
      a2 = imul(832, (v - 128)|0)|0;
      a3 = imul(400, (u - 128)|0)|0;
      a4 = imul(2066, (u - 128)|0)|0;

      r = (((a0 + a1)|0) >> 10)|0;
      g = (((((a0 - a2)|0) - a3)|0) >> 10)|0;
      b = (((a0 + a4)|0) >> 10)|0;

      if ((((r & 255)|0) != (r|0))|0){
        r = min(255, max(0, r|0)|0)|0;
      };
      if ((((g & 255)|0) != (g|0))|0){
        g = min(255, max(0, g|0)|0)|0;
      };
      if ((((b & 255)|0) != (b|0))|0){
        b = min(255, max(0, b|0)|0)|0;
      };

      o = 255;
      o = (o << 8)|0;
      o = (o + b)|0;
      o = (o << 8)|0;
      o = (o + g)|0;
      o = (o << 8)|0;
      o = (o + r)|0;

      return o|0;

    };



    return {
      init: init,
      doit: doit
    };
  };

  
  /*
    potential worker initialization
  
  */
  
  
  if (typeof self != "undefined"){
    var isWorker = false;
    var decoder;
    var reuseMemory = false;
    var sliceMode = false;
    var sliceNum = 0;
    var sliceCnt = 0;
    var lastSliceNum = 0;
    var sliceInfoAr;
    var lastBuf;
    var awaiting = 0;
    var pile = [];
    var startDecoding;
    var finishDecoding;
    var timeDecoding;
    
    var memAr = [];
    var getMem = function(length){
      if (memAr.length){
        var u = memAr.shift();
        while (u && u.byteLength !== length){
          u = memAr.shift();
        };
        if (u){
          return u;
        };
      };
      return new ArrayBuffer(length);
    }; 
    
    var copySlice = function(source, target, infoAr, width, height){
      
      var length = width * height;
      var length4 = length / 4
      var plane2 = length;
      var plane3 = length + length4;
      
      var copy16 = function(parBegin, parEnd){
        var i = 0;
        for (i = 0; i < 16; ++i){
          var begin = parBegin + (width * i);
          var end = parEnd + (width * i)
          target.set(source.subarray(begin, end), begin);
        };
      };
      var copy8 = function(parBegin, parEnd){
        var i = 0;
        for (i = 0; i < 8; ++i){
          var begin = parBegin + ((width / 2) * i);
          var end = parEnd + ((width / 2) * i)
          target.set(source.subarray(begin, end), begin);
        };
      };
      var copyChunk = function(begin, end){
        target.set(source.subarray(begin, end), begin);
      };
      
      var begin = infoAr[0];
      var end = infoAr[1];
      if (end > 0){
        copy16(begin, end);
        copy8(infoAr[2], infoAr[3]);
        copy8(infoAr[4], infoAr[5]);
      };
      begin = infoAr[6];
      end = infoAr[7];
      if (end > 0){
        copy16(begin, end);
        copy8(infoAr[8], infoAr[9]);
        copy8(infoAr[10], infoAr[11]);
      };
      
      begin = infoAr[12];
      end = infoAr[15];
      if (end > 0){
        copyChunk(begin, end);
        copyChunk(infoAr[13], infoAr[16]);
        copyChunk(infoAr[14], infoAr[17]);
      };
      
    };
    
    var sliceMsgFun = function(){};
    
    var setSliceCnt = function(parSliceCnt){
      sliceCnt = parSliceCnt;
      lastSliceNum = sliceCnt - 1;
    };
    
    
    self.addEventListener('message', function(e) {
      
      if (isWorker){
        if (reuseMemory){
          if (e.data.reuse){
            memAr.push(e.data.reuse);
          };
        };
        if (e.data.buf){
          if (sliceMode && awaiting !== 0){
            pile.push(e.data);
          }else{
            decoder.decode(
              new Uint8Array(e.data.buf, e.data.offset || 0, e.data.length), 
              e.data.info, 
              function(){
                if (sliceMode && sliceNum !== lastSliceNum){
                  postMessage(e.data, [e.data.buf]);
                };
              }
            );
          };
          return;
        };
        
        if (e.data.slice){
          // update ref pic
          var copyStart = nowValue();
          copySlice(new Uint8Array(e.data.slice), lastBuf, e.data.infos[0].sliceInfoAr, e.data.width, e.data.height);
          // is it the one? then we need to update it
          if (e.data.theOne){
            copySlice(lastBuf, new Uint8Array(e.data.slice), sliceInfoAr, e.data.width, e.data.height);
            if (timeDecoding > e.data.infos[0].timeDecoding){
              e.data.infos[0].timeDecoding = timeDecoding;
            };
            e.data.infos[0].timeCopy += (nowValue() - copyStart);
          };
          // move on
          postMessage(e.data, [e.data.slice]);
          
          // next frame in the pipe?
          awaiting -= 1;
          if (awaiting === 0 && pile.length){
            var data = pile.shift();
            decoder.decode(
              new Uint8Array(data.buf, data.offset || 0, data.length), 
              data.info, 
              function(){
                if (sliceMode && sliceNum !== lastSliceNum){
                  postMessage(data, [data.buf]);
                };
              }
            );
          };
          return;
        };
        
        if (e.data.setSliceCnt){
          setSliceCnt(e.data.sliceCnt);
          return;
        };
        
      }else{
        if (e.data && e.data.type === "Broadway.js - Worker init"){
          isWorker = true;
          decoder = new Decoder(e.data.options);
          
          if (e.data.options.sliceMode){
            reuseMemory = true;
            sliceMode = true;
            sliceNum = e.data.options.sliceNum;
            setSliceCnt(e.data.options.sliceCnt);

            decoder.onPictureDecoded = function (buffer, width, height, infos) {
              
              // buffer needs to be copied because we give up ownership
              var copyU8 = new Uint8Array(getMem(buffer.length));
              copySlice(buffer, copyU8, infos[0].sliceInfoAr, width, height);
              
              startDecoding = infos[0].startDecoding;
              finishDecoding = infos[0].finishDecoding;
              timeDecoding = finishDecoding - startDecoding;
              infos[0].timeDecoding = timeDecoding;
              infos[0].timeCopy = 0;
              
              postMessage({
                slice: copyU8.buffer,
                sliceNum: sliceNum,
                width: width, 
                height: height, 
                infos: infos
              }, [copyU8.buffer]); // 2nd parameter is used to indicate transfer of ownership
              
              awaiting = sliceCnt - 1;
              
              lastBuf = buffer;
              sliceInfoAr = infos[0].sliceInfoAr;

            };
            
          }else if (e.data.options.reuseMemory){
            reuseMemory = true;
            decoder.onPictureDecoded = function (buffer, width, height, infos) {
              
              // buffer needs to be copied because we give up ownership
              var copyU8 = new Uint8Array(getMem(buffer.length));
              copyU8.set( buffer, 0, buffer.length );

              postMessage({
                buf: copyU8.buffer, 
                length: buffer.length,
                width: width, 
                height: height, 
                infos: infos
              }, [copyU8.buffer]); // 2nd parameter is used to indicate transfer of ownership

            };
            
          }else{
            decoder.onPictureDecoded = function (buffer, width, height, infos) {
              if (buffer) {
                buffer = new Uint8Array(buffer);
              };

              // buffer needs to be copied because we give up ownership
              var copyU8 = new Uint8Array(buffer.length);
              copyU8.set( buffer, 0, buffer.length );

              postMessage({
                buf: copyU8.buffer, 
                length: buffer.length,
                width: width, 
                height: height, 
                infos: infos
              }, [copyU8.buffer]); // 2nd parameter is used to indicate transfer of ownership

            };
          };
          postMessage({ consoleLog: "broadway worker initialized" });
        };
      };


    }, false);
  };
  
  Decoder.nowValue = nowValue;
  
  return Decoder;
  
  })();
  
  
}));



/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = fs;

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.mjs":
/*!******************************************!*\
  !*** ./node_modules/tslib/tslib.es6.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __addDisposableResource: () => (/* binding */ __addDisposableResource),
/* harmony export */   __assign: () => (/* binding */ __assign),
/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),
/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),
/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),
/* harmony export */   __await: () => (/* binding */ __await),
/* harmony export */   __awaiter: () => (/* binding */ __awaiter),
/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   __classPrivateFieldIn: () => (/* binding */ __classPrivateFieldIn),
/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),
/* harmony export */   __createBinding: () => (/* binding */ __createBinding),
/* harmony export */   __decorate: () => (/* binding */ __decorate),
/* harmony export */   __disposeResources: () => (/* binding */ __disposeResources),
/* harmony export */   __esDecorate: () => (/* binding */ __esDecorate),
/* harmony export */   __exportStar: () => (/* binding */ __exportStar),
/* harmony export */   __extends: () => (/* binding */ __extends),
/* harmony export */   __generator: () => (/* binding */ __generator),
/* harmony export */   __importDefault: () => (/* binding */ __importDefault),
/* harmony export */   __importStar: () => (/* binding */ __importStar),
/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),
/* harmony export */   __metadata: () => (/* binding */ __metadata),
/* harmony export */   __param: () => (/* binding */ __param),
/* harmony export */   __propKey: () => (/* binding */ __propKey),
/* harmony export */   __read: () => (/* binding */ __read),
/* harmony export */   __rest: () => (/* binding */ __rest),
/* harmony export */   __runInitializers: () => (/* binding */ __runInitializers),
/* harmony export */   __setFunctionName: () => (/* binding */ __setFunctionName),
/* harmony export */   __spread: () => (/* binding */ __spread),
/* harmony export */   __spreadArray: () => (/* binding */ __spreadArray),
/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),
/* harmony export */   __values: () => (/* binding */ __values),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol */

var extendStatics = function(d, b) {
  extendStatics = Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
  return extendStatics(d, b);
};

function __extends(d, b) {
  if (typeof b !== "function" && b !== null)
      throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
  extendStatics(d, b);
  function __() { this.constructor = d; }
  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
  __assign = Object.assign || function __assign(t) {
      for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
      return t;
  }
  return __assign.apply(this, arguments);
}

function __rest(s, e) {
  var t = {};
  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
      t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
              t[p[i]] = s[p[i]];
      }
  return t;
}

function __decorate(decorators, target, key, desc) {
  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
  return function (target, key) { decorator(target, key, paramIndex); }
}

function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {
  function accept(f) { if (f !== void 0 && typeof f !== "function") throw new TypeError("Function expected"); return f; }
  var kind = contextIn.kind, key = kind === "getter" ? "get" : kind === "setter" ? "set" : "value";
  var target = !descriptorIn && ctor ? contextIn["static"] ? ctor : ctor.prototype : null;
  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});
  var _, done = false;
  for (var i = decorators.length - 1; i >= 0; i--) {
      var context = {};
      for (var p in contextIn) context[p] = p === "access" ? {} : contextIn[p];
      for (var p in contextIn.access) context.access[p] = contextIn.access[p];
      context.addInitializer = function (f) { if (done) throw new TypeError("Cannot add initializers after decoration has completed"); extraInitializers.push(accept(f || null)); };
      var result = (0, decorators[i])(kind === "accessor" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);
      if (kind === "accessor") {
          if (result === void 0) continue;
          if (result === null || typeof result !== "object") throw new TypeError("Object expected");
          if (_ = accept(result.get)) descriptor.get = _;
          if (_ = accept(result.set)) descriptor.set = _;
          if (_ = accept(result.init)) initializers.unshift(_);
      }
      else if (_ = accept(result)) {
          if (kind === "field") initializers.unshift(_);
          else descriptor[key] = _;
      }
  }
  if (target) Object.defineProperty(target, contextIn.name, descriptor);
  done = true;
};

function __runInitializers(thisArg, initializers, value) {
  var useValue = arguments.length > 2;
  for (var i = 0; i < initializers.length; i++) {
      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);
  }
  return useValue ? value : void 0;
};

function __propKey(x) {
  return typeof x === "symbol" ? x : "".concat(x);
};

function __setFunctionName(f, name, prefix) {
  if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
  return Object.defineProperty(f, "name", { configurable: true, value: prefix ? "".concat(prefix, " ", name) : name });
};

function __metadata(metadataKey, metadataValue) {
  if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
  return new (P || (P = Promise))(function (resolve, reject) {
      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
      function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}

function __generator(thisArg, body) {
  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
  function verb(n) { return function (v) { return step([n, v]); }; }
  function step(op) {
      if (f) throw new TypeError("Generator is already executing.");
      while (g && (g = 0, op[0] && (_ = 0)), _) try {
          if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          if (y = 0, t) op = [op[0] & 2, t.value];
          switch (op[0]) {
              case 0: case 1: t = op; break;
              case 4: _.label++; return { value: op[1], done: false };
              case 5: _.label++; y = op[1]; op = [0]; continue;
              case 7: op = _.ops.pop(); _.trys.pop(); continue;
              default:
                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                  if (t[2]) _.ops.pop();
                  _.trys.pop(); continue;
          }
          op = body.call(thisArg, _);
      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
  }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  var desc = Object.getOwnPropertyDescriptor(m, k);
  if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
  }
  Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
  if (k2 === undefined) k2 = k;
  o[k2] = m[k];
});

function __exportStar(m, o) {
  for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
  var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
      next: function () {
          if (o && i >= o.length) o = void 0;
          return { value: o && o[i++], done: !o };
      }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o), r, ar = [], e;
  try {
      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
  }
  catch (error) { e = { error: error }; }
  finally {
      try {
          if (r && !r.done && (m = i["return"])) m.call(i);
      }
      finally { if (e) throw e.error; }
  }
  return ar;
}

/** @deprecated */
function __spread() {
  for (var ar = [], i = 0; i < arguments.length; i++)
      ar = ar.concat(__read(arguments[i]));
  return ar;
}

/** @deprecated */
function __spreadArrays() {
  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
  for (var r = Array(s), k = 0, i = 0; i < il; i++)
      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
          r[k] = a[j];
  return r;
}

function __spreadArray(to, from, pack) {
  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
      if (ar || !(i in from)) {
          if (!ar) ar = Array.prototype.slice.call(from, 0, i);
          ar[i] = from[i];
      }
  }
  return to.concat(ar || Array.prototype.slice.call(from));
}

function __await(v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
  function fulfill(value) { resume("next", value); }
  function reject(value) { resume("throw", value); }
  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
  var i, p;
  return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
  if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
  var m = o[Symbol.asyncIterator], i;
  return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
  if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
  return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
  Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
  o["default"] = v;
};

function __importStar(mod) {
  if (mod && mod.__esModule) return mod;
  var result = {};
  if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
  __setModuleDefault(result, mod);
  return result;
}

function __importDefault(mod) {
  return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
  if (kind === "m") throw new TypeError("Private method is not writable");
  if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
  return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}

function __classPrivateFieldIn(state, receiver) {
  if (receiver === null || (typeof receiver !== "object" && typeof receiver !== "function")) throw new TypeError("Cannot use 'in' operator on non-object");
  return typeof state === "function" ? receiver === state : state.has(receiver);
}

function __addDisposableResource(env, value, async) {
  if (value !== null && value !== void 0) {
    if (typeof value !== "object" && typeof value !== "function") throw new TypeError("Object expected.");
    var dispose;
    if (async) {
        if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined.");
        dispose = value[Symbol.asyncDispose];
    }
    if (dispose === void 0) {
        if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined.");
        dispose = value[Symbol.dispose];
    }
    if (typeof dispose !== "function") throw new TypeError("Object not disposable.");
    env.stack.push({ value: value, dispose: dispose, async: async });
  }
  else if (async) {
    env.stack.push({ async: true });
  }
  return value;
}

var _SuppressedError = typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
  var e = new Error(message);
  return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

function __disposeResources(env) {
  function fail(e) {
    env.error = env.hasError ? new _SuppressedError(e, env.error, "An error was suppressed during disposal.") : e;
    env.hasError = true;
  }
  function next() {
    while (env.stack.length) {
      var rec = env.stack.pop();
      try {
        var result = rec.dispose && rec.dispose.call(rec.value);
        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });
      }
      catch (e) {
          fail(e);
      }
    }
    if (env.hasError) throw env.error;
  }
  return next();
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  __extends,
  __assign,
  __rest,
  __decorate,
  __param,
  __metadata,
  __awaiter,
  __generator,
  __createBinding,
  __exportStar,
  __values,
  __read,
  __spread,
  __spreadArrays,
  __spreadArray,
  __await,
  __asyncGenerator,
  __asyncDelegator,
  __asyncValues,
  __makeTemplateObject,
  __importStar,
  __importDefault,
  __classPrivateFieldGet,
  __classPrivateFieldSet,
  __classPrivateFieldIn,
  __addDisposableResource,
  __disposeResources,
});


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
__webpack_require__(/*! ../style/app.css */ "./src/style/app.css");
var StreamClientScrcpy_1 = __webpack_require__(/*! ./googDevice/client/StreamClientScrcpy */ "./src/app/googDevice/client/StreamClientScrcpy.ts");
var HostTracker_1 = __webpack_require__(/*! ./client/HostTracker */ "./src/app/client/HostTracker.ts");
window.onload = function () {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var hash, parsedQuery, action, number, BroadwayPlayer, MsePlayer, TinyH264Player, WebCodecsPlayer, tools, ShellClient, DevtoolsClient, FileListingClient, DeviceTracker_1;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    hash = location.hash.replace(/^#!/, '');
                    parsedQuery = new URLSearchParams(hash);
                    action = parsedQuery.get('action');
                    number = parsedQuery.get('number');
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/BroadwayPlayer */ "./src/app/player/BroadwayPlayer.ts")); })];
                case 1:
                    BroadwayPlayer = (_a.sent()).BroadwayPlayer;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(BroadwayPlayer);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/MsePlayer */ "./src/app/player/MsePlayer.ts")); })];
                case 2:
                    MsePlayer = (_a.sent()).MsePlayer;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(MsePlayer);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/TinyH264Player */ "./src/app/player/TinyH264Player.ts")); })];
                case 3:
                    TinyH264Player = (_a.sent()).TinyH264Player;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(TinyH264Player);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./player/WebCodecsPlayer */ "./src/app/player/WebCodecsPlayer.ts")); })];
                case 4:
                    WebCodecsPlayer = (_a.sent()).WebCodecsPlayer;
                    StreamClientScrcpy_1.StreamClientScrcpy.registerPlayer(WebCodecsPlayer);
                    if (action === StreamClientScrcpy_1.StreamClientScrcpy.ACTION && typeof parsedQuery.get('udid') === 'string') {
                        document.title = "".concat(number, " [").concat(parsedQuery.get('udid'), "]");
                        StreamClientScrcpy_1.StreamClientScrcpy.start(parsedQuery);
                        return [2];
                    }
                    tools = [];
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/ShellClient */ "./src/app/googDevice/client/ShellClient.ts")); })];
                case 5:
                    ShellClient = (_a.sent()).ShellClient;
                    if (action === ShellClient.ACTION && typeof parsedQuery.get('udid') === 'string') {
                        ShellClient.start(ShellClient.parseParameters(parsedQuery));
                        return [2];
                    }
                    tools.push(ShellClient);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/DevtoolsClient */ "./src/app/googDevice/client/DevtoolsClient.ts")); })];
                case 6:
                    DevtoolsClient = (_a.sent()).DevtoolsClient;
                    if (action === DevtoolsClient.ACTION) {
                        DevtoolsClient.start(DevtoolsClient.parseParameters(parsedQuery));
                        return [2];
                    }
                    tools.push(DevtoolsClient);
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/FileListingClient */ "./src/app/googDevice/client/FileListingClient.ts")); })];
                case 7:
                    FileListingClient = (_a.sent()).FileListingClient;
                    if (action === FileListingClient.ACTION) {
                        FileListingClient.start(FileListingClient.parseParameters(parsedQuery));
                        return [2];
                    }
                    tools.push(FileListingClient);
                    if (!tools.length) return [3, 9];
                    return [4, Promise.resolve().then(function () { return tslib_1.__importStar(__webpack_require__(/*! ./googDevice/client/DeviceTracker */ "./src/app/googDevice/client/DeviceTracker.ts")); })];
                case 8:
                    DeviceTracker_1 = (_a.sent()).DeviceTracker;
                    tools.forEach(function (tool) {
                        DeviceTracker_1.registerTool(tool);
                    });
                    _a.label = 9;
                case 9:
                    HostTracker_1.HostTracker.start();
                    return [2];
            }
        });
    });
};

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxFQUFFO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNCQUFzQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0NBQW9DO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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UztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFCQUFxQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlOzs7Ozs7Ozs7Ozs7QUNoTUY7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsdUJBQXVCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHVCQUF1QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxzQkFBc0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTs7Ozs7Ozs7Ozs7O0FDcmNGO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFdBQVc7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyQkFBMkIsV0FBVztBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLFdBQVc7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDJCQUEyQixXQUFXO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsUUFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0Q7QUFDaEQ7QUFDQSxNQUFNO0FBQ04sZ0NBQWdDLFFBQVE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLDBCQUFhLEdBQVcsZUFBZSxDQUFDO0lBQ3hDLG1CQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLG9CQUFPLEdBQVcsU0FBUyxDQUFDO0lBQzVCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLG1CQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLHNCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBR3hCLG9CQUFPLEdBQVcsU0FBUyxDQUFDO0lBQzVCLHFCQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLHNCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLHFCQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLHdCQUFXLEdBQVcsYUFBYSxDQUFDO0lBQ3BDLHdCQUFXLEdBQVcsYUFBYSxDQUFDO0lBQ3BDLHlCQUFZLEdBQVcsY0FBYyxDQUFDO0lBQ3RDLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLHFCQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLHNCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLHNCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLHVCQUFVLEdBQVcsWUFBWSxDQUFDO0lBQ2xDLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLGdCQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLG9CQUFPLEdBQVcsU0FBUyxDQUFDO0lBQzVCLHFCQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLGtCQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLHVCQUFVLEdBQVcsWUFBWSxDQUFDO0lBR2xDLG1CQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLGdCQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLG1CQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLHFCQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLG1CQUFNLEdBQVcsUUFBUSxDQUFDO0lBRzFCLHNCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLHNCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLHVCQUFVLEdBQVcsWUFBWSxDQUFD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QUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxJQUFJLEVBQUUsa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDdkMsQ0FBQyxzQkFBWSxDQUFDLElBQUksRUFBRSxrQkFBUSxDQUFDLFNBQVMsQ0FBQztJQUN2QyxDQUFDLHNCQUFZLENBQUMsSUFBSSxFQUFFLGtCQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3ZDLENBQUMsc0JBQVksQ0FBQyxLQUFLLEVBQUUsa0JBQVEsQ0FBQyxhQUFhLENBQUM7SUFDNUMsQ0FBQyxzQkFBWSxDQUFDLE1BQU0sRUFBRSxr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QUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDMUMsSUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxHQUFHLFVBQVUsQ0FBQyxDQUFDO1FBQzlELElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLFVBQVUsRUFBRSxRQUFRLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDO1FBRS9FLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDN0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDNUIsSUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQzdCLElBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDckQsSUFBTSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDckUsSUFBTSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVB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SSxDQUFDO0tBQ2Y7SUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDekQsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMzQyxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNULElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzVCO2lCQUFNO2dCQUNILElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzVCO1NBQ0o7S0FDSjtJQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDVCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEM7YUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3BDO2FBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxF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SUFBSSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFFBQVEsR0FBRyxVQUFVLENBQUMsQ0FBQztRQUM5RCxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLEVBQUUsUUFBUSxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQztRQUUvRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLElBQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUM3QixJQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDckQsSUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JELElBQU0sQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQ3JFLElBQU0sQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLEdB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QkFBMkIsNkJBQTZCO0FBQ3Q4cEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJCQUEyQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0JBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9CQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJDQUEyQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7Ozs7O0FDMTNCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDakYsd0JBQXdCO0FBQ3hCO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFTztBQUNQO0FBQ0EsK0NBQStDLE9BQU87QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxjQUFjO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTs7QUFFTztBQUNQLGtDQUFrQztBQUNsQzs7QUFFTztBQUNQLHVCQUF1Qix1RkFBdUY7QUFDOUc7QUFDQTtBQUNBLHlHQUF5RztBQUN6RztBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0EsOENBQThDLHlGQUF5RjtBQUN2SSw4REFBOEQsMkNBQTJDO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0Esa0JBQWtCLHlCQUF5QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUDtBQUNBLDRDQUE0Qyx5RUFBeUU7QUFDckg7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1AsMEJBQTBCLCtEQUErRCxpQkFBaUI7QUFDMUc7QUFDQSxrQ0FBa0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNuRixpQ0FBaUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN0Riw4QkFBOEI7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7O0FBRU87QUFDUCxZQUFZLDZCQUE2QiwwQkFBMEIsY0FBYyxxQkFBcUI7QUFDdEcsZUFBZSxvREFBb0QscUVBQXFFLGNBQWM7QUFDdEoscUJBQXFCLHNCQUFzQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsaUNBQWlDLFNBQVM7QUFDMUMsaUNBQWlDLFdBQVcsVUFBVTtBQUN0RCx3Q0FBd0MsY0FBYztBQUN0RDtBQUNBLDRHQUE0RyxPQUFPO0FBQ25ILCtFQUErRSxpQkFBaUI7QUFDaEcsdURBQXVELGdCQUFnQixRQUFRO0FBQy9FLDZDQUE2QyxnQkFBZ0IsZ0JBQWdCO0FBQzdFO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxRQUFRLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDcEQsa0NBQWtDLFNBQVM7QUFDM0M7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7O0FBRU07QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixNQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNPO0FBQ1AsMkJBQTJCLHNCQUFzQjtBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDTztBQUNQLGdEQUFnRCxRQUFRO0FBQ3hELHVDQUF1QyxRQUFRO0FBQy9DLHVEQUF1RCxRQUFRO0FBQy9EO0FBQ0E7QUFDQTs7QUFFTztBQUNQLDJFQUEyRSxPQUFPO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSxlQUFlLHVGQUF1RixjQUFjO0FBQ3BILHFCQUFxQixnQ0FBZ0MscUNBQXFDLDJDQUEyQztBQUNySSwwQkFBMEIsTUFBTSxpQkFBaUIsWUFBWTtBQUM3RCxxQkFBcUI7QUFDckIsNEJBQTRCO0FBQzVCLDJCQUEyQjtBQUMzQiwwQkFBMEI7QUFDMUI7O0FBRU87QUFDUDtBQUNBLGVBQWUsNkNBQTZDLFVBQVUsc0RBQXNELGNBQWM7QUFDMUksd0JBQXdCLDZCQUE2QixvQkFBb0IsdUNBQXVDLGtCQUFrQjtBQUNsSTs7QUFFTztBQUNQO0FBQ0E7QUFDQSx5R0FBeUcsdUZBQXVGLGNBQWM7QUFDOU0scUJBQXFCLDhCQUE4QixnREFBZ0Qsd0RBQXdEO0FBQzNKLDJDQUEyQyxzQ0FBc0MsVUFBVSxtQkFBbUIsSUFBSTtBQUNsSDs7QUFFTztBQUNQLCtCQUErQix1Q0FBdUMsWUFBWSxLQUFLLE9BQU87QUFDOUY7QUFDQTs7QUFFQTtBQUNBLHdDQUF3Qyw0QkFBNEI7QUFDcEUsQ0FBQztBQUNEO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUCwyQ0FBMkM7QUFDM0M7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQThDO0FBQ25FO0FBQ0E7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsU0FBUyxnQkFBZ0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7Ozs7O1VDalhGO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSxHQUFHO1dBQ0g7V0FDQTtXQUNBLENBQUM7Ozs7O1dDUEQ7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7OztXQ05BO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUNsQkEsbUVBQTBCO0FBQzFCLGtKQUE0RTtBQUM1RSx1R0FBbUQ7QUFHbkQsTUFBTSxDQUFDLE1BQU0sR0FBRzs7Ozs7O29CQUNOLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ3hDLFdBQVcsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDeEMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ25DLE1BQU0sR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUVkLGdHQUFhLG1FQUF5QixRQUFDOztvQkFBMUQsY0FBYyxHQUFLLFVBQXVDLGdCQUE1QztvQkFDdEIsdUNBQWtCLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUk1QixnR0FBYSx5REFBb0IsUUFBQzs7b0JBQWhELFNBQVMsR0FBSyxVQUFrQyxXQUF2QztvQkFDakIsdUNBQWtCLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUlsQixnR0FBYSxtRUFBeUIsUUFBQzs7b0JBQTFELGNBQWMsR0FBSyxVQUF1QyxnQkFBNUM7b0JBQ3RCLHVDQUFrQixDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFJdEIsZ0dBQWEscUVBQTBCLFFBQUM7O29CQUE1RCxlQUFlLEdBQUssVUFBd0MsaUJBQTdDO29CQUN2Qix1Q0FBa0IsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7b0JBR25ELElBQUksTUFBTSxLQUFLLHVDQUFrQixDQUFDLE1BQU0sSUFBSSxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssUUFBUSxFQUFFO3dCQUNyRixRQUFRLENBQUMsS0FBSyxHQUFHLFVBQUcsTUFBTSxlQUFLLFdBQVcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQUcsQ0FBQzt3QkFDMUQsdUNBQWtCLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO3dCQUN0QyxXQUFPO3FCQUNWO29CQTBDSyxLQUFLLEdBQVcsRUFBRSxDQUFDO29CQUdELGdHQUFhLG1GQUFpQyxRQUFDOztvQkFBL0QsV0FBVyxHQUFLLFVBQStDLGFBQXBEO29CQUNuQixJQUFJLE1BQU0sS0FBSyxXQUFXLENBQUMsTUFBTSxJQUFJLE9BQU8sV0FBVyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxRQUFRLEVBQUU7d0JBQzlFLFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO3dCQUM1RCxXQUFPO3FCQUNWO29CQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7b0JBSUcsZ0dBQWEseUZBQW9DLFFBQUM7O29CQUFyRSxjQUFjLEdBQUssVUFBa0QsZ0JBQXZEO29CQUN0QixJQUFJLE1BQU0sS0FBSyxjQUFjLENBQUMsTUFBTSxFQUFFO3dCQUNsQyxjQUFjLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQzt3QkFDbEUsV0FBTztxQkFDVjtvQkFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUlHLGdHQUFhLCtGQUF1QyxRQUFDOztvQkFBM0UsaUJBQWlCLEdBQUssVUFBcUQsbUJBQTFEO29CQUN6QixJQUFJLE1BQU0sS0FBSyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUU7d0JBQ3JDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQzt3QkFDeEUsV0FBTztxQkFDVjtvQkFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7eUJBRzFCLEtBQUssQ0FBQyxNQUFNLEVBQVosY0FBWTtvQkFDYyxnR0FBYSx1RkFBbUMsUUFBQzs7b0JBQW5FLGtCQUFrQixVQUFpRCxlQUF0RDtvQkFDckIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQUk7d0JBQ2YsZUFBYSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDckMsQ0FBQyxDQUFDLENBQUM7OztvQkFFUCx5QkFBVyxDQUFDLEtBQUssRUFBRSxDQUFDOzs7OztDQUN2QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9AZGVhZDUwZjcvYWRia2l0L2xpYi9hZGIvcHJvdG9jb2wuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9tdWx0aXRvdWNoL2NlbnRlcl9wb2ludC5wbmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL211bHRpdG91Y2gvdG91Y2hfcG9pbnQucG5nIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvQnJvYWR3YXkvYXZjLndhc20uYXNzZXQiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9oMjY0LWNvbnZlcnRlci9kaXN0L2gyNjQtcGFyc2VyLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvaDI2NC1jb252ZXJ0ZXIvZGlzdC9oMjY0LXJlbXV4ZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9oMjY0LWNvbnZlcnRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvaDI2NC1jb252ZXJ0ZXIvZGlzdC9tcDQtZ2VuZXJhdG9yLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvaDI2NC1jb252ZXJ0ZXIvZGlzdC91dGlsL05BTFUuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9oMjY0LWNvbnZlcnRlci9kaXN0L3V0aWwvYml0LXN0cmVhbS5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2gyNjQtY29udmVydGVyL2Rpc3QvdXRpbC9kZWJ1Zy5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL2gyNjQtY29udmVydGVyL2Rpc3QvdXRpbC9uYWx1LXN0cmVhbS1idWZmZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMveHRlcm0vY3NzL3h0ZXJtLmNzcz83YzMzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvYXBwLmNzcz8yOGZlIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvZGV2aWNlbGlzdC5jc3M/OTgzOSIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3N0eWxlL2RldnRvb2xzLmNzcz83YWFmIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvZGlhbG9nLmNzcz8xYmNjIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvc3R5bGUvZmlsZWxpc3RpbmcuY3NzP2E5ODIiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9zdHlsZS9tb3JlYm94LmNzcz9jOTAxIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL2Fycm93X2JhY2suc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL2NhbmNlbC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvbWVudS5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvb2ZmbGluZS5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvcmVmcmVzaC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvc2V0dGluZ3Muc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL3RvZ2dsZV9vZmYuc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9idXR0b25zL3RvZ2dsZV9vbi5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvU3lzdGVtX0JhY2tfNjc4LnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9TeXN0ZW1fSG9tZV82Nzguc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L1N5c3RlbV9PdmVydmlld182Nzguc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX2tleWJvYXJkXzY3OF80OGRwLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19tb3JlX2hvcml6XzY3OF80OGRwLnN2ZyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19waG90b19jYW1lcmFfNjc4XzQ4ZHAuc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX3Bvd2VyX3NldHRpbmdzX25ld182NzhfNDhweC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvaWNfdm9sdW1lX2Rvd25fNjc4XzQ4cHguc3ZnIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX3ZvbHVtZV91cF82NzhfNDhweC5zdmciLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zeWx2ZXN0ZXIuanMvbGliL2luZGV4LmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc3lsdmVzdGVyLmpzL2xpYi9saW5lLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvc3lsdmVzdGVyLmpzL2xpYi9saW5lLnNlZ21lbnQuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zeWx2ZXN0ZXIuanMvbGliL21hdHJpeC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3N5bHZlc3Rlci5qcy9saWIvcGxhbmUuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy9zeWx2ZXN0ZXIuanMvbGliL3N5bHZlc3Rlci5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3N5bHZlc3Rlci5qcy9saWIvdmVjdG9yLmpzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL0F0dHJpYnV0ZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9EaXNwbGF5SW5mby50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9Nb3Rpb25FdmVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9Qb2ludC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9Qb3NpdGlvbi50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9SZWN0LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL1NjcmVlbkluZm8udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvU2l6ZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9VSUV2ZW50c0NvZGUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvVXRpbC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9WaWRlb1NldHRpbmdzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2FwcGxEZXZpY2UvY2xpZW50L0RldmljZVRyYWNrZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY2xpZW50L0Jhc2VDbGllbnQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY2xpZW50L0Jhc2VEZXZpY2VUcmFja2VyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NsaWVudC9Ib3N0VHJhY2tlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jbGllbnQvTWFuYWdlckNsaWVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jbGllbnQvU3RyZWFtUmVjZWl2ZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY29udHJvbE1lc3NhZ2UvQ29tbWFuZENvbnRyb2xNZXNzYWdlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NvbnRyb2xNZXNzYWdlL0NvbnRyb2xNZXNzYWdlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2NvbnRyb2xNZXNzYWdlL0tleUNvZGVDb250cm9sTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jb250cm9sTWVzc2FnZS9TY3JvbGxDb250cm9sTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9jb250cm9sTWVzc2FnZS9UZXh0Q29udHJvbE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvY29udHJvbE1lc3NhZ2UvVG91Y2hDb250cm9sTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL0RldmljZU1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9EcmFnQW5kRHJvcEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9EcmFnQW5kUHVzaExvZ2dlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL0VudHJ5LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvS2V5SW5wdXRIYW5kbGVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvS2V5VG9Db2RlTWFwLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvU3RhdHMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS9hbmRyb2lkL0tleUV2ZW50LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvY2xpZW50L0NvbmZpZ3VyZVNjcmNweS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9EZXZpY2VUcmFja2VyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvY2xpZW50L0RldnRvb2xzQ2xpZW50LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvY2xpZW50L0ZpbGVMaXN0aW5nQ2xpZW50LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvY2xpZW50L1NoZWxsQ2xpZW50LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvY2xpZW50L1N0cmVhbUNsaWVudFNjcmNweS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2NsaWVudC9TdHJlYW1SZWNlaXZlclNjcmNweS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2ZpbGVQdXNoL0FkYmtpdEZpbGVQdXNoU3RyZWFtLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvZmlsZVB1c2gvRmlsZVB1c2hIYW5kbGVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvZmlsZVB1c2gvRmlsZVB1c2hSZXNwb25zZVN0YXR1cy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9nb29nRGV2aWNlL2ZpbGVQdXNoL0ZpbGVQdXNoU3RyZWFtLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvZmlsZVB1c2gvU2NyY3B5RmlsZVB1c2hTdHJlYW0udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvZ29vZ0RldmljZS90b29sYm94L0dvb2dNb3JlQm94LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL2dvb2dEZXZpY2UvdG9vbGJveC9Hb29nVG9vbEJveC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9pbnRlcmFjdGlvbkhhbmRsZXIvRmVhdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvaW50ZXJhY3Rpb25IYW5kbGVyL0ludGVyYWN0aW9uSGFuZGxlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9wbGF5ZXIvQmFzZUNhbnZhc0Jhc2VkUGxheWVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3BsYXllci9CYXNlUGxheWVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3BsYXllci9Ccm9hZHdheVBsYXllci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9wbGF5ZXIvTXNlUGxheWVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3BsYXllci9UaW55SDI2NFBsYXllci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC9wbGF5ZXIvV2ViQ29kZWNzUGxheWVyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3Rvb2xib3gvVG9vbEJveC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC90b29sYm94L1Rvb2xCb3hCdXR0b24udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvdG9vbGJveC9Ub29sQm94Q2hlY2tib3gudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvdG9vbGJveC9Ub29sQm94RWxlbWVudC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2FwcC91aS9IdG1sVGFnLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvYXBwL3VpL1N2Z0ltYWdlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvY29tbW9uL0FjdGlvbi50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2NvbW1vbi9DaGFubmVsQ29kZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL2NvbW1vbi9Db25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9jb21tb24vQ29udHJvbENlbnRlckNvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9jb21tb24vRGV2aWNlU3RhdGUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9jb21tb24vSG9zdFRyYWNrZXJNZXNzYWdlLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvY29tbW9uL1R5cGVkRW1pdHRlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3BhY2thZ2VzL211bHRpcGxleGVyL0Nsb3NlRXZlbnRDbGFzcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3BhY2thZ2VzL211bHRpcGxleGVyL0Vycm9yRXZlbnRDbGFzcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3BhY2thZ2VzL211bHRpcGxleGVyL0V2ZW50LnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcGFja2FnZXMvbXVsdGlwbGV4ZXIvTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3BhY2thZ2VzL211bHRpcGxleGVyL01lc3NhZ2VFdmVudENsYXNzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9zcmMvcGFja2FnZXMvbXVsdGlwbGV4ZXIvTWVzc2FnZVR5cGUudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9wYWNrYWdlcy9tdWx0aXBsZXhlci9NdWx0aXBsZXhlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vc3JjL3R5cGVzL1JlbW90ZURldnRvb2xzQ29tbWFuZC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvQ2FudmFzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9Qcm9ncmFtLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9TY3JpcHQudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL1NoYWRlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvVGV4dHVyZS50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvV2ViR0xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL1lVVkNhbnZhcy50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvWVVWV2ViR0xDYW52YXMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL3V0aWxzL2Fzc2VydC50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL2gyNjQtbGl2ZS1wbGF5ZXIvdXRpbHMvZXJyb3IudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL3V0aWxzL2dsVXRpbHMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci90aW55aDI2NC9DYW52YXMudHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci90aW55aDI2NC9TaGFkZXJDb21waWxlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL3RpbnloMjY0L1NoYWRlclByb2dyYW0udHMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3ZlbmRvci90aW55aDI2NC9TaGFkZXJTb3VyY2VzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvdGlueWgyNjQvWVVWQ2FudmFzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvdGlueWgyNjQvWVVWU3VyZmFjZVNoYWRlci50cyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL3RpbnloMjY0L1lVVldlYkdMQ2FudmFzLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi92ZW5kb3IvdGlueWgyNjQvSDI2NE5BTERlY29kZXIud29ya2VyLnRzIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMveHRlcm0tYWRkb24tYXR0YWNoL2xpYi94dGVybS1hZGRvbi1hdHRhY2guanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL25vZGVfbW9kdWxlcy94dGVybS1hZGRvbi1maXQvbGliL3h0ZXJtLWFkZG9uLWZpdC5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vbm9kZV9tb2R1bGVzL3h0ZXJtL2xpYi94dGVybS5qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5Ly4vdmVuZG9yL0Jyb2Fkd2F5L0RlY29kZXIuanMiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS9leHRlcm5hbCB2YXIgXCJmc1wiIiwid2VicGFjazovL2F0eC1zY3JjcHkvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2F0eC1zY3JjcHkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2F0eC1zY3JjcHkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9hdHgtc2NyY3B5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2F0eC1zY3JjcHkvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYXR4LXNjcmNweS8uL3NyYy9hcHAvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgUHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvdG9jb2woKSB7XG4gICAgfVxuICAgIFByb3RvY29sLmRlY29kZUxlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGxlbmd0aCwgMTYpO1xuICAgIH07XG4gICAgUHJvdG9jb2wuZW5jb2RlTGVuZ3RoID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKCcwMDAwJyArIGxlbmd0aC50b1N0cmluZygxNikpLnNsaWNlKC00KS50b1VwcGVyQ2FzZSgpO1xuICAgIH07XG4gICAgUHJvdG9jb2wuZW5jb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbbmV3IEJ1ZmZlcihQcm90b2NvbC5lbmNvZGVMZW5ndGgoZGF0YS5sZW5ndGgpKSwgZGF0YV0pO1xuICAgIH07XG4gICAgUHJvdG9jb2wuT0tBWSA9ICdPS0FZJztcbiAgICBQcm90b2NvbC5GQUlMID0gJ0ZBSUwnO1xuICAgIFByb3RvY29sLlNUQVQgPSAnU1RBVCc7XG4gICAgUHJvdG9jb2wuTElTVCA9ICdMSVNUJztcbiAgICBQcm90b2NvbC5ERU5UID0gJ0RFTlQnO1xuICAgIFByb3RvY29sLlJFQ1YgPSAnUkVDVic7XG4gICAgUHJvdG9jb2wuREFUQSA9ICdEQVRBJztcbiAgICBQcm90b2NvbC5ET05FID0gJ0RPTkUnO1xuICAgIFByb3RvY29sLlNFTkQgPSAnU0VORCc7XG4gICAgUHJvdG9jb2wuUVVJVCA9ICdRVUlUJztcbiAgICByZXR1cm4gUHJvdG9jb2w7XG59KCkpO1xubW9kdWxlLmV4cG9ydHMgPSBQcm90b2NvbDtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxuY29uc3QgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbmNvbnN0IGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbmNvbnN0IGN1c3RvbUluc3BlY3RTeW1ib2wgPVxuICAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sWydmb3InXSA9PT0gJ2Z1bmN0aW9uJykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICA/IFN5bWJvbFsnZm9yJ10oJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICA6IG51bGxcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG5jb25zdCBLX01BWF9MRU5HVEggPSAweDdmZmZmZmZmXG5leHBvcnRzLmtNYXhMZW5ndGggPSBLX01BWF9MRU5HVEhcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgUHJpbnQgd2FybmluZyBhbmQgcmVjb21tZW5kIHVzaW5nIGBidWZmZXJgIHY0Lnggd2hpY2ggaGFzIGFuIE9iamVjdFxuICogICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogV2UgcmVwb3J0IHRoYXQgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0eXBlZCBhcnJheXMgaWYgdGhlIGFyZSBub3Qgc3ViY2xhc3NhYmxlXG4gKiB1c2luZyBfX3Byb3RvX18uIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgXG4gKiAoU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzgpLiBJRSAxMCBsYWNrcyBzdXBwb3J0XG4gKiBmb3IgX19wcm90b19fIGFuZCBoYXMgYSBidWdneSB0eXBlZCBhcnJheSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbmlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgY29uc29sZS5lcnJvcihcbiAgICAnVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5ICcgK1xuICAgICdgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LidcbiAgKVxufVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIC8vIENhbiB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZD9cbiAgdHJ5IHtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGNvbnN0IHByb3RvID0geyBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH0gfVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihwcm90bywgVWludDhBcnJheS5wcm90b3R5cGUpXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGFyciwgcHJvdG8pXG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDJcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAncGFyZW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ1ZmZlclxuICB9XG59KVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgJ29mZnNldCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5ieXRlT2Zmc2V0XG4gIH1cbn0pXG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAobGVuZ3RoKSB7XG4gIGlmIChsZW5ndGggPiBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIGxlbmd0aCArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcbiAgcmV0dXJuIGJ1ZlxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbmZ1bmN0aW9uIGZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheVZpZXcodmFsdWUpXG4gIH1cblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArXG4gICAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gICAgKVxuICB9XG5cbiAgaWYgKGlzSW5zdGFuY2UodmFsdWUsIEFycmF5QnVmZmVyKSB8fFxuICAgICAgKHZhbHVlICYmIGlzSW5zdGFuY2UodmFsdWUuYnVmZmVyLCBBcnJheUJ1ZmZlcikpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIChpc0luc3RhbmNlKHZhbHVlLCBTaGFyZWRBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgU2hhcmVkQXJyYXlCdWZmZXIpKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgKVxuICB9XG5cbiAgY29uc3QgdmFsdWVPZiA9IHZhbHVlLnZhbHVlT2YgJiYgdmFsdWUudmFsdWVPZigpXG4gIGlmICh2YWx1ZU9mICE9IG51bGwgJiYgdmFsdWVPZiAhPT0gdmFsdWUpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVPZiwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgY29uc3QgYiA9IGZyb21PYmplY3QodmFsdWUpXG4gIGlmIChiKSByZXR1cm4gYlxuXG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9QcmltaXRpdmUgIT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSgnc3RyaW5nJyksIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1Zzpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLnByb3RvdHlwZSwgVWludDhBcnJheS5wcm90b3R5cGUpXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoQnVmZmVyLCBVaW50OEFycmF5KVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgc2l6ZSArICdcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAoc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gIH1cblxuICBjb25zdCBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICBsZXQgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcblxuICBjb25zdCBhY3R1YWwgPSBidWYud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIGJ1ZiA9IGJ1Zi5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKGFycmF5KSB7XG4gIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICBjb25zdCBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgYnVmW2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheVZpZXcgKGFycmF5Vmlldykge1xuICBpZiAoaXNJbnN0YW5jZShhcnJheVZpZXcsIFVpbnQ4QXJyYXkpKSB7XG4gICAgY29uc3QgY29weSA9IG5ldyBVaW50OEFycmF5KGFycmF5VmlldylcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKGNvcHkuYnVmZmVyLCBjb3B5LmJ5dGVPZmZzZXQsIGNvcHkuYnl0ZUxlbmd0aClcbiAgfVxuICByZXR1cm4gZnJvbUFycmF5TGlrZShhcnJheVZpZXcpXG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBsZXQgYnVmXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAob2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIGNvbnN0IGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgY29uc3QgYnVmID0gY3JlYXRlQnVmZmVyKGxlbilcblxuICAgIGlmIChidWYubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gYnVmXG4gICAgfVxuXG4gICAgb2JqLmNvcHkoYnVmLCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIGJ1ZlxuICB9XG5cbiAgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgbnVtYmVySXNOYU4ob2JqLmxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIoMClcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqKVxuICB9XG5cbiAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBBcnJheS5pc0FycmF5KG9iai5kYXRhKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iai5kYXRhKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBLX01BWF9MRU5HVEhgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0gS19NQVhfTEVOR1RIKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIEtfTUFYX0xFTkdUSC50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuIGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlciA9PT0gdHJ1ZSAmJlxuICAgIGIgIT09IEJ1ZmZlci5wcm90b3R5cGUgLy8gc28gQnVmZmVyLmlzQnVmZmVyKEJ1ZmZlci5wcm90b3R5cGUpIHdpbGwgYmUgZmFsc2Vcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmIChpc0luc3RhbmNlKGEsIFVpbnQ4QXJyYXkpKSBhID0gQnVmZmVyLmZyb20oYSwgYS5vZmZzZXQsIGEuYnl0ZUxlbmd0aClcbiAgaWYgKGlzSW5zdGFuY2UoYiwgVWludDhBcnJheSkpIGIgPSBCdWZmZXIuZnJvbShiLCBiLm9mZnNldCwgYi5ieXRlTGVuZ3RoKVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5J1xuICAgIClcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIGxldCB4ID0gYS5sZW5ndGhcbiAgbGV0IHkgPSBiLmxlbmd0aFxuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgbGV0IGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICBsZXQgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIGxldCBidWYgPSBsaXN0W2ldXG4gICAgaWYgKGlzSW5zdGFuY2UoYnVmLCBVaW50OEFycmF5KSkge1xuICAgICAgaWYgKHBvcyArIGJ1Zi5sZW5ndGggPiBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIGJ1ZiA9IEJ1ZmZlci5mcm9tKGJ1ZilcbiAgICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgYnVmLFxuICAgICAgICAgIHBvc1xuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIH1cbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0luc3RhbmNlKHN0cmluZywgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHN0cmluZ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgY29uc3QgbXVzdE1hdGNoID0gKGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSA9PT0gdHJ1ZSlcbiAgaWYgKCFtdXN0TWF0Y2ggJiYgbGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB7XG4gICAgICAgICAgcmV0dXJuIG11c3RNYXRjaCA/IC0xIDogdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgfVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJjaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCAoYW5kIHRoZSBgaXMtYnVmZmVyYCBucG0gcGFja2FnZSlcbi8vIHRvIGRldGVjdCBhIEJ1ZmZlciBpbnN0YW5jZS4gSXQncyBub3QgcG9zc2libGUgdG8gdXNlIGBpbnN0YW5jZW9mIEJ1ZmZlcmBcbi8vIHJlbGlhYmx5IGluIGEgYnJvd3NlcmlmeSBjb250ZXh0IGJlY2F1c2UgdGhlcmUgY291bGQgYmUgbXVsdGlwbGUgZGlmZmVyZW50XG4vLyBjb3BpZXMgb2YgdGhlICdidWZmZXInIHBhY2thZ2UgaW4gdXNlLiBUaGlzIG1ldGhvZCB3b3JrcyBldmVuIGZvciBCdWZmZXJcbi8vIGluc3RhbmNlcyB0aGF0IHdlcmUgY3JlYXRlZCBmcm9tIGFub3RoZXIgY29weSBvZiB0aGUgYGJ1ZmZlcmAgcGFja2FnZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE1NFxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgY29uc3QgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgY29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcgPSBCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nXG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgbGV0IHN0ciA9ICcnXG4gIGNvbnN0IG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5yZXBsYWNlKC8oLnsyfSkvZywgJyQxICcpLnRyaW0oKVxuICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5pZiAoY3VzdG9tSW5zcGVjdFN5bWJvbCkge1xuICBCdWZmZXIucHJvdG90eXBlW2N1c3RvbUluc3BlY3RTeW1ib2xdID0gQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmIChpc0luc3RhbmNlKHRhcmdldCwgVWludDhBcnJheSkpIHtcbiAgICB0YXJnZXQgPSBCdWZmZXIuZnJvbSh0YXJnZXQsIHRhcmdldC5vZmZzZXQsIHRhcmdldC5ieXRlTGVuZ3RoKVxuICB9XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInRhcmdldFwiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuICcgK1xuICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdGFyZ2V0KVxuICAgIClcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIGxldCB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICBsZXQgeSA9IGVuZCAtIHN0YXJ0XG4gIGNvbnN0IGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgY29uc3QgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgY29uc3QgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKG51bWJlcklzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgW3ZhbF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIGxldCBpbmRleFNpemUgPSAxXG4gIGxldCBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIGxldCB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIGxldCBpXG4gIGlmIChkaXIpIHtcbiAgICBsZXQgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIGNvbnN0IHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBsZXQgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKG51bWJlcklzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICBjb25zdCByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgY29uc3QgcmVzID0gW11cblxuICBsZXQgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgY29uc3QgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgbGV0IGNvZGVQb2ludCA9IG51bGxcbiAgICBsZXQgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKVxuICAgICAgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKVxuICAgICAgICAgID8gM1xuICAgICAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpXG4gICAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIGxldCBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbmNvbnN0IE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICBjb25zdCBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIGxldCByZXMgPSAnJ1xuICBsZXQgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGxldCByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICBsZXQgb3V0ID0gJydcbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gaGV4U2xpY2VMb29rdXBUYWJsZVtidWZbaV1dXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBjb25zdCBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICBsZXQgcmVzID0gJydcbiAgLy8gSWYgYnl0ZXMubGVuZ3RoIGlzIG9kZCwgdGhlIGxhc3QgOCBiaXRzIG11c3QgYmUgaWdub3JlZCAoc2FtZSBhcyBub2RlLmpzKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgKGJ5dGVzW2kgKyAxXSAqIDI1NikpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICBjb25zdCBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihuZXdCdWYsIEJ1ZmZlci5wcm90b3R5cGUpXG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludExFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0XVxuICBsZXQgbXVsID0gMVxuICBsZXQgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50QkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIGxldCBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDggPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2TEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkxFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyQkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ1VJbnQ2NExFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgbG8gPSBmaXJzdCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDI0XG5cbiAgY29uc3QgaGkgPSB0aGlzWysrb2Zmc2V0XSArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgbGFzdCAqIDIgKiogMjRcblxuICByZXR1cm4gQmlnSW50KGxvKSArIChCaWdJbnQoaGkpIDw8IEJpZ0ludCgzMikpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnVUludDY0QkUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCBoaSA9IGZpcnN0ICogMiAqKiAyNCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF1cblxuICBjb25zdCBsbyA9IHRoaXNbKytvZmZzZXRdICogMiAqKiAyNCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgbGFzdFxuXG4gIHJldHVybiAoQmlnSW50KGhpKSA8PCBCaWdJbnQoMzIpKSArIEJpZ0ludChsbylcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldF1cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgaSA9IGJ5dGVMZW5ndGhcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnSW50NjRMRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgNF0gK1xuICAgIHRoaXNbb2Zmc2V0ICsgNV0gKiAyICoqIDggK1xuICAgIHRoaXNbb2Zmc2V0ICsgNl0gKiAyICoqIDE2ICtcbiAgICAobGFzdCA8PCAyNCkgLy8gT3ZlcmZsb3dcblxuICByZXR1cm4gKEJpZ0ludCh2YWwpIDw8IEJpZ0ludCgzMikpICtcbiAgICBCaWdJbnQoZmlyc3QgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAyNClcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ0ludDY0QkUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCB2YWwgPSAoZmlyc3QgPDwgMjQpICsgLy8gT3ZlcmZsb3dcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XVxuXG4gIHJldHVybiAoQmlnSW50KHZhbCkgPDwgQmlnSW50KDMyKSkgK1xuICAgIEJpZ0ludCh0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIGxhc3QpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnRMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICBsZXQgbXVsID0gMVxuICBsZXQgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludEJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgbGV0IG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIHdydEJpZ1VJbnQ2NExFIChidWYsIHZhbHVlLCBvZmZzZXQsIG1pbiwgbWF4KSB7XG4gIGNoZWNrSW50QkkodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgNylcblxuICBsZXQgbG8gPSBOdW1iZXIodmFsdWUgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsZXQgaGkgPSBOdW1iZXIodmFsdWUgPj4gQmlnSW50KDMyKSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIHJldHVybiBvZmZzZXRcbn1cblxuZnVuY3Rpb24gd3J0QmlnVUludDY0QkUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbWluLCBtYXgpIHtcbiAgY2hlY2tJbnRCSSh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCA3KVxuXG4gIGxldCBsbyA9IE51bWJlcih2YWx1ZSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCArIDddID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA2XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNV0gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDRdID0gbG9cbiAgbGV0IGhpID0gTnVtYmVyKHZhbHVlID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQgKyAzXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0ICsgMl0gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCArIDFdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXRdID0gaGlcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnVUludDY0TEUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRMRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBCaWdJbnQoMCksIEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdVSW50NjRCRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NEJFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIEJpZ0ludCgwKSwgQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgbGV0IGkgPSAwXG4gIGxldCBtdWwgPSAxXG4gIGxldCBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoIC0gMVxuICBsZXQgbXVsID0gMVxuICBsZXQgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdJbnQ2NExFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0TEUodGhpcywgdmFsdWUsIG9mZnNldCwgLUJpZ0ludCgnMHg4MDAwMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHg3ZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ0ludDY0QkUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRCRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAtQmlnSW50KCcweDgwMDAwMDAwMDAwMDAwMDAnKSwgQmlnSW50KCcweDdmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlcicpXG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICBjb25zdCBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExXG4gICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKChlbmNvZGluZyA9PT0gJ3V0ZjgnICYmIGNvZGUgPCAxMjgpIHx8XG4gICAgICAgICAgZW5jb2RpbmcgPT09ICdsYXRpbjEnKSB7XG4gICAgICAgIC8vIEZhc3QgcGF0aDogSWYgYHZhbGAgZml0cyBpbnRvIGEgc2luZ2xlIGJ5dGUsIHVzZSB0aGF0IG51bWVyaWMgdmFsdWUuXG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICB2YWwgPSBOdW1iZXIodmFsKVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIGxldCBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgICBjb25zdCBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInICsgdmFsICtcbiAgICAgICAgJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpXG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIENVU1RPTSBFUlJPUlNcbi8vID09PT09PT09PT09PT1cblxuLy8gU2ltcGxpZmllZCB2ZXJzaW9ucyBmcm9tIE5vZGUsIGNoYW5nZWQgZm9yIEJ1ZmZlci1vbmx5IHVzYWdlXG5jb25zdCBlcnJvcnMgPSB7fVxuZnVuY3Rpb24gRSAoc3ltLCBnZXRNZXNzYWdlLCBCYXNlKSB7XG4gIGVycm9yc1tzeW1dID0gY2xhc3MgTm9kZUVycm9yIGV4dGVuZHMgQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgc3VwZXIoKVxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ21lc3NhZ2UnLCB7XG4gICAgICAgIHZhbHVlOiBnZXRNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pXG5cbiAgICAgIC8vIEFkZCB0aGUgZXJyb3IgY29kZSB0byB0aGUgbmFtZSB0byBpbmNsdWRlIGl0IGluIHRoZSBzdGFjayB0cmFjZS5cbiAgICAgIHRoaXMubmFtZSA9IGAke3RoaXMubmFtZX0gWyR7c3ltfV1gXG4gICAgICAvLyBBY2Nlc3MgdGhlIHN0YWNrIHRvIGdlbmVyYXRlIHRoZSBlcnJvciBtZXNzYWdlIGluY2x1ZGluZyB0aGUgZXJyb3IgY29kZVxuICAgICAgLy8gZnJvbSB0aGUgbmFtZS5cbiAgICAgIHRoaXMuc3RhY2sgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbiAgICAgIC8vIFJlc2V0IHRoZSBuYW1lIHRvIHRoZSBhY3R1YWwgbmFtZS5cbiAgICAgIGRlbGV0ZSB0aGlzLm5hbWVcbiAgICB9XG5cbiAgICBnZXQgY29kZSAoKSB7XG4gICAgICByZXR1cm4gc3ltXG4gICAgfVxuXG4gICAgc2V0IGNvZGUgKHZhbHVlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvZGUnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRvU3RyaW5nICgpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLm5hbWV9IFske3N5bX1dOiAke3RoaXMubWVzc2FnZX1gXG4gICAgfVxuICB9XG59XG5cbkUoJ0VSUl9CVUZGRVJfT1VUX09GX0JPVU5EUycsXG4gIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiBgJHtuYW1lfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgXG4gICAgfVxuXG4gICAgcmV0dXJuICdBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzJ1xuICB9LCBSYW5nZUVycm9yKVxuRSgnRVJSX0lOVkFMSURfQVJHX1RZUEUnLFxuICBmdW5jdGlvbiAobmFtZSwgYWN0dWFsKSB7XG4gICAgcmV0dXJuIGBUaGUgXCIke25hbWV9XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBhY3R1YWx9YFxuICB9LCBUeXBlRXJyb3IpXG5FKCdFUlJfT1VUX09GX1JBTkdFJyxcbiAgZnVuY3Rpb24gKHN0ciwgcmFuZ2UsIGlucHV0KSB7XG4gICAgbGV0IG1zZyA9IGBUaGUgdmFsdWUgb2YgXCIke3N0cn1cIiBpcyBvdXQgb2YgcmFuZ2UuYFxuICAgIGxldCByZWNlaXZlZCA9IGlucHV0XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoaW5wdXQpICYmIE1hdGguYWJzKGlucHV0KSA+IDIgKiogMzIpIHtcbiAgICAgIHJlY2VpdmVkID0gYWRkTnVtZXJpY2FsU2VwYXJhdG9yKFN0cmluZyhpbnB1dCkpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdiaWdpbnQnKSB7XG4gICAgICByZWNlaXZlZCA9IFN0cmluZyhpbnB1dClcbiAgICAgIGlmIChpbnB1dCA+IEJpZ0ludCgyKSAqKiBCaWdJbnQoMzIpIHx8IGlucHV0IDwgLShCaWdJbnQoMikgKiogQmlnSW50KDMyKSkpIHtcbiAgICAgICAgcmVjZWl2ZWQgPSBhZGROdW1lcmljYWxTZXBhcmF0b3IocmVjZWl2ZWQpXG4gICAgICB9XG4gICAgICByZWNlaXZlZCArPSAnbidcbiAgICB9XG4gICAgbXNnICs9IGAgSXQgbXVzdCBiZSAke3JhbmdlfS4gUmVjZWl2ZWQgJHtyZWNlaXZlZH1gXG4gICAgcmV0dXJuIG1zZ1xuICB9LCBSYW5nZUVycm9yKVxuXG5mdW5jdGlvbiBhZGROdW1lcmljYWxTZXBhcmF0b3IgKHZhbCkge1xuICBsZXQgcmVzID0gJydcbiAgbGV0IGkgPSB2YWwubGVuZ3RoXG4gIGNvbnN0IHN0YXJ0ID0gdmFsWzBdID09PSAnLScgPyAxIDogMFxuICBmb3IgKDsgaSA+PSBzdGFydCArIDQ7IGkgLT0gMykge1xuICAgIHJlcyA9IGBfJHt2YWwuc2xpY2UoaSAtIDMsIGkpfSR7cmVzfWBcbiAgfVxuICByZXR1cm4gYCR7dmFsLnNsaWNlKDAsIGkpfSR7cmVzfWBcbn1cblxuLy8gQ0hFQ0sgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gY2hlY2tCb3VuZHMgKGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGlmIChidWZbb2Zmc2V0XSA9PT0gdW5kZWZpbmVkIHx8IGJ1ZltvZmZzZXQgKyBieXRlTGVuZ3RoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCBidWYubGVuZ3RoIC0gKGJ5dGVMZW5ndGggKyAxKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ludEJJICh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKSB7XG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikge1xuICAgIGNvbnN0IG4gPSB0eXBlb2YgbWluID09PSAnYmlnaW50JyA/ICduJyA6ICcnXG4gICAgbGV0IHJhbmdlXG4gICAgaWYgKGJ5dGVMZW5ndGggPiAzKSB7XG4gICAgICBpZiAobWluID09PSAwIHx8IG1pbiA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgIHJhbmdlID0gYD49IDAke259IGFuZCA8IDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDh9JHtufWBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhbmdlID0gYD49IC0oMiR7bn0gKiogJHsoYnl0ZUxlbmd0aCArIDEpICogOCAtIDF9JHtufSkgYW5kIDwgMiAqKiBgICtcbiAgICAgICAgICAgICAgICBgJHsoYnl0ZUxlbmd0aCArIDEpICogOCAtIDF9JHtufWBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2UgPSBgPj0gJHttaW59JHtufSBhbmQgPD0gJHttYXh9JHtufWBcbiAgICB9XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKCd2YWx1ZScsIHJhbmdlLCB2YWx1ZSlcbiAgfVxuICBjaGVja0JvdW5kcyhidWYsIG9mZnNldCwgYnl0ZUxlbmd0aClcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIgKHZhbHVlLCBuYW1lKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfSU5WQUxJRF9BUkdfVFlQRShuYW1lLCAnbnVtYmVyJywgdmFsdWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gYm91bmRzRXJyb3IgKHZhbHVlLCBsZW5ndGgsIHR5cGUpIHtcbiAgaWYgKE1hdGguZmxvb3IodmFsdWUpICE9PSB2YWx1ZSkge1xuICAgIHZhbGlkYXRlTnVtYmVyKHZhbHVlLCB0eXBlKVxuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSh0eXBlIHx8ICdvZmZzZXQnLCAnYW4gaW50ZWdlcicsIHZhbHVlKVxuICB9XG5cbiAgaWYgKGxlbmd0aCA8IDApIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUygpXG4gIH1cblxuICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UodHlwZSB8fCAnb2Zmc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGA+PSAke3R5cGUgPyAxIDogMH0gYW5kIDw9ICR7bGVuZ3RofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSlcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG5jb25zdCBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXisvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHRha2VzIGVxdWFsIHNpZ25zIGFzIGVuZCBvZiB0aGUgQmFzZTY0IGVuY29kaW5nXG4gIHN0ciA9IHN0ci5zcGxpdCgnPScpWzBdXG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgbGV0IGNvZGVQb2ludFxuICBjb25zdCBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIGxldCBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICBjb25zdCBieXRlcyA9IFtdXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIGNvbnN0IGJ5dGVBcnJheSA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgbGV0IGMsIGhpLCBsb1xuICBjb25zdCBieXRlQXJyYXkgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGxldCBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG4vLyBBcnJheUJ1ZmZlciBvciBVaW50OEFycmF5IG9iamVjdHMgZnJvbSBvdGhlciBjb250ZXh0cyAoaS5lLiBpZnJhbWVzKSBkbyBub3QgcGFzc1xuLy8gdGhlIGBpbnN0YW5jZW9mYCBjaGVjayBidXQgdGhleSBzaG91bGQgYmUgdHJlYXRlZCBhcyBvZiB0aGF0IHR5cGUuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNjZcbmZ1bmN0aW9uIGlzSW5zdGFuY2UgKG9iaiwgdHlwZSkge1xuICByZXR1cm4gb2JqIGluc3RhbmNlb2YgdHlwZSB8fFxuICAgIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IubmFtZSAhPSBudWxsICYmXG4gICAgICBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKVxufVxuZnVuY3Rpb24gbnVtYmVySXNOYU4gKG9iaikge1xuICAvLyBGb3IgSUUxMSBzdXBwb3J0XG4gIHJldHVybiBvYmogIT09IG9iaiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuXG4vLyBDcmVhdGUgbG9va3VwIHRhYmxlIGZvciBgdG9TdHJpbmcoJ2hleCcpYFxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMjE5XG5jb25zdCBoZXhTbGljZUxvb2t1cFRhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OWFiY2RlZidcbiAgY29uc3QgdGFibGUgPSBuZXcgQXJyYXkoMjU2KVxuICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICBjb25zdCBpMTYgPSBpICogMTZcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDE2OyArK2opIHtcbiAgICAgIHRhYmxlW2kxNiArIGpdID0gYWxwaGFiZXRbaV0gKyBhbHBoYWJldFtqXVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFibGVcbn0pKClcblxuLy8gUmV0dXJuIG5vdCBmdW5jdGlvbiB3aXRoIEVycm9yIGlmIEJpZ0ludCBub3Qgc3VwcG9ydGVkXG5mdW5jdGlvbiBkZWZpbmVCaWdJbnRNZXRob2QgKGZuKSB7XG4gIHJldHVybiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IEJ1ZmZlckJpZ0ludE5vdERlZmluZWQgOiBmblxufVxuXG5mdW5jdGlvbiBCdWZmZXJCaWdJbnROb3REZWZpbmVkICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdCaWdJbnQgbm90IHN1cHBvcnRlZCcpXG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjEyNzlmMzY4YjViYjcyOWNhN2IzNTk5MDA0MmY5OTI4LnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwYWRjMzZjZjljZGRmZTRiNjA1NmMzY2E0N2FiYWNhMC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXZjLndhc21cIjsiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBiaXRfc3RyZWFtXzEgPSByZXF1aXJlKFwiLi91dGlsL2JpdC1zdHJlYW1cIik7XG52YXIgZGVidWcgPSByZXF1aXJlKFwiLi91dGlsL2RlYnVnXCIpO1xudmFyIE5BTFVfMSA9IHJlcXVpcmUoXCIuL3V0aWwvTkFMVVwiKTtcbnZhciBIMjY0UGFyc2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIMjY0UGFyc2VyKHJlbXV4ZXIpIHtcbiAgICAgICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgICAgICAgdGhpcy50cmFjayA9IHJlbXV4ZXIubXA0dHJhY2s7XG4gICAgfVxuICAgIEgyNjRQYXJzZXIucHJvdG90eXBlLnBhcnNlU0VJID0gZnVuY3Rpb24gKHNlaSkge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSBIMjY0UGFyc2VyLnJlYWRTRUkoc2VpKTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtZXNzYWdlc18xID0gbWVzc2FnZXM7IF9pIDwgbWVzc2FnZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBtID0gbWVzc2FnZXNfMVtfaV07XG4gICAgICAgICAgICBzd2l0Y2ggKG0udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjay5zZWlCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEgyNjRQYXJzZXIucHJvdG90eXBlLnBhcnNlU1BTID0gZnVuY3Rpb24gKHNwcykge1xuICAgICAgICB2YXIgY29uZmlnID0gSDI2NFBhcnNlci5yZWFkU1BTKHNwcyk7XG4gICAgICAgIHRoaXMudHJhY2sud2lkdGggPSBjb25maWcud2lkdGg7XG4gICAgICAgIHRoaXMudHJhY2suaGVpZ2h0ID0gY29uZmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy50cmFjay5zcHMgPSBbc3BzXTtcbiAgICAgICAgdGhpcy50cmFjay5jb2RlYyA9ICdhdmMxLic7XG4gICAgICAgIHZhciBjb2RlY0FycmF5ID0gbmV3IERhdGFWaWV3KHNwcy5idWZmZXIsIHNwcy5ieXRlT2Zmc2V0ICsgMSwgNCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaCA9IGNvZGVjQXJyYXkuZ2V0VWludDgoaSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjay5jb2RlYyArPSBoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIMjY0UGFyc2VyLnByb3RvdHlwZS5wYXJzZVBQUyA9IGZ1bmN0aW9uIChwcHMpIHtcbiAgICAgICAgdGhpcy50cmFjay5wcHMgPSBbcHBzXTtcbiAgICB9O1xuICAgIEgyNjRQYXJzZXIucHJvdG90eXBlLnBhcnNlTkFMID0gZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgICAgaWYgKCF1bml0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHB1c2ggPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoICh1bml0LnR5cGUoKSkge1xuICAgICAgICAgICAgY2FzZSBOQUxVXzEuZGVmYXVsdC5ORFI6XG4gICAgICAgICAgICBjYXNlIE5BTFVfMS5kZWZhdWx0LklEUjpcbiAgICAgICAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTkFMVV8xLmRlZmF1bHQuU0VJOlxuICAgICAgICAgICAgICAgIHB1c2ggPSB0aGlzLnBhcnNlU0VJKHVuaXQuZ2V0RGF0YSgpLnN1YmFycmF5KDQpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTkFMVV8xLmRlZmF1bHQuU1BTOlxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VTUFModW5pdC5nZXREYXRhKCkuc3ViYXJyYXkoNCkpO1xuICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiBGb3VuZCBTUFMgdHlwZSBOQUxVIGZyYW1lLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVtdXhlci5yZWFkeVRvRGVjb2RlICYmIHRoaXMudHJhY2sucHBzLmxlbmd0aCA+IDAgJiYgdGhpcy50cmFjay5zcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbXV4ZXIucmVhZHlUb0RlY29kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBOQUxVXzEuZGVmYXVsdC5QUFM6XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZVBQUyh1bml0LmdldERhdGEoKS5zdWJhcnJheSg0KSk7XG4gICAgICAgICAgICAgICAgZGVidWcubG9nKFwiIEZvdW5kIFBQUyB0eXBlIE5BTFUgZnJhbWUuXCIpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZW11eGVyLnJlYWR5VG9EZWNvZGUgJiYgdGhpcy50cmFjay5wcHMubGVuZ3RoID4gMCAmJiB0aGlzLnRyYWNrLnNwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtdXhlci5yZWFkeVRvRGVjb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiBGb3VuZCBVbmtub3duIHR5cGUgTkFMVSBmcmFtZS4gdHlwZT1cIiArIHVuaXQudHlwZSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHVzaDtcbiAgICB9O1xuICAgIEgyNjRQYXJzZXIuc2tpcFNjYWxpbmdMaXN0ID0gZnVuY3Rpb24gKGRlY29kZXIsIGNvdW50KSB7XG4gICAgICAgIHZhciBsYXN0U2NhbGUgPSA4O1xuICAgICAgICB2YXIgbmV4dFNjYWxlID0gODtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV4dFNjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhU2NhbGUgPSBkZWNvZGVyLnJlYWRFRygpO1xuICAgICAgICAgICAgICAgIG5leHRTY2FsZSA9IChsYXN0U2NhbGUgKyBkZWx0YVNjYWxlICsgMjU2KSAlIDI1NjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RTY2FsZSA9IChuZXh0U2NhbGUgPT09IDApID8gbGFzdFNjYWxlIDogbmV4dFNjYWxlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIMjY0UGFyc2VyLnJlYWRTUFMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnBhcnNlU1BTKGRhdGEpLCBwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSA9IF9hLnBpY193aWR0aF9pbl9tYnNfbWludXMxLCBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ID0gX2EuZnJhbWVfY3JvcF9sZWZ0X29mZnNldCwgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgPSBfYS5mcmFtZV9jcm9wX3JpZ2h0X29mZnNldCwgZnJhbWVfbWJzX29ubHlfZmxhZyA9IF9hLmZyYW1lX21ic19vbmx5X2ZsYWcsIHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSA9IF9hLnBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSwgZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ID0gX2EuZnJhbWVfY3JvcF90b3Bfb2Zmc2V0LCBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQgPSBfYS5mcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQsIHNhciA9IF9hLnNhcjtcbiAgICAgICAgdmFyIHNhclNjYWxlID0gc2FyWzBdIC8gc2FyWzFdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGguY2VpbCgoKChwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSArIDEpICogMTYpIC0gZnJhbWVfY3JvcF9sZWZ0X29mZnNldCAqIDIgLSBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCAqIDIpICogc2FyU2NhbGUpLFxuICAgICAgICAgICAgaGVpZ2h0OiAoKDIgLSBmcmFtZV9tYnNfb25seV9mbGFnKSAqIChwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEgKyAxKSAqIDE2KSAtXG4gICAgICAgICAgICAgICAgKChmcmFtZV9tYnNfb25seV9mbGFnID8gMiA6IDQpICogKGZyYW1lX2Nyb3BfdG9wX29mZnNldCArIGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCkpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgSDI2NFBhcnNlci5wYXJzZVNQUyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBkZWNvZGVyID0gbmV3IGJpdF9zdHJlYW1fMS5kZWZhdWx0KGRhdGEpO1xuICAgICAgICB2YXIgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IDA7XG4gICAgICAgIHZhciBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IDA7XG4gICAgICAgIHZhciBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSAwO1xuICAgICAgICB2YXIgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gMDtcbiAgICAgICAgZGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgdmFyIHByb2ZpbGVfaWRjID0gZGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgdmFyIGNvbnN0cmFpbnRfc2V0X2ZsYWdzID0gZGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgdmFyIGxldmVsX2lkYyA9IGRlY29kZXIucmVhZEJpdHMoOCk7XG4gICAgICAgIHZhciBzZXFfcGFyYW1ldGVyX3NldF9pZCA9IGRlY29kZXIucmVhZFVFRygpO1xuICAgICAgICBpZiAocHJvZmlsZV9pZGMgPT09IDEwMCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDExMCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDEyMiB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDI0NCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDQ0IHx8XG4gICAgICAgICAgICBwcm9maWxlX2lkYyA9PT0gODMgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSA4NiB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDExOCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDEyOCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDEzOCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDEzOSB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDEzNCkge1xuICAgICAgICAgICAgdmFyIGNocm9tYUZvcm1hdElkYyA9IGRlY29kZXIucmVhZFVFRygpO1xuICAgICAgICAgICAgaWYgKGNocm9tYUZvcm1hdElkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIGRlY29kZXIuc2tpcEJpdHMoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNvZGVyLnNraXBVRUcoKTtcbiAgICAgICAgICAgIGRlY29kZXIuc2tpcFVFRygpO1xuICAgICAgICAgICAgZGVjb2Rlci5za2lwQml0cygxKTtcbiAgICAgICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGluZ0xpc3RDb3VudCA9IChjaHJvbWFGb3JtYXRJZGMgIT09IDMpID8gOCA6IDEyO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NhbGluZ0xpc3RDb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEgyNjRQYXJzZXIuc2tpcFNjYWxpbmdMaXN0KGRlY29kZXIsIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEgyNjRQYXJzZXIuc2tpcFNjYWxpbmdMaXN0KGRlY29kZXIsIDY0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWNvZGVyLnNraXBVRUcoKTtcbiAgICAgICAgdmFyIHBpY09yZGVyQ250VHlwZSA9IGRlY29kZXIucmVhZFVFRygpO1xuICAgICAgICBpZiAocGljT3JkZXJDbnRUeXBlID09PSAwKSB7XG4gICAgICAgICAgICBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGRlY29kZXIuc2tpcEJpdHMoMSk7XG4gICAgICAgICAgICBkZWNvZGVyLnNraXBFRygpO1xuICAgICAgICAgICAgZGVjb2Rlci5za2lwRUcoKTtcbiAgICAgICAgICAgIHZhciBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGUgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLnNraXBFRygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlY29kZXIuc2tpcFVFRygpO1xuICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDEpO1xuICAgICAgICB2YXIgcGljX3dpZHRoX2luX21ic19taW51czEgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgdmFyIHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSA9IGRlY29kZXIucmVhZFVFRygpO1xuICAgICAgICB2YXIgZnJhbWVfbWJzX29ubHlfZmxhZyA9IGRlY29kZXIucmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZV9tYnNfb25seV9mbGFnID09PSAwKSB7XG4gICAgICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDEpO1xuICAgICAgICB9XG4gICAgICAgIGRlY29kZXIuc2tpcEJpdHMoMSk7XG4gICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0ID0gZGVjb2Rlci5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSBkZWNvZGVyLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCA9IGRlY29kZXIucmVhZFVFRygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcgPSBkZWNvZGVyLnJlYWRCb29sZWFuKCk7XG4gICAgICAgIHZhciBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNhciA9IFsxLCAxXTtcbiAgICAgICAgaWYgKHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZykge1xuICAgICAgICAgICAgYXNwZWN0X3JhdGlvX2luZm9fcHJlc2VudF9mbGFnID0gZGVjb2Rlci5yZWFkQm9vbGVhbigpO1xuICAgICAgICAgICAgaWYgKGFzcGVjdF9yYXRpb19pbmZvX3ByZXNlbnRfZmxhZykge1xuICAgICAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpb0lkYyA9IGRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChhc3BlY3RSYXRpb0lkYykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXIgPSBbMSwgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzEyLCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzEwLCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzE2LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzQwLCAzM107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzI0LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzIwLCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzMyLCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzgwLCAzM107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsxOCwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXIgPSBbMTUsIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzY0LCAzM107XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsxNjAsIDk5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gWzQsIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXIgPSBbMywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhciA9IFsyLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI1NToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FyID0gW2RlY29kZXIucmVhZFVCeXRlKCkgPDwgOCB8IGRlY29kZXIucmVhZFVCeXRlKCksIGRlY29kZXIucmVhZFVCeXRlKCkgPDwgOCB8IGRlY29kZXIucmVhZFVCeXRlKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcuZXJyb3IoXCIgIEgyNjQ6IFVua25vd24gYXNwZWN0UmF0aW9JZGM9XCIgKyBhc3BlY3RSYXRpb0lkYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVjb2Rlci5yZWFkQm9vbGVhbigpKSB7XG4gICAgICAgICAgICAgICAgZGVjb2Rlci5za2lwQml0cygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyLnNraXBCaXRzKDQpO1xuICAgICAgICAgICAgICAgIGlmIChkZWNvZGVyLnJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb2Rlci5za2lwQml0cygyNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlY29kZXIucmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAgICAgICAgIGRlY29kZXIuc2tpcFVFRygpO1xuICAgICAgICAgICAgICAgIGRlY29kZXIuc2tpcFVFRygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlY29kZXIucmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWNvZGVyLmJpdHNBdmFpbGFibGUgPiA2NCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdW5pdHNJblRpY2sgPSBkZWNvZGVyLnJlYWRVSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lU2NhbGUgPSBkZWNvZGVyLnJlYWRVSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhlZEZyYW1lUmF0ZSA9IGRlY29kZXIucmVhZEJvb2xlYW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lRHVyYXRpb24gPSB0aW1lU2NhbGUgLyAoMiAqIHVuaXRzSW5UaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwidGltZXNjYWxlOiBcIiArIHRpbWVTY2FsZSArIFwiOyB1bml0c0luVGljazogXCIgKyB1bml0c0luVGljayArIFwiOyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAoXCJmaXhlZEZyYW1lcmF0ZTogXCIgKyBmaXhlZEZyYW1lUmF0ZSArIFwiOyBhdmdGcmFtZUR1cmF0aW9uOiBcIiArIGZyYW1lRHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIlRydW5jYXRlZCBWVUkgKFwiICsgZGVjb2Rlci5iaXRzQXZhaWxhYmxlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvZmlsZV9pZGM6IHByb2ZpbGVfaWRjLFxuICAgICAgICAgICAgY29uc3RyYWludF9zZXRfZmxhZ3M6IGNvbnN0cmFpbnRfc2V0X2ZsYWdzLFxuICAgICAgICAgICAgbGV2ZWxfaWRjOiBsZXZlbF9pZGMsXG4gICAgICAgICAgICBzZXFfcGFyYW1ldGVyX3NldF9pZDogc2VxX3BhcmFtZXRlcl9zZXRfaWQsXG4gICAgICAgICAgICBwaWNfd2lkdGhfaW5fbWJzX21pbnVzMTogcGljX3dpZHRoX2luX21ic19taW51czEsXG4gICAgICAgICAgICBwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czE6IHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSxcbiAgICAgICAgICAgIGZyYW1lX21ic19vbmx5X2ZsYWc6IGZyYW1lX21ic19vbmx5X2ZsYWcsXG4gICAgICAgICAgICBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0OiBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0LFxuICAgICAgICAgICAgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQ6IGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0LFxuICAgICAgICAgICAgZnJhbWVfY3JvcF90b3Bfb2Zmc2V0OiBmcmFtZV9jcm9wX3RvcF9vZmZzZXQsXG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQ6IGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCxcbiAgICAgICAgICAgIHNhcjogc2FyLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgSDI2NFBhcnNlci5yZWFkU0VJID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGRlY29kZXIgPSBuZXcgYml0X3N0cmVhbV8xLmRlZmF1bHQoZGF0YSk7XG4gICAgICAgIGRlY29kZXIuc2tpcEJpdHMoOCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKGRlY29kZXIuYml0c0F2YWlsYWJsZSA+IDMgKiA4KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLnJlYWRTRUlNZXNzYWdlKGRlY29kZXIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSDI2NFBhcnNlci5yZWFkU0VJTWVzc2FnZSA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IDB4ZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGF5bG9hZFR5cGUgPSBnZXQoKTtcbiAgICAgICAgdmFyIHBheWxvYWRTaXplID0gZ2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRTRUlQYXlsb2FkKGRlY29kZXIsIHBheWxvYWRUeXBlLCBwYXlsb2FkU2l6ZSk7XG4gICAgfTtcbiAgICBIMjY0UGFyc2VyLnJlYWRTRUlQYXlsb2FkID0gZnVuY3Rpb24gKGRlY29kZXIsIHR5cGUsIHNpemUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHsgdHlwZTogdHlwZSB9O1xuICAgICAgICAgICAgICAgIGRlY29kZXIuc2tpcEJpdHMoc2l6ZSAqIDgpO1xuICAgICAgICB9XG4gICAgICAgIGRlY29kZXIuc2tpcEJpdHMoZGVjb2Rlci5iaXRzQXZhaWxhYmxlICUgOCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gSDI2NFBhcnNlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBIMjY0UGFyc2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaDI2NF9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL2gyNjQtcGFyc2VyXCIpO1xudmFyIGRlYnVnID0gcmVxdWlyZShcIi4vdXRpbC9kZWJ1Z1wiKTtcbnZhciBOQUxVXzEgPSByZXF1aXJlKFwiLi91dGlsL05BTFVcIik7XG52YXIgdHJhY2tJZCA9IDE7XG52YXIgSDI2NFJlbXV4ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEgyNjRSZW11eGVyKGZwcywgZnJhbWVQZXJGcmFnbWVudCwgdGltZXNjYWxlKSB7XG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgICAgICB0aGlzLmZyYW1lUGVyRnJhZ21lbnQgPSBmcmFtZVBlckZyYWdtZW50O1xuICAgICAgICB0aGlzLnRpbWVzY2FsZSA9IHRpbWVzY2FsZTtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVjb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudG90YWxEVFMgPSAwO1xuICAgICAgICB0aGlzLnN0ZXBEVFMgPSBNYXRoLnJvdW5kKHRoaXMudGltZXNjYWxlIC8gdGhpcy5mcHMpO1xuICAgICAgICB0aGlzLmZyYW1lQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnNlcSA9IDE7XG4gICAgICAgIHRoaXMubXA0dHJhY2sgPSB7XG4gICAgICAgICAgICBpZDogSDI2NFJlbXV4ZXIuZ2V0VHJhY2tJRCgpLFxuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGxlbjogMCxcbiAgICAgICAgICAgIGNvZGVjOiAnJyxcbiAgICAgICAgICAgIHNwczogW10sXG4gICAgICAgICAgICBwcHM6IFtdLFxuICAgICAgICAgICAgc2VpQnVmZmVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgdGltZXNjYWxlOiB0aW1lc2NhbGUsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGltZXNjYWxlLFxuICAgICAgICAgICAgc2FtcGxlczogW10sXG4gICAgICAgICAgICBpc0tleUZyYW1lOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVuaXRTYW1wbGVzID0gW1tdXTtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBuZXcgaDI2NF9wYXJzZXJfMS5kZWZhdWx0KHRoaXMpO1xuICAgIH1cbiAgICBIMjY0UmVtdXhlci5nZXRUcmFja0lEID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJhY2tJZCsrO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEgyNjRSZW11eGVyLnByb3RvdHlwZSwgXCJzZXFOdW1cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlcTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSDI2NFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4ID0gZnVuY3Rpb24gKG5hbHUpIHtcbiAgICAgICAgaWYgKHRoaXMubXA0dHJhY2suc2VpQnVmZmVyaW5nICYmIG5hbHUudHlwZSgpID09PSBOQUxVXzEuZGVmYXVsdC5TRUkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU5leHRGcmFtZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcnNlci5wYXJzZU5BTChuYWx1KSkge1xuICAgICAgICAgICAgdGhpcy51bml0U2FtcGxlc1t0aGlzLnVuaXRTYW1wbGVzLmxlbmd0aCAtIDFdLnB1c2gobmFsdSk7XG4gICAgICAgICAgICB0aGlzLm1wNHRyYWNrLmxlbiArPSBuYWx1LmdldFNpemUoKTtcbiAgICAgICAgICAgIHRoaXMubXA0dHJhY2suaXNLZXlGcmFtZSA9IG5hbHUuaXNLZXlmcmFtZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tcDR0cmFjay5zZWlCdWZmZXJpbmcgJiYgKG5hbHUudHlwZSgpID09PSBOQUxVXzEuZGVmYXVsdC5JRFIgfHwgbmFsdS50eXBlKCkgPT09IE5BTFVfMS5kZWZhdWx0Lk5EUikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU5leHRGcmFtZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIEgyNjRSZW11eGVyLnByb3RvdHlwZS5jcmVhdGVOZXh0RnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1wNHRyYWNrLmxlbiA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVDb3VudCsrO1xuICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCAlIHRoaXMuZnJhbWVQZXJGcmFnbWVudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudCA9IHRoaXMuZ2V0RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR0cyA9IHRoaXMudG90YWxEVFM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxEVFMgPSB0aGlzLnN0ZXBEVFMgKiB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZHRzLCBmcmFnbWVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCJObyBtcDQgc2FtcGxlIGRhdGEuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudW5pdFNhbXBsZXMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgSDI2NFJlbXV4ZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlcSsrO1xuICAgICAgICB0aGlzLm1wNHRyYWNrLmxlbiA9IDA7XG4gICAgICAgIHRoaXMubXA0dHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICB0aGlzLm1wNHRyYWNrLmlzS2V5RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51bml0U2FtcGxlcyA9IFtbXV07XG4gICAgfTtcbiAgICBIMjY0UmVtdXhlci5wcm90b3R5cGUuZ2V0RnJhZ21lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja1JlYWR5VG9EZWNvZGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGF5bG9hZCA9IG5ldyBVaW50OEFycmF5KHRoaXMubXA0dHJhY2subGVuKTtcbiAgICAgICAgdGhpcy5tcDR0cmFjay5zYW1wbGVzID0gW107XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy51bml0U2FtcGxlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHVuaXRzID0gdGhpcy51bml0U2FtcGxlc1tpXTtcbiAgICAgICAgICAgIGlmICh1bml0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtcDRTYW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgc2l6ZTogMCxcbiAgICAgICAgICAgICAgICBjdHM6IHRoaXMuc3RlcERUUyAqIGksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB1bml0c18xID0gdW5pdHM7IF9pIDwgdW5pdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IHVuaXRzXzFbX2ldO1xuICAgICAgICAgICAgICAgIG1wNFNhbXBsZS5zaXplICs9IHVuaXQuZ2V0U2l6ZSgpO1xuICAgICAgICAgICAgICAgIHBheWxvYWQuc2V0KHVuaXQuZ2V0RGF0YSgpLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSB1bml0LmdldFNpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubXA0dHJhY2suc2FtcGxlcy5wdXNoKG1wNFNhbXBsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xuICAgIEgyNjRSZW11eGVyLnByb3RvdHlwZS5jaGVja1JlYWR5VG9EZWNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWFkeVRvRGVjb2RlIHx8IHRoaXMudW5pdFNhbXBsZXMuZmlsdGVyKGZ1bmN0aW9uIChhcnJheSkgeyByZXR1cm4gYXJyYXkubGVuZ3RoID4gMDsgfSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWJ1Zy5sb2coXCJOb3QgcmVhZHkgdG8gZGVjb2RlISByZWFkeVRvRGVjb2RlKFwiICsgdGhpcy5yZWFkeVRvRGVjb2RlICsgXCIpIGlzIGZhbHNlIG9yIHVuaXRzIGlzIGVtcHR5LlwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBIMjY0UmVtdXhlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBIMjY0UmVtdXhlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGgyNjRfcmVtdXhlcl8xID0gcmVxdWlyZShcIi4vaDI2NC1yZW11eGVyXCIpO1xudmFyIG1wNF9nZW5lcmF0b3JfMSA9IHJlcXVpcmUoXCIuL21wNC1nZW5lcmF0b3JcIik7XG52YXIgZGVidWcgPSByZXF1aXJlKFwiLi91dGlsL2RlYnVnXCIpO1xudmFyIG5hbHVfc3RyZWFtX2J1ZmZlcl8xID0gcmVxdWlyZShcIi4vdXRpbC9uYWx1LXN0cmVhbS1idWZmZXJcIik7XG5leHBvcnRzLm1pbWVUeXBlID0gJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUVcIic7XG52YXIgZGVidWdfMSA9IHJlcXVpcmUoXCIuL3V0aWwvZGVidWdcIik7XG5leHBvcnRzLnNldExvZ2dlciA9IGRlYnVnXzEuc2V0TG9nZ2VyO1xudmFyIFZpZGVvQ29udmVydGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWRlb0NvbnZlcnRlcihlbGVtZW50LCBmcHMsIGZwZikge1xuICAgICAgICBpZiAoZnBzID09PSB2b2lkIDApIHsgZnBzID0gNjA7IH1cbiAgICAgICAgaWYgKGZwZiA9PT0gdm9pZCAwKSB7IGZwZiA9IGZwczsgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmZwcyA9IGZwcztcbiAgICAgICAgdGhpcy5mcGYgPSBmcGY7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IG5ldyBuYWx1X3N0cmVhbV9idWZmZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgaWYgKCFNZWRpYVNvdXJjZSB8fCAhTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGV4cG9ydHMubWltZVR5cGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZDogXCIgKyBleHBvcnRzLm1pbWVUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb0NvbnZlcnRlciwgXCJlcnJvck5vdGVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgICAgICBfYVtNZWRpYUVycm9yLk1FRElBX0VSUl9BQk9SVEVEXSA9ICdmZXRjaGluZyBwcm9jZXNzIGFib3J0ZWQgYnkgdXNlcicsXG4gICAgICAgICAgICAgICAgX2FbTWVkaWFFcnJvci5NRURJQV9FUlJfTkVUV09SS10gPSAnZXJyb3Igb2NjdXJyZWQgd2hlbiBkb3dubG9hZGluZycsXG4gICAgICAgICAgICAgICAgX2FbTWVkaWFFcnJvci5NRURJQV9FUlJfREVDT0RFXSA9ICdlcnJvciBvY2N1cnJlZCB3aGVuIGRlY29kaW5nJyxcbiAgICAgICAgICAgICAgICBfYVtNZWRpYUVycm9yLk1FRElBX0VSUl9TUkNfTk9UX1NVUFBPUlRFRF0gPSAnYXVkaW8vdmlkZW8gbm90IHN1cHBvcnRlZCcsXG4gICAgICAgICAgICAgICAgX2E7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFZpZGVvQ29udmVydGVyLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tZWRpYVJlYWR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCBfcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5tZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIk1lZGlhIFNvdXJjZSBvcGVuZWQuXCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNvdXJjZUJ1ZmZlciA9IF90aGlzLm1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihleHBvcnRzLm1pbWVUeXBlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb3VyY2VCdWZmZXIuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgIFNvdXJjZUJ1ZmZlciB1cGRhdGVlbmRcIik7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgICBzb3VyY2VCdWZmZXIuYnVmZmVyZWQubGVuZ3RoPVwiICsgX3RoaXMuc291cmNlQnVmZmVyLmJ1ZmZlcmVkLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBfdGhpcy5zb3VyY2VCdWZmZXIuYnVmZmVyZWQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgICBzb3VyY2VCdWZmZXIuYnVmZmVyZWQgW1wiICsgaSArIFwiXTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfdGhpcy5zb3VyY2VCdWZmZXIuYnVmZmVyZWQuc3RhcnQoaSkgKyBcIiwgXCIgKyBfdGhpcy5zb3VyY2VCdWZmZXIuYnVmZmVyZWQuZW5kKGkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICBtZWRpYXNvdXJjZS5kdXJhdGlvbj1cIiArIF90aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICBtZWRpYXNvdXJjZS5yZWFkeVN0YXRlPVwiICsgX3RoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgdmlkZW8uZHVyYXRpb249XCIgKyBfdGhpcy5lbGVtZW50LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICAgIHZpZGVvLmJ1ZmZlcmVkLmxlbmd0aD1cIiArIF90aGlzLmVsZW1lbnQuYnVmZmVyZWQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnLmlzRW5hYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBfdGhpcy5lbGVtZW50LmJ1ZmZlcmVkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICAgIHZpZGVvLmJ1ZmZlcmVkIFtcIiArIGkgKyBcIl06IFwiICsgX3RoaXMuZWxlbWVudC5idWZmZXJlZC5zdGFydChpKSArIFwiLCBcIiArIF90aGlzLmVsZW1lbnQuYnVmZmVyZWQuZW5kKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWJ1Zy5sb2coXCIgIHZpZGVvLmN1cnJlbnRUaW1lPVwiICsgX3RoaXMuZWxlbWVudC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnLmxvZyhcIiAgdmlkZW8ucmVhZHlTdGF0ZT1cIiArIF90aGlzLmVsZW1lbnQucmVhZHlTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zb3VyY2VCdWZmZXIudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kb0FwcGVuZChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnNvdXJjZUJ1ZmZlci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcuZXJyb3IoJyAgU291cmNlQnVmZmVyIGVycm9yZWQhJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMubWVkaWFSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgX3RoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVidWcubG9nKFwiTWVkaWEgU291cmNlIGNsb3NlZC5cIik7XG4gICAgICAgICAgICAgICAgX3RoaXMubWVkaWFSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKF90aGlzLm1lZGlhU291cmNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhUmVhZHlQcm9taXNlO1xuICAgIH07XG4gICAgVmlkZW9Db252ZXJ0ZXIucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50LnBhdXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1lZGlhUmVhZHkgJiYgdGhpcy5lbGVtZW50LnJlYWR5U3RhdGUgPj0gMikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVyXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucGxheSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBoYW5kbGVyXzEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIGhhbmRsZXJfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZGVvQ29udmVydGVyLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQucGF1c2UoKTtcbiAgICB9O1xuICAgIFZpZGVvQ29udmVydGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLmNsZWFyKCk7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhU291cmNlICYmIHRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zb3VyY2VCdWZmZXIudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWFTb3VyY2VfMSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYVNvdXJjZV8xLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYVNvdXJjZSA9IG5ldyBNZWRpYVNvdXJjZSgpO1xuICAgICAgICB0aGlzLnJlbXV4ZXIgPSBuZXcgaDI2NF9yZW11eGVyXzEuZGVmYXVsdCh0aGlzLmZwcywgdGhpcy5mcGYsIHRoaXMuZnBzICogNjApO1xuICAgICAgICB0aGlzLm1lZGlhUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZWRpYVJlYWR5UHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnNldHVwKCk7XG4gICAgfTtcbiAgICBWaWRlb0NvbnZlcnRlci5wcm90b3R5cGUuYXBwZW5kUmF3RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBuYWx1cyA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5hcHBlbmQoZGF0YSk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgbmFsdXNfMSA9IG5hbHVzOyBfaSA8IG5hbHVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFsdSA9IG5hbHVzXzFbX2ldO1xuICAgICAgICAgICAgdmFyIHJldCA9IHRoaXMucmVtdXhlci5yZW11eChuYWx1KTtcbiAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRnJhZ21lbnQocmV0WzBdLCByZXRbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0NvbnZlcnRlci5wcm90b3R5cGUud3JpdGVGcmFnbWVudCA9IGZ1bmN0aW9uIChkdHMsIHBheSkge1xuICAgICAgICB2YXIgcmVtdXhlciA9IHRoaXMucmVtdXhlcjtcbiAgICAgICAgaWYgKHJlbXV4ZXIubXA0dHJhY2suaXNLZXlGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlcihtcDRfZ2VuZXJhdG9yXzEuZGVmYXVsdC5pbml0U2VnbWVudChbcmVtdXhlci5tcDR0cmFja10sIEluZmluaXR5LCByZW11eGVyLnRpbWVzY2FsZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXkgJiYgcGF5LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIGRlYnVnLmxvZyhcIiBQdXQgZnJhZ21lbnQ6IFwiICsgcmVtdXhlci5zZXFOdW0gKyBcIiwgZnJhbWVzPVwiICsgcmVtdXhlci5tcDR0cmFjay5zYW1wbGVzLmxlbmd0aCArIFwiLCBzaXplPVwiICsgcGF5LmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gbXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQuZnJhZ21lbnRTZWdtZW50KHJlbXV4ZXIuc2VxTnVtLCBkdHMsIHJlbXV4ZXIubXA0dHJhY2ssIHBheSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyKGZyYWdtZW50KTtcbiAgICAgICAgICAgIHJlbXV4ZXIuZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnLmVycm9yKFwiTm90aGluZyBwYXlsb2FkIVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlkZW9Db252ZXJ0ZXIucHJvdG90eXBlLndyaXRlQnVmZmVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMubWVkaWFSZWFkeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVyLnVwZGF0aW5nIHx8IHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb0FwcGVuZChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChkYXRhKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhUmVhZHlQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5zb3VyY2VCdWZmZXIudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gX3RoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZG9BcHBlbmQoZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUmVhZHlQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0NvbnZlcnRlci5wcm90b3R5cGUuZG9BcHBlbmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLmVsZW1lbnQuZXJyb3I7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgZGVidWcuZXJyb3IoXCJNU0UgRXJyb3IgT2NjdXJlZDogXCIgKyBWaWRlb0NvbnZlcnRlci5lcnJvck5vdGVzW2Vycm9yLmNvZGVdKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXVzZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5hcHBlbmRCdWZmZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgZGVidWcubG9nKFwiICBhcHBlbmRlZCBidWZmZXI6IHNpemU9XCIgKyBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGRlYnVnLmVycm9yKFwiTVNFIEVycm9yIG9jY3VyZWQgd2hpbGUgYXBwZW5kaW5nIGJ1ZmZlci4gXCIgKyBlcnIubmFtZSArIFwiOiBcIiArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZGVvQ29udmVydGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZpZGVvQ29udmVydGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTVA0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNUDQoKSB7XG4gICAgfVxuICAgIE1QNC5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBNUDQuaW5pdGFsaXplZCA9IHRydWU7XG4gICAgICAgIE1QNC50eXBlcyA9IHtcbiAgICAgICAgICAgIGF2YzE6IFtdLFxuICAgICAgICAgICAgYXZjQzogW10sXG4gICAgICAgICAgICBidHJ0OiBbXSxcbiAgICAgICAgICAgIGRpbmY6IFtdLFxuICAgICAgICAgICAgZHJlZjogW10sXG4gICAgICAgICAgICBlc2RzOiBbXSxcbiAgICAgICAgICAgIGZ0eXA6IFtdLFxuICAgICAgICAgICAgaGRscjogW10sXG4gICAgICAgICAgICBtZGF0OiBbXSxcbiAgICAgICAgICAgIG1kaGQ6IFtdLFxuICAgICAgICAgICAgbWRpYTogW10sXG4gICAgICAgICAgICBtZmhkOiBbXSxcbiAgICAgICAgICAgIG1pbmY6IFtdLFxuICAgICAgICAgICAgbW9vZjogW10sXG4gICAgICAgICAgICBtb292OiBbXSxcbiAgICAgICAgICAgIG1wNGE6IFtdLFxuICAgICAgICAgICAgbXZleDogW10sXG4gICAgICAgICAgICBtdmhkOiBbXSxcbiAgICAgICAgICAgIHNkdHA6IFtdLFxuICAgICAgICAgICAgc3RibDogW10sXG4gICAgICAgICAgICBzdGNvOiBbXSxcbiAgICAgICAgICAgIHN0c2M6IFtdLFxuICAgICAgICAgICAgc3RzZDogW10sXG4gICAgICAgICAgICBzdHN6OiBbXSxcbiAgICAgICAgICAgIHN0dHM6IFtdLFxuICAgICAgICAgICAgc3R5cDogW10sXG4gICAgICAgICAgICB0ZmR0OiBbXSxcbiAgICAgICAgICAgIHRmaGQ6IFtdLFxuICAgICAgICAgICAgdHJhZjogW10sXG4gICAgICAgICAgICB0cmFrOiBbXSxcbiAgICAgICAgICAgIHRydW46IFtdLFxuICAgICAgICAgICAgdHJlcDogW10sXG4gICAgICAgICAgICB0cmV4OiBbXSxcbiAgICAgICAgICAgIHRraGQ6IFtdLFxuICAgICAgICAgICAgdm1oZDogW10sXG4gICAgICAgICAgICBzbWhkOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBNUDQudHlwZXMpIHtcbiAgICAgICAgICAgIGlmIChNUDQudHlwZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgICAgICAgICBNUDQudHlwZXNbdHlwZV0gPSBbXG4gICAgICAgICAgICAgICAgICAgIHR5cGUuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5jaGFyQ29kZUF0KDEpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlLmNoYXJDb2RlQXQoMiksXG4gICAgICAgICAgICAgICAgICAgIHR5cGUuY2hhckNvZGVBdCgzKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBoZGxyID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHg3NiwgMHg2OSwgMHg2NCwgMHg2NSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NTYsIDB4NjksIDB4NjQsIDB4NjUsXG4gICAgICAgICAgICAweDZmLCAweDQ4LCAweDYxLCAweDZlLFxuICAgICAgICAgICAgMHg2NCwgMHg2YywgMHg2NSwgMHg3MiwgMHgwMCxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBkcmVmID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwYyxcbiAgICAgICAgICAgIDB4NzUsIDB4NzIsIDB4NmMsIDB4MjAsXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBzdGNvID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICBdKTtcbiAgICAgICAgTVA0LlNUVFMgPSBNUDQuU1RTQyA9IE1QNC5TVENPID0gc3RjbztcbiAgICAgICAgTVA0LlNUU1ogPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICBdKTtcbiAgICAgICAgTVA0LlZNSEQgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuU01IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuU1RTRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMVxuICAgICAgICBdKTtcbiAgICAgICAgTVA0LkZUWVAgPSBNUDQuYm94KE1QNC50eXBlcy5mdHlwLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDY5LCAweDczLCAweDZmLCAweDM1LFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4NjEsIDB4NzYsIDB4NjMsIDB4MzEsXG4gICAgICAgICAgICAweDY5LCAweDczLCAweDZmLCAweDM1LFxuICAgICAgICAgICAgMHg2NCwgMHg2MSwgMHg3MywgMHg2OCxcbiAgICAgICAgXSkpO1xuICAgICAgICBNUDQuU1RZUCA9IE1QNC5ib3goTVA0LnR5cGVzLnN0eXAsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4NmQsIDB4NzMsIDB4NjQsIDB4NjgsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHg2ZCwgMHg3MywgMHg2NCwgMHg2OCxcbiAgICAgICAgICAgIDB4NmQsIDB4NzMsIDB4NjksIDB4NzgsXG4gICAgICAgIF0pKTtcbiAgICAgICAgTVA0LkRJTkYgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLCBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBkcmVmKSk7XG4gICAgICAgIE1QNC5IRExSID0gTVA0LmJveChNUDQudHlwZXMuaGRsciwgaGRscik7XG4gICAgfTtcbiAgICBNUDQuYm94ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBheWxvYWRbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSA4O1xuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHBheWxvYWRfMSA9IHBheWxvYWQ7IF9hIDwgcGF5bG9hZF8xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgdmFyIHAgPSBwYXlsb2FkXzFbX2FdO1xuICAgICAgICAgICAgc2l6ZSArPSBwLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgICAgICByZXN1bHRbMF0gPSAoc2l6ZSA+PiAyNCkgJiAweGZmO1xuICAgICAgICByZXN1bHRbMV0gPSAoc2l6ZSA+PiAxNikgJiAweGZmO1xuICAgICAgICByZXN1bHRbMl0gPSAoc2l6ZSA+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICAgICAgICByZXN1bHQuc2V0KHR5cGUsIDQpO1xuICAgICAgICBzaXplID0gODtcbiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBwYXlsb2FkXzIgPSBwYXlsb2FkOyBfYiA8IHBheWxvYWRfMi5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgIHZhciBib3ggPSBwYXlsb2FkXzJbX2JdO1xuICAgICAgICAgICAgcmVzdWx0LnNldChib3gsIHNpemUpO1xuICAgICAgICAgICAgc2l6ZSArPSBib3guYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTVA0Lm1kYXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRhdCwgZGF0YSk7XG4gICAgfTtcbiAgICBNUDQubWRoZCA9IGZ1bmN0aW9uICh0aW1lc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHRpbWVzY2FsZSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHg1NSwgMHhjNCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC5tZGlhID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGlhLCBNUDQubWRoZCh0cmFjay50aW1lc2NhbGUpLCBNUDQuSERMUiwgTVA0Lm1pbmYodHJhY2spKTtcbiAgICB9O1xuICAgIE1QNC5tZmhkID0gZnVuY3Rpb24gKHNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZmhkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+PiAyNCksXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBzZXF1ZW5jZU51bWJlciAmIDB4RkYsXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC5taW5mID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5taW5mLCBNUDQuYm94KE1QNC50eXBlcy52bWhkLCBNUDQuVk1IRCksIE1QNC5ESU5GLCBNUDQuc3RibCh0cmFjaykpO1xuICAgIH07XG4gICAgTVA0Lm1vb2YgPSBmdW5jdGlvbiAoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb29mLCBNUDQubWZoZChzbiksIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSk7XG4gICAgfTtcbiAgICBNUDQubW9vdiA9IGZ1bmN0aW9uICh0cmFja3MsIGR1cmF0aW9uLCB0aW1lc2NhbGUpIHtcbiAgICAgICAgdmFyIGJveGVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgdHJhY2tzXzEgPSB0cmFja3M7IF9pIDwgdHJhY2tzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NfMVtfaV07XG4gICAgICAgICAgICBib3hlcy5wdXNoKE1QNC50cmFrKHRyYWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3guYXBwbHkoTVA0LCBbTVA0LnR5cGVzLm1vb3YsIE1QNC5tdmhkKHRpbWVzY2FsZSwgZHVyYXRpb24pLCBNUDQubXZleCh0cmFja3MpXS5jb25jYXQoYm94ZXMpKTtcbiAgICB9O1xuICAgIE1QNC5tdmhkID0gZnVuY3Rpb24gKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgdGltZXNjYWxlICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgZHVyYXRpb24gJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDEsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAyLFxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm12aGQsIGJ5dGVzKTtcbiAgICB9O1xuICAgIE1QNC5tdmV4ID0gZnVuY3Rpb24gKHRyYWNrcykge1xuICAgICAgICB2YXIgYm94ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB0cmFja3NfMiA9IHRyYWNrczsgX2kgPCB0cmFja3NfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB0cmFjayA9IHRyYWNrc18yW19pXTtcbiAgICAgICAgICAgIGJveGVzLnB1c2goTVA0LnRyZXgodHJhY2spKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveC5hcHBseShNUDQsIFtNUDQudHlwZXMubXZleF0uY29uY2F0KGJveGVzLCBbTVA0LnRyZXAoKV0pKTtcbiAgICB9O1xuICAgIE1QNC50cmVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJlcCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQuc3RibCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RibCwgTVA0LnN0c2QodHJhY2spLCBNUDQuYm94KE1QNC50eXBlcy5zdHRzLCBNUDQuU1RUUyksIE1QNC5ib3goTVA0LnR5cGVzLnN0c2MsIE1QNC5TVFNDKSwgTVA0LmJveChNUDQudHlwZXMuc3RzeiwgTVA0LlNUU1opLCBNUDQuYm94KE1QNC50eXBlcy5zdGNvLCBNUDQuU1RDTykpO1xuICAgIH07XG4gICAgTVA0LmF2YzEgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgdmFyIHNwcyA9IFtdO1xuICAgICAgICB2YXIgcHBzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0cmFjay5zcHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBzcHMucHVzaCgobGVuID4+PiA4KSAmIDB4RkYpO1xuICAgICAgICAgICAgc3BzLnB1c2goKGxlbiAmIDB4RkYpKTtcbiAgICAgICAgICAgIHNwcyA9IHNwcy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0cmFjay5wcHM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IF9jW19iXTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBwcHMucHVzaCgobGVuID4+PiA4KSAmIDB4RkYpO1xuICAgICAgICAgICAgcHBzLnB1c2goKGxlbiAmIDB4RkYpKTtcbiAgICAgICAgICAgIHBwcyA9IHBwcy5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdmNjID0gTVA0LmJveChNUDQudHlwZXMuYXZjQywgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMSxcbiAgICAgICAgICAgIHNwc1szXSxcbiAgICAgICAgICAgIHNwc1s0XSxcbiAgICAgICAgICAgIHNwc1s1XSxcbiAgICAgICAgICAgIDB4ZmMgfCAzLFxuICAgICAgICAgICAgMHhFMCB8IHRyYWNrLnNwcy5sZW5ndGgsXG4gICAgICAgIF0uY29uY2F0KHNwcykuY29uY2F0KFtcbiAgICAgICAgICAgIHRyYWNrLnBwcy5sZW5ndGgsXG4gICAgICAgIF0pLmNvbmNhdChwcHMpKSk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRyYWNrLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdHJhY2suaGVpZ2h0O1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgd2lkdGggJiAweGZmLFxuICAgICAgICAgICAgKGhlaWdodCA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBoZWlnaHQgJiAweGZmLFxuICAgICAgICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MTIsXG4gICAgICAgICAgICAweDYyLCAweDY5LCAweDZFLCAweDY1LFxuICAgICAgICAgICAgMHg2QywgMHg3MCwgMHg3MiwgMHg2RixcbiAgICAgICAgICAgIDB4MkUsIDB4NzIsIDB4NzUsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTgsXG4gICAgICAgICAgICAweDExLCAweDExXG4gICAgICAgIF0pLCBhdmNjLCBNUDQuYm94KE1QNC50eXBlcy5idHJ0LCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgyZCwgMHhjNiwgMHhjMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MmQsIDB4YzYsIDB4YzAsXG4gICAgICAgIF0pKSk7XG4gICAgfTtcbiAgICBNUDQuc3RzZCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5hdmMxKHRyYWNrKSk7XG4gICAgfTtcbiAgICBNUDQudGtoZCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgaWQgPSB0cmFjay5pZDtcbiAgICAgICAgdmFyIHdpZHRoID0gdHJhY2sud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0cmFjay5oZWlnaHQ7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50a2hkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAyLFxuICAgICAgICAgICAgKGlkID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAoaWQgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChpZCA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBpZCAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJyA/IDB4MDEgOiAweDAwKSwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgd2lkdGggJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIChoZWlnaHQgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgaGVpZ2h0ICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC50cmFmID0gZnVuY3Rpb24gKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgICAgIHZhciBpZCA9IHRyYWNrLmlkO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDIsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaWQgPj4gMjQpLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGlkICYgMHhGRiksXG4gICAgICAgIF0pKSwgTVA0LmJveChNUDQudHlwZXMudGZkdCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSA+PiAyNCksXG4gICAgICAgICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSA+PiAxNikgJiAwWEZGLFxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgJiAweEZGKSxcbiAgICAgICAgXSkpLCBNUDQudHJ1bih0cmFjaywgMTYgK1xuICAgICAgICAgICAgMTYgK1xuICAgICAgICAgICAgOCArXG4gICAgICAgICAgICAxNiArXG4gICAgICAgICAgICA4ICtcbiAgICAgICAgICAgIDgpKTtcbiAgICB9O1xuICAgIE1QNC50cmFrID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHRyYWNrLmR1cmF0aW9uID0gdHJhY2suZHVyYXRpb24gfHwgMHhmZmZmZmZmZjtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWssIE1QNC50a2hkKHRyYWNrKSwgTVA0Lm1kaWEodHJhY2spKTtcbiAgICB9O1xuICAgIE1QNC50cmV4ID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBpZCA9IHRyYWNrLmlkO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJleCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaWQgPj4gMjQpLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGlkICYgMHhGRiksXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgzYyxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQudHJ1biA9IGZ1bmN0aW9uICh0cmFjaywgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXTtcbiAgICAgICAgdmFyIGxlbiA9IHNhbXBsZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYWRkaXRpb25hbExlbiA9IHRyYWNrLmlzS2V5RnJhbWUgPyA0IDogMDtcbiAgICAgICAgdmFyIGFycmF5bGVuID0gMTIgKyBhZGRpdGlvbmFsTGVuICsgKDQgKiBsZW4pO1xuICAgICAgICB2YXIgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheWxlbik7XG4gICAgICAgIG9mZnNldCArPSA4ICsgYXJyYXlsZW47XG4gICAgICAgIGFycmF5LnNldChbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMiwgKHRyYWNrLmlzS2V5RnJhbWUgPyAweDA1IDogMHgwMSksXG4gICAgICAgICAgICAobGVuID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKGxlbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChsZW4gPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGxlbiAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0ID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIG9mZnNldCAmIDB4RkYsXG4gICAgICAgIF0sIDApO1xuICAgICAgICBpZiAodHJhY2suaXNLZXlGcmFtZSkge1xuICAgICAgICAgICAgYXJyYXkuc2V0KFtcbiAgICAgICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgXSwgMTIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzYW1wbGUgPSBzYW1wbGVzW2ldO1xuICAgICAgICAgICAgdmFyIHNpemUgPSBzYW1wbGUuc2l6ZTtcbiAgICAgICAgICAgIGFycmF5LnNldChbXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgICAgICBzaXplICYgMHhGRixcbiAgICAgICAgICAgIF0sIDEyICsgYWRkaXRpb25hbExlbiArIDQgKiBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJ1biwgYXJyYXkpO1xuICAgIH07XG4gICAgTVA0LmluaXRTZWdtZW50ID0gZnVuY3Rpb24gKHRyYWNrcywgZHVyYXRpb24sIHRpbWVzY2FsZSkge1xuICAgICAgICBpZiAoIU1QNC5pbml0YWxpemVkKSB7XG4gICAgICAgICAgICBNUDQuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb3ZpZSA9IE1QNC5tb292KHRyYWNrcywgZHVyYXRpb24sIHRpbWVzY2FsZSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShNUDQuRlRZUC5ieXRlTGVuZ3RoICsgbW92aWUuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3VsdC5zZXQoTVA0LkZUWVApO1xuICAgICAgICByZXN1bHQuc2V0KG1vdmllLCBNUDQuRlRZUC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE1QNC5mcmFnbWVudFNlZ21lbnQgPSBmdW5jdGlvbiAoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrLCBwYXlsb2FkKSB7XG4gICAgICAgIHZhciBtb29mID0gTVA0Lm1vb2Yoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrKTtcbiAgICAgICAgdmFyIG1kYXQgPSBNUDQubWRhdChwYXlsb2FkKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KE1QNC5TVFlQLmJ5dGVMZW5ndGggKyBtb29mLmJ5dGVMZW5ndGggKyBtZGF0LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXN1bHQuc2V0KE1QNC5TVFlQKTtcbiAgICAgICAgcmVzdWx0LnNldChtb29mLCBNUDQuU1RZUC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmVzdWx0LnNldChtZGF0LCBNUDQuU1RZUC5ieXRlTGVuZ3RoICsgbW9vZi5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE1QNC50eXBlcyA9IHt9O1xuICAgIE1QNC5pbml0YWxpemVkID0gZmFsc2U7XG4gICAgcmV0dXJuIE1QNDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNUDQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOQUxVID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOQUxVKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5ucmkgPSAoZGF0YVswXSAmIDB4NjApID4+IDU7XG4gICAgICAgIHRoaXMubnR5cGUgPSBkYXRhWzBdICYgMHgxZjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5BTFUsIFwiTkRSXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTkFMVSwgXCJJRFJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOQUxVLCBcIlNFSVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5BTFUsIFwiU1BTXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTkFMVSwgXCJQUFNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOQUxVLCBcIlRZUEVTXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgICAgICBfYVtOQUxVLklEUl0gPSAnSURSJyxcbiAgICAgICAgICAgICAgICBfYVtOQUxVLlNFSV0gPSAnU0VJJyxcbiAgICAgICAgICAgICAgICBfYVtOQUxVLlNQU10gPSAnU1BTJyxcbiAgICAgICAgICAgICAgICBfYVtOQUxVLlBQU10gPSAnUFBTJyxcbiAgICAgICAgICAgICAgICBfYVtOQUxVLk5EUl0gPSAnTkRSJyxcbiAgICAgICAgICAgICAgICBfYTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTkFMVS50eXBlID0gZnVuY3Rpb24gKG5hbHUpIHtcbiAgICAgICAgaWYgKG5hbHUubnR5cGUgaW4gTkFMVS5UWVBFUykge1xuICAgICAgICAgICAgcmV0dXJuIE5BTFUuVFlQRVNbbmFsdS5udHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VOS05PV04nO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOQUxVLnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udHlwZTtcbiAgICB9O1xuICAgIE5BTFUucHJvdG90eXBlLmlzS2V5ZnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm50eXBlID09PSBOQUxVLklEUjtcbiAgICB9O1xuICAgIE5BTFUucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiA0ICsgdGhpcy5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgfTtcbiAgICBOQUxVLnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5nZXRTaXplKCkpO1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhyZXN1bHQuYnVmZmVyKTtcbiAgICAgICAgdmlldy5zZXRVaW50MzIoMCwgdGhpcy5nZXRTaXplKCkgLSA0KTtcbiAgICAgICAgcmVzdWx0LnNldCh0aGlzLmRhdGEsIDQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIE5BTFU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTkFMVTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEJpdFN0cmVhbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQml0U3RyZWFtKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYml0TGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoICogODtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFN0cmVhbS5wcm90b3R5cGUsIFwiYml0c0F2YWlsYWJsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYml0TGVuZ3RoIC0gdGhpcy5pbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5za2lwQml0cyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmICh0aGlzLmJpdHNBdmFpbGFibGUgPCBzaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGJ5dGVzIGF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5kZXggKz0gc2l6ZTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUucmVhZEJpdHMgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5nZXRCaXRzKHNpemUsIHRoaXMuaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKHNpemUsIG9mZnNldEJpdHMsIG1vdmVJbmRleCkge1xuICAgICAgICBpZiAobW92ZUluZGV4ID09PSB2b2lkIDApIHsgbW92ZUluZGV4ID0gdHJ1ZTsgfVxuICAgICAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlIDwgc2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBieXRlcyBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0Qml0cyAlIDg7XG4gICAgICAgIHZhciBieXRlID0gdGhpcy5kYXRhWyhvZmZzZXRCaXRzIC8gOCkgfCAwXSAmICgweGZmID4+PiBvZmZzZXQpO1xuICAgICAgICB2YXIgYml0cyA9IDggLSBvZmZzZXQ7XG4gICAgICAgIGlmIChiaXRzID49IHNpemUpIHtcbiAgICAgICAgICAgIGlmIChtb3ZlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ICs9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnl0ZSA+PiAoYml0cyAtIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1vdmVJbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggKz0gYml0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXh0U2l6ZSA9IHNpemUgLSBiaXRzO1xuICAgICAgICAgICAgcmV0dXJuIChieXRlIDw8IG5leHRTaXplKSB8IHRoaXMuZ2V0Qml0cyhuZXh0U2l6ZSwgb2Zmc2V0Qml0cyArIGJpdHMsIG1vdmVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUuc2tpcExaID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGVhZGluZ1plcm9Db3VudDtcbiAgICAgICAgZm9yIChsZWFkaW5nWmVyb0NvdW50ID0gMDsgbGVhZGluZ1plcm9Db3VudCA8IHRoaXMuYml0TGVuZ3RoIC0gdGhpcy5pbmRleDsgKytsZWFkaW5nWmVyb0NvdW50KSB7XG4gICAgICAgICAgICBpZiAoMCAhPT0gdGhpcy5nZXRCaXRzKDEsIHRoaXMuaW5kZXggKyBsZWFkaW5nWmVyb0NvdW50LCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ICs9IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgfTtcbiAgICBCaXRTdHJlYW0ucHJvdG90eXBlLnNraXBVRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2tpcEJpdHMoMSArIHRoaXMuc2tpcExaKCkpO1xuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5za2lwRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2tpcEJpdHMoMSArIHRoaXMuc2tpcExaKCkpO1xuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5yZWFkVUVHID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJlZml4ID0gdGhpcy5za2lwTFooKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMocHJlZml4ICsgMSkgLSAxO1xuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5yZWFkRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucmVhZFVFRygpO1xuICAgICAgICBpZiAoMHgwMSAmIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gKDEgKyB2YWx1ZSkgPj4+IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTEgKiAodmFsdWUgPj4+IDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCaXRTdHJlYW0ucHJvdG90eXBlLnJlYWRCb29sZWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gMSA9PT0gdGhpcy5yZWFkQml0cygxKTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUucmVhZFVCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyg4KTtcbiAgICB9O1xuICAgIEJpdFN0cmVhbS5wcm90b3R5cGUucmVhZFVTaG9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMTYpO1xuICAgIH07XG4gICAgQml0U3RyZWFtLnByb3RvdHlwZS5yZWFkVUludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMzIpO1xuICAgIH07XG4gICAgcmV0dXJuIEJpdFN0cmVhbTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCaXRTdHJlYW07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBtTG9nZ2VyO1xudmFyIG1FcnJvckxvZ2dlcjtcbmZ1bmN0aW9uIHNldExvZ2dlcihsb2dnZXIsIGVycm9yTG9nZ2VyKSB7XG4gICAgbUxvZ2dlciA9IGxvZ2dlcjtcbiAgICBtRXJyb3JMb2dnZXIgPSBlcnJvckxvZ2dlciAhPSBudWxsID8gZXJyb3JMb2dnZXIgOiBsb2dnZXI7XG59XG5leHBvcnRzLnNldExvZ2dlciA9IHNldExvZ2dlcjtcbmZ1bmN0aW9uIGlzRW5hYmxlKCkge1xuICAgIHJldHVybiBtTG9nZ2VyICE9IG51bGw7XG59XG5leHBvcnRzLmlzRW5hYmxlID0gaXNFbmFibGU7XG5mdW5jdGlvbiBsb2cobWVzc2FnZSkge1xuICAgIHZhciBvcHRpb25hbFBhcmFtcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9wdGlvbmFsUGFyYW1zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAobUxvZ2dlcikge1xuICAgICAgICBtTG9nZ2VyLmFwcGx5KHZvaWQgMCwgW21lc3NhZ2VdLmNvbmNhdChvcHRpb25hbFBhcmFtcykpO1xuICAgIH1cbn1cbmV4cG9ydHMubG9nID0gbG9nO1xuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xuICAgIHZhciBvcHRpb25hbFBhcmFtcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9wdGlvbmFsUGFyYW1zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAobUVycm9yTG9nZ2VyKSB7XG4gICAgICAgIG1FcnJvckxvZ2dlci5hcHBseSh2b2lkIDAsIFttZXNzYWdlXS5jb25jYXQob3B0aW9uYWxQYXJhbXMpKTtcbiAgICB9XG59XG5leHBvcnRzLmVycm9yID0gZXJyb3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOQUxVXzEgPSByZXF1aXJlKFwiLi9OQUxVXCIpO1xudmFyIFZpZGVvU3RyZWFtQnVmZmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWRlb1N0cmVhbUJ1ZmZlcigpIHtcbiAgICB9XG4gICAgVmlkZW9TdHJlYW1CdWZmZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpZGVvU3RyZWFtQnVmZmVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIG5leHROYWxIZWFkZXIgPSBmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgdmFyIGkgPSAzO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGJbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAtIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgYnVmZmVyO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVszXSA9PT0gMSAmJiB2YWx1ZVsyXSA9PT0gMCAmJiB2YWx1ZVsxXSA9PT0gMCAmJiB2YWx1ZVswXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBOQUxVXzEuZGVmYXVsdCh0aGlzLmJ1ZmZlci5zdWJhcnJheSg0KSkpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFVpbnQ4QXJyYXkuZnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1ZmZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICBidWZmZXIgPSB0aGlzLm1lcmdlQnVmZmVyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIGYgPSBuZXh0TmFsSGVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gZigpOyBpbmRleCAhPSBudWxsOyBpbmRleCA9IGYoKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IE5BTFVfMS5kZWZhdWx0KGJ1ZmZlci5zdWJhcnJheShsYXN0SW5kZXggKyA0LCBpbmRleCkpKTtcbiAgICAgICAgICAgIGxhc3RJbmRleCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyLnN1YmFycmF5KGxhc3RJbmRleCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBWaWRlb1N0cmVhbUJ1ZmZlci5wcm90b3R5cGUubWVyZ2VCdWZmZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5ld0J1ZmZlciA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggKyB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbmV3QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdCdWZmZXIuc2V0KHZhbHVlLCB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdCdWZmZXI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBWaWRlb1N0cmVhbUJ1ZmZlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb1N0cmVhbUJ1ZmZlcjtcbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyAncGF0aCcgbW9kdWxlIGV4dHJhY3RlZCBmcm9tIE5vZGUuanMgdjguMTEuMSAob25seSB0aGUgcG9zaXggcGFydClcbi8vIHRyYW5zcGxpdGVkIHdpdGggQmFiZWxcblxuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzZXJ0UGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkICcgKyBKU09OLnN0cmluZ2lmeShwYXRoKSk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIHdpdGggZGlyZWN0b3J5IG5hbWVzXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCkge1xuICB2YXIgcmVzID0gJyc7XG4gIHZhciBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gIHZhciBsYXN0U2xhc2ggPSAtMTtcbiAgdmFyIGRvdHMgPSAwO1xuICB2YXIgY29kZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcGF0aC5sZW5ndGg7ICsraSkge1xuICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIGVsc2UgaWYgKGNvZGUgPT09IDQ3IC8qLyovKVxuICAgICAgYnJlYWs7XG4gICAgZWxzZVxuICAgICAgY29kZSA9IDQ3IC8qLyovO1xuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAvLyBOT09QXG4gICAgICB9IGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHwgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiAvKi4qLyB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2IC8qLiovKSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCAhPT0gcmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMgPSAnLi4nO1xuICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgIHJlcyArPSAnLycgKyBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmVzID0gcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSBpIC0gbGFzdFNsYXNoIC0gMTtcbiAgICAgIH1cbiAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICBkb3RzID0gMDtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDQ2IC8qLiovICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICArK2RvdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvdHMgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gX2Zvcm1hdChzZXAsIHBhdGhPYmplY3QpIHtcbiAgdmFyIGRpciA9IHBhdGhPYmplY3QuZGlyIHx8IHBhdGhPYmplY3Qucm9vdDtcbiAgdmFyIGJhc2UgPSBwYXRoT2JqZWN0LmJhc2UgfHwgKHBhdGhPYmplY3QubmFtZSB8fCAnJykgKyAocGF0aE9iamVjdC5leHQgfHwgJycpO1xuICBpZiAoIWRpcikge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG4gIGlmIChkaXIgPT09IHBhdGhPYmplY3Qucm9vdCkge1xuICAgIHJldHVybiBkaXIgKyBiYXNlO1xuICB9XG4gIHJldHVybiBkaXIgKyBzZXAgKyBiYXNlO1xufVxuXG52YXIgcG9zaXggPSB7XG4gIC8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICB2YXIgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgdmFyIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICB2YXIgY3dkO1xuXG4gICAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgIHZhciBwYXRoO1xuICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgcGF0aCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoY3dkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKTtcbiAgICAgICAgcGF0aCA9IGN3ZDtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcblxuICAgIGlmIChyZXNvbHZlZEFic29sdXRlKSB7XG4gICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgIHJldHVybiAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfSBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcuJztcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiAnLic7XG5cbiAgICB2YXIgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyovKi87XG4gICAgdmFyIHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IDQ3IC8qLyovO1xuXG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsICFpc0Fic29sdXRlKTtcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCAmJiAhaXNBYnNvbHV0ZSkgcGF0aCA9ICcuJztcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHRyYWlsaW5nU2VwYXJhdG9yKSBwYXRoICs9ICcvJztcblxuICAgIGlmIChpc0Fic29sdXRlKSByZXR1cm4gJy8nICsgcGF0aDtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBpc0Fic29sdXRlOiBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHJldHVybiBwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgfSxcblxuICBqb2luOiBmdW5jdGlvbiBqb2luKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuICcuJztcbiAgICB2YXIgam9pbmVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgYXNzZXJ0UGF0aChhcmcpO1xuICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICBqb2luZWQgPSBhcmc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBqb2luZWQgKz0gJy8nICsgYXJnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gJy4nO1xuICAgIHJldHVybiBwb3NpeC5ub3JtYWxpemUoam9pbmVkKTtcbiAgfSxcblxuICByZWxhdGl2ZTogZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICBhc3NlcnRQYXRoKGZyb20pO1xuICAgIGFzc2VydFBhdGgodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICBmcm9tID0gcG9zaXgucmVzb2x2ZShmcm9tKTtcbiAgICB0byA9IHBvc2l4LnJlc29sdmUodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgdmFyIGZyb21TdGFydCA9IDE7XG4gICAgZm9yICg7IGZyb21TdGFydCA8IGZyb20ubGVuZ3RoOyArK2Zyb21TdGFydCkge1xuICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQpICE9PSA0NyAvKi8qLylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBmcm9tRW5kID0gZnJvbS5sZW5ndGg7XG4gICAgdmFyIGZyb21MZW4gPSBmcm9tRW5kIC0gZnJvbVN0YXJ0O1xuXG4gICAgLy8gVHJpbSBhbnkgbGVhZGluZyBiYWNrc2xhc2hlc1xuICAgIHZhciB0b1N0YXJ0ID0gMTtcbiAgICBmb3IgKDsgdG9TdGFydCA8IHRvLmxlbmd0aDsgKyt0b1N0YXJ0KSB7XG4gICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0KSAhPT0gNDcgLyovKi8pXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdG9FbmQgPSB0by5sZW5ndGg7XG4gICAgdmFyIHRvTGVuID0gdG9FbmQgLSB0b1N0YXJ0O1xuXG4gICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxuICAgIHZhciBsZW5ndGggPSBmcm9tTGVuIDwgdG9MZW4gPyBmcm9tTGVuIDogdG9MZW47XG4gICAgdmFyIGxhc3RDb21tb25TZXAgPSAtMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPD0gbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHRvTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGB0b2AuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXInOyB0bz0nL2Zvby9iYXIvYmF6J1xuICAgICAgICAgICAgcmV0dXJuIHRvLnNsaWNlKHRvU3RhcnQgKyBpICsgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvJzsgdG89Jy9mb28nXG4gICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmcm9tTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYGZyb21gLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyL2Jheic7IHRvPScvZm9vL2JhcidcbiAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgcm9vdC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vJzsgdG89Jy8nXG4gICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgZnJvbUNvZGUgPSBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSk7XG4gICAgICB2YXIgdG9Db2RlID0gdG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSk7XG4gICAgICBpZiAoZnJvbUNvZGUgIT09IHRvQ29kZSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gNDcgLyovKi8pXG4gICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYFxuICAgIC8vIGFuZCBgZnJvbWBcbiAgICBmb3IgKGkgPSBmcm9tU3RhcnQgKyBsYXN0Q29tbW9uU2VwICsgMTsgaSA8PSBmcm9tRW5kOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBmcm9tRW5kIHx8IGZyb20uY2hhckNvZGVBdChpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgaWYgKG91dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgb3V0ICs9ICcuLic7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvdXQgKz0gJy8uLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcbiAgICAvLyB0aGUgY29tbW9uIHBhdGggcGFydHNcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gb3V0ICsgdG8uc2xpY2UodG9TdGFydCArIGxhc3RDb21tb25TZXApO1xuICAgIGVsc2Uge1xuICAgICAgdG9TdGFydCArPSBsYXN0Q29tbW9uU2VwO1xuICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCkgPT09IDQ3IC8qLyovKVxuICAgICAgICArK3RvU3RhcnQ7XG4gICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCk7XG4gICAgfVxuICB9LFxuXG4gIF9tYWtlTG9uZzogZnVuY3Rpb24gX21ha2VMb25nKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBkaXJuYW1lOiBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcuJztcbiAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKSByZXR1cm4gJy8vJztcbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xuICB9LFxuXG4gIGJhc2VuYW1lOiBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGV4dCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaTtcblxuICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiBleHQubGVuZ3RoID4gMCAmJiBleHQubGVuZ3RoIDw9IHBhdGgubGVuZ3RoKSB7XG4gICAgICBpZiAoZXh0Lmxlbmd0aCA9PT0gcGF0aC5sZW5ndGggJiYgZXh0ID09PSBwYXRoKSByZXR1cm4gJyc7XG4gICAgICB2YXIgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgZmlyc3ROb25TbGFzaEVuZCA9IC0xO1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIHJlbWVtYmVyIHRoaXMgaW5kZXggaW4gY2FzZVxuICAgICAgICAgICAgLy8gd2UgbmVlZCBpdCBpZiB0aGUgZXh0ZW5zaW9uIGVuZHMgdXAgbm90IG1hdGNoaW5nXG4gICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGZpcnN0Tm9uU2xhc2hFbmQgPSBpICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4dElkeCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGV4cGxpY2l0IGV4dGVuc2lvblxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIGV4dGVuc2lvbiwgc28gbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBFeHRlbnNpb24gZG9lcyBub3QgbWF0Y2gsIHNvIG91ciByZXN1bHQgaXMgdGhlIGVudGlyZSBwYXRoXG4gICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICBleHRJZHggPSAtMTtcbiAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7ZWxzZSBpZiAoZW5kID09PSAtMSkgZW5kID0gcGF0aC5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAgIC8vIHBhdGggY29tcG9uZW50XG4gICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiAnJztcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSxcblxuICBleHRuYW1lOiBmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICB2YXIgcHJlRG90U3RhdGUgPSAwO1xuICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgfSxcblxuICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChwYXRoT2JqZWN0KSB7XG4gICAgaWYgKHBhdGhPYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIHBhdGhPYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHBhdGhPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gX2Zvcm1hdCgnLycsIHBhdGhPYmplY3QpO1xuICB9LFxuXG4gIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShwYXRoKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIHZhciByZXQgPSB7IHJvb3Q6ICcnLCBkaXI6ICcnLCBiYXNlOiAnJywgZXh0OiAnJywgbmFtZTogJycgfTtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiByZXQ7XG4gICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgdmFyIGlzQWJzb2x1dGUgPSBjb2RlID09PSA0NyAvKi8qLztcbiAgICB2YXIgc3RhcnQ7XG4gICAgaWYgKGlzQWJzb2x1dGUpIHtcbiAgICAgIHJldC5yb290ID0gJy8nO1xuICAgICAgc3RhcnQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTtcblxuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG5cbiAgICAvLyBHZXQgbm9uLWRpciBpbmZvXG4gICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSBzdGFydERvdCA9IGk7ZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHByZURvdFN0YXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICBpZiAoZW5kICE9PSAtMSkge1xuICAgICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKDEsIGVuZCk7ZWxzZSByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIHN0YXJ0RG90KTtcbiAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgIH1cblxuICAgIGlmIChzdGFydFBhcnQgPiAwKSByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtlbHNlIGlmIChpc0Fic29sdXRlKSByZXQuZGlyID0gJy8nO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSxcblxuICBzZXA6ICcvJyxcbiAgZGVsaW1pdGVyOiAnOicsXG4gIHdpbjMyOiBudWxsLFxuICBwb3NpeDogbnVsbFxufTtcblxucG9zaXgucG9zaXggPSBwb3NpeDtcblxubW9kdWxlLmV4cG9ydHMgPSBwb3NpeDtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMjAsMTFINy44M2w1LjU5LC01LjU5TDEyLDRsLTgsOCA4LDggMS40MSwtMS40MUw3LjgzLDEzSDIwdi0yelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xMiwyQzYuNDcsMiAyLDYuNDcgMiwxMnM0LjQ3LDEwIDEwLDEwIDEwLC00LjQ3IDEwLC0xMFMxNy41MywyIDEyLDJ6TTEyLDIwYy00LjQxLDAgLTgsLTMuNTkgLTgsLThzMy41OSwtOCA4LC04IDgsMy41OSA4LDggLTMuNTksOCAtOCw4ek0xNS41OSw3TDEyLDEwLjU5IDguNDEsNyA3LDguNDEgMTAuNTksMTIgNywxNS41OSA4LjQxLDE3IDEyLDEzLjQxIDE1LjU5LDE3IDE3LDE1LjU5IDEzLjQxLDEyIDE3LDguNDF6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTMsMThoMTh2LTJMMywxNnYyek0zLDEzaDE4di0yTDMsMTF2MnpNMyw2djJoMThMMjEsNkwzLDZ6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTEyLDIuMDJjLTUuNTEsMCAtOS45OCw0LjQ3IC05Ljk4LDkuOThzNC40Nyw5Ljk4IDkuOTgsOS45OCA5Ljk4LC00LjQ3IDkuOTgsLTkuOThTMTcuNTEsMi4wMiAxMiwyLjAyek0xMiwxOS45OGMtNC40LDAgLTcuOTgsLTMuNTggLTcuOTgsLTcuOThTNy42LDQuMDIgMTIsNC4wMiAxOS45OCw3LjYgMTkuOTgsMTIgMTYuNCwxOS45OCAxMiwxOS45OHpNMTIuNzUsNWwtNC41LDguNWgzLjE0TDExLjM5LDE5bDQuMzYsLTguNWgtM3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMTcuNjUsNi4zNUMxNi4yLDQuOSAxNC4yMSw0IDEyLDRjLTQuNDIsMCAtNy45OSwzLjU4IC03Ljk5LDhzMy41Nyw4IDcuOTksOGMzLjczLDAgNi44NCwtMi41NSA3LjczLC02aC0yLjA4Yy0wLjgyLDIuMzMgLTMuMDQsNCAtNS42NSw0IC0zLjMxLDAgLTYsLTIuNjkgLTYsLTZzMi42OSwtNiA2LC02YzEuNjYsMCAzLjE0LDAuNjkgNC4yMiwxLjc4TDEzLDExaDdWNGwtMi4zNSwyLjM1elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xOS40MywxMi45OGMwLjA0LC0wLjMyIDAuMDcsLTAuNjQgMC4wNywtMC45OCAwLC0wLjM0IC0wLjAzLC0wLjY2IC0wLjA3LC0wLjk4bDIuMTEsLTEuNjVjMC4xOSwtMC4xNSAwLjI0LC0wLjQyIDAuMTIsLTAuNjRsLTIsLTMuNDZjLTAuMDksLTAuMTYgLTAuMjYsLTAuMjUgLTAuNDQsLTAuMjUgLTAuMDYsMCAtMC4xMiwwLjAxIC0wLjE3LDAuMDNsLTIuNDksMWMtMC41MiwtMC40IC0xLjA4LC0wLjczIC0xLjY5LC0wLjk4bC0wLjM4LC0yLjY1QzE0LjQ2LDIuMTggMTQuMjUsMiAxNCwyaC00Yy0wLjI1LDAgLTAuNDYsMC4xOCAtMC40OSwwLjQybC0wLjM4LDIuNjVjLTAuNjEsMC4yNSAtMS4xNywwLjU5IC0xLjY5LDAuOThsLTIuNDksLTFjLTAuMDYsLTAuMDIgLTAuMTIsLTAuMDMgLTAuMTgsLTAuMDMgLTAuMTcsMCAtMC4zNCwwLjA5IC0wLjQzLDAuMjVsLTIsMy40NmMtMC4xMywwLjIyIC0wLjA3LDAuNDkgMC4xMiwwLjY0bDIuMTEsMS42NWMtMC4wNCwwLjMyIC0wLjA3LDAuNjUgLTAuMDcsMC45OCAwLDAuMzMgMC4wMywwLjY2IDAuMDcsMC45OGwtMi4xMSwxLjY1Yy0wLjE5LDAuMTUgLTAuMjQsMC40MiAtMC4xMiwwLjY0bDIsMy40NmMwLjA5LDAuMTYgMC4yNiwwLjI1IDAuNDQsMC4yNSAwLjA2LDAgMC4xMiwtMC4wMSAwLjE3LC0wLjAzbDIuNDksLTFjMC41MiwwLjQgMS4wOCwwLjczIDEuNjksMC45OGwwLjM4LDIuNjVjMC4wMywwLjI0IDAuMjQsMC40MiAwLjQ5LDAuNDJoNGMwLjI1LDAgMC40NiwtMC4xOCAwLjQ5LC0wLjQybDAuMzgsLTIuNjVjMC42MSwtMC4yNSAxLjE3LC0wLjU5IDEuNjksLTAuOThsMi40OSwxYzAuMDYsMC4wMiAwLjEyLDAuMDMgMC4xOCwwLjAzIDAuMTcsMCAwLjM0LC0wLjA5IDAuNDMsLTAuMjVsMiwtMy40NmMwLjEyLC0wLjIyIDAuMDcsLTAuNDkgLTAuMTIsLTAuNjRsLTIuMTEsLTEuNjV6TTE3LjQ1LDExLjI3YzAuMDQsMC4zMSAwLjA1LDAuNTIgMC4wNSwwLjczIDAsMC4yMSAtMC4wMiwwLjQzIC0wLjA1LDAuNzNsLTAuMTQsMS4xMyAwLjg5LDAuNyAxLjA4LDAuODQgLTAuNywxLjIxIC0xLjI3LC0wLjUxIC0xLjA0LC0wLjQyIC0wLjksMC42OGMtMC40MywwLjMyIC0wLjg0LDAuNTYgLTEuMjUsMC43M2wtMS4wNiwwLjQzIC0wLjE2LDEuMTMgLTAuMiwxLjM1aC0xLjRsLTAuMTksLTEuMzUgLTAuMTYsLTEuMTMgLTEuMDYsLTAuNDNjLTAuNDMsLTAuMTggLTAuODMsLTAuNDEgLTEuMjMsLTAuNzFsLTAuOTEsLTAuNyAtMS4wNiwwLjQzIC0xLjI3LDAuNTEgLTAuNywtMS4yMSAxLjA4LC0wLjg0IDAuODksLTAuNyAtMC4xNCwtMS4xM2MtMC4wMywtMC4zMSAtMC4wNSwtMC41NCAtMC4wNSwtMC43NHMwLjAyLC0wLjQzIDAuMDUsLTAuNzNsMC4xNCwtMS4xMyAtMC44OSwtMC43IC0xLjA4LC0wLjg0IDAuNywtMS4yMSAxLjI3LDAuNTEgMS4wNCwwLjQyIDAuOSwtMC42OGMwLjQzLC0wLjMyIDAuODQsLTAuNTYgMS4yNSwtMC43M2wxLjA2LC0wLjQzIDAuMTYsLTEuMTMgMC4yLC0xLjM1aDEuMzlsMC4xOSwxLjM1IDAuMTYsMS4xMyAxLjA2LDAuNDNjMC40MywwLjE4IDAuODMsMC40MSAxLjIzLDAuNzFsMC45MSwwLjcgMS4wNiwtMC40MyAxLjI3LC0wLjUxIDAuNywxLjIxIC0xLjA3LDAuODUgLTAuODksMC43IDAuMTQsMS4xM3pNMTIsOGMtMi4yMSwwIC00LDEuNzkgLTQsNHMxLjc5LDQgNCw0IDQsLTEuNzkgNCwtNCAtMS43OSwtNCAtNCwtNHpNMTIsMTRjLTEuMSwwIC0yLC0wLjkgLTIsLTJzMC45LC0yIDIsLTIgMiwwLjkgMiwyIC0wLjksMiAtMiwyelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xNyw3SDdjLTIuNzYsMCAtNSwyLjI0IC01LDVzMi4yNCw1IDUsNWgxMGMyLjc2LDAgNSwtMi4yNCA1LC01cy0yLjI0LC01IC01LC01ek03LDE1Yy0xLjY2LDAgLTMsLTEuMzQgLTMsLTNzMS4zNCwtMyAzLC0zIDMsMS4zNCAzLDMgLTEuMzQsMyAtMywzelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xNyw3TDcsN2MtMi43NiwwIC01LDIuMjQgLTUsNXMyLjI0LDUgNSw1aDEwYzIuNzYsMCA1LC0yLjI0IDUsLTVzLTIuMjQsLTUgLTUsLTV6TTE3LDE1Yy0xLjY2LDAgLTMsLTEuMzQgLTMsLTNzMS4zNCwtMyAzLC0zIDMsMS4zNCAzLDMgLTEuMzQsMyAtMywzelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDQ4IDQ4XFxcIiB2ZXJzaW9uPVxcXCIxLjFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHhtbG5zOnNrZXRjaD1cXFwiaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zXFxcIj48dGl0bGU+QXJ0Ym9hcmQgMTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PC9kZWZzPjxnIGlkPVxcXCJQYWdlLTFcXFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBmaWxsPVxcXCJub25lXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU1BhZ2VcXFwiPjxnIGlkPVxcXCJBcnRib2FyZC0xXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNBcnRib2FyZEdyb3VwXFxcIj48ZyBpZD1cXFwiU3lzdGVtX0JhY2tcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU0xheWVyR3JvdXBcXFwiPjxnIGlkPVxcXCJQYWdlLTFcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU1NoYXBlR3JvdXBcXFwiPjxnIGlkPVxcXCJTeXN0ZW1fQmFja1xcXCI+PGcgaWQ9XFxcIlJlY3RhbmdsZS0xMTgtKy1iYWNrLTEyLUNvcHktMTFcXFwiPjxyZWN0IGlkPVxcXCJSZWN0YW5nbGUtMTE4XFxcIiB4PVxcXCIwXFxcIiB5PVxcXCIwXFxcIiB3aWR0aD1cXFwiNDhcXFwiIGhlaWdodD1cXFwiNDhcXFwiPjwvcmVjdD48cGF0aCBkPVxcXCJNMzYuNzA4ODQ3MywxMC45NDk0NzY1IEwzNi43MDg4NDc4LDM3LjYzNDk2ODggQzM2LjcwODg0NzgsMzkuNDAzOTQ5OCAzNS40ODIwODQ0LDQwLjA5NDkxMTUgMzMuOTY0NjUwOCwzOS4xNzU3NjQ3IEwxMi4xMzczNzk1LDI1Ljk1NDQ0OTcgQzEwLjYyMTgwMTMsMjUuMDM2NDI2NyAxMC42MTk5NDU5LDIzLjU0OTE0MTQgMTIuMTM3Mzc5NCwyMi42Mjk5OTQ2IEwzMy45NjQ2NTAzLDkuNDA4NjgwNTQgQzM1LjQ4MDIyODQsOC40OTA2NTc2MyAzNi43MDg4NDczLDkuMTY4MzU1MTEgMzYuNzA4ODQ3MywxMC45NDk0NzY1IFogTTMzLjUwODg0ODIsMTMuNDMwNTIzNyBMMzMuNTA4ODQ4MiwzNS4xMzA1MjQ1IEwxNS41MDg4NDgyLDI0LjI4MDUyNDEgTDMzLjUwODg0ODIsMTMuNDMwNTIzNyBaXFxcIiBpZD1cXFwiU2hhcGVcXFwiIGZpbGw9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCIgdmVyc2lvbj1cXFwiMS4xXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIiB4bWxuczpza2V0Y2g9XFxcImh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9uc1xcXCI+PHRpdGxlPlN5c3RlbV9Ib21lPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZGVmcz48L2RlZnM+PGcgaWQ9XFxcIlBhZ2UtMVxcXCIgc3Ryb2tlPVxcXCJub25lXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgc2tldGNoOnR5cGU9XFxcIk1TUGFnZVxcXCI+PGcgaWQ9XFxcIlN5c3RlbV9Ib21lXFxcIiBza2V0Y2g6dHlwZT1cXFwiTVNBcnRib2FyZEdyb3VwXFxcIj48ZyBpZD1cXFwiUmVjdGFuZ2xlLTExOS0rLWhvbWUtMTItQ29weS0xMVxcXCIgc2tldGNoOnR5cGU9XFxcIk1TTGF5ZXJHcm91cFxcXCI+PHJlY3QgaWQ9XFxcIlJlY3RhbmdsZS0xMTlcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU1NoYXBlR3JvdXBcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjBcXFwiIHdpZHRoPVxcXCI0OFxcXCIgaGVpZ2h0PVxcXCI0OFxcXCI+PC9yZWN0PjxwYXRoIGQ9XFxcIk0yNCwzNS4yIEwyNCwzNS4yIEMzMC4xODU1ODkyLDM1LjIgMzUuMiwzMC4xODU1ODkyIDM1LjIsMjQgQzM1LjIsMTcuODE0NDEwOCAzMC4xODU1ODkyLDEyLjggMjQsMTIuOCBDMTcuODE0NDEwOCwxMi44IDEyLjgsMTcuODE0NDEwOCAxMi44LDI0IEMxMi44LDMwLjE4NTU4OTIgMTcuODE0NDEwOCwzNS4yIDI0LDM1LjIgTDI0LDM1LjIgWiBNMjQsMzguNCBMMjQsMzguNCBDMTYuMDQ3MDk5NiwzOC40IDkuNiwzMS45NTI5MDA0IDkuNiwyNCBDOS42LDE2LjA0NzA5OTYgMTYuMDQ3MDk5Niw5LjYgMjQsOS42IEMzMS45NTI5MDA0LDkuNiAzOC40LDE2LjA0NzA5OTYgMzguNCwyNCBDMzguNCwzMS45NTI5MDA0IDMxLjk1MjkwMDQsMzguNCAyNCwzOC40IEwyNCwzOC40IFpcXFwiIGlkPVxcXCJTaGFwZVxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCIgc2tldGNoOnR5cGU9XFxcIk1TU2hhcGVHcm91cFxcXCI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDQ4IDQ4XFxcIiB2ZXJzaW9uPVxcXCIxLjFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHhtbG5zOnNrZXRjaD1cXFwiaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zXFxcIj48dGl0bGU+U3lzdGVtX092ZXJ2aWV3PC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZGVmcz48L2RlZnM+PGcgaWQ9XFxcIlBhZ2UtMVxcXCIgc3Ryb2tlPVxcXCJub25lXFxcIiBzdHJva2Utd2lkdGg9XFxcIjFcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgc2tldGNoOnR5cGU9XFxcIk1TUGFnZVxcXCI+PGcgaWQ9XFxcIlN5c3RlbV9PdmVydmlld1xcXCIgc2tldGNoOnR5cGU9XFxcIk1TQXJ0Ym9hcmRHcm91cFxcXCI+PGcgaWQ9XFxcIlJlY3RhbmdsZS0xMjAtKy1yZWNlbnQtMTItQ29weS0xMVxcXCIgc2tldGNoOnR5cGU9XFxcIk1TTGF5ZXJHcm91cFxcXCI+PHJlY3QgaWQ9XFxcIlJlY3RhbmdsZS0xMjBcXFwiIHNrZXRjaDp0eXBlPVxcXCJNU1NoYXBlR3JvdXBcXFwiIHg9XFxcIjBcXFwiIHk9XFxcIjBcXFwiIHdpZHRoPVxcXCI0OFxcXCIgaGVpZ2h0PVxcXCI0OFxcXCI+PC9yZWN0PjxwYXRoIGQ9XFxcIk0xMi43OTIxNDI5LDEyLjggTDEyLjc5MjE0MjksMTIuOCBDMTIuNzk1OTk0NSwxMi44IDEyLjgsMTIuNzk1OTk1NCAxMi44LDEyLjc5MjE0MjkgTDEyLjgsMzUuMjA3ODU3MSBDMTIuOCwzNS4yMDQwMDU1IDEyLjc5NTk5NTQsMzUuMiAxMi43OTIxNDI5LDM1LjIgTDM1LjIwNzg1NzEsMzUuMiBDMzUuMjA0MDA1NSwzNS4yIDM1LjIsMzUuMjA0MDA0NiAzNS4yLDM1LjIwNzg1NzEgTDM1LjIsMTIuNzkyMTQyOSBDMzUuMiwxMi43OTU5OTQ1IDM1LjIwNDAwNDYsMTIuOCAzNS4yMDc4NTcxLDEyLjggTDEyLjc5MjE0MjksMTIuOCBaIE0xMi43OTIxNDI5LDkuNiBMMTIuNzkyMTQyOSw5LjYgTDM1LjIwNzg1NzEsOS42IEMzNi45NzE4MDM1LDkuNiAzOC40LDExLjAyOTE3MSAzOC40LDEyLjc5MjE0MjkgTDM4LjQsMzUuMjA3ODU3MSBDMzguNCwzNi45NzE4MDM1IDM2Ljk3MDgyOSwzOC40IDM1LjIwNzg1NzEsMzguNCBMMTIuNzkyMTQyOSwzOC40IEMxMS4wMjgxOTY1LDM4LjQgOS42LDM2Ljk3MDgyOSA5LjYsMzUuMjA3ODU3MSBMOS42LDEyLjc5MjE0MjkgQzkuNiwxMS4wMjgxOTY1IDExLjAyOTE3MSw5LjYgMTIuNzkyMTQyOSw5LjYgTDEyLjc5MjE0MjksOS42IFpcXFwiIGlkPVxcXCJTaGFwZVxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCIgc2tldGNoOnR5cGU9XFxcIk1TU2hhcGVHcm91cFxcXCI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNDggNDhcXFwiIGZpbGw9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiPjxwYXRoIGQ9XFxcIk00MCAxMEg4Yy0yLjIxIDAtMy45OCAxLjc5LTMuOTggNEw0IDM0YzAgMi4yMSAxLjc5IDQgNCA0aDMyYzIuMjEgMCA0LTEuNzkgNC00VjE0YzAtMi4yMS0xLjc5LTQtNC00em0tMTggNmg0djRoLTR2LTR6bTAgNmg0djRoLTR2LTR6bS02LTZoNHY0aC00di00em0wIDZoNHY0aC00di00em0tMiA0aC00di00aDR2NHptMC02aC00di00aDR2NHptMTggMTRIMTZ2LTRoMTZ2NHptMC04aC00di00aDR2NHptMC02aC00di00aDR2NHptNiA2aC00di00aDR2NHptMC02aC00di00aDR2NHpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDQ4djQ4SDB6bTAgMGg0OHY0OEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNDggNDhcXFwiIGZpbGw9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoNDh2NDhIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTIgMjBjLTIuMjEgMC00IDEuNzktNCA0czEuNzkgNCA0IDQgNC0xLjc5IDQtNC0xLjc5LTQtNC00em0yNCAwYy0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTQtMS43OS00LTQtNHptLTEyIDBjLTIuMjEgMC00IDEuNzktNCA0czEuNzkgNCA0IDQgNC0xLjc5IDQtNC0xLjc5LTQtNC00elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNDggNDhcXFwiIGZpbGw9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiPjxjaXJjbGUgY3g9XFxcIjI0XFxcIiBjeT1cXFwiMjRcXFwiIHI9XFxcIjYuNFxcXCI+PC9jaXJjbGU+PHBhdGggZD1cXFwiTTE4IDRsLTMuNjYgNEg4Yy0yLjIxIDAtNCAxLjc5LTQgNHYyNGMwIDIuMjEgMS43OSA0IDQgNGgzMmMyLjIxIDAgNC0xLjc5IDQtNFYxMmMwLTIuMjEtMS43OS00LTQtNGgtNi4zNEwzMCA0SDE4em02IDMwYy01LjUyIDAtMTAtNC40OC0xMC0xMHM0LjQ4LTEwIDEwLTEwIDEwIDQuNDggMTAgMTAtNC40OCAxMC0xMCAxMHpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDQ4djQ4SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCI+PHBhdGggZmlsbD1cXFwibm9uZVxcXCIgZD1cXFwiTTAgMGg0OHY0OEgwelxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0yNiA2aC00djIwaDRWNnptOS42NyA0LjMzbC0yLjgzIDIuODNDMzUuOTggMTUuNzMgMzggMTkuNjIgMzggMjRjMCA3LjczLTYuMjcgMTQtMTQgMTRzLTE0LTYuMjctMTQtMTRjMC00LjM4IDIuMDItOC4yNyA1LjE2LTEwLjg0bC0yLjgzLTIuODNDOC40NyAxMy42MyA2IDE4LjUyIDYgMjRjMCA5Ljk0IDguMDYgMTggMTggMThzMTgtOC4wNiAxOC0xOGMwLTUuNDgtMi40Ny0xMC4zNy02LjMzLTEzLjY3elxcXCIgZmlsbD1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCIgc3Ryb2tlPVxcXCJ2YXIoLS1zdmctYnV0dG9uLWZpbGwpXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCI+PHBhdGggZD1cXFwiTTM3IDI0YzAtMy41My0yLjA0LTYuNTgtNS04LjA1djE2LjExYzIuOTYtMS40OCA1LTQuNTMgNS04LjA2em0tMjctNnYxMmg4bDEwIDEwVjhMMTggMThoLTh6XFxcIiBmaWxsPVxcXCJ2YXIoLS1zdmctYnV0dG9uLWZpbGwpXFxcIiBzdHJva2U9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDQ4djQ4SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA0OCA0OFxcXCI+PHBhdGggZD1cXFwiTTYgMTh2MTJoOGwxMCAxMFY4TDE0IDE4SDZ6bTI3IDZjMC0zLjUzLTIuMDQtNi41OC01LTguMDV2MTYuMTFjMi45Ni0xLjQ4IDUtNC41MyA1LTguMDZ6TTI4IDYuNDZ2NC4xM2M1Ljc4IDEuNzIgMTAgNy4wNyAxMCAxMy40MXMtNC4yMiAxMS42OS0xMCAxMy40MXY0LjEzYzguMDEtMS44MiAxNC04Ljk3IDE0LTE3LjU0UzM2LjAxIDguMjggMjggNi40NnpcXFwiIGZpbGw9XFxcInZhcigtLXN2Zy1idXR0b24tZmlsbClcXFwiIHN0cm9rZT1cXFwidmFyKC0tc3ZnLWJ1dHRvbi1maWxsKVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoNDh2NDhIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIi8vIENvcHlyaWdodCAoYykgMjAxMSwgQ2hyaXMgVW1iZWxcblxudmFyIGdsb2JhbCA9IChGdW5jdGlvbigncmV0dXJuIHRoaXMnKSkoKTtcblxuZXhwb3J0cy5WZWN0b3IgPSByZXF1aXJlKCcuL3ZlY3RvcicpO1xuZ2xvYmFsLiRWID0gZXhwb3J0cy5WZWN0b3IuY3JlYXRlO1xuZXhwb3J0cy5NYXRyaXggPSByZXF1aXJlKCcuL21hdHJpeCcpO1xuZ2xvYmFsLiRNID0gZXhwb3J0cy5NYXRyaXguY3JlYXRlO1xuZXhwb3J0cy5MaW5lID0gcmVxdWlyZSgnLi9saW5lJyk7XG5nbG9iYWwuJEwgPSBleHBvcnRzLkxpbmUuY3JlYXRlO1xuZXhwb3J0cy5QbGFuZSA9IHJlcXVpcmUoJy4vcGxhbmUnKTtcbmdsb2JhbC4kUCA9IGV4cG9ydHMuUGxhbmUuY3JlYXRlO1xuZXhwb3J0cy5MaW5lLlNlZ21lbnQgPSByZXF1aXJlKCcuL2xpbmUuc2VnbWVudCcpO1xuZXhwb3J0cy5TeWx2ZXN0ZXIgPSByZXF1aXJlKCcuL3N5bHZlc3RlcicpO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDExLCBDaHJpcyBVbWJlbCwgSmFtZXMgQ29nbGFuXG52YXIgVmVjdG9yID0gcmVxdWlyZSgnLi92ZWN0b3InKTtcbnZhciBNYXRyaXggPSByZXF1aXJlKCcuL21hdHJpeCcpO1xudmFyIFBsYW5lID0gcmVxdWlyZSgnLi9wbGFuZScpO1xudmFyIFN5bHZlc3RlciA9IHJlcXVpcmUoJy4vc3lsdmVzdGVyJyk7XG5cbi8vIExpbmUgY2xhc3MgLSBkZXBlbmRzIG9uIFZlY3RvciwgYW5kIHNvbWUgbWV0aG9kcyByZXF1aXJlIE1hdHJpeCBhbmQgUGxhbmUuXG5cbmZ1bmN0aW9uIExpbmUoKSB7fVxuTGluZS5wcm90b3R5cGUgPSB7XG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBhcmd1bWVudCBvY2N1cGllcyB0aGUgc2FtZSBzcGFjZSBhcyB0aGUgbGluZVxuICBlcWw6IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICByZXR1cm4gKHRoaXMuaXNQYXJhbGxlbFRvKGxpbmUpICYmIHRoaXMuY29udGFpbnMobGluZS5hbmNob3IpKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbGluZVxuICBkdXA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBMaW5lLmNyZWF0ZSh0aGlzLmFuY2hvciwgdGhpcy5kaXJlY3Rpb24pO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiB0cmFuc2xhdGluZyB0aGUgbGluZSBieSB0aGUgZ2l2ZW4gdmVjdG9yL2FycmF5XG4gIHRyYW5zbGF0ZTogZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgdmFyIFYgPSB2ZWN0b3IuZWxlbWVudHMgfHwgdmVjdG9yO1xuICAgIHJldHVybiBMaW5lLmNyZWF0ZShbXG4gICAgICB0aGlzLmFuY2hvci5lbGVtZW50c1swXSArIFZbMF0sXG4gICAgICB0aGlzLmFuY2hvci5lbGVtZW50c1sxXSArIFZbMV0sXG4gICAgICB0aGlzLmFuY2hvci5lbGVtZW50c1syXSArIChWWzJdIHx8IDApXG4gICAgXSwgdGhpcy5kaXJlY3Rpb24pO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGluZSBpcyBwYXJhbGxlbCB0byB0aGUgYXJndW1lbnQuIEhlcmUsICdwYXJhbGxlbCB0bydcbiAgLy8gbWVhbnMgdGhhdCB0aGUgYXJndW1lbnQncyBkaXJlY3Rpb24gaXMgZWl0aGVyIHBhcmFsbGVsIG9yIGFudGlwYXJhbGxlbCB0b1xuICAvLyB0aGUgbGluZSdzIG93biBkaXJlY3Rpb24uIEEgbGluZSBpcyBwYXJhbGxlbCB0byBhIHBsYW5lIGlmIHRoZSB0d28gZG8gbm90XG4gIC8vIGhhdmUgYSB1bmlxdWUgaW50ZXJzZWN0aW9uLlxuICBpc1BhcmFsbGVsVG86IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmoubm9ybWFsIHx8IChvYmouc3RhcnQgJiYgb2JqLmVuZCkpIHsgcmV0dXJuIG9iai5pc1BhcmFsbGVsVG8odGhpcyk7IH1cbiAgICB2YXIgdGhldGEgPSB0aGlzLmRpcmVjdGlvbi5hbmdsZUZyb20ob2JqLmRpcmVjdGlvbik7XG4gICAgcmV0dXJuIChNYXRoLmFicyh0aGV0YSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGV0YSAtIE1hdGguUEkpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIGxpbmUncyBwZXJwZW5kaWN1bGFyIGRpc3RhbmNlIGZyb20gdGhlIGFyZ3VtZW50LFxuICAvLyB3aGljaCBjYW4gYmUgYSBwb2ludCwgYSBsaW5lIG9yIGEgcGxhbmVcbiAgZGlzdGFuY2VGcm9tOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLm5vcm1hbCB8fCAob2JqLnN0YXJ0ICYmIG9iai5lbmQpKSB7IHJldHVybiBvYmouZGlzdGFuY2VGcm9tKHRoaXMpOyB9XG4gICAgaWYgKG9iai5kaXJlY3Rpb24pIHtcbiAgICAgIC8vIG9iaiBpcyBhIGxpbmVcbiAgICAgIGlmICh0aGlzLmlzUGFyYWxsZWxUbyhvYmopKSB7IHJldHVybiB0aGlzLmRpc3RhbmNlRnJvbShvYmouYW5jaG9yKTsgfVxuICAgICAgdmFyIE4gPSB0aGlzLmRpcmVjdGlvbi5jcm9zcyhvYmouZGlyZWN0aW9uKS50b1VuaXRWZWN0b3IoKS5lbGVtZW50cztcbiAgICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIEIgPSBvYmouYW5jaG9yLmVsZW1lbnRzO1xuICAgICAgcmV0dXJuIE1hdGguYWJzKChBWzBdIC0gQlswXSkgKiBOWzBdICsgKEFbMV0gLSBCWzFdKSAqIE5bMV0gKyAoQVsyXSAtIEJbMl0pICogTlsyXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBvaW50XG4gICAgICB2YXIgUCA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG4gICAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBEID0gdGhpcy5kaXJlY3Rpb24uZWxlbWVudHM7XG4gICAgICB2YXIgUEExID0gUFswXSAtIEFbMF0sIFBBMiA9IFBbMV0gLSBBWzFdLCBQQTMgPSAoUFsyXSB8fCAwKSAtIEFbMl07XG4gICAgICB2YXIgbW9kUEEgPSBNYXRoLnNxcnQoUEExKlBBMSArIFBBMipQQTIgKyBQQTMqUEEzKTtcbiAgICAgIGlmIChtb2RQQSA9PT0gMCkgcmV0dXJuIDA7XG4gICAgICAvLyBBc3N1bWVzIGRpcmVjdGlvbiB2ZWN0b3IgaXMgbm9ybWFsaXplZFxuICAgICAgdmFyIGNvc1RoZXRhID0gKFBBMSAqIERbMF0gKyBQQTIgKiBEWzFdICsgUEEzICogRFsyXSkgLyBtb2RQQTtcbiAgICAgIHZhciBzaW4yID0gMSAtIGNvc1RoZXRhKmNvc1RoZXRhO1xuICAgICAgcmV0dXJuIE1hdGguYWJzKG1vZFBBICogTWF0aC5zcXJ0KHNpbjIgPCAwID8gMCA6IHNpbjIpKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgYXJndW1lbnQgaXMgYSBwb2ludCBvbiB0aGUgbGluZSwgb3IgaWYgdGhlIGFyZ3VtZW50XG4gIC8vIGlzIGEgbGluZSBzZWdtZW50IGx5aW5nIHdpdGhpbiB0aGUgcmVjZWl2ZXJcbiAgY29udGFpbnM6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmouc3RhcnQgJiYgb2JqLmVuZCkgeyByZXR1cm4gdGhpcy5jb250YWlucyhvYmouc3RhcnQpICYmIHRoaXMuY29udGFpbnMob2JqLmVuZCk7IH1cbiAgICB2YXIgZGlzdCA9IHRoaXMuZGlzdGFuY2VGcm9tKG9iaik7XG4gICAgcmV0dXJuIChkaXN0ICE9PSBudWxsICYmIGRpc3QgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgYW5jaG9yIG9mIHRoZSBnaXZlbiBwb2ludC4gTmVnYXRpdmUgdmFsdWVzIGFyZVxuICAvLyByZXR1cm5lZCBmb3IgcG9pbnRzIHRoYXQgYXJlIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gdG8gdGhlIGxpbmUncyBkaXJlY3Rpb24gZnJvbVxuICAvLyB0aGUgbGluZSdzIGFuY2hvciBwb2ludC5cbiAgcG9zaXRpb25PZjogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbnMocG9pbnQpKSB7IHJldHVybiBudWxsOyB9XG4gICAgdmFyIFAgPSBwb2ludC5lbGVtZW50cyB8fCBwb2ludDtcbiAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBEID0gdGhpcy5kaXJlY3Rpb24uZWxlbWVudHM7XG4gICAgcmV0dXJuIChQWzBdIC0gQVswXSkgKiBEWzBdICsgKFBbMV0gLSBBWzFdKSAqIERbMV0gKyAoKFBbMl0gfHwgMCkgLSBBWzJdKSAqIERbMl07XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgbGluZSBsaWVzIGluIHRoZSBnaXZlbiBwbGFuZVxuICBsaWVzSW46IGZ1bmN0aW9uKHBsYW5lKSB7XG4gICAgcmV0dXJuIHBsYW5lLmNvbnRhaW5zKHRoaXMpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGxpbmUgaGFzIGEgdW5pcXVlIHBvaW50IG9mIGludGVyc2VjdGlvbiB3aXRoIHRoZSBhcmd1bWVudFxuICBpbnRlcnNlY3RzOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLm5vcm1hbCkgeyByZXR1cm4gb2JqLmludGVyc2VjdHModGhpcyk7IH1cbiAgICByZXR1cm4gKCF0aGlzLmlzUGFyYWxsZWxUbyhvYmopICYmIHRoaXMuZGlzdGFuY2VGcm9tKG9iaikgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgdW5pcXVlIGludGVyc2VjdGlvbiBwb2ludCB3aXRoIHRoZSBhcmd1bWVudCwgaWYgb25lIGV4aXN0c1xuICBpbnRlcnNlY3Rpb25XaXRoOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLm5vcm1hbCB8fCAob2JqLnN0YXJ0ICYmIG9iai5lbmQpKSB7IHJldHVybiBvYmouaW50ZXJzZWN0aW9uV2l0aCh0aGlzKTsgfVxuICAgIGlmICghdGhpcy5pbnRlcnNlY3RzKG9iaikpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB2YXIgUCA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBYID0gdGhpcy5kaXJlY3Rpb24uZWxlbWVudHMsXG4gICAgICAgIFEgPSBvYmouYW5jaG9yLmVsZW1lbnRzLCBZID0gb2JqLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICB2YXIgWDEgPSBYWzBdLCBYMiA9IFhbMV0sIFgzID0gWFsyXSwgWTEgPSBZWzBdLCBZMiA9IFlbMV0sIFkzID0gWVsyXTtcbiAgICB2YXIgUHN1YlExID0gUFswXSAtIFFbMF0sIFBzdWJRMiA9IFBbMV0gLSBRWzFdLCBQc3ViUTMgPSBQWzJdIC0gUVsyXTtcbiAgICB2YXIgWGRvdFFzdWJQID0gLSBYMSpQc3ViUTEgLSBYMipQc3ViUTIgLSBYMypQc3ViUTM7XG4gICAgdmFyIFlkb3RQc3ViUSA9IFkxKlBzdWJRMSArIFkyKlBzdWJRMiArIFkzKlBzdWJRMztcbiAgICB2YXIgWGRvdFggPSBYMSpYMSArIFgyKlgyICsgWDMqWDM7XG4gICAgdmFyIFlkb3RZID0gWTEqWTEgKyBZMipZMiArIFkzKlkzO1xuICAgIHZhciBYZG90WSA9IFgxKlkxICsgWDIqWTIgKyBYMypZMztcbiAgICB2YXIgayA9IChYZG90UXN1YlAgKiBZZG90WSAvIFhkb3RYICsgWGRvdFkgKiBZZG90UHN1YlEpIC8gKFlkb3RZIC0gWGRvdFkgKiBYZG90WSk7XG4gICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW1BbMF0gKyBrKlgxLCBQWzFdICsgaypYMiwgUFsyXSArIGsqWDNdKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBwb2ludCBvbiB0aGUgbGluZSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIGdpdmVuIHBvaW50IG9yIGxpbmUvbGluZSBzZWdtZW50XG4gIHBvaW50Q2xvc2VzdFRvOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLnN0YXJ0ICYmIG9iai5lbmQpIHtcbiAgICAgIC8vIG9iaiBpcyBhIGxpbmUgc2VnbWVudFxuICAgICAgdmFyIFAgPSBvYmoucG9pbnRDbG9zZXN0VG8odGhpcyk7XG4gICAgICByZXR1cm4gKFAgPT09IG51bGwpID8gbnVsbCA6IHRoaXMucG9pbnRDbG9zZXN0VG8oUCk7XG4gICAgfSBlbHNlIGlmIChvYmouZGlyZWN0aW9uKSB7XG4gICAgICAvLyBvYmogaXMgYSBsaW5lXG4gICAgICBpZiAodGhpcy5pbnRlcnNlY3RzKG9iaikpIHsgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uV2l0aChvYmopOyB9XG4gICAgICBpZiAodGhpcy5pc1BhcmFsbGVsVG8ob2JqKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgdmFyIEQgPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cywgRSA9IG9iai5kaXJlY3Rpb24uZWxlbWVudHM7XG4gICAgICB2YXIgRDEgPSBEWzBdLCBEMiA9IERbMV0sIEQzID0gRFsyXSwgRTEgPSBFWzBdLCBFMiA9IEVbMV0sIEUzID0gRVsyXTtcbiAgICAgIC8vIENyZWF0ZSBwbGFuZSBjb250YWluaW5nIG9iaiBhbmQgdGhlIHNoYXJlZCBub3JtYWwgYW5kIGludGVyc2VjdCB0aGlzIHdpdGggaXRcbiAgICAgIC8vIFRoYW5rIHlvdTogaHR0cDovL3d3dy5jZ2FmYXEuaW5mby93aWtpL0xpbmUtbGluZV9kaXN0YW5jZVxuICAgICAgdmFyIHggPSAoRDMgKiBFMSAtIEQxICogRTMpLCB5ID0gKEQxICogRTIgLSBEMiAqIEUxKSwgeiA9IChEMiAqIEUzIC0gRDMgKiBFMik7XG4gICAgICB2YXIgTiA9IFt4ICogRTMgLSB5ICogRTIsIHkgKiBFMSAtIHogKiBFMywgeiAqIEUyIC0geCAqIEUxXTtcbiAgICAgIHZhciBQID0gUGxhbmUuY3JlYXRlKG9iai5hbmNob3IsIE4pO1xuICAgICAgcmV0dXJuIFAuaW50ZXJzZWN0aW9uV2l0aCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb2JqIGlzIGEgcG9pbnRcbiAgICAgIHZhciBQID0gb2JqLmVsZW1lbnRzIHx8IG9iajtcbiAgICAgIGlmICh0aGlzLmNvbnRhaW5zKFApKSB7IHJldHVybiBWZWN0b3IuY3JlYXRlKFApOyB9XG4gICAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBEID0gdGhpcy5kaXJlY3Rpb24uZWxlbWVudHM7XG4gICAgICB2YXIgRDEgPSBEWzBdLCBEMiA9IERbMV0sIEQzID0gRFsyXSwgQTEgPSBBWzBdLCBBMiA9IEFbMV0sIEEzID0gQVsyXTtcbiAgICAgIHZhciB4ID0gRDEgKiAoUFsxXS1BMikgLSBEMiAqIChQWzBdLUExKSwgeSA9IEQyICogKChQWzJdIHx8IDApIC0gQTMpIC0gRDMgKiAoUFsxXS1BMiksXG4gICAgICAgICAgeiA9IEQzICogKFBbMF0tQTEpIC0gRDEgKiAoKFBbMl0gfHwgMCkgLSBBMyk7XG4gICAgICB2YXIgViA9IFZlY3Rvci5jcmVhdGUoW0QyICogeCAtIEQzICogeiwgRDMgKiB5IC0gRDEgKiB4LCBEMSAqIHogLSBEMiAqIHldKTtcbiAgICAgIHZhciBrID0gdGhpcy5kaXN0YW5jZUZyb20oUCkgLyBWLm1vZHVsdXMoKTtcbiAgICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKFtcbiAgICAgICAgUFswXSArIFYuZWxlbWVudHNbMF0gKiBrLFxuICAgICAgICBQWzFdICsgVi5lbGVtZW50c1sxXSAqIGssXG4gICAgICAgIChQWzJdIHx8IDApICsgVi5lbGVtZW50c1syXSAqIGtcbiAgICAgIF0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbGluZSByb3RhdGVkIGJ5IHQgcmFkaWFucyBhYm91dCB0aGUgZ2l2ZW4gbGluZS4gV29ya3MgYnlcbiAgLy8gZmluZGluZyB0aGUgYXJndW1lbnQncyBjbG9zZXN0IHBvaW50IHRvIHRoaXMgbGluZSdzIGFuY2hvciBwb2ludCAoY2FsbCB0aGlzIEMpIGFuZFxuICAvLyByb3RhdGluZyB0aGUgYW5jaG9yIGFib3V0IEMuIEFsc28gcm90YXRlcyB0aGUgbGluZSdzIGRpcmVjdGlvbiBhYm91dCB0aGUgYXJndW1lbnQncy5cbiAgLy8gQmUgY2FyZWZ1bCB3aXRoIHRoaXMgLSB0aGUgcm90YXRpb24gYXhpcycgZGlyZWN0aW9uIGFmZmVjdHMgdGhlIG91dGNvbWUhXG4gIHJvdGF0ZTogZnVuY3Rpb24odCwgbGluZSkge1xuICAgIC8vIElmIHdlJ3JlIHdvcmtpbmcgaW4gMkRcbiAgICBpZiAodHlwZW9mKGxpbmUuZGlyZWN0aW9uKSA9PSAndW5kZWZpbmVkJykgeyBsaW5lID0gTGluZS5jcmVhdGUobGluZS50bzNEKCksIFZlY3Rvci5rKTsgfVxuICAgIHZhciBSID0gTWF0cml4LlJvdGF0aW9uKHQsIGxpbmUuZGlyZWN0aW9uKS5lbGVtZW50cztcbiAgICB2YXIgQyA9IGxpbmUucG9pbnRDbG9zZXN0VG8odGhpcy5hbmNob3IpLmVsZW1lbnRzO1xuICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIEQgPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICB2YXIgQzEgPSBDWzBdLCBDMiA9IENbMV0sIEMzID0gQ1syXSwgQTEgPSBBWzBdLCBBMiA9IEFbMV0sIEEzID0gQVsyXTtcbiAgICB2YXIgeCA9IEExIC0gQzEsIHkgPSBBMiAtIEMyLCB6ID0gQTMgLSBDMztcbiAgICByZXR1cm4gTGluZS5jcmVhdGUoW1xuICAgICAgQzEgKyBSWzBdWzBdICogeCArIFJbMF1bMV0gKiB5ICsgUlswXVsyXSAqIHosXG4gICAgICBDMiArIFJbMV1bMF0gKiB4ICsgUlsxXVsxXSAqIHkgKyBSWzFdWzJdICogeixcbiAgICAgIEMzICsgUlsyXVswXSAqIHggKyBSWzJdWzFdICogeSArIFJbMl1bMl0gKiB6XG4gICAgXSwgW1xuICAgICAgUlswXVswXSAqIERbMF0gKyBSWzBdWzFdICogRFsxXSArIFJbMF1bMl0gKiBEWzJdLFxuICAgICAgUlsxXVswXSAqIERbMF0gKyBSWzFdWzFdICogRFsxXSArIFJbMV1bMl0gKiBEWzJdLFxuICAgICAgUlsyXVswXSAqIERbMF0gKyBSWzJdWzFdICogRFsxXSArIFJbMl1bMl0gKiBEWzJdXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGxpbmUgd2l0aCBpdHMgZGlyZWN0aW9uIHZlY3RvciByZXZlcnNlZC5cbiAgLy8gVXNlZnVsIHdoZW4gdXNpbmcgbGluZXMgZm9yIHJvdGF0aW9ucy5cbiAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIExpbmUuY3JlYXRlKHRoaXMuYW5jaG9yLCB0aGlzLmRpcmVjdGlvbi54KC0xKSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgbGluZSdzIHJlZmxlY3Rpb24gaW4gdGhlIGdpdmVuIHBvaW50IG9yIGxpbmVcbiAgcmVmbGVjdGlvbkluOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLm5vcm1hbCkge1xuICAgICAgLy8gb2JqIGlzIGEgcGxhbmVcbiAgICAgIHZhciBBID0gdGhpcy5hbmNob3IuZWxlbWVudHMsIEQgPSB0aGlzLmRpcmVjdGlvbi5lbGVtZW50cztcbiAgICAgIHZhciBBMSA9IEFbMF0sIEEyID0gQVsxXSwgQTMgPSBBWzJdLCBEMSA9IERbMF0sIEQyID0gRFsxXSwgRDMgPSBEWzJdO1xuICAgICAgdmFyIG5ld0EgPSB0aGlzLmFuY2hvci5yZWZsZWN0aW9uSW4ob2JqKS5lbGVtZW50cztcbiAgICAgIC8vIEFkZCB0aGUgbGluZSdzIGRpcmVjdGlvbiB2ZWN0b3IgdG8gaXRzIGFuY2hvciwgdGhlbiBtaXJyb3IgdGhhdCBpbiB0aGUgcGxhbmVcbiAgICAgIHZhciBBRDEgPSBBMSArIEQxLCBBRDIgPSBBMiArIEQyLCBBRDMgPSBBMyArIEQzO1xuICAgICAgdmFyIFEgPSBvYmoucG9pbnRDbG9zZXN0VG8oW0FEMSwgQUQyLCBBRDNdKS5lbGVtZW50cztcbiAgICAgIHZhciBuZXdEID0gW1FbMF0gKyAoUVswXSAtIEFEMSkgLSBuZXdBWzBdLCBRWzFdICsgKFFbMV0gLSBBRDIpIC0gbmV3QVsxXSwgUVsyXSArIChRWzJdIC0gQUQzKSAtIG5ld0FbMl1dO1xuICAgICAgcmV0dXJuIExpbmUuY3JlYXRlKG5ld0EsIG5ld0QpO1xuICAgIH0gZWxzZSBpZiAob2JqLmRpcmVjdGlvbikge1xuICAgICAgLy8gb2JqIGlzIGEgbGluZSAtIHJlZmxlY3Rpb24gb2J0YWluZWQgYnkgcm90YXRpbmcgUEkgcmFkaWFucyBhYm91dCBvYmpcbiAgICAgIHJldHVybiB0aGlzLnJvdGF0ZShNYXRoLlBJLCBvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvYmogaXMgYSBwb2ludCAtIGp1c3QgcmVmbGVjdCB0aGUgbGluZSdzIGFuY2hvciBpbiBpdFxuICAgICAgdmFyIFAgPSBvYmouZWxlbWVudHMgfHwgb2JqO1xuICAgICAgcmV0dXJuIExpbmUuY3JlYXRlKHRoaXMuYW5jaG9yLnJlZmxlY3Rpb25JbihbUFswXSwgUFsxXSwgKFBbMl0gfHwgMCldKSwgdGhpcy5kaXJlY3Rpb24pO1xuICAgIH1cbiAgfSxcblxuICAvLyBTZXQgdGhlIGxpbmUncyBhbmNob3IgcG9pbnQgYW5kIGRpcmVjdGlvbi5cbiAgc2V0VmVjdG9yczogZnVuY3Rpb24oYW5jaG9yLCBkaXJlY3Rpb24pIHtcbiAgICAvLyBOZWVkIHRvIGRvIHRoaXMgc28gdGhhdCBsaW5lJ3MgcHJvcGVydGllcyBhcmUgbm90XG4gICAgLy8gcmVmZXJlbmNlcyB0byB0aGUgYXJndW1lbnRzIHBhc3NlZCBpblxuICAgIGFuY2hvciA9IFZlY3Rvci5jcmVhdGUoYW5jaG9yKTtcbiAgICBkaXJlY3Rpb24gPSBWZWN0b3IuY3JlYXRlKGRpcmVjdGlvbik7XG4gICAgaWYgKGFuY2hvci5lbGVtZW50cy5sZW5ndGggPT0gMikge2FuY2hvci5lbGVtZW50cy5wdXNoKDApOyB9XG4gICAgaWYgKGRpcmVjdGlvbi5lbGVtZW50cy5sZW5ndGggPT0gMikgeyBkaXJlY3Rpb24uZWxlbWVudHMucHVzaCgwKTsgfVxuICAgIGlmIChhbmNob3IuZWxlbWVudHMubGVuZ3RoID4gMyB8fCBkaXJlY3Rpb24uZWxlbWVudHMubGVuZ3RoID4gMykgeyByZXR1cm4gbnVsbDsgfVxuICAgIHZhciBtb2QgPSBkaXJlY3Rpb24ubW9kdWx1cygpO1xuICAgIGlmIChtb2QgPT09IDApIHsgcmV0dXJuIG51bGw7IH1cbiAgICB0aGlzLmFuY2hvciA9IGFuY2hvcjtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IFZlY3Rvci5jcmVhdGUoW1xuICAgICAgZGlyZWN0aW9uLmVsZW1lbnRzWzBdIC8gbW9kLFxuICAgICAgZGlyZWN0aW9uLmVsZW1lbnRzWzFdIC8gbW9kLFxuICAgICAgZGlyZWN0aW9uLmVsZW1lbnRzWzJdIC8gbW9kXG4gICAgXSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbi8vIENvbnN0cnVjdG9yIGZ1bmN0aW9uXG5MaW5lLmNyZWF0ZSA9IGZ1bmN0aW9uKGFuY2hvciwgZGlyZWN0aW9uKSB7XG4gIHZhciBMID0gbmV3IExpbmUoKTtcbiAgcmV0dXJuIEwuc2V0VmVjdG9ycyhhbmNob3IsIGRpcmVjdGlvbik7XG59O1xuXG4vLyBBeGVzXG5MaW5lLlggPSBMaW5lLmNyZWF0ZShWZWN0b3IuWmVybygzKSwgVmVjdG9yLmkpO1xuTGluZS5ZID0gTGluZS5jcmVhdGUoVmVjdG9yLlplcm8oMyksIFZlY3Rvci5qKTtcbkxpbmUuWiA9IExpbmUuY3JlYXRlKFZlY3Rvci5aZXJvKDMpLCBWZWN0b3Iuayk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGluZTtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxMSwgQ2hyaXMgVW1iZWwsIEphbWVzIENvZ2xhblxuLy8gTGluZS5TZWdtZW50IGNsYXNzIC0gZGVwZW5kcyBvbiBMaW5lIGFuZCBpdHMgZGVwZW5kZW5jaWVzLlxuXG52YXIgTGluZSA9IHJlcXVpcmUoJy4vbGluZScpO1xudmFyIFZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XG5cbkxpbmUuU2VnbWVudCA9IGZ1bmN0aW9uKCkge307XG5MaW5lLlNlZ21lbnQucHJvdG90eXBlID0ge1xuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGxpbmUgc2VnbWVudCBpcyBlcXVhbCB0byB0aGUgYXJndW1lbnRcbiAgZXFsOiBmdW5jdGlvbihzZWdtZW50KSB7XG4gICAgcmV0dXJuICh0aGlzLnN0YXJ0LmVxbChzZWdtZW50LnN0YXJ0KSAmJiB0aGlzLmVuZC5lcWwoc2VnbWVudC5lbmQpKSB8fFxuICAgICAgICAodGhpcy5zdGFydC5lcWwoc2VnbWVudC5lbmQpICYmIHRoaXMuZW5kLmVxbChzZWdtZW50LnN0YXJ0KSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGxpbmUgc2VnbWVudFxuICBkdXA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBMaW5lLlNlZ21lbnQuY3JlYXRlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBsZW5ndGggb2YgdGhlIGxpbmUgc2VnbWVudFxuICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBBID0gdGhpcy5zdGFydC5lbGVtZW50cywgQiA9IHRoaXMuZW5kLmVsZW1lbnRzO1xuICAgIHZhciBDMSA9IEJbMF0gLSBBWzBdLCBDMiA9IEJbMV0gLSBBWzFdLCBDMyA9IEJbMl0gLSBBWzJdO1xuICAgIHJldHVybiBNYXRoLnNxcnQoQzEqQzEgKyBDMipDMiArIEMzKkMzKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBsaW5lIHNlZ21lbnQgYXMgYSB2ZWN0b3IgZXF1YWwgdG8gaXRzXG4gIC8vIGVuZCBwb2ludCByZWxhdGl2ZSB0byBpdHMgZW5kcG9pbnRcbiAgdG9WZWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBBID0gdGhpcy5zdGFydC5lbGVtZW50cywgQiA9IHRoaXMuZW5kLmVsZW1lbnRzO1xuICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKFtCWzBdIC0gQVswXSwgQlsxXSAtIEFbMV0sIEJbMl0gLSBBWzJdXSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgc2VnbWVudCdzIG1pZHBvaW50IGFzIGEgdmVjdG9yXG4gIG1pZHBvaW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgQSA9IHRoaXMuc3RhcnQuZWxlbWVudHMsIEIgPSB0aGlzLmVuZC5lbGVtZW50cztcbiAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbKEJbMF0gKyBBWzBdKS8yLCAoQlsxXSArIEFbMV0pLzIsIChCWzJdICsgQVsyXSkvMl0pO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHBsYW5lIHRoYXQgYmlzZWN0cyB0aGUgc2VnbWVudFxuICBiaXNlY3RpbmdQbGFuZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFBsYW5lLmNyZWF0ZSh0aGlzLm1pZHBvaW50KCksIHRoaXMudG9WZWN0b3IoKSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRyYW5zbGF0aW5nIHRoZSBsaW5lIGJ5IHRoZSBnaXZlbiB2ZWN0b3IvYXJyYXlcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICB2YXIgViA9IHZlY3Rvci5lbGVtZW50cyB8fCB2ZWN0b3I7XG4gICAgdmFyIFMgPSB0aGlzLnN0YXJ0LmVsZW1lbnRzLCBFID0gdGhpcy5lbmQuZWxlbWVudHM7XG4gICAgcmV0dXJuIExpbmUuU2VnbWVudC5jcmVhdGUoXG4gICAgICBbU1swXSArIFZbMF0sIFNbMV0gKyBWWzFdLCBTWzJdICsgKFZbMl0gfHwgMCldLFxuICAgICAgW0VbMF0gKyBWWzBdLCBFWzFdICsgVlsxXSwgRVsyXSArIChWWzJdIHx8IDApXVxuICAgICk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgbGluZSBzZWdtZW50IGlzIHBhcmFsbGVsIHRvIHRoZSBhcmd1bWVudC4gSXQgc2ltcGx5IGZvcndhcmRzXG4gIC8vIHRoZSBtZXRob2QgY2FsbCBvbnRvIGl0cyBsaW5lIHByb3BlcnR5LlxuICBpc1BhcmFsbGVsVG86IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0aGlzLmxpbmUuaXNQYXJhbGxlbFRvKG9iaik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgYXJndW1lbnQgYW5kIHRoZSBsaW5lIHNlZ21lbnQncyBjbG9zZXN0IHBvaW50IHRvIHRoZSBhcmd1bWVudFxuICBkaXN0YW5jZUZyb206IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBQID0gdGhpcy5wb2ludENsb3Nlc3RUbyhvYmopO1xuICAgIHJldHVybiAoUCA9PT0gbnVsbCkgPyBudWxsIDogUC5kaXN0YW5jZUZyb20ob2JqKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBnaXZlbiBwb2ludCBsaWVzIG9uIHRoZSBzZWdtZW50XG4gIGNvbnRhaW5zOiBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqLnN0YXJ0ICYmIG9iai5lbmQpIHsgcmV0dXJuIHRoaXMuY29udGFpbnMob2JqLnN0YXJ0KSAmJiB0aGlzLmNvbnRhaW5zKG9iai5lbmQpOyB9XG4gICAgdmFyIFAgPSAob2JqLmVsZW1lbnRzIHx8IG9iaikuc2xpY2UoKTtcbiAgICBpZiAoUC5sZW5ndGggPT0gMikgeyBQLnB1c2goMCk7IH1cbiAgICBpZiAodGhpcy5zdGFydC5lcWwoUCkpIHsgcmV0dXJuIHRydWU7IH1cbiAgICB2YXIgUyA9IHRoaXMuc3RhcnQuZWxlbWVudHM7XG4gICAgdmFyIFYgPSBWZWN0b3IuY3JlYXRlKFtTWzBdIC0gUFswXSwgU1sxXSAtIFBbMV0sIFNbMl0gLSAoUFsyXSB8fCAwKV0pO1xuICAgIHZhciB2ZWN0ID0gdGhpcy50b1ZlY3RvcigpO1xuICAgIHJldHVybiBWLmlzQW50aXBhcmFsbGVsVG8odmVjdCkgJiYgVi5tb2R1bHVzKCkgPD0gdmVjdC5tb2R1bHVzKCk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgbGluZSBzZWdtZW50IGludGVyc2VjdHMgdGhlIGFyZ3VtZW50XG4gIGludGVyc2VjdHM6IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiAodGhpcy5pbnRlcnNlY3Rpb25XaXRoKG9iaikgIT09IG51bGwpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHVuaXF1ZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gd2l0aCB0aGUgYXJndW1lbnRcbiAgaW50ZXJzZWN0aW9uV2l0aDogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCF0aGlzLmxpbmUuaW50ZXJzZWN0cyhvYmopKSB7IHJldHVybiBudWxsOyB9XG4gICAgdmFyIFAgPSB0aGlzLmxpbmUuaW50ZXJzZWN0aW9uV2l0aChvYmopO1xuICAgIHJldHVybiAodGhpcy5jb250YWlucyhQKSA/IFAgOiBudWxsKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBwb2ludCBvbiB0aGUgbGluZSBzZWdtZW50IGNsb3Nlc3QgdG8gdGhlIGdpdmVuIG9iamVjdFxuICBwb2ludENsb3Nlc3RUbzogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iai5ub3JtYWwpIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBsYW5lXG4gICAgICB2YXIgViA9IHRoaXMubGluZS5pbnRlcnNlY3Rpb25XaXRoKG9iaik7XG4gICAgICBpZiAoViA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgcmV0dXJuIHRoaXMucG9pbnRDbG9zZXN0VG8oVik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG9iaiBpcyBhIGxpbmUgKHNlZ21lbnQpIG9yIHBvaW50XG4gICAgICB2YXIgUCA9IHRoaXMubGluZS5wb2ludENsb3Nlc3RUbyhvYmopO1xuICAgICAgaWYgKFAgPT09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgIGlmICh0aGlzLmNvbnRhaW5zKFApKSB7IHJldHVybiBQOyB9XG4gICAgICByZXR1cm4gKHRoaXMubGluZS5wb3NpdGlvbk9mKFApIDwgMCA/IHRoaXMuc3RhcnQgOiB0aGlzLmVuZCkuZHVwKCk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFNldCB0aGUgc3RhcnQgYW5kIGVuZC1wb2ludHMgb2YgdGhlIHNlZ21lbnRcbiAgc2V0UG9pbnRzOiBmdW5jdGlvbihzdGFydFBvaW50LCBlbmRQb2ludCkge1xuICAgIHN0YXJ0UG9pbnQgPSBWZWN0b3IuY3JlYXRlKHN0YXJ0UG9pbnQpLnRvM0QoKTtcbiAgICBlbmRQb2ludCA9IFZlY3Rvci5jcmVhdGUoZW5kUG9pbnQpLnRvM0QoKTtcbiAgICBpZiAoc3RhcnRQb2ludCA9PT0gbnVsbCB8fCBlbmRQb2ludCA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHRoaXMubGluZSA9IExpbmUuY3JlYXRlKHN0YXJ0UG9pbnQsIGVuZFBvaW50LnN1YnRyYWN0KHN0YXJ0UG9pbnQpKTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnRQb2ludDtcbiAgICB0aGlzLmVuZCA9IGVuZFBvaW50O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG4vLyBDb25zdHJ1Y3RvciBmdW5jdGlvblxuTGluZS5TZWdtZW50LmNyZWF0ZSA9IGZ1bmN0aW9uKHYxLCB2Mikge1xuICB2YXIgUyA9IG5ldyBMaW5lLlNlZ21lbnQoKTtcbiAgcmV0dXJuIFMuc2V0UG9pbnRzKHYxLCB2Mik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExpbmUuU2VnbWVudDtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxMSwgQ2hyaXMgVW1iZWwsIEphbWVzIENvZ2xhblxuLy8gTWF0cml4IGNsYXNzIC0gZGVwZW5kcyBvbiBWZWN0b3IuXG5cbnZhciBTeWx2ZXN0ZXIgPSByZXF1aXJlKCcuL3N5bHZlc3RlcicpO1xudmFyIFZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XG5cbi8vIGF1Z21lbnQgYSBtYXRyaXggTSB3aXRoIGlkZW50aXR5IHJvd3MvY29sc1xuZnVuY3Rpb24gaWRlbnRTaXplKE0sIG0sIG4sIGspIHtcbiAgICB2YXIgZSA9IE0uZWxlbWVudHM7XG4gICAgdmFyIGkgPSBrIC0gMTtcblxuICAgIHdoaWxlKGktLSkge1xuXHR2YXIgcm93ID0gW107XG5cdFxuXHRmb3IodmFyIGogPSAwOyBqIDwgbjsgaisrKVxuXHQgICAgcm93LnB1c2goaiA9PSBpID8gMSA6IDApO1xuXHRcbiAgICAgICAgZS51bnNoaWZ0KHJvdyk7XG4gICAgfVxuICAgIFxuICAgIGZvcih2YXIgaSA9IGsgLSAxOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgIHdoaWxlKGVbaV0ubGVuZ3RoIDwgbilcbiAgICAgICAgICAgIGVbaV0udW5zaGlmdCgwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJE0oZSk7XG59XG5cbmZ1bmN0aW9uIHBjYShYKSB7XG4gICAgdmFyIFNpZ21hID0gWC50cmFuc3Bvc2UoKS54KFgpLngoMSAvIFgucm93cygpKTtcbiAgICB2YXIgc3ZkID0gU2lnbWEuc3ZkKCk7XG4gICAgcmV0dXJuIHtVOiBzdmQuVSwgUzogc3ZkLlN9O1xufVxuXG4vLyBzaW5ndWxhciB2YWx1ZSBkZWNvbXBvc2l0aW9uIGluIHB1cmUgamF2YXNjcmlwdFxuZnVuY3Rpb24gc3ZkSnMoKSB7XG4gICAgdmFyIEEgPSB0aGlzO1xuICAgIHZhciBWID0gTWF0cml4LkkoQS5yb3dzKCkpO1xuICAgIHZhciBTID0gQS50cmFuc3Bvc2UoKTtcbiAgICB2YXIgVSA9IE1hdHJpeC5JKEEuY29scygpKTtcbiAgICB2YXIgZXJyID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIG1heExvb3AgPSAxMDA7XG5cbiAgICB3aGlsZShlcnIgPiAyLjI3MzdlLTEzICYmIGkgPCBtYXhMb29wKSB7XG4gICAgICAgIHZhciBxciA9IFMudHJhbnNwb3NlKCkucXJKcygpO1xuICAgICAgICBTID0gcXIuUjtcbiAgICAgICAgViA9IFYueChxci5RKTtcbiAgICAgICAgcXIgPSBTLnRyYW5zcG9zZSgpLnFySnMoKTtcbiAgICAgICAgVSA9IFUueChxci5RKTtcbiAgICAgICAgUyA9IHFyLlI7XG5cbiAgICAgICAgdmFyIGUgPSBTLnRyaXUoMSkudW5yb2xsKCkubm9ybSgpO1xuICAgICAgICB2YXIgZiA9IFMuZGlhZ29uYWwoKS5ub3JtKCk7XG5cbiAgICAgICAgaWYoZiA9PSAwKVxuICAgICAgICAgICAgZiA9IDE7XG5cbiAgICAgICAgZXJyID0gZSAvIGY7XG5cbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHZhciBzcyA9IFMuZGlhZ29uYWwoKTtcbiAgICB2YXIgcyA9IFtdO1xuXG4gICAgZm9yKHZhciBpID0gMTsgaSA8PSBzcy5jb2xzKCk7IGkrKykge1xuICAgICAgICB2YXIgc3NuID0gc3MuZShpKTtcbiAgICAgICAgcy5wdXNoKE1hdGguYWJzKHNzbikpO1xuXG4gICAgICAgIGlmKHNzbiA8IDApIHtcbiAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBVLnJvd3MoKTsgaisrKSB7XG4gICAgICAgICAgICAgICAgVi5lbGVtZW50c1tqXVtpIC0gMV0gPSAtKFYuZWxlbWVudHNbal1baSAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7VTogVSwgUzogJFYocykudG9EaWFnb25hbE1hdHJpeCgpLCBWOiBWfTtcbn1cblxuXG5cbi8vIFFSIGRlY29tcG9zaXRpb24gaW4gcHVyZSBqYXZhc2NyaXB0XG5mdW5jdGlvbiBxckpzKCkge1xuICAgIHZhciBtID0gdGhpcy5yb3dzKCk7XG4gICAgdmFyIG4gPSB0aGlzLmNvbHMoKTtcbiAgICB2YXIgUSA9IE1hdHJpeC5JKG0pO1xuICAgIHZhciBBID0gdGhpcztcbiAgICBcbiAgICBmb3IodmFyIGsgPSAxOyBrIDwgTWF0aC5taW4obSwgbik7IGsrKykge1xuXHR2YXIgYWsgPSBBLnNsaWNlKGssIDAsIGssIGspLmNvbCgxKTtcblx0dmFyIG9uZVplcm8gPSBbMV07XG5cdFxuXHR3aGlsZShvbmVaZXJvLmxlbmd0aCA8PSAgbSAtIGspXG5cdCAgICBvbmVaZXJvLnB1c2goMCk7XG5cdFxuXHRvbmVaZXJvID0gJFYob25lWmVybyk7XG5cdHZhciB2ayA9IGFrLmFkZChvbmVaZXJvLngoYWsubm9ybSgpICogTWF0aC5zaWduKGFrLmUoMSkpKSk7XG5cdHZhciBWayA9ICRNKHZrKTtcblx0dmFyIEhrID0gTWF0cml4LkkobSAtIGsgKyAxKS5zdWJ0cmFjdChWay54KDIpLngoVmsudHJhbnNwb3NlKCkpLmRpdihWay50cmFuc3Bvc2UoKS54KFZrKS5lKDEsIDEpKSk7XG5cdHZhciBRayA9IGlkZW50U2l6ZShIaywgbSwgbiwgayk7XG5cdEEgPSBRay54KEEpO1xuXHQvLyBzbG93IHdheSB0byBjb21wdXRlIFFcblx0USA9IFEueChRayk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7UTogUSwgUjogQX07XG59XG5cblxuXG5cbmZ1bmN0aW9uIE1hdHJpeCgpIHt9XG5NYXRyaXgucHJvdG90eXBlID0ge1xuICAgIC8vIHNvbHZlIGEgc3lzdGVtIG9mIGxpbmVhciBlcXVhdGlvbnMgKHdvcmsgaW4gcHJvZ3Jlc3MpXG4gICAgc29sdmU6IGZ1bmN0aW9uKGIpIHtcblx0dmFyIGx1ID0gdGhpcy5sdSgpO1xuXHRiID0gbHUuUC54KGIpO1xuXHR2YXIgeSA9IGx1LkwuZm9yd2FyZFN1YnN0aXR1dGUoYik7XG5cdHZhciB4ID0gbHUuVS5iYWNrU3Vic3RpdHV0ZSh5KTtcblx0cmV0dXJuIGx1LlAueCh4KTtcblx0Ly9yZXR1cm4gdGhpcy5pbnYoKS54KGIpO1xuICAgIH0sXG5cbiAgICAvLyBwcm9qZWN0IGEgbWF0cml4IG9udG8gYSBsb3dlciBkaW1cbiAgICBwY2FQcm9qZWN0OiBmdW5jdGlvbihrLCBVKSB7XG5cdHZhciBVID0gVSB8fCBwY2EodGhpcykuVTtcblx0dmFyIFVyZWR1Y2U9IFUuc2xpY2UoMSwgVS5yb3dzKCksIDEsIGspO1xuXHRyZXR1cm4ge1o6IHRoaXMueChVcmVkdWNlKSwgVTogVX07XG4gICAgfSxcblxuICAgIC8vIHJlY292ZXIgYSBtYXRyaXggdG8gYSBoaWdoZXIgZGltZW5zaW9uXG4gICAgcGNhUmVjb3ZlcjogZnVuY3Rpb24oVSkge1xuXHR2YXIgayA9IHRoaXMuY29scygpO1xuXHR2YXIgVXJlZHVjZSA9IFUuc2xpY2UoMSwgVS5yb3dzKCksIDEsIGspO1xuXHRyZXR1cm4gdGhpcy54KFVyZWR1Y2UudHJhbnNwb3NlKCkpO1xuICAgIH0sICAgIFxuXG4gICAgLy8gZ3JhYiB0aGUgdXBwZXIgdHJpYW5ndWxhciBwYXJ0IG9mIHRoZSBtYXRyaXhcbiAgICB0cml1OiBmdW5jdGlvbihrKSB7XG5cdGlmKCFrKVxuXHQgICAgayA9IDA7XG5cdFxuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCwgaSwgaikge1xuXHQgICAgcmV0dXJuIGogLSBpID49IGsgPyB4IDogMDtcblx0fSk7XG4gICAgfSxcblxuICAgIC8vIHVucm9sbCBhIG1hdHJpeCBpbnRvIGEgdmVjdG9yXG4gICAgdW5yb2xsOiBmdW5jdGlvbigpIHtcblx0dmFyIHYgPSBbXTtcblx0XG5cdGZvcih2YXIgaSA9IDE7IGkgPD0gdGhpcy5jb2xzKCk7IGkrKykge1xuXHQgICAgZm9yKHZhciBqID0gMTsgaiA8PSB0aGlzLnJvd3MoKTsgaisrKSB7XG5cdFx0di5wdXNoKHRoaXMuZShqLCBpKSk7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gJFYodik7XG4gICAgfSxcblxuICAgIC8vIHJldHVybiBhIHN1Yi1ibG9jayBvZiB0aGUgbWF0cml4XG4gICAgc2xpY2U6IGZ1bmN0aW9uKHN0YXJ0Um93LCBlbmRSb3csIHN0YXJ0Q29sLCBlbmRDb2wpIHtcblx0dmFyIHggPSBbXTtcblx0XG5cdGlmKGVuZFJvdyA9PSAwKVxuXHQgICAgZW5kUm93ID0gdGhpcy5yb3dzKCk7XG5cdFxuXHRpZihlbmRDb2wgPT0gMClcblx0ICAgIGVuZENvbCA9IHRoaXMuY29scygpO1xuXG5cdGZvcihpID0gc3RhcnRSb3c7IGkgPD0gZW5kUm93OyBpKyspIHtcblx0ICAgIHZhciByb3cgPSBbXTtcblxuXHQgICAgZm9yKGogPSBzdGFydENvbDsgaiA8PSBlbmRDb2w7IGorKykge1xuXHRcdHJvdy5wdXNoKHRoaXMuZShpLCBqKSk7XG5cdCAgICB9XG5cblx0ICAgIHgucHVzaChyb3cpO1xuXHR9XG5cblx0cmV0dXJuICRNKHgpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGVsZW1lbnQgKGksaikgb2YgdGhlIG1hdHJpeFxuICAgIGU6IGZ1bmN0aW9uKGksaikge1xuXHRpZiAoaSA8IDEgfHwgaSA+IHRoaXMuZWxlbWVudHMubGVuZ3RoIHx8IGogPCAxIHx8IGogPiB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHRyZXR1cm4gdGhpcy5lbGVtZW50c1tpIC0gMV1baiAtIDFdO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHJvdyBrIG9mIHRoZSBtYXRyaXggYXMgYSB2ZWN0b3JcbiAgICByb3c6IGZ1bmN0aW9uKGkpIHtcblx0aWYgKGkgPiB0aGlzLmVsZW1lbnRzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHRyZXR1cm4gJFYodGhpcy5lbGVtZW50c1tpIC0gMV0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGNvbHVtbiBrIG9mIHRoZSBtYXRyaXggYXMgYSB2ZWN0b3JcbiAgICBjb2w6IGZ1bmN0aW9uKGopIHtcblx0aWYgKGogPiB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHR2YXIgY29sID0gW10sIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsgY29sLnB1c2godGhpcy5lbGVtZW50c1tpXVtqIC0gMV0pOyB9XG5cdHJldHVybiAkVihjb2wpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cy9jb2x1bW5zIHRoZSBtYXRyaXggaGFzXG4gICAgZGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG5cdHJldHVybiB7cm93czogdGhpcy5lbGVtZW50cy5sZW5ndGgsIGNvbHM6IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RofTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIG1hdHJpeFxuICAgIHJvd3M6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBtYXRyaXhcbiAgICBjb2xzOiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoO1xuICAgIH0sXG5cbiAgICBhcHByb3hFcWw6IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHRyZXR1cm4gdGhpcy5lcWwobWF0cml4LCBTeWx2ZXN0ZXIuYXBwcm94UHJlY2lzaW9uKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgbWF0cml4IGlzIGVxdWFsIHRvIHRoZSBhcmd1bWVudC4gWW91IGNhbiBzdXBwbHlcbiAgICAvLyBhIHZlY3RvciBhcyB0aGUgYXJndW1lbnQsIGluIHdoaWNoIGNhc2UgdGhlIHJlY2VpdmVyIG11c3QgYmUgYVxuICAgIC8vIG9uZS1jb2x1bW4gbWF0cml4IGVxdWFsIHRvIHRoZSB2ZWN0b3IuXG4gICAgZXFsOiBmdW5jdGlvbihtYXRyaXgsIHByZWNpc2lvbikge1xuXHR2YXIgTSA9IG1hdHJpeC5lbGVtZW50cyB8fCBtYXRyaXg7XG5cdGlmICh0eXBlb2YoTVswXVswXSkgPT0gJ3VuZGVmaW5lZCcpIHsgTSA9IE1hdHJpeC5jcmVhdGUoTSkuZWxlbWVudHM7IH1cblx0aWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoICE9IE0ubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCAhPSBNWzBdLmxlbmd0aCkgeyByZXR1cm4gZmFsc2U7IH1cblx0dmFyIGkgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgbmogPSB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCwgajtcblx0d2hpbGUgKGktLSkgeyBqID0gbmo7XG5cdFx0ICAgICAgd2hpbGUgKGotLSkge1xuXHRcdFx0ICBpZiAoTWF0aC5hYnModGhpcy5lbGVtZW50c1tpXVtqXSAtIE1baV1bal0pID4gKHByZWNpc2lvbiB8fCBTeWx2ZXN0ZXIucHJlY2lzaW9uKSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0cmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXRyaXhcbiAgICBkdXA6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gTWF0cml4LmNyZWF0ZSh0aGlzLmVsZW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLy8gTWFwcyB0aGUgbWF0cml4IHRvIGFub3RoZXIgbWF0cml4IChvZiB0aGUgc2FtZSBkaW1lbnNpb25zKSBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGZ1bmN0aW9uXG4gICAgbWFwOiBmdW5jdGlvbihmbikge1xuICAgIHZhciBlbHMgPSBbXSwgaSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBuaiA9IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoLCBqO1xuXHR3aGlsZSAoaS0tKSB7IGogPSBuajtcblx0XHQgICAgICBlbHNbaV0gPSBbXTtcblx0XHQgICAgICB3aGlsZSAoai0tKSB7XG5cdFx0XHQgIGVsc1tpXVtqXSA9IGZuKHRoaXMuZWxlbWVudHNbaV1bal0sIGkgKyAxLCBqICsgMSk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9XG5cdHJldHVybiBNYXRyaXguY3JlYXRlKGVscyk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGFyZ3VtZW50IGhhcyB0aGUgc2FtZSBkaW1lbnNpb25zIGFzIHRoZSBtYXRyaXhcbiAgICBpc1NhbWVTaXplQXM6IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHR2YXIgTSA9IG1hdHJpeC5lbGVtZW50cyB8fCBtYXRyaXg7XG5cdGlmICh0eXBlb2YoTVswXVswXSkgPT0gJ3VuZGVmaW5lZCcpIHsgTSA9IE1hdHJpeC5jcmVhdGUoTSkuZWxlbWVudHM7IH1cblx0cmV0dXJuICh0aGlzLmVsZW1lbnRzLmxlbmd0aCA9PSBNLmxlbmd0aCAmJlxuXHRcdHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoID09IE1bMF0ubGVuZ3RoKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGFkZGluZyB0aGUgYXJndW1lbnQgdG8gdGhlIG1hdHJpeFxuICAgIGFkZDogZnVuY3Rpb24obWF0cml4KSB7XG5cdGlmKHR5cGVvZihtYXRyaXgpID09ICdudW1iZXInKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCwgaSwgaikgeyByZXR1cm4geCArIG1hdHJpeH0pO1xuXHR9IGVsc2Uge1xuXHQgICAgdmFyIE0gPSBtYXRyaXguZWxlbWVudHMgfHwgbWF0cml4O1xuXHQgICAgaWYgKHR5cGVvZihNWzBdWzBdKSA9PSAndW5kZWZpbmVkJykgeyBNID0gTWF0cml4LmNyZWF0ZShNKS5lbGVtZW50czsgfVxuXHQgICAgaWYgKCF0aGlzLmlzU2FtZVNpemVBcyhNKSkgeyByZXR1cm4gbnVsbDsgfVxuXHQgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgsIGksIGopIHsgcmV0dXJuIHggKyBNW2kgLSAxXVtqIC0gMV07IH0pO1xuXHR9XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBzdWJ0cmFjdGluZyB0aGUgYXJndW1lbnQgZnJvbSB0aGUgbWF0cml4XG4gICAgc3VidHJhY3Q6IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHRpZih0eXBlb2YobWF0cml4KSA9PSAnbnVtYmVyJykge1xuXHQgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgsIGksIGopIHsgcmV0dXJuIHggLSBtYXRyaXh9KTtcblx0fSBlbHNlIHtcblx0ICAgIHZhciBNID0gbWF0cml4LmVsZW1lbnRzIHx8IG1hdHJpeDtcblx0ICAgIGlmICh0eXBlb2YoTVswXVswXSkgPT0gJ3VuZGVmaW5lZCcpIHsgTSA9IE1hdHJpeC5jcmVhdGUoTSkuZWxlbWVudHM7IH1cblx0ICAgIGlmICghdGhpcy5pc1NhbWVTaXplQXMoTSkpIHsgcmV0dXJuIG51bGw7IH1cblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4LCBpLCBqKSB7IHJldHVybiB4IC0gTVtpIC0gMV1baiAtIDFdOyB9KTtcblx0fVxuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBtYXRyaXggY2FuIG11bHRpcGx5IHRoZSBhcmd1bWVudCBmcm9tIHRoZSBsZWZ0XG4gICAgY2FuTXVsdGlwbHlGcm9tTGVmdDogZnVuY3Rpb24obWF0cml4KSB7XG5cdHZhciBNID0gbWF0cml4LmVsZW1lbnRzIHx8IG1hdHJpeDtcblx0aWYgKHR5cGVvZihNWzBdWzBdKSA9PSAndW5kZWZpbmVkJykgeyBNID0gTWF0cml4LmNyZWF0ZShNKS5lbGVtZW50czsgfVxuXHQvLyB0aGlzLmNvbHVtbnMgc2hvdWxkIGVxdWFsIG1hdHJpeC5yb3dzXG5cdHJldHVybiAodGhpcy5lbGVtZW50c1swXS5sZW5ndGggPT0gTS5sZW5ndGgpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYSBtdWx0aXBsaWNhdGlvbi1zdHlsZSBvcGVyYXRpb24gdGhlIG1hdHJpeCBmcm9tIHRoZSByaWdodCBieSB0aGUgYXJndW1lbnQuXG4gICAgLy8gSWYgdGhlIGFyZ3VtZW50IGlzIGEgc2NhbGFyIHRoZW4ganVzdCBvcGVyYXRlIG9uIGFsbCB0aGUgZWxlbWVudHMuIElmIHRoZSBhcmd1bWVudCBpc1xuICAgIC8vIGEgdmVjdG9yLCBhIHZlY3RvciBpcyByZXR1cm5lZCwgd2hpY2ggc2F2ZXMgeW91IGhhdmluZyB0byByZW1lbWJlciBjYWxsaW5nXG4gICAgLy8gY29sKDEpIG9uIHRoZSByZXN1bHQuXG4gICAgbXVsT3A6IGZ1bmN0aW9uKG1hdHJpeCwgb3ApIHtcblx0aWYgKCFtYXRyaXguZWxlbWVudHMpIHtcblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBvcCh4LCBtYXRyaXgpOyB9KTtcblx0fVxuXG5cdHZhciByZXR1cm5WZWN0b3IgPSBtYXRyaXgubW9kdWx1cyA/IHRydWUgOiBmYWxzZTtcblx0dmFyIE0gPSBtYXRyaXguZWxlbWVudHMgfHwgbWF0cml4O1xuXHRpZiAodHlwZW9mKE1bMF1bMF0pID09ICd1bmRlZmluZWQnKSBcblx0ICAgIE0gPSBNYXRyaXguY3JlYXRlKE0pLmVsZW1lbnRzO1xuXHRpZiAoIXRoaXMuY2FuTXVsdGlwbHlGcm9tTGVmdChNKSkgXG5cdCAgICByZXR1cm4gbnVsbDsgXG5cdHZhciBlID0gdGhpcy5lbGVtZW50cywgcm93VGhpcywgcm93RWxlbSwgZWxlbWVudHMgPSBbXSxcbiAgICAgICAgc3VtLCBtID0gZS5sZW5ndGgsIG4gPSBNWzBdLmxlbmd0aCwgbyA9IGVbMF0ubGVuZ3RoLCBpID0gbSwgaiwgaztcblxuXHR3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICByb3dFbGVtID0gW107XG4gICAgICAgICAgICByb3dUaGlzID0gZVtpXTtcbiAgICAgICAgICAgIGogPSBuO1xuXG4gICAgICAgICAgICB3aGlsZSAoai0tKSB7XG5cdFx0c3VtID0gMDtcblx0XHRrID0gbztcblxuXHRcdHdoaWxlIChrLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgc3VtICs9IG9wKHJvd1RoaXNba10sIE1ba11bal0pO1xuXHRcdH1cblxuXHRcdHJvd0VsZW1bal0gPSBzdW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gcm93RWxlbTtcblx0fVxuXG5cdHZhciBNID0gTWF0cml4LmNyZWF0ZShlbGVtZW50cyk7XG5cdHJldHVybiByZXR1cm5WZWN0b3IgPyBNLmNvbCgxKSA6IE07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBkaXZpZGluZyB0aGUgbWF0cml4IGZyb20gdGhlIHJpZ2h0IGJ5IHRoZSBhcmd1bWVudC5cbiAgICAvLyBJZiB0aGUgYXJndW1lbnQgaXMgYSBzY2FsYXIgdGhlbiBqdXN0IGRpdmlkZSBhbGwgdGhlIGVsZW1lbnRzLiBJZiB0aGUgYXJndW1lbnQgaXNcbiAgICAvLyBhIHZlY3RvciwgYSB2ZWN0b3IgaXMgcmV0dXJuZWQsIHdoaWNoIHNhdmVzIHlvdSBoYXZpbmcgdG8gcmVtZW1iZXIgY2FsbGluZ1xuICAgIC8vIGNvbCgxKSBvbiB0aGUgcmVzdWx0LlxuICAgIGRpdjogZnVuY3Rpb24obWF0cml4KSB7XG5cdHJldHVybiB0aGlzLm11bE9wKG1hdHJpeCwgZnVuY3Rpb24oeCwgeSkgeyByZXR1cm4geCAvIHl9KTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIG11bHRpcGx5aW5nIHRoZSBtYXRyaXggZnJvbSB0aGUgcmlnaHQgYnkgdGhlIGFyZ3VtZW50LlxuICAgIC8vIElmIHRoZSBhcmd1bWVudCBpcyBhIHNjYWxhciB0aGVuIGp1c3QgbXVsdGlwbHkgYWxsIHRoZSBlbGVtZW50cy4gSWYgdGhlIGFyZ3VtZW50IGlzXG4gICAgLy8gYSB2ZWN0b3IsIGEgdmVjdG9yIGlzIHJldHVybmVkLCB3aGljaCBzYXZlcyB5b3UgaGF2aW5nIHRvIHJlbWVtYmVyIGNhbGxpbmdcbiAgICAvLyBjb2woMSkgb24gdGhlIHJlc3VsdC5cbiAgICBtdWx0aXBseTogZnVuY3Rpb24obWF0cml4KSB7XG5cdHJldHVybiB0aGlzLm11bE9wKG1hdHJpeCwgZnVuY3Rpb24oeCwgeSkgeyByZXR1cm4geCAqIHl9KTtcbiAgICB9LFxuXG4gICAgeDogZnVuY3Rpb24obWF0cml4KSB7IHJldHVybiB0aGlzLm11bHRpcGx5KG1hdHJpeCk7IH0sXG5cbiAgICBlbGVtZW50TXVsdGlwbHk6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGssIGksIGopIHtcbiAgICAgICAgICAgIHJldHVybiB2LmUoaSwgaikgKiBrO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gc3VtIGFsbCBlbGVtZW50cyBpbiB0aGUgbWF0cml4XG4gICAgc3VtOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG5cbiAgICAgICAgdGhpcy5tYXAoZnVuY3Rpb24oeCkgeyBzdW0gKz0geDt9KTtcblxuICAgICAgICByZXR1cm4gc3VtO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgVmVjdG9yIG9mIGVhY2ggY29sdW0gYXZlcmFnZWQuXG4gICAgbWVhbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGltID0gdGhpcy5kaW1lbnNpb25zKCk7XG4gICAgICB2YXIgciA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gZGltLmNvbHM7IGkrKykge1xuICAgICAgICByLnB1c2godGhpcy5jb2woaSkuc3VtKCkgLyBkaW0ucm93cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJFYocik7XG4gICAgfSxcblxuICAgIGNvbHVtbjogZnVuY3Rpb24obikge1xuXHRyZXR1cm4gdGhpcy5jb2wobik7XG4gICAgfSxcblxuICAgIC8vIGVsZW1lbnQtd2lzZSBsb2dcbiAgICBsb2c6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5sb2coeCk7IH0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgc3VibWF0cml4IHRha2VuIGZyb20gdGhlIG1hdHJpeFxuICAgIC8vIEFyZ3VtZW50IG9yZGVyIGlzOiBzdGFydCByb3csIHN0YXJ0IGNvbCwgbnJvd3MsIG5jb2xzXG4gICAgLy8gRWxlbWVudCBzZWxlY3Rpb24gd3JhcHMgaWYgdGhlIHJlcXVpcmVkIGluZGV4IGlzIG91dHNpZGUgdGhlIG1hdHJpeCdzIGJvdW5kcywgc28geW91IGNvdWxkXG4gICAgLy8gdXNlIHRoaXMgdG8gcGVyZm9ybSByb3cvY29sdW1uIGN5Y2xpbmcgb3IgY29weS1hdWdtZW50aW5nLlxuICAgIG1pbm9yOiBmdW5jdGlvbihhLCBiLCBjLCBkKSB7XG5cdHZhciBlbGVtZW50cyA9IFtdLCBuaSA9IGMsIGksIG5qLCBqO1xuXHR2YXIgcm93cyA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBjb2xzID0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGg7XG5cdHdoaWxlIChuaS0tKSB7XG5cdCAgICBpID0gYyAtIG5pIC0gMTtcblx0ICAgIGVsZW1lbnRzW2ldID0gW107XG5cdCAgICBuaiA9IGQ7XG5cdCAgICB3aGlsZSAobmotLSkge1xuXHRcdGogPSBkIC0gbmogLSAxO1xuXHRcdGVsZW1lbnRzW2ldW2pdID0gdGhpcy5lbGVtZW50c1soYSArIGkgLSAxKSAlIHJvd3NdWyhiICsgaiAtIDEpICUgY29sc107XG5cdCAgICB9XG5cdH1cblx0cmV0dXJuIE1hdHJpeC5jcmVhdGUoZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIG1hdHJpeFxuICAgIHRyYW5zcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJvd3MgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgaSwgY29scyA9IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoLCBqO1xuXHR2YXIgZWxlbWVudHMgPSBbXSwgaSA9IGNvbHM7XG5cdHdoaWxlIChpLS0pIHtcblx0ICAgIGogPSByb3dzO1xuXHQgICAgZWxlbWVudHNbaV0gPSBbXTtcblx0ICAgIHdoaWxlIChqLS0pIHtcblx0XHRlbGVtZW50c1tpXVtqXSA9IHRoaXMuZWxlbWVudHNbal1baV07XG5cdCAgICB9XG5cdH1cblx0cmV0dXJuIE1hdHJpeC5jcmVhdGUoZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBtYXRyaXggaXMgc3F1YXJlXG4gICAgaXNTcXVhcmU6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gKHRoaXMuZWxlbWVudHMubGVuZ3RoID09IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgKGFic29sdXRlKSBsYXJnZXN0IGVsZW1lbnQgb2YgdGhlIG1hdHJpeFxuICAgIG1heDogZnVuY3Rpb24oKSB7XG5cdHZhciBtID0gMCwgaSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBuaiA9IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoLCBqO1xuXHR3aGlsZSAoaS0tKSB7XG5cdCAgICBqID0gbmo7XG5cdCAgICB3aGlsZSAoai0tKSB7XG5cdFx0aWYgKE1hdGguYWJzKHRoaXMuZWxlbWVudHNbaV1bal0pID4gTWF0aC5hYnMobSkpIHsgbSA9IHRoaXMuZWxlbWVudHNbaV1bal07IH1cblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gbTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgaW5kZWNlcyBvZiB0aGUgZmlyc3QgbWF0Y2ggZm91bmQgYnkgcmVhZGluZyByb3ctYnktcm93IGZyb20gbGVmdCB0byByaWdodFxuICAgIGluZGV4T2Y6IGZ1bmN0aW9uKHgpIHtcblx0dmFyIGluZGV4ID0gbnVsbCwgbmkgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgaSwgbmogPSB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCwgajtcblx0Zm9yIChpID0gMDsgaSA8IG5pOyBpKyspIHtcblx0ICAgIGZvciAoaiA9IDA7IGogPCBuajsgaisrKSB7XG5cdFx0aWYgKHRoaXMuZWxlbWVudHNbaV1bal0gPT0geCkgeyByZXR1cm4ge2k6IGkgKyAxLCBqOiBqICsgMX07IH1cblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLy8gSWYgdGhlIG1hdHJpeCBpcyBzcXVhcmUsIHJldHVybnMgdGhlIGRpYWdvbmFsIGVsZW1lbnRzIGFzIGEgdmVjdG9yLlxuICAgIC8vIE90aGVyd2lzZSwgcmV0dXJucyBudWxsLlxuICAgIGRpYWdvbmFsOiBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLmlzU3F1YXJlKSB7IHJldHVybiBudWxsOyB9XG5cdHZhciBlbHMgPSBbXSwgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuXHQgICAgZWxzLnB1c2godGhpcy5lbGVtZW50c1tpXVtpXSk7XG5cdH1cblx0cmV0dXJuICRWKGVscyk7XG4gICAgfSxcblxuICAgIC8vIE1ha2UgdGhlIG1hdHJpeCB1cHBlciAocmlnaHQpIHRyaWFuZ3VsYXIgYnkgR2F1c3NpYW4gZWxpbWluYXRpb24uXG4gICAgLy8gVGhpcyBtZXRob2Qgb25seSBhZGRzIG11bHRpcGxlcyBvZiByb3dzIHRvIG90aGVyIHJvd3MuIE5vIHJvd3MgYXJlXG4gICAgLy8gc2NhbGVkIHVwIG9yIHN3aXRjaGVkLCBhbmQgdGhlIGRldGVybWluYW50IGlzIHByZXNlcnZlZC5cbiAgICB0b1JpZ2h0VHJpYW5ndWxhcjogZnVuY3Rpb24oKSB7XG5cdHZhciBNID0gdGhpcy5kdXAoKSwgZWxzO1xuXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoLCBpLCBqLCBucCA9IHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoLCBwO1xuXHRmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdCAgICBpZiAoTS5lbGVtZW50c1tpXVtpXSA9PSAwKSB7XG5cdFx0Zm9yIChqID0gaSArIDE7IGogPCBuOyBqKyspIHtcblx0XHQgICAgaWYgKE0uZWxlbWVudHNbal1baV0gIT0gMCkge1xuXHRcdFx0ZWxzID0gW107XG5cdFx0XHRmb3IgKHAgPSAwOyBwIDwgbnA7IHArKykgeyBlbHMucHVzaChNLmVsZW1lbnRzW2ldW3BdICsgTS5lbGVtZW50c1tqXVtwXSk7IH1cblx0XHRcdE0uZWxlbWVudHNbaV0gPSBlbHM7XG5cdFx0XHRicmVhaztcblx0XHQgICAgfVxuXHRcdH1cblx0ICAgIH1cblx0ICAgIGlmIChNLmVsZW1lbnRzW2ldW2ldICE9IDApIHtcblx0XHRmb3IgKGogPSBpICsgMTsgaiA8IG47IGorKykge1xuXHRcdCAgICB2YXIgbXVsdGlwbGllciA9IE0uZWxlbWVudHNbal1baV0gLyBNLmVsZW1lbnRzW2ldW2ldO1xuXHRcdCAgICBlbHMgPSBbXTtcblx0XHQgICAgZm9yIChwID0gMDsgcCA8IG5wOyBwKyspIHtcblx0XHRcdC8vIEVsZW1lbnRzIHdpdGggY29sdW1uIG51bWJlcnMgdXAgdG8gYW4gaW5jbHVkaW5nIHRoZSBudW1iZXJcblx0XHRcdC8vIG9mIHRoZSByb3cgdGhhdCB3ZSdyZSBzdWJ0cmFjdGluZyBjYW4gc2FmZWx5IGJlIHNldCBzdHJhaWdodCB0b1xuXHRcdFx0Ly8gemVybywgc2luY2UgdGhhdCdzIHRoZSBwb2ludCBvZiB0aGlzIHJvdXRpbmUgYW5kIGl0IGF2b2lkcyBoYXZpbmdcblx0XHRcdC8vIHRvIGxvb3Agb3ZlciBhbmQgY29ycmVjdCByb3VuZGluZyBlcnJvcnMgbGF0ZXJcblx0XHRcdGVscy5wdXNoKHAgPD0gaSA/IDAgOiBNLmVsZW1lbnRzW2pdW3BdIC0gTS5lbGVtZW50c1tpXVtwXSAqIG11bHRpcGxpZXIpO1xuXHRcdCAgICB9XG5cdFx0ICAgIE0uZWxlbWVudHNbal0gPSBlbHM7XG5cdFx0fVxuXHQgICAgfVxuXHR9XG5cdHJldHVybiBNO1xuICAgIH0sXG5cbiAgICB0b1VwcGVyVHJpYW5ndWxhcjogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnRvUmlnaHRUcmlhbmd1bGFyKCk7IH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBkZXRlcm1pbmFudCBmb3Igc3F1YXJlIG1hdHJpY2VzXG4gICAgZGV0ZXJtaW5hbnQ6IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuaXNTcXVhcmUoKSkgeyByZXR1cm4gbnVsbDsgfVxuXHRpZiAodGhpcy5jb2xzID09IDEgJiYgdGhpcy5yb3dzID09IDEpIHsgcmV0dXJuIHRoaXMucm93KDEpOyB9XG5cdGlmICh0aGlzLmNvbHMgPT0gMCAmJiB0aGlzLnJvd3MgPT0gMCkgeyByZXR1cm4gMTsgfVxuXHR2YXIgTSA9IHRoaXMudG9SaWdodFRyaWFuZ3VsYXIoKTtcblx0dmFyIGRldCA9IE0uZWxlbWVudHNbMF1bMF0sIG4gPSBNLmVsZW1lbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaSA9IDE7IGkgPCBuOyBpKyspIHtcblx0ICAgIGRldCA9IGRldCAqIE0uZWxlbWVudHNbaV1baV07XG5cdH1cblx0cmV0dXJuIGRldDtcbiAgICB9LFxuICAgIGRldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRldGVybWluYW50KCk7IH0sXG5cbiAgICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBtYXRyaXggaXMgc2luZ3VsYXJcbiAgICBpc1Npbmd1bGFyOiBmdW5jdGlvbigpIHtcblx0cmV0dXJuICh0aGlzLmlzU3F1YXJlKCkgJiYgdGhpcy5kZXRlcm1pbmFudCgpID09PSAwKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgdHJhY2UgZm9yIHNxdWFyZSBtYXRyaWNlc1xuICAgIHRyYWNlOiBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLmlzU3F1YXJlKCkpIHsgcmV0dXJuIG51bGw7IH1cblx0dmFyIHRyID0gdGhpcy5lbGVtZW50c1swXVswXSwgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpID0gMTsgaSA8IG47IGkrKykge1xuXHQgICAgdHIgKz0gdGhpcy5lbGVtZW50c1tpXVtpXTtcblx0fVxuXHRyZXR1cm4gdHI7XG4gICAgfSxcblxuICAgIHRyOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMudHJhY2UoKTsgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJhbmsgb2YgdGhlIG1hdHJpeFxuICAgIHJhbms6IGZ1bmN0aW9uKCkge1xuXHR2YXIgTSA9IHRoaXMudG9SaWdodFRyaWFuZ3VsYXIoKSwgcmFuayA9IDA7XG5cdHZhciBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGgsIG5qID0gdGhpcy5lbGVtZW50c1swXS5sZW5ndGgsIGo7XG5cdHdoaWxlIChpLS0pIHtcblx0ICAgIGogPSBuajtcblx0ICAgIHdoaWxlIChqLS0pIHtcblx0XHRpZiAoTWF0aC5hYnMoTS5lbGVtZW50c1tpXVtqXSkgPiBTeWx2ZXN0ZXIucHJlY2lzaW9uKSB7IHJhbmsrKzsgYnJlYWs7IH1cblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gcmFuaztcbiAgICB9LFxuXG4gICAgcms6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5yYW5rKCk7IH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYXR0YWNoaW5nIHRoZSBnaXZlbiBhcmd1bWVudCB0byB0aGUgcmlnaHQtaGFuZCBzaWRlIG9mIHRoZSBtYXRyaXhcbiAgICBhdWdtZW50OiBmdW5jdGlvbihtYXRyaXgpIHtcblx0dmFyIE0gPSBtYXRyaXguZWxlbWVudHMgfHwgbWF0cml4O1xuXHRpZiAodHlwZW9mKE1bMF1bMF0pID09ICd1bmRlZmluZWQnKSB7IE0gPSBNYXRyaXguY3JlYXRlKE0pLmVsZW1lbnRzOyB9XG5cdHZhciBUID0gdGhpcy5kdXAoKSwgY29scyA9IFQuZWxlbWVudHNbMF0ubGVuZ3RoO1xuXHR2YXIgaSA9IFQuZWxlbWVudHMubGVuZ3RoLCBuaiA9IE1bMF0ubGVuZ3RoLCBqO1xuXHRpZiAoaSAhPSBNLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHR3aGlsZSAoaS0tKSB7XG5cdCAgICBqID0gbmo7XG5cdCAgICB3aGlsZSAoai0tKSB7XG5cdFx0VC5lbGVtZW50c1tpXVtjb2xzICsgal0gPSBNW2ldW2pdO1xuXHQgICAgfVxuXHR9XG5cdHJldHVybiBUO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBpbnZlcnNlIChpZiBvbmUgZXhpc3RzKSB1c2luZyBHYXVzcy1Kb3JkYW5cbiAgICBpbnZlcnNlOiBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLmlzU3F1YXJlKCkgfHwgdGhpcy5pc1Npbmd1bGFyKCkpIHsgcmV0dXJuIG51bGw7IH1cblx0dmFyIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgaSA9IG4sIGo7XG5cdHZhciBNID0gdGhpcy5hdWdtZW50KE1hdHJpeC5JKG4pKS50b1JpZ2h0VHJpYW5ndWxhcigpO1xuXHR2YXIgbnAgPSBNLmVsZW1lbnRzWzBdLmxlbmd0aCwgcCwgZWxzLCBkaXZpc29yO1xuXHR2YXIgaW52ZXJzZV9lbGVtZW50cyA9IFtdLCBuZXdfZWxlbWVudDtcblx0Ly8gTWF0cml4IGlzIG5vbi1zaW5ndWxhciBzbyB0aGVyZSB3aWxsIGJlIG5vIHplcm9zIG9uIHRoZSBkaWFnb25hbFxuXHQvLyBDeWNsZSB0aHJvdWdoIHJvd3MgZnJvbSBsYXN0IHRvIGZpcnN0XG5cdHdoaWxlIChpLS0pIHtcblx0ICAgIC8vIEZpcnN0LCBub3JtYWxpc2UgZGlhZ29uYWwgZWxlbWVudHMgdG8gMVxuXHQgICAgZWxzID0gW107XG5cdCAgICBpbnZlcnNlX2VsZW1lbnRzW2ldID0gW107XG5cdCAgICBkaXZpc29yID0gTS5lbGVtZW50c1tpXVtpXTtcblx0ICAgIGZvciAocCA9IDA7IHAgPCBucDsgcCsrKSB7XG4gICAgICAgIG5ld19lbGVtZW50ID0gTS5lbGVtZW50c1tpXVtwXSAvIGRpdmlzb3I7XG5cdFx0ZWxzLnB1c2gobmV3X2VsZW1lbnQpO1xuXHRcdC8vIFNodWZmbGUgb2ZmIHRoZSBjdXJyZW50IHJvdyBvZiB0aGUgcmlnaHQgaGFuZCBzaWRlIGludG8gdGhlIHJlc3VsdHNcblx0XHQvLyBhcnJheSBhcyBpdCB3aWxsIG5vdCBiZSBtb2RpZmllZCBieSBsYXRlciBydW5zIHRocm91Z2ggdGhpcyBsb29wXG5cdFx0aWYgKHAgPj0gbikgeyBpbnZlcnNlX2VsZW1lbnRzW2ldLnB1c2gobmV3X2VsZW1lbnQpOyB9XG5cdCAgICB9XG5cdCAgICBNLmVsZW1lbnRzW2ldID0gZWxzO1xuXHQgICAgLy8gVGhlbiwgc3VidHJhY3QgdGhpcyByb3cgZnJvbSB0aG9zZSBhYm92ZSBpdCB0b1xuXHQgICAgLy8gZ2l2ZSB0aGUgaWRlbnRpdHkgbWF0cml4IG9uIHRoZSBsZWZ0IGhhbmQgc2lkZVxuXHQgICAgaiA9IGk7XG5cdCAgICB3aGlsZSAoai0tKSB7XG5cdFx0ZWxzID0gW107XG5cdFx0Zm9yIChwID0gMDsgcCA8IG5wOyBwKyspIHtcblx0XHQgICAgZWxzLnB1c2goTS5lbGVtZW50c1tqXVtwXSAtIE0uZWxlbWVudHNbaV1bcF0gKiBNLmVsZW1lbnRzW2pdW2ldKTtcblx0XHR9XG5cdFx0TS5lbGVtZW50c1tqXSA9IGVscztcblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gTWF0cml4LmNyZWF0ZShpbnZlcnNlX2VsZW1lbnRzKTtcbiAgICB9LFxuXG4gICAgaW52OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuaW52ZXJzZSgpOyB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHJvdW5kaW5nIGFsbCB0aGUgZWxlbWVudHNcbiAgICByb3VuZDogZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBNYXRoLnJvdW5kKHgpOyB9KTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hdHJpeCB3aXRoIGVsZW1lbnRzIHNldCB0byB0aGUgZ2l2ZW4gdmFsdWUgaWYgdGhleVxuICAgIC8vIGRpZmZlciBmcm9tIGl0IGJ5IGxlc3MgdGhhbiBTeWx2ZXN0ZXIucHJlY2lzaW9uXG4gICAgc25hcFRvOiBmdW5jdGlvbih4KSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihwKSB7XG5cdCAgICByZXR1cm4gKE1hdGguYWJzKHAgLSB4KSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKSA/IHggOiBwO1xuXHR9KTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7XG5cdHZhciBtYXRyaXhfcm93cyA9IFtdO1xuXHR2YXIgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuXHQgICAgbWF0cml4X3Jvd3MucHVzaCgkVih0aGlzLmVsZW1lbnRzW2ldKS5pbnNwZWN0KCkpO1xuXHR9XG5cdHJldHVybiBtYXRyaXhfcm93cy5qb2luKCdcXG4nKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAgICB0b0FycmF5OiBmdW5jdGlvbigpIHtcbiAgICBcdHZhciBtYXRyaXhfcm93cyA9IFtdO1xuICAgIFx0dmFyIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcbiAgICBcdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIG1hdHJpeF9yb3dzLnB1c2godGhpcy5lbGVtZW50c1tpXSk7XG4gICAgXHR9XG4gICAgICByZXR1cm4gbWF0cml4X3Jvd3M7XG4gICAgfSxcblxuXG4gICAgLy8gU2V0IHRoZSBtYXRyaXgncyBlbGVtZW50cyBmcm9tIGFuIGFycmF5LiBJZiB0aGUgYXJndW1lbnQgcGFzc2VkXG4gICAgLy8gaXMgYSB2ZWN0b3IsIHRoZSByZXN1bHRpbmcgbWF0cml4IHdpbGwgYmUgYSBzaW5nbGUgY29sdW1uLlxuICAgIHNldEVsZW1lbnRzOiBmdW5jdGlvbihlbHMpIHtcblx0dmFyIGksIGosIGVsZW1lbnRzID0gZWxzLmVsZW1lbnRzIHx8IGVscztcblx0aWYgKHR5cGVvZihlbGVtZW50c1swXVswXSkgIT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIGkgPSBlbGVtZW50cy5sZW5ndGg7XG5cdCAgICB0aGlzLmVsZW1lbnRzID0gW107XG5cdCAgICB3aGlsZSAoaS0tKSB7XG5cdFx0aiA9IGVsZW1lbnRzW2ldLmxlbmd0aDtcblx0XHR0aGlzLmVsZW1lbnRzW2ldID0gW107XG5cdFx0d2hpbGUgKGotLSkge1xuXHRcdCAgICB0aGlzLmVsZW1lbnRzW2ldW2pdID0gZWxlbWVudHNbaV1bal07XG5cdFx0fVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0dmFyIG4gPSBlbGVtZW50cy5sZW5ndGg7XG5cdHRoaXMuZWxlbWVudHMgPSBbXTtcblx0Zm9yIChpID0gMDsgaSA8IG47IGkrKykge1xuXHQgICAgdGhpcy5lbGVtZW50cy5wdXNoKFtlbGVtZW50c1tpXV0pO1xuXHR9XG5cdHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyByZXR1cm4gdGhlIGluZGV4ZXMgb2YgdGhlIGNvbHVtbnMgd2l0aCB0aGUgbGFyZ2VzdCB2YWx1ZVxuICAgIC8vIGZvciBlYWNoIHJvd1xuICAgIG1heENvbHVtbkluZGV4ZXM6IGZ1bmN0aW9uKCkge1xuXHR2YXIgbWF4ZXMgPSBbXTtcblxuXHRmb3IodmFyIGkgPSAxOyBpIDw9IHRoaXMucm93cygpOyBpKyspIHtcblx0ICAgIHZhciBtYXggPSBudWxsO1xuXHQgICAgdmFyIG1heEluZGV4ID0gLTE7XG5cblx0ICAgIGZvcih2YXIgaiA9IDE7IGogPD0gdGhpcy5jb2xzKCk7IGorKykge1xuXHRcdGlmKG1heCA9PT0gbnVsbCB8fCB0aGlzLmUoaSwgaikgPiBtYXgpIHtcblx0XHQgICAgbWF4ID0gdGhpcy5lKGksIGopO1xuXHRcdCAgICBtYXhJbmRleCA9IGo7XG5cdFx0fVxuXHQgICAgfVxuXG5cdCAgICBtYXhlcy5wdXNoKG1heEluZGV4KTtcblx0fVxuXG5cdHJldHVybiAkVihtYXhlcyk7XG4gICAgfSxcblxuICAgIC8vIHJldHVybiB0aGUgbGFyZ2VzdCB2YWx1ZXMgaW4gZWFjaCByb3dcbiAgICBtYXhDb2x1bW5zOiBmdW5jdGlvbigpIHtcblx0dmFyIG1heGVzID0gW107XG5cblx0Zm9yKHZhciBpID0gMTsgaSA8PSB0aGlzLnJvd3MoKTsgaSsrKSB7XG5cdCAgICB2YXIgbWF4ID0gbnVsbDtcblxuXHQgICAgZm9yKHZhciBqID0gMTsgaiA8PSB0aGlzLmNvbHMoKTsgaisrKSB7XG5cdFx0aWYobWF4ID09PSBudWxsIHx8IHRoaXMuZShpLCBqKSA+IG1heCkge1xuXHRcdCAgICBtYXggPSB0aGlzLmUoaSwgaik7XG5cdFx0fVxuXHQgICAgfVxuXG5cdCAgICBtYXhlcy5wdXNoKG1heCk7XG5cdH1cblxuXHRyZXR1cm4gJFYobWF4ZXMpO1xuICAgIH0sXG5cbiAgICAvLyByZXR1cm4gdGhlIGluZGV4ZXMgb2YgdGhlIGNvbHVtbnMgd2l0aCB0aGUgc21hbGxlc3QgdmFsdWVzXG4gICAgLy8gZm9yIGVhY2ggcm93XG4gICAgbWluQ29sdW1uSW5kZXhlczogZnVuY3Rpb24oKSB7XG5cdHZhciBtaW5zID0gW107XG5cblx0Zm9yKHZhciBpID0gMTsgaSA8PSB0aGlzLnJvd3MoKTsgaSsrKSB7XG5cdCAgICB2YXIgbWluID0gbnVsbDtcblx0ICAgIHZhciBtaW5JbmRleCA9IC0xO1xuXG5cdCAgICBmb3IodmFyIGogPSAxOyBqIDw9IHRoaXMuY29scygpOyBqKyspIHtcblx0XHRpZihtaW4gPT09IG51bGwgfHwgdGhpcy5lKGksIGopIDwgbWluKSB7XG5cdFx0ICAgIG1pbiA9IHRoaXMuZShpLCBqKTtcblx0XHQgICAgbWluSW5kZXggPSBqO1xuXHRcdH1cblx0ICAgIH1cblxuXHQgICAgbWlucy5wdXNoKG1pbkluZGV4KTtcblx0fVxuXG5cdHJldHVybiAkVihtaW5zKTtcbiAgICB9LFxuXG4gICAgLy8gcmV0dXJuIHRoZSBzbWFsbGVzdCB2YWx1ZXMgaW4gZWFjaCByb3dcbiAgICBtaW5Db2x1bW5zOiBmdW5jdGlvbigpIHtcblx0dmFyIG1pbnMgPSBbXTtcblxuXHRmb3IodmFyIGkgPSAxOyBpIDw9IHRoaXMucm93cygpOyBpKyspIHtcblx0ICAgIHZhciBtaW4gPSBudWxsO1xuXG5cdCAgICBmb3IodmFyIGogPSAxOyBqIDw9IHRoaXMuY29scygpOyBqKyspIHtcblx0XHRpZihtaW4gPT09IG51bGwgfHwgdGhpcy5lKGksIGopIDwgbWluKSB7XG5cdFx0ICAgIG1pbiA9IHRoaXMuZShpLCBqKTtcblx0XHR9XG5cdCAgICB9XG5cblx0ICAgIG1pbnMucHVzaChtaW4pO1xuXHR9XG5cblx0cmV0dXJuICRWKG1pbnMpO1xuICAgIH0sXG4gICAgXG4gICAgLy8gcGVyb3JtIGEgcGFydGlhbCBwaXZvdCBvbiB0aGUgbWF0cml4LiBlc3NlbnRpYWxseSBtb3ZlIHRoZSBsYXJnZXN0XG4gICAgLy8gcm93IGJlbG93LW9yLWluY2x1ZGluZyB0aGUgcGl2b3QgYW5kIHJlcGxhY2UgdGhlIHBpdm90J3Mgcm93IHdpdGggaXQuXG4gICAgLy8gYSBwaXZvdCBtYXRyaXggaXMgcmV0dXJuZWQgc28gbXVsdGlwbGljYXRpb24gY2FuIHBlcmZvcm0gdGhlIHRyYW5zZm9ybS5cbiAgICBwYXJ0aWFsUGl2b3Q6IGZ1bmN0aW9uKGssIGosIFAsIEEsIEwpIHtcblx0dmFyIG1heEluZGV4ID0gMDtcblx0dmFyIG1heFZhbHVlID0gMDtcblxuXHRmb3IodmFyIGkgPSBrOyBpIDw9IEEucm93cygpOyBpKyspIHtcblx0ICAgIGlmKE1hdGguYWJzKEEuZShpLCBqKSkgPiBtYXhWYWx1ZSkge1xuXHRcdG1heFZhbHVlID0gTWF0aC5hYnMoQS5lKGssIGopKTtcblx0XHRtYXhJbmRleCA9IGk7XG5cdCAgICB9XG5cdH1cblxuXHRpZihtYXhJbmRleCAhPSBrKSB7XG5cdCAgICB2YXIgdG1wID0gQS5lbGVtZW50c1trIC0gMV07XG5cdCAgICBBLmVsZW1lbnRzW2sgLSAxXSA9IEEuZWxlbWVudHNbbWF4SW5kZXggLSAxXTtcblx0ICAgIEEuZWxlbWVudHNbbWF4SW5kZXggLSAxXSA9IHRtcDtcblx0ICAgIFxuXHQgICAgUC5lbGVtZW50c1trIC0gMV1bayAtIDFdID0gMDtcblx0ICAgIFAuZWxlbWVudHNbayAtIDFdW21heEluZGV4IC0gMV0gPSAxO1xuXHQgICAgUC5lbGVtZW50c1ttYXhJbmRleCAtIDFdW21heEluZGV4IC0gMV0gPSAwO1xuXHQgICAgUC5lbGVtZW50c1ttYXhJbmRleCAtIDFdW2sgLSAxXSA9IDE7XG5cdH1cblx0XG5cdHJldHVybiBQO1xuICAgIH0sXG5cbiAgICAvLyBzb2x2ZSBsb3dlci10cmlhbmd1bGFyIG1hdHJpeCAqIHggPSBiIHZpYSBmb3J3YXJkIHN1YnN0aXR1dGlvblxuICAgIGZvcndhcmRTdWJzdGl0dXRlOiBmdW5jdGlvbihiKSB7XG5cdHZhciB4YSA9IFtdO1xuXG5cdGZvcih2YXIgaSA9IDE7IGkgPD0gdGhpcy5yb3dzKCk7IGkrKykge1xuXHQgICAgdmFyIHcgPSAwO1xuXG5cdCAgICBmb3IodmFyIGogPSAxOyBqIDwgaTsgaisrKSB7XG5cdFx0dyArPSB0aGlzLmUoaSwgaikgKiB4YVtqIC0gMV07XG5cdCAgICB9XG5cblx0ICAgIHhhLnB1c2goKGIuZShpKSAtIHcpIC8gdGhpcy5lKGksIGkpKTtcblx0fVxuXG5cdHJldHVybiAkVih4YSk7XG4gICAgfSxcblxuICAgIC8vIHNvbHZlIGFuIHVwcGVyLXRyaWFuZ3VsYXIgbWF0cml4ICogeCA9IGIgdmlhIGJhY2sgc3Vic3RpdHV0aW9uXG4gICAgYmFja1N1YnN0aXR1dGU6IGZ1bmN0aW9uKGIpIHtcblx0dmFyIHhhID0gW107XG5cblx0Zm9yKHZhciBpID0gdGhpcy5yb3dzKCk7IGkgPiAwOyBpLS0pIHtcblx0ICAgIHZhciB3ID0gMDtcblxuXHQgICAgZm9yKHZhciBqID0gdGhpcy5jb2xzKCk7IGogPiBpOyBqLS0pIHtcblx0XHR3ICs9IHRoaXMuZShpLCBqKSAqIHhhW3RoaXMucm93cygpIC0gal07XG5cdCAgICB9XG5cblx0ICAgIHhhLnB1c2goKGIuZShpKSAtIHcpIC8gdGhpcy5lKGksIGkpKTtcblx0fVxuXG5cdHJldHVybiAkVih4YS5yZXZlcnNlKCkpO1xuICAgIH0sXG4gICAgXG4gICAgbHVKczogbHVKcyxcbiAgICBzdmRKczogc3ZkSnMsXG4gICAgcXJKczogcXJKcyxcbn07XG5cblxudmFyIHRvbGVyYW5jZSA9ICAxLjQ5MDFlLTA4O1xuXG4vLyBwdXJlIEphdmFzY3JpcHQgTFUgZmFjdG9yaXphdGlvblxuZnVuY3Rpb24gbHVKcygpIHtcbiAgICB2YXIgQSA9IHRoaXMuZHVwKCk7XG4gICAgdmFyIEwgPSBNYXRyaXguSShBLnJvd3MoKSk7XG4gICAgdmFyIFAgPSBNYXRyaXguSShBLnJvd3MoKSk7XG4gICAgdmFyIFUgPSBNYXRyaXguWmVyb3MoQS5yb3dzKCksIEEuY29scygpKTtcbiAgICB2YXIgcCA9IDE7XG5cbiAgICBmb3IodmFyIGsgPSAxOyBrIDw9IE1hdGgubWluKEEuY29scygpLCBBLnJvd3MoKSk7IGsrKykge1xuXHRQID0gQS5wYXJ0aWFsUGl2b3QoaywgcCwgUCwgQSwgTCk7XG5cdFxuXHRmb3IodmFyIGkgPSBrICsgMTsgaSA8PSBBLnJvd3MoKTsgaSsrKSB7XG5cdCAgICB2YXIgbCA9IEEuZShpLCBwKSAvIEEuZShrLCBwKTtcblx0ICAgIEwuZWxlbWVudHNbaSAtIDFdW2sgLSAxXSA9IGw7XG5cdCAgICBcblx0ICAgIGZvcih2YXIgaiA9IGsgKyAxIDsgaiA8PSBBLmNvbHMoKTsgaisrKSB7XG5cdFx0QS5lbGVtZW50c1tpIC0gMV1baiAtIDFdIC09IEEuZShrLCBqKSAqIGw7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZvcih2YXIgaiA9IGs7IGogPD0gQS5jb2xzKCk7IGorKykge1xuXHQgICAgVS5lbGVtZW50c1trIC0gMV1baiAtIDFdID0gQS5lKGssIGopO1xuXHR9XG5cblx0aWYocCA8IEEuY29scygpKVxuXHQgICAgcCsrO1xuICAgIH0gICAgXG4gICAgXG4gICAgcmV0dXJuIHtMOiBMLCBVOiBVLCBQOiBQfTtcbn1cblxuXG5cbk1hdHJpeC5wcm90b3R5cGUuc3ZkID0gc3ZkSnM7XG5NYXRyaXgucHJvdG90eXBlLnFyID0gcXJKcztcbk1hdHJpeC5wcm90b3R5cGUubHUgPSBsdUpzO1xuXG4vLyBDb25zdHJ1Y3RvciBmdW5jdGlvblxuTWF0cml4LmNyZWF0ZSA9IGZ1bmN0aW9uKGFFbGVtZW50cykge1xuICAgIHZhciBNID0gbmV3IE1hdHJpeCgpLnNldEVsZW1lbnRzKGFFbGVtZW50cyk7XG4gICAgcmV0dXJuIE07XG59O1xuXG4vLyBJZGVudGl0eSBtYXRyaXggb2Ygc2l6ZSBuXG5NYXRyaXguSSA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgZWxzID0gW10sIGkgPSBuLCBqO1xuICAgIHdoaWxlIChpLS0pIHtcblx0aiA9IG47XG5cdGVsc1tpXSA9IFtdO1xuXHR3aGlsZSAoai0tKSB7XG5cdCAgICBlbHNbaV1bal0gPSAoaSA9PSBqKSA/IDEgOiAwO1xuXHR9XG4gICAgfVxuICAgIHJldHVybiBNYXRyaXguY3JlYXRlKGVscyk7XG59O1xuXG5NYXRyaXgubG9hZEZpbGUgPSBmdW5jdGlvbihmaWxlKSB7XG4gICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICB2YXIgY29udGVudHMgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZSwgJ3V0Zi04Jyk7XG4gICAgdmFyIG1hdHJpeCA9IFtdO1xuXG4gICAgdmFyIHJvd0FycmF5ID0gY29udGVudHMuc3BsaXQoJ1xcbicpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93QXJyYXkubGVuZ3RoOyBpKyspIHtcblx0dmFyIGQgPSByb3dBcnJheVtpXS5zcGxpdCgnLCcpO1xuXHRpZiAoZC5sZW5ndGggPiAxKSB7XG5cdCAgICBtYXRyaXgucHVzaChkKTtcblx0fVxuICAgIH1cblxuICAgIHZhciBNID0gbmV3IE1hdHJpeCgpO1xuICAgIHJldHVybiBNLnNldEVsZW1lbnRzKG1hdHJpeCk7XG59O1xuXG4vLyBEaWFnb25hbCBtYXRyaXggLSBhbGwgb2ZmLWRpYWdvbmFsIGVsZW1lbnRzIGFyZSB6ZXJvXG5NYXRyaXguRGlhZ29uYWwgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICAgIHZhciBpID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIHZhciBNID0gTWF0cml4LkkoaSk7XG4gICAgd2hpbGUgKGktLSkge1xuXHRNLmVsZW1lbnRzW2ldW2ldID0gZWxlbWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBNO1xufTtcblxuLy8gUm90YXRpb24gbWF0cml4IGFib3V0IHNvbWUgYXhpcy4gSWYgbm8gYXhpcyBpc1xuLy8gc3VwcGxpZWQsIGFzc3VtZSB3ZSdyZSBhZnRlciBhIDJEIHRyYW5zZm9ybVxuTWF0cml4LlJvdGF0aW9uID0gZnVuY3Rpb24odGhldGEsIGEpIHtcbiAgICBpZiAoIWEpIHtcblx0cmV0dXJuIE1hdHJpeC5jcmVhdGUoW1xuXHQgICAgW01hdGguY29zKHRoZXRhKSwgLU1hdGguc2luKHRoZXRhKV0sXG5cdCAgICBbTWF0aC5zaW4odGhldGEpLCBNYXRoLmNvcyh0aGV0YSldXG5cdF0pO1xuICAgIH1cbiAgICB2YXIgYXhpcyA9IGEuZHVwKCk7XG4gICAgaWYgKGF4aXMuZWxlbWVudHMubGVuZ3RoICE9IDMpIHsgcmV0dXJuIG51bGw7IH1cbiAgICB2YXIgbW9kID0gYXhpcy5tb2R1bHVzKCk7XG4gICAgdmFyIHggPSBheGlzLmVsZW1lbnRzWzBdIC8gbW9kLCB5ID0gYXhpcy5lbGVtZW50c1sxXSAvIG1vZCwgeiA9IGF4aXMuZWxlbWVudHNbMl0gLyBtb2Q7XG4gICAgdmFyIHMgPSBNYXRoLnNpbih0aGV0YSksIGMgPSBNYXRoLmNvcyh0aGV0YSksIHQgPSAxIC0gYztcbiAgICAvLyBGb3JtdWxhIGRlcml2ZWQgaGVyZTogaHR0cDovL3d3dy5nYW1lZGV2Lm5ldC9yZWZlcmVuY2UvYXJ0aWNsZXMvYXJ0aWNsZTExOTkuYXNwXG4gICAgLy8gVGhhdCBwcm9vZiByb3RhdGVzIHRoZSBjby1vcmRpbmF0ZSBzeXN0ZW0gc28gdGhldGFcbiAgICAvLyBiZWNvbWVzIC10aGV0YSBhbmQgc2luIGJlY29tZXMgLXNpbiBoZXJlLlxuICAgIHJldHVybiBNYXRyaXguY3JlYXRlKFtcblx0W3QgKiB4ICogeCArIGMsIHQgKiB4ICogeSAtIHMgKiB6LCB0ICogeCAqIHogKyBzICogeV0sXG5cdFt0ICogeCAqIHkgKyBzICogeiwgdCAqIHkgKiB5ICsgYywgdCAqIHkgKiB6IC0gcyAqIHhdLFxuXHRbdCAqIHggKiB6IC0gcyAqIHksIHQgKiB5ICogeiArIHMgKiB4LCB0ICogeiAqIHogKyBjXVxuICAgIF0pO1xufTtcblxuLy8gU3BlY2lhbCBjYXNlIHJvdGF0aW9uc1xuTWF0cml4LlJvdGF0aW9uWCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgYyA9IE1hdGguY29zKHQpLCBzID0gTWF0aC5zaW4odCk7XG4gICAgcmV0dXJuIE1hdHJpeC5jcmVhdGUoW1xuXHRbMSwgMCwgMF0sXG5cdFswLCBjLCAtc10sXG5cdFswLCBzLCBjXVxuICAgIF0pO1xufTtcblxuTWF0cml4LlJvdGF0aW9uWSA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgYyA9IE1hdGguY29zKHQpLCBzID0gTWF0aC5zaW4odCk7XG4gICAgcmV0dXJuIE1hdHJpeC5jcmVhdGUoW1xuXHRbYywgMCwgc10sXG5cdFswLCAxLCAwXSxcblx0Wy1zLCAwLCBjXVxuICAgIF0pO1xufTtcblxuTWF0cml4LlJvdGF0aW9uWiA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgYyA9IE1hdGguY29zKHQpLCBzID0gTWF0aC5zaW4odCk7XG4gICAgcmV0dXJuIE1hdHJpeC5jcmVhdGUoW1xuXHRbYywgLXMsIDBdLFxuXHRbcywgYywgMF0sXG5cdFswLCAwLCAxXVxuICAgIF0pO1xufTtcblxuLy8gUmFuZG9tIG1hdHJpeCBvZiBuIHJvd3MsIG0gY29sdW1uc1xuTWF0cml4LlJhbmRvbSA9IGZ1bmN0aW9uKG4sIG0pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgbSA9IG47XG4gICAgcmV0dXJuIE1hdHJpeC5aZXJvKG4sIG0pLm1hcChcblx0ZnVuY3Rpb24oKSB7IHJldHVybiBNYXRoLnJhbmRvbSgpOyB9XG4gICk7XG59O1xuXG5NYXRyaXguRmlsbCA9IGZ1bmN0aW9uKG4sIG0sIHYpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuXHR2ID0gbTtcblx0bSA9IG47XG4gICAgfVxuXG4gICAgdmFyIGVscyA9IFtdLCBpID0gbiwgajtcblxuICAgIHdoaWxlIChpLS0pIHtcblx0aiA9IG07XG5cdGVsc1tpXSA9IFtdO1xuXG5cdHdoaWxlIChqLS0pIHtcblx0ICAgIGVsc1tpXVtqXSA9IHY7XG5cdH1cbiAgICB9XG5cbiAgICByZXR1cm4gTWF0cml4LmNyZWF0ZShlbHMpO1xufTtcblxuLy8gTWF0cml4IGZpbGxlZCB3aXRoIHplcm9zXG5NYXRyaXguWmVybyA9IGZ1bmN0aW9uKG4sIG0pIHtcbiAgICByZXR1cm4gTWF0cml4LkZpbGwobiwgbSwgMCk7XG59O1xuXG4vLyBNYXRyaXggZmlsbGVkIHdpdGggemVyb3Ncbk1hdHJpeC5aZXJvcyA9IGZ1bmN0aW9uKG4sIG0pIHtcbiAgICByZXR1cm4gTWF0cml4Llplcm8obiwgbSk7XG59O1xuXG4vLyBNYXRyaXggZmlsbGVkIHdpdGggb25lc1xuTWF0cml4Lk9uZSA9IGZ1bmN0aW9uKG4sIG0pIHtcbiAgICByZXR1cm4gTWF0cml4LkZpbGwobiwgbSwgMSk7XG59O1xuXG4vLyBNYXRyaXggZmlsbGVkIHdpdGggb25lc1xuTWF0cml4Lk9uZXMgPSBmdW5jdGlvbihuLCBtKSB7XG4gICAgcmV0dXJuIE1hdHJpeC5PbmUobiwgbSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdHJpeDtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxMSwgQ2hyaXMgVW1iZWwsIEphbWVzIENvZ2xhblxuLy8gUGxhbmUgY2xhc3MgLSBkZXBlbmRzIG9uIFZlY3Rvci4gU29tZSBtZXRob2RzIHJlcXVpcmUgTWF0cml4IGFuZCBMaW5lLlxudmFyIFZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XG52YXIgTWF0cml4ID0gcmVxdWlyZSgnLi9tYXRyaXgnKTtcbnZhciBMaW5lID0gcmVxdWlyZSgnLi9saW5lJyk7XG5cbnZhciBTeWx2ZXN0ZXIgPSByZXF1aXJlKCcuL3N5bHZlc3RlcicpO1xuXG5mdW5jdGlvbiBQbGFuZSgpIHt9XG5QbGFuZS5wcm90b3R5cGUgPSB7XG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgcGxhbmUgb2NjdXBpZXMgdGhlIHNhbWUgc3BhY2UgYXMgdGhlIGFyZ3VtZW50XG4gIGVxbDogZnVuY3Rpb24ocGxhbmUpIHtcbiAgICByZXR1cm4gKHRoaXMuY29udGFpbnMocGxhbmUuYW5jaG9yKSAmJiB0aGlzLmlzUGFyYWxsZWxUbyhwbGFuZSkpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBwbGFuZVxuICBkdXA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBQbGFuZS5jcmVhdGUodGhpcy5hbmNob3IsIHRoaXMubm9ybWFsKTtcbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdHJhbnNsYXRpbmcgdGhlIHBsYW5lIGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICB2YXIgViA9IHZlY3Rvci5lbGVtZW50cyB8fCB2ZWN0b3I7XG4gICAgcmV0dXJuIFBsYW5lLmNyZWF0ZShbXG4gICAgICB0aGlzLmFuY2hvci5lbGVtZW50c1swXSArIFZbMF0sXG4gICAgICB0aGlzLmFuY2hvci5lbGVtZW50c1sxXSArIFZbMV0sXG4gICAgICB0aGlzLmFuY2hvci5lbGVtZW50c1syXSArIChWWzJdIHx8IDApXG4gICAgXSwgdGhpcy5ub3JtYWwpO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIHBsYW5lIGlzIHBhcmFsbGVsIHRvIHRoZSBhcmd1bWVudC4gV2lsbCByZXR1cm4gdHJ1ZVxuICAvLyBpZiB0aGUgcGxhbmVzIGFyZSBlcXVhbCwgb3IgaWYgeW91IGdpdmUgYSBsaW5lIGFuZCBpdCBsaWVzIGluIHRoZSBwbGFuZS5cbiAgaXNQYXJhbGxlbFRvOiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdGhldGE7XG4gICAgaWYgKG9iai5ub3JtYWwpIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBsYW5lXG4gICAgICB0aGV0YSA9IHRoaXMubm9ybWFsLmFuZ2xlRnJvbShvYmoubm9ybWFsKTtcbiAgICAgIHJldHVybiAoTWF0aC5hYnModGhldGEpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24gfHwgTWF0aC5hYnMoTWF0aC5QSSAtIHRoZXRhKSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgICB9IGVsc2UgaWYgKG9iai5kaXJlY3Rpb24pIHtcbiAgICAgIC8vIG9iaiBpcyBhIGxpbmVcbiAgICAgIHJldHVybiB0aGlzLm5vcm1hbC5pc1BlcnBlbmRpY3VsYXJUbyhvYmouZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgcmVjZWl2ZXIgaXMgcGVycGVuZGljdWxhciB0byB0aGUgYXJndW1lbnRcbiAgaXNQZXJwZW5kaWN1bGFyVG86IGZ1bmN0aW9uKHBsYW5lKSB7XG4gICAgdmFyIHRoZXRhID0gdGhpcy5ub3JtYWwuYW5nbGVGcm9tKHBsYW5lLm5vcm1hbCk7XG4gICAgcmV0dXJuIChNYXRoLmFicyhNYXRoLlBJLzIgLSB0aGV0YSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgcGxhbmUncyBkaXN0YW5jZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QgKHBvaW50LCBsaW5lIG9yIHBsYW5lKVxuICBkaXN0YW5jZUZyb206IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICh0aGlzLmludGVyc2VjdHMob2JqKSB8fCB0aGlzLmNvbnRhaW5zKG9iaikpIHsgcmV0dXJuIDA7IH1cbiAgICBpZiAob2JqLmFuY2hvcikge1xuICAgICAgLy8gb2JqIGlzIGEgcGxhbmUgb3IgbGluZVxuICAgICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgQiA9IG9iai5hbmNob3IuZWxlbWVudHMsIE4gPSB0aGlzLm5vcm1hbC5lbGVtZW50cztcbiAgICAgIHJldHVybiBNYXRoLmFicygoQVswXSAtIEJbMF0pICogTlswXSArIChBWzFdIC0gQlsxXSkgKiBOWzFdICsgKEFbMl0gLSBCWzJdKSAqIE5bMl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvYmogaXMgYSBwb2ludFxuICAgICAgdmFyIFAgPSBvYmouZWxlbWVudHMgfHwgb2JqO1xuICAgICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgTiA9IHRoaXMubm9ybWFsLmVsZW1lbnRzO1xuICAgICAgcmV0dXJuIE1hdGguYWJzKChBWzBdIC0gUFswXSkgKiBOWzBdICsgKEFbMV0gLSBQWzFdKSAqIE5bMV0gKyAoQVsyXSAtIChQWzJdIHx8IDApKSAqIE5bMl0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSBwbGFuZSBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQgb3IgbGluZVxuICBjb250YWluczogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iai5ub3JtYWwpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBpZiAob2JqLmRpcmVjdGlvbikge1xuICAgICAgcmV0dXJuICh0aGlzLmNvbnRhaW5zKG9iai5hbmNob3IpICYmIHRoaXMuY29udGFpbnMob2JqLmFuY2hvci5hZGQob2JqLmRpcmVjdGlvbikpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIFAgPSBvYmouZWxlbWVudHMgfHwgb2JqO1xuICAgICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgTiA9IHRoaXMubm9ybWFsLmVsZW1lbnRzO1xuICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhOWzBdKihBWzBdIC0gUFswXSkgKyBOWzFdKihBWzFdIC0gUFsxXSkgKyBOWzJdKihBWzJdIC0gKFBbMl0gfHwgMCkpKTtcbiAgICAgIHJldHVybiAoZGlmZiA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmZiB0aGUgcGxhbmUgaGFzIGEgdW5pcXVlIHBvaW50L2xpbmUgb2YgaW50ZXJzZWN0aW9uIHdpdGggdGhlIGFyZ3VtZW50XG4gIGludGVyc2VjdHM6IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICh0eXBlb2Yob2JqLmRpcmVjdGlvbikgPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mKG9iai5ub3JtYWwpID09ICd1bmRlZmluZWQnKSB7IHJldHVybiBudWxsOyB9XG4gICAgcmV0dXJuICF0aGlzLmlzUGFyYWxsZWxUbyhvYmopO1xuICB9LFxuXG4gIC8vIFJldHVybnMgdGhlIHVuaXF1ZSBpbnRlcnNlY3Rpb24gd2l0aCB0aGUgYXJndW1lbnQsIGlmIG9uZSBleGlzdHMuIFRoZSByZXN1bHRcbiAgLy8gd2lsbCBiZSBhIHZlY3RvciBpZiBhIGxpbmUgaXMgc3VwcGxpZWQsIGFuZCBhIGxpbmUgaWYgYSBwbGFuZSBpcyBzdXBwbGllZC5cbiAgaW50ZXJzZWN0aW9uV2l0aDogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCF0aGlzLmludGVyc2VjdHMob2JqKSkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGlmIChvYmouZGlyZWN0aW9uKSB7XG4gICAgICAvLyBvYmogaXMgYSBsaW5lXG4gICAgICB2YXIgQSA9IG9iai5hbmNob3IuZWxlbWVudHMsIEQgPSBvYmouZGlyZWN0aW9uLmVsZW1lbnRzLFxuICAgICAgICAgIFAgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgTiA9IHRoaXMubm9ybWFsLmVsZW1lbnRzO1xuICAgICAgdmFyIG11bHRpcGxpZXIgPSAoTlswXSooUFswXS1BWzBdKSArIE5bMV0qKFBbMV0tQVsxXSkgKyBOWzJdKihQWzJdLUFbMl0pKSAvIChOWzBdKkRbMF0gKyBOWzFdKkRbMV0gKyBOWzJdKkRbMl0pO1xuICAgICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW0FbMF0gKyBEWzBdKm11bHRpcGxpZXIsIEFbMV0gKyBEWzFdKm11bHRpcGxpZXIsIEFbMl0gKyBEWzJdKm11bHRpcGxpZXJdKTtcbiAgICB9IGVsc2UgaWYgKG9iai5ub3JtYWwpIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBsYW5lXG4gICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5ub3JtYWwuY3Jvc3Mob2JqLm5vcm1hbCkudG9Vbml0VmVjdG9yKCk7XG4gICAgICAvLyBUbyBmaW5kIGFuIGFuY2hvciBwb2ludCwgd2UgZmluZCBvbmUgY28tb3JkaW5hdGUgdGhhdCBoYXMgYSB2YWx1ZVxuICAgICAgLy8gb2YgemVybyBzb21ld2hlcmUgb24gdGhlIGludGVyc2VjdGlvbiwgYW5kIHJlbWVtYmVyIHdoaWNoIG9uZSB3ZSBwaWNrZWRcbiAgICAgIHZhciBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHMsIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cyxcbiAgICAgICAgICBPID0gb2JqLm5vcm1hbC5lbGVtZW50cywgQiA9IG9iai5hbmNob3IuZWxlbWVudHM7XG4gICAgICB2YXIgc29sdmVyID0gTWF0cml4Llplcm8oMiwyKSwgaSA9IDA7XG4gICAgICB3aGlsZSAoc29sdmVyLmlzU2luZ3VsYXIoKSkge1xuICAgICAgICBpKys7XG4gICAgICAgIHNvbHZlciA9IE1hdHJpeC5jcmVhdGUoW1xuICAgICAgICAgIFsgTltpJTNdLCBOWyhpKzEpJTNdIF0sXG4gICAgICAgICAgWyBPW2klM10sIE9bKGkrMSklM10gIF1cbiAgICAgICAgXSk7XG4gICAgICB9XG4gICAgICAvLyBUaGVuIHdlIHNvbHZlIHRoZSBzaW11bHRhbmVvdXMgZXF1YXRpb25zIGluIHRoZSByZW1haW5pbmcgZGltZW5zaW9uc1xuICAgICAgdmFyIGludmVyc2UgPSBzb2x2ZXIuaW52ZXJzZSgpLmVsZW1lbnRzO1xuICAgICAgdmFyIHggPSBOWzBdKkFbMF0gKyBOWzFdKkFbMV0gKyBOWzJdKkFbMl07XG4gICAgICB2YXIgeSA9IE9bMF0qQlswXSArIE9bMV0qQlsxXSArIE9bMl0qQlsyXTtcbiAgICAgIHZhciBpbnRlcnNlY3Rpb24gPSBbXG4gICAgICAgIGludmVyc2VbMF1bMF0gKiB4ICsgaW52ZXJzZVswXVsxXSAqIHksXG4gICAgICAgIGludmVyc2VbMV1bMF0gKiB4ICsgaW52ZXJzZVsxXVsxXSAqIHlcbiAgICAgIF07XG4gICAgICB2YXIgYW5jaG9yID0gW107XG4gICAgICBmb3IgKHZhciBqID0gMTsgaiA8PSAzOyBqKyspIHtcbiAgICAgICAgLy8gVGhpcyBmb3JtdWxhIHBpY2tzIHRoZSByaWdodCBlbGVtZW50IGZyb20gaW50ZXJzZWN0aW9uIGJ5XG4gICAgICAgIC8vIGN5Y2xpbmcgZGVwZW5kaW5nIG9uIHdoaWNoIGVsZW1lbnQgd2Ugc2V0IHRvIHplcm8gYWJvdmVcbiAgICAgICAgYW5jaG9yLnB1c2goKGkgPT0gaikgPyAwIDogaW50ZXJzZWN0aW9uWyhqICsgKDUgLSBpKSUzKSUzXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTGluZS5jcmVhdGUoYW5jaG9yLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfSxcblxuICAvLyBSZXR1cm5zIHRoZSBwb2ludCBpbiB0aGUgcGxhbmUgY2xvc2VzdCB0byB0aGUgZ2l2ZW4gcG9pbnRcbiAgcG9pbnRDbG9zZXN0VG86IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgdmFyIFAgPSBwb2ludC5lbGVtZW50cyB8fCBwb2ludDtcbiAgICB2YXIgQSA9IHRoaXMuYW5jaG9yLmVsZW1lbnRzLCBOID0gdGhpcy5ub3JtYWwuZWxlbWVudHM7XG4gICAgdmFyIGRvdCA9IChBWzBdIC0gUFswXSkgKiBOWzBdICsgKEFbMV0gLSBQWzFdKSAqIE5bMV0gKyAoQVsyXSAtIChQWzJdIHx8IDApKSAqIE5bMl07XG4gICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW1BbMF0gKyBOWzBdICogZG90LCBQWzFdICsgTlsxXSAqIGRvdCwgKFBbMl0gfHwgMCkgKyBOWzJdICogZG90XSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHBsYW5lLCByb3RhdGVkIGJ5IHQgcmFkaWFucyBhYm91dCB0aGUgZ2l2ZW4gbGluZVxuICAvLyBTZWUgbm90ZXMgb24gTGluZSNyb3RhdGUuXG4gIHJvdGF0ZTogZnVuY3Rpb24odCwgbGluZSkge1xuICAgIHZhciBSID0gdC5kZXRlcm1pbmFudCA/IHQuZWxlbWVudHMgOiBNYXRyaXguUm90YXRpb24odCwgbGluZS5kaXJlY3Rpb24pLmVsZW1lbnRzO1xuICAgIHZhciBDID0gbGluZS5wb2ludENsb3Nlc3RUbyh0aGlzLmFuY2hvcikuZWxlbWVudHM7XG4gICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgTiA9IHRoaXMubm9ybWFsLmVsZW1lbnRzO1xuICAgIHZhciBDMSA9IENbMF0sIEMyID0gQ1sxXSwgQzMgPSBDWzJdLCBBMSA9IEFbMF0sIEEyID0gQVsxXSwgQTMgPSBBWzJdO1xuICAgIHZhciB4ID0gQTEgLSBDMSwgeSA9IEEyIC0gQzIsIHogPSBBMyAtIEMzO1xuICAgIHJldHVybiBQbGFuZS5jcmVhdGUoW1xuICAgICAgQzEgKyBSWzBdWzBdICogeCArIFJbMF1bMV0gKiB5ICsgUlswXVsyXSAqIHosXG4gICAgICBDMiArIFJbMV1bMF0gKiB4ICsgUlsxXVsxXSAqIHkgKyBSWzFdWzJdICogeixcbiAgICAgIEMzICsgUlsyXVswXSAqIHggKyBSWzJdWzFdICogeSArIFJbMl1bMl0gKiB6XG4gICAgXSwgW1xuICAgICAgUlswXVswXSAqIE5bMF0gKyBSWzBdWzFdICogTlsxXSArIFJbMF1bMl0gKiBOWzJdLFxuICAgICAgUlsxXVswXSAqIE5bMF0gKyBSWzFdWzFdICogTlsxXSArIFJbMV1bMl0gKiBOWzJdLFxuICAgICAgUlsyXVswXSAqIE5bMF0gKyBSWzJdWzFdICogTlsxXSArIFJbMl1bMl0gKiBOWzJdXG4gICAgXSk7XG4gIH0sXG5cbiAgLy8gUmV0dXJucyB0aGUgcmVmbGVjdGlvbiBvZiB0aGUgcGxhbmUgaW4gdGhlIGdpdmVuIHBvaW50LCBsaW5lIG9yIHBsYW5lLlxuICByZWZsZWN0aW9uSW46IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmoubm9ybWFsKSB7XG4gICAgICAvLyBvYmogaXMgYSBwbGFuZVxuICAgICAgdmFyIEEgPSB0aGlzLmFuY2hvci5lbGVtZW50cywgTiA9IHRoaXMubm9ybWFsLmVsZW1lbnRzO1xuICAgICAgdmFyIEExID0gQVswXSwgQTIgPSBBWzFdLCBBMyA9IEFbMl0sIE4xID0gTlswXSwgTjIgPSBOWzFdLCBOMyA9IE5bMl07XG4gICAgICB2YXIgbmV3QSA9IHRoaXMuYW5jaG9yLnJlZmxlY3Rpb25JbihvYmopLmVsZW1lbnRzO1xuICAgICAgLy8gQWRkIHRoZSBwbGFuZSdzIG5vcm1hbCB0byBpdHMgYW5jaG9yLCB0aGVuIG1pcnJvciB0aGF0IGluIHRoZSBvdGhlciBwbGFuZVxuICAgICAgdmFyIEFOMSA9IEExICsgTjEsIEFOMiA9IEEyICsgTjIsIEFOMyA9IEEzICsgTjM7XG4gICAgICB2YXIgUSA9IG9iai5wb2ludENsb3Nlc3RUbyhbQU4xLCBBTjIsIEFOM10pLmVsZW1lbnRzO1xuICAgICAgdmFyIG5ld04gPSBbUVswXSArIChRWzBdIC0gQU4xKSAtIG5ld0FbMF0sIFFbMV0gKyAoUVsxXSAtIEFOMikgLSBuZXdBWzFdLCBRWzJdICsgKFFbMl0gLSBBTjMpIC0gbmV3QVsyXV07XG4gICAgICByZXR1cm4gUGxhbmUuY3JlYXRlKG5ld0EsIG5ld04pO1xuICAgIH0gZWxzZSBpZiAob2JqLmRpcmVjdGlvbikge1xuICAgICAgLy8gb2JqIGlzIGEgbGluZVxuICAgICAgcmV0dXJuIHRoaXMucm90YXRlKE1hdGguUEksIG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG9iaiBpcyBhIHBvaW50XG4gICAgICB2YXIgUCA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG4gICAgICByZXR1cm4gUGxhbmUuY3JlYXRlKHRoaXMuYW5jaG9yLnJlZmxlY3Rpb25JbihbUFswXSwgUFsxXSwgKFBbMl0gfHwgMCldKSwgdGhpcy5ub3JtYWwpO1xuICAgIH1cbiAgfSxcblxuICAvLyBTZXRzIHRoZSBhbmNob3IgcG9pbnQgYW5kIG5vcm1hbCB0byB0aGUgcGxhbmUuIElmIHRocmVlIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkLFxuICAvLyB0aGUgbm9ybWFsIGlzIGNhbGN1bGF0ZWQgYnkgYXNzdW1pbmcgdGhlIHRocmVlIHBvaW50cyBzaG91bGQgbGllIGluIHRoZSBzYW1lIHBsYW5lLlxuICAvLyBJZiBvbmx5IHR3byBhcmUgc2VwY2lmaWVkLCB0aGUgc2Vjb25kIGlzIHRha2VuIHRvIGJlIHRoZSBub3JtYWwuIE5vcm1hbCB2ZWN0b3IgaXNcbiAgLy8gbm9ybWFsaXNlZCBiZWZvcmUgc3RvcmFnZS5cbiAgc2V0VmVjdG9yczogZnVuY3Rpb24oYW5jaG9yLCB2MSwgdjIpIHtcbiAgICBhbmNob3IgPSBWZWN0b3IuY3JlYXRlKGFuY2hvcik7XG4gICAgYW5jaG9yID0gYW5jaG9yLnRvM0QoKTsgaWYgKGFuY2hvciA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHYxID0gVmVjdG9yLmNyZWF0ZSh2MSk7XG4gICAgdjEgPSB2MS50bzNEKCk7IGlmICh2MSA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGlmICh0eXBlb2YodjIpID09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2MiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHYyID0gVmVjdG9yLmNyZWF0ZSh2Mik7XG4gICAgICB2MiA9IHYyLnRvM0QoKTsgaWYgKHYyID09PSBudWxsKSB7IHJldHVybiBudWxsOyB9XG4gICAgfVxuICAgIHZhciBBMSA9IGFuY2hvci5lbGVtZW50c1swXSwgQTIgPSBhbmNob3IuZWxlbWVudHNbMV0sIEEzID0gYW5jaG9yLmVsZW1lbnRzWzJdO1xuICAgIHZhciB2MTEgPSB2MS5lbGVtZW50c1swXSwgdjEyID0gdjEuZWxlbWVudHNbMV0sIHYxMyA9IHYxLmVsZW1lbnRzWzJdO1xuICAgIHZhciBub3JtYWwsIG1vZDtcbiAgICBpZiAodjIgIT09IG51bGwpIHtcbiAgICAgIHZhciB2MjEgPSB2Mi5lbGVtZW50c1swXSwgdjIyID0gdjIuZWxlbWVudHNbMV0sIHYyMyA9IHYyLmVsZW1lbnRzWzJdO1xuICAgICAgbm9ybWFsID0gVmVjdG9yLmNyZWF0ZShbXG4gICAgICAgICh2MTIgLSBBMikgKiAodjIzIC0gQTMpIC0gKHYxMyAtIEEzKSAqICh2MjIgLSBBMiksXG4gICAgICAgICh2MTMgLSBBMykgKiAodjIxIC0gQTEpIC0gKHYxMSAtIEExKSAqICh2MjMgLSBBMyksXG4gICAgICAgICh2MTEgLSBBMSkgKiAodjIyIC0gQTIpIC0gKHYxMiAtIEEyKSAqICh2MjEgLSBBMSlcbiAgICAgIF0pO1xuICAgICAgbW9kID0gbm9ybWFsLm1vZHVsdXMoKTtcbiAgICAgIGlmIChtb2QgPT09IDApIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgIG5vcm1hbCA9IFZlY3Rvci5jcmVhdGUoW25vcm1hbC5lbGVtZW50c1swXSAvIG1vZCwgbm9ybWFsLmVsZW1lbnRzWzFdIC8gbW9kLCBub3JtYWwuZWxlbWVudHNbMl0gLyBtb2RdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kID0gTWF0aC5zcXJ0KHYxMSp2MTEgKyB2MTIqdjEyICsgdjEzKnYxMyk7XG4gICAgICBpZiAobW9kID09PSAwKSB7IHJldHVybiBudWxsOyB9XG4gICAgICBub3JtYWwgPSBWZWN0b3IuY3JlYXRlKFt2MS5lbGVtZW50c1swXSAvIG1vZCwgdjEuZWxlbWVudHNbMV0gLyBtb2QsIHYxLmVsZW1lbnRzWzJdIC8gbW9kXSk7XG4gICAgfVxuICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yO1xuICAgIHRoaXMubm9ybWFsID0gbm9ybWFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG4vLyBDb25zdHJ1Y3RvciBmdW5jdGlvblxuUGxhbmUuY3JlYXRlID0gZnVuY3Rpb24oYW5jaG9yLCB2MSwgdjIpIHtcbiAgdmFyIFAgPSBuZXcgUGxhbmUoKTtcbiAgcmV0dXJuIFAuc2V0VmVjdG9ycyhhbmNob3IsIHYxLCB2Mik7XG59O1xuXG4vLyBYLVktWiBwbGFuZXNcblBsYW5lLlhZID0gUGxhbmUuY3JlYXRlKFZlY3Rvci5aZXJvKDMpLCBWZWN0b3Iuayk7XG5QbGFuZS5ZWiA9IFBsYW5lLmNyZWF0ZShWZWN0b3IuWmVybygzKSwgVmVjdG9yLmkpO1xuUGxhbmUuWlggPSBQbGFuZS5jcmVhdGUoVmVjdG9yLlplcm8oMyksIFZlY3Rvci5qKTtcblBsYW5lLllYID0gUGxhbmUuWFk7IFBsYW5lLlpZID0gUGxhbmUuWVo7IFBsYW5lLlhaID0gUGxhbmUuWlg7XG5cbi8vIFJldHVybnMgdGhlIHBsYW5lIGNvbnRhaW5pbmcgdGhlIGdpdmVuIHBvaW50cyAoY2FuIGJlIGFycmF5cyBhc1xuLy8gd2VsbCBhcyB2ZWN0b3JzKS4gSWYgdGhlIHBvaW50cyBhcmUgbm90IGNvcGxhbmFyLCByZXR1cm5zIG51bGwuXG5QbGFuZS5mcm9tUG9pbnRzID0gZnVuY3Rpb24ocG9pbnRzKSB7XG4gIHZhciBucCA9IHBvaW50cy5sZW5ndGgsIGxpc3QgPSBbXSwgaSwgUCwgbiwgTiwgQSwgQiwgQywgRCwgdGhldGEsIHByZXZOLCB0b3RhbE4gPSBWZWN0b3IuWmVybygzKTtcbiAgZm9yIChpID0gMDsgaSA8IG5wOyBpKyspIHtcbiAgICBQID0gVmVjdG9yLmNyZWF0ZShwb2ludHNbaV0pLnRvM0QoKTtcbiAgICBpZiAoUCA9PT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGxpc3QucHVzaChQKTtcbiAgICBuID0gbGlzdC5sZW5ndGg7XG4gICAgaWYgKG4gPiAyKSB7XG4gICAgICAvLyBDb21wdXRlIHBsYW5lIG5vcm1hbCBmb3IgdGhlIGxhdGVzdCB0aHJlZSBwb2ludHNcbiAgICAgIEEgPSBsaXN0W24tMV0uZWxlbWVudHM7IEIgPSBsaXN0W24tMl0uZWxlbWVudHM7IEMgPSBsaXN0W24tM10uZWxlbWVudHM7XG4gICAgICBOID0gVmVjdG9yLmNyZWF0ZShbXG4gICAgICAgIChBWzFdIC0gQlsxXSkgKiAoQ1syXSAtIEJbMl0pIC0gKEFbMl0gLSBCWzJdKSAqIChDWzFdIC0gQlsxXSksXG4gICAgICAgIChBWzJdIC0gQlsyXSkgKiAoQ1swXSAtIEJbMF0pIC0gKEFbMF0gLSBCWzBdKSAqIChDWzJdIC0gQlsyXSksXG4gICAgICAgIChBWzBdIC0gQlswXSkgKiAoQ1sxXSAtIEJbMV0pIC0gKEFbMV0gLSBCWzFdKSAqIChDWzBdIC0gQlswXSlcbiAgICAgIF0pLnRvVW5pdFZlY3RvcigpO1xuICAgICAgaWYgKG4gPiAzKSB7XG4gICAgICAgIC8vIElmIHRoZSBsYXRlc3Qgbm9ybWFsIGlzIG5vdCAoYW50aSlwYXJhbGxlbCB0byB0aGUgcHJldmlvdXMgb25lLCB3ZSd2ZSBzdHJheWVkIG9mZiB0aGUgcGxhbmUuXG4gICAgICAgIC8vIFRoaXMgbWlnaHQgYmUgYSBzbGlnaHRseSBsb25nLXdpbmRlZCB3YXkgb2YgZG9pbmcgdGhpbmdzLCBidXQgd2UgbmVlZCB0aGUgc3VtIG9mIGFsbCB0aGUgbm9ybWFsc1xuICAgICAgICAvLyB0byBmaW5kIHdoaWNoIHdheSB0aGUgcGxhbmUgbm9ybWFsIHNob3VsZCBwb2ludCBzbyB0aGF0IHRoZSBwb2ludHMgZm9ybSBhbiBhbnRpY2xvY2t3aXNlIGxpc3QuXG4gICAgICAgIHRoZXRhID0gTi5hbmdsZUZyb20ocHJldk4pO1xuICAgICAgICBpZiAodGhldGEgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoIShNYXRoLmFicyh0aGV0YSkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGV0YSAtIE1hdGguUEkpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pKSB7IHJldHVybiBudWxsOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRvdGFsTiA9IHRvdGFsTi5hZGQoTik7XG4gICAgICBwcmV2TiA9IE47XG4gICAgfVxuICB9XG4gIC8vIFdlIG5lZWQgdG8gYWRkIGluIHRoZSBub3JtYWxzIGF0IHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cywgd2hpY2ggdGhlIGFib3ZlIG1pc3NlcyBvdXRcbiAgQSA9IGxpc3RbMV0uZWxlbWVudHM7IEIgPSBsaXN0WzBdLmVsZW1lbnRzOyBDID0gbGlzdFtuLTFdLmVsZW1lbnRzOyBEID0gbGlzdFtuLTJdLmVsZW1lbnRzO1xuICB0b3RhbE4gPSB0b3RhbE4uYWRkKFZlY3Rvci5jcmVhdGUoW1xuICAgIChBWzFdIC0gQlsxXSkgKiAoQ1syXSAtIEJbMl0pIC0gKEFbMl0gLSBCWzJdKSAqIChDWzFdIC0gQlsxXSksXG4gICAgKEFbMl0gLSBCWzJdKSAqIChDWzBdIC0gQlswXSkgLSAoQVswXSAtIEJbMF0pICogKENbMl0gLSBCWzJdKSxcbiAgICAoQVswXSAtIEJbMF0pICogKENbMV0gLSBCWzFdKSAtIChBWzFdIC0gQlsxXSkgKiAoQ1swXSAtIEJbMF0pXG4gIF0pLnRvVW5pdFZlY3RvcigpKS5hZGQoVmVjdG9yLmNyZWF0ZShbXG4gICAgKEJbMV0gLSBDWzFdKSAqIChEWzJdIC0gQ1syXSkgLSAoQlsyXSAtIENbMl0pICogKERbMV0gLSBDWzFdKSxcbiAgICAoQlsyXSAtIENbMl0pICogKERbMF0gLSBDWzBdKSAtIChCWzBdIC0gQ1swXSkgKiAoRFsyXSAtIENbMl0pLFxuICAgIChCWzBdIC0gQ1swXSkgKiAoRFsxXSAtIENbMV0pIC0gKEJbMV0gLSBDWzFdKSAqIChEWzBdIC0gQ1swXSlcbiAgXSkudG9Vbml0VmVjdG9yKCkpO1xuICByZXR1cm4gUGxhbmUuY3JlYXRlKGxpc3RbMF0sIHRvdGFsTik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBsYW5lO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDExLCBDaHJpcyBVbWJlbCwgSmFtZXMgQ29nbGFuXG4vLyBUaGlzIGZpbGUgaXMgcmVxdWlyZWQgaW4gb3JkZXIgZm9yIGFueSBvdGhlciBjbGFzc2VzIHRvIHdvcmsuIFNvbWUgVmVjdG9yIG1ldGhvZHMgd29yayB3aXRoIHRoZVxuLy8gb3RoZXIgU3lsdmVzdGVyIGNsYXNzZXMgYW5kIGFyZSB1c2VsZXNzIHVubGVzcyB0aGV5IGFyZSBpbmNsdWRlZC4gT3RoZXIgY2xhc3NlcyBzdWNoIGFzIExpbmUgYW5kXG4vLyBQbGFuZSB3aWxsIG5vdCBmdW5jdGlvbiBhdCBhbGwgd2l0aG91dCBWZWN0b3IgYmVpbmcgbG9hZGVkIGZpcnN0LiAgICAgICAgICAgXG5cbk1hdGguc2lnbiA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCA8IDAgPyAtMTogMTtcbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbnZhciBTeWx2ZXN0ZXIgPSB7XG4gICAgcHJlY2lzaW9uOiAxZS02LFxuICAgIGFwcHJveFByZWNpc2lvbjogMWUtNVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeWx2ZXN0ZXI7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTEsIENocmlzIFVtYmVsLCBKYW1lcyBDb2dsYW5cbi8vIFRoaXMgZmlsZSBpcyByZXF1aXJlZCBpbiBvcmRlciBmb3IgYW55IG90aGVyIGNsYXNzZXMgdG8gd29yay4gU29tZSBWZWN0b3IgbWV0aG9kcyB3b3JrIHdpdGggdGhlXG4vLyBvdGhlciBTeWx2ZXN0ZXIgY2xhc3NlcyBhbmQgYXJlIHVzZWxlc3MgdW5sZXNzIHRoZXkgYXJlIGluY2x1ZGVkLiBPdGhlciBjbGFzc2VzIHN1Y2ggYXMgTGluZSBhbmRcbi8vIFBsYW5lIHdpbGwgbm90IGZ1bmN0aW9uIGF0IGFsbCB3aXRob3V0IFZlY3RvciBiZWluZyBsb2FkZWQgZmlyc3QuXG5cbnZhciBTeWx2ZXN0ZXIgPSByZXF1aXJlKCcuL3N5bHZlc3RlcicpLFxuTWF0cml4ID0gcmVxdWlyZSgnLi9tYXRyaXgnKTtcblxuZnVuY3Rpb24gVmVjdG9yKCkge31cblZlY3Rvci5wcm90b3R5cGUgPSB7XG5cbiAgICBub3JtOiBmdW5jdGlvbigpIHtcblx0dmFyIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcblx0dmFyIHN1bSA9IDA7XG5cblx0d2hpbGUgKG4tLSkge1xuXHQgICAgc3VtICs9IE1hdGgucG93KHRoaXMuZWxlbWVudHNbbl0sIDIpO1xuXHR9XG5cblx0cmV0dXJuIE1hdGguc3FydChzdW0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGVsZW1lbnQgaSBvZiB0aGUgdmVjdG9yXG4gICAgZTogZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIChpIDwgMSB8fCBpID4gdGhpcy5lbGVtZW50cy5sZW5ndGgpID8gbnVsbCA6IHRoaXMuZWxlbWVudHNbaSAtIDFdO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cy9jb2x1bW5zIHRoZSB2ZWN0b3IgaGFzXG4gICAgZGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge3Jvd3M6IDEsIGNvbHM6IHRoaXMuZWxlbWVudHMubGVuZ3RofTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJvd3MgaW4gdGhlIHZlY3RvclxuICAgIHJvd3M6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSB2ZWN0b3JcbiAgICBjb2xzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgbW9kdWx1cyAoJ2xlbmd0aCcpIG9mIHRoZSB2ZWN0b3JcbiAgICBtb2R1bHVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kb3QodGhpcykpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSB2ZWN0b3IgaXMgZXF1YWwgdG8gdGhlIGFyZ3VtZW50XG4gICAgZXFsOiBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICBcdHZhciBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG4gICAgXHR2YXIgViA9IHZlY3Rvci5lbGVtZW50cyB8fCB2ZWN0b3I7XG4gICAgXHRpZiAobiAhPSBWLmxlbmd0aCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBcdHdoaWxlIChuLS0pIHtcbiAgICBcdCAgICBpZiAoTWF0aC5hYnModGhpcy5lbGVtZW50c1tuXSAtIFZbbl0pID4gU3lsdmVzdGVyLnByZWNpc2lvbikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBcdH1cbiAgICBcdHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgdmVjdG9yXG4gICAgZHVwOiBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBWZWN0b3IuY3JlYXRlKHRoaXMuZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICAvLyBNYXBzIHRoZSB2ZWN0b3IgdG8gYW5vdGhlciB2ZWN0b3IgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBmdW5jdGlvblxuICAgIG1hcDogZnVuY3Rpb24oZm4pIHtcblx0dmFyIGVsZW1lbnRzID0gW107XG5cdHRoaXMuZWFjaChmdW5jdGlvbih4LCBpKSB7XG5cdCAgICBlbGVtZW50cy5wdXNoKGZuKHgsIGkpKTtcblx0fSk7XG5cdHJldHVybiBWZWN0b3IuY3JlYXRlKGVsZW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLy8gQ2FsbHMgdGhlIGl0ZXJhdG9yIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIHZlY3RvciBpbiB0dXJuXG4gICAgZWFjaDogZnVuY3Rpb24oZm4pIHtcblx0dmFyIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0ICAgIGZuKHRoaXMuZWxlbWVudHNbaV0sIGkgKyAxKTtcblx0fVxuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIGEgbmV3IHZlY3RvciBjcmVhdGVkIGJ5IG5vcm1hbGl6aW5nIHRoZSByZWNlaXZlclxuICAgIHRvVW5pdFZlY3RvcjogZnVuY3Rpb24oKSB7XG5cdHZhciByID0gdGhpcy5tb2R1bHVzKCk7XG5cdGlmIChyID09PSAwKSB7IHJldHVybiB0aGlzLmR1cCgpOyB9XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiB4IC8gcjsgfSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIGFuZ2xlIGJldHdlZW4gdGhlIHZlY3RvciBhbmQgdGhlIGFyZ3VtZW50IChhbHNvIGEgdmVjdG9yKVxuICAgIGFuZ2xlRnJvbTogZnVuY3Rpb24odmVjdG9yKSB7XG5cdHZhciBWID0gdmVjdG9yLmVsZW1lbnRzIHx8IHZlY3Rvcjtcblx0dmFyIG4gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCwgayA9IG4sIGk7XG5cdGlmIChuICE9IFYubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHZhciBkb3QgPSAwLCBtb2QxID0gMCwgbW9kMiA9IDA7XG5cdC8vIFdvcmsgdGhpbmdzIG91dCBpbiBwYXJhbGxlbCB0byBzYXZlIHRpbWVcblx0dGhpcy5lYWNoKGZ1bmN0aW9uKHgsIGkpIHtcblx0ICAgIGRvdCArPSB4ICogVltpIC0gMV07XG5cdCAgICBtb2QxICs9IHggKiB4O1xuXHQgICAgbW9kMiArPSBWW2kgLSAxXSAqIFZbaSAtIDFdO1xuXHR9KTtcblx0bW9kMSA9IE1hdGguc3FydChtb2QxKTsgbW9kMiA9IE1hdGguc3FydChtb2QyKTtcblx0aWYgKG1vZDEgKiBtb2QyID09PSAwKSB7IHJldHVybiBudWxsOyB9XG5cdHZhciB0aGV0YSA9IGRvdCAvIChtb2QxICogbW9kMik7XG5cdGlmICh0aGV0YSA8IC0xKSB7IHRoZXRhID0gLTE7IH1cblx0aWYgKHRoZXRhID4gMSkgeyB0aGV0YSA9IDE7IH1cblx0cmV0dXJuIE1hdGguYWNvcyh0aGV0YSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIHZlY3RvciBpcyBwYXJhbGxlbCB0byB0aGUgYXJndW1lbnRcbiAgICBpc1BhcmFsbGVsVG86IGZ1bmN0aW9uKHZlY3Rvcikge1xuXHR2YXIgYW5nbGUgPSB0aGlzLmFuZ2xlRnJvbSh2ZWN0b3IpO1xuXHRyZXR1cm4gKGFuZ2xlID09PSBudWxsKSA/IG51bGwgOiAoYW5nbGUgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIHZlY3RvciBpcyBhbnRpcGFyYWxsZWwgdG8gdGhlIGFyZ3VtZW50XG4gICAgaXNBbnRpcGFyYWxsZWxUbzogZnVuY3Rpb24odmVjdG9yKSB7XG5cdHZhciBhbmdsZSA9IHRoaXMuYW5nbGVGcm9tKHZlY3Rvcik7XG5cdHJldHVybiAoYW5nbGUgPT09IG51bGwpID8gbnVsbCA6IChNYXRoLmFicyhhbmdsZSAtIE1hdGguUEkpIDw9IFN5bHZlc3Rlci5wcmVjaXNpb24pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRydWUgaWZmIHRoZSB2ZWN0b3IgaXMgcGVycGVuZGljdWxhciB0byB0aGUgYXJndW1lbnRcbiAgICBpc1BlcnBlbmRpY3VsYXJUbzogZnVuY3Rpb24odmVjdG9yKSB7XG5cdHZhciBkb3QgPSB0aGlzLmRvdCh2ZWN0b3IpO1xuXHRyZXR1cm4gKGRvdCA9PT0gbnVsbCkgPyBudWxsIDogKE1hdGguYWJzKGRvdCkgPD0gU3lsdmVzdGVyLnByZWNpc2lvbik7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBhZGRpbmcgdGhlIGFyZ3VtZW50IHRvIHRoZSB2ZWN0b3JcbiAgICBhZGQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdHZhciBWID0gdmFsdWUuZWxlbWVudHMgfHwgdmFsdWU7XG5cblx0aWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoICE9IFYubGVuZ3RoKSBcblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2KSB7IHJldHVybiB2ICsgdmFsdWUgfSk7XG5cdGVsc2Vcblx0ICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih4LCBpKSB7IHJldHVybiB4ICsgVltpIC0gMV07IH0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSByZXN1bHQgb2Ygc3VidHJhY3RpbmcgdGhlIGFyZ3VtZW50IGZyb20gdGhlIHZlY3RvclxuICAgIHN1YnRyYWN0OiBmdW5jdGlvbih2KSB7XG5cdGlmICh0eXBlb2YodikgPT0gJ251bWJlcicpXG5cdCAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaykgeyByZXR1cm4gayAtIHY7IH0pO1xuXG5cdHZhciBWID0gdi5lbGVtZW50cyB8fCB2O1xuXHRpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggIT0gVi5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgsIGkpIHsgcmV0dXJuIHggLSBWW2kgLSAxXTsgfSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiBtdWx0aXBseWluZyB0aGUgZWxlbWVudHMgb2YgdGhlIHZlY3RvciBieSB0aGUgYXJndW1lbnRcbiAgICBtdWx0aXBseTogZnVuY3Rpb24oaykge1xuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4geCAqIGs7IH0pO1xuICAgIH0sXG5cbiAgICBlbGVtZW50TXVsdGlwbHk6IGZ1bmN0aW9uKHYpIHtcblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGssIGkpIHtcblx0ICAgIHJldHVybiB2LmUoaSkgKiBrO1xuXHR9KTtcbiAgICB9LFxuXG4gICAgc3VtOiBmdW5jdGlvbigpIHtcblx0dmFyIHN1bSA9IDA7XG5cdHRoaXMubWFwKGZ1bmN0aW9uKHgpIHsgc3VtICs9IHg7fSk7XG5cdHJldHVybiBzdW07XG4gICAgfSxcblxuICAgIGNob21wOiBmdW5jdGlvbihuKSB7XG5cdHZhciBlbGVtZW50cyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSBuOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgZWxlbWVudHMucHVzaCh0aGlzLmVsZW1lbnRzW2ldKTtcblx0fVxuXG5cdHJldHVybiBWZWN0b3IuY3JlYXRlKGVsZW1lbnRzKTtcbiAgICB9LFxuXG4gICAgdG9wOiBmdW5jdGlvbihuKSB7XG5cdHZhciBlbGVtZW50cyA9IFtdO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdCAgICBlbGVtZW50cy5wdXNoKHRoaXMuZWxlbWVudHNbaV0pO1xuXHR9XG5cblx0cmV0dXJuIFZlY3Rvci5jcmVhdGUoZWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICBhdWdtZW50OiBmdW5jdGlvbihlbGVtZW50cykge1xuXHR2YXIgbmV3RWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudHNbaV0pO1xuXHR9XG5cblx0cmV0dXJuIFZlY3Rvci5jcmVhdGUobmV3RWxlbWVudHMpO1xuICAgIH0sXG5cbiAgICB4OiBmdW5jdGlvbihrKSB7IHJldHVybiB0aGlzLm11bHRpcGx5KGspOyB9LFxuXG4gICAgbG9nOiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIFZlY3Rvci5sb2codGhpcyk7XG4gICAgfSxcblxuICAgIGVsZW1lbnREaXZpZGU6IGZ1bmN0aW9uKHZlY3Rvcikge1xuXHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odiwgaSkge1xuXHQgICAgcmV0dXJuIHYgLyB2ZWN0b3IuZShpKTtcblx0fSk7XG4gICAgfSxcblxuICAgIHByb2R1Y3Q6IGZ1bmN0aW9uKCkge1xuXHR2YXIgcCA9IDE7XG5cblx0dGhpcy5tYXAoZnVuY3Rpb24odikge1xuXHQgICAgcCAqPSB2O1xuXHR9KTtcblxuXHRyZXR1cm4gcDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgc2NhbGFyIHByb2R1Y3Qgb2YgdGhlIHZlY3RvciB3aXRoIHRoZSBhcmd1bWVudFxuICAgIC8vIEJvdGggdmVjdG9ycyBtdXN0IGhhdmUgZXF1YWwgZGltZW5zaW9uYWxpdHlcbiAgICBkb3Q6IGZ1bmN0aW9uKHZlY3Rvcikge1xuXHR2YXIgViA9IHZlY3Rvci5lbGVtZW50cyB8fCB2ZWN0b3I7XG5cdHZhciBpLCBwcm9kdWN0ID0gMCwgbiA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1x0XG5cdGlmIChuICE9IFYubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHdoaWxlIChuLS0pIHsgcHJvZHVjdCArPSB0aGlzLmVsZW1lbnRzW25dICogVltuXTsgfVxuXHRyZXR1cm4gcHJvZHVjdDtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgdmVjdG9yIHByb2R1Y3Qgb2YgdGhlIHZlY3RvciB3aXRoIHRoZSBhcmd1bWVudFxuICAgIC8vIEJvdGggdmVjdG9ycyBtdXN0IGhhdmUgZGltZW5zaW9uYWxpdHkgM1xuICAgIGNyb3NzOiBmdW5jdGlvbih2ZWN0b3IpIHtcblx0dmFyIEIgPSB2ZWN0b3IuZWxlbWVudHMgfHwgdmVjdG9yO1xuXHRpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggIT0gMyB8fCBCLmxlbmd0aCAhPSAzKSB7IHJldHVybiBudWxsOyB9XG5cdHZhciBBID0gdGhpcy5lbGVtZW50cztcblx0cmV0dXJuIFZlY3Rvci5jcmVhdGUoW1xuXHQgICAgKEFbMV0gKiBCWzJdKSAtIChBWzJdICogQlsxXSksXG5cdCAgICAoQVsyXSAqIEJbMF0pIC0gKEFbMF0gKiBCWzJdKSxcblx0ICAgIChBWzBdICogQlsxXSkgLSAoQVsxXSAqIEJbMF0pXG5cdF0pO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm5zIHRoZSAoYWJzb2x1dGUpIGxhcmdlc3QgZWxlbWVudCBvZiB0aGUgdmVjdG9yXG4gICAgbWF4OiBmdW5jdGlvbigpIHtcblx0dmFyIG0gPSAwLCBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cdHdoaWxlIChpLS0pIHtcblx0ICAgIGlmIChNYXRoLmFicyh0aGlzLmVsZW1lbnRzW2ldKSA+IE1hdGguYWJzKG0pKSB7IG0gPSB0aGlzLmVsZW1lbnRzW2ldOyB9XG5cdH1cblx0cmV0dXJuIG07XG4gICAgfSxcblxuXG4gICAgbWF4SW5kZXg6IGZ1bmN0aW9uKCkge1xuXHR2YXIgbSA9IDAsIGkgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcblx0dmFyIG1heEluZGV4ID0gLTE7XG5cblx0d2hpbGUgKGktLSkge1xuXHQgICAgaWYgKE1hdGguYWJzKHRoaXMuZWxlbWVudHNbaV0pID4gTWF0aC5hYnMobSkpIHsgXG5cdFx0bSA9IHRoaXMuZWxlbWVudHNbaV07IFxuXHRcdG1heEluZGV4ID0gaSArIDE7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gbWF4SW5kZXg7XG4gICAgfSxcblxuXG4gICAgLy8gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IG1hdGNoIGZvdW5kXG4gICAgaW5kZXhPZjogZnVuY3Rpb24oeCkge1xuXHR2YXIgaW5kZXggPSBudWxsLCBuID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG5cdCAgICBpZiAoaW5kZXggPT09IG51bGwgJiYgdGhpcy5lbGVtZW50c1tpXSA9PSB4KSB7XG5cdFx0aW5kZXggPSBpICsgMTtcblx0ICAgIH1cblx0fVxuXHRyZXR1cm4gaW5kZXg7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBkaWFnb25hbCBtYXRyaXggd2l0aCB0aGUgdmVjdG9yJ3MgZWxlbWVudHMgYXMgaXRzIGRpYWdvbmFsIGVsZW1lbnRzXG4gICAgdG9EaWFnb25hbE1hdHJpeDogZnVuY3Rpb24oKSB7XG5cdHJldHVybiBNYXRyaXguRGlhZ29uYWwodGhpcy5lbGVtZW50cyk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdGhlIHJlc3VsdCBvZiByb3VuZGluZyB0aGUgZWxlbWVudHMgb2YgdGhlIHZlY3RvclxuICAgIHJvdW5kOiBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoeCk7IH0pO1xuICAgIH0sXG5cbiAgICAvLyBUcmFuc3Bvc2UgYSBWZWN0b3IsIHJldHVybiBhIDF4biBNYXRyaXhcbiAgICB0cmFuc3Bvc2U6IGZ1bmN0aW9uKCkge1xuXHR2YXIgcm93cyA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuXHR2YXIgZWxlbWVudHMgPSBbXTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuXHQgICAgZWxlbWVudHMucHVzaChbdGhpcy5lbGVtZW50c1tpXV0pO1xuXHR9XG5cdHJldHVybiBNYXRyaXguY3JlYXRlKGVsZW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHZlY3RvciB3aXRoIGVsZW1lbnRzIHNldCB0byB0aGUgZ2l2ZW4gdmFsdWUgaWYgdGhleVxuICAgIC8vIGRpZmZlciBmcm9tIGl0IGJ5IGxlc3MgdGhhbiBTeWx2ZXN0ZXIucHJlY2lzaW9uXG4gICAgc25hcFRvOiBmdW5jdGlvbih4KSB7XG5cdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih5KSB7XG5cdCAgICByZXR1cm4gKE1hdGguYWJzKHkgLSB4KSA8PSBTeWx2ZXN0ZXIucHJlY2lzaW9uKSA/IHggOiB5O1xuXHR9KTtcbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgdmVjdG9yJ3MgZGlzdGFuY2UgZnJvbSB0aGUgYXJndW1lbnQsIHdoZW4gY29uc2lkZXJlZCBhcyBhIHBvaW50IGluIHNwYWNlXG4gICAgZGlzdGFuY2VGcm9tOiBmdW5jdGlvbihvYmopIHtcblx0aWYgKG9iai5hbmNob3IgfHwgKG9iai5zdGFydCAmJiBvYmouZW5kKSkgeyByZXR1cm4gb2JqLmRpc3RhbmNlRnJvbSh0aGlzKTsgfVxuXHR2YXIgViA9IG9iai5lbGVtZW50cyB8fCBvYmo7XG5cdGlmIChWLmxlbmd0aCAhPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHR2YXIgc3VtID0gMCwgcGFydDtcblx0dGhpcy5lYWNoKGZ1bmN0aW9uKHgsIGkpIHtcblx0ICAgIHBhcnQgPSB4IC0gVltpIC0gMV07XG5cdCAgICBzdW0gKz0gcGFydCAqIHBhcnQ7XG5cdH0pO1xuXHRyZXR1cm4gTWF0aC5zcXJ0KHN1bSk7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmVjdG9yIGlzIHBvaW50IG9uIHRoZSBnaXZlbiBsaW5lXG4gICAgbGllc09uOiBmdW5jdGlvbihsaW5lKSB7XG5cdHJldHVybiBsaW5lLmNvbnRhaW5zKHRoaXMpO1xuICAgIH0sXG5cbiAgICAvLyBSZXR1cm4gdHJ1ZSBpZmYgdGhlIHZlY3RvciBpcyBhIHBvaW50IGluIHRoZSBnaXZlbiBwbGFuZVxuICAgIGxpZXNJbjogZnVuY3Rpb24ocGxhbmUpIHtcblx0cmV0dXJuIHBsYW5lLmNvbnRhaW5zKHRoaXMpO1xuICAgIH0sXG5cbiAgICAvLyBSb3RhdGVzIHRoZSB2ZWN0b3IgYWJvdXQgdGhlIGdpdmVuIG9iamVjdC4gVGhlIG9iamVjdCBzaG91bGQgYmUgYVxuICAgIC8vIHBvaW50IGlmIHRoZSB2ZWN0b3IgaXMgMkQsIGFuZCBhIGxpbmUgaWYgaXQgaXMgM0QuIEJlIGNhcmVmdWwgd2l0aCBsaW5lIGRpcmVjdGlvbnMhXG4gICAgcm90YXRlOiBmdW5jdGlvbih0LCBvYmopIHtcblx0dmFyIFYsIFIgPSBudWxsLCB4LCB5LCB6O1xuXHRpZiAodC5kZXRlcm1pbmFudCkgeyBSID0gdC5lbGVtZW50czsgfVxuXHRzd2l0Y2ggKHRoaXMuZWxlbWVudHMubGVuZ3RoKSB7XG5cdGNhc2UgMjpcbiAgICAgICAgICAgIFYgPSBvYmouZWxlbWVudHMgfHwgb2JqO1xuICAgICAgICAgICAgaWYgKFYubGVuZ3RoICE9IDIpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgICAgIGlmICghUikgeyBSID0gTWF0cml4LlJvdGF0aW9uKHQpLmVsZW1lbnRzOyB9XG4gICAgICAgICAgICB4ID0gdGhpcy5lbGVtZW50c1swXSAtIFZbMF07XG4gICAgICAgICAgICB5ID0gdGhpcy5lbGVtZW50c1sxXSAtIFZbMV07XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLmNyZWF0ZShbXG5cdFx0VlswXSArIFJbMF1bMF0gKiB4ICsgUlswXVsxXSAqIHksXG5cdFx0VlsxXSArIFJbMV1bMF0gKiB4ICsgUlsxXVsxXSAqIHlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cdGNhc2UgMzpcbiAgICAgICAgICAgIGlmICghb2JqLmRpcmVjdGlvbikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgdmFyIEMgPSBvYmoucG9pbnRDbG9zZXN0VG8odGhpcykuZWxlbWVudHM7XG4gICAgICAgICAgICBpZiAoIVIpIHsgUiA9IE1hdHJpeC5Sb3RhdGlvbih0LCBvYmouZGlyZWN0aW9uKS5lbGVtZW50czsgfVxuICAgICAgICAgICAgeCA9IHRoaXMuZWxlbWVudHNbMF0gLSBDWzBdO1xuICAgICAgICAgICAgeSA9IHRoaXMuZWxlbWVudHNbMV0gLSBDWzFdO1xuICAgICAgICAgICAgeiA9IHRoaXMuZWxlbWVudHNbMl0gLSBDWzJdO1xuICAgICAgICAgICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW1xuXHRcdENbMF0gKyBSWzBdWzBdICogeCArIFJbMF1bMV0gKiB5ICsgUlswXVsyXSAqIHosXG5cdFx0Q1sxXSArIFJbMV1bMF0gKiB4ICsgUlsxXVsxXSAqIHkgKyBSWzFdWzJdICogeixcblx0XHRDWzJdICsgUlsyXVswXSAqIHggKyBSWzJdWzFdICogeSArIFJbMl1bMl0gKiB6XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXHRkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdH1cbiAgICB9LFxuXG4gICAgLy8gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHJlZmxlY3RpbmcgdGhlIHBvaW50IGluIHRoZSBnaXZlbiBwb2ludCwgbGluZSBvciBwbGFuZVxuICAgIHJlZmxlY3Rpb25JbjogZnVuY3Rpb24ob2JqKSB7XG5cdGlmIChvYmouYW5jaG9yKSB7XG5cdCAgICAvLyBvYmogaXMgYSBwbGFuZSBvciBsaW5lXG5cdCAgICB2YXIgUCA9IHRoaXMuZWxlbWVudHMuc2xpY2UoKTtcblx0ICAgIHZhciBDID0gb2JqLnBvaW50Q2xvc2VzdFRvKFApLmVsZW1lbnRzO1xuXHQgICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoW0NbMF0gKyAoQ1swXSAtIFBbMF0pLCBDWzFdICsgKENbMV0gLSBQWzFdKSwgQ1syXSArIChDWzJdIC0gKFBbMl0gfHwgMCkpXSk7XG5cdH0gZWxzZSB7XG5cdCAgICAvLyBvYmogaXMgYSBwb2ludFxuXHQgICAgdmFyIFEgPSBvYmouZWxlbWVudHMgfHwgb2JqO1xuXHQgICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoICE9IFEubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdCAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oeCwgaSkgeyByZXR1cm4gUVtpIC0gMV0gKyAoUVtpIC0gMV0gLSB4KTsgfSk7XG5cdH1cbiAgICB9LFxuXG4gICAgLy8gVXRpbGl0eSB0byBtYWtlIHN1cmUgdmVjdG9ycyBhcmUgM0QuIElmIHRoZXkgYXJlIDJELCBhIHplcm8gei1jb21wb25lbnQgaXMgYWRkZWRcbiAgICB0bzNEOiBmdW5jdGlvbigpIHtcblx0dmFyIFYgPSB0aGlzLmR1cCgpO1xuXHRzd2l0Y2ggKFYuZWxlbWVudHMubGVuZ3RoKSB7XG5cdGNhc2UgMzogYnJlYWs7XG5cdGNhc2UgMjogVi5lbGVtZW50cy5wdXNoKDApOyBicmVhaztcblx0ZGVmYXVsdDogcmV0dXJuIG51bGw7XG5cdH1cblx0cmV0dXJuIFY7XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICAgIGluc3BlY3Q6IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gJ1snICsgdGhpcy5lbGVtZW50cy5qb2luKCcsICcpICsgJ10nO1xuICAgIH0sXG5cbiAgICAvLyBTZXQgdmVjdG9yJ3MgZWxlbWVudHMgZnJvbSBhbiBhcnJheVxuICAgIHNldEVsZW1lbnRzOiBmdW5jdGlvbihlbHMpIHtcblx0dGhpcy5lbGVtZW50cyA9IChlbHMuZWxlbWVudHMgfHwgZWxzKS5zbGljZSgpO1xuXHRyZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG4vLyBDb25zdHJ1Y3RvciBmdW5jdGlvblxuVmVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gICAgdmFyIFYgPSBuZXcgVmVjdG9yKCk7XG4gICAgcmV0dXJuIFYuc2V0RWxlbWVudHMoZWxlbWVudHMpO1xufTtcblxuLy8gaSwgaiwgayB1bml0IHZlY3RvcnNcblZlY3Rvci5pID0gVmVjdG9yLmNyZWF0ZShbMSwgMCwgMF0pO1xuVmVjdG9yLmogPSBWZWN0b3IuY3JlYXRlKFswLCAxLCAwXSk7XG5WZWN0b3IuayA9IFZlY3Rvci5jcmVhdGUoWzAsIDAsIDFdKTtcblxuLy8gUmFuZG9tIHZlY3RvciBvZiBzaXplIG5cblZlY3Rvci5SYW5kb20gPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gW107XG4gICAgd2hpbGUgKG4tLSkgeyBlbGVtZW50cy5wdXNoKE1hdGgucmFuZG9tKCkpOyB9XG4gICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoZWxlbWVudHMpO1xufTtcblxuVmVjdG9yLkZpbGwgPSBmdW5jdGlvbihuLCB2KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gW107XG4gICAgd2hpbGUgKG4tLSkgeyBlbGVtZW50cy5wdXNoKHYpOyB9XG4gICAgcmV0dXJuIFZlY3Rvci5jcmVhdGUoZWxlbWVudHMpO1xufTtcblxuLy8gVmVjdG9yIGZpbGxlZCB3aXRoIHplcm9zXG5WZWN0b3IuWmVybyA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gVmVjdG9yLkZpbGwobiwgMCk7XG59O1xuXG5WZWN0b3IuT25lID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiBWZWN0b3IuRmlsbChuLCAxKTtcbn07XG5cblZlY3Rvci5sb2cgPSBmdW5jdGlvbih2KSB7XG4gICAgcmV0dXJuIHYubWFwKGZ1bmN0aW9uKHgpIHtcblx0cmV0dXJuIE1hdGgubG9nKHgpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3I7XG4iLCJleHBvcnQgY29uc3QgQXR0cmlidXRlID0ge1xyXG4gICAgQ09NTUFORDogJ2RhdGEtY29tbWFuZCcsXHJcbiAgICBGVUxMX05BTUU6ICdkYXRhLWZ1bGwtbmFtZScsXHJcbiAgICBOQU1FOiAnZGF0YS1uYW1lJyxcclxuICAgIFBJRDogJ2RhdGEtcGlkJyxcclxuICAgIFVESUQ6ICdkYXRhLXVkaWQnLFxyXG4gICAgVVJMOiAnZGF0YS11cmwnLFxyXG4gICAgVVNFX1BST1hZOiAnZGF0YS11c2UtcHJveHknLFxyXG4gICAgU0VDVVJFOiAnZGF0YS1zZWN1cmUnLFxyXG4gICAgSE9TVE5BTUU6ICdkYXRhLWhvc3RuYW1lJyxcclxuICAgIFBPUlQ6ICdkYXRhLXBvcnQnLFxyXG4gICAgUEFUSE5BTUU6ICdkYXRhLXBhdGhuYW1lJyxcclxuICAgIFZBTFVFOiAnZGF0YS12YWx1ZScsXHJcbn07XHJcbiIsImltcG9ydCBTaXplIGZyb20gJy4vU2l6ZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlzcGxheUluZm8ge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBERUZBVUxUX0RJU1BMQVkgPSAweDAwMDAwMDAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGTEFHX1JPVU5EID0gMGIxMDAwMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRkxBR19QUkVTRU5UQVRJT04gPSAwYjEwMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZMQUdfUFJJVkFURSA9IDBiMTAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGTEFHX1NFQ1VSRSA9IDBiMTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZMQUdfU1VQUE9SVFNfUFJPVEVDVEVEX0JVRkZFUlMgPSAwYjE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IElOVkFMSURfRElTUExBWSA9IC0xO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCVUZGRVJfTEVOR1RIID0gMjQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGRpc3BsYXlJZDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBzaXplOiBTaXplLFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSByb3RhdGlvbjogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBsYXllclN0YWNrOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGZsYWdzOiBudW1iZXIsXHJcbiAgICApIHt9XHJcblxyXG4gICAgcHVibGljIHRvQnVmZmVyKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgY29uc3QgdGVtcCA9IEJ1ZmZlci5hbGxvYyhEaXNwbGF5SW5mby5CVUZGRVJfTEVOR1RIKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBvZmZzZXQgPSB0ZW1wLndyaXRlSW50MzJCRSh0aGlzLmRpc3BsYXlJZCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSB0ZW1wLndyaXRlSW50MzJCRSh0aGlzLnNpemUud2lkdGgsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gdGVtcC53cml0ZUludDMyQkUodGhpcy5zaXplLmhlaWdodCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSB0ZW1wLndyaXRlSW50MzJCRSh0aGlzLnJvdGF0aW9uLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IHRlbXAud3JpdGVJbnQzMkJFKHRoaXMubGF5ZXJTdGFjaywgb2Zmc2V0KTtcclxuICAgICAgICB0ZW1wLndyaXRlSW50MzJCRSh0aGlzLmZsYWdzLCBvZmZzZXQpO1xyXG4gICAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBgRGlzcGxheUluZm97ZGlzcGxheUlkPSR7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUlkfSwgc2l6ZT0ke1xyXG4gICAgICAgICAgICB0aGlzLnNpemV9LCByb3RhdGlvbj0ke1xyXG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9ufSwgbGF5ZXJTdGFjaz0ke1xyXG4gICAgICAgICAgICB0aGlzLmxheWVyU3RhY2t9LCBmbGFncz0ke1xyXG4gICAgICAgICAgICB0aGlzLmZsYWdzfX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IERpc3BsYXlJbmZvIHtcclxuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCAhPT0gRGlzcGxheUluZm8uQlVGRkVSX0xFTkdUSCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgSW5jb3JyZWN0IGJ1ZmZlciBsZW5ndGguIEV4cGVjdGVkOiAke0Rpc3BsYXlJbmZvLkJVRkZFUl9MRU5HVEh9LCByZWNlaXZlZDogJHtidWZmZXIubGVuZ3RofWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gYnVmZmVyLnJlYWRJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgY29uc3QgbGF5ZXJTdGFjayA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGNvbnN0IGZsYWdzID0gYnVmZmVyLnJlYWRJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwbGF5SW5mbyhkaXNwbGF5SWQsIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpLCByb3RhdGlvbiwgbGF5ZXJTdGFjaywgZmxhZ3MpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdGlvbkV2ZW50IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgQUNUSU9OX0RPV04gPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT05fVVAgPSAxO1xyXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT05fTU9WRSA9IDI7XHJcbiAgICAvKipcclxuICAgICAqIEJ1dHRvbiBjb25zdGFudDogUHJpbWFyeSBidXR0b24gKGxlZnQgbW91c2UgYnV0dG9uKS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBCVVRUT05fUFJJTUFSWTogbnVtYmVyID0gMSA8PCAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQnV0dG9uIGNvbnN0YW50OiBTZWNvbmRhcnkgYnV0dG9uIChyaWdodCBtb3VzZSBidXR0b24pLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIEJVVFRPTl9TRUNPTkRBUlk6IG51bWJlciA9IDEgPDwgMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1dHRvbiBjb25zdGFudDogVGVydGlhcnkgYnV0dG9uIChtaWRkbGUgbW91c2UgYnV0dG9uKS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBCVVRUT05fVEVSVElBUlk6IG51bWJlciA9IDEgPDwgMjtcclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIFBvaW50SW50ZXJmYWNlIHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnQge1xyXG4gICAgcmVhZG9ubHkgeDogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgeTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKHgpO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvOiBQb2ludCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzID09PSBvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG8ueCAmJiB0aGlzLnkgPT09IG8ueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzdGFuY2UodG86IFBvaW50KTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy54IC0gdG8ueDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy55IC0gdG8ueTtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgUG9pbnR7eD0ke3RoaXMueH0sIHk9JHt0aGlzLnl9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBQb2ludEludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9pbnQsIHsgUG9pbnRJbnRlcmZhY2UgfSBmcm9tICcuL1BvaW50JztcclxuaW1wb3J0IFNpemUsIHsgU2l6ZUludGVyZmFjZSB9IGZyb20gJy4vU2l6ZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uSW50ZXJmYWNlIHtcclxuICAgIHBvaW50OiBQb2ludEludGVyZmFjZTtcclxuICAgIHNjcmVlblNpemU6IFNpemVJbnRlcmZhY2U7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc2l0aW9uIHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFkb25seSBwb2ludDogUG9pbnQsIHJlYWRvbmx5IHNjcmVlblNpemU6IFNpemUpIHt9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvOiBQb3NpdGlvbik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzID09PSBvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5wb2ludC5lcXVhbHMoby5wb2ludCkgJiYgdGhpcy5zY3JlZW5TaXplLmVxdWFscyhvLnNjcmVlblNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUocm90YXRpb246IG51bWJlcik6IFBvc2l0aW9uIHtcclxuICAgICAgICBzd2l0Y2ggKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KHRoaXMuc2NyZWVuU2l6ZS5oZWlnaHQgLSB0aGlzLnBvaW50LnksIHRoaXMucG9pbnQueCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5TaXplLnJvdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQodGhpcy5zY3JlZW5TaXplLndpZHRoIC0gdGhpcy5wb2ludC54LCB0aGlzLnNjcmVlblNpemUuaGVpZ2h0IC0gdGhpcy5wb2ludC55KSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmVlblNpemUsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLnBvaW50LnksIHRoaXMuc2NyZWVuU2l6ZS53aWR0aCAtIHRoaXMucG9pbnQueCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JlZW5TaXplLnJvdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFBvc2l0aW9ue3BvaW50PSR7dGhpcy5wb2ludH0sIHNjcmVlblNpemU9JHt0aGlzLnNjcmVlblNpemV9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBQb3NpdGlvbkludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9pbnQ6IHRoaXMucG9pbnQudG9KU09OKCksXHJcbiAgICAgICAgICAgIHNjcmVlblNpemU6IHRoaXMuc2NyZWVuU2l6ZS50b0pTT04oKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImludGVyZmFjZSBSZWN0SW50ZXJmYWNlIHtcclxuICAgIGxlZnQ6IG51bWJlcjtcclxuICAgIHRvcDogbnVtYmVyO1xyXG4gICAgcmlnaHQ6IG51bWJlcjtcclxuICAgIGJvdHRvbTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGxlZnQ6IG51bWJlciwgcmVhZG9ubHkgdG9wOiBudW1iZXIsIHJlYWRvbmx5IHJpZ2h0OiBudW1iZXIsIHJlYWRvbmx5IGJvdHRvbTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XHJcbiAgICAgICAgdGhpcy5ib3R0b20gPSBib3R0b207XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGVxdWFscyhhPzogUmVjdCB8IG51bGwsIGI/OiBSZWN0IHwgbnVsbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghYSAmJiAhYikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICEhYSAmJiAhIWIgJiYgYS5lcXVhbHMoYik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGNvcHkoYT86IFJlY3QgfCBudWxsKTogUmVjdCB8IG51bGwge1xyXG4gICAgICAgIGlmICghYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KGEubGVmdCwgYS50b3AsIGEucmlnaHQsIGEuYm90dG9tKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBlcXVhbHMobzogUmVjdCB8IG51bGwpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcyA9PT0gbykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCA9PT0gby5sZWZ0ICYmIHRoaXMudG9wID09PSBvLnRvcCAmJiB0aGlzLnJpZ2h0ID09PSBvLnJpZ2h0ICYmIHRoaXMuYm90dG9tID09PSBvLmJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0V2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yaWdodCAtIHRoaXMubGVmdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tIC0gdGhpcy50b3A7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIGBSZWN0e2xlZnQ9JHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0fSwgdG9wPSR7XHJcbiAgICAgICAgICAgIHRoaXMudG9wfSwgcmlnaHQ9JHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodH0sIGJvdHRvbT0ke1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbX19YDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9KU09OKCk6IFJlY3RJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMubGVmdCxcclxuICAgICAgICAgICAgcmlnaHQ6IHRoaXMucmlnaHQsXHJcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AsXHJcbiAgICAgICAgICAgIGJvdHRvbTogdGhpcy5ib3R0b20sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVjdCBmcm9tICcuL1JlY3QnO1xyXG5pbXBvcnQgU2l6ZSBmcm9tICcuL1NpemUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NyZWVuSW5mbyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJVRkZFUl9MRU5HVEg6IG51bWJlciA9IDI1O1xyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY29udGVudFJlY3Q6IFJlY3QsIHJlYWRvbmx5IHZpZGVvU2l6ZTogU2l6ZSwgcmVhZG9ubHkgZGV2aWNlUm90YXRpb246IG51bWJlcikge31cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyOiBCdWZmZXIpOiBTY3JlZW5JbmZvIHtcclxuICAgICAgICBjb25zdCBsZWZ0ID0gYnVmZmVyLnJlYWRJbnQzMkJFKDApO1xyXG4gICAgICAgIGNvbnN0IHRvcCA9IGJ1ZmZlci5yZWFkSW50MzJCRSg0KTtcclxuICAgICAgICBjb25zdCByaWdodCA9IGJ1ZmZlci5yZWFkSW50MzJCRSg4KTtcclxuICAgICAgICBjb25zdCBib3R0b20gPSBidWZmZXIucmVhZEludDMyQkUoMTIpO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gYnVmZmVyLnJlYWRJbnQzMkJFKDE2KTtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBidWZmZXIucmVhZEludDMyQkUoMjApO1xyXG4gICAgICAgIGNvbnN0IGRldmljZVJvdGF0aW9uID0gYnVmZmVyLnJlYWRVSW50OCgyNCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTY3JlZW5JbmZvKG5ldyBSZWN0KGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSksIG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpLCBkZXZpY2VSb3RhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvPzogU2NyZWVuSW5mbyB8IG51bGwpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIW8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRSZWN0LmVxdWFscyhvLmNvbnRlbnRSZWN0KSAmJlxyXG4gICAgICAgICAgICB0aGlzLnZpZGVvU2l6ZS5lcXVhbHMoby52aWRlb1NpemUpICYmXHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlUm90YXRpb24gPT09IG8uZGV2aWNlUm90YXRpb25cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgU2NyZWVuSW5mb3tjb250ZW50UmVjdD0ke3RoaXMuY29udGVudFJlY3R9LCB2aWRlb1NpemU9JHt0aGlzLnZpZGVvU2l6ZX0sIGRldmljZVJvdGF0aW9uPSR7dGhpcy5kZXZpY2VSb3RhdGlvbn19YDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIFNpemVJbnRlcmZhY2Uge1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaXplIHtcclxuICAgIHB1YmxpYyByZWFkb25seSB3OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHdpZHRoOiBudW1iZXIsIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53ID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXF1YWxzKGE/OiBTaXplIHwgbnVsbCwgYj86IFNpemUgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFhICYmICFiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gISFhICYmICEhYiAmJiBhLmVxdWFscyhiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvcHkoYT86IFNpemUgfCBudWxsKTogU2l6ZSB8IG51bGwge1xyXG4gICAgICAgIGlmICghYSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKGEud2lkdGgsIGEuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBsZW5ndGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53ICogdGhpcy5oO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByb3RhdGUoKTogU2l6ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXF1YWxzKG86IFNpemUgfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMgPT09IG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoID09PSBvLndpZHRoICYmIHRoaXMuaGVpZ2h0ID09PSBvLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW50ZXJzZWN0KG86IFNpemUgfCB1bmRlZmluZWQgfCBudWxsKTogU2l6ZSB7XHJcbiAgICAgICAgaWYgKCFvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtaW5IID0gTWF0aC5taW4odGhpcy5oZWlnaHQsIG8uaGVpZ2h0KTtcclxuICAgICAgICBjb25zdCBtaW5XID0gTWF0aC5taW4odGhpcy53aWR0aCwgby53aWR0aCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKG1pblcsIG1pbkgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRIYWxmU2l6ZSgpOiBTaXplIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNpemUodGhpcy53aWR0aCA+Pj4gMSwgdGhpcy5oZWlnaHQgPj4+IDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgU2l6ZXt3aWR0aD0ke3RoaXMud2lkdGh9LCBoZWlnaHQ9JHt0aGlzLmhlaWdodH19YDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9KU09OKCk6IFNpemVJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3VpZXZlbnRzLWNvZGUvXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUV2ZW50c0NvZGUge1xyXG4gICAgLy8gMy4xLjEuMS4gV3JpdGluZyBTeXN0ZW0gS2V5c1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCYWNrcXVvdGU6IHN0cmluZyA9ICdCYWNrcXVvdGUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCYWNrc2xhc2g6IHN0cmluZyA9ICdCYWNrc2xhc2gnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcmFja2V0TGVmdDogc3RyaW5nID0gJ0JyYWNrZXRMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQnJhY2tldFJpZ2h0OiBzdHJpbmcgPSAnQnJhY2tldFJpZ2h0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29tbWE6IHN0cmluZyA9ICdDb21tYSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0MDogc3RyaW5nID0gJ0RpZ2l0MCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0MTogc3RyaW5nID0gJ0RpZ2l0MSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Mjogc3RyaW5nID0gJ0RpZ2l0Mic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Mzogc3RyaW5nID0gJ0RpZ2l0Myc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0NDogc3RyaW5nID0gJ0RpZ2l0NCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0NTogc3RyaW5nID0gJ0RpZ2l0NSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Njogc3RyaW5nID0gJ0RpZ2l0Nic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0Nzogc3RyaW5nID0gJ0RpZ2l0Nyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0ODogc3RyaW5nID0gJ0RpZ2l0OCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERpZ2l0OTogc3RyaW5nID0gJ0RpZ2l0OSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVxdWFsOiBzdHJpbmcgPSAnRXF1YWwnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBJbnRsQmFja3NsYXNoOiBzdHJpbmcgPSAnSW50bEJhY2tzbGFzaCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEludGxSbzogc3RyaW5nID0gJ0ludGxSbyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEludGxZZW46IHN0cmluZyA9ICdJbnRsWWVuJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5QTogc3RyaW5nID0gJ0tleUEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlCOiBzdHJpbmcgPSAnS2V5Qic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUM6IHN0cmluZyA9ICdLZXlDJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5RDogc3RyaW5nID0gJ0tleUQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlFOiBzdHJpbmcgPSAnS2V5RSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUY6IHN0cmluZyA9ICdLZXlGJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Rzogc3RyaW5nID0gJ0tleUcnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlIOiBzdHJpbmcgPSAnS2V5SCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUk6IHN0cmluZyA9ICdLZXlJJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Sjogc3RyaW5nID0gJ0tleUonO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlLOiBzdHJpbmcgPSAnS2V5Syc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleUw6IHN0cmluZyA9ICdLZXlMJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5TTogc3RyaW5nID0gJ0tleU0nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlOOiBzdHJpbmcgPSAnS2V5Tic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleU86IHN0cmluZyA9ICdLZXlPJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5UDogc3RyaW5nID0gJ0tleVAnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlROiBzdHJpbmcgPSAnS2V5USc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleVI6IHN0cmluZyA9ICdLZXlSJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Uzogc3RyaW5nID0gJ0tleVMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlUOiBzdHJpbmcgPSAnS2V5VCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleVU6IHN0cmluZyA9ICdLZXlVJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5Vjogc3RyaW5nID0gJ0tleVYnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlXOiBzdHJpbmcgPSAnS2V5Vyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtleVg6IHN0cmluZyA9ICdLZXlYJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2V5WTogc3RyaW5nID0gJ0tleVknO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLZXlaOiBzdHJpbmcgPSAnS2V5Wic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1pbnVzOiBzdHJpbmcgPSAnTWludXMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQZXJpb2Q6IHN0cmluZyA9ICdQZXJpb2QnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBRdW90ZTogc3RyaW5nID0gJ1F1b3RlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2VtaWNvbG9uOiBzdHJpbmcgPSAnU2VtaWNvbG9uJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2xhc2g6IHN0cmluZyA9ICdTbGFzaCc7XHJcblxyXG4gICAgLy8gMy4xLjEuMi4gRnVuY3Rpb25hbCBLZXlzXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFsdExlZnQ6IHN0cmluZyA9ICdBbHRMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQWx0UmlnaHQ6IHN0cmluZyA9ICdBbHRSaWdodCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJhY2tzcGFjZTogc3RyaW5nID0gJ0JhY2tzcGFjZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENhcHNMb2NrOiBzdHJpbmcgPSAnQ2Fwc0xvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBDb250ZXh0TWVudTogc3RyaW5nID0gJ0NvbnRleHRNZW51JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29udHJvbExlZnQ6IHN0cmluZyA9ICdDb250cm9sTGVmdCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENvbnRyb2xSaWdodDogc3RyaW5nID0gJ0NvbnRyb2xSaWdodCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVudGVyOiBzdHJpbmcgPSAnRW50ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNZXRhTGVmdDogc3RyaW5nID0gJ01ldGFMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTWV0YVJpZ2h0OiBzdHJpbmcgPSAnTWV0YVJpZ2h0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2hpZnRMZWZ0OiBzdHJpbmcgPSAnU2hpZnRMZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2hpZnRSaWdodDogc3RyaW5nID0gJ1NoaWZ0UmlnaHQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBTcGFjZTogc3RyaW5nID0gJ1NwYWNlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVGFiOiBzdHJpbmcgPSAnVGFiJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29udmVydDogc3RyaW5nID0gJ0NvbnZlcnQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLYW5hTW9kZTogc3RyaW5nID0gJ0thbmFNb2RlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGFuZzE6IHN0cmluZyA9ICdMYW5nMSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExhbmcyOiBzdHJpbmcgPSAnTGFuZzInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMYW5nMzogc3RyaW5nID0gJ0xhbmczJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGFuZzQ6IHN0cmluZyA9ICdMYW5nNCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExhbmc1OiBzdHJpbmcgPSAnTGFuZzUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOb25Db252ZXJ0OiBzdHJpbmcgPSAnTm9uQ29udmVydCc7XHJcblxyXG4gICAgLy8gMy4xLjIuIENvbnRyb2wgUGFkIFNlY3Rpb25cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRGVsZXRlOiBzdHJpbmcgPSAnRGVsZXRlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRW5kOiBzdHJpbmcgPSAnRW5kJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSGVscDogc3RyaW5nID0gJ0hlbHAnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIb21lOiBzdHJpbmcgPSAnSG9tZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEluc2VydDogc3RyaW5nID0gJ0luc2VydCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBhZ2VEb3duOiBzdHJpbmcgPSAnUGFnZURvd24nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQYWdlVXA6IHN0cmluZyA9ICdQYWdlVXAnO1xyXG5cclxuICAgIC8vIDMuMS4zLiBBcnJvdyBQYWQgU2VjdGlvblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd0Rvd246IHN0cmluZyA9ICdBcnJvd0Rvd24nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd0xlZnQ6IHN0cmluZyA9ICdBcnJvd0xlZnQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd1JpZ2h0OiBzdHJpbmcgPSAnQXJyb3dSaWdodCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFycm93VXA6IHN0cmluZyA9ICdBcnJvd1VwJztcclxuXHJcbiAgICAvLyAzLjEuNC4gTnVtcGFkIFNlY3Rpb25cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtTG9jazogc3RyaW5nID0gJ051bUxvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQwOiBzdHJpbmcgPSAnTnVtcGFkMCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZDE6IHN0cmluZyA9ICdOdW1wYWQxJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkMjogc3RyaW5nID0gJ051bXBhZDInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQzOiBzdHJpbmcgPSAnTnVtcGFkMyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZDQ6IHN0cmluZyA9ICdOdW1wYWQ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkNTogc3RyaW5nID0gJ051bXBhZDUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQ2OiBzdHJpbmcgPSAnTnVtcGFkNic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZDc6IHN0cmluZyA9ICdOdW1wYWQ3JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkODogc3RyaW5nID0gJ051bXBhZDgnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWQ5OiBzdHJpbmcgPSAnTnVtcGFkOSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZEFkZDogc3RyaW5nID0gJ051bXBhZEFkZCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZEJhY2tzcGFjZTogc3RyaW5nID0gJ051bXBhZEJhY2tzcGFjZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZENsZWFyOiBzdHJpbmcgPSAnTnVtcGFkQ2xlYXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRDbGVhckVudHJ5OiBzdHJpbmcgPSAnTnVtcGFkQ2xlYXJFbnRyeSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZENvbW1hOiBzdHJpbmcgPSAnTnVtcGFkQ29tbWEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWREZWNpbWFsOiBzdHJpbmcgPSAnTnVtcGFkRGVjaW1hbCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZERpdmlkZTogc3RyaW5nID0gJ051bXBhZERpdmlkZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZEVudGVyOiBzdHJpbmcgPSAnTnVtcGFkRW50ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRFcXVhbDogc3RyaW5nID0gJ051bXBhZEVxdWFsJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkSGFzaDogc3RyaW5nID0gJ051bXBhZEhhc2gnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRNZW1vcnlBZGQ6IHN0cmluZyA9ICdOdW1wYWRNZW1vcnlBZGQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRNZW1vcnlDbGVhcjogc3RyaW5nID0gJ051bXBhZE1lbW9yeUNsZWFyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkTWVtb3J5UmVjYWxsOiBzdHJpbmcgPSAnTnVtcGFkTWVtb3J5UmVjYWxsJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkTWVtb3J5U3RvcmU6IHN0cmluZyA9ICdOdW1wYWRNZW1vcnlTdG9yZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZE1lbW9yeVN1YnRyYWN0OiBzdHJpbmcgPSAnTnVtcGFkTWVtb3J5U3VidHJhY3QnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRNdWx0aXBseTogc3RyaW5nID0gJ051bXBhZE11bHRpcGx5JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkUGFyZW5MZWZ0OiBzdHJpbmcgPSAnTnVtcGFkUGFyZW5MZWZ0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTnVtcGFkUGFyZW5SaWdodDogc3RyaW5nID0gJ051bXBhZFBhcmVuUmlnaHQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOdW1wYWRTdGFyOiBzdHJpbmcgPSAnTnVtcGFkU3Rhcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE51bXBhZFN1YnRyYWN0OiBzdHJpbmcgPSAnTnVtcGFkU3VidHJhY3QnO1xyXG5cclxuICAgIC8vIDMuMS41LiBGdW5jdGlvbiBTZWN0aW9uXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVzY2FwZTogc3RyaW5nID0gJ0VzY2FwZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxOiBzdHJpbmcgPSAnRjEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGMjogc3RyaW5nID0gJ0YyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRjM6IHN0cmluZyA9ICdGMyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEY0OiBzdHJpbmcgPSAnRjQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGNTogc3RyaW5nID0gJ0Y1JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRjY6IHN0cmluZyA9ICdGNic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEY3OiBzdHJpbmcgPSAnRjcnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGODogc3RyaW5nID0gJ0Y4JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRjk6IHN0cmluZyA9ICdGOSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxMDogc3RyaW5nID0gJ0YxMCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxMTogc3RyaW5nID0gJ0YxMSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEYxMjogc3RyaW5nID0gJ0YxMic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZuOiBzdHJpbmcgPSAnRm4nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBGbkxvY2s6IHN0cmluZyA9ICdGbkxvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQcmludFNjcmVlbjogc3RyaW5nID0gJ1ByaW50U2NyZWVuJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2Nyb2xsTG9jazogc3RyaW5nID0gJ1Njcm9sbExvY2snO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQYXVzZTogc3RyaW5nID0gJ1BhdXNlJztcclxuXHJcbiAgICAvLyAzLjEuNi4gTWVkaWEgS2V5c1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcm93c2VyQmFjazogc3RyaW5nID0gJ0Jyb3dzZXJCYWNrJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQnJvd3NlckZhdm9yaXRlczogc3RyaW5nID0gJ0Jyb3dzZXJGYXZvcml0ZXMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcm93c2VyRm9yd2FyZDogc3RyaW5nID0gJ0Jyb3dzZXJGb3J3YXJkJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQnJvd3NlckhvbWU6IHN0cmluZyA9ICdCcm93c2VySG9tZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJyb3dzZXJSZWZyZXNoOiBzdHJpbmcgPSAnQnJvd3NlclJlZnJlc2gnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCcm93c2VyU2VhcmNoOiBzdHJpbmcgPSAnQnJvd3NlclNlYXJjaCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJyb3dzZXJTdG9wOiBzdHJpbmcgPSAnQnJvd3NlclN0b3AnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBFamVjdDogc3RyaW5nID0gJ0VqZWN0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTGF1bmNoQXBwMTogc3RyaW5nID0gJ0xhdW5jaEFwcDEnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMYXVuY2hBcHAyOiBzdHJpbmcgPSAnTGF1bmNoQXBwMic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExhdW5jaE1haWw6IHN0cmluZyA9ICdMYXVuY2hNYWlsJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTWVkaWFQbGF5UGF1c2U6IHN0cmluZyA9ICdNZWRpYVBsYXlQYXVzZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1lZGlhU2VsZWN0OiBzdHJpbmcgPSAnTWVkaWFTZWxlY3QnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNZWRpYVN0b3A6IHN0cmluZyA9ICdNZWRpYVN0b3AnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNZWRpYVRyYWNrTmV4dDogc3RyaW5nID0gJ01lZGlhVHJhY2tOZXh0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTWVkaWFUcmFja1ByZXZpb3VzOiBzdHJpbmcgPSAnTWVkaWFUcmFja1ByZXZpb3VzJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUG93ZXI6IHN0cmluZyA9ICdQb3dlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFNsZWVwOiBzdHJpbmcgPSAnU2xlZXAnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdWRpb1ZvbHVtZURvd246IHN0cmluZyA9ICdBdWRpb1ZvbHVtZURvd24nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdWRpb1ZvbHVtZU11dGU6IHN0cmluZyA9ICdBdWRpb1ZvbHVtZU11dGUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdWRpb1ZvbHVtZVVwOiBzdHJpbmcgPSAnQXVkaW9Wb2x1bWVVcCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFdha2VVcDogc3RyaW5nID0gJ1dha2VVcCc7XHJcblxyXG4gICAgLy8gMy4xLjcuIExlZ2FjeSwgTm9uLVN0YW5kYXJkIGFuZCBTcGVjaWFsIEtleXNcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSHlwZXI6IHN0cmluZyA9ICdIeXBlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFN1cGVyOiBzdHJpbmcgPSAnU3VwZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBUdXJibzogc3RyaW5nID0gJ1R1cmJvJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQWJvcnQ6IHN0cmluZyA9ICdBYm9ydCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJlc3VtZTogc3RyaW5nID0gJ1Jlc3VtZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFN1c3BlbmQ6IHN0cmluZyA9ICdTdXNwZW5kJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQWdhaW46IHN0cmluZyA9ICdBZ2Fpbic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENvcHk6IHN0cmluZyA9ICdDb3B5JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ3V0OiBzdHJpbmcgPSAnQ3V0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRmluZDogc3RyaW5nID0gJ0ZpbmQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBPcGVuOiBzdHJpbmcgPSAnT3Blbic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBhc3RlOiBzdHJpbmcgPSAnUGFzdGUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBQcm9wczogc3RyaW5nID0gJ1Byb3BzJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU2VsZWN0OiBzdHJpbmcgPSAnU2VsZWN0JztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVW5kbzogc3RyaW5nID0gJ1VuZG8nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIaXJhZ2FuYTogc3RyaW5nID0gJ0hpcmFnYW5hJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS2F0YWthbmE6IHN0cmluZyA9ICdLYXRha2FuYSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFVuaWRlbnRpZmllZDogc3RyaW5nID0gJ1VuaWRlbnRpZmllZCc7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBTVUZGSVg6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgMDogJ0InLFxyXG4gICAgICAgIDE6ICdLaUInLFxyXG4gICAgICAgIDI6ICdNaUInLFxyXG4gICAgICAgIDM6ICdHaUInLFxyXG4gICAgICAgIDQ6ICdUaUInLFxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIHN1cHBvcnRzUGFzc2l2ZVZhbHVlOiBib29sZWFuIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZmlsdGVyVHJhaWxpbmdaZXJvZXMoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHtcclxuICAgICAgICBsZXQgYiA9IDA7XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzXHJcbiAgICAgICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAgICAgLmZpbHRlcigoaSkgPT4gYiB8fCAoYiA9IGkpKVxyXG4gICAgICAgICAgICAucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcHJldHR5Qnl0ZXModmFsdWU6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHN1ZmZpeCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHZhbHVlID49IDUxMikge1xyXG4gICAgICAgICAgICBzdWZmaXgrKztcclxuICAgICAgICAgICAgdmFsdWUgLz0gMTAyNDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlLnRvRml4ZWQoc3VmZml4ID8gMSA6IDApfSR7VXRpbC5TVUZGSVhbc3VmZml4XX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXNjYXBlVWRpZCh1ZGlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAndWRpZF8nICsgdWRpZC5yZXBsYWNlKC9bLiA6XS9nLCAnXycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2UocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMsIG5hbWU6IHN0cmluZywgcmVxdWlyZWQ/OiBib29sZWFuKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiB2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIFwiJHtuYW1lfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlU3RyaW5nKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zLCBuYW1lOiBzdHJpbmcsIHJlcXVpcmVkPzogYm9vbGVhbik6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiB2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIFwiJHtuYW1lfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZSB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlQm9vbGVhbihwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcywgbmFtZTogc3RyaW5nLCByZXF1aXJlZD86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucGFyc2UocGFyYW1zLCBuYW1lLCByZXF1aXJlZCk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnMScgfHwgKCEhdmFsdWUgJiYgdmFsdWUudG9TdHJpbmcoKSA9PT0gJ3RydWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgIHN0YXRpYyBwYXJzZUludChwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcywgbmFtZTogc3RyaW5nLCByZXF1aXJlZD86IGJvb2xlYW4pOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wYXJzZShwYXJhbXMsIG5hbWUsIHJlcXVpcmVkKTtcclxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGludCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XHJcbiAgICAgICAgaWYgKGlzTmFOKGludCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZUJvb2xlYW5FbnYoaW5wdXQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCB8IG51bGwpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyB8fCBpbnB1dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dFtpbnB1dC5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlucHV0ID09PSAnMScgfHwgaW5wdXQudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VTdHJpbmdFbnYoaW5wdXQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgfHwgaW5wdXQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXRbaW5wdXQubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VJbnRFbnYoaW5wdXQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgbnVtYmVyIHwgdW5kZWZpbmVkIHwgbnVsbCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyB8fCBpbnB1dCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dFtpbnB1dC5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaW50ID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcclxuICAgICAgICBpZiAoaXNOYU4oaW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW50O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iLzUxZTVhNWFjMzczYWVmYTM1NGE5OTE4MTZlYzQxOGQ3MzBlMjlhN2UvY2xvc3VyZS9nb29nL2NyeXB0L2NyeXB0LmpzI0wxMTdcclxuLypcclxuICAgIENvcHlyaWdodCAyMDA4IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAgICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuXHJcbiAgICAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuICAgIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICAgIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcclxuICAgIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gICAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4gICAgLyogdHNsaW50OmRpc2FibGUgKi9cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYSBKUyBzdHJpbmcgdG8gYSBVVEYtOCBcImJ5dGVcIiBhcnJheS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgMTYtYml0IHVuaWNvZGUgc3RyaW5nLlxyXG4gICAgICogQHJldHVybiB7IUFycmF5PG51bWJlcj59IFVURi04IGJ5dGUgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBzdHJpbmdUb1V0ZjhCeXRlQXJyYXkgPSBmdW5jdGlvbihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICAgICAgdmFyIG91dCA9IFtdLCBwID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICgoYyAmIDB4RkMwMCkgPT0gMHhEODAwKSAmJiAoaSArIDEpIDwgc3RyLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgKChzdHIuY2hhckNvZGVBdChpICsgMSkgJiAweEZDMDApID09IDB4REMwMCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNGRikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzRkYpO1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKG91dCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYSBVVEYtOCBieXRlIGFycmF5IHRvIEphdmFTY3JpcHQncyAxNi1iaXQgVW5pY29kZS5cclxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheXxBcnJheTxudW1iZXI+fSBieXRlcyBVVEYtOCBieXRlIGFycmF5LlxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSAxNi1iaXQgVW5pY29kZSBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB1dGY4Qnl0ZUFycmF5VG9TdHJpbmcoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICAgICAgdmFyIG91dCA9IFtdLCBwb3MgPSAwLCBjID0gMDtcclxuICAgICAgICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBjMSA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMxICYgMzEpIDw8IDYgfCBjMiAmIDYzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjMSA+IDIzOSAmJiBjMSA8IDM2NSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgICAgIHZhciBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgICAgIHZhciBjNCA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgICAgIHZhciB1ID0gKChjMSAmIDcpIDw8IDE4IHwgKGMyICYgNjMpIDw8IDEyIHwgKGMzICYgNjMpIDw8IDYgfCBjNCAmIDYzKSAtXHJcbiAgICAgICAgICAgICAgICAgICAgMHgxMDAwMDtcclxuICAgICAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEQ4MDAgKyAodSA+PiAxMCkpO1xyXG4gICAgICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4REMwMCArICh1ICYgMTAyMykpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICAgICAgb3V0W2MrK10gPVxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoKGMxICYgMTUpIDw8IDEyIHwgKGMyICYgNjMpIDw8IDYgfCBjMyAmIDYzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xyXG4gICAgfTtcclxuICAgIC8qIHRzbGludDplbmFibGUgKi9cclxuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxyXG4gICAgc3RhdGljIHN1cHBvcnRzUGFzc2l2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodHlwZW9mIFV0aWwuc3VwcG9ydHNQYXNzaXZlVmFsdWUgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICByZXR1cm4gVXRpbC5zdXBwb3J0c1Bhc3NpdmVWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRlc3QgdmlhIGEgZ2V0dGVyIGluIHRoZSBvcHRpb25zIG9iamVjdCB0byBzZWUgaWYgdGhlIHBhc3NpdmUgcHJvcGVydHkgaXMgYWNjZXNzZWRcclxuICAgICAgICBsZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7fVxyXG5cclxuICAgICAgICByZXR1cm4gVXRpbC5zdXBwb3J0c1Bhc3NpdmVWYWx1ZSA9IHN1cHBvcnRzUGFzc2l2ZTtcclxuXHJcbiAgICAgICAgLy8gVXNlIG91ciBkZXRlY3QncyByZXN1bHRzLiBwYXNzaXZlIGFwcGxpZWQgaWYgc3VwcG9ydGVkLCBjYXB0dXJlIHdpbGwgYmUgZmFsc2UgZWl0aGVyIHdheS5cclxuICAgICAgICAvLyBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmbiwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHNldEltbWVkaWF0ZShmbjogKCkgPT4gYW55KTogdm9pZCB7XHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlY3QgZnJvbSAnLi9SZWN0JztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi9TaXplJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi9VdGlsJztcclxuXHJcbmludGVyZmFjZSBTZXR0aW5ncyB7XHJcbiAgICBjcm9wPzogUmVjdCB8IG51bGw7XHJcbiAgICBiaXRyYXRlOiBudW1iZXI7XHJcbiAgICBib3VuZHM/OiBTaXplIHwgbnVsbDtcclxuICAgIG1heEZwczogbnVtYmVyO1xyXG4gICAgaUZyYW1lSW50ZXJ2YWw6IG51bWJlcjtcclxuICAgIHNlbmRGcmFtZU1ldGE/OiBib29sZWFuO1xyXG4gICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbj86IG51bWJlcjtcclxuICAgIGRpc3BsYXlJZD86IG51bWJlcjtcclxuICAgIGNvZGVjT3B0aW9ucz86IHN0cmluZztcclxuICAgIGVuY29kZXJOYW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlb1NldHRpbmdzIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQkFTRV9CVUZGRVJfTEVOR1RIOiBudW1iZXIgPSAzNTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjcm9wPzogUmVjdCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGJpdHJhdGU6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYm91bmRzPzogU2l6ZSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1heEZwczogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBpRnJhbWVJbnRlcnZhbDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBzZW5kRnJhbWVNZXRhOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogbnVtYmVyID0gLTE7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGlzcGxheUlkOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvZGVjT3B0aW9ucz86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBlbmNvZGVyTmFtZT86IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhPzogU2V0dGluZ3MsIHB1YmxpYyByZWFkb25seSBieXRlc0xlbmd0aDogbnVtYmVyID0gVmlkZW9TZXR0aW5ncy5CQVNFX0JVRkZFUl9MRU5HVEgpIHtcclxuICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmNyb3AgPSBkYXRhLmNyb3A7XHJcbiAgICAgICAgICAgIHRoaXMuYml0cmF0ZSA9IGRhdGEuYml0cmF0ZTtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBkYXRhLmJvdW5kcztcclxuICAgICAgICAgICAgdGhpcy5tYXhGcHMgPSBkYXRhLm1heEZwcztcclxuICAgICAgICAgICAgdGhpcy5pRnJhbWVJbnRlcnZhbCA9IGRhdGEuaUZyYW1lSW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZEZyYW1lTWV0YSA9IGRhdGEuc2VuZEZyYW1lTWV0YSB8fCBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5sb2NrZWRWaWRlb09yaWVudGF0aW9uID0gZGF0YS5sb2NrZWRWaWRlb09yaWVudGF0aW9uIHx8IC0xO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuZGlzcGxheUlkID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oZGF0YS5kaXNwbGF5SWQpICYmIGRhdGEuZGlzcGxheUlkID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUlkID0gZGF0YS5kaXNwbGF5SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEuY29kZWNPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvZGVjT3B0aW9ucyA9IGRhdGEuY29kZWNPcHRpb25zLnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5lbmNvZGVyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVyTmFtZSA9IGRhdGEuZW5jb2Rlck5hbWUudHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXI6IEJ1ZmZlcik6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGNvbnN0IGJpdHJhdGUgPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBjb25zdCBtYXhGcHMgPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBjb25zdCBpRnJhbWVJbnRlcnZhbCA9IGJ1ZmZlci5yZWFkSW50OChvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3QgbGVmdCA9IGJ1ZmZlci5yZWFkSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgIGNvbnN0IHRvcCA9IGJ1ZmZlci5yZWFkSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3QgYm90dG9tID0gYnVmZmVyLnJlYWRJbnQxNkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgY29uc3Qgc2VuZEZyYW1lTWV0YSA9ICEhYnVmZmVyLnJlYWRJbnQ4KG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDE7XHJcbiAgICAgICAgY29uc3QgbG9ja2VkVmlkZW9PcmllbnRhdGlvbiA9IGJ1ZmZlci5yZWFkSW50OChvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlJZCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGxldCBib3VuZHM6IFNpemUgfCBudWxsID0gbnVsbDtcclxuICAgICAgICBsZXQgY3JvcDogUmVjdCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gMCAmJiBoZWlnaHQgIT09IDApIHtcclxuICAgICAgICAgICAgYm91bmRzID0gbmV3IFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZWZ0IHx8IHRvcCB8fCByaWdodCB8fCBib3R0b20pIHtcclxuICAgICAgICAgICAgY3JvcCA9IG5ldyBSZWN0KGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb2RlY09wdGlvbnM7XHJcbiAgICAgICAgbGV0IGVuY29kZXJOYW1lO1xyXG4gICAgICAgIGNvbnN0IGNvZGVjT3B0aW9uc0xlbmd0aCA9IGJ1ZmZlci5yZWFkSW50MzJCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgIGlmIChjb2RlY09wdGlvbnNMZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY29kZWNPcHRpb25zQnl0ZXMgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBjb2RlY09wdGlvbnNMZW5ndGgpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gY29kZWNPcHRpb25zTGVuZ3RoO1xyXG4gICAgICAgICAgICBjb2RlY09wdGlvbnMgPSBVdGlsLnV0ZjhCeXRlQXJyYXlUb1N0cmluZyhjb2RlY09wdGlvbnNCeXRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVuY29kZXJOYW1lTGVuZ3RoID0gYnVmZmVyLnJlYWRJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgaWYgKGVuY29kZXJOYW1lTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXJOYW1lQnl0ZXMgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBlbmNvZGVyTmFtZUxlbmd0aCk7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSBlbmNvZGVyTmFtZUxlbmd0aDtcclxuICAgICAgICAgICAgZW5jb2Rlck5hbWUgPSBVdGlsLnV0ZjhCeXRlQXJyYXlUb1N0cmluZyhlbmNvZGVyTmFtZUJ5dGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWaWRlb1NldHRpbmdzKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjcm9wLFxyXG4gICAgICAgICAgICAgICAgYml0cmF0ZSxcclxuICAgICAgICAgICAgICAgIGJvdW5kcyxcclxuICAgICAgICAgICAgICAgIG1heEZwcyxcclxuICAgICAgICAgICAgICAgIGlGcmFtZUludGVydmFsLFxyXG4gICAgICAgICAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbixcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgIHNlbmRGcmFtZU1ldGEsXHJcbiAgICAgICAgICAgICAgICBjb2RlY09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVyTmFtZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb3B5KGE6IFZpZGVvU2V0dGluZ3MpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZpZGVvU2V0dGluZ3MoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJpdHJhdGU6IGEuYml0cmF0ZSxcclxuICAgICAgICAgICAgICAgIGNyb3A6IFJlY3QuY29weShhLmNyb3ApLFxyXG4gICAgICAgICAgICAgICAgYm91bmRzOiBTaXplLmNvcHkoYS5ib3VuZHMpLFxyXG4gICAgICAgICAgICAgICAgbWF4RnBzOiBhLm1heEZwcyxcclxuICAgICAgICAgICAgICAgIGlGcmFtZUludGVydmFsOiBhLmlGcmFtZUludGVydmFsLFxyXG4gICAgICAgICAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogYS5sb2NrZWRWaWRlb09yaWVudGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheUlkOiBhLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgICAgIHNlbmRGcmFtZU1ldGE6IGEuc2VuZEZyYW1lTWV0YSxcclxuICAgICAgICAgICAgICAgIGNvZGVjT3B0aW9uczogYS5jb2RlY09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVyTmFtZTogYS5lbmNvZGVyTmFtZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYS5ieXRlc0xlbmd0aCxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlcXVhbHMobz86IFZpZGVvU2V0dGluZ3MgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgdGhpcy5lbmNvZGVyTmFtZSA9PT0gby5lbmNvZGVyTmFtZSAmJlxyXG4gICAgICAgICAgICB0aGlzLmNvZGVjT3B0aW9ucyA9PT0gby5jb2RlY09wdGlvbnMgJiZcclxuICAgICAgICAgICAgUmVjdC5lcXVhbHModGhpcy5jcm9wLCBvLmNyb3ApICYmXHJcbiAgICAgICAgICAgIHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbiA9PT0gby5sb2NrZWRWaWRlb09yaWVudGF0aW9uICYmXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUlkID09PSBvLmRpc3BsYXlJZCAmJlxyXG4gICAgICAgICAgICBTaXplLmVxdWFscyh0aGlzLmJvdW5kcywgby5ib3VuZHMpICYmXHJcbiAgICAgICAgICAgIHRoaXMuYml0cmF0ZSA9PT0gby5iaXRyYXRlICYmXHJcbiAgICAgICAgICAgIHRoaXMubWF4RnBzID09PSBvLm1heEZwcyAmJlxyXG4gICAgICAgICAgICB0aGlzLmlGcmFtZUludGVydmFsID09PSBvLmlGcmFtZUludGVydmFsXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBsZXQgYWRkaXRpb25hbExlbmd0aCA9IDA7XHJcbiAgICAgICAgbGV0IGNvZGVjT3B0aW9uc0J5dGVzO1xyXG4gICAgICAgIGxldCBlbmNvZGVyTmFtZUJ5dGVzO1xyXG4gICAgICAgIGlmICh0aGlzLmNvZGVjT3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb2RlY09wdGlvbnNCeXRlcyA9IFV0aWwuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5KHRoaXMuY29kZWNPcHRpb25zKTtcclxuICAgICAgICAgICAgYWRkaXRpb25hbExlbmd0aCArPSBjb2RlY09wdGlvbnNCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuY29kZXJOYW1lKSB7XHJcbiAgICAgICAgICAgIGVuY29kZXJOYW1lQnl0ZXMgPSBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheSh0aGlzLmVuY29kZXJOYW1lKTtcclxuICAgICAgICAgICAgYWRkaXRpb25hbExlbmd0aCArPSBlbmNvZGVyTmFtZUJ5dGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKFZpZGVvU2V0dGluZ3MuQkFTRV9CVUZGRVJfTEVOR1RIICsgYWRkaXRpb25hbExlbmd0aCk7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHRoaXMuYm91bmRzIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IHsgbGVmdCA9IDAsIHRvcCA9IDAsIHJpZ2h0ID0gMCwgYm90dG9tID0gMCB9ID0gdGhpcy5jcm9wIHx8IHt9O1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5iaXRyYXRlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5tYXhGcHMsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OCh0aGlzLmlGcmFtZUludGVydmFsLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDE2QkUod2lkdGgsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MTZCRShoZWlnaHQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MTZCRShsZWZ0LCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDE2QkUodG9wLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDE2QkUocmlnaHQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MTZCRShib3R0b20sIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OCh0aGlzLnNlbmRGcmFtZU1ldGEgPyAxIDogMCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQ4KHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbiwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKHRoaXMuZGlzcGxheUlkLCBvZmZzZXQpO1xyXG4gICAgICAgIGlmIChjb2RlY09wdGlvbnNCeXRlcykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKGNvZGVjT3B0aW9uc0J5dGVzLmxlbmd0aCwgb2Zmc2V0KTtcclxuICAgICAgICAgICAgYnVmZmVyLmZpbGwoY29kZWNPcHRpb25zQnl0ZXMsIG9mZnNldCk7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSBjb2RlY09wdGlvbnNCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50MzJCRSgwLCBvZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW5jb2Rlck5hbWVCeXRlcykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKGVuY29kZXJOYW1lQnl0ZXMubGVuZ3RoLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBidWZmZXIuZmlsbChlbmNvZGVyTmFtZUJ5dGVzLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gZW5jb2Rlck5hbWVCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnVmZmVyLndyaXRlSW50MzJCRSgwLCBvZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBgVmlkZW9TZXR0aW5nc3tiaXRyYXRlPSR7XHJcbiAgICAgICAgICAgIHRoaXMuYml0cmF0ZX0sIG1heEZwcz0ke1xyXG4gICAgICAgICAgICB0aGlzLm1heEZwc30sIGlGcmFtZUludGVydmFsPSR7XHJcbiAgICAgICAgICAgIHRoaXMuaUZyYW1lSW50ZXJ2YWx9LCBib3VuZHM9JHtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHN9LCBjcm9wPSR7XHJcbiAgICAgICAgICAgIHRoaXMuY3JvcH0sIG1ldGFGcmFtZT0ke1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRGcmFtZU1ldGF9LCBsb2NrZWRWaWRlb09yaWVudGF0aW9uPSR7XHJcbiAgICAgICAgICAgIHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbn0sIGRpc3BsYXlJZD0ke1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJZH0sIGNvZGVjT3B0aW9ucz0ke1xyXG4gICAgICAgICAgICB0aGlzLmNvZGVjT3B0aW9uc30sIGVuY29kZXJOYW1lPSR7XHJcbiAgICAgICAgICAgIHRoaXMuZW5jb2Rlck5hbWV9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBTZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYml0cmF0ZTogdGhpcy5iaXRyYXRlLFxyXG4gICAgICAgICAgICBtYXhGcHM6IHRoaXMubWF4RnBzLFxyXG4gICAgICAgICAgICBpRnJhbWVJbnRlcnZhbDogdGhpcy5pRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgYm91bmRzOiB0aGlzLmJvdW5kcyxcclxuICAgICAgICAgICAgY3JvcDogdGhpcy5jcm9wLFxyXG4gICAgICAgICAgICBzZW5kRnJhbWVNZXRhOiB0aGlzLnNlbmRGcmFtZU1ldGEsXHJcbiAgICAgICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246IHRoaXMubG9ja2VkVmlkZW9PcmllbnRhdGlvbixcclxuICAgICAgICAgICAgZGlzcGxheUlkOiB0aGlzLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgY29kZWNPcHRpb25zOiB0aGlzLmNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgZW5jb2Rlck5hbWU6IHRoaXMuZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uL2NsaWVudC9CYXNlRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgQXBwbERldmljZURlc2NyaXB0b3IgZnJvbSAnLi4vLi4vLi4vdHlwZXMvQXBwbERldmljZURlc2NyaXB0b3InO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9VdGlsJztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3VpL0h0bWxUYWcnO1xyXG5pbXBvcnQgeyBEZXZpY2VTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9EZXZpY2VTdGF0ZSc7XHJcbmltcG9ydCB7IEhvc3RJdGVtIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvQ29uZmlndXJhdGlvbic7XHJcbmltcG9ydCB7IENoYW5uZWxDb2RlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0NoYW5uZWxDb2RlJztcclxuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4uLy4uL2NsaWVudC9Ub29sJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VUcmFja2VyIGV4dGVuZHMgQmFzZURldmljZVRyYWNrZXI8QXBwbERldmljZURlc2NyaXB0b3IsIG5ldmVyPiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIEFDVElPTiA9IEFDVElPTi5BUFBMX0RFVklDRV9MSVNUO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyB0b29sczogU2V0PFRvb2w+ID0gbmV3IFNldCgpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzQnlVcmw6IE1hcDxzdHJpbmcsIERldmljZVRyYWNrZXI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQoaG9zdEl0ZW06IEhvc3RJdGVtKTogRGV2aWNlVHJhY2tlciB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5idWlsZFVybEZvclRyYWNrZXIoaG9zdEl0ZW0pLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXNCeVVybC5nZXQodXJsKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IERldmljZVRyYWNrZXIoaG9zdEl0ZW0sIHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKGhvc3RJdGVtOiBIb3N0SXRlbSk6IERldmljZVRyYWNrZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KGhvc3RJdGVtKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCB0YWJsZUlkID0gJ2FwcGxfZGV2aWNlc19saXN0JztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogSG9zdEl0ZW0sIGRpcmVjdFVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoeyAuLi5wYXJhbXMsIGFjdGlvbjogRGV2aWNlVHJhY2tlci5BQ1RJT04gfSwgZGlyZWN0VXJsKTtcclxuICAgICAgICBEZXZpY2VUcmFja2VyLmluc3RhbmNlc0J5VXJsLnNldChkaXJlY3RVcmwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYnVpbGREZXZpY2VUYWJsZSgpO1xyXG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRvIG5vdGhpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGJ1aWxkRGV2aWNlUm93KHRib2R5OiBFbGVtZW50LCBkZXZpY2U6IEFwcGxEZXZpY2VEZXNjcmlwdG9yKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgYmxvY2tDbGFzcyA9ICdkZXNjLWJsb2NrJztcclxuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGAke3RoaXMuaWR9XyR7VXRpbC5lc2NhcGVVZGlkKGRldmljZS51ZGlkKX1gO1xyXG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gZGV2aWNlLnN0YXRlID09PSBEZXZpY2VTdGF0ZS5DT05ORUNURUQ7XHJcbiAgICAgICAgY29uc3Qgc2VydmljZXNJZCA9IGBkZXZpY2Vfc2VydmljZXNfJHtmdWxsTmFtZX1gO1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGh0bWxgPGRpdiBjbGFzcz1cImRldmljZSAke2lzQWN0aXZlID8gJ2FjdGl2ZScgOiAnbm90LWFjdGl2ZSd9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLW5hbWVcIj5cIiR7ZGV2aWNlLm5hbWV9XCI8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtbW9kZWxcIj4ke2RldmljZS5tb2RlbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2Utc2VyaWFsXCI+JHtkZXZpY2UudWRpZH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2UtdmVyc2lvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxlYXNlLXZlcnNpb25cIj4ke2RldmljZS52ZXJzaW9ufTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLXN0YXRlXCIgdGl0bGU9XCJTdGF0ZTogJHtkZXZpY2Uuc3RhdGV9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtzZXJ2aWNlc0lkfVwiIGNsYXNzPVwic2VydmljZXNcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gLmNvbnRlbnQ7XHJcbiAgICAgICAgY29uc3Qgc2VydmljZXMgPSByb3cuZ2V0RWxlbWVudEJ5SWQoc2VydmljZXNJZCk7XHJcbiAgICAgICAgaWYgKCFzZXJ2aWNlcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBEZXZpY2VUcmFja2VyLnRvb2xzLmZvckVhY2goKHRvb2wpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0b29sLmNyZWF0ZUVudHJ5Rm9yRGV2aWNlTGlzdChkZXZpY2UsIGJsb2NrQ2xhc3MsIHRoaXMucGFyYW1zKTtcclxuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gJiYgc2VydmljZXMuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzLmFwcGVuZENoaWxkKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldENoYW5uZWxDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIENoYW5uZWxDb2RlLkFUUkM7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnRNYXAsIFR5cGVkRW1pdHRlciB9IGZyb20gJy4uLy4uL2NvbW1vbi9UeXBlZEVtaXR0ZXInO1xyXG5pbXBvcnQgeyBQYXJhbXNCYXNlIH0gZnJvbSAnLi4vLi4vdHlwZXMvUGFyYW1zQmFzZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VDbGllbnQ8UCBleHRlbmRzIFBhcmFtc0Jhc2UsIFRFIGV4dGVuZHMgRXZlbnRNYXA+IGV4dGVuZHMgVHlwZWRFbWl0dGVyPFRFPiB7XHJcbiAgICBwcm90ZWN0ZWQgdGl0bGUgPSAnQmFzZUNsaWVudCc7XHJcbiAgICBwcm90ZWN0ZWQgcGFyYW1zOiBQO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwYXJhbXM6IFApIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VQYXJhbWV0ZXJzKHF1ZXJ5OiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNCYXNlIHtcclxuICAgICAgICBjb25zdCBhY3Rpb24gPSBVdGlsLnBhcnNlU3RyaW5nRW52KHF1ZXJ5LmdldCgnYWN0aW9uJykpO1xyXG4gICAgICAgIGlmICghYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBhY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICAgIHVzZVByb3h5OiBVdGlsLnBhcnNlQm9vbGVhbkVudihxdWVyeS5nZXQoJ3VzZVByb3h5JykpLFxyXG4gICAgICAgICAgICBzZWN1cmU6IFV0aWwucGFyc2VCb29sZWFuRW52KHF1ZXJ5LmdldCgnc2VjdXJlJykpLFxyXG4gICAgICAgICAgICBob3N0bmFtZTogVXRpbC5wYXJzZVN0cmluZ0VudihxdWVyeS5nZXQoJ2hvc3RuYW1lJykpLFxyXG4gICAgICAgICAgICBwb3J0OiBVdGlsLnBhcnNlSW50RW52KHF1ZXJ5LmdldCgncG9ydCcpKSxcclxuICAgICAgICAgICAgcGF0aG5hbWU6IFV0aWwucGFyc2VTdHJpbmdFbnYocXVlcnkuZ2V0KCdwYXRobmFtZScpKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRUaXRsZSh0ZXh0ID0gdGhpcy50aXRsZSk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0aXRsZVRhZzogSFRNTFRpdGxlRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gdGl0bGUnKTtcclxuICAgICAgICBpZiAoIXRpdGxlVGFnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGl0bGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGl0bGVUYWcuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Qm9keUNsYXNzKHRleHQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gdGV4dDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNYW5hZ2VyQ2xpZW50IH0gZnJvbSAnLi9NYW5hZ2VyQ2xpZW50JztcclxuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uLy4uL3R5cGVzL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBCYXNlRGV2aWNlRGVzY3JpcHRvciB9IGZyb20gJy4uLy4uL3R5cGVzL0Jhc2VEZXZpY2VEZXNjcmlwdG9yJztcclxuaW1wb3J0IHsgRGV2aWNlVHJhY2tlckV2ZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvRGV2aWNlVHJhY2tlckV2ZW50JztcclxuaW1wb3J0IHsgRGV2aWNlVHJhY2tlckV2ZW50TGlzdCB9IGZyb20gJy4uLy4uL3R5cGVzL0RldmljZVRyYWNrZXJFdmVudExpc3QnO1xyXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnLi4vdWkvSHRtbFRhZyc7XHJcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgSG9zdEl0ZW0gfSBmcm9tICcuLi8uLi90eXBlcy9Db25maWd1cmF0aW9uJztcclxuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4vVG9vbCc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5pbXBvcnQgeyBFdmVudE1hcCB9IGZyb20gJy4uLy4uL2NvbW1vbi9UeXBlZEVtaXR0ZXInO1xyXG5cclxuY29uc3QgVEFHID0gJ1tCYXNlRGV2aWNlVHJhY2tlcl0nO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VEZXZpY2VUcmFja2VyPEREIGV4dGVuZHMgQmFzZURldmljZURlc2NyaXB0b3IsIFRFIGV4dGVuZHMgRXZlbnRNYXA+IGV4dGVuZHMgTWFuYWdlckNsaWVudDxcclxuICAgIFBhcmFtc0RldmljZVRyYWNrZXIsXHJcbiAgICBURVxyXG4+IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQUNUSU9OX0xJU1QgPSAnZGV2aWNlbGlzdCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFDVElPTl9ERVZJQ0UgPSAnZGV2aWNlJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSE9MREVSX0VMRU1FTlRfSUQgPSAnZGV2aWNlcyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEF0dHJpYnV0ZVByZWZpeEludGVyZmFjZVNlbGVjdEZvciA9ICdpbnRlcmZhY2Vfc2VsZWN0X2Zvcl8nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdHRyaWJ1dGVQbGF5ZXJGdWxsTmFtZSA9ICdkYXRhLXBsYXllci1mdWxsLW5hbWUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdHRyaWJ1dGVQbGF5ZXJDb2RlTmFtZSA9ICdkYXRhLXBsYXllci1jb2RlLW5hbWUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBdHRyaWJ1dGVQcmVmaXhQbGF5ZXJGb3IgPSAncGxheWVyX2Zvcl8nO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyB0b29sczogU2V0PFRvb2w+ID0gbmV3IFNldCgpO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBpbnN0YW5jZUlkID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyVG9vbCh0b29sOiBUb29sKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50b29scy5hZGQodG9vbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZFVybChpdGVtOiBIb3N0SXRlbSk6IFVSTCB7XHJcbiAgICAgICAgY29uc3QgeyBzZWN1cmUsIHBvcnQsIGhvc3RuYW1lIH0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnN0IHBhdGhuYW1lID0gaXRlbS5wYXRobmFtZSA/PyAnLyc7XHJcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBzZWN1cmUgPyAnd3NzOicgOiAnd3M6JztcclxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX0ke3BhdGhuYW1lfWApO1xyXG4gICAgICAgIGlmIChwb3J0KSB7XHJcbiAgICAgICAgICAgIHVybC5wb3J0ID0gcG9ydC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRVcmxGb3JUcmFja2VyKHBhcmFtczogSG9zdEl0ZW0pOiBVUkwge1xyXG4gICAgICAgIGNvbnN0IHdzVXJsID0gdGhpcy5idWlsZFVybChwYXJhbXMpO1xyXG4gICAgICAgIHdzVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsIHRoaXMuQUNUSU9OKTtcclxuICAgICAgICByZXR1cm4gd3NVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZExpbmsocTogYW55LCB0ZXh0OiBzdHJpbmcsIHBhcmFtczogUGFyYW1zRGV2aWNlVHJhY2tlcik6IEhUTUxBbmNob3JFbGVtZW50IHtcclxuICAgICAgICBsZXQgeyBob3N0bmFtZSB9ID0gcGFyYW1zO1xyXG4gICAgICAgIGxldCBwb3J0OiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQgPSBwYXJhbXMucG9ydDtcclxuICAgICAgICBsZXQgcGF0aG5hbWUgPSBwYXJhbXMucGF0aG5hbWUgPz8gbG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAgICAgbGV0IHByb3RvY29sID0gcGFyYW1zLnNlY3VyZSA/ICdodHRwczonIDogJ2h0dHA6JztcclxuICAgICAgICBpZiAocGFyYW1zLnVzZVByb3h5KSB7XHJcbiAgICAgICAgICAgIHEuaG9zdG5hbWUgPSBob3N0bmFtZTtcclxuICAgICAgICAgICAgcS5wb3J0ID0gcG9ydDtcclxuICAgICAgICAgICAgcS5wYXRobmFtZSA9IHBhdGhuYW1lO1xyXG4gICAgICAgICAgICBxLnNlY3VyZSA9IHBhcmFtcy5zZWN1cmU7XHJcbiAgICAgICAgICAgIHEudXNlUHJveHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBwcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sO1xyXG4gICAgICAgICAgICBob3N0bmFtZSA9IGxvY2F0aW9uLmhvc3RuYW1lO1xyXG4gICAgICAgICAgICBwb3J0ID0gbG9jYXRpb24ucG9ydDtcclxuICAgICAgICAgICAgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaGFzaCA9IGAjISR7bmV3IFVSTFNlYXJjaFBhcmFtcyhxKS50b1N0cmluZygpfWA7XHJcbiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX06JHtwb3J0fSR7cGF0aG5hbWV9JHtoYXNofWApO1xyXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpO1xyXG4gICAgICAgIGEuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgYS5jbGFzc0xpc3QuYWRkKGBsaW5rLSR7cS5hY3Rpb259YCk7XHJcbiAgICAgICAgYS5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB0aXRsZSA9ICdEZXZpY2UgbGlzdCc7XHJcbiAgICBwcm90ZWN0ZWQgdGFibGVJZCA9ICdiYXNlX2RldmljZV9saXN0JztcclxuICAgIHByb3RlY3RlZCBkZXNjcmlwdG9yczogRERbXSA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIGVsZW1lbnRJZDogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIHRyYWNrZXJOYW1lID0gJyc7XHJcbiAgICBwcm90ZWN0ZWQgaWQgPSAnJztcclxuICAgIHByaXZhdGUgY3JlYXRlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtZXNzYWdlSWQgPSAwO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsIHByb3RlY3RlZCByZWFkb25seSBkaXJlY3RVcmw6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50SWQgPSBgdHJhY2tlcl9pbnN0YW5jZSR7KytCYXNlRGV2aWNlVHJhY2tlci5pbnN0YW5jZUlkfWA7XHJcbiAgICAgICAgdGhpcy50cmFja2VyTmFtZSA9IGBVbmF2YWlsYWJsZS4gSG9zdDogJHtwYXJhbXMuaG9zdG5hbWV9LCB0eXBlOiAke3BhcmFtcy50eXBlfWA7XHJcbiAgICAgICAgdGhpcy5zZXRCb2R5Q2xhc3MoJ2xpc3QnKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZVBhcmFtZXRlcnMocGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMpOiBQYXJhbXNEZXZpY2VUcmFja2VyIHtcclxuICAgICAgICBjb25zdCB0eXBlZFBhcmFtcyA9IHN1cGVyLnBhcnNlUGFyYW1ldGVycyhwYXJhbXMpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3R5cGUnLCB0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSAhPT0gJ2FuZHJvaWQnICYmIHR5cGUgIT09ICdpb3MnKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbmNvcnJlY3QgdHlwZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyAuLi50eXBlZFBhcmFtcywgdHlwZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXROZXh0SWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKyt0aGlzLm1lc3NhZ2VJZDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYnVpbGREZXZpY2VUYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kZXNjcmlwdG9ycztcclxuICAgICAgICBjb25zdCBkZXZpY2VzID0gdGhpcy5nZXRPckNyZWF0ZVRhYmxlSG9sZGVyKCk7XHJcbiAgICAgICAgY29uc3QgdGJvZHkgPSB0aGlzLmdldE9yQnVpbGRUYWJsZUJvZHkoZGV2aWNlcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJsb2NrID0gdGhpcy5nZXRPckNyZWF0ZVRyYWNrZXJCbG9jayh0Ym9keSwgdGhpcy50cmFja2VyTmFtZSk7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGREZXZpY2VSb3coYmxvY2ssIGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TmFtZVZhbHVlKHBhcmVudDogRWxlbWVudCB8IG51bGwsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmFtZUJsb2NrSWQgPSBgJHt0aGlzLmVsZW1lbnRJZH1fbmFtZWA7XHJcbiAgICAgICAgbGV0IG5hbWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWVCbG9ja0lkKTtcclxuICAgICAgICBpZiAoIW5hbWVFbCkge1xyXG4gICAgICAgICAgICBuYW1lRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbmFtZUVsLmlkID0gbmFtZUJsb2NrSWQ7XHJcbiAgICAgICAgICAgIG5hbWVFbC5jbGFzc05hbWUgPSAndHJhY2tlci1uYW1lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgbmFtZUVsLmlubmVyVGV4dCA9IG5hbWU7XHJcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuYW1lRWwsIHBhcmVudC5maXJzdENoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE9yQ3JlYXRlVHJhY2tlckJsb2NrKHBhcmVudDogRWxlbWVudCwgY29udHJvbENlbnRlck5hbWU6IHN0cmluZyk6IEVsZW1lbnQge1xyXG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoIWVsKSB7XHJcbiAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGVsLmlkID0gdGhpcy5lbGVtZW50SWQ7XHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKGVsLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuY2hpbGRyZW5bMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0TmFtZVZhbHVlKGVsLCBjb250cm9sQ2VudGVyTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBidWlsZERldmljZVJvdyh0Ym9keTogRWxlbWVudCwgZGV2aWNlOiBERCk6IHZvaWQ7XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXZlbnQ6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhUQUcsIGBDb25uZWN0aW9uIGNsb3NlZDogJHtldmVudC5yZWFzb259YCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEJhc2VEZXZpY2VUcmFja2VyLkFDVElPTl9MSVNUOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG1lc3NhZ2UuZGF0YSBhcyBEZXZpY2VUcmFja2VyRXZlbnRMaXN0PEREPjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRvcnMgPSBldmVudC5saXN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZEFuZEhvc3ROYW1lKGV2ZW50LmlkLCBldmVudC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGREZXZpY2VUYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBCYXNlRGV2aWNlVHJhY2tlci5BQ1RJT05fREVWSUNFOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IG1lc3NhZ2UuZGF0YSBhcyBEZXZpY2VUcmFja2VyRXZlbnQ8REQ+O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZEFuZEhvc3ROYW1lKGV2ZW50LmlkLCBldmVudC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGVzY3JpcHRvcihldmVudC5kZXZpY2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERldmljZVRhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7bWVzc2FnZS50eXBlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc2V0SWRBbmRIb3N0TmFtZShpZDogc3RyaW5nLCB0cmFja2VyTmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaWQgPT09IGlkICYmIHRoaXMudHJhY2tlck5hbWUgPT09IHRyYWNrZXJOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMudHJhY2tlck5hbWUgPSB0cmFja2VyTmFtZTtcclxuICAgICAgICB0aGlzLnNldE5hbWVWYWx1ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVsZW1lbnRJZCksIHRyYWNrZXJOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0T3JDcmVhdGVUYWJsZUhvbGRlcigpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBCYXNlRGV2aWNlVHJhY2tlci5IT0xERVJfRUxFTUVOVF9JRDtcclxuICAgICAgICBsZXQgZGV2aWNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICBpZiAoIWRldmljZXMpIHtcclxuICAgICAgICAgICAgZGV2aWNlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBkZXZpY2VzLmlkID0gaWQ7XHJcbiAgICAgICAgICAgIGRldmljZXMuY2xhc3NOYW1lID0gJ3RhYmxlLXdyYXBwZXInO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRldmljZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGV2aWNlcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdXBkYXRlRGVzY3JpcHRvcihkZXNjcmlwdG9yOiBERCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZGVzY3JpcHRvcnMuZmluZEluZGV4KChpdGVtOiBERCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS51ZGlkID09PSBkZXNjcmlwdG9yLnVkaWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdG9yc1tpZHhdID0gZGVzY3JpcHRvcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0b3JzLnB1c2goZGVzY3JpcHRvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRPckJ1aWxkVGFibGVCb2R5KHBhcmVudDogSFRNTEVsZW1lbnQpOiBFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSAnZGV2aWNlLWxpc3QnO1xyXG4gICAgICAgIGxldCB0Ym9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgIGAjJHtCYXNlRGV2aWNlVHJhY2tlci5IT0xERVJfRUxFTUVOVF9JRH0gIyR7dGhpcy50YWJsZUlkfS4ke2NsYXNzTmFtZX1gLFxyXG4gICAgICAgICkgYXMgRWxlbWVudDtcclxuICAgICAgICBpZiAoIXRib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaHRtbGA8ZGl2IGlkPVwiJHt0aGlzLnRhYmxlSWR9XCIgY2xhc3M9XCIke2NsYXNzTmFtZX1cIj48L2Rpdj5gLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBwYXJlbnQuY2hpbGRyZW4uaXRlbShwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0Ym9keSA9IGxhc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRib2R5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXNjcmlwdG9yQnlVZGlkKHVkaWQ6IHN0cmluZyk6IEREIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGVzY3JpcHRvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcnMuZmluZCgoZGVzY3JpcHRvcjogREQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IudWRpZCA9PT0gdWRpZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWxlbWVudElkKTtcclxuICAgICAgICAgICAgaWYgKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhcmVudEVsZW1lbnQgfSA9IGVsO1xyXG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50RWxlbWVudCAmJiAhcGFyZW50RWxlbWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEJhc2VEZXZpY2VUcmFja2VyLkhPTERFUl9FTEVNRU5UX0lEKTtcclxuICAgICAgICBpZiAoaG9sZGVyICYmICFob2xkZXIuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGhvbGRlci5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN1cHBvcnRNdWx0aXBsZXhpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldENoYW5uZWxDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gTXVzdCBvdmVycmlkZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsSW5pdERhdGEoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBjb2RlID0gdGhpcy5nZXRDaGFubmVsQ29kZSgpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhjb2RlLmxlbmd0aCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlKGNvZGUsICdhc2NpaScpO1xyXG4gICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTWFuYWdlckNsaWVudCB9IGZyb20gJy4vTWFuYWdlckNsaWVudCc7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuLi8uLi90eXBlcy9NZXNzYWdlJztcclxuaW1wb3J0IHsgTWVzc2FnZUVycm9yLCBNZXNzYWdlSG9zdHMsIE1lc3NhZ2VUeXBlIH0gZnJvbSAnLi4vLi4vY29tbW9uL0hvc3RUcmFja2VyTWVzc2FnZSc7XHJcbmltcG9ydCB7IEFDVElPTiB9IGZyb20gJy4uLy4uL2NvbW1vbi9BY3Rpb24nO1xyXG5pbXBvcnQgeyBEZXZpY2VUcmFja2VyIGFzIEdvb2dEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi4vZ29vZ0RldmljZS9jbGllbnQvRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCB7IERldmljZVRyYWNrZXIgYXMgQXBwbERldmljZVRyYWNrZXIgfSBmcm9tICcuLi9hcHBsRGV2aWNlL2NsaWVudC9EZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgUGFyYW1zQmFzZSB9IGZyb20gJy4uLy4uL3R5cGVzL1BhcmFtc0Jhc2UnO1xyXG5pbXBvcnQgeyBIb3N0SXRlbSB9IGZyb20gJy4uLy4uL3R5cGVzL0NvbmZpZ3VyYXRpb24nO1xyXG5pbXBvcnQgeyBDaGFubmVsQ29kZSB9IGZyb20gJy4uLy4uL2NvbW1vbi9DaGFubmVsQ29kZSc7XHJcblxyXG5jb25zdCBUQUcgPSAnW0hvc3RUcmFja2VyXSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhvc3RUcmFja2VyRXZlbnRzIHtcclxuICAgIC8vIGhvc3RzOiBIb3N0SXRlbVtdO1xyXG4gICAgZGlzY29ubmVjdGVkOiBDbG9zZUV2ZW50O1xyXG4gICAgZXJyb3I6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhvc3RUcmFja2VyIGV4dGVuZHMgTWFuYWdlckNsaWVudDxQYXJhbXNCYXNlLCBIb3N0VHJhY2tlckV2ZW50cz4ge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U/OiBIb3N0VHJhY2tlcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2V0SW5zdGFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEhvc3RUcmFja2VyIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBIb3N0VHJhY2tlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRyYWNrZXJzOiBBcnJheTxHb29nRGV2aWNlVHJhY2tlciB8IEFwcGxEZXZpY2VUcmFja2VyPiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHsgYWN0aW9uOiBBQ1RJT04uTElTVF9IT1NUUyB9KTtcclxuICAgICAgICB0aGlzLm9wZW5OZXdDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgaWYgKHRoaXMud3MpIHtcclxuICAgICAgICAgICAgdGhpcy53cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXY6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhUQUcsICdXUyBjbG9zZWQnKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcsIGV2KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTogTWVzc2FnZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiByZXdyaXRlIHRvIGJpbmFyeVxyXG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkVSUk9SOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBtZXNzYWdlIGFzIE1lc3NhZ2VFcnJvcjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBtc2cuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5IT1NUUzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gbWVzc2FnZSBhcyBNZXNzYWdlSG9zdHM7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmVtaXQoJ2hvc3RzJywgbXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1zZy5kYXRhLmxvY2FsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnLmRhdGEubG9jYWwuZm9yRWFjaCgoeyB0eXBlIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdXJlID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3J0ID0gbG9jYXRpb24ucG9ydCA/IHBhcnNlSW50KGxvY2F0aW9uLnBvcnQsIDEwKSA6IHNlY3VyZSA/IDQ0MyA6IDgwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGhvc3RuYW1lLCBwYXRobmFtZSB9ID0gbG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlICE9PSAnYW5kcm9pZCcgJiYgdHlwZSAhPT0gJ2lvcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcsIGBVbnN1cHBvcnRlZCBob3N0IHR5cGU6IFwiJHt0eXBlfVwiYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdEl0ZW06IEhvc3RJdGVtID0geyB1c2VQcm94eTogZmFsc2UsIHNlY3VyZSwgcG9ydCwgaG9zdG5hbWUsIHBhdGhuYW1lLCB0eXBlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUcmFja2VyKGhvc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtc2cuZGF0YS5yZW1vdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtc2cuZGF0YS5yZW1vdGUuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5zdGFydFRyYWNrZXIoaXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgYFVua25vd24gbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydFRyYWNrZXIoaG9zdEl0ZW06IEhvc3RJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgc3dpdGNoIChob3N0SXRlbS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FuZHJvaWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja2Vycy5wdXNoKEdvb2dEZXZpY2VUcmFja2VyLnN0YXJ0KGhvc3RJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaW9zJzpcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlcnMucHVzaChBcHBsRGV2aWNlVHJhY2tlci5zdGFydChob3N0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHLCBgVW5zdXBwb3J0ZWQgaG9zdCB0eXBlOiBcIiR7aG9zdEl0ZW0udHlwZX1cImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRvIG5vdGhpbmdcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy50cmFja2Vycy5mb3JFYWNoKCh0cmFja2VyKSA9PiB7XHJcbiAgICAgICAgICAgIHRyYWNrZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudHJhY2tlcnMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3VwcG9ydE11bHRpcGxleGluZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2hhbm5lbEluaXREYXRhKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKDQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZShDaGFubmVsQ29kZS5IU1RTLCAnYXNjaWknKTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICcuL0Jhc2VDbGllbnQnO1xyXG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi9jb21tb24vQWN0aW9uJztcclxuaW1wb3J0IHsgUGFyYW1zQmFzZSB9IGZyb20gJy4uLy4uL3R5cGVzL1BhcmFtc0Jhc2UnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuaW1wb3J0IHsgTXVsdGlwbGV4ZXIgfSBmcm9tICcuLi8uLi9wYWNrYWdlcy9tdWx0aXBsZXhlci9NdWx0aXBsZXhlcic7XHJcbmltcG9ydCB7IEV2ZW50TWFwIH0gZnJvbSAnLi4vLi4vY29tbW9uL1R5cGVkRW1pdHRlcic7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTWFuYWdlckNsaWVudDxQIGV4dGVuZHMgUGFyYW1zQmFzZSwgVEUgZXh0ZW5kcyBFdmVudE1hcD4gZXh0ZW5kcyBCYXNlQ2xpZW50PFAsIFRFPiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIEFDVElPTiA9ICd1bmtub3duJztcclxuICAgIHB1YmxpYyBzdGF0aWMgQ09ERSA9ICdOT05FJztcclxuICAgIHB1YmxpYyBzdGF0aWMgc29ja2V0czogTWFwPHN0cmluZywgTXVsdGlwbGV4ZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJvdGVjdGVkIGRlc3Ryb3llZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQoLi4uX3Jlc3Q6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBhY3Rpb24/OiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgdXJsOiBVUkw7XHJcbiAgICBwcm90ZWN0ZWQgd3M/OiBNdWx0aXBsZXhlciB8IFdlYlNvY2tldDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocGFyYW1zOiBQKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW1zKTtcclxuICAgICAgICB0aGlzLmFjdGlvbiA9IFV0aWwucGFyc2VTdHJpbmdFbnYocGFyYW1zLmFjdGlvbik7XHJcbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLmJ1aWxkV2ViU29ja2V0VXJsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhc0Nvbm5lY3Rpb24oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICEhKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvcGVuTmV3Q29ubmVjdGlvbigpOiBNdWx0aXBsZXhlciB8IFdlYlNvY2tldCB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy53cztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy51cmwudG9TdHJpbmcoKTtcclxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0TXVsdGlwbGV4aW5nKCkpIHtcclxuICAgICAgICAgICAgbGV0IG9wZW5lZE11bHRpcGxleGVyID0gTWFuYWdlckNsaWVudC5zb2NrZXRzLmdldCh1cmwpO1xyXG4gICAgICAgICAgICBpZiAoIW9wZW5lZE11bHRpcGxleGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodXJsKTtcclxuICAgICAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIE1hbmFnZXJDbGllbnQuc29ja2V0cy5kZWxldGUodXJsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TXVsdGlwbGV4ZXIgPSBNdWx0aXBsZXhlci53cmFwKHdzKTtcclxuICAgICAgICAgICAgICAgIG5ld011bHRpcGxleGVyLm9uKCdlbXB0eScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdNdWx0aXBsZXhlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBNYW5hZ2VyQ2xpZW50LnNvY2tldHMuc2V0KHVybCwgbmV3TXVsdGlwbGV4ZXIpO1xyXG4gICAgICAgICAgICAgICAgb3BlbmVkTXVsdGlwbGV4ZXIgPSBuZXdNdWx0aXBsZXhlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB3cyA9IG9wZW5lZE11bHRpcGxleGVyLmNyZWF0ZUNoYW5uZWwodGhpcy5nZXRDaGFubmVsSW5pdERhdGEoKSk7XHJcbiAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCB0aGlzLm9uU29ja2V0T3Blbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25Tb2NrZXRNZXNzYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMub25Tb2NrZXRDbG9zZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy53cyA9IHdzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmwpO1xyXG4gICAgICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgdGhpcy5vblNvY2tldE9wZW4uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uU29ja2V0TWVzc2FnZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLm9uU29ja2V0Q2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMud3MgPSB3cztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IEVycm9yKCdBbHJlYWR5IGRpc3Bvc2VkJykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy53cykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYnVpbGRXZWJTb2NrZXRVcmwoKTogVVJMIHtcclxuICAgICAgICBjb25zdCBkaXJlY3RVcmwgPSB0aGlzLmJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnVzZVByb3h5ICYmICF0aGlzLnN1cHBvcnRNdWx0aXBsZXhpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwSW5Qcm94eShkaXJlY3RVcmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlyZWN0VXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBidWlsZERpcmVjdFdlYlNvY2tldFVybCgpOiBVUkwge1xyXG4gICAgICAgIGNvbnN0IHsgaG9zdG5hbWUsIHBvcnQsIHNlY3VyZSwgYWN0aW9uIH0gPSB0aGlzLnBhcmFtcztcclxuICAgICAgICBjb25zdCBwYXRobmFtZSA9IHRoaXMucGFyYW1zLnBhdGhuYW1lID8/IGxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgIGxldCB1cmxTdHJpbmc6IHN0cmluZztcclxuICAgICAgICBpZiAodHlwZW9mIGhvc3RuYW1lID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcG9ydCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBzZWN1cmUgPyAnd3NzOicgOiAnd3M6JztcclxuICAgICAgICAgICAgdXJsU3RyaW5nID0gYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfToke3BvcnR9JHtwYXRobmFtZX1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczonIDogJ3dzOic7XHJcblxyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbi5ob3N0IGluY2x1ZGVzIGhvc3RuYW1lIGFuZCBwb3J0XHJcbiAgICAgICAgICAgIHVybFN0cmluZyA9IGAke3Byb3RvY29sfSR7bG9jYXRpb24uaG9zdH0ke3BhdGhuYW1lfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpcmVjdFVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcclxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0TXVsdGlwbGV4aW5nKCkpIHtcclxuICAgICAgICAgICAgZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsIEFDVElPTi5NVUxUSVBMRVgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdFVybC5zZWFyY2hQYXJhbXMuc2V0KCdhY3Rpb24nLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaXJlY3RVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHdyYXBJblByb3h5KGRpcmVjdFVybDogVVJMKTogVVJMIHtcclxuICAgICAgICBjb25zdCBsb2NhbFByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczonIDogJ3dzOic7XHJcbiAgICAgICAgY29uc3QgbG9jYWxVcmwgPSBuZXcgVVJMKGAke2xvY2FsUHJvdG9jb2x9Ly8ke2xvY2F0aW9uLmhvc3R9YCk7XHJcbiAgICAgICAgbG9jYWxVcmwuc2VhcmNoUGFyYW1zLnNldCgnYWN0aW9uJywgQUNUSU9OLlBST1hZX1dTKTtcclxuICAgICAgICBsb2NhbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd3cycsIGRpcmVjdFVybC50b1N0cmluZygpKTtcclxuICAgICAgICByZXR1cm4gbG9jYWxVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN1cHBvcnRNdWx0aXBsZXhpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsSW5pdERhdGEoKTogQnVmZmVyIHtcclxuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oTWFuYWdlckNsaWVudC5DT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25Tb2NrZXRPcGVuKGV2ZW50OiBFdmVudCk6IHZvaWQ7XHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25Tb2NrZXRNZXNzYWdlKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkO1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9uU29ja2V0Q2xvc2UoZXZlbnQ6IENsb3NlRXZlbnQpOiB2b2lkO1xyXG59XHJcbiIsImltcG9ydCB7IE1hbmFnZXJDbGllbnQgfSBmcm9tICcuL01hbmFnZXJDbGllbnQnO1xyXG5pbXBvcnQgeyBDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uL2NvbnRyb2xNZXNzYWdlL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IERldmljZU1lc3NhZ2UgZnJvbSAnLi4vZ29vZ0RldmljZS9EZXZpY2VNZXNzYWdlJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBTY3JlZW5JbmZvIGZyb20gJy4uL1NjcmVlbkluZm8nO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9VdGlsJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi9EaXNwbGF5SW5mbyc7XHJcbmltcG9ydCB7IFBhcmFtc1N0cmVhbSB9IGZyb20gJy4uLy4uL3R5cGVzL1BhcmFtc1N0cmVhbSc7XHJcblxyXG5jb25zdCBERVZJQ0VfTkFNRV9GSUVMRF9MRU5HVEggPSA2NDtcclxuY29uc3QgTUFHSUNfQllURVNfSU5JVElBTCA9IFV0aWwuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5KCdzY3JjcHlfaW5pdGlhbCcpO1xyXG5cclxuZXhwb3J0IHR5cGUgQ2xpZW50c1N0YXRzID0ge1xyXG4gICAgZGV2aWNlTmFtZTogc3RyaW5nO1xyXG4gICAgY2xpZW50SWQ6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIERpc3BsYXlDb21iaW5lZEluZm8gPSB7XHJcbiAgICBkaXNwbGF5SW5mbzogRGlzcGxheUluZm87XHJcbiAgICB2aWRlb1NldHRpbmdzPzogVmlkZW9TZXR0aW5ncztcclxuICAgIHNjcmVlbkluZm8/OiBTY3JlZW5JbmZvO1xyXG4gICAgY29ubmVjdGlvbkNvdW50OiBudW1iZXI7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgU3RyZWFtUmVjZWl2ZXJFdmVudHMge1xyXG4gICAgdmlkZW86IEFycmF5QnVmZmVyO1xyXG4gICAgZGV2aWNlTWVzc2FnZTogRGV2aWNlTWVzc2FnZTtcclxuICAgIGRpc3BsYXlJbmZvOiBEaXNwbGF5Q29tYmluZWRJbmZvW107XHJcbiAgICBjbGllbnRzU3RhdHM6IENsaWVudHNTdGF0cztcclxuICAgIGVuY29kZXJzOiBzdHJpbmdbXTtcclxuICAgIGNvbm5lY3RlZDogdm9pZDtcclxuICAgIGRpc2Nvbm5lY3RlZDogQ2xvc2VFdmVudDtcclxufVxyXG5cclxuY29uc3QgVEFHID0gJ1tTdHJlYW1SZWNlaXZlcl0nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0cmVhbVJlY2VpdmVyPFAgZXh0ZW5kcyBQYXJhbXNTdHJlYW0+IGV4dGVuZHMgTWFuYWdlckNsaWVudDxQYXJhbXNTdHJlYW0sIFN0cmVhbVJlY2VpdmVyRXZlbnRzPiB7XHJcbiAgICBwcml2YXRlIGV2ZW50czogQ29udHJvbE1lc3NhZ2VbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBlbmNvZGVyc1NldDogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgIHByaXZhdGUgY2xpZW50SWQgPSAtMTtcclxuICAgIHByaXZhdGUgZGV2aWNlTmFtZSA9ICcnO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBkaXNwbGF5SW5mb01hcDogTWFwPG51bWJlciwgRGlzcGxheUluZm8+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aW9uQ291bnRNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNjcmVlbkluZm9NYXA6IE1hcDxudW1iZXIsIFNjcmVlbkluZm8+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSB2aWRlb1NldHRpbmdzTWFwOiBNYXA8bnVtYmVyLCBWaWRlb1NldHRpbmdzPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgaGFzSW5pdGlhbEluZm8gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IFApIHtcclxuICAgICAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICBpZiAodGhpcy53cykge1xyXG4gICAgICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUluaXRpYWxJbmZvKGRhdGE6IEFycmF5QnVmZmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IE1BR0lDX0JZVEVTX0lOSVRJQUwubGVuZ3RoO1xyXG4gICAgICAgIGxldCBuYW1lQnl0ZXMgPSBuZXcgVWludDhBcnJheShkYXRhLCBvZmZzZXQsIERFVklDRV9OQU1FX0ZJRUxEX0xFTkdUSCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IERFVklDRV9OQU1FX0ZJRUxEX0xFTkdUSDtcclxuICAgICAgICBsZXQgcmVzdDogQnVmZmVyID0gQnVmZmVyLmZyb20obmV3IFVpbnQ4QXJyYXkoZGF0YSwgb2Zmc2V0KSk7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheXNDb3VudCA9IHJlc3QucmVhZEludDMyQkUoMCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SW5mb01hcC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50TWFwLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5JbmZvTWFwLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy52aWRlb1NldHRpbmdzTWFwLmNsZWFyKCk7XHJcbiAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoNCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXNwbGF5c0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzcGxheUluZm9CdWZmZXIgPSByZXN0LnNsaWNlKDAsIERpc3BsYXlJbmZvLkJVRkZFUl9MRU5HVEgpO1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5SW5mbyA9IERpc3BsYXlJbmZvLmZyb21CdWZmZXIoZGlzcGxheUluZm9CdWZmZXIpO1xyXG4gICAgICAgICAgICBjb25zdCB7IGRpc3BsYXlJZCB9ID0gZGlzcGxheUluZm87XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUluZm9NYXAuc2V0KGRpc3BsYXlJZCwgZGlzcGxheUluZm8pO1xyXG4gICAgICAgICAgICByZXN0ID0gcmVzdC5zbGljZShEaXNwbGF5SW5mby5CVUZGRVJfTEVOR1RIKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnRNYXAuc2V0KGRpc3BsYXlJZCwgcmVzdC5yZWFkSW50MzJCRSgwKSk7XHJcbiAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKDQpO1xyXG4gICAgICAgICAgICBjb25zdCBzY3JlZW5JbmZvQnl0ZXNDb3VudCA9IHJlc3QucmVhZEludDMyQkUoMCk7XHJcbiAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKDQpO1xyXG4gICAgICAgICAgICBpZiAoc2NyZWVuSW5mb0J5dGVzQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NyZWVuSW5mb01hcC5zZXQoZGlzcGxheUlkLCBTY3JlZW5JbmZvLmZyb21CdWZmZXIocmVzdC5zbGljZSgwLCBzY3JlZW5JbmZvQnl0ZXNDb3VudCkpKTtcclxuICAgICAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKHNjcmVlbkluZm9CeXRlc0NvdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB2aWRlb1NldHRpbmdzQnl0ZXNDb3VudCA9IHJlc3QucmVhZEludDMyQkUoMCk7XHJcbiAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKDQpO1xyXG4gICAgICAgICAgICBpZiAodmlkZW9TZXR0aW5nc0J5dGVzQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9TZXR0aW5nc01hcC5zZXQoZGlzcGxheUlkLCBWaWRlb1NldHRpbmdzLmZyb21CdWZmZXIocmVzdC5zbGljZSgwLCB2aWRlb1NldHRpbmdzQnl0ZXNDb3VudCkpKTtcclxuICAgICAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKHZpZGVvU2V0dGluZ3NCeXRlc0NvdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVuY29kZXJzU2V0LmNsZWFyKCk7XHJcbiAgICAgICAgY29uc3QgZW5jb2RlcnNDb3VudCA9IHJlc3QucmVhZEludDMyQkUoMCk7XHJcbiAgICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoNCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVyc0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZUxlbmd0aCA9IHJlc3QucmVhZEludDMyQkUoMCk7XHJcbiAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKDQpO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lQnl0ZXMgPSByZXN0LnNsaWNlKDAsIG5hbWVMZW5ndGgpO1xyXG4gICAgICAgICAgICByZXN0ID0gcmVzdC5zbGljZShuYW1lTGVuZ3RoKTtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKG5hbWVCeXRlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5jb2RlcnNTZXQuYWRkKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsaWVudElkID0gcmVzdC5yZWFkSW50MzJCRSgwKTtcclxuICAgICAgICBuYW1lQnl0ZXMgPSBVdGlsLmZpbHRlclRyYWlsaW5nWmVyb2VzKG5hbWVCeXRlcyk7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VOYW1lID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcobmFtZUJ5dGVzKTtcclxuICAgICAgICB0aGlzLmhhc0luaXRpYWxJbmZvID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJJbml0aWFsSW5mb0V2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIEVxdWFsQXJyYXlzKGE6IEFycmF5TGlrZTxudW1iZXI+LCBiOiBBcnJheUxpa2U8bnVtYmVyPik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk6IFVSTCB7XHJcbiAgICAgICAgY29uc3QgbG9jYWxVcmwgPSBzdXBlci5idWlsZERpcmVjdFdlYlNvY2tldFVybCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRNdWx0aXBsZXhpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvY2FsVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3VkaWQnLCB0aGlzLnBhcmFtcy51ZGlkKTtcclxuICAgICAgICByZXR1cm4gbG9jYWxVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXY6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtUQUd9LiBXUyBjbG9zZWQ6ICR7ZXYucmVhc29ufWApO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdGVkJywgZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldE1lc3NhZ2UoZXZlbnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcclxuICAgICAgICAgICAgLy8gd29ya3Mgb25seSBiZWNhdXNlIE1BR0lDX0JZVEVTX0lOSVRJQUwgYW5kIE1BR0lDX0JZVEVTX01FU1NBR0UgaGF2ZSBzYW1lIGxlbmd0aFxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5ieXRlTGVuZ3RoID4gTUFHSUNfQllURVNfSU5JVElBTC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hZ2ljQnl0ZXMgPSBuZXcgVWludDhBcnJheShldmVudC5kYXRhLCAwLCBNQUdJQ19CWVRFU19JTklUSUFMLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoU3RyZWFtUmVjZWl2ZXIuRXF1YWxBcnJheXMobWFnaWNCeXRlcywgTUFHSUNfQllURVNfSU5JVElBTCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxJbmZvKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChTdHJlYW1SZWNlaXZlci5FcXVhbEFycmF5cyhtYWdpY0J5dGVzLCBEZXZpY2VNZXNzYWdlLk1BR0lDX0JZVEVTX01FU1NBR0UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IERldmljZU1lc3NhZ2UuZnJvbUJ1ZmZlcihldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2RldmljZU1lc3NhZ2UnLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndmlkZW8nLCBuZXcgVWludDhBcnJheShldmVudC5kYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldE9wZW4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0ZWQnLCB2b2lkIDApO1xyXG4gICAgICAgIGxldCBlID0gdGhpcy5ldmVudHMuc2hpZnQoKTtcclxuICAgICAgICB3aGlsZSAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudChlKTtcclxuICAgICAgICAgICAgZSA9IHRoaXMuZXZlbnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kRXZlbnQoZXZlbnQ6IENvbnRyb2xNZXNzYWdlKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKGV2ZW50LnRvQnVmZmVyKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IHRoaXMud3MuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVuY29kZXJzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVuY29kZXJzU2V0LnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRldmljZU5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyaWdnZXJJbml0aWFsSW5mb0V2ZW50cygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNJbml0aWFsSW5mbykge1xyXG4gICAgICAgICAgICBjb25zdCBlbmNvZGVycyA9IHRoaXMuZ2V0RW5jb2RlcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdlbmNvZGVycycsIGVuY29kZXJzKTtcclxuICAgICAgICAgICAgY29uc3QgeyBjbGllbnRJZCwgZGV2aWNlTmFtZSB9ID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdjbGllbnRzU3RhdHMnLCB7IGNsaWVudElkLCBkZXZpY2VOYW1lIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBpbmZvQXJyYXk6IERpc3BsYXlDb21iaW5lZEluZm9bXSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvTWFwLmZvckVhY2goKGRpc3BsYXlJbmZvOiBEaXNwbGF5SW5mbywgZGlzcGxheUlkOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25Db3VudCA9IHRoaXMuY29ubmVjdGlvbkNvdW50TWFwLmdldChkaXNwbGF5SWQpIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBpbmZvQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUluZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9TZXR0aW5nczogdGhpcy52aWRlb1NldHRpbmdzTWFwLmdldChkaXNwbGF5SWQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkluZm86IHRoaXMuc2NyZWVuSW5mb01hcC5nZXQoZGlzcGxheUlkKSxcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uQ291bnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZGlzcGxheUluZm8nLCBpbmZvQXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGlzcGxheUluZm8oZGlzcGxheUlkOiBudW1iZXIpOiBEaXNwbGF5SW5mbyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUluZm9NYXAuZ2V0KGRpc3BsYXlJZCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5cclxuZXhwb3J0IGVudW0gRmlsZVB1c2hTdGF0ZSB7XHJcbiAgICBORVcsXHJcbiAgICBTVEFSVCxcclxuICAgIEFQUEVORCxcclxuICAgIEZJTklTSCxcclxuICAgIENBTkNFTCxcclxufVxyXG5cclxudHlwZSBGaWxlUHVzaFBhcmFtcyA9IHtcclxuICAgIGlkOiBudW1iZXI7XHJcbiAgICBzdGF0ZTogRmlsZVB1c2hTdGF0ZTtcclxuICAgIGNodW5rPzogVWludDhBcnJheTtcclxuICAgIGZpbGVOYW1lPzogc3RyaW5nO1xyXG4gICAgZmlsZVNpemU/OiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tbWFuZENvbnRyb2xNZXNzYWdlIGV4dGVuZHMgQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyBQQVlMT0FEX0xFTkdUSCA9IDA7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBDb21tYW5kczogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoW1xyXG4gICAgICAgIFtDb250cm9sTWVzc2FnZS5UWVBFX0VYUEFORF9OT1RJRklDQVRJT05fUEFORUwsICdFeHBhbmRpciBub3RpZmljYWNpb25lcyddLFxyXG4gICAgICAgIFtDb250cm9sTWVzc2FnZS5UWVBFX0VYUEFORF9TRVRUSU5HU19QQU5FTCwgJ0V4cGFuZGlyIGNvbmZpZ3VyYWNpb25lcyddLFxyXG4gICAgICAgIFtDb250cm9sTWVzc2FnZS5UWVBFX0NPTExBUFNFX1BBTkVMUywgJ0NvbnRyYWVyIHBhbmVsZXMnXSxcclxuICAgICAgICBbQ29udHJvbE1lc3NhZ2UuVFlQRV9HRVRfQ0xJUEJPQVJELCAnT2J0ZW5lciBwb3J0YXBhcGVsZXMnXSxcclxuICAgICAgICBbQ29udHJvbE1lc3NhZ2UuVFlQRV9TRVRfQ0xJUEJPQVJELCAnUGVnYXIgcG9ydGFwYXBlbGVzJ10sXHJcbiAgICAgICAgW0NvbnRyb2xNZXNzYWdlLlRZUEVfUk9UQVRFX0RFVklDRSwgJ0dpcmFyIGRpc3Bvc2l0aXZvJ10sXHJcbiAgICAgICAgW0NvbnRyb2xNZXNzYWdlLlRZUEVfQ0hBTkdFX1NUUkVBTV9QQVJBTUVURVJTLCAnQ2FtYmlhciBjb25maWd1cmFjacOzbih2aWRlbyknXSxcclxuICAgIF0pO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2V0VmlkZW9TZXR0aW5nc0NvbW1hbmQodmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyk6IENvbW1hbmRDb250cm9sTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgdGVtcCA9IHZpZGVvU2V0dGluZ3MudG9CdWZmZXIoKTtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDb21tYW5kQ29udHJvbE1lc3NhZ2UoQ29udHJvbE1lc3NhZ2UuVFlQRV9DSEFOR0VfU1RSRUFNX1BBUkFNRVRFUlMpO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IENvbW1hbmRDb250cm9sTWVzc2FnZS5QQVlMT0FEX0xFTkdUSCArIDE7XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKG9mZnNldCArIHRlbXAubGVuZ3RoKTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50OChldmVudC50eXBlLCAwKTtcclxuICAgICAgICB0ZW1wLmZvckVhY2goKGJ5dGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGJ5dGUsIGluZGV4ICsgb2Zmc2V0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBldmVudC5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2V0Q2xpcGJvYXJkQ29tbWFuZCh0ZXh0OiBzdHJpbmcsIHBhc3RlID0gZmFsc2UpOiBDb21tYW5kQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IENvbW1hbmRDb250cm9sTWVzc2FnZShDb250cm9sTWVzc2FnZS5UWVBFX1NFVF9DTElQQk9BUkQpO1xyXG4gICAgICAgIGNvbnN0IHRleHRCeXRlczogVWludDhBcnJheSB8IG51bGwgPSB0ZXh0ID8gVXRpbC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXkodGV4dCkgOiBudWxsO1xyXG4gICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Qnl0ZXMgPyB0ZXh0Qnl0ZXMubGVuZ3RoIDogMDtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoMSArIDEgKyA0ICsgdGV4dExlbmd0aCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OChldmVudC50eXBlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDgocGFzdGUgPyAxIDogMCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKHRleHRMZW5ndGgsIG9mZnNldCk7XHJcbiAgICAgICAgaWYgKHRleHRCeXRlcykge1xyXG4gICAgICAgICAgICB0ZXh0Qnl0ZXMuZm9yRWFjaCgoYnl0ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIud3JpdGVVSW50OChieXRlLCBpbmRleCArIG9mZnNldCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudC5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2V0U2NyZWVuUG93ZXJNb2RlQ29tbWFuZChtb2RlOiBib29sZWFuKTogQ29tbWFuZENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDb21tYW5kQ29udHJvbE1lc3NhZ2UoQ29udHJvbE1lc3NhZ2UuVFlQRV9TRVRfU0NSRUVOX1BPV0VSX01PREUpO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygxICsgMSk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlSW50OChldmVudC50eXBlLCBvZmZzZXQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KG1vZGUgPyAxIDogMCwgb2Zmc2V0KTtcclxuICAgICAgICBldmVudC5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlUHVzaEZpbGVDb21tYW5kKHBhcmFtczogRmlsZVB1c2hQYXJhbXMpOiBDb21tYW5kQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgICAgIGNvbnN0IHsgaWQsIGZpbGVOYW1lLCBmaWxlU2l6ZSwgY2h1bmssIHN0YXRlIH0gPSBwYXJhbXM7XHJcblxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gRmlsZVB1c2hTdGF0ZS5TVEFSVCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVQdXNoRmlsZVN0YXJ0Q29tbWFuZChpZCwgZmlsZU5hbWUgYXMgc3RyaW5nLCBmaWxlU2l6ZSBhcyBudW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhdGUgPT09IEZpbGVQdXNoU3RhdGUuQVBQRU5EKSB7XHJcbiAgICAgICAgICAgIGlmICghY2h1bmspIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCB0eXBlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUHVzaEZpbGVDaHVua0NvbW1hbmQoaWQsIGNodW5rKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBGaWxlUHVzaFN0YXRlLkNBTkNFTCB8fCBzdGF0ZSA9PT0gRmlsZVB1c2hTdGF0ZS5GSU5JU0ggfHwgc3RhdGUgPT09IEZpbGVQdXNoU3RhdGUuTkVXKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVB1c2hGaWxlT3RoZXJDb21tYW5kKGlkLCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIHN0YXRlOiBcIiR7c3RhdGV9XCJgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjcmVhdGVQdXNoRmlsZVN0YXJ0Q29tbWFuZChpZDogbnVtYmVyLCBmaWxlTmFtZTogc3RyaW5nLCBmaWxlU2l6ZTogbnVtYmVyKTogQ29tbWFuZENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDb21tYW5kQ29udHJvbE1lc3NhZ2UoQ29udHJvbE1lc3NhZ2UuVFlQRV9QVVNIX0ZJTEUpO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheShmaWxlTmFtZSk7XHJcbiAgICAgICAgY29uc3QgdHlwZUZpZWxkID0gMTtcclxuICAgICAgICBjb25zdCBpZEZpZWxkID0gMjtcclxuICAgICAgICBjb25zdCBzdGF0ZUZpZWxkID0gMTtcclxuICAgICAgICBjb25zdCBzaXplRmllbGQgPSA0O1xyXG4gICAgICAgIGNvbnN0IHRleHRMZW5ndGhGaWVsZCA9IDI7XHJcbiAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEg7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhcclxuICAgICAgICAgICAgb2Zmc2V0ICsgdHlwZUZpZWxkICsgaWRGaWVsZCArIHN0YXRlRmllbGQgKyBzaXplRmllbGQgKyB0ZXh0TGVuZ3RoRmllbGQgKyB0ZXh0TGVuZ3RoLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDgoZXZlbnQudHlwZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gdHlwZUZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZUludDE2QkUoaWQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IGlkRmllbGQ7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlSW50OChGaWxlUHVzaFN0YXRlLlNUQVJULCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSBzdGF0ZUZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQzMkJFKGZpbGVTaXplLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSBzaXplRmllbGQ7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDE2QkUodGV4dExlbmd0aCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gdGV4dExlbmd0aEZpZWxkO1xyXG4gICAgICAgIHRleHQuZm9yRWFjaCgoYnl0ZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDgoYnl0ZSwgaW5kZXggKyBvZmZzZXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV2ZW50LmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlUHVzaEZpbGVDaHVua0NvbW1hbmQoaWQ6IG51bWJlciwgY2h1bms6IFVpbnQ4QXJyYXkpOiBDb21tYW5kQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IENvbW1hbmRDb250cm9sTWVzc2FnZShDb250cm9sTWVzc2FnZS5UWVBFX1BVU0hfRklMRSk7XHJcbiAgICAgICAgY29uc3QgdHlwZUZpZWxkID0gMTtcclxuICAgICAgICBjb25zdCBpZEZpZWxkID0gMjtcclxuICAgICAgICBjb25zdCBzdGF0ZUZpZWxkID0gMTtcclxuICAgICAgICBjb25zdCBjaHVua0xlbmd0aEZpZWxkID0gNDtcclxuICAgICAgICBjb25zdCBjaHVua0xlbmd0aCA9IGNodW5rLmJ5dGVMZW5ndGg7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IENvbW1hbmRDb250cm9sTWVzc2FnZS5QQVlMT0FEX0xFTkdUSDtcclxuXHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKG9mZnNldCArIHR5cGVGaWVsZCArIGlkRmllbGQgKyBzdGF0ZUZpZWxkICsgY2h1bmtMZW5ndGhGaWVsZCArIGNodW5rTGVuZ3RoKTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50OChldmVudC50eXBlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSB0eXBlRmllbGQ7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlSW50MTZCRShpZCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gaWRGaWVsZDtcclxuICAgICAgICBidWZmZXIud3JpdGVJbnQ4KEZpbGVQdXNoU3RhdGUuQVBQRU5ELCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSBzdGF0ZUZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQzMkJFKGNodW5rTGVuZ3RoLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSBjaHVua0xlbmd0aEZpZWxkO1xyXG4gICAgICAgIEFycmF5LmZyb20oY2h1bmspLmZvckVhY2goKGJ5dGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGJ5dGUsIGluZGV4ICsgb2Zmc2V0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBldmVudC5idWZmZXIgPSBidWZmZXI7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGNyZWF0ZVB1c2hGaWxlT3RoZXJDb21tYW5kKGlkOiBudW1iZXIsIHN0YXRlOiBGaWxlUHVzaFN0YXRlKTogQ29tbWFuZENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDb21tYW5kQ29udHJvbE1lc3NhZ2UoQ29udHJvbE1lc3NhZ2UuVFlQRV9QVVNIX0ZJTEUpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVGaWVsZCA9IDE7XHJcbiAgICAgICAgY29uc3QgaWRGaWVsZCA9IDI7XHJcbiAgICAgICAgY29uc3Qgc3RhdGVGaWVsZCA9IDE7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IENvbW1hbmRDb250cm9sTWVzc2FnZS5QQVlMT0FEX0xFTkdUSDtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2Mob2Zmc2V0ICsgdHlwZUZpZWxkICsgaWRGaWVsZCArIHN0YXRlRmllbGQpO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGV2ZW50LnR5cGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IHR5cGVGaWVsZDtcclxuICAgICAgICBidWZmZXIud3JpdGVJbnQxNkJFKGlkLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSBpZEZpZWxkO1xyXG4gICAgICAgIGJ1ZmZlci53cml0ZUludDgoc3RhdGUsIG9mZnNldCk7XHJcbiAgICAgICAgZXZlbnQuYnVmZmVyID0gYnVmZmVyO1xyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHB1c2hGaWxlQ29tbWFuZEZyb21CdWZmZXIoYnVmZmVyOiBCdWZmZXIpOiB7XHJcbiAgICAgICAgaWQ6IG51bWJlcjtcclxuICAgICAgICBzdGF0ZTogRmlsZVB1c2hTdGF0ZTtcclxuICAgICAgICBjaHVuaz86IEJ1ZmZlcjtcclxuICAgICAgICBmaWxlU2l6ZT86IG51bWJlcjtcclxuICAgICAgICBmaWxlTmFtZT86IHN0cmluZztcclxuICAgIH0ge1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBidWZmZXIucmVhZFVJbnQ4KG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDE7XHJcbiAgICAgICAgaWYgKHR5cGUgIT09IENvbW1hbmRDb250cm9sTWVzc2FnZS5UWVBFX1BVU0hfRklMRSkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYEluY29ycmVjdCB0eXBlOiBcIiR7dHlwZX1cImApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZCA9IGJ1ZmZlci5yZWFkSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gYnVmZmVyLnJlYWRJbnQ4KG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ICs9IDE7XHJcbiAgICAgICAgbGV0IGNodW5rOiBCdWZmZXIgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IGZpbGVTaXplOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IGZpbGVOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBGaWxlUHVzaFN0YXRlLkFQUEVORCkge1xyXG4gICAgICAgICAgICBjb25zdCBjaHVua0xlbmd0aCA9IGJ1ZmZlci5yZWFkVUludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIGNodW5rID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY2h1bmtMZW5ndGgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IEZpbGVQdXNoU3RhdGUuU1RBUlQpIHtcclxuICAgICAgICAgICAgZmlsZVNpemUgPSBidWZmZXIucmVhZFVJbnQzMkJFKG9mZnNldCk7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gYnVmZmVyLnJlYWRVSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcclxuICAgICAgICAgICAgZmlsZU5hbWUgPSBVdGlsLnV0ZjhCeXRlQXJyYXlUb1N0cmluZyhidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyB0ZXh0TGVuZ3RoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGlkLCBzdGF0ZSwgY2h1bmssIGZpbGVOYW1lLCBmaWxlU2l6ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVmZmVyPzogQnVmZmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0b0J1ZmZlcigpOiBCdWZmZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jKENvbW1hbmRDb250cm9sTWVzc2FnZS5QQVlMT0FEX0xFTkdUSCArIDEpO1xyXG4gICAgICAgICAgICBidWZmZXIud3JpdGVVSW50OCh0aGlzLnR5cGUsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVyID8gYCwgYnVmZmVyPVske3RoaXMuYnVmZmVyLmpvaW4oJywnKX1dYCA6ICcnO1xyXG4gICAgICAgIHJldHVybiBgQ29tbWFuZENvbnRyb2xNZXNzYWdle2FjdGlvbj0ke3RoaXMudHlwZX0ke2J1ZmZlcn19YDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgIHR5cGU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xNZXNzYWdlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9LRVlDT0RFID0gMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9URVhUID0gMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9UT1VDSCA9IDI7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfU0NST0xMID0gMztcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9CQUNLX09SX1NDUkVFTl9PTiA9IDQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfRVhQQU5EX05PVElGSUNBVElPTl9QQU5FTCA9IDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfRVhQQU5EX1NFVFRJTkdTX1BBTkVMID0gNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9DT0xMQVBTRV9QQU5FTFMgPSA3O1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX0dFVF9DTElQQk9BUkQgPSA4O1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX1NFVF9DTElQQk9BUkQgPSA5O1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX1NFVF9TQ1JFRU5fUE9XRVJfTU9ERSA9IDEwO1xyXG4gICAgcHVibGljIHN0YXRpYyBUWVBFX1JPVEFURV9ERVZJQ0UgPSAxMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9DSEFOR0VfU1RSRUFNX1BBUkFNRVRFUlMgPSAxMDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfUFVTSF9GSUxFID0gMTAyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHR5cGU6IG51bWJlcikge31cclxuXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICB0aHJvdyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdDb250cm9sTWVzc2FnZSc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcclxuaW1wb3J0IHsgQ29udHJvbE1lc3NhZ2UsIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIH0gZnJvbSAnLi9Db250cm9sTWVzc2FnZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEtleUNvZGVDb250cm9sTWVzc2FnZUludGVyZmFjZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgIGFjdGlvbjogbnVtYmVyO1xyXG4gICAga2V5Y29kZTogbnVtYmVyO1xyXG4gICAgcmVwZWF0OiBudW1iZXI7XHJcbiAgICBtZXRhU3RhdGU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEtleUNvZGVDb250cm9sTWVzc2FnZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgUEFZTE9BRF9MRU5HVEggPSAxMztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICByZWFkb25seSBhY3Rpb246IG51bWJlcixcclxuICAgICAgICByZWFkb25seSBrZXljb2RlOiBudW1iZXIsXHJcbiAgICAgICAgcmVhZG9ubHkgcmVwZWF0OiBudW1iZXIsXHJcbiAgICAgICAgcmVhZG9ubHkgbWV0YVN0YXRlOiBudW1iZXIsXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcihDb250cm9sTWVzc2FnZS5UWVBFX0tFWUNPREUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0b0J1ZmZlcigpOiBCdWZmZXIge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhLZXlDb2RlQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEggKyAxKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQ4KHRoaXMudHlwZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQ4KHRoaXMuYWN0aW9uLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5rZXljb2RlLCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZUludDMyQkUodGhpcy5yZXBlYXQsIG9mZnNldCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlSW50MzJCRSh0aGlzLm1ldGFTdGF0ZSwgb2Zmc2V0KTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgS2V5Q29kZUNvbnRyb2xNZXNzYWdle2FjdGlvbj0ke3RoaXMuYWN0aW9ufSwga2V5Y29kZT0ke3RoaXMua2V5Y29kZX0sIG1ldGFTdGF0ZT0ke3RoaXMubWV0YVN0YXRlfX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0pTT04oKTogS2V5Q29kZUNvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgIGtleWNvZGU6IHRoaXMua2V5Y29kZSxcclxuICAgICAgICAgICAgbWV0YVN0YXRlOiB0aGlzLm1ldGFTdGF0ZSxcclxuICAgICAgICAgICAgcmVwZWF0OiB0aGlzLnJlcGVhdCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbnRyb2xNZXNzYWdlLCBDb250cm9sTWVzc2FnZUludGVyZmFjZSB9IGZyb20gJy4vQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgUG9zaXRpb24sIHsgUG9zaXRpb25JbnRlcmZhY2UgfSBmcm9tICcuLi9Qb3NpdGlvbic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjcm9sbENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIGV4dGVuZHMgQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2Uge1xyXG4gICAgcG9zaXRpb246IFBvc2l0aW9uSW50ZXJmYWNlO1xyXG4gICAgaFNjcm9sbDogbnVtYmVyO1xyXG4gICAgdlNjcm9sbDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2Nyb2xsQ29udHJvbE1lc3NhZ2UgZXh0ZW5kcyBDb250cm9sTWVzc2FnZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIFBBWUxPQURfTEVOR1RIID0gMjA7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgcG9zaXRpb246IFBvc2l0aW9uLCByZWFkb25seSBoU2Nyb2xsOiBudW1iZXIsIHJlYWRvbmx5IHZTY3JvbGw6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKENvbnRyb2xNZXNzYWdlLlRZUEVfU0NST0xMKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoU2Nyb2xsQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEggKyAxKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50OCh0aGlzLnR5cGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDMyQkUodGhpcy5wb3NpdGlvbi5wb2ludC54LCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQzMkJFKHRoaXMucG9zaXRpb24ucG9pbnQueSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50MTZCRSh0aGlzLnBvc2l0aW9uLnNjcmVlblNpemUud2lkdGgsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDE2QkUodGhpcy5wb3NpdGlvbi5zY3JlZW5TaXplLmhlaWdodCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVJbnQzMkJFKHRoaXMuaFNjcm9sbCwgb2Zmc2V0KTtcclxuICAgICAgICBidWZmZXIud3JpdGVJbnQzMkJFKHRoaXMudlNjcm9sbCwgb2Zmc2V0KTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgU2Nyb2xsQ29udHJvbE1lc3NhZ2V7aFNjcm9sbD0ke3RoaXMuaFNjcm9sbH0sIHZTY3JvbGw9JHt0aGlzLnZTY3JvbGx9LCBwb3NpdGlvbj0ke3RoaXMucG9zaXRpb259fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBTY3JvbGxDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbi50b0pTT04oKSxcclxuICAgICAgICAgICAgaFNjcm9sbDogdGhpcy5oU2Nyb2xsLFxyXG4gICAgICAgICAgICB2U2Nyb2xsOiB0aGlzLnZTY3JvbGwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xyXG5pbXBvcnQgeyBDb250cm9sTWVzc2FnZSwgQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2UgfSBmcm9tICcuL0NvbnRyb2xNZXNzYWdlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGV4dENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIGV4dGVuZHMgQ29udHJvbE1lc3NhZ2VJbnRlcmZhY2Uge1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dENvbnRyb2xNZXNzYWdlIGV4dGVuZHMgQ29udHJvbE1lc3NhZ2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgVEVYVF9TSVpFX0ZJRUxEX0xFTkdUSCA9IDQ7XHJcbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihDb250cm9sTWVzc2FnZS5UWVBFX1RFWFQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9CdWZmZXIoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnRleHQubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhsZW5ndGggKyAxICsgVGV4dENvbnRyb2xNZXNzYWdlLlRFWFRfU0laRV9GSUVMRF9MRU5HVEgpO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQ4KHRoaXMudHlwZSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50MzJCRShsZW5ndGgsIG9mZnNldCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlKHRoaXMudGV4dCwgb2Zmc2V0KTtcclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgVGV4dENvbnRyb2xNZXNzYWdle3RleHQ9JHt0aGlzLnRleHR9fWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSlNPTigpOiBUZXh0Q29udHJvbE1lc3NhZ2VJbnRlcmZhY2Uge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29udHJvbE1lc3NhZ2UsIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIH0gZnJvbSAnLi9Db250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCBQb3NpdGlvbiwgeyBQb3NpdGlvbkludGVyZmFjZSB9IGZyb20gJy4uL1Bvc2l0aW9uJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG91Y2hDb250cm9sTWVzc2FnZUludGVyZmFjZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlSW50ZXJmYWNlIHtcclxuICAgIHR5cGU6IG51bWJlcjtcclxuICAgIGFjdGlvbjogbnVtYmVyO1xyXG4gICAgcG9pbnRlcklkOiBudW1iZXI7XHJcbiAgICBwb3NpdGlvbjogUG9zaXRpb25JbnRlcmZhY2U7XHJcbiAgICBwcmVzc3VyZTogbnVtYmVyO1xyXG4gICAgYnV0dG9uczogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVG91Y2hDb250cm9sTWVzc2FnZSBleHRlbmRzIENvbnRyb2xNZXNzYWdlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgUEFZTE9BRF9MRU5HVEggPSAyODtcclxuICAgIC8qKlxyXG4gICAgICogLSBGb3IgYSB0b3VjaCBzY3JlZW4gb3IgdG91Y2ggcGFkLCByZXBvcnRzIHRoZSBhcHByb3hpbWF0ZSBwcmVzc3VyZVxyXG4gICAgICogYXBwbGllZCB0byB0aGUgc3VyZmFjZSBieSBhIGZpbmdlciBvciBvdGhlciB0b29sLiAgVGhlIHZhbHVlIGlzXHJcbiAgICAgKiBub3JtYWxpemVkIHRvIGEgcmFuZ2UgZnJvbSAwIChubyBwcmVzc3VyZSBhdCBhbGwpIHRvIDEgKG5vcm1hbCBwcmVzc3VyZSksXHJcbiAgICAgKiBhbHRob3VnaCB2YWx1ZXMgaGlnaGVyIHRoYW4gMSBtYXkgYmUgZ2VuZXJhdGVkIGRlcGVuZGluZyBvbiB0aGVcclxuICAgICAqIGNhbGlicmF0aW9uIG9mIHRoZSBpbnB1dCBkZXZpY2UuXHJcbiAgICAgKiAtIEZvciBhIHRyYWNrYmFsbCwgdGhlIHZhbHVlIGlzIHNldCB0byAxIGlmIHRoZSB0cmFja2JhbGwgYnV0dG9uIGlzIHByZXNzZWRcclxuICAgICAqIG9yIDAgb3RoZXJ3aXNlLlxyXG4gICAgICogLSBGb3IgYSBtb3VzZSwgdGhlIHZhbHVlIGlzIHNldCB0byAxIGlmIHRoZSBwcmltYXJ5IG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkXHJcbiAgICAgKiBvciAwIG90aGVyd2lzZS5cclxuICAgICAqXHJcbiAgICAgKiAtIHNjcmNweSBzZXJ2ZXIgZXhwZWN0cyBzaWduZWQgc2hvcnQgKDIgYnl0ZXMpIGZvciBhIHByZXNzdXJlIHZhbHVlXHJcbiAgICAgKiAtIGluIGJyb3dzZXIgVG91Y2hFdmVudCBoYXMgYGZvcmNlYCBwcm9wZXJ0eSAodmFsdWVzIGluIDAuLjEgcmFuZ2UpLCB3ZVxyXG4gICAgICogdXNlIGl0IGFzIFwicHJlc3N1cmVcIiBmb3Igc2NyY3B5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUFYX1BSRVNTVVJFX1ZBTFVFID0gMHhmZmZmO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHJlYWRvbmx5IGFjdGlvbjogbnVtYmVyLFxyXG4gICAgICAgIHJlYWRvbmx5IHBvaW50ZXJJZDogbnVtYmVyLFxyXG4gICAgICAgIHJlYWRvbmx5IHBvc2l0aW9uOiBQb3NpdGlvbixcclxuICAgICAgICByZWFkb25seSBwcmVzc3VyZTogbnVtYmVyLFxyXG4gICAgICAgIHJlYWRvbmx5IGJ1dHRvbnM6IG51bWJlcixcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKENvbnRyb2xNZXNzYWdlLlRZUEVfVE9VQ0gpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0b0J1ZmZlcigpOiBCdWZmZXIge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlcjogQnVmZmVyID0gQnVmZmVyLmFsbG9jKFRvdWNoQ29udHJvbE1lc3NhZ2UuUEFZTE9BRF9MRU5HVEggKyAxKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50OCh0aGlzLnR5cGUsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDgodGhpcy5hY3Rpb24sIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDMyQkUoMCwgb2Zmc2V0KTsgLy8gcG9pbnRlcklkIGlzIGBsb25nYCAoOCBieXRlcykgb24gamF2YSBzaWRlXHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDMyQkUodGhpcy5wb2ludGVySWQsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDMyQkUodGhpcy5wb3NpdGlvbi5wb2ludC54LCBvZmZzZXQpO1xyXG4gICAgICAgIG9mZnNldCA9IGJ1ZmZlci53cml0ZVVJbnQzMkJFKHRoaXMucG9zaXRpb24ucG9pbnQueSwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50MTZCRSh0aGlzLnBvc2l0aW9uLnNjcmVlblNpemUud2lkdGgsIG9mZnNldCk7XHJcbiAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLndyaXRlVUludDE2QkUodGhpcy5wb3NpdGlvbi5zY3JlZW5TaXplLmhlaWdodCwgb2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgPSBidWZmZXIud3JpdGVVSW50MTZCRSh0aGlzLnByZXNzdXJlICogVG91Y2hDb250cm9sTWVzc2FnZS5NQVhfUFJFU1NVUkVfVkFMVUUsIG9mZnNldCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDMyQkUodGhpcy5idXR0b25zLCBvZmZzZXQpO1xyXG4gICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGBUb3VjaENvbnRyb2xNZXNzYWdle2FjdGlvbj0ke3RoaXMuYWN0aW9ufSwgcG9pbnRlcklkPSR7dGhpcy5wb2ludGVySWR9LCBwb3NpdGlvbj0ke3RoaXMucG9zaXRpb259LCBwcmVzc3VyZT0ke3RoaXMucHJlc3N1cmV9LCBidXR0b25zPSR7dGhpcy5idXR0b25zfX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0pTT04oKTogVG91Y2hDb250cm9sTWVzc2FnZUludGVyZmFjZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxyXG4gICAgICAgICAgICBwb2ludGVySWQ6IHRoaXMucG9pbnRlcklkLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbi50b0pTT04oKSxcclxuICAgICAgICAgICAgcHJlc3N1cmU6IHRoaXMucHJlc3N1cmUsXHJcbiAgICAgICAgICAgIGJ1dHRvbnM6IHRoaXMuYnV0dG9ucyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV2aWNlTWVzc2FnZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIFRZUEVfQ0xJUEJPQVJEID0gMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9QVVNIX1JFU1BPTlNFID0gMTAxO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUFHSUNfQllURVNfTUVTU0FHRSA9IFV0aWwuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5KCdzY3JjcHlfbWVzc2FnZScpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0eXBlOiBudW1iZXIsIHByb3RlY3RlZCByZWFkb25seSBidWZmZXI6IEJ1ZmZlcikge31cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21CdWZmZXIoZGF0YTogQXJyYXlCdWZmZXIpOiBEZXZpY2VNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCBtYWdpY1NpemUgPSB0aGlzLk1BR0lDX0JZVEVTX01FU1NBR0UubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGRhdGEsIG1hZ2ljU2l6ZSwgZGF0YS5ieXRlTGVuZ3RoIC0gbWFnaWNTaXplKTtcclxuICAgICAgICBjb25zdCB0eXBlID0gYnVmZmVyLnJlYWRVSW50OCgwKTtcclxuICAgICAgICByZXR1cm4gbmV3IERldmljZU1lc3NhZ2UodHlwZSwgYnVmZmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09IERldmljZU1lc3NhZ2UuVFlQRV9DTElQQk9BUkQpIHtcclxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKGBXcm9uZyBtZXNzYWdlIHR5cGU6ICR7dGhpcy50eXBlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFbXB0eSBidWZmZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDE7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5idWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcclxuICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICBjb25zdCB0ZXh0Qnl0ZXMgPSB0aGlzLmJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKHRleHRCeXRlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFB1c2hTdGF0cygpOiB7IGlkOiBudW1iZXI7IGNvZGU6IG51bWJlciB9IHtcclxuICAgICAgICBpZiAodGhpcy50eXBlICE9PSBEZXZpY2VNZXNzYWdlLlRZUEVfUFVTSF9SRVNQT05TRSkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYFdyb25nIG1lc3NhZ2UgdHlwZTogJHt0aGlzLnR5cGV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0VtcHR5IGJ1ZmZlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuYnVmZmVyLnJlYWRJbnQxNkJFKDEpO1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSB0aGlzLmJ1ZmZlci5yZWFkSW50OCgzKTtcclxuICAgICAgICByZXR1cm4geyBpZCwgY29kZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBkZXNjOiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gRGV2aWNlTWVzc2FnZS5UWVBFX0NMSVBCT0FSRCAmJiB0aGlzLmJ1ZmZlcikge1xyXG4gICAgICAgICAgICBkZXNjID0gYCwgdGV4dD1bJHt0aGlzLmdldFRleHQoKX1dYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZXNjID0gdGhpcy5idWZmZXIgPyBgLCBidWZmZXI9WyR7dGhpcy5idWZmZXIuam9pbignLCcpfV1gIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgRGV2aWNlTWVzc2FnZXt0eXBlPSR7dGhpcy50eXBlfSR7ZGVzY319YDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIERyYWdFdmVudExpc3RlbmVyIHtcclxuICAgIG9uRHJhZ0VudGVyOiAoKSA9PiBib29sZWFuO1xyXG4gICAgb25EcmFnTGVhdmU6ICgpID0+IGJvb2xlYW47XHJcbiAgICBvbkZpbGVzRHJvcDogKGZpbGVzOiBGaWxlW10pID0+IGJvb2xlYW47XHJcbiAgICBnZXRFbGVtZW50OiAoKSA9PiBIVE1MRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERyYWdBbmREcm9wSGFuZGxlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBsaXN0ZW5lcnM6IFNldDxEcmFnRXZlbnRMaXN0ZW5lcj4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcm9wSGFuZGxlciA9IChldjogRHJhZ0V2ZW50KTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgaWYgKCFldi5kYXRhVHJhbnNmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmlsZXM6IEZpbGVbXSA9IFtdO1xyXG4gICAgICAgIGlmIChldi5kYXRhVHJhbnNmZXIuaXRlbXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldi5kYXRhVHJhbnNmZXIuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChldi5kYXRhVHJhbnNmZXIuaXRlbXNbaV0ua2luZCA9PT0gJ2ZpbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGV2LmRhdGFUcmFuc2Zlci5pdGVtc1tpXS5nZXRBc0ZpbGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMucHVzaChmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZmlsZXMucHVzaChldi5kYXRhVHJhbnNmZXIuZmlsZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBoYW5kbGVkID0gZmFsc2U7XHJcbiAgICAgICAgRHJhZ0FuZERyb3BIYW5kbGVyLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbGlzdGVuZXIuZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gZXYuY3VycmVudFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IGhhbmRsZWQgfHwgbGlzdGVuZXIub25GaWxlc0Ryb3AoZmlsZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcmFnT3ZlckhhbmRsZXIgPSAoZXY6IERyYWdFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZHJhZ0xlYXZlSGFuZGxlciA9IChldjogRHJhZ0V2ZW50KTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcclxuICAgICAgICBEcmFnQW5kRHJvcEhhbmRsZXIubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBsaXN0ZW5lci5nZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBldi5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gaGFuZGxlZCB8fCBsaXN0ZW5lci5vbkRyYWdMZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkcmFnRW50ZXJIYW5kbGVyID0gKGV2OiBEcmFnRXZlbnQpOiBib29sZWFuID0+IHtcclxuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIERyYWdBbmREcm9wSGFuZGxlci5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGxpc3RlbmVyLmdldEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGV2LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSBoYW5kbGVkIHx8IGxpc3RlbmVyLm9uRHJhZ0VudGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaGFuZGxlZCkge1xyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIGF0dGFjaExpc3RlbmVycyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmRyYWdPdmVySGFuZGxlcik7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmRyYWdMZWF2ZUhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpcy5kcmFnRW50ZXJIYW5kbGVyKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGRldGFjaExpc3RlbmVycyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmRyYWdPdmVySGFuZGxlcik7XHJcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmRyYWdMZWF2ZUhhbmRsZXIpO1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpcy5kcmFnRW50ZXJIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXI6IERyYWdFdmVudExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzLmhhcyhsaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF0dGFjaExpc3RlbmVycyhsaXN0ZW5lci5nZXRFbGVtZW50KCkpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXI6IERyYWdFdmVudExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmVycy5oYXMobGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZXRhY2hMaXN0ZW5lcnMobGlzdGVuZXIuZ2V0RWxlbWVudCgpKTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBGaWxlUHVzaEhhbmRsZXIsIHsgRHJhZ0FuZFB1c2hMaXN0ZW5lciwgUHVzaFVwZGF0ZVBhcmFtcyB9IGZyb20gJy4vZmlsZVB1c2gvRmlsZVB1c2hIYW5kbGVyJztcclxuXHJcbmNvbnN0IFRBRyA9ICdbRHJhZ0FuZFB1c2hMb2dnZXJdJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdBbmRQdXNoTG9nZ2VyIGltcGxlbWVudHMgRHJhZ0FuZFB1c2hMaXN0ZW5lciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBYOiBudW1iZXIgPSAyMDtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFk6IG51bWJlciA9IDQwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSEVJR0hUID0gMTI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBMT0dfQkFDS0dST1VORDogc3RyaW5nID0gJ3JnYmEoMCwwLDAsIDAuNSknO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgREVCVUdfQ09MT1I6IHN0cmluZyA9ICdoc2woMTM2LCA4NSUsNTAlKSc7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBFUlJPUl9DT0xPUjogc3RyaW5nID0gJ2hzbCgzMzYsODUlLDUwJSknO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgdGltZW91dE1hcDogTWFwPG51bWJlciwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgZGlydHlNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHB1c2hMaW5lTWFwOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBsaW5lUHVzaE1hcDogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgZGlydHlMaW5lczogYm9vbGVhbltdID0gW107XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZWxlbWVudCBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhbkRpcnR5TGluZSA9IChsaW5lOiBudW1iZXIpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBYLCBZLCBIRUlHSFQgfSA9IERyYWdBbmRQdXNoTG9nZ2VyO1xyXG4gICAgICAgIGNvbnN0IHggPSBYO1xyXG4gICAgICAgIGNvbnN0IHkgPSBZICsgSEVJR0hUICogbGluZSAqIDI7XHJcbiAgICAgICAgY29uc3QgZGlydHkgPSB0aGlzLmRpcnR5TWFwLmdldChsaW5lKTtcclxuICAgICAgICBpZiAoZGlydHkpIHtcclxuICAgICAgICAgICAgY29uc3QgcCA9IERyYWdBbmRQdXNoTG9nZ2VyLkhFSUdIVCAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSBwICogMjtcclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KHggLSBwLCB5IC0gSEVJR0hUIC0gcCwgZGlydHkgKyBkLCBIRUlHSFQgKyBkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXJ0eUxpbmVzW2xpbmVdID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBsb2dUZXh0KHRleHQ6IHN0cmluZywgbGluZTogbnVtYmVyLCBzY2hlZHVsZUNsZWFudXAgPSBmYWxzZSwgZXJyb3IgPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jdHgpIHtcclxuICAgICAgICAgICAgZXJyb3IgPyBjb25zb2xlLmVycm9yKFRBRywgdGV4dCkgOiBjb25zb2xlLmxvZyhUQUcsIHRleHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRywgdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xlYW5EaXJ0eUxpbmUobGluZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgWCwgWSwgSEVJR0hUIH0gPSBEcmFnQW5kUHVzaExvZ2dlcjtcclxuICAgICAgICBjb25zdCB4ID0gWDtcclxuICAgICAgICBjb25zdCB5ID0gWSArIEhFSUdIVCAqIGxpbmUgKiAyO1xyXG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICB0aGlzLmN0eC5mb250ID0gYCR7SEVJR0hUfXB4IG1vbm9zcGFjZWA7XHJcbiAgICAgICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCkgKyBNYXRoLmFicyh0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0KTtcclxuICAgICAgICB0aGlzLmRpcnR5TWFwLnNldChsaW5lLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gRHJhZ0FuZFB1c2hMb2dnZXIuTE9HX0JBQ0tHUk9VTkQ7XHJcbiAgICAgICAgY29uc3QgcCA9IERyYWdBbmRQdXNoTG9nZ2VyLkhFSUdIVCAvIDIgLSAxO1xyXG4gICAgICAgIGNvbnN0IGQgPSBwICogMjtcclxuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh4IC0gcCwgeSAtIEhFSUdIVCAtIHAsIHdpZHRoICsgZCwgSEVJR0hUICsgZCk7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZXJyb3IgPyBEcmFnQW5kUHVzaExvZ2dlci5FUlJPUl9DT0xPUiA6IERyYWdBbmRQdXNoTG9nZ2VyLkRFQlVHX0NPTE9SO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xyXG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICBpZiAoc2NoZWR1bGVDbGVhbnVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHlMaW5lc1tsaW5lXSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCB0aW1lb3V0ID0gdGhpcy50aW1lb3V0TWFwLmdldChsaW5lKTtcclxuICAgICAgICAgICAgaWYgKHRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbkRpcnR5TGluZShsaW5lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMubGluZVB1c2hNYXAuZ2V0KGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUHVzaE1hcC5kZWxldGUobGluZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTGluZU1hcC5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dE1hcC5zZXQobGluZSwgdGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRyYWdFbnRlcigpOiBib29sZWFuIHtcclxuICAgICAgICB0aGlzLmxvZ1RleHQoJ0Ryb3AgQVBLIGZpbGVzIGhlcmUnLCAxKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EcmFnTGVhdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhpcy5jbGVhbkRpcnR5TGluZSgxKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Ecm9wKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRoaXMuY2xlYW5EaXJ0eUxpbmUoMSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRXJyb3IoZXJyb3I6IEVycm9yIHwgc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyBlcnJvciA6IGVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5sb2dUZXh0KHRleHQsIDEsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRmlsZVB1c2hVcGRhdGUoZGF0YTogUHVzaFVwZGF0ZVBhcmFtcyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHsgcHVzaElkLCBtZXNzYWdlLCBmaWxlTmFtZSwgZXJyb3IgfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7cHVzaElkfS8ke2ZpbGVOYW1lfWA7XHJcbiAgICAgICAgY29uc3QgZmlyc3RLZXkgPSBgJHtGaWxlUHVzaEhhbmRsZXIuUkVRVUVTVF9ORVdfUFVTSF9JRH0vJHtmaWxlTmFtZX1gO1xyXG4gICAgICAgIGxldCBsaW5lOiBudW1iZXIgfCB1bmRlZmluZWQgPSB0aGlzLnB1c2hMaW5lTWFwLmdldChrZXkpO1xyXG4gICAgICAgIGxldCB1cGRhdGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodHlwZW9mIGxpbmUgPT09ICd1bmRlZmluZWQnICYmIGtleSAhPT0gZmlyc3RLZXkpIHtcclxuICAgICAgICAgICAgbGluZSA9IHRoaXMucHVzaExpbmVNYXAuZ2V0KGZpcnN0S2V5KTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsaW5lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoTGluZU1hcC5kZWxldGUoZmlyc3RLZXkpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGxpbmUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGxpbmUgPSAyO1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5kaXJ0eUxpbmVzW2xpbmVdKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVwZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2hMaW5lTWFwLnNldChrZXksIGxpbmUpO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVQdXNoTWFwLnNldChsaW5lLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ1RleHQoYFVwbG9hZCBcIiR7ZmlsZU5hbWV9XCI6ICR7bWVzc2FnZX1gLCBsaW5lLCB0cnVlLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3RhdHMgfSBmcm9tICcuL1N0YXRzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRyeSBleHRlbmRzIFN0YXRzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBtdGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZSwgc2l6ZSwgbXRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgS2V5Q29kZUNvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vY29udHJvbE1lc3NhZ2UvS2V5Q29kZUNvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IEtleUV2ZW50IGZyb20gJy4vYW5kcm9pZC9LZXlFdmVudCc7XHJcbmltcG9ydCB7IEtleVRvQ29kZU1hcCB9IGZyb20gJy4vS2V5VG9Db2RlTWFwJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgS2V5RXZlbnRMaXN0ZW5lciB7XHJcbiAgICBvbktleUV2ZW50OiAoZXZlbnQ6IEtleUNvZGVDb250cm9sTWVzc2FnZSkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEtleUlucHV0SGFuZGxlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZXBlYXRDb3VudGVyOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgbGlzdGVuZXJzOiBTZXQ8S2V5RXZlbnRMaXN0ZW5lcj4gPSBuZXcgU2V0KCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBoYW5kbGVyID0gKGV2ZW50OiBFdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleWJvYXJkRXZlbnQgPSBldmVudCBhcyBLZXlib2FyZEV2ZW50O1xyXG4gICAgICAgIGNvbnN0IGtleUNvZGUgPSBLZXlUb0NvZGVNYXAuZ2V0KGtleWJvYXJkRXZlbnQuY29kZSk7XHJcbiAgICAgICAgaWYgKCFrZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFjdGlvbjogdHlwZW9mIEtleUV2ZW50LkFDVElPTl9ET1dOIHwgdHlwZW9mIEtleUV2ZW50LkFDVElPTl9ET1dOO1xyXG4gICAgICAgIGxldCByZXBlYXRDb3VudCA9IDA7XHJcbiAgICAgICAgaWYgKGtleWJvYXJkRXZlbnQudHlwZSA9PT0gJ2tleWRvd24nKSB7XHJcbiAgICAgICAgICAgIGFjdGlvbiA9IEtleUV2ZW50LkFDVElPTl9ET1dOO1xyXG4gICAgICAgICAgICBpZiAoa2V5Ym9hcmRFdmVudC5yZXBlYXQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IEtleUlucHV0SGFuZGxlci5yZXBlYXRDb3VudGVyLmdldChrZXlDb2RlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY291bnQgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVwZWF0Q291bnQgPSBjb3VudDtcclxuICAgICAgICAgICAgICAgIEtleUlucHV0SGFuZGxlci5yZXBlYXRDb3VudGVyLnNldChrZXlDb2RlLCBjb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGtleWJvYXJkRXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xyXG4gICAgICAgICAgICBhY3Rpb24gPSBLZXlFdmVudC5BQ1RJT05fVVA7XHJcbiAgICAgICAgICAgIEtleUlucHV0SGFuZGxlci5yZXBlYXRDb3VudGVyLmRlbGV0ZShrZXlDb2RlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1ldGFTdGF0ZSA9XHJcbiAgICAgICAgICAgIChrZXlib2FyZEV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0FsdCcpID8gS2V5RXZlbnQuTUVUQV9BTFRfT04gOiAwKSB8XHJcbiAgICAgICAgICAgIChrZXlib2FyZEV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ1NoaWZ0JykgPyBLZXlFdmVudC5NRVRBX1NISUZUX09OIDogMCkgfFxyXG4gICAgICAgICAgICAoa2V5Ym9hcmRFdmVudC5nZXRNb2RpZmllclN0YXRlKCdDb250cm9sJykgPyBLZXlFdmVudC5NRVRBX0NUUkxfT04gOiAwKSB8XHJcbiAgICAgICAgICAgIChrZXlib2FyZEV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ01ldGEnKSA/IEtleUV2ZW50Lk1FVEFfTUVUQV9PTiA6IDApIHxcclxuICAgICAgICAgICAgKGtleWJvYXJkRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnQ2Fwc0xvY2snKSA/IEtleUV2ZW50Lk1FVEFfQ0FQU19MT0NLX09OIDogMCkgfFxyXG4gICAgICAgICAgICAoa2V5Ym9hcmRFdmVudC5nZXRNb2RpZmllclN0YXRlKCdTY3JvbGxMb2NrJykgPyBLZXlFdmVudC5NRVRBX1NDUk9MTF9MT0NLX09OIDogMCkgfFxyXG4gICAgICAgICAgICAoa2V5Ym9hcmRFdmVudC5nZXRNb2RpZmllclN0YXRlKCdOdW1Mb2NrJykgPyBLZXlFdmVudC5NRVRBX05VTV9MT0NLX09OIDogMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xNZXNzYWdlOiBLZXlDb2RlQ29udHJvbE1lc3NhZ2UgPSBuZXcgS2V5Q29kZUNvbnRyb2xNZXNzYWdlKFxyXG4gICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgIGtleUNvZGUsXHJcbiAgICAgICAgICAgIHJlcGVhdENvdW50LFxyXG4gICAgICAgICAgICBtZXRhU3RhdGUsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBLZXlJbnB1dEhhbmRsZXIubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLm9uS2V5RXZlbnQoY29udHJvbE1lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXR0YWNoTGlzdGVuZXJzKCk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlcik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkZXRhY2hMaXN0ZW5lcnMoKTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVyKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5oYW5kbGVyKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkRXZlbnRMaXN0ZW5lcihsaXN0ZW5lcjogS2V5RXZlbnRMaXN0ZW5lcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnMuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaExpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZW1vdmVFdmVudExpc3RlbmVyKGxpc3RlbmVyOiBLZXlFdmVudExpc3RlbmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLnNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhY2hMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEtleUV2ZW50IGZyb20gJy4vYW5kcm9pZC9LZXlFdmVudCc7XHJcbmltcG9ydCBVSUV2ZW50c0NvZGUgZnJvbSAnLi4vVUlFdmVudHNDb2RlJztcclxuXHJcbmV4cG9ydCBjb25zdCBLZXlUb0NvZGVNYXAgPSBuZXcgTWFwKFtcclxuICAgIFtVSUV2ZW50c0NvZGUuQmFja3F1b3RlLCBLZXlFdmVudC5LRVlDT0RFX0dSQVZFXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQmFja3NsYXNoLCBLZXlFdmVudC5LRVlDT0RFX0JBQ0tTTEFTSF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkJyYWNrZXRMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX0xFRlRfQlJBQ0tFVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkJyYWNrZXRSaWdodCwgS2V5RXZlbnQuS0VZQ09ERV9SSUdIVF9CUkFDS0VUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ29tbWEsIEtleUV2ZW50LktFWUNPREVfQ09NTUFdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDAsIEtleUV2ZW50LktFWUNPREVfMF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkRpZ2l0MSwgS2V5RXZlbnQuS0VZQ09ERV8xXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRGlnaXQyLCBLZXlFdmVudC5LRVlDT0RFXzJdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDMsIEtleUV2ZW50LktFWUNPREVfM10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkRpZ2l0NCwgS2V5RXZlbnQuS0VZQ09ERV80XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRGlnaXQ1LCBLZXlFdmVudC5LRVlDT0RFXzVdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDYsIEtleUV2ZW50LktFWUNPREVfNl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkRpZ2l0NywgS2V5RXZlbnQuS0VZQ09ERV83XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRGlnaXQ4LCBLZXlFdmVudC5LRVlDT0RFXzhdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EaWdpdDksIEtleUV2ZW50LktFWUNPREVfOV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkVxdWFsLCBLZXlFdmVudC5LRVlDT0RFX0VRVUFMU10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkludGxSbywgS2V5RXZlbnQuS0VZQ09ERV9ST10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkludGxZZW4sIEtleUV2ZW50LktFWUNPREVfWUVOXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5QSwgS2V5RXZlbnQuS0VZQ09ERV9BXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5QiwgS2V5RXZlbnQuS0VZQ09ERV9CXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5QywgS2V5RXZlbnQuS0VZQ09ERV9DXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RCwgS2V5RXZlbnQuS0VZQ09ERV9EXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RSwgS2V5RXZlbnQuS0VZQ09ERV9FXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RiwgS2V5RXZlbnQuS0VZQ09ERV9GXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5RywgS2V5RXZlbnQuS0VZQ09ERV9HXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SCwgS2V5RXZlbnQuS0VZQ09ERV9IXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SSwgS2V5RXZlbnQuS0VZQ09ERV9JXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SiwgS2V5RXZlbnQuS0VZQ09ERV9KXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5SywgS2V5RXZlbnQuS0VZQ09ERV9LXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TCwgS2V5RXZlbnQuS0VZQ09ERV9MXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TSwgS2V5RXZlbnQuS0VZQ09ERV9NXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TiwgS2V5RXZlbnQuS0VZQ09ERV9OXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5TywgS2V5RXZlbnQuS0VZQ09ERV9PXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5UCwgS2V5RXZlbnQuS0VZQ09ERV9QXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5USwgS2V5RXZlbnQuS0VZQ09ERV9RXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5UiwgS2V5RXZlbnQuS0VZQ09ERV9SXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5UywgS2V5RXZlbnQuS0VZQ09ERV9TXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5VCwgS2V5RXZlbnQuS0VZQ09ERV9UXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5VSwgS2V5RXZlbnQuS0VZQ09ERV9VXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5ViwgS2V5RXZlbnQuS0VZQ09ERV9WXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5VywgS2V5RXZlbnQuS0VZQ09ERV9XXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5WCwgS2V5RXZlbnQuS0VZQ09ERV9YXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5WSwgS2V5RXZlbnQuS0VZQ09ERV9ZXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuS2V5WiwgS2V5RXZlbnQuS0VZQ09ERV9aXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTWludXMsIEtleUV2ZW50LktFWUNPREVfTUlOVVNdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5QZXJpb2QsIEtleUV2ZW50LktFWUNPREVfUEVSSU9EXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuUXVvdGUsIEtleUV2ZW50LktFWUNPREVfQVBPU1RST1BIRV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLlNlbWljb2xvbiwgS2V5RXZlbnQuS0VZQ09ERV9TRU1JQ09MT05dLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5TbGFzaCwgS2V5RXZlbnQuS0VZQ09ERV9TTEFTSF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkthbmFNb2RlLCBLZXlFdmVudC5LRVlDT0RFX0tBTkFdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5EZWxldGUsIEtleUV2ZW50LktFWUNPREVfRk9SV0FSRF9ERUxdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5FbmQsIEtleUV2ZW50LktFWUNPREVfTU9WRV9FTkRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5IZWxwLCBLZXlFdmVudC5LRVlDT0RFX0hFTFBdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5Ib21lLCBLZXlFdmVudC5LRVlDT0RFX01PVkVfSE9NRV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkluc2VydCwgS2V5RXZlbnQuS0VZQ09ERV9JTlNFUlRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5QYWdlRG93biwgS2V5RXZlbnQuS0VZQ09ERV9QQUdFX0RPV05dLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5QYWdlVXAsIEtleUV2ZW50LktFWUNPREVfUEFHRV9VUF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFsdExlZnQsIEtleUV2ZW50LktFWUNPREVfQUxUX0xFRlRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5BbHRSaWdodCwgS2V5RXZlbnQuS0VZQ09ERV9BTFRfUklHSFRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5CYWNrc3BhY2UsIEtleUV2ZW50LktFWUNPREVfREVMXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ2Fwc0xvY2ssIEtleUV2ZW50LktFWUNPREVfQ0FQU19MT0NLXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ29udHJvbExlZnQsIEtleUV2ZW50LktFWUNPREVfQ1RSTF9MRUZUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQ29udHJvbFJpZ2h0LCBLZXlFdmVudC5LRVlDT0RFX0NUUkxfUklHSFRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5FbnRlciwgS2V5RXZlbnQuS0VZQ09ERV9FTlRFUl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk1ldGFMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX01FVEFfTEVGVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk1ldGFSaWdodCwgS2V5RXZlbnQuS0VZQ09ERV9NRVRBX1JJR0hUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuU2hpZnRMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX1NISUZUX0xFRlRdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5TaGlmdFJpZ2h0LCBLZXlFdmVudC5LRVlDT0RFX1NISUZUX1JJR0hUXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuU3BhY2UsIEtleUV2ZW50LktFWUNPREVfU1BBQ0VdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5UYWIsIEtleUV2ZW50LktFWUNPREVfVEFCXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuQXJyb3dMZWZ0LCBLZXlFdmVudC5LRVlDT0RFX0RQQURfTEVGVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFycm93VXAsIEtleUV2ZW50LktFWUNPREVfRFBBRF9VUF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFycm93UmlnaHQsIEtleUV2ZW50LktFWUNPREVfRFBBRF9SSUdIVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkFycm93RG93biwgS2V5RXZlbnQuS0VZQ09ERV9EUEFEX0RPV05dLFxyXG5cclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtTG9jaywgS2V5RXZlbnQuS0VZQ09ERV9OVU1fTE9DS10sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDAsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzBdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWQxLCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF8xXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkMiwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfMl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDMsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzNdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWQ0LCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF80XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkNSwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfNV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDYsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzZdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWQ3LCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF83XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkOCwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfOF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZDksIEtleUV2ZW50LktFWUNPREVfTlVNUEFEXzldLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5OdW1wYWRBZGQsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0FERF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZENvbW1hLCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF9DT01NQV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZERlY2ltYWwsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0RPVF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZERpdmlkZSwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfRElWSURFXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkRW50ZXIsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0VOVEVSXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkRXF1YWwsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX0VRVUFMU10sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZE11bHRpcGx5LCBLZXlFdmVudC5LRVlDT0RFX05VTVBBRF9NVUxUSVBMWV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZFBhcmVuTGVmdCwgS2V5RXZlbnQuS0VZQ09ERV9OVU1QQURfTEVGVF9QQVJFTl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLk51bXBhZFBhcmVuUmlnaHQsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX1JJR0hUX1BBUkVOXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuTnVtcGFkU3VidHJhY3QsIEtleUV2ZW50LktFWUNPREVfTlVNUEFEX1NVQlRSQUNUXSxcclxuXHJcbiAgICBbVUlFdmVudHNDb2RlLkVzY2FwZSwgS2V5RXZlbnQuS0VZQ09ERV9FU0NBUEVdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GMSwgS2V5RXZlbnQuS0VZQ09ERV9GMV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkYyLCBLZXlFdmVudC5LRVlDT0RFX0YyXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjMsIEtleUV2ZW50LktFWUNPREVfRjNdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GNCwgS2V5RXZlbnQuS0VZQ09ERV9GNF0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkY1LCBLZXlFdmVudC5LRVlDT0RFX0Y1XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjYsIEtleUV2ZW50LktFWUNPREVfRjZdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GNywgS2V5RXZlbnQuS0VZQ09ERV9GN10sXHJcbiAgICBbVUlFdmVudHNDb2RlLkY4LCBLZXlFdmVudC5LRVlDT0RFX0Y4XSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjksIEtleUV2ZW50LktFWUNPREVfRjldLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GMTAsIEtleUV2ZW50LktFWUNPREVfRjEwXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuRjExLCBLZXlFdmVudC5LRVlDT0RFX0YxMV0sXHJcbiAgICBbVUlFdmVudHNDb2RlLkYxMiwgS2V5RXZlbnQuS0VZQ09ERV9GMTJdLFxyXG4gICAgW1VJRXZlbnRzQ29kZS5GbiwgS2V5RXZlbnQuS0VZQ09ERV9GVU5DVElPTl0sXHJcbiAgICBbVUlFdmVudHNDb2RlLlByaW50U2NyZWVuLCBLZXlFdmVudC5LRVlDT0RFX1NZU1JRXSxcclxuICAgIFtVSUV2ZW50c0NvZGUuUGF1c2UsIEtleUV2ZW50LktFWUNPREVfQlJFQUtdLFxyXG5dKTtcclxuIiwiZXhwb3J0IGNsYXNzIFN0YXRzIHtcclxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29uc3RhbnQgd2VyZSBleHRyYWN0ZWQgZnJvbSBgbWFuIDIgc3RhdGAgb24gVWJ1bnR1IDEyLjEwLlxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lGTVQgPSAwbzE3MDAwMDsgLy8gYml0IG1hc2sgZm9yIHRoZSBmaWxlIHR5cGUgYml0IGZpZWxkc1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JRlNPQ0sgPSAwbzE0MDAwMDsgLy8gc29ja2V0XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lGTE5LID0gMG8xMjAwMDA7IC8vIHN5bWJvbGljIGxpbmtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSUZSRUcgPSAwbzEwMDAwMDsgLy8gcmVndWxhciBmaWxlXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lGQkxLID0gMG8wNjAwMDA7IC8vIGJsb2NrIGRldmljZVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JRkRJUiA9IDBvMDQwMDAwOyAvLyBkaXJlY3RvcnlcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSUZDSFIgPSAwbzAyMDAwMDsgLy8gY2hhcmFjdGVyIGRldmljZVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JRklGTyA9IDBvMDEwMDAwOyAvLyBGSUZPXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lTVUlEID0gMG8wMDQwMDA7IC8vIHNldCBVSUQgYml0XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lTR0lEID0gMG8wMDIwMDA7IC8vIHNldC1ncm91cC1JRCBiaXQgKHNlZSBiZWxvdylcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSVNWVFggPSAwbzAwMTAwMDsgLy8gc3RpY2t5IGJpdCAoc2VlIGJlbG93KVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JUldYVSA9IDBvMDcwMDsgLy8gbWFzayBmb3IgZmlsZSBvd25lciBwZXJtaXNzaW9uc1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JUlVTUiA9IDBvMDQwMDsgLy8gb3duZXIgaGFzIHJlYWQgcGVybWlzc2lvblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU19JV1VTUiA9IDBvMDIwMDsgLy8gb3duZXIgaGFzIHdyaXRlIHBlcm1pc3Npb25cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSVhVU1IgPSAwbzAxMDA7IC8vIG93bmVyIGhhcyBleGVjdXRlIHBlcm1pc3Npb25cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNfSVJXWEcgPSAwbzAwNzA7IC8vIG1hc2sgZm9yIGdyb3VwIHBlcm1pc3Npb25zXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTX0lSR1JQID0gMG8wMDQwOyAvLyBncm91cCBoYXMgcmVhZCBwZXJtaXNzaW9uXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG10aW1lOiBEYXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBtb2RlOiBudW1iZXIsIHB1YmxpYyByZWFkb25seSBzaXplOiBudW1iZXIsIG10aW1lOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLm10aW1lID0gbmV3IERhdGUobXRpbWUgKiAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrTW9kZVByb3BlcnR5KHByb3BlcnR5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMubW9kZSAmIFN0YXRzLlNfSUZNVCkgPT09IHByb3BlcnR5O1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzQmxvY2tEZXZpY2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRkJMSyk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaXNDaGFyYWN0ZXJEZXZpY2UoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRkNIUik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaXNEaXJlY3RvcnkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRkRJUik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaXNGSUZPKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrTW9kZVByb3BlcnR5KFN0YXRzLlNfSUZJRk8pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzaXNTb2NrZXQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tNb2RlUHJvcGVydHkoU3RhdHMuU19JRlNPQ0spO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzU3ltYm9saWNMaW5rKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrTW9kZVByb3BlcnR5KFN0YXRzLlNfSUZMTkspO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGlzRmlsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGVja01vZGVQcm9wZXJ0eShTdGF0cy5TX0lGUkVHKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlFdmVudCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFDVElPTl9ET1dOOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBQ1RJT05fVVA6IG51bWJlciA9IDE7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFXzA6IG51bWJlciA9IDc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfMTogbnVtYmVyID0gODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV8xMTogbnVtYmVyID0gMjI3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFXzEyOiBudW1iZXIgPSAyMjg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfMjogbnVtYmVyID0gOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV8zOiBudW1iZXIgPSAxMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV8zRF9NT0RFOiBudW1iZXIgPSAyMDY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNDogbnVtYmVyID0gMTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNTogbnVtYmVyID0gMTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNjogbnVtYmVyID0gMTM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfNzogbnVtYmVyID0gMTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfODogbnVtYmVyID0gMTU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfOTogbnVtYmVyID0gMTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQTogbnVtYmVyID0gMjk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQUxMX0FQUFM6IG51bWJlciA9IDI4NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9BTFRfTEVGVDogbnVtYmVyID0gNTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQUxUX1JJR0hUOiBudW1iZXIgPSA1ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9BUE9TVFJPUEhFOiBudW1iZXIgPSA3NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9BUFBfU1dJVENIOiBudW1iZXIgPSAxODc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQVNTSVNUOiBudW1iZXIgPSAyMTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQVQ6IG51bWJlciA9IDc3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0FWUl9JTlBVVDogbnVtYmVyID0gMTgyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0FWUl9QT1dFUjogbnVtYmVyID0gMTgxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0I6IG51bWJlciA9IDMwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JBQ0s6IG51bWJlciA9IDQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQkFDS1NMQVNIOiBudW1iZXIgPSA3MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CT09LTUFSSzogbnVtYmVyID0gMTc0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JSRUFLOiBudW1iZXIgPSAxMjE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlJJR0hUTkVTU19ET1dOOiBudW1iZXIgPSAyMjA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlJJR0hUTkVTU19VUDogbnVtYmVyID0gMjIxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl8xOiBudW1iZXIgPSAxODg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzEwOiBudW1iZXIgPSAxOTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzExOiBudW1iZXIgPSAxOTg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzEyOiBudW1iZXIgPSAxOTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzEzOiBudW1iZXIgPSAyMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzE0OiBudW1iZXIgPSAyMDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzE1OiBudW1iZXIgPSAyMDI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzE2OiBudW1iZXIgPSAyMDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzI6IG51bWJlciA9IDE4OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fMzogbnVtYmVyID0gMTkwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl80OiBudW1iZXIgPSAxOTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzU6IG51bWJlciA9IDE5MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fNjogbnVtYmVyID0gMTkzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl83OiBudW1iZXIgPSAxOTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OXzg6IG51bWJlciA9IDE5NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fOTogbnVtYmVyID0gMTk2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9BOiBudW1iZXIgPSA5NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fQjogbnVtYmVyID0gOTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX0M6IG51bWJlciA9IDk4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9MMTogbnVtYmVyID0gMTAyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9MMjogbnVtYmVyID0gMTA0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9NT0RFOiBudW1iZXIgPSAxMTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1IxOiBudW1iZXIgPSAxMDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1IyOiBudW1iZXIgPSAxMDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1NFTEVDVDogbnVtYmVyID0gMTA5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9TVEFSVDogbnVtYmVyID0gMTA4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9USFVNQkw6IG51bWJlciA9IDEwNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9CVVRUT05fVEhVTUJSOiBudW1iZXIgPSAxMDc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1g6IG51bWJlciA9IDk5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0JVVFRPTl9ZOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQlVUVE9OX1o6IG51bWJlciA9IDEwMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DOiBudW1iZXIgPSAzMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DQUxDVUxBVE9SOiBudW1iZXIgPSAyMTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0FMRU5EQVI6IG51bWJlciA9IDIwODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DQUxMOiBudW1iZXIgPSA1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0NBTUVSQTogbnVtYmVyID0gMjc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0FQU19MT0NLOiBudW1iZXIgPSAxMTU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0FQVElPTlM6IG51bWJlciA9IDE3NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DSEFOTkVMX0RPV046IG51bWJlciA9IDE2NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DSEFOTkVMX1VQOiBudW1iZXIgPSAxNjY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ0xFQVI6IG51bWJlciA9IDI4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0NPTU1BOiBudW1iZXIgPSA1NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DT05UQUNUUzogbnVtYmVyID0gMjA3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0NPUFk6IG51bWJlciA9IDI3ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DVFJMX0xFRlQ6IG51bWJlciA9IDExMztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9DVFJMX1JJR0hUOiBudW1iZXIgPSAxMTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfQ1VUOiBudW1iZXIgPSAyNzc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRDogbnVtYmVyID0gMzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfREVMOiBudW1iZXIgPSA2NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9EUEFEX0NFTlRFUjogbnVtYmVyID0gMjM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9ET1dOOiBudW1iZXIgPSAyMDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9EUEFEX0RPV05fTEVGVDogbnVtYmVyID0gMjY5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0RQQURfRE9XTl9SSUdIVDogbnVtYmVyID0gMjcxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0RQQURfTEVGVDogbnVtYmVyID0gMjE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9SSUdIVDogbnVtYmVyID0gMjI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9VUDogbnVtYmVyID0gMTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9VUF9MRUZUOiBudW1iZXIgPSAyNjg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRFBBRF9VUF9SSUdIVDogbnVtYmVyID0gMjcwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0RWUjogbnVtYmVyID0gMTczO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0U6IG51bWJlciA9IDMzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0VJU1U6IG51bWJlciA9IDIxMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FTkRDQUxMOiBudW1iZXIgPSA2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0VOVEVSOiBudW1iZXIgPSA2NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FTlZFTE9QRTogbnVtYmVyID0gNjU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRVFVQUxTOiBudW1iZXIgPSA3MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FU0NBUEU6IG51bWJlciA9IDExMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9FWFBMT1JFUjogbnVtYmVyID0gNjQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjogbnVtYmVyID0gMzQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjE6IG51bWJlciA9IDEzMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMTA6IG51bWJlciA9IDE0MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMTE6IG51bWJlciA9IDE0MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMTI6IG51bWJlciA9IDE0MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GMjogbnVtYmVyID0gMTMyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0YzOiBudW1iZXIgPSAxMzM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjQ6IG51bWJlciA9IDEzNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GNTogbnVtYmVyID0gMTM1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0Y2OiBudW1iZXIgPSAxMzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRjc6IG51bWJlciA9IDEzNztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GODogbnVtYmVyID0gMTM4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0Y5OiBudW1iZXIgPSAxMzk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRk9DVVM6IG51bWJlciA9IDgwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0ZPUldBUkQ6IG51bWJlciA9IDEyNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9GT1JXQVJEX0RFTDogbnVtYmVyID0gMTEyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0ZVTkNUSU9OOiBudW1iZXIgPSAxMTk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfRzogbnVtYmVyID0gMzU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfR1JBVkU6IG51bWJlciA9IDY4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0dVSURFOiBudW1iZXIgPSAxNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfSDogbnVtYmVyID0gMzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfSEVBRFNFVEhPT0s6IG51bWJlciA9IDc5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0hFTFA6IG51bWJlciA9IDI1OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9IRU5LQU46IG51bWJlciA9IDIxNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9IT01FOiBudW1iZXIgPSAzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0k6IG51bWJlciA9IDM3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX0lORk86IG51bWJlciA9IDE2NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9JTlNFUlQ6IG51bWJlciA9IDEyNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9KOiBudW1iZXIgPSAzODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9LOiBudW1iZXIgPSAzOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9LQU5BOiBudW1iZXIgPSAyMTg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfS0FUQUtBTkFfSElSQUdBTkE6IG51bWJlciA9IDIxNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MOiBudW1iZXIgPSA0MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MQU5HVUFHRV9TV0lUQ0g6IG51bWJlciA9IDIwNDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MQVNUX0NIQU5ORUw6IG51bWJlciA9IDIyOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9MRUZUX0JSQUNLRVQ6IG51bWJlciA9IDcxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX006IG51bWJlciA9IDQxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01BTk5FUl9NT0RFOiBudW1iZXIgPSAyMDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfQVVESU9fVFJBQ0s6IG51bWJlciA9IDIyMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9DTE9TRTogbnVtYmVyID0gMTI4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX0VKRUNUOiBudW1iZXIgPSAxMjk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfRkFTVF9GT1JXQVJEOiBudW1iZXIgPSA5MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9ORVhUOiBudW1iZXIgPSA4NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9QQVVTRTogbnVtYmVyID0gMTI3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1BMQVk6IG51bWJlciA9IDEyNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9QTEFZX1BBVVNFOiBudW1iZXIgPSA4NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9QUkVWSU9VUzogbnVtYmVyID0gODg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfUkVDT1JEOiBudW1iZXIgPSAxMzA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfUkVXSU5EOiBudW1iZXIgPSA4OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NRURJQV9TS0lQX0JBQ0tXQVJEOiBudW1iZXIgPSAyNzM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfU0tJUF9GT1JXQVJEOiBudW1iZXIgPSAyNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVESUFfU1RFUF9CQUNLV0FSRDogbnVtYmVyID0gMjc1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1NURVBfRk9SV0FSRDogbnVtYmVyID0gMjc0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1NUT1A6IG51bWJlciA9IDg2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01FRElBX1RPUF9NRU5VOiBudW1iZXIgPSAyMjY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVOVTogbnVtYmVyID0gODI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVUQV9MRUZUOiBudW1iZXIgPSAxMTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTUVUQV9SSUdIVDogbnVtYmVyID0gMTE4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01JTlVTOiBudW1iZXIgPSA2OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NT1ZFX0VORDogbnVtYmVyID0gMTIzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01PVkVfSE9NRTogbnVtYmVyID0gMTIyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX01VSEVOS0FOOiBudW1iZXIgPSAyMTM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTVVTSUM6IG51bWJlciA9IDIwOTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9NVVRFOiBudW1iZXIgPSA5MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OOiBudW1iZXIgPSA0MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OQVZJR0FURV9JTjogbnVtYmVyID0gMjYyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05BVklHQVRFX05FWFQ6IG51bWJlciA9IDI2MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OQVZJR0FURV9PVVQ6IG51bWJlciA9IDI2MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OQVZJR0FURV9QUkVWSU9VUzogbnVtYmVyID0gMjYwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05PVElGSUNBVElPTjogbnVtYmVyID0gODM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNOiBudW1iZXIgPSA3ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfMDogbnVtYmVyID0gMTQ0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF8xOiBudW1iZXIgPSAxNDU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEXzI6IG51bWJlciA9IDE0NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfMzogbnVtYmVyID0gMTQ3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF80OiBudW1iZXIgPSAxNDg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEXzU6IG51bWJlciA9IDE0OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfNjogbnVtYmVyID0gMTUwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF83OiBudW1iZXIgPSAxNTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEXzg6IG51bWJlciA9IDE1MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfOTogbnVtYmVyID0gMTUzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9BREQ6IG51bWJlciA9IDE1NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfQ09NTUE6IG51bWJlciA9IDE1OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfRElWSURFOiBudW1iZXIgPSAxNTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTlVNUEFEX0RPVDogbnVtYmVyID0gMTU4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9FTlRFUjogbnVtYmVyID0gMTYwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9FUVVBTFM6IG51bWJlciA9IDE2MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9OVU1QQURfTEVGVF9QQVJFTjogbnVtYmVyID0gMTYyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9NVUxUSVBMWTogbnVtYmVyID0gMTU1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9SSUdIVF9QQVJFTjogbnVtYmVyID0gMTYzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTVBBRF9TVUJUUkFDVDogbnVtYmVyID0gMTU2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX05VTV9MT0NLOiBudW1iZXIgPSAxNDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfTzogbnVtYmVyID0gNDM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUDogbnVtYmVyID0gNDQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUEFHRV9ET1dOOiBudW1iZXIgPSA5MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QQUdFX1VQOiBudW1iZXIgPSA5MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QQUlSSU5HOiBudW1iZXIgPSAyMjU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUEFTVEU6IG51bWJlciA9IDI3OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QRVJJT0Q6IG51bWJlciA9IDU2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1BJQ1RTWU1CT0xTOiBudW1iZXIgPSA5NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QTFVTOiBudW1iZXIgPSA4MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9QT1VORDogbnVtYmVyID0gMTg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUE9XRVI6IG51bWJlciA9IDI2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1BST0ZJTEVfU1dJVENIOiBudW1iZXIgPSAyODg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUFJPR19CTFVFOiBudW1iZXIgPSAxODY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUFJPR19HUkVFTjogbnVtYmVyID0gMTg0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1BST0dfUkVEOiBudW1iZXIgPSAxODM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUFJPR19ZRUxMT1c6IG51bWJlciA9IDE4NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9ROiBudW1iZXIgPSA0NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9SOiBudW1iZXIgPSA0NjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9SRUZSRVNIOiBudW1iZXIgPSAyODU7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUklHSFRfQlJBQ0tFVDogbnVtYmVyID0gNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfUk86IG51bWJlciA9IDIxNztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TOiBudW1iZXIgPSA0NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TQ1JPTExfTE9DSzogbnVtYmVyID0gMTE2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NFQVJDSDogbnVtYmVyID0gODQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU0VNSUNPTE9OOiBudW1iZXIgPSA3NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TRVRUSU5HUzogbnVtYmVyID0gMTc2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NISUZUX0xFRlQ6IG51bWJlciA9IDU5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NISUZUX1JJR0hUOiBudW1iZXIgPSA2MDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TTEFTSDogbnVtYmVyID0gNzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU0xFRVA6IG51bWJlciA9IDIyMztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TT0ZUX0xFRlQ6IG51bWJlciA9IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU09GVF9SSUdIVDogbnVtYmVyID0gMjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TT0ZUX1NMRUVQOiBudW1iZXIgPSAyNzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU1BBQ0U6IG51bWJlciA9IDYyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NUQVI6IG51bWJlciA9IDE3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NUQl9JTlBVVDogbnVtYmVyID0gMTgwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NUQl9QT1dFUjogbnVtYmVyID0gMTc5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fMTogbnVtYmVyID0gMjY1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fMjogbnVtYmVyID0gMjY2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fMzogbnVtYmVyID0gMjY3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NURU1fUFJJTUFSWTogbnVtYmVyID0gMjY0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NXSVRDSF9DSEFSU0VUOiBudW1iZXIgPSA5NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TWU06IG51bWJlciA9IDYzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NZU1JROiBudW1iZXIgPSAxMjA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfU1lTVEVNX05BVklHQVRJT05fRE9XTjogbnVtYmVyID0gMjgxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NZU1RFTV9OQVZJR0FUSU9OX0xFRlQ6IG51bWJlciA9IDI4MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9TWVNURU1fTkFWSUdBVElPTl9SSUdIVDogbnVtYmVyID0gMjgzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1NZU1RFTV9OQVZJR0FUSU9OX1VQOiBudW1iZXIgPSAyODA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVDogbnVtYmVyID0gNDg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVEFCOiBudW1iZXIgPSA2MTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9USFVNQlNfRE9XTjogbnVtYmVyID0gMjg3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RIVU1CU19VUDogbnVtYmVyID0gMjg2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWOiBudW1iZXIgPSAxNzA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfQU5URU5OQV9DQUJMRTogbnVtYmVyID0gMjQyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0FVRElPX0RFU0NSSVBUSU9OOiBudW1iZXIgPSAyNTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfQVVESU9fREVTQ1JJUFRJT05fTUlYX0RPV046IG51bWJlciA9IDI1NDtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9BVURJT19ERVNDUklQVElPTl9NSVhfVVA6IG51bWJlciA9IDI1MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9DT05URU5UU19NRU5VOiBudW1iZXIgPSAyNTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfREFUQV9TRVJWSUNFOiBudW1iZXIgPSAyMzA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfSU5QVVQ6IG51bWJlciA9IDE3ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9JTlBVVF9DT01QT05FTlRfMTogbnVtYmVyID0gMjQ5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0NPTVBPTkVOVF8yOiBudW1iZXIgPSAyNTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfSU5QVVRfQ09NUE9TSVRFXzE6IG51bWJlciA9IDI0NztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9JTlBVVF9DT01QT1NJVEVfMjogbnVtYmVyID0gMjQ4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfMTogbnVtYmVyID0gMjQzO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfMjogbnVtYmVyID0gMjQ0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfMzogbnVtYmVyID0gMjQ1O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX0hETUlfNDogbnVtYmVyID0gMjQ2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX0lOUFVUX1ZHQV8xOiBudW1iZXIgPSAyNTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfTUVESUFfQ09OVEVYVF9NRU5VOiBudW1iZXIgPSAyNTc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfTkVUV09SSzogbnVtYmVyID0gMjQxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX05VTUJFUl9FTlRSWTogbnVtYmVyID0gMjM0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1BPV0VSOiBudW1iZXIgPSAxNzc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfUkFESU9fU0VSVklDRTogbnVtYmVyID0gMjMyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURTogbnVtYmVyID0gMjM3O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURV9CUzogbnVtYmVyID0gMjM4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURV9DUzogbnVtYmVyID0gMjM5O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1RWX1NBVEVMTElURV9TRVJWSUNFOiBudW1iZXIgPSAyNDA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfVEVMRVRFWFQ6IG51bWJlciA9IDIzMztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9URVJSRVNUUklBTF9BTkFMT0c6IG51bWJlciA9IDIzNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9URVJSRVNUUklBTF9ESUdJVEFMOiBudW1iZXIgPSAyMzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVFZfVElNRVJfUFJPR1JBTU1JTkc6IG51bWJlciA9IDI1ODtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9UVl9aT09NX01PREU6IG51bWJlciA9IDI1NTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9VOiBudW1iZXIgPSA0OTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9VTktOT1dOOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1Y6IG51bWJlciA9IDUwO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1ZPSUNFX0FTU0lTVDogbnVtYmVyID0gMjMxO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1ZPTFVNRV9ET1dOOiBudW1iZXIgPSAyNTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZQ09ERV9WT0xVTUVfTVVURTogbnVtYmVyID0gMTY0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1ZPTFVNRV9VUDogbnVtYmVyID0gMjQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfVzogbnVtYmVyID0gNTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfV0FLRVVQOiBudW1iZXIgPSAyMjQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfV0lORE9XOiBudW1iZXIgPSAxNzE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWDogbnVtYmVyID0gNTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWTogbnVtYmVyID0gNTM7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWUVOOiBudW1iZXIgPSAyMTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWjogbnVtYmVyID0gNTQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWkVOS0FLVV9IQU5LQUtVOiBudW1iZXIgPSAyMTE7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWUNPREVfWk9PTV9JTjogbnVtYmVyID0gMTY4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlDT0RFX1pPT01fT1VUOiBudW1iZXIgPSAxNjk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0FMVF9MRUZUX09OOiBudW1iZXIgPSAxNjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9BTFRfTUFTSzogbnVtYmVyID0gNTA7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfQUxUX09OOiBudW1iZXIgPSAyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0FMVF9SSUdIVF9PTjogbnVtYmVyID0gMzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfQ0FQU19MT0NLX09OOiBudW1iZXIgPSAxMDQ4NTc2O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0NUUkxfTEVGVF9PTjogbnVtYmVyID0gODE5MjtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9DVFJMX01BU0s6IG51bWJlciA9IDI4NjcyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX0NUUkxfT046IG51bWJlciA9IDQwOTY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfQ1RSTF9SSUdIVF9PTjogbnVtYmVyID0gMTYzODQ7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfRlVOQ1RJT05fT046IG51bWJlciA9IDg7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9MRUZUX09OOiBudW1iZXIgPSAxMzEwNzI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9NQVNLOiBudW1iZXIgPSA0NTg3NTI7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9PTjogbnVtYmVyID0gNjU1MzY7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1FVEFfTUVUQV9SSUdIVF9PTjogbnVtYmVyID0gMjYyMTQ0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX05VTV9MT0NLX09OOiBudW1iZXIgPSAyMDk3MTUyO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NDUk9MTF9MT0NLX09OOiBudW1iZXIgPSA0MTk0MzA0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NISUZUX0xFRlRfT046IG51bWJlciA9IDY0O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NISUZUX01BU0s6IG51bWJlciA9IDE5MztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9TSElGVF9PTjogbnVtYmVyID0gMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUVUQV9TSElGVF9SSUdIVF9PTjogbnVtYmVyID0gMTI4O1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNRVRBX1NZTV9PTjogbnVtYmVyID0gNDtcclxufVxyXG4iLCJpbXBvcnQgJy4uLy4uLy4uL3N0eWxlL2RpYWxvZy5jc3MnO1xyXG5pbXBvcnQgR29vZ0RldmljZURlc2NyaXB0b3IgZnJvbSAnLi4vLi4vLi4vdHlwZXMvR29vZ0RldmljZURlc2NyaXB0b3InO1xyXG5pbXBvcnQgeyBEaXNwbGF5Q29tYmluZWRJbmZvIH0gZnJvbSAnLi4vLi4vY2xpZW50L1N0cmVhbVJlY2VpdmVyJztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCB7IFN0cmVhbUNsaWVudFNjcmNweSB9IGZyb20gJy4vU3RyZWFtQ2xpZW50U2NyY3B5JztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vLi4vU2l6ZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL1V0aWwnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uLy4uL0Rpc3BsYXlJbmZvJztcclxuaW1wb3J0IHsgVG9vbEJveEJ1dHRvbiB9IGZyb20gJy4uLy4uL3Rvb2xib3gvVG9vbEJveEJ1dHRvbic7XHJcbmltcG9ydCBTdmdJbWFnZSBmcm9tICcuLi8uLi91aS9TdmdJbWFnZSc7XHJcbmltcG9ydCB7IFBsYXllckNsYXNzIH0gZnJvbSAnLi4vLi4vcGxheWVyL0Jhc2VQbGF5ZXInO1xyXG5pbXBvcnQgeyBUb29sQm94Q2hlY2tib3ggfSBmcm9tICcuLi8uLi90b29sYm94L1Rvb2xCb3hDaGVja2JveCc7XHJcbmltcG9ydCB7IERldmljZVRyYWNrZXIgfSBmcm9tICcuL0RldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi9BdHRyaWJ1dGUnO1xyXG5pbXBvcnQgeyBTdHJlYW1SZWNlaXZlclNjcmNweSB9IGZyb20gJy4vU3RyZWFtUmVjZWl2ZXJTY3JjcHknO1xyXG5pbXBvcnQgeyBQYXJhbXNTdHJlYW1TY3JjcHkgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNTdHJlYW1TY3JjcHknO1xyXG5pbXBvcnQgeyBCYXNlQ2xpZW50IH0gZnJvbSAnLi4vLi4vY2xpZW50L0Jhc2VDbGllbnQnO1xyXG5cclxuaW50ZXJmYWNlIENvbmZpZ3VyZVNjcmNweUV2ZW50cyB7XHJcbiAgICBjbG9zZWQ6IHsgZGlhbG9nOiBDb25maWd1cmVTY3JjcHk7IHJlc3VsdDogYm9vbGVhbiB9O1xyXG59XHJcblxyXG50eXBlIFJhbmdlID0ge1xyXG4gICAgbWF4OiBudW1iZXI7XHJcbiAgICBtaW46IG51bWJlcjtcclxuICAgIHN0ZXA6IG51bWJlcjtcclxuICAgIGZvcm1hdHRlcj86ICh2YWx1ZTogbnVtYmVyKSA9PiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJlU2NyY3B5IGV4dGVuZHMgQmFzZUNsaWVudDxQYXJhbXNTdHJlYW1TY3JjcHksIENvbmZpZ3VyZVNjcmNweUV2ZW50cz4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUQUc6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdWRpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlc2NhcGVkVWRpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwbGF5ZXJTdG9yYWdlS2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGRldmljZU5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgc3RyZWFtUmVjZWl2ZXI/OiBTdHJlYW1SZWNlaXZlclNjcmNweTtcclxuICAgIHByaXZhdGUgcGxheWVyTmFtZT86IHN0cmluZztcclxuICAgIHByaXZhdGUgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbztcclxuICAgIHByaXZhdGUgYmFja2dyb3VuZDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGRpYWxvZ0JvZHk/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgb2tCdXR0b24/OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgZml0VG9TY3JlZW5DaGVja2JveD86IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlc2V0U2V0dGluZ3NCdXR0b24/OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIHByaXZhdGUgbG9hZFNldHRpbmdzQnV0dG9uPzogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHNhdmVTZXR0aW5nc0J1dHRvbj86IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXJTZWxlY3RFbGVtZW50PzogSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGRpc3BsYXlJZFNlbGVjdEVsZW1lbnQ/OiBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIHByaXZhdGUgZW5jb2RlclNlbGVjdEVsZW1lbnQ/OiBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIHByaXZhdGUgY29ubmVjdGlvblN0YXR1c0VsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgZGlhbG9nQ29udGFpbmVyPzogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHN0YXR1c1RleHQgPSAnJztcclxuICAgIHByaXZhdGUgY29ubmVjdGlvbkNvdW50ID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHRyYWNrZXI6IERldmljZVRyYWNrZXIsIGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yLCBwYXJhbXM6IFBhcmFtc1N0cmVhbVNjcmNweSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy51ZGlkID0gZGVzY3JpcHRvci51ZGlkO1xyXG4gICAgICAgIHRoaXMuZXNjYXBlZFVkaWQgPSBVdGlsLmVzY2FwZVVkaWQodGhpcy51ZGlkKTtcclxuICAgICAgICB0aGlzLnBsYXllclN0b3JhZ2VLZXkgPSBgY29uZmlndXJlX3N0cmVhbTo6JHt0aGlzLmVzY2FwZWRVZGlkfTo6cGxheWVyYDtcclxuICAgICAgICB0aGlzLmRldmljZU5hbWUgPSBkZXNjcmlwdG9yWydyby5wcm9kdWN0Lm1vZGVsJ107XHJcbiAgICAgICAgdGhpcy5UQUcgPSBgQ29uZmlndXJlU2NyY3B5WyR7dGhpcy51ZGlkfV1gO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlU3RyZWFtUmVjZWl2ZXIocGFyYW1zKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlKGAke3RoaXMuZGV2aWNlTmFtZX0uIENvbmZpZ3VyZSBzdHJlYW1gKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmNyZWF0ZVVJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRyYWNrZXIoKTogRGV2aWNlVHJhY2tlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tlcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVN0cmVhbVJlY2VpdmVyKHBhcmFtczogUGFyYW1zU3RyZWFtU2NyY3B5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtUmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhY2hFdmVudHNMaXN0ZW5lcnModGhpcy5zdHJlYW1SZWNlaXZlcik7XHJcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyID0gbmV3IFN0cmVhbVJlY2VpdmVyU2NyY3B5KHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHNMaXN0ZW5lcnModGhpcy5zdHJlYW1SZWNlaXZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRhY2hFdmVudHNMaXN0ZW5lcnMoc3RyZWFtUmVjZWl2ZXI6IFN0cmVhbVJlY2VpdmVyU2NyY3B5KTogdm9pZCB7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub24oJ2VuY29kZXJzJywgdGhpcy5vbkVuY29kZXJzKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGlzcGxheUluZm8nLCB0aGlzLm9uRGlzcGxheUluZm8pO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdjb25uZWN0ZWQnLCB0aGlzLm9uQ29ubmVjdGVkKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGlzY29ubmVjdGVkJywgdGhpcy5vbkRpc2Nvbm5lY3RlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZXRhY2hFdmVudHNMaXN0ZW5lcnMoc3RyZWFtUmVjZWl2ZXI6IFN0cmVhbVJlY2VpdmVyU2NyY3B5KTogdm9pZCB7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub2ZmKCdlbmNvZGVycycsIHRoaXMub25FbmNvZGVycyk7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub2ZmKCdkaXNwbGF5SW5mbycsIHRoaXMub25EaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub2ZmKCdjb25uZWN0ZWQnLCB0aGlzLm9uQ29ubmVjdGVkKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vZmYoJ2Rpc2Nvbm5lY3RlZCcsIHRoaXMub25EaXNjb25uZWN0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlU3RhdHVzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uU3RhdHVzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0ZXh0ID0gdGhpcy5zdGF0dXNUZXh0O1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Db3VudCkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gYCR7dGV4dH0uIE90aGVyIGNsaWVudHM6ICR7dGhpcy5jb25uZWN0aW9uQ291bnR9LmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXR1c0VsZW1lbnQuaW5uZXJUZXh0ID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uRW5jb2RlcnMgPSAoZW5jb2RlcnM6IHN0cmluZ1tdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5UQUcsICdFbmNvZGVycycsIGVuY29kZXJzKTtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gICAgICAgIGxldCBjaGlsZDtcclxuICAgICAgICB3aGlsZSAoKGNoaWxkID0gc2VsZWN0LmZpcnN0Q2hpbGQpKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdC5yZW1vdmVDaGlsZChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuY29kZXJzLnVuc2hpZnQoJycpO1xyXG4gICAgICAgIGVuY29kZXJzLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xyXG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LmlubmVyVGV4dCA9IHZhbHVlO1xyXG4gICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudCA9IHNlbGVjdDtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRpc3BsYXlJbmZvID0gKGluZm9BcnJheTogRGlzcGxheUNvbWJpbmVkSW5mb1tdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5UQUcsICdSZWNlaXZlZCBpbmZvJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gJ1JlYWR5JztcclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xyXG4gICAgICAgIHRoaXMuZGlhbG9nQ29udGFpbmVyPy5jbGFzc0xpc3QuYWRkKCdyZWFkeScpO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IHRoaXMuZGlzcGxheUlkU2VsZWN0RWxlbWVudCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICAgICAgICBsZXQgY2hpbGQ7XHJcbiAgICAgICAgd2hpbGUgKChjaGlsZCA9IHNlbGVjdC5maXJzdENoaWxkKSkge1xyXG4gICAgICAgICAgICBzZWxlY3QucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2VsZWN0ZWRPcHRpb25JZHggPSAtMTtcclxuICAgICAgICBpbmZvQXJyYXkuZm9yRWFjaCgodmFsdWU6IERpc3BsYXlDb21iaW5lZEluZm8sIGlkeDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzcGxheUluZm8gfSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGRpc3BsYXlJZCwgc2l6ZSB9ID0gZGlzcGxheUluZm87XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGlzcGxheUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LmlubmVyVGV4dCA9IGBJRDogJHtkaXNwbGF5SWR9OyAke3NpemUud2lkdGh9eCR7c2l6ZS5oZWlnaHR9YDtcclxuICAgICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAodGhpcy5kaXNwbGF5SW5mbyAmJiB0aGlzLmRpc3BsYXlJbmZvLmRpc3BsYXlJZCA9PT0gZGlzcGxheUlkKSB8fFxyXG4gICAgICAgICAgICAgICAgKCF0aGlzLmRpc3BsYXlJbmZvICYmIGRpc3BsYXlJZCA9PT0gRGlzcGxheUluZm8uREVGQVVMVF9ESVNQTEFZKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uSWR4ID0gaWR4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uSWR4ID4gLTEpIHtcclxuICAgICAgICAgICAgc2VsZWN0LnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZE9wdGlvbklkeDtcclxuICAgICAgICAgICAgY29uc3QgeyB2aWRlb1NldHRpbmdzLCBjb25uZWN0aW9uQ291bnQsIGRpc3BsYXlJbmZvIH0gPSBpbmZvQXJyYXlbc2VsZWN0ZWRPcHRpb25JZHhdO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvID0gZGlzcGxheUluZm87XHJcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQ291bnQgPiAwICYmIHZpZGVvU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuVEFHLCAnQXBwbHkgb3RoZXIgY2xpZW50cyBzZXR0aW5ncycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWxsSW5wdXRzRnJvbVZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5UQUcsICdBcHBseSBzZXR0aW5ncyBmb3IgY3VycmVudCBwbGF5ZXInKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlkZW9TZXR0aW5nc0ZvclBsYXllcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ID0gY29ubmVjdGlvbkNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQgPSBzZWxlY3Q7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nQm9keSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ0JvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nQm9keS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIG9uQ29ubmVjdGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuVEFHLCAnQ29ubmVjdGVkJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gJ1dhaXRpbmcgZm9yIGluZm8uLi4nO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMub2tCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy5va0J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRpc2Nvbm5lY3RlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLlRBRywgJ0Rpc2Nvbm5lY3RlZCcpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdEaXNjb25uZWN0ZWQnO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMub2tCdXR0b24pIHtcclxuICAgICAgICAgICAgdGhpcy5va0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmRpYWxvZ0JvZHkpIHtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dCb2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dCb2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvblBsYXllckNoYW5nZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvU2V0dGluZ3NGb3JQbGF5ZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBvbkRpc3BsYXlJZENoYW5nZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFzZWxlY3QgfHwgIXRoaXMuc3RyZWFtUmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcclxuICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgICAgIGlmICghaXNOYU4oZGlzcGxheUlkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlJbmZvID0gdGhpcy5zdHJlYW1SZWNlaXZlci5nZXREaXNwbGF5SW5mbyhkaXNwbGF5SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvU2V0dGluZ3NGb3JQbGF5ZXIoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRQbGF5ZXIoKTogUGxheWVyQ2xhc3MgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wbGF5ZXJTZWxlY3RFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGxheWVyTmFtZSA9IHRoaXMucGxheWVyU2VsZWN0RWxlbWVudC5vcHRpb25zW3RoaXMucGxheWVyU2VsZWN0RWxlbWVudC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcclxuICAgICAgICByZXR1cm4gU3RyZWFtQ2xpZW50U2NyY3B5LmdldFBsYXllcnMoKS5maW5kKChwbGF5ZXJDbGFzcykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcGxheWVyQ2xhc3MucGxheWVyRnVsbE5hbWUgPT09IHBsYXllck5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVWaWRlb1NldHRpbmdzRm9yUGxheWVyKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XHJcbiAgICAgICAgaWYgKHBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBwbGF5ZXIucGxheWVyRnVsbE5hbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZE9yUHJlZmVycmVkID0gcGxheWVyLmxvYWRWaWRlb1NldHRpbmdzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpdFRvU2NyZWVuID0gcGxheWVyLmdldEZpdFRvU2NyZWVuU3RhdHVzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbElucHV0c0Zyb21WaWRlb1NldHRpbmdzKHN0b3JlZE9yUHJlZmVycmVkLCBmaXRUb1NjcmVlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QmFzaWNJbnB1dChpZDogc3RyaW5nKTogSFRNTElucHV0RWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpZH1fJHt0aGlzLmVzY2FwZWRVZGlkfWApO1xyXG4gICAgICAgIGlmICghZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxJbnB1dHNGcm9tVmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbjogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmZvICYmIHRoaXMuZGlzcGxheUluZm8uZGlzcGxheUlkICE9PSB2aWRlb1NldHRpbmdzLmRpc3BsYXlJZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMuVEFHLCBgRGlzcGxheSBpZCBmcm9tIFZpZGVvU2V0dGluZ3MgYW5kIERpc3BsYXlJbmZvIGRvbid0IG1hdGNoYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmlsbEJhc2ljSW5wdXQoeyBpZDogJ2JpdHJhdGUnIH0sIHZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgIHRoaXMuZmlsbEJhc2ljSW5wdXQoeyBpZDogJ21heEZwcycgfSwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5maWxsQmFzaWNJbnB1dCh7IGlkOiAnaUZyYW1lSW50ZXJ2YWwnIH0sIHZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgIC8vIHRoaXMuZmlsbEJhc2ljSW5wdXQoeyBpZDogJ2Rpc3BsYXlJZCcgfSwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5maWxsQmFzaWNJbnB1dCh7IGlkOiAnY29kZWNPcHRpb25zJyB9LCB2aWRlb1NldHRpbmdzKTtcclxuICAgICAgICBpZiAodmlkZW9TZXR0aW5ncy5ib3VuZHMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB2aWRlb1NldHRpbmdzLmJvdW5kcztcclxuICAgICAgICAgICAgY29uc3Qgd2lkdGhJbnB1dCA9IHRoaXMuZ2V0QmFzaWNJbnB1dCgnbWF4V2lkdGgnKTtcclxuICAgICAgICAgICAgaWYgKHdpZHRoSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoSW5wdXQudmFsdWUgPSB3aWR0aC50b1N0cmluZygxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0SW5wdXQgPSB0aGlzLmdldEJhc2ljSW5wdXQoJ21heEhlaWdodCcpO1xyXG4gICAgICAgICAgICBpZiAoaGVpZ2h0SW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodElucHV0LnZhbHVlID0gaGVpZ2h0LnRvU3RyaW5nKDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBlbmNvZGVyTmFtZSA9IHZpZGVvU2V0dGluZ3MuZW5jb2Rlck5hbWUgfHwgJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IEFycmF5LmZyb20odGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudC5vcHRpb25zKS5maW5kKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC52YWx1ZSA9PT0gZW5jb2Rlck5hbWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50LnNlbGVjdGVkSW5kZXggPSBvcHRpb24uaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZml0VG9TY3JlZW5DaGVja2JveCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpdFRvU2NyZWVuQ2hlY2tib3guY2hlY2tlZCA9IGZpdFRvU2NyZWVuO1xyXG4gICAgICAgICAgICB0aGlzLm9uRml0VG9TY3JlZW5DaGFuZ2VkKGZpdFRvU2NyZWVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkZpdFRvU2NyZWVuQ2hhbmdlZChjaGVja2VkOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0SW5wdXQgPSB0aGlzLmdldEJhc2ljSW5wdXQoJ21heEhlaWdodCcpO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoSW5wdXQgPSB0aGlzLmdldEJhc2ljSW5wdXQoJ21heFdpZHRoJyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpdFRvU2NyZWVuQ2hlY2tib3ggfHwgIWhlaWdodElucHV0IHx8ICF3aWR0aElucHV0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGVpZ2h0SW5wdXQuZGlzYWJsZWQgPSB3aWR0aElucHV0LmRpc2FibGVkID0gY2hlY2tlZDtcclxuICAgICAgICBpZiAoY2hlY2tlZCkge1xyXG4gICAgICAgICAgICBoZWlnaHRJbnB1dC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlZBTFVFLCBoZWlnaHRJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGhlaWdodElucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHdpZHRoSW5wdXQuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5WQUxVRSwgd2lkdGhJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHdpZHRoSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZWRIZWlnaHQgPSBoZWlnaHRJbnB1dC5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlZBTFVFKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdG9yZWRIZWlnaHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHRJbnB1dC52YWx1ZSA9IHN0b3JlZEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGhlaWdodElucHV0LnJlbW92ZUF0dHJpYnV0ZShBdHRyaWJ1dGUuVkFMVUUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZFdpZHRoID0gd2lkdGhJbnB1dC5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlZBTFVFKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdG9yZWRXaWR0aCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoSW5wdXQudmFsdWUgPSBzdG9yZWRXaWR0aDtcclxuICAgICAgICAgICAgICAgIHdpZHRoSW5wdXQucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZS5WQUxVRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaWxsQmFzaWNJbnB1dChvcHRzOiB7IGlkOiBrZXlvZiBWaWRlb1NldHRpbmdzIH0sIHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2V0QmFzaWNJbnB1dChvcHRzLmlkKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHZpZGVvU2V0dGluZ3Nbb3B0cy5pZF07XHJcbiAgICAgICAgaWYgKGlucHV0KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlICE9PSAnLScgJiYgdmFsdWUgIT09IDAgJiYgdmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdmFsdWUudG9TdHJpbmcoMTApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncmFuZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcGVuZEJhc2ljSW5wdXQoXHJcbiAgICAgICAgcGFyZW50OiBIVE1MRWxlbWVudCxcclxuICAgICAgICBvcHRzOiB7IGxhYmVsOiBzdHJpbmc7IGlkOiBzdHJpbmc7IHJhbmdlPzogUmFuZ2UgfSxcclxuICAgICk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdsYWJlbCcpO1xyXG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9IGAke29wdHMubGFiZWx9OmA7XHJcbiAgICAgICAgbGFiZWwuaWQgPSBgbGFiZWxfJHtvcHRzLmlkfV8ke3RoaXMuZXNjYXBlZFVkaWR9YDtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdpbnB1dCcpO1xyXG4gICAgICAgIGlucHV0LmlkID0gbGFiZWwuaHRtbEZvciA9IGAke29wdHMuaWR9XyR7dGhpcy5lc2NhcGVkVWRpZH1gO1xyXG4gICAgICAgIGNvbnN0IHsgcmFuZ2UgfSA9IG9wdHM7XHJcbiAgICAgICAgaWYgKHJhbmdlKSB7XHJcbiAgICAgICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBvcHRzLmxhYmVsKTtcclxuICAgICAgICAgICAgaW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmFuZ2UuZm9ybWF0dGVyID8gcmFuZ2UuZm9ybWF0dGVyKHBhcnNlSW50KGlucHV0LnZhbHVlLCAxMCkpIDogaW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5pbm5lclRleHQgPSBgJHtvcHRzLmxhYmVsfSAoJHt2YWx1ZX0pOmA7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdyYW5nZScpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ21heCcsIHJhbmdlLm1heC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdtaW4nLCByYW5nZS5taW4udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnc3RlcCcsIHJhbmdlLnN0ZXAudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TnVtYmVyVmFsdWVGcm9tSW5wdXQobmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtuYW1lfV8ke3RoaXMuZXNjYXBlZFVkaWR9YCkgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTdHJpbmdWYWx1ZUZyb21JbnB1dChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bmFtZX1fJHt0aGlzLmVzY2FwZWRVZGlkfWApIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VmFsdWVGcm9tU2VsZWN0KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bmFtZX1fJHt0aGlzLmVzY2FwZWRVZGlkfWApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG4gICAgICAgIHJldHVybiBzZWxlY3Qub3B0aW9uc1tzZWxlY3Quc2VsZWN0ZWRJbmRleF0udmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFZpZGVvU2V0dGluZ3MoKTogVmlkZW9TZXR0aW5ncyB8IG51bGwge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJpdHJhdGUgPSB0aGlzLmdldE51bWJlclZhbHVlRnJvbUlucHV0KCdiaXRyYXRlJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heEZwcyA9IHRoaXMuZ2V0TnVtYmVyVmFsdWVGcm9tSW5wdXQoJ21heEZwcycpO1xyXG4gICAgICAgICAgICBjb25zdCBpRnJhbWVJbnRlcnZhbCA9IHRoaXMuZ2V0TnVtYmVyVmFsdWVGcm9tSW5wdXQoJ2lGcmFtZUludGVydmFsJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5nZXROdW1iZXJWYWx1ZUZyb21JbnB1dCgnbWF4V2lkdGgnKTtcclxuICAgICAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gdGhpcy5nZXROdW1iZXJWYWx1ZUZyb21JbnB1dCgnbWF4SGVpZ2h0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlJZCA9IHRoaXMuZ2V0TnVtYmVyVmFsdWVGcm9tSW5wdXQoJ2Rpc3BsYXlJZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjb2RlY09wdGlvbnMgPSB0aGlzLmdldFN0cmluZ1ZhbHVlRnJvbUlucHV0KCdjb2RlY09wdGlvbnMnKSB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGxldCBib3VuZHM6IFNpemUgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICghaXNOYU4obWF4V2lkdGgpICYmICFpc05hTihtYXhIZWlnaHQpICYmIG1heFdpZHRoICYmIG1heEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzID0gbmV3IFNpemUobWF4V2lkdGgsIG1heEhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZW5jb2Rlck5hbWUgPSB0aGlzLmdldFZhbHVlRnJvbVNlbGVjdCgnZW5jb2Rlck5hbWUnKSB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmlkZW9TZXR0aW5ncyh7XHJcbiAgICAgICAgICAgICAgICBiaXRyYXRlLFxyXG4gICAgICAgICAgICAgICAgYm91bmRzLFxyXG4gICAgICAgICAgICAgICAgbWF4RnBzLFxyXG4gICAgICAgICAgICAgICAgaUZyYW1lSW50ZXJ2YWwsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICBjb2RlY09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVyTmFtZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Rml0VG9TY3JlZW5WYWx1ZSgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRoaXMuZml0VG9TY3JlZW5DaGVja2JveCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmZpdFRvU2NyZWVuQ2hlY2tib3guY2hlY2tlZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFByZXZpb3VzbHlVc2VkUGxheWVyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMucGxheWVyU3RvcmFnZUtleSk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRQcmV2aW91c2x5VXNlZFBsYXllcihwbGF5ZXJOYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5wbGF5ZXJTdG9yYWdlS2V5LCBwbGF5ZXJOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVVJKCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBkaWFsb2dOYW1lID0gJ2NvbmZpZ3VyZURpYWxvZyc7XHJcbiAgICAgICAgY29uc3QgYmxvY2tDbGFzcyA9ICdkaWFsb2ctYmxvY2snO1xyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBiYWNrZ3JvdW5kLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy1iYWNrZ3JvdW5kJywgZGlhbG9nTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nQ29udGFpbmVyID0gKHRoaXMuZGlhbG9nQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgICAgIGRpYWxvZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdkaWFsb2ctY29udGFpbmVyJywgZGlhbG9nTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGlhbG9nSGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy1oZWFkZXInLCBkaWFsb2dOYW1lLCAnY29udHJvbC13cmFwcGVyJyk7XHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IG5ldyBUb29sQm94QnV0dG9uKCdCYWNrJywgU3ZnSW1hZ2UuSWNvbi5BUlJPV19CQUNLKTtcclxuXHJcbiAgICAgICAgYmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBiYWNrQnV0dG9uLmdldEFsbEVsZW1lbnRzKCkuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICAgICAgZGlhbG9nSGVhZGVyLmFwcGVuZENoaWxkKGVsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZGV2aWNlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBkZXZpY2VOYW1lLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy10aXRsZScsICdtYWluLXRpdGxlJyk7XHJcbiAgICAgICAgZGV2aWNlTmFtZS5pbm5lclRleHQgPSB0aGlzLmRldmljZU5hbWU7XHJcbiAgICAgICAgZGlhbG9nSGVhZGVyLmFwcGVuZENoaWxkKGRldmljZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGRpYWxvZ0JvZHkgPSAodGhpcy5kaWFsb2dCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgICAgIGRpYWxvZ0JvZHkuY2xhc3NMaXN0LmFkZCgnZGlhbG9nLWJvZHknLCBibG9ja0NsYXNzLCBkaWFsb2dOYW1lLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHBsYXllcldyYXBwZXIuY2xhc3NMaXN0LmFkZCgnY29udHJvbHMnKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgcGxheWVyTGFiZWwuY2xhc3NMaXN0LmFkZCgnbGFiZWwnKTtcclxuICAgICAgICBwbGF5ZXJMYWJlbC5pbm5lclRleHQgPSAnUGxheWVyOic7XHJcbiAgICAgICAgcGxheWVyV3JhcHBlci5hcHBlbmRDaGlsZChwbGF5ZXJMYWJlbCk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyU2VsZWN0ID0gKHRoaXMucGxheWVyU2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpKTtcclxuICAgICAgICBwbGF5ZXJTZWxlY3QuY2xhc3NMaXN0LmFkZCgnaW5wdXQnKTtcclxuICAgICAgICBwbGF5ZXJTZWxlY3QuaWQgPSBwbGF5ZXJMYWJlbC5odG1sRm9yID0gYHBsYXllcl8ke3RoaXMuZXNjYXBlZFVkaWR9YDtcclxuICAgICAgICBwbGF5ZXJXcmFwcGVyLmFwcGVuZENoaWxkKHBsYXllclNlbGVjdCk7XHJcbiAgICAgICAgZGlhbG9nQm9keS5hcHBlbmRDaGlsZChwbGF5ZXJXcmFwcGVyKTtcclxuICAgICAgICBjb25zdCBwcmV2aW91c2x5VXNlZFBsYXllciA9IHRoaXMuZ2V0UHJldmlvdXNseVVzZWRQbGF5ZXIoKTtcclxuICAgICAgICBTdHJlYW1DbGllbnRTY3JjcHkuZ2V0UGxheWVycygpLmZvckVhY2goKHBsYXllckNsYXNzLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IHBsYXllckZ1bGxOYW1lIH0gPSBwbGF5ZXJDbGFzcztcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICBvcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwbGF5ZXJGdWxsTmFtZSk7XHJcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuaW5uZXJUZXh0ID0gcGxheWVyRnVsbE5hbWU7XHJcbiAgICAgICAgICAgIHBsYXllclNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcclxuICAgICAgICAgICAgaWYgKHBsYXllckZ1bGxOYW1lID09PSBwcmV2aW91c2x5VXNlZFBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyU2VsZWN0LnNlbGVjdGVkSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllclNlbGVjdC5vbmNoYW5nZSA9IHRoaXMub25QbGF5ZXJDaGFuZ2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVWaWRlb1NldHRpbmdzRm9yUGxheWVyKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29udHJvbHMuY2xhc3NMaXN0LmFkZCgnY29udHJvbHMnLCAnY29udHJvbC13cmFwcGVyJyk7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheUlkTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgIGRpc3BsYXlJZExhYmVsLmNsYXNzTGlzdC5hZGQoJ2xhYmVsJyk7XHJcbiAgICAgICAgZGlzcGxheUlkTGFiZWwuaW5uZXJUZXh0ID0gJ0Rpc3BsYXk6JztcclxuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChkaXNwbGF5SWRMYWJlbCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXlJZFNlbGVjdEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5SWRTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHRoaXMuZGlzcGxheUlkU2VsZWN0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SWRTZWxlY3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SWRTZWxlY3RFbGVtZW50LmlkID0gZGlzcGxheUlkTGFiZWwuaHRtbEZvciA9IGBkaXNwbGF5SWRfJHt0aGlzLmVzY2FwZWRVZGlkfWA7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SWRTZWxlY3RFbGVtZW50Lm9uY2hhbmdlID0gdGhpcy5vbkRpc3BsYXlJZENoYW5nZTtcclxuXHJcbiAgICAgICAgdGhpcy5hcHBlbmRCYXNpY0lucHV0KGNvbnRyb2xzLCB7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnQml0cmF0ZScsXHJcbiAgICAgICAgICAgIGlkOiAnYml0cmF0ZScsXHJcbiAgICAgICAgICAgIHJhbmdlOiB7IG1pbjogNTI0Mjg4LCBtYXg6IDgzODg2MDgsIHN0ZXA6IDUyNDI4OCwgZm9ybWF0dGVyOiBVdGlsLnByZXR0eUJ5dGVzIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRCYXNpY0lucHV0KGNvbnRyb2xzLCB7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnTWF4IEZQUycsXHJcbiAgICAgICAgICAgIGlkOiAnbWF4RnBzJyxcclxuICAgICAgICAgICAgcmFuZ2U6IHsgbWluOiAxLCBtYXg6IDYwLCBzdGVwOiAxIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRCYXNpY0lucHV0KGNvbnRyb2xzLCB7IGxhYmVsOiAnSS1GcmFtZSBpbnRlcnZhbCcsIGlkOiAnaUZyYW1lSW50ZXJ2YWwnIH0pO1xyXG4gICAgICAgIGNvbnN0IGZpdExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICBmaXRMYWJlbC5pbm5lclRleHQgPSAnRml0IHRvIHNjcmVlbic7XHJcbiAgICAgICAgZml0TGFiZWwuY2xhc3NMaXN0LmFkZCgnbGFiZWwnKTtcclxuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChmaXRMYWJlbCk7XHJcbiAgICAgICAgY29uc3QgZml0VG9nZ2xlID0gbmV3IFRvb2xCb3hDaGVja2JveChcclxuICAgICAgICAgICAgJ0ZpdCB0byBzY3JlZW4nLFxyXG4gICAgICAgICAgICB7IG9mZjogU3ZnSW1hZ2UuSWNvbi5UT0dHTEVfT0ZGLCBvbjogU3ZnSW1hZ2UuSWNvbi5UT0dHTEVfT04gfSxcclxuICAgICAgICAgICAgJ2ZpdF90b19zY3JlZW4nLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZml0VG9nZ2xlLmdldEFsbEVsZW1lbnRzKCkuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBIVE1MTGFiZWxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmaXRMYWJlbC5odG1sRm9yID0gZWwuaHRtbEZvcjtcclxuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVsIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXRUb1NjcmVlbkNoZWNrYm94ID0gZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBmaXRUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoXywgZWwpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsLmdldEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5vbkZpdFRvU2NyZWVuQ2hhbmdlZChlbGVtZW50LmNoZWNrZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYXBwZW5kQmFzaWNJbnB1dChjb250cm9scywgeyBsYWJlbDogJ01heCB3aWR0aCcsIGlkOiAnbWF4V2lkdGgnIH0pO1xyXG4gICAgICAgIHRoaXMuYXBwZW5kQmFzaWNJbnB1dChjb250cm9scywgeyBsYWJlbDogJ01heCBoZWlnaHQnLCBpZDogJ21heEhlaWdodCcgfSk7XHJcbiAgICAgICAgdGhpcy5hcHBlbmRCYXNpY0lucHV0KGNvbnRyb2xzLCB7IGxhYmVsOiAnQ29kZWMgb3B0aW9ucycsIGlkOiAnY29kZWNPcHRpb25zJyB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZW5jb2RlckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICBlbmNvZGVyTGFiZWwuY2xhc3NMaXN0LmFkZCgnbGFiZWwnKTtcclxuICAgICAgICBlbmNvZGVyTGFiZWwuaW5uZXJUZXh0ID0gJ0VuY29kZXI6JztcclxuICAgICAgICBjb250cm9scy5hcHBlbmRDaGlsZChlbmNvZGVyTGFiZWwpO1xyXG4gICAgICAgIGlmICghdGhpcy5lbmNvZGVyU2VsZWN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2xzLmFwcGVuZENoaWxkKHRoaXMuZW5jb2RlclNlbGVjdEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZW5jb2RlclNlbGVjdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW5wdXQnKTtcclxuICAgICAgICB0aGlzLmVuY29kZXJTZWxlY3RFbGVtZW50LmlkID0gZW5jb2RlckxhYmVsLmh0bWxGb3IgPSBgZW5jb2Rlck5hbWVfJHt0aGlzLmVzY2FwZWRVZGlkfWA7XHJcblxyXG4gICAgICAgIGRpYWxvZ0JvZHkuYXBwZW5kQ2hpbGQoY29udHJvbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25zV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGJ1dHRvbnNXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2xzJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2V0U2V0dGluZ3NCdXR0b24gPSAodGhpcy5yZXNldFNldHRpbmdzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJykpO1xyXG4gICAgICAgIHJlc2V0U2V0dGluZ3NCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uJyk7XHJcbiAgICAgICAgcmVzZXRTZXR0aW5nc0J1dHRvbi5pbm5lclRleHQgPSAnUmVzZXQgc2V0dGluZ3MnO1xyXG4gICAgICAgIHJlc2V0U2V0dGluZ3NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlc2V0U2V0dGluZ3MpO1xyXG4gICAgICAgIGJ1dHRvbnNXcmFwcGVyLmFwcGVuZENoaWxkKHJlc2V0U2V0dGluZ3NCdXR0b24pO1xyXG5cclxuICAgICAgICBjb25zdCBsb2FkU2V0dGluZ3NCdXR0b24gPSAodGhpcy5sb2FkU2V0dGluZ3NCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSk7XHJcbiAgICAgICAgbG9hZFNldHRpbmdzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGxvYWRTZXR0aW5nc0J1dHRvbi5pbm5lclRleHQgPSAnTG9hZCBzZXR0aW5ncyc7XHJcbiAgICAgICAgbG9hZFNldHRpbmdzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5sb2FkU2V0dGluZ3MpO1xyXG4gICAgICAgIGJ1dHRvbnNXcmFwcGVyLmFwcGVuZENoaWxkKGxvYWRTZXR0aW5nc0J1dHRvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IHNhdmVTZXR0aW5nc0J1dHRvbiA9ICh0aGlzLnNhdmVTZXR0aW5nc0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpKTtcclxuICAgICAgICBzYXZlU2V0dGluZ3NCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnV0dG9uJyk7XHJcbiAgICAgICAgc2F2ZVNldHRpbmdzQnV0dG9uLmlubmVyVGV4dCA9ICdTYXZlIHNldHRpbmdzJztcclxuICAgICAgICBzYXZlU2V0dGluZ3NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNhdmVTZXR0aW5ncyk7XHJcbiAgICAgICAgYnV0dG9uc1dyYXBwZXIuYXBwZW5kQ2hpbGQoc2F2ZVNldHRpbmdzQnV0dG9uKTtcclxuXHJcbiAgICAgICAgZGlhbG9nQm9keS5hcHBlbmRDaGlsZChidXR0b25zV3JhcHBlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IGRpYWxvZ0Zvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpYWxvZ0Zvb3Rlci5jbGFzc0xpc3QuYWRkKCdkaWFsb2ctZm9vdGVyJywgYmxvY2tDbGFzcywgZGlhbG9nTmFtZSk7XHJcbiAgICAgICAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBzdGF0dXNFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3N1YnRpdGxlJyk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdHVzRWxlbWVudCA9IHN0YXR1c0VsZW1lbnQ7XHJcbiAgICAgICAgZGlhbG9nRm9vdGVyLmFwcGVuZENoaWxkKHN0YXR1c0VsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IGBDb25uZWN0aW5nLi4uYDtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xyXG5cclxuICAgICAgICAvLyBjb25zdCBjYW5jZWxCdXR0b24gPSAodGhpcy5jYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSk7XHJcbiAgICAgICAgLy8gY2FuY2VsQnV0dG9uLmlubmVyVGV4dCA9ICdDYW5jZWwnO1xyXG4gICAgICAgIC8vIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2FuY2VsKTtcclxuICAgICAgICBjb25zdCBva0J1dHRvbiA9ICh0aGlzLm9rQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJykpO1xyXG4gICAgICAgIG9rQnV0dG9uLmlubmVyVGV4dCA9ICdPcGVuJztcclxuICAgICAgICBva0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgb2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5TdHJlYW0pO1xyXG4gICAgICAgIGRpYWxvZ0Zvb3Rlci5hcHBlbmRDaGlsZChva0J1dHRvbik7XHJcbiAgICAgICAgLy8gZGlhbG9nRm9vdGVyLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XHJcbiAgICAgICAgZGlhbG9nQm9keS5hcHBlbmRDaGlsZChkaWFsb2dGb290ZXIpO1xyXG4gICAgICAgIGRpYWxvZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChkaWFsb2dIZWFkZXIpO1xyXG4gICAgICAgIGRpYWxvZ0NvbnRhaW5lci5hcHBlbmRDaGlsZChkaWFsb2dCb2R5KTtcclxuICAgICAgICBkaWFsb2dDb250YWluZXIuYXBwZW5kQ2hpbGQoZGlhbG9nRm9vdGVyKTtcclxuICAgICAgICBiYWNrZ3JvdW5kLmFwcGVuZENoaWxkKGRpYWxvZ0NvbnRhaW5lcik7XHJcbiAgICAgICAgYmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CYWNrZ3JvdW5kQ2xpY2spO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZCk7XHJcbiAgICAgICAgcmV0dXJuIGJhY2tncm91bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVVSSgpOiB2b2lkIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuYmFja2dyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5va0J1dHRvbj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5TdHJlYW0pO1xyXG4gICAgICAgIC8vIHRoaXMuY2FuY2VsQnV0dG9uPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2FuY2VsKTtcclxuICAgICAgICB0aGlzLnJlc2V0U2V0dGluZ3NCdXR0b24/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZXNldFNldHRpbmdzKTtcclxuICAgICAgICB0aGlzLmxvYWRTZXR0aW5nc0J1dHRvbj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmxvYWRTZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3NCdXR0b24/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zYXZlU2V0dGluZ3MpO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CYWNrZ3JvdW5kQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25CYWNrZ3JvdW5kQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBjYW5jZWwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtUmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhY2hFdmVudHNMaXN0ZW5lcnModGhpcy5zdHJlYW1SZWNlaXZlcik7XHJcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVtaXQoJ2Nsb3NlZCcsIHsgZGlhbG9nOiB0aGlzLCByZXN1bHQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlVUkoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldFNldHRpbmdzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuZ2V0UGxheWVyKCk7XHJcbiAgICAgICAgaWYgKHBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxJbnB1dHNGcm9tVmlkZW9TZXR0aW5ncyhwbGF5ZXIuZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCksIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgbG9hZFNldHRpbmdzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlVmlkZW9TZXR0aW5nc0ZvclBsYXllcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHNhdmVTZXR0aW5ncyA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCB2aWRlb1NldHRpbmdzID0gdGhpcy5idWlsZFZpZGVvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmdldFBsYXllcigpO1xyXG4gICAgICAgIGlmICh2aWRlb1NldHRpbmdzICYmIHBsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCBmaXRUb1NjcmVlbiA9IHRoaXMuZ2V0Rml0VG9TY3JlZW5WYWx1ZSgpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2F2ZVZpZGVvU2V0dGluZ3ModGhpcy51ZGlkLCB2aWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbiwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIG9wZW5TdHJlYW0gPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9TZXR0aW5ncyA9IHRoaXMuYnVpbGRWaWRlb1NldHRpbmdzKCk7XHJcbiAgICAgICAgaWYgKCF2aWRlb1NldHRpbmdzIHx8ICF0aGlzLnN0cmVhbVJlY2VpdmVyIHx8ICF0aGlzLnBsYXllck5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmaXRUb1NjcmVlbiA9IHRoaXMuZ2V0Rml0VG9TY3JlZW5WYWx1ZSgpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnRzTGlzdGVuZXJzKHRoaXMuc3RyZWFtUmVjZWl2ZXIpO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY2xvc2VkJywgeyBkaWFsb2c6IHRoaXMsIHJlc3VsdDogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLnJlbW92ZVVJKCk7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gU3RyZWFtQ2xpZW50U2NyY3B5LmNyZWF0ZVBsYXllcih0aGlzLnBsYXllck5hbWUsIHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgaWYgKCFwbGF5ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFByZXZpb3VzbHlVc2VkUGxheWVyKHRoaXMucGxheWVyTmFtZSk7XHJcbiAgICAgICAgLy8gcmV0dXJuO1xyXG4gICAgICAgIHBsYXllci5zZXRWaWRlb1NldHRpbmdzKHZpZGVvU2V0dGluZ3MsIGZpdFRvU2NyZWVuLCBmYWxzZSk7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zOiBQYXJhbXNTdHJlYW1TY3JjcHkgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMucGFyYW1zLFxyXG4gICAgICAgICAgICB1ZGlkOiB0aGlzLnVkaWQsXHJcbiAgICAgICAgICAgIGZpdFRvU2NyZWVuLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU3RyZWFtQ2xpZW50U2NyY3B5LnN0YXJ0KHBhcmFtcywgdGhpcy5zdHJlYW1SZWNlaXZlciwgcGxheWVyLCBmaXRUb1NjcmVlbiwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci50cmlnZ2VySW5pdGlhbEluZm9FdmVudHMoKTtcclxuICAgIH07XHJcbn1cclxuIiwiaW1wb3J0ICcuLi8uLi8uLi9zdHlsZS9kZXZpY2VsaXN0LmNzcyc7XG5pbXBvcnQgeyBCYXNlRGV2aWNlVHJhY2tlciB9IGZyb20gJy4uLy4uL2NsaWVudC9CYXNlRGV2aWNlVHJhY2tlcic7XG5pbXBvcnQgeyBTRVJWRVJfUE9SVCB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQUNUSU9OIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0FjdGlvbic7XG5pbXBvcnQgR29vZ0RldmljZURlc2NyaXB0b3IgZnJvbSAnLi4vLi4vLi4vdHlwZXMvR29vZ0RldmljZURlc2NyaXB0b3InO1xuaW1wb3J0IHsgQ29udHJvbENlbnRlckNvbW1hbmQgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQ29udHJvbENlbnRlckNvbW1hbmQnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50U2NyY3B5IH0gZnJvbSAnLi9TdHJlYW1DbGllbnRTY3JjcHknO1xuaW1wb3J0IFN2Z0ltYWdlIGZyb20gJy4uLy4uL3VpL1N2Z0ltYWdlJztcbmltcG9ydCB7IGh0bWwgfSBmcm9tICcuLi8uLi91aS9IdG1sVGFnJztcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL1V0aWwnO1xuaW1wb3J0IHsgQXR0cmlidXRlIH0gZnJvbSAnLi4vLi4vQXR0cmlidXRlJztcbmltcG9ydCB7IERldmljZVN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0RldmljZVN0YXRlJztcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9NZXNzYWdlJztcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcbmltcG9ydCB7IEhvc3RJdGVtIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvQ29uZmlndXJhdGlvbic7XG5pbXBvcnQgeyBDaGFubmVsQ29kZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9DaGFubmVsQ29kZSc7XG5pbXBvcnQgeyBUb29sIH0gZnJvbSAnLi4vLi4vY2xpZW50L1Rvb2wnO1xuXG50eXBlIEZpZWxkID0ga2V5b2YgR29vZ0RldmljZURlc2NyaXB0b3IgfCAoKGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yKSA9PiBzdHJpbmcpO1xudHlwZSBEZXNjcmlwdGlvbkNvbHVtbiA9IHsgdGl0bGU6IHN0cmluZzsgZmllbGQ6IEZpZWxkIH07XG5cbmNvbnN0IERFU0NfQ09MVU1OUzogRGVzY3JpcHRpb25Db2x1bW5bXSA9IFtcbiAgICB7XG4gICAgICAgIHRpdGxlOiAnTmV0IEludGVyZmFjZScsXG4gICAgICAgIGZpZWxkOiAnaW50ZXJmYWNlcycsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRpdGxlOiAnU2VydmVyIFBJRCcsXG4gICAgICAgIGZpZWxkOiAncGlkJyxcbiAgICB9LFxuXTtcblxuZXhwb3J0IGNsYXNzIERldmljZVRyYWNrZXIgZXh0ZW5kcyBCYXNlRGV2aWNlVHJhY2tlcjxHb29nRGV2aWNlRGVzY3JpcHRvciwgbmV2ZXI+IHtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFDVElPTiA9IEFDVElPTi5HT09HX0RFVklDRV9MSVNUO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ1JFQVRFX0RJUkVDVF9MSU5LUyA9IHRydWU7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzQnlVcmw6IE1hcDxzdHJpbmcsIERldmljZVRyYWNrZXI+ID0gbmV3IE1hcCgpO1xuICAgIHByb3RlY3RlZCBzdGF0aWMgdG9vbHM6IFNldDxUb29sPiA9IG5ldyBTZXQoKTtcbiAgICBwcm90ZWN0ZWQgdGFibGVJZCA9ICdnb29nX2RldmljZV9saXN0JztcblxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQoaG9zdEl0ZW06IEhvc3RJdGVtKTogRGV2aWNlVHJhY2tlciB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVcmxGb3JUcmFja2VyKGhvc3RJdGVtKS50b1N0cmluZygpO1xuICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlc0J5VXJsLmdldCh1cmwpO1xuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBEZXZpY2VUcmFja2VyKGhvc3RJdGVtLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKGhvc3RJdGVtOiBIb3N0SXRlbSk6IERldmljZVRyYWNrZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydChob3N0SXRlbSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHBhcmFtczogSG9zdEl0ZW0sIGRpcmVjdFVybDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHsgLi4ucGFyYW1zLCBhY3Rpb246IERldmljZVRyYWNrZXIuQUNUSU9OIH0sIGRpcmVjdFVybCk7XG4gICAgICAgIERldmljZVRyYWNrZXIuaW5zdGFuY2VzQnlVcmwuc2V0KGRpcmVjdFVybCwgdGhpcyk7XG4gICAgICAgIHRoaXMuYnVpbGREZXZpY2VUYWJsZSgpO1xuICAgICAgICB0aGlzLm9wZW5OZXdDb25uZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0T3BlbigpOiB2b2lkIHtcbiAgICAgICAgLy8gbm90aGluZyBoZXJlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRJZEFuZEhvc3ROYW1lKGlkOiBzdHJpbmcsIGhvc3ROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0SWRBbmRIb3N0TmFtZShpZCwgaG9zdE5hbWUpO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIERldmljZVRyYWNrZXIuaW5zdGFuY2VzQnlVcmwudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pZCA9PT0gaWQgJiYgdmFsdWUgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgIGBUcmFja2VyIHdpdGggdXJsOiBcIiR7dGhpcy51cmx9XCIgaGFzIHRoZSBzYW1lIGlkKCR7dGhpcy5pZH0pIGFzIHRyYWNrZXIgd2l0aCB1cmwgXCIke3ZhbHVlLnVybH1cImAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoaXMgdHJhY2tlciB3aWxsIHNodXQgZG93bmApO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25JbnRlcmZhY2VTZWxlY3RlZCA9IChldmVudDogRXZlbnQpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdEVsZW1lbnQuc2VsZWN0ZWRPcHRpb25zWzBdO1xuICAgICAgICBjb25zdCB1cmwgPSBkZWNvZGVVUkkob3B0aW9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVVJMKSB8fCAnJyk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5OQU1FKSB8fCAnJztcbiAgICAgICAgY29uc3QgZnVsbE5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoc2VsZWN0RWxlbWVudC5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLkZVTExfTkFNRSkgfHwgJycpO1xuICAgICAgICBjb25zdCB1ZGlkID0gc2VsZWN0RWxlbWVudC5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlVESUQpIHx8ICcnO1xuICAgICAgICB0aGlzLnVwZGF0ZUxpbmsoeyB1cmwsIG5hbWUsIGZ1bGxOYW1lLCB1ZGlkLCBzdG9yZTogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSB1cGRhdGVMaW5rKHBhcmFtczogeyB1cmw6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBmdWxsTmFtZTogc3RyaW5nOyB1ZGlkOiBzdHJpbmc7IHN0b3JlOiBib29sZWFuIH0pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyB1cmwsIG5hbWUsIGZ1bGxOYW1lLCB1ZGlkLCBzdG9yZSB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBwbGF5ZXJUZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChgJHtEZXZpY2VUcmFja2VyLkF0dHJpYnV0ZVByZWZpeFBsYXllckZvcn0ke2Z1bGxOYW1lfWApLFxuICAgICAgICApO1xuICAgICAgICBpZiAodHlwZW9mIHVkaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0b3JlKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbFN0b3JhZ2VLZXkgPSBEZXZpY2VUcmFja2VyLmdldExvY2FsU3RvcmFnZUtleShmdWxsTmFtZSB8fCAnJyk7XG4gICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlICYmIG5hbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VLZXksIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IEFDVElPTi5TVFJFQU1fU0NSQ1BZO1xuICAgICAgICBwbGF5ZXJUZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIGNvbnN0IHBsYXllckZ1bGxOYW1lID0gaXRlbS5nZXRBdHRyaWJ1dGUoRGV2aWNlVHJhY2tlci5BdHRyaWJ1dGVQbGF5ZXJGdWxsTmFtZSk7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJDb2RlTmFtZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKERldmljZVRyYWNrZXIuQXR0cmlidXRlUGxheWVyQ29kZU5hbWUpO1xuICAgICAgICAgICAgaWYgKCFwbGF5ZXJGdWxsTmFtZSB8fCAhcGxheWVyQ29kZU5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gRGV2aWNlVHJhY2tlci5idWlsZExpbmsoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHVkaWQsXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjogZGVjb2RlVVJJQ29tcG9uZW50KHBsYXllckNvZGVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgd3M6IHVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChwbGF5ZXJGdWxsTmFtZSksXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BY3Rpb25CdXR0b25DbGljayA9IChldmVudDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBjb25zdCB1ZGlkID0gYnV0dG9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVURJRCk7XG4gICAgICAgIGNvbnN0IHBpZFN0cmluZyA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlBJRCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5DT01NQU5EKSBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IHBpZCA9IHBhcnNlSW50KHBpZFN0cmluZywgMTApO1xuICAgICAgICBjb25zdCBkYXRhOiBNZXNzYWdlID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuZ2V0TmV4dElkKCksXG4gICAgICAgICAgICB0eXBlOiBjb21tYW5kLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHVkaWQ6IHR5cGVvZiB1ZGlkID09PSAnc3RyaW5nJyA/IHVkaWQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcGlkOiBpc05hTihwaWQpID8gdW5kZWZpbmVkIDogcGlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IHRoaXMud3MuT1BFTikge1xuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRMb2NhbFN0b3JhZ2VLZXkodWRpZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBkZXZpY2VfbGlzdDo6JHt1ZGlkfTo6aW50ZXJmYWNlYDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZVVybChwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsIHVkaWQgPSAnJyk6IFVSTCB7XG4gICAgICAgIGNvbnN0IHNlY3VyZSA9ICEhcGFyYW1zLnNlY3VyZTtcbiAgICAgICAgY29uc3QgaG9zdG5hbWUgPSBwYXJhbXMuaG9zdG5hbWUgfHwgbG9jYXRpb24uaG9zdG5hbWU7XG4gICAgICAgIGNvbnN0IHBvcnQgPSB0eXBlb2YgcGFyYW1zLnBvcnQgPT09ICdudW1iZXInID8gcGFyYW1zLnBvcnQgOiBzZWN1cmUgPyA0NDMgOiA4MDtcbiAgICAgICAgY29uc3QgcGF0aG5hbWUgPSBwYXJhbXMucGF0aG5hbWUgfHwgbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgIGNvbnN0IHVybE9iamVjdCA9IHRoaXMuYnVpbGRVcmwoeyAuLi5wYXJhbXMsIHNlY3VyZSwgaG9zdG5hbWUsIHBvcnQsIHBhdGhuYW1lIH0pO1xuICAgICAgICBpZiAodWRpZCkge1xuICAgICAgICAgICAgdXJsT2JqZWN0LnNlYXJjaFBhcmFtcy5zZXQoJ2FjdGlvbicsIEFDVElPTi5QUk9YWV9BREIpO1xuICAgICAgICAgICAgdXJsT2JqZWN0LnNlYXJjaFBhcmFtcy5zZXQoJ3JlbW90ZScsIGB0Y3A6JHtTRVJWRVJfUE9SVC50b1N0cmluZygxMCl9YCk7XG4gICAgICAgICAgICB1cmxPYmplY3Quc2VhcmNoUGFyYW1zLnNldCgndWRpZCcsIHVkaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmxPYmplY3Q7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBjcmVhdGVJbnRlcmZhY2VPcHRpb24obmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZyk6IEhUTUxPcHRpb25FbGVtZW50IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVVJMLCB1cmwpO1xuICAgICAgICBvcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuTkFNRSwgbmFtZSk7XG4gICAgICAgIG9wdGlvbkVsZW1lbnQuaW5uZXJUZXh0ID0gYHByb3h5IG92ZXIgYWRiYDtcbiAgICAgICAgcmV0dXJuIG9wdGlvbkVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgdGl0bGVUb0NsYXNzTmFtZSh0aXRsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICdfJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGJ1aWxkRGV2aWNlUm93KHRib2R5OiBFbGVtZW50LCBkZXZpY2U6IEdvb2dEZXZpY2VEZXNjcmlwdG9yKTogdm9pZCB7XG4gICAgICAgIGxldCBzZWxlY3RlZEludGVyZmFjZVVybCA9ICcnO1xuICAgICAgICBsZXQgc2VsZWN0ZWRJbnRlcmZhY2VOYW1lID0gJyc7XG4gICAgICAgIGNvbnN0IGJsb2NrQ2xhc3MgPSAnZGVzYy1ibG9jayc7XG4gICAgICAgIGNvbnN0IGZ1bGxOYW1lID0gYCR7dGhpcy5pZH1fJHtVdGlsLmVzY2FwZVVkaWQoZGV2aWNlLnVkaWQpfWA7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gZGV2aWNlLnN0YXRlID09PSBEZXZpY2VTdGF0ZS5ERVZJQ0U7XG4gICAgICAgIGxldCBoYXNQaWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc2VydmljZXNJZCA9IGBkZXZpY2Vfc2VydmljZXNfJHtmdWxsTmFtZX1gO1xuICAgICAgICBjb25zdCByb3cgPSBodG1sYDxkaXYgY2xhc3M9XCJkZXZpY2UgJHtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogJ25vdC1hY3RpdmUnfVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldmljZS1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLW5hbWVcIj4ke2RldmljZVsncm8ucHJvZHVjdC5tYW51ZmFjdHVyZXInXX0gJHtkZXZpY2VbJ3JvLnByb2R1Y3QubW9kZWwnXX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV2aWNlLXNlcmlhbFwiPiR7ZGV2aWNlLnVkaWR9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldmljZS12ZXJzaW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxlYXNlLXZlcnNpb25cIj4ke2RldmljZVsncm8uYnVpbGQudmVyc2lvbi5yZWxlYXNlJ119PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZGstdmVyc2lvblwiPiR7ZGV2aWNlWydyby5idWlsZC52ZXJzaW9uLnNkayddfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXZpY2Utc3RhdGVcIiB0aXRsZT1cIlN0YXRlOiAke2RldmljZS5zdGF0ZX1cIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBpZD1cIiR7c2VydmljZXNJZH1cIiBjbGFzcz1cInNlcnZpY2VzXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PmAuY29udGVudDtcbiAgICAgICAgY29uc3Qgc2VydmljZXMgPSByb3cuZ2V0RWxlbWVudEJ5SWQoc2VydmljZXNJZCk7XG4gICAgICAgIGlmICghc2VydmljZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIERldmljZVRyYWNrZXIudG9vbHMuZm9yRWFjaCgodG9vbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0b29sLmNyZWF0ZUVudHJ5Rm9yRGV2aWNlTGlzdChkZXZpY2UsIGJsb2NrQ2xhc3MsIHRoaXMucGFyYW1zKTtcbiAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICBlbnRyeS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtICYmIHNlcnZpY2VzLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcy5hcHBlbmRDaGlsZChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzdHJlYW1FbnRyeSA9IFN0cmVhbUNsaWVudFNjcmNweS5jcmVhdGVFbnRyeUZvckRldmljZUxpc3QoZGV2aWNlLCBibG9ja0NsYXNzLCBmdWxsTmFtZSwgdGhpcy5wYXJhbXMpO1xuICAgICAgICBzdHJlYW1FbnRyeSAmJiBzZXJ2aWNlcy5hcHBlbmRDaGlsZChzdHJlYW1FbnRyeSk7XG5cbiAgICAgICAgREVTQ19DT0xVTU5TLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGl0bGUgfSA9IGl0ZW07XG4gICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBpdGVtLmZpZWxkO1xuICAgICAgICAgICAgbGV0IHZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uZmllbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnJyArIGRldmljZVtpdGVtLmZpZWxkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVtLmZpZWxkKGRldmljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGQuY2xhc3NMaXN0LmFkZChEZXZpY2VUcmFja2VyLnRpdGxlVG9DbGFzc05hbWUodGl0bGUpLCBibG9ja0NsYXNzKTtcbiAgICAgICAgICAgIHNlcnZpY2VzLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWUgPT09ICdwaWQnKSB7XG4gICAgICAgICAgICAgICAgaGFzUGlkID0gdmFsdWUgIT09ICctMSc7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmNsYXNzTmFtZSA9ICdhY3Rpb24tYnV0dG9uIGtpbGwtc2VydmVyLWJ1dHRvbic7XG4gICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVURJRCwgZGV2aWNlLnVkaWQpO1xuICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlBJRCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGxldCBjb21tYW5kOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLm9uY2xpY2sgPSB0aGlzLm9uQWN0aW9uQnV0dG9uQ2xpY2s7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNQaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSBDb250cm9sQ2VudGVyQ29tbWFuZC5LSUxMX1NFUlZFUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi50aXRsZSA9ICdLaWxsIHNlcnZlcic7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uYXBwZW5kQ2hpbGQoU3ZnSW1hZ2UuY3JlYXRlKFN2Z0ltYWdlLkljb24uQ0FOQ0VMKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kID0gQ29udHJvbENlbnRlckNvbW1hbmQuU1RBUlRfU0VSVkVSO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnRpdGxlID0gJ1N0YXJ0IHNlcnZlcic7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uYXBwZW5kQ2hpbGQoU3ZnSW1hZ2UuY3JlYXRlKFN2Z0ltYWdlLkljb24uUkVGUkVTSCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlLkNPTU1BTkQsIGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IGRldmljZVsnbGFzdC51cGRhdGUudGltZXN0YW1wJ107XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnRpdGxlID0gYExhc3QgdXBkYXRlIG9uICR7ZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKX0gYXQgJHtkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24udGl0bGUgPSBgTm90IGFjdGl2ZWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmFwcGVuZENoaWxkKFN2Z0ltYWdlLmNyZWF0ZShTdmdJbWFnZS5JY29uLk9GRkxJTkUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChhY3Rpb25CdXR0b24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWVsZE5hbWUgPT09ICdpbnRlcmZhY2VzJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5SW50ZXJmYWNlVXJsID0gRGV2aWNlVHJhY2tlci5jcmVhdGVVcmwodGhpcy5wYXJhbXMsIGRldmljZS51ZGlkKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5SW50ZXJmYWNlTmFtZSA9ICdwcm94eSc7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gRGV2aWNlVHJhY2tlci5nZXRMb2NhbFN0b3JhZ2VLZXkoZnVsbE5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTZWxlY3RlZCA9IGxvY2FsU3RvcmFnZSAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuVURJRCwgZGV2aWNlLnVkaWQpO1xuICAgICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5GVUxMX05BTUUsIGZ1bGxOYW1lKTtcbiAgICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoYCR7RGV2aWNlVHJhY2tlci5BdHRyaWJ1dGVQcmVmaXhJbnRlcmZhY2VTZWxlY3RGb3J9JHtmdWxsTmFtZX1gKSxcbiAgICAgICAgICAgICAgICApO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICBkZXZpY2UuaW50ZXJmYWNlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0bmFtZTogdmFsdWUuaXB2NCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IFNFUlZFUl9QT1JULFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBEZXZpY2VUcmFja2VyLmNyZWF0ZVVybChwYXJhbXMpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsZW1lbnQgPSBEZXZpY2VUcmFja2VyLmNyZWF0ZUludGVyZmFjZU9wdGlvbih2YWx1ZS5uYW1lLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmlubmVyVGV4dCA9IGAke3ZhbHVlLm5hbWV9OiAke3ZhbHVlLmlwdjR9YDtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3RlZCA9PT0gdmFsdWUubmFtZSB8fCAhc2VsZWN0ZWRJbnRlcmZhY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnRlcmZhY2VVcmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnRlcmZhY2VOYW1lID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXZpY2VbJ3dpZmkuaW50ZXJmYWNlJ10gPT09IHZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGJQcm94eU9wdGlvbiA9IERldmljZVRyYWNrZXIuY3JlYXRlSW50ZXJmYWNlT3B0aW9uKHByb3h5SW50ZXJmYWNlTmFtZSwgcHJveHlJbnRlcmZhY2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFNlbGVjdGVkID09PSBwcm94eUludGVyZmFjZU5hbWUgfHwgIXNlbGVjdGVkSW50ZXJmYWNlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRiUHJveHlPcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbnRlcmZhY2VVcmwgPSBwcm94eUludGVyZmFjZVVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSW50ZXJmYWNlTmFtZSA9IHByb3h5SW50ZXJmYWNlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKGFkYlByb3h5T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5jbGFzc05hbWUgPSAnYWN0aW9uLWJ1dHRvbiB1cGRhdGUtaW50ZXJmYWNlcy1idXR0b24gYWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnRpdGxlID0gYFVwZGF0ZSBpbmZvcm1hdGlvbmA7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5hcHBlbmRDaGlsZChTdmdJbWFnZS5jcmVhdGUoU3ZnSW1hZ2UuSWNvbi5SRUZSRVNIKSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlVESUQsIGRldmljZS51ZGlkKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGUuQ09NTUFORCwgQ29udHJvbENlbnRlckNvbW1hbmQuVVBEQVRFX0lOVEVSRkFDRVMpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24ub25jbGljayA9IHRoaXMub25BY3Rpb25CdXR0b25DbGljaztcbiAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoYWN0aW9uQnV0dG9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudC5vbmNoYW5nZSA9IHRoaXMub25JbnRlcmZhY2VTZWxlY3RlZDtcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChzZWxlY3RFbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGQuaW5uZXJUZXh0ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChEZXZpY2VUcmFja2VyLkNSRUFURV9ESVJFQ1RfTElOS1MpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHtEZXZpY2VUcmFja2VyLkF0dHJpYnV0ZVByZWZpeFBsYXllckZvcn0ke2Z1bGxOYW1lfWA7XG4gICAgICAgICAgICBTdHJlYW1DbGllbnRTY3JjcHkuZ2V0UGxheWVycygpLmZvckVhY2goKHBsYXllckNsYXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwbGF5ZXJDb2RlTmFtZSwgcGxheWVyRnVsbE5hbWUgfSA9IHBsYXllckNsYXNzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgcGxheWVyVGQuY2xhc3NMaXN0LmFkZChibG9ja0NsYXNzKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJUZC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBlbmNvZGVVUklDb21wb25lbnQobmFtZSkpO1xuICAgICAgICAgICAgICAgIHBsYXllclRkLnNldEF0dHJpYnV0ZShEZXZpY2VUcmFja2VyLkF0dHJpYnV0ZVBsYXllckZ1bGxOYW1lLCBlbmNvZGVVUklDb21wb25lbnQocGxheWVyRnVsbE5hbWUpKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJUZC5zZXRBdHRyaWJ1dGUoRGV2aWNlVHJhY2tlci5BdHRyaWJ1dGVQbGF5ZXJDb2RlTmFtZSwgZW5jb2RlVVJJQ29tcG9uZW50KHBsYXllckNvZGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgc2VydmljZXMuYXBwZW5kQ2hpbGQocGxheWVyVGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICBpZiAoRGV2aWNlVHJhY2tlci5DUkVBVEVfRElSRUNUX0xJTktTICYmIGhhc1BpZCAmJiBzZWxlY3RlZEludGVyZmFjZVVybCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5rKHtcbiAgICAgICAgICAgICAgICB1cmw6IHNlbGVjdGVkSW50ZXJmYWNlVXJsLFxuICAgICAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkSW50ZXJmYWNlTmFtZSxcbiAgICAgICAgICAgICAgICBmdWxsTmFtZSxcbiAgICAgICAgICAgICAgICB1ZGlkOiBkZXZpY2UudWRpZCxcbiAgICAgICAgICAgICAgICBzdG9yZTogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsQ29kZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQ2hhbm5lbENvZGUuR1RSQztcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgICAgICBEZXZpY2VUcmFja2VyLmluc3RhbmNlc0J5VXJsLmRlbGV0ZSh0aGlzLnVybC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKCFEZXZpY2VUcmFja2VyLmluc3RhbmNlc0J5VXJsLnNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEJhc2VEZXZpY2VUcmFja2VyLkhPTERFUl9FTEVNRU5UX0lEKTtcbiAgICAgICAgICAgIGlmIChob2xkZXIgJiYgaG9sZGVyLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBob2xkZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChob2xkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICcuLi8uLi8uLi9zdHlsZS9kZXZ0b29scy5jc3MnO1xyXG5pbXBvcnQgeyBNYW5hZ2VyQ2xpZW50IH0gZnJvbSAnLi4vLi4vY2xpZW50L01hbmFnZXJDbGllbnQnO1xyXG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQWN0aW9uJztcclxuaW1wb3J0IHsgUGFyYW1zRGV2dG9vbHMgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNEZXZ0b29scyc7XHJcbmltcG9ydCB7IFJlbW90ZURldnRvb2xzQ29tbWFuZCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1JlbW90ZURldnRvb2xzQ29tbWFuZCc7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9NZXNzYWdlJztcclxuaW1wb3J0IHsgRGV2dG9vbHNJbmZvLCBSZW1vdGVCcm93c2VySW5mbywgUmVtb3RlVGFyZ2V0LCBUYXJnZXREZXNjcmlwdGlvbiB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1JlbW90ZURldnRvb2xzJztcclxuaW1wb3J0IEdvb2dEZXZpY2VEZXNjcmlwdG9yIGZyb20gJy4uLy4uLy4uL3R5cGVzL0dvb2dEZXZpY2VEZXNjcmlwdG9yJztcclxuaW1wb3J0IHsgQmFzZURldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi9jbGllbnQvQmFzZURldmljZVRyYWNrZXInO1xyXG5pbXBvcnQgeyBQYXJhbXNEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUGFyYW1zRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL1V0aWwnO1xyXG5cclxuY29uc3QgRlJPTlRFTkRfUkUgPSAvXmh0dHBzPzpcXC9cXC9jaHJvbWUtZGV2dG9vbHMtZnJvbnRlbmRcXC5hcHBzcG90XFwuY29tXFwvc2VydmVfcmV2XFwvKEAuKikvO1xyXG5cclxuY29uc3QgVEFHID0gJ1tEZXZ0b29sc0NsaWVudF0nO1xyXG5cclxuZXhwb3J0IGNsYXNzIERldnRvb2xzQ2xpZW50IGV4dGVuZHMgTWFuYWdlckNsaWVudDxQYXJhbXNEZXZ0b29scywgbmV2ZXI+IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQUNUSU9OID0gQUNUSU9OLkRFVlRPT0xTO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBUSU1FT1VUID0gMTAwMDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0YXJ0KHBhcmFtczogUGFyYW1zRGV2dG9vbHMpOiBEZXZ0b29sc0NsaWVudCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEZXZ0b29sc0NsaWVudChwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGltZW91dD86IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaGlkZGVuSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRvb2x0aXA6IEhUTUxTcGFuRWxlbWVudDtcclxuICAgIHByaXZhdGUgaGlkZVRpbWVvdXQ/OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVkaWQ6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogUGFyYW1zRGV2dG9vbHMpIHtcclxuICAgICAgICBzdXBlcihwYXJhbXMpO1xyXG4gICAgICAgIHRoaXMudWRpZCA9IHRoaXMucGFyYW1zLnVkaWQ7XHJcbiAgICAgICAgdGhpcy5vcGVuTmV3Q29ubmVjdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0VGl0bGUoYERldnRvb2xzICR7dGhpcy51ZGlkfWApO1xyXG4gICAgICAgIHRoaXMuc2V0Qm9keUNsYXNzKCdkZXZ0b29scycpO1xyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQuY2xhc3NOYW1lID0gJ2hpZGRlbic7XHJcbiAgICAgICAgdGhpcy5oaWRkZW5JbnB1dC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaGlkZGVuSW5wdXQpO1xyXG4gICAgICAgIHRoaXMudG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICB0aGlzLnRvb2x0aXAuaW5uZXJUZXh0ID0gJ0NvcGllZCEnO1xyXG4gICAgICAgIHRoaXMudG9vbHRpcC5jbGFzc05hbWUgPSAndG9vbHRpcCc7XHJcbiAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VQYXJhbWV0ZXJzKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zKTogUGFyYW1zRGV2dG9vbHMge1xyXG4gICAgICAgIGNvbnN0IHR5cGVkUGFyYW1zID0gc3VwZXIucGFyc2VQYXJhbWV0ZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IHR5cGVkUGFyYW1zO1xyXG4gICAgICAgIGlmIChhY3Rpb24gIT09IEFDVElPTi5ERVZUT09MUykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IGFjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyAuLi50eXBlZFBhcmFtcywgYWN0aW9uLCB1ZGlkOiBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3VkaWQnLCB0cnVlKSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGNvbXBhcmVCcm93c2VycyA9IChhOiBSZW1vdGVCcm93c2VySW5mbywgYjogUmVtb3RlQnJvd3NlckluZm8pOiBudW1iZXIgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFCcm93c2VyID0gYS52ZXJzaW9uLkJyb3dzZXI7XHJcbiAgICAgICAgY29uc3QgYkJyb3dzZXIgPSBiLnZlcnNpb24uQnJvd3NlcjtcclxuICAgICAgICBpZiAoYUJyb3dzZXIgPiBiQnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFCcm93c2VyIDwgYkJyb3dzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk6IFVSTCB7XHJcbiAgICAgICAgY29uc3QgbG9jYWxVcmwgPSBzdXBlci5idWlsZERpcmVjdFdlYlNvY2tldFVybCgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wYXJhbXMudWRpZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgbG9jYWxVcmwuc2VhcmNoUGFyYW1zLnNldCgndWRpZCcsIHRoaXMucGFyYW1zLnVkaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9jYWxVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0Q2xvc2UoZXZlbnQ6IENsb3NlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFRBRywgYFNvY2tldCBjbG9zZWQuIENvZGU6ICR7ZXZlbnQuY29kZX0uJHtldmVudC5yZWFzb24gPyAnIFJlYXNvbjogJyArIGV2ZW50LnJlYXNvbiA6ICcnfWApO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5OZXdDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0TWVzc2FnZShldmVudDogTWVzc2FnZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2U6IE1lc3NhZ2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgZXJyb3IuZGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gRGV2dG9vbHNDbGllbnQuQUNUSU9OKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgYFVua25vd24gbWVzc2FnZSB0eXBlOiAke21lc3NhZ2UudHlwZX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsaXN0ID0gbWVzc2FnZS5kYXRhIGFzIERldnRvb2xzSW5mbztcclxuICAgICAgICB0aGlzLmJ1aWxkTGlzdChsaXN0KTtcclxuICAgICAgICBpZiAoIXRoaXMudGltZW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnJlcXVlc3RMaXN0VXBkYXRlLCBEZXZ0b29sc0NsaWVudC5USU1FT1VUKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0T3BlbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3RMaXN0VXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXF1ZXN0TGlzdFVwZGF0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLnRpbWVvdXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKCF0aGlzLndzIHx8IHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gdGhpcy53cy5PUEVOKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53cy5zZW5kKFxyXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBSZW1vdGVEZXZ0b29sc0NvbW1hbmQuTElTVF9ERVZUT09MUyxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVEZXZpY2VCbG9jayhpbmZvOiBEZXZ0b29sc0luZm8pOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGQuY2xhc3NOYW1lID0gJ2RldmljZSc7XHJcbiAgICAgICAgZC5pZCA9IGBkZXZpY2U6JHtpbmZvLmRldmljZVNlcmlhbH1gO1xyXG4gICAgICAgIHJldHVybiBkO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjcmVhdGVEZXZpY2VIZWFkZXIoaW5mbzogRGV2dG9vbHNJbmZvKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBoLmNsYXNzTmFtZSA9ICdkZXZpY2UtaGVhZGVyJztcclxuICAgICAgICBjb25zdCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbi5jbGFzc05hbWUgPSAnZGV2aWNlLW5hbWUnO1xyXG4gICAgICAgIG4uaW5uZXJUZXh0ID0gaW5mby5kZXZpY2VOYW1lO1xyXG4gICAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzLmNsYXNzTmFtZSA9ICdkZXZpY2Utc2VyaWFsJztcclxuICAgICAgICBzLmlubmVyVGV4dCA9IGAjJHtpbmZvLmRldmljZVNlcmlhbC50b1VwcGVyQ2FzZSgpfWA7XHJcbiAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHAuY2xhc3NOYW1lID0gJ2RldmljZS1wb3J0cyc7XHJcbiAgICAgICAgaC5hcHBlbmRDaGlsZChuKTtcclxuICAgICAgICBoLmFwcGVuZENoaWxkKHMpO1xyXG4gICAgICAgIGguYXBwZW5kQ2hpbGQocCk7XHJcbiAgICAgICAgcmV0dXJuIGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVCcm93c2Vyc0Jsb2NrKGluZm86IERldnRvb2xzSW5mbyk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICBjb25zdCB7IGRldmljZVNlcmlhbCB9ID0gaW5mbztcclxuICAgICAgICBjb25zdCBicyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGJzLmNsYXNzTmFtZSA9ICdicm93c2Vycyc7XHJcbiAgICAgICAgaW5mby5icm93c2Vycy5zb3J0KERldnRvb2xzQ2xpZW50LmNvbXBhcmVCcm93c2VycykuZm9yRWFjaCgoYnJvd3NlcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBiID0gdGhpcy5jcmVhdGVCcm93c2VyQmxvY2soZGV2aWNlU2VyaWFsLCBicm93c2VyKTtcclxuICAgICAgICAgICAgYnMuYXBwZW5kQ2hpbGQoYik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGJzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlQnJvd3NlckJsb2NrKHNlcmlhbDogc3RyaW5nLCBpbmZvOiBSZW1vdGVCcm93c2VySW5mbyk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgICAgICBjb25zdCB7IHNvY2tldCB9ID0gaW5mbztcclxuICAgICAgICBjb25zdCBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYi5pZCA9IGAke3NlcmlhbH06JHtzb2NrZXR9YDtcclxuICAgICAgICBiLmNsYXNzTmFtZSA9ICdicm93c2VyJztcclxuICAgICAgICBjb25zdCBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgaC5jbGFzc05hbWUgPSAnYnJvd3Nlci1oZWFkZXInO1xyXG4gICAgICAgIGIuYXBwZW5kQ2hpbGQoaCk7XHJcbiAgICAgICAgY29uc3QgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG4uY2xhc3NOYW1lID0gJ2Jyb3dzZXItbmFtZSc7XHJcblxyXG4gICAgICAgIGguYXBwZW5kQ2hpbGQobik7XHJcbiAgICAgICAgY29uc3QgcGtnID0gaW5mby52ZXJzaW9uWydBbmRyb2lkLVBhY2thZ2UnXTtcclxuICAgICAgICBjb25zdCBicm93c2VyID0gaW5mby52ZXJzaW9uLkJyb3dzZXI7XHJcbiAgICAgICAgbGV0IHZlcnNpb246IHN0cmluZztcclxuICAgICAgICBjb25zdCB0ZW1wID0gYnJvd3Nlci5zcGxpdCgnLycpO1xyXG4gICAgICAgIGlmICh0ZW1wLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdmVyc2lvbiA9IHRlbXBbMV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmVyc2lvbiA9IGJyb3dzZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHNvY2tldC5pbmRleE9mKCd3ZWJ2aWV3JykgPT09IDAgPyAnV2ViVmlldyBpbiAnIDogJyc7XHJcbiAgICAgICAgbi5pbm5lclRleHQgPSBgJHtwcmVmaXh9JHtwa2d9KCR7dmVyc2lvbn0pYDtcclxuICAgICAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHMuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcxJyk7XHJcbiAgICAgICAgcy5jbGFzc05hbWUgPSAnYWN0aW9uJztcclxuICAgICAgICBzLmlubmVyVGV4dCA9ICd0cmFjZSc7XHJcbiAgICAgICAgcy5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcclxuICAgICAgICBoLmFwcGVuZENoaWxkKHMpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcGFnZXMuY2xhc3NOYW1lID0gJ2xpc3QgcGFnZXMnO1xyXG4gICAgICAgIGluZm8udGFyZ2V0cy5mb3JFYWNoKChwYWdlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhZ2VzLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlUGFnZUJsb2NrKHBhZ2UsIHZlcnNpb24pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBiLmFwcGVuZENoaWxkKHBhZ2VzKTtcclxuICAgICAgICByZXR1cm4gYjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVBhZ2VCbG9jayhwYWdlOiBSZW1vdGVUYXJnZXQsIHZlcnNpb24/OiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9ICdyb3cnO1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcHJvcHMuY2xhc3NOYW1lID0gJ3Byb3BlcnRpZXMtYm94JztcclxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQocHJvcHMpO1xyXG4gICAgICAgIGlmIChwYWdlLmZhdmljb25VcmwpIHtcclxuICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBwYWdlLmZhdmljb25Vcmw7XHJcbiAgICAgICAgICAgIHByb3BzLmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN1YnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHN1YnJvdy5jbGFzc05hbWUgPSAnc3Vicm93LWJveCc7XHJcbiAgICAgICAgcHJvcHMuYXBwZW5kQ2hpbGQoc3Vicm93KTtcclxuICAgICAgICBjb25zdCBzdWIxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc3ViMS5jbGFzc05hbWUgPSAnc3Vicm93JztcclxuICAgICAgICBzdWJyb3cuYXBwZW5kQ2hpbGQoc3ViMSk7XHJcbiAgICAgICAgY29uc3QgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG4uY2xhc3NOYW1lID0gJ25hbWUnO1xyXG4gICAgICAgIGlmIChwYWdlLnRpdGxlKSB7XHJcbiAgICAgICAgICAgIG4uaW5uZXJUZXh0ID0gcGFnZS50aXRsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3ViMS5hcHBlbmRDaGlsZChuKTtcclxuICAgICAgICBjb25zdCB1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdS5jbGFzc05hbWUgPSAndXJsJztcclxuICAgICAgICBpZiAocGFnZS51cmwpIHtcclxuICAgICAgICAgICAgdS5pbm5lclRleHQgPSBwYWdlLnVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3ViMS5hcHBlbmRDaGlsZCh1KTtcclxuICAgICAgICBjb25zdCBzdWIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc3ViMi5jbGFzc05hbWUgPSAnc3Vicm93IHdlYnZpZXcnO1xyXG4gICAgICAgIHN1YnJvdy5hcHBlbmRDaGlsZChzdWIyKTtcclxuICAgICAgICBpZiAocGFnZS5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVzYyA9IEpTT04ucGFyc2UocGFnZS5kZXNjcmlwdGlvbikgYXMgVGFyZ2V0RGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24uY2xhc3NOYW1lID0gJ3Bvc2l0aW9uJztcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLmlubmVyVGV4dCA9IGBhdCAoJHtkZXNjLnNjcmVlblh9LCAke2Rlc2Muc2NyZWVuWX0pYDtcclxuICAgICAgICAgICAgICAgIHN1YjIuYXBwZW5kQ2hpbGQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgc2l6ZS5jbGFzc05hbWUgPSAnc2l6ZSc7XHJcbiAgICAgICAgICAgICAgICBzaXplLmlubmVyVGV4dCA9IGBzaXplICR7ZGVzYy53aWR0aH0gw5cgJHtkZXNjLmhlaWdodH1gO1xyXG4gICAgICAgICAgICAgICAgc3ViMi5hcHBlbmRDaGlsZChzaXplKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge31cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWJzb2x1dGVBZGRyZXNzID0gcGFnZS5kZXZ0b29sc0Zyb250ZW5kVXJsICYmIHBhZ2UuZGV2dG9vbHNGcm9udGVuZFVybC5zdGFydHNXaXRoKCdodHRwJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBhY3Rpb25zLmNsYXNzTmFtZSA9ICdhY3Rpb25zJztcclxuICAgICAgICBzdWJyb3cuYXBwZW5kQ2hpbGQoYWN0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgaW5zcGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBpbnNwZWN0LnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnMScpO1xyXG4gICAgICAgIGluc3BlY3QuY2xhc3NOYW1lID0gJ2FjdGlvbic7XHJcbiAgICAgICAgaW5zcGVjdC5pbm5lclRleHQgPSAnaW5zcGVjdCc7XHJcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChpbnNwZWN0KTtcclxuXHJcbiAgICAgICAgaWYgKHBhZ2UuZGV2dG9vbHNGcm9udGVuZFVybCkge1xyXG4gICAgICAgICAgICBpbnNwZWN0LnNldEF0dHJpYnV0ZSgnaHJlZicsIHBhZ2UuZGV2dG9vbHNGcm9udGVuZFVybCk7XHJcbiAgICAgICAgICAgIGluc3BlY3Quc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpO1xyXG4gICAgICAgICAgICBpbnNwZWN0LnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluc3BlY3QuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYWJzb2x1dGVBZGRyZXNzKSB7XHJcbiAgICAgICAgICAgIGluc3BlY3QuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYWdlLndlYlNvY2tldERlYnVnZ2VyVXJsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1bmRsZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGJ1bmRsZWQuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsICcxJyk7XHJcbiAgICAgICAgICAgIGJ1bmRsZWQuY2xhc3NOYW1lID0gJ2FjdGlvbiBjb3B5JztcclxuICAgICAgICAgICAgYnVuZGxlZC5pbm5lclRleHQgPSAnYnVuZGxlZCc7XHJcbiAgICAgICAgICAgIGJ1bmRsZWQudGl0bGUgPSAnQ29weSBsaW5rIGFuZCBvcGVuIG1hbnVhbGx5JztcclxuICAgICAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChidW5kbGVkKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSAnZGV2dG9vbHM6Ly9kZXZ0b29scy9idW5kbGVkL2luc3BlY3Rvci5odG1sP2V4cGVyaW1lbnRzPXRydWUmd3M9JztcclxuICAgICAgICAgICAgYnVuZGxlZC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHtiYXNlfSR7cGFnZS53ZWJTb2NrZXREZWJ1Z2dlclVybH1gKTtcclxuICAgICAgICAgICAgYnVuZGxlZC5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub29wZW5lciBub3JlZmVycmVyJyk7XHJcbiAgICAgICAgICAgIGJ1bmRsZWQuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgICAgIGJ1bmRsZWQub25jbGljayA9IHRoaXMub25EZXZ0b29sc0xpbmtDbGljaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwYWdlLmRldnRvb2xzRnJvbnRlbmRVcmwgJiYgcGFnZS53ZWJTb2NrZXREZWJ1Z2dlclVybCAmJiBhYnNvbHV0ZUFkZHJlc3MpIHtcclxuICAgICAgICAgICAgY29uc3QgdXIgPSBuZXcgVVJMKHBhZ2UuZGV2dG9vbHNGcm9udGVuZFVybCk7XHJcbiAgICAgICAgICAgIHVyLnNlYXJjaFBhcmFtcy5kZWxldGUoJ3dzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVyU3RyID0gdXIudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSB1clN0ci5tYXRjaChGUk9OVEVORF9SRSk7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyID0gbWF0Y2hbMV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gc3RyLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXZpc2lvbiA9IHRlbXAuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3QgPSB0ZW1wLmpvaW4oJy8nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZVZlcnNpb24gPSB2ZXJzaW9uID8gYHJlbW90ZVZlcnNpb249JHt2ZXJzaW9ufSZgIDogJyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRzID0gYHJlbW90ZUZyb250ZW5kPXRydWUmZG9ja1NpZGU9dW5kb2NrZWQmYDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdzID0gYHdzPSR7cGFnZS53ZWJTb2NrZXREZWJ1Z2dlclVybH1gO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYGRldnRvb2xzOi8vZGV2dG9vbHMvcmVtb3RlL3NlcnZlX3Jldi8ke3JldmlzaW9ufS8ke3Jlc3R9PyR7cmVtb3RlVmVyc2lvbn0ke29wdHN9JHt3c31gO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgICAgIHJlbW90ZS5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzEnKTtcclxuICAgICAgICAgICAgICAgIHJlbW90ZS5jbGFzc05hbWUgPSAnYWN0aW9uIGNvcHknO1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlLmlubmVyVGV4dCA9ICdyZW1vdGUnO1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlLnRpdGxlID0gJ0NvcHkgbGluayBhbmQgb3BlbiBtYW51YWxseSc7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKHJlbW90ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVtb3RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdGUuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3RlLm9uY2xpY2sgPSB0aGlzLm9uRGV2dG9vbHNMaW5rQ2xpY2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhdXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHBhdXNlLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xyXG4gICAgICAgIHBhdXNlLnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnMScpO1xyXG4gICAgICAgIHBhdXNlLmNsYXNzTmFtZSA9ICdhY3Rpb24nO1xyXG4gICAgICAgIHBhdXNlLmlubmVyVGV4dCA9ICdwYXVzZSc7XHJcbiAgICAgICAgYWN0aW9ucy5hcHBlbmRDaGlsZChwYXVzZSk7XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uRGV2dG9vbHNMaW5rQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBhID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGEuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgaWYgKCF1cmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpZGRlbklucHV0LnZhbHVlID0gdXJsO1xyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcclxuICAgICAgICB0aGlzLmhpZGRlbklucHV0LnNlbGVjdCgpO1xyXG4gICAgICAgIHRoaXMuaGlkZGVuSW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdXJsLmxlbmd0aCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuICAgICAgICB0aGlzLmhpZGRlbklucHV0LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpO1xyXG4gICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7ZXZlbnQuY2xpZW50WH1weGA7XHJcbiAgICAgICAgdGhpcy50b29sdGlwLnN0eWxlLnRvcCA9IGAke2V2ZW50LmNsaWVudFl9cHhgO1xyXG4gICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBoaWRlVG9vbHRpcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5oaWRlVGltZW91dCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVRpbWVvdXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBidWlsZExpc3QoaW5mbzogRGV2dG9vbHNJbmZvKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5mbyk7XHJcbiAgICAgICAgY29uc3QgYmxvY2sgPSB0aGlzLmNyZWF0ZURldmljZUJsb2NrKGluZm8pO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuY3JlYXRlRGV2aWNlSGVhZGVyKGluZm8pO1xyXG4gICAgICAgIGNvbnN0IGJyb3dzZXJzID0gdGhpcy5jcmVhdGVCcm93c2Vyc0Jsb2NrKGluZm8pO1xyXG4gICAgICAgIGJsb2NrLmFwcGVuZENoaWxkKGhlYWRlcik7XHJcbiAgICAgICAgYmxvY2suYXBwZW5kQ2hpbGQoYnJvd3NlcnMpO1xyXG4gICAgICAgIGNvbnN0IG9sZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJsb2NrLmlkKTtcclxuICAgICAgICBpZiAob2xkKSB7XHJcbiAgICAgICAgICAgIG9sZC5wYXJlbnRFbGVtZW50Py5yZXBsYWNlQ2hpbGQoYmxvY2ssIG9sZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChibG9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRW50cnlGb3JEZXZpY2VMaXN0KFxyXG4gICAgICAgIGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yLFxyXG4gICAgICAgIGJsb2NrQ2xhc3M6IHN0cmluZyxcclxuICAgICAgICBwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsXHJcbiAgICApOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnN0YXRlICE9PSAnZGV2aWNlJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZW50cnkuY2xhc3NMaXN0LmFkZCgnZGV2dG9vbHMnLCBibG9ja0NsYXNzKTtcclxuICAgICAgICBlbnRyeS5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgQmFzZURldmljZVRyYWNrZXIuYnVpbGRMaW5rKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogQUNUSU9OLkRFVlRPT0xTLFxyXG4gICAgICAgICAgICAgICAgICAgIHVkaWQ6IGRlc2NyaXB0b3IudWRpZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnZGV2dG9vbHMnLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi4vLi4vLi4vc3R5bGUvZmlsZWxpc3RpbmcuY3NzJztcclxuaW1wb3J0IHsgUGFyYW1zRmlsZUxpc3RpbmcgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNGaWxlTGlzdGluZyc7XHJcbmltcG9ydCB7IE1hbmFnZXJDbGllbnQgfSBmcm9tICcuLi8uLi9jbGllbnQvTWFuYWdlckNsaWVudCc7XHJcbmltcG9ydCBHb29nRGV2aWNlRGVzY3JpcHRvciBmcm9tICcuLi8uLi8uLi90eXBlcy9Hb29nRGV2aWNlRGVzY3JpcHRvcic7XHJcbmltcG9ydCB7IEJhc2VEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L0Jhc2VEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgQUNUSU9OIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0FjdGlvbic7XHJcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vLi4vVXRpbCc7XHJcbmltcG9ydCBQcm90b2NvbCBmcm9tICdAZGVhZDUwZjcvYWRia2l0L2xpYi9hZGIvcHJvdG9jb2wnO1xyXG5pbXBvcnQgeyBFbnRyeSB9IGZyb20gJy4uL0VudHJ5JztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3VpL0h0bWxUYWcnO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyBDaGFubmVsQ29kZSB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9DaGFubmVsQ29kZSc7XHJcbmltcG9ydCB7IE11bHRpcGxleGVyIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvbXVsdGlwbGV4ZXIvTXVsdGlwbGV4ZXInO1xyXG5pbXBvcnQgRmlsZVB1c2hIYW5kbGVyLCB7IERyYWdBbmRQdXNoTGlzdGVuZXIsIFB1c2hVcGRhdGVQYXJhbXMgfSBmcm9tICcuLi9maWxlUHVzaC9GaWxlUHVzaEhhbmRsZXInO1xyXG5pbXBvcnQgeyBBZGJraXRGaWxlUHVzaFN0cmVhbSB9IGZyb20gJy4uL2ZpbGVQdXNoL0FkYmtpdEZpbGVQdXNoU3RyZWFtJztcclxuXHJcbmNvbnN0IFRBRyA9ICdbRmlsZUxpc3RpbmddJztcclxuXHJcbmNvbnN0IHBhcmVudERpckxpbmtCb3ggPSAncGFyZW50RGlyTGlua0JveCc7XHJcbmNvbnN0IHJvb3REaXJMaW5rQm94ID0gJ3Jvb3REaXJMaW5rQm94JztcclxuY29uc3QgdGVtcERpckxpbmtCb3ggPSAndGVtcERpckxpbmtCb3gnO1xyXG5jb25zdCBzdG9yYWdlRGlyTGlua0JveCA9ICdzdG9yYWdlRGlyTGlua0JveCc7XHJcblxyXG5jb25zdCByb290UGF0aCA9ICcvJztcclxuY29uc3QgdGVtcFBhdGggPSAnL2RhdGEvbG9jYWwvdG1wJztcclxuY29uc3Qgc3RvcmFnZVBhdGggPSAnL3N0b3JhZ2UnO1xyXG5cclxudHlwZSBEb3dubG9hZCA9IHtcclxuICAgIHJlY2VpdmVkQnl0ZXM6IG51bWJlcjtcclxuICAgIGVudHJ5PzogRW50cnk7XHJcbiAgICBwcm9ncmVzc0VsPzogSFRNTEVsZW1lbnQ7XHJcbiAgICBhbmNob3I/OiBIVE1MRWxlbWVudDtcclxuICAgIGNodW5rczogVWludDhBcnJheVtdO1xyXG4gICAgcGF0aDogc3RyaW5nO1xyXG4gICAgcGF0aFRvTG9hZEFmdGVyOiBzdHJpbmc7XHJcbn07XHJcbnR5cGUgVXBsb2FkID0geyByb3c6IEhUTUxFbGVtZW50OyBwcm9ncmVzc0VsOiBIVE1MRWxlbWVudDsgYW5jaG9yOiBIVE1MRWxlbWVudDsgdGltZW91dDogbnVtYmVyIHwgbnVsbCB9O1xyXG5cclxuZW51bSBGb3JlZ3JvdW5kIHtcclxuICAgIERyb3AgPSAnZHJvcC10YXJnZXQnLFxyXG4gICAgQ29ubmVjdCA9ICdjb25uZWN0JyxcclxufVxyXG5cclxuY29uc3QgTWVzc2FnZTogUmVjb3JkPEZvcmVncm91bmQsIHN0cmluZz4gPSB7XHJcbiAgICBbRm9yZWdyb3VuZC5Ecm9wXTogJ0Ryb3AgZmlsZXMgaGVyZScsXHJcbiAgICBbRm9yZWdyb3VuZC5Db25uZWN0XTogJ0Nvbm5lY3Rpb24gbG9zdCcsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZUxpc3RpbmdDbGllbnQgZXh0ZW5kcyBNYW5hZ2VyQ2xpZW50PFBhcmFtc0ZpbGVMaXN0aW5nLCBuZXZlcj4gaW1wbGVtZW50cyBEcmFnQW5kUHVzaExpc3RlbmVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQUNUSU9OID0gQUNUSU9OLkZJTEVfTElTVElORztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUEFSRU5UX0RJUiA9ICcuLic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBST1BFUlRZX05BTUUgPSAnZGF0YS1uYW1lJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUFJPUEVSVFlfRU5UUllfSUQgPSAnZGF0YS1lbnRyeS1pZCc7XHJcbiAgICBwdWJsaWMgc3RhdGljIFJFTU9WRV9ST1dfVElNRU9VVCA9IDIwMDA7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdGFydChwYXJhbXM6IFBhcmFtc0ZpbGVMaXN0aW5nKTogRmlsZUxpc3RpbmdDbGllbnQge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmlsZUxpc3RpbmdDbGllbnQocGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUVudHJ5Rm9yRGV2aWNlTGlzdChcclxuICAgICAgICBkZXNjcmlwdG9yOiBHb29nRGV2aWNlRGVzY3JpcHRvcixcclxuICAgICAgICBibG9ja0NsYXNzOiBzdHJpbmcsXHJcbiAgICAgICAgcGFyYW1zOiBQYXJhbXNEZXZpY2VUcmFja2VyLFxyXG4gICAgKTogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50IHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAoZGVzY3JpcHRvci5zdGF0ZSAhPT0gJ2RldmljZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGVudHJ5LmNsYXNzTGlzdC5hZGQoJ2ZpbGUtbGlzdGluZycsIGJsb2NrQ2xhc3MpO1xyXG4gICAgICAgIGVudHJ5LmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgICBCYXNlRGV2aWNlVHJhY2tlci5idWlsZExpbmsoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBQ1RJT04uRklMRV9MSVNUSU5HLFxyXG4gICAgICAgICAgICAgICAgICAgIHVkaWQ6IGRlc2NyaXB0b3IudWRpZCxcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBgJHt0ZW1wUGF0aH0vYCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnbGlzdCBmaWxlcycsXHJcbiAgICAgICAgICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZW50cnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXJpYWw6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSB0YWJsZUJvZHlJZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSB3cmFwcGVySWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZmlsZVB1c2hIYW5kbGVyPzogRmlsZVB1c2hIYW5kbGVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYXJlbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBlbnRlckNvdW50ID0gMDtcclxuICAgIHByaXZhdGUgZW50cmllczogRW50cnlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBwYXRoOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlcXVpcmVDbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSByZXF1ZXN0ZWRQYXRoID0gJyc7XHJcbiAgICBwcml2YXRlIGRvd25sb2FkczogTWFwPE11bHRpcGxleGVyLCBEb3dubG9hZD4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHVwbG9hZHM6IE1hcDxzdHJpbmcsIFVwbG9hZD4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHRhYmxlQm9keTogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGNoYW5uZWxzOiBTZXQ8TXVsdGlwbGV4ZXI+ID0gbmV3IFNldCgpO1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1zOiBQYXJhbXNGaWxlTGlzdGluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIHRoaXMuc2VyaWFsID0gdGhpcy5wYXJhbXMudWRpZDtcclxuICAgICAgICB0aGlzLnBhdGggPSB0aGlzLnBhcmFtcy5wYXRoO1xyXG4gICAgICAgIHRoaXMub3Blbk5ld0Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlKGBMaXN0aW5nICR7dGhpcy5zZXJpYWx9YCk7XHJcbiAgICAgICAgdGhpcy5zZXRCb2R5Q2xhc3MoJ2ZpbGUtbGlzdGluZycpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGAke1RBR30gWyR7dGhpcy5zZXJpYWx9XWA7XHJcbiAgICAgICAgdGhpcy50YWJsZUJvZHlJZCA9IGAke1V0aWwuZXNjYXBlVWRpZCh0aGlzLnNlcmlhbCl9X2xpc3RgO1xyXG4gICAgICAgIHRoaXMud3JhcHBlcklkID0gYHdyYXBwZXJfJHt0aGlzLnRhYmxlQm9keUlkfWA7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBodG1sYDxkaXYgaWQ9XCIke3RoaXMud3JhcHBlcklkfVwiIGNsYXNzPVwibGlzdGluZ1wiPlxyXG4gICAgICAgICAgICA8aDEgaWQ9XCJoZWFkZXJcIj5Db250ZW50cyAke3RoaXMucGF0aH08L2gxPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtwYXJlbnREaXJMaW5rQm94fVwiIGNsYXNzPVwicXVpY2stbGluay1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiaWNvbiB1cFwiIGhyZWY9XCIjIVwiICR7RmlsZUxpc3RpbmdDbGllbnQuUFJPUEVSVFlfTkFNRX09XCIuLlwiPiBbcGFyZW50XSA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtyb290RGlyTGlua0JveH1cIiBjbGFzcz1cInF1aWNrLWxpbmstYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImljb24gZGlyXCIgaHJlZj1cIiMhXCIgJHtGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9OQU1FfT1cIiR7cm9vdFBhdGh9XCI+IFtyb290XSA8L2E+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtzdG9yYWdlRGlyTGlua0JveH1cIiBjbGFzcz1cInF1aWNrLWxpbmstYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImljb24gZGlyXCIgaHJlZj1cIiMhXCIgJHtGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9OQU1FfT1cIiR7c3RvcmFnZVBhdGh9L1wiPiBbc3RvcmFnZV0gPC9hPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cIiR7dGVtcERpckxpbmtCb3h9XCIgY2xhc3M9XCJxdWljay1saW5rLWJveFwiPlxyXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJpY29uIGRpclwiIGhyZWY9XCIjIVwiICR7RmlsZUxpc3RpbmdDbGllbnQuUFJPUEVSVFlfTkFNRX09XCIke3RlbXBQYXRofS9cIj4gW3RlbXBdIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDx0YWJsZT5cclxuICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNpemU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+TVRpbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRib2R5IGlkPVwiJHt0aGlzLnRhYmxlQm9keUlkfVwiPjwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgPC9kaXY+YC5jb250ZW50O1xyXG4gICAgICAgIHRoaXMudGFibGVCb2R5ID0gZnJhZ21lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy50YWJsZUJvZHlJZCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGZyYWdtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMud3JhcHBlcklkKTtcclxuICAgICAgICBpZiAod3JhcHBlcikge1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQgfHwgIShlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoRmlsZUxpc3RpbmdDbGllbnQuUFJPUEVSVFlfTkFNRSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gcGF0aC5yZXNvbHZlKHRoaXMucGF0aCwgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3UGF0aCAhPT0gdGhpcy5wYXRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50cnlJZFN0cmluZyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShGaWxlTGlzdGluZ0NsaWVudC5QUk9QRVJUWV9FTlRSWV9JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVudHJ5OiBFbnRyeSB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYW5jaG9yOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnlJZFN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeUlkID0gcGFyc2VJbnQoZW50cnlJZFN0cmluZywgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGVudHJ5SWQpICYmIHRoaXMuZW50cmllc1tlbnRyeUlkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkgPSB0aGlzLmVudHJpZXNbZW50cnlJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KG5ld1BhdGgsIGVudHJ5LCBhbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzIGluc3RhbmNlb2YgTXVsdGlwbGV4ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZVB1c2hIYW5kbGVyID0gbmV3IEZpbGVQdXNoSGFuZGxlcih0aGlzLnBhcmVudCwgbmV3IEFkYmtpdEZpbGVQdXNoU3RyZWFtKHRoaXMud3MsIHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZVB1c2hIYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRyYWdFbnRlcigpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5lbnRlckNvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRm9yZWdyb3VuZChGb3JlZ3JvdW5kLkRyb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVudGVyQ291bnQrKztcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EcmFnTGVhdmUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhpcy5lbnRlckNvdW50LS07XHJcbiAgICAgICAgaWYgKHRoaXMuZW50ZXJDb3VudCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5lbnRlckNvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW50ZXJDb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvcmVncm91bmQoRm9yZWdyb3VuZC5Ecm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRHJvcCgpOiBib29sZWFuIHtcclxuICAgICAgICB0aGlzLmVudGVyQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlRm9yZWdyb3VuZChGb3JlZ3JvdW5kLkRyb3ApO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmluZE9yQ3JlYXRlRW50cnlSb3coZmlsZU5hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZW50cnktJHtmaWxlTmFtZX1gKTtcclxuICAgICAgICBpZiAocm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZFJvdyh0cnVlLCBmaWxlTmFtZSwgJ2ZpbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25GaWxlUHVzaFVwZGF0ZShkYXRhOiBQdXNoVXBkYXRlUGFyYW1zKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyBmaWxlTmFtZSwgcHJvZ3Jlc3MsIGVycm9yLCBtZXNzYWdlLCBmaW5pc2hlZCB9ID0gZGF0YTtcclxuICAgICAgICBsZXQgdXBsb2FkID0gdGhpcy51cGxvYWRzLmdldChmaWxlTmFtZSk7XHJcbiAgICAgICAgaWYgKCF1cGxvYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodXBsb2FkLmFuY2hvci5pZCkgIT09IHVwbG9hZC5hbmNob3IpIHtcclxuICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5maW5kT3JDcmVhdGVFbnRyeVJvdyhmaWxlTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHJvdy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdO1xyXG4gICAgICAgICAgICBpZiAoIWFuY2hvci5pZCkge1xyXG4gICAgICAgICAgICAgICAgYW5jaG9yLmlkID0gYHVwbG9hZF8ke2ZpbGVOYW1lfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NFbCA9IHRoaXMuYXBwZW5kUHJvZ3Jlc3NFbGVtZW50KGFuY2hvcik7XHJcbiAgICAgICAgICAgIHVwbG9hZCA9IHsgcm93LCBwcm9ncmVzc0VsLCBhbmNob3IsIHRpbWVvdXQ6IG51bGwgfTtcclxuICAgICAgICAgICAgdGhpcy51cGxvYWRzLnNldChmaWxlTmFtZSwgdXBsb2FkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyByb3csIHByb2dyZXNzRWwsIGFuY2hvciB9ID0gdXBsb2FkO1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLnVwbG9hZHMuZGVsZXRlKGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NFbC5zdHlsZS53aWR0aCA9IGAxMDAlYDtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NFbC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgICAgICBpZiAoIWFuY2hvci5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuICAgICAgICAgICAgICAgIGFuY2hvci5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgYW5jaG9yLmlubmVyVGV4dCA9IGAke2ZpbGVOYW1lfS4gJHttZXNzYWdlfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF1cGxvYWQudGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgdXBsb2FkLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gcm93LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBGaWxlTGlzdGluZ0NsaWVudC5SRU1PVkVfUk9XX1RJTUVPVVQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYW5jaG9yLmlubmVyVGV4dCA9IGAke2ZpbGVOYW1lfS4gJHttZXNzYWdlfWA7XHJcbiAgICAgICAgICAgIHByb2dyZXNzRWwuc3R5bGUud2lkdGggPSBgJHtwcm9ncmVzc30lYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZpbmlzaGVkICYmICFlcnJvcikge1xyXG4gICAgICAgICAgICB0aGlzLnVwbG9hZHMuZGVsZXRlKGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25FcnJvcihlcnJvcjogc3RyaW5nIHwgRXJyb3IpOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMubmFtZSwgJ0ZJWE1FOiBpbXBsZW1lbnQnLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRGb3JlZ3JvdW5kKHR5cGU6IEZvcmVncm91bmQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGh0bWxgPGRpdiBjbGFzcz1cImZvcmVncm91bmQgJHt0eXBlfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWdyb3VuZC1tZXNzYWdlICR7dHlwZX0tbWVzc2FnZVwiPiR7TWVzc2FnZVt0eXBlXX08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gLmNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlRm9yZWdyb3VuZCh0eXBlOiBGb3JlZ3JvdW5kKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZWxzID0gdGhpcy5wYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0eXBlKTtcclxuICAgICAgICBBcnJheS5mcm9tKGVscykuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGFyc2VQYXJhbWV0ZXJzKHBhcmFtczogVVJMU2VhcmNoUGFyYW1zKTogUGFyYW1zRmlsZUxpc3Rpbmcge1xyXG4gICAgICAgIGNvbnN0IHR5cGVkUGFyYW1zID0gc3VwZXIucGFyc2VQYXJhbWV0ZXJzKHBhcmFtcyk7XHJcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IHR5cGVkUGFyYW1zO1xyXG4gICAgICAgIGlmIChhY3Rpb24gIT09IEFDVElPTi5GSUxFX0xJU1RJTkcpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBhY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGF0aFBhcmFtID0gcGFyYW1zLmdldCgncGF0aCcpO1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBwYXRoUGFyYW0gfHwgJy9kYXRhL2xvY2FsL3RtcCc7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4udHlwZWRQYXJhbXMsIGFjdGlvbiwgdWRpZDogVXRpbC5wYXJzZVN0cmluZyhwYXJhbXMsICd1ZGlkJywgdHJ1ZSksIHBhdGggfTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYnVpbGREaXJlY3RXZWJTb2NrZXRVcmwoKTogVVJMIHtcclxuICAgICAgICBjb25zdCBsb2NhbFVybCA9IHN1cGVyLmJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk7XHJcbiAgICAgICAgbG9jYWxVcmwuc2VhcmNoUGFyYW1zLnNldCgnYWN0aW9uJywgQUNUSU9OLk1VTFRJUExFWCk7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldENsb3NlKGV2ZW50OiBDbG9zZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsZVB1c2hIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZVB1c2hIYW5kbGVyLnJlbGVhc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm5hbWUsICdzb2NrZXQgY2xvc2VkJywgZXZlbnQucmVhc29uKTtcclxuICAgICAgICB0aGlzLmFkZEZvcmVncm91bmQoRm9yZWdyb3VuZC5Db25uZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRNZXNzYWdlKF9lOiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyBXZSBjcmVhdGUgc2VwYXJhdGUgY2hhbm5lbCBmb3IgZWFjaCByZXF1ZXN0XHJcbiAgICAgICAgLy8gRG9uJ3QgZXhwZWN0IGFueSBtZXNzYWdlcyBvbiB0aGlzIGxldmVsXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uU29ja2V0T3BlbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWRDb250ZW50KHRoaXMucGF0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGxvYWRDb250ZW50KHBhdGg6IHN0cmluZywgZW50cnk/OiBFbnRyeSwgYW5jaG9yPzogSFRNTEVsZW1lbnQsIHBhdGhUb0xvYWRBZnRlciA9ICcnKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndzIHx8IHRoaXMud3MucmVhZHlTdGF0ZSAhPT0gdGhpcy53cy5PUEVOIHx8ICEodGhpcy53cyBpbnN0YW5jZW9mIE11bHRpcGxleGVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZW50cnkgJiYgKHRoaXMuY2hhbm5lbHMuc2l6ZSB8fCB0aGlzLnVwbG9hZHMuc2l6ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlcXVpcmVDbGVhbiA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRQYXRoID0gcGF0aDtcclxuICAgICAgICBsZXQgY21kOiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKCFlbnRyeSkge1xyXG4gICAgICAgICAgICBjbWQgPSBQcm90b2NvbC5TVEFUO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZW50cnkuaXNGaWxlKCkpIHtcclxuICAgICAgICAgICAgY21kID0gUHJvdG9jb2wuUkVDVjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbWQgPSBQcm90b2NvbC5MSVNUO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsZW4gPSBCdWZmZXIuYnl0ZUxlbmd0aChwYXRoLCAndXRmLTgnKTtcclxuICAgICAgICBjb25zdCBwYXlsb2FkID0gQnVmZmVyLmFsbG9jKGNtZC5sZW5ndGggKyA0ICsgbGVuKTtcclxuICAgICAgICBsZXQgcG9zID0gcGF5bG9hZC53cml0ZShjbWQsIDApO1xyXG4gICAgICAgIHBvcyA9IHBheWxvYWQud3JpdGVVSW50MzJMRShsZW4sIHBvcyk7XHJcbiAgICAgICAgcGF5bG9hZC53cml0ZShwYXRoLCBwb3MpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLndzLmNyZWF0ZUNoYW5uZWwocGF5bG9hZCk7XHJcbiAgICAgICAgdGhpcy5jaGFubmVscy5hZGQoY2hhbm5lbCk7XHJcbiAgICAgICAgY29uc3QgZG93bmxvYWQ6IERvd25sb2FkID0ge1xyXG4gICAgICAgICAgICByZWNlaXZlZEJ5dGVzOiAwLFxyXG4gICAgICAgICAgICBwYXRoLFxyXG4gICAgICAgICAgICBlbnRyeSxcclxuICAgICAgICAgICAgYW5jaG9yLFxyXG4gICAgICAgICAgICBjaHVua3M6IFtdLFxyXG4gICAgICAgICAgICBwYXRoVG9Mb2FkQWZ0ZXIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmRvd25sb2Fkcy5zZXQoY2hhbm5lbCwgZG93bmxvYWQpO1xyXG4gICAgICAgIGNvbnN0IG9uTWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVwbHkoY2hhbm5lbCwgZXZlbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgb25DbG9zZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscy5kZWxldGUoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgIHRoaXMuZG93bmxvYWRzLmRlbGV0ZShjaGFubmVsKTtcclxuICAgICAgICAgICAgY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcclxuICAgICAgICAgICAgY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uQ2xvc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcclxuICAgICAgICBjaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNsZWFuKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGFibGVCb2R5LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXInKTtcclxuICAgICAgICBpZiAoaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGhlYWRlci5pbm5lclRleHQgPSBgQ29udGVudCAke3RoaXMucGF0aH1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvZ2dsZVF1aWNrTGlua3ModGhpcy5wYXRoKTtcclxuXHJcbiAgICAgICAgLy8gRklYTUU6IHNob3VsZCBkbyBvdmVyIHdheSBhcm91bmQ6IGxvYWQgY29udGVudCBvbiBoYXNoIGNoYW5nZVxyXG4gICAgICAgIGNvbnN0IGhhc2ggPSBsb2NhdGlvbi5oYXNoLnJlcGxhY2UoLyMhLywgJycpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoaGFzaCk7XHJcbiAgICAgICAgaWYgKHBhcmFtcy5nZXQoJ2FjdGlvbicpID09PSBBQ1RJT04uRklMRV9MSVNUSU5HKSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3BhdGgnLCB0aGlzLnBhdGgpO1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gYCMhJHtwYXJhbXMudG9TdHJpbmcoKX1gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdG9nZ2xlUXVpY2tMaW5rcyhwYXRoOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpc1Jvb3QgPSBwYXRoID09PSByb290UGF0aDtcclxuICAgICAgICBjb25zdCBwYXJlbnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudERpckxpbmtCb3gpO1xyXG4gICAgICAgIGlmIChwYXJlbnRFbCkge1xyXG4gICAgICAgICAgICBwYXJlbnRFbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBpc1Jvb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByb290RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RGlyTGlua0JveCk7XHJcbiAgICAgICAgaWYgKHJvb3RFbCkge1xyXG4gICAgICAgICAgICByb290RWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgaXNSb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXNUZW1wID0gcGF0aCA9PT0gdGVtcFBhdGg7XHJcbiAgICAgICAgY29uc3QgdGVtcEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGVtcERpckxpbmtCb3gpO1xyXG4gICAgICAgIGlmICh0ZW1wRWwpIHtcclxuICAgICAgICAgICAgdGVtcEVsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsIGlzVGVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlzU3RvcmFnZSA9IHBhdGggPT09IHN0b3JhZ2VQYXRoO1xyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0b3JhZ2VEaXJMaW5rQm94KTtcclxuICAgICAgICBpZiAoc3RvcmFnZUVsKSB7XHJcbiAgICAgICAgICAgIHN0b3JhZ2VFbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCBpc1N0b3JhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgaGFuZGxlUmVwbHkoY2hhbm5lbDogTXVsdGlwbGV4ZXIsIGU6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuZnJvbShlLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHJlcGx5ID0gZGF0YS5zbGljZSgwLCA0KS50b1N0cmluZygnYXNjaWknKTtcclxuICAgICAgICBzd2l0Y2ggKHJlcGx5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvdG9jb2wuREVOVDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXQgPSBkYXRhLnNsaWNlKDQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IHN0YXQucmVhZFVJbnQzMkxFKDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHN0YXQucmVhZFVJbnQzMkxFKDQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXRpbWUgPSBzdGF0LnJlYWRVSW50MzJMRSg4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVsZW4gPSBzdGF0LnJlYWRVSW50MzJMRSgxMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gVXRpbC51dGY4Qnl0ZUFycmF5VG9TdHJpbmcoc3RhdC5zbGljZSgxNiwgMTYgKyBuYW1lbGVuKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVudHJ5KG5ldyBFbnRyeShuYW1lLCBtb2RlLCBzaXplLCBtdGltZSkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjYXNlIFByb3RvY29sLkRPTkU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaERvd25sb2FkKGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjYXNlIFByb3RvY29sLlNUQVQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkID0gdGhpcy5kb3dubG9hZHMuZ2V0KGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXQgPSBkYXRhLnNsaWNlKDQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IHN0YXQucmVhZFVJbnQzMkxFKDApO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHN0YXQucmVhZFVJbnQzMkxFKDQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXRpbWUgPSBzdGF0LnJlYWRVSW50MzJMRSg4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVTdHJpbmcgPSBwYXRoLmJhc2VuYW1lKGRvd25sb2FkLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGSVhNRTogc2hvdyBlcnJvciBpbiBVSScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiBubyBlbnRpdHkgXCIke2Rvd25sb2FkLnBhdGh9XCJgKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmRlbGV0ZShjaGFubmVsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KHRlbXBQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyeSA9IG5ldyBFbnRyeShuYW1lU3RyaW5nLCBtb2RlLCBzaXplLCBtdGltZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYW5jaG9yOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGxldCBuZXh0UGF0aCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbnRyeS5pc0RpcmVjdG9yeSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFBhdGggPSB0aGlzLnJlcXVlc3RlZFBhdGggPSBwYXRoLmRpcm5hbWUoZG93bmxvYWQucGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5hZGRFbnRyeShlbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gcm93ID8gcm93LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KGRvd25sb2FkLnBhdGgsIGVudHJ5LCBhbmNob3IsIG5leHRQYXRoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgUHJvdG9jb2wuRkFJTDpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEucmVhZFVJbnQzMkxFKDQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKGRhdGEuc2xpY2UoOCwgOCArIGxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcsIGBGQUlMOiAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNhc2UgUHJvdG9jb2wuREFUQTpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkID0gdGhpcy5kb3dubG9hZHMuZ2V0KGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkb3dubG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRvd25sb2FkLmNodW5rcy5wdXNoKGRhdGEuc2xpY2UoNCkpO1xyXG4gICAgICAgICAgICAgICAgZG93bmxvYWQucmVjZWl2ZWRCeXRlcyArPSBkYXRhLmxlbmd0aCAtIDQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG93bmxvYWQuYW5jaG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2dyZXNzRWxlbWVudCA9IGRvd25sb2FkLnByb2dyZXNzRWw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9ncmVzc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NFbGVtZW50ID0gdGhpcy5hcHBlbmRQcm9ncmVzc0VsZW1lbnQoZG93bmxvYWQuYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQucHJvZ3Jlc3NFbCA9IHByb2dyZXNzRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkLmVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2l6ZSB9ID0gZG93bmxvYWQuZW50cnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSAoZG93bmxvYWQucmVjZWl2ZWRCeXRlcyAqIDEwMCkgLyBzaXplO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0VsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuZXhwZWN0ZWQgXCIke3JlcGx5fVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhcHBlbmRQcm9ncmVzc0VsZW1lbnQoYW5jaG9yOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBwcm9ncmVzc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgcHJvZ3Jlc3NFbGVtZW50LmNsYXNzTmFtZSA9ICdiYWNrZ3JvdW5kLXByb2dyZXNzJztcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBhbmNob3IucGFyZW50RWxlbWVudDtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc0VsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvZ3Jlc3NFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhZGRFbnRyeShlbnRyeTogRW50cnkpOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZUNsZWFuKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IHRoaXMucmVxdWVzdGVkUGF0aDtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWRQYXRoID0gJyc7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYW4oKTtcclxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlQ2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5lbnRyaWVzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW50cmllcy5wdXNoKGVudHJ5KTtcclxuICAgICAgICBjb25zdCBlbnRyeUlkID0gKHRoaXMuZW50cmllcy5sZW5ndGggLSAxKS50b1N0cmluZygpO1xyXG4gICAgICAgIGlmIChlbnRyeS5uYW1lID09PSAnLicpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZW50cnkubmFtZSA9PT0gRmlsZUxpc3RpbmdDbGllbnQuUEFSRU5UX0RJUikge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudERpckxpbmtCb3gpO1xyXG4gICAgICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBlbC5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoRmlsZUxpc3RpbmdDbGllbnQuUFJPUEVSVFlfRU5UUllfSUQsIGVudHJ5SWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGVudHJ5LmlzRGlyZWN0b3J5KCkgPyAnZGlyJyA6IGVudHJ5LmlzU3ltYm9saWNMaW5rKCkgPyAnbGluaycgOiBlbnRyeS5pc0ZpbGUoKSA/ICdmaWxlJyA6ICdlbHNlJztcclxuICAgICAgICBjb25zdCBkYXRlID0gZW50cnkubXRpbWUudG9Mb2NhbGVTdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZGRSb3coZmFsc2UsIGVudHJ5Lm5hbWUsIHR5cGUsIGVudHJ5LnNpemUudG9TdHJpbmcoKSwgZGF0ZSwgZW50cnlJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFkZFJvdyhwdXNoOiBib29sZWFuLCBuYW1lOiBzdHJpbmcsIHR5cGVDbGFzczogc3RyaW5nLCBzaXplID0gJycsIGRhdGUgPSAnJywgZW50cnlJZCA9ICcnKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgcm93LmlkID0gYGVudHJ5LSR7bmFtZX1gO1xyXG4gICAgICAgIHJvdy5jbGFzc0xpc3QuYWRkKCdlbnRyeS1yb3cnKTtcclxuICAgICAgICBjb25zdCBuYW1lVGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgIG5hbWVUZC5jbGFzc0xpc3QuYWRkKCdlbnRyeS1uYW1lJyk7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2ljb24nLCB0eXBlQ2xhc3MpO1xyXG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKEZpbGVMaXN0aW5nQ2xpZW50LlBST1BFUlRZX05BTUUsIG5hbWUpO1xyXG4gICAgICAgIGlmIChlbnRyeUlkKSB7XHJcbiAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKEZpbGVMaXN0aW5nQ2xpZW50LlBST1BFUlRZX0VOVFJZX0lELCBlbnRyeUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGluay5pbm5lclRleHQgPSBuYW1lO1xyXG4gICAgICAgIG5hbWVUZC5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQobmFtZVRkKTtcclxuICAgICAgICBpZiAocHVzaCkge1xyXG4gICAgICAgICAgICBuYW1lVGQuY29sU3BhbiA9IDM7XHJcbiAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncHVzaCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhyZWYgPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhocmVmLmhhc2gucmVwbGFjZSgvXiMhLywgJycpKTtcclxuICAgICAgICAgICAgaGFzaC5zZXQoJ3BhdGgnLCBwYXRoLmpvaW4odGhpcy5wYXRoLCBuYW1lKSk7XHJcbiAgICAgICAgICAgIGhyZWYuaGFzaCA9IGAjISR7aGFzaC50b1N0cmluZygpfWA7XHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IGhyZWYudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZVRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgc2l6ZVRkLmNsYXNzTGlzdC5hZGQoJ2VudHJ5LXNpemUnKTtcclxuICAgICAgICAgICAgc2l6ZVRkLmlubmVyVGV4dCA9IHNpemU7XHJcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChzaXplVGQpO1xyXG4gICAgICAgICAgICBjb25zdCBtdGltZVRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgICAgbXRpbWVUZC5jbGFzc0xpc3QuYWRkKCdlbnRyeS10aW1lJyk7XHJcbiAgICAgICAgICAgIG10aW1lVGQuaW5uZXJUZXh0ID0gZGF0ZTtcclxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKG10aW1lVGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHVzaCB8fCAhdGhpcy50YWJsZUJvZHkuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFibGVCb2R5Lmluc2VydEJlZm9yZShyb3csIHRoaXMudGFibGVCb2R5LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByb3c7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGZpbmlzaERvd25sb2FkKGNoYW5uZWw6IE11bHRpcGxleGVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZG93bmxvYWQgPSB0aGlzLmRvd25sb2Fkcy5nZXQoY2hhbm5lbCk7XHJcbiAgICAgICAgaWYgKCFkb3dubG9hZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZG93bmxvYWRzLmRlbGV0ZShjaGFubmVsKTtcclxuICAgICAgICBjb25zdCBlbCA9IGRvd25sb2FkLnByb2dyZXNzRWw7XHJcbiAgICAgICAgaWYgKGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYW5Qcm9ncmVzcyhlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKGRvd25sb2FkLmVudHJ5ICYmIGRvd25sb2FkLmVudHJ5LmlzRmlsZSgpKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBkb3dubG9hZC5lbnRyeS5uYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyBzaG91bGQgaGF2ZSBgZG93bmxvYWQuZW50cnlgIGFuZCBuZXZlciBiZSBoZXJlXHJcbiAgICAgICAgICAgIG5hbWUgPSBwYXRoLmJhc2VuYW1lKHRoaXMucGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkb3dubG9hZC5wYXRoVG9Mb2FkQWZ0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscy5kZWxldGUoY2hhbm5lbCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZENvbnRlbnQoZG93bmxvYWQucGF0aFRvTG9hZEFmdGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKGRvd25sb2FkLmNodW5rcywgbmFtZSwgeyB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyB9KTtcclxuICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgYS5kb3dubG9hZCA9IGAke25hbWV9YDtcclxuICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNsZWFuUHJvZ3Jlc3MoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmluaXNoZWQnKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQYXRoKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZENvbnRlbnQodGhpcy5wYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3VwcG9ydE11bHRpcGxleGluZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q2hhbm5lbEluaXREYXRhKCk6IEJ1ZmZlciB7XHJcbiAgICAgICAgY29uc3Qgc2VyaWFsID0gVXRpbC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXkodGhpcy5zZXJpYWwpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyg0ICsgNCArIHNlcmlhbC5ieXRlTGVuZ3RoKTtcclxuICAgICAgICBidWZmZXIud3JpdGUoQ2hhbm5lbENvZGUuRlNMUywgJ2FzY2lpJyk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlVUludDMyTEUoc2VyaWFsLmxlbmd0aCwgNCk7XHJcbiAgICAgICAgYnVmZmVyLnNldChzZXJpYWwsIDgpO1xyXG4gICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICd4dGVybS9jc3MveHRlcm0uY3NzJztcclxuaW1wb3J0IHsgTWFuYWdlckNsaWVudCB9IGZyb20gJy4uLy4uL2NsaWVudC9NYW5hZ2VyQ2xpZW50JztcclxuaW1wb3J0IHsgVGVybWluYWwgfSBmcm9tICd4dGVybSc7XHJcbmltcG9ydCB7IEF0dGFjaEFkZG9uIH0gZnJvbSAneHRlcm0tYWRkb24tYXR0YWNoJztcclxuaW1wb3J0IHsgRml0QWRkb24gfSBmcm9tICd4dGVybS1hZGRvbi1maXQnO1xyXG5pbXBvcnQgeyBNZXNzYWdlWHRlcm1DbGllbnQgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9NZXNzYWdlWHRlcm1DbGllbnQnO1xyXG5pbXBvcnQgeyBBQ1RJT04gfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQWN0aW9uJztcclxuaW1wb3J0IHsgUGFyYW1zU2hlbGwgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNTaGVsbCc7XHJcbmltcG9ydCBHb29nRGV2aWNlRGVzY3JpcHRvciBmcm9tICcuLi8uLi8uLi90eXBlcy9Hb29nRGV2aWNlRGVzY3JpcHRvcic7XHJcbmltcG9ydCB7IEJhc2VEZXZpY2VUcmFja2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L0Jhc2VEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vLi4vVXRpbCc7XHJcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgQ2hhbm5lbENvZGUgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vQ2hhbm5lbENvZGUnO1xyXG5cclxuY29uc3QgVEFHID0gJ1tTaGVsbENsaWVudF0nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoZWxsQ2xpZW50IGV4dGVuZHMgTWFuYWdlckNsaWVudDxQYXJhbXNTaGVsbCwgbmV2ZXI+IHtcclxuICAgIHB1YmxpYyBzdGF0aWMgQUNUSU9OID0gQUNUSU9OLlNIRUxMO1xyXG4gICAgcHVibGljIHN0YXRpYyBzdGFydChwYXJhbXM6IFBhcmFtc1NoZWxsKTogU2hlbGxDbGllbnQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2hlbGxDbGllbnQocGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRlcm06IFRlcm1pbmFsO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBmaXRBZGRvbjogRml0QWRkb247XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVzY2FwZWRVZGlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVkaWQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IFBhcmFtc1NoZWxsKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW1zKTtcclxuICAgICAgICB0aGlzLnVkaWQgPSBwYXJhbXMudWRpZDtcclxuICAgICAgICB0aGlzLm9wZW5OZXdDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRUaXRsZShgU2hlbGwgJHt0aGlzLnVkaWR9YCk7XHJcbiAgICAgICAgdGhpcy5zZXRCb2R5Q2xhc3MoJ3NoZWxsJyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLndzKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdObyBXZWJTb2NrZXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXJtID0gbmV3IFRlcm1pbmFsKCk7XHJcbiAgICAgICAgdGhpcy50ZXJtLmxvYWRBZGRvbihuZXcgQXR0YWNoQWRkb24odGhpcy53cykpO1xyXG4gICAgICAgIHRoaXMuZml0QWRkb24gPSBuZXcgRml0QWRkb24oKTtcclxuICAgICAgICB0aGlzLnRlcm0ubG9hZEFkZG9uKHRoaXMuZml0QWRkb24pO1xyXG4gICAgICAgIHRoaXMuZXNjYXBlZFVkaWQgPSBVdGlsLmVzY2FwZVVkaWQodGhpcy51ZGlkKTtcclxuICAgICAgICB0aGlzLnRlcm0ub3BlbihTaGVsbENsaWVudC5nZXRPckNyZWF0ZUNvbnRhaW5lcih0aGlzLmVzY2FwZWRVZGlkKSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUZXJtaW5hbFNpemUoKTtcclxuICAgICAgICB0aGlzLnRlcm0uZm9jdXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3VwcG9ydE11bHRpcGxleGluZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlUGFyYW1ldGVycyhwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcyk6IFBhcmFtc1NoZWxsIHtcclxuICAgICAgICBjb25zdCB0eXBlZFBhcmFtcyA9IHN1cGVyLnBhcnNlUGFyYW1ldGVycyhwYXJhbXMpO1xyXG4gICAgICAgIGNvbnN0IHsgYWN0aW9uIH0gPSB0eXBlZFBhcmFtcztcclxuICAgICAgICBpZiAoYWN0aW9uICE9PSBBQ1RJT04uU0hFTEwpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBhY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgLi4udHlwZWRQYXJhbXMsIGFjdGlvbiwgdWRpZDogVXRpbC5wYXJzZVN0cmluZyhwYXJhbXMsICd1ZGlkJywgdHJ1ZSkgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRPcGVuID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RhcnRTaGVsbCh0aGlzLnVkaWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Tb2NrZXRDbG9zZShldmVudDogQ2xvc2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFRBRywgYENvbm5lY3Rpb24gY2xvc2VkOiAke2V2ZW50LnJlYXNvbn1gKTtcclxuICAgICAgICB0aGlzLnRlcm0uZGlzcG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblNvY2tldE1lc3NhZ2UoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbWVzc2FnZXMgYXJlIHByb2Nlc3NlZCBieSBBdHRhY2ggQWRkb25cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRTaGVsbCh1ZGlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXVkaWQgfHwgIXRoaXMud3MgfHwgdGhpcy53cy5yZWFkeVN0YXRlICE9PSB0aGlzLndzLk9QRU4pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHJvd3MsIGNvbHMgfSA9IHRoaXMuZml0QWRkb24ucHJvcG9zZURpbWVuc2lvbnMoKTtcclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBNZXNzYWdlWHRlcm1DbGllbnQgPSB7XHJcbiAgICAgICAgICAgIGlkOiAxLFxyXG4gICAgICAgICAgICB0eXBlOiAnc2hlbGwnLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgcm93cyxcclxuICAgICAgICAgICAgICAgIGNvbHMsXHJcbiAgICAgICAgICAgICAgICB1ZGlkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRPckNyZWF0ZUNvbnRhaW5lcih1ZGlkOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHVkaWQpO1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ3Rlcm1pbmFsLWNvbnRhaW5lcic7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5pZCA9IHVkaWQ7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVRlcm1pbmFsU2l6ZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIGNvbnN0IHRlcm06IGFueSA9IHRoaXMudGVybTtcclxuICAgICAgICBjb25zdCB0ZXJtaW5hbENvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBTaGVsbENsaWVudC5nZXRPckNyZWF0ZUNvbnRhaW5lcih0aGlzLmVzY2FwZWRVZGlkKTtcclxuICAgICAgICBjb25zdCB7IHJvd3MsIGNvbHMgfSA9IHRoaXMuZml0QWRkb24ucHJvcG9zZURpbWVuc2lvbnMoKTtcclxuICAgICAgICBjb25zdCB3aWR0aCA9XHJcbiAgICAgICAgICAgIChjb2xzICogdGVybS5fY29yZS5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCArIHRlcm0uX2NvcmUudmlld3BvcnQuc2Nyb2xsQmFyV2lkdGgpLnRvRml4ZWQoXHJcbiAgICAgICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICApICsgJ3B4JztcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSAocm93cyAqIHRlcm0uX2NvcmUuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0KS50b0ZpeGVkKDIpICsgJ3B4JztcclxuICAgICAgICB0ZXJtaW5hbENvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRlcm1pbmFsQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmZpdEFkZG9uLmZpdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRW50cnlGb3JEZXZpY2VMaXN0KFxyXG4gICAgICAgIGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yLFxyXG4gICAgICAgIGJsb2NrQ2xhc3M6IHN0cmluZyxcclxuICAgICAgICBwYXJhbXM6IFBhcmFtc0RldmljZVRyYWNrZXIsXHJcbiAgICApOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnN0YXRlICE9PSAnZGV2aWNlJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZW50cnkuY2xhc3NMaXN0LmFkZCgnc2hlbGwnLCBibG9ja0NsYXNzKTtcclxuICAgICAgICBlbnRyeS5hcHBlbmRDaGlsZChcclxuICAgICAgICAgICAgQmFzZURldmljZVRyYWNrZXIuYnVpbGRMaW5rKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogQUNUSU9OLlNIRUxMLFxyXG4gICAgICAgICAgICAgICAgICAgIHVkaWQ6IGRlc2NyaXB0b3IudWRpZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnc2hlbGwnLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXRDaGFubmVsSW5pdERhdGEoKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoNCk7XHJcbiAgICAgICAgYnVmZmVyLndyaXRlKENoYW5uZWxDb2RlLlNIRUwsICdhc2NpaScpO1xyXG4gICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUNsaWVudCB9IGZyb20gJy4uLy4uL2NsaWVudC9CYXNlQ2xpZW50JztcclxuaW1wb3J0IHsgUGFyYW1zU3RyZWFtU2NyY3B5IH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUGFyYW1zU3RyZWFtU2NyY3B5JztcclxuaW1wb3J0IHsgR29vZ01vcmVCb3ggfSBmcm9tICcuLi90b29sYm94L0dvb2dNb3JlQm94JztcclxuaW1wb3J0IHsgR29vZ1Rvb2xCb3ggfSBmcm9tICcuLi90b29sYm94L0dvb2dUb29sQm94JztcclxuaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uLy4uL1NpemUnO1xyXG5pbXBvcnQgeyBDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbnRyb2xNZXNzYWdlL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IHsgQ2xpZW50c1N0YXRzLCBEaXNwbGF5Q29tYmluZWRJbmZvIH0gZnJvbSAnLi4vLi4vY2xpZW50L1N0cmVhbVJlY2VpdmVyJztcclxuaW1wb3J0IHsgQ29tbWFuZENvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY29udHJvbE1lc3NhZ2UvQ29tbWFuZENvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vLi4vVXRpbCc7XHJcbmltcG9ydCBGaWxlUHVzaEhhbmRsZXIgZnJvbSAnLi4vZmlsZVB1c2gvRmlsZVB1c2hIYW5kbGVyJztcclxuaW1wb3J0IERyYWdBbmRQdXNoTG9nZ2VyIGZyb20gJy4uL0RyYWdBbmRQdXNoTG9nZ2VyJztcclxuaW1wb3J0IHsgS2V5RXZlbnRMaXN0ZW5lciwgS2V5SW5wdXRIYW5kbGVyIH0gZnJvbSAnLi4vS2V5SW5wdXRIYW5kbGVyJztcclxuaW1wb3J0IHsgS2V5Q29kZUNvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY29udHJvbE1lc3NhZ2UvS2V5Q29kZUNvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IHsgQmFzZVBsYXllciwgUGxheWVyQ2xhc3MgfSBmcm9tICcuLi8uLi9wbGF5ZXIvQmFzZVBsYXllcic7XHJcbmltcG9ydCBHb29nRGV2aWNlRGVzY3JpcHRvciBmcm9tICcuLi8uLi8uLi90eXBlcy9Hb29nRGV2aWNlRGVzY3JpcHRvcic7XHJcbmltcG9ydCB7IENvbmZpZ3VyZVNjcmNweSB9IGZyb20gJy4vQ29uZmlndXJlU2NyY3B5JztcclxuaW1wb3J0IHsgRGV2aWNlVHJhY2tlciB9IGZyb20gJy4vRGV2aWNlVHJhY2tlcic7XHJcbmltcG9ydCB7IENvbnRyb2xDZW50ZXJDb21tYW5kIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0NvbnRyb2xDZW50ZXJDb21tYW5kJztcclxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJy4uLy4uL3VpL0h0bWxUYWcnO1xyXG5pbXBvcnQge1xyXG4gICAgRmVhdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXIsXHJcbiAgICBJbnRlcmFjdGlvbkhhbmRsZXJMaXN0ZW5lcixcclxufSBmcm9tICcuLi8uLi9pbnRlcmFjdGlvbkhhbmRsZXIvRmVhdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXInO1xyXG5pbXBvcnQgRGV2aWNlTWVzc2FnZSBmcm9tICcuLi9EZXZpY2VNZXNzYWdlJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi8uLi9EaXNwbGF5SW5mbyc7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZSB9IGZyb20gJy4uLy4uL0F0dHJpYnV0ZSc7XHJcbmltcG9ydCB7IEhvc3RUcmFja2VyIH0gZnJvbSAnLi4vLi4vY2xpZW50L0hvc3RUcmFja2VyJztcclxuaW1wb3J0IHsgQUNUSU9OIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0FjdGlvbic7XHJcbmltcG9ydCB7IFN0cmVhbVJlY2VpdmVyU2NyY3B5IH0gZnJvbSAnLi9TdHJlYW1SZWNlaXZlclNjcmNweSc7XHJcbmltcG9ydCB7IFBhcmFtc0RldmljZVRyYWNrZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QYXJhbXNEZXZpY2VUcmFja2VyJztcclxuaW1wb3J0IHsgU2NyY3B5RmlsZVB1c2hTdHJlYW0gfSBmcm9tICcuLi9maWxlUHVzaC9TY3JjcHlGaWxlUHVzaFN0cmVhbSc7XHJcblxyXG50eXBlIFN0YXJ0UGFyYW1zID0ge1xyXG4gICAgdWRpZDogc3RyaW5nO1xyXG4gICAgcGxheWVyTmFtZT86IHN0cmluZztcclxuICAgIHBsYXllcj86IEJhc2VQbGF5ZXI7XHJcbiAgICBmaXRUb1NjcmVlbj86IGJvb2xlYW47XHJcbiAgICB2aWRlb1NldHRpbmdzPzogVmlkZW9TZXR0aW5ncztcclxufTtcclxuXHJcbmNvbnN0IFRBRyA9ICdbU3RyZWFtQ2xpZW50U2NyY3B5XSc7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RyZWFtQ2xpZW50U2NyY3B5XHJcbiAgICBleHRlbmRzIEJhc2VDbGllbnQ8UGFyYW1zU3RyZWFtU2NyY3B5LCBuZXZlcj5cclxuICAgIGltcGxlbWVudHMgS2V5RXZlbnRMaXN0ZW5lciwgSW50ZXJhY3Rpb25IYW5kbGVyTGlzdGVuZXJcclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBBQ1RJT04gPSAnc3RyZWFtJztcclxuICAgIHByaXZhdGUgc3RhdGljIHBsYXllcnM6IE1hcDxzdHJpbmcsIFBsYXllckNsYXNzPiA9IG5ldyBNYXA8c3RyaW5nLCBQbGF5ZXJDbGFzcz4oKTtcclxuXHJcbiAgICBwcml2YXRlIGNvbnRyb2xCdXR0b25zPzogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGRldmljZU5hbWUgPSAnJztcclxuICAgIHByaXZhdGUgY2xpZW50SWQgPSAtMTtcclxuICAgIHByaXZhdGUgY2xpZW50c0NvdW50ID0gLTE7XHJcbiAgICBwcml2YXRlIGpvaW5lZFN0cmVhbSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSByZXF1ZXN0ZWRWaWRlb1NldHRpbmdzPzogVmlkZW9TZXR0aW5ncztcclxuICAgIHByaXZhdGUgdG91Y2hIYW5kbGVyPzogRmVhdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXI7XHJcbiAgICBwcml2YXRlIG1vcmVCb3g/OiBHb29nTW9yZUJveDtcclxuICAgIHByaXZhdGUgcGxheWVyPzogQmFzZVBsYXllcjtcclxuICAgIHByaXZhdGUgZmlsZVB1c2hIYW5kbGVyPzogRmlsZVB1c2hIYW5kbGVyO1xyXG4gICAgcHJpdmF0ZSBmaXRUb1NjcmVlbj86IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0cmVhbVJlY2VpdmVyOiBTdHJlYW1SZWNlaXZlclNjcmNweTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyUGxheWVyKHBsYXllckNsYXNzOiBQbGF5ZXJDbGFzcyk6IHZvaWQge1xyXG4gICAgICAgIGlmIChwbGF5ZXJDbGFzcy5pc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5zZXQocGxheWVyQ2xhc3MucGxheWVyRnVsbE5hbWUsIHBsYXllckNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRQbGF5ZXJzKCk6IFBsYXllckNsYXNzW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucGxheWVycy52YWx1ZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0UGxheWVyQ2xhc3MocGxheWVyTmFtZTogc3RyaW5nKTogUGxheWVyQ2xhc3MgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGxldCBwbGF5ZXJDbGFzczogUGxheWVyQ2xhc3MgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBTdHJlYW1DbGllbnRTY3JjcHkucGxheWVycy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUucGxheWVyRnVsbE5hbWUgPT09IHBsYXllck5hbWUgfHwgdmFsdWUucGxheWVyQ29kZU5hbWUgPT09IHBsYXllck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllckNsYXNzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBsYXllckNsYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlUGxheWVyKHBsYXllck5hbWU6IHN0cmluZywgdWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogQmFzZVBsYXllciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyQ2xhc3MgPSB0aGlzLmdldFBsYXllckNsYXNzKHBsYXllck5hbWUpO1xyXG4gICAgICAgIGlmICghcGxheWVyQ2xhc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IHBsYXllckNsYXNzKHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEZpdFRvU2NyZWVuKHBsYXllck5hbWU6IHN0cmluZywgdWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyQ2xhc3MgPSB0aGlzLmdldFBsYXllckNsYXNzKHBsYXllck5hbWUpO1xyXG4gICAgICAgIGlmICghcGxheWVyQ2xhc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGxheWVyQ2xhc3MuZ2V0Rml0VG9TY3JlZW5TdGF0dXModWRpZCwgZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQoXHJcbiAgICAgICAgcXVlcnk6IFVSTFNlYXJjaFBhcmFtcyB8IFBhcmFtc1N0cmVhbVNjcmNweSxcclxuICAgICAgICBzdHJlYW1SZWNlaXZlcj86IFN0cmVhbVJlY2VpdmVyU2NyY3B5LFxyXG4gICAgICAgIHBsYXllcj86IEJhc2VQbGF5ZXIsXHJcbiAgICAgICAgZml0VG9TY3JlZW4/OiBib29sZWFuLFxyXG4gICAgICAgIHZpZGVvU2V0dGluZ3M/OiBWaWRlb1NldHRpbmdzLFxyXG4gICAgKTogU3RyZWFtQ2xpZW50U2NyY3B5IHtcclxuICAgICAgICBpZiAocXVlcnkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gU3RyZWFtQ2xpZW50U2NyY3B5LnBhcnNlUGFyYW1ldGVycyhxdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2xpZW50U2NyY3B5KHBhcmFtcywgc3RyZWFtUmVjZWl2ZXIsIHBsYXllciwgZml0VG9TY3JlZW4sIHZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2xpZW50U2NyY3B5KHF1ZXJ5LCBzdHJlYW1SZWNlaXZlciwgcGxheWVyLCBmaXRUb1NjcmVlbiwgdmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGNyZWF0ZVZpZGVvU2V0dGluZ3NXaXRoQm91bmRzKG9sZDogVmlkZW9TZXR0aW5ncywgbmV3Qm91bmRzOiBTaXplKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICAgICAgY3JvcDogb2xkLmNyb3AsXHJcbiAgICAgICAgICAgIGJpdHJhdGU6IG9sZC5iaXRyYXRlLFxyXG4gICAgICAgICAgICBib3VuZHM6IG5ld0JvdW5kcyxcclxuICAgICAgICAgICAgbWF4RnBzOiBvbGQubWF4RnBzLFxyXG4gICAgICAgICAgICBpRnJhbWVJbnRlcnZhbDogb2xkLmlGcmFtZUludGVydmFsLFxyXG4gICAgICAgICAgICBzZW5kRnJhbWVNZXRhOiBvbGQuc2VuZEZyYW1lTWV0YSxcclxuICAgICAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogb2xkLmxvY2tlZFZpZGVvT3JpZW50YXRpb24sXHJcbiAgICAgICAgICAgIGRpc3BsYXlJZDogb2xkLmRpc3BsYXlJZCxcclxuICAgICAgICAgICAgY29kZWNPcHRpb25zOiBvbGQuY29kZWNPcHRpb25zLFxyXG4gICAgICAgICAgICBlbmNvZGVyTmFtZTogb2xkLmVuY29kZXJOYW1lLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwYXJhbXM6IFBhcmFtc1N0cmVhbVNjcmNweSxcclxuICAgICAgICBzdHJlYW1SZWNlaXZlcj86IFN0cmVhbVJlY2VpdmVyU2NyY3B5LFxyXG4gICAgICAgIHBsYXllcj86IEJhc2VQbGF5ZXIsXHJcbiAgICAgICAgZml0VG9TY3JlZW4/OiBib29sZWFuLFxyXG4gICAgICAgIHZpZGVvU2V0dGluZ3M/OiBWaWRlb1NldHRpbmdzLFxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW1zKTtcclxuICAgICAgICBpZiAoc3RyZWFtUmVjZWl2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlciA9IHN0cmVhbVJlY2VpdmVyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIgPSBuZXcgU3RyZWFtUmVjZWl2ZXJTY3JjcHkodGhpcy5wYXJhbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyB1ZGlkLCBwbGF5ZXI6IHBsYXllck5hbWUgfSA9IHRoaXMucGFyYW1zO1xyXG4gICAgICAgIHRoaXMuc3RhcnRTdHJlYW0oeyB1ZGlkLCBwbGF5ZXIsIHBsYXllck5hbWUsIGZpdFRvU2NyZWVuLCB2aWRlb1NldHRpbmdzIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0Qm9keUNsYXNzKCdzdHJlYW0nKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlUGFyYW1ldGVycyhwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcyk6IFBhcmFtc1N0cmVhbVNjcmNweSB7XHJcbiAgICAgICAgY29uc3QgdHlwZWRQYXJhbXMgPSBzdXBlci5wYXJzZVBhcmFtZXRlcnMocGFyYW1zKTtcclxuICAgICAgICBjb25zdCB7IGFjdGlvbiB9ID0gdHlwZWRQYXJhbXM7XHJcbiAgICAgICAgaWYgKGFjdGlvbiAhPT0gQUNUSU9OLlNUUkVBTV9TQ1JDUFkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBhY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4udHlwZWRQYXJhbXMsXHJcbiAgICAgICAgICAgIGFjdGlvbixcclxuICAgICAgICAgICAgcGxheWVyOiBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3BsYXllcicsIHRydWUpLFxyXG4gICAgICAgICAgICB1ZGlkOiBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3VkaWQnLCB0cnVlKSxcclxuICAgICAgICAgICAgd3M6IFV0aWwucGFyc2VTdHJpbmcocGFyYW1zLCAnd3MnLCB0cnVlKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBPbkRldmljZU1lc3NhZ2UgPSAobWVzc2FnZTogRGV2aWNlTWVzc2FnZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLm1vcmVCb3gpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3JlQm94Lk9uRGV2aWNlTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBvblZpZGVvID0gKGRhdGE6IEFycmF5QnVmZmVyKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IFNUQVRFID0gQmFzZVBsYXllci5TVEFURTtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZ2V0U3RhdGUoKSA9PT0gU1RBVEUuUEFVU0VEKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmdldFN0YXRlKCkgPT09IFNUQVRFLlBMQVlJTkcpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucHVzaEZyYW1lKG5ldyBVaW50OEFycmF5KGRhdGEpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBvbkNsaWVudHNTdGF0cyA9IChzdGF0czogQ2xpZW50c1N0YXRzKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VOYW1lID0gc3RhdHMuZGV2aWNlTmFtZTtcclxuICAgICAgICB0aGlzLmNsaWVudElkID0gc3RhdHMuY2xpZW50SWQ7XHJcbiAgICAgICAgLy90aGlzLnNldFRpdGxlKGBTdHJlYW0gJHt0aGlzLmRldmljZU5hbWV9YCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBvbkRpc3BsYXlJbmZvID0gKGluZm9BcnJheTogRGlzcGxheUNvbWJpbmVkSW5mb1tdKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjdXJyZW50U2V0dGluZ3MgPSB0aGlzLnBsYXllci5nZXRWaWRlb1NldHRpbmdzKCk7XHJcbiAgICAgICAgY29uc3QgZGlzcGxheUlkID0gY3VycmVudFNldHRpbmdzLmRpc3BsYXlJZDtcclxuICAgICAgICBjb25zdCBpbmZvID0gaW5mb0FycmF5LmZpbmQoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5kaXNwbGF5SW5mby5kaXNwbGF5SWQgPT09IGRpc3BsYXlJZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWluZm8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZ2V0U3RhdGUoKSA9PT0gQmFzZVBsYXllci5TVEFURS5QQVVTRUQpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHZpZGVvU2V0dGluZ3MsIHNjcmVlbkluZm8gfSA9IGluZm87XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0RGlzcGxheUluZm8oaW5mby5kaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmZpdFRvU2NyZWVuICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgdGhpcy5maXRUb1NjcmVlbiA9IHRoaXMucGxheWVyLmdldEZpdFRvU2NyZWVuU3RhdHVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmZpdFRvU2NyZWVuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0JvdW5kcyA9IHRoaXMuZ2V0TWF4U2l6ZSgpO1xyXG4gICAgICAgICAgICBpZiAobmV3Qm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3MgPSBTdHJlYW1DbGllbnRTY3JjcHkuY3JlYXRlVmlkZW9TZXR0aW5nc1dpdGhCb3VuZHMoY3VycmVudFNldHRpbmdzLCBuZXdCb3VuZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2V0VmlkZW9TZXR0aW5ncyhjdXJyZW50U2V0dGluZ3MsIHRoaXMuZml0VG9TY3JlZW4sIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXZpZGVvU2V0dGluZ3MgfHwgIXNjcmVlbkluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5qb2luZWRTdHJlYW0gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVTZXRWaWRlb1NldHRpbmdzQ29tbWFuZChjdXJyZW50U2V0dGluZ3MpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbGllbnRzQ291bnQgPSBpbmZvLmNvbm5lY3Rpb25Db3VudDtcclxuICAgICAgICBsZXQgbWluID0gVmlkZW9TZXR0aW5ncy5jb3B5KHZpZGVvU2V0dGluZ3MpO1xyXG4gICAgICAgIGNvbnN0IG9sZEluZm8gPSB0aGlzLnBsYXllci5nZXRTY3JlZW5JbmZvKCk7XHJcbiAgICAgICAgaWYgKCFzY3JlZW5JbmZvLmVxdWFscyhvbGRJbmZvKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zZXRTY3JlZW5JbmZvKHNjcmVlbkluZm8pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF2aWRlb1NldHRpbmdzLmVxdWFscyhjdXJyZW50U2V0dGluZ3MpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlOZXdWaWRlb1NldHRpbmdzKHZpZGVvU2V0dGluZ3MsIHZpZGVvU2V0dGluZ3MuZXF1YWxzKHRoaXMucmVxdWVzdGVkVmlkZW9TZXR0aW5ncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW9sZEluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gY3VycmVudFNldHRpbmdzLmJvdW5kcztcclxuICAgICAgICAgICAgY29uc3QgdmlkZW9TaXplOiBTaXplID0gc2NyZWVuSW5mby52aWRlb1NpemU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9ubHlPbmVDbGllbnQgPSB0aGlzLmNsaWVudHNDb3VudCA9PT0gMDtcclxuICAgICAgICAgICAgY29uc3Qgc21hbGxlclRoZW5DdXJyZW50ID0gYm91bmRzICYmIChib3VuZHMud2lkdGggPCB2aWRlb1NpemUud2lkdGggfHwgYm91bmRzLmhlaWdodCA8IHZpZGVvU2l6ZS5oZWlnaHQpO1xyXG4gICAgICAgICAgICBpZiAob25seU9uZUNsaWVudCB8fCBzbWFsbGVyVGhlbkN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IGN1cnJlbnRTZXR0aW5ncztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtaW5Cb3VuZHMgPSBjdXJyZW50U2V0dGluZ3MuYm91bmRzPy5pbnRlcnNlY3QobWluLmJvdW5kcyk7XHJcbiAgICAgICAgICAgIGlmIChtaW5Cb3VuZHMgJiYgIW1pbkJvdW5kcy5lcXVhbHMobWluLmJvdW5kcykpIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IFN0cmVhbUNsaWVudFNjcmNweS5jcmVhdGVWaWRlb1NldHRpbmdzV2l0aEJvdW5kcyhtaW4sIG1pbkJvdW5kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtaW4uZXF1YWxzKHZpZGVvU2V0dGluZ3MpIHx8ICF0aGlzLmpvaW5lZFN0cmVhbSkge1xyXG4gICAgICAgICAgICB0aGlzLmpvaW5lZFN0cmVhbSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldFZpZGVvU2V0dGluZ3NDb21tYW5kKG1pbikpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG9uRGlzY29ubmVjdGVkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIub2ZmKCdkZXZpY2VNZXNzYWdlJywgdGhpcy5PbkRldmljZU1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIub2ZmKCd2aWRlbycsIHRoaXMub25WaWRlbyk7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5vZmYoJ2NsaWVudHNTdGF0cycsIHRoaXMub25DbGllbnRzU3RhdHMpO1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIub2ZmKCdkaXNwbGF5SW5mbycsIHRoaXMub25EaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5vZmYoJ2Rpc2Nvbm5lY3RlZCcsIHRoaXMub25EaXNjb25uZWN0ZWQpO1xyXG5cclxuICAgICAgICB0aGlzLmZpbGVQdXNoSGFuZGxlcj8ucmVsZWFzZSgpO1xyXG4gICAgICAgIHRoaXMuZmlsZVB1c2hIYW5kbGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMudG91Y2hIYW5kbGVyPy5yZWxlYXNlKCk7XHJcbiAgICAgICAgdGhpcy50b3VjaEhhbmRsZXIgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBzdGFydFN0cmVhbSh7IHVkaWQsIHBsYXllciwgcGxheWVyTmFtZSwgdmlkZW9TZXR0aW5ncywgZml0VG9TY3JlZW4gfTogU3RhcnRQYXJhbXMpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXVkaWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgdWRpZCB2YWx1ZTogXCIke3VkaWR9XCJgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZml0VG9TY3JlZW4gPSBmaXRUb1NjcmVlbjtcclxuICAgICAgICBpZiAoIXBsYXllcikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBsYXllck5hbWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignTXVzdCBwcm92aWRlIEJhc2VQbGF5ZXIgaW5zdGFuY2Ugb3IgcGxheWVyTmFtZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBkaXNwbGF5SW5mbzogRGlzcGxheUluZm8gfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbVJlY2VpdmVyICYmIHZpZGVvU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlJbmZvID0gdGhpcy5zdHJlYW1SZWNlaXZlci5nZXREaXNwbGF5SW5mbyh2aWRlb1NldHRpbmdzLmRpc3BsYXlJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcCA9IFN0cmVhbUNsaWVudFNjcmNweS5jcmVhdGVQbGF5ZXIocGxheWVyTmFtZSwgdWRpZCwgZGlzcGxheUluZm8pO1xyXG4gICAgICAgICAgICBpZiAoIXApIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBVbnN1cHBvcnRlZCBwbGF5ZXI6IFwiJHtwbGF5ZXJOYW1lfVwiYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaXRUb1NjcmVlbiAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICBmaXRUb1NjcmVlbiA9IFN0cmVhbUNsaWVudFNjcmNweS5nZXRGaXRUb1NjcmVlbihwbGF5ZXJOYW1lLCB1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGxheWVyID0gcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5zZXRUb3VjaExpc3RlbmVycyhwbGF5ZXIpO1xyXG5cclxuICAgICAgICBpZiAoIXZpZGVvU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdmlkZW9TZXR0aW5ncyA9IHBsYXllci5nZXRWaWRlb1NldHRpbmdzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkZXZpY2VWaWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGV2aWNlVmlldy5jbGFzc05hbWUgPSAnZGV2aWNlLXZpZXcnO1xyXG4gICAgICAgIGNvbnN0IHN0b3AgPSAoZXY/OiBzdHJpbmcgfCBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXYgJiYgZXYgaW5zdGFuY2VvZiBFdmVudCAmJiBldi50eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRywgZXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQ7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IGRldmljZVZpZXcucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGRldmljZVZpZXcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmVudCA9IG1vcmVCb3gucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG1vcmVCb3gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGdvb2dNb3JlQm94ID0gKHRoaXMubW9yZUJveCA9IG5ldyBHb29nTW9yZUJveCh1ZGlkLCBwbGF5ZXIsIHRoaXMpKTtcclxuICAgICAgICBjb25zdCBtb3JlQm94ID0gZ29vZ01vcmVCb3guZ2V0SG9sZGVyRWxlbWVudCgpO1xyXG4gICAgICAgIGdvb2dNb3JlQm94LnNldE9uU3RvcChzdG9wKTtcclxuICAgICAgICBjb25zdCBnb29nVG9vbEJveCA9IEdvb2dUb29sQm94LmNyZWF0ZVRvb2xCb3godWRpZCwgcGxheWVyLCB0aGlzLCBtb3JlQm94KTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xCdXR0b25zID0gZ29vZ1Rvb2xCb3guZ2V0SG9sZGVyRWxlbWVudCgpO1xyXG4gICAgICAgIGRldmljZVZpZXcuYXBwZW5kQ2hpbGQodGhpcy5jb250cm9sQnV0dG9ucyk7XHJcbiAgICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB2aWRlby5jbGFzc05hbWUgPSAndmlkZW8nO1xyXG4gICAgICAgIGRldmljZVZpZXcuYXBwZW5kQ2hpbGQodmlkZW8pO1xyXG4gICAgICAgIGRldmljZVZpZXcuYXBwZW5kQ2hpbGQobW9yZUJveCk7XHJcbiAgICAgICAgcGxheWVyLnNldFBhcmVudCh2aWRlbyk7XHJcbiAgICAgICAgcGxheWVyLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGV2aWNlVmlldyk7XHJcbiAgICAgICAgaWYgKGZpdFRvU2NyZWVuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0JvdW5kcyA9IHRoaXMuZ2V0TWF4U2l6ZSgpO1xyXG4gICAgICAgICAgICBpZiAobmV3Qm91bmRzKSB7XHJcbiAgICAgICAgICAgICAgICB2aWRlb1NldHRpbmdzID0gU3RyZWFtQ2xpZW50U2NyY3B5LmNyZWF0ZVZpZGVvU2V0dGluZ3NXaXRoQm91bmRzKHZpZGVvU2V0dGluZ3MsIG5ld0JvdW5kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hcHBseU5ld1ZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncywgZmFsc2UpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwbGF5ZXIuZ2V0VG91Y2hhYmxlRWxlbWVudCgpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBEcmFnQW5kUHVzaExvZ2dlcihlbGVtZW50KTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoSGFuZGxlciA9IG5ldyBGaWxlUHVzaEhhbmRsZXIoZWxlbWVudCwgbmV3IFNjcmNweUZpbGVQdXNoU3RyZWFtKHRoaXMuc3RyZWFtUmVjZWl2ZXIpKTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoSGFuZGxlci5hZGRFdmVudExpc3RlbmVyKGxvZ2dlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0cmVhbVJlY2VpdmVyID0gdGhpcy5zdHJlYW1SZWNlaXZlcjtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGV2aWNlTWVzc2FnZScsIHRoaXMuT25EZXZpY2VNZXNzYWdlKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbigndmlkZW8nLCB0aGlzLm9uVmlkZW8pO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdjbGllbnRzU3RhdHMnLCB0aGlzLm9uQ2xpZW50c1N0YXRzKTtcclxuICAgICAgICBzdHJlYW1SZWNlaXZlci5vbignZGlzcGxheUluZm8nLCB0aGlzLm9uRGlzcGxheUluZm8pO1xyXG4gICAgICAgIHN0cmVhbVJlY2VpdmVyLm9uKCdkaXNjb25uZWN0ZWQnLCB0aGlzLm9uRGlzY29ubmVjdGVkKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhUQUcsIHBsYXllci5nZXROYW1lKCksIHVkaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kTWVzc2FnZShtZXNzYWdlOiBDb250cm9sTWVzc2FnZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc2VuZEV2ZW50KG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXZpY2VOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SGFuZGxlS2V5Ym9hcmRFdmVudHMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmIChlbmFibGVkKSB7XHJcbiAgICAgICAgICAgIEtleUlucHV0SGFuZGxlci5hZGRFdmVudExpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEtleUlucHV0SGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25LZXlFdmVudChldmVudDogS2V5Q29kZUNvbnRyb2xNZXNzYWdlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmROZXdWaWRlb1NldHRpbmcodmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVxdWVzdGVkVmlkZW9TZXR0aW5ncyA9IHZpZGVvU2V0dGluZ3M7XHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlU2V0VmlkZW9TZXR0aW5nc0NvbW1hbmQodmlkZW9TZXR0aW5ncykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDbGllbnRJZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDbGllbnRzQ291bnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRzQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1heFNpemUoKTogU2l6ZSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRyb2xCdXR0b25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoYm9keS5jbGllbnRXaWR0aCAtIHRoaXMuY29udHJvbEJ1dHRvbnMuY2xpZW50V2lkdGgpICYgfjE1O1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGJvZHkuY2xpZW50SGVpZ2h0ICYgfjE1O1xyXG4gICAgICAgIHJldHVybiBuZXcgU2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFRvdWNoTGlzdGVuZXJzKHBsYXllcjogQmFzZVBsYXllcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnRvdWNoSGFuZGxlcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudG91Y2hIYW5kbGVyID0gbmV3IEZlYXR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyKHBsYXllciwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhcHBseU5ld1ZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncywgc2F2ZVRvU3RvcmFnZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGxldCBmaXRUb1NjcmVlbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBjcmVhdGUgY29udHJvbCAoc3dpdGNoL2NoZWNrYm94KSBpbnN0ZWFkXHJcbiAgICAgICAgaWYgKHZpZGVvU2V0dGluZ3MuYm91bmRzICYmIHZpZGVvU2V0dGluZ3MuYm91bmRzLmVxdWFscyh0aGlzLmdldE1heFNpemUoKSkpIHtcclxuICAgICAgICAgICAgZml0VG9TY3JlZW4gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2V0VmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbiwgc2F2ZVRvU3RvcmFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRW50cnlGb3JEZXZpY2VMaXN0KFxyXG4gICAgICAgIGRlc2NyaXB0b3I6IEdvb2dEZXZpY2VEZXNjcmlwdG9yLFxyXG4gICAgICAgIGJsb2NrQ2xhc3M6IHN0cmluZyxcclxuICAgICAgICBmdWxsTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHBhcmFtczogUGFyYW1zRGV2aWNlVHJhY2tlcixcclxuICAgICk6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgY29uc3QgaGFzUGlkID0gZGVzY3JpcHRvci5waWQgIT09IC0xO1xyXG4gICAgICAgIGlmIChoYXNQaWQpIHtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlndXJlQnV0dG9uSWQgPSBgY29uZmlndXJlXyR7VXRpbC5lc2NhcGVVZGlkKGRlc2NyaXB0b3IudWRpZCl9YDtcclxuICAgICAgICAgICAgY29uc3QgZSA9IGh0bWxgPGRpdiBjbGFzcz1cInN0cmVhbSAke2Jsb2NrQ2xhc3N9XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgJHtBdHRyaWJ1dGUuVURJRH09XCIke2Rlc2NyaXB0b3IudWRpZH1cIlxyXG4gICAgICAgICAgICAgICAgICAgICR7QXR0cmlidXRlLkNPTU1BTkR9PVwiJHtDb250cm9sQ2VudGVyQ29tbWFuZC5DT05GSUdVUkVfU1RSRUFNfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgJHtBdHRyaWJ1dGUuRlVMTF9OQU1FfT1cIiR7ZnVsbE5hbWV9XCJcclxuICAgICAgICAgICAgICAgICAgICAke0F0dHJpYnV0ZS5TRUNVUkV9PVwiJHtwYXJhbXMuc2VjdXJlfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgJHtBdHRyaWJ1dGUuSE9TVE5BTUV9PVwiJHtwYXJhbXMuaG9zdG5hbWV9XCJcclxuICAgICAgICAgICAgICAgICAgICAke0F0dHJpYnV0ZS5QT1JUfT1cIiR7cGFyYW1zLnBvcnR9XCJcclxuICAgICAgICAgICAgICAgICAgICAke0F0dHJpYnV0ZS5QQVRITkFNRX09XCIke3BhcmFtcy5wYXRobmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICR7QXR0cmlidXRlLlVTRV9QUk9YWX09XCIke3BhcmFtcy51c2VQcm94eX1cIlxyXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiJHtjb25maWd1cmVCdXR0b25JZH1cIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWN0aXZlIGFjdGlvbi1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIENvbmZpZ3VyZSBzdHJlYW1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gZS5jb250ZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZ3VyZUJ1dHRvbklkKTtcclxuICAgICAgICAgICAgYSAmJiAoYS5vbmNsaWNrID0gdGhpcy5vbkNvbmZpZ3VyZVN0cmVhbUNsaWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuIGUuY29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIG9uQ29uZmlndXJlU3RyZWFtQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHVkaWQgPSBVdGlsLnBhcnNlU3RyaW5nRW52KGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlVESUQpIHx8ICcnKTtcclxuICAgICAgICBjb25zdCBmdWxsTmFtZSA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLkZVTExfTkFNRSk7XHJcbiAgICAgICAgY29uc3Qgc2VjdXJlID0gVXRpbC5wYXJzZUJvb2xlYW5FbnYoYnV0dG9uLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGUuU0VDVVJFKSB8fCB1bmRlZmluZWQpIHx8IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gVXRpbC5wYXJzZVN0cmluZ0VudihidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5IT1NUTkFNRSkgfHwgdW5kZWZpbmVkKSB8fCAnJztcclxuICAgICAgICBjb25zdCBwb3J0ID0gVXRpbC5wYXJzZUludEVudihidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5QT1JUKSB8fCB1bmRlZmluZWQpO1xyXG4gICAgICAgIGNvbnN0IHBhdGhuYW1lID0gVXRpbC5wYXJzZVN0cmluZ0VudihidXR0b24uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5QQVRITkFNRSkgfHwgdW5kZWZpbmVkKSB8fCAnJztcclxuICAgICAgICBjb25zdCB1c2VQcm94eSA9IFV0aWwucGFyc2VCb29sZWFuRW52KGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlVTRV9QUk9YWSkgfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAoIXVkaWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEludmFsaWQgdWRpZCB2YWx1ZTogXCIke3VkaWR9XCJgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwb3J0ICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCBwb3J0IHR5cGU6ICR7dHlwZW9mIHBvcnR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRyYWNrZXIgPSBEZXZpY2VUcmFja2VyLmdldEluc3RhbmNlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FuZHJvaWQnLFxyXG4gICAgICAgICAgICBzZWN1cmUsXHJcbiAgICAgICAgICAgIGhvc3RuYW1lLFxyXG4gICAgICAgICAgICBwb3J0LFxyXG4gICAgICAgICAgICBwYXRobmFtZSxcclxuICAgICAgICAgICAgdXNlUHJveHksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRyYWNrZXIuZ2V0RGVzY3JpcHRvckJ5VWRpZCh1ZGlkKTtcclxuICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYCR7RGV2aWNlVHJhY2tlci5BdHRyaWJ1dGVQcmVmaXhJbnRlcmZhY2VTZWxlY3RGb3J9JHtmdWxsTmFtZX1gKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnRzIHx8ICFlbGVtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzZWxlY3QgPSBlbGVtZW50c1swXSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgICBjb25zdCBvcHRpb25FbGVtZW50ID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IHdzID0gb3B0aW9uRWxlbWVudC5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlLlVSTCk7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IG9wdGlvbkVsZW1lbnQuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZS5OQU1FKTtcclxuICAgICAgICBpZiAoIXdzIHx8ICFuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uczogUGFyYW1zU3RyZWFtU2NyY3B5ID0ge1xyXG4gICAgICAgICAgICB1ZGlkLFxyXG4gICAgICAgICAgICB3cyxcclxuICAgICAgICAgICAgcGxheWVyOiAnJyxcclxuICAgICAgICAgICAgYWN0aW9uOiBBQ1RJT04uU1RSRUFNX1NDUkNQWSxcclxuICAgICAgICAgICAgc2VjdXJlLFxyXG4gICAgICAgICAgICBob3N0bmFtZSxcclxuICAgICAgICAgICAgcG9ydCxcclxuICAgICAgICAgICAgcGF0aG5hbWUsXHJcbiAgICAgICAgICAgIHVzZVByb3h5LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZGlhbG9nID0gbmV3IENvbmZpZ3VyZVNjcmNweSh0cmFja2VyLCBkZXNjcmlwdG9yLCBvcHRpb25zKTtcclxuICAgICAgICBkaWFsb2cub24oJ2Nsb3NlZCcsIFN0cmVhbUNsaWVudFNjcmNweS5vbkNvbmZpZ3VyZURpYWxvZ0Nsb3NlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIG9uQ29uZmlndXJlRGlhbG9nQ2xvc2VkID0gKGV2ZW50OiB7IGRpYWxvZzogQ29uZmlndXJlU2NyY3B5OyByZXN1bHQ6IGJvb2xlYW4gfSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGV2ZW50LmRpYWxvZy5vZmYoJ2Nsb3NlZCcsIFN0cmVhbUNsaWVudFNjcmNweS5vbkNvbmZpZ3VyZURpYWxvZ0Nsb3NlZCk7XHJcbiAgICAgICAgaWYgKGV2ZW50LnJlc3VsdCkge1xyXG4gICAgICAgICAgICBIb3N0VHJhY2tlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFN0cmVhbVJlY2VpdmVyIH0gZnJvbSAnLi4vLi4vY2xpZW50L1N0cmVhbVJlY2VpdmVyJztcclxuaW1wb3J0IHsgUGFyYW1zU3RyZWFtU2NyY3B5IH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUGFyYW1zU3RyZWFtU2NyY3B5JztcclxuaW1wb3J0IHsgQUNUSU9OIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL0FjdGlvbic7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL1V0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0cmVhbVJlY2VpdmVyU2NyY3B5IGV4dGVuZHMgU3RyZWFtUmVjZWl2ZXI8UGFyYW1zU3RyZWFtU2NyY3B5PiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlUGFyYW1ldGVycyhwYXJhbXM6IFVSTFNlYXJjaFBhcmFtcyk6IFBhcmFtc1N0cmVhbVNjcmNweSB7XHJcbiAgICAgICAgY29uc3QgdHlwZWRQYXJhbXMgPSBzdXBlci5wYXJzZVBhcmFtZXRlcnMocGFyYW1zKTtcclxuICAgICAgICBjb25zdCB7IGFjdGlvbiB9ID0gdHlwZWRQYXJhbXM7XHJcbiAgICAgICAgaWYgKGFjdGlvbiAhPT0gQUNUSU9OLlNUUkVBTV9TQ1JDUFkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBhY3Rpb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4udHlwZWRQYXJhbXMsXHJcbiAgICAgICAgICAgIGFjdGlvbixcclxuICAgICAgICAgICAgdWRpZDogVXRpbC5wYXJzZVN0cmluZyhwYXJhbXMsICd1ZGlkJywgdHJ1ZSksXHJcbiAgICAgICAgICAgIHdzOiBVdGlsLnBhcnNlU3RyaW5nKHBhcmFtcywgJ3dzJywgdHJ1ZSksXHJcbiAgICAgICAgICAgIHBsYXllcjogVXRpbC5wYXJzZVN0cmluZyhwYXJhbXMsICdwbGF5ZXInLCB0cnVlKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIGJ1aWxkRGlyZWN0V2ViU29ja2V0VXJsKCk6IFVSTCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVUkwoKHRoaXMucGFyYW1zIGFzIFBhcmFtc1N0cmVhbVNjcmNweSkud3MpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEZpbGVQdXNoU3RyZWFtIH0gZnJvbSAnLi9GaWxlUHVzaFN0cmVhbSc7XHJcbmltcG9ydCB7IENvbW1hbmRDb250cm9sTWVzc2FnZSwgRmlsZVB1c2hTdGF0ZSB9IGZyb20gJy4uLy4uL2NvbnRyb2xNZXNzYWdlL0NvbW1hbmRDb250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCB7IE11bHRpcGxleGVyIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvbXVsdGlwbGV4ZXIvTXVsdGlwbGV4ZXInO1xyXG5pbXBvcnQgeyBGaWxlUHVzaFJlc3BvbnNlU3RhdHVzIH0gZnJvbSAnLi9GaWxlUHVzaFJlc3BvbnNlU3RhdHVzJztcclxuaW1wb3J0IFByb3RvY29sIGZyb20gJ0BkZWFkNTBmNy9hZGJraXQvbGliL2FkYi9wcm90b2NvbCc7XHJcbmltcG9ydCB7IEZpbGVMaXN0aW5nQ2xpZW50IH0gZnJvbSAnLi4vY2xpZW50L0ZpbGVMaXN0aW5nQ2xpZW50JztcclxuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IEZpbGVQdXNoSGFuZGxlciBmcm9tICcuL0ZpbGVQdXNoSGFuZGxlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQWRia2l0RmlsZVB1c2hTdHJlYW0gZXh0ZW5kcyBGaWxlUHVzaFN0cmVhbSB7XHJcbiAgICBwcml2YXRlIGNoYW5uZWxzOiBNYXA8bnVtYmVyLCBNdWx0aXBsZXhlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHNvY2tldDogTXVsdGlwbGV4ZXIsIHByaXZhdGUgcmVhZG9ubHkgZmlsZUxpc3RpbmdDbGllbnQ6IEZpbGVMaXN0aW5nQ2xpZW50KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBoYXNDb25uZWN0aW9uKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlID09IHRoaXMuc29ja2V0Lk9QRU47XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQWxsb3dlZEZpbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENoYW5uZWwoaWQ6IG51bWJlcik6IE11bHRpcGxleGVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5jaGFubmVscy5nZXQoaWQpO1xyXG4gICAgICAgIGxldCBjb2RlOiBGaWxlUHVzaFJlc3BvbnNlU3RhdHVzID0gRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5OT19FUlJPUjtcclxuICAgICAgICBpZiAoIWNoYW5uZWwpIHtcclxuICAgICAgICAgICAgY29kZSA9IEZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfVU5LTk9XTl9JRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZXNwb25zZScsIHsgaWQsIGNvZGUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNoYW5uZWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudEFwcGVuZCh7IGlkLCBjaHVuayB9OiB7IGlkOiBudW1iZXI7IGNodW5rOiBVaW50OEFycmF5IH0pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBhcHBlbmRQYXJhbXMgPSB7IGlkLCBjaHVuaywgc3RhdGU6IEZpbGVQdXNoU3RhdGUuQVBQRU5EIH07XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0Q2hhbm5lbChpZCk7XHJcbiAgICAgICAgaWYgKCFjaGFubmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbm5lbC5zZW5kKENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQoYXBwZW5kUGFyYW1zKS50b0J1ZmZlcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50RmluaXNoKHsgaWQgfTogeyBpZDogbnVtYmVyIH0pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBmaW5pc2hQYXJhbXMgPSB7IGlkLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZS5GSU5JU0ggfTtcclxuICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5nZXRDaGFubmVsKGlkKTtcclxuICAgICAgICBpZiAoIWNoYW5uZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGFubmVsLnNlbmQoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVB1c2hGaWxlQ29tbWFuZChmaW5pc2hQYXJhbXMpLnRvQnVmZmVyKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kRXZlbnROZXcoeyBpZCB9OiB7IGlkOiBudW1iZXIgfSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwdXNoSWQgPSBpZDtcclxuICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSB7IGlkLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZS5ORVcgfTtcclxuICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5zb2NrZXQuY3JlYXRlQ2hhbm5lbChCdWZmZXIuZnJvbShQcm90b2NvbC5TRU5EKSk7XHJcbiAgICAgICAgY29uc3Qgb25NZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IGJ1ZmZlci5yZWFkSW50MTZCRShvZmZzZXQpO1xyXG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcclxuICAgICAgICAgICAgY29uc3QgY29kZSA9IGJ1ZmZlci5yZWFkSW50OChvZmZzZXQpO1xyXG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5ORVdfUFVTSF9JRCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVscy5zZXQoaWQsIGNoYW5uZWwpO1xyXG4gICAgICAgICAgICAgICAgcHVzaElkID0gaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZXNwb25zZScsIHsgaWQsIGNvZGUgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBvbkNsb3NlID0gKGV2ZW50OiBDbG9zZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQud2FzQ2xlYW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSA0MDAwIC0gZXZlbnQuY29kZTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZW1pdCgncmVzcG9uc2UnLCB7IGlkOiBwdXNoSWQsIGNvZGUgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwdXNoSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihGaWxlUHVzaEhhbmRsZXIuZ2V0RXJyb3JNZXNzYWdlKGNvZGUsIGV2ZW50LnJlYXNvbikpLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcclxuICAgICAgICAgICAgY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uQ2xvc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcclxuICAgICAgICBjaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZSk7XHJcbiAgICAgICAgY2hhbm5lbC5zZW5kKENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQobmV3UGFyYW1zKS50b0J1ZmZlcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50U3RhcnQoeyBpZCwgZmlsZU5hbWUsIGZpbGVTaXplIH06IHsgaWQ6IG51bWJlcjsgZmlsZU5hbWU6IHN0cmluZzsgZmlsZVNpemU6IG51bWJlciB9KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odGhpcy5maWxlTGlzdGluZ0NsaWVudC5nZXRQYXRoKCksIGZpbGVOYW1lKTtcclxuICAgICAgICBjb25zdCBzdGFydFBhcmFtcyA9IHsgaWQsIGZpbGVOYW1lOiBmaWxlUGF0aCwgZmlsZVNpemUsIHN0YXRlOiBGaWxlUHVzaFN0YXRlLlNUQVJUIH07XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuZ2V0Q2hhbm5lbChpZCk7XHJcbiAgICAgICAgaWYgKCFjaGFubmVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhbm5lbC5zZW5kKENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQoc3RhcnRQYXJhbXMpLnRvQnVmZmVyKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFubmVsLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRHJhZ0FuZERyb3BIYW5kbGVyLCBEcmFnRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0RyYWdBbmREcm9wSGFuZGxlcic7XHJcbmltcG9ydCB7IEZpbGVQdXNoU3RyZWFtLCBQdXNoUmVzcG9uc2UgfSBmcm9tICcuL0ZpbGVQdXNoU3RyZWFtJztcclxuaW1wb3J0IHsgRmlsZVB1c2hSZXNwb25zZVN0YXR1cyB9IGZyb20gJy4vRmlsZVB1c2hSZXNwb25zZVN0YXR1cyc7XHJcblxyXG50eXBlIFJlc29sdmUgPSAocmVzcG9uc2U6IFB1c2hSZXNwb25zZSkgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCB0eXBlIFB1c2hVcGRhdGVQYXJhbXMgPSB7XHJcbiAgICBwdXNoSWQ6IG51bWJlcjtcclxuICAgIGZpbGVOYW1lOiBzdHJpbmc7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwcm9ncmVzczogbnVtYmVyO1xyXG4gICAgZXJyb3I6IGJvb2xlYW47XHJcbiAgICBmaW5pc2hlZDogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRHJhZ0FuZFB1c2hMaXN0ZW5lciB7XHJcbiAgICBvbkRyYWdFbnRlcjogKCkgPT4gYm9vbGVhbjtcclxuICAgIG9uRHJhZ0xlYXZlOiAoKSA9PiBib29sZWFuO1xyXG4gICAgb25Ecm9wOiAoKSA9PiBib29sZWFuO1xyXG4gICAgb25GaWxlUHVzaFVwZGF0ZTogKGRhdGE6IFB1c2hVcGRhdGVQYXJhbXMpID0+IHZvaWQ7XHJcbiAgICBvbkVycm9yOiAoZXJyb3I6IEVycm9yIHwgc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBUQUcgPSAnW0ZpbGVQdXNoSGFuZGxlcl0nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsZVB1c2hIYW5kbGVyIGltcGxlbWVudHMgRHJhZ0V2ZW50TGlzdGVuZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBSRVFVRVNUX05FV19QVVNIX0lEID0gMDsgLy8gaWdub3JlZCBvbiBzZXJ2ZXIsIHdoZW4gc3RhdGUgaXMgYE5FV19QVVNIX0lEYFxyXG5cclxuICAgIHByaXZhdGUgcmVzcG9uc2VXYWl0ZXI6IE1hcDxudW1iZXIsIFJlc29sdmUgfCBSZXNvbHZlW10+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6IFNldDxEcmFnQW5kUHVzaExpc3RlbmVyPiA9IG5ldyBTZXQoKTtcclxuICAgIHByaXZhdGUgcHVzaElkRmlsZU5hbWVNYXA6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBlbGVtZW50OiBIVE1MRWxlbWVudCwgcHJpdmF0ZSByZWFkb25seSBmaWxlUHVzaFN0cmVhbTogRmlsZVB1c2hTdHJlYW0pIHtcclxuICAgICAgICBEcmFnQW5kRHJvcEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzKTtcclxuICAgICAgICBmaWxlUHVzaFN0cmVhbS5vbigncmVzcG9uc2UnLCB0aGlzLm9uU3RyZWFtUmVzcG9uc2UpO1xyXG4gICAgICAgIGZpbGVQdXNoU3RyZWFtLm9uKCdlcnJvcicsIHRoaXMub25TdHJlYW1FcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZW5kVXBkYXRlKHBhcmFtczogUHVzaFVwZGF0ZVBhcmFtcyk6IHZvaWQge1xyXG4gICAgICAgIGlmIChwYXJhbXMuZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5wdXNoSWRGaWxlTmFtZU1hcC5kZWxldGUocGFyYW1zLnB1c2hJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLm9uRmlsZVB1c2hVcGRhdGUocGFyYW1zKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvZ0Vycm9yKHB1c2hJZDogbnVtYmVyLCBmaWxlTmFtZTogc3RyaW5nLCBjb2RlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBtc2cgPSBSRVNQT05TRV9DT0RFUy5nZXQoY29kZSkgfHwgYFVua25vd24gZXJyb3IgKCR7Y29kZX0pYDtcclxuICAgICAgICB0aGlzLnNlbmRVcGRhdGUoeyBwdXNoSWQsIGZpbGVOYW1lLCBtZXNzYWdlOiBgZXJyb3I6IFwiJHttc2d9XCJgLCBwcm9ncmVzczogLTEsIGVycm9yOiB0cnVlLCBmaW5pc2hlZDogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBnZXRTdHJlYW1SZWFkZXIoZmlsZTogRmlsZSk6IFByb21pc2U8e1xyXG4gICAgICAgIHJlYWRlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFVpbnQ4QXJyYXk+O1xyXG4gICAgICAgIHJlc3VsdDogUmVhZGFibGVTdHJlYW1SZWFkUmVzdWx0PFVpbnQ4QXJyYXk+O1xyXG4gICAgfT4ge1xyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBuZXcgUmVzcG9uc2UoZmlsZSkuYmxvYigpO1xyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGJsb2Iuc3RyZWFtKCkuZ2V0UmVhZGVyKCkgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFVpbnQ4QXJyYXk+O1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgcmVhZGVyLCByZXN1bHQgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHB1c2hGaWxlKGZpbGU6IEZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3QgeyBuYW1lOiBmaWxlTmFtZSwgc2l6ZTogZmlsZVNpemUgfSA9IGZpbGU7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZpbGVQdXNoU3RyZWFtLmhhc0Nvbm5lY3Rpb24oKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIub25FcnJvcignV2ViU29ja2V0IGlzIG5vdCByZWFkeScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZCA9IEZpbGVQdXNoSGFuZGxlci5SRVFVRVNUX05FV19QVVNIX0lEO1xyXG4gICAgICAgIHRoaXMuc2VuZFVwZGF0ZSh7IHB1c2hJZDogaWQsIGZpbGVOYW1lLCBtZXNzYWdlOiAnYmVnaW5zLi4uJywgcHJvZ3Jlc3M6IDAsIGVycm9yOiBmYWxzZSwgZmluaXNoZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMuZmlsZVB1c2hTdHJlYW0uc2VuZEV2ZW50TmV3KHsgaWQgfSk7XHJcbiAgICAgICAgY29uc3QgeyBjb2RlOiBwdXNoSWQgfSA9IGF3YWl0IHRoaXMud2FpdEZvclJlc3BvbnNlKGlkKTtcclxuICAgICAgICBpZiAocHVzaElkIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9nRXJyb3IocHVzaElkLCBmaWxlTmFtZSwgcHVzaElkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHVzaElkRmlsZU5hbWVNYXAuc2V0KHB1c2hJZCwgZmlsZU5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHdhaXRQcm9taXNlID0gdGhpcy53YWl0Rm9yUmVzcG9uc2UocHVzaElkKTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoU3RyZWFtLnNlbmRFdmVudFN0YXJ0KHsgaWQ6IHB1c2hJZCwgZmlsZU5hbWUsIGZpbGVTaXplIH0pO1xyXG4gICAgICAgIGNvbnN0IFt7IGNvZGU6IHN0YXJ0UmVzcG9uc2VDb2RlIH0sIHsgcmVhZGVyLCByZXN1bHQgfV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIHdhaXRQcm9taXNlLFxyXG4gICAgICAgICAgICBGaWxlUHVzaEhhbmRsZXIuZ2V0U3RyZWFtUmVhZGVyKGZpbGUpLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGlmIChzdGFydFJlc3BvbnNlQ29kZSAhPT0gRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5OT19FUlJPUikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0Vycm9yKHB1c2hJZCwgZmlsZU5hbWUsIHN0YXJ0UmVzcG9uc2VDb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVjZWl2ZWRCeXRlcyA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2Nlc3NEYXRhID0gYXN5bmMgKHsgZG9uZSwgdmFsdWUgfTogeyBkb25lOiBib29sZWFuOyB2YWx1ZT86IFVpbnQ4QXJyYXkgfSk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICAgICAgICBpZiAoZG9uZSB8fCAhdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsZVB1c2hTdHJlYW0uc2VuZEV2ZW50RmluaXNoKHsgaWQ6IHB1c2hJZCB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29kZTogZmluaXNoUmVzcG9uc2VDb2RlIH0gPSBhd2FpdCB0aGlzLndhaXRGb3JSZXNwb25zZShwdXNoSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmlzaFJlc3BvbnNlQ29kZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nRXJyb3IocHVzaElkLCBmaWxlTmFtZSwgZmluaXNoUmVzcG9uc2VDb2RlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ3N1Y2Nlc3MhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRywgYEZpbGUgXCIke2ZpbGVOYW1lfVwiIHVwbG9hZGVkIGluICR7RGF0ZS5ub3coKSAtIHN0YXJ0fW1zYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlY2VpdmVkQnl0ZXMgKz0gdmFsdWUubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLmZpbGVQdXNoU3RyZWFtLnNlbmRFdmVudEFwcGVuZCh7IGlkOiBwdXNoSWQsIGNodW5rOiB2YWx1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IFt7IGNvZGU6IGFwcGVuZFJlc3BvbnNlQ29kZSB9LCByZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YWl0Rm9yUmVzcG9uc2UocHVzaElkKSxcclxuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkKCksXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBpZiAoYXBwZW5kUmVzcG9uc2VDb2RlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0Vycm9yKHB1c2hJZCwgZmlsZU5hbWUsIGFwcGVuZFJlc3BvbnNlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAocmVjZWl2ZWRCeXRlcyAqIDEwMCkgLyBmaWxlU2l6ZTtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3Byb2dyZXNzLnRvRml4ZWQoMil9JWA7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZFVwZGF0ZSh7IHB1c2hJZCwgZmlsZU5hbWUsIG1lc3NhZ2UsIHByb2dyZXNzLCBlcnJvcjogZmFsc2UsIGZpbmlzaGVkOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NEYXRhKHJlc3VsdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzc0RhdGEocmVzdWx0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHdhaXRGb3JSZXNwb25zZShwdXNoSWQ6IG51bWJlcik6IFByb21pc2U8UHVzaFJlc3BvbnNlPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IHRoaXMucmVzcG9uc2VXYWl0ZXIuZ2V0KHB1c2hJZCk7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0b3JlZCkpIHtcclxuICAgICAgICAgICAgICAgIHN0b3JlZC5wdXNoKHJlc29sdmUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0b3JlZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJyOiBSZXNvbHZlW10gPSBbc3RvcmVkXTtcclxuICAgICAgICAgICAgICAgIGFyci5wdXNoKHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVdhaXRlci5zZXQocHVzaElkLCBhcnIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZVdhaXRlci5zZXQocHVzaElkLCByZXNvbHZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3RyZWFtRXJyb3IgPSAoeyBpZDogcHVzaElkLCBlcnJvciB9OiB7IGlkOiBudW1iZXI7IGVycm9yOiBFcnJvciB9KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLnB1c2hJZEZpbGVOYW1lTWFwLmdldChwdXNoSWQpIHx8ICdVbmtub3duIGZpbGUnO1xyXG4gICAgICAgIHRoaXMuc2VuZFVwZGF0ZSh7IHB1c2hJZCwgZmlsZU5hbWUsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsIHByb2dyZXNzOiAtMSwgZXJyb3I6IHRydWUsIGZpbmlzaGVkOiB0cnVlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBvblN0cmVhbVJlc3BvbnNlID0gKHJlc3BvbnNlOiBQdXNoUmVzcG9uc2UpOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgZnVuYzogUmVzb2x2ZTtcclxuICAgICAgICBsZXQgdmFsdWU6IFB1c2hSZXNwb25zZTtcclxuICAgICAgICBjb25zdCB7IGNvZGUsIGlkOiBpZEluUmVzcG9uc2UgfSA9IHJlc3BvbnNlO1xyXG4gICAgICAgIGNvbnN0IGlkID0gY29kZSA9PT0gRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5ORVdfUFVTSF9JRCA/IEZpbGVQdXNoSGFuZGxlci5SRVFVRVNUX05FV19QVVNIX0lEIDogcmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgY29uc3QgcmVzb2x2ZSA9IHRoaXMucmVzcG9uc2VXYWl0ZXIuZ2V0KGlkKTtcclxuICAgICAgICBpZiAoIXJlc29sdmUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRywgYFVuZXhwZWN0ZWQgcHVzaCBpZDogXCIke2lkfVwiLCAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlKX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNvbHZlKSkge1xyXG4gICAgICAgICAgICBmdW5jID0gcmVzb2x2ZS5zaGlmdCgpIGFzIFJlc29sdmU7XHJcbiAgICAgICAgICAgIGlmICghcmVzb2x2ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VXYWl0ZXIuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZ1bmMgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlV2FpdGVyLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlID09PSBGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLk5FV19QVVNIX0lEKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0geyBpZCwgY29kZTogaWRJblJlc3BvbnNlIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB7IGlkLCBjb2RlOiBjb2RlIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmModmFsdWUpO1xyXG4gICAgfTtcclxuICAgIHB1YmxpYyBvbkZpbGVzRHJvcChmaWxlczogRmlsZVtdKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgbGlzdGVuZXIub25Ecm9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZTogRmlsZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IHR5cGUsIG5hbWUgfSA9IGZpbGU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbGVQdXNoU3RyZWFtLmlzQWxsb3dlZEZpbGUoZmlsZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVzaEZpbGUoZmlsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclBhcmFtczogUHVzaFVwZGF0ZVBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoSWQ6IEZpbGVQdXNoSGFuZGxlci5SRVFVRVNUX05FV19QVVNIX0lELFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCB0eXBlIFwiJHt0eXBlfVwiYCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVXBkYXRlKGVycm9yUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0RXJyb3JNZXNzYWdlKGNvZGU6IG51bWJlciwgbWVzc2FnZT86IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UgfHwgUkVTUE9OU0VfQ09ERVMuZ2V0KGNvZGUpIHx8ICdVbmtub3duIGVycm9yJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EcmFnRW50ZXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICBoYW5kbGVkID0gaGFuZGxlZCB8fCBsaXN0ZW5lci5vbkRyYWdFbnRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRyYWdMZWF2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGhhbmRsZWQgPSBoYW5kbGVkIHx8IGxpc3RlbmVyLm9uRHJhZ0xlYXZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5maWxlUHVzaFN0cmVhbS5vZmYoJ3Jlc3BvbnNlJywgdGhpcy5vblN0cmVhbVJlc3BvbnNlKTtcclxuICAgICAgICB0aGlzLmZpbGVQdXNoU3RyZWFtLm9mZignZXJyb3InLCB0aGlzLm9uU3RyZWFtRXJyb3IpO1xyXG4gICAgICAgIHRoaXMuZmlsZVB1c2hTdHJlYW0ucmVsZWFzZSgpO1xyXG4gICAgICAgIERyYWdBbmREcm9wSGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXI6IERyYWdBbmRQdXNoTGlzdGVuZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXI6IERyYWdBbmRQdXNoTGlzdGVuZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBSRVNQT05TRV9DT0RFUyA9IG5ldyBNYXAoW1xyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuTkVXX1BVU0hfSUQsICdOZXcgcHVzaCBpZCddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuTk9fRVJST1IsICdObyBlcnJvciddLFxyXG5cclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX0lOVkFMSURfTkFNRSwgJ0ludmFsaWQgbmFtZSddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfTk9fU1BBQ0UsICdObyBzcGFjZSddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfRkFJTEVEX1RPX0RFTEVURSwgJ0ZhaWxlZCB0byBkZWxldGUgZXhpc3RpbmcnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX0ZBSUxFRF9UT19DUkVBVEUsICdGYWlsZWQgdG8gY3JlYXRlIG5ldyBmaWxlJ10sXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9GSUxFX05PVF9GT1VORCwgJ0ZpbGUgbm90IGZvdW5kJ10sXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9GQUlMRURfVE9fV1JJVEUsICdGYWlsZWQgdG8gd3JpdGUgdG8gZmlsZSddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfRklMRV9JU19CVVNZLCAnRmlsZSBpcyBidXN5J10sXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9JTlZBTElEX1NUQVRFLCAnSW52YWxpZCBzdGF0ZSddLFxyXG4gICAgW0ZpbGVQdXNoUmVzcG9uc2VTdGF0dXMuRVJST1JfVU5LTk9XTl9JRCwgJ1Vua25vd24gaWQnXSxcclxuICAgIFtGaWxlUHVzaFJlc3BvbnNlU3RhdHVzLkVSUk9SX05PX0ZSRUVfSUQsICdObyBmcmVlIGlkJ10sXHJcbiAgICBbRmlsZVB1c2hSZXNwb25zZVN0YXR1cy5FUlJPUl9JTkNPUlJFQ1RfU0laRSwgJ0luY29ycmVjdCBzaXplJ10sXHJcbl0pO1xyXG4iLCJleHBvcnQgZW51bSBGaWxlUHVzaFJlc3BvbnNlU3RhdHVzIHtcclxuICAgIE5FV19QVVNIX0lEID0gMSxcclxuICAgIE5PX0VSUk9SID0gMCxcclxuICAgIEVSUk9SX0lOVkFMSURfTkFNRSA9IC0xLFxyXG4gICAgRVJST1JfTk9fU1BBQ0UgPSAtMixcclxuICAgIEVSUk9SX0ZBSUxFRF9UT19ERUxFVEUgPSAtMyxcclxuICAgIEVSUk9SX0ZBSUxFRF9UT19DUkVBVEUgPSAtNCxcclxuICAgIEVSUk9SX0ZJTEVfTk9UX0ZPVU5EID0gLTUsXHJcbiAgICBFUlJPUl9GQUlMRURfVE9fV1JJVEUgPSAtNixcclxuICAgIEVSUk9SX0ZJTEVfSVNfQlVTWSA9IC03LFxyXG4gICAgRVJST1JfSU5WQUxJRF9TVEFURSA9IC04LFxyXG4gICAgRVJST1JfVU5LTk9XTl9JRCA9IC05LFxyXG4gICAgRVJST1JfTk9fRlJFRV9JRCA9IC0xMCxcclxuICAgIEVSUk9SX0lOQ09SUkVDVF9TSVpFID0gLTExLFxyXG4gICAgRVJST1JfT1RIRVIgPSAtMTIsXHJcbn1cclxuIiwiaW1wb3J0IHsgVHlwZWRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL1R5cGVkRW1pdHRlcic7XHJcblxyXG5leHBvcnQgdHlwZSBQdXNoUmVzcG9uc2UgPSB7IGlkOiBudW1iZXI7IGNvZGU6IG51bWJlciB9O1xyXG5cclxuaW50ZXJmYWNlIEZpbGVQdXNoU3RyZWFtRXZlbnRzIHtcclxuICAgIHJlc3BvbnNlOiBQdXNoUmVzcG9uc2U7XHJcbiAgICBlcnJvcjogeyBpZDogbnVtYmVyOyBlcnJvcjogRXJyb3IgfTtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZpbGVQdXNoU3RyZWFtIGV4dGVuZHMgVHlwZWRFbWl0dGVyPEZpbGVQdXNoU3RyZWFtRXZlbnRzPiB7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgaGFzQ29ubmVjdGlvbigpOiBib29sZWFuO1xyXG4gICAgcHVibGljIGFic3RyYWN0IGlzQWxsb3dlZEZpbGUoZmlsZTogRmlsZSk6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2VuZEV2ZW50TmV3KHBhcmFtczogeyBpZDogbnVtYmVyIH0pOiB2b2lkO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHNlbmRFdmVudFN0YXJ0KHBhcmFtczogeyBpZDogbnVtYmVyOyBmaWxlTmFtZTogc3RyaW5nOyBmaWxlU2l6ZTogbnVtYmVyIH0pOiB2b2lkO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHNlbmRFdmVudEZpbmlzaChwYXJhbXM6IHsgaWQ6IG51bWJlciB9KTogdm9pZDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzZW5kRXZlbnRBcHBlbmQocGFyYW1zOiB7IGlkOiBudW1iZXI7IGNodW5rOiBVaW50OEFycmF5IH0pOiB2b2lkO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbGVhc2UoKTogdm9pZDtcclxufVxyXG4iLCJpbXBvcnQgeyBGaWxlUHVzaFN0cmVhbSB9IGZyb20gJy4vRmlsZVB1c2hTdHJlYW0nO1xyXG5pbXBvcnQgeyBTdHJlYW1SZWNlaXZlclNjcmNweSB9IGZyb20gJy4uL2NsaWVudC9TdHJlYW1SZWNlaXZlclNjcmNweSc7XHJcbmltcG9ydCBEZXZpY2VNZXNzYWdlIGZyb20gJy4uL0RldmljZU1lc3NhZ2UnO1xyXG5pbXBvcnQgeyBDb21tYW5kQ29udHJvbE1lc3NhZ2UsIEZpbGVQdXNoU3RhdGUgfSBmcm9tICcuLi8uLi9jb250cm9sTWVzc2FnZS9Db21tYW5kQ29udHJvbE1lc3NhZ2UnO1xyXG5cclxuY29uc3QgQUxMT1dFRF9UWVBFUyA9IFsnYXBwbGljYXRpb24vdm5kLmFuZHJvaWQucGFja2FnZS1hcmNoaXZlJ107XHJcbmNvbnN0IEFMTE9XRURfTkFNRV9SRSA9IC9cXC5hcGskL2k7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NyY3B5RmlsZVB1c2hTdHJlYW0gZXh0ZW5kcyBGaWxlUHVzaFN0cmVhbSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHN0cmVhbVJlY2VpdmVyOiBTdHJlYW1SZWNlaXZlclNjcmNweSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgc3RyZWFtUmVjZWl2ZXIub24oJ2RldmljZU1lc3NhZ2UnLCB0aGlzLm9uRGV2aWNlTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgaGFzQ29ubmVjdGlvbigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW1SZWNlaXZlci5oYXNDb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQWxsb3dlZEZpbGUoZmlsZTogRmlsZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgbmFtZSB9ID0gZmlsZTtcclxuICAgICAgICByZXR1cm4gKHR5cGUgJiYgQUxMT1dFRF9UWVBFUy5pbmNsdWRlcyh0eXBlKSkgfHwgKCF0eXBlICYmIEFMTE9XRURfTkFNRV9SRS50ZXN0KG5hbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50QXBwZW5kKHsgaWQsIGNodW5rIH06IHsgaWQ6IG51bWJlcjsgY2h1bms6IFVpbnQ4QXJyYXkgfSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGFwcGVuZFBhcmFtcyA9IHsgaWQsIGNodW5rLCBzdGF0ZTogRmlsZVB1c2hTdGF0ZS5BUFBFTkQgfTtcclxuICAgICAgICB0aGlzLnN0cmVhbVJlY2VpdmVyLnNlbmRFdmVudChDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlUHVzaEZpbGVDb21tYW5kKGFwcGVuZFBhcmFtcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kRXZlbnRGaW5pc2goeyBpZCB9OiB7IGlkOiBudW1iZXIgfSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZpbmlzaFBhcmFtcyA9IHsgaWQsIHN0YXRlOiBGaWxlUHVzaFN0YXRlLkZJTklTSCB9O1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIuc2VuZEV2ZW50KENvbW1hbmRDb250cm9sTWVzc2FnZS5jcmVhdGVQdXNoRmlsZUNvbW1hbmQoZmluaXNoUGFyYW1zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudE5ldyh7IGlkIH06IHsgaWQ6IG51bWJlciB9KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgbmV3UGFyYW1zID0geyBpZCwgc3RhdGU6IEZpbGVQdXNoU3RhdGUuTkVXIH07XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5zZW5kRXZlbnQoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVB1c2hGaWxlQ29tbWFuZChuZXdQYXJhbXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50U3RhcnQoeyBpZCwgZmlsZU5hbWUsIGZpbGVTaXplIH06IHsgaWQ6IG51bWJlcjsgZmlsZU5hbWU6IHN0cmluZzsgZmlsZVNpemU6IG51bWJlciB9KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQYXJhbXMgPSB7IGlkLCBmaWxlTmFtZSwgZmlsZVNpemUsIHN0YXRlOiBGaWxlUHVzaFN0YXRlLlNUQVJUIH07XHJcbiAgICAgICAgdGhpcy5zdHJlYW1SZWNlaXZlci5zZW5kRXZlbnQoQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVB1c2hGaWxlQ29tbWFuZChzdGFydFBhcmFtcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVjZWl2ZXIub2ZmKCdkZXZpY2VNZXNzYWdlJywgdGhpcy5vbkRldmljZU1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGV2aWNlTWVzc2FnZSA9IChldjogRGV2aWNlTWVzc2FnZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmIChldi50eXBlICE9PSBEZXZpY2VNZXNzYWdlLlRZUEVfUFVTSF9SRVNQT05TRSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0YXRzID0gZXYuZ2V0UHVzaFN0YXRzKCk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdyZXNwb25zZScsIHN0YXRzKTtcclxuICAgIH07XHJcbn1cclxuIiwiaW1wb3J0ICcuLi8uLi8uLi9zdHlsZS9tb3JlYm94LmNzcyc7XHJcbmltcG9ydCB7IEJhc2VQbGF5ZXIgfSBmcm9tICcuLi8uLi9wbGF5ZXIvQmFzZVBsYXllcic7XHJcbmltcG9ydCB7IFRleHRDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbnRyb2xNZXNzYWdlL1RleHRDb250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCB7IENvbW1hbmRDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbnRyb2xNZXNzYWdlL0NvbW1hbmRDb250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCB7IENvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY29udHJvbE1lc3NhZ2UvQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgU2l6ZSBmcm9tICcuLi8uLi9TaXplJztcclxuaW1wb3J0IERldmljZU1lc3NhZ2UgZnJvbSAnLi4vRGV2aWNlTWVzc2FnZSc7XHJcbmltcG9ydCBWaWRlb1NldHRpbmdzIGZyb20gJy4uLy4uL1ZpZGVvU2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBTdHJlYW1DbGllbnRTY3JjcHkgfSBmcm9tICcuLi9jbGllbnQvU3RyZWFtQ2xpZW50U2NyY3B5JztcclxuXHJcbmNvbnN0IFRBRyA9ICdbR29vZ01vcmVCb3hdJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHb29nTW9yZUJveCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBkZWZhdWx0U2l6ZSA9IG5ldyBTaXplKDQ4MCwgODAwKTtcclxuICAgIHByaXZhdGUgb25TdG9wPzogKCkgPT4gdm9pZDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaG9sZGVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaW5wdXQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGJpdHJhdGVJbnB1dD86IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heEZwc0lucHV0PzogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaUZyYW1lSW50ZXJ2YWxJbnB1dD86IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heFdpZHRoSW5wdXQ/OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhIZWlnaHRJbnB1dD86IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IodWRpZDogc3RyaW5nLCBwcml2YXRlIHBsYXllcjogQmFzZVBsYXllciwgcHJpdmF0ZSBjbGllbnQ6IFN0cmVhbUNsaWVudFNjcmNweSkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllck5hbWUgPSBwbGF5ZXIuZ2V0TmFtZSgpO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvU2V0dGluZ3MgPSBwbGF5ZXIuZ2V0VmlkZW9TZXR0aW5ncygpO1xyXG4gICAgICAgIGNvbnN0IHsgZGlzcGxheUlkIH0gPSB2aWRlb1NldHRpbmdzO1xyXG4gICAgICAgIGNvbnN0IHByZWZlcnJlZFNldHRpbmdzID0gcGxheWVyLmdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpO1xyXG4gICAgICAgIGNvbnN0IG1vcmVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtb3JlQm94LmNsYXNzTmFtZSA9ICdtb3JlLWJveCc7XHJcbiAgICAgICAgY29uc3QgbmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICBuYW1lQm94LmlubmVyVGV4dCA9IGAke3VkaWR9ICgke3BsYXllck5hbWV9KWA7XHJcbiAgICAgICAgbmFtZUJveC5jbGFzc05hbWUgPSAndGV4dC13aXRoLXNoYWRvdyc7XHJcbiAgICAgICAgbW9yZUJveC5hcHBlbmRDaGlsZChuYW1lQm94KTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9ICh0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKSk7XHJcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgndGV4dC1hcmVhJyk7XHJcbiAgICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHNlbmRCdXR0b24uaW5uZXJUZXh0ID0gJ0VudmlhciBjb21vIHRlY2xhcyc7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0V3JhcHBlciA9IEdvb2dNb3JlQm94LndyYXAoJ3AnLCBbaW5wdXQsIHNlbmRCdXR0b25dLCBtb3JlQm94KTtcclxuICAgICAgICBzZW5kQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnNlbmRNZXNzYWdlKG5ldyBUZXh0Q29udHJvbE1lc3NhZ2UoaW5wdXQudmFsdWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1hbmRzOiBIVE1MRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgY29uc3QgY29kZXMgPSBDb21tYW5kQ29udHJvbE1lc3NhZ2UuQ29tbWFuZHM7XHJcbiAgICAgICAgZm9yIChjb25zdCBbYWN0aW9uLCBjb21tYW5kXSBvZiBjb2Rlcy5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGxldCBiaXRyYXRlSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBtYXhGcHNJbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IGlGcmFtZUludGVydmFsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBtYXhXaWR0aElucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgICBsZXQgbWF4SGVpZ2h0SW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IENvbnRyb2xNZXNzYWdlLlRZUEVfQ0hBTkdFX1NUUkVBTV9QQVJBTUVURVJTKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcG9pbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcG9pbGVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BvaWxlckNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBgc3BvaWxlcl92aWRlb18ke3VkaWR9XyR7cGxheWVyTmFtZX1fJHtkaXNwbGF5SWR9XyR7YWN0aW9ufWA7XHJcblxyXG4gICAgICAgICAgICAgICAgc3BvaWxlci5jbGFzc05hbWUgPSAnc3BvaWxlcic7XHJcbiAgICAgICAgICAgICAgICBzcG9pbGVyQ2hlY2sudHlwZSA9ICdjaGVja2JveCc7XHJcbiAgICAgICAgICAgICAgICBzcG9pbGVyQ2hlY2suaWQgPSBpZDtcclxuICAgICAgICAgICAgICAgIHNwb2lsZXJMYWJlbC5odG1sRm9yID0gaWQ7XHJcbiAgICAgICAgICAgICAgICBzcG9pbGVyTGFiZWwuaW5uZXJUZXh0ID0gY29tbWFuZDtcclxuICAgICAgICAgICAgICAgIGlubmVyRGl2LmNsYXNzTmFtZSA9ICdib3gnO1xyXG4gICAgICAgICAgICAgICAgc3BvaWxlci5hcHBlbmRDaGlsZChzcG9pbGVyQ2hlY2spO1xyXG4gICAgICAgICAgICAgICAgc3BvaWxlci5hcHBlbmRDaGlsZChzcG9pbGVyTGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgc3BvaWxlci5hcHBlbmRDaGlsZChpbm5lckRpdik7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYml0cmF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIGJpdHJhdGVMYWJlbC5pbm5lclRleHQgPSAnQml0cmF0ZTonO1xyXG4gICAgICAgICAgICAgICAgYml0cmF0ZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIGJpdHJhdGVJbnB1dC5wbGFjZWhvbGRlciA9IGAke3ByZWZlcnJlZFNldHRpbmdzLmJpdHJhdGV9IGJwc2A7XHJcbiAgICAgICAgICAgICAgICBiaXRyYXRlSW5wdXQudmFsdWUgPSB2aWRlb1NldHRpbmdzLmJpdHJhdGUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIEdvb2dNb3JlQm94LndyYXAoJ2RpdicsIFtiaXRyYXRlTGFiZWwsIGJpdHJhdGVJbnB1dF0sIGlubmVyRGl2KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZUlucHV0ID0gYml0cmF0ZUlucHV0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG1heEZwc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIG1heEZwc0xhYmVsLmlubmVyVGV4dCA9ICdNYXggZnBzOic7XHJcbiAgICAgICAgICAgICAgICBtYXhGcHNJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBtYXhGcHNJbnB1dC5wbGFjZWhvbGRlciA9IGAke3ByZWZlcnJlZFNldHRpbmdzLm1heEZwc30gZnBzYDtcclxuICAgICAgICAgICAgICAgIG1heEZwc0lucHV0LnZhbHVlID0gdmlkZW9TZXR0aW5ncy5tYXhGcHMudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIEdvb2dNb3JlQm94LndyYXAoJ2RpdicsIFttYXhGcHNMYWJlbCwgbWF4RnBzSW5wdXRdLCBpbm5lckRpdik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heEZwc0lucHV0ID0gbWF4RnBzSW5wdXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaUZyYW1lSW50ZXJ2YWxMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbExhYmVsLmlubmVyVGV4dCA9ICdJLUZyYW1lIEludGVydmFsOic7XHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIGlGcmFtZUludGVydmFsSW5wdXQucGxhY2Vob2xkZXIgPSBgJHtwcmVmZXJyZWRTZXR0aW5ncy5pRnJhbWVJbnRlcnZhbH0gc2Vjb25kc2A7XHJcbiAgICAgICAgICAgICAgICBpRnJhbWVJbnRlcnZhbElucHV0LnZhbHVlID0gdmlkZW9TZXR0aW5ncy5pRnJhbWVJbnRlcnZhbC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgR29vZ01vcmVCb3gud3JhcCgnZGl2JywgW2lGcmFtZUludGVydmFsTGFiZWwsIGlGcmFtZUludGVydmFsSW5wdXRdLCBpbm5lckRpdik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlGcmFtZUludGVydmFsSW5wdXQgPSBpRnJhbWVJbnRlcnZhbElucHV0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdmlkZW9TZXR0aW5ncy5ib3VuZHMgfHwgY2xpZW50LmdldE1heFNpemUoKSB8fCBHb29nTW9yZUJveC5kZWZhdWx0U2l6ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBXaWR0aCA9IHByZWZlcnJlZFNldHRpbmdzLmJvdW5kcz8ud2lkdGggfHwgd2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwSGVpZ2h0ID0gcHJlZmVycmVkU2V0dGluZ3MuYm91bmRzPy5oZWlnaHQgfHwgaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgbWF4V2lkdGhMYWJlbC5pbm5lclRleHQgPSAnTWF4IHdpZHRoOic7XHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgIG1heFdpZHRoSW5wdXQucGxhY2Vob2xkZXIgPSBgJHtwV2lkdGh9IHB4YDtcclxuICAgICAgICAgICAgICAgIG1heFdpZHRoSW5wdXQudmFsdWUgPSB3aWR0aC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgR29vZ01vcmVCb3gud3JhcCgnZGl2JywgW21heFdpZHRoTGFiZWwsIG1heFdpZHRoSW5wdXRdLCBpbm5lckRpdik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heFdpZHRoSW5wdXQgPSBtYXhXaWR0aElucHV0O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG1heEhlaWdodExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIG1heEhlaWdodExhYmVsLmlubmVyVGV4dCA9ICdNYXggaGVpZ2h0Oic7XHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHRJbnB1dC5wbGFjZWhvbGRlciA9IGAke3BIZWlnaHR9IHB4YDtcclxuICAgICAgICAgICAgICAgIG1heEhlaWdodElucHV0LnZhbHVlID0gaGVpZ2h0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBHb29nTW9yZUJveC53cmFwKCdkaXYnLCBbbWF4SGVpZ2h0TGFiZWwsIG1heEhlaWdodElucHV0XSwgaW5uZXJEaXYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHRJbnB1dCA9IG1heEhlaWdodElucHV0O1xyXG5cclxuICAgICAgICAgICAgICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgICAgIGZpdEJ1dHRvbi5pbm5lclRleHQgPSAnRml0JztcclxuICAgICAgICAgICAgICAgIGZpdEJ1dHRvbi5vbmNsaWNrID0gdGhpcy5maXQ7XHJcbiAgICAgICAgICAgICAgICBpbm5lckRpdi5pbnNlcnRCZWZvcmUoZml0QnV0dG9uLCBpbm5lckRpdi5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICByZXNldEJ1dHRvbi5pbm5lclRleHQgPSAnUmVzZXQnO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRCdXR0b24ub25jbGljayA9IHRoaXMucmVzZXQ7XHJcbiAgICAgICAgICAgICAgICBpbm5lckRpdi5pbnNlcnRCZWZvcmUocmVzZXRCdXR0b24sIGlubmVyRGl2LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaChzcG9pbGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPT09IENvbW1hbmRDb250cm9sTWVzc2FnZS5UWVBFX1NFVF9DTElQQk9BUkQgfHxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPT09IENvbW1hbmRDb250cm9sTWVzc2FnZS5UWVBFX0dFVF9DTElQQk9BUkRcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKGJ0bik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnRuLmlubmVyVGV4dCA9IGNvbW1hbmQ7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IENvbnRyb2xNZXNzYWdlLlRZUEVfQ0hBTkdFX1NUUkVBTV9QQVJBTUVURVJTKSB7XHJcbiAgICAgICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiaXRyYXRlID0gcGFyc2VJbnQoYml0cmF0ZUlucHV0LnZhbHVlLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4RnBzID0gcGFyc2VJbnQobWF4RnBzSW5wdXQudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpRnJhbWVJbnRlcnZhbCA9IHBhcnNlSW50KGlGcmFtZUludGVydmFsSW5wdXQudmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oYml0cmF0ZSkgfHwgaXNOYU4obWF4RnBzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcGFyc2VJbnQobWF4V2lkdGhJbnB1dC52YWx1ZSwgMTApICYgfjE1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlSW50KG1heEhlaWdodElucHV0LnZhbHVlLCAxMCkgJiB+MTU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRzID0gbmV3IFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBsYXllci5nZXRWaWRlb1NldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsb2NrZWRWaWRlb09yaWVudGF0aW9uLCBzZW5kRnJhbWVNZXRhLCBkaXNwbGF5SWQsIGNvZGVjT3B0aW9ucywgZW5jb2Rlck5hbWUgfSA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlkZW9TZXR0aW5ncyA9IG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRyYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGcHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlGcmFtZUludGVydmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kRnJhbWVNZXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNlbmROZXdWaWRlb1NldHRpbmcodmlkZW9TZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gQ29tbWFuZENvbnRyb2xNZXNzYWdlLlRZUEVfU0VUX0NMSVBCT0FSRCkge1xyXG4gICAgICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZShDb21tYW5kQ29udHJvbE1lc3NhZ2UuY3JlYXRlU2V0Q2xpcGJvYXJkQ29tbWFuZCh0ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZShuZXcgQ29tbWFuZENvbnRyb2xNZXNzYWdlKGFjdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBHb29nTW9yZUJveC53cmFwKCdwJywgY29tbWFuZHMsIG1vcmVCb3gpO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JlZW5Qb3dlck1vZGVJZCA9IGBzY3JlZW5fcG93ZXJfbW9kZV8ke3VkaWR9XyR7cGxheWVyTmFtZX1fJHtkaXNwbGF5SWR9YDtcclxuICAgICAgICBjb25zdCBzY3JlZW5Qb3dlck1vZGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgc2NyZWVuUG93ZXJNb2RlTGFiZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBjb25zdCBsYWJlbFRleHRQcmVmaXggPSAnTW9kZSc7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFByZWZpeCA9ICdBaG9ycm8gZGUgZW5lcmfDrWEnO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblBvd2VyTW9kZUNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBzY3JlZW5Qb3dlck1vZGVDaGVjay50eXBlID0gJ2NoZWNrYm94JztcclxuICAgICAgICBsZXQgbW9kZSA9IChzY3JlZW5Qb3dlck1vZGVDaGVjay5jaGVja2VkID0gZmFsc2UpID8gJ09OJyA6ICdPRkYnO1xyXG4gICAgICAgIHNjcmVlblBvd2VyTW9kZUNoZWNrLmlkID0gc2NyZWVuUG93ZXJNb2RlTGFiZWwuaHRtbEZvciA9IHNjcmVlblBvd2VyTW9kZUlkO1xyXG4gICAgICAgIHNjcmVlblBvd2VyTW9kZUxhYmVsLmlubmVyVGV4dCA9IGAke2xhYmVsVGV4dFByZWZpeH0gJHttb2RlfWA7XHJcbiAgICAgICAgc2NyZWVuUG93ZXJNb2RlQ2hlY2sub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGUgPSBzY3JlZW5Qb3dlck1vZGVDaGVjay5jaGVja2VkID8gJ09OJyA6ICdPRkYnO1xyXG4gICAgICAgICAgICBzY3JlZW5Qb3dlck1vZGVMYWJlbC5pbm5lclRleHQgPSBgJHtsYWJlbFRleHRQcmVmaXh9ICR7bW9kZX1gO1xyXG4gICAgICAgICAgICBzZW5kU2NyZWVuUG93ZXJNb2RlQnV0dG9uLmlubmVyVGV4dCA9IGAke2J1dHRvblRleHRQcmVmaXh9ICR7bW9kZX1gO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgc2VuZFNjcmVlblBvd2VyTW9kZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHNlbmRTY3JlZW5Qb3dlck1vZGVCdXR0b24uaW5uZXJUZXh0ID0gYCR7YnV0dG9uVGV4dFByZWZpeH0gJHttb2RlfWA7XHJcbiAgICAgICAgc2VuZFNjcmVlblBvd2VyTW9kZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gQ29tbWFuZENvbnRyb2xNZXNzYWdlLmNyZWF0ZVNldFNjcmVlblBvd2VyTW9kZUNvbW1hbmQoc2NyZWVuUG93ZXJNb2RlQ2hlY2suY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdvb2dNb3JlQm94LndyYXAoJ3AnLCBbc2NyZWVuUG93ZXJNb2RlQ2hlY2ssIHNjcmVlblBvd2VyTW9kZUxhYmVsLCBzZW5kU2NyZWVuUG93ZXJNb2RlQnV0dG9uXSwgbW9yZUJveCwgW1xyXG4gICAgICAgICAgICAnZmxleC1jZW50ZXInLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBjb25zdCBxdWFsaXR5SWQgPSBgc2hvd192aWRlb19xdWFsaXR5XyR7dWRpZH1fJHtwbGF5ZXJOYW1lfV8ke2Rpc3BsYXlJZH1gO1xyXG4gICAgICAgIGNvbnN0IHF1YWxpdHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgY29uc3QgcXVhbGl0eUNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBxdWFsaXR5Q2hlY2sudHlwZSA9ICdjaGVja2JveCc7XHJcbiAgICAgICAgcXVhbGl0eUNoZWNrLmNoZWNrZWQgPSBCYXNlUGxheWVyLkRFRkFVTFRfU0hPV19RVUFMSVRZX1NUQVRTO1xyXG4gICAgICAgIHF1YWxpdHlDaGVjay5pZCA9IHF1YWxpdHlJZDtcclxuICAgICAgICBxdWFsaXR5TGFiZWwuaHRtbEZvciA9IHF1YWxpdHlJZDtcclxuICAgICAgICBxdWFsaXR5TGFiZWwuaW5uZXJUZXh0ID0gJ1ZlciBzdGF0cyc7XHJcbiAgICAgICAgR29vZ01vcmVCb3gud3JhcCgncCcsIFtxdWFsaXR5Q2hlY2ssIHF1YWxpdHlMYWJlbF0sIG1vcmVCb3gsIFsnZmxleC1jZW50ZXInXSk7XHJcbiAgICAgICAgcXVhbGl0eUNoZWNrLm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0U2hvd1F1YWxpdHlTdGF0cyhxdWFsaXR5Q2hlY2suY2hlY2tlZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcCA9IChldj86IHN0cmluZyB8IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldiAmJiBldiBpbnN0YW5jZW9mIEV2ZW50ICYmIGV2LnR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHLCBldik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbW9yZUJveC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobW9yZUJveCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGxheWVyLm9mZigndmlkZW8tdmlldy1yZXNpemUnLCB0aGlzLm9uVmlld1ZpZGVvUmVzaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub25TdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMub25TdG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHN0b3BCdG4uaW5uZXJUZXh0ID0gYERlc2NvbmVjdGFyYDtcclxuICAgICAgICBzdG9wQnRuLm9uY2xpY2sgPSBzdG9wO1xyXG5cclxuICAgICAgICBHb29nTW9yZUJveC53cmFwKCdwJywgW3N0b3BCdG5dLCBtb3JlQm94KTtcclxuICAgICAgICBwbGF5ZXIub24oJ3ZpZGVvLXZpZXctcmVzaXplJywgdGhpcy5vblZpZXdWaWRlb1Jlc2l6ZSk7XHJcbiAgICAgICAgcGxheWVyLm9uKCd2aWRlby1zZXR0aW5ncycsIHRoaXMub25WaWRlb1NldHRpbmdzKTtcclxuICAgICAgICB0aGlzLmhvbGRlciA9IG1vcmVCb3g7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblZpZXdWaWRlb1Jlc2l6ZSA9IChzaXplOiBTaXplKTogdm9pZCA9PiB7XHJcbiAgICAgICAgLy8gcGFkZGluZzogMTBweFxyXG4gICAgICAgIHRoaXMuaG9sZGVyLnN0eWxlLndpZHRoID0gYCR7c2l6ZS53aWR0aCAtIDIgKiAxMH1weGA7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgb25WaWRlb1NldHRpbmdzID0gKHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MpOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAodGhpcy5iaXRyYXRlSW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5iaXRyYXRlSW5wdXQudmFsdWUgPSB2aWRlb1NldHRpbmdzLmJpdHJhdGUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubWF4RnBzSW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhGcHNJbnB1dC52YWx1ZSA9IHZpZGVvU2V0dGluZ3MubWF4RnBzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlGcmFtZUludGVydmFsSW5wdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5pRnJhbWVJbnRlcnZhbElucHV0LnZhbHVlID0gdmlkZW9TZXR0aW5ncy5pRnJhbWVJbnRlcnZhbC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmlkZW9TZXR0aW5ncy5ib3VuZHMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB2aWRlb1NldHRpbmdzLmJvdW5kcztcclxuICAgICAgICAgICAgaWYgKHRoaXMubWF4V2lkdGhJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhXaWR0aElucHV0LnZhbHVlID0gd2lkdGgudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXhIZWlnaHRJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhIZWlnaHRJbnB1dC52YWx1ZSA9IGhlaWdodC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGZpdCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuY2xpZW50LmdldE1heFNpemUoKSB8fCBHb29nTW9yZUJveC5kZWZhdWx0U2l6ZTtcclxuICAgICAgICBpZiAodGhpcy5tYXhXaWR0aElucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4V2lkdGhJbnB1dC52YWx1ZSA9IHdpZHRoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1heEhlaWdodElucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4SGVpZ2h0SW5wdXQudmFsdWUgPSBoZWlnaHQudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgcmVzZXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJlZmVycmVkU2V0dGluZ3MgPSB0aGlzLnBsYXllci5nZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTtcclxuICAgICAgICB0aGlzLm9uVmlkZW9TZXR0aW5ncyhwcmVmZXJyZWRTZXR0aW5ncyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBPbkRldmljZU1lc3NhZ2UoZXY6IERldmljZU1lc3NhZ2UpOiB2b2lkIHtcclxuICAgICAgICBpZiAoZXYudHlwZSAhPT0gRGV2aWNlTWVzc2FnZS5UWVBFX0NMSVBCT0FSRCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBldi5nZXRUZXh0KCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZWxlY3QoKTtcclxuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHdyYXAoXHJcbiAgICAgICAgdGFnTmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGVsZW1lbnRzOiBIVE1MRWxlbWVudFtdLFxyXG4gICAgICAgIHBhcmVudDogSFRNTEVsZW1lbnQsXHJcbiAgICAgICAgb3B0X2NsYXNzZXM/OiBzdHJpbmdbXSxcclxuICAgICk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICAgICAgICBpZiAob3B0X2NsYXNzZXMpIHtcclxuICAgICAgICAgICAgd3JhcC5jbGFzc0xpc3QuYWRkKC4uLm9wdF9jbGFzc2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICB3cmFwLmFwcGVuZENoaWxkKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh3cmFwKTtcclxuICAgICAgICByZXR1cm4gd3JhcDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SG9sZGVyRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaG9sZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRPblN0b3AobGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm9uU3RvcCA9IGxpc3RlbmVyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRvb2xCb3ggfSBmcm9tICcuLi8uLi90b29sYm94L1Rvb2xCb3gnO1xyXG5pbXBvcnQgS2V5RXZlbnQgZnJvbSAnLi4vYW5kcm9pZC9LZXlFdmVudCc7XHJcbmltcG9ydCBTdmdJbWFnZSBmcm9tICcuLi8uLi91aS9TdmdJbWFnZSc7XHJcbmltcG9ydCB7IEtleUNvZGVDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NvbnRyb2xNZXNzYWdlL0tleUNvZGVDb250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCB7IFRvb2xCb3hCdXR0b24gfSBmcm9tICcuLi8uLi90b29sYm94L1Rvb2xCb3hCdXR0b24nO1xyXG5pbXBvcnQgeyBUb29sQm94RWxlbWVudCB9IGZyb20gJy4uLy4uL3Rvb2xib3gvVG9vbEJveEVsZW1lbnQnO1xyXG5pbXBvcnQgeyBUb29sQm94Q2hlY2tib3ggfSBmcm9tICcuLi8uLi90b29sYm94L1Rvb2xCb3hDaGVja2JveCc7XHJcbmltcG9ydCB7IFN0cmVhbUNsaWVudFNjcmNweSB9IGZyb20gJy4uL2NsaWVudC9TdHJlYW1DbGllbnRTY3JjcHknO1xyXG5pbXBvcnQgeyBCYXNlUGxheWVyIH0gZnJvbSAnLi4vLi4vcGxheWVyL0Jhc2VQbGF5ZXInO1xyXG5cclxuY29uc3QgQlVUVE9OUyA9IFtcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ0FwYWdhcicsXHJcbiAgICAgICAgY29kZTogS2V5RXZlbnQuS0VZQ09ERV9QT1dFUixcclxuICAgICAgICBpY29uOiBTdmdJbWFnZS5JY29uLlBPV0VSLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ1N1YmlyIFZvbC4nLFxyXG4gICAgICAgIGNvZGU6IEtleUV2ZW50LktFWUNPREVfVk9MVU1FX1VQLFxyXG4gICAgICAgIGljb246IFN2Z0ltYWdlLkljb24uVk9MVU1FX1VQLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ0JhamFyIFZvbC4nLFxyXG4gICAgICAgIGNvZGU6IEtleUV2ZW50LktFWUNPREVfVk9MVU1FX0RPV04sXHJcbiAgICAgICAgaWNvbjogU3ZnSW1hZ2UuSWNvbi5WT0xVTUVfRE9XTixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdWb2x2ZXInLFxyXG4gICAgICAgIGNvZGU6IEtleUV2ZW50LktFWUNPREVfQkFDSyxcclxuICAgICAgICBpY29uOiBTdmdJbWFnZS5JY29uLkJBQ0ssXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAnSG9tZScsXHJcbiAgICAgICAgY29kZTogS2V5RXZlbnQuS0VZQ09ERV9IT01FLFxyXG4gICAgICAgIGljb246IFN2Z0ltYWdlLkljb24uSE9NRSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdTd2l0Y2gnLFxyXG4gICAgICAgIGNvZGU6IEtleUV2ZW50LktFWUNPREVfQVBQX1NXSVRDSCxcclxuICAgICAgICBpY29uOiBTdmdJbWFnZS5JY29uLk9WRVJWSUVXLFxyXG4gICAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHb29nVG9vbEJveCBleHRlbmRzIFRvb2xCb3gge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGxpc3Q6IFRvb2xCb3hFbGVtZW50PGFueT5bXSkge1xyXG4gICAgICAgIHN1cGVyKGxpc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlVG9vbEJveChcclxuICAgICAgICB1ZGlkOiBzdHJpbmcsXHJcbiAgICAgICAgcGxheWVyOiBCYXNlUGxheWVyLFxyXG4gICAgICAgIGNsaWVudDogU3RyZWFtQ2xpZW50U2NyY3B5LFxyXG4gICAgICAgIG1vcmVCb3g/OiBIVE1MRWxlbWVudCxcclxuICAgICk6IEdvb2dUb29sQm94IHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJOYW1lID0gcGxheWVyLmdldE5hbWUoKTtcclxuICAgICAgICBjb25zdCBsaXN0ID0gQlVUVE9OUy5zbGljZSgpO1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSA8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXAsIFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXHJcbiAgICAgICAgICAgIHR5cGU6IEssXHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IFRvb2xCb3hFbGVtZW50PFQ+LFxyXG4gICAgICAgICkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQub3B0aW9uYWw/LmNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGNvZGUgfSA9IGVsZW1lbnQub3B0aW9uYWw7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHR5cGUgPT09ICdtb3VzZWRvd24nID8gS2V5RXZlbnQuQUNUSU9OX0RPV04gOiBLZXlFdmVudC5BQ1RJT05fVVA7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEtleUNvZGVDb250cm9sTWVzc2FnZShhY3Rpb24sIGNvZGUsIDAsIDApO1xyXG4gICAgICAgICAgICBjbGllbnQuc2VuZE1lc3NhZ2UoZXZlbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZWxlbWVudHM6IFRvb2xCb3hFbGVtZW50PGFueT5bXSA9IGxpc3QubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IG5ldyBUb29sQm94QnV0dG9uKGl0ZW0udGl0bGUsIGl0ZW0uaWNvbiwge1xyXG4gICAgICAgICAgICAgICAgY29kZTogaXRlbS5jb2RlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwbGF5ZXIuc3VwcG9ydHNTY3JlZW5zaG90KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlbnNob3QgPSBuZXcgVG9vbEJveEJ1dHRvbignQ2FwdHVyYXIgcGFudGFsbGEnLCBTdmdJbWFnZS5JY29uLkNBTUVSQSk7XHJcbiAgICAgICAgICAgIHNjcmVlbnNob3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY3JlYXRlU2NyZWVuc2hvdChjbGllbnQuZ2V0RGV2aWNlTmFtZSgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goc2NyZWVuc2hvdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBrZXlib2FyZCA9IG5ldyBUb29sQm94Q2hlY2tib3goXHJcbiAgICAgICAgICAgICdDYXB0dXJlIGtleWJvYXJkJyxcclxuICAgICAgICAgICAgU3ZnSW1hZ2UuSWNvbi5LRVlCT0FSRCxcclxuICAgICAgICAgICAgYGNhcHR1cmVfa2V5Ym9hcmRfJHt1ZGlkfV8ke3BsYXllck5hbWV9YCxcclxuICAgICAgICApO1xyXG4gICAgICAgIGtleWJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF8sIGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbC5nZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGNsaWVudC5zZXRIYW5kbGVLZXlib2FyZEV2ZW50cyhlbGVtZW50LmNoZWNrZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsZW1lbnRzLnB1c2goa2V5Ym9hcmQpO1xyXG5cclxuICAgICAgICBpZiAobW9yZUJveCkge1xyXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5SWQgPSBwbGF5ZXIuZ2V0VmlkZW9TZXR0aW5ncygpLmRpc3BsYXlJZDtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBgc2hvd19tb3JlXyR7dWRpZH1fJHtwbGF5ZXJOYW1lfV8ke2Rpc3BsYXlJZH1gO1xyXG4gICAgICAgICAgICBjb25zdCBtb3JlID0gbmV3IFRvb2xCb3hDaGVja2JveCgnT3BjaW9uZXMnLCBTdmdJbWFnZS5JY29uLk1PUkUsIGlkKTtcclxuICAgICAgICAgICAgbW9yZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfLCBlbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsLmdldEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIG1vcmVCb3guc3R5bGUuZGlzcGxheSA9IGVsZW1lbnQuY2hlY2tlZCA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbGVtZW50cy51bnNoaWZ0KG1vcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEdvb2dUb29sQm94KGVsZW1lbnRzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJbnRlcmFjdGlvbkV2ZW50cywgS2V5RXZlbnROYW1lcywgSW50ZXJhY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi9JbnRlcmFjdGlvbkhhbmRsZXInO1xyXG5pbXBvcnQgeyBCYXNlUGxheWVyIH0gZnJvbSAnLi4vcGxheWVyL0Jhc2VQbGF5ZXInO1xyXG5pbXBvcnQgeyBDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uL2NvbnRyb2xNZXNzYWdlL0NvbnRyb2xNZXNzYWdlJztcclxuaW1wb3J0IHsgVG91Y2hDb250cm9sTWVzc2FnZSB9IGZyb20gJy4uL2NvbnRyb2xNZXNzYWdlL1RvdWNoQ29udHJvbE1lc3NhZ2UnO1xyXG5pbXBvcnQgTW90aW9uRXZlbnQgZnJvbSAnLi4vTW90aW9uRXZlbnQnO1xyXG5pbXBvcnQgU2NyZWVuSW5mbyBmcm9tICcuLi9TY3JlZW5JbmZvJztcclxuaW1wb3J0IHsgU2Nyb2xsQ29udHJvbE1lc3NhZ2UgfSBmcm9tICcuLi9jb250cm9sTWVzc2FnZS9TY3JvbGxDb250cm9sTWVzc2FnZSc7XHJcblxyXG5jb25zdCBUQUcgPSAnW0ZlYXR1cmVkVG91Y2hIYW5kbGVyXSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aW9uSGFuZGxlckxpc3RlbmVyIHtcclxuICAgIHNlbmRNZXNzYWdlOiAobWVzc2FnZTogQ29udHJvbE1lc3NhZ2UpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGZWF0dXJlZEludGVyYWN0aW9uSGFuZGxlciBleHRlbmRzIEludGVyYWN0aW9uSGFuZGxlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSB0b3VjaEV2ZW50c05hbWVzOiBJbnRlcmFjdGlvbkV2ZW50c1tdID0gW1xyXG4gICAgICAgICd0b3VjaHN0YXJ0JyxcclxuICAgICAgICAndG91Y2hlbmQnLFxyXG4gICAgICAgICd0b3VjaG1vdmUnLFxyXG4gICAgICAgICd0b3VjaGNhbmNlbCcsXHJcbiAgICAgICAgJ21vdXNlZG93bicsXHJcbiAgICAgICAgJ21vdXNldXAnLFxyXG4gICAgICAgICdtb3VzZW1vdmUnLFxyXG4gICAgICAgICd3aGVlbCcsXHJcbiAgICBdO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkga2V5RXZlbnRzTmFtZXM6IEtleUV2ZW50TmFtZXNbXSA9IFsna2V5ZG93bicsICdrZXl1cCddO1xyXG4gICAgcHVibGljIHN0YXRpYyBTQ1JPTExfRVZFTlRfVEhST1RUTElOR19USU1FID0gMzA7IC8vIG9uZSBldmVudCBwZXIgNTBtc1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdG9yZWRGcm9tTW91c2VFdmVudCA9IG5ldyBNYXA8bnVtYmVyLCBUb3VjaENvbnRyb2xNZXNzYWdlPigpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdG9yZWRGcm9tVG91Y2hFdmVudCA9IG5ldyBNYXA8bnVtYmVyLCBUb3VjaENvbnRyb2xNZXNzYWdlPigpO1xyXG4gICAgcHJpdmF0ZSBsYXN0U2Nyb2xsRXZlbnQ/OiB7IHRpbWU6IG51bWJlcjsgaFNjcm9sbDogbnVtYmVyOyB2U2Nyb2xsOiBudW1iZXIgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXI6IEJhc2VQbGF5ZXIsIHB1YmxpYyByZWFkb25seSBsaXN0ZW5lcjogSW50ZXJhY3Rpb25IYW5kbGVyTGlzdGVuZXIpIHtcclxuICAgICAgICBzdXBlcihwbGF5ZXIsIEZlYXR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyLnRvdWNoRXZlbnRzTmFtZXMsIEZlYXR1cmVkSW50ZXJhY3Rpb25IYW5kbGVyLmtleUV2ZW50c05hbWVzKTtcclxuICAgICAgICB0aGlzLnRhZy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5vbk1vdXNlTGVhdmUpO1xyXG4gICAgICAgIHRoaXMudGFnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJ1aWxkU2Nyb2xsRXZlbnQoZXZlbnQ6IFdoZWVsRXZlbnQsIHNjcmVlbkluZm86IFNjcmVlbkluZm8pOiBTY3JvbGxDb250cm9sTWVzc2FnZVtdIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlczogU2Nyb2xsQ29udHJvbE1lc3NhZ2VbXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHRvdWNoT25DbGllbnQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuYnVpbGRUb3VjaE9uQ2xpZW50KGV2ZW50LCBzY3JlZW5JbmZvKTtcclxuICAgICAgICBpZiAodG91Y2hPbkNsaWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBoU2Nyb2xsID0gZXZlbnQuZGVsdGFYID4gMCA/IC0xIDogZXZlbnQuZGVsdGFYIDwgLTAgPyAxIDogMDtcclxuICAgICAgICAgICAgY29uc3QgdlNjcm9sbCA9IGV2ZW50LmRlbHRhWSA+IDAgPyAtMSA6IGV2ZW50LmRlbHRhWSA8IC0wID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5sYXN0U2Nyb2xsRXZlbnQgfHxcclxuICAgICAgICAgICAgICAgIHRpbWUgLSB0aGlzLmxhc3RTY3JvbGxFdmVudC50aW1lID4gRmVhdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXIuU0NST0xMX0VWRU5UX1RIUk9UVExJTkdfVElNRSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U2Nyb2xsRXZlbnQudlNjcm9sbCAhPT0gdlNjcm9sbCB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U2Nyb2xsRXZlbnQuaFNjcm9sbCAhPT0gaFNjcm9sbFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNjcm9sbEV2ZW50ID0geyB0aW1lLCBoU2Nyb2xsLCB2U2Nyb2xsIH07XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG5ldyBTY3JvbGxDb250cm9sTWVzc2FnZSh0b3VjaE9uQ2xpZW50LnRvdWNoLnBvc2l0aW9uLCBoU2Nyb2xsLCB2U2Nyb2xsKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkludGVyYWN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNjcmVlbkluZm8gPSB0aGlzLnBsYXllci5nZXRTY3JlZW5JbmZvKCk7XHJcbiAgICAgICAgaWYgKCFzY3JlZW5JbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1lc3NhZ2VzOiBDb250cm9sTWVzc2FnZVtdO1xyXG4gICAgICAgIGxldCBzdG9yYWdlOiBNYXA8bnVtYmVyLCBUb3VjaENvbnRyb2xNZXNzYWdlPjtcclxuICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IHRoaXMudGFnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdpbmRvd1snV2hlZWxFdmVudCddICYmIGV2ZW50IGluc3RhbmNlb2YgV2hlZWxFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSB0aGlzLmJ1aWxkU2Nyb2xsRXZlbnQoZXZlbnQsIHNjcmVlbkluZm8pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RvcmFnZSA9IHRoaXMuc3RvcmVkRnJvbU1vdXNlRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IHRoaXMuYnVpbGRUb3VjaEV2ZW50KGV2ZW50LCBzY3JlZW5JbmZvLCBzdG9yYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vdmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3dbJ1RvdWNoRXZlbnQnXSAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogUmVzZWFyY2ggZHJhZyBmcm9tIG91dCBvZiB0aGUgdGFyZ2V0IGluc2lkZSBpdFxyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB0aGlzLnRhZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0b3JhZ2UgPSB0aGlzLnN0b3JlZEZyb21Ub3VjaEV2ZW50O1xyXG4gICAgICAgICAgICBtZXNzYWdlcyA9IHRoaXMuZm9ybWF0VG91Y2hFdmVudChldmVudCwgc2NyZWVuSW5mbywgc3RvcmFnZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcsICdVbnN1cHBvcnRlZCBldmVudCcsIGV2ZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQuY2FuY2VsYWJsZSkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uS2V5KGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RQb3NpdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNjcmVlbkluZm8gPSB0aGlzLnBsYXllci5nZXRTY3JlZW5JbmZvKCk7XHJcbiAgICAgICAgaWYgKCFzY3JlZW5JbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBjdHJsS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XHJcbiAgICAgICAgY29uc3QgeyB0YXJnZXQsIGJ1dHRvbiwgYnV0dG9ucywgY2xpZW50WSwgY2xpZW50WCB9ID0gdGhpcy5sYXN0UG9zaXRpb247XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IEludGVyYWN0aW9uSGFuZGxlci5TSU1VTEFURV9NVUxUSV9UT1VDSDtcclxuICAgICAgICBjb25zdCBwcm9wcyA9IHsgY3RybEtleSwgc2hpZnRLZXksIHR5cGUsIHRhcmdldCwgYnV0dG9uLCBidXR0b25zLCBjbGllbnRYLCBjbGllbnRZIH07XHJcbiAgICAgICAgdGhpcy5idWlsZFRvdWNoRXZlbnQocHJvcHMsIHNjcmVlbkluZm8sIG5ldyBNYXAoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbk1vdXNlRW50ZXIgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5vdmVyID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBwcml2YXRlIG9uTW91c2VMZWF2ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm92ZXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0b3JlZEZyb21Nb3VzZUV2ZW50LmZvckVhY2goKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5zZW5kTWVzc2FnZShJbnRlcmFjdGlvbkhhbmRsZXIuY3JlYXRlRW11bGF0ZWRNZXNzYWdlKE1vdGlvbkV2ZW50LkFDVElPTl9VUCwgbWVzc2FnZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3RvcmVkRnJvbU1vdXNlRXZlbnQuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmNsZWFyQ2FudmFzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnJlbGVhc2UoKTtcclxuICAgICAgICB0aGlzLnRhZy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5vbk1vdXNlTGVhdmUpO1xyXG4gICAgICAgIHRoaXMudGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcik7XHJcbiAgICAgICAgdGhpcy5zdG9yZWRGcm9tTW91c2VFdmVudC5jbGVhcigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBNb3Rpb25FdmVudCBmcm9tICcuLi9Nb3Rpb25FdmVudCc7XHJcbmltcG9ydCBTY3JlZW5JbmZvIGZyb20gJy4uL1NjcmVlbkluZm8nO1xyXG5pbXBvcnQgeyBUb3VjaENvbnRyb2xNZXNzYWdlIH0gZnJvbSAnLi4vY29udHJvbE1lc3NhZ2UvVG91Y2hDb250cm9sTWVzc2FnZSc7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uL1NpemUnO1xyXG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vUG9pbnQnO1xyXG5pbXBvcnQgUG9zaXRpb24gZnJvbSAnLi4vUG9zaXRpb24nO1xyXG5pbXBvcnQgVG91Y2hQb2ludFBORyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL211bHRpdG91Y2gvdG91Y2hfcG9pbnQucG5nJztcclxuaW1wb3J0IENlbnRlclBvaW50UE5HIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvbXVsdGl0b3VjaC9jZW50ZXJfcG9pbnQucG5nJztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vVXRpbCc7XHJcbmltcG9ydCB7IEJhc2VQbGF5ZXIgfSBmcm9tICcuLi9wbGF5ZXIvQmFzZVBsYXllcic7XHJcblxyXG5pbnRlcmZhY2UgVG91Y2gge1xyXG4gICAgYWN0aW9uOiBudW1iZXI7XHJcbiAgICBwb3NpdGlvbjogUG9zaXRpb247XHJcbiAgICBidXR0b25zOiBudW1iZXI7XHJcbiAgICBpbnZhbGlkOiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG91Y2hPbkNsaWVudCB7XHJcbiAgICBjbGllbnQ6IHtcclxuICAgICAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgfTtcclxuICAgIHRvdWNoOiBUb3VjaDtcclxufVxyXG5cclxuaW50ZXJmYWNlIENvbW1vblRvdWNoQW5kTW91c2Uge1xyXG4gICAgY2xpZW50WDogbnVtYmVyO1xyXG4gICAgY2xpZW50WTogbnVtYmVyO1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgdGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGw7XHJcbiAgICBidXR0b25zOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBNaW5pTW91c2VFdmVudCBleHRlbmRzIENvbW1vblRvdWNoQW5kTW91c2Uge1xyXG4gICAgY3RybEtleTogYm9vbGVhbjtcclxuICAgIHNoaWZ0S2V5OiBib29sZWFuO1xyXG4gICAgYnV0dG9uczogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBUQUcgPSAnW1RvdWNoSGFuZGxlcl0nO1xyXG5cclxuZXhwb3J0IHR5cGUgVG91Y2hFdmVudE5hbWVzID1cclxuICAgIHwgJ3RvdWNoc3RhcnQnXHJcbiAgICB8ICd0b3VjaGVuZCdcclxuICAgIHwgJ3RvdWNobW92ZSdcclxuICAgIHwgJ3RvdWNoY2FuY2VsJ1xyXG4gICAgfCAnbW91c2Vkb3duJ1xyXG4gICAgfCAnbW91c2V1cCdcclxuICAgIHwgJ21vdXNlbW92ZSc7XHJcbmV4cG9ydCB0eXBlIFdoZWVsRXZlbnROYW1lcyA9ICd3aGVlbCc7XHJcbmV4cG9ydCB0eXBlIEludGVyYWN0aW9uRXZlbnRzID0gVG91Y2hFdmVudE5hbWVzIHwgV2hlZWxFdmVudE5hbWVzO1xyXG5leHBvcnQgdHlwZSBLZXlFdmVudE5hbWVzID0gJ2tleWRvd24nIHwgJ2tleXVwJztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbnRlcmFjdGlvbkhhbmRsZXIge1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBTSU1VTEFURV9NVUxUSV9UT1VDSCA9ICdTSU1VTEFURV9NVUxUSV9UT1VDSCc7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IFNUUk9LRV9TVFlMRTogc3RyaW5nID0gJyMwMEJFQTQnO1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBFVkVOVF9BQ1RJT05fTUFQOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge1xyXG4gICAgICAgIHRvdWNoc3RhcnQ6IE1vdGlvbkV2ZW50LkFDVElPTl9ET1dOLFxyXG4gICAgICAgIHRvdWNoZW5kOiBNb3Rpb25FdmVudC5BQ1RJT05fVVAsXHJcbiAgICAgICAgdG91Y2htb3ZlOiBNb3Rpb25FdmVudC5BQ1RJT05fTU9WRSxcclxuICAgICAgICB0b3VjaGNhbmNlbDogTW90aW9uRXZlbnQuQUNUSU9OX1VQLFxyXG4gICAgICAgIG1vdXNlZG93bjogTW90aW9uRXZlbnQuQUNUSU9OX0RPV04sXHJcbiAgICAgICAgbW91c2Vtb3ZlOiBNb3Rpb25FdmVudC5BQ1RJT05fTU9WRSxcclxuICAgICAgICBtb3VzZXVwOiBNb3Rpb25FdmVudC5BQ1RJT05fVVAsXHJcbiAgICAgICAgW0ludGVyYWN0aW9uSGFuZGxlci5TSU1VTEFURV9NVUxUSV9UT1VDSF06IC0xLFxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIG9wdGlvbnMgPSBVdGlsLnN1cHBvcnRzUGFzc2l2ZSgpID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2U7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpZFRvUG9pbnRlck1hcDogTWFwPG51bWJlciwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgc3RhdGljIHBvaW50ZXJUb0lkTWFwOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdG91Y2hQb2ludFJhZGl1cyA9IDEwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY2VudGVyUG9pbnRSYWRpdXMgPSA1O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdG91Y2hQb2ludEltYWdlPzogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHByaXZhdGUgc3RhdGljIGNlbnRlclBvaW50SW1hZ2U/OiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcG9pbnRJbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc3RhdGljIGV2ZW50TGlzdGVuZXJzOiBNYXA8c3RyaW5nLCBTZXQ8SW50ZXJhY3Rpb25IYW5kbGVyPj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIG11bHRpVG91Y2hBY3RpdmUgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbXVsdGlUb3VjaENlbnRlcj86IFBvaW50O1xyXG4gICAgcHJpdmF0ZSBtdWx0aVRvdWNoU2hpZnQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgZGlydHlQbGFjZTogUG9pbnRbXSA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSB0YWc6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJvdGVjdGVkIG92ZXIgPSBmYWxzZTtcclxuICAgIHByb3RlY3RlZCBsYXN0UG9zaXRpb24/OiBNb3VzZUV2ZW50O1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgcGxheWVyOiBCYXNlUGxheWVyLFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSB0b3VjaEV2ZW50c05hbWVzOiBJbnRlcmFjdGlvbkV2ZW50c1tdLFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBrZXlFdmVudHNOYW1lczogS2V5RXZlbnROYW1lc1tdLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBwbGF5ZXIuZ2V0VG91Y2hhYmxlRWxlbWVudCgpO1xyXG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy50YWcuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBJbnRlcmFjdGlvbkhhbmRsZXIubG9hZEltYWdlcygpO1xyXG4gICAgICAgIEludGVyYWN0aW9uSGFuZGxlci5iaW5kR2xvYmFsTGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkludGVyYWN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IHZvaWQ7XHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25LZXkoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkO1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgYmluZEdsb2JhbExpc3RlbmVycyhpbnRlcmFjdGlvbkhhbmRsZXI6IEludGVyYWN0aW9uSGFuZGxlcik6IHZvaWQge1xyXG4gICAgICAgIGludGVyYWN0aW9uSGFuZGxlci50b3VjaEV2ZW50c05hbWVzLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc2V0OiBTZXQ8SW50ZXJhY3Rpb25IYW5kbGVyPiB8IHVuZGVmaW5lZCA9IEludGVyYWN0aW9uSGFuZGxlci5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFzZXQpIHtcclxuICAgICAgICAgICAgICAgIHNldCA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMub25JbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbkhhbmRsZXIub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudE5hbWUsIHNldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0LmFkZChpbnRlcmFjdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGludGVyYWN0aW9uSGFuZGxlci5rZXlFdmVudHNOYW1lcy5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcclxuICAgICAgICAgICAgbGV0IHNldCA9IEludGVyYWN0aW9uSGFuZGxlci5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFzZXQpIHtcclxuICAgICAgICAgICAgICAgIHNldCA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMub25LZXlFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudE5hbWUsIHNldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0LmFkZChpbnRlcmFjdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgdW5iaW5kTGlzdGVuZXJzKHRvdWNoSGFuZGxlcjogSW50ZXJhY3Rpb25IYW5kbGVyKTogdm9pZCB7XHJcbiAgICAgICAgdG91Y2hIYW5kbGVyLnRvdWNoRXZlbnRzTmFtZXMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNldCA9IEludGVyYWN0aW9uSGFuZGxlci5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFzZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXQuZGVsZXRlKHRvdWNoSGFuZGxlcik7XHJcbiAgICAgICAgICAgIGlmIChzZXQuc2l6ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmRlbGV0ZShldmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpcy5vbkludGVyYWN0aW9uRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdG91Y2hIYW5kbGVyLmtleUV2ZW50c05hbWVzLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZXQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0LmRlbGV0ZSh0b3VjaEhhbmRsZXIpO1xyXG4gICAgICAgICAgICBpZiAoc2V0LnNpemUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5kZWxldGUoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXMub25LZXlFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIG9uSW50ZXJhY3Rpb25FdmVudCA9IChldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBzZXQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50LnR5cGUgYXMgVG91Y2hFdmVudE5hbWVzKTtcclxuICAgICAgICBpZiAoIXNldCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldC5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5vbkludGVyYWN0aW9uKGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBvbktleUV2ZW50ID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2V0ID0gSW50ZXJhY3Rpb25IYW5kbGVyLmV2ZW50TGlzdGVuZXJzLmdldChldmVudC50eXBlIGFzIEtleUV2ZW50TmFtZXMpO1xyXG4gICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0LmZvckVhY2goKGluc3RhbmNlKSA9PiB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLm9uS2V5KGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBsb2FkSW1hZ2VzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnBvaW50SW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG90YWwgPSAyO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29uc3Qgb25sb2FkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKytjdXJyZW50ID09PSB0b3RhbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludEltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy50b3VjaFBvaW50SW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hQb2ludFJhZGl1cyA9IHRoaXMudG91Y2hQb2ludEltYWdlLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuY2VudGVyUG9pbnRJbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXJQb2ludFJhZGl1cyA9IHRoaXMuY2VudGVyUG9pbnRJbWFnZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHRvdWNoID0gKHRoaXMudG91Y2hQb2ludEltYWdlID0gbmV3IEltYWdlKCkpO1xyXG4gICAgICAgIHRvdWNoLnNyYyA9IFRvdWNoUG9pbnRQTkc7XHJcbiAgICAgICAgdG91Y2gub25sb2FkID0gb25sb2FkO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlciA9ICh0aGlzLmNlbnRlclBvaW50SW1hZ2UgPSBuZXcgSW1hZ2UoKSk7XHJcbiAgICAgICAgY2VudGVyLnNyYyA9IENlbnRlclBvaW50UE5HO1xyXG4gICAgICAgIGNlbnRlci5vbmxvYWQgPSBvbmxvYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBnZXRQb2ludGVySWQodHlwZTogc3RyaW5nLCBpZGVudGlmaWVyOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmlkVG9Qb2ludGVyTWFwLmhhcyhpZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludGVySWQgPSB0aGlzLmlkVG9Qb2ludGVyTWFwLmdldChpZGVudGlmaWVyKSBhcyBudW1iZXI7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAndG91Y2hlbmQnIHx8IHR5cGUgPT09ICd0b3VjaGNhbmNlbCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaWRUb1BvaW50ZXJNYXAuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyVG9JZE1hcC5kZWxldGUocG9pbnRlcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcG9pbnRlcklkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcG9pbnRlcklkID0gMDtcclxuICAgICAgICB3aGlsZSAodGhpcy5wb2ludGVyVG9JZE1hcC5oYXMocG9pbnRlcklkKSkge1xyXG4gICAgICAgICAgICBwb2ludGVySWQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pZFRvUG9pbnRlck1hcC5zZXQoaWRlbnRpZmllciwgcG9pbnRlcklkKTtcclxuICAgICAgICB0aGlzLnBvaW50ZXJUb0lkTWFwLnNldChwb2ludGVySWQsIGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHJldHVybiBwb2ludGVySWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBidWlsZFRvdWNoT25DbGllbnQoZXZlbnQ6IENvbW1vblRvdWNoQW5kTW91c2UsIHNjcmVlbkluZm86IFNjcmVlbkluZm8pOiBUb3VjaE9uQ2xpZW50IHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5tYXBUeXBlVG9BY3Rpb24oZXZlbnQudHlwZSk7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzY3JlZW5JbmZvLnZpZGVvU2l6ZTtcclxuICAgICAgICBjb25zdCB0YXJnZXQ6IEhUTUxFbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgbGV0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gdGFyZ2V0O1xyXG4gICAgICAgIGxldCB0b3VjaFggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIGxldCB0b3VjaFkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgbGV0IGludmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodG91Y2hYIDwgMCB8fCB0b3VjaFggPiBjbGllbnRXaWR0aCB8fCB0b3VjaFkgPCAwIHx8IHRvdWNoWSA+IGNsaWVudEhlaWdodCkge1xyXG4gICAgICAgICAgICBpbnZhbGlkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXBzID0gMWU1O1xyXG4gICAgICAgIGNvbnN0IHJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkQmUgPSBNYXRoLnJvdW5kKGVwcyAqIHJhdGlvKTtcclxuICAgICAgICBjb25zdCBoYXZlTm93ID0gTWF0aC5yb3VuZCgoZXBzICogY2xpZW50V2lkdGgpIC8gY2xpZW50SGVpZ2h0KTtcclxuICAgICAgICBpZiAoc2hvdWxkQmUgPiBoYXZlTm93KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWxIZWlnaHQgPSBNYXRoLmNlaWwoY2xpZW50V2lkdGggLyByYXRpbyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IChjbGllbnRIZWlnaHQgLSByZWFsSGVpZ2h0KSAvIDI7XHJcbiAgICAgICAgICAgIGlmICh0b3VjaFkgPCB0b3AgfHwgdG91Y2hZID4gdG9wICsgcmVhbEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaW52YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG91Y2hZIC09IHRvcDtcclxuICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gcmVhbEhlaWdodDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlIDwgaGF2ZU5vdykge1xyXG4gICAgICAgICAgICBjb25zdCByZWFsV2lkdGggPSBNYXRoLmNlaWwoY2xpZW50SGVpZ2h0ICogcmF0aW8pO1xyXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gKGNsaWVudFdpZHRoIC0gcmVhbFdpZHRoKSAvIDI7XHJcbiAgICAgICAgICAgIGlmICh0b3VjaFggPCBsZWZ0IHx8IHRvdWNoWCA+IGxlZnQgKyByZWFsV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRvdWNoWCAtPSBsZWZ0O1xyXG4gICAgICAgICAgICBjbGllbnRXaWR0aCA9IHJlYWxXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeCA9ICh0b3VjaFggKiB3aWR0aCkgLyBjbGllbnRXaWR0aDtcclxuICAgICAgICBjb25zdCB5ID0gKHRvdWNoWSAqIGhlaWdodCkgLyBjbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KHgsIHkpO1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFBvc2l0aW9uKHBvaW50LCBzaXplKTtcclxuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+IHdpZHRoIHx8IHkgPiBoZWlnaHQpIHtcclxuICAgICAgICAgICAgaW52YWxpZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNsaWVudDoge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBjbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvdWNoOiB7XHJcbiAgICAgICAgICAgICAgICBpbnZhbGlkLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiBldmVudC5idXR0b25zLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGVNZXNzYWdlKFxyXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IE1pbmlNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCxcclxuICAgICAgICBtZXNzYWdlOiBUb3VjaENvbnRyb2xNZXNzYWdlLFxyXG4gICAgICAgIHN0b3JhZ2U6IE1hcDxudW1iZXIsIFRvdWNoQ29udHJvbE1lc3NhZ2U+LFxyXG4gICAgICAgIGxvZ1ByZWZpeDogc3RyaW5nLFxyXG4gICAgKTogVG91Y2hDb250cm9sTWVzc2FnZVtdIHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlczogVG91Y2hDb250cm9sTWVzc2FnZVtdID0gW107XHJcbiAgICAgICAgY29uc3QgeyBhY3Rpb24sIHBvaW50ZXJJZCB9ID0gbWVzc2FnZTtcclxuICAgICAgICBjb25zdCBwcmV2aW91cyA9IHN0b3JhZ2UuZ2V0KHBvaW50ZXJJZCk7XHJcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gTW90aW9uRXZlbnQuQUNUSU9OX1VQKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihsb2dQcmVmaXgsICdSZWNlaXZlZCBBQ1RJT05fVVAgd2hpbGUgdGhlcmUgYXJlIG5vIERPV04gc3RvcmVkJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yYWdlLmRlbGV0ZShwb2ludGVySWQpO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBNb3Rpb25FdmVudC5BQ1RJT05fRE9XTikge1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihsb2dQcmVmaXgsICdSZWNlaXZlZCBBQ1RJT05fRE9XTiB3aGlsZSBhbHJlYWR5IGhhcyBvbmUgc3RvcmVkJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldChwb2ludGVySWQsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBNb3Rpb25FdmVudC5BQ1RJT05fTU9WRSkge1xyXG4gICAgICAgICAgICBpZiAoIXByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKG9yaWdpbmFsRXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmIG9yaWdpbmFsRXZlbnQuYnV0dG9ucykgfHxcclxuICAgICAgICAgICAgICAgICAgICAod2luZG93WydUb3VjaEV2ZW50J10gJiYgb3JpZ2luYWxFdmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obG9nUHJlZml4LCAnUmVjZWl2ZWQgQUNUSU9OX01PVkUgd2hpbGUgdGhlcmUgYXJlIG5vIERPV04gc3RvcmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW11bGF0ZWQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuY3JlYXRlRW11bGF0ZWRNZXNzYWdlKE1vdGlvbkV2ZW50LkFDVElPTl9ET1dOLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKGVtdWxhdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnNldChwb2ludGVySWQsIGVtdWxhdGVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBzdG9yYWdlLnNldChwb2ludGVySWQsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZUVtdWxhdGVkTWVzc2FnZShhY3Rpb246IG51bWJlciwgZXZlbnQ6IFRvdWNoQ29udHJvbE1lc3NhZ2UpOiBUb3VjaENvbnRyb2xNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCB7IHBvaW50ZXJJZCwgcG9zaXRpb24sIGJ1dHRvbnMgfSA9IGV2ZW50O1xyXG4gICAgICAgIGxldCBwcmVzc3VyZSA9IGV2ZW50LnByZXNzdXJlO1xyXG4gICAgICAgIGlmIChhY3Rpb24gPT09IE1vdGlvbkV2ZW50LkFDVElPTl9VUCkge1xyXG4gICAgICAgICAgICBwcmVzc3VyZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVG91Y2hDb250cm9sTWVzc2FnZShhY3Rpb24sIHBvaW50ZXJJZCwgcG9zaXRpb24sIHByZXNzdXJlLCBidXR0b25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hcFR5cGVUb0FjdGlvbih0eXBlOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVWRU5UX0FDVElPTl9NQVBbdHlwZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldFRvdWNoKFxyXG4gICAgICAgIGU6IENvbW1vblRvdWNoQW5kTW91c2UsXHJcbiAgICAgICAgc2NyZWVuSW5mbzogU2NyZWVuSW5mbyxcclxuICAgICAgICBjdHJsS2V5OiBib29sZWFuLFxyXG4gICAgICAgIHNoaWZ0S2V5OiBib29sZWFuLFxyXG4gICAgKTogVG91Y2hbXSB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHRvdWNoT25DbGllbnQgPSBJbnRlcmFjdGlvbkhhbmRsZXIuYnVpbGRUb3VjaE9uQ2xpZW50KGUsIHNjcmVlbkluZm8pO1xyXG4gICAgICAgIGlmICghdG91Y2hPbkNsaWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIHRvdWNoIH0gPSB0b3VjaE9uQ2xpZW50O1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdDogVG91Y2hbXSA9IFt0b3VjaF07XHJcbiAgICAgICAgaWYgKCFjdHJsS2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlUb3VjaEFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpVG91Y2hDZW50ZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlUb3VjaFNoaWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDYW52YXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBwb3NpdGlvbiwgYWN0aW9uLCBidXR0b25zIH0gPSB0b3VjaDtcclxuICAgICAgICBjb25zdCB7IHBvaW50LCBzY3JlZW5TaXplIH0gPSBwb3NpdGlvbjtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHNjcmVlblNpemU7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludDtcclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlUb3VjaEFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAoc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlUb3VjaENlbnRlciA9IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aVRvdWNoU2hpZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aVRvdWNoQ2VudGVyID0gbmV3IFBvaW50KGNsaWVudC53aWR0aCAvIDIsIGNsaWVudC5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm11bHRpVG91Y2hBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBvcHBvc2l0ZTogUG9pbnQgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IGludmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5tdWx0aVRvdWNoU2hpZnQgJiYgdGhpcy5tdWx0aVRvdWNoQ2VudGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wcG9YID0gMiAqIHRoaXMubXVsdGlUb3VjaENlbnRlci54IC0geDtcclxuICAgICAgICAgICAgY29uc3Qgb3Bwb1kgPSAyICogdGhpcy5tdWx0aVRvdWNoQ2VudGVyLnkgLSB5O1xyXG4gICAgICAgICAgICBvcHBvc2l0ZSA9IG5ldyBQb2ludChvcHBvWCwgb3Bwb1kpO1xyXG4gICAgICAgICAgICBpZiAoIShvcHBvWCA8PSB3aWR0aCAmJiBvcHBvWCA+PSAwICYmIG9wcG9ZIDw9IGhlaWdodCAmJiBvcHBvWSA+PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgaW52YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHBvc2l0ZSA9IG5ldyBQb2ludChjbGllbnQud2lkdGggLSB4LCBjbGllbnQuaGVpZ2h0IC0geSk7XHJcbiAgICAgICAgICAgIGludmFsaWQgPSB0b3VjaC5pbnZhbGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3Bwb3NpdGUpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaW52YWxpZCxcclxuICAgICAgICAgICAgICAgIGFjdGlvbixcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnMsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBvc2l0aW9uKG9wcG9zaXRlLCBzY3JlZW5TaXplKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRyYXdDaXJjbGUoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvaW50OiBQb2ludCwgcmFkaXVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhwb2ludC54LCBwb2ludC55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdMaW5lKHBvaW50MTogUG9pbnQsIHBvaW50MjogUG9pbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gSW50ZXJhY3Rpb25IYW5kbGVyLlNUUk9LRV9TVFlMRTtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8ocG9pbnQxLngsIHBvaW50MS55KTtcclxuICAgICAgICB0aGlzLmN0eC5saW5lVG8ocG9pbnQyLngsIHBvaW50Mi55KTtcclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRyYXdQb2ludChwb2ludDogUG9pbnQsIHJhZGl1czogbnVtYmVyLCBpbWFnZT86IEhUTUxJbWFnZUVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHsgbGluZVdpZHRoIH0gPSB0aGlzLmN0eDtcclxuICAgICAgICBpZiAoSW50ZXJhY3Rpb25IYW5kbGVyLnBvaW50SW1hZ2VzTG9hZGVkICYmIGltYWdlKSB7XHJcbiAgICAgICAgICAgIHJhZGl1cyA9IGltYWdlLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgbGluZVdpZHRoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGltYWdlLCBwb2ludC54IC0gcmFkaXVzLCBwb2ludC55IC0gcmFkaXVzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdDaXJjbGUodGhpcy5jdHgsIHBvaW50LCByYWRpdXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdG9wTGVmdCA9IG5ldyBQb2ludChwb2ludC54IC0gcmFkaXVzIC0gbGluZVdpZHRoLCBwb2ludC55IC0gcmFkaXVzIC0gbGluZVdpZHRoKTtcclxuICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IG5ldyBQb2ludChwb2ludC54ICsgcmFkaXVzICsgbGluZVdpZHRoLCBwb2ludC55ICsgcmFkaXVzICsgbGluZVdpZHRoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURpcnR5KHRvcExlZnQsIGJvdHRvbVJpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd1BvaW50ZXIocG9pbnQ6IFBvaW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kcmF3UG9pbnQocG9pbnQsIEludGVyYWN0aW9uSGFuZGxlci50b3VjaFBvaW50UmFkaXVzLCBJbnRlcmFjdGlvbkhhbmRsZXIudG91Y2hQb2ludEltYWdlKTtcclxuICAgICAgICBpZiAodGhpcy5tdWx0aVRvdWNoQ2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0xpbmUodGhpcy5tdWx0aVRvdWNoQ2VudGVyLCBwb2ludCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3Q2VudGVyKHBvaW50OiBQb2ludCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZHJhd1BvaW50KHBvaW50LCBJbnRlcmFjdGlvbkhhbmRsZXIuY2VudGVyUG9pbnRSYWRpdXMsIEludGVyYWN0aW9uSGFuZGxlci5jZW50ZXJQb2ludEltYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdXBkYXRlRGlydHkodG9wTGVmdDogUG9pbnQsIGJvdHRvbVJpZ2h0OiBQb2ludCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eVBsYWNlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5UGxhY2UucHVzaCh0b3BMZWZ0LCBib3R0b21SaWdodCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3VycmVudFRvcExlZnQgPSB0aGlzLmRpcnR5UGxhY2VbMF07XHJcbiAgICAgICAgY29uc3QgY3VycmVudEJvdHRvbVJpZ2h0ID0gdGhpcy5kaXJ0eVBsYWNlWzFdO1xyXG4gICAgICAgIGNvbnN0IG5ld1RvcExlZnQgPSBuZXcgUG9pbnQoTWF0aC5taW4oY3VycmVudFRvcExlZnQueCwgdG9wTGVmdC54KSwgTWF0aC5taW4oY3VycmVudFRvcExlZnQueSwgdG9wTGVmdC55KSk7XHJcbiAgICAgICAgY29uc3QgbmV3Qm90dG9tUmlnaHQgPSBuZXcgUG9pbnQoXHJcbiAgICAgICAgICAgIE1hdGgubWF4KGN1cnJlbnRCb3R0b21SaWdodC54LCBib3R0b21SaWdodC54KSxcclxuICAgICAgICAgICAgTWF0aC5tYXgoY3VycmVudEJvdHRvbVJpZ2h0LnksIGJvdHRvbVJpZ2h0LnkpLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5kaXJ0eVBsYWNlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJ0eVBsYWNlLnB1c2gobmV3VG9wTGVmdCwgbmV3Qm90dG9tUmlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGVhckNhbnZhcygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRoaXMudGFnO1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGlmIChjdHggJiYgdGhpcy5kaXJ0eVBsYWNlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCB0b3BMZWZ0ID0gdGhpcy5kaXJ0eVBsYWNlWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IHRoaXMuZGlydHlQbGFjZVsxXTtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eVBsYWNlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLm1heCh0b3BMZWZ0LngsIDApO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5tYXgodG9wTGVmdC55LCAwKTtcclxuICAgICAgICAgICAgY29uc3QgdyA9IE1hdGgubWluKGNsaWVudFdpZHRoLCBib3R0b21SaWdodC54IC0geCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSBNYXRoLm1pbihjbGllbnRIZWlnaHQsIGJvdHRvbVJpZ2h0LnkgLSB5KTtcclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCh4LCB5LCB3LCBoKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gSW50ZXJhY3Rpb25IYW5kbGVyLlNUUk9LRV9TVFlMRTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZvcm1hdFRvdWNoRXZlbnQoXHJcbiAgICAgICAgZTogVG91Y2hFdmVudCxcclxuICAgICAgICBzY3JlZW5JbmZvOiBTY3JlZW5JbmZvLFxyXG4gICAgICAgIHN0b3JhZ2U6IE1hcDxudW1iZXIsIFRvdWNoQ29udHJvbE1lc3NhZ2U+LFxyXG4gICAgKTogVG91Y2hDb250cm9sTWVzc2FnZVtdIHtcclxuICAgICAgICBjb25zdCBsb2dQcmVmaXggPSBgJHtUQUd9W2Zvcm1hdFRvdWNoRXZlbnRdYDtcclxuICAgICAgICBjb25zdCBtZXNzYWdlczogVG91Y2hDb250cm9sTWVzc2FnZVtdID0gW107XHJcbiAgICAgICAgY29uc3QgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXM7XHJcbiAgICAgICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0b3VjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2ggPSB0b3VjaGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRlcklkID0gSW50ZXJhY3Rpb25IYW5kbGVyLmdldFBvaW50ZXJJZChlLnR5cGUsIHRvdWNoLmlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvdWNoLnRhcmdldCAhPT0gdGhpcy50YWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gc3RvcmFnZS5nZXQocG9pbnRlcklkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW06IENvbW1vblRvdWNoQW5kTW91c2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2guY2xpZW50WCxcclxuICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaC5jbGllbnRZLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGUudHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBNb3Rpb25FdmVudC5CVVRUT05fUFJJTUFSWSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGUudGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gSW50ZXJhY3Rpb25IYW5kbGVyLmJ1aWxkVG91Y2hPbkNsaWVudChpdGVtLCBzY3JlZW5JbmZvKTtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYWN0aW9uLCBidXR0b25zLCBwb3NpdGlvbiwgaW52YWxpZCB9ID0gZXZlbnQudG91Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXNzdXJlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSBNb3Rpb25FdmVudC5BQ1RJT05fVVApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc3N1cmUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRvdWNoLmZvcmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzc3VyZSA9IHRvdWNoLmZvcmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBUb3VjaENvbnRyb2xNZXNzYWdlKGFjdGlvbiwgcG9pbnRlcklkLCBwb3NpdGlvbiwgcHJlc3N1cmUsIGJ1dHRvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uSW50ZXJhY3Rpb25IYW5kbGVyLnZhbGlkYXRlTWVzc2FnZShlLCBtZXNzYWdlLCBzdG9yYWdlLCBgJHtsb2dQcmVmaXh9W3ZhbGlkYXRlXWApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChJbnRlcmFjdGlvbkhhbmRsZXIuY3JlYXRlRW11bGF0ZWRNZXNzYWdlKE1vdGlvbkV2ZW50LkFDVElPTl9VUCwgcHJldmlvdXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZGVsZXRlKHBvaW50ZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobG9nUHJlZml4LCBgRmFpbGVkIHRvIGZvcm1hdCB0b3VjaGAsIHRvdWNoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobG9nUHJlZml4LCAnTm8gXCJ0b3VjaGVzXCInLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBidWlsZFRvdWNoRXZlbnQoXHJcbiAgICAgICAgZTogTWluaU1vdXNlRXZlbnQsXHJcbiAgICAgICAgc2NyZWVuSW5mbzogU2NyZWVuSW5mbyxcclxuICAgICAgICBzdG9yYWdlOiBNYXA8bnVtYmVyLCBUb3VjaENvbnRyb2xNZXNzYWdlPixcclxuICAgICk6IFRvdWNoQ29udHJvbE1lc3NhZ2VbXSB7XHJcbiAgICAgICAgY29uc3QgbG9nUHJlZml4ID0gYCR7VEFHfVtidWlsZFRvdWNoRXZlbnRdYDtcclxuICAgICAgICBjb25zdCB0b3VjaGVzID0gdGhpcy5nZXRUb3VjaChlLCBzY3JlZW5JbmZvLCBlLmN0cmxLZXksIGUuc2hpZnRLZXkpO1xyXG4gICAgICAgIGlmICghdG91Y2hlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzOiBUb3VjaENvbnRyb2xNZXNzYWdlW10gPSBbXTtcclxuICAgICAgICBjb25zdCBwb2ludHM6IFBvaW50W10gPSBbXTtcclxuICAgICAgICB0aGlzLmNsZWFyQ2FudmFzKCk7XHJcbiAgICAgICAgdG91Y2hlcy5mb3JFYWNoKCh0b3VjaDogVG91Y2gsIHBvaW50ZXJJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgYWN0aW9uLCBidXR0b25zLCBwb3NpdGlvbiB9ID0gdG91Y2g7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gc3RvcmFnZS5nZXQocG9pbnRlcklkKTtcclxuICAgICAgICAgICAgaWYgKCF0b3VjaC5pbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJlc3N1cmUgPSAxLjA7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSBNb3Rpb25FdmVudC5BQ1RJT05fVVApIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVzc3VyZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IFRvdWNoQ29udHJvbE1lc3NhZ2UoYWN0aW9uLCBwb2ludGVySWQsIHBvc2l0aW9uLCBwcmVzc3VyZSwgYnV0dG9ucyk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKC4uLkludGVyYWN0aW9uSGFuZGxlci52YWxpZGF0ZU1lc3NhZ2UoZSwgbWVzc2FnZSwgc3RvcmFnZSwgYCR7bG9nUHJlZml4fVt2YWxpZGF0ZV1gKSk7XHJcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh0b3VjaC5wb3NpdGlvbi5wb2ludCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwcmV2aW91cy5wb3NpdGlvbi5wb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5tdWx0aVRvdWNoQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm11bHRpVG91Y2hDZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NlbnRlcih0aGlzLm11bHRpVG91Y2hDZW50ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvaW50cy5mb3JFYWNoKChwb2ludCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UG9pbnRlcihwb2ludCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBoYXNBY3Rpb25VcCA9IG1lc3NhZ2VzLmZpbmQoKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuYWN0aW9uID09PSBNb3Rpb25FdmVudC5BQ1RJT05fVVA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGhhc0FjdGlvblVwICYmIHN0b3JhZ2Uuc2l6ZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4obG9nUHJlZml4LCAnTG9va3MgbGlrZSBvbmUgb2YgTXVsdGktdG91Y2ggcG9pbnRlcnMgd2FzIG5vdCByYWlzZWQgdXAnKTtcclxuICAgICAgICAgICAgc3RvcmFnZS5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKEludGVyYWN0aW9uSGFuZGxlci5jcmVhdGVFbXVsYXRlZE1lc3NhZ2UoTW90aW9uRXZlbnQuQUNUSU9OX1VQLCBtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICBJbnRlcmFjdGlvbkhhbmRsZXIudW5iaW5kTGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VQbGF5ZXIsIFBsYXliYWNrUXVhbGl0eSB9IGZyb20gJy4vQmFzZVBsYXllcic7XHJcbmltcG9ydCBTY3JlZW5JbmZvIGZyb20gJy4uL1NjcmVlbkluZm8nO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi9EaXNwbGF5SW5mbyc7XHJcblxyXG50eXBlIERlY29kZWRGcmFtZSA9IHtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIGZyYW1lOiBhbnk7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgQ2FudmFzRGVjb2RlciB7XHJcbiAgICBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQ2FudmFzQmFzZWRQbGF5ZXIgZXh0ZW5kcyBCYXNlUGxheWVyIHtcclxuICAgIHByb3RlY3RlZCBmcmFtZXNMaXN0OiBVaW50OEFycmF5W10gPSBbXTtcclxuICAgIHByb3RlY3RlZCBkZWNvZGVkRnJhbWVzOiBEZWNvZGVkRnJhbWVbXSA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIHZpZGVvU3RhdHM6IFBsYXliYWNrUXVhbGl0eVtdID0gW107XHJcbiAgICBwcm90ZWN0ZWQgYW5pbWF0aW9uRnJhbWVJZD86IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBjYW52YXM/OiBDYW52YXNEZWNvZGVyO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaGFzV2ViR0xTdXBwb3J0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiBpZiBJIHVzZSBoZXJlIGB0aGlzLnRhZ2AgaW1hZ2Ugb24gY2FudmFzIHdpbGwgYmUgZmxhdHRlbmVkXHJcbiAgICAgICAgY29uc3QgdGVzdENhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjb25zdCB2YWxpZENvbnRleHROYW1lcyA9IFsnd2ViZ2wnLCAnZXhwZXJpbWVudGFsLXdlYmdsJywgJ21vei13ZWJnbCcsICd3ZWJraXQtM2QnXTtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgbGV0IGdsOiBhbnkgPSBudWxsO1xyXG4gICAgICAgIHdoaWxlICghZ2wgJiYgaW5kZXgrKyA8IHZhbGlkQ29udGV4dE5hbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZ2wgPSB0ZXN0Q2FudmFzLmdldENvbnRleHQodmFsaWRDb250ZXh0TmFtZXNbaW5kZXhdKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhIWdsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRWxlbWVudChpZD86IHN0cmluZyk6IEhUTUxDYW52YXNFbGVtZW50IHtcclxuICAgICAgICBjb25zdCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0YWcuaWQgPSBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFnLmNsYXNzTmFtZSA9ICd2aWRlby1sYXllcic7XHJcbiAgICAgICAgcmV0dXJuIHRhZztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICB1ZGlkOiBzdHJpbmcsXHJcbiAgICAgICAgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyxcclxuICAgICAgICBuYW1lID0gJ0NhbnZhcycsXHJcbiAgICAgICAgc3RvcmFnZUtleVByZWZpeCA9ICdEdW1teUNhbnZhcycsXHJcbiAgICAgICAgcHJvdGVjdGVkIHRhZzogSFRNTENhbnZhc0VsZW1lbnQgPSBCYXNlQ2FudmFzQmFzZWRQbGF5ZXIuY3JlYXRlRWxlbWVudCgpLFxyXG4gICAgKSB7XHJcbiAgICAgICAgc3VwZXIodWRpZCwgZGlzcGxheUluZm8sIG5hbWUsIHN0b3JhZ2VLZXlQcmVmaXgsIHRhZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGRlY29kZShkYXRhOiBVaW50OEFycmF5KTogdm9pZDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTogVmlkZW9TZXR0aW5ncztcclxuXHJcbiAgICBwcm90ZWN0ZWQgZHJhd0RlY29kZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kZWNvZGVkRnJhbWVzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGZyYW1lLCB3aWR0aCwgaGVpZ2h0IH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuZGVjb2RlKGZyYW1lLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5kZWNvZGVkRnJhbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kcmF3RGVjb2RlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRnJhbWVEZWNvZGVkKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBmcmFtZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSkge1xyXG4gICAgICAgICAgICAvLyBkZWNvZGVkIGZyYW1lIHdpdGggcHJldmlvdXMgdmlkZW8gc2V0dGluZ3NcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZHJvcHBlZCA9IDA7XHJcbiAgICAgICAgY29uc3QgbWF4U3RvcmVkID0gdGhpcy52aWRlb1NldHRpbmdzLm1heEZwcyAvIDEwOyAvLyBmb3IgMTAwbXNcclxuXHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVjb2RlZEZyYW1lcy5sZW5ndGggPiBtYXhTdG9yZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGVjb2RlZEZyYW1lcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wRnJhbWUoZGF0YS5mcmFtZSk7XHJcbiAgICAgICAgICAgICAgICBkcm9wcGVkKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZWNvZGVkRnJhbWVzLnB1c2goeyB3aWR0aCwgaGVpZ2h0LCBmcmFtZSB9KTtcclxuICAgICAgICB0aGlzLnZpZGVvU3RhdHMucHVzaCh7XHJcbiAgICAgICAgICAgIGRlY29kZWRGcmFtZXM6IDEsXHJcbiAgICAgICAgICAgIGRyb3BwZWRGcmFtZXM6IGRyb3BwZWQsXHJcbiAgICAgICAgICAgIGlucHV0Qnl0ZXM6IDAsXHJcbiAgICAgICAgICAgIGlucHV0RnJhbWVzOiAwLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFuaW1hdGlvbkZyYW1lSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhd0RlY29kZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZHJvcEZyYW1lKF9mcmFtZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy8gZGlzcG9zZSBmcmFtZSBpZiByZXF1aXJlZFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hpZnRGcmFtZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRTdGF0ZSgpICE9PSBCYXNlUGxheWVyLlNUQVRFLlBMQVlJTkcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmaXJzdCA9IHRoaXMuZnJhbWVzTGlzdC5zaGlmdCgpO1xyXG4gICAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlY29kZShmaXJzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjYWxjdWxhdGVNb21lbnR1bVN0YXRzKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3Qgb25lU2Vjb25kQmVmb3JlID0gdGltZXN0YW1wIC0gMTAwMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKHRoaXMudmlkZW9TdGF0cy5sZW5ndGggJiYgdGhpcy52aWRlb1N0YXRzWzBdLnRpbWVzdGFtcCA8IG9uZVNlY29uZEJlZm9yZSkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvU3RhdHMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuaW5wdXRCeXRlcy5sZW5ndGggJiYgdGhpcy5pbnB1dEJ5dGVzWzBdLnRpbWVzdGFtcCA8IG9uZVNlY29uZEJlZm9yZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0Qnl0ZXMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRlY29kZWRGcmFtZXMgPSAwO1xyXG4gICAgICAgIGxldCBkcm9wcGVkRnJhbWVzID0gMDtcclxuICAgICAgICBsZXQgaW5wdXRCeXRlcyA9IDA7XHJcbiAgICAgICAgdGhpcy52aWRlb1N0YXRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgZGVjb2RlZEZyYW1lcyArPSBpdGVtLmRlY29kZWRGcmFtZXM7XHJcbiAgICAgICAgICAgIGRyb3BwZWRGcmFtZXMgKz0gaXRlbS5kcm9wcGVkRnJhbWVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW5wdXRCeXRlcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0Qnl0ZXMgKz0gaXRlbS5ieXRlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzID0ge1xyXG4gICAgICAgICAgICBkZWNvZGVkRnJhbWVzLFxyXG4gICAgICAgICAgICBkcm9wcGVkRnJhbWVzLFxyXG4gICAgICAgICAgICBpbnB1dEZyYW1lczogdGhpcy5pbnB1dEJ5dGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgaW5wdXRCeXRlcyxcclxuICAgICAgICAgICAgdGltZXN0YW1wLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlc2V0U3RhdHMoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucmVzZXRTdGF0cygpO1xyXG4gICAgICAgIHRoaXMudmlkZW9TdGF0cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbWFnZURhdGFVUkwoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YWcudG9EYXRhVVJMKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGluaXRDYW52YXMod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy50YWcucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFnID0gQmFzZUNhbnZhc0Jhc2VkUGxheWVyLmNyZWF0ZUVsZW1lbnQodGhpcy50YWcuaWQpO1xyXG4gICAgICAgICAgICAgICAgdGFnLmNsYXNzTmFtZSA9IHRoaXMudGFnLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQodGFnLCB0aGlzLnRhZyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy50b3VjaGFibGVDYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWcgPSB0YWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50YWcub25lcnJvciA9IChldmVudDogRXZlbnQgfCBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgWyR7dGhpcy5uYW1lfV1gLCBldmVudCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRhZy5vbmNvbnRleHRtZW51ID0gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRhZy53aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xyXG4gICAgICAgIHRoaXMudGFnLmhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5wbGF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhdGUoKSAhPT0gQmFzZVBsYXllci5TVEFURS5QTEFZSU5HIHx8ICF0aGlzLnNjcmVlbkluZm8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY3JlZW5JbmZvLnZpZGVvU2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5pbml0Q2FudmFzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0U3RhdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaGlmdEZyYW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuY2xlYXJTdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTY3JlZW5JbmZvKHNjcmVlbkluZm86IFNjcmVlbkluZm8pOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5zZXRTY3JlZW5JbmZvKHNjcmVlbkluZm8pO1xyXG4gICAgICAgIHRoaXMuY2xlYXJTdGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc2NyZWVuSW5mby52aWRlb1NpemU7XHJcbiAgICAgICAgdGhpcy5pbml0Q2FudmFzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuZnJhbWVzTGlzdCA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lSWQpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHVzaEZyYW1lKGZyYW1lOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucHVzaEZyYW1lKGZyYW1lKTtcclxuICAgICAgICBpZiAoQmFzZVBsYXllci5pc0lGcmFtZShmcmFtZSkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9TZXR0aW5ncykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBtYXhGcHMgfSA9IHRoaXMudmlkZW9TZXR0aW5ncztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lc0xpc3QubGVuZ3RoID4gbWF4RnBzIC8gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BwZWQgPSB0aGlzLmZyYW1lc0xpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9TdGF0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZEZyYW1lczogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcHBlZEZyYW1lczogZHJvcHBlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRCeXRlczogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRGcmFtZXM6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZyYW1lc0xpc3QucHVzaChmcmFtZSk7XHJcbiAgICAgICAgdGhpcy5zaGlmdEZyYW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNsZWFyU3RhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5mcmFtZXNMaXN0ID0gW107XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFZpZGVvU2V0dGluZ3MgZnJvbSAnLi4vVmlkZW9TZXR0aW5ncyc7XHJcbmltcG9ydCBTY3JlZW5JbmZvIGZyb20gJy4uL1NjcmVlbkluZm8nO1xyXG5pbXBvcnQgUmVjdCBmcm9tICcuLi9SZWN0JztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vU2l6ZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uL1V0aWwnO1xyXG5pbXBvcnQgeyBUeXBlZEVtaXR0ZXIgfSBmcm9tICcuLi8uLi9jb21tb24vVHlwZWRFbWl0dGVyJztcclxuaW1wb3J0IHsgRGlzcGxheUluZm8gfSBmcm9tICcuLi9EaXNwbGF5SW5mbyc7XHJcblxyXG5pbnRlcmZhY2UgQml0cmF0ZVN0YXQge1xyXG4gICAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBieXRlczogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRnJhbWVzUGVyU2Vjb25kU3RhdHMge1xyXG4gICAgYXZnSW5wdXQ6IG51bWJlcjtcclxuICAgIGF2Z0RlY29kZWQ6IG51bWJlcjtcclxuICAgIGF2Z0Ryb3BwZWQ6IG51bWJlcjtcclxuICAgIGF2Z1NpemU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQbGF5YmFja1F1YWxpdHkge1xyXG4gICAgZGVjb2RlZEZyYW1lczogbnVtYmVyO1xyXG4gICAgZHJvcHBlZEZyYW1lczogbnVtYmVyO1xyXG4gICAgaW5wdXRGcmFtZXM6IG51bWJlcjtcclxuICAgIGlucHV0Qnl0ZXM6IG51bWJlcjtcclxuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllckV2ZW50cyB7XHJcbiAgICAndmlkZW8tdmlldy1yZXNpemUnOiBTaXplO1xyXG4gICAgJ2lucHV0LXZpZGVvLXJlc2l6ZSc6IFNjcmVlbkluZm87XHJcbiAgICAndmlkZW8tc2V0dGluZ3MnOiBWaWRlb1NldHRpbmdzO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllckNsYXNzIHtcclxuICAgIHBsYXllckZ1bGxOYW1lOiBzdHJpbmc7XHJcbiAgICBwbGF5ZXJDb2RlTmFtZTogc3RyaW5nO1xyXG4gICAgc3RvcmFnZUtleVByZWZpeDogc3RyaW5nO1xyXG4gICAgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbjtcclxuICAgIGdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpOiBWaWRlb1NldHRpbmdzO1xyXG4gICAgZ2V0Rml0VG9TY3JlZW5TdGF0dXMoZGV2aWNlTmFtZTogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogYm9vbGVhbjtcclxuICAgIGxvYWRWaWRlb1NldHRpbmdzKGRldmljZU5hbWU6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyk6IFZpZGVvU2V0dGluZ3M7XHJcbiAgICBzYXZlVmlkZW9TZXR0aW5ncyhcclxuICAgICAgICBkZXZpY2VOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgdmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyxcclxuICAgICAgICBmaXRUb1NjcmVlbjogYm9vbGVhbixcclxuICAgICAgICBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLFxyXG4gICAgKTogdm9pZDtcclxuICAgIG5ldyAodWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogQmFzZVBsYXllcjtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VQbGF5ZXIgZXh0ZW5kcyBUeXBlZEVtaXR0ZXI8UGxheWVyRXZlbnRzPiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBTVEFUX0JBQ0tHUk9VTkQ6IHN0cmluZyA9ICdyZ2JhKDAsIDAsIDAsIDAuNSknO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU1RBVF9URVhUX0NPTE9SOiBzdHJpbmcgPSAnaHNsKDI0LCA4NSUsIDUwJSknO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBERUZBVUxUX1NIT1dfUVVBTElUWV9TVEFUUyA9IGZhbHNlO1xyXG4gICAgcHVibGljIHN0YXRpYyBTVEFURTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcclxuICAgICAgICBQTEFZSU5HOiAxLFxyXG4gICAgICAgIFBBVVNFRDogMixcclxuICAgICAgICBTVE9QUEVEOiAzLFxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgc3RhdGljIFNUQVRTX0hFSUdIVCA9IDEyO1xyXG4gICAgcHJvdGVjdGVkIHNjcmVlbkluZm8/OiBTY3JlZW5JbmZvO1xyXG4gICAgcHJvdGVjdGVkIHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3M7XHJcbiAgICBwcm90ZWN0ZWQgcGFyZW50RWxlbWVudD86IEhUTUxFbGVtZW50O1xyXG4gICAgcHJvdGVjdGVkIHRvdWNoYWJsZUNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcm90ZWN0ZWQgaW5wdXRCeXRlczogQml0cmF0ZVN0YXRbXSA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIHBlclNlY29uZFF1YWxpdHlTdGF0cz86IEZyYW1lc1BlclNlY29uZFN0YXRzO1xyXG4gICAgcHJvdGVjdGVkIG1vbWVudHVtUXVhbGl0eVN0YXRzPzogUGxheWJhY2tRdWFsaXR5O1xyXG4gICAgcHJvdGVjdGVkIGJvdW5kczogU2l6ZSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB0b3RhbFN0YXRzOiBQbGF5YmFja1F1YWxpdHkgPSB7XHJcbiAgICAgICAgZGVjb2RlZEZyYW1lczogMCxcclxuICAgICAgICBkcm9wcGVkRnJhbWVzOiAwLFxyXG4gICAgICAgIGlucHV0RnJhbWVzOiAwLFxyXG4gICAgICAgIGlucHV0Qnl0ZXM6IDAsXHJcbiAgICAgICAgdGltZXN0YW1wOiAwLFxyXG4gICAgfTtcclxuICAgIHByaXZhdGUgdG90YWxTdGF0c0NvdW50ZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBkaXJ0eVN0YXRzV2lkdGggPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTogbnVtYmVyID0gQmFzZVBsYXllci5TVEFURS5TVE9QUEVEO1xyXG4gICAgcHJpdmF0ZSBxdWFsaXR5QW5pbWF0aW9uSWQ/OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNob3dRdWFsaXR5U3RhdHMgPSBCYXNlUGxheWVyLkRFRkFVTFRfU0hPV19RVUFMSVRZX1NUQVRTO1xyXG4gICAgcHJvdGVjdGVkIHJlY2VpdmVkRmlyc3RGcmFtZSA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzdGF0TGluZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3VwcG9ydHNTY3JlZW5zaG90OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVzaXplVmlkZW9Ub0JvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIHZpZGVvSGVpZ2h0ID0gLTE7XHJcbiAgICBwcm90ZWN0ZWQgdmlkZW9XaWR0aCA9IC0xO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3RvcmFnZUtleVByZWZpeCA9ICdCYXNlRGVjb2Rlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHBsYXllckZ1bGxOYW1lID0gJ0Jhc2VQbGF5ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyBwbGF5ZXJDb2RlTmFtZSA9ICdiYXNlcGxheWVyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcHJlZmVycmVkVmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyA9IG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uOiAtMSxcclxuICAgICAgICBiaXRyYXRlOiA1MjQyODgsXHJcbiAgICAgICAgbWF4RnBzOiAyNCxcclxuICAgICAgICBpRnJhbWVJbnRlcnZhbDogNSxcclxuICAgICAgICBib3VuZHM6IG5ldyBTaXplKDQ4MCwgMTA4MCksXHJcbiAgICAgICAgc2VuZEZyYW1lTWV0YTogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIEltcGxlbWVudCB0aGUgY2hlY2sgaW4gYSBjaGlsZCBjbGFzc1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIHByb3RlY3RlZCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLFxyXG4gICAgICAgIHByb3RlY3RlZCBuYW1lOiBzdHJpbmcgPSAnQmFzZVBsYXllcicsXHJcbiAgICAgICAgcHJvdGVjdGVkIHN0b3JhZ2VLZXlQcmVmaXg6IHN0cmluZyA9ICdEdW1teScsXHJcbiAgICAgICAgcHJvdGVjdGVkIHRhZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50b3VjaGFibGVDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB0aGlzLnRvdWNoYWJsZUNhbnZhcy5jbGFzc05hbWUgPSAndG91Y2gtbGF5ZXInO1xyXG4gICAgICAgIHRoaXMudG91Y2hhYmxlQ2FudmFzLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHByZWZlcnJlZCA9IHRoaXMuZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCk7XHJcbiAgICAgICAgdGhpcy52aWRlb1NldHRpbmdzID0gQmFzZVBsYXllci5nZXRWaWRlb1NldHRpbmdGcm9tU3RvcmFnZShwcmVmZXJyZWQsIHRoaXMuc3RvcmFnZUtleVByZWZpeCwgdWRpZCwgZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjYWxjdWxhdGVTY3JlZW5JbmZvRm9yQm91bmRzKHZpZGVvV2lkdGg6IG51bWJlciwgdmlkZW9IZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmlkZW9XaWR0aCA9IHZpZGVvV2lkdGg7XHJcbiAgICAgICAgdGhpcy52aWRlb0hlaWdodCA9IHZpZGVvSGVpZ2h0O1xyXG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZVZpZGVvVG9Cb3VuZHMpIHtcclxuICAgICAgICAgICAgbGV0IHcgPSB2aWRlb1dpZHRoO1xyXG4gICAgICAgICAgICBsZXQgaCA9IHZpZGVvSGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCB7IHc6IGJvdW5kc1dpZHRoLCBoOiBib3VuZHNIZWlnaHQgfSA9IHRoaXMuYm91bmRzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHcgPiBib3VuZHNXaWR0aCB8fCBoID4gYm91bmRzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlZEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2NhbGVkV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kc1dpZHRoID4gdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQgPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlZEhlaWdodCA9IChib3VuZHNXaWR0aCAqIGgpIC8gdztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kc0hlaWdodCA+IHNjYWxlZEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHNIZWlnaHQgPSBzY2FsZWRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuZHNIZWlnaHQgPT0gaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZWRXaWR0aCA9IHc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVkV2lkdGggPSAoYm91bmRzSGVpZ2h0ICogdykgLyBoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm91bmRzV2lkdGggPiBzY2FsZWRXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZHNXaWR0aCA9IHNjYWxlZFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB3ID0gYm91bmRzV2lkdGggfCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGggPSBib3VuZHNIZWlnaHQgfCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFnLnN0eWxlLm1heFdpZHRoID0gYCR7d31weGA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWcuc3R5bGUubWF4SGVpZ2h0ID0gYCR7aH1weGA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcmVhbFNjcmVlbiA9IG5ldyBTY3JlZW5JbmZvKG5ldyBSZWN0KDAsIDAsIHZpZGVvV2lkdGgsIHZpZGVvSGVpZ2h0KSwgbmV3IFNpemUodywgaCksIDApO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2lucHV0LXZpZGVvLXJlc2l6ZScsIHJlYWxTY3JlZW4pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNjcmVlbkluZm8obmV3IFNjcmVlbkluZm8obmV3IFJlY3QoMCwgMCwgdywgaCksIG5ldyBTaXplKHcsIGgpLCAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgaXNJRnJhbWUoZnJhbWU6IFVpbnQ4QXJyYXkpOiBib29sZWFuIHtcclxuICAgICAgICAvLyBsYXN0IDUgYml0cyA9PT0gNTogQ29kZWQgc2xpY2Ugb2YgYW4gSURSIHBpY3R1cmVcclxuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODQudHh0XHJcbiAgICAgICAgLy8gMS4zLiAgTmV0d29yayBBYnN0cmFjdGlvbiBMYXllciBVbml0IFR5cGVzXHJcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cuaXR1LmludC9yZWMvVC1SRUMtSC4yNjQtMjAxOTA2LUkvZW5cclxuICAgICAgICAvLyBUYWJsZSA3LTEg4oCTIE5BTCB1bml0IHR5cGUgY29kZXMsIHN5bnRheCBlbGVtZW50IGNhdGVnb3JpZXMsIGFuZCBOQUwgdW5pdCB0eXBlIGNsYXNzZXNcclxuICAgICAgICByZXR1cm4gZnJhbWUgJiYgZnJhbWUubGVuZ3RoID4gNCAmJiAoZnJhbWVbNF0gJiAzMSkgPT09IDU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U3RvcmFnZUtleShzdG9yYWdlS2V5UHJlZml4OiBzdHJpbmcsIHVkaWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgeyBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCB9ID0gd2luZG93O1xyXG4gICAgICAgIHJldHVybiBgJHtzdG9yYWdlS2V5UHJlZml4fToke3VkaWR9OiR7aW5uZXJXaWR0aH14JHtpbm5lckhlaWdodH1gO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGdldEZ1bGxTdG9yYWdlS2V5KHN0b3JhZ2VLZXlQcmVmaXg6IHN0cmluZywgdWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCB7IGlubmVySGVpZ2h0LCBpbm5lcldpZHRoIH0gPSB3aW5kb3c7XHJcbiAgICAgICAgbGV0IGJhc2UgPSBgJHtzdG9yYWdlS2V5UHJlZml4fToke3VkaWR9OiR7aW5uZXJXaWR0aH14JHtpbm5lckhlaWdodH1gO1xyXG4gICAgICAgIGlmIChkaXNwbGF5SW5mbykge1xyXG4gICAgICAgICAgICBjb25zdCB7IGRpc3BsYXlJZCwgc2l6ZSB9ID0gZGlzcGxheUluZm87XHJcbiAgICAgICAgICAgIGJhc2UgPSBgJHtiYXNlfToke2Rpc3BsYXlJZH06JHtzaXplLndpZHRofXgke3NpemUuaGVpZ2h0fWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBiYXNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0RnJvbVN0b3JhZ2VDb21wYXQocHJlZml4OiBzdHJpbmcsIHVkaWQ6IHN0cmluZywgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHNob3J0S2V5ID0gdGhpcy5nZXRTdG9yYWdlS2V5KHByZWZpeCwgdWRpZCk7XHJcbiAgICAgICAgY29uc3Qgc2F2ZWRJblNob3J0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHNob3J0S2V5KTtcclxuICAgICAgICBpZiAoIWRpc3BsYXlJbmZvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzYXZlZEluU2hvcnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlzRGVmYXVsdERpc3BsYXkgPSBkaXNwbGF5SW5mby5kaXNwbGF5SWQgPT09IERpc3BsYXlJbmZvLkRFRkFVTFRfRElTUExBWTtcclxuICAgICAgICBjb25zdCBmdWxsS2V5ID0gdGhpcy5nZXRGdWxsU3RvcmFnZUtleShwcmVmaXgsIHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgICAgICBjb25zdCBzYXZlZEluRnVsbCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShmdWxsS2V5KTtcclxuICAgICAgICBpZiAoc2F2ZWRJbkZ1bGwpIHtcclxuICAgICAgICAgICAgaWYgKHNhdmVkSW5TaG9ydCAmJiBpc0RlZmF1bHREaXNwbGF5KSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc2hvcnRLZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzYXZlZEluRnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGVmYXVsdERpc3BsYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNhdmVkSW5TaG9ydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRGaXRUb1NjcmVlbkZyb21TdG9yYWdlKFxyXG4gICAgICAgIHN0b3JhZ2VLZXlQcmVmaXg6IHN0cmluZyxcclxuICAgICAgICB1ZGlkOiBzdHJpbmcsXHJcbiAgICAgICAgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyxcclxuICAgICk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwYXJzZWRWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMuZ2V0RnVsbFN0b3JhZ2VLZXkoc3RvcmFnZUtleVByZWZpeCwgdWRpZCwgZGlzcGxheUluZm8pfTpmaXRgO1xyXG4gICAgICAgIGNvbnN0IHNhdmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgaWYgKCFzYXZlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHBhcnNlZFZhbHVlID0gSlNPTi5wYXJzZShzYXZlZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbJHt0aGlzLm5hbWV9XWAsICdGYWlsZWQgdG8gcGFyc2UnLCBzYXZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJzZWRWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFZpZGVvU2V0dGluZ0Zyb21TdG9yYWdlKFxyXG4gICAgICAgIHByZWZlcnJlZDogVmlkZW9TZXR0aW5ncyxcclxuICAgICAgICBzdG9yYWdlS2V5UHJlZml4OiBzdHJpbmcsXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sXHJcbiAgICApOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByZWZlcnJlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSB0aGlzLmdldEZyb21TdG9yYWdlQ29tcGF0KHN0b3JhZ2VLZXlQcmVmaXgsIHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgICAgICBpZiAoIXNhdmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmZXJyZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc2F2ZWQpO1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgZGlzcGxheUlkLFxyXG4gICAgICAgICAgICBjcm9wLFxyXG4gICAgICAgICAgICBiaXRyYXRlLFxyXG4gICAgICAgICAgICBpRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgc2VuZEZyYW1lTWV0YSxcclxuICAgICAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbixcclxuICAgICAgICAgICAgY29kZWNPcHRpb25zLFxyXG4gICAgICAgICAgICBlbmNvZGVyTmFtZSxcclxuICAgICAgICB9ID0gcGFyc2VkO1xyXG5cclxuICAgICAgICAvLyBSRU1PVkUgYGZyYW1lUmF0ZWBcclxuICAgICAgICBjb25zdCBtYXhGcHMgPSBpc05hTihwYXJzZWQubWF4RnBzKSA/IHBhcnNlZC5mcmFtZVJhdGUgOiBwYXJzZWQubWF4RnBzO1xyXG4gICAgICAgIC8vIFJFTU9WRSBgbWF4U2l6ZWBcclxuICAgICAgICBsZXQgYm91bmRzOiBTaXplIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWQuYm91bmRzICE9PSAnb2JqZWN0JyB8fCBpc05hTihwYXJzZWQuYm91bmRzLndpZHRoKSB8fCBpc05hTihwYXJzZWQuYm91bmRzLmhlaWdodCkpIHtcclxuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWQubWF4U2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgIGJvdW5kcyA9IG5ldyBTaXplKHBhcnNlZC5tYXhTaXplLCBwYXJzZWQubWF4U2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBib3VuZHMgPSBuZXcgU2l6ZShwYXJzZWQuYm91bmRzLndpZHRoLCBwYXJzZWQuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmlkZW9TZXR0aW5ncyh7XHJcbiAgICAgICAgICAgIGRpc3BsYXlJZDogdHlwZW9mIGRpc3BsYXlJZCA9PT0gJ251bWJlcicgPyBkaXNwbGF5SWQgOiAwLFxyXG4gICAgICAgICAgICBjcm9wOiBjcm9wID8gbmV3IFJlY3QoY3JvcC5sZWZ0LCBjcm9wLnRvcCwgY3JvcC5yaWdodCwgY3JvcC5ib3R0b20pIDogcHJlZmVycmVkLmNyb3AsXHJcbiAgICAgICAgICAgIGJpdHJhdGU6ICFpc05hTihiaXRyYXRlKSA/IGJpdHJhdGUgOiBwcmVmZXJyZWQuYml0cmF0ZSxcclxuICAgICAgICAgICAgYm91bmRzOiBib3VuZHMgIT09IG51bGwgPyBib3VuZHMgOiBwcmVmZXJyZWQuYm91bmRzLFxyXG4gICAgICAgICAgICBtYXhGcHM6ICFpc05hTihtYXhGcHMpID8gbWF4RnBzIDogcHJlZmVycmVkLm1heEZwcyxcclxuICAgICAgICAgICAgaUZyYW1lSW50ZXJ2YWw6ICFpc05hTihpRnJhbWVJbnRlcnZhbCkgPyBpRnJhbWVJbnRlcnZhbCA6IHByZWZlcnJlZC5pRnJhbWVJbnRlcnZhbCxcclxuICAgICAgICAgICAgc2VuZEZyYW1lTWV0YTogdHlwZW9mIHNlbmRGcmFtZU1ldGEgPT09ICdib29sZWFuJyA/IHNlbmRGcmFtZU1ldGEgOiBwcmVmZXJyZWQuc2VuZEZyYW1lTWV0YSxcclxuICAgICAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogIWlzTmFOKGxvY2tlZFZpZGVvT3JpZW50YXRpb24pXHJcbiAgICAgICAgICAgICAgICA/IGxvY2tlZFZpZGVvT3JpZW50YXRpb25cclxuICAgICAgICAgICAgICAgIDogcHJlZmVycmVkLmxvY2tlZFZpZGVvT3JpZW50YXRpb24sXHJcbiAgICAgICAgICAgIGNvZGVjT3B0aW9ucyxcclxuICAgICAgICAgICAgZW5jb2Rlck5hbWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBwdXRWaWRlb1NldHRpbmdzVG9TdG9yYWdlKFxyXG4gICAgICAgIHN0b3JhZ2VLZXlQcmVmaXg6IHN0cmluZyxcclxuICAgICAgICB1ZGlkOiBzdHJpbmcsXHJcbiAgICAgICAgdmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyxcclxuICAgICAgICBmaXRUb1NjcmVlbjogYm9vbGVhbixcclxuICAgICAgICBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRGdWxsU3RvcmFnZUtleShzdG9yYWdlS2V5UHJlZml4LCB1ZGlkLCBkaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmlkZW9TZXR0aW5ncykpO1xyXG4gICAgICAgIGNvbnN0IGZpdEtleSA9IGAke2tleX06Zml0YDtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZml0S2V5LCBKU09OLnN0cmluZ2lmeShmaXRUb1NjcmVlbikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRJbWFnZURhdGFVUkwoKTogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVTY3JlZW5zaG90KGRldmljZU5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgYS5ocmVmID0gdGhpcy5nZXRJbWFnZURhdGFVUkwoKTtcclxuICAgICAgICBhLmRvd25sb2FkID0gYCR7ZGV2aWNlTmFtZX0gJHtuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCl9LnBuZ2A7XHJcbiAgICAgICAgYS5jbGljaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm5lZWRTY3JlZW5JbmZvQmVmb3JlUGxheSgpICYmICF0aGlzLnNjcmVlbkluZm8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRlID0gQmFzZVBsYXllci5TVEFURS5QTEFZSU5HO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gQmFzZVBsYXllci5TVEFURS5QQVVTRUQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJhc2VQbGF5ZXIuU1RBVEUuU1RPUFBFRDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3RhdGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHVzaEZyYW1lKGZyYW1lOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5xdWFsaXR5QW5pbWF0aW9uSWQgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1YWxpdHlBbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVF1YWxpdHlTdGF0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbnB1dEJ5dGVzLnB1c2goe1xyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIGJ5dGVzOiBmcmFtZS5ieXRlTGVuZ3RoLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRQcmVmZXJyZWRWaWRlb1NldHRpbmcoKTogVmlkZW9TZXR0aW5ncztcclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjYWxjdWxhdGVNb21lbnR1bVN0YXRzKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGdldFRvdWNoYWJsZUVsZW1lbnQoKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdWNoYWJsZUNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0UGFyZW50KHBhcmVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMudGFnKTtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy50b3VjaGFibGVDYW52YXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBuZWVkU2NyZWVuSW5mb0JlZm9yZVBsYXkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZpZGVvU2V0dGluZ3MoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmlkZW9TZXR0aW5ncyh2aWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzLCBmaXRUb1NjcmVlbjogYm9vbGVhbiwgc2F2ZVRvU3RvcmFnZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmlkZW9TZXR0aW5ncyA9IHZpZGVvU2V0dGluZ3M7XHJcbiAgICAgICAgaWYgKHNhdmVUb1N0b3JhZ2UpIHtcclxuICAgICAgICAgICAgQmFzZVBsYXllci5wdXRWaWRlb1NldHRpbmdzVG9TdG9yYWdlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlS2V5UHJlZml4LFxyXG4gICAgICAgICAgICAgICAgdGhpcy51ZGlkLFxyXG4gICAgICAgICAgICAgICAgdmlkZW9TZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgIGZpdFRvU2NyZWVuLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5SW5mbyxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXNldFN0YXRzKCk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCd2aWRlby1zZXR0aW5ncycsIFZpZGVvU2V0dGluZ3MuY29weSh2aWRlb1NldHRpbmdzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNjcmVlbkluZm8oKTogU2NyZWVuSW5mbyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuSW5mbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2NyZWVuSW5mbyhzY3JlZW5JbmZvOiBTY3JlZW5JbmZvKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubmVlZFNjcmVlbkluZm9CZWZvcmVQbGF5KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlY2VpdmVkRmlyc3RGcmFtZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuSW5mbyA9IHNjcmVlbkluZm87XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzY3JlZW5JbmZvLnZpZGVvU2l6ZTtcclxuICAgICAgICB0aGlzLnRvdWNoYWJsZUNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMudG91Y2hhYmxlQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNpemUgPSBuZXcgU2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmVtaXQoJ3ZpZGVvLXZpZXctcmVzaXplJywgc2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZXNldFN0YXRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZWRGaXJzdEZyYW1lID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50b3RhbFN0YXRzQ291bnRlciA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbFN0YXRzID0ge1xyXG4gICAgICAgICAgICBkcm9wcGVkRnJhbWVzOiAwLFxyXG4gICAgICAgICAgICBkZWNvZGVkRnJhbWVzOiAwLFxyXG4gICAgICAgICAgICBpbnB1dEZyYW1lczogMCxcclxuICAgICAgICAgICAgaW5wdXRCeXRlczogMCxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiAwLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wZXJTZWNvbmRRdWFsaXR5U3RhdHMgPSB7XHJcbiAgICAgICAgICAgIGF2Z0RlY29kZWQ6IDAsXHJcbiAgICAgICAgICAgIGF2Z0Ryb3BwZWQ6IDAsXHJcbiAgICAgICAgICAgIGF2Z0lucHV0OiAwLFxyXG4gICAgICAgICAgICBhdmdTaXplOiAwLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVRdWFsaXR5U3RhdHMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjb25zdCBvbmVTZWNvbmRCZWZvcmUgPSBub3cgLSAxMDAwO1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlTW9tZW50dW1TdGF0cygpO1xyXG4gICAgICAgIGlmICghdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRvdGFsU3RhdHMudGltZXN0YW1wIDwgb25lU2Vjb25kQmVmb3JlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxTdGF0cyA9IHtcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbm93LFxyXG4gICAgICAgICAgICAgICAgZGVjb2RlZEZyYW1lczogdGhpcy50b3RhbFN0YXRzLmRlY29kZWRGcmFtZXMgKyB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzLmRlY29kZWRGcmFtZXMsXHJcbiAgICAgICAgICAgICAgICBkcm9wcGVkRnJhbWVzOiB0aGlzLnRvdGFsU3RhdHMuZHJvcHBlZEZyYW1lcyArIHRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHMuZHJvcHBlZEZyYW1lcyxcclxuICAgICAgICAgICAgICAgIGlucHV0RnJhbWVzOiB0aGlzLnRvdGFsU3RhdHMuaW5wdXRGcmFtZXMgKyB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzLmlucHV0RnJhbWVzLFxyXG4gICAgICAgICAgICAgICAgaW5wdXRCeXRlczogdGhpcy50b3RhbFN0YXRzLmlucHV0Qnl0ZXMgKyB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzLmlucHV0Qnl0ZXMsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbFN0YXRzQ291bnRlciAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZXJTZWNvbmRRdWFsaXR5U3RhdHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXZnRGVjb2RlZDogdGhpcy50b3RhbFN0YXRzLmRlY29kZWRGcmFtZXMgLyB0aGlzLnRvdGFsU3RhdHNDb3VudGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGF2Z0Ryb3BwZWQ6IHRoaXMudG90YWxTdGF0cy5kcm9wcGVkRnJhbWVzIC8gdGhpcy50b3RhbFN0YXRzQ291bnRlcixcclxuICAgICAgICAgICAgICAgICAgICBhdmdJbnB1dDogdGhpcy50b3RhbFN0YXRzLmlucHV0RnJhbWVzIC8gdGhpcy50b3RhbFN0YXRzQ291bnRlcixcclxuICAgICAgICAgICAgICAgICAgICBhdmdTaXplOiB0aGlzLnRvdGFsU3RhdHMuaW5wdXRCeXRlcyAvIHRoaXMudG90YWxTdGF0c0NvdW50ZXIsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxTdGF0c0NvdW50ZXIrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kcmF3U3RhdHMoKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gQmFzZVBsYXllci5TVEFURS5TVE9QUEVEKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVhbGl0eUFuaW1hdGlvbklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlUXVhbGl0eVN0YXRzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgZHJhd1N0YXRzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5zaG93UXVhbGl0eVN0YXRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy50b3VjaGFibGVDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5ld1N0YXRzID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMucGVyU2Vjb25kUXVhbGl0eVN0YXRzICYmIHRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBkZWNvZGVkRnJhbWVzLCBkcm9wcGVkRnJhbWVzLCBpbnB1dEJ5dGVzLCBpbnB1dEZyYW1lcyB9ID0gdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cztcclxuICAgICAgICAgICAgY29uc3QgeyBhdmdEZWNvZGVkLCBhdmdEcm9wcGVkLCBhdmdTaXplLCBhdmdJbnB1dCB9ID0gdGhpcy5wZXJTZWNvbmRRdWFsaXR5U3RhdHM7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZElucHV0ID0gaW5wdXRGcmFtZXMudG9TdHJpbmcoKS5wYWRTdGFydCgzLCAnICcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWREZWNvZGVkID0gZGVjb2RlZEZyYW1lcy50b1N0cmluZygpLnBhZFN0YXJ0KDMsICcgJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZERyb3BwZWQgPSBkcm9wcGVkRnJhbWVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgJyAnKTtcclxuICAgICAgICAgICAgY29uc3QgcGFkQXZnRGVjb2RlZCA9IGF2Z0RlY29kZWQudG9GaXhlZCgxKS5wYWRTdGFydCg1LCAnICcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYWRBdmdEcm9wcGVkID0gYXZnRHJvcHBlZC50b0ZpeGVkKDEpLnBhZFN0YXJ0KDUsICcgJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZEF2Z0lucHV0ID0gYXZnSW5wdXQudG9GaXhlZCgxKS5wYWRTdGFydCg1LCAnICcpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmV0dHlCeXRlcyA9IFV0aWwucHJldHR5Qnl0ZXMoaW5wdXRCeXRlcykucGFkU3RhcnQoOCwgJyAnKTtcclxuICAgICAgICAgICAgY29uc3QgcHJldHR5QXZnQnl0ZXMgPSBVdGlsLnByZXR0eUJ5dGVzKGF2Z1NpemUpLnBhZFN0YXJ0KDgsICcgJyk7XHJcblxyXG4gICAgICAgICAgICBuZXdTdGF0cy5wdXNoKGBJbnB1dCBieXRlczogJHtwcmV0dHlCeXRlc30gKGF2ZzogJHtwcmV0dHlBdmdCeXRlc30vcylgKTtcclxuICAgICAgICAgICAgbmV3U3RhdHMucHVzaChgSW5wdXQgICBGUFM6ICR7cGFkSW5wdXR9IChhdmc6ICR7cGFkQXZnSW5wdXR9KWApO1xyXG4gICAgICAgICAgICBuZXdTdGF0cy5wdXNoKGBEcm9wcGVkIEZQUzogJHtwYWREcm9wcGVkfSAoYXZnOiAke3BhZEF2Z0Ryb3BwZWR9KWApO1xyXG4gICAgICAgICAgICBuZXdTdGF0cy5wdXNoKGBEZWNvZGVkIEZQUzogJHtwYWREZWNvZGVkfSAoYXZnOiAke3BhZEF2Z0RlY29kZWR9KWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld1N0YXRzLnB1c2goYE5vdCBzdXBwb3J0ZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNoYW5nZWQgPSB0aGlzLnN0YXRMaW5lcy5sZW5ndGggIT09IG5ld1N0YXRzLmxlbmd0aDtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgd2hpbGUgKCFjaGFuZ2VkICYmIGkrKyA8IG5ld1N0YXRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAobmV3U3RhdHNbaV0gIT09IHRoaXMuc3RhdExpbmVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0TGluZXMgPSBuZXdTdGF0cztcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDYW52YXMoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUNhbnZhcyhvbmx5Q2xlYXI6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjdHggPSB0aGlzLnRvdWNoYWJsZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmICghY3R4KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnRvdWNoYWJsZUNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gQmFzZVBsYXllci5TVEFUU19IRUlHSFQ7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLnN0YXRMaW5lcy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3Qgc3BhY2VzID0gbGluZXMgKyAxO1xyXG4gICAgICAgIGNvbnN0IHAgPSBoZWlnaHQgLyAyO1xyXG4gICAgICAgIGNvbnN0IGQgPSBwICogMjtcclxuICAgICAgICBjb25zdCB0b3RhbEhlaWdodCA9IGhlaWdodCAqIGxpbmVzICsgcCAqIHNwYWNlcztcclxuXHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCB5IC0gdG90YWxIZWlnaHQsIHRoaXMuZGlydHlTdGF0c1dpZHRoICsgZCwgdG90YWxIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuZGlydHlTdGF0c1dpZHRoID0gMDtcclxuXHJcbiAgICAgICAgaWYgKG9ubHlDbGVhcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgY3R4LmZvbnQgPSBgJHtoZWlnaHR9cHggbW9ub3NwYWNlYDtcclxuICAgICAgICB0aGlzLnN0YXRMaW5lcy5mb3JFYWNoKCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRNZXRyaWNzID0gY3R4Lm1lYXN1cmVUZXh0KHRleHQpO1xyXG4gICAgICAgICAgICBjb25zdCBkaXJ0eSA9IE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdCkgKyBNYXRoLmFicyh0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0YXRzV2lkdGggPSBNYXRoLm1heChkaXJ0eSwgdGhpcy5kaXJ0eVN0YXRzV2lkdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBCYXNlUGxheWVyLlNUQVRfQkFDS0dST1VORDtcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgeSAtIHRvdGFsSGVpZ2h0LCB0aGlzLmRpcnR5U3RhdHNXaWR0aCArIGQsIHRvdGFsSGVpZ2h0KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gQmFzZVBsYXllci5TVEFUX1RFWFRfQ09MT1I7XHJcbiAgICAgICAgdGhpcy5zdGF0TGluZXMuZm9yRWFjaCgodGV4dCwgbGluZSkgPT4ge1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgcCwgeSAtIHAgLSBsaW5lICogKGhlaWdodCArIHApKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTaG93UXVhbGl0eVN0YXRzKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaG93UXVhbGl0eVN0YXRzID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhbnZhcyh0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdTdGF0cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2hvd1F1YWxpdHlTdGF0cygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaG93UXVhbGl0eVN0YXRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRCb3VuZHMoYm91bmRzOiBTaXplKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBTaXplLmNvcHkoYm91bmRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGlzcGxheUluZm8oKTogRGlzcGxheUluZm8gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXREaXNwbGF5SW5mbyhkaXNwbGF5SW5mbzogRGlzcGxheUluZm8pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXlJbmZvID0gZGlzcGxheUluZm87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEZpdFRvU2NyZWVuU3RhdHVzKCk6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGxvYWRWaWRlb1NldHRpbmdzKCk6IFZpZGVvU2V0dGluZ3M7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBsb2FkVmlkZW9TZXR0aW5ncyh1ZGlkOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8pOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWaWRlb1NldHRpbmdGcm9tU3RvcmFnZSh0aGlzLnByZWZlcnJlZFZpZGVvU2V0dGluZ3MsIHRoaXMuc3RvcmFnZUtleVByZWZpeCwgdWRpZCwgZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Rml0VG9TY3JlZW5TdGF0dXModWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rml0VG9TY3JlZW5Gcm9tU3RvcmFnZSh0aGlzLnN0b3JhZ2VLZXlQcmVmaXgsIHVkaWQsIGRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcmVmZXJyZWRWaWRlb1NldHRpbmdzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2F2ZVZpZGVvU2V0dGluZ3MoXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MsXHJcbiAgICAgICAgZml0VG9TY3JlZW46IGJvb2xlYW4sXHJcbiAgICAgICAgZGlzcGxheUluZm8/OiBEaXNwbGF5SW5mbyxcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucHV0VmlkZW9TZXR0aW5nc1RvU3RvcmFnZSh0aGlzLnN0b3JhZ2VLZXlQcmVmaXgsIHVkaWQsIHZpZGVvU2V0dGluZ3MsIGZpdFRvU2NyZWVuLCBkaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuLi8uLi8uLi92ZW5kb3IvQnJvYWR3YXkvYXZjLndhc20uYXNzZXQnO1xyXG5pbXBvcnQgeyBCYXNlQ2FudmFzQmFzZWRQbGF5ZXIgfSBmcm9tICcuL0Jhc2VDYW52YXNCYXNlZFBsYXllcic7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uL1NpemUnO1xyXG5pbXBvcnQgWVVWQ2FudmFzIGZyb20gJy4uLy4uLy4uL3ZlbmRvci9oMjY0LWxpdmUtcGxheWVyL1lVVkNhbnZhcyc7XHJcbmltcG9ydCBZVVZXZWJHTENhbnZhcyBmcm9tICcuLi8uLi8uLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9ZVVZXZWJHTENhbnZhcyc7XHJcbmltcG9ydCBBdmMgZnJvbSAnLi4vLi4vLi4vdmVuZG9yL0Jyb2Fkd2F5L0RlY29kZXInO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuLi8uLi8uLi92ZW5kb3IvaDI2NC1saXZlLXBsYXllci9DYW52YXMnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uL0Rpc3BsYXlJbmZvJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCcm9hZHdheVBsYXllciBleHRlbmRzIEJhc2VDYW52YXNCYXNlZFBsYXllciB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN0b3JhZ2VLZXlQcmVmaXggPSAnQnJvYWR3YXlEZWNvZGVyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGxheWVyRnVsbE5hbWUgPSAnTm9kZWQgVmlzb3InO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwbGF5ZXJDb2RlTmFtZSA9ICdicm9hZHdheSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHByZWZlcnJlZFZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MgPSBuZXcgVmlkZW9TZXR0aW5ncyh7XHJcbiAgICAgICAgbG9ja2VkVmlkZW9PcmllbnRhdGlvbjogLTEsXHJcbiAgICAgICAgYml0cmF0ZTogNTI0Mjg4LFxyXG4gICAgICAgIG1heEZwczogMjQsXHJcbiAgICAgICAgaUZyYW1lSW50ZXJ2YWw6IDUsXHJcbiAgICAgICAgYm91bmRzOiBuZXcgU2l6ZSg0ODAsIDgwMCksXHJcbiAgICAgICAgc2VuZEZyYW1lTWV0YTogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY2FudmFzPzogQ2FudmFzO1xyXG4gICAgcHJpdmF0ZSBhdmM/OiBBdmM7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3VwcG9ydHNTY3JlZW5zaG90OiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgV2ViQXNzZW1ibHkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih1ZGlkOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sIG5hbWUgPSBCcm9hZHdheVBsYXllci5wbGF5ZXJGdWxsTmFtZSkge1xyXG4gICAgICAgIHN1cGVyKHVkaWQsIGRpc3BsYXlJbmZvLCBuYW1lLCBCcm9hZHdheVBsYXllci5zdG9yYWdlS2V5UHJlZml4KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgaW5pdENhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmluaXRDYW52YXMod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgaWYgKEJhc2VDYW52YXNCYXNlZFBsYXllci5oYXNXZWJHTFN1cHBvcnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBZVVZXZWJHTENhbnZhcyh0aGlzLnRhZywgbmV3IFNpemUod2lkdGgsIGhlaWdodCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gbmV3IFlVVkNhbnZhcyh0aGlzLnRhZywgbmV3IFNpemUod2lkdGgsIGhlaWdodCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuYXZjKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXZjID0gbmV3IEF2YygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF2Yy5vblBpY3R1cmVEZWNvZGVkID0gKGJ1ZmZlcjogVWludDhBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbkZyYW1lRGVjb2RlZCh3aWR0aCwgaGVpZ2h0LCBidWZmZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRlY29kZShkYXRhOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmF2Yykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXZjLmRlY29kZShkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiBCcm9hZHdheVBsYXllci5wcmVmZXJyZWRWaWRlb1NldHRpbmdzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXRUb1NjcmVlblN0YXR1cygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gQnJvYWR3YXlQbGF5ZXIuZ2V0Rml0VG9TY3JlZW5TdGF0dXModGhpcy51ZGlkLCB0aGlzLmRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZFZpZGVvU2V0dGluZ3MoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIEJyb2Fkd2F5UGxheWVyLmxvYWRWaWRlb1NldHRpbmdzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZVBsYXllciB9IGZyb20gJy4vQmFzZVBsYXllcic7XHJcbmltcG9ydCBWaWRlb0NvbnZlcnRlciwgeyBzZXRMb2dnZXIsIG1pbWVUeXBlIH0gZnJvbSAnaDI2NC1jb252ZXJ0ZXInO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vU2l6ZSc7XHJcbmltcG9ydCB7IERpc3BsYXlJbmZvIH0gZnJvbSAnLi4vRGlzcGxheUluZm8nO1xyXG5cclxuaW50ZXJmYWNlIFF1YWxpdHlTdGF0cyB7XHJcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcclxuICAgIGRlY29kZWRGcmFtZXM6IG51bWJlcjtcclxuICAgIGRyb3BwZWRGcmFtZXM6IG51bWJlcjtcclxufVxyXG5cclxudHlwZSBCbG9jayA9IHtcclxuICAgIHN0YXJ0OiBudW1iZXI7XHJcbiAgICBlbmQ6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBNc2VQbGF5ZXIgZXh0ZW5kcyBCYXNlUGxheWVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgc3RvcmFnZUtleVByZWZpeCA9ICdNc2VEZWNvZGVyJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGxheWVyRnVsbE5hbWUgPSAnSDI2NCBDb252ZXJ0ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwbGF5ZXJDb2RlTmFtZSA9ICdtc2UnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwcmVmZXJyZWRWaWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzID0gbmV3IFZpZGVvU2V0dGluZ3Moe1xyXG4gICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246IC0xLFxyXG4gICAgICAgIGJpdHJhdGU6IDczNDAwMzIsXHJcbiAgICAgICAgbWF4RnBzOiA2MCxcclxuICAgICAgICBpRnJhbWVJbnRlcnZhbDogMTAsXHJcbiAgICAgICAgYm91bmRzOiBuZXcgU2l6ZSg3MjAsIDcyMCksXHJcbiAgICAgICAgc2VuZEZyYW1lTWV0YTogZmFsc2UsXHJcbiAgICB9KTtcclxuICAgIHByaXZhdGUgc3RhdGljIERFRkFVTFRfRlJBTUVTX1BFUl9GUkFHTUVOVCA9IDE7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBERUZBVUxUX0ZSQU1FU19QRVJfU0VDT05EID0gNjA7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVFbGVtZW50KGlkPzogc3RyaW5nKTogSFRNTFZpZGVvRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSBhcyBIVE1MVmlkZW9FbGVtZW50O1xyXG4gICAgICAgIHRhZy5tdXRlZCA9IHRydWU7XHJcbiAgICAgICAgdGFnLmF1dG9wbGF5ID0gdHJ1ZTtcclxuICAgICAgICB0YWcuc2V0QXR0cmlidXRlKCdtdXRlZCcsICdtdXRlZCcpO1xyXG4gICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ2F1dG9wbGF5JywgJ2F1dG9wbGF5Jyk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGFnLmlkID0gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhZy5jbGFzc05hbWUgPSAndmlkZW8tbGF5ZXInO1xyXG4gICAgICAgIHJldHVybiB0YWc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb252ZXJ0ZXI/OiBWaWRlb0NvbnZlcnRlcjtcclxuICAgIHByaXZhdGUgdmlkZW9TdGF0czogUXVhbGl0eVN0YXRzW10gPSBbXTtcclxuICAgIHByaXZhdGUgbm9EZWNvZGVkRnJhbWVzU2luY2UgPSAtMTtcclxuICAgIHByaXZhdGUgY3VycmVudFRpbWVOb3RDaGFuZ2VkU2luY2UgPSAtMTtcclxuICAgIHByaXZhdGUgYmlnQnVmZmVyU2luY2UgPSAtMTtcclxuICAgIHByaXZhdGUgYWhlYWRPZkJ1ZmZlclNpbmNlID0gLTE7XHJcbiAgICBwdWJsaWMgZnBmOiBudW1iZXIgPSBNc2VQbGF5ZXIuREVGQVVMVF9GUkFNRVNfUEVSX0ZSQUdNRU5UO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN1cHBvcnRzU2NyZWVuc2hvdCA9IHRydWU7XHJcbiAgICBwcml2YXRlIHNvdXJjZUJ1ZmZlcj86IFNvdXJjZUJ1ZmZlcjtcclxuICAgIHByaXZhdGUgd2FpdFVudGlsU2VnbWVudFJlbW92ZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgYmxvY2tzOiBCbG9ja1tdID0gW107XHJcbiAgICBwcml2YXRlIGZyYW1lczogVWludDhBcnJheVtdID0gW107XHJcbiAgICBwcml2YXRlIGp1bXBFbmQgPSAtMTtcclxuICAgIHByaXZhdGUgbGFzdFRpbWUgPSAtMTtcclxuICAgIHByb3RlY3RlZCBjYW5QbGF5ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHNlZWtpbmdTaW5jZSA9IC0xO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpc1NhZmFyaSA9ICEhKHdpbmRvdyBhcyB1bmtub3duIGFzIGFueSlbJ3NhZmFyaSddO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGlzQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnQ2hyb21lJyk7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaXNNYWMgPSBuYXZpZ2F0b3IucGxhdGZvcm0uc3RhcnRzV2l0aCgnTWFjJyk7XHJcbiAgICBwcml2YXRlIE1BWF9USU1FX1RPX1JFQ09WRVIgPSAyMDA7IC8vIG1zXHJcbiAgICBwcml2YXRlIE1BWF9CVUZGRVIgPSB0aGlzLmlzU2FmYXJpID8gMiA6IHRoaXMuaXNDaHJvbWUgJiYgdGhpcy5pc01hYyA/IDAuOSA6IDAuMjtcclxuICAgIHByaXZhdGUgTUFYX0FIRUFEID0gLTAuMjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgTWVkaWFTb3VyY2UgIT09ICd1bmRlZmluZWQnICYmIE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChtaW1lVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgdWRpZDogc3RyaW5nLFxyXG4gICAgICAgIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sXHJcbiAgICAgICAgbmFtZSA9IE1zZVBsYXllci5wbGF5ZXJGdWxsTmFtZSxcclxuICAgICAgICBwcm90ZWN0ZWQgdGFnOiBIVE1MVmlkZW9FbGVtZW50ID0gTXNlUGxheWVyLmNyZWF0ZUVsZW1lbnQoKSxcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKHVkaWQsIGRpc3BsYXlJbmZvLCBuYW1lLCBNc2VQbGF5ZXIuc3RvcmFnZUtleVByZWZpeCwgdGFnKTtcclxuICAgICAgICB0YWcub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uIChldmVudDogTW91c2VFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0YWcuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uVmlkZW9FcnJvcik7XHJcbiAgICAgICAgdGFnLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLm9uVmlkZW9DYW5QbGF5KTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXHJcbiAgICAgICAgc2V0TG9nZ2VyKCgpID0+IHt9LCBjb25zb2xlLmVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBvblZpZGVvRXJyb3IgPSAoZXZlbnQ6IEV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7dGhpcy5uYW1lfV1gLCBldmVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIG9uVmlkZW9DYW5QbGF5ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHRoaXMub25DYW5QbGF5SGFuZGxlcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjcmVhdGVDb252ZXJ0ZXIoXHJcbiAgICAgICAgdGFnOiBIVE1MVmlkZW9FbGVtZW50LFxyXG4gICAgICAgIGZwczogbnVtYmVyID0gTXNlUGxheWVyLkRFRkFVTFRfRlJBTUVTX1BFUl9TRUNPTkQsXHJcbiAgICAgICAgZnBmOiBudW1iZXIgPSBNc2VQbGF5ZXIuREVGQVVMVF9GUkFNRVNfUEVSX0ZSQUdNRU5ULFxyXG4gICAgKTogVmlkZW9Db252ZXJ0ZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmlkZW9Db252ZXJ0ZXIodGFnLCBmcHMsIGZwZik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpOiBRdWFsaXR5U3RhdHMgfCBudWxsIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIGNvbnN0IHZpZGVvID0gdGhpcy50YWcgYXMgYW55O1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmlkZW8ubW96RGVjb2RlZEZyYW1lcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRhZy5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLnRhZy5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBub3csXHJcbiAgICAgICAgICAgICAgICBkZWNvZGVkRnJhbWVzOiB0ZW1wLnRvdGFsVmlkZW9GcmFtZXMsXHJcbiAgICAgICAgICAgICAgICBkcm9wcGVkRnJhbWVzOiB0ZW1wLmRyb3BwZWRWaWRlb0ZyYW1lcyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdlYmtpdC1zcGVjaWZpYyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlby53ZWJraXREZWNvZGVkRnJhbWVDb3VudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbm93LFxyXG4gICAgICAgICAgICAgICAgZGVjb2RlZEZyYW1lczogdmlkZW8ud2Via2l0RGVjb2RlZEZyYW1lQ291bnQsXHJcbiAgICAgICAgICAgICAgICBkcm9wcGVkRnJhbWVzOiB2aWRlby53ZWJraXREcm9wcGVkRnJhbWVDb3VudCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uQ2FuUGxheUhhbmRsZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW5QbGF5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRhZy5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy50YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMub25WaWRlb0NhblBsYXkpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tWaWRlb1Jlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjYWxjdWxhdGVNb21lbnR1bVN0YXRzKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHN0YXQgPSB0aGlzLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XHJcbiAgICAgICAgaWYgKCFzdGF0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3Qgb25lU2Vjb25kQmVmb3JlID0gdGltZXN0YW1wIC0gMTAwMDtcclxuICAgICAgICB0aGlzLnZpZGVvU3RhdHMucHVzaChzdGF0KTtcclxuXHJcbiAgICAgICAgd2hpbGUgKHRoaXMudmlkZW9TdGF0cy5sZW5ndGggJiYgdGhpcy52aWRlb1N0YXRzWzBdLnRpbWVzdGFtcCA8IG9uZVNlY29uZEJlZm9yZSkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvU3RhdHMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuaW5wdXRCeXRlcy5sZW5ndGggJiYgdGhpcy5pbnB1dEJ5dGVzWzBdLnRpbWVzdGFtcCA8IG9uZVNlY29uZEJlZm9yZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0Qnl0ZXMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlucHV0Qnl0ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuaW5wdXRCeXRlcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0Qnl0ZXMgKz0gaXRlbS5ieXRlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBpbnB1dEZyYW1lcyA9IHRoaXMuaW5wdXRCeXRlcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRoaXMudmlkZW9TdGF0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3Qgb2xkZXN0ID0gdGhpcy52aWRlb1N0YXRzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBkZWNvZGVkRnJhbWVzID0gc3RhdC5kZWNvZGVkRnJhbWVzIC0gb2xkZXN0LmRlY29kZWRGcmFtZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyb3BwZWRGcmFtZXMgPSBzdGF0LmRyb3BwZWRGcmFtZXMgLSBvbGRlc3QuZHJvcHBlZEZyYW1lcztcclxuICAgICAgICAgICAgLy8gY29uc3QgZHJvcHBlZEZyYW1lcyA9IGlucHV0RnJhbWVzIC0gZGVjb2RlZEZyYW1lcztcclxuICAgICAgICAgICAgdGhpcy5tb21lbnR1bVF1YWxpdHlTdGF0cyA9IHtcclxuICAgICAgICAgICAgICAgIGRlY29kZWRGcmFtZXMsXHJcbiAgICAgICAgICAgICAgICBkcm9wcGVkRnJhbWVzLFxyXG4gICAgICAgICAgICAgICAgaW5wdXRCeXRlcyxcclxuICAgICAgICAgICAgICAgIGlucHV0RnJhbWVzLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVzZXRTdGF0cygpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5yZXNldFN0YXRzKCk7XHJcbiAgICAgICAgdGhpcy52aWRlb1N0YXRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEltYWdlRGF0YVVSTCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHRoaXMudGFnLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLnRhZy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMudGFnLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5wbGF5KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhdGUoKSAhPT0gQmFzZVBsYXllci5TVEFURS5QTEFZSU5HKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnZlcnRlcikge1xyXG4gICAgICAgICAgICBsZXQgZnBzID0gTXNlUGxheWVyLkRFRkFVTFRfRlJBTUVTX1BFUl9TRUNPTkQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvU2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGZwcyA9IHRoaXMudmlkZW9TZXR0aW5ncy5tYXhGcHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSBNc2VQbGF5ZXIuY3JlYXRlQ29udmVydGVyKHRoaXMudGFnLCBmcHMsIHRoaXMuZnBmKTtcclxuICAgICAgICAgICAgdGhpcy5jYW5QbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRTdGF0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbnZlcnRlci5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5zdG9wQ29udmVydGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc3RvcENvbnZlcnRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWaWRlb1NldHRpbmdzKHZpZGVvU2V0dGluZ3M6IFZpZGVvU2V0dGluZ3MsIGZpdFRvU2NyZWVuOiBib29sZWFuLCBzYXZlVG9TdG9yYWdlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlkZW9TZXR0aW5ncyAmJiB0aGlzLnZpZGVvU2V0dGluZ3MubWF4RnBzICE9PSB2aWRlb1NldHRpbmdzLm1heEZwcykge1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udmVydGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udmVydGVyID0gTXNlUGxheWVyLmNyZWF0ZUNvbnZlcnRlcih0aGlzLnRhZywgdmlkZW9TZXR0aW5ncy5tYXhGcHMsIHRoaXMuZnBmKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuUGxheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gQmFzZVBsYXllci5TVEFURS5QTEFZSU5HKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5zZXRWaWRlb1NldHRpbmdzKHZpZGVvU2V0dGluZ3MsIGZpdFRvU2NyZWVuLCBzYXZlVG9TdG9yYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiBNc2VQbGF5ZXIucHJlZmVycmVkVmlkZW9TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1ZpZGVvUmVzaXplID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy50YWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHZpZGVvSGVpZ2h0LCB2aWRlb1dpZHRoIH0gPSB0aGlzLnRhZztcclxuICAgICAgICBpZiAodGhpcy52aWRlb0hlaWdodCAhPT0gdmlkZW9IZWlnaHQgfHwgdGhpcy52aWRlb1dpZHRoICE9PSB2aWRlb1dpZHRoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlU2NyZWVuSW5mb0ZvckJvdW5kcyh2aWRlb1dpZHRoLCB2aWRlb0hlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNsZWFuU291cmNlQnVmZmVyID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5zb3VyY2VCdWZmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zb3VyY2VCdWZmZXIudXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ibG9ja3MubGVuZ3RoIDwgMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLmNsZWFuU291cmNlQnVmZmVyKTtcclxuICAgICAgICAgICAgdGhpcy53YWl0VW50aWxTZWdtZW50UmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVTdGFydCA9IHRoaXMuYmxvY2tzWzBdLnN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVFbmQgPSB0aGlzLmJsb2Nrc1s0XS5lbmQ7XHJcbiAgICAgICAgICAgIHRoaXMuYmxvY2tzID0gdGhpcy5ibG9ja3Muc2xpY2UoNSk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlQnVmZmVyLnJlbW92ZShyZW1vdmVTdGFydCwgcmVtb3ZlRW5kKTtcclxuICAgICAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgd2hpbGUgKGZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tGb3JJRnJhbWUoZnJhbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZXMudW5zaGlmdChmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmcmFtZSA9IHRoaXMuZnJhbWVzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgJ0ZhaWxlZCB0byBjbGVhbiBzb3VyY2UgYnVmZmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBqdW1wVG9FbmQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNvdXJjZUJ1ZmZlcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUJ1ZmZlci51cGRhdGluZykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy50YWcuYnVmZmVyZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy50YWcuYnVmZmVyZWQuZW5kKHRoaXMudGFnLnNlZWthYmxlLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XWAsIGBKdW1waW5nIHRvIHRoZSBlbmQgKCR7dGhpcy5qdW1wRW5kfSwgJHtlbmQgLSB0aGlzLmp1bXBFbmR9KS5gKTtcclxuICAgICAgICB0aGlzLnRhZy5jdXJyZW50VGltZSA9IGVuZDtcclxuICAgICAgICB0aGlzLmp1bXBFbmQgPSAtMTtcclxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLmp1bXBUb0VuZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBwdXNoRnJhbWUoZnJhbWU6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5wdXNoRnJhbWUoZnJhbWUpO1xyXG4gICAgICAgIGlmICghdGhpcy5jaGVja0ZvcklGcmFtZShmcmFtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZXMucHVzaChmcmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0ZvckJhZFN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjaGVja0ZvckJhZFN0YXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHN0YWxsZWQgcGxheWJhY2sgKGBzdGFsbGVkYCBldmVudCBpcyBub3QgZmlyZWQsIGJ1dCB0aGUgaW1hZ2UgZnJlZXplcylcclxuICAgICAgICBjb25zdCB7IGN1cnJlbnRUaW1lIH0gPSB0aGlzLnRhZztcclxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIC8vIGxldCByZWFzb25Ub0p1bXAgPSAnJztcclxuICAgICAgICBsZXQgaGFzUmVhc29uVG9KdW1wID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9tZW50dW1RdWFsaXR5U3RhdHMuZGVjb2RlZEZyYW1lcyA9PT0gMCAmJiB0aGlzLm1vbWVudHVtUXVhbGl0eVN0YXRzLmlucHV0RnJhbWVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9EZWNvZGVkRnJhbWVzU2luY2UgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub0RlY29kZWRGcmFtZXNTaW5jZSA9IG5vdztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IG5vdyAtIHRoaXMubm9EZWNvZGVkRnJhbWVzU2luY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPiB0aGlzLk1BWF9USU1FX1RPX1JFQ09WRVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVhc29uVG9KdW1wID0gYE5vIGZyYW1lcyBkZWNvZGVkIGZvciAke3RpbWV9IG1zLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlYXNvblRvSnVtcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub0RlY29kZWRGcmFtZXNTaW5jZSA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA9PT0gdGhpcy5sYXN0VGltZSAmJiB0aGlzLmN1cnJlbnRUaW1lTm90Q2hhbmdlZFNpbmNlID09PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lTm90Q2hhbmdlZFNpbmNlID0gbm93O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRpbWVOb3RDaGFuZ2VkU2luY2UgPSAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgICAgIGlmICh0aGlzLnRhZy5idWZmZXJlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gdGhpcy50YWcuYnVmZmVyZWQuZW5kKDApO1xyXG4gICAgICAgICAgICBjb25zdCBidWZmZXJlZCA9IGVuZCAtIGN1cnJlbnRUaW1lO1xyXG5cclxuICAgICAgICAgICAgaWYgKChlbmQgfCAwKSAtIGN1cnJlbnRUaW1lID4gdGhpcy5NQVhfQlVGRkVSKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iaWdCdWZmZXJTaW5jZSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpZ0J1ZmZlclNpbmNlID0gbm93O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gbm93IC0gdGhpcy5iaWdCdWZmZXJTaW5jZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+IHRoaXMuTUFYX1RJTUVfVE9fUkVDT1ZFUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFzb25Ub0p1bXAgPSBgQnVmZmVyIGlzIGJpZ2dlciB0aGVuICR7dGhpcy5NQVhfQlVGRkVSfSAoJHtidWZmZXJlZC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKX0pIGZvciAke3RpbWV9IG1zLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlYXNvblRvSnVtcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaWdCdWZmZXJTaW5jZSA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChidWZmZXJlZCA8IHRoaXMuTUFYX0FIRUFEKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5haGVhZE9mQnVmZmVyU2luY2UgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5haGVhZE9mQnVmZmVyU2luY2UgPSBub3c7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBub3cgLSB0aGlzLmFoZWFkT2ZCdWZmZXJTaW5jZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA+IHRoaXMuTUFYX1RJTUVfVE9fUkVDT1ZFUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFzb25Ub0p1bXAgPSBgQ3VycmVudCB0aW1lIGlzIGFoZWFkIG9mIGVuZCAoJHtidWZmZXJlZH0pIGZvciAke3RpbWV9IG1zLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1JlYXNvblRvSnVtcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5haGVhZE9mQnVmZmVyU2luY2UgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VGltZU5vdENoYW5nZWRTaW5jZSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBub3cgLSB0aGlzLmN1cnJlbnRUaW1lTm90Q2hhbmdlZFNpbmNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPiB0aGlzLk1BWF9USU1FX1RPX1JFQ09WRVIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWFzb25Ub0p1bXAgPSBgQ3VycmVudCB0aW1lIG5vdCBjaGFuZ2VkIGZvciAke3RpbWV9IG1zLmA7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVhc29uVG9KdW1wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWhhc1JlYXNvblRvSnVtcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB3YWl0aW5nRm9yU2Vla0VuZCA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlZWtpbmdTaW5jZSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHdhaXRpbmdGb3JTZWVrRW5kID0gbm93IC0gdGhpcy5zZWVraW5nU2luY2U7XHJcbiAgICAgICAgICAgICAgICBpZiAod2FpdGluZ0ZvclNlZWtFbmQgPCAxNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbyhgJHtyZWFzb25Ub0p1bXB9IEp1bXBpbmcgdG8gdGhlIGVuZC4gJHt3YWl0aW5nRm9yU2Vla0VuZH1gKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9uU2Vla0VuZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Vla2luZ1NpbmNlID0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhZy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWVrZWQnLCBvblNlZWtFbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWcucGxheSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWVraW5nU2luY2UgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFske3RoaXMubmFtZX1dYCwgYEF0dGVtcHQgdG8gc2VlayB3aGlsZSBhbHJlYWR5IHNlZWtpbmchICR7d2FpdGluZ0ZvclNlZWtFbmR9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWVraW5nU2luY2UgPSBub3c7XHJcbiAgICAgICAgICAgIHRoaXMudGFnLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsIG9uU2Vla0VuZCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFnLmN1cnJlbnRUaW1lID0gdGhpcy50YWcuYnVmZmVyZWQuZW5kKDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2hlY2tGb3JJRnJhbWUoZnJhbWU6IFVpbnQ4QXJyYXkpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29udmVydGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIgPSB0aGlzLmNvbnZlcnRlci5zb3VyY2VCdWZmZXI7XHJcbiAgICAgICAgaWYgKEJhc2VQbGF5ZXIuaXNJRnJhbWUoZnJhbWUpKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBlbmQgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWcuYnVmZmVyZWQgJiYgdGhpcy50YWcuYnVmZmVyZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IHRoaXMudGFnLmJ1ZmZlcmVkLnN0YXJ0KDApO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gdGhpcy50YWcuYnVmZmVyZWQuZW5kKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbmQgIT09IDAgJiYgc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrOiBCbG9jayA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgICAgICAgICBlbmQsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ibG9ja3MucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ibG9ja3MubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhaXRVbnRpbFNlZ21lbnRSZW1vdmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5jbGVhblNvdXJjZUJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb252ZXJ0ZXIuYXBwZW5kUmF3RGF0YShmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5vbnVwZGF0ZWVuZCA9IHRoaXMuY2hlY2tWaWRlb1Jlc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy53YWl0VW50aWxTZWdtZW50UmVtb3ZlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRlci5hcHBlbmRSYXdEYXRhKGZyYW1lKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0b3BDb252ZXJ0ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udmVydGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udmVydGVyLmFwcGVuZFJhd0RhdGEobmV3IFVpbnQ4QXJyYXkoW10pKTtcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJ0ZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29udmVydGVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Rml0VG9TY3JlZW5TdGF0dXMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIE1zZVBsYXllci5nZXRGaXRUb1NjcmVlblN0YXR1cyh0aGlzLnVkaWQsIHRoaXMuZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkVmlkZW9TZXR0aW5ncygpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gTXNlUGxheWVyLmxvYWRWaWRlb1NldHRpbmdzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUNhbnZhc0Jhc2VkUGxheWVyIH0gZnJvbSAnLi9CYXNlQ2FudmFzQmFzZWRQbGF5ZXInO1xyXG5pbXBvcnQgVGlueUgyNjRXb3JrZXIgZnJvbSAnd29ya2VyLWxvYWRlciEuLy4uLy4uLy4uL3ZlbmRvci90aW55aDI2NC9IMjY0TkFMRGVjb2Rlci53b3JrZXInO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IFlVVldlYkdMQ2FudmFzIGZyb20gJy4uLy4uLy4uL3ZlbmRvci90aW55aDI2NC9ZVVZXZWJHTENhbnZhcyc7XHJcbmltcG9ydCBZVVZDYW52YXMgZnJvbSAnLi4vLi4vLi4vdmVuZG9yL3RpbnloMjY0L1lVVkNhbnZhcyc7XHJcbmltcG9ydCBTaXplIGZyb20gJy4uL1NpemUnO1xyXG5pbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gJy4uL0Rpc3BsYXlJbmZvJztcclxuXHJcbnR5cGUgV29ya2VyTWVzc2FnZSA9IHtcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIGRhdGE6IEFycmF5QnVmZmVyO1xyXG4gICAgcmVuZGVyU3RhdGVJZDogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbnlIMjY0UGxheWVyIGV4dGVuZHMgQmFzZUNhbnZhc0Jhc2VkUGxheWVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgc3RvcmFnZUtleVByZWZpeCA9ICdUaW55aDI2NERlY29kZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwbGF5ZXJGdWxsTmFtZSA9ICdUaW55IEgyNjQnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwbGF5ZXJDb2RlTmFtZSA9ICd0aW55aDI2NCc7XHJcbiAgICBwcml2YXRlIHN0YXRpYyB2aWRlb1N0cmVhbUlkID0gMTtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcHJlZmVycmVkVmlkZW9TZXR0aW5nczogVmlkZW9TZXR0aW5ncyA9IG5ldyBWaWRlb1NldHRpbmdzKHtcclxuICAgICAgICBsb2NrZWRWaWRlb09yaWVudGF0aW9uOiAtMSxcclxuICAgICAgICBiaXRyYXRlOiA1MjQyODgsXHJcbiAgICAgICAgbWF4RnBzOiAyNCxcclxuICAgICAgICBpRnJhbWVJbnRlcnZhbDogNSxcclxuICAgICAgICBib3VuZHM6IG5ldyBTaXplKDQ4MCwgNDgwKSxcclxuICAgICAgICBzZW5kRnJhbWVNZXRhOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIHByaXZhdGUgd29ya2VyPzogVGlueUgyNjRXb3JrZXI7XHJcbiAgICBwcml2YXRlIGlzRGVjb2RlclJlYWR5ID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgY2FudmFzPzogWVVWV2ViR0xDYW52YXMgfCBZVVZDYW52YXM7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3VwcG9ydHNTY3JlZW5zaG90OiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgV2ViQXNzZW1ibHkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih1ZGlkOiBzdHJpbmcsIGRpc3BsYXlJbmZvPzogRGlzcGxheUluZm8sIG5hbWUgPSBUaW55SDI2NFBsYXllci5wbGF5ZXJGdWxsTmFtZSkge1xyXG4gICAgICAgIHN1cGVyKHVkaWQsIGRpc3BsYXlJbmZvLCBuYW1lLCBUaW55SDI2NFBsYXllci5zdG9yYWdlS2V5UHJlZml4KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uV29ya2VyTWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZTogV29ya2VyTWVzc2FnZSA9IGV2ZW50LmRhdGE7XHJcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGljdHVyZVJlYWR5JzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgZGF0YSB9ID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25GcmFtZURlY29kZWQod2lkdGgsIGhlaWdodCwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2RlY29kZXJSZWFkeSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzRGVjb2RlclJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgWyR7dGhpcy5uYW1lfV1gLCBFcnJvcihgV3JvbmcgbWVzc2FnZSB0eXBlIFwiJHttZXNzYWdlLnR5cGV9XCJgKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIGluaXRXb3JrZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy53b3JrZXIgPSBuZXcgVGlueUgyNjRXb3JrZXIoKTtcclxuICAgICAgICB0aGlzLndvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbldvcmtlck1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0Q2FudmFzKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuaW5pdENhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgaWYgKEJhc2VDYW52YXNCYXNlZFBsYXllci5oYXNXZWJHTFN1cHBvcnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBZVVZXZWJHTENhbnZhcyh0aGlzLnRhZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgWVVWQ2FudmFzKHRoaXMudGFnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRlY29kZShkYXRhOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndvcmtlciB8fCAhdGhpcy5pc0RlY29kZXJSZWFkeSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RlY29kZScsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLmJ1ZmZlcixcclxuICAgICAgICAgICAgICAgIG9mZnNldDogZGF0YS5ieXRlT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBkYXRhLmJ5dGVMZW5ndGgsXHJcbiAgICAgICAgICAgICAgICByZW5kZXJTdGF0ZUlkOiBUaW55SDI2NFBsYXllci52aWRlb1N0cmVhbUlkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBbZGF0YS5idWZmZXJdLFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIucGxheSgpO1xyXG4gICAgICAgIGlmICghdGhpcy53b3JrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0V29ya2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnN0b3AoKTtcclxuICAgICAgICBpZiAodGhpcy53b3JrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy53b3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25Xb3JrZXJNZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoeyB0eXBlOiAncmVsZWFzZScsIHJlbmRlclN0YXRlSWQ6IFRpbnlIMjY0UGxheWVyLnZpZGVvU3RyZWFtSWQgfSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLndvcmtlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFByZWZlcnJlZFZpZGVvU2V0dGluZygpOiBWaWRlb1NldHRpbmdzIHtcclxuICAgICAgICByZXR1cm4gVGlueUgyNjRQbGF5ZXIucHJlZmVycmVkVmlkZW9TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY2xlYXJTdGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jbGVhclN0YXRlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMud29ya2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHsgdHlwZTogJ3JlbGVhc2UnLCByZW5kZXJTdGF0ZUlkOiBUaW55SDI2NFBsYXllci52aWRlb1N0cmVhbUlkIH0pO1xyXG4gICAgICAgICAgICBUaW55SDI2NFBsYXllci52aWRlb1N0cmVhbUlkKys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXRUb1NjcmVlblN0YXR1cygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gVGlueUgyNjRQbGF5ZXIuZ2V0Rml0VG9TY3JlZW5TdGF0dXModGhpcy51ZGlkLCB0aGlzLmRpc3BsYXlJbmZvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZFZpZGVvU2V0dGluZ3MoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIFRpbnlIMjY0UGxheWVyLmxvYWRWaWRlb1NldHRpbmdzKHRoaXMudWRpZCwgdGhpcy5kaXNwbGF5SW5mbyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUNhbnZhc0Jhc2VkUGxheWVyIH0gZnJvbSAnLi9CYXNlQ2FudmFzQmFzZWRQbGF5ZXInO1xyXG5pbXBvcnQgVmlkZW9TZXR0aW5ncyBmcm9tICcuLi9WaWRlb1NldHRpbmdzJztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi4vU2l6ZSc7XHJcbmltcG9ydCB7IERpc3BsYXlJbmZvIH0gZnJvbSAnLi4vRGlzcGxheUluZm8nO1xyXG5pbXBvcnQgSDI2NFBhcnNlciBmcm9tICdoMjY0LWNvbnZlcnRlci9kaXN0L2gyNjQtcGFyc2VyJztcclxuaW1wb3J0IE5BTFUgZnJvbSAnaDI2NC1jb252ZXJ0ZXIvZGlzdC91dGlsL05BTFUnO1xyXG5pbXBvcnQgU2NyZWVuSW5mbyBmcm9tICcuLi9TY3JlZW5JbmZvJztcclxuaW1wb3J0IFJlY3QgZnJvbSAnLi4vUmVjdCc7XHJcblxyXG50eXBlIFBhcmFtZXRlcnNTdWJTZXQgPSB7XHJcbiAgICBjb2RlYzogc3RyaW5nO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdG9IZXgodmFsdWU6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpLnRvVXBwZXJDYXNlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXZWJDb2RlY3NQbGF5ZXIgZXh0ZW5kcyBCYXNlQ2FudmFzQmFzZWRQbGF5ZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBzdG9yYWdlS2V5UHJlZml4ID0gJ1dlYkNvZGVjc1BsYXllcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBsYXllckZ1bGxOYW1lID0gJ1dlYkNvZGVjcyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBsYXllckNvZGVOYW1lID0gJ3dlYmNvZGVjcyc7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwcmVmZXJyZWRWaWRlb1NldHRpbmdzOiBWaWRlb1NldHRpbmdzID0gbmV3IFZpZGVvU2V0dGluZ3Moe1xyXG4gICAgICAgIGxvY2tlZFZpZGVvT3JpZW50YXRpb246IC0xLFxyXG4gICAgICAgIGJpdHJhdGU6IDUyNDI4OCxcclxuICAgICAgICBtYXhGcHM6IDI0LFxyXG4gICAgICAgIGlGcmFtZUludGVydmFsOiA1LFxyXG4gICAgICAgIGJvdW5kczogbmV3IFNpemUoNDgwLCA0ODApLFxyXG4gICAgICAgIHNlbmRGcmFtZU1ldGE6IGZhbHNlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodHlwZW9mIFZpZGVvRGVjb2RlciAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgVmlkZW9EZWNvZGVyLmlzQ29uZmlnU3VwcG9ydGVkICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZJWE1FOiB2ZXJpZnkgc3VwcG9ydFxyXG4gICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFZpZGVvRGVjb2Rlci5pc0NvbmZpZ1N1cHBvcnRlZCgpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHBhcnNlU1BTKGRhdGE6IFVpbnQ4QXJyYXkpOiBQYXJhbWV0ZXJzU3ViU2V0IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjLFxyXG4gICAgICAgICAgICBjb25zdHJhaW50X3NldF9mbGFncyxcclxuICAgICAgICAgICAgbGV2ZWxfaWRjLFxyXG4gICAgICAgICAgICBwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSxcclxuICAgICAgICAgICAgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCxcclxuICAgICAgICAgICAgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQsXHJcbiAgICAgICAgICAgIGZyYW1lX21ic19vbmx5X2ZsYWcsXHJcbiAgICAgICAgICAgIHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSxcclxuICAgICAgICAgICAgZnJhbWVfY3JvcF90b3Bfb2Zmc2V0LFxyXG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQsXHJcbiAgICAgICAgICAgIHNhcixcclxuICAgICAgICB9ID0gSDI2NFBhcnNlci5wYXJzZVNQUyhkYXRhKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FyU2NhbGUgPSBzYXJbMF0gLyBzYXJbMV07XHJcbiAgICAgICAgY29uc3QgY29kZWMgPSBgYXZjMS4ke1twcm9maWxlX2lkYywgY29uc3RyYWludF9zZXRfZmxhZ3MsIGxldmVsX2lkY10ubWFwKHRvSGV4KS5qb2luKCcnKX1gO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKFxyXG4gICAgICAgICAgICAoKHBpY193aWR0aF9pbl9tYnNfbWludXMxICsgMSkgKiAxNiAtIGZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQgKiAyIC0gZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgKiAyKSAqIHNhclNjYWxlLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID1cclxuICAgICAgICAgICAgKDIgLSBmcmFtZV9tYnNfb25seV9mbGFnKSAqIChwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEgKyAxKSAqIDE2IC1cclxuICAgICAgICAgICAgKGZyYW1lX21ic19vbmx5X2ZsYWcgPyAyIDogNCkgKiAoZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ICsgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0KTtcclxuICAgICAgICByZXR1cm4geyBjb2RlYywgd2lkdGgsIGhlaWdodCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdXBwb3J0c1NjcmVlbnNob3QgPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGRlY29kZXI6IFZpZGVvRGVjb2RlcjtcclxuICAgIHByaXZhdGUgYnVmZmVyOiBBcnJheUJ1ZmZlciB8IHVuZGVmaW5lZDtcclxuICAgIHByaXZhdGUgaGFkSURSID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGJ1ZmZlcmVkU1BTID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGJ1ZmZlcmVkUFBTID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IodWRpZDogc3RyaW5nLCBkaXNwbGF5SW5mbz86IERpc3BsYXlJbmZvLCBuYW1lID0gV2ViQ29kZWNzUGxheWVyLnBsYXllckZ1bGxOYW1lKSB7XHJcbiAgICAgICAgc3VwZXIodWRpZCwgZGlzcGxheUluZm8sIG5hbWUsIFdlYkNvZGVjc1BsYXllci5zdG9yYWdlS2V5UHJlZml4KTtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy50YWcuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgMmQgY29udGV4dCBmcm9tIGNhbnZhcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuZGVjb2RlciA9IHRoaXMuY3JlYXRlRGVjb2RlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRGVjb2RlcigpOiBWaWRlb0RlY29kZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmlkZW9EZWNvZGVyKHtcclxuICAgICAgICAgICAgb3V0cHV0OiAoZnJhbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25GcmFtZURlY29kZWQoMCwgMCwgZnJhbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogKGVycm9yOiBET01FeGNlcHRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IsIGBjb2RlOiAke2Vycm9yLmNvZGV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWRkVG9CdWZmZXIoZGF0YTogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkge1xyXG4gICAgICAgIGxldCBhcnJheTogVWludDhBcnJheTtcclxuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcclxuICAgICAgICAgICAgYXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoICsgZGF0YS5ieXRlTGVuZ3RoKTtcclxuICAgICAgICAgICAgYXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKSk7XHJcbiAgICAgICAgICAgIGFycmF5LnNldChuZXcgVWludDhBcnJheShkYXRhKSwgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXJyYXkgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGFycmF5LmJ1ZmZlcjtcclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNjYWxlQ2FudmFzKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9TaXplID0gbmV3IFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgbGV0IHNjYWxlID0gMTtcclxuICAgICAgICBpZiAodGhpcy5ib3VuZHMgJiYgIXRoaXMuYm91bmRzLmludGVyc2VjdCh2aWRlb1NpemUpLmVxdWFscyh2aWRlb1NpemUpKSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4odGhpcy5ib3VuZHMudyAvIHdpZHRoLCB0aGlzLmJvdW5kcy5oIC8gaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdyA9IHdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgY29uc3QgaCA9IGhlaWdodCAqIHNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlbkluZm8gPSBuZXcgU2NyZWVuSW5mbyhuZXcgUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KSwgbmV3IFNpemUodywgaCksIDApO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnaW5wdXQtdmlkZW8tcmVzaXplJywgc2NyZWVuSW5mbyk7XHJcbiAgICAgICAgdGhpcy5zZXRTY3JlZW5JbmZvKHNjcmVlbkluZm8pO1xyXG5cclxuICAgICAgICAvLyBGSVhNRTogY2FudmFzIHdhcyBpbml0aWFsaXplZCBmcm9tIGAuc2V0U2NyZWVuSW5mbygpYCBjYWxsIGFib3ZlLCBidXQgd2l0aCB3cm9uZyB2YWx1ZXNcclxuICAgICAgICB0aGlzLmluaXRDYW52YXMod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgaWYgKHNjYWxlICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFnLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3NjYWxlLnRvRml4ZWQoNCl9KWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50YWcuc3R5bGUudHJhbnNmb3JtID0gYGA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFnLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgbGVmdCc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRlY29kZShkYXRhOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBkYXRhWzRdICYgMzE7XHJcbiAgICAgICAgY29uc3QgaXNJRFIgPSB0eXBlID09PSBOQUxVLklEUjtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IE5BTFUuU1BTKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29kZWMsIHdpZHRoLCBoZWlnaHQgfSA9IFdlYkNvZGVjc1BsYXllci5wYXJzZVNQUyhkYXRhLnN1YmFycmF5KDQpKTtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgY29uc3QgY29uZmlnOiBWaWRlb0RlY29kZXJDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlYyxcclxuICAgICAgICAgICAgICAgIG9wdGltaXplRm9yTGF0ZW5jeTogdHJ1ZSxcclxuICAgICAgICAgICAgfSBhcyBWaWRlb0RlY29kZXJDb25maWc7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5jb25maWd1cmUoY29uZmlnKTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJlZFNQUyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9CdWZmZXIoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFkSURSID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IE5BTFUuUFBTKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyZWRQUFMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRvQnVmZmVyKGRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBOQUxVLlNFSSkge1xyXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBsb25lbHkgU0VJIGZyb20gd3MtcXZoXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5idWZmZXJlZFNQUyB8fCAhdGhpcy5idWZmZXJlZFBQUykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gdGhpcy5hZGRUb0J1ZmZlcihkYXRhKTtcclxuICAgICAgICB0aGlzLmhhZElEUiA9IHRoaXMuaGFkSURSIHx8IGlzSURSO1xyXG4gICAgICAgIGlmIChhcnJheSAmJiB0aGlzLmRlY29kZXIuc3RhdGUgPT09ICdjb25maWd1cmVkJyAmJiB0aGlzLmhhZElEUikge1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJlZFBQUyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcmVkU1BTID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5kZWNvZGUoXHJcbiAgICAgICAgICAgICAgICBuZXcgRW5jb2RlZFZpZGVvQ2h1bmsoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdrZXknLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBhcnJheS5idWZmZXIsXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZHJhd0RlY29kZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVjZWl2ZWRGaXJzdEZyYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRlY29kZWRGcmFtZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lOiBWaWRlb0ZyYW1lID0gZGF0YS5mcmFtZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoZnJhbWUsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgZnJhbWUuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5kZWNvZGVkRnJhbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kcmF3RGVjb2RlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGRyb3BGcmFtZShmcmFtZTogVmlkZW9GcmFtZSk6IHZvaWQge1xyXG4gICAgICAgIGZyYW1lLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEZpdFRvU2NyZWVuU3RhdHVzKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UHJlZmVycmVkVmlkZW9TZXR0aW5nKCk6IFZpZGVvU2V0dGluZ3Mge1xyXG4gICAgICAgIHJldHVybiBXZWJDb2RlY3NQbGF5ZXIucHJlZmVycmVkVmlkZW9TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZFZpZGVvU2V0dGluZ3MoKTogVmlkZW9TZXR0aW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIFdlYkNvZGVjc1BsYXllci5sb2FkVmlkZW9TZXR0aW5ncyh0aGlzLnVkaWQsIHRoaXMuZGlzcGxheUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBuZWVkU2NyZWVuSW5mb0JlZm9yZVBsYXkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnN0b3AoKTtcclxuICAgICAgICBpZiAodGhpcy5kZWNvZGVyLnN0YXRlID09PSAnY29uZmlndXJlZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWNvZGVyLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRvb2xCb3hFbGVtZW50IH0gZnJvbSAnLi9Ub29sQm94RWxlbWVudCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9vbEJveCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhvbGRlcjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobGlzdDogVG9vbEJveEVsZW1lbnQ8YW55PltdKSB7XHJcbiAgICAgICAgdGhpcy5ob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QuYWRkKCdjb250cm9sLWJ1dHRvbnMtbGlzdCcsICdjb250cm9sLXdyYXBwZXInKTtcclxuICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaXRlbS5nZXRBbGxFbGVtZW50cygpLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvbGRlci5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRIb2xkZXJFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ob2xkZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgT3B0aW9uYWwsIFRvb2xCb3hFbGVtZW50IH0gZnJvbSAnLi9Ub29sQm94RWxlbWVudCc7XHJcbmltcG9ydCBTdmdJbWFnZSwgeyBJY29uIH0gZnJvbSAnLi4vdWkvU3ZnSW1hZ2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xCb3hCdXR0b24gZXh0ZW5kcyBUb29sQm94RWxlbWVudDxIVE1MQnV0dG9uRWxlbWVudD4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBidG46IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgaWNvbjogSWNvbiwgb3B0aW9uYWw/OiBPcHRpb25hbCkge1xyXG4gICAgICAgIHN1cGVyKHRpdGxlLCBvcHRpb25hbCk7XHJcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2wtYnV0dG9uJyk7XHJcbiAgICAgICAgYnRuLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgYnRuLmFwcGVuZENoaWxkKFN2Z0ltYWdlLmNyZWF0ZShpY29uKSk7XHJcbiAgICAgICAgdGhpcy5idG4gPSBidG47XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVsZW1lbnQoKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ0bjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRBbGxFbGVtZW50cygpOiBIVE1MRWxlbWVudFtdIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuYnRuXTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBPcHRpb25hbCwgVG9vbEJveEVsZW1lbnQgfSBmcm9tICcuL1Rvb2xCb3hFbGVtZW50JztcclxuaW1wb3J0IFN2Z0ltYWdlLCB7IEljb24gfSBmcm9tICcuLi91aS9TdmdJbWFnZSc7XHJcblxyXG50eXBlIEljb25zID0ge1xyXG4gICAgb24/OiBJY29uO1xyXG4gICAgb2ZmOiBJY29uO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2xCb3hDaGVja2JveCBleHRlbmRzIFRvb2xCb3hFbGVtZW50PEhUTUxJbnB1dEVsZW1lbnQ+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBpbWFnZU9uPzogRWxlbWVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgaW1hZ2VPZmY6IEVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZTogc3RyaW5nLCBpY29uczogSWNvbnMgfCBJY29uLCBvcHRfaWQ/OiBzdHJpbmcsIG9wdGlvbmFsPzogT3B0aW9uYWwpIHtcclxuICAgICAgICBzdXBlcih0aXRsZSwgb3B0aW9uYWwpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dC50eXBlID0gJ2NoZWNrYm94JztcclxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgbGFiZWwudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdjb250cm9sLWJ1dHRvbicpO1xyXG4gICAgICAgIGxldCBpY29uT2ZmOiBJY29uO1xyXG4gICAgICAgIGxldCBpY29uT246IEljb24gfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpY29ucyAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgaWNvbk9mZiA9IGljb25zLm9mZjtcclxuICAgICAgICAgICAgaWNvbk9uID0gaWNvbnMub247XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWNvbk9mZiA9IGljb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmltYWdlT2ZmID0gU3ZnSW1hZ2UuY3JlYXRlKGljb25PZmYpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VPZmYuY2xhc3NMaXN0LmFkZCgnaW1hZ2UnLCAnaW1hZ2Utb2ZmJyk7XHJcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZU9mZik7XHJcbiAgICAgICAgaWYgKGljb25Pbikge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlT24gPSBTdmdJbWFnZS5jcmVhdGUoaWNvbk9uKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZU9uLmNsYXNzTGlzdC5hZGQoJ2ltYWdlJywgJ2ltYWdlLW9uJyk7XHJcbiAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2VPbik7XHJcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ3R3by1pbWFnZXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSBvcHRfaWQgfHwgdGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCcgJywgJ18nKTtcclxuICAgICAgICBsYWJlbC5odG1sRm9yID0gaW5wdXQuaWQgPSBgaW5wdXRfJHtpZH1gO1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVsZW1lbnQoKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFsbEVsZW1lbnRzKCk6IEhUTUxFbGVtZW50W10ge1xyXG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dCwgdGhpcy5sYWJlbF07XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IHR5cGUgT3B0aW9uYWwgPSB7XHJcbiAgICBbaW5kZXg6IHN0cmluZ106IGFueTtcclxufTtcclxuXHJcbi8vIHR5cGUgTGlzdGVuZXIgPSA8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXAsIFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4odHlwZTogSywgZWw6IFRvb2xCb3hFbGVtZW50PFQ+KSA9PiBhbnk7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVG9vbEJveEVsZW1lbnQ8VCBleHRlbmRzIEhUTUxFbGVtZW50PiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PDxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcD4odHlwZTogSywgZWw6IFRvb2xCb3hFbGVtZW50PFQ+KSA9PiBhbnk+PiA9XHJcbiAgICAgICAgbmV3IE1hcCgpO1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0aXRsZTogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgb3B0aW9uYWw/OiBPcHRpb25hbCkge31cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RWxlbWVudCgpOiBUO1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEFsbEVsZW1lbnRzKCk6IEhUTUxFbGVtZW50W107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXI8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KFxyXG4gICAgICAgIHR5cGU6IEssXHJcbiAgICAgICAgbGlzdGVuZXI6IDxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcD4odHlwZTogSywgZWw6IFRvb2xCb3hFbGVtZW50PFQ+KSA9PiBhbnksXHJcbiAgICAgICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyxcclxuICAgICk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMubGlzdGVuZXJzLmdldCh0eXBlKSB8fCBuZXcgU2V0KCk7XHJcbiAgICAgICAgaWYgKCFzZXQuc2l6ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLm9uRXZlbnQsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXQuYWRkKGxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zZXQodHlwZSwgc2V0KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyPEsgZXh0ZW5kcyBrZXlvZiBIVE1MRWxlbWVudEV2ZW50TWFwPihcclxuICAgICAgICB0eXBlOiBLLFxyXG4gICAgICAgIGxpc3RlbmVyOiA8SyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50RXZlbnRNYXA+KHR5cGU6IEssIGVsOiBUb29sQm94RWxlbWVudDxUPikgPT4gYW55LFxyXG4gICAgKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHR5cGUpO1xyXG4gICAgICAgIGlmICghc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0LmRlbGV0ZShsaXN0ZW5lcik7XHJcbiAgICAgICAgaWYgKCFzZXQuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUodHlwZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMub25FdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25FdmVudCA9IDxLIGV4dGVuZHMga2V5b2YgSFRNTEVsZW1lbnRFdmVudE1hcD4oZXY6IEhUTUxFbGVtZW50RXZlbnRNYXBbS10pOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBzZXQgPSB0aGlzLmxpc3RlbmVycy5nZXQoZXYudHlwZSk7XHJcbiAgICAgICAgaWYgKCFzZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0eXBlID0gZXYudHlwZSBhcyBLO1xyXG4gICAgICAgIHNldC5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcih0eXBlLCB0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxudHlwZSBWYWx1ZSA9IGFueTtcclxuXHJcbmZ1bmN0aW9uIGh0bWxWYWx1ZSh2YWx1ZTogVmFsdWUpOiBzdHJpbmcge1xyXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5pbm5lckhUTUw7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJztcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiAnbnVsbCc7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZHVtbXknKTtcclxuICAgIGUuaW5uZXJUZXh0ID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIHJldHVybiBlLmlubmVySFRNTDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGh0bWwgPSBmdW5jdGlvbiBodG1sKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IFJlYWRvbmx5QXJyYXk8VmFsdWU+KTogSFRNTFRlbXBsYXRlRWxlbWVudCB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PiBhY2MgKyBodG1sVmFsdWUodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKS50b1N0cmluZygpO1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xyXG59O1xyXG4iLCJpbXBvcnQgS2V5Ym9hcmRTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX2tleWJvYXJkXzY3OF80OGRwLnN2Zyc7XHJcbmltcG9ydCBNb3JlU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY19tb3JlX2hvcml6XzY3OF80OGRwLnN2Zyc7XHJcbmltcG9ydCBDYW1lcmFTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX3Bob3RvX2NhbWVyYV82NzhfNDhkcC5zdmcnO1xyXG5pbXBvcnQgUG93ZXJTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L2ljX3Bvd2VyX3NldHRpbmdzX25ld182NzhfNDhweC5zdmcnO1xyXG5pbXBvcnQgVm9sdW1lRG93blNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvaWNfdm9sdW1lX2Rvd25fNjc4XzQ4cHguc3ZnJztcclxuaW1wb3J0IFZvbHVtZVVwU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvc2tpbi1saWdodC9pY192b2x1bWVfdXBfNjc4XzQ4cHguc3ZnJztcclxuaW1wb3J0IEJhY2tTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9za2luLWxpZ2h0L1N5c3RlbV9CYWNrXzY3OC5zdmcnO1xyXG5pbXBvcnQgSG9tZVNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvU3lzdGVtX0hvbWVfNjc4LnN2Zyc7XHJcbmltcG9ydCBPdmVydmlld1NWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL3NraW4tbGlnaHQvU3lzdGVtX092ZXJ2aWV3XzY3OC5zdmcnO1xyXG5pbXBvcnQgQ2FuY2VsU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9jYW5jZWwuc3ZnJztcclxuaW1wb3J0IE9mZmxpbmVTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL29mZmxpbmUuc3ZnJztcclxuaW1wb3J0IFJlZnJlc2hTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL3JlZnJlc2guc3ZnJztcclxuaW1wb3J0IFNldHRpbmdzU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9zZXR0aW5ncy5zdmcnO1xyXG5pbXBvcnQgTWVudVNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvbWVudS5zdmcnO1xyXG5pbXBvcnQgQXJyb3dCYWNrU1ZHIGZyb20gJy4uLy4uL3B1YmxpYy9pbWFnZXMvYnV0dG9ucy9hcnJvd19iYWNrLnN2Zyc7XHJcbmltcG9ydCBUb2dnbGVPblNWRyBmcm9tICcuLi8uLi9wdWJsaWMvaW1hZ2VzL2J1dHRvbnMvdG9nZ2xlX29uLnN2Zyc7XHJcbmltcG9ydCBUb2dnbGVPZmZTVkcgZnJvbSAnLi4vLi4vcHVibGljL2ltYWdlcy9idXR0b25zL3RvZ2dsZV9vZmYuc3ZnJztcclxuXHJcbmV4cG9ydCBlbnVtIEljb24ge1xyXG4gICAgQkFDSyxcclxuICAgIEhPTUUsXHJcbiAgICBPVkVSVklFVyxcclxuICAgIFBPV0VSLFxyXG4gICAgVk9MVU1FX1VQLFxyXG4gICAgVk9MVU1FX0RPV04sXHJcbiAgICBNT1JFLFxyXG4gICAgQ0FNRVJBLFxyXG4gICAgS0VZQk9BUkQsXHJcbiAgICBDQU5DRUwsXHJcbiAgICBPRkZMSU5FLFxyXG4gICAgUkVGUkVTSCxcclxuICAgIFNFVFRJTkdTLFxyXG4gICAgTUVOVSxcclxuICAgIEFSUk9XX0JBQ0ssXHJcbiAgICBUT0dHTEVfT04sXHJcbiAgICBUT0dHTEVfT0ZGLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdmdJbWFnZSB7XHJcbiAgICBzdGF0aWMgSWNvbiA9IEljb247XHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRTdmdTdHJpbmcodHlwZTogSWNvbik6IHN0cmluZyB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5LRVlCT0FSRDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXlib2FyZFNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLk1PUkU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTW9yZVNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLkNBTUVSQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYW1lcmFTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5QT1dFUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBQb3dlclNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLlZPTFVNRV9ET1dOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFZvbHVtZURvd25TVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5WT0xVTUVfVVA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVm9sdW1lVXBTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5CQUNLOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJhY2tTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5IT01FOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEhvbWVTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5PVkVSVklFVzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPdmVydmlld1NWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLkNBTkNFTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDYW5jZWxTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5PRkZMSU5FOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9mZmxpbmVTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5SRUZSRVNIOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZnJlc2hTVkc7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvbi5TRVRUSU5HUzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBTZXR0aW5nc1NWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLk1FTlU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWVudVNWRztcclxuICAgICAgICAgICAgY2FzZSBJY29uLkFSUk9XX0JBQ0s6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyb3dCYWNrU1ZHO1xyXG4gICAgICAgICAgICBjYXNlIEljb24uVE9HR0xFX09OOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRvZ2dsZU9uU1ZHO1xyXG4gICAgICAgICAgICBjYXNlIEljb24uVE9HR0xFX09GRjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBUb2dnbGVPZmZTVkc7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUodHlwZTogSWNvbik6IEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZHVtbXkuaW5uZXJIVE1MID0gdGhpcy5nZXRTdmdTdHJpbmcodHlwZSk7XHJcbiAgICAgICAgY29uc3Qgc3ZnID0gZHVtbXkuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgY29uc3QgdGl0bGVzID0gc3ZnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aXRsZScpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGl0bGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBzdmcucmVtb3ZlQ2hpbGQodGl0bGVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN2ZztcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZW51bSBBQ1RJT04ge1xyXG4gICAgTElTVF9IT1NUUyA9ICdsaXN0LWhvc3RzJyxcclxuICAgIEFQUExfREVWSUNFX0xJU1QgPSAnYXBwbC1kZXZpY2UtbGlzdCcsXHJcbiAgICBHT09HX0RFVklDRV9MSVNUID0gJ2dvb2ctZGV2aWNlLWxpc3QnLFxyXG4gICAgTVVMVElQTEVYID0gJ211bHRpcGxleCcsXHJcbiAgICBTSEVMTCA9ICdzaGVsbCcsXHJcbiAgICBQUk9YWV9XUyA9ICdwcm94eS13cycsXHJcbiAgICBQUk9YWV9BREIgPSAncHJveHktYWRiJyxcclxuICAgIERFVlRPT0xTID0gJ2RldnRvb2xzJyxcclxuICAgIFNUUkVBTV9TQ1JDUFkgPSAnc3RyZWFtJyxcclxuICAgIFNUUkVBTV9XU19RVkggPSAnc3RyZWFtLXF2aCcsXHJcbiAgICBTVFJFQU1fTUpQRUcgPSAnc3RyZWFtLW1qcGVnJyxcclxuICAgIFBST1hZX1dEQSA9ICdwcm94eS13ZGEnLFxyXG4gICAgRklMRV9MSVNUSU5HID0gJ2xpc3QtZmlsZXMnLFxyXG59XHJcbiIsImV4cG9ydCBlbnVtIENoYW5uZWxDb2RlIHtcclxuICAgIEZTTFMgPSAnRlNMUycsIC8vIEZpbGUgU3lzdGVtIExpU3RcclxuICAgIEhTVFMgPSAnSFNUUycsIC8vIEhvU1RTIExpc3RcclxuICAgIFNIRUwgPSAnU0hFTCcsIC8vIFNIRUxsXHJcbiAgICBHVFJDID0gJ0dUUkMnLCAvLyBHb29nIGRldmljZSBUUmFDZXJcclxuICAgIEFUUkMgPSAnQVRSQycsIC8vIEFwcGwgZGV2aWNlIFRSYUNlclxyXG4gICAgV0RBUCA9ICdXREFQJywgLy8gV2ViRHJpdmVyQWdlbnQgUHJveHlcclxuICAgIFFWSFMgPSAnUVZIUycsIC8vIFF1aWNrdGltZV9WaWRlb19IYWNrIFN0cmVhbVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBTRVJWRVJfUEFDS0FHRSA9ICdjb20uZ2VueW1vYmlsZS5zY3JjcHkuU2VydmVyJztcbmV4cG9ydCBjb25zdCBTRVJWRVJfUE9SVCA9IDg4ODY7XG5leHBvcnQgY29uc3QgU0VSVkVSX1ZFUlNJT04gPSAnMS4xOS13czYnO1xuXG5leHBvcnQgY29uc3QgU0VSVkVSX1RZUEUgPSAnd2ViJztcblxuZXhwb3J0IGNvbnN0IExPR19MRVZFTCA9ICdFUlJPUic7XG5cbmxldCBTQ1JDUFlfTElTVEVOU19PTl9BTExfSU5URVJGQUNFUztcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblNDUkNQWV9MSVNURU5TX09OX0FMTF9JTlRFUkZBQ0VTID0gdHJ1ZTtcbi8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy9cblxuY29uc3QgQVJHVU1FTlRTID0gW1NFUlZFUl9WRVJTSU9OLCBTRVJWRVJfVFlQRSwgTE9HX0xFVkVMLCBTRVJWRVJfUE9SVCwgU0NSQ1BZX0xJU1RFTlNfT05fQUxMX0lOVEVSRkFDRVNdO1xuXG5leHBvcnQgY29uc3QgU0VSVkVSX1BST0NFU1NfTkFNRSA9ICdhcHBfcHJvY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBBUkdTX1NUUklORyA9IGAvICR7U0VSVkVSX1BBQ0tBR0V9ICR7QVJHVU1FTlRTLmpvaW4oJyAnKX0gMj4mMSA+IC9kZXYvbnVsbGA7XG4iLCJpbXBvcnQgeyBXREFNZXRob2QgfSBmcm9tICcuL1dEQU1ldGhvZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbENlbnRlckNvbW1hbmQge1xyXG4gICAgcHVibGljIHN0YXRpYyBLSUxMX1NFUlZFUiA9ICdraWxsX3NlcnZlcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIFNUQVJUX1NFUlZFUiA9ICdzdGFydF9zZXJ2ZXInO1xyXG4gICAgcHVibGljIHN0YXRpYyBVUERBVEVfSU5URVJGQUNFUyA9ICd1cGRhdGVfaW50ZXJmYWNlcyc7XHJcbiAgICBwdWJsaWMgc3RhdGljIENPTkZJR1VSRV9TVFJFQU0gPSAnY29uZmlndXJlX3N0cmVhbSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIFJVTl9XREEgPSAncnVuLXdkYSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIFJFUVVFU1RfV0RBID0gJ3JlcXVlc3Qtd2RhJztcclxuXHJcbiAgICBwcml2YXRlIGlkID0gLTE7XHJcbiAgICBwcml2YXRlIHR5cGUgPSAnJztcclxuICAgIHByaXZhdGUgcGlkID0gMDtcclxuICAgIHByaXZhdGUgdWRpZCA9ICcnO1xyXG4gICAgcHJpdmF0ZSBtZXRob2QgPSAnJztcclxuICAgIHByaXZhdGUgYXJncz86IGFueTtcclxuICAgIHByaXZhdGUgZGF0YT86IGFueTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21KU09OKGpzb246IHN0cmluZyk6IENvbnRyb2xDZW50ZXJDb21tYW5kIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZShqc29uKTtcclxuICAgICAgICBpZiAoIWJvZHkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgQ29udHJvbENlbnRlckNvbW1hbmQoKTtcclxuICAgICAgICBjb25zdCBkYXRhID0gKGNvbW1hbmQuZGF0YSA9IGJvZHkuZGF0YSk7XHJcbiAgICAgICAgY29tbWFuZC5pZCA9IGJvZHkuaWQ7XHJcbiAgICAgICAgY29tbWFuZC50eXBlID0gYm9keS50eXBlO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGRhdGEudWRpZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29tbWFuZC51ZGlkID0gZGF0YS51ZGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKGJvZHkudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMuS0lMTF9TRVJWRVI6XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEucGlkICE9PSAnbnVtYmVyJyAmJiBkYXRhLnBpZCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwicGlkXCIgdmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbW1hbmQucGlkID0gZGF0YS5waWQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcclxuICAgICAgICAgICAgY2FzZSB0aGlzLlJFUVVFU1RfV0RBOlxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLm1ldGhvZCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJtZXRob2RcIiB2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29tbWFuZC5tZXRob2QgPSBkYXRhLm1ldGhvZDtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmQuYXJncyA9IGRhdGEuYXJncztcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMuU1RBUlRfU0VSVkVSOlxyXG4gICAgICAgICAgICBjYXNlIHRoaXMuVVBEQVRFX0lOVEVSRkFDRVM6XHJcbiAgICAgICAgICAgIGNhc2UgdGhpcy5DT05GSUdVUkVfU1RSRUFNOlxyXG4gICAgICAgICAgICBjYXNlIHRoaXMuUlVOX1dEQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNvbW1hbmQgXCIke2JvZHkuY29tbWFuZH1cImApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0UGlkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGlkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFVkaWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51ZGlkO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldElkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0TWV0aG9kKCk6IFdEQU1ldGhvZCB8IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldERhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldEFyZ3MoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcmdzO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBlbnVtIERldmljZVN0YXRlIHtcclxuICAgIERFVklDRSA9ICdkZXZpY2UnLFxyXG4gICAgRElTQ09OTkVDVEVEID0gJ2Rpc2Nvbm5lY3RlZCcsXHJcblxyXG4gICAgQ09OTkVDVEVEID0gJ0Nvbm5lY3RlZCcsXHJcbn1cclxuIiwiaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uL3R5cGVzL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBIb3N0SXRlbSB9IGZyb20gJy4uL3R5cGVzL0NvbmZpZ3VyYXRpb24nO1xyXG5cclxuZXhwb3J0IGVudW0gTWVzc2FnZVR5cGUge1xyXG4gICAgSE9TVFMgPSAnaG9zdHMnLFxyXG4gICAgRVJST1IgPSAnZXJyb3InLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VIb3N0cyBleHRlbmRzIE1lc3NhZ2Uge1xyXG4gICAgdHlwZTogJ2hvc3RzJztcclxuICAgIGRhdGE6IHtcclxuICAgICAgICBsb2NhbD86IHsgdHlwZTogc3RyaW5nIH1bXTtcclxuICAgICAgICByZW1vdGU/OiBIb3N0SXRlbVtdO1xyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlRXJyb3IgZXh0ZW5kcyBNZXNzYWdlIHtcclxuICAgIHR5cGU6ICdlcnJvcic7XHJcbiAgICBkYXRhOiBzdHJpbmc7XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmV4cG9ydCB0eXBlIEV2ZW50TWFwID0gUmVjb3JkPHN0cmluZywgYW55PjtcclxuZXhwb3J0IHR5cGUgRXZlbnRLZXk8VCBleHRlbmRzIEV2ZW50TWFwPiA9IHN0cmluZyAmIGtleW9mIFQ7XHJcbmV4cG9ydCB0eXBlIEV2ZW50UmVjZWl2ZXI8VD4gPSAocGFyYW1zOiBUKSA9PiB2b2lkO1xyXG5cclxuaW50ZXJmYWNlIEVtaXR0ZXI8VCBleHRlbmRzIEV2ZW50TWFwPiB7XHJcbiAgICBvbjxLIGV4dGVuZHMgRXZlbnRLZXk8VD4+KGV2ZW50TmFtZTogSywgZm46IEV2ZW50UmVjZWl2ZXI8VFtLXT4pOiB2b2lkO1xyXG4gICAgb2ZmPEsgZXh0ZW5kcyBFdmVudEtleTxUPj4oZXZlbnROYW1lOiBLLCBmbjogRXZlbnRSZWNlaXZlcjxUW0tdPik6IHZvaWQ7XHJcbiAgICBlbWl0PEsgZXh0ZW5kcyBFdmVudEtleTxUPj4oZXZlbnROYW1lOiBLLCBwYXJhbXM6IFRbS10pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVHlwZWRFbWl0dGVyPFQgZXh0ZW5kcyBFdmVudE1hcD4gaW1wbGVtZW50cyBFbWl0dGVyPFQ+IHtcclxuICAgIHByaXZhdGUgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIGFkZEV2ZW50TGlzdGVuZXI8SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI8SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9mZihldmVudE5hbWUsIGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwYXRjaEV2ZW50KGV2ZW50OiBFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVtaXR0ZXIuZW1pdChldmVudC50eXBlLCBldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgb248SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uY2U8SyBleHRlbmRzIEV2ZW50S2V5PFQ+PihldmVudE5hbWU6IEssIGZuOiBFdmVudFJlY2VpdmVyPFRbS10+KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uY2UoZXZlbnROYW1lLCBmbik7XHJcbiAgICB9XHJcblxyXG4gICAgb2ZmPEsgZXh0ZW5kcyBFdmVudEtleTxUPj4oZXZlbnROYW1lOiBLLCBmbjogRXZlbnRSZWNlaXZlcjxUW0tdPik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZW1pdHRlci5vZmYoZXZlbnROYW1lLCBmbik7XHJcbiAgICB9XHJcblxyXG4gICAgZW1pdDxLIGV4dGVuZHMgRXZlbnRLZXk8VD4+KGV2ZW50TmFtZTogSywgcGFyYW1zOiBUW0tdKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdHRlci5lbWl0KGV2ZW50TmFtZSwgcGFyYW1zKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBFdmVudDIgfSBmcm9tICcuL0V2ZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBDbG9zZUV2ZW50MiBleHRlbmRzIEV2ZW50MiBpbXBsZW1lbnRzIENsb3NlRXZlbnQge1xyXG4gICAgcmVhZG9ubHkgY29kZTogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgcmVhc29uOiBzdHJpbmc7XHJcbiAgICByZWFkb25seSB3YXNDbGVhbjogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgeyBjb2RlLCByZWFzb24gfTogQ2xvc2VFdmVudEluaXQgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHR5cGUpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGUgfHwgMDtcclxuICAgICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbiB8fCAnJztcclxuICAgICAgICB0aGlzLndhc0NsZWFuID0gdGhpcy5jb2RlID09PSAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ2xvc2VFdmVudENsYXNzID0gdHlwZW9mIENsb3NlRXZlbnQgIT09ICd1bmRlZmluZWQnID8gQ2xvc2VFdmVudCA6IENsb3NlRXZlbnQyO1xyXG4iLCJpbXBvcnQgeyBFdmVudDIgfSBmcm9tICcuL0V2ZW50JztcclxuXHJcbmV4cG9ydCBjbGFzcyBFcnJvckV2ZW50MiBleHRlbmRzIEV2ZW50MiBpbXBsZW1lbnRzIEVycm9yRXZlbnQge1xyXG4gICAgcmVhZG9ubHkgY29sbm86IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGVycm9yOiBhbnk7XHJcbiAgICByZWFkb25seSBmaWxlbmFtZTogc3RyaW5nO1xyXG4gICAgcmVhZG9ubHkgbGluZW5vOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBtZXNzYWdlOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCB7IGNvbG5vLCBlcnJvciwgZmlsZW5hbWUsIGxpbmVubywgbWVzc2FnZSB9OiBFcnJvckV2ZW50SW5pdCA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSk7XHJcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG4gICAgICAgIHRoaXMuY29sbm8gPSBjb2xubyB8fCAwO1xyXG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZSB8fCAnJztcclxuICAgICAgICB0aGlzLmxpbmVubyA9IGxpbmVubyB8fCAwO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFcnJvckV2ZW50Q2xhc3MgPSB0eXBlb2YgRXJyb3JFdmVudCAhPT0gJ3VuZGVmaW5lZCcgPyBFcnJvckV2ZW50IDogRXJyb3JFdmVudDI7XHJcbiIsImV4cG9ydCBjbGFzcyBFdmVudDIge1xyXG4gICAgc3RhdGljIE5PTkUgPSAwO1xyXG4gICAgc3RhdGljIENBUFRVUklOR19QSEFTRSA9IDE7XHJcbiAgICBzdGF0aWMgQVRfVEFSR0VUID0gMjtcclxuICAgIHN0YXRpYyBCVUJCTElOR19QSEFTRSA9IDM7XHJcblxyXG4gICAgcHVibGljIGNhbmNlbGFibGU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgYnViYmxlczogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBjb21wb3NlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyB0aW1lU3RhbXA6IG51bWJlcjtcclxuICAgIHB1YmxpYyB0YXJnZXQ6IGFueTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc1RydXN0ZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcmVhZG9ubHkgQVRfVEFSR0VUOiBudW1iZXIgPSAwO1xyXG4gICAgcmVhZG9ubHkgQlVCQkxJTkdfUEhBU0U6IG51bWJlciA9IDA7XHJcbiAgICByZWFkb25seSBDQVBUVVJJTkdfUEhBU0U6IG51bWJlciA9IDA7XHJcbiAgICByZWFkb25seSBOT05FOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgb3B0aW9ucyA9IHsgY2FuY2VsYWJsZTogdHJ1ZSwgYnViYmxlczogdHJ1ZSwgY29tcG9zZWQ6IGZhbHNlIH0pIHtcclxuICAgICAgICBjb25zdCB7IGNhbmNlbGFibGUsIGJ1YmJsZXMsIGNvbXBvc2VkIH0gPSB7IC4uLm9wdGlvbnMgfTtcclxuICAgICAgICB0aGlzLmNhbmNlbGFibGUgPSAhIWNhbmNlbGFibGU7XHJcbiAgICAgICAgdGhpcy5idWJibGVzID0gISFidWJibGVzO1xyXG4gICAgICAgIHRoaXMuY29tcG9zZWQgPSAhIWNvbXBvc2VkO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IGAke3R5cGV9YDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcclxuICAgICAgICAvLyB0aGlzW2tTdG9wXSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJldmVudERlZmF1bHQoKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VycmVudFRhcmdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcbiAgICBnZXQgc3JjRWxlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9zZWRQYXRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldCA/IFt0aGlzLnRhcmdldF0gOiBbXTtcclxuICAgIH1cclxuICAgIGdldCByZXR1cm5WYWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuZGVmYXVsdFByZXZlbnRlZDtcclxuICAgIH1cclxuICAgIGdldCBldmVudFBoYXNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldCA/IEV2ZW50LkFUX1RBUkdFVCA6IEV2ZW50Lk5PTkU7XHJcbiAgICB9XHJcbiAgICBnZXQgY2FuY2VsQnViYmxlKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyByZXR1cm4gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgY2FuY2VsQnViYmxlKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdG9wUHJvcGFnYXRpb24oKSB7XHJcbiAgICAgICAgLy8gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaW5pdEV2ZW50KHR5cGU6IHN0cmluZywgYnViYmxlcz86IGJvb2xlYW4sIGNhbmNlbGFibGU/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5idWJibGVzID0gISFidWJibGVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWxhYmxlID0gISFjYW5jZWxhYmxlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50Q2xhc3MgPSB0eXBlb2YgRXZlbnQgIT09ICd1bmRlZmluZWQnID8gRXZlbnQgOiBFdmVudDI7XHJcbiIsImltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnLi9NZXNzYWdlVHlwZSc7XHJcbmltcG9ydCBVdGlsIGZyb20gJy4uLy4uL2FwcC9VdGlsJztcclxuaW1wb3J0IHsgQ2xvc2VFdmVudENsYXNzIH0gZnJvbSAnLi9DbG9zZUV2ZW50Q2xhc3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lc3NhZ2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZShidWZmZXI6IEFycmF5QnVmZmVyKTogTWVzc2FnZSB7XHJcbiAgICAgICAgY29uc3QgdmlldyA9IEJ1ZmZlci5mcm9tKGJ1ZmZlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IHR5cGU6IE1lc3NhZ2VUeXBlID0gdmlldy5yZWFkVUludDgoMCk7XHJcbiAgICAgICAgY29uc3QgY2hhbm5lbElkID0gdmlldy5yZWFkVUludDMyTEUoMSk7XHJcbiAgICAgICAgY29uc3QgZGF0YTogQXJyYXlCdWZmZXIgPSBidWZmZXIuc2xpY2UoNSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZSh0eXBlLCBjaGFubmVsSWQsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUNsb3NlRXZlbnQoaWQ6IG51bWJlciwgY29kZTogbnVtYmVyLCByZWFzb24/OiBzdHJpbmcpOiBNZXNzYWdlIHtcclxuICAgICAgICBjb25zdCByZWFzb25CdWZmZXIgPSByZWFzb24gPyBVdGlsLnN0cmluZ1RvVXRmOEJ5dGVBcnJheShyZWFzb24pIDogQnVmZmVyLmFsbG9jKDApO1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygyICsgNCArIHJlYXNvbkJ1ZmZlci5ieXRlTGVuZ3RoKTtcclxuICAgICAgICBidWZmZXIud3JpdGVVSW50MTZMRShjb2RlLCAwKTtcclxuICAgICAgICBpZiAocmVhc29uQnVmZmVyLmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICAgICAgYnVmZmVyLndyaXRlVUludDMyTEUocmVhc29uQnVmZmVyLmJ5dGVMZW5ndGgsIDIpO1xyXG4gICAgICAgICAgICBidWZmZXIuc2V0KHJlYXNvbkJ1ZmZlciwgNik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShNZXNzYWdlVHlwZS5DbG9zZUNoYW5uZWwsIGlkLCBidWZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlQnVmZmVyKHR5cGU6IE1lc3NhZ2VUeXBlLCBjaGFubmVsSWQ6IG51bWJlciwgZGF0YT86IEFycmF5QnVmZmVyKTogQnVmZmVyIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBCdWZmZXIuYWxsb2MoNSArIChkYXRhID8gZGF0YS5ieXRlTGVuZ3RoIDogMCkpO1xyXG4gICAgICAgIHJlc3VsdC53cml0ZVVJbnQ4KHR5cGUsIDApO1xyXG4gICAgICAgIHJlc3VsdC53cml0ZVVJbnQzMkxFKGNoYW5uZWxJZCwgMSk7XHJcbiAgICAgICAgaWYgKGRhdGE/LmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnNldChCdWZmZXIuZnJvbShkYXRhKSwgNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBNZXNzYWdlVHlwZSxcclxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY2hhbm5lbElkOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGRhdGE6IEFycmF5QnVmZmVyLFxyXG4gICAgKSB7fVxyXG5cclxuICAgIHB1YmxpYyB0b0Nsb3NlRXZlbnQoKTogQ2xvc2VFdmVudCB7XHJcbiAgICAgICAgbGV0IGNvZGU6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgcmVhc29uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEuYnl0ZUxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbSh0aGlzLmRhdGEpO1xyXG4gICAgICAgICAgICBjb2RlID0gYnVmZmVyLnJlYWRVSW50MTZMRSgwKTtcclxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5ieXRlTGVuZ3RoID4gNikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gYnVmZmVyLnJlYWRVSW50MzJMRSgyKTtcclxuICAgICAgICAgICAgICAgIHJlYXNvbiA9IFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKGJ1ZmZlci5zbGljZSg2LCA2ICsgbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbG9zZUV2ZW50Q2xhc3MoJ2Nsb3NlJywge1xyXG4gICAgICAgICAgICBjb2RlLFxyXG4gICAgICAgICAgICByZWFzb24sXHJcbiAgICAgICAgICAgIHdhc0NsZWFuOiBjb2RlID09PSAxMDAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0J1ZmZlcigpOiBBcnJheUJ1ZmZlciB7XHJcbiAgICAgICAgcmV0dXJuIE1lc3NhZ2UuY3JlYXRlQnVmZmVyKHRoaXMudHlwZSwgdGhpcy5jaGFubmVsSWQsIHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnQyIH0gZnJvbSAnLi9FdmVudCc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVzc2FnZUV2ZW50MiBleHRlbmRzIEV2ZW50MiBpbXBsZW1lbnRzIE1lc3NhZ2VFdmVudCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YTogYW55O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9yaWdpbjogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxhc3RFdmVudElkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlOiBhbnk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcG9ydHM6IFJlYWRvbmx5QXJyYXk8YW55PjtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHR5cGU6IHN0cmluZyxcclxuICAgICAgICB7IGRhdGEgPSBudWxsLCBvcmlnaW4gPSAnJywgbGFzdEV2ZW50SWQgPSAnJywgc291cmNlID0gbnVsbCwgcG9ydHMgPSBbXSB9OiBNZXNzYWdlRXZlbnRJbml0ID0ge30sXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcih0eXBlKTtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMub3JpZ2luID0gYCR7b3JpZ2lufWA7XHJcbiAgICAgICAgdGhpcy5sYXN0RXZlbnRJZCA9IGAke2xhc3RFdmVudElkfWA7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICAgICAgdGhpcy5wb3J0cyA9IFsuLi5wb3J0c107XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdE1lc3NhZ2VFdmVudCgpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBFcnJvcignRGVwcmVjYXRlZCBtZXRob2QnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1lc3NhZ2VFdmVudENsYXNzID0gdHlwZW9mIE1lc3NhZ2VFdmVudCAhPT0gJ3VuZGVmaW5lZCcgPyBNZXNzYWdlRXZlbnQgOiBNZXNzYWdlRXZlbnQyO1xyXG4iLCJleHBvcnQgZW51bSBNZXNzYWdlVHlwZSB7XHJcbiAgICBDcmVhdGVDaGFubmVsID0gNCxcclxuICAgIENsb3NlQ2hhbm5lbCA9IDgsXHJcbiAgICBSYXdCaW5hcnlEYXRhID0gMTYsXHJcbiAgICBSYXdTdHJpbmdEYXRhID0gMzIsXHJcbiAgICBEYXRhID0gNjQsXHJcbn1cclxuIiwiaW1wb3J0IHsgVHlwZWRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vY29tbW9uL1R5cGVkRW1pdHRlcic7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuL01lc3NhZ2UnO1xyXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJy4vTWVzc2FnZVR5cGUnO1xyXG5pbXBvcnQgeyBFdmVudENsYXNzIH0gZnJvbSAnLi9FdmVudCc7XHJcbmltcG9ydCB7IENsb3NlRXZlbnRDbGFzcyB9IGZyb20gJy4vQ2xvc2VFdmVudENsYXNzJztcclxuaW1wb3J0IHsgRXJyb3JFdmVudENsYXNzIH0gZnJvbSAnLi9FcnJvckV2ZW50Q2xhc3MnO1xyXG5pbXBvcnQgeyBNZXNzYWdlRXZlbnRDbGFzcyB9IGZyb20gJy4vTWVzc2FnZUV2ZW50Q2xhc3MnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi8uLi9hcHAvVXRpbCc7XHJcblxyXG5pbnRlcmZhY2UgTXVsdGlwbGV4ZXJFdmVudHMgZXh0ZW5kcyBXZWJTb2NrZXRFdmVudE1hcCB7XHJcbiAgICBlbXB0eTogTXVsdGlwbGV4ZXI7XHJcbiAgICBjaGFubmVsOiB7IGNoYW5uZWw6IE11bHRpcGxleGVyOyBkYXRhOiBBcnJheUJ1ZmZlciB9O1xyXG4gICAgb3BlbjogRXZlbnQ7XHJcbiAgICBjbG9zZTogQ2xvc2VFdmVudDtcclxuICAgIG1lc3NhZ2U6IE1lc3NhZ2VFdmVudDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXZWJzb2NrZXRFdmVudEVtaXR0ZXIge1xyXG4gICAgZGlzcGF0Y2hFdmVudChldmVudDogRXZlbnQpOiBib29sZWFuO1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjxLIGV4dGVuZHMga2V5b2YgV2ViU29ja2V0RXZlbnRNYXA+KFxyXG4gICAgICAgIHR5cGU6IEssXHJcbiAgICAgICAgbGlzdGVuZXI6ICh0aGlzOiBXZWJTb2NrZXQsIGV2OiBXZWJTb2NrZXRFdmVudE1hcFtLXSkgPT4gYW55LFxyXG4gICAgICAgIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsXHJcbiAgICApOiB2b2lkO1xyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjxLIGV4dGVuZHMga2V5b2YgV2ViU29ja2V0RXZlbnRNYXA+KFxyXG4gICAgICAgIHR5cGU6IEssXHJcbiAgICAgICAgbGlzdGVuZXI6ICh0aGlzOiBXZWJTb2NrZXQsIGV2OiBXZWJTb2NrZXRFdmVudE1hcFtLXSkgPT4gYW55LFxyXG4gICAgICAgIG9wdGlvbnM/OiBib29sZWFuIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnMsXHJcbiAgICApOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGV4ZXIgZXh0ZW5kcyBUeXBlZEVtaXR0ZXI8TXVsdGlwbGV4ZXJFdmVudHM+IGltcGxlbWVudHMgV2ViU29ja2V0IHtcclxuICAgIHJlYWRvbmx5IENPTk5FQ1RJTkcgPSAwO1xyXG4gICAgcmVhZG9ubHkgT1BFTiA9IDE7XHJcbiAgICByZWFkb25seSBDTE9TSU5HID0gMjtcclxuICAgIHJlYWRvbmx5IENMT1NFRCA9IDM7XHJcbiAgICBwdWJsaWMgYmluYXJ5VHlwZTogQmluYXJ5VHlwZSA9ICdibG9iJztcclxuICAgIHB1YmxpYyByZWFkeVN0YXRlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNoYW5uZWxzOiBNYXA8bnVtYmVyLCB7IGNoYW5uZWw6IE11bHRpcGxleGVyOyBlbWl0dGVyOiBXZWJzb2NrZXRFdmVudEVtaXR0ZXIgfT4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIG5leHRJZCA9IDA7XHJcbiAgICBwcml2YXRlIG1heElkID0gNDI5NDk2NzI5NjtcclxuICAgIHByaXZhdGUgc3RvcmFnZTogQXJyYXk8c3RyaW5nIHwgQXJyYXlCdWZmZXJMaWtlIHwgQmxvYiB8IEFycmF5QnVmZmVyVmlldz4gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVzc2FnZUVtaXR0ZXI6IFdlYnNvY2tldEV2ZW50RW1pdHRlcjtcclxuICAgIHByaXZhdGUgZW1wdHlUaW1lclNjaGVkdWxlZCA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBvbmNsb3NlOiAoKHRoaXM6IFdlYlNvY2tldCwgZXY6IENsb3NlRXZlbnQpID0+IGFueSkgfCBudWxsID0gbnVsbDtcclxuICAgIHB1YmxpYyBvbmVycm9yOiAoKHRoaXM6IFdlYlNvY2tldCwgZXY6IEV2ZW50KSA9PiBhbnkpIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwdWJsaWMgb25tZXNzYWdlOiAoKHRoaXM6IFdlYlNvY2tldCwgZXY6IE1lc3NhZ2VFdmVudCkgPT4gYW55KSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIG9ub3BlbjogKCh0aGlzOiBXZWJTb2NrZXQsIGV2OiBFdmVudCkgPT4gYW55KSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIHVybCA9ICcnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgd3JhcCh3czogV2ViU29ja2V0KTogTXVsdGlwbGV4ZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlwbGV4ZXIod3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgd3M6IFdlYlNvY2tldCwgcHJpdmF0ZSBfaWQgPSAwLCBlbWl0dGVyPzogV2Vic29ja2V0RXZlbnRFbWl0dGVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNPTk5FQ1RJTkc7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHdzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLndzLnJlYWR5U3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzc2FnZUVtaXR0ZXIgPSBlbWl0dGVyIHx8IHdzO1xyXG5cclxuICAgICAgICBjb25zdCBvbk9wZW5IYW5kbGVyID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLndzLnJlYWR5U3RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25DbG9zZUhhbmRsZXIgPSAoZXZlbnQ6IENsb3NlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy53cy5yZWFkeVN0YXRlO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmNsZWFyKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25FcnJvckhhbmRsZXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IHRoaXMud3MucmVhZHlTdGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5jaGFubmVscy5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IG9uTWVzc2FnZUhhbmRsZXIgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50O1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gTWVzc2FnZS5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuQ3JlYXRlQ2hhbm5lbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY2hhbm5lbElkLCBkYXRhIH0gPSBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5leHRJZCA8IGNoYW5uZWxJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRJZCA9IGNoYW5uZWxJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuX2NyZWF0ZUNoYW5uZWwoY2hhbm5lbElkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGFubmVsJywgeyBjaGFubmVsLCBkYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5SYXdTdHJpbmdEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhbm5lbHMuZ2V0KG1lc3NhZ2UuY2hhbm5lbElkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNoYW5uZWwgfSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IG5ldyBNZXNzYWdlRXZlbnRDbGFzcygnbWVzc2FnZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFV0aWwudXRmOEJ5dGVBcnJheVRvU3RyaW5nKEJ1ZmZlci5mcm9tKG1lc3NhZ2UuZGF0YSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQ6IGV2ZW50Lmxhc3RFdmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBldmVudC5vcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGV2ZW50LnNvdXJjZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuZGlzcGF0Y2hFdmVudChtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENoYW5uZWwgd2l0aCBpZCAoJHttZXNzYWdlLmNoYW5uZWxJZH0pIG5vdCBmb3VuZGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuUmF3QmluYXJ5RGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNoYW5uZWxzLmdldChtZXNzYWdlLmNoYW5uZWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjaGFubmVsIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBuZXcgTWVzc2FnZUV2ZW50Q2xhc3MoJ21lc3NhZ2UnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBtZXNzYWdlLmRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0RXZlbnRJZDogZXZlbnQubGFzdEV2ZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IGV2ZW50Lm9yaWdpbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZXZlbnQuc291cmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5kaXNwYXRjaEV2ZW50KG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ2hhbm5lbCB3aXRoIGlkICgke21lc3NhZ2UuY2hhbm5lbElkfSkgbm90IGZvdW5kYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5EYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhbm5lbHMuZ2V0KG1lc3NhZ2UuY2hhbm5lbElkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVtaXR0ZXIgfSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IG5ldyBNZXNzYWdlRXZlbnRDbGFzcygnbWVzc2FnZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG1lc3NhZ2UuZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFdmVudElkOiBldmVudC5sYXN0RXZlbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogZXZlbnQub3JpZ2luLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBldmVudC5zb3VyY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmRpc3BhdGNoRXZlbnQobXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDaGFubmVsIHdpdGggaWQgKCR7bWVzc2FnZS5jaGFubmVsSWR9KSBub3QgZm91bmRgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkNsb3NlQ2hhbm5lbDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNoYW5uZWxzLmdldChtZXNzYWdlLmNoYW5uZWxJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjaGFubmVsIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLnJlYWR5U3RhdGUgPSBjaGFubmVsLkNMT1NJTkc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmRpc3BhdGNoRXZlbnQobWVzc2FnZS50b0Nsb3NlRXZlbnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLnJlYWR5U3RhdGUgPSBjaGFubmVsLkNMT1NFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENoYW5uZWwgd2l0aCBpZCAoJHttZXNzYWdlLmNoYW5uZWxJZH0pIG5vdCBmb3VuZGApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZTogJHttZXNzYWdlLnR5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFcnJvckV2ZW50Q2xhc3MoJ2Vycm9yJywgeyBlcnJvciB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBvblRoaXNPcGVuSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3JhZ2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgd3MgPSB0aGlzLndzO1xyXG4gICAgICAgICAgICBpZiAod3MgaW5zdGFuY2VvZiBNdWx0aXBsZXhlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLmZvckVhY2goKGRhdGEpID0+IHdzLnNlbmREYXRhKGRhdGEpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5mb3JFYWNoKChkYXRhKSA9PiB3cy5zZW5kKGRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UubGVuZ3RoID0gMDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBvblRoaXNDbG9zZUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW5IYW5kbGVyKTtcclxuICAgICAgICAgICAgd3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9ySGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5vZmYoJ2Nsb3NlJywgb25UaGlzQ2xvc2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5vZmYoJ29wZW4nLCBvblRoaXNPcGVuSGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uT3BlbkhhbmRsZXIpO1xyXG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvckhhbmRsZXIpO1xyXG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZUVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uTWVzc2FnZUhhbmRsZXIpO1xyXG5cclxuICAgICAgICB0aGlzLm9uKCdjbG9zZScsIG9uVGhpc0Nsb3NlSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbignb3BlbicsIG9uVGhpc09wZW5IYW5kbGVyKTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlRW1wdHlFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYnVmZmVyZWRBbW91bnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGV4dGVuc2lvbnMoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBwcm90b2NvbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2NoZWR1bGVFbXB0eUV2ZW50KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbXB0eVRpbWVyU2NoZWR1bGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZW1wdHknLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJFbXB0eUV2ZW50KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVtcHR5VGltZXJTY2hlZHVsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbXB0eVRpbWVyU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbG9zZShjb2RlID0gMTAwMCwgcmVhc29uPzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQgfHwgdGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNMT1NJTkcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5faWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TSU5HO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBNZXNzYWdlLmZyb21DbG9zZUV2ZW50KHRoaXMuX2lkLCBjb2RlLCByZWFzb24pLnRvQnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cyBpbnN0YW5jZW9mIE11bHRpcGxleGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kRGF0YShtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjbG9zZScsIG5ldyBDbG9zZUV2ZW50Q2xhc3MoJ2Nsb3NlJywgeyBjb2RlLCByZWFzb24gfSkpO1xyXG4gICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TRUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKGNvZGUsIHJlYXNvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kKGRhdGE6IHN0cmluZyB8IEFycmF5QnVmZmVyTGlrZSB8IEJsb2IgfCBBcnJheUJ1ZmZlclZpZXcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy53cyBpbnN0YW5jZW9mIE11bHRpcGxleGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBNZXNzYWdlLmNyZWF0ZUJ1ZmZlcihNZXNzYWdlVHlwZS5SYXdTdHJpbmdEYXRhLCB0aGlzLl9pZCwgQnVmZmVyLmZyb20oZGF0YSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IE1lc3NhZ2UuY3JlYXRlQnVmZmVyKE1lc3NhZ2VUeXBlLlJhd0JpbmFyeURhdGEsIHRoaXMuX2lkLCBCdWZmZXIuZnJvbShkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2VuZChkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZERhdGEoZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXJMaWtlIHwgQmxvYiB8IEFycmF5QnVmZmVyVmlldyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLndzIGluc3RhbmNlb2YgTXVsdGlwbGV4ZXIpIHtcclxuICAgICAgICAgICAgZGF0YSA9IE1lc3NhZ2UuY3JlYXRlQnVmZmVyKE1lc3NhZ2VUeXBlLkRhdGEsIHRoaXMuX2lkLCBCdWZmZXIuZnJvbShkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NlbmQoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc2VuZChkYXRhOiBzdHJpbmcgfCBBcnJheUJ1ZmZlckxpa2UgfCBCbG9iIHwgQXJyYXlCdWZmZXJWaWV3KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyByZWFkeVN0YXRlIH0gPSB0aGlzO1xyXG4gICAgICAgIGlmIChyZWFkeVN0YXRlID09PSB0aGlzLk9QRU4pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgaW5zdGFuY2VvZiBNdWx0aXBsZXhlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kRGF0YShkYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3Muc2VuZChkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVhZHlTdGF0ZSA9PT0gdGhpcy53cy5DT05ORUNUSU5HKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5wdXNoKGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBTb2NrZXQgaXMgYWxyZWFkeSBpbiBDTE9TSU5HIG9yIENMT1NFRCBzdGF0ZS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfY3JlYXRlQ2hhbm5lbChpZDogbnVtYmVyLCBzZW5kT3BlbkV2ZW50OiBib29sZWFuKTogTXVsdGlwbGV4ZXIge1xyXG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgVHlwZWRFbWl0dGVyPE11bHRpcGxleGVyRXZlbnRzPigpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBuZXcgTXVsdGlwbGV4ZXIodGhpcywgaWQsIGVtaXR0ZXIpO1xyXG4gICAgICAgIHRoaXMuY2hhbm5lbHMuc2V0KGlkLCB7IGNoYW5uZWwsIGVtaXR0ZXIgfSk7XHJcbiAgICAgICAgaWYgKHNlbmRPcGVuRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICBVdGlsLnNldEltbWVkaWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5yZWFkeVN0YXRlID0gdGhpcy5PUEVOO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnRDbGFzcygnb3BlbicpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhbm5lbC5yZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGFubmVscy5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlRW1wdHlFdmVudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbGVhckVtcHR5RXZlbnQoKTtcclxuICAgICAgICByZXR1cm4gY2hhbm5lbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ2hhbm5lbChkYXRhOiBCdWZmZXIpOiBNdWx0aXBsZXhlciB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TSU5HIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCBzb2NrZXQgc3RhdGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldE5leHRJZCgpO1xyXG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSB0aGlzLl9jcmVhdGVDaGFubmVsKGlkLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNlbmREYXRhKE1lc3NhZ2UuY3JlYXRlQnVmZmVyKE1lc3NhZ2VUeXBlLkNyZWF0ZUNoYW5uZWwsIGlkLCBkYXRhKSk7XHJcbiAgICAgICAgcmV0dXJuIGNoYW5uZWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXROZXh0SWQoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgaGl0VG9wID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY2hhbm5lbHMuaGFzKCsrdGhpcy5uZXh0SWQpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHRJZCA9PT0gdGhpcy5tYXhJZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhpdFRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdObyBhdmFpbGFibGUgaWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dElkID0gMDtcclxuICAgICAgICAgICAgICAgIGhpdFRvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dElkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50KGV2ZW50OiBFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnY2xvc2UnICYmIHR5cGVvZiB0aGlzLm9uY2xvc2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgUmVmbGVjdC5hcHBseSh0aGlzLm9uY2xvc2UsIHRoaXMsIFtldmVudF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29wZW4nICYmIHR5cGVvZiB0aGlzLm9ub3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBSZWZsZWN0LmFwcGx5KHRoaXMub25vcGVuLCB0aGlzLCBbZXZlbnRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtZXNzYWdlJyAmJiB0eXBlb2YgdGhpcy5vbm1lc3NhZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgUmVmbGVjdC5hcHBseSh0aGlzLm9ubWVzc2FnZSwgdGhpcywgW2V2ZW50XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnZXJyb3InICYmIHR5cGVvZiB0aGlzLm9uZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgUmVmbGVjdC5hcHBseSh0aGlzLm9uZXJyb3IsIHRoaXMsIFtldmVudF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VwZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGVudW0gUmVtb3RlRGV2dG9vbHNDb21tYW5kIHtcclxuICAgIExJU1RfREVWVE9PTFMgPSAnbGlzdF9kZXZ0b29scycsXHJcbn1cclxuIiwiaW1wb3J0IFNpemUgZnJvbSAnLi91dGlscy9TaXplJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIENhbnZhcyB7XHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgcmVhZG9ubHkgc2l6ZTogU2l6ZSkge31cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQ7XHJcbn1cclxuIiwiaW1wb3J0IFNoYWRlciBmcm9tICcuL1NoYWRlcic7XHJcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi91dGlscy9hc3NlcnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3JhbSB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvZ3JhbTogV2ViR0xQcm9ncmFtIHwgbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gdGhpcy5nbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGF0dGFjaChzaGFkZXI6IFNoYWRlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNoYWRlci5zaGFkZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFNoYWRlciB0eXBlIGlzICR7dHlwZW9mIHNoYWRlci5zaGFkZXJ9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgc2hhZGVyLnNoYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpbmsoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFByb2dyYW0gdHlwZSBpcyAke3R5cGVvZiB0aGlzLnByb2dyYW19YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICAvLyBJZiBjcmVhdGluZyB0aGUgc2hhZGVyIHByb2dyYW0gZmFpbGVkLCBhbGVydC5cclxuICAgICAgICBhc3NlcnQodGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgdGhpcy5nbC5MSU5LX1NUQVRVUyksXHJcbiAgICAgICAgICAgICdVbmFibGUgdG8gaW5pdGlhbGl6ZSB0aGUgc2hhZGVyIHByb2dyYW0uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXR0cmlidXRlTG9jYXRpb24obmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZ3JhbSB0eXBlIGlzICR7dHlwZW9mIHRoaXMucHJvZ3JhbX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TWF0cml4VW5pZm9ybShuYW1lOiBzdHJpbmcsIGFycmF5OiBGbG9hdDMyTGlzdCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1bmlmb3JtID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBuYW1lKTtcclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybSwgZmFsc2UsIGFycmF5KTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JpcHQge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHR5cGU6IHN0cmluZywgcHVibGljIHNvdXJjZTogc3RyaW5nKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tRWxlbWVudElkKGlkOiBzdHJpbmcpOiBTY3JpcHQge1xyXG4gICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcbiAgICAgICAgLy8gRGlkbid0IGZpbmQgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgSUQsIGFib3J0LlxyXG4gICAgICAgIGlmICghc2NyaXB0KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdDb3VsZCBub3QgZmluZCBzaGFkZXIgd2l0aCBJRDogJyArIGlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdhbGsgdGhyb3VnaCB0aGUgc291cmNlIGVsZW1lbnQncyBjaGlsZHJlbiwgYnVpbGRpbmcgdGhlIHNoYWRlciBzb3VyY2Ugc3RyaW5nLlxyXG4gICAgICAgIGxldCBzb3VyY2UgPSAnJztcclxuICAgICAgICBsZXQgY3VycmVudENoaWxkID0gc2NyaXB0LmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRDaGlsZCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudENoaWxkLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2UgKz0gY3VycmVudENoaWxkLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnRDaGlsZCA9IGN1cnJlbnRDaGlsZC5uZXh0U2libGluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgU2NyaXB0KChzY3JpcHQgYXMgSFRNTFNjcmlwdEVsZW1lbnQpLnR5cGUsIHNvdXJjZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tU291cmNlKHR5cGU6IHN0cmluZywgc291cmNlOiBzdHJpbmcpOiBTY3JpcHQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2NyaXB0KHR5cGUsIHNvdXJjZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNjcmlwdCBmcm9tICcuL1NjcmlwdCc7XHJcbmltcG9ydCBlcnJvciBmcm9tICcuL3V0aWxzL2Vycm9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlciB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2hhZGVyPzogV2ViR0xTaGFkZXIgfCBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHJlYWRvbmx5IHNjcmlwdDogU2NyaXB0KSB7XHJcbiAgICAgICAgLy8gTm93IGZpZ3VyZSBvdXQgd2hhdCB0eXBlIG9mIHNoYWRlciBzY3JpcHQgd2UgaGF2ZSwgYmFzZWQgb24gaXRzIE1JTUUgdHlwZS5cclxuICAgICAgICBpZiAoc2NyaXB0LnR5cGUgPT09ICd4LXNoYWRlci94LWZyYWdtZW50Jykge1xyXG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2NyaXB0LnR5cGUgPT09ICd4LXNoYWRlci94LXZlcnRleCcpIHtcclxuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXJyb3IoYFVua25vd24gc2hhZGVyIHR5cGU6ICR7c2NyaXB0LnR5cGV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zaGFkZXIpIHtcclxuICAgICAgICAgICAgZXJyb3IoYFNoYWRlciBpcyAke3R5cGVvZiB0aGlzLnNoYWRlcn1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VuZCB0aGUgc291cmNlIHRvIHRoZSBzaGFkZXIgb2JqZWN0LlxyXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZSh0aGlzLnNoYWRlciwgc2NyaXB0LnNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodGhpcy5zaGFkZXIpO1xyXG5cclxuICAgICAgICAvLyBTZWUgaWYgaXQgY29tcGlsZWQgc3VjY2Vzc2Z1bGx5LlxyXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHRoaXMuc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuICAgICAgICAgICAgZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyczogJyArIGdsLmdldFNoYWRlckluZm9Mb2codGhpcy5zaGFkZXIpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgU2l6ZSBmcm9tICcuL3V0aWxzL1NpemUnO1xyXG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4vdXRpbHMvYXNzZXJ0JztcclxuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi9Qcm9ncmFtJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHR1cmU6IFdlYkdMVGV4dHVyZSB8IG51bGw7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0OiBHTGVudW07XHJcbiAgICBwcml2YXRlIHRleHR1cmVJRHM6IG51bWJlcltdO1xyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUgKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGZvcm1hdDogbnVtYmVyKTogVGV4dHVyZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKGdsLCB1bmRlZmluZWQsIGZvcm1hdCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcmVhZG9ubHkgc2l6ZT86IFNpemUsIGZvcm1hdD86IEdMZW51bSkge1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xyXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0ID8gZm9ybWF0IDogZ2wuTFVNSU5BTkNFO1xyXG4gICAgICAgIGlmIChzaXplKSB7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHNpemUudywgc2l6ZS5oLCAwLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XHJcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlSURzID0gW2dsLlRFWFRVUkUwLCBnbC5URVhUVVJFMSwgZ2wuVEVYVFVSRTJdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaWxsKHRleHR1cmVEYXRhOiBVaW50OEFycmF5LCB1c2VUZXhTdWJJbWFnZTJEPzogYm9vbGVhbiwgdz86IG51bWJlciwgaD86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGggPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdyA9IHRoaXMuc2l6ZS53O1xyXG4gICAgICAgICAgICBoID0gdGhpcy5zaXplLmg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuICAgICAgICBhc3NlcnQodGV4dHVyZURhdGEubGVuZ3RoID49IHcgKiBoLFxyXG4gICAgICAgICAgICAnVGV4dHVyZSBzaXplIG1pc21hdGNoLCBkYXRhOicgKyB0ZXh0dXJlRGF0YS5sZW5ndGggKyAnLCB0ZXh0dXJlOiAnICsgdyAqIGgpO1xyXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XHJcbiAgICAgICAgaWYgKHVzZVRleFN1YkltYWdlMkQpIHtcclxuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCB3LCBoLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZURhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRleEltYWdlMkQgc2VlbXMgdG8gYmUgZmFzdGVyLCB0aHVzIGtlZXBpbmcgaXQgYXMgdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCB0aGlzLmZvcm1hdCwgdywgaCwgMCwgdGhpcy5mb3JtYXQsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGltYWdlMmRCdWZmZXIgKGJ1ZmZlcjogVWludDhBcnJheSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmZpbGwoYnVmZmVyLCBmYWxzZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmQobjogbnVtYmVyLCBwcm9ncmFtOiBQcm9ncmFtLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgaWYgKCFwcm9ncmFtLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKHRoaXMudGV4dHVyZUlEc1tuXSk7XHJcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcclxuICAgICAgICBnbC51bmlmb3JtMWkoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgbmFtZSksIG4pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBTaXplIGZyb20gJy4vdXRpbHMvU2l6ZSc7XHJcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vVGV4dHVyZSc7XHJcbmltcG9ydCBlcnJvciBmcm9tICcuL3V0aWxzL2Vycm9yJztcclxuLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXRyaXgsIFZlY3RvciB9IGZyb20gJ3N5bHZlc3Rlci5qcyc7XHJcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vUHJvZ3JhbSc7XHJcbmltcG9ydCBTaGFkZXIgZnJvbSAnLi9TaGFkZXInO1xyXG5pbXBvcnQgeyBtYWtlUGVyc3BlY3RpdmUgfSBmcm9tICcuL3V0aWxzL2dsVXRpbHMnO1xyXG5pbXBvcnQgU2NyaXB0IGZyb20gJy4vU2NyaXB0JztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBXZWJHTENhbnZhcyBleHRlbmRzIENhbnZhcyB7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHZlcnRleFNoYWRlclNjcmlwdDogU2NyaXB0ID0gU2NyaXB0LmNyZWF0ZUZyb21Tb3VyY2UoJ3gtc2hhZGVyL3gtdmVydGV4JywgYFxyXG4gICAgICBhdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XHJcbiAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcclxuICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xyXG4gICAgICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xyXG4gICAgICB9XHJcbiAgICBgKTtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgZnJhZ21lbnRTaGFkZXJTY3JpcHQ6IFNjcmlwdCA9IFNjcmlwdC5jcmVhdGVGcm9tU291cmNlKCd4LXNoYWRlci94LWZyYWdtZW50JywgYFxyXG4gICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XHJcbiAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VGV4dHVyZUNvb3JkO1xyXG4gICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xyXG4gICAgICB2b2lkIG1haW4odm9pZCkge1xyXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4dHVyZUNvb3JkKTtcclxuICAgICAgfVxyXG4gICAgYCk7XHJcbiAgICBwdWJsaWMgcXVhZFZQQnVmZmVyPzogV2ViR0xCdWZmZXIgfCBudWxsO1xyXG4gICAgcHVibGljIHF1YWRWVENCdWZmZXI/OiBXZWJHTEJ1ZmZlciB8IG51bGw7XHJcbiAgICBwdWJsaWMgbXZNYXRyaXg6IE1hdHJpeDtcclxuICAgIHB1YmxpYyBnbE5hbWVzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuICAgIHB1YmxpYyB0ZXh0dXJlQ29vcmRBdHRyaWJ1dGU/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdmVydGV4UG9zaXRpb25BdHRyaWJ1dGU/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcGVyc3BlY3RpdmVNYXRyaXg6IE1hdHJpeDtcclxuICAgIHByb3RlY3RlZCBnbD86IFdlYkdMUmVuZGVyaW5nQ29udGV4dCB8IG51bGw7XHJcbiAgICBwcm90ZWN0ZWQgZnJhbWVidWZmZXI/OiBXZWJHTEZyYW1lYnVmZmVyIHwgbnVsbDtcclxuICAgIHByb3RlY3RlZCBmcmFtZWJ1ZmZlclRleHR1cmU/OiBUZXh0dXJlO1xyXG4gICAgcHJvdGVjdGVkIHRleHR1cmU/OiBUZXh0dXJlO1xyXG4gICAgcHJvdGVjdGVkIHByb2dyYW0/OiBQcm9ncmFtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIHJlYWRvbmx5IHNpemU6IFNpemUsIHVzZUZyYW1lQnVmZmVyOiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIoY2FudmFzLCBzaXplKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHNpemUudztcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBzaXplLmg7XHJcblxyXG4gICAgICAgIHRoaXMub25Jbml0V2ViR0woKTtcclxuICAgICAgICB0aGlzLm9uSW5pdFNoYWRlcnMoKTtcclxuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XHJcblxyXG4gICAgICAgIGlmICh1c2VGcmFtZUJ1ZmZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRGcmFtZWJ1ZmZlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbkluaXRUZXh0dXJlcygpO1xyXG4gICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGluaXRGcmFtZWJ1ZmZlcigpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgaWYgKCFnbCkge1xyXG4gICAgICAgICAgICBlcnJvcihgZ2wgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgdGV4dHVyZS5cclxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIpO1xyXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wsIHRoaXMuc2l6ZSwgZ2wuUkdCQSk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgYWxsb2NhdGUgcmVuZGVyYnVmZmVyIGZvciBkZXB0aCBkYXRhLlxyXG4gICAgICAgIGNvbnN0IHJlbmRlcmJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xyXG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJidWZmZXIpO1xyXG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgdGhpcy5zaXplLncsIHRoaXMuc2l6ZS5oKTtcclxuXHJcbiAgICAgICAgLy8gQXR0YWNoIHRleHR1cmUgYW5kIHJlbmRlcmJ1ZmZlciB0byB0aGUgZnJhbWVidWZmZXIuXHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLmZyYW1lYnVmZmVyVGV4dHVyZS50ZXh0dXJlLCAwKTtcclxuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCByZW5kZXJidWZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0QnVmZmVycygpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdG1wO1xyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuXHJcbiAgICAgICAgaWYgKCFnbCkge1xyXG4gICAgICAgICAgICBlcnJvcihgZ2wgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHZlcnRleCBwb3NpdGlvbiBidWZmZXIuXHJcbiAgICAgICAgdGhpcy5xdWFkVlBCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICBpZiAoIXRoaXMucXVhZFZQQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBxdWFkVlBCdWZmZXIgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5xdWFkVlBCdWZmZXIpO1xyXG4gICAgICAgIHRtcCA9IFtcclxuICAgICAgICAgICAgMS4wLCAxLjAsIDAuMCxcclxuICAgICAgICAgICAgLTEuMCwgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgIDEuMCwgLTEuMCwgMC4wLFxyXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAwLjBdO1xyXG5cclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0bXApLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgLy8gKHRoaXMucXVhZFZQQnVmZmVyIGFzIGFueSkuaXRlbVNpemUgPSAzO1xyXG4gICAgICAgIC8vICh0aGlzLnF1YWRWUEJ1ZmZlciBhcyBhbnkpLm51bUl0ZW1zID0gNDtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tK1xyXG4gICAgICAgICB8IC0xLDEgKDEpICAgICAgICAgICB8IDEsMSAoMClcclxuICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgIHwgLTEsLTEgKDMpICAgICAgICAgIHwgMSwtMSAoMilcclxuICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tK1xyXG4gICAgICAgICAqL1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZVggPSAxLjA7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gMS4wO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdmVydGV4IHRleHR1cmUgY29vcmRpbmF0ZSBidWZmZXIuXHJcbiAgICAgICAgdGhpcy5xdWFkVlRDQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucXVhZFZUQ0J1ZmZlcik7XHJcbiAgICAgICAgdG1wID0gW1xyXG4gICAgICAgICAgICBzY2FsZVgsIDAuMCxcclxuICAgICAgICAgICAgMC4wLCAwLjAsXHJcbiAgICAgICAgICAgIHNjYWxlWCwgc2NhbGVZLFxyXG4gICAgICAgICAgICAwLjAsIHNjYWxlWVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodG1wKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBtdklkZW50aXR5KCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm12TWF0cml4ID0gTWF0cml4LkkoNCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG12TXVsdGlwbHkobTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tdk1hdHJpeCA9IHRoaXMubXZNYXRyaXgueChtKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbXZUcmFuc2xhdGUobTogbnVtYmVyW10pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCAkViA9IFZlY3Rvci5jcmVhdGU7XHJcbiAgICAgICAgdGhpcy5tdk11bHRpcGx5KE1hdHJpeC5UcmFuc2xhdGlvbigkVihbbVswXSwgbVsxXSwgbVsyXV0pKS5lbnN1cmU0eDQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldE1hdHJpeFVuaWZvcm1zKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3JhbS5zZXRNYXRyaXhVbmlmb3JtKCd1UE1hdHJpeCcsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5wZXJzcGVjdGl2ZU1hdHJpeC5mbGF0dGVuKCkpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0uc2V0TWF0cml4VW5pZm9ybSgndU1WTWF0cml4JywgbmV3IEZsb2F0MzJBcnJheSh0aGlzLm12TWF0cml4LmZsYXR0ZW4oKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0U2NlbmUoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG5cclxuICAgICAgICBpZiAoIWdsKSB7XHJcbiAgICAgICAgICAgIGVycm9yKGBnbCB0eXBlIGlzICR7dHlwZW9mIGdsfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFc3RhYmxpc2ggdGhlIHBlcnNwZWN0aXZlIHdpdGggd2hpY2ggd2Ugd2FudCB0byB2aWV3IHRoZVxyXG4gICAgICAgIC8vIHNjZW5lLiBPdXIgZmllbGQgb2YgdmlldyBpcyA0NSBkZWdyZWVzLCB3aXRoIGEgd2lkdGgvaGVpZ2h0XHJcbiAgICAgICAgLy8gcmF0aW8gb2YgNjQwOjQ4MCwgYW5kIHdlIG9ubHkgd2FudCB0byBzZWUgb2JqZWN0cyBiZXR3ZWVuIDAuMSB1bml0c1xyXG4gICAgICAgIC8vIGFuZCAxMDAgdW5pdHMgYXdheSBmcm9tIHRoZSBjYW1lcmEuXHJcblxyXG4gICAgICAgIHRoaXMucGVyc3BlY3RpdmVNYXRyaXggPSBtYWtlUGVyc3BlY3RpdmUoNDUsIDEsIDAuMSwgMTAwLjApO1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGRyYXdpbmcgcG9zaXRpb24gdG8gdGhlICdpZGVudGl0eScgcG9pbnQsIHdoaWNoIGlzXHJcbiAgICAgICAgLy8gdGhlIGNlbnRlciBvZiB0aGUgc2NlbmUuXHJcbiAgICAgICAgdGhpcy5tdklkZW50aXR5KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdyBtb3ZlIHRoZSBkcmF3aW5nIHBvc2l0aW9uIGEgYml0IHRvIHdoZXJlIHdlIHdhbnQgdG8gc3RhcnRcclxuICAgICAgICAvLyBkcmF3aW5nIHRoZSBzcXVhcmUuXHJcbiAgICAgICAgdGhpcy5tdlRyYW5zbGF0ZShbMC4wLCAwLjAsIC0yLjRdKTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgY3ViZSBieSBiaW5kaW5nIHRoZSBhcnJheSBidWZmZXIgdG8gdGhlIGN1YmUncyB2ZXJ0aWNlc1xyXG4gICAgICAgIC8vIGFycmF5LCBzZXR0aW5nIGF0dHJpYnV0ZXMsIGFuZCBwdXNoaW5nIGl0IHRvIEdMLlxyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnF1YWRWUEJ1ZmZlciBhcyBXZWJHTEJ1ZmZlcik7XHJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlIGFzIG51bWJlciwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGF0dHJpYnV0ZSBmb3IgdGhlIHZlcnRpY2VzLlxyXG5cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5xdWFkVlRDQnVmZmVyIGFzIFdlYkdMQnVmZmVyKTtcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMudGV4dHVyZUNvb3JkQXR0cmlidXRlIGFzIG51bWJlciwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbkluaXRTY2VuZVRleHR1cmVzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TWF0cml4VW5pZm9ybXMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVidWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdW5kIEZyYW1lIEJ1ZmZlcicpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZnJhbWVidWZmZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ1dlYkdMQ2FudmFzIFNpemU6ICcgKyB0aGlzLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNoZWNrTGFzdEVycm9yKG9wZXJhdGlvbjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdsIHx8ICF0aGlzLmdsTmFtZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlcnIgPSB0aGlzLmdsLmdldEVycm9yKCk7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdGhpcy5nbC5OT19FUlJPUikge1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuZ2xOYW1lc1tlcnJdO1xyXG4gICAgICAgICAgICBuYW1lID0gKG5hbWUgIT09IHVuZGVmaW5lZCkgPyBuYW1lICsgJygnICsgZXJyICsgJyknIDpcclxuICAgICAgICAgICAgICAgICgnVW5rbm93biBXZWJHTCBFTlVNICgweCcgKyBlcnIudG9TdHJpbmcoMTYpICsgJyknKTtcclxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYkdMIEVycm9yOiAlcywgJXMnLCBvcGVyYXRpb24sIG5hbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYkdMIEVycm9yOiAlcycsIG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uSW5pdFdlYkdMKCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7XHJcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWVcclxuICAgICAgICAgICAgfSkgYXMgV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmdsKSB7XHJcbiAgICAgICAgICAgIGVycm9yKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTC4gWW91ciBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nbE5hbWVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nbE5hbWVzID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgaW4gdGhpcy5nbCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nbC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICh0aGlzLmdsIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPilbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbE5hbWVzW3ZhbHVlXSA9IHByb3BlcnR5TmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Jbml0U2hhZGVycygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgaWYgKCFnbCkge1xyXG4gICAgICAgICAgICBlcnJvcihgZ2wgdHlwZSBpcyAke3R5cGVvZiBnbH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbShnbCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtLmF0dGFjaChuZXcgU2hhZGVyKGdsLCBXZWJHTENhbnZhcy52ZXJ0ZXhTaGFkZXJTY3JpcHQpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0uYXR0YWNoKG5ldyBTaGFkZXIoZ2wsIFdlYkdMQ2FudmFzLmZyYWdtZW50U2hhZGVyU2NyaXB0KSk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtLmxpbmsoKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0udXNlKCk7XHJcbiAgICAgICAgdGhpcy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSA9IHRoaXMucHJvZ3JhbS5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYVZlcnRleFBvc2l0aW9uJyk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSBhcyBudW1iZXIpO1xyXG4gICAgICAgIHRoaXMudGV4dHVyZUNvb3JkQXR0cmlidXRlID0gdGhpcy5wcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhVGV4dHVyZUNvb3JkJyk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUgYXMgbnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Jbml0VGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdsIHR5cGUgaXMgJHt0eXBlb2YgZ2x9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoZ2wsIHRoaXMuc2l6ZSwgZ2wuUkdCQSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uSW5pdFNjZW5lVGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcclxuICAgICAgICAgICAgZXJyb3IoYHRleHR1cmUgdHlwZSBpcyAke3R5cGVvZiB0aGlzLnRleHR1cmV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgZXJyb3IoYHByb2dyYW0gdHlwZSBpcyAke3R5cGVvZiB0aGlzLnRleHR1cmV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoMCwgdGhpcy5wcm9ncmFtLCAndGV4dHVyZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBkcmF3U2NlbmUoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdsIHR5cGUgaXMgJHt0eXBlb2YgZ2x9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRQaXhlbHMoYnVmZmVyOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgZXJyb3IoYGdsIHR5cGUgaXMgJHt0eXBlb2YgZ2x9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2wucmVhZFBpeGVscygwLCAwLCB0aGlzLnNpemUudywgdGhpcy5zaXplLmgsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGJ1ZmZlcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNpemUgZnJvbSAnLi91dGlscy9TaXplJztcclxuaW1wb3J0IENhbnZhcyBmcm9tICcuL0NhbnZhcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBZVVZDYW52YXMgZXh0ZW5kcyBDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXNDdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgY2FudmFzQnVmZmVyOiBJbWFnZURhdGE7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgcmVhZG9ubHkgc2l6ZTogU2l6ZSkge1xyXG4gICAgICAgIHN1cGVyKGNhbnZhcywgc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlciA9IHRoaXMuY2FudmFzQ3R4LmNyZWF0ZUltYWdlRGF0YShzaXplLncsIHNpemUuaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbHVtYVNpemUgPSB3aWR0aCAqIGhlaWdodDtcclxuICAgICAgICBjb25zdCBjaHJvbWFTaXplID0gbHVtYVNpemUgPj4gMjtcclxuXHJcbiAgICAgICAgY29uc3QgeWJ1ZiA9IGJ1ZmZlci5zdWJhcnJheSgwLCBsdW1hU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdWJ1ZiA9IGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSwgbHVtYVNpemUgKyBjaHJvbWFTaXplKTtcclxuICAgICAgICBjb25zdCB2YnVmID0gYnVmZmVyLnN1YmFycmF5KGx1bWFTaXplICsgY2hyb21hU2l6ZSwgbHVtYVNpemUgKyAyICogY2hyb21hU2l6ZSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5SW5kZXggPSB4ICsgeSAqIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdUluZGV4ID0gfn4oeSAvIDIpICogfn4od2lkdGggLyAyKSArIH5+KHggLyAyKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZJbmRleCA9IH5+KHkgLyAyKSAqIH5+KHdpZHRoIC8gMikgKyB+fih4IC8gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBSID0gMS4xNjQgKiAoeWJ1Zlt5SW5kZXhdIC0gMTYpICsgMS41OTYgKiAodmJ1Zlt2SW5kZXhdIC0gMTI4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEcgPSAxLjE2NCAqICh5YnVmW3lJbmRleF0gLSAxNikgLSAwLjgxMyAqICh2YnVmW3ZJbmRleF0gLSAxMjgpIC0gMC4zOTEgKiAodWJ1Zlt1SW5kZXhdIC0gMTI4KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEIgPSAxLjE2NCAqICh5YnVmW3lJbmRleF0gLSAxNikgKyAyLjAxOCAqICh1YnVmW3VJbmRleF0gLSAxMjgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJnYkluZGV4ID0geUluZGV4ICogNDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQnVmZmVyLmRhdGFbcmdiSW5kZXggKyAwXSA9IFI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlci5kYXRhW3JnYkluZGV4ICsgMV0gPSBHO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNCdWZmZXIuZGF0YVtyZ2JJbmRleCArIDJdID0gQjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQnVmZmVyLmRhdGFbcmdiSW5kZXggKyAzXSA9IDB4ZmY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4LnB1dEltYWdlRGF0YSh0aGlzLmNhbnZhc0J1ZmZlciwgMCwgMCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdXU0F2Y1BsYXllcjogRGVjb2RlIHRpbWU6ICcgKyAoZGF0ZS5nZXRUaW1lKCkgLSB0aGlzLnJjdnRpbWUpICsgJyBtcycpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBXZWJHTENhbnZhcyBmcm9tICcuL1dlYkdMQ2FudmFzJztcclxuaW1wb3J0IFNpemUgZnJvbSAnLi91dGlscy9TaXplJztcclxuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi9Qcm9ncmFtJztcclxuaW1wb3J0IFNoYWRlciBmcm9tICcuL1NoYWRlcic7XHJcbmltcG9ydCBTY3JpcHQgZnJvbSAnLi9TY3JpcHQnO1xyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL1RleHR1cmUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWVVWV2ViR0xDYW52YXMgZXh0ZW5kcyBXZWJHTENhbnZhcyB7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHZlcnRleFNoYWRlclNjcmlwdDogU2NyaXB0ID0gU2NyaXB0LmNyZWF0ZUZyb21Tb3VyY2UoJ3gtc2hhZGVyL3gtdmVydGV4JywgYFxyXG4gICAgICBhdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XHJcbiAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XHJcbiAgICAgIHVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcclxuICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XHJcbiAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xyXG4gICAgICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xyXG4gICAgICB9XHJcbiAgICBgKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGZyYWdtZW50U2hhZGVyU2NyaXB0OiBTY3JpcHQgPSBTY3JpcHQuY3JlYXRlRnJvbVNvdXJjZSgneC1zaGFkZXIveC1mcmFnbWVudCcsIGBcclxuICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xyXG4gICAgICB2YXJ5aW5nIGhpZ2hwIHZlYzIgdlRleHR1cmVDb29yZDtcclxuICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgWVRleHR1cmU7XHJcbiAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIFVUZXh0dXJlO1xyXG4gICAgICB1bmlmb3JtIHNhbXBsZXIyRCBWVGV4dHVyZTtcclxuICAgICAgY29uc3QgbWF0NCBZVVYyUkdCID0gbWF0NFxyXG4gICAgICAoXHJcbiAgICAgICAxLjE2NDM4MjgxMjUsIDAsIDEuNTk2MDI3MzQzNzUsIC0uODcwNzg1MTU2MjUsXHJcbiAgICAgICAxLjE2NDM4MjgxMjUsIC0uMzkxNzYxNzE4NzUsIC0uODEyOTY4NzUsIC41Mjk1OTM3NSxcclxuICAgICAgIDEuMTY0MzgyODEyNSwgMi4wMTcyMzQzNzUsIDAsIC0xLjA4MTM5MDYyNSxcclxuICAgICAgIDAsIDAsIDAsIDFcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KFxyXG4gICAgICAgICB0ZXh0dXJlMkQoWVRleHR1cmUsICB2VGV4dHVyZUNvb3JkKS54LFxyXG4gICAgICAgICB0ZXh0dXJlMkQoVVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpLngsXHJcbiAgICAgICAgIHRleHR1cmUyRChWVGV4dHVyZSwgdlRleHR1cmVDb29yZCkueCxcclxuICAgICAgICAgMVxyXG4gICAgICAgKSAqIFlVVjJSR0I7XHJcbiAgICAgIH1gKTtcclxuXHJcbiAgICBwcml2YXRlIFlUZXh0dXJlPzogVGV4dHVyZTtcclxuICAgIHByaXZhdGUgVVRleHR1cmU/OiBUZXh0dXJlO1xyXG4gICAgcHJpdmF0ZSBWVGV4dHVyZT86IFRleHR1cmU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgcmVhZG9ubHkgc2l6ZTogU2l6ZSkge1xyXG4gICAgICAgIHN1cGVyKGNhbnZhcywgc2l6ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkluaXRTaGFkZXJzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5nbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMuZ2wpO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbS5hdHRhY2gobmV3IFNoYWRlcih0aGlzLmdsLCBZVVZXZWJHTENhbnZhcy52ZXJ0ZXhTaGFkZXJTY3JpcHQpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0uYXR0YWNoKG5ldyBTaGFkZXIodGhpcy5nbCwgWVVWV2ViR0xDYW52YXMuZnJhZ21lbnRTaGFkZXJTY3JpcHQpKTtcclxuICAgICAgICB0aGlzLnByb2dyYW0ubGluaygpO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbS51c2UoKTtcclxuICAgICAgICB0aGlzLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlID0gdGhpcy5wcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhVmVydGV4UG9zaXRpb24nKTtcclxuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudmVydGV4UG9zaXRpb25BdHRyaWJ1dGUgYXMgbnVtYmVyKTtcclxuICAgICAgICB0aGlzLnRleHR1cmVDb29yZEF0dHJpYnV0ZSA9IHRoaXMucHJvZ3JhbS5nZXRBdHRyaWJ1dGVMb2NhdGlvbignYVRleHR1cmVDb29yZCcpO1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy50ZXh0dXJlQ29vcmRBdHRyaWJ1dGUgYXMgbnVtYmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25Jbml0VGV4dHVyZXMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ZVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZ2wsIHRoaXMuc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5VVGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZ2wsIHRoaXMuc2l6ZS5nZXRIYWxmU2l6ZSgpKTtcclxuICAgICAgICB0aGlzLlZUZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5nbCwgdGhpcy5zaXplLmdldEhhbGZTaXplKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkluaXRTY2VuZVRleHR1cmVzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLllUZXh0dXJlIHx8ICF0aGlzLlVUZXh0dXJlIHx8ICF0aGlzLlZUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ZVGV4dHVyZS5iaW5kKDAsIHRoaXMucHJvZ3JhbSwgJ1lUZXh0dXJlJyk7XHJcbiAgICAgICAgdGhpcy5VVGV4dHVyZS5iaW5kKDEsIHRoaXMucHJvZ3JhbSwgJ1VUZXh0dXJlJyk7XHJcbiAgICAgICAgdGhpcy5WVGV4dHVyZS5iaW5kKDIsIHRoaXMucHJvZ3JhbSwgJ1ZUZXh0dXJlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGZpbGxZVVZUZXh0dXJlcyh5OiBVaW50OEFycmF5LCB1OiBVaW50OEFycmF5LCB2OiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLllUZXh0dXJlIHx8ICF0aGlzLlVUZXh0dXJlIHx8ICF0aGlzLlZUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ZVGV4dHVyZS5maWxsKHkpO1xyXG4gICAgICAgIHRoaXMuVVRleHR1cmUuZmlsbCh1KTtcclxuICAgICAgICB0aGlzLlZUZXh0dXJlLmZpbGwodik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmICghYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLllUZXh0dXJlIHx8ICF0aGlzLlVUZXh0dXJlIHx8ICF0aGlzLlZUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGx1bWFTaXplID0gd2lkdGggKiBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY2hyb21hU2l6ZSA9IGx1bWFTaXplID4+IDI7XHJcbiAgICAgICAgdGhpcy5maWxsWVVWVGV4dHVyZXMoXHJcbiAgICAgICAgICAgIGJ1ZmZlci5zdWJhcnJheSgwLCBsdW1hU2l6ZSksXHJcbiAgICAgICAgICAgIGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSwgbHVtYVNpemUgKyBjaHJvbWFTaXplKSxcclxuICAgICAgICAgICAgYnVmZmVyLnN1YmFycmF5KGx1bWFTaXplICsgY2hyb21hU2l6ZSwgbHVtYVNpemUgKyAyICogY2hyb21hU2l6ZSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnWVVWQ2FudmFzIFNpemU6ICcgKyB0aGlzLnNpemU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGVycm9yIGZyb20gJy4vZXJyb3InO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbjogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgICAgIGVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbn1cclxuIiwiLy8gQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBNYXRyaXgsIFZlY3RvciB9IGZyb20gJ3N5bHZlc3Rlci5qcyc7XHJcblxyXG5jb25zdCAkTSA9IE1hdHJpeC5jcmVhdGU7XHJcblxyXG4vLyBhdWdtZW50IFN5bHZlc3RlciBzb21lXHJcbk1hdHJpeC5UcmFuc2xhdGlvbiA9IGZ1bmN0aW9uKHY6IE1hdHJpeCk6IE1hdHJpeCB7XHJcbiAgICBpZiAodi5lbGVtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBjb25zdCByID0gTWF0cml4LkkoMyk7XHJcbiAgICAgICAgci5lbGVtZW50c1syXVswXSA9IHYuZWxlbWVudHNbMF07XHJcbiAgICAgICAgci5lbGVtZW50c1syXVsxXSA9IHYuZWxlbWVudHNbMV07XHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHYuZWxlbWVudHMubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgY29uc3QgciA9IE1hdHJpeC5JKDQpO1xyXG4gICAgICAgIHIuZWxlbWVudHNbMF1bM10gPSB2LmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIHIuZWxlbWVudHNbMV1bM10gPSB2LmVsZW1lbnRzWzFdO1xyXG4gICAgICAgIHIuZWxlbWVudHNbMl1bM10gPSB2LmVsZW1lbnRzWzJdO1xyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93IEVycm9yKCdJbnZhbGlkIGxlbmd0aCBmb3IgVHJhbnNsYXRpb24nKTtcclxufTtcclxuXHJcbk1hdHJpeC5wcm90b3R5cGUuZmxhdHRlbiA9IGZ1bmN0aW9uKCk6IG51bWJlcltdIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgLyogdHNsaW50OmRpc2FibGU6IG5vLWludmFsaWQtdGhpcyBwcmVmZXItZm9yLW9mICovXHJcbiAgICBpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZWxlbWVudHNbaV1bal0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qIHRzbGludDplbmFibGUgKi9cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5NYXRyaXgucHJvdG90eXBlLmVuc3VyZTR4NCA9IGZ1bmN0aW9uKCk6IE1hdHJpeCB8IG51bGwge1xyXG4gICAgLyogdHNsaW50OmRpc2FibGU6IG5vLWludmFsaWQtdGhpcyAqL1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID09PSA0ICYmIHRoaXMuZWxlbWVudHNbMF0ubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID4gNCB8fCB0aGlzLmVsZW1lbnRzWzBdLmxlbmd0aCA+IDQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5lbGVtZW50c1tpXS5sZW5ndGg7IGogPCA0OyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IGopIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0ucHVzaCgxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0ucHVzaCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2goWzEsIDAsIDAsIDBdKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKFswLCAxLCAwLCAwXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpID09PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMucHVzaChbMCwgMCwgMSwgMF0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2goWzAsIDAsIDAsIDFdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXHJcbn07XHJcblxyXG5WZWN0b3IucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbigpOiBudW1iZXJbXSB7XHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTogbm8taW52YWxpZC10aGlzICovXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50cztcclxuICAgIC8qIHRzbGludDplbmFibGUgKi9cclxufTtcclxuXHJcbi8vXHJcbi8vIGdsdVBlcnNwZWN0aXZlXHJcbi8vXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGVyc3BlY3RpdmUoZm92eTogbnVtYmVyLCBhc3BlY3Q6IG51bWJlciwgem5lYXI6IG51bWJlciwgemZhcjogbnVtYmVyKTogTWF0cml4IHtcclxuICAgIGNvbnN0IHltYXggPSB6bmVhciAqIE1hdGgudGFuKGZvdnkgKiBNYXRoLlBJIC8gMzYwLjApO1xyXG4gICAgY29uc3QgeW1pbiA9IC15bWF4O1xyXG4gICAgY29uc3QgeG1pbiA9IHltaW4gKiBhc3BlY3Q7XHJcbiAgICBjb25zdCB4bWF4ID0geW1heCAqIGFzcGVjdDtcclxuXHJcbiAgICByZXR1cm4gbWFrZUZydXN0dW0oeG1pbiwgeG1heCwgeW1pbiwgeW1heCwgem5lYXIsIHpmYXIpO1xyXG59XHJcblxyXG4vL1xyXG4vLyBnbEZydXN0dW1cclxuLy9cclxuZnVuY3Rpb24gbWFrZUZydXN0dW0obGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICBib3R0b206IG51bWJlciwgdG9wOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgIHpuZWFyOiBudW1iZXIsIHpmYXI6IG51bWJlcik6IE1hdHJpeCB7XHJcbiAgICBjb25zdCBYID0gMiAqIHpuZWFyIC8gKHJpZ2h0IC0gbGVmdCk7XHJcbiAgICBjb25zdCBZID0gMiAqIHpuZWFyIC8gKHRvcCAtIGJvdHRvbSk7XHJcbiAgICBjb25zdCBBID0gKHJpZ2h0ICsgbGVmdCkgLyAocmlnaHQgLSBsZWZ0KTtcclxuICAgIGNvbnN0IEIgPSAodG9wICsgYm90dG9tKSAvICh0b3AgLSBib3R0b20pO1xyXG4gICAgY29uc3QgQyA9IC0oemZhciArIHpuZWFyKSAvICh6ZmFyIC0gem5lYXIpO1xyXG4gICAgY29uc3QgRCA9IC0yICogemZhciAqIHpuZWFyIC8gKHpmYXIgLSB6bmVhcik7XHJcblxyXG4gICAgcmV0dXJuICRNKFtbWCwgMCwgQSwgMF0sXHJcbiAgICAgICAgWzAsIFksIEIsIDBdLFxyXG4gICAgICAgIFswLCAwLCBDLCBEXSxcclxuICAgICAgICBbMCwgMCwgLTEsIDBdXSk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQ2FudmFzIHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByZWFkb25seSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7fVxyXG4gICAgcHVibGljIGFic3RyYWN0IGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcclxufVxyXG4iLCIvKipcclxuICogUmVwcmVzZW50cyBhIFdlYkdMIHNoYWRlciBvYmplY3QgYW5kIHByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGxvYWQgc2hhZGVycyBmcm9tIEhUTUxcclxuICogc2NyaXB0IHRhZ3MuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyQ29tcGlsZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1nbFxyXG4gICAgICogQHBhcmFtIHt7dHlwZTogc3RyaW5nLCBzb3VyY2U6IHN0cmluZ319c2NyaXB0XHJcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNvbXBpbGUoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2NyaXB0OiB7IHR5cGU6IHN0cmluZzsgc291cmNlOiBzdHJpbmcgfSk6IFdlYkdMU2hhZGVyIHwgbnVsbCB7XHJcbiAgICAgICAgbGV0IHNoYWRlcjogV2ViR0xTaGFkZXIgfCBudWxsO1xyXG4gICAgICAgIC8vIE5vdyBmaWd1cmUgb3V0IHdoYXQgdHlwZSBvZiBzaGFkZXIgc2NyaXB0IHdlIGhhdmUsIGJhc2VkIG9uIGl0cyBNSU1FIHR5cGUuXHJcbiAgICAgICAgaWYgKHNjcmlwdC50eXBlID09PSAneC1zaGFkZXIveC1mcmFnbWVudCcpIHtcclxuICAgICAgICAgICAgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY3JpcHQudHlwZSA9PT0gJ3gtc2hhZGVyL3gtdmVydGV4Jykge1xyXG4gICAgICAgICAgICBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNoYWRlciB0eXBlOiAnICsgc2NyaXB0LnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNoYWRlcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2hhZGVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZW5kIHRoZSBzb3VyY2UgdG8gdGhlIHNoYWRlciBvYmplY3QuXHJcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2NyaXB0LnNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgICAgICAgLy8gU2VlIGlmIGl0IGNvbXBpbGVkIHN1Y2Nlc3NmdWxseS5cclxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIGNvbXBpbGluZyB0aGUgc2hhZGVyczogJyArIGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRlclByb2dyYW0ge1xyXG4gICAgcHVibGljIHByb2dyYW06IFdlYkdMUHJvZ3JhbSB8IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fWdsXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlcn1zaGFkZXJcclxuICAgICAqL1xyXG4gICAgYXR0YWNoKHNoYWRlcjogV2ViR0xTaGFkZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZ3JhbSB0eXBlIGlzICR7dHlwZW9mIHRoaXMucHJvZ3JhbX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBzaGFkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbmsoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFByb2dyYW0gdHlwZSBpcyAke3R5cGVvZiB0aGlzLnByb2dyYW19YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuICAgICAgICAvLyBJZiBjcmVhdGluZyB0aGUgc2hhZGVyIHByb2dyYW0gZmFpbGVkLCBhbGVydC5cclxuICAgICAgICBpZiAoIXRoaXMuZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIHRoaXMuZ2wuTElOS19TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBpbml0aWFsaXplIHRoZSBzaGFkZXIgcHJvZ3JhbS4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9bmFtZVxyXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXRBdHRyaWJ1dGVMb2NhdGlvbihuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9ncmFtIHR5cGUgaXMgJHt0eXBlb2YgdGhpcy5wcm9ncmFtfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9bmFtZVxyXG4gICAgICogQHJldHVybiB7V2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsfVxyXG4gICAgICovXHJcbiAgICBnZXRVbmlmb3JtTG9jYXRpb24obmFtZTogc3RyaW5nKTogV2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZ3JhbSB0eXBlIGlzICR7dHlwZW9mIHRoaXMucHJvZ3JhbX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1dlYkdMVW5pZm9ybUxvY2F0aW9ufXVuaWZvcm1Mb2NhdGlvblxyXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXI+fWFycmF5XHJcbiAgICAgKi9cclxuICAgIHNldFVuaWZvcm1NNCh1bmlmb3JtTG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uLCBhcnJheTogbnVtYmVyW10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybUxvY2F0aW9uLCBmYWxzZSwgYXJyYXkpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAdHlwZSB7e3R5cGU6IHN0cmluZywgc291cmNlOiBzdHJpbmd9fVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHZlcnRleFF1YWQgPSB7XHJcbiAgICB0eXBlOiAneC1zaGFkZXIveC12ZXJ0ZXgnLFxyXG4gICAgc291cmNlOiBgXHJcbiAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XHJcblxyXG4gIHVuaWZvcm0gbWF0NCB1X3Byb2plY3Rpb247XHJcbiAgYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcclxuICBhdHRyaWJ1dGUgdmVjMiBhX3RleENvb3JkO1xyXG4gIHZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG4gIHZvaWQgbWFpbigpe1xyXG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcclxuICAgICAgZ2xfUG9zaXRpb24gPSB1X3Byb2plY3Rpb24gKiB2ZWM0KGFfcG9zaXRpb24sIDAuMCwgMS4wKTtcclxuICB9XHJcbmAsXHJcbn07XHJcblxyXG4vKipcclxuICogQHR5cGUge3t0eXBlOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nfX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBmcmFnbWVudFlVViA9IHtcclxuICAgIHR5cGU6ICd4LXNoYWRlci94LWZyYWdtZW50JyxcclxuICAgIHNvdXJjZTogYFxyXG4gIHByZWNpc2lvbiBsb3dwIGZsb2F0O1xyXG4gIFxyXG4gIHZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG4gIFxyXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHlUZXh0dXJlO1xyXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xyXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHZUZXh0dXJlO1xyXG4gICAgXHJcbiAgY29uc3QgbWF0NCBjb252ZXJzaW9uID0gbWF0NChcclxuICAgIDEuMCwgICAgIDAuMCwgICAgIDEuNDAyLCAgLTAuNzAxLFxyXG4gICAgMS4wLCAgICAtMC4zNDQsICAtMC43MTQsICAgMC41MjksXHJcbiAgICAxLjAsICAgICAxLjc3MiwgICAwLjAsICAgIC0wLjg4NixcclxuICAgIDAuMCwgICAgIDAuMCwgICAgIDAuMCwgICAgIDAuMFxyXG4gICk7XHJcblxyXG4gIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICBmbG9hdCB5Q2hhbm5lbCA9IHRleHR1cmUyRCh5VGV4dHVyZSwgdl90ZXhDb29yZCkueDtcclxuICAgIGZsb2F0IHVDaGFubmVsID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2X3RleENvb3JkKS54O1xyXG4gICAgZmxvYXQgdkNoYW5uZWwgPSB0ZXh0dXJlMkQodlRleHR1cmUsIHZfdGV4Q29vcmQpLng7XHJcbiAgICB2ZWM0IGNoYW5uZWxzID0gdmVjNCh5Q2hhbm5lbCwgdUNoYW5uZWwsIHZDaGFubmVsLCAxLjApO1xyXG4gICAgdmVjMyByZ2IgPSAoY2hhbm5lbHMgKiBjb252ZXJzaW9uKS54eXo7XHJcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgMS4wKTtcclxuICB9XHJcbmAsXHJcbn07XHJcbiIsImltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWVVWQ2FudmFzIGV4dGVuZHMgQ2FudmFzIHtcclxuICAgIHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIGNhbnZhc0J1ZmZlcjogSW1hZ2VEYXRhIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKGNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhc0J1ZmZlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlciA9IHRoaXMuY2FudmFzQ3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGx1bWFTaXplID0gd2lkdGggKiBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY2hyb21hU2l6ZSA9IGx1bWFTaXplID4+IDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHlidWYgPSBidWZmZXIuc3ViYXJyYXkoMCwgbHVtYVNpemUpO1xyXG4gICAgICAgIGNvbnN0IHVidWYgPSBidWZmZXIuc3ViYXJyYXkobHVtYVNpemUsIGx1bWFTaXplICsgY2hyb21hU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdmJ1ZiA9IGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSArIGNocm9tYVNpemUsIGx1bWFTaXplICsgMiAqIGNocm9tYVNpemUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeUluZGV4ID0geCArIHkgKiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVJbmRleCA9IH5+KHkgLyAyKSAqIH5+KHdpZHRoIC8gMikgKyB+fih4IC8gMik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2SW5kZXggPSB+fih5IC8gMikgKiB+fih3aWR0aCAvIDIpICsgfn4oeCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgUiA9IDEuMTY0ICogKHlidWZbeUluZGV4XSAtIDE2KSArIDEuNTk2ICogKHZidWZbdkluZGV4XSAtIDEyOCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBHID0gMS4xNjQgKiAoeWJ1Zlt5SW5kZXhdIC0gMTYpIC0gMC44MTMgKiAodmJ1Zlt2SW5kZXhdIC0gMTI4KSAtIDAuMzkxICogKHVidWZbdUluZGV4XSAtIDEyOCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBCID0gMS4xNjQgKiAoeWJ1Zlt5SW5kZXhdIC0gMTYpICsgMi4wMTggKiAodWJ1Zlt1SW5kZXhdIC0gMTI4KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZ2JJbmRleCA9IHlJbmRleCAqIDQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlci5kYXRhW3JnYkluZGV4ICsgMF0gPSBSO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNCdWZmZXIuZGF0YVtyZ2JJbmRleCArIDFdID0gRztcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQnVmZmVyLmRhdGFbcmdiSW5kZXggKyAyXSA9IEI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0J1ZmZlci5kYXRhW3JnYkluZGV4ICsgM10gPSAweGZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNhbnZhc0N0eC5wdXRJbWFnZURhdGEodGhpcy5jYW52YXNCdWZmZXIsIDAsIDApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBTaGFkZXJQcm9ncmFtIGZyb20gJy4vU2hhZGVyUHJvZ3JhbSc7XHJcbmltcG9ydCBTaGFkZXJDb21waWxlciBmcm9tICcuL1NoYWRlckNvbXBpbGVyJztcclxuaW1wb3J0IHsgZnJhZ21lbnRZVVYsIHZlcnRleFF1YWQgfSBmcm9tICcuL1NoYWRlclNvdXJjZXMnO1xyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9oMjY0LWxpdmUtcGxheWVyL1RleHR1cmUnO1xyXG5cclxudHlwZSBTaGFkZXJBcmd1bWVudHMgPSB7XHJcbiAgICB5VGV4dHVyZTogV2ViR0xVbmlmb3JtTG9jYXRpb24gfCBudWxsO1xyXG4gICAgdVRleHR1cmU6IFdlYkdMVW5pZm9ybUxvY2F0aW9uIHwgbnVsbDtcclxuICAgIHZUZXh0dXJlOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiB8IG51bGw7XHJcbiAgICB1X3Byb2plY3Rpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uIHwgbnVsbDtcclxuICAgIGFfcG9zaXRpb246IG51bWJlcjtcclxuICAgIGFfdGV4Q29vcmQ6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlVVlN1cmZhY2VTaGFkZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsXHJcbiAgICAgKiBAcmV0dXJucyB7WVVWU3VyZmFjZVNoYWRlcn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogWVVWU3VyZmFjZVNoYWRlciB7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMuX2luaXRTaGFkZXJzKGdsKTtcclxuICAgICAgICBjb25zdCBzaGFkZXJBcmdzID0gdGhpcy5faW5pdFNoYWRlckFyZ3MoZ2wsIHByb2dyYW0pO1xyXG4gICAgICAgIGNvbnN0IHZlcnRleEJ1ZmZlciA9IHRoaXMuX2luaXRCdWZmZXJzKGdsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBZVVZTdXJmYWNlU2hhZGVyKGdsLCB2ZXJ0ZXhCdWZmZXIgYXMgV2ViR0xCdWZmZXIsIHNoYWRlckFyZ3MsIHByb2dyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfaW5pdFNoYWRlcnMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk6IFNoYWRlclByb2dyYW0ge1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgU2hhZGVyUHJvZ3JhbShnbCk7XHJcbiAgICAgICAgcHJvZ3JhbS5hdHRhY2goU2hhZGVyQ29tcGlsZXIuY29tcGlsZShnbCwgdmVydGV4UXVhZCkgYXMgV2ViR0xTaGFkZXIpO1xyXG4gICAgICAgIHByb2dyYW0uYXR0YWNoKFNoYWRlckNvbXBpbGVyLmNvbXBpbGUoZ2wsIGZyYWdtZW50WVVWKSBhcyBXZWJHTFNoYWRlcik7XHJcbiAgICAgICAgcHJvZ3JhbS5saW5rKCk7XHJcbiAgICAgICAgcHJvZ3JhbS51c2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIF9pbml0U2hhZGVyQXJncyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBwcm9ncmFtOiBTaGFkZXJQcm9ncmFtKTogU2hhZGVyQXJndW1lbnRzIHtcclxuICAgICAgICAvLyBmaW5kIHNoYWRlciBhcmd1bWVudHNcclxuICAgICAgICBjb25zdCBzaGFkZXJBcmdzOiBTaGFkZXJBcmd1bWVudHMgPSB7XHJcbiAgICAgICAgICAgIHlUZXh0dXJlOiBwcm9ncmFtLmdldFVuaWZvcm1Mb2NhdGlvbigneVRleHR1cmUnKSxcclxuICAgICAgICAgICAgdVRleHR1cmU6IHByb2dyYW0uZ2V0VW5pZm9ybUxvY2F0aW9uKCd1VGV4dHVyZScpLFxyXG4gICAgICAgICAgICB2VGV4dHVyZTogcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3ZUZXh0dXJlJyksXHJcbiAgICAgICAgICAgIHVfcHJvamVjdGlvbjogcHJvZ3JhbS5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfcHJvamVjdGlvbicpLFxyXG4gICAgICAgICAgICBhX3Bvc2l0aW9uOiBwcm9ncmFtLmdldEF0dHJpYnV0ZUxvY2F0aW9uKCdhX3Bvc2l0aW9uJyksXHJcbiAgICAgICAgICAgIGFfdGV4Q29vcmQ6IHByb2dyYW0uZ2V0QXR0cmlidXRlTG9jYXRpb24oJ2FfdGV4Q29vcmQnKSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXJBcmdzLmFfcG9zaXRpb24pO1xyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlckFyZ3MuYV90ZXhDb29yZCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzaGFkZXJBcmdzO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBfaW5pdEJ1ZmZlcnMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCk6IFdlYkdMQnVmZmVyIHwgbnVsbCB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHZlcnRleCBidWZmZXIgb2JqZWN0LlxyXG4gICAgICAgIHJldHVybiBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICAgICAgcHJpdmF0ZSB2ZXJ0ZXhCdWZmZXI6IFdlYkdMQnVmZmVyLFxyXG4gICAgICAgIHByaXZhdGUgc2hhZGVyQXJnczogU2hhZGVyQXJndW1lbnRzLFxyXG4gICAgICAgIHByaXZhdGUgcHJvZ3JhbTogU2hhZGVyUHJvZ3JhbSxcclxuICAgICkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVZXHJcbiAgICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVVXHJcbiAgICAgKiBAcGFyYW0ge1RleHR1cmV9IHRleHR1cmVWXHJcbiAgICAgKi9cclxuICAgIHNldFRleHR1cmUodGV4dHVyZVk6IFRleHR1cmUsIHRleHR1cmVVOiBUZXh0dXJlLCB0ZXh0dXJlVjogVGV4dHVyZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuXHJcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy55VGV4dHVyZSwgMCk7XHJcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy51VGV4dHVyZSwgMSk7XHJcbiAgICAgICAgZ2wudW5pZm9ybTFpKHRoaXMuc2hhZGVyQXJncy52VGV4dHVyZSwgMik7XHJcblxyXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xyXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmVZLnRleHR1cmUpO1xyXG5cclxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcclxuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlVS50ZXh0dXJlKTtcclxuXHJcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMik7XHJcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZVYudGV4dHVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbS51c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7e3c6bnVtYmVyLCBoOm51bWJlcn19ZW5jb2RlZEZyYW1lU2l6ZVxyXG4gICAgICogQHBhcmFtIHt7bWF4WFRleENvb3JkOm51bWJlciwgbWF4WVRleENvb3JkOm51bWJlcn19IGgyNjRSZW5kZXJTdGF0ZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTaGFkZXJEYXRhKFxyXG4gICAgICAgIGVuY29kZWRGcmFtZVNpemU6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSxcclxuICAgICAgICBoMjY0UmVuZGVyU3RhdGU6IHsgbWF4WFRleENvb3JkOiBudW1iZXI7IG1heFlUZXhDb29yZDogbnVtYmVyIH0sXHJcbiAgICApOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7IHcsIGggfSA9IGVuY29kZWRGcmFtZVNpemU7XHJcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB3LCBoKTtcclxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAgICAgICB0aGlzLnByb2dyYW0uc2V0VW5pZm9ybU00KHRoaXMuc2hhZGVyQXJncy51X3Byb2plY3Rpb24gYXMgV2ViR0xVbmlmb3JtTG9jYXRpb24sIFtcclxuICAgICAgMi4wIC8gdywgMCwgMCwgMCxcclxuICAgICAgMCwgMi4wIC8gLWgsIDAsIDAsXHJcbiAgICAgIDAsIDAsIDEsIDAsXHJcbiAgICAgIC0xLCAxLCAwLCAxXHJcbiAgICBdKVxyXG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhCdWZmZXIpO1xyXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgICAgIC8vIEZpcnN0IHRyaWFuZ2xlXHJcbiAgICAgICAgICAgIC8vIHRvcCBsZWZ0OlxyXG4gICAgICAgICAgICAwLCAwLCAwLCAwLFxyXG4gICAgICAgICAgICAvLyB0b3AgcmlnaHQ6XHJcbiAgICAgICAgICAgIHcsIDAsIGgyNjRSZW5kZXJTdGF0ZS5tYXhYVGV4Q29vcmQsIDAsXHJcbiAgICAgICAgICAgIC8vIGJvdHRvbSByaWdodDpcclxuICAgICAgICAgICAgdywgaCwgaDI2NFJlbmRlclN0YXRlLm1heFhUZXhDb29yZCwgaDI2NFJlbmRlclN0YXRlLm1heFlUZXhDb29yZCxcclxuXHJcbiAgICAgICAgICAgIC8vIFNlY29uZCB0cmlhbmdsZVxyXG4gICAgICAgICAgICAvLyBib3R0b20gcmlnaHQ6XHJcbiAgICAgICAgICAgIHcsIGgsIGgyNjRSZW5kZXJTdGF0ZS5tYXhYVGV4Q29vcmQsIGgyNjRSZW5kZXJTdGF0ZS5tYXhZVGV4Q29vcmQsXHJcbiAgICAgICAgICAgIC8vIGJvdHRvbSBsZWZ0OlxyXG4gICAgICAgICAgICAwLCBoLCAwLCBoMjY0UmVuZGVyU3RhdGUubWF4WVRleENvb3JkLFxyXG4gICAgICAgICAgICAvLyB0b3AgbGVmdDpcclxuICAgICAgICAgICAgMCwgMCwgMCwgMFxyXG4gICAgICAgICAgXSksIHRoaXMuZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXJBcmdzLmFfcG9zaXRpb24sIDIsIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCAxNiwgMCk7XHJcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyQXJncy5hX3RleENvb3JkLCAyLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgMTYsIDgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUIHwgZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcclxuICAgICAgICBnbC5kcmF3QXJyYXlzKHRoaXMuZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDYpO1xyXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBiYXNlZCBvbiB0aW55aDI2NCBkZW1vOiBodHRwczovL2dpdGh1Yi5jb20vdWRldmJlL3RpbnloMjY0L3RyZWUvbWFzdGVyL2RlbW9cclxuICovXHJcblxyXG5pbXBvcnQgWVVWU3VyZmFjZVNoYWRlciBmcm9tICcuL1lVVlN1cmZhY2VTaGFkZXInO1xyXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9oMjY0LWxpdmUtcGxheWVyL1RleHR1cmUnO1xyXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vQ2FudmFzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlVVldlYkdMQ2FudmFzIGV4dGVuZHMgQ2FudmFzIHtcclxuICAgIHByaXZhdGUgeVRleHR1cmU6IFRleHR1cmU7XHJcbiAgICBwcml2YXRlIHVUZXh0dXJlOiBUZXh0dXJlO1xyXG4gICAgcHJpdmF0ZSB2VGV4dHVyZTogVGV4dHVyZTtcclxuICAgIHByaXZhdGUgeXV2U3VyZmFjZVNoYWRlcjogWVVWU3VyZmFjZVNoYWRlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoY2FudmFzKTtcclxuICAgICAgICBjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7XHJcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSxcclxuICAgICAgICB9KSBhcyBXZWJHTFJlbmRlcmluZ0NvbnRleHQgfCBudWxsO1xyXG4gICAgICAgIGlmICghZ2wpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTC4gWW91ciBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy55dXZTdXJmYWNlU2hhZGVyID0gWVVWU3VyZmFjZVNoYWRlci5jcmVhdGUoZ2wpO1xyXG4gICAgICAgIHRoaXMueVRleHR1cmUgPSBUZXh0dXJlLmNyZWF0ZShnbCwgZ2wuTFVNSU5BTkNFKTtcclxuICAgICAgICB0aGlzLnVUZXh0dXJlID0gVGV4dHVyZS5jcmVhdGUoZ2wsIGdsLkxVTUlOQU5DRSk7XHJcbiAgICAgICAgdGhpcy52VGV4dHVyZSA9IFRleHR1cmUuY3JlYXRlKGdsLCBnbC5MVU1JTkFOQ0UpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXksIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIHRoZSB3aWR0aCAmIGhlaWdodCByZXR1cm5lZCBhcmUgYWN0dWFsbHkgcGFkZGVkLCBzbyB3ZSBoYXZlIHRvIHVzZSB0aGUgZnJhbWUgc2l6ZSB0byBnZXQgdGhlIHJlYWwgaW1hZ2UgZGltZW5zaW9uXHJcbiAgICAgICAgLy8gd2hlbiB1cGxvYWRpbmcgdG8gdGV4dHVyZVxyXG4gICAgICAgIGNvbnN0IHN0cmlkZSA9IHdpZHRoOyAvLyBzdHJpZGVcclxuICAgICAgICAvLyBoZWlnaHQgaXMgcGFkZGVkIHdpdGggZmlsbGVyIHJvd3NcclxuXHJcbiAgICAgICAgLy8gaWYgd2Uga25ldyB0aGUgc2l6ZSBvZiB0aGUgdmlkZW8gYmVmb3JlIGVuY29kaW5nLCB3ZSBjb3VsZCBjdXQgb3V0IHRoZSBibGFjayBmaWxsZXIgcGl4ZWxzLiBXZSBkb24ndCwgc28ganVzdCBzZXRcclxuICAgICAgICAvLyBpdCB0byB0aGUgc2l6ZSBhZnRlciBlbmNvZGluZ1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc291cmNlSGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IG1heFhUZXhDb29yZCA9IHNvdXJjZVdpZHRoIC8gc3RyaWRlO1xyXG4gICAgICAgIGNvbnN0IG1heFlUZXhDb29yZCA9IHNvdXJjZUhlaWdodCAvIGhlaWdodDtcclxuXHJcbiAgICAgICAgY29uc3QgbHVtYVNpemUgPSBzdHJpZGUgKiBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY2hyb21hU2l6ZSA9IGx1bWFTaXplID4+IDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHlCdWZmZXIgPSBidWZmZXIuc3ViYXJyYXkoMCwgbHVtYVNpemUpO1xyXG4gICAgICAgIGNvbnN0IHVCdWZmZXIgPSBidWZmZXIuc3ViYXJyYXkobHVtYVNpemUsIGx1bWFTaXplICsgY2hyb21hU2l6ZSk7XHJcbiAgICAgICAgY29uc3QgdkJ1ZmZlciA9IGJ1ZmZlci5zdWJhcnJheShsdW1hU2l6ZSArIGNocm9tYVNpemUsIGx1bWFTaXplICsgMiAqIGNocm9tYVNpemUpO1xyXG5cclxuICAgICAgICBjb25zdCBjaHJvbWFIZWlnaHQgPSBoZWlnaHQgPj4gMTtcclxuICAgICAgICBjb25zdCBjaHJvbWFTdHJpZGUgPSBzdHJpZGUgPj4gMTtcclxuXHJcbiAgICAgICAgLy8gd2UgdXBsb2FkIHRoZSBlbnRpcmUgaW1hZ2UsIGluY2x1ZGluZyBzdHJpZGUgcGFkZGluZyAmIGZpbGxlciByb3dzLiBUaGUgYWN0dWFsIHZpc2libGUgaW1hZ2Ugd2lsbCBiZSBtYXBwZWRcclxuICAgICAgICAvLyBmcm9tIHRleHR1cmUgY29vcmRpbmF0ZXMgYXMgdG8gY3JvcCBvdXQgc3RyaWRlIHBhZGRpbmcgJiBmaWxsZXIgcm93cyB1c2luZyBtYXhYVGV4Q29vcmQgYW5kIG1heFlUZXhDb29yZC5cclxuXHJcbiAgICAgICAgdGhpcy55VGV4dHVyZS5pbWFnZTJkQnVmZmVyKHlCdWZmZXIsIHN0cmlkZSwgaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnVUZXh0dXJlLmltYWdlMmRCdWZmZXIodUJ1ZmZlciwgY2hyb21hU3RyaWRlLCBjaHJvbWFIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMudlRleHR1cmUuaW1hZ2UyZEJ1ZmZlcih2QnVmZmVyLCBjaHJvbWFTdHJpZGUsIGNocm9tYUhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMueXV2U3VyZmFjZVNoYWRlci5zZXRUZXh0dXJlKHRoaXMueVRleHR1cmUsIHRoaXMudVRleHR1cmUsIHRoaXMudlRleHR1cmUpO1xyXG4gICAgICAgIHRoaXMueXV2U3VyZmFjZVNoYWRlci51cGRhdGVTaGFkZXJEYXRhKHsgdzogd2lkdGgsIGg6IGhlaWdodCB9LCB7IG1heFhUZXhDb29yZCwgbWF4WVRleENvb3JkIH0pO1xyXG4gICAgICAgIHRoaXMueXV2U3VyZmFjZVNoYWRlci5kcmF3KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV29ya2VyX2ZuKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYnVuZGxlLndvcmtlci5qc1wiKTtcbn1cbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQXR0YWNoQWRkb249ZSgpOnQuQXR0YWNoQWRkb249ZSgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciByPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQobyxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MCl9KFtmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5BdHRhY2hBZGRvbj12b2lkIDA7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZGlzcG9zYWJsZXM9W10sdGhpcy5fc29ja2V0PXQsdGhpcy5fc29ja2V0LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMuX2JpZGlyZWN0aW9uYWw9IWV8fCExIT09ZS5iaWRpcmVjdGlvbmFsfXJldHVybiB0LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2Rpc3Bvc2FibGVzLnB1c2gocih0aGlzLl9zb2NrZXQsXCJtZXNzYWdlXCIsKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTt0LndyaXRlKFwic3RyaW5nXCI9PXR5cGVvZiBuP246bmV3IFVpbnQ4QXJyYXkobikpfSkpKSx0aGlzLl9iaWRpcmVjdGlvbmFsJiYodGhpcy5fZGlzcG9zYWJsZXMucHVzaCh0Lm9uRGF0YSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NlbmREYXRhKHQpfSkpKSx0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHQub25CaW5hcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zZW5kQmluYXJ5KHQpfSkpKSksdGhpcy5fZGlzcG9zYWJsZXMucHVzaChyKHRoaXMuX3NvY2tldCxcImNsb3NlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGlzcG9zZSgpfSkpKSx0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHIodGhpcy5fc29ja2V0LFwiZXJyb3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5kaXNwb3NlKCl9KSkpfSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGlzcG9zZSgpfSkpfSx0LnByb3RvdHlwZS5fc2VuZERhdGE9ZnVuY3Rpb24odCl7MT09PXRoaXMuX3NvY2tldC5yZWFkeVN0YXRlJiZ0aGlzLl9zb2NrZXQuc2VuZCh0KX0sdC5wcm90b3R5cGUuX3NlbmRCaW5hcnk9ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3NvY2tldC5yZWFkeVN0YXRlKXtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLG49MDtuPHQubGVuZ3RoOysrbillW25dPTI1NSZ0LmNoYXJDb2RlQXQobik7dGhpcy5fc29ja2V0LnNlbmQoZSl9fSx0fSgpO2Z1bmN0aW9uIHIodCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuKSx7ZGlzcG9zZTpmdW5jdGlvbigpe24mJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4pfX19ZS5BdHRhY2hBZGRvbj1vfV0pfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eHRlcm0tYWRkb24tYXR0YWNoLmpzLm1hcCIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRml0QWRkb249dCgpOmUuRml0QWRkb249dCgpfShzZWxmLChmdW5jdGlvbigpe3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs3NzU6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkZpdEFkZG9uPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGUpe3RoaXMuX3Rlcm1pbmFsPWV9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmZpdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcG9zZURpbWVuc2lvbnMoKTtpZihlJiZ0aGlzLl90ZXJtaW5hbCl7dmFyIHQ9dGhpcy5fdGVybWluYWwuX2NvcmU7dGhpcy5fdGVybWluYWwucm93cz09PWUucm93cyYmdGhpcy5fdGVybWluYWwuY29scz09PWUuY29sc3x8KHQuX3JlbmRlclNlcnZpY2UuY2xlYXIoKSx0aGlzLl90ZXJtaW5hbC5yZXNpemUoZS5jb2xzLGUucm93cykpfX0sZS5wcm90b3R5cGUucHJvcG9zZURpbWVuc2lvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXJtaW5hbCYmdGhpcy5fdGVybWluYWwuZWxlbWVudCYmdGhpcy5fdGVybWluYWwuZWxlbWVudC5wYXJlbnRFbGVtZW50KXt2YXIgZT10aGlzLl90ZXJtaW5hbC5fY29yZTtpZigwIT09ZS5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCYmMCE9PWUuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0KXt2YXIgdD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl90ZXJtaW5hbC5lbGVtZW50LnBhcmVudEVsZW1lbnQpLHI9cGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwiaGVpZ2h0XCIpKSxpPU1hdGgubWF4KDAscGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwid2lkdGhcIikpKSxuPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQpLG89ci0ocGFyc2VJbnQobi5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy10b3BcIikpK3BhcnNlSW50KG4uZ2V0UHJvcGVydHlWYWx1ZShcInBhZGRpbmctYm90dG9tXCIpKSksYT1pLShwYXJzZUludChuLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLXJpZ2h0XCIpKStwYXJzZUludChuLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLWxlZnRcIikpKS1lLnZpZXdwb3J0LnNjcm9sbEJhcldpZHRoO3JldHVybntjb2xzOk1hdGgubWF4KDIsTWF0aC5mbG9vcihhL2UuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgpKSxyb3dzOk1hdGgubWF4KDEsTWF0aC5mbG9vcihvL2UuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0KSl9fX19LGV9KCk7dC5GaXRBZGRvbj1yfX0sdD17fTtyZXR1cm4gZnVuY3Rpb24gcihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIG49dFtpXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbaV0obixuLmV4cG9ydHMsciksbi5leHBvcnRzfSg3NzUpfSkoKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXh0ZXJtLWFkZG9uLWZpdC5qcy5tYXAiLCIhZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIHI9dCgpO2Zvcih2YXIgaSBpbiByKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOmUpW2ldPXJbaV19fShzZWxmLChmdW5jdGlvbigpe3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO3ZhciBlPXs0NTY3OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQWNjZXNzaWJpbGl0eU1hbmFnZXI9dm9pZCAwO3ZhciBvPXIoOTA0Mikscz1yKDYxMTQpLGE9cig5OTI0KSxjPXIoMzY1NiksbD1yKDg0NCksaD1yKDU1OTYpLHU9cig5NjMxKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgaT1lLmNhbGwodGhpcyl8fHRoaXM7aS5fdGVybWluYWw9dCxpLl9yZW5kZXJTZXJ2aWNlPXIsaS5fbGl2ZVJlZ2lvbkxpbmVDb3VudD0wLGkuX2NoYXJzVG9Db25zdW1lPVtdLGkuX2NoYXJzVG9Bbm5vdW5jZT1cIlwiLGkuX2FjY2Vzc2liaWxpdHlUcmVlUm9vdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGkuX2FjY2Vzc2liaWxpdHlUcmVlUm9vdC5jbGFzc0xpc3QuYWRkKFwieHRlcm0tYWNjZXNzaWJpbGl0eVwiKSxpLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QudGFiSW5kZXg9MCxpLl9yb3dDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLl9yb3dDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibGlzdFwiKSxpLl9yb3dDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInh0ZXJtLWFjY2Vzc2liaWxpdHktdHJlZVwiKSxpLl9yb3dFbGVtZW50cz1bXTtmb3IodmFyIG49MDtuPGkuX3Rlcm1pbmFsLnJvd3M7bisrKWkuX3Jvd0VsZW1lbnRzW25dPWkuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpLGkuX3Jvd0NvbnRhaW5lci5hcHBlbmRDaGlsZChpLl9yb3dFbGVtZW50c1tuXSk7aWYoaS5fdG9wQm91bmRhcnlGb2N1c0xpc3RlbmVyPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9vbkJvdW5kYXJ5Rm9jdXMoZSwwKX0saS5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9vbkJvdW5kYXJ5Rm9jdXMoZSwxKX0saS5fcm93RWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsaS5fdG9wQm91bmRhcnlGb2N1c0xpc3RlbmVyKSxpLl9yb3dFbGVtZW50c1tpLl9yb3dFbGVtZW50cy5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsaS5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKSxpLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKSxpLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QuYXBwZW5kQ2hpbGQoaS5fcm93Q29udGFpbmVyKSxpLl9yZW5kZXJSb3dzRGVib3VuY2VyPW5ldyBhLlRpbWVCYXNlZERlYm91bmNlcihpLl9yZW5kZXJSb3dzLmJpbmQoaSkpLGkuX3JlZnJlc2hSb3dzKCksaS5fbGl2ZVJlZ2lvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGkuX2xpdmVSZWdpb24uY2xhc3NMaXN0LmFkZChcImxpdmUtcmVnaW9uXCIpLGkuX2xpdmVSZWdpb24uc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsXCJhc3NlcnRpdmVcIiksaS5fYWNjZXNzaWJpbGl0eVRyZWVSb290LmFwcGVuZENoaWxkKGkuX2xpdmVSZWdpb24pLCFpLl90ZXJtaW5hbC5lbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlbmFibGUgYWNjZXNzaWJpbGl0eSBiZWZvcmUgVGVybWluYWwub3BlblwiKTtyZXR1cm4gaS5fdGVybWluYWwuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsaS5fYWNjZXNzaWJpbGl0eVRyZWVSb290KSxpLnJlZ2lzdGVyKGkuX3JlbmRlclJvd3NEZWJvdW5jZXIpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25SZXNpemUoKGZ1bmN0aW9uKGUpe3JldHVybiBpLl9vblJlc2l6ZShlLnJvd3MpfSkpKSxpLnJlZ2lzdGVyKGkuX3Rlcm1pbmFsLm9uUmVuZGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5fcmVmcmVzaFJvd3MoZS5zdGFydCxlLmVuZCl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25TY3JvbGwoKGZ1bmN0aW9uKCl7cmV0dXJuIGkuX3JlZnJlc2hSb3dzKCl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25BMTF5Q2hhcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuX29uQ2hhcihlKX0pKSksaS5yZWdpc3RlcihpLl90ZXJtaW5hbC5vbkxpbmVGZWVkKChmdW5jdGlvbigpe3JldHVybiBpLl9vbkNoYXIoXCJcXG5cIil9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25BMTF5VGFiKChmdW5jdGlvbihlKXtyZXR1cm4gaS5fb25UYWIoZSl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25LZXkoKGZ1bmN0aW9uKGUpe3JldHVybiBpLl9vbktleShlLmtleSl9KSkpLGkucmVnaXN0ZXIoaS5fdGVybWluYWwub25CbHVyKChmdW5jdGlvbigpe3JldHVybiBpLl9jbGVhckxpdmVSZWdpb24oKX0pKSksaS5yZWdpc3RlcihpLl9yZW5kZXJTZXJ2aWNlLm9uRGltZW5zaW9uc0NoYW5nZSgoZnVuY3Rpb24oKXtyZXR1cm4gaS5fcmVmcmVzaFJvd3NEaW1lbnNpb25zKCl9KSkpLGkuX3NjcmVlbkRwck1vbml0b3I9bmV3IGguU2NyZWVuRHByTW9uaXRvcixpLnJlZ2lzdGVyKGkuX3NjcmVlbkRwck1vbml0b3IpLGkuX3NjcmVlbkRwck1vbml0b3Iuc2V0TGlzdGVuZXIoKGZ1bmN0aW9uKCl7cmV0dXJuIGkuX3JlZnJlc2hSb3dzRGltZW5zaW9ucygpfSkpLGkucmVnaXN0ZXIoKDAsYy5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe3JldHVybiBpLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKX0pKSksaX1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksKDAsdS5yZW1vdmVFbGVtZW50RnJvbVBhcmVudCkodGhpcy5fYWNjZXNzaWJpbGl0eVRyZWVSb290KSx0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGg9MH0sdC5wcm90b3R5cGUuX29uQm91bmRhcnlGb2N1cz1mdW5jdGlvbihlLHQpe3ZhciByPWUudGFyZ2V0LGk9dGhpcy5fcm93RWxlbWVudHNbMD09PXQ/MTp0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMl07aWYoci5nZXRBdHRyaWJ1dGUoXCJhcmlhLXBvc2luc2V0XCIpIT09KDA9PT10P1wiMVwiOlwiXCIrdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLmxlbmd0aCkmJmUucmVsYXRlZFRhcmdldD09PWkpe3ZhciBuLG87aWYoMD09PXQ/KG49cixvPXRoaXMuX3Jvd0VsZW1lbnRzLnBvcCgpLHRoaXMuX3Jvd0NvbnRhaW5lci5yZW1vdmVDaGlsZChvKSk6KG49dGhpcy5fcm93RWxlbWVudHMuc2hpZnQoKSxvPXIsdGhpcy5fcm93Q29udGFpbmVyLnJlbW92ZUNoaWxkKG4pKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX3RvcEJvdW5kYXJ5Rm9jdXNMaXN0ZW5lciksby5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9ib3R0b21Cb3VuZGFyeUZvY3VzTGlzdGVuZXIpLDA9PT10KXt2YXIgcz10aGlzLl9jcmVhdGVBY2Nlc3NpYmlsaXR5VHJlZU5vZGUoKTt0aGlzLl9yb3dFbGVtZW50cy51bnNoaWZ0KHMpLHRoaXMuX3Jvd0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIscyl9ZWxzZSBzPXRoaXMuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpLHRoaXMuX3Jvd0VsZW1lbnRzLnB1c2gocyksdGhpcy5fcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKHMpO3RoaXMuX3Jvd0VsZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX3RvcEJvdW5kYXJ5Rm9jdXNMaXN0ZW5lciksdGhpcy5fcm93RWxlbWVudHNbdGhpcy5fcm93RWxlbWVudHMubGVuZ3RoLTFdLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX2JvdHRvbUJvdW5kYXJ5Rm9jdXNMaXN0ZW5lciksdGhpcy5fdGVybWluYWwuc2Nyb2xsTGluZXMoMD09PXQ/LTE6MSksdGhpcy5fcm93RWxlbWVudHNbMD09PXQ/MTp0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMl0uZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX19LHQucHJvdG90eXBlLl9vblJlc2l6ZT1mdW5jdGlvbihlKXt0aGlzLl9yb3dFbGVtZW50c1t0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKTtmb3IodmFyIHQ9dGhpcy5fcm93Q29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aDt0PHRoaXMuX3Rlcm1pbmFsLnJvd3M7dCsrKXRoaXMuX3Jvd0VsZW1lbnRzW3RdPXRoaXMuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpLHRoaXMuX3Jvd0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9yb3dFbGVtZW50c1t0XSk7Zm9yKDt0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGg+ZTspdGhpcy5fcm93Q29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX3Jvd0VsZW1lbnRzLnBvcCgpKTt0aGlzLl9yb3dFbGVtZW50c1t0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGgtMV0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKSx0aGlzLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKX0sdC5wcm90b3R5cGUuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibGlzdGl0ZW1cIiksZS50YWJJbmRleD0tMSx0aGlzLl9yZWZyZXNoUm93RGltZW5zaW9ucyhlKSxlfSx0LnByb3RvdHlwZS5fb25UYWI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlO3QrKyl0aGlzLl9vbkNoYXIoXCIgXCIpfSx0LnByb3RvdHlwZS5fb25DaGFyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fbGl2ZVJlZ2lvbkxpbmVDb3VudDwyMSYmKHRoaXMuX2NoYXJzVG9Db25zdW1lLmxlbmd0aD4wP3RoaXMuX2NoYXJzVG9Db25zdW1lLnNoaWZ0KCkhPT1lJiYodGhpcy5fY2hhcnNUb0Fubm91bmNlKz1lKTp0aGlzLl9jaGFyc1RvQW5ub3VuY2UrPWUsXCJcXG5cIj09PWUmJih0aGlzLl9saXZlUmVnaW9uTGluZUNvdW50KyssMjE9PT10aGlzLl9saXZlUmVnaW9uTGluZUNvdW50JiYodGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudCs9by50b29NdWNoT3V0cHV0KSkscy5pc01hYyYmdGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudCYmdGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudC5sZW5ndGg+MCYmIXRoaXMuX2xpdmVSZWdpb24ucGFyZW50Tm9kZSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QuYXBwZW5kQ2hpbGQodC5fbGl2ZVJlZ2lvbil9KSwwKSl9LHQucHJvdG90eXBlLl9jbGVhckxpdmVSZWdpb249ZnVuY3Rpb24oKXt0aGlzLl9saXZlUmVnaW9uLnRleHRDb250ZW50PVwiXCIsdGhpcy5fbGl2ZVJlZ2lvbkxpbmVDb3VudD0wLHMuaXNNYWMmJigwLHUucmVtb3ZlRWxlbWVudEZyb21QYXJlbnQpKHRoaXMuX2xpdmVSZWdpb24pfSx0LnByb3RvdHlwZS5fb25LZXk9ZnVuY3Rpb24oZSl7dGhpcy5fY2xlYXJMaXZlUmVnaW9uKCksdGhpcy5fY2hhcnNUb0NvbnN1bWUucHVzaChlKX0sdC5wcm90b3R5cGUuX3JlZnJlc2hSb3dzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVuZGVyUm93c0RlYm91bmNlci5yZWZyZXNoKGUsdCx0aGlzLl90ZXJtaW5hbC5yb3dzKX0sdC5wcm90b3R5cGUuX3JlbmRlclJvd3M9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5fdGVybWluYWwuYnVmZmVyLGk9ci5saW5lcy5sZW5ndGgudG9TdHJpbmcoKSxuPWU7bjw9dDtuKyspe3ZhciBvPXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKHIueWRpc3ArbiwhMCkscz0oci55ZGlzcCtuKzEpLnRvU3RyaW5nKCksYT10aGlzLl9yb3dFbGVtZW50c1tuXTthJiYoMD09PW8ubGVuZ3RoP2EuaW5uZXJUZXh0PVwiwqBcIjphLnRleHRDb250ZW50PW8sYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXBvc2luc2V0XCIscyksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNldHNpemVcIixpKSl9dGhpcy5fYW5ub3VuY2VDaGFyYWN0ZXJzKCl9LHQucHJvdG90eXBlLl9yZWZyZXNoUm93c0RpbWVuc2lvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCl7dGhpcy5fcm93RWxlbWVudHMubGVuZ3RoIT09dGhpcy5fdGVybWluYWwucm93cyYmdGhpcy5fb25SZXNpemUodGhpcy5fdGVybWluYWwucm93cyk7Zm9yKHZhciBlPTA7ZTx0aGlzLl90ZXJtaW5hbC5yb3dzO2UrKyl0aGlzLl9yZWZyZXNoUm93RGltZW5zaW9ucyh0aGlzLl9yb3dFbGVtZW50c1tlXSl9fSx0LnByb3RvdHlwZS5fcmVmcmVzaFJvd0RpbWVuc2lvbnM9ZnVuY3Rpb24oZSl7ZS5zdHlsZS5oZWlnaHQ9dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQrXCJweFwifSx0LnByb3RvdHlwZS5fYW5ub3VuY2VDaGFyYWN0ZXJzPWZ1bmN0aW9uKCl7MCE9PXRoaXMuX2NoYXJzVG9Bbm5vdW5jZS5sZW5ndGgmJih0aGlzLl9saXZlUmVnaW9uLnRleHRDb250ZW50Kz10aGlzLl9jaGFyc1RvQW5ub3VuY2UsdGhpcy5fY2hhcnNUb0Fubm91bmNlPVwiXCIpfSx0fShsLkRpc3Bvc2FibGUpO3QuQWNjZXNzaWJpbGl0eU1hbmFnZXI9Zn0sMzYxNDooZSx0KT0+e2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxyP1xcbi9nLFwiXFxyXCIpfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gdD9cIlx1MDAxYlsyMDB+XCIrZStcIlx1MDAxYlsyMDF+XCI6ZX1mdW5jdGlvbiBuKGUsdCxuKXtlPWkoZT1yKGUpLG4uZGVjUHJpdmF0ZU1vZGVzLmJyYWNrZXRlZFBhc3RlTW9kZSksbi50cmlnZ2VyRGF0YUV2ZW50KGUsITApLHQudmFsdWU9XCJcIn1mdW5jdGlvbiBvKGUsdCxyKXt2YXIgaT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ZS5jbGllbnRYLWkubGVmdC0xMCxvPWUuY2xpZW50WS1pLnRvcC0xMDt0LnN0eWxlLndpZHRoPVwiMjBweFwiLHQuc3R5bGUuaGVpZ2h0PVwiMjBweFwiLHQuc3R5bGUubGVmdD1uK1wicHhcIix0LnN0eWxlLnRvcD1vK1wicHhcIix0LnN0eWxlLnpJbmRleD1cIjEwMDBcIix0LmZvY3VzKCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yaWdodENsaWNrSGFuZGxlcj10Lm1vdmVUZXh0QXJlYVVuZGVyTW91c2VDdXJzb3I9dC5wYXN0ZT10LmhhbmRsZVBhc3RlRXZlbnQ9dC5jb3B5SGFuZGxlcj10LmJyYWNrZXRUZXh0Rm9yUGFzdGU9dC5wcmVwYXJlVGV4dEZvclRlcm1pbmFsPXZvaWQgMCx0LnByZXBhcmVUZXh0Rm9yVGVybWluYWw9cix0LmJyYWNrZXRUZXh0Rm9yUGFzdGU9aSx0LmNvcHlIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7ZS5jbGlwYm9hcmREYXRhJiZlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIix0LnNlbGVjdGlvblRleHQpLGUucHJldmVudERlZmF1bHQoKX0sdC5oYW5kbGVQYXN0ZUV2ZW50PWZ1bmN0aW9uKGUsdCxyKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUuY2xpcGJvYXJkRGF0YSYmbihlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIiksdCxyKX0sdC5wYXN0ZT1uLHQubW92ZVRleHRBcmVhVW5kZXJNb3VzZUN1cnNvcj1vLHQucmlnaHRDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZSx0LHIsaSxuKXtvKGUsdCxyKSxuJiZpLnJpZ2h0Q2xpY2tTZWxlY3QoZSksdC52YWx1ZT1pLnNlbGVjdGlvblRleHQsdC5zZWxlY3QoKX19LDcyMzk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbG9yQ29udHJhc3RDYWNoZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fY29sb3I9e30sdGhpcy5fcmdiYT17fX1yZXR1cm4gZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9jb2xvcj17fSx0aGlzLl9yZ2JhPXt9fSxlLnByb3RvdHlwZS5zZXRDc3M9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3JnYmFbZV18fCh0aGlzLl9yZ2JhW2VdPXt9KSx0aGlzLl9yZ2JhW2VdW3RdPXJ9LGUucHJvdG90eXBlLmdldENzcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9yZ2JhW2VdP3RoaXMuX3JnYmFbZV1bdF06dm9pZCAwfSxlLnByb3RvdHlwZS5zZXRDb2xvcj1mdW5jdGlvbihlLHQscil7dGhpcy5fY29sb3JbZV18fCh0aGlzLl9jb2xvcltlXT17fSksdGhpcy5fY29sb3JbZV1bdF09cn0sZS5wcm90b3R5cGUuZ2V0Q29sb3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fY29sb3JbZV0/dGhpcy5fY29sb3JbZV1bdF06dm9pZCAwfSxlfSgpO3QuQ29sb3JDb250cmFzdENhY2hlPXJ9LDU2ODA6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvbG9yTWFuYWdlcj10LkRFRkFVTFRfQU5TSV9DT0xPUlM9dm9pZCAwO3ZhciBuPXIoODA1NSksbz1yKDcyMzkpLHM9bi5jc3MudG9Db2xvcihcIiNmZmZmZmZcIiksYT1uLmNzcy50b0NvbG9yKFwiIzAwMDAwMFwiKSxjPW4uY3NzLnRvQ29sb3IoXCIjZmZmZmZmXCIpLGw9bi5jc3MudG9Db2xvcihcIiMwMDAwMDBcIiksaD17Y3NzOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpXCIscmdiYTo0Mjk0OTY3MTE3fTt0LkRFRkFVTFRfQU5TSV9DT0xPUlM9T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe2Zvcih2YXIgZT1bbi5jc3MudG9Db2xvcihcIiMyZTM0MzZcIiksbi5jc3MudG9Db2xvcihcIiNjYzAwMDBcIiksbi5jc3MudG9Db2xvcihcIiM0ZTlhMDZcIiksbi5jc3MudG9Db2xvcihcIiNjNGEwMDBcIiksbi5jc3MudG9Db2xvcihcIiMzNDY1YTRcIiksbi5jc3MudG9Db2xvcihcIiM3NTUwN2JcIiksbi5jc3MudG9Db2xvcihcIiMwNjk4OWFcIiksbi5jc3MudG9Db2xvcihcIiNkM2Q3Y2ZcIiksbi5jc3MudG9Db2xvcihcIiM1NTU3NTNcIiksbi5jc3MudG9Db2xvcihcIiNlZjI5MjlcIiksbi5jc3MudG9Db2xvcihcIiM4YWUyMzRcIiksbi5jc3MudG9Db2xvcihcIiNmY2U5NGZcIiksbi5jc3MudG9Db2xvcihcIiM3MjlmY2ZcIiksbi5jc3MudG9Db2xvcihcIiNhZDdmYThcIiksbi5jc3MudG9Db2xvcihcIiMzNGUyZTJcIiksbi5jc3MudG9Db2xvcihcIiNlZWVlZWNcIildLHQ9WzAsOTUsMTM1LDE3NSwyMTUsMjU1XSxyPTA7cjwyMTY7cisrKXt2YXIgaT10W3IvMzYlNnwwXSxvPXRbci82JTZ8MF0scz10W3IlNl07ZS5wdXNoKHtjc3M6bi5jaGFubmVscy50b0NzcyhpLG8scykscmdiYTpuLmNoYW5uZWxzLnRvUmdiYShpLG8scyl9KX1mb3Iocj0wO3I8MjQ7cisrKXt2YXIgYT04KzEwKnI7ZS5wdXNoKHtjc3M6bi5jaGFubmVscy50b0NzcyhhLGEsYSkscmdiYTpuLmNoYW5uZWxzLnRvUmdiYShhLGEsYSl9KX1yZXR1cm4gZX0oKSk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7dGhpcy5hbGxvd1RyYW5zcGFyZW5jeT1yO3ZhciBpPWUuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpLndpZHRoPTEsaS5oZWlnaHQ9MTt2YXIgdT1pLmdldENvbnRleHQoXCIyZFwiKTtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2V0IHJlbmRlcmluZyBjb250ZXh0XCIpO3RoaXMuX2N0eD11LHRoaXMuX2N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJjb3B5XCIsdGhpcy5fbGl0bXVzQ29sb3I9dGhpcy5fY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsMCwxLDEpLHRoaXMuX2NvbnRyYXN0Q2FjaGU9bmV3IG8uQ29sb3JDb250cmFzdENhY2hlLHRoaXMuY29sb3JzPXtmb3JlZ3JvdW5kOnMsYmFja2dyb3VuZDphLGN1cnNvcjpjLGN1cnNvckFjY2VudDpsLHNlbGVjdGlvblRyYW5zcGFyZW50Omgsc2VsZWN0aW9uT3BhcXVlOm4uY29sb3IuYmxlbmQoYSxoKSxzZWxlY3Rpb25Gb3JlZ3JvdW5kOnZvaWQgMCxhbnNpOnQuREVGQVVMVF9BTlNJX0NPTE9SUy5zbGljZSgpLGNvbnRyYXN0Q2FjaGU6dGhpcy5fY29udHJhc3RDYWNoZX0sdGhpcy5fdXBkYXRlUmVzdG9yZUNvbG9ycygpfXJldHVybiBlLnByb3RvdHlwZS5vbk9wdGlvbnNDaGFuZ2U9ZnVuY3Rpb24oZSl7XCJtaW5pbXVtQ29udHJhc3RSYXRpb1wiPT09ZSYmdGhpcy5fY29udHJhc3RDYWNoZS5jbGVhcigpfSxlLnByb3RvdHlwZS5zZXRUaGVtZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSksdGhpcy5jb2xvcnMuZm9yZWdyb3VuZD10aGlzLl9wYXJzZUNvbG9yKGUuZm9yZWdyb3VuZCxzKSx0aGlzLmNvbG9ycy5iYWNrZ3JvdW5kPXRoaXMuX3BhcnNlQ29sb3IoZS5iYWNrZ3JvdW5kLGEpLHRoaXMuY29sb3JzLmN1cnNvcj10aGlzLl9wYXJzZUNvbG9yKGUuY3Vyc29yLGMsITApLHRoaXMuY29sb3JzLmN1cnNvckFjY2VudD10aGlzLl9wYXJzZUNvbG9yKGUuY3Vyc29yQWNjZW50LGwsITApLHRoaXMuY29sb3JzLnNlbGVjdGlvblRyYW5zcGFyZW50PXRoaXMuX3BhcnNlQ29sb3IoZS5zZWxlY3Rpb24saCwhMCksdGhpcy5jb2xvcnMuc2VsZWN0aW9uT3BhcXVlPW4uY29sb3IuYmxlbmQodGhpcy5jb2xvcnMuYmFja2dyb3VuZCx0aGlzLmNvbG9ycy5zZWxlY3Rpb25UcmFuc3BhcmVudCk7dmFyIHI9e2NzczpcIlwiLHJnYmE6MH07dGhpcy5jb2xvcnMuc2VsZWN0aW9uRm9yZWdyb3VuZD1lLnNlbGVjdGlvbkZvcmVncm91bmQ/dGhpcy5fcGFyc2VDb2xvcihlLnNlbGVjdGlvbkZvcmVncm91bmQscik6dm9pZCAwLHRoaXMuY29sb3JzLnNlbGVjdGlvbkZvcmVncm91bmQ9PT1yJiYodGhpcy5jb2xvcnMuc2VsZWN0aW9uRm9yZWdyb3VuZD12b2lkIDApLG4uY29sb3IuaXNPcGFxdWUodGhpcy5jb2xvcnMuc2VsZWN0aW9uVHJhbnNwYXJlbnQpJiYodGhpcy5jb2xvcnMuc2VsZWN0aW9uVHJhbnNwYXJlbnQ9bi5jb2xvci5vcGFjaXR5KHRoaXMuY29sb3JzLnNlbGVjdGlvblRyYW5zcGFyZW50LC4zKSksdGhpcy5jb2xvcnMuYW5zaVswXT10aGlzLl9wYXJzZUNvbG9yKGUuYmxhY2ssdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzBdKSx0aGlzLmNvbG9ycy5hbnNpWzFdPXRoaXMuX3BhcnNlQ29sb3IoZS5yZWQsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzFdKSx0aGlzLmNvbG9ycy5hbnNpWzJdPXRoaXMuX3BhcnNlQ29sb3IoZS5ncmVlbix0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMl0pLHRoaXMuY29sb3JzLmFuc2lbM109dGhpcy5fcGFyc2VDb2xvcihlLnllbGxvdyx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbM10pLHRoaXMuY29sb3JzLmFuc2lbNF09dGhpcy5fcGFyc2VDb2xvcihlLmJsdWUsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzRdKSx0aGlzLmNvbG9ycy5hbnNpWzVdPXRoaXMuX3BhcnNlQ29sb3IoZS5tYWdlbnRhLHQuREVGQVVMVF9BTlNJX0NPTE9SU1s1XSksdGhpcy5jb2xvcnMuYW5zaVs2XT10aGlzLl9wYXJzZUNvbG9yKGUuY3lhbix0LkRFRkFVTFRfQU5TSV9DT0xPUlNbNl0pLHRoaXMuY29sb3JzLmFuc2lbN109dGhpcy5fcGFyc2VDb2xvcihlLndoaXRlLHQuREVGQVVMVF9BTlNJX0NPTE9SU1s3XSksdGhpcy5jb2xvcnMuYW5zaVs4XT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0QmxhY2ssdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzhdKSx0aGlzLmNvbG9ycy5hbnNpWzldPXRoaXMuX3BhcnNlQ29sb3IoZS5icmlnaHRSZWQsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzldKSx0aGlzLmNvbG9ycy5hbnNpWzEwXT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0R3JlZW4sdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzEwXSksdGhpcy5jb2xvcnMuYW5zaVsxMV09dGhpcy5fcGFyc2VDb2xvcihlLmJyaWdodFllbGxvdyx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTFdKSx0aGlzLmNvbG9ycy5hbnNpWzEyXT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0Qmx1ZSx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTJdKSx0aGlzLmNvbG9ycy5hbnNpWzEzXT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0TWFnZW50YSx0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTNdKSx0aGlzLmNvbG9ycy5hbnNpWzE0XT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0Q3lhbix0LkRFRkFVTFRfQU5TSV9DT0xPUlNbMTRdKSx0aGlzLmNvbG9ycy5hbnNpWzE1XT10aGlzLl9wYXJzZUNvbG9yKGUuYnJpZ2h0V2hpdGUsdC5ERUZBVUxUX0FOU0lfQ09MT1JTWzE1XSksdGhpcy5fY29udHJhc3RDYWNoZS5jbGVhcigpLHRoaXMuX3VwZGF0ZVJlc3RvcmVDb2xvcnMoKX0sZS5wcm90b3R5cGUucmVzdG9yZUNvbG9yPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUpc3dpdGNoKGUpe2Nhc2UgMjU2OnRoaXMuY29sb3JzLmZvcmVncm91bmQ9dGhpcy5fcmVzdG9yZUNvbG9ycy5mb3JlZ3JvdW5kO2JyZWFrO2Nhc2UgMjU3OnRoaXMuY29sb3JzLmJhY2tncm91bmQ9dGhpcy5fcmVzdG9yZUNvbG9ycy5iYWNrZ3JvdW5kO2JyZWFrO2Nhc2UgMjU4OnRoaXMuY29sb3JzLmN1cnNvcj10aGlzLl9yZXN0b3JlQ29sb3JzLmN1cnNvcjticmVhaztkZWZhdWx0OnRoaXMuY29sb3JzLmFuc2lbZV09dGhpcy5fcmVzdG9yZUNvbG9ycy5hbnNpW2VdfWVsc2UgZm9yKHZhciB0PTA7dDx0aGlzLl9yZXN0b3JlQ29sb3JzLmFuc2kubGVuZ3RoOysrdCl0aGlzLmNvbG9ycy5hbnNpW3RdPXRoaXMuX3Jlc3RvcmVDb2xvcnMuYW5zaVt0XX0sZS5wcm90b3R5cGUuX3VwZGF0ZVJlc3RvcmVDb2xvcnM9ZnVuY3Rpb24oKXt0aGlzLl9yZXN0b3JlQ29sb3JzPXtmb3JlZ3JvdW5kOnRoaXMuY29sb3JzLmZvcmVncm91bmQsYmFja2dyb3VuZDp0aGlzLmNvbG9ycy5iYWNrZ3JvdW5kLGN1cnNvcjp0aGlzLmNvbG9ycy5jdXJzb3IsYW5zaTp0aGlzLmNvbG9ycy5hbnNpLnNsaWNlKCl9fSxlLnByb3RvdHlwZS5fcGFyc2VDb2xvcj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ciYmKHI9dGhpcy5hbGxvd1RyYW5zcGFyZW5jeSksdm9pZCAwPT09ZSlyZXR1cm4gdDtpZih0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2xpdG11c0NvbG9yLHRoaXMuX2N0eC5maWxsU3R5bGU9ZSxcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5fY3R4LmZpbGxTdHlsZSlyZXR1cm4gY29uc29sZS53YXJuKFwiQ29sb3I6IFwiK2UrXCIgaXMgaW52YWxpZCB1c2luZyBmYWxsYmFjayBcIit0LmNzcyksdDt0aGlzLl9jdHguZmlsbFJlY3QoMCwwLDEsMSk7dmFyIG89dGhpcy5fY3R4LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhO2lmKDI1NSE9PW9bM10pe2lmKCFyKXJldHVybiBjb25zb2xlLndhcm4oXCJDb2xvcjogXCIrZStcIiBpcyB1c2luZyB0cmFuc3BhcmVuY3ksIGJ1dCBhbGxvd1RyYW5zcGFyZW5jeSBpcyBmYWxzZS4gVXNpbmcgZmFsbGJhY2sgXCIrdC5jc3MrXCIuXCIpLHQ7dmFyIHM9aSh0aGlzLl9jdHguZmlsbFN0eWxlLnN1YnN0cmluZyg1LHRoaXMuX2N0eC5maWxsU3R5bGUubGVuZ3RoLTEpLnNwbGl0KFwiLFwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSksNCksYT1zWzBdLGM9c1sxXSxsPXNbMl0saD1zWzNdLHU9TWF0aC5yb3VuZCgyNTUqaCk7cmV0dXJue3JnYmE6bi5jaGFubmVscy50b1JnYmEoYSxjLGwsdSksY3NzOmV9fXJldHVybntjc3M6dGhpcy5fY3R4LmZpbGxTdHlsZSxyZ2JhOm4uY2hhbm5lbHMudG9SZ2JhKG9bMF0sb1sxXSxvWzJdLG9bM10pfX0sZX0oKTt0LkNvbG9yTWFuYWdlcj11fSw5NjMxOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yZW1vdmVFbGVtZW50RnJvbVBhcmVudD12b2lkIDAsdC5yZW1vdmVFbGVtZW50RnJvbVBhcmVudD1mdW5jdGlvbigpe2Zvcih2YXIgZSx0LGksbj1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKyluW29dPWFyZ3VtZW50c1tvXTt0cnl7Zm9yKHZhciBzPXIobiksYT1zLm5leHQoKTshYS5kb25lO2E9cy5uZXh0KCkpe3ZhciBjPWEudmFsdWU7bnVsbD09PShpPW51bGw9PWM/dm9pZCAwOmMucGFyZW50RWxlbWVudCl8fHZvaWQgMD09PWl8fGkucmVtb3ZlQ2hpbGQoYyl9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJih0PXMucmV0dXJuKSYmdC5jYWxsKHMpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX19fSwzNjU2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXI9dm9pZCAwLHQuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyLGkpe2UuYWRkRXZlbnRMaXN0ZW5lcih0LHIsaSk7dmFyIG49ITE7cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXtufHwobj0hMCxlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxyLGkpKX19fX0sMzU1MTpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1vdXNlWm9uZT10LkxpbmtpZmllcj12b2lkIDA7dmFyIG89cig4NDYwKSxzPXIoMjU4NSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLl9sb2dTZXJ2aWNlPXQsdGhpcy5fdW5pY29kZVNlcnZpY2U9cix0aGlzLl9saW5rTWF0Y2hlcnM9W10sdGhpcy5fbmV4dExpbmtNYXRjaGVySWQ9MCx0aGlzLl9vblNob3dMaW5rVW5kZXJsaW5lPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLl9vbkhpZGVMaW5rVW5kZXJsaW5lPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLl9vbkxpbmtUb29sdGlwPW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLl9yb3dzVG9MaW5raWZ5PXtzdGFydDp2b2lkIDAsZW5kOnZvaWQgMH19cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uU2hvd0xpbmtVbmRlcmxpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2hvd0xpbmtVbmRlcmxpbmUuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25IaWRlTGlua1VuZGVybGluZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25IaWRlTGlua1VuZGVybGluZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkxpbmtUb29sdGlwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkxpbmtUb29sdGlwLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmF0dGFjaFRvRG9tPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZWxlbWVudD1lLHRoaXMuX21vdXNlWm9uZU1hbmFnZXI9dH0sZS5wcm90b3R5cGUubGlua2lmeVJvd3M9ZnVuY3Rpb24odCxyKXt2YXIgaT10aGlzO3RoaXMuX21vdXNlWm9uZU1hbmFnZXImJih2b2lkIDA9PT10aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0fHx2b2lkIDA9PT10aGlzLl9yb3dzVG9MaW5raWZ5LmVuZD8odGhpcy5fcm93c1RvTGlua2lmeS5zdGFydD10LHRoaXMuX3Jvd3NUb0xpbmtpZnkuZW5kPXIpOih0aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0PU1hdGgubWluKHRoaXMuX3Jvd3NUb0xpbmtpZnkuc3RhcnQsdCksdGhpcy5fcm93c1RvTGlua2lmeS5lbmQ9TWF0aC5tYXgodGhpcy5fcm93c1RvTGlua2lmeS5lbmQscikpLHRoaXMuX21vdXNlWm9uZU1hbmFnZXIuY2xlYXJBbGwodCxyKSx0aGlzLl9yb3dzVGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fcm93c1RpbWVvdXRJZCksdGhpcy5fcm93c1RpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBpLl9saW5raWZ5Um93cygpfSksZS5fdGltZUJlZm9yZUxhdGVuY3kpKX0sZS5wcm90b3R5cGUuX2xpbmtpZnlSb3dzPWZ1bmN0aW9uKCl7dGhpcy5fcm93c1RpbWVvdXRJZD12b2lkIDA7dmFyIGU9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXI7aWYodm9pZCAwIT09dGhpcy5fcm93c1RvTGlua2lmeS5zdGFydCYmdm9pZCAwIT09dGhpcy5fcm93c1RvTGlua2lmeS5lbmQpe3ZhciB0PWUueWRpc3ArdGhpcy5fcm93c1RvTGlua2lmeS5zdGFydDtpZighKHQ+PWUubGluZXMubGVuZ3RoKSl7Zm9yKHZhciByPWUueWRpc3ArTWF0aC5taW4odGhpcy5fcm93c1RvTGlua2lmeS5lbmQsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKSsxLGk9TWF0aC5jZWlsKDJlMy90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpLG49dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIuaXRlcmF0b3IoITEsdCxyLGksaSk7bi5oYXNOZXh0KCk7KWZvcih2YXIgbz1uLm5leHQoKSxzPTA7czx0aGlzLl9saW5rTWF0Y2hlcnMubGVuZ3RoO3MrKyl0aGlzLl9kb0xpbmtpZnlSb3coby5yYW5nZS5maXJzdCxvLmNvbnRlbnQsdGhpcy5fbGlua01hdGNoZXJzW3NdKTt0aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0PXZvaWQgMCx0aGlzLl9yb3dzVG9MaW5raWZ5LmVuZD12b2lkIDB9fWVsc2UgdGhpcy5fbG9nU2VydmljZS5kZWJ1ZyhcIl9yb3dUb0xpbmtpZnkgd2FzIHVuc2V0IGJlZm9yZSBfbGlua2lmeVJvd3Mgd2FzIGNhbGxlZFwiKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJMaW5rTWF0Y2hlcj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ciYmKHI9e30pLCF0KXRocm93IG5ldyBFcnJvcihcImhhbmRsZXIgbXVzdCBiZSBkZWZpbmVkXCIpO3ZhciBpPXtpZDp0aGlzLl9uZXh0TGlua01hdGNoZXJJZCsrLHJlZ2V4OmUsaGFuZGxlcjp0LG1hdGNoSW5kZXg6ci5tYXRjaEluZGV4LHZhbGlkYXRpb25DYWxsYmFjazpyLnZhbGlkYXRpb25DYWxsYmFjayxob3ZlclRvb2x0aXBDYWxsYmFjazpyLnRvb2x0aXBDYWxsYmFjayxob3ZlckxlYXZlQ2FsbGJhY2s6ci5sZWF2ZUNhbGxiYWNrLHdpbGxMaW5rQWN0aXZhdGU6ci53aWxsTGlua0FjdGl2YXRlLHByaW9yaXR5OnIucHJpb3JpdHl8fDB9O3JldHVybiB0aGlzLl9hZGRMaW5rTWF0Y2hlclRvTGlzdChpKSxpLmlkfSxlLnByb3RvdHlwZS5fYWRkTGlua01hdGNoZXJUb0xpc3Q9ZnVuY3Rpb24oZSl7aWYoMCE9PXRoaXMuX2xpbmtNYXRjaGVycy5sZW5ndGgpe2Zvcih2YXIgdD10aGlzLl9saW5rTWF0Y2hlcnMubGVuZ3RoLTE7dD49MDt0LS0paWYoZS5wcmlvcml0eTw9dGhpcy5fbGlua01hdGNoZXJzW3RdLnByaW9yaXR5KXJldHVybiB2b2lkIHRoaXMuX2xpbmtNYXRjaGVycy5zcGxpY2UodCsxLDAsZSk7dGhpcy5fbGlua01hdGNoZXJzLnNwbGljZSgwLDAsZSl9ZWxzZSB0aGlzLl9saW5rTWF0Y2hlcnMucHVzaChlKX0sZS5wcm90b3R5cGUuZGVyZWdpc3RlckxpbmtNYXRjaGVyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fbGlua01hdGNoZXJzLmxlbmd0aDt0KyspaWYodGhpcy5fbGlua01hdGNoZXJzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5fbGlua01hdGNoZXJzLnNwbGljZSh0LDEpLCEwO3JldHVybiExfSxlLnByb3RvdHlwZS5fZG9MaW5raWZ5Um93PWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGksbj10aGlzLG89bmV3IFJlZ0V4cChyLnJlZ2V4LnNvdXJjZSwoci5yZWdleC5mbGFnc3x8XCJcIikrXCJnXCIpLHM9LTEsYT1mdW5jdGlvbigpe3ZhciBhPWlbXCJudW1iZXJcIiE9dHlwZW9mIHIubWF0Y2hJbmRleD8wOnIubWF0Y2hJbmRleF07aWYoIWEpcmV0dXJuIGMuX2xvZ1NlcnZpY2UuZGVidWcoXCJtYXRjaCBmb3VuZCB3aXRob3V0IGNvcnJlc3BvbmRpbmcgbWF0Y2hJbmRleFwiLGksciksXCJicmVha1wiO2lmKHM9dC5pbmRleE9mKGEscysxKSxvLmxhc3RJbmRleD1zK2EubGVuZ3RoLHM8MClyZXR1cm5cImJyZWFrXCI7dmFyIGw9Yy5fYnVmZmVyU2VydmljZS5idWZmZXIuc3RyaW5nSW5kZXhUb0J1ZmZlckluZGV4KGUscyk7aWYobFswXTwwKXJldHVyblwiYnJlYWtcIjt2YXIgaD1jLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5nZXQobFswXSk7aWYoIWgpcmV0dXJuXCJicmVha1wiO3ZhciB1PWguZ2V0RmcobFsxXSksZj11P3U+PjkmNTExOnZvaWQgMDtyLnZhbGlkYXRpb25DYWxsYmFjaz9yLnZhbGlkYXRpb25DYWxsYmFjayhhLChmdW5jdGlvbihlKXtuLl9yb3dzVGltZW91dElkfHxlJiZuLl9hZGRMaW5rKGxbMV0sbFswXS1uLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCxhLHIsZil9KSk6Yy5fYWRkTGluayhsWzFdLGxbMF0tYy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3AsYSxyLGYpfSxjPXRoaXM7bnVsbCE9PShpPW8uZXhlYyh0KSkmJlwiYnJlYWtcIiE9PWEoKTspO30sZS5wcm90b3R5cGUuX2FkZExpbms9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbz10aGlzO2lmKHRoaXMuX21vdXNlWm9uZU1hbmFnZXImJnRoaXMuX2VsZW1lbnQpe3ZhciBzPXRoaXMuX3VuaWNvZGVTZXJ2aWNlLmdldFN0cmluZ0NlbGxXaWR0aChyKSxhPWUldGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGw9dCtNYXRoLmZsb29yKGUvdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKSxoPShhK3MpJXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx1PWwrTWF0aC5mbG9vcigoYStzKS90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpOzA9PT1oJiYoaD10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdS0tKSx0aGlzLl9tb3VzZVpvbmVNYW5hZ2VyLmFkZChuZXcgYyhhKzEsbCsxLGgrMSx1KzEsKGZ1bmN0aW9uKGUpe2lmKGkuaGFuZGxlcilyZXR1cm4gaS5oYW5kbGVyKGUscik7dmFyIHQ9d2luZG93Lm9wZW4oKTt0Pyh0Lm9wZW5lcj1udWxsLHQubG9jYXRpb24uaHJlZj1yKTpjb25zb2xlLndhcm4oXCJPcGVuaW5nIGxpbmsgYmxvY2tlZCBhcyBvcGVuZXIgY291bGQgbm90IGJlIGNsZWFyZWRcIil9KSwoZnVuY3Rpb24oKXtvLl9vblNob3dMaW5rVW5kZXJsaW5lLmZpcmUoby5fY3JlYXRlTGlua0hvdmVyRXZlbnQoYSxsLGgsdSxuKSksby5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwieHRlcm0tY3Vyc29yLXBvaW50ZXJcIil9KSwoZnVuY3Rpb24oZSl7by5fb25MaW5rVG9vbHRpcC5maXJlKG8uX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KGEsbCxoLHUsbikpLGkuaG92ZXJUb29sdGlwQ2FsbGJhY2smJmkuaG92ZXJUb29sdGlwQ2FsbGJhY2soZSxyLHtzdGFydDp7eDphLHk6bH0sZW5kOnt4OmgseTp1fX0pfSksKGZ1bmN0aW9uKCl7by5fb25IaWRlTGlua1VuZGVybGluZS5maXJlKG8uX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KGEsbCxoLHUsbikpLG8uX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInh0ZXJtLWN1cnNvci1wb2ludGVyXCIpLGkuaG92ZXJMZWF2ZUNhbGxiYWNrJiZpLmhvdmVyTGVhdmVDYWxsYmFjaygpfSksKGZ1bmN0aW9uKGUpe3JldHVybiFpLndpbGxMaW5rQWN0aXZhdGV8fGkud2lsbExpbmtBY3RpdmF0ZShlLHIpfSkpKX19LGUucHJvdG90eXBlLl9jcmVhdGVMaW5rSG92ZXJFdmVudD1mdW5jdGlvbihlLHQscixpLG4pe3JldHVybnt4MTplLHkxOnQseDI6cix5MjppLGNvbHM6dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGZnOm59fSxlLl90aW1lQmVmb3JlTGF0ZW5jeT0yMDAsZT1pKFtuKDAscy5JQnVmZmVyU2VydmljZSksbigxLHMuSUxvZ1NlcnZpY2UpLG4oMixzLklVbmljb2RlU2VydmljZSldLGUpfSgpO3QuTGlua2lmaWVyPWE7dmFyIGM9ZnVuY3Rpb24oZSx0LHIsaSxuLG8scyxhLGMpe3RoaXMueDE9ZSx0aGlzLnkxPXQsdGhpcy54Mj1yLHRoaXMueTI9aSx0aGlzLmNsaWNrQ2FsbGJhY2s9bix0aGlzLmhvdmVyQ2FsbGJhY2s9byx0aGlzLnRvb2x0aXBDYWxsYmFjaz1zLHRoaXMubGVhdmVDYWxsYmFjaz1hLHRoaXMud2lsbExpbmtBY3RpdmF0ZT1jfTt0Lk1vdXNlWm9uZT1jfSw2NDY1OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fSxhPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9LGM9dGhpcyYmdGhpcy5fX3JlYWR8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIGksbixvPXIuY2FsbChlKSxzPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKGk9by5uZXh0KCkpLmRvbmU7KXMucHVzaChpLnZhbHVlKX1jYXRjaChlKXtuPXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19cmV0dXJuIHN9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGlua2lmaWVyMj12b2lkIDA7dmFyIGw9cigyNTg1KSxoPXIoODQ2MCksdT1yKDg0NCksZj1yKDM2NTYpLF89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2J1ZmZlclNlcnZpY2U9dCxyLl9saW5rUHJvdmlkZXJzPVtdLHIuX2xpbmtDYWNoZURpc3Bvc2FibGVzPVtdLHIuX2lzTW91c2VPdXQ9ITAsci5fYWN0aXZlTGluZT0tMSxyLl9vblNob3dMaW5rVW5kZXJsaW5lPXIucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxyLl9vbkhpZGVMaW5rVW5kZXJsaW5lPXIucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxyLnJlZ2lzdGVyKCgwLHUuZ2V0RGlzcG9zZUFycmF5RGlzcG9zYWJsZSkoci5fbGlua0NhY2hlRGlzcG9zYWJsZXMpKSxyfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY3VycmVudExpbmtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMaW5rfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uU2hvd0xpbmtVbmRlcmxpbmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2hvd0xpbmtVbmRlcmxpbmUuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25IaWRlTGlua1VuZGVybGluZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25IaWRlTGlua1VuZGVybGluZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZWdpc3RlckxpbmtQcm92aWRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9saW5rUHJvdmlkZXJzLnB1c2goZSkse2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgcj10Ll9saW5rUHJvdmlkZXJzLmluZGV4T2YoZSk7LTEhPT1yJiZ0Ll9saW5rUHJvdmlkZXJzLnNwbGljZShyLDEpfX19LHQucHJvdG90eXBlLmF0dGFjaFRvRG9tPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3RoaXMuX2VsZW1lbnQ9ZSx0aGlzLl9tb3VzZVNlcnZpY2U9dCx0aGlzLl9yZW5kZXJTZXJ2aWNlPXIsdGhpcy5yZWdpc3RlcigoMCxmLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5fZWxlbWVudCxcIm1vdXNlbGVhdmVcIiwoZnVuY3Rpb24oKXtpLl9pc01vdXNlT3V0PSEwLGkuX2NsZWFyQ3VycmVudExpbmsoKX0pKSksdGhpcy5yZWdpc3RlcigoMCxmLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5fZWxlbWVudCxcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcykpKSx0aGlzLnJlZ2lzdGVyKCgwLGYuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLl9lbGVtZW50LFwibW91c2Vkb3duXCIsdGhpcy5faGFuZGxlTW91c2VEb3duLmJpbmQodGhpcykpKSx0aGlzLnJlZ2lzdGVyKCgwLGYuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLl9lbGVtZW50LFwibW91c2V1cFwiLHRoaXMuX2hhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSkpfSx0LnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fbGFzdE1vdXNlRXZlbnQ9ZSx0aGlzLl9lbGVtZW50JiZ0aGlzLl9tb3VzZVNlcnZpY2Upe3ZhciB0PXRoaXMuX3Bvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZSx0aGlzLl9lbGVtZW50LHRoaXMuX21vdXNlU2VydmljZSk7aWYodCl7dGhpcy5faXNNb3VzZU91dD0hMTtmb3IodmFyIHI9ZS5jb21wb3NlZFBhdGgoKSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV07aWYobi5jbGFzc0xpc3QuY29udGFpbnMoXCJ4dGVybVwiKSlicmVhaztpZihuLmNsYXNzTGlzdC5jb250YWlucyhcInh0ZXJtLWhvdmVyXCIpKXJldHVybn10aGlzLl9sYXN0QnVmZmVyQ2VsbCYmdC54PT09dGhpcy5fbGFzdEJ1ZmZlckNlbGwueCYmdC55PT09dGhpcy5fbGFzdEJ1ZmZlckNlbGwueXx8KHRoaXMuX29uSG92ZXIodCksdGhpcy5fbGFzdEJ1ZmZlckNlbGw9dCl9fX0sdC5wcm90b3R5cGUuX29uSG92ZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5fYWN0aXZlTGluZSE9PWUueSlyZXR1cm4gdGhpcy5fY2xlYXJDdXJyZW50TGluaygpLHZvaWQgdGhpcy5fYXNrRm9yTGluayhlLCExKTt0aGlzLl9jdXJyZW50TGluayYmdGhpcy5fbGlua0F0UG9zaXRpb24odGhpcy5fY3VycmVudExpbmsubGluayxlKXx8KHRoaXMuX2NsZWFyQ3VycmVudExpbmsoKSx0aGlzLl9hc2tGb3JMaW5rKGUsITApKX0sdC5wcm90b3R5cGUuX2Fza0Zvckxpbms9ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXRoaXM7dGhpcy5fYWN0aXZlUHJvdmlkZXJSZXBsaWVzJiZ0fHwobnVsbD09PShuPXRoaXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcyl8fHZvaWQgMD09PW58fG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7bnVsbD09ZXx8ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmxpbmsuZGlzcG9zZSYmZS5saW5rLmRpc3Bvc2UoKX0pKX0pKSx0aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXM9bmV3IE1hcCx0aGlzLl9hY3RpdmVMaW5lPWUueSk7dmFyIGw9ITEsaD1mdW5jdGlvbihyLGkpe3Q/KG51bGw9PT0obz11Ll9hY3RpdmVQcm92aWRlclJlcGxpZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmdldChyKSkmJihsPXUuX2NoZWNrTGlua1Byb3ZpZGVyUmVzdWx0KHIsZSxsKSk6aS5wcm92aWRlTGlua3MoZS55LChmdW5jdGlvbih0KXt2YXIgaSxuO2lmKCFzLl9pc01vdXNlT3V0KXt2YXIgbz1udWxsPT10P3ZvaWQgMDp0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2xpbms6ZX19KSk7bnVsbD09PShpPXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcyl8fHZvaWQgMD09PWl8fGkuc2V0KHIsbyksbD1zLl9jaGVja0xpbmtQcm92aWRlclJlc3VsdChyLGUsbCksKG51bGw9PT0obj1zLl9hY3RpdmVQcm92aWRlclJlcGxpZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNpemUpPT09cy5fbGlua1Byb3ZpZGVycy5sZW5ndGgmJnMuX3JlbW92ZUludGVyc2VjdGluZ0xpbmtzKGUueSxzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMpfX0pKX0sdT10aGlzO3RyeXtmb3IodmFyIGY9YSh0aGlzLl9saW5rUHJvdmlkZXJzLmVudHJpZXMoKSksXz1mLm5leHQoKTshXy5kb25lO189Zi5uZXh0KCkpe3ZhciBkPWMoXy52YWx1ZSwyKTtoKGRbMF0sZFsxXSl9fWNhdGNoKGUpe3I9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e18mJiFfLmRvbmUmJihpPWYucmV0dXJuKSYmaS5jYWxsKGYpfWZpbmFsbHl7aWYocil0aHJvdyByLmVycm9yfX19LHQucHJvdG90eXBlLl9yZW1vdmVJbnRlcnNlY3RpbmdMaW5rcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1uZXcgU2V0LGk9MDtpPHQuc2l6ZTtpKyspe3ZhciBuPXQuZ2V0KGkpO2lmKG4pZm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspZm9yKHZhciBzPW5bb10sYT1zLmxpbmsucmFuZ2Uuc3RhcnQueTxlPzA6cy5saW5rLnJhbmdlLnN0YXJ0LngsYz1zLmxpbmsucmFuZ2UuZW5kLnk+ZT90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM6cy5saW5rLnJhbmdlLmVuZC54LGw9YTtsPD1jO2wrKyl7aWYoci5oYXMobCkpe24uc3BsaWNlKG8tLSwxKTticmVha31yLmFkZChsKX19fSx0LnByb3RvdHlwZS5fY2hlY2tMaW5rUHJvdmlkZXJSZXN1bHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcztpZighdGhpcy5fYWN0aXZlUHJvdmlkZXJSZXBsaWVzKXJldHVybiByO2Zvcih2YXIgbz10aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMuZ2V0KGUpLHM9ITEsYT0wO2E8ZTthKyspdGhpcy5fYWN0aXZlUHJvdmlkZXJSZXBsaWVzLmhhcyhhKSYmIXRoaXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcy5nZXQoYSl8fChzPSEwKTtpZighcyYmbyl7dmFyIGM9by5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gbi5fbGlua0F0UG9zaXRpb24oZS5saW5rLHQpfSkpO2MmJihyPSEwLHRoaXMuX2hhbmRsZU5ld0xpbmsoYykpfWlmKHRoaXMuX2FjdGl2ZVByb3ZpZGVyUmVwbGllcy5zaXplPT09dGhpcy5fbGlua1Byb3ZpZGVycy5sZW5ndGgmJiFyKWZvcihhPTA7YTx0aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMuc2l6ZTthKyspe3ZhciBsPW51bGw9PT0oaT10aGlzLl9hY3RpdmVQcm92aWRlclJlcGxpZXMuZ2V0KGEpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gbi5fbGlua0F0UG9zaXRpb24oZS5saW5rLHQpfSkpO2lmKGwpe3I9ITAsdGhpcy5faGFuZGxlTmV3TGluayhsKTticmVha319cmV0dXJuIHJ9LHQucHJvdG90eXBlLl9oYW5kbGVNb3VzZURvd249ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURvd25MaW5rPXRoaXMuX2N1cnJlbnRMaW5rfSx0LnByb3RvdHlwZS5faGFuZGxlTW91c2VVcD1mdW5jdGlvbihlKXtpZih0aGlzLl9lbGVtZW50JiZ0aGlzLl9tb3VzZVNlcnZpY2UmJnRoaXMuX2N1cnJlbnRMaW5rKXt2YXIgdD10aGlzLl9wb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGUsdGhpcy5fZWxlbWVudCx0aGlzLl9tb3VzZVNlcnZpY2UpO3QmJnRoaXMuX21vdXNlRG93bkxpbms9PT10aGlzLl9jdXJyZW50TGluayYmdGhpcy5fbGlua0F0UG9zaXRpb24odGhpcy5fY3VycmVudExpbmsubGluayx0KSYmdGhpcy5fY3VycmVudExpbmsubGluay5hY3RpdmF0ZShlLHRoaXMuX2N1cnJlbnRMaW5rLmxpbmsudGV4dCl9fSx0LnByb3RvdHlwZS5fY2xlYXJDdXJyZW50TGluaz1mdW5jdGlvbihlLHQpe3RoaXMuX2VsZW1lbnQmJnRoaXMuX2N1cnJlbnRMaW5rJiZ0aGlzLl9sYXN0TW91c2VFdmVudCYmKCFlfHwhdHx8dGhpcy5fY3VycmVudExpbmsubGluay5yYW5nZS5zdGFydC55Pj1lJiZ0aGlzLl9jdXJyZW50TGluay5saW5rLnJhbmdlLmVuZC55PD10KSYmKHRoaXMuX2xpbmtMZWF2ZSh0aGlzLl9lbGVtZW50LHRoaXMuX2N1cnJlbnRMaW5rLmxpbmssdGhpcy5fbGFzdE1vdXNlRXZlbnQpLHRoaXMuX2N1cnJlbnRMaW5rPXZvaWQgMCwoMCx1LmRpc3Bvc2VBcnJheSkodGhpcy5fbGlua0NhY2hlRGlzcG9zYWJsZXMpKX0sdC5wcm90b3R5cGUuX2hhbmRsZU5ld0xpbms9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9lbGVtZW50JiZ0aGlzLl9sYXN0TW91c2VFdmVudCYmdGhpcy5fbW91c2VTZXJ2aWNlKXt2YXIgcj10aGlzLl9wb3NpdGlvbkZyb21Nb3VzZUV2ZW50KHRoaXMuX2xhc3RNb3VzZUV2ZW50LHRoaXMuX2VsZW1lbnQsdGhpcy5fbW91c2VTZXJ2aWNlKTtyJiZ0aGlzLl9saW5rQXRQb3NpdGlvbihlLmxpbmsscikmJih0aGlzLl9jdXJyZW50TGluaz1lLHRoaXMuX2N1cnJlbnRMaW5rLnN0YXRlPXtkZWNvcmF0aW9uczp7dW5kZXJsaW5lOnZvaWQgMD09PWUubGluay5kZWNvcmF0aW9uc3x8ZS5saW5rLmRlY29yYXRpb25zLnVuZGVybGluZSxwb2ludGVyQ3Vyc29yOnZvaWQgMD09PWUubGluay5kZWNvcmF0aW9uc3x8ZS5saW5rLmRlY29yYXRpb25zLnBvaW50ZXJDdXJzb3J9LGlzSG92ZXJlZDohMH0sdGhpcy5fbGlua0hvdmVyKHRoaXMuX2VsZW1lbnQsZS5saW5rLHRoaXMuX2xhc3RNb3VzZUV2ZW50KSxlLmxpbmsuZGVjb3JhdGlvbnM9e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZS5saW5rLmRlY29yYXRpb25zLHtwb2ludGVyQ3Vyc29yOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZSxyO3JldHVybiBudWxsPT09KHI9bnVsbD09PShlPXQuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zdGF0ZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGVjb3JhdGlvbnMucG9pbnRlckN1cnNvcn0sc2V0OmZ1bmN0aW9uKGUpe3ZhciByLGk7KG51bGw9PT0ocj10Ll9jdXJyZW50TGluayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3RhdGUpJiZ0Ll9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy5wb2ludGVyQ3Vyc29yIT09ZSYmKHQuX2N1cnJlbnRMaW5rLnN0YXRlLmRlY29yYXRpb25zLnBvaW50ZXJDdXJzb3I9ZSx0Ll9jdXJyZW50TGluay5zdGF0ZS5pc0hvdmVyZWQmJihudWxsPT09KGk9dC5fZWxlbWVudCl8fHZvaWQgMD09PWl8fGkuY2xhc3NMaXN0LnRvZ2dsZShcInh0ZXJtLWN1cnNvci1wb2ludGVyXCIsZSkpKX19LHVuZGVybGluZTp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gbnVsbD09PShyPW51bGw9PT0oZT10Ll9jdXJyZW50TGluayl8fHZvaWQgMD09PWU/dm9pZCAwOmUuc3RhdGUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRlY29yYXRpb25zLnVuZGVybGluZX0sc2V0OmZ1bmN0aW9uKHIpe3ZhciBpLG4sbzsobnVsbD09PShpPXQuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdGF0ZSkmJihudWxsPT09KG89bnVsbD09PShuPXQuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zdGF0ZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZGVjb3JhdGlvbnMudW5kZXJsaW5lKSE9PXImJih0Ll9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy51bmRlcmxpbmU9cix0Ll9jdXJyZW50TGluay5zdGF0ZS5pc0hvdmVyZWQmJnQuX2ZpcmVVbmRlcmxpbmVFdmVudChlLmxpbmsscikpfX19KSx0aGlzLl9yZW5kZXJTZXJ2aWNlJiZ0aGlzLl9saW5rQ2FjaGVEaXNwb3NhYmxlcy5wdXNoKHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlKChmdW5jdGlvbihlKXt2YXIgcj0wPT09ZS5zdGFydD8wOmUuc3RhcnQrMSt0Ll9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcDt0Ll9jbGVhckN1cnJlbnRMaW5rKHIsZS5lbmQrMSt0Ll9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCl9KSkpKX19LHQucHJvdG90eXBlLl9saW5rSG92ZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpOyhudWxsPT09KGk9dGhpcy5fY3VycmVudExpbmspfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnN0YXRlKSYmKHRoaXMuX2N1cnJlbnRMaW5rLnN0YXRlLmlzSG92ZXJlZD0hMCx0aGlzLl9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy51bmRlcmxpbmUmJnRoaXMuX2ZpcmVVbmRlcmxpbmVFdmVudCh0LCEwKSx0aGlzLl9jdXJyZW50TGluay5zdGF0ZS5kZWNvcmF0aW9ucy5wb2ludGVyQ3Vyc29yJiZlLmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1jdXJzb3ItcG9pbnRlclwiKSksdC5ob3ZlciYmdC5ob3ZlcihyLHQudGV4dCl9LHQucHJvdG90eXBlLl9maXJlVW5kZXJsaW5lRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnJhbmdlLGk9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3Asbj10aGlzLl9jcmVhdGVMaW5rVW5kZXJsaW5lRXZlbnQoci5zdGFydC54LTEsci5zdGFydC55LWktMSxyLmVuZC54LHIuZW5kLnktaS0xLHZvaWQgMCk7KHQ/dGhpcy5fb25TaG93TGlua1VuZGVybGluZTp0aGlzLl9vbkhpZGVMaW5rVW5kZXJsaW5lKS5maXJlKG4pfSx0LnByb3RvdHlwZS5fbGlua0xlYXZlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaTsobnVsbD09PShpPXRoaXMuX2N1cnJlbnRMaW5rKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdGF0ZSkmJih0aGlzLl9jdXJyZW50TGluay5zdGF0ZS5pc0hvdmVyZWQ9ITEsdGhpcy5fY3VycmVudExpbmsuc3RhdGUuZGVjb3JhdGlvbnMudW5kZXJsaW5lJiZ0aGlzLl9maXJlVW5kZXJsaW5lRXZlbnQodCwhMSksdGhpcy5fY3VycmVudExpbmsuc3RhdGUuZGVjb3JhdGlvbnMucG9pbnRlckN1cnNvciYmZS5jbGFzc0xpc3QucmVtb3ZlKFwieHRlcm0tY3Vyc29yLXBvaW50ZXJcIikpLHQubGVhdmUmJnQubGVhdmUocix0LnRleHQpfSx0LnByb3RvdHlwZS5fbGlua0F0UG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnJhbmdlLnN0YXJ0Lnk9PT1lLnJhbmdlLmVuZC55LGk9ZS5yYW5nZS5zdGFydC55PHQueSxuPWUucmFuZ2UuZW5kLnk+dC55O3JldHVybihyJiZlLnJhbmdlLnN0YXJ0Lng8PXQueCYmZS5yYW5nZS5lbmQueD49dC54fHxpJiZlLnJhbmdlLmVuZC54Pj10Lnh8fG4mJmUucmFuZ2Uuc3RhcnQueDw9dC54fHxpJiZuKSYmZS5yYW5nZS5zdGFydC55PD10LnkmJmUucmFuZ2UuZW5kLnk+PXQueX0sdC5wcm90b3R5cGUuX3Bvc2l0aW9uRnJvbU1vdXNlRXZlbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuZ2V0Q29vcmRzKGUsdCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKTtpZihpKXJldHVybnt4OmlbMF0seTppWzFdK3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwfX0sdC5wcm90b3R5cGUuX2NyZWF0ZUxpbmtVbmRlcmxpbmVFdmVudD1mdW5jdGlvbihlLHQscixpLG4pe3JldHVybnt4MTplLHkxOnQseDI6cix5MjppLGNvbHM6dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGZnOm59fSxvKFtzKDAsbC5JQnVmZmVyU2VydmljZSldLHQpfSh1LkRpc3Bvc2FibGUpO3QuTGlua2lmaWVyMj1ffSw5MDQyOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC50b29NdWNoT3V0cHV0PXQucHJvbXB0TGFiZWw9dm9pZCAwLHQucHJvbXB0TGFiZWw9XCJUZXJtaW5hbCBpbnB1dFwiLHQudG9vTXVjaE91dHB1dD1cIlRvbyBtdWNoIG91dHB1dCB0byBhbm5vdW5jZSwgbmF2aWdhdGUgdG8gcm93cyBtYW51YWxseSB0byByZWFkXCJ9LDY5NTQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTW91c2Vab25lTWFuYWdlcj12b2lkIDA7dmFyIGE9cig4NDQpLGM9cigzNjU2KSxsPXIoNDcyNSksaD1yKDI1ODUpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyl7dmFyIGE9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBhLl9lbGVtZW50PXQsYS5fc2NyZWVuRWxlbWVudD1yLGEuX2J1ZmZlclNlcnZpY2U9aSxhLl9tb3VzZVNlcnZpY2U9bixhLl9zZWxlY3Rpb25TZXJ2aWNlPW8sYS5fb3B0aW9uc1NlcnZpY2U9cyxhLl96b25lcz1bXSxhLl9hcmVab25lc0FjdGl2ZT0hMSxhLl9sYXN0SG92ZXJDb29yZHM9W3ZvaWQgMCx2b2lkIDBdLGEuX2luaXRpYWxTZWxlY3Rpb25MZW5ndGg9MCxhLnJlZ2lzdGVyKCgwLGMuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKShhLl9lbGVtZW50LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBhLl9vbk1vdXNlRG93bihlKX0pKSksYS5fbW91c2VNb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX29uTW91c2VNb3ZlKGUpfSxhLl9tb3VzZUxlYXZlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuX29uTW91c2VMZWF2ZShlKX0sYS5fY2xpY2tMaXN0ZW5lcj1mdW5jdGlvbihlKXtyZXR1cm4gYS5fb25DbGljayhlKX0sYX1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZGVhY3RpdmF0ZSgpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dGhpcy5fem9uZXMucHVzaChlKSwxPT09dGhpcy5fem9uZXMubGVuZ3RoJiZ0aGlzLl9hY3RpdmF0ZSgpfSx0LnByb3RvdHlwZS5jbGVhckFsbD1mdW5jdGlvbihlLHQpe2lmKDAhPT10aGlzLl96b25lcy5sZW5ndGgpe2UmJnR8fChlPTAsdD10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSk7Zm9yKHZhciByPTA7cjx0aGlzLl96b25lcy5sZW5ndGg7cisrKXt2YXIgaT10aGlzLl96b25lc1tyXTsoaS55MT5lJiZpLnkxPD10KzF8fGkueTI+ZSYmaS55Mjw9dCsxfHxpLnkxPGUmJmkueTI+dCsxKSYmKHRoaXMuX2N1cnJlbnRab25lJiZ0aGlzLl9jdXJyZW50Wm9uZT09PWkmJih0aGlzLl9jdXJyZW50Wm9uZS5sZWF2ZUNhbGxiYWNrKCksdGhpcy5fY3VycmVudFpvbmU9dm9pZCAwKSx0aGlzLl96b25lcy5zcGxpY2Uoci0tLDEpKX0wPT09dGhpcy5fem9uZXMubGVuZ3RoJiZ0aGlzLl9kZWFjdGl2YXRlKCl9fSx0LnByb3RvdHlwZS5fYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9hcmVab25lc0FjdGl2ZXx8KHRoaXMuX2FyZVpvbmVzQWN0aXZlPSEwLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fbW91c2VMZWF2ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2NsaWNrTGlzdGVuZXIpKX0sdC5wcm90b3R5cGUuX2RlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLl9hcmVab25lc0FjdGl2ZSYmKHRoaXMuX2FyZVpvbmVzQWN0aXZlPSExLHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsdGhpcy5fbW91c2VMZWF2ZUxpc3RlbmVyKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2NsaWNrTGlzdGVuZXIpKX0sdC5wcm90b3R5cGUuX29uTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuX2xhc3RIb3ZlckNvb3Jkc1swXT09PWUucGFnZVgmJnRoaXMuX2xhc3RIb3ZlckNvb3Jkc1sxXT09PWUucGFnZVl8fCh0aGlzLl9vbkhvdmVyKGUpLHRoaXMuX2xhc3RIb3ZlckNvb3Jkcz1bZS5wYWdlWCxlLnBhZ2VZXSl9LHQucHJvdG90eXBlLl9vbkhvdmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj10aGlzLl9maW5kWm9uZUV2ZW50QXQoZSk7ciE9PXRoaXMuX2N1cnJlbnRab25lJiYodGhpcy5fY3VycmVudFpvbmUmJih0aGlzLl9jdXJyZW50Wm9uZS5sZWF2ZUNhbGxiYWNrKCksdGhpcy5fY3VycmVudFpvbmU9dm9pZCAwLHRoaXMuX3Rvb2x0aXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fdG9vbHRpcFRpbWVvdXQpKSxyJiYodGhpcy5fY3VycmVudFpvbmU9cixyLmhvdmVyQ2FsbGJhY2smJnIuaG92ZXJDYWxsYmFjayhlKSx0aGlzLl90b29sdGlwVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25Ub29sdGlwKGUpfSksdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5saW5rVG9vbHRpcEhvdmVyRHVyYXRpb24pKSl9LHQucHJvdG90eXBlLl9vblRvb2x0aXA9ZnVuY3Rpb24oZSl7dGhpcy5fdG9vbHRpcFRpbWVvdXQ9dm9pZCAwO3ZhciB0PXRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTtudWxsPT10fHx0LnRvb2x0aXBDYWxsYmFjayhlKX0sdC5wcm90b3R5cGUuX29uTW91c2VEb3duPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2luaXRpYWxTZWxlY3Rpb25MZW5ndGg9dGhpcy5fZ2V0U2VsZWN0aW9uTGVuZ3RoKCksdGhpcy5fYXJlWm9uZXNBY3RpdmUpe3ZhciB0PXRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTsobnVsbD09dD92b2lkIDA6dC53aWxsTGlua0FjdGl2YXRlKGUpKSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19LHQucHJvdG90eXBlLl9vbk1vdXNlTGVhdmU9ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFpvbmUmJih0aGlzLl9jdXJyZW50Wm9uZS5sZWF2ZUNhbGxiYWNrKCksdGhpcy5fY3VycmVudFpvbmU9dm9pZCAwLHRoaXMuX3Rvb2x0aXBUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fdG9vbHRpcFRpbWVvdXQpKX0sdC5wcm90b3R5cGUuX29uQ2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmluZFpvbmVFdmVudEF0KGUpLHI9dGhpcy5fZ2V0U2VsZWN0aW9uTGVuZ3RoKCk7dCYmcj09PXRoaXMuX2luaXRpYWxTZWxlY3Rpb25MZW5ndGgmJih0LmNsaWNrQ2FsbGJhY2soZSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfSx0LnByb3RvdHlwZS5fZ2V0U2VsZWN0aW9uTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2VsZWN0aW9uU2VydmljZS5zZWxlY3Rpb25UZXh0O3JldHVybiBlP2UubGVuZ3RoOjB9LHQucHJvdG90eXBlLl9maW5kWm9uZUV2ZW50QXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW91c2VTZXJ2aWNlLmdldENvb3JkcyhlLHRoaXMuX3NjcmVlbkVsZW1lbnQsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyk7aWYodClmb3IodmFyIHI9dFswXSxpPXRbMV0sbj0wO248dGhpcy5fem9uZXMubGVuZ3RoO24rKyl7dmFyIG89dGhpcy5fem9uZXNbbl07aWYoby55MT09PW8ueTIpe2lmKGk9PT1vLnkxJiZyPj1vLngxJiZyPG8ueDIpcmV0dXJuIG99ZWxzZSBpZihpPT09by55MSYmcj49by54MXx8aT09PW8ueTImJnI8by54Mnx8aT5vLnkxJiZpPG8ueTIpcmV0dXJuIG99fSxvKFtzKDIsaC5JQnVmZmVyU2VydmljZSkscygzLGwuSU1vdXNlU2VydmljZSkscyg0LGwuSVNlbGVjdGlvblNlcnZpY2UpLHMoNSxoLklPcHRpb25zU2VydmljZSldLHQpfShhLkRpc3Bvc2FibGUpO3QuTW91c2Vab25lTWFuYWdlcj11fSw2MTkzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SZW5kZXJEZWJvdW5jZXI9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9yZW5kZXJDYWxsYmFjaz1lLHRoaXMuX3JlZnJlc2hDYWxsYmFja3M9W119cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9hbmltYXRpb25GcmFtZSYmKHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSksdGhpcy5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwKX0sZS5wcm90b3R5cGUuYWRkUmVmcmVzaENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3JlZnJlc2hDYWxsYmFja3MucHVzaChlKSx0aGlzLl9hbmltYXRpb25GcmFtZXx8KHRoaXMuX2FuaW1hdGlvbkZyYW1lPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2lubmVyUmVmcmVzaCgpfSkpKSx0aGlzLl9hbmltYXRpb25GcmFtZX0sZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpczt0aGlzLl9yb3dDb3VudD1yLGU9dm9pZCAwIT09ZT9lOjAsdD12b2lkIDAhPT10P3Q6dGhpcy5fcm93Q291bnQtMSx0aGlzLl9yb3dTdGFydD12b2lkIDAhPT10aGlzLl9yb3dTdGFydD9NYXRoLm1pbih0aGlzLl9yb3dTdGFydCxlKTplLHRoaXMuX3Jvd0VuZD12b2lkIDAhPT10aGlzLl9yb3dFbmQ/TWF0aC5tYXgodGhpcy5fcm93RW5kLHQpOnQsdGhpcy5fYW5pbWF0aW9uRnJhbWV8fCh0aGlzLl9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3JldHVybiBpLl9pbm5lclJlZnJlc2goKX0pKSl9LGUucHJvdG90eXBlLl9pbm5lclJlZnJlc2g9ZnVuY3Rpb24oKXtpZih0aGlzLl9hbmltYXRpb25GcmFtZT12b2lkIDAsdm9pZCAwIT09dGhpcy5fcm93U3RhcnQmJnZvaWQgMCE9PXRoaXMuX3Jvd0VuZCYmdm9pZCAwIT09dGhpcy5fcm93Q291bnQpe3ZhciBlPU1hdGgubWF4KHRoaXMuX3Jvd1N0YXJ0LDApLHQ9TWF0aC5taW4odGhpcy5fcm93RW5kLHRoaXMuX3Jvd0NvdW50LTEpO3RoaXMuX3Jvd1N0YXJ0PXZvaWQgMCx0aGlzLl9yb3dFbmQ9dm9pZCAwLHRoaXMuX3JlbmRlckNhbGxiYWNrKGUsdCksdGhpcy5fcnVuUmVmcmVzaENhbGxiYWNrcygpfWVsc2UgdGhpcy5fcnVuUmVmcmVzaENhbGxiYWNrcygpfSxlLnByb3RvdHlwZS5fcnVuUmVmcmVzaENhbGxiYWNrcz1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e2Zvcih2YXIgaT1yKHRoaXMuX3JlZnJlc2hDYWxsYmFja3MpLG49aS5uZXh0KCk7IW4uZG9uZTtuPWkubmV4dCgpKSgwLG4udmFsdWUpKDApfWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJih0PWkucmV0dXJuKSYmdC5jYWxsKGkpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLl9yZWZyZXNoQ2FsbGJhY2tzPVtdfSxlfSgpO3QuUmVuZGVyRGVib3VuY2VyPWl9LDU1OTY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TY3JlZW5EcHJNb25pdG9yPXZvaWQgMDt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0fXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUuc2V0TGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9saXN0ZW5lciYmdGhpcy5jbGVhckxpc3RlbmVyKCksdGhpcy5fbGlzdGVuZXI9ZSx0aGlzLl9vdXRlckxpc3RlbmVyPWZ1bmN0aW9uKCl7dC5fbGlzdGVuZXImJih0Ll9saXN0ZW5lcih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0Ll9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyksdC5fdXBkYXRlRHByKCkpfSx0aGlzLl91cGRhdGVEcHIoKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLmNsZWFyTGlzdGVuZXIoKX0sdC5wcm90b3R5cGUuX3VwZGF0ZURwcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuX291dGVyTGlzdGVuZXImJihudWxsPT09KGU9dGhpcy5fcmVzb2x1dGlvbk1lZGlhTWF0Y2hMaXN0KXx8dm9pZCAwPT09ZXx8ZS5yZW1vdmVMaXN0ZW5lcih0aGlzLl9vdXRlckxpc3RlbmVyKSx0aGlzLl9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLl9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3Q9d2luZG93Lm1hdGNoTWVkaWEoXCJzY3JlZW4gYW5kIChyZXNvbHV0aW9uOiBcIit3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbytcImRwcHgpXCIpLHRoaXMuX3Jlc29sdXRpb25NZWRpYU1hdGNoTGlzdC5hZGRMaXN0ZW5lcih0aGlzLl9vdXRlckxpc3RlbmVyKSl9LHQucHJvdG90eXBlLmNsZWFyTGlzdGVuZXI9ZnVuY3Rpb24oKXt0aGlzLl9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3QmJnRoaXMuX2xpc3RlbmVyJiZ0aGlzLl9vdXRlckxpc3RlbmVyJiYodGhpcy5fcmVzb2x1dGlvbk1lZGlhTWF0Y2hMaXN0LnJlbW92ZUxpc3RlbmVyKHRoaXMuX291dGVyTGlzdGVuZXIpLHRoaXMuX3Jlc29sdXRpb25NZWRpYU1hdGNoTGlzdD12b2lkIDAsdGhpcy5fbGlzdGVuZXI9dm9pZCAwLHRoaXMuX291dGVyTGlzdGVuZXI9dm9pZCAwKX0sdH0ocig4NDQpLkRpc3Bvc2FibGUpO3QuU2NyZWVuRHByTW9uaXRvcj1vfSwzMjM2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX0scz10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgaSxuLG89ci5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEoaT1vLm5leHQoKSkuZG9uZTspcy5wdXNoKGkudmFsdWUpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gc30sYT10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXl8fGZ1bmN0aW9uKGUsdCxyKXtpZihyfHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGksbj0wLG89dC5sZW5ndGg7bjxvO24rKykhaSYmbiBpbiB0fHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLG4pKSxpW25dPXRbbl0pO3JldHVybiBlLmNvbmNhdChpfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVGVybWluYWw9dm9pZCAwO3ZhciBjPXIoMjk1MCksbD1yKDE2ODApLGg9cigzNjE0KSx1PXIoMjU4NCksZj1yKDU0MzUpLF89cigzNTI1KSxkPXIoMzU1MSkscD1yKDkzMTIpLHY9cig2MTE0KSx5PXIoMzY1NiksZz1yKDkwNDIpLG09cigzNTcpLGI9cig2OTU0KSxTPXIoNDU2NyksQz1yKDEyOTYpLHc9cig3Mzk5KSxMPXIoODQ2MCksRT1yKDg0MzcpLHg9cig1NjgwKSxSPXIoMzIzMCksaz1yKDQ3MjUpLE09cig0MjgpLEE9cig4OTM0KSxPPXIoNjQ2NSksRD1yKDUxMTQpLFQ9cig4OTY5KSxCPXIoODA1NSksUD1yKDQyNjkpLEk9cig1OTQxKSxIPXIoMzEwNyksaj1yKDU3NDQpLEY9cig5MDc0KSxXPXIoMjU4NSksVT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5kb2N1bWVudDpudWxsLHE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuYnJvd3Nlcj12LHIuX2tleURvd25IYW5kbGVkPSExLHIuX2tleURvd25TZWVuPSExLHIuX2tleVByZXNzSGFuZGxlZD0hMSxyLl91bnByb2Nlc3NlZERlYWRLZXk9ITEsci5fb25DdXJzb3JNb3ZlPW5ldyBMLkV2ZW50RW1pdHRlcixyLl9vbktleT1uZXcgTC5FdmVudEVtaXR0ZXIsci5fb25SZW5kZXI9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uU2VsZWN0aW9uQ2hhbmdlPW5ldyBMLkV2ZW50RW1pdHRlcixyLl9vblRpdGxlQ2hhbmdlPW5ldyBMLkV2ZW50RW1pdHRlcixyLl9vbkJlbGw9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uRm9jdXM9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uQmx1cj1uZXcgTC5FdmVudEVtaXR0ZXIsci5fb25BMTF5Q2hhckVtaXR0ZXI9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX29uQTExeVRhYkVtaXR0ZXI9bmV3IEwuRXZlbnRFbWl0dGVyLHIuX3NldHVwKCksci5saW5raWZpZXI9ci5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoZC5MaW5raWZpZXIpLHIubGlua2lmaWVyMj1yLnJlZ2lzdGVyKHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKE8uTGlua2lmaWVyMikpLHIuX2RlY29yYXRpb25TZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKEYuRGVjb3JhdGlvblNlcnZpY2UpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoVy5JRGVjb3JhdGlvblNlcnZpY2Usci5fZGVjb3JhdGlvblNlcnZpY2UpLHIucmVnaXN0ZXIoci5faW5wdXRIYW5kbGVyLm9uUmVxdWVzdEJlbGwoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuYmVsbCgpfSkpKSxyLnJlZ2lzdGVyKHIuX2lucHV0SGFuZGxlci5vblJlcXVlc3RSZWZyZXNoUm93cygoZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5yZWZyZXNoKGUsdCl9KSkpLHIucmVnaXN0ZXIoci5faW5wdXRIYW5kbGVyLm9uUmVxdWVzdFNlbmRGb2N1cygoZnVuY3Rpb24oKXtyZXR1cm4gci5fcmVwb3J0Rm9jdXMoKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25SZXF1ZXN0UmVzZXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzZXQoKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25SZXF1ZXN0V2luZG93c09wdGlvbnNSZXBvcnQoKGZ1bmN0aW9uKGUpe3JldHVybiByLl9yZXBvcnRXaW5kb3dzT3B0aW9ucyhlKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25Db2xvcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2hhbmRsZUNvbG9yRXZlbnQoZSl9KSkpLHIucmVnaXN0ZXIoKDAsTC5mb3J3YXJkRXZlbnQpKHIuX2lucHV0SGFuZGxlci5vbkN1cnNvck1vdmUsci5fb25DdXJzb3JNb3ZlKSksci5yZWdpc3RlcigoMCxMLmZvcndhcmRFdmVudCkoci5faW5wdXRIYW5kbGVyLm9uVGl0bGVDaGFuZ2Usci5fb25UaXRsZUNoYW5nZSkpLHIucmVnaXN0ZXIoKDAsTC5mb3J3YXJkRXZlbnQpKHIuX2lucHV0SGFuZGxlci5vbkExMXlDaGFyLHIuX29uQTExeUNoYXJFbWl0dGVyKSksci5yZWdpc3RlcigoMCxMLmZvcndhcmRFdmVudCkoci5faW5wdXRIYW5kbGVyLm9uQTExeVRhYixyLl9vbkExMXlUYWJFbWl0dGVyKSksci5yZWdpc3RlcihyLl9idWZmZXJTZXJ2aWNlLm9uUmVzaXplKChmdW5jdGlvbihlKXtyZXR1cm4gci5fYWZ0ZXJSZXNpemUoZS5jb2xzLGUucm93cyl9KSkpLHJ9cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkN1cnNvck1vdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQ3Vyc29yTW92ZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbktleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25LZXkuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVuZGVyLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uU2VsZWN0aW9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblNlbGVjdGlvbkNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblRpdGxlQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblRpdGxlQ2hhbmdlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQmVsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25CZWxsLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uRm9jdXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRm9jdXMuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25CbHVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJsdXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25BMTF5Q2hhclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25BMTF5Q2hhckVtaXR0ZXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25BMTF5VGFiXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkExMXlUYWJFbWl0dGVyLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9oYW5kbGVDb2xvckV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxuO2lmKHRoaXMuX2NvbG9yTWFuYWdlcil7dHJ5e2Zvcih2YXIgYz1vKGUpLGw9Yy5uZXh0KCk7IWwuZG9uZTtsPWMubmV4dCgpKXt2YXIgaD1sLnZhbHVlLGY9dm9pZCAwLF89XCJcIjtzd2l0Y2goaC5pbmRleCl7Y2FzZSAyNTY6Zj1cImZvcmVncm91bmRcIixfPVwiMTBcIjticmVhaztjYXNlIDI1NzpmPVwiYmFja2dyb3VuZFwiLF89XCIxMVwiO2JyZWFrO2Nhc2UgMjU4OmY9XCJjdXJzb3JcIixfPVwiMTJcIjticmVhaztkZWZhdWx0OmY9XCJhbnNpXCIsXz1cIjQ7XCIraC5pbmRleH1pZihmKXN3aXRjaChoLnR5cGUpe2Nhc2UgMDp2YXIgZD1CLmNvbG9yLnRvQ29sb3JSR0IoXCJhbnNpXCI9PT1mP3RoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMuYW5zaVtoLmluZGV4XTp0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzW2ZdKTt0aGlzLmNvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQodS5DMC5FU0MrXCJdXCIrXytcIjtcIisoMCxJLnRvUmdiU3RyaW5nKShkKSt1LkMxX0VTQ0FQRUQuU1QpO2JyZWFrO2Nhc2UgMTpcImFuc2lcIj09PWY/dGhpcy5fY29sb3JNYW5hZ2VyLmNvbG9ycy5hbnNpW2guaW5kZXhdPUIucmdiYS50b0NvbG9yLmFwcGx5KEIucmdiYSxhKFtdLHMoaC5jb2xvciksITEpKTp0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzW2ZdPUIucmdiYS50b0NvbG9yLmFwcGx5KEIucmdiYSxhKFtdLHMoaC5jb2xvciksITEpKTticmVhaztjYXNlIDI6dGhpcy5fY29sb3JNYW5hZ2VyLnJlc3RvcmVDb2xvcihoLmluZGV4KX19fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2wmJiFsLmRvbmUmJihyPWMucmV0dXJuKSYmci5jYWxsKGMpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1udWxsPT09KGk9dGhpcy5fcmVuZGVyU2VydmljZSl8fHZvaWQgMD09PWl8fGkuc2V0Q29sb3JzKHRoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMpLG51bGw9PT0obj10aGlzLnZpZXdwb3J0KXx8dm9pZCAwPT09bnx8bi5vblRoZW1lQ2hhbmdlKHRoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMpfX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0LHIsaTt0aGlzLl9pc0Rpc3Bvc2VkfHwoZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl9yZW5kZXJTZXJ2aWNlKXx8dm9pZCAwPT09dHx8dC5kaXNwb3NlKCksdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyPXZvaWQgMCx0aGlzLndyaXRlPWZ1bmN0aW9uKCl7fSxudWxsPT09KGk9bnVsbD09PShyPXRoaXMuZWxlbWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucGFyZW50Tm9kZSl8fHZvaWQgMD09PWl8fGkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KSl9LHQucHJvdG90eXBlLl9zZXR1cD1mdW5jdGlvbigpe2UucHJvdG90eXBlLl9zZXR1cC5jYWxsKHRoaXMpLHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcj12b2lkIDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJ1ZmZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJzLmFjdGl2ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMudGV4dGFyZWEmJnRoaXMudGV4dGFyZWEuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KX0sdC5wcm90b3R5cGUuX3VwZGF0ZU9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIHIsaSxuLG87c3dpdGNoKGUucHJvdG90eXBlLl91cGRhdGVPcHRpb25zLmNhbGwodGhpcyx0KSx0KXtjYXNlXCJmb250RmFtaWx5XCI6Y2FzZVwiZm9udFNpemVcIjpudWxsPT09KHI9dGhpcy5fcmVuZGVyU2VydmljZSl8fHZvaWQgMD09PXJ8fHIuY2xlYXIoKSxudWxsPT09KGk9dGhpcy5fY2hhclNpemVTZXJ2aWNlKXx8dm9pZCAwPT09aXx8aS5tZWFzdXJlKCk7YnJlYWs7Y2FzZVwiY3Vyc29yQmxpbmtcIjpjYXNlXCJjdXJzb3JTdHlsZVwiOnRoaXMucmVmcmVzaCh0aGlzLmJ1ZmZlci55LHRoaXMuYnVmZmVyLnkpO2JyZWFrO2Nhc2VcImN1c3RvbUdseXBoc1wiOmNhc2VcImRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzXCI6Y2FzZVwibGV0dGVyU3BhY2luZ1wiOmNhc2VcImxpbmVIZWlnaHRcIjpjYXNlXCJmb250V2VpZ2h0XCI6Y2FzZVwiZm9udFdlaWdodEJvbGRcIjpjYXNlXCJtaW5pbXVtQ29udHJhc3RSYXRpb1wiOnRoaXMuX3JlbmRlclNlcnZpY2UmJih0aGlzLl9yZW5kZXJTZXJ2aWNlLmNsZWFyKCksdGhpcy5fcmVuZGVyU2VydmljZS5vblJlc2l6ZSh0aGlzLmNvbHMsdGhpcy5yb3dzKSx0aGlzLnJlZnJlc2goMCx0aGlzLnJvd3MtMSkpO2JyZWFrO2Nhc2VcInJlbmRlcmVyVHlwZVwiOnRoaXMuX3JlbmRlclNlcnZpY2UmJih0aGlzLl9yZW5kZXJTZXJ2aWNlLnNldFJlbmRlcmVyKHRoaXMuX2NyZWF0ZVJlbmRlcmVyKCkpLHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZXNpemUodGhpcy5jb2xzLHRoaXMucm93cykpO2JyZWFrO2Nhc2VcInNjcm9sbGJhY2tcIjpudWxsPT09KG49dGhpcy52aWV3cG9ydCl8fHZvaWQgMD09PW58fG4uc3luY1Njcm9sbEFyZWEoKTticmVhaztjYXNlXCJzY3JlZW5SZWFkZXJNb2RlXCI6dGhpcy5vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLnNjcmVlblJlYWRlck1vZGU/IXRoaXMuX2FjY2Vzc2liaWxpdHlNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJTZXJ2aWNlJiYodGhpcy5fYWNjZXNzaWJpbGl0eU1hbmFnZXI9bmV3IFMuQWNjZXNzaWJpbGl0eU1hbmFnZXIodGhpcyx0aGlzLl9yZW5kZXJTZXJ2aWNlKSk6KG51bGw9PT0obz10aGlzLl9hY2Nlc3NpYmlsaXR5TWFuYWdlcil8fHZvaWQgMD09PW98fG8uZGlzcG9zZSgpLHRoaXMuX2FjY2Vzc2liaWxpdHlNYW5hZ2VyPXZvaWQgMCk7YnJlYWs7Y2FzZVwidGFiU3RvcFdpZHRoXCI6dGhpcy5idWZmZXJzLnNldHVwVGFiU3RvcHMoKTticmVhaztjYXNlXCJ0aGVtZVwiOnRoaXMuX3NldFRoZW1lKHRoaXMub3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy50aGVtZSl9fSx0LnByb3RvdHlwZS5fb25UZXh0QXJlYUZvY3VzPWZ1bmN0aW9uKGUpe3RoaXMuY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLnNlbmRGb2N1cyYmdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHUuQzAuRVNDK1wiW0lcIiksdGhpcy51cGRhdGVDdXJzb3JTdHlsZShlKSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImZvY3VzXCIpLHRoaXMuX3Nob3dDdXJzb3IoKSx0aGlzLl9vbkZvY3VzLmZpcmUoKX0sdC5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy50ZXh0YXJlYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuYmx1cigpfSx0LnByb3RvdHlwZS5fb25UZXh0QXJlYUJsdXI9ZnVuY3Rpb24oKXt0aGlzLnRleHRhcmVhLnZhbHVlPVwiXCIsdGhpcy5yZWZyZXNoKHRoaXMuYnVmZmVyLnksdGhpcy5idWZmZXIueSksdGhpcy5jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuc2VuZEZvY3VzJiZ0aGlzLmNvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQodS5DMC5FU0MrXCJbT1wiKSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvY3VzXCIpLHRoaXMuX29uQmx1ci5maXJlKCl9LHQucHJvdG90eXBlLl9zeW5jVGV4dEFyZWE9ZnVuY3Rpb24oKXtpZih0aGlzLnRleHRhcmVhJiZ0aGlzLmJ1ZmZlci5pc0N1cnNvckluVmlld3BvcnQmJiF0aGlzLl9jb21wb3NpdGlvbkhlbHBlci5pc0NvbXBvc2luZyYmdGhpcy5fcmVuZGVyU2VydmljZSl7dmFyIGU9dGhpcy5idWZmZXIueWJhc2UrdGhpcy5idWZmZXIueSx0PXRoaXMuYnVmZmVyLmxpbmVzLmdldChlKTtpZih0KXt2YXIgcj1NYXRoLm1pbih0aGlzLmJ1ZmZlci54LHRoaXMuY29scy0xKSxpPXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0LG49dC5nZXRXaWR0aChyKSxvPXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgqbixzPXRoaXMuYnVmZmVyLnkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQsYT1yKnRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGg7dGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PWErXCJweFwiLHRoaXMudGV4dGFyZWEuc3R5bGUudG9wPXMrXCJweFwiLHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9bytcInB4XCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9aStcInB4XCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5saW5lSGVpZ2h0PWkrXCJweFwiLHRoaXMudGV4dGFyZWEuc3R5bGUuekluZGV4PVwiLTVcIn19fSx0LnByb3RvdHlwZS5faW5pdEdsb2JhbD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fYmluZEtleXMoKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLmVsZW1lbnQsXCJjb3B5XCIsKGZ1bmN0aW9uKHQpe2UuaGFzU2VsZWN0aW9uKCkmJigwLGguY29weUhhbmRsZXIpKHQsZS5fc2VsZWN0aW9uU2VydmljZSl9KSkpO3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybigwLGguaGFuZGxlUGFzdGVFdmVudCkodCxlLnRleHRhcmVhLGUuY29yZVNlcnZpY2UpfTt0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwicGFzdGVcIix0KSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwicGFzdGVcIix0KSksdi5pc0ZpcmVmb3g/dGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKHQpezI9PT10LmJ1dHRvbiYmKDAsaC5yaWdodENsaWNrSGFuZGxlcikodCxlLnRleHRhcmVhLGUuc2NyZWVuRWxlbWVudCxlLl9zZWxlY3Rpb25TZXJ2aWNlLGUub3B0aW9ucy5yaWdodENsaWNrU2VsZWN0c1dvcmQpfSkpKTp0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLmVsZW1lbnQsXCJjb250ZXh0bWVudVwiLChmdW5jdGlvbih0KXsoMCxoLnJpZ2h0Q2xpY2tIYW5kbGVyKSh0LGUudGV4dGFyZWEsZS5zY3JlZW5FbGVtZW50LGUuX3NlbGVjdGlvblNlcnZpY2UsZS5vcHRpb25zLnJpZ2h0Q2xpY2tTZWxlY3RzV29yZCl9KSkpLHYuaXNMaW51eCYmdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwiYXV4Y2xpY2tcIiwoZnVuY3Rpb24odCl7MT09PXQuYnV0dG9uJiYoMCxoLm1vdmVUZXh0QXJlYVVuZGVyTW91c2VDdXJzb3IpKHQsZS50ZXh0YXJlYSxlLnNjcmVlbkVsZW1lbnQpfSkpKX0sdC5wcm90b3R5cGUuX2JpbmRLZXlzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwia2V5dXBcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2tleVVwKHQpfSksITApKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwia2V5ZG93blwiLChmdW5jdGlvbih0KXtyZXR1cm4gZS5fa2V5RG93bih0KX0pLCEwKSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImtleXByZXNzXCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9rZXlQcmVzcyh0KX0pLCEwKSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImNvbXBvc2l0aW9uc3RhcnRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5fY29tcG9zaXRpb25IZWxwZXIuY29tcG9zaXRpb25zdGFydCgpfSkpKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwiY29tcG9zaXRpb251cGRhdGVcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NvbXBvc2l0aW9uSGVscGVyLmNvbXBvc2l0aW9udXBkYXRlKHQpfSkpKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKSh0aGlzLnRleHRhcmVhLFwiY29tcG9zaXRpb25lbmRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS5fY29tcG9zaXRpb25IZWxwZXIuY29tcG9zaXRpb25lbmQoKX0pKSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImlucHV0XCIsKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9pbnB1dEV2ZW50KHQpfSksITApKSx0aGlzLnJlZ2lzdGVyKHRoaXMub25SZW5kZXIoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2NvbXBvc2l0aW9uSGVscGVyLnVwZGF0ZUNvbXBvc2l0aW9uRWxlbWVudHMoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLm9uUmVuZGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcXVldWVMaW5raWZpY2F0aW9uKHQuc3RhcnQsdC5lbmQpfSkpKX0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIHJlcXVpcmVzIGEgcGFyZW50IGVsZW1lbnQuXCIpO2UuaXNDb25uZWN0ZWR8fHRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJUZXJtaW5hbC5vcGVuIHdhcyBjYWxsZWQgb24gYW4gZWxlbWVudCB0aGF0IHdhcyBub3QgYXR0YWNoZWQgdG8gdGhlIERPTVwiKSx0aGlzLl9kb2N1bWVudD1lLm93bmVyRG9jdW1lbnQsdGhpcy5lbGVtZW50PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5lbGVtZW50LmRpcj1cImx0clwiLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGVybWluYWxcIiksdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO3ZhciByPVUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3RoaXMuX3ZpZXdwb3J0RWxlbWVudD1VLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5fdmlld3BvcnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybS12aWV3cG9ydFwiKSxyLmFwcGVuZENoaWxkKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCksdGhpcy5fdmlld3BvcnRTY3JvbGxBcmVhPVUuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl92aWV3cG9ydFNjcm9sbEFyZWEuY2xhc3NMaXN0LmFkZChcInh0ZXJtLXNjcm9sbC1hcmVhXCIpLHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl92aWV3cG9ydFNjcm9sbEFyZWEpLHRoaXMuc2NyZWVuRWxlbWVudD1VLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5zY3JlZW5FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1zY3JlZW5cIiksdGhpcy5faGVscGVyQ29udGFpbmVyPVUuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLl9oZWxwZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInh0ZXJtLWhlbHBlcnNcIiksdGhpcy5zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2hlbHBlckNvbnRhaW5lciksci5hcHBlbmRDaGlsZCh0aGlzLnNjcmVlbkVsZW1lbnQpLHRoaXMudGV4dGFyZWE9VS5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdGhpcy50ZXh0YXJlYS5jbGFzc0xpc3QuYWRkKFwieHRlcm0taGVscGVyLXRleHRhcmVhXCIpLHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGcucHJvbXB0TGFiZWwpLHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKFwiYXJpYS1tdWx0aWxpbmVcIixcImZhbHNlXCIpLHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIixcIm9mZlwiKSx0aGlzLnRleHRhcmVhLnNldEF0dHJpYnV0ZShcImF1dG9jYXBpdGFsaXplXCIsXCJvZmZcIiksdGhpcy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsXCJmYWxzZVwiKSx0aGlzLnRleHRhcmVhLnRhYkluZGV4PTAsdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy50ZXh0YXJlYSxcImZvY3VzXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9vblRleHRBcmVhRm9jdXMoZSl9KSkpLHRoaXMucmVnaXN0ZXIoKDAseS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHRoaXMudGV4dGFyZWEsXCJibHVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX29uVGV4dEFyZWFCbHVyKCl9KSkpLHRoaXMuX2hlbHBlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRleHRhcmVhKTt2YXIgaT10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShELkNvcmVCcm93c2VyU2VydmljZSx0aGlzLnRleHRhcmVhKTt0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSUNvcmVCcm93c2VyU2VydmljZSxpKSx0aGlzLl9jaGFyU2l6ZVNlcnZpY2U9dGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoTS5DaGFyU2l6ZVNlcnZpY2UsdGhpcy5fZG9jdW1lbnQsdGhpcy5faGVscGVyQ29udGFpbmVyKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSUNoYXJTaXplU2VydmljZSx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UpLHRoaXMuX3RoZW1lPXRoaXMub3B0aW9ucy50aGVtZXx8dGhpcy5fdGhlbWUsdGhpcy5fY29sb3JNYW5hZ2VyPW5ldyB4LkNvbG9yTWFuYWdlcihVLHRoaXMub3B0aW9ucy5hbGxvd1RyYW5zcGFyZW5jeSksdGhpcy5yZWdpc3Rlcih0aGlzLm9wdGlvbnNTZXJ2aWNlLm9uT3B0aW9uQ2hhbmdlKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fY29sb3JNYW5hZ2VyLm9uT3B0aW9uc0NoYW5nZShlKX0pKSksdGhpcy5fY29sb3JNYW5hZ2VyLnNldFRoZW1lKHRoaXMuX3RoZW1lKSx0aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPXRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKFAuQ2hhcmFjdGVySm9pbmVyU2VydmljZSksdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShrLklDaGFyYWN0ZXJKb2luZXJTZXJ2aWNlLHRoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2UpO3ZhciBuPXRoaXMuX2NyZWF0ZVJlbmRlcmVyKCk7dGhpcy5fcmVuZGVyU2VydmljZT10aGlzLnJlZ2lzdGVyKHRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKFIuUmVuZGVyU2VydmljZSxuLHRoaXMucm93cyx0aGlzLnNjcmVlbkVsZW1lbnQpKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSVJlbmRlclNlcnZpY2UsdGhpcy5fcmVuZGVyU2VydmljZSksdGhpcy5yZWdpc3Rlcih0aGlzLl9yZW5kZXJTZXJ2aWNlLm9uUmVuZGVyZWRWaWV3cG9ydENoYW5nZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX29uUmVuZGVyLmZpcmUoZSl9KSkpLHRoaXMub25SZXNpemUoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9yZW5kZXJTZXJ2aWNlLnJlc2l6ZShlLmNvbHMsZS5yb3dzKX0pKSx0aGlzLl9jb21wb3NpdGlvblZpZXc9VS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5jbGFzc0xpc3QuYWRkKFwiY29tcG9zaXRpb24tdmlld1wiKSx0aGlzLl9jb21wb3NpdGlvbkhlbHBlcj10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShjLkNvbXBvc2l0aW9uSGVscGVyLHRoaXMudGV4dGFyZWEsdGhpcy5fY29tcG9zaXRpb25WaWV3KSx0aGlzLl9oZWxwZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY29tcG9zaXRpb25WaWV3KSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQociksdGhpcy5fc291bmRTZXJ2aWNlPXRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKG0uU291bmRTZXJ2aWNlKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSVNvdW5kU2VydmljZSx0aGlzLl9zb3VuZFNlcnZpY2UpLHRoaXMuX21vdXNlU2VydmljZT10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShBLk1vdXNlU2VydmljZSksdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShrLklNb3VzZVNlcnZpY2UsdGhpcy5fbW91c2VTZXJ2aWNlKSx0aGlzLnZpZXdwb3J0PXRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGwuVmlld3BvcnQsKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNjcm9sbExpbmVzKGUsITAsMSl9KSx0aGlzLl92aWV3cG9ydEVsZW1lbnQsdGhpcy5fdmlld3BvcnRTY3JvbGxBcmVhLHRoaXMuZWxlbWVudCksdGhpcy52aWV3cG9ydC5vblRoZW1lQ2hhbmdlKHRoaXMuX2NvbG9yTWFuYWdlci5jb2xvcnMpLHRoaXMucmVnaXN0ZXIodGhpcy5faW5wdXRIYW5kbGVyLm9uUmVxdWVzdFN5bmNTY3JvbGxCYXIoKGZ1bmN0aW9uKCl7cmV0dXJuIHQudmlld3BvcnQuc3luY1Njcm9sbEFyZWEoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLnZpZXdwb3J0KSx0aGlzLnJlZ2lzdGVyKHRoaXMub25DdXJzb3JNb3ZlKChmdW5jdGlvbigpe3QuX3JlbmRlclNlcnZpY2Uub25DdXJzb3JNb3ZlKCksdC5fc3luY1RleHRBcmVhKCl9KSkpLHRoaXMucmVnaXN0ZXIodGhpcy5vblJlc2l6ZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVuZGVyU2VydmljZS5vblJlc2l6ZSh0LmNvbHMsdC5yb3dzKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLm9uQmx1cigoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVuZGVyU2VydmljZS5vbkJsdXIoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLm9uRm9jdXMoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3JlbmRlclNlcnZpY2Uub25Gb2N1cygpfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX3JlbmRlclNlcnZpY2Uub25EaW1lbnNpb25zQ2hhbmdlKChmdW5jdGlvbigpe3JldHVybiB0LnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCl9KSkpLHRoaXMuX3NlbGVjdGlvblNlcnZpY2U9dGhpcy5yZWdpc3Rlcih0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShwLlNlbGVjdGlvblNlcnZpY2UsdGhpcy5lbGVtZW50LHRoaXMuc2NyZWVuRWxlbWVudCx0aGlzLmxpbmtpZmllcjIpKSx0aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGsuSVNlbGVjdGlvblNlcnZpY2UsdGhpcy5fc2VsZWN0aW9uU2VydmljZSksdGhpcy5yZWdpc3Rlcih0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLm9uUmVxdWVzdFNjcm9sbExpbmVzKChmdW5jdGlvbihlKXtyZXR1cm4gdC5zY3JvbGxMaW5lcyhlLmFtb3VudCxlLnN1cHByZXNzU2Nyb2xsRXZlbnQpfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX3NlbGVjdGlvblNlcnZpY2Uub25TZWxlY3Rpb25DaGFuZ2UoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX29uU2VsZWN0aW9uQ2hhbmdlLmZpcmUoKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLm9uUmVxdWVzdFJlZHJhdygoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX3JlbmRlclNlcnZpY2Uub25TZWxlY3Rpb25DaGFuZ2VkKGUuc3RhcnQsZS5lbmQsZS5jb2x1bW5TZWxlY3RNb2RlKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLm9uTGludXhNb3VzZVNlbGVjdGlvbigoZnVuY3Rpb24oZSl7dC50ZXh0YXJlYS52YWx1ZT1lLHQudGV4dGFyZWEuZm9jdXMoKSx0LnRleHRhcmVhLnNlbGVjdCgpfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX29uU2Nyb2xsLmV2ZW50KChmdW5jdGlvbihlKXt0LnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCksdC5fc2VsZWN0aW9uU2VydmljZS5yZWZyZXNoKCl9KSkpLHRoaXMucmVnaXN0ZXIoKDAseS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCxcInNjcm9sbFwiLChmdW5jdGlvbigpe3JldHVybiB0Ll9zZWxlY3Rpb25TZXJ2aWNlLnJlZnJlc2goKX0pKSksdGhpcy5fbW91c2Vab25lTWFuYWdlcj10aGlzLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShiLk1vdXNlWm9uZU1hbmFnZXIsdGhpcy5lbGVtZW50LHRoaXMuc2NyZWVuRWxlbWVudCksdGhpcy5yZWdpc3Rlcih0aGlzLl9tb3VzZVpvbmVNYW5hZ2VyKSx0aGlzLnJlZ2lzdGVyKHRoaXMub25TY3JvbGwoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX21vdXNlWm9uZU1hbmFnZXIuY2xlYXJBbGwoKX0pKSksdGhpcy5saW5raWZpZXIuYXR0YWNoVG9Eb20odGhpcy5lbGVtZW50LHRoaXMuX21vdXNlWm9uZU1hbmFnZXIpLHRoaXMubGlua2lmaWVyMi5hdHRhY2hUb0RvbSh0aGlzLnNjcmVlbkVsZW1lbnQsdGhpcy5fbW91c2VTZXJ2aWNlLHRoaXMuX3JlbmRlclNlcnZpY2UpLHRoaXMucmVnaXN0ZXIodGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoSC5CdWZmZXJEZWNvcmF0aW9uUmVuZGVyZXIsdGhpcy5zY3JlZW5FbGVtZW50KSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikodGhpcy5lbGVtZW50LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9zZWxlY3Rpb25TZXJ2aWNlLm9uTW91c2VEb3duKGUpfSkpKSx0aGlzLmNvcmVNb3VzZVNlcnZpY2UuYXJlTW91c2VFdmVudHNBY3RpdmU/KHRoaXMuX3NlbGVjdGlvblNlcnZpY2UuZGlzYWJsZSgpLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZW5hYmxlLW1vdXNlLWV2ZW50c1wiKSk6dGhpcy5fc2VsZWN0aW9uU2VydmljZS5lbmFibGUoKSx0aGlzLm9wdGlvbnMuc2NyZWVuUmVhZGVyTW9kZSYmKHRoaXMuX2FjY2Vzc2liaWxpdHlNYW5hZ2VyPW5ldyBTLkFjY2Vzc2liaWxpdHlNYW5hZ2VyKHRoaXMsdGhpcy5fcmVuZGVyU2VydmljZSkpLHRoaXMub3B0aW9ucy5vdmVydmlld1J1bGVyV2lkdGgmJih0aGlzLl9vdmVydmlld1J1bGVyUmVuZGVyZXI9dGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2Uoai5PdmVydmlld1J1bGVyUmVuZGVyZXIsdGhpcy5fdmlld3BvcnRFbGVtZW50LHRoaXMuc2NyZWVuRWxlbWVudCkpLHRoaXMub3B0aW9uc1NlcnZpY2Uub25PcHRpb25DaGFuZ2UoKGZ1bmN0aW9uKCl7IXQuX292ZXJ2aWV3UnVsZXJSZW5kZXJlciYmdC5vcHRpb25zLm92ZXJ2aWV3UnVsZXJXaWR0aCYmdC5fdmlld3BvcnRFbGVtZW50JiZ0LnNjcmVlbkVsZW1lbnQmJih0Ll9vdmVydmlld1J1bGVyUmVuZGVyZXI9dC5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2Uoai5PdmVydmlld1J1bGVyUmVuZGVyZXIsdC5fdmlld3BvcnRFbGVtZW50LHQuc2NyZWVuRWxlbWVudCkpfSkpLHRoaXMuX2NoYXJTaXplU2VydmljZS5tZWFzdXJlKCksdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpLHRoaXMuX2luaXRHbG9iYWwoKSx0aGlzLmJpbmRNb3VzZSgpfSx0LnByb3RvdHlwZS5fY3JlYXRlUmVuZGVyZXI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5vcHRpb25zLnJlbmRlcmVyVHlwZSl7Y2FzZVwiY2FudmFzXCI6cmV0dXJuIHRoaXMuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKF8uUmVuZGVyZXIsdGhpcy5fY29sb3JNYW5hZ2VyLmNvbG9ycyx0aGlzLnNjcmVlbkVsZW1lbnQsdGhpcy5saW5raWZpZXIsdGhpcy5saW5raWZpZXIyKTtjYXNlXCJkb21cIjpyZXR1cm4gdGhpcy5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2UoQy5Eb21SZW5kZXJlcix0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzLHRoaXMuZWxlbWVudCx0aGlzLnNjcmVlbkVsZW1lbnQsdGhpcy5fdmlld3BvcnRFbGVtZW50LHRoaXMubGlua2lmaWVyLHRoaXMubGlua2lmaWVyMik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCByZW5kZXJlclR5cGUgXCInK3RoaXMub3B0aW9ucy5yZW5kZXJlclR5cGUrJ1wiJyl9fSx0LnByb3RvdHlwZS5fc2V0VGhlbWU9ZnVuY3Rpb24oZSl7dmFyIHQscixpO3RoaXMuX3RoZW1lPWUsbnVsbD09PSh0PXRoaXMuX2NvbG9yTWFuYWdlcil8fHZvaWQgMD09PXR8fHQuc2V0VGhlbWUoZSksbnVsbD09PShyPXRoaXMuX3JlbmRlclNlcnZpY2UpfHx2b2lkIDA9PT1yfHxyLnNldENvbG9ycyh0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzKSxudWxsPT09KGk9dGhpcy52aWV3cG9ydCl8fHZvaWQgMD09PWl8fGkub25UaGVtZUNoYW5nZSh0aGlzLl9jb2xvck1hbmFnZXIuY29sb3JzKX0sdC5wcm90b3R5cGUuYmluZE1vdXNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMscj10aGlzLmVsZW1lbnQ7ZnVuY3Rpb24gaShlKXt2YXIgcixpLG49dC5fbW91c2VTZXJ2aWNlLmdldFJhd0J5dGVDb29yZHMoZSx0LnNjcmVlbkVsZW1lbnQsdC5jb2xzLHQucm93cyk7aWYoIW4pcmV0dXJuITE7c3dpdGNoKGUub3ZlcnJpZGVUeXBlfHxlLnR5cGUpe2Nhc2VcIm1vdXNlbW92ZVwiOmk9MzIsdm9pZCAwPT09ZS5idXR0b25zPyhyPTMsdm9pZCAwIT09ZS5idXR0b24mJihyPWUuYnV0dG9uPDM/ZS5idXR0b246MykpOnI9MSZlLmJ1dHRvbnM/MDo0JmUuYnV0dG9ucz8xOjImZS5idXR0b25zPzI6MzticmVhaztjYXNlXCJtb3VzZXVwXCI6aT0wLHI9ZS5idXR0b248Mz9lLmJ1dHRvbjozO2JyZWFrO2Nhc2VcIm1vdXNlZG93blwiOmk9MSxyPWUuYnV0dG9uPDM/ZS5idXR0b246MzticmVhaztjYXNlXCJ3aGVlbFwiOmlmKDA9PT10LnZpZXdwb3J0LmdldExpbmVzU2Nyb2xsZWQoZSkpcmV0dXJuITE7aT1lLmRlbHRhWTwwPzA6MSxyPTQ7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4hKHZvaWQgMD09PWl8fHZvaWQgMD09PXJ8fHI+NCkmJnQuY29yZU1vdXNlU2VydmljZS50cmlnZ2VyTW91c2VFdmVudCh7Y29sOm4ueC0zMyxyb3c6bi55LTMzLGJ1dHRvbjpyLGFjdGlvbjppLGN0cmw6ZS5jdHJsS2V5LGFsdDplLmFsdEtleSxzaGlmdDplLnNoaWZ0S2V5fSl9dmFyIG49e21vdXNldXA6bnVsbCx3aGVlbDpudWxsLG1vdXNlZHJhZzpudWxsLG1vdXNlbW92ZTpudWxsfSxvPWZ1bmN0aW9uKHQpe3JldHVybiBpKHQpLHQuYnV0dG9uc3x8KGUuX2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsbi5tb3VzZXVwKSxuLm1vdXNlZHJhZyYmZS5fZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG4ubW91c2VkcmFnKSksZS5jYW5jZWwodCl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCksZS5jYW5jZWwodCwhMCl9LGE9ZnVuY3Rpb24oZSl7ZS5idXR0b25zJiZpKGUpfSxjPWZ1bmN0aW9uKGUpe2UuYnV0dG9uc3x8aShlKX07dGhpcy5yZWdpc3Rlcih0aGlzLmNvcmVNb3VzZVNlcnZpY2Uub25Qcm90b2NvbENoYW5nZSgoZnVuY3Rpb24odCl7dD8oXCJkZWJ1Z1wiPT09ZS5vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxvZ0xldmVsJiZlLl9sb2dTZXJ2aWNlLmRlYnVnKFwiQmluZGluZyB0byBtb3VzZSBldmVudHM6XCIsZS5jb3JlTW91c2VTZXJ2aWNlLmV4cGxhaW5FdmVudHModCkpLGUuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZW5hYmxlLW1vdXNlLWV2ZW50c1wiKSxlLl9zZWxlY3Rpb25TZXJ2aWNlLmRpc2FibGUoKSk6KGUuX2xvZ1NlcnZpY2UuZGVidWcoXCJVbmJpbmRpbmcgZnJvbSBtb3VzZSBldmVudHMuXCIpLGUuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZW5hYmxlLW1vdXNlLWV2ZW50c1wiKSxlLl9zZWxlY3Rpb25TZXJ2aWNlLmVuYWJsZSgpKSw4JnQ/bi5tb3VzZW1vdmV8fChyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixjKSxuLm1vdXNlbW92ZT1jKTooci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsbi5tb3VzZW1vdmUpLG4ubW91c2Vtb3ZlPW51bGwpLDE2JnQ/bi53aGVlbHx8KHIuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIscyx7cGFzc2l2ZTohMX0pLG4ud2hlZWw9cyk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsbi53aGVlbCksbi53aGVlbD1udWxsKSwyJnQ/bi5tb3VzZXVwfHwobi5tb3VzZXVwPW8pOihlLl9kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLG4ubW91c2V1cCksbi5tb3VzZXVwPW51bGwpLDQmdD9uLm1vdXNlZHJhZ3x8KG4ubW91c2VkcmFnPWEpOihlLl9kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsbi5tb3VzZWRyYWcpLG4ubW91c2VkcmFnPW51bGwpfSkpKSx0aGlzLmNvcmVNb3VzZVNlcnZpY2UuYWN0aXZlUHJvdG9jb2w9dGhpcy5jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZVByb3RvY29sLHRoaXMucmVnaXN0ZXIoKDAseS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHIsXCJtb3VzZWRvd25cIiwoZnVuY3Rpb24odCl7aWYodC5wcmV2ZW50RGVmYXVsdCgpLGUuZm9jdXMoKSxlLmNvcmVNb3VzZVNlcnZpY2UuYXJlTW91c2VFdmVudHNBY3RpdmUmJiFlLl9zZWxlY3Rpb25TZXJ2aWNlLnNob3VsZEZvcmNlU2VsZWN0aW9uKHQpKXJldHVybiBpKHQpLG4ubW91c2V1cCYmZS5fZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixuLm1vdXNldXApLG4ubW91c2VkcmFnJiZlLl9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsbi5tb3VzZWRyYWcpLGUuY2FuY2VsKHQpfSkpKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKShyLFwid2hlZWxcIiwoZnVuY3Rpb24odCl7aWYoIW4ud2hlZWwpe2lmKCFlLmJ1ZmZlci5oYXNTY3JvbGxiYWNrKXt2YXIgcj1lLnZpZXdwb3J0LmdldExpbmVzU2Nyb2xsZWQodCk7aWYoMD09PXIpcmV0dXJuO2Zvcih2YXIgaT11LkMwLkVTQysoZS5jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25DdXJzb3JLZXlzP1wiT1wiOlwiW1wiKSsodC5kZWx0YVk8MD9cIkFcIjpcIkJcIiksbz1cIlwiLHM9MDtzPE1hdGguYWJzKHIpO3MrKylvKz1pO3JldHVybiBlLmNvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQobywhMCksZS5jYW5jZWwodCwhMCl9cmV0dXJuIGUudmlld3BvcnQub25XaGVlbCh0KT9lLmNhbmNlbCh0KTp2b2lkIDB9fSkse3Bhc3NpdmU6ITF9KSksdGhpcy5yZWdpc3RlcigoMCx5LmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikocixcInRvdWNoc3RhcnRcIiwoZnVuY3Rpb24odCl7aWYoIWUuY29yZU1vdXNlU2VydmljZS5hcmVNb3VzZUV2ZW50c0FjdGl2ZSlyZXR1cm4gZS52aWV3cG9ydC5vblRvdWNoU3RhcnQodCksZS5jYW5jZWwodCl9KSx7cGFzc2l2ZTohMH0pKSx0aGlzLnJlZ2lzdGVyKCgwLHkuYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKShyLFwidG91Y2htb3ZlXCIsKGZ1bmN0aW9uKHQpe2lmKCFlLmNvcmVNb3VzZVNlcnZpY2UuYXJlTW91c2VFdmVudHNBY3RpdmUpcmV0dXJuIGUudmlld3BvcnQub25Ub3VjaE1vdmUodCk/dm9pZCAwOmUuY2FuY2VsKHQpfSkse3Bhc3NpdmU6ITF9KSl9LHQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcjtudWxsPT09KHI9dGhpcy5fcmVuZGVyU2VydmljZSl8fHZvaWQgMD09PXJ8fHIucmVmcmVzaFJvd3MoZSx0KX0sdC5wcm90b3R5cGUuX3F1ZXVlTGlua2lmaWNhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByO251bGw9PT0ocj10aGlzLmxpbmtpZmllcil8fHZvaWQgMD09PXJ8fHIubGlua2lmeVJvd3MoZSx0KX0sdC5wcm90b3R5cGUudXBkYXRlQ3Vyc29yU3R5bGU9ZnVuY3Rpb24oZSl7dmFyIHQ7KG51bGw9PT0odD10aGlzLl9zZWxlY3Rpb25TZXJ2aWNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zaG91bGRDb2x1bW5TZWxlY3QoZSkpP3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29sdW1uLXNlbGVjdFwiKTp0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImNvbHVtbi1zZWxlY3RcIil9LHQucHJvdG90eXBlLl9zaG93Q3Vyc29yPWZ1bmN0aW9uKCl7dGhpcy5jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkfHwodGhpcy5jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkPSEwLHRoaXMucmVmcmVzaCh0aGlzLmJ1ZmZlci55LHRoaXMuYnVmZmVyLnkpKX0sdC5wcm90b3R5cGUuc2Nyb2xsTGluZXM9ZnVuY3Rpb24odCxyLGkpe3ZvaWQgMD09PWkmJihpPTApLGUucHJvdG90eXBlLnNjcm9sbExpbmVzLmNhbGwodGhpcyx0LHIsaSksdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpfSx0LnByb3RvdHlwZS5wYXN0ZT1mdW5jdGlvbihlKXsoMCxoLnBhc3RlKShlLHRoaXMudGV4dGFyZWEsdGhpcy5jb3JlU2VydmljZSl9LHQucHJvdG90eXBlLmF0dGFjaEN1c3RvbUtleUV2ZW50SGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXI9ZX0sdC5wcm90b3R5cGUucmVnaXN0ZXJMaW5rTWF0Y2hlcj1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5saW5raWZpZXIucmVnaXN0ZXJMaW5rTWF0Y2hlcihlLHQscik7cmV0dXJuIHRoaXMucmVmcmVzaCgwLHRoaXMucm93cy0xKSxpfSx0LnByb3RvdHlwZS5kZXJlZ2lzdGVyTGlua01hdGNoZXI9ZnVuY3Rpb24oZSl7dGhpcy5saW5raWZpZXIuZGVyZWdpc3RlckxpbmtNYXRjaGVyKGUpJiZ0aGlzLnJlZnJlc2goMCx0aGlzLnJvd3MtMSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyTGlua1Byb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxpbmtpZmllcjIucmVnaXN0ZXJMaW5rUHJvdmlkZXIoZSl9LHQucHJvdG90eXBlLnJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlKXRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIG11c3QgYmUgb3BlbmVkIGZpcnN0XCIpO3ZhciB0PXRoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2UucmVnaXN0ZXIoZSk7cmV0dXJuIHRoaXMucmVmcmVzaCgwLHRoaXMucm93cy0xKSx0fSx0LnByb3RvdHlwZS5kZXJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlKXRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIG11c3QgYmUgb3BlbmVkIGZpcnN0XCIpO3RoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2UuZGVyZWdpc3RlcihlKSYmdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtYXJrZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5tYXJrZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFkZE1hcmtlcj1mdW5jdGlvbihlKXtpZih0aGlzLmJ1ZmZlcj09PXRoaXMuYnVmZmVycy5ub3JtYWwpcmV0dXJuIHRoaXMuYnVmZmVyLmFkZE1hcmtlcih0aGlzLmJ1ZmZlci55YmFzZSt0aGlzLmJ1ZmZlci55K2UpfSx0LnByb3RvdHlwZS5yZWdpc3RlckRlY29yYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLnJlZ2lzdGVyRGVjb3JhdGlvbihlKX0sdC5wcm90b3R5cGUuaGFzU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlJiZ0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLmhhc1NlbGVjdGlvbn0sdC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLnNldFNlbGVjdGlvbihlLHQscil9LHQucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlP3RoaXMuX3NlbGVjdGlvblNlcnZpY2Uuc2VsZWN0aW9uVGV4dDpcIlwifSx0LnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Qb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuX3NlbGVjdGlvblNlcnZpY2UmJnRoaXMuX3NlbGVjdGlvblNlcnZpY2UuaGFzU2VsZWN0aW9uKXJldHVybntzdGFydENvbHVtbjp0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdGlvblN0YXJ0WzBdLHN0YXJ0Um93OnRoaXMuX3NlbGVjdGlvblNlcnZpY2Uuc2VsZWN0aW9uU3RhcnRbMV0sZW5kQ29sdW1uOnRoaXMuX3NlbGVjdGlvblNlcnZpY2Uuc2VsZWN0aW9uRW5kWzBdLGVuZFJvdzp0aGlzLl9zZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdGlvbkVuZFsxXX19LHQucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuX3NlbGVjdGlvblNlcnZpY2UpfHx2b2lkIDA9PT1lfHxlLmNsZWFyU2VsZWN0aW9uKCl9LHQucHJvdG90eXBlLnNlbGVjdEFsbD1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9zZWxlY3Rpb25TZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5zZWxlY3RBbGwoKX0sdC5wcm90b3R5cGUuc2VsZWN0TGluZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcjtudWxsPT09KHI9dGhpcy5fc2VsZWN0aW9uU2VydmljZSl8fHZvaWQgMD09PXJ8fHIuc2VsZWN0TGluZXMoZSx0KX0sdC5wcm90b3R5cGUuX2tleURvd249ZnVuY3Rpb24oZSl7aWYodGhpcy5fa2V5RG93bkhhbmRsZWQ9ITEsdGhpcy5fa2V5RG93blNlZW49ITAsdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyJiYhMT09PXRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcihlKSlyZXR1cm4hMTt2YXIgdD10aGlzLmJyb3dzZXIuaXNNYWMmJnRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEmJmUuYWx0S2V5O2lmKCF0JiYhdGhpcy5fY29tcG9zaXRpb25IZWxwZXIua2V5ZG93bihlKSlyZXR1cm4gdGhpcy5idWZmZXIueWJhc2UhPT10aGlzLmJ1ZmZlci55ZGlzcCYmdGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGxUb0JvdHRvbSgpLCExO3R8fFwiRGVhZFwiIT09ZS5rZXkmJlwiQWx0R3JhcGhcIiE9PWUua2V5fHwodGhpcy5fdW5wcm9jZXNzZWREZWFkS2V5PSEwKTt2YXIgcj0oMCx3LmV2YWx1YXRlS2V5Ym9hcmRFdmVudCkoZSx0aGlzLmNvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbkN1cnNvcktleXMsdGhpcy5icm93c2VyLmlzTWFjLHRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEpO2lmKHRoaXMudXBkYXRlQ3Vyc29yU3R5bGUoZSksMz09PXIudHlwZXx8Mj09PXIudHlwZSl7dmFyIGk9dGhpcy5yb3dzLTE7cmV0dXJuIHRoaXMuc2Nyb2xsTGluZXMoMj09PXIudHlwZT8taTppKSx0aGlzLmNhbmNlbChlLCEwKX1yZXR1cm4gMT09PXIudHlwZSYmdGhpcy5zZWxlY3RBbGwoKSwhIXRoaXMuX2lzVGhpcmRMZXZlbFNoaWZ0KHRoaXMuYnJvd3NlcixlKXx8KHIuY2FuY2VsJiZ0aGlzLmNhbmNlbChlLCEwKSwhci5rZXl8fCEhKGUua2V5JiYhZS5jdHJsS2V5JiYhZS5hbHRLZXkmJiFlLm1ldGFLZXkmJjE9PT1lLmtleS5sZW5ndGgmJmUua2V5LmNoYXJDb2RlQXQoMCk+PTY1JiZlLmtleS5jaGFyQ29kZUF0KDApPD05MCl8fCh0aGlzLl91bnByb2Nlc3NlZERlYWRLZXk/KHRoaXMuX3VucHJvY2Vzc2VkRGVhZEtleT0hMSwhMCk6KHIua2V5IT09dS5DMC5FVFgmJnIua2V5IT09dS5DMC5DUnx8KHRoaXMudGV4dGFyZWEudmFsdWU9XCJcIiksdGhpcy5fb25LZXkuZmlyZSh7a2V5OnIua2V5LGRvbUV2ZW50OmV9KSx0aGlzLl9zaG93Q3Vyc29yKCksdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHIua2V5LCEwKSx0aGlzLm9wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuc2NyZWVuUmVhZGVyTW9kZT92b2lkKHRoaXMuX2tleURvd25IYW5kbGVkPSEwKTp0aGlzLmNhbmNlbChlLCEwKSkpKX0sdC5wcm90b3R5cGUuX2lzVGhpcmRMZXZlbFNoaWZ0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5pc01hYyYmIXRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEmJnQuYWx0S2V5JiYhdC5jdHJsS2V5JiYhdC5tZXRhS2V5fHxlLmlzV2luZG93cyYmdC5hbHRLZXkmJnQuY3RybEtleSYmIXQubWV0YUtleXx8ZS5pc1dpbmRvd3MmJnQuZ2V0TW9kaWZpZXJTdGF0ZShcIkFsdEdyYXBoXCIpO3JldHVyblwia2V5cHJlc3NcIj09PXQudHlwZT9yOnImJighdC5rZXlDb2RlfHx0LmtleUNvZGU+NDcpfSx0LnByb3RvdHlwZS5fa2V5VXA9ZnVuY3Rpb24oZSl7dGhpcy5fa2V5RG93blNlZW49ITEsdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyJiYhMT09PXRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcihlKXx8KGZ1bmN0aW9uKGUpe3JldHVybiAxNj09PWUua2V5Q29kZXx8MTc9PT1lLmtleUNvZGV8fDE4PT09ZS5rZXlDb2RlfShlKXx8dGhpcy5mb2N1cygpLHRoaXMudXBkYXRlQ3Vyc29yU3R5bGUoZSksdGhpcy5fa2V5UHJlc3NIYW5kbGVkPSExKX0sdC5wcm90b3R5cGUuX2tleVByZXNzPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKHRoaXMuX2tleVByZXNzSGFuZGxlZD0hMSx0aGlzLl9rZXlEb3duSGFuZGxlZClyZXR1cm4hMTtpZih0aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXImJiExPT09dGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyKGUpKXJldHVybiExO2lmKHRoaXMuY2FuY2VsKGUpLGUuY2hhckNvZGUpdD1lLmNoYXJDb2RlO2Vsc2UgaWYobnVsbD09PWUud2hpY2h8fHZvaWQgMD09PWUud2hpY2gpdD1lLmtleUNvZGU7ZWxzZXtpZigwPT09ZS53aGljaHx8MD09PWUuY2hhckNvZGUpcmV0dXJuITE7dD1lLndoaWNofXJldHVybiEoIXR8fChlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiYhdGhpcy5faXNUaGlyZExldmVsU2hpZnQodGhpcy5icm93c2VyLGUpfHwodD1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpLHRoaXMuX29uS2V5LmZpcmUoe2tleTp0LGRvbUV2ZW50OmV9KSx0aGlzLl9zaG93Q3Vyc29yKCksdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHQsITApLHRoaXMuX2tleVByZXNzSGFuZGxlZD0hMCx0aGlzLl91bnByb2Nlc3NlZERlYWRLZXk9ITEsMCkpfSx0LnByb3RvdHlwZS5faW5wdXRFdmVudD1mdW5jdGlvbihlKXtpZihlLmRhdGEmJlwiaW5zZXJ0VGV4dFwiPT09ZS5pbnB1dFR5cGUmJighZS5jb21wb3NlZHx8IXRoaXMuX2tleURvd25TZWVuKSYmIXRoaXMub3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5zY3JlZW5SZWFkZXJNb2RlKXtpZih0aGlzLl9rZXlQcmVzc0hhbmRsZWQpcmV0dXJuITE7dGhpcy5fdW5wcm9jZXNzZWREZWFkS2V5PSExO3ZhciB0PWUuZGF0YTtyZXR1cm4gdGhpcy5jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHQsITApLHRoaXMuY2FuY2VsKGUpLCEwfXJldHVybiExfSx0LnByb3RvdHlwZS5iZWxsPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5fc291bmRCZWxsKCkmJihudWxsPT09KGU9dGhpcy5fc291bmRTZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5wbGF5QmVsbFNvdW5kKCkpLHRoaXMuX29uQmVsbC5maXJlKCl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LHIpe3QhPT10aGlzLmNvbHN8fHIhPT10aGlzLnJvd3M/ZS5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0LHIpOnRoaXMuX2NoYXJTaXplU2VydmljZSYmIXRoaXMuX2NoYXJTaXplU2VydmljZS5oYXNWYWxpZFNpemUmJnRoaXMuX2NoYXJTaXplU2VydmljZS5tZWFzdXJlKCl9LHQucHJvdG90eXBlLl9hZnRlclJlc2l6ZT1mdW5jdGlvbihlLHQpe3ZhciByLGk7bnVsbD09PShyPXRoaXMuX2NoYXJTaXplU2VydmljZSl8fHZvaWQgMD09PXJ8fHIubWVhc3VyZSgpLG51bGw9PT0oaT10aGlzLnZpZXdwb3J0KXx8dm9pZCAwPT09aXx8aS5zeW5jU2Nyb2xsQXJlYSghMCl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuYnVmZmVyLnliYXNlfHwwIT09dGhpcy5idWZmZXIueSl7dGhpcy5idWZmZXIuY2xlYXJBbGxNYXJrZXJzKCksdGhpcy5idWZmZXIubGluZXMuc2V0KDAsdGhpcy5idWZmZXIubGluZXMuZ2V0KHRoaXMuYnVmZmVyLnliYXNlK3RoaXMuYnVmZmVyLnkpKSx0aGlzLmJ1ZmZlci5saW5lcy5sZW5ndGg9MSx0aGlzLmJ1ZmZlci55ZGlzcD0wLHRoaXMuYnVmZmVyLnliYXNlPTAsdGhpcy5idWZmZXIueT0wO2Zvcih2YXIgZT0xO2U8dGhpcy5yb3dzO2UrKyl0aGlzLmJ1ZmZlci5saW5lcy5wdXNoKHRoaXMuYnVmZmVyLmdldEJsYW5rTGluZShFLkRFRkFVTFRfQVRUUl9EQVRBKSk7dGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpLHRoaXMuX29uU2Nyb2xsLmZpcmUoe3Bvc2l0aW9uOnRoaXMuYnVmZmVyLnlkaXNwLHNvdXJjZTowfSl9fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciB0LHI7dGhpcy5vcHRpb25zLnJvd3M9dGhpcy5yb3dzLHRoaXMub3B0aW9ucy5jb2xzPXRoaXMuY29sczt2YXIgaT10aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXI7dGhpcy5fc2V0dXAoKSxlLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl9zZWxlY3Rpb25TZXJ2aWNlKXx8dm9pZCAwPT09dHx8dC5yZXNldCgpLHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLnJlc2V0KCksdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyPWksdGhpcy5yZWZyZXNoKDAsdGhpcy5yb3dzLTEpLG51bGw9PT0ocj10aGlzLnZpZXdwb3J0KXx8dm9pZCAwPT09cnx8ci5zeW5jU2Nyb2xsQXJlYSgpfSx0LnByb3RvdHlwZS5jbGVhclRleHR1cmVBdGxhcz1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9yZW5kZXJTZXJ2aWNlKXx8dm9pZCAwPT09ZXx8ZS5jbGVhclRleHR1cmVBdGxhcygpfSx0LnByb3RvdHlwZS5fcmVwb3J0Rm9jdXM9ZnVuY3Rpb24oKXt2YXIgZTsobnVsbD09PShlPXRoaXMuZWxlbWVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZm9jdXNcIikpP3RoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIltJXCIpOnRoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIltPXCIpfSx0LnByb3RvdHlwZS5fcmVwb3J0V2luZG93c09wdGlvbnM9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcmVuZGVyU2VydmljZSlzd2l0Y2goZSl7Y2FzZSBmLldpbmRvd3NPcHRpb25zUmVwb3J0VHlwZS5HRVRfV0lOX1NJWkVfUElYRUxTOnZhciB0PXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5zY2FsZWRDYW52YXNXaWR0aC50b0ZpeGVkKDApLHI9dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodC50b0ZpeGVkKDApO3RoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIls0O1wiK3IrXCI7XCIrdCtcInRcIik7YnJlYWs7Y2FzZSBmLldpbmRvd3NPcHRpb25zUmVwb3J0VHlwZS5HRVRfQ0VMTF9TSVpFX1BJWEVMUzp2YXIgaT10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbFdpZHRoLnRvRml4ZWQoMCksbj10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodC50b0ZpeGVkKDApO3RoaXMuY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudCh1LkMwLkVTQytcIls2O1wiK24rXCI7XCIraStcInRcIil9fSx0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9wdGlvbnMuY2FuY2VsRXZlbnRzfHx0KXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwhMX0sdC5wcm90b3R5cGUuX3Zpc3VhbEJlbGw9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5wcm90b3R5cGUuX3NvdW5kQmVsbD1mdW5jdGlvbigpe3JldHVyblwic291bmRcIj09PXRoaXMub3B0aW9ucy5iZWxsU3R5bGV9LHR9KFQuQ29yZVRlcm1pbmFsKTt0LlRlcm1pbmFsPXF9LDk5MjQ6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlRpbWVCYXNlZERlYm91bmNlcj12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09dCYmKHQ9MWUzKSx0aGlzLl9yZW5kZXJDYWxsYmFjaz1lLHRoaXMuX2RlYm91bmNlVGhyZXNob2xkTVM9dCx0aGlzLl9sYXN0UmVmcmVzaE1zPTAsdGhpcy5fYWRkaXRpb25hbFJlZnJlc2hSZXF1ZXN0ZWQ9ITF9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoVGltZW91dElEJiZjbGVhclRpbWVvdXQodGhpcy5fcmVmcmVzaFRpbWVvdXRJRCl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy5fcm93Q291bnQ9cixlPXZvaWQgMCE9PWU/ZTowLHQ9dm9pZCAwIT09dD90OnRoaXMuX3Jvd0NvdW50LTEsdGhpcy5fcm93U3RhcnQ9dm9pZCAwIT09dGhpcy5fcm93U3RhcnQ/TWF0aC5taW4odGhpcy5fcm93U3RhcnQsZSk6ZSx0aGlzLl9yb3dFbmQ9dm9pZCAwIT09dGhpcy5fcm93RW5kP01hdGgubWF4KHRoaXMuX3Jvd0VuZCx0KTp0O3ZhciBuPURhdGUubm93KCk7aWYobi10aGlzLl9sYXN0UmVmcmVzaE1zPj10aGlzLl9kZWJvdW5jZVRocmVzaG9sZE1TKXRoaXMuX2xhc3RSZWZyZXNoTXM9bix0aGlzLl9pbm5lclJlZnJlc2goKTtlbHNlIGlmKCF0aGlzLl9hZGRpdGlvbmFsUmVmcmVzaFJlcXVlc3RlZCl7dmFyIG89bi10aGlzLl9sYXN0UmVmcmVzaE1zLHM9dGhpcy5fZGVib3VuY2VUaHJlc2hvbGRNUy1vO3RoaXMuX2FkZGl0aW9uYWxSZWZyZXNoUmVxdWVzdGVkPSEwLHRoaXMuX3JlZnJlc2hUaW1lb3V0SUQ9d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aS5fbGFzdFJlZnJlc2hNcz1EYXRlLm5vdygpLGkuX2lubmVyUmVmcmVzaCgpLGkuX2FkZGl0aW9uYWxSZWZyZXNoUmVxdWVzdGVkPSExLGkuX3JlZnJlc2hUaW1lb3V0SUQ9dm9pZCAwfSkscyl9fSxlLnByb3RvdHlwZS5faW5uZXJSZWZyZXNoPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fcm93U3RhcnQmJnZvaWQgMCE9PXRoaXMuX3Jvd0VuZCYmdm9pZCAwIT09dGhpcy5fcm93Q291bnQpe3ZhciBlPU1hdGgubWF4KHRoaXMuX3Jvd1N0YXJ0LDApLHQ9TWF0aC5taW4odGhpcy5fcm93RW5kLHRoaXMuX3Jvd0NvdW50LTEpO3RoaXMuX3Jvd1N0YXJ0PXZvaWQgMCx0aGlzLl9yb3dFbmQ9dm9pZCAwLHRoaXMuX3JlbmRlckNhbGxiYWNrKGUsdCl9fSxlfSgpO3QuVGltZUJhc2VkRGVib3VuY2VyPXJ9LDE2ODA6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVmlld3BvcnQ9dm9pZCAwO3ZhciBhPXIoODQ0KSxjPXIoMzY1NiksbD1yKDQ3MjUpLGg9cigyNTg1KSx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLHMsYSxsKXt2YXIgaD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGguX3Njcm9sbExpbmVzPXQsaC5fdmlld3BvcnRFbGVtZW50PXIsaC5fc2Nyb2xsQXJlYT1pLGguX2VsZW1lbnQ9bixoLl9idWZmZXJTZXJ2aWNlPW8saC5fb3B0aW9uc1NlcnZpY2U9cyxoLl9jaGFyU2l6ZVNlcnZpY2U9YSxoLl9yZW5kZXJTZXJ2aWNlPWwsaC5zY3JvbGxCYXJXaWR0aD0wLGguX2N1cnJlbnRSb3dIZWlnaHQ9MCxoLl9jdXJyZW50U2NhbGVkQ2VsbEhlaWdodD0wLGguX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aD0wLGguX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0PTAsaC5fbGFzdFJlY29yZGVkQnVmZmVySGVpZ2h0PTAsaC5fbGFzdFRvdWNoWT0wLGguX2xhc3RTY3JvbGxUb3A9MCxoLl93aGVlbFBhcnRpYWxTY3JvbGw9MCxoLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWU9bnVsbCxoLl9pZ25vcmVOZXh0U2Nyb2xsRXZlbnQ9ITEsaC5zY3JvbGxCYXJXaWR0aD1oLl92aWV3cG9ydEVsZW1lbnQub2Zmc2V0V2lkdGgtaC5fc2Nyb2xsQXJlYS5vZmZzZXRXaWR0aHx8MTUsaC5yZWdpc3RlcigoMCxjLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikoaC5fdmlld3BvcnRFbGVtZW50LFwic2Nyb2xsXCIsaC5fb25TY3JvbGwuYmluZChoKSkpLGguX2FjdGl2ZUJ1ZmZlcj1oLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcixoLnJlZ2lzdGVyKGguX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5vbkJ1ZmZlckFjdGl2YXRlKChmdW5jdGlvbihlKXtyZXR1cm4gaC5fYWN0aXZlQnVmZmVyPWUuYWN0aXZlQnVmZmVyfSkpKSxoLl9yZW5kZXJEaW1lbnNpb25zPWguX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucyxoLnJlZ2lzdGVyKGguX3JlbmRlclNlcnZpY2Uub25EaW1lbnNpb25zQ2hhbmdlKChmdW5jdGlvbihlKXtyZXR1cm4gaC5fcmVuZGVyRGltZW5zaW9ucz1lfSkpKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBoLnN5bmNTY3JvbGxBcmVhKCl9KSwwKSxofXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUub25UaGVtZUNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLl92aWV3cG9ydEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUuYmFja2dyb3VuZC5jc3N9LHQucHJvdG90eXBlLl9yZWZyZXNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoZSlyZXR1cm4gdGhpcy5faW5uZXJSZWZyZXNoKCksdm9pZChudWxsIT09dGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWUpKTtudWxsPT09dGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lJiYodGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lPXJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5faW5uZXJSZWZyZXNoKCl9KSkpfSx0LnByb3RvdHlwZS5faW5uZXJSZWZyZXNoPWZ1bmN0aW9uKCl7aWYodGhpcy5fY2hhclNpemVTZXJ2aWNlLmhlaWdodD4wKXt0aGlzLl9jdXJyZW50Um93SGVpZ2h0PXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5zY2FsZWRDZWxsSGVpZ2h0L3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuX2N1cnJlbnRTY2FsZWRDZWxsSGVpZ2h0PXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5zY2FsZWRDZWxsSGVpZ2h0LHRoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0PXRoaXMuX3ZpZXdwb3J0RWxlbWVudC5vZmZzZXRIZWlnaHQ7dmFyIGU9TWF0aC5yb3VuZCh0aGlzLl9jdXJyZW50Um93SGVpZ2h0KnRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aCkrKHRoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0LXRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQpO3RoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckhlaWdodCE9PWUmJih0aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJIZWlnaHQ9ZSx0aGlzLl9zY3JvbGxBcmVhLnN0eWxlLmhlaWdodD10aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJIZWlnaHQrXCJweFwiKX12YXIgdD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCp0aGlzLl9jdXJyZW50Um93SGVpZ2h0O3RoaXMuX3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3AhPT10JiYodGhpcy5faWdub3JlTmV4dFNjcm9sbEV2ZW50PSEwLHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3A9dCksdGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lPW51bGx9LHQucHJvdG90eXBlLnN5bmNTY3JvbGxBcmVhPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSx0aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJMZW5ndGghPT10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5sZW5ndGgpcmV0dXJuIHRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5sZW5ndGgsdm9pZCB0aGlzLl9yZWZyZXNoKGUpO3RoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0PT09dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmNhbnZhc0hlaWdodCYmdGhpcy5fbGFzdFNjcm9sbFRvcD09PXRoaXMuX2FjdGl2ZUJ1ZmZlci55ZGlzcCp0aGlzLl9jdXJyZW50Um93SGVpZ2h0JiZ0aGlzLl9yZW5kZXJEaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQ9PT10aGlzLl9jdXJyZW50U2NhbGVkQ2VsbEhlaWdodHx8dGhpcy5fcmVmcmVzaChlKX0sdC5wcm90b3R5cGUuX29uU2Nyb2xsPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xhc3RTY3JvbGxUb3A9dGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCx0aGlzLl92aWV3cG9ydEVsZW1lbnQub2Zmc2V0UGFyZW50KXtpZih0aGlzLl9pZ25vcmVOZXh0U2Nyb2xsRXZlbnQpcmV0dXJuIHRoaXMuX2lnbm9yZU5leHRTY3JvbGxFdmVudD0hMSx2b2lkIHRoaXMuX3Njcm9sbExpbmVzKDApO3ZhciB0PU1hdGgucm91bmQodGhpcy5fbGFzdFNjcm9sbFRvcC90aGlzLl9jdXJyZW50Um93SGVpZ2h0KS10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcDt0aGlzLl9zY3JvbGxMaW5lcyh0KX19LHQucHJvdG90eXBlLl9idWJibGVTY3JvbGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl92aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wK3RoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0O3JldHVybiEodDwwJiYwIT09dGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcHx8dD4wJiZyPHRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckhlaWdodCl8fChlLmNhbmNlbGFibGUmJmUucHJldmVudERlZmF1bHQoKSwhMSl9LHQucHJvdG90eXBlLm9uV2hlZWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0UGl4ZWxzU2Nyb2xsZWQoZSk7cmV0dXJuIDAhPT10JiYodGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCs9dCx0aGlzLl9idWJibGVTY3JvbGwoZSx0KSl9LHQucHJvdG90eXBlLl9nZXRQaXhlbHNTY3JvbGxlZD1mdW5jdGlvbihlKXtpZigwPT09ZS5kZWx0YVl8fGUuc2hpZnRLZXkpcmV0dXJuIDA7dmFyIHQ9dGhpcy5fYXBwbHlTY3JvbGxNb2RpZmllcihlLmRlbHRhWSxlKTtyZXR1cm4gZS5kZWx0YU1vZGU9PT1XaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FP3QqPXRoaXMuX2N1cnJlbnRSb3dIZWlnaHQ6ZS5kZWx0YU1vZGU9PT1XaGVlbEV2ZW50LkRPTV9ERUxUQV9QQUdFJiYodCo9dGhpcy5fY3VycmVudFJvd0hlaWdodCp0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpLHR9LHQucHJvdG90eXBlLmdldExpbmVzU2Nyb2xsZWQ9ZnVuY3Rpb24oZSl7aWYoMD09PWUuZGVsdGFZfHxlLnNoaWZ0S2V5KXJldHVybiAwO3ZhciB0PXRoaXMuX2FwcGx5U2Nyb2xsTW9kaWZpZXIoZS5kZWx0YVksZSk7cmV0dXJuIGUuZGVsdGFNb2RlPT09V2hlZWxFdmVudC5ET01fREVMVEFfUElYRUw/KHQvPXRoaXMuX2N1cnJlbnRSb3dIZWlnaHQrMCx0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwrPXQsdD1NYXRoLmZsb29yKE1hdGguYWJzKHRoaXMuX3doZWVsUGFydGlhbFNjcm9sbCkpKih0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGw+MD8xOi0xKSx0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwlPTEpOmUuZGVsdGFNb2RlPT09V2hlZWxFdmVudC5ET01fREVMVEFfUEFHRSYmKHQqPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyksdH0sdC5wcm90b3R5cGUuX2FwcGx5U2Nyb2xsTW9kaWZpZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZhc3RTY3JvbGxNb2RpZmllcjtyZXR1cm5cImFsdFwiPT09ciYmdC5hbHRLZXl8fFwiY3RybFwiPT09ciYmdC5jdHJsS2V5fHxcInNoaWZ0XCI9PT1yJiZ0LnNoaWZ0S2V5P2UqdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mYXN0U2Nyb2xsU2Vuc2l0aXZpdHkqdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5zY3JvbGxTZW5zaXRpdml0eTplKnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHl9LHQucHJvdG90eXBlLm9uVG91Y2hTdGFydD1mdW5jdGlvbihlKXt0aGlzLl9sYXN0VG91Y2hZPWUudG91Y2hlc1swXS5wYWdlWX0sdC5wcm90b3R5cGUub25Ub3VjaE1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGFzdFRvdWNoWS1lLnRvdWNoZXNbMF0ucGFnZVk7cmV0dXJuIHRoaXMuX2xhc3RUb3VjaFk9ZS50b3VjaGVzWzBdLnBhZ2VZLDAhPT10JiYodGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCs9dCx0aGlzLl9idWJibGVTY3JvbGwoZSx0KSl9LG8oW3MoNCxoLklCdWZmZXJTZXJ2aWNlKSxzKDUsaC5JT3B0aW9uc1NlcnZpY2UpLHMoNixsLklDaGFyU2l6ZVNlcnZpY2UpLHMoNyxsLklSZW5kZXJTZXJ2aWNlKV0sdCl9KGEuRGlzcG9zYWJsZSk7dC5WaWV3cG9ydD11fSwzMTA3OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fSxhPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQnVmZmVyRGVjb3JhdGlvblJlbmRlcmVyPXZvaWQgMDt2YXIgYz1yKDM2NTYpLGw9cig0NzI1KSxoPXIoODQ0KSx1PXIoMjU4NSksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4pe3ZhciBvPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5fc2NyZWVuRWxlbWVudD10LG8uX2J1ZmZlclNlcnZpY2U9cixvLl9kZWNvcmF0aW9uU2VydmljZT1pLG8uX3JlbmRlclNlcnZpY2U9bixvLl9kZWNvcmF0aW9uRWxlbWVudHM9bmV3IE1hcCxvLl9hbHRCdWZmZXJJc0FjdGl2ZT0hMSxvLl9kaW1lbnNpb25zQ2hhbmdlZD0hMSxvLl9jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcInh0ZXJtLWRlY29yYXRpb24tY29udGFpbmVyXCIpLG8uX3NjcmVlbkVsZW1lbnQuYXBwZW5kQ2hpbGQoby5fY29udGFpbmVyKSxvLnJlZ2lzdGVyKG8uX3JlbmRlclNlcnZpY2Uub25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlKChmdW5jdGlvbigpe3JldHVybiBvLl9xdWV1ZVJlZnJlc2goKX0pKSksby5yZWdpc3RlcihvLl9yZW5kZXJTZXJ2aWNlLm9uRGltZW5zaW9uc0NoYW5nZSgoZnVuY3Rpb24oKXtvLl9kaW1lbnNpb25zQ2hhbmdlZD0hMCxvLl9xdWV1ZVJlZnJlc2goKX0pKSksby5yZWdpc3RlcigoMCxjLmFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcikod2luZG93LFwicmVzaXplXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG8uX3F1ZXVlUmVmcmVzaCgpfSkpKSxvLnJlZ2lzdGVyKG8uX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5vbkJ1ZmZlckFjdGl2YXRlKChmdW5jdGlvbigpe28uX2FsdEJ1ZmZlcklzQWN0aXZlPW8uX2J1ZmZlclNlcnZpY2UuYnVmZmVyPT09by5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFsdH0pKSksby5yZWdpc3RlcihvLl9kZWNvcmF0aW9uU2VydmljZS5vbkRlY29yYXRpb25SZWdpc3RlcmVkKChmdW5jdGlvbigpe3JldHVybiBvLl9xdWV1ZVJlZnJlc2goKX0pKSksby5yZWdpc3RlcihvLl9kZWNvcmF0aW9uU2VydmljZS5vbkRlY29yYXRpb25SZW1vdmVkKChmdW5jdGlvbihlKXtyZXR1cm4gby5fcmVtb3ZlRGVjb3JhdGlvbihlKX0pKSksb31yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLmNsZWFyKCksZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfSx0LnByb3RvdHlwZS5fcXVldWVSZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt2b2lkIDA9PT10aGlzLl9hbmltYXRpb25GcmFtZSYmKHRoaXMuX2FuaW1hdGlvbkZyYW1lPXRoaXMuX3JlbmRlclNlcnZpY2UuYWRkUmVmcmVzaENhbGxiYWNrKChmdW5jdGlvbigpe2UucmVmcmVzaERlY29yYXRpb25zKCksZS5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpKX0sdC5wcm90b3R5cGUucmVmcmVzaERlY29yYXRpb25zPWZ1bmN0aW9uKCl7dmFyIGUsdDt0cnl7Zm9yKHZhciByPWEodGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZGVjb3JhdGlvbnMpLGk9ci5uZXh0KCk7IWkuZG9uZTtpPXIubmV4dCgpKXt2YXIgbj1pLnZhbHVlO3RoaXMuX3JlbmRlckRlY29yYXRpb24obil9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLl9kaW1lbnNpb25zQ2hhbmdlZD0hMX0sdC5wcm90b3R5cGUuX3JlbmRlckRlY29yYXRpb249ZnVuY3Rpb24oZSl7dGhpcy5fcmVmcmVzaFN0eWxlKGUpLHRoaXMuX2RpbWVuc2lvbnNDaGFuZ2VkJiZ0aGlzLl9yZWZyZXNoWFBvc2l0aW9uKGUpfSx0LnByb3RvdHlwZS5fY3JlYXRlRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgdCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc0xpc3QuYWRkKFwieHRlcm0tZGVjb3JhdGlvblwiKSxyLnN0eWxlLndpZHRoPU1hdGgucm91bmQoKGUub3B0aW9ucy53aWR0aHx8MSkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCkrXCJweFwiLHIuc3R5bGUuaGVpZ2h0PShlLm9wdGlvbnMuaGVpZ2h0fHwxKSp0aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCtcInB4XCIsci5zdHlsZS50b3A9KGUubWFya2VyLmxpbmUtdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2ZS55ZGlzcCkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQrXCJweFwiLHIuc3R5bGUubGluZUhlaWdodD10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCtcInB4XCI7dmFyIGk9bnVsbCE9PSh0PWUub3B0aW9ucy54KSYmdm9pZCAwIT09dD90OjA7cmV0dXJuIGkmJmk+dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzJiYoci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSx0aGlzLl9yZWZyZXNoWFBvc2l0aW9uKGUscikscn0sdC5wcm90b3R5cGUuX3JlZnJlc2hTdHlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5tYXJrZXIubGluZS10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLnlkaXNwO2lmKHI8MHx8cj49dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKWUuZWxlbWVudCYmKGUuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUub25SZW5kZXJFbWl0dGVyLmZpcmUoZS5lbGVtZW50KSk7ZWxzZXt2YXIgaT10aGlzLl9kZWNvcmF0aW9uRWxlbWVudHMuZ2V0KGUpO2l8fChlLm9uRGlzcG9zZSgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fcmVtb3ZlRGVjb3JhdGlvbihlKX0pKSxpPXRoaXMuX2NyZWF0ZUVsZW1lbnQoZSksZS5lbGVtZW50PWksdGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLnNldChlLGkpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChpKSksaS5zdHlsZS50b3A9cip0aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCtcInB4XCIsaS5zdHlsZS5kaXNwbGF5PXRoaXMuX2FsdEJ1ZmZlcklzQWN0aXZlP1wibm9uZVwiOlwiYmxvY2tcIixlLm9uUmVuZGVyRW1pdHRlci5maXJlKGkpfX0sdC5wcm90b3R5cGUuX3JlZnJlc2hYUG9zaXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZih2b2lkIDA9PT10JiYodD1lLmVsZW1lbnQpLHQpe3ZhciBpPW51bGwhPT0ocj1lLm9wdGlvbnMueCkmJnZvaWQgMCE9PXI/cjowO1wicmlnaHRcIj09PShlLm9wdGlvbnMuYW5jaG9yfHxcImxlZnRcIik/dC5zdHlsZS5yaWdodD1pP2kqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCtcInB4XCI6XCJcIjp0LnN0eWxlLmxlZnQ9aT9pKnRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgrXCJweFwiOlwiXCJ9fSx0LnByb3RvdHlwZS5fcmVtb3ZlRGVjb3JhdGlvbj1mdW5jdGlvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLmdldChlKSl8fHZvaWQgMD09PXR8fHQucmVtb3ZlKCksdGhpcy5fZGVjb3JhdGlvbkVsZW1lbnRzLmRlbGV0ZShlKX0sbyhbcygxLHUuSUJ1ZmZlclNlcnZpY2UpLHMoMix1LklEZWNvcmF0aW9uU2VydmljZSkscygzLGwuSVJlbmRlclNlcnZpY2UpXSx0KX0oaC5EaXNwb3NhYmxlKTt0LkJ1ZmZlckRlY29yYXRpb25SZW5kZXJlcj1mfSw1ODcxOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db2xvclpvbmVTdG9yZT12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fem9uZXM9W10sdGhpcy5fem9uZVBvb2w9W10sdGhpcy5fem9uZVBvb2xJbmRleD0wLHRoaXMuX2xpbmVQYWRkaW5nPXtmdWxsOjAsbGVmdDowLGNlbnRlcjowLHJpZ2h0OjB9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ6b25lc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9uZVBvb2wubGVuZ3RoPU1hdGgubWluKHRoaXMuX3pvbmVQb29sLmxlbmd0aCx0aGlzLl96b25lcy5sZW5ndGgpLHRoaXMuX3pvbmVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fem9uZXMubGVuZ3RoPTAsdGhpcy5fem9uZVBvb2xJbmRleD0wfSxlLnByb3RvdHlwZS5hZGREZWNvcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LGk7aWYoZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJPcHRpb25zKXt0cnl7Zm9yKHZhciBuPXIodGhpcy5fem9uZXMpLG89bi5uZXh0KCk7IW8uZG9uZTtvPW4ubmV4dCgpKXt2YXIgcz1vLnZhbHVlO2lmKHMuY29sb3I9PT1lLm9wdGlvbnMub3ZlcnZpZXdSdWxlck9wdGlvbnMuY29sb3ImJnMucG9zaXRpb249PT1lLm9wdGlvbnMub3ZlcnZpZXdSdWxlck9wdGlvbnMucG9zaXRpb24pe2lmKHRoaXMuX2xpbmVJbnRlcnNlY3RzWm9uZShzLGUubWFya2VyLmxpbmUpKXJldHVybjtpZih0aGlzLl9saW5lQWRqYWNlbnRUb1pvbmUocyxlLm1hcmtlci5saW5lLGUub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbikpcmV0dXJuIHZvaWQgdGhpcy5fYWRkTGluZVRvWm9uZShzLGUubWFya2VyLmxpbmUpfX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKGk9bi5yZXR1cm4pJiZpLmNhbGwobil9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWlmKHRoaXMuX3pvbmVQb29sSW5kZXg8dGhpcy5fem9uZVBvb2wubGVuZ3RoKXJldHVybiB0aGlzLl96b25lUG9vbFt0aGlzLl96b25lUG9vbEluZGV4XS5jb2xvcj1lLm9wdGlvbnMub3ZlcnZpZXdSdWxlck9wdGlvbnMuY29sb3IsdGhpcy5fem9uZVBvb2xbdGhpcy5fem9uZVBvb2xJbmRleF0ucG9zaXRpb249ZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJPcHRpb25zLnBvc2l0aW9uLHRoaXMuX3pvbmVQb29sW3RoaXMuX3pvbmVQb29sSW5kZXhdLnN0YXJ0QnVmZmVyTGluZT1lLm1hcmtlci5saW5lLHRoaXMuX3pvbmVQb29sW3RoaXMuX3pvbmVQb29sSW5kZXhdLmVuZEJ1ZmZlckxpbmU9ZS5tYXJrZXIubGluZSx2b2lkIHRoaXMuX3pvbmVzLnB1c2godGhpcy5fem9uZVBvb2xbdGhpcy5fem9uZVBvb2xJbmRleCsrXSk7dGhpcy5fem9uZXMucHVzaCh7Y29sb3I6ZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJPcHRpb25zLmNvbG9yLHBvc2l0aW9uOmUub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbixzdGFydEJ1ZmZlckxpbmU6ZS5tYXJrZXIubGluZSxlbmRCdWZmZXJMaW5lOmUubWFya2VyLmxpbmV9KSx0aGlzLl96b25lUG9vbC5wdXNoKHRoaXMuX3pvbmVzW3RoaXMuX3pvbmVzLmxlbmd0aC0xXSksdGhpcy5fem9uZVBvb2xJbmRleCsrfX0sZS5wcm90b3R5cGUuc2V0UGFkZGluZz1mdW5jdGlvbihlKXt0aGlzLl9saW5lUGFkZGluZz1lfSxlLnByb3RvdHlwZS5fbGluZUludGVyc2VjdHNab25lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ+PWUuc3RhcnRCdWZmZXJMaW5lJiZ0PD1lLmVuZEJ1ZmZlckxpbmV9LGUucHJvdG90eXBlLl9saW5lQWRqYWNlbnRUb1pvbmU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0Pj1lLnN0YXJ0QnVmZmVyTGluZS10aGlzLl9saW5lUGFkZGluZ1tyfHxcImZ1bGxcIl0mJnQ8PWUuZW5kQnVmZmVyTGluZSt0aGlzLl9saW5lUGFkZGluZ1tyfHxcImZ1bGxcIl19LGUucHJvdG90eXBlLl9hZGRMaW5lVG9ab25lPWZ1bmN0aW9uKGUsdCl7ZS5zdGFydEJ1ZmZlckxpbmU9TWF0aC5taW4oZS5zdGFydEJ1ZmZlckxpbmUsdCksZS5lbmRCdWZmZXJMaW5lPU1hdGgubWF4KGUuZW5kQnVmZmVyTGluZSx0KX0sZX0oKTt0LkNvbG9yWm9uZVN0b3JlPWl9LDU3NDQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19LGE9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5PdmVydmlld1J1bGVyUmVuZGVyZXI9dm9pZCAwO3ZhciBjPXIoNTg3MSksbD1yKDM2NTYpLGg9cig0NzI1KSx1PXIoODQ0KSxmPXIoMjU4NSksXz17ZnVsbDowLGxlZnQ6MCxjZW50ZXI6MCxyaWdodDowfSxkPXtmdWxsOjAsbGVmdDowLGNlbnRlcjowLHJpZ2h0OjB9LHA9e2Z1bGw6MCxsZWZ0OjAsY2VudGVyOjAscmlnaHQ6MH0sdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzKXt2YXIgYSxsPWUuY2FsbCh0aGlzKXx8dGhpcztsLl92aWV3cG9ydEVsZW1lbnQ9dCxsLl9zY3JlZW5FbGVtZW50PXIsbC5fYnVmZmVyU2VydmljZT1pLGwuX2RlY29yYXRpb25TZXJ2aWNlPW4sbC5fcmVuZGVyU2VydmljZT1vLGwuX29wdGlvbnNTZXJ2aWNlPXMsbC5fY29sb3Jab25lU3RvcmU9bmV3IGMuQ29sb3Jab25lU3RvcmUsbC5fc2hvdWxkVXBkYXRlRGltZW5zaW9ucz0hMCxsLl9zaG91bGRVcGRhdGVBbmNob3I9ITAsbC5fbGFzdEtub3duQnVmZmVyTGVuZ3RoPTAsbC5fY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksbC5fY2FudmFzLmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1kZWNvcmF0aW9uLW92ZXJ2aWV3LXJ1bGVyXCIpLGwuX3JlZnJlc2hDYW52YXNEaW1lbnNpb25zKCksbnVsbD09PShhPWwuX3ZpZXdwb3J0RWxlbWVudC5wYXJlbnRFbGVtZW50KXx8dm9pZCAwPT09YXx8YS5pbnNlcnRCZWZvcmUobC5fY2FudmFzLGwuX3ZpZXdwb3J0RWxlbWVudCk7dmFyIGg9bC5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtpZighaCl0aHJvdyBuZXcgRXJyb3IoXCJDdHggY2Fubm90IGJlIG51bGxcIik7cmV0dXJuIGwuX2N0eD1oLGwuX3JlZ2lzdGVyRGVjb3JhdGlvbkxpc3RlbmVycygpLGwuX3JlZ2lzdGVyQnVmZmVyQ2hhbmdlTGlzdGVuZXJzKCksbC5fcmVnaXN0ZXJEaW1lbnNpb25DaGFuZ2VMaXN0ZW5lcnMoKSxsfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiX3dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcHRpb25zU2VydmljZS5vcHRpb25zLm92ZXJ2aWV3UnVsZXJXaWR0aHx8MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fcmVnaXN0ZXJEZWNvcmF0aW9uTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLm9uRGVjb3JhdGlvblJlZ2lzdGVyZWQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3F1ZXVlUmVmcmVzaCh2b2lkIDAsITApfSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlLm9uRGVjb3JhdGlvblJlbW92ZWQoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3F1ZXVlUmVmcmVzaCh2b2lkIDAsITApfSkpKX0sdC5wcm90b3R5cGUuX3JlZ2lzdGVyQnVmZmVyQ2hhbmdlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlKChmdW5jdGlvbigpe3JldHVybiBlLl9xdWV1ZVJlZnJlc2goKX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMub25CdWZmZXJBY3RpdmF0ZSgoZnVuY3Rpb24oKXtlLl9jYW52YXMuc3R5bGUuZGlzcGxheT1lLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcj09PWUuX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5hbHQ/XCJub25lXCI6XCJibG9ja1wifSkpKSx0aGlzLnJlZ2lzdGVyKHRoaXMuX2J1ZmZlclNlcnZpY2Uub25TY3JvbGwoKGZ1bmN0aW9uKCl7ZS5fbGFzdEtub3duQnVmZmVyTGVuZ3RoIT09ZS5fYnVmZmVyU2VydmljZS5idWZmZXJzLm5vcm1hbC5saW5lcy5sZW5ndGgmJihlLl9yZWZyZXNoRHJhd0hlaWdodENvbnN0YW50cygpLGUuX3JlZnJlc2hDb2xvclpvbmVQYWRkaW5nKCkpfSkpKX0sdC5wcm90b3R5cGUuX3JlZ2lzdGVyRGltZW5zaW9uQ2hhbmdlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlZ2lzdGVyKHRoaXMuX3JlbmRlclNlcnZpY2Uub25SZW5kZXIoKGZ1bmN0aW9uKCl7ZS5fY29udGFpbmVySGVpZ2h0JiZlLl9jb250YWluZXJIZWlnaHQ9PT1lLl9zY3JlZW5FbGVtZW50LmNsaWVudEhlaWdodHx8KGUuX3F1ZXVlUmVmcmVzaCghMCksZS5fY29udGFpbmVySGVpZ2h0PWUuX3NjcmVlbkVsZW1lbnQuY2xpZW50SGVpZ2h0KX0pKSksdGhpcy5yZWdpc3Rlcih0aGlzLl9vcHRpb25zU2VydmljZS5vbk9wdGlvbkNoYW5nZSgoZnVuY3Rpb24odCl7XCJvdmVydmlld1J1bGVyV2lkdGhcIj09PXQmJmUuX3F1ZXVlUmVmcmVzaCghMCl9KSkpLHRoaXMucmVnaXN0ZXIoKDAsbC5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe2UuX3F1ZXVlUmVmcmVzaCghMCl9KSkpLHRoaXMuX3F1ZXVlUmVmcmVzaCghMCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fY2FudmFzKXx8dm9pZCAwPT09dHx8dC5yZW1vdmUoKSxlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9yZWZyZXNoRHJhd0NvbnN0YW50cz1mdW5jdGlvbigpe3ZhciBlPU1hdGguZmxvb3IodGhpcy5fY2FudmFzLndpZHRoLzMpLHQ9TWF0aC5jZWlsKHRoaXMuX2NhbnZhcy53aWR0aC8zKTtkLmZ1bGw9dGhpcy5fY2FudmFzLndpZHRoLGQubGVmdD1lLGQuY2VudGVyPXQsZC5yaWdodD1lLHRoaXMuX3JlZnJlc2hEcmF3SGVpZ2h0Q29uc3RhbnRzKCkscC5mdWxsPTAscC5sZWZ0PTAscC5jZW50ZXI9ZC5sZWZ0LHAucmlnaHQ9ZC5sZWZ0K2QuY2VudGVyfSx0LnByb3RvdHlwZS5fcmVmcmVzaERyYXdIZWlnaHRDb25zdGFudHM9ZnVuY3Rpb24oKXtfLmZ1bGw9TWF0aC5yb3VuZCgyKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTt2YXIgZT10aGlzLl9jYW52YXMuaGVpZ2h0L3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLmxpbmVzLmxlbmd0aCx0PU1hdGgucm91bmQoTWF0aC5tYXgoTWF0aC5taW4oZSwxMiksNikqd2luZG93LmRldmljZVBpeGVsUmF0aW8pO18ubGVmdD10LF8uY2VudGVyPXQsXy5yaWdodD10fSx0LnByb3RvdHlwZS5fcmVmcmVzaENvbG9yWm9uZVBhZGRpbmc9ZnVuY3Rpb24oKXt0aGlzLl9jb2xvclpvbmVTdG9yZS5zZXRQYWRkaW5nKHtmdWxsOk1hdGguZmxvb3IodGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2ZS5saW5lcy5sZW5ndGgvKHRoaXMuX2NhbnZhcy5oZWlnaHQtMSkqXy5mdWxsKSxsZWZ0Ok1hdGguZmxvb3IodGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2ZS5saW5lcy5sZW5ndGgvKHRoaXMuX2NhbnZhcy5oZWlnaHQtMSkqXy5sZWZ0KSxjZW50ZXI6TWF0aC5mbG9vcih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLmxpbmVzLmxlbmd0aC8odGhpcy5fY2FudmFzLmhlaWdodC0xKSpfLmNlbnRlcikscmlnaHQ6TWF0aC5mbG9vcih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLmxpbmVzLmxlbmd0aC8odGhpcy5fY2FudmFzLmhlaWdodC0xKSpfLnJpZ2h0KX0pLHRoaXMuX2xhc3RLbm93bkJ1ZmZlckxlbmd0aD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMubm9ybWFsLmxpbmVzLmxlbmd0aH0sdC5wcm90b3R5cGUuX3JlZnJlc2hDYW52YXNEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dGhpcy5fY2FudmFzLnN0eWxlLndpZHRoPXRoaXMuX3dpZHRoK1wicHhcIix0aGlzLl9jYW52YXMud2lkdGg9TWF0aC5yb3VuZCh0aGlzLl93aWR0aCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD10aGlzLl9zY3JlZW5FbGVtZW50LmNsaWVudEhlaWdodCtcInB4XCIsdGhpcy5fY2FudmFzLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuX3NjcmVlbkVsZW1lbnQuY2xpZW50SGVpZ2h0KndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLl9yZWZyZXNoRHJhd0NvbnN0YW50cygpLHRoaXMuX3JlZnJlc2hDb2xvclpvbmVQYWRkaW5nKCl9LHQucHJvdG90eXBlLl9yZWZyZXNoRGVjb3JhdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxuLG87dGhpcy5fc2hvdWxkVXBkYXRlRGltZW5zaW9ucyYmdGhpcy5fcmVmcmVzaENhbnZhc0RpbWVuc2lvbnMoKSx0aGlzLl9jdHguY2xlYXJSZWN0KDAsMCx0aGlzLl9jYW52YXMud2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodCksdGhpcy5fY29sb3Jab25lU3RvcmUuY2xlYXIoKTt0cnl7Zm9yKHZhciBzPWEodGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZGVjb3JhdGlvbnMpLGM9cy5uZXh0KCk7IWMuZG9uZTtjPXMubmV4dCgpKXt2YXIgbD1jLnZhbHVlO3RoaXMuX2NvbG9yWm9uZVN0b3JlLmFkZERlY29yYXRpb24obCl9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2MmJiFjLmRvbmUmJih0PXMucmV0dXJuKSYmdC5jYWxsKHMpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLl9jdHgubGluZVdpZHRoPTE7dmFyIGg9dGhpcy5fY29sb3Jab25lU3RvcmUuem9uZXM7dHJ5e2Zvcih2YXIgdT1hKGgpLGY9dS5uZXh0KCk7IWYuZG9uZTtmPXUubmV4dCgpKVwiZnVsbFwiIT09KHA9Zi52YWx1ZSkucG9zaXRpb24mJnRoaXMuX3JlbmRlckNvbG9yWm9uZShwKX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtmJiYhZi5kb25lJiYoaT11LnJldHVybikmJmkuY2FsbCh1KX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dHJ5e2Zvcih2YXIgXz1hKGgpLGQ9Xy5uZXh0KCk7IWQuZG9uZTtkPV8ubmV4dCgpKXt2YXIgcDtcImZ1bGxcIj09PShwPWQudmFsdWUpLnBvc2l0aW9uJiZ0aGlzLl9yZW5kZXJDb2xvclpvbmUocCl9fWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2QmJiFkLmRvbmUmJihvPV8ucmV0dXJuKSYmby5jYWxsKF8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX10aGlzLl9zaG91bGRVcGRhdGVEaW1lbnNpb25zPSExLHRoaXMuX3Nob3VsZFVwZGF0ZUFuY2hvcj0hMX0sdC5wcm90b3R5cGUuX3JlbmRlckNvbG9yWm9uZT1mdW5jdGlvbihlKXt0aGlzLl9jdHguZmlsbFN0eWxlPWUuY29sb3IsdGhpcy5fY3R4LmZpbGxSZWN0KHBbZS5wb3NpdGlvbnx8XCJmdWxsXCJdLE1hdGgucm91bmQoKHRoaXMuX2NhbnZhcy5oZWlnaHQtMSkqKGUuc3RhcnRCdWZmZXJMaW5lL3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVycy5hY3RpdmUubGluZXMubGVuZ3RoKS1fW2UucG9zaXRpb258fFwiZnVsbFwiXS8yKSxkW2UucG9zaXRpb258fFwiZnVsbFwiXSxNYXRoLnJvdW5kKCh0aGlzLl9jYW52YXMuaGVpZ2h0LTEpKigoZS5lbmRCdWZmZXJMaW5lLWUuc3RhcnRCdWZmZXJMaW5lKS90aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZlLmxpbmVzLmxlbmd0aCkrX1tlLnBvc2l0aW9ufHxcImZ1bGxcIl0pKX0sdC5wcm90b3R5cGUuX3F1ZXVlUmVmcmVzaD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5fc2hvdWxkVXBkYXRlRGltZW5zaW9ucz1lfHx0aGlzLl9zaG91bGRVcGRhdGVEaW1lbnNpb25zLHRoaXMuX3Nob3VsZFVwZGF0ZUFuY2hvcj10fHx0aGlzLl9zaG91bGRVcGRhdGVBbmNob3Isdm9pZCAwPT09dGhpcy5fYW5pbWF0aW9uRnJhbWUmJih0aGlzLl9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3IuX3JlZnJlc2hEZWNvcmF0aW9ucygpLHIuX2FuaW1hdGlvbkZyYW1lPXZvaWQgMH0pKSl9LG8oW3MoMixmLklCdWZmZXJTZXJ2aWNlKSxzKDMsZi5JRGVjb3JhdGlvblNlcnZpY2UpLHMoNCxoLklSZW5kZXJTZXJ2aWNlKSxzKDUsZi5JT3B0aW9uc1NlcnZpY2UpXSx0KX0odS5EaXNwb3NhYmxlKTt0Lk92ZXJ2aWV3UnVsZXJSZW5kZXJlcj12fSwyOTUwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxuPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ29tcG9zaXRpb25IZWxwZXI9dm9pZCAwO3ZhciBvPXIoNDcyNSkscz1yKDI1ODUpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvKXt0aGlzLl90ZXh0YXJlYT1lLHRoaXMuX2NvbXBvc2l0aW9uVmlldz10LHRoaXMuX2J1ZmZlclNlcnZpY2U9cix0aGlzLl9vcHRpb25zU2VydmljZT1pLHRoaXMuX2NvcmVTZXJ2aWNlPW4sdGhpcy5fcmVuZGVyU2VydmljZT1vLHRoaXMuX2lzQ29tcG9zaW5nPSExLHRoaXMuX2lzU2VuZGluZ0NvbXBvc2l0aW9uPSExLHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb249e3N0YXJ0OjAsZW5kOjB9LHRoaXMuX2RhdGFBbHJlYWR5U2VudD1cIlwifXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0NvbXBvc2luZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb21wb3Npbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY29tcG9zaXRpb25zdGFydD1mdW5jdGlvbigpe3RoaXMuX2lzQ29tcG9zaW5nPSEwLHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uc3RhcnQ9dGhpcy5fdGV4dGFyZWEudmFsdWUubGVuZ3RoLHRoaXMuX2NvbXBvc2l0aW9uVmlldy50ZXh0Q29udGVudD1cIlwiLHRoaXMuX2RhdGFBbHJlYWR5U2VudD1cIlwiLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpfSxlLnByb3RvdHlwZS5jb21wb3NpdGlvbnVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2NvbXBvc2l0aW9uVmlldy50ZXh0Q29udGVudD1lLmRhdGEsdGhpcy51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0Ll9jb21wb3NpdGlvblBvc2l0aW9uLmVuZD10Ll90ZXh0YXJlYS52YWx1ZS5sZW5ndGh9KSwwKX0sZS5wcm90b3R5cGUuY29tcG9zaXRpb25lbmQ9ZnVuY3Rpb24oKXt0aGlzLl9maW5hbGl6ZUNvbXBvc2l0aW9uKCEwKX0sZS5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihlKXtpZih0aGlzLl9pc0NvbXBvc2luZ3x8dGhpcy5faXNTZW5kaW5nQ29tcG9zaXRpb24pe2lmKDIyOT09PWUua2V5Q29kZSlyZXR1cm4hMTtpZigxNj09PWUua2V5Q29kZXx8MTc9PT1lLmtleUNvZGV8fDE4PT09ZS5rZXlDb2RlKXJldHVybiExO3RoaXMuX2ZpbmFsaXplQ29tcG9zaXRpb24oITEpfXJldHVybiAyMjkhPT1lLmtleUNvZGV8fCh0aGlzLl9oYW5kbGVBbnlUZXh0YXJlYUNoYW5nZXMoKSwhMSl9LGUucHJvdG90eXBlLl9maW5hbGl6ZUNvbXBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fY29tcG9zaXRpb25WaWV3LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIiksdGhpcy5faXNDb21wb3Npbmc9ITEsZSl7dmFyIHI9e3N0YXJ0OnRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uc3RhcnQsZW5kOnRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uZW5kfTt0aGlzLl9pc1NlbmRpbmdDb21wb3NpdGlvbj0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuX2lzU2VuZGluZ0NvbXBvc2l0aW9uKXt0Ll9pc1NlbmRpbmdDb21wb3NpdGlvbj0hMTt2YXIgZTtyLnN0YXJ0Kz10Ll9kYXRhQWxyZWFkeVNlbnQubGVuZ3RoLChlPXQuX2lzQ29tcG9zaW5nP3QuX3RleHRhcmVhLnZhbHVlLnN1YnN0cmluZyhyLnN0YXJ0LHIuZW5kKTp0Ll90ZXh0YXJlYS52YWx1ZS5zdWJzdHJpbmcoci5zdGFydCkpLmxlbmd0aD4wJiZ0Ll9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KGUsITApfX0pLDApfWVsc2V7dGhpcy5faXNTZW5kaW5nQ29tcG9zaXRpb249ITE7dmFyIGk9dGhpcy5fdGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uc3RhcnQsdGhpcy5fY29tcG9zaXRpb25Qb3NpdGlvbi5lbmQpO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQoaSwhMCl9fSxlLnByb3RvdHlwZS5faGFuZGxlQW55VGV4dGFyZWFDaGFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3RleHRhcmVhLnZhbHVlO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aWYoIWUuX2lzQ29tcG9zaW5nKXt2YXIgcj1lLl90ZXh0YXJlYS52YWx1ZS5yZXBsYWNlKHQsXCJcIik7ci5sZW5ndGg+MCYmKGUuX2RhdGFBbHJlYWR5U2VudD1yLGUuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQociwhMCkpfX0pLDApfSxlLnByb3RvdHlwZS51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5faXNDb21wb3Npbmcpe2lmKHRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLmlzQ3Vyc29ySW5WaWV3cG9ydCl7dmFyIHI9TWF0aC5taW4odGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtMSksaT10aGlzLl9yZW5kZXJTZXJ2aWNlLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCxuPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnkqdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQsbz1yKnRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGg7dGhpcy5fY29tcG9zaXRpb25WaWV3LnN0eWxlLmxlZnQ9bytcInB4XCIsdGhpcy5fY29tcG9zaXRpb25WaWV3LnN0eWxlLnRvcD1uK1wicHhcIix0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUuaGVpZ2h0PWkrXCJweFwiLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5zdHlsZS5saW5lSGVpZ2h0PWkrXCJweFwiLHRoaXMuX2NvbXBvc2l0aW9uVmlldy5zdHlsZS5mb250RmFtaWx5PXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udEZhbWlseSx0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUuZm9udFNpemU9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250U2l6ZStcInB4XCI7dmFyIHM9dGhpcy5fY29tcG9zaXRpb25WaWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuX3RleHRhcmVhLnN0eWxlLmxlZnQ9bytcInB4XCIsdGhpcy5fdGV4dGFyZWEuc3R5bGUudG9wPW4rXCJweFwiLHRoaXMuX3RleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgubWF4KHMud2lkdGgsMSkrXCJweFwiLHRoaXMuX3RleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLm1heChzLmhlaWdodCwxKStcInB4XCIsdGhpcy5fdGV4dGFyZWEuc3R5bGUubGluZUhlaWdodD1zLmhlaWdodCtcInB4XCJ9ZXx8c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzKCEwKX0pLDApfX0saShbbigyLHMuSUJ1ZmZlclNlcnZpY2UpLG4oMyxzLklPcHRpb25zU2VydmljZSksbig0LHMuSUNvcmVTZXJ2aWNlKSxuKDUsby5JUmVuZGVyU2VydmljZSldLGUpfSgpO3QuQ29tcG9zaXRpb25IZWxwZXI9YX0sOTgwNjooZSx0KT0+e2Z1bmN0aW9uIHIoZSx0LHIpe3ZhciBpPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLmdldENvbXB1dGVkU3R5bGUociksbz1wYXJzZUludChuLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLWxlZnRcIikpLHM9cGFyc2VJbnQobi5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy10b3BcIikpO3JldHVyblt0LmNsaWVudFgtaS5sZWZ0LW8sdC5jbGllbnRZLWkudG9wLXNdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0UmF3Qnl0ZUNvb3Jkcz10LmdldENvb3Jkcz10LmdldENvb3Jkc1JlbGF0aXZlVG9FbGVtZW50PXZvaWQgMCx0LmdldENvb3Jkc1JlbGF0aXZlVG9FbGVtZW50PXIsdC5nZXRDb29yZHM9ZnVuY3Rpb24oZSx0LGksbixvLHMsYSxjLGwpe2lmKHMpe3ZhciBoPXIoZSx0LGkpO2lmKGgpcmV0dXJuIGhbMF09TWF0aC5jZWlsKChoWzBdKyhsP2EvMjowKSkvYSksaFsxXT1NYXRoLmNlaWwoaFsxXS9jKSxoWzBdPU1hdGgubWluKE1hdGgubWF4KGhbMF0sMSksbisobD8xOjApKSxoWzFdPU1hdGgubWluKE1hdGgubWF4KGhbMV0sMSksbyksaH19LHQuZ2V0UmF3Qnl0ZUNvb3Jkcz1mdW5jdGlvbihlKXtpZihlKXJldHVybnt4OmVbMF0rMzIseTplWzFdKzMyfX19LDk1MDQ6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQubW92ZVRvQ2VsbFNlcXVlbmNlPXZvaWQgMDt2YXIgaT1yKDI1ODQpO2Z1bmN0aW9uIG4oZSx0LHIsaSl7dmFyIG49ZS1vKHIsZSksYT10LW8ocix0KSxoPU1hdGguYWJzKG4tYSktZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT0wLG49ZS1vKHIsZSksYT10LW8ocix0KSxjPTA7YzxNYXRoLmFicyhuLWEpO2MrKyl7dmFyIGw9XCJBXCI9PT1zKGUsdCk/LTE6MSxoPXIuYnVmZmVyLmxpbmVzLmdldChuK2wqYyk7KG51bGw9PWg/dm9pZCAwOmguaXNXcmFwcGVkKSYmaSsrfXJldHVybiBpfShlLHQscik7cmV0dXJuIGwoaCxjKHMoZSx0KSxpKSl9ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgcj0wLGk9ZS5idWZmZXIubGluZXMuZ2V0KHQpLG49bnVsbD09aT92b2lkIDA6aS5pc1dyYXBwZWQ7biYmdD49MCYmdDxlLnJvd3M7KXIrKyxuPW51bGw9PShpPWUuYnVmZmVyLmxpbmVzLmdldCgtLXQpKT92b2lkIDA6aS5pc1dyYXBwZWQ7cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBlPnQ/XCJBXCI6XCJCXCJ9ZnVuY3Rpb24gYShlLHQscixpLG4sbyl7Zm9yKHZhciBzPWUsYT10LGM9XCJcIjtzIT09cnx8YSE9PWk7KXMrPW4/MTotMSxuJiZzPm8uY29scy0xPyhjKz1vLmJ1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcoYSwhMSxlLHMpLHM9MCxlPTAsYSsrKTohbiYmczwwJiYoYys9by5idWZmZXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKGEsITEsMCxlKzEpLGU9cz1vLmNvbHMtMSxhLS0pO3JldHVybiBjK28uYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhhLCExLGUscyl9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPXQ/XCJPXCI6XCJbXCI7cmV0dXJuIGkuQzAuRVNDK3IrZX1mdW5jdGlvbiBsKGUsdCl7ZT1NYXRoLmZsb29yKGUpO2Zvcih2YXIgcj1cIlwiLGk9MDtpPGU7aSsrKXIrPXQ7cmV0dXJuIHJ9dC5tb3ZlVG9DZWxsU2VxdWVuY2U9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIHMsaD1yLmJ1ZmZlci54LHU9ci5idWZmZXIueTtpZighci5idWZmZXIuaGFzU2Nyb2xsYmFjaylyZXR1cm4gZnVuY3Rpb24oZSx0LHIsaSxzLGgpe3JldHVybiAwPT09bih0LGkscyxoKS5sZW5ndGg/XCJcIjpsKGEoZSx0LGUsdC1vKHMsdCksITEscykubGVuZ3RoLGMoXCJEXCIsaCkpfShoLHUsMCx0LHIsaSkrbih1LHQscixpKStmdW5jdGlvbihlLHQscixpLHMsaCl7dmFyIHU7dT1uKHQsaSxzLGgpLmxlbmd0aD4wP2ktbyhzLGkpOnQ7dmFyIGY9aSxfPWZ1bmN0aW9uKGUsdCxyLGkscyxhKXt2YXIgYztyZXR1cm4gYz1uKHIsaSxzLGEpLmxlbmd0aD4wP2ktbyhzLGkpOnQsZTxyJiZjPD1pfHxlPj1yJiZjPGk/XCJDXCI6XCJEXCJ9KGUsdCxyLGkscyxoKTtyZXR1cm4gbChhKGUsdSxyLGYsXCJDXCI9PT1fLHMpLmxlbmd0aCxjKF8saCkpfShoLHUsZSx0LHIsaSk7aWYodT09PXQpcmV0dXJuIHM9aD5lP1wiRFwiOlwiQ1wiLGwoTWF0aC5hYnMoaC1lKSxjKHMsaSkpO3M9dT50P1wiRFwiOlwiQ1wiO3ZhciBmPU1hdGguYWJzKHUtdCk7cmV0dXJuIGwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb2xzLWV9KHU+dD9lOmgscikrKGYtMSkqci5jb2xzKzErKCh1PnQ/aDplKS0xKSxjKHMsaSkpfX0sNDM4OTpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLGk9YXJndW1lbnRzLmxlbmd0aDtyPGk7cisrKWZvcih2YXIgbiBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVGVybWluYWw9dm9pZCAwO3ZhciBvPXIoMzIzNikscz1yKDkwNDIpLGE9cig3OTc1KSxjPXIoNzA5MCksbD1yKDU3NDEpLGg9cig4Mjg1KSx1PVtcImNvbHNcIixcInJvd3NcIl0sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLl9jb3JlPW5ldyBvLlRlcm1pbmFsKGUpLHRoaXMuX2FkZG9uTWFuYWdlcj1uZXcgbC5BZGRvbk1hbmFnZXIsdGhpcy5fcHVibGljT3B0aW9ucz1pKHt9LHRoaXMuX2NvcmUub3B0aW9ucyk7dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2NvcmUub3B0aW9uc1tlXX0sbj1mdW5jdGlvbihlLHIpe3QuX2NoZWNrUmVhZG9ubHlPcHRpb25zKGUpLHQuX2NvcmUub3B0aW9uc1tlXT1yfTtmb3IodmFyIHMgaW4gdGhpcy5fY29yZS5vcHRpb25zKXt2YXIgYT17Z2V0OnIuYmluZCh0aGlzLHMpLHNldDpuLmJpbmQodGhpcyxzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuX3B1YmxpY09wdGlvbnMscyxhKX19cmV0dXJuIGUucHJvdG90eXBlLl9jaGVja1JlYWRvbmx5T3B0aW9ucz1mdW5jdGlvbihlKXtpZih1LmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcignT3B0aW9uIFwiJytlKydcIiBjYW4gb25seSBiZSBzZXQgaW4gdGhlIGNvbnN0cnVjdG9yJyl9LGUucHJvdG90eXBlLl9jaGVja1Byb3Bvc2VkQXBpPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NvcmUub3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5hbGxvd1Byb3Bvc2VkQXBpKXRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHNldCB0aGUgYWxsb3dQcm9wb3NlZEFwaSBvcHRpb24gdG8gdHJ1ZSB0byB1c2UgcHJvcG9zZWQgQVBJXCIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkJlbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25CZWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQmluYXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLm9uQmluYXJ5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ3Vyc29yTW92ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS5vbkN1cnNvck1vdmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25EYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLm9uRGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbktleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS5vbktleX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkxpbmVGZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLm9uTGluZUZlZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25SZW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25SZW5kZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25SZXNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25SZXNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25TY3JvbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25TY3JvbGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25TZWxlY3Rpb25DaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25TZWxlY3Rpb25DaGFuZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25UaXRsZUNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS5vblRpdGxlQ2hhbmdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uV3JpdGVQYXJzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUub25Xcml0ZVBhcnNlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJlbGVtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmVsZW1lbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGFyc2VyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja1Byb3Bvc2VkQXBpKCksdGhpcy5fcGFyc2VyfHwodGhpcy5fcGFyc2VyPW5ldyBhLlBhcnNlckFwaSh0aGlzLl9jb3JlKSksdGhpcy5fcGFyc2VyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInVuaWNvZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSxuZXcgYy5Vbmljb2RlQXBpKHRoaXMuX2NvcmUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInRleHRhcmVhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLnRleHRhcmVhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInJvd3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvcmUucm93c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjb2xzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmNvbHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja1Byb3Bvc2VkQXBpKCksdGhpcy5fYnVmZmVyfHwodGhpcy5fYnVmZmVyPW5ldyBoLkJ1ZmZlck5hbWVzcGFjZUFwaSh0aGlzLl9jb3JlKSksdGhpcy5fYnVmZmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1hcmtlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl9jb3JlLm1hcmtlcnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibW9kZXNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29yZS5jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMsdD1cIm5vbmVcIjtzd2l0Y2godGhpcy5fY29yZS5jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZVByb3RvY29sKXtjYXNlXCJYMTBcIjp0PVwieDEwXCI7YnJlYWs7Y2FzZVwiVlQyMDBcIjp0PVwidnQyMDBcIjticmVhaztjYXNlXCJEUkFHXCI6dD1cImRyYWdcIjticmVhaztjYXNlXCJBTllcIjp0PVwiYW55XCJ9cmV0dXJue2FwcGxpY2F0aW9uQ3Vyc29yS2V5c01vZGU6ZS5hcHBsaWNhdGlvbkN1cnNvcktleXMsYXBwbGljYXRpb25LZXlwYWRNb2RlOmUuYXBwbGljYXRpb25LZXlwYWQsYnJhY2tldGVkUGFzdGVNb2RlOmUuYnJhY2tldGVkUGFzdGVNb2RlLGluc2VydE1vZGU6dGhpcy5fY29yZS5jb3JlU2VydmljZS5tb2Rlcy5pbnNlcnRNb2RlLG1vdXNlVHJhY2tpbmdNb2RlOnQsb3JpZ2luTW9kZTplLm9yaWdpbixyZXZlcnNlV3JhcGFyb3VuZE1vZGU6ZS5yZXZlcnNlV3JhcGFyb3VuZCxzZW5kRm9jdXNNb2RlOmUuc2VuZEZvY3VzLHdyYXBhcm91bmRNb2RlOmUud3JhcGFyb3VuZH19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3B0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHVibGljT3B0aW9uc30sc2V0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMuX3B1YmxpY09wdGlvbnNbdF09ZVt0XX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5ibHVyKCl9LGUucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5mb2N1cygpfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLl92ZXJpZnlJbnRlZ2VycyhlLHQpLHRoaXMuX2NvcmUucmVzaXplKGUsdCl9LGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSl7dGhpcy5fY29yZS5vcGVuKGUpfSxlLnByb3RvdHlwZS5hdHRhY2hDdXN0b21LZXlFdmVudEhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY29yZS5hdHRhY2hDdXN0b21LZXlFdmVudEhhbmRsZXIoZSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyTGlua01hdGNoZXI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9jaGVja1Byb3Bvc2VkQXBpKCksdGhpcy5fY29yZS5yZWdpc3RlckxpbmtNYXRjaGVyKGUsdCxyKX0sZS5wcm90b3R5cGUuZGVyZWdpc3RlckxpbmtNYXRjaGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl9jb3JlLmRlcmVnaXN0ZXJMaW5rTWF0Y2hlcihlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJMaW5rUHJvdmlkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl9jb3JlLnJlZ2lzdGVyTGlua1Byb3ZpZGVyKGUpfSxlLnByb3RvdHlwZS5yZWdpc3RlckNoYXJhY3RlckpvaW5lcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2hlY2tQcm9wb3NlZEFwaSgpLHRoaXMuX2NvcmUucmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXIoZSl9LGUucHJvdG90eXBlLmRlcmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXI9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tQcm9wb3NlZEFwaSgpLHRoaXMuX2NvcmUuZGVyZWdpc3RlckNoYXJhY3RlckpvaW5lcihlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJNYXJrZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMuX2NoZWNrUHJvcG9zZWRBcGkoKSx0aGlzLl92ZXJpZnlJbnRlZ2VycyhlKSx0aGlzLl9jb3JlLmFkZE1hcmtlcihlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJEZWNvcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaTtyZXR1cm4gdGhpcy5fY2hlY2tQcm9wb3NlZEFwaSgpLHRoaXMuX3ZlcmlmeVBvc2l0aXZlSW50ZWdlcnMobnVsbCE9PSh0PWUueCkmJnZvaWQgMCE9PXQ/dDowLG51bGwhPT0ocj1lLndpZHRoKSYmdm9pZCAwIT09cj9yOjAsbnVsbCE9PShpPWUuaGVpZ2h0KSYmdm9pZCAwIT09aT9pOjApLHRoaXMuX2NvcmUucmVnaXN0ZXJEZWNvcmF0aW9uKGUpfSxlLnByb3RvdHlwZS5hZGRNYXJrZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVnaXN0ZXJNYXJrZXIoZSl9LGUucHJvdG90eXBlLmhhc1NlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmhhc1NlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3ZlcmlmeUludGVnZXJzKGUsdCxyKSx0aGlzLl9jb3JlLnNlbGVjdChlLHQscil9LGUucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmdldFNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Qb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLmdldFNlbGVjdGlvblBvc2l0aW9uKCl9LGUucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5jbGVhclNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNlbGVjdEFsbCgpfSxlLnByb3RvdHlwZS5zZWxlY3RMaW5lcz1mdW5jdGlvbihlLHQpe3RoaXMuX3ZlcmlmeUludGVnZXJzKGUsdCksdGhpcy5fY29yZS5zZWxlY3RMaW5lcyhlLHQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fYWRkb25NYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9jb3JlLmRpc3Bvc2UoKX0sZS5wcm90b3R5cGUuc2Nyb2xsTGluZXM9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZ5SW50ZWdlcnMoZSksdGhpcy5fY29yZS5zY3JvbGxMaW5lcyhlKX0sZS5wcm90b3R5cGUuc2Nyb2xsUGFnZXM9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZ5SW50ZWdlcnMoZSksdGhpcy5fY29yZS5zY3JvbGxQYWdlcyhlKX0sZS5wcm90b3R5cGUuc2Nyb2xsVG9Ub3A9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLnNjcm9sbFRvVG9wKCl9LGUucHJvdG90eXBlLnNjcm9sbFRvQm90dG9tPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zY3JvbGxUb0JvdHRvbSgpfSxlLnByb3RvdHlwZS5zY3JvbGxUb0xpbmU9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZ5SW50ZWdlcnMoZSksdGhpcy5fY29yZS5zY3JvbGxUb0xpbmUoZSl9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fY29yZS5jbGVhcigpfSxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQpe3RoaXMuX2NvcmUud3JpdGUoZSx0KX0sZS5wcm90b3R5cGUud3JpdGVVdGY4PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY29yZS53cml0ZShlLHQpfSxlLnByb3RvdHlwZS53cml0ZWxuPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY29yZS53cml0ZShlKSx0aGlzLl9jb3JlLndyaXRlKFwiXFxyXFxuXCIsdCl9LGUucHJvdG90eXBlLnBhc3RlPWZ1bmN0aW9uKGUpe3RoaXMuX2NvcmUucGFzdGUoZSl9LGUucHJvdG90eXBlLmdldE9wdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29yZS5vcHRpb25zU2VydmljZS5nZXRPcHRpb24oZSl9LGUucHJvdG90eXBlLnNldE9wdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuX2NoZWNrUmVhZG9ubHlPcHRpb25zKGUpLHRoaXMuX2NvcmUub3B0aW9uc1NlcnZpY2Uuc2V0T3B0aW9uKGUsdCl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oZSx0KXt0aGlzLl92ZXJpZnlJbnRlZ2VycyhlLHQpLHRoaXMuX2NvcmUucmVmcmVzaChlLHQpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2NvcmUucmVzZXQoKX0sZS5wcm90b3R5cGUuY2xlYXJUZXh0dXJlQXRsYXM9ZnVuY3Rpb24oKXt0aGlzLl9jb3JlLmNsZWFyVGV4dHVyZUF0bGFzKCl9LGUucHJvdG90eXBlLmxvYWRBZGRvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYWRkb25NYW5hZ2VyLmxvYWRBZGRvbih0aGlzLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInN0cmluZ3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3ZlcmlmeUludGVnZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQscj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTt0cnl7Zm9yKHZhciBvPW4ocikscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBhPXMudmFsdWU7aWYoYT09PTEvMHx8aXNOYU4oYSl8fGElMSE9MCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIEFQSSBvbmx5IGFjY2VwdHMgaW50ZWdlcnNcIil9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJih0PW8ucmV0dXJuKSYmdC5jYWxsKG8pfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX19LGUucHJvdG90eXBlLl92ZXJpZnlQb3NpdGl2ZUludGVnZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQscj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTt0cnl7Zm9yKHZhciBvPW4ocikscz1vLm5leHQoKTshcy5kb25lO3M9by5uZXh0KCkpe3ZhciBhPXMudmFsdWU7aWYoYSYmKGE9PT0xLzB8fGlzTmFOKGEpfHxhJTEhPTB8fGE8MCkpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBBUEkgb25seSBhY2NlcHRzIHBvc2l0aXZlIGludGVnZXJzXCIpfX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYodD1vLnJldHVybikmJnQuY2FsbChvKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSxlfSgpO3QuVGVybWluYWw9Zn0sMTU0NjpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CYXNlUmVuZGVyTGF5ZXI9dm9pZCAwO3ZhciBuPXIoNjQzKSxvPXIoODgwMykscz1yKDE0MjApLGE9cigzNzM0KSxjPXIoMTc1MiksbD1yKDgwNTUpLGg9cig5NjMxKSx1PXIoODk3OCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuLG8scyxhLGMpe3RoaXMuX2NvbnRhaW5lcj1lLHRoaXMuX2FscGhhPWksdGhpcy5fY29sb3JzPW4sdGhpcy5fcmVuZGVyZXJJZD1vLHRoaXMuX2J1ZmZlclNlcnZpY2U9cyx0aGlzLl9vcHRpb25zU2VydmljZT1hLHRoaXMuX2RlY29yYXRpb25TZXJ2aWNlPWMsdGhpcy5fc2NhbGVkQ2hhcldpZHRoPTAsdGhpcy5fc2NhbGVkQ2hhckhlaWdodD0wLHRoaXMuX3NjYWxlZENlbGxXaWR0aD0wLHRoaXMuX3NjYWxlZENlbGxIZWlnaHQ9MCx0aGlzLl9zY2FsZWRDaGFyTGVmdD0wLHRoaXMuX3NjYWxlZENoYXJUb3A9MCx0aGlzLl9jb2x1bW5TZWxlY3RNb2RlPSExLHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXI9e2NoYXJzOlwiXCIsY29kZTowLGJnOjAsZmc6MCxib2xkOiExLGRpbTohMSxpdGFsaWM6ITF9LHRoaXMuX2NhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuX2NhbnZhcy5jbGFzc0xpc3QuYWRkKFwieHRlcm0tXCIrdCtcIi1sYXllclwiKSx0aGlzLl9jYW52YXMuc3R5bGUuekluZGV4PXIudG9TdHJpbmcoKSx0aGlzLl9pbml0Q2FudmFzKCksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhcyl9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZTsoMCxoLnJlbW92ZUVsZW1lbnRGcm9tUGFyZW50KSh0aGlzLl9jYW52YXMpLG51bGw9PT0oZT10aGlzLl9jaGFyQXRsYXMpfHx2b2lkIDA9PT1lfHxlLmRpc3Bvc2UoKX0sZS5wcm90b3R5cGUuX2luaXRDYW52YXM9ZnVuY3Rpb24oKXt0aGlzLl9jdHg9KDAsYy50aHJvd0lmRmFsc3kpKHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6dGhpcy5fYWxwaGF9KSksdGhpcy5fYWxwaGF8fHRoaXMuX2NsZWFyQWxsKCl9LGUucHJvdG90eXBlLm9uT3B0aW9uc0NoYW5nZWQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25Gb2N1cz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25DdXJzb3JNb3ZlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5vbkdyaWRDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7fSxlLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLl9zZWxlY3Rpb25TdGFydD1lLHRoaXMuX3NlbGVjdGlvbkVuZD10LHRoaXMuX2NvbHVtblNlbGVjdE1vZGU9cn0sZS5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKGUpe3RoaXMuX3JlZnJlc2hDaGFyQXRsYXMoZSl9LGUucHJvdG90eXBlLl9zZXRUcmFuc3BhcmVuY3k9ZnVuY3Rpb24oZSl7aWYoZSE9PXRoaXMuX2FscGhhKXt2YXIgdD10aGlzLl9jYW52YXM7dGhpcy5fYWxwaGE9ZSx0aGlzLl9jYW52YXM9dGhpcy5fY2FudmFzLmNsb25lTm9kZSgpLHRoaXMuX2luaXRDYW52YXMoKSx0aGlzLl9jb250YWluZXIucmVwbGFjZUNoaWxkKHRoaXMuX2NhbnZhcyx0KSx0aGlzLl9yZWZyZXNoQ2hhckF0bGFzKHRoaXMuX2NvbG9ycyksdGhpcy5vbkdyaWRDaGFuZ2VkKDAsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEpfX0sZS5wcm90b3R5cGUuX3JlZnJlc2hDaGFyQXRsYXM9ZnVuY3Rpb24oZSl7dGhpcy5fc2NhbGVkQ2hhcldpZHRoPD0wJiZ0aGlzLl9zY2FsZWRDaGFySGVpZ2h0PD0wfHwodGhpcy5fY2hhckF0bGFzPSgwLHMuYWNxdWlyZUNoYXJBdGxhcykodGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucyx0aGlzLl9yZW5kZXJlcklkLGUsdGhpcy5fc2NhbGVkQ2hhcldpZHRoLHRoaXMuX3NjYWxlZENoYXJIZWlnaHQpLHRoaXMuX2NoYXJBdGxhcy53YXJtVXAoKSl9LGUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlKXt0aGlzLl9zY2FsZWRDZWxsV2lkdGg9ZS5zY2FsZWRDZWxsV2lkdGgsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodD1lLnNjYWxlZENlbGxIZWlnaHQsdGhpcy5fc2NhbGVkQ2hhcldpZHRoPWUuc2NhbGVkQ2hhcldpZHRoLHRoaXMuX3NjYWxlZENoYXJIZWlnaHQ9ZS5zY2FsZWRDaGFySGVpZ2h0LHRoaXMuX3NjYWxlZENoYXJMZWZ0PWUuc2NhbGVkQ2hhckxlZnQsdGhpcy5fc2NhbGVkQ2hhclRvcD1lLnNjYWxlZENoYXJUb3AsdGhpcy5fY2FudmFzLndpZHRoPWUuc2NhbGVkQ2FudmFzV2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodD1lLnNjYWxlZENhbnZhc0hlaWdodCx0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9ZS5jYW52YXNXaWR0aCtcInB4XCIsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1lLmNhbnZhc0hlaWdodCtcInB4XCIsdGhpcy5fYWxwaGF8fHRoaXMuX2NsZWFyQWxsKCksdGhpcy5fcmVmcmVzaENoYXJBdGxhcyh0aGlzLl9jb2xvcnMpfSxlLnByb3RvdHlwZS5jbGVhclRleHR1cmVBdGxhcz1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9jaGFyQXRsYXMpfHx2b2lkIDA9PT1lfHxlLmNsZWFyKCl9LGUucHJvdG90eXBlLl9maWxsQ2VsbHM9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fY3R4LmZpbGxSZWN0KGUqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLHQqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCxyKnRoaXMuX3NjYWxlZENlbGxXaWR0aCxpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQpfSxlLnByb3RvdHlwZS5fZmlsbE1pZGRsZUxpbmVBdENlbGxzPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0xKTt2YXIgaT1NYXRoLmNlaWwoLjUqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCk7dGhpcy5fY3R4LmZpbGxSZWN0KGUqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLCh0KzEpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQtaS13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxyKnRoaXMuX3NjYWxlZENlbGxXaWR0aCx3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyl9LGUucHJvdG90eXBlLl9maWxsQm90dG9tTGluZUF0Q2VsbHM9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPTEpLHRoaXMuX2N0eC5maWxsUmVjdChlKnRoaXMuX3NjYWxlZENlbGxXaWR0aCwodCsxKSp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLTEscip0aGlzLl9zY2FsZWRDZWxsV2lkdGgsd2luZG93LmRldmljZVBpeGVsUmF0aW8pfSxlLnByb3RvdHlwZS5fZmlsbExlZnRMaW5lQXRDZWxsPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jdHguZmlsbFJlY3QoZSp0aGlzLl9zY2FsZWRDZWxsV2lkdGgsdCp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKnIsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCl9LGUucHJvdG90eXBlLl9zdHJva2VSZWN0QXRDZWxsPWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuX2N0eC5saW5lV2lkdGg9d2luZG93LmRldmljZVBpeGVsUmF0aW8sdGhpcy5fY3R4LnN0cm9rZVJlY3QoZSp0aGlzLl9zY2FsZWRDZWxsV2lkdGgrd2luZG93LmRldmljZVBpeGVsUmF0aW8vMix0KnRoaXMuX3NjYWxlZENlbGxIZWlnaHQrd2luZG93LmRldmljZVBpeGVsUmF0aW8vMixyKnRoaXMuX3NjYWxlZENlbGxXaWR0aC13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQtd2luZG93LmRldmljZVBpeGVsUmF0aW8pfSxlLnByb3RvdHlwZS5fY2xlYXJBbGw9ZnVuY3Rpb24oKXt0aGlzLl9hbHBoYT90aGlzLl9jdHguY2xlYXJSZWN0KDAsMCx0aGlzLl9jYW52YXMud2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodCk6KHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmJhY2tncm91bmQuY3NzLHRoaXMuX2N0eC5maWxsUmVjdCgwLDAsdGhpcy5fY2FudmFzLndpZHRoLHRoaXMuX2NhbnZhcy5oZWlnaHQpKX0sZS5wcm90b3R5cGUuX2NsZWFyQ2VsbHM9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fYWxwaGE/dGhpcy5fY3R4LmNsZWFyUmVjdChlKnRoaXMuX3NjYWxlZENlbGxXaWR0aCx0KnRoaXMuX3NjYWxlZENlbGxIZWlnaHQscip0aGlzLl9zY2FsZWRDZWxsV2lkdGgsaSp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KToodGhpcy5fY3R4LmZpbGxTdHlsZT10aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5jc3MsdGhpcy5fY3R4LmZpbGxSZWN0KGUqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLHQqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCxyKnRoaXMuX3NjYWxlZENlbGxXaWR0aCxpKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQpKX0sZS5wcm90b3R5cGUuX2ZpbGxDaGFyVHJ1ZUNvbG9yPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jdHguZm9udD10aGlzLl9nZXRGb250KCExLCExKSx0aGlzLl9jdHgudGV4dEJhc2VsaW5lPW8uVEVYVF9CQVNFTElORSx0aGlzLl9jbGlwUm93KHIpO3ZhciBpPSExOyExIT09dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXN0b21HbHlwaHMmJihpPSgwLHUudHJ5RHJhd0N1c3RvbUNoYXIpKHRoaXMuX2N0eCxlLmdldENoYXJzKCksdCp0aGlzLl9zY2FsZWRDZWxsV2lkdGgscip0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LHRoaXMuX3NjYWxlZENlbGxXaWR0aCx0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KSksaXx8dGhpcy5fY3R4LmZpbGxUZXh0KGUuZ2V0Q2hhcnMoKSx0KnRoaXMuX3NjYWxlZENlbGxXaWR0aCt0aGlzLl9zY2FsZWRDaGFyTGVmdCxyKnRoaXMuX3NjYWxlZENlbGxIZWlnaHQrdGhpcy5fc2NhbGVkQ2hhclRvcCt0aGlzLl9zY2FsZWRDaGFySGVpZ2h0KX0sZS5wcm90b3R5cGUuX2RyYXdDaGFycz1mdW5jdGlvbihlLHQscil7dmFyIHMsYSxjLGw9dGhpcy5fZ2V0Q29udHJhc3RDb2xvcihlLHQscik7aWYobHx8ZS5pc0ZnUkdCKCl8fGUuaXNCZ1JHQigpKXRoaXMuX2RyYXdVbmNhY2hlZENoYXJzKGUsdCxyLGwpO2Vsc2V7dmFyIGgsdTtlLmlzSW52ZXJzZSgpPyhoPWUuaXNCZ0RlZmF1bHQoKT9vLklOVkVSVEVEX0RFRkFVTFRfQ09MT1I6ZS5nZXRCZ0NvbG9yKCksdT1lLmlzRmdEZWZhdWx0KCk/by5JTlZFUlRFRF9ERUZBVUxUX0NPTE9SOmUuZ2V0RmdDb2xvcigpKToodT1lLmlzQmdEZWZhdWx0KCk/bi5ERUZBVUxUX0NPTE9SOmUuZ2V0QmdDb2xvcigpLGg9ZS5pc0ZnRGVmYXVsdCgpP24uREVGQVVMVF9DT0xPUjplLmdldEZnQ29sb3IoKSksaCs9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5kcmF3Qm9sZFRleHRJbkJyaWdodENvbG9ycyYmZS5pc0JvbGQoKSYmaDw4Pzg6MCx0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmNoYXJzPWUuZ2V0Q2hhcnMoKXx8bi5XSElURVNQQUNFX0NFTExfQ0hBUix0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmNvZGU9ZS5nZXRDb2RlKCl8fG4uV0hJVEVTUEFDRV9DRUxMX0NPREUsdGhpcy5fY3VycmVudEdseXBoSWRlbnRpZmllci5iZz11LHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuZmc9aCx0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmJvbGQ9ISFlLmlzQm9sZCgpLHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuZGltPSEhZS5pc0RpbSgpLHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuaXRhbGljPSEhZS5pc0l0YWxpYygpO3ZhciBmPSExO3RyeXtmb3IodmFyIF89aSh0aGlzLl9kZWNvcmF0aW9uU2VydmljZS5nZXREZWNvcmF0aW9uc0F0Q2VsbCh0LHIpKSxkPV8ubmV4dCgpOyFkLmRvbmU7ZD1fLm5leHQoKSl7dmFyIHA9ZC52YWx1ZTtpZihwLmJhY2tncm91bmRDb2xvclJHQnx8cC5mb3JlZ3JvdW5kQ29sb3JSR0Ipe2Y9ITA7YnJlYWt9fX1jYXRjaChlKXtzPXtlcnJvcjplfX1maW5hbGx5e3RyeXtkJiYhZC5kb25lJiYoYT1fLnJldHVybikmJmEuY2FsbChfKX1maW5hbGx5e2lmKHMpdGhyb3cgcy5lcnJvcn19IWYmJihudWxsPT09KGM9dGhpcy5fY2hhckF0bGFzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5kcmF3KHRoaXMuX2N0eCx0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLHQqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoK3RoaXMuX3NjYWxlZENoYXJMZWZ0LHIqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCt0aGlzLl9zY2FsZWRDaGFyVG9wKSl8fHRoaXMuX2RyYXdVbmNhY2hlZENoYXJzKGUsdCxyKX19LGUucHJvdG90eXBlLl9kcmF3VW5jYWNoZWRDaGFycz1mdW5jdGlvbihlLHQscixpKXtpZih0aGlzLl9jdHguc2F2ZSgpLHRoaXMuX2N0eC5mb250PXRoaXMuX2dldEZvbnQoISFlLmlzQm9sZCgpLCEhZS5pc0l0YWxpYygpKSx0aGlzLl9jdHgudGV4dEJhc2VsaW5lPW8uVEVYVF9CQVNFTElORSxlLmlzSW52ZXJzZSgpKWlmKGkpdGhpcy5fY3R4LmZpbGxTdHlsZT1pLmNzcztlbHNlIGlmKGUuaXNCZ0RlZmF1bHQoKSl0aGlzLl9jdHguZmlsbFN0eWxlPWwuY29sb3Iub3BhcXVlKHRoaXMuX2NvbG9ycy5iYWNrZ3JvdW5kKS5jc3M7ZWxzZSBpZihlLmlzQmdSR0IoKSl0aGlzLl9jdHguZmlsbFN0eWxlPVwicmdiKFwiK2EuQXR0cmlidXRlRGF0YS50b0NvbG9yUkdCKGUuZ2V0QmdDb2xvcigpKS5qb2luKFwiLFwiKStcIilcIjtlbHNle3ZhciBuPWUuZ2V0QmdDb2xvcigpO3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMmJmUuaXNCb2xkKCkmJm48OCYmKG4rPTgpLHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmFuc2lbbl0uY3NzfWVsc2UgaWYoaSl0aGlzLl9jdHguZmlsbFN0eWxlPWkuY3NzO2Vsc2UgaWYoZS5pc0ZnRGVmYXVsdCgpKXRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzO2Vsc2UgaWYoZS5pc0ZnUkdCKCkpdGhpcy5fY3R4LmZpbGxTdHlsZT1cInJnYihcIithLkF0dHJpYnV0ZURhdGEudG9Db2xvclJHQihlLmdldEZnQ29sb3IoKSkuam9pbihcIixcIikrXCIpXCI7ZWxzZXt2YXIgcz1lLmdldEZnQ29sb3IoKTt0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzJiZlLmlzQm9sZCgpJiZzPDgmJihzKz04KSx0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5hbnNpW3NdLmNzc310aGlzLl9jbGlwUm93KHIpLGUuaXNEaW0oKSYmKHRoaXMuX2N0eC5nbG9iYWxBbHBoYT1vLkRJTV9PUEFDSVRZKTt2YXIgYz0hMTshMSE9PXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3VzdG9tR2x5cGhzJiYoYz0oMCx1LnRyeURyYXdDdXN0b21DaGFyKSh0aGlzLl9jdHgsZS5nZXRDaGFycygpLHQqdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLHIqdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCx0aGlzLl9zY2FsZWRDZWxsV2lkdGgsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCkpLGN8fHRoaXMuX2N0eC5maWxsVGV4dChlLmdldENoYXJzKCksdCp0aGlzLl9zY2FsZWRDZWxsV2lkdGgrdGhpcy5fc2NhbGVkQ2hhckxlZnQscip0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0K3RoaXMuX3NjYWxlZENoYXJUb3ArdGhpcy5fc2NhbGVkQ2hhckhlaWdodCksdGhpcy5fY3R4LnJlc3RvcmUoKX0sZS5wcm90b3R5cGUuX2NsaXBSb3c9ZnVuY3Rpb24oZSl7dGhpcy5fY3R4LmJlZ2luUGF0aCgpLHRoaXMuX2N0eC5yZWN0KDAsZSp0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyp0aGlzLl9zY2FsZWRDZWxsV2lkdGgsdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCksdGhpcy5fY3R4LmNsaXAoKX0sZS5wcm90b3R5cGUuX2dldEZvbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD9cIml0YWxpY1wiOlwiXCIpK1wiIFwiKyhlP3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udFdlaWdodEJvbGQ6dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250V2VpZ2h0KStcIiBcIit0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZvbnRTaXplKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvK1wicHggXCIrdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250RmFtaWx5fSxlLnByb3RvdHlwZS5fZ2V0Q29udHJhc3RDb2xvcj1mdW5jdGlvbihlLHQscil7dmFyIG4sbyxzLGEsaD0hMTt0cnl7Zm9yKHZhciB1PWkodGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZ2V0RGVjb3JhdGlvbnNBdENlbGwodCxyKSksZj11Lm5leHQoKTshZi5kb25lO2Y9dS5uZXh0KCkpe3ZhciBfPWYudmFsdWU7XCJ0b3BcIiE9PV8ub3B0aW9ucy5sYXllciYmaHx8KF8uYmFja2dyb3VuZENvbG9yUkdCJiYocz1fLmJhY2tncm91bmRDb2xvclJHQi5yZ2JhKSxfLmZvcmVncm91bmRDb2xvclJHQiYmKGE9Xy5mb3JlZ3JvdW5kQ29sb3JSR0IucmdiYSksaD1cInRvcFwiPT09Xy5vcHRpb25zLmxheWVyKX19Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKG89dS5yZXR1cm4pJiZvLmNhbGwodSl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fWlmKGh8fHRoaXMuX2NvbG9ycy5zZWxlY3Rpb25Gb3JlZ3JvdW5kJiZ0aGlzLl9pc0NlbGxJblNlbGVjdGlvbih0LHIpJiYoYT10aGlzLl9jb2xvcnMuc2VsZWN0aW9uRm9yZWdyb3VuZC5yZ2JhKSxzfHxhfHwxIT09dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5taW5pbXVtQ29udHJhc3RSYXRpbyYmISgwLGMuZXhjbHVkZUZyb21Db250cmFzdFJhdGlvRGVtYW5kcykoZS5nZXRDb2RlKCkpKXtpZighcyYmIWEpe3ZhciBkPXRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLmdldENvbG9yKGUuYmcsZS5mZyk7aWYodm9pZCAwIT09ZClyZXR1cm4gZHx8dm9pZCAwfXZhciBwPWUuZ2V0RmdDb2xvcigpLHY9ZS5nZXRGZ0NvbG9yTW9kZSgpLHk9ZS5nZXRCZ0NvbG9yKCksZz1lLmdldEJnQ29sb3JNb2RlKCksbT0hIWUuaXNJbnZlcnNlKCksYj0hIWUuaXNJbnZlcnNlKCk7aWYobSl7dmFyIFM9cDtwPXkseT1TO3ZhciBDPXY7dj1nLGc9Q312YXIgdz10aGlzLl9yZXNvbHZlQmFja2dyb3VuZFJnYmEodm9pZCAwIT09cz81MDMzMTY0ODpnLG51bGwhPXM/czp5LG0pLEw9dGhpcy5fcmVzb2x2ZUZvcmVncm91bmRSZ2JhKHYscCxtLGIpLEU9bC5yZ2JhLmVuc3VyZUNvbnRyYXN0UmF0aW8obnVsbCE9cz9zOncsbnVsbCE9YT9hOkwsdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5taW5pbXVtQ29udHJhc3RSYXRpbyk7aWYoIUUpe2lmKCFhKXJldHVybiB2b2lkIHRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLnNldENvbG9yKGUuYmcsZS5mZyxudWxsKTtFPWF9dmFyIHg9e2NzczpsLmNoYW5uZWxzLnRvQ3NzKEU+PjI0JjI1NSxFPj4xNiYyNTUsRT4+OCYyNTUpLHJnYmE6RX07cmV0dXJuIHN8fGF8fHRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLnNldENvbG9yKGUuYmcsZS5mZyx4KSx4fX0sZS5wcm90b3R5cGUuX3Jlc29sdmVCYWNrZ3JvdW5kUmdiYT1mdW5jdGlvbihlLHQscil7c3dpdGNoKGUpe2Nhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpyZXR1cm4gdGhpcy5fY29sb3JzLmFuc2lbdF0ucmdiYTtjYXNlIDUwMzMxNjQ4OnJldHVybiB0PDw4O2RlZmF1bHQ6cmV0dXJuIHI/dGhpcy5fY29sb3JzLmZvcmVncm91bmQucmdiYTp0aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5yZ2JhfX0sZS5wcm90b3R5cGUuX3Jlc29sdmVGb3JlZ3JvdW5kUmdiYT1mdW5jdGlvbihlLHQscixpKXtzd2l0Y2goZSl7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOnJldHVybiB0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzJiZpJiZ0PDgmJih0Kz04KSx0aGlzLl9jb2xvcnMuYW5zaVt0XS5yZ2JhO2Nhc2UgNTAzMzE2NDg6cmV0dXJuIHQ8PDg7ZGVmYXVsdDpyZXR1cm4gcj90aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5yZ2JhOnRoaXMuX2NvbG9ycy5mb3JlZ3JvdW5kLnJnYmF9fSxlLnByb3RvdHlwZS5faXNDZWxsSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9zZWxlY3Rpb25TdGFydCxpPXRoaXMuX3NlbGVjdGlvbkVuZDtyZXR1cm4hKCFyfHwhaSkmJih0aGlzLl9jb2x1bW5TZWxlY3RNb2RlP2U+PXJbMF0mJnQ+PXJbMV0mJmU8aVswXSYmdDxpWzFdOnQ+clsxXSYmdDxpWzFdfHxyWzFdPT09aVsxXSYmdD09PXJbMV0mJmU+PXJbMF0mJmU8aVswXXx8clsxXTxpWzFdJiZ0PT09aVsxXSYmZTxpWzBdfHxyWzFdPGlbMV0mJnQ9PT1yWzFdJiZlPj1yWzBdKX0sZX0oKTt0LkJhc2VSZW5kZXJMYXllcj1mfSwyNTEyOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkN1cnNvclJlbmRlckxheWVyPXZvaWQgMDt2YXIgYT1yKDE1NDYpLGM9cig1MTEpLGw9cigyNTg1KSxoPXIoNDcyNSksdT02MDAsZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzLGEsbCxoLHUpe3ZhciBmPWUuY2FsbCh0aGlzLHQsXCJjdXJzb3JcIixyLCEwLGksbixzLGEsdSl8fHRoaXM7cmV0dXJuIGYuX29uUmVxdWVzdFJlZHJhdz1vLGYuX2NvcmVTZXJ2aWNlPWwsZi5fY29yZUJyb3dzZXJTZXJ2aWNlPWgsZi5fY2VsbD1uZXcgYy5DZWxsRGF0YSxmLl9zdGF0ZT17eDowLHk6MCxpc0ZvY3VzZWQ6ITEsc3R5bGU6XCJcIix3aWR0aDowfSxmLl9jdXJzb3JSZW5kZXJlcnM9e2JhcjpmLl9yZW5kZXJCYXJDdXJzb3IuYmluZChmKSxibG9jazpmLl9yZW5kZXJCbG9ja0N1cnNvci5iaW5kKGYpLHVuZGVybGluZTpmLl9yZW5kZXJVbmRlcmxpbmVDdXJzb3IuYmluZChmKX0sZn1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlciYmKHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcj12b2lkIDApLGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsdCksdGhpcy5fc3RhdGU9e3g6MCx5OjAsaXNGb2N1c2VkOiExLHN0eWxlOlwiXCIsd2lkdGg6MH19LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5fY2xlYXJDdXJzb3IoKSxudWxsPT09KGU9dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpfHx2b2lkIDA9PT1lfHxlLnJlc3RhcnRCbGlua0FuaW1hdGlvbigpLHRoaXMub25PcHRpb25zQ2hhbmdlZCgpfSx0LnByb3RvdHlwZS5vbkJsdXI9ZnVuY3Rpb24oKXt2YXIgZTtudWxsPT09KGU9dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpfHx2b2lkIDA9PT1lfHxlLnBhdXNlKCksdGhpcy5fb25SZXF1ZXN0UmVkcmF3LmZpcmUoe3N0YXJ0OnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnksZW5kOnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnl9KX0sdC5wcm90b3R5cGUub25Gb2N1cz1mdW5jdGlvbigpe3ZhciBlO251bGw9PT0oZT10aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcil8fHZvaWQgMD09PWV8fGUucmVzdW1lKCksdGhpcy5fb25SZXF1ZXN0UmVkcmF3LmZpcmUoe3N0YXJ0OnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnksZW5kOnRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnl9KX0sdC5wcm90b3R5cGUub25PcHRpb25zQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmN1cnNvckJsaW5rP3RoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyfHwodGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXI9bmV3IF8odGhpcy5fY29yZUJyb3dzZXJTZXJ2aWNlLmlzRm9jdXNlZCwoZnVuY3Rpb24oKXt0Ll9yZW5kZXIoITApfSkpKToobnVsbD09PShlPXRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyKXx8dm9pZCAwPT09ZXx8ZS5kaXNwb3NlKCksdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXI9dm9pZCAwKSx0aGlzLl9vblJlcXVlc3RSZWRyYXcuZmlyZSh7c3RhcnQ6dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueSxlbmQ6dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueX0pfSx0LnByb3RvdHlwZS5vbkN1cnNvck1vdmU9ZnVuY3Rpb24oKXt2YXIgZTtudWxsPT09KGU9dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpfHx2b2lkIDA9PT1lfHxlLnJlc3RhcnRCbGlua0FuaW1hdGlvbigpfSx0LnByb3RvdHlwZS5vbkdyaWRDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7IXRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyfHx0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlci5pc1BhdXNlZD90aGlzLl9yZW5kZXIoITEpOnRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLnJlc3RhcnRCbGlua0FuaW1hdGlvbigpfSx0LnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2NvcmVTZXJ2aWNlLmlzQ3Vyc29ySW5pdGlhbGl6ZWQmJiF0aGlzLl9jb3JlU2VydmljZS5pc0N1cnNvckhpZGRlbil7dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWJhc2UrdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueSxyPXQtdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3A7aWYocjwwfHxyPj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpdGhpcy5fY2xlYXJDdXJzb3IoKTtlbHNle3ZhciBpPU1hdGgubWluKHRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLngsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLTEpO2lmKHRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLmxpbmVzLmdldCh0KS5sb2FkQ2VsbChpLHRoaXMuX2NlbGwpLHZvaWQgMCE9PXRoaXMuX2NlbGwuY29udGVudCl7aWYoIXRoaXMuX2NvcmVCcm93c2VyU2VydmljZS5pc0ZvY3VzZWQpe3RoaXMuX2NsZWFyQ3Vyc29yKCksdGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5jdXJzb3IuY3NzO3ZhciBuPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yU3R5bGU7cmV0dXJuIG4mJlwiYmxvY2tcIiE9PW4/dGhpcy5fY3Vyc29yUmVuZGVyZXJzW25dKGkscix0aGlzLl9jZWxsKTp0aGlzLl9yZW5kZXJCbHVyQ3Vyc29yKGkscix0aGlzLl9jZWxsKSx0aGlzLl9jdHgucmVzdG9yZSgpLHRoaXMuX3N0YXRlLng9aSx0aGlzLl9zdGF0ZS55PXIsdGhpcy5fc3RhdGUuaXNGb2N1c2VkPSExLHRoaXMuX3N0YXRlLnN0eWxlPW4sdm9pZCh0aGlzLl9zdGF0ZS53aWR0aD10aGlzLl9jZWxsLmdldFdpZHRoKCkpfWlmKCF0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcnx8dGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIuaXNDdXJzb3JWaXNpYmxlKXtpZih0aGlzLl9zdGF0ZSl7aWYodGhpcy5fc3RhdGUueD09PWkmJnRoaXMuX3N0YXRlLnk9PT1yJiZ0aGlzLl9zdGF0ZS5pc0ZvY3VzZWQ9PT10aGlzLl9jb3JlQnJvd3NlclNlcnZpY2UuaXNGb2N1c2VkJiZ0aGlzLl9zdGF0ZS5zdHlsZT09PXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yU3R5bGUmJnRoaXMuX3N0YXRlLndpZHRoPT09dGhpcy5fY2VsbC5nZXRXaWR0aCgpKXJldHVybjt0aGlzLl9jbGVhckN1cnNvcigpfXRoaXMuX2N0eC5zYXZlKCksdGhpcy5fY3Vyc29yUmVuZGVyZXJzW3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yU3R5bGV8fFwiYmxvY2tcIl0oaSxyLHRoaXMuX2NlbGwpLHRoaXMuX2N0eC5yZXN0b3JlKCksdGhpcy5fc3RhdGUueD1pLHRoaXMuX3N0YXRlLnk9cix0aGlzLl9zdGF0ZS5pc0ZvY3VzZWQ9ITEsdGhpcy5fc3RhdGUuc3R5bGU9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXJzb3JTdHlsZSx0aGlzLl9zdGF0ZS53aWR0aD10aGlzLl9jZWxsLmdldFdpZHRoKCl9ZWxzZSB0aGlzLl9jbGVhckN1cnNvcigpfX19ZWxzZSB0aGlzLl9jbGVhckN1cnNvcigpfSx0LnByb3RvdHlwZS5fY2xlYXJDdXJzb3I9ZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZSYmKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPDE/dGhpcy5fY2xlYXJBbGwoKTp0aGlzLl9jbGVhckNlbGxzKHRoaXMuX3N0YXRlLngsdGhpcy5fc3RhdGUueSx0aGlzLl9zdGF0ZS53aWR0aCwxKSx0aGlzLl9zdGF0ZT17eDowLHk6MCxpc0ZvY3VzZWQ6ITEsc3R5bGU6XCJcIix3aWR0aDowfSl9LHQucHJvdG90eXBlLl9yZW5kZXJCYXJDdXJzb3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2N0eC5zYXZlKCksdGhpcy5fY3R4LmZpbGxTdHlsZT10aGlzLl9jb2xvcnMuY3Vyc29yLmNzcyx0aGlzLl9maWxsTGVmdExpbmVBdENlbGwoZSx0LHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yV2lkdGgpLHRoaXMuX2N0eC5yZXN0b3JlKCl9LHQucHJvdG90eXBlLl9yZW5kZXJCbG9ja0N1cnNvcj1mdW5jdGlvbihlLHQscil7dGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5jdXJzb3IuY3NzLHRoaXMuX2ZpbGxDZWxscyhlLHQsci5nZXRXaWR0aCgpLDEpLHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmN1cnNvckFjY2VudC5jc3MsdGhpcy5fZmlsbENoYXJUcnVlQ29sb3IocixlLHQpLHRoaXMuX2N0eC5yZXN0b3JlKCl9LHQucHJvdG90eXBlLl9yZW5kZXJVbmRlcmxpbmVDdXJzb3I9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2N0eC5zYXZlKCksdGhpcy5fY3R4LmZpbGxTdHlsZT10aGlzLl9jb2xvcnMuY3Vyc29yLmNzcyx0aGlzLl9maWxsQm90dG9tTGluZUF0Q2VsbHMoZSx0KSx0aGlzLl9jdHgucmVzdG9yZSgpfSx0LnByb3RvdHlwZS5fcmVuZGVyQmx1ckN1cnNvcj1mdW5jdGlvbihlLHQscil7dGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguc3Ryb2tlU3R5bGU9dGhpcy5fY29sb3JzLmN1cnNvci5jc3MsdGhpcy5fc3Ryb2tlUmVjdEF0Q2VsbChlLHQsci5nZXRXaWR0aCgpLDEpLHRoaXMuX2N0eC5yZXN0b3JlKCl9LG8oW3MoNSxsLklCdWZmZXJTZXJ2aWNlKSxzKDYsbC5JT3B0aW9uc1NlcnZpY2UpLHMoNyxsLklDb3JlU2VydmljZSkscyg4LGguSUNvcmVCcm93c2VyU2VydmljZSkscyg5LGwuSURlY29yYXRpb25TZXJ2aWNlKV0sdCl9KGEuQmFzZVJlbmRlckxheWVyKTt0LkN1cnNvclJlbmRlckxheWVyPWY7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5fcmVuZGVyQ2FsbGJhY2s9dCx0aGlzLmlzQ3Vyc29yVmlzaWJsZT0hMCxlJiZ0aGlzLl9yZXN0YXJ0SW50ZXJ2YWwoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNQYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9ibGlua1N0YXJ0VGltZW91dHx8dGhpcy5fYmxpbmtJbnRlcnZhbCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2JsaW5rSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9ibGlua0ludGVydmFsKSx0aGlzLl9ibGlua0ludGVydmFsPXZvaWQgMCksdGhpcy5fYmxpbmtTdGFydFRpbWVvdXQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0KSx0aGlzLl9ibGlua1N0YXJ0VGltZW91dD12b2lkIDApLHRoaXMuX2FuaW1hdGlvbkZyYW1lJiYod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkZyYW1lKSx0aGlzLl9hbmltYXRpb25GcmFtZT12b2lkIDApfSxlLnByb3RvdHlwZS5yZXN0YXJ0QmxpbmtBbmltYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaXNQYXVzZWR8fCh0aGlzLl9hbmltYXRpb25UaW1lUmVzdGFydGVkPURhdGUubm93KCksdGhpcy5pc0N1cnNvclZpc2libGU9ITAsdGhpcy5fYW5pbWF0aW9uRnJhbWV8fCh0aGlzLl9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe2UuX3JlbmRlckNhbGxiYWNrKCksZS5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpKSl9LGUucHJvdG90eXBlLl9yZXN0YXJ0SW50ZXJ2YWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT11KSx0aGlzLl9ibGlua0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYmxpbmtJbnRlcnZhbCksdGhpcy5fYmxpbmtJbnRlcnZhbD12b2lkIDApLHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2lmKHQuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQpe3ZhciBlPXUtKERhdGUubm93KCktdC5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCk7aWYodC5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZD12b2lkIDAsZT4wKXJldHVybiB2b2lkIHQuX3Jlc3RhcnRJbnRlcnZhbChlKX10LmlzQ3Vyc29yVmlzaWJsZT0hMSx0Ll9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3QuX3JlbmRlckNhbGxiYWNrKCksdC5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpLHQuX2JsaW5rSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2lmKHQuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQpe3ZhciBlPXUtKERhdGUubm93KCktdC5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCk7cmV0dXJuIHQuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQ9dm9pZCAwLHZvaWQgdC5fcmVzdGFydEludGVydmFsKGUpfXQuaXNDdXJzb3JWaXNpYmxlPSF0LmlzQ3Vyc29yVmlzaWJsZSx0Ll9hbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3QuX3JlbmRlckNhbGxiYWNrKCksdC5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwfSkpfSksdSl9KSxlKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLmlzQ3Vyc29yVmlzaWJsZT0hMCx0aGlzLl9ibGlua0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYmxpbmtJbnRlcnZhbCksdGhpcy5fYmxpbmtJbnRlcnZhbD12b2lkIDApLHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0JiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9ibGlua1N0YXJ0VGltZW91dCksdGhpcy5fYmxpbmtTdGFydFRpbWVvdXQ9dm9pZCAwKSx0aGlzLl9hbmltYXRpb25GcmFtZSYmKHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSksdGhpcy5fYW5pbWF0aW9uRnJhbWU9dm9pZCAwKX0sZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5wYXVzZSgpLHRoaXMuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQ9dm9pZCAwLHRoaXMuX3Jlc3RhcnRJbnRlcnZhbCgpLHRoaXMucmVzdGFydEJsaW5rQW5pbWF0aW9uKCl9LGV9KCl9LDg5Nzg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sbyxzLGEsYyxsLGgsdSxmLF8sZCxwLHYseSxnLG0sYixTLEMsdyxMLEUseCxSLGssTSxBLE8sRCxULEIsUCxJLEgsaixGLFcsVSxxLE4seixLLEcsVixYLFosWSxKLCQsUSxlZSx0ZSxyZSxpZSxuZSxvZSxzZSxhZSxjZSxsZSxoZSx1ZSxmZSxfZSxkZSxwZSx2ZSx5ZSxnZSxtZSxiZSxTZSxDZSx3ZSxMZSxFZSx4ZSxSZSxrZSxNZSxBZSxPZSxEZSxUZSxCZSxQZSxJZSxIZSxqZSxGZSxXZSxVZSxxZSxOZSx6ZSxLZSxHZSxWZSxYZSxaZSxZZSxKZSwkZSxRZSxldCx0dCxydCxpdCxudCxvdCxzdCxhdCxjdCxsdCxodCx1dCxmdCxfdCxkdCxwdCx2dCx5dCxndCxtdCxidCxTdCxDdCx3dD10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgaSxuLG89ci5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEoaT1vLm5leHQoKSkuZG9uZTspcy5wdXNoKGkudmFsdWUpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gc30sTHQ9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC50cnlEcmF3Q3VzdG9tQ2hhcj10LnBvd2VybGluZURlZmluaXRpb25zPXQuYm94RHJhd2luZ0RlZmluaXRpb25zPXQuYmxvY2tFbGVtZW50RGVmaW5pdGlvbnM9dm9pZCAwO3ZhciBFdD1yKDE3NTIpO3QuYmxvY2tFbGVtZW50RGVmaW5pdGlvbnM9e1wi4paAXCI6W3t4OjAseTowLHc6OCxoOjR9XSxcIuKWgVwiOlt7eDowLHk6Nyx3OjgsaDoxfV0sXCLiloJcIjpbe3g6MCx5OjYsdzo4LGg6Mn1dLFwi4paDXCI6W3t4OjAseTo1LHc6OCxoOjN9XSxcIuKWhFwiOlt7eDowLHk6NCx3OjgsaDo0fV0sXCLiloVcIjpbe3g6MCx5OjMsdzo4LGg6NX1dLFwi4paGXCI6W3t4OjAseToyLHc6OCxoOjZ9XSxcIuKWh1wiOlt7eDowLHk6MSx3OjgsaDo3fV0sXCLilohcIjpbe3g6MCx5OjAsdzo4LGg6OH1dLFwi4paJXCI6W3t4OjAseTowLHc6NyxoOjh9XSxcIuKWilwiOlt7eDowLHk6MCx3OjYsaDo4fV0sXCLilotcIjpbe3g6MCx5OjAsdzo1LGg6OH1dLFwi4paMXCI6W3t4OjAseTowLHc6NCxoOjh9XSxcIuKWjVwiOlt7eDowLHk6MCx3OjMsaDo4fV0sXCLilo5cIjpbe3g6MCx5OjAsdzoyLGg6OH1dLFwi4paPXCI6W3t4OjAseTowLHc6MSxoOjh9XSxcIuKWkFwiOlt7eDo0LHk6MCx3OjQsaDo4fV0sXCLilpRcIjpbe3g6MCx5OjAsdzo5LGg6MX1dLFwi4paVXCI6W3t4OjcseTowLHc6MSxoOjh9XSxcIuKWllwiOlt7eDowLHk6NCx3OjQsaDo0fV0sXCLilpdcIjpbe3g6NCx5OjQsdzo0LGg6NH1dLFwi4paYXCI6W3t4OjAseTowLHc6NCxoOjR9XSxcIuKWmVwiOlt7eDowLHk6MCx3OjQsaDo4fSx7eDowLHk6NCx3OjgsaDo0fV0sXCLilppcIjpbe3g6MCx5OjAsdzo0LGg6NH0se3g6NCx5OjQsdzo0LGg6NH1dLFwi4pabXCI6W3t4OjAseTowLHc6NCxoOjh9LHt4OjAseTowLHc6NCxoOjh9XSxcIuKWnFwiOlt7eDowLHk6MCx3OjgsaDo0fSx7eDo0LHk6MCx3OjQsaDo4fV0sXCLilp1cIjpbe3g6NCx5OjAsdzo0LGg6NH1dLFwi4paeXCI6W3t4OjQseTowLHc6NCxoOjR9LHt4OjAseTo0LHc6NCxoOjR9XSxcIuKWn1wiOlt7eDo0LHk6MCx3OjQsaDo4fSx7eDowLHk6NCx3OjgsaDo0fV0sXCLwn62wXCI6W3t4OjEseTowLHc6MSxoOjh9XSxcIvCfrbFcIjpbe3g6Mix5OjAsdzoxLGg6OH1dLFwi8J+tslwiOlt7eDozLHk6MCx3OjEsaDo4fV0sXCLwn62zXCI6W3t4OjQseTowLHc6MSxoOjh9XSxcIvCfrbRcIjpbe3g6NSx5OjAsdzoxLGg6OH1dLFwi8J+ttVwiOlt7eDo2LHk6MCx3OjEsaDo4fV0sXCLwn622XCI6W3t4OjAseToxLHc6OCxoOjF9XSxcIvCfrbdcIjpbe3g6MCx5OjIsdzo4LGg6MX1dLFwi8J+tuFwiOlt7eDowLHk6Myx3OjgsaDoxfV0sXCLwn625XCI6W3t4OjAseTo0LHc6OCxoOjF9XSxcIvCfrbpcIjpbe3g6MCx5OjUsdzo4LGg6MX1dLFwi8J+tu1wiOlt7eDowLHk6Nix3OjgsaDoxfV0sXCLwn628XCI6W3t4OjAseTowLHc6MSxoOjh9LHt4OjAseTo3LHc6OCxoOjF9XSxcIvCfrb1cIjpbe3g6MCx5OjAsdzoxLGg6OH0se3g6MCx5OjAsdzo4LGg6MX1dLFwi8J+tvlwiOlt7eDo3LHk6MCx3OjEsaDo4fSx7eDowLHk6MCx3OjgsaDoxfV0sXCLwn62/XCI6W3t4OjcseTowLHc6MSxoOjh9LHt4OjAseTo3LHc6OCxoOjF9XSxcIvCfroBcIjpbe3g6MCx5OjAsdzo4LGg6MX0se3g6MCx5Ojcsdzo4LGg6MX1dLFwi8J+ugVwiOlt7eDowLHk6MCx3OjgsaDoxfSx7eDowLHk6Mix3OjgsaDoxfSx7eDowLHk6NCx3OjgsaDoxfSx7eDowLHk6Nyx3OjgsaDoxfV0sXCLwn66CXCI6W3t4OjAseTowLHc6OCxoOjJ9XSxcIvCfroNcIjpbe3g6MCx5OjAsdzo4LGg6M31dLFwi8J+uhFwiOlt7eDowLHk6MCx3OjgsaDo1fV0sXCLwn66FXCI6W3t4OjAseTowLHc6OCxoOjZ9XSxcIvCfroZcIjpbe3g6MCx5OjAsdzo4LGg6N31dLFwi8J+uh1wiOlt7eDo2LHk6MCx3OjIsaDo4fV0sXCLwn66IXCI6W3t4OjUseTowLHc6MyxoOjh9XSxcIvCfrolcIjpbe3g6Myx5OjAsdzo1LGg6OH1dLFwi8J+uilwiOlt7eDoyLHk6MCx3OjYsaDo4fV0sXCLwn66LXCI6W3t4OjEseTowLHc6NyxoOjh9XSxcIvCfrpVcIjpbe3g6MCx5OjAsdzoyLGg6Mn0se3g6NCx5OjAsdzoyLGg6Mn0se3g6Mix5OjIsdzoyLGg6Mn0se3g6Nix5OjIsdzoyLGg6Mn0se3g6MCx5OjQsdzoyLGg6Mn0se3g6NCx5OjQsdzoyLGg6Mn0se3g6Mix5OjYsdzoyLGg6Mn0se3g6Nix5OjYsdzoyLGg6Mn1dLFwi8J+ullwiOlt7eDoyLHk6MCx3OjIsaDoyfSx7eDo2LHk6MCx3OjIsaDoyfSx7eDowLHk6Mix3OjIsaDoyfSx7eDo0LHk6Mix3OjIsaDoyfSx7eDoyLHk6NCx3OjIsaDoyfSx7eDo2LHk6NCx3OjIsaDoyfSx7eDowLHk6Nix3OjIsaDoyfSx7eDo0LHk6Nix3OjIsaDoyfV0sXCLwn66XXCI6W3t4OjAseToyLHc6OCxoOjJ9LHt4OjAseTo2LHc6OCxoOjJ9XX07dmFyIHh0PXtcIuKWkVwiOltbMSwwLDAsMF0sWzAsMCwwLDBdLFswLDAsMSwwXSxbMCwwLDAsMF1dLFwi4paSXCI6W1sxLDBdLFswLDBdLFswLDFdLFswLDBdXSxcIuKWk1wiOltbMCwxXSxbMSwxXSxbMSwwXSxbMSwxXV19O3QuYm94RHJhd2luZ0RlZmluaXRpb25zPXtcIuKUgFwiOihpPXt9LGlbMV09XCJNMCwuNSBMMSwuNVwiLGkpLFwi4pSBXCI6KG49e30sblszXT1cIk0wLC41IEwxLC41XCIsbiksXCLilIJcIjoobz17fSxvWzFdPVwiTS41LDAgTC41LDFcIixvKSxcIuKUg1wiOihzPXt9LHNbM109XCJNLjUsMCBMLjUsMVwiLHMpLFwi4pSMXCI6KGE9e30sYVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixhKSxcIuKUj1wiOihjPXt9LGNbM109XCJNMC41LDEgTC41LC41IEwxLC41XCIsYyksXCLilJBcIjoobD17fSxsWzFdPVwiTTAsLjUgTC41LC41IEwuNSwxXCIsbCksXCLilJNcIjooaD17fSxoWzNdPVwiTTAsLjUgTC41LC41IEwuNSwxXCIsaCksXCLilJRcIjoodT17fSx1WzFdPVwiTS41LDAgTC41LC41IEwxLC41XCIsdSksXCLilJdcIjooZj17fSxmWzNdPVwiTS41LDAgTC41LC41IEwxLC41XCIsZiksXCLilJhcIjooXz17fSxfWzFdPVwiTS41LDAgTC41LC41IEwwLC41XCIsXyksXCLilJtcIjooZD17fSxkWzNdPVwiTS41LDAgTC41LC41IEwwLC41XCIsZCksXCLilJxcIjoocD17fSxwWzFdPVwiTS41LDAgTC41LDEgTS41LC41IEwxLC41XCIscCksXCLilKNcIjoodj17fSx2WzNdPVwiTS41LDAgTC41LDEgTS41LC41IEwxLC41XCIsdiksXCLilKRcIjooeT17fSx5WzFdPVwiTS41LDAgTC41LDEgTS41LC41IEwwLC41XCIseSksXCLilKtcIjooZz17fSxnWzNdPVwiTS41LDAgTC41LDEgTS41LC41IEwwLC41XCIsZyksXCLilKxcIjoobT17fSxtWzFdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsbSksXCLilLNcIjooYj17fSxiWzNdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsYiksXCLilLRcIjooUz17fSxTWzFdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwwXCIsUyksXCLilLtcIjooQz17fSxDWzNdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwwXCIsQyksXCLilLxcIjoodz17fSx3WzFdPVwiTTAsLjUgTDEsLjUgTS41LDAgTC41LDFcIix3KSxcIuKVi1wiOihMPXt9LExbM109XCJNMCwuNSBMMSwuNSBNLjUsMCBMLjUsMVwiLEwpLFwi4pW0XCI6KEU9e30sRVsxXT1cIk0uNSwuNSBMMCwuNVwiLEUpLFwi4pW4XCI6KHg9e30seFszXT1cIk0uNSwuNSBMMCwuNVwiLHgpLFwi4pW1XCI6KFI9e30sUlsxXT1cIk0uNSwuNSBMLjUsMFwiLFIpLFwi4pW5XCI6KGs9e30sa1szXT1cIk0uNSwuNSBMLjUsMFwiLGspLFwi4pW2XCI6KE09e30sTVsxXT1cIk0uNSwuNSBMMSwuNVwiLE0pLFwi4pW6XCI6KEE9e30sQVszXT1cIk0uNSwuNSBMMSwuNVwiLEEpLFwi4pW3XCI6KE89e30sT1sxXT1cIk0uNSwuNSBMLjUsMVwiLE8pLFwi4pW7XCI6KEQ9e30sRFszXT1cIk0uNSwuNSBMLjUsMVwiLEQpLFwi4pWQXCI6KFQ9e30sVFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41LXQpK1wiIEwxLFwiKyguNS10KStcIiBNMCxcIisoLjUrdCkrXCIgTDEsXCIrKC41K3QpfSxUKSxcIuKVkVwiOihCPXt9LEJbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk1cIisoLjUtZSkrXCIsMCBMXCIrKC41LWUpK1wiLDEgTVwiKyguNStlKStcIiwwIExcIisoLjUrZSkrXCIsMVwifSxCKSxcIuKVklwiOihQPXt9LFBbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0uNSwxIEwuNSxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0uNSxcIisoLjUrdCkrXCIgTDEsXCIrKC41K3QpfSxQKSxcIuKVk1wiOihJPXt9LElbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk1cIisoLjUtZSkrXCIsMSBMXCIrKC41LWUpK1wiLC41IEwxLC41IE1cIisoLjUrZSkrXCIsLjUgTFwiKyguNStlKStcIiwxXCJ9LEkpLFwi4pWUXCI6KEg9e30sSFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTEsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsMSBNMSxcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIixcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIiwxXCJ9LEgpLFwi4pWVXCI6KGo9e30salsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41LXQpK1wiIEwuNSxcIisoLjUtdCkrXCIgTC41LDEgTTAsXCIrKC41K3QpK1wiIEwuNSxcIisoLjUrdCl9LGopLFwi4pWWXCI6KEY9e30sRlsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTVwiKyguNStlKStcIiwxIExcIisoLjUrZSkrXCIsLjUgTDAsLjUgTVwiKyguNS1lKStcIiwuNSBMXCIrKC41LWUpK1wiLDFcIn0sRiksXCLilZdcIjooVz17fSxXWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMCxcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIixcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIiwxIE0wLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLDFcIn0sVyksXCLilZhcIjooVT17fSxVWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNLjUsMCBMLjUsXCIrKC41K3QpK1wiIEwxLFwiKyguNSt0KStcIiBNLjUsXCIrKC41LXQpK1wiIEwxLFwiKyguNS10KX0sVSksXCLilZlcIjoocT17fSxxWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMSwuNSBMXCIrKC41LWUpK1wiLC41IExcIisoLjUtZSkrXCIsMCBNXCIrKC41K2UpK1wiLC41IExcIisoLjUrZSkrXCIsMFwifSxxKSxcIuKVmlwiOihOPXt9LE5bMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0xLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLDAgTTEsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsMFwifSxOKSxcIuKVm1wiOih6PXt9LHpbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLFwiKyguNSt0KStcIiBMLjUsXCIrKC41K3QpK1wiIEwuNSwwIE0wLFwiKyguNS10KStcIiBMLjUsXCIrKC41LXQpfSx6KSxcIuKVnFwiOihLPXt9LEtbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLC41IExcIisoLjUrZSkrXCIsLjUgTFwiKyguNStlKStcIiwwIE1cIisoLjUtZSkrXCIsLjUgTFwiKyguNS1lKStcIiwwXCJ9LEspLFwi4pWdXCI6KEc9e30sR1sxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUtZSkrXCIsMCBNMCxcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIixcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIiwwXCJ9LEcpLFwi4pWeXCI6KFY9e30sVlsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTS41LDAgTC41LDEgTS41LFwiKyguNS10KStcIiBMMSxcIisoLjUtdCkrXCIgTS41LFwiKyguNSt0KStcIiBMMSxcIisoLjUrdCl9LFYpLFwi4pWfXCI6KFg9e30sWFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTVwiKyguNS1lKStcIiwwIExcIisoLjUtZSkrXCIsMSBNXCIrKC41K2UpK1wiLDAgTFwiKyguNStlKStcIiwxIE1cIisoLjUrZSkrXCIsLjUgTDEsLjVcIn0sWCksXCLilaBcIjooWj17fSxaWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNXCIrKC41LWUpK1wiLDAgTFwiKyguNS1lKStcIiwxIE0xLFwiKyguNSt0KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNSt0KStcIiBMXCIrKC41K2UpK1wiLDEgTTEsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsMFwifSxaKSxcIuKVoVwiOihZPXt9LFlbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0uNSwwIEwuNSwxIE0wLFwiKyguNS10KStcIiBMLjUsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMLjUsXCIrKC41K3QpfSxZKSxcIuKVolwiOihKPXt9LEpbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLC41IExcIisoLjUtZSkrXCIsLjUgTVwiKyguNS1lKStcIiwwIExcIisoLjUtZSkrXCIsMSBNXCIrKC41K2UpK1wiLDAgTFwiKyguNStlKStcIiwxXCJ9LEopLFwi4pWjXCI6KCQ9e30sJFsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTVwiKyguNStlKStcIiwwIExcIisoLjUrZSkrXCIsMSBNMCxcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIixcIisoLjUrdCkrXCIgTFwiKyguNS1lKStcIiwxIE0wLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLDBcIn0sJCksXCLilaRcIjooUT17fSxRWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMCxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMMSxcIisoLjUrdCkrXCIgTS41LFwiKyguNSt0KStcIiBMLjUsMVwifSxRKSxcIuKVpVwiOihlZT17fSxlZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsLjUgTDEsLjUgTVwiKyguNS1lKStcIiwuNSBMXCIrKC41LWUpK1wiLDEgTVwiKyguNStlKStcIiwuNSBMXCIrKC41K2UpK1wiLDFcIn0sZWUpLFwi4pWmXCI6KHRlPXt9LHRlWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNMCxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMXCIrKC41LWUpK1wiLFwiKyguNSt0KStcIiBMXCIrKC41LWUpK1wiLDEgTTEsXCIrKC41K3QpK1wiIExcIisoLjUrZSkrXCIsXCIrKC41K3QpK1wiIExcIisoLjUrZSkrXCIsMVwifSx0ZSksXCLiladcIjoocmU9e30scmVbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0uNSwwIEwuNSxcIisoLjUtdCkrXCIgTTAsXCIrKC41LXQpK1wiIEwxLFwiKyguNS10KStcIiBNMCxcIisoLjUrdCkrXCIgTDEsXCIrKC41K3QpfSxyZSksXCLilahcIjooaWU9e30saWVbMV09ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIk0wLC41IEwxLC41IE1cIisoLjUtZSkrXCIsLjUgTFwiKyguNS1lKStcIiwwIE1cIisoLjUrZSkrXCIsLjUgTFwiKyguNStlKStcIiwwXCJ9LGllKSxcIuKVqVwiOihuZT17fSxuZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41K3QpK1wiIEwxLFwiKyguNSt0KStcIiBNMCxcIisoLjUtdCkrXCIgTFwiKyguNS1lKStcIixcIisoLjUtdCkrXCIgTFwiKyguNS1lKStcIiwwIE0xLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLFwiKyguNS10KStcIiBMXCIrKC41K2UpK1wiLDBcIn0sbmUpLFwi4pWqXCI6KG9lPXt9LG9lWzFdPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJNLjUsMCBMLjUsMSBNMCxcIisoLjUtdCkrXCIgTDEsXCIrKC41LXQpK1wiIE0wLFwiKyguNSt0KStcIiBMMSxcIisoLjUrdCl9LG9lKSxcIuKVq1wiOihzZT17fSxzZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsLjUgTDEsLjUgTVwiKyguNS1lKStcIiwwIExcIisoLjUtZSkrXCIsMSBNXCIrKC41K2UpK1wiLDAgTFwiKyguNStlKStcIiwxXCJ9LHNlKSxcIuKVrFwiOihhZT17fSxhZVsxXT1mdW5jdGlvbihlLHQpe3JldHVyblwiTTAsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsXCIrKC41K3QpK1wiIExcIisoLjUtZSkrXCIsMSBNMSxcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIixcIisoLjUrdCkrXCIgTFwiKyguNStlKStcIiwxIE0wLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLFwiKyguNS10KStcIiBMXCIrKC41LWUpK1wiLDAgTTEsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsXCIrKC41LXQpK1wiIExcIisoLjUrZSkrXCIsMFwifSxhZSksXCLilbFcIjooY2U9e30sY2VbMV09XCJNMSwwIEwwLDFcIixjZSksXCLilbJcIjoobGU9e30sbGVbMV09XCJNMCwwIEwxLDFcIixsZSksXCLilbNcIjooaGU9e30saGVbMV09XCJNMSwwIEwwLDEgTTAsMCBMMSwxXCIsaGUpLFwi4pW8XCI6KHVlPXt9LHVlWzFdPVwiTS41LC41IEwwLC41XCIsdWVbM109XCJNLjUsLjUgTDEsLjVcIix1ZSksXCLilb1cIjooZmU9e30sZmVbMV09XCJNLjUsLjUgTC41LDBcIixmZVszXT1cIk0uNSwuNSBMLjUsMVwiLGZlKSxcIuKVvlwiOihfZT17fSxfZVsxXT1cIk0uNSwuNSBMMSwuNVwiLF9lWzNdPVwiTS41LC41IEwwLC41XCIsX2UpLFwi4pW/XCI6KGRlPXt9LGRlWzFdPVwiTS41LC41IEwuNSwxXCIsZGVbM109XCJNLjUsLjUgTC41LDBcIixkZSksXCLilI1cIjoocGU9e30scGVbMV09XCJNLjUsLjUgTC41LDFcIixwZVszXT1cIk0uNSwuNSBMMSwuNVwiLHBlKSxcIuKUjlwiOih2ZT17fSx2ZVsxXT1cIk0uNSwuNSBMMSwuNVwiLHZlWzNdPVwiTS41LC41IEwuNSwxXCIsdmUpLFwi4pSRXCI6KHllPXt9LHllWzFdPVwiTS41LC41IEwuNSwxXCIseWVbM109XCJNLjUsLjUgTDAsLjVcIix5ZSksXCLilJJcIjooZ2U9e30sZ2VbMV09XCJNLjUsLjUgTDAsLjVcIixnZVszXT1cIk0uNSwuNSBMLjUsMVwiLGdlKSxcIuKUlVwiOihtZT17fSxtZVsxXT1cIk0uNSwuNSBMLjUsMFwiLG1lWzNdPVwiTS41LC41IEwxLC41XCIsbWUpLFwi4pSWXCI6KGJlPXt9LGJlWzFdPVwiTS41LC41IEwxLC41XCIsYmVbM109XCJNLjUsLjUgTC41LDBcIixiZSksXCLilJlcIjooU2U9e30sU2VbMV09XCJNLjUsLjUgTC41LDBcIixTZVszXT1cIk0uNSwuNSBMMCwuNVwiLFNlKSxcIuKUmlwiOihDZT17fSxDZVsxXT1cIk0uNSwuNSBMMCwuNVwiLENlWzNdPVwiTS41LC41IEwuNSwwXCIsQ2UpLFwi4pSdXCI6KHdlPXt9LHdlWzFdPVwiTS41LDAgTC41LDFcIix3ZVszXT1cIk0uNSwuNSBMMSwuNVwiLHdlKSxcIuKUnlwiOihMZT17fSxMZVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixMZVszXT1cIk0uNSwuNSBMLjUsMFwiLExlKSxcIuKUn1wiOihFZT17fSxFZVsxXT1cIk0uNSwwIEwuNSwuNSBMMSwuNVwiLEVlWzNdPVwiTS41LC41IEwuNSwxXCIsRWUpLFwi4pSgXCI6KHhlPXt9LHhlWzFdPVwiTS41LC41IEwxLC41XCIseGVbM109XCJNLjUsMCBMLjUsMVwiLHhlKSxcIuKUoVwiOihSZT17fSxSZVsxXT1cIk0uNSwuNSBMLjUsMVwiLFJlWzNdPVwiTS41LDAgTC41LC41IEwxLC41XCIsUmUpLFwi4pSiXCI6KGtlPXt9LGtlWzFdPVwiTS41LC41IEwuNSwwXCIsa2VbM109XCJNMC41LDEgTC41LC41IEwxLC41XCIsa2UpLFwi4pSlXCI6KE1lPXt9LE1lWzFdPVwiTS41LDAgTC41LDFcIixNZVszXT1cIk0uNSwuNSBMMCwuNVwiLE1lKSxcIuKUplwiOihBZT17fSxBZVsxXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEFlWzNdPVwiTS41LC41IEwuNSwwXCIsQWUpLFwi4pSnXCI6KE9lPXt9LE9lWzFdPVwiTS41LDAgTC41LC41IEwwLC41XCIsT2VbM109XCJNLjUsLjUgTC41LDFcIixPZSksXCLilKhcIjooRGU9e30sRGVbMV09XCJNLjUsLjUgTDAsLjVcIixEZVszXT1cIk0uNSwwIEwuNSwxXCIsRGUpLFwi4pSpXCI6KFRlPXt9LFRlWzFdPVwiTS41LC41IEwuNSwxXCIsVGVbM109XCJNLjUsMCBMLjUsLjUgTDAsLjVcIixUZSksXCLilKpcIjooQmU9e30sQmVbMV09XCJNLjUsLjUgTC41LDBcIixCZVszXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEJlKSxcIuKUrVwiOihQZT17fSxQZVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixQZVszXT1cIk0uNSwuNSBMMCwuNVwiLFBlKSxcIuKUrlwiOihJZT17fSxJZVsxXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEllWzNdPVwiTS41LC41IEwxLC41XCIsSWUpLFwi4pSvXCI6KEhlPXt9LEhlWzFdPVwiTS41LC41IEwuNSwxXCIsSGVbM109XCJNMCwuNSBMMSwuNVwiLEhlKSxcIuKUsFwiOihqZT17fSxqZVsxXT1cIk0wLC41IEwxLC41XCIsamVbM109XCJNLjUsLjUgTC41LDFcIixqZSksXCLilLFcIjooRmU9e30sRmVbMV09XCJNLjUsLjUgTDEsLjVcIixGZVszXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLEZlKSxcIuKUslwiOihXZT17fSxXZVsxXT1cIk0uNSwuNSBMMCwuNVwiLFdlWzNdPVwiTTAuNSwxIEwuNSwuNSBMMSwuNVwiLFdlKSxcIuKUtVwiOihVZT17fSxVZVsxXT1cIk0uNSwwIEwuNSwuNSBMMSwuNVwiLFVlWzNdPVwiTS41LC41IEwwLC41XCIsVWUpLFwi4pS2XCI6KHFlPXt9LHFlWzFdPVwiTS41LDAgTC41LC41IEwwLC41XCIscWVbM109XCJNLjUsLjUgTDEsLjVcIixxZSksXCLilLdcIjooTmU9e30sTmVbMV09XCJNLjUsLjUgTC41LDBcIixOZVszXT1cIk0wLC41IEwxLC41XCIsTmUpLFwi4pS4XCI6KHplPXt9LHplWzFdPVwiTTAsLjUgTDEsLjVcIix6ZVszXT1cIk0uNSwuNSBMLjUsMFwiLHplKSxcIuKUuVwiOihLZT17fSxLZVsxXT1cIk0uNSwuNSBMMSwuNVwiLEtlWzNdPVwiTS41LDAgTC41LC41IEwwLC41XCIsS2UpLFwi4pS6XCI6KEdlPXt9LEdlWzFdPVwiTS41LC41IEwwLC41XCIsR2VbM109XCJNLjUsMCBMLjUsLjUgTDEsLjVcIixHZSksXCLilL1cIjooVmU9e30sVmVbMV09XCJNLjUsMCBMLjUsMSBNLjUsLjUgTDEsLjVcIixWZVszXT1cIk0uNSwuNSBMMCwuNVwiLFZlKSxcIuKUvlwiOihYZT17fSxYZVsxXT1cIk0uNSwwIEwuNSwxIE0uNSwuNSBMMCwuNVwiLFhlWzNdPVwiTS41LC41IEwxLC41XCIsWGUpLFwi4pS/XCI6KFplPXt9LFplWzFdPVwiTS41LDAgTC41LDFcIixaZVszXT1cIk0wLC41IEwxLC41XCIsWmUpLFwi4pWAXCI6KFllPXt9LFllWzFdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsWWVbM109XCJNLjUsLjUgTC41LDBcIixZZSksXCLilYFcIjooSmU9e30sSmVbMV09XCJNLjUsLjUgTC41LDAgTTAsLjUgTDEsLjVcIixKZVszXT1cIk0uNSwuNSBMLjUsMVwiLEplKSxcIuKVglwiOigkZT17fSwkZVsxXT1cIk0wLC41IEwxLC41XCIsJGVbM109XCJNLjUsMCBMLjUsMVwiLCRlKSxcIuKVg1wiOihRZT17fSxRZVsxXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixRZVszXT1cIk0uNSwwIEwuNSwuNSBMMCwuNVwiLFFlKSxcIuKVhFwiOihldD17fSxldFsxXT1cIk0wLC41IEwuNSwuNSBMLjUsMVwiLGV0WzNdPVwiTS41LDAgTC41LC41IEwxLC41XCIsZXQpLFwi4pWFXCI6KHR0PXt9LHR0WzFdPVwiTS41LDAgTC41LC41IEwxLC41XCIsdHRbM109XCJNMCwuNSBMLjUsLjUgTC41LDFcIix0dCksXCLilYZcIjoocnQ9e30scnRbMV09XCJNLjUsMCBMLjUsLjUgTDAsLjVcIixydFszXT1cIk0wLjUsMSBMLjUsLjUgTDEsLjVcIixydCksXCLilYdcIjooaXQ9e30saXRbMV09XCJNLjUsLjUgTC41LDFcIixpdFszXT1cIk0uNSwuNSBMLjUsMCBNMCwuNSBMMSwuNVwiLGl0KSxcIuKViFwiOihudD17fSxudFsxXT1cIk0uNSwuNSBMLjUsMFwiLG50WzNdPVwiTTAsLjUgTDEsLjUgTS41LC41IEwuNSwxXCIsbnQpLFwi4pWJXCI6KG90PXt9LG90WzFdPVwiTS41LC41IEwxLC41XCIsb3RbM109XCJNLjUsMCBMLjUsMSBNLjUsLjUgTDAsLjVcIixvdCksXCLilYpcIjooc3Q9e30sc3RbMV09XCJNLjUsLjUgTDAsLjVcIixzdFszXT1cIk0uNSwwIEwuNSwxIE0uNSwuNSBMMSwuNVwiLHN0KSxcIuKVjFwiOihhdD17fSxhdFsxXT1cIk0uMSwuNSBMLjQsLjUgTS42LC41IEwuOSwuNVwiLGF0KSxcIuKVjVwiOihjdD17fSxjdFszXT1cIk0uMSwuNSBMLjQsLjUgTS42LC41IEwuOSwuNVwiLGN0KSxcIuKUhFwiOihsdD17fSxsdFsxXT1cIk0uMDY2NywuNSBMLjI2NjcsLjUgTS40LC41IEwuNiwuNSBNLjczMzMsLjUgTC45MzMzLC41XCIsbHQpLFwi4pSFXCI6KGh0PXt9LGh0WzNdPVwiTS4wNjY3LC41IEwuMjY2NywuNSBNLjQsLjUgTC42LC41IE0uNzMzMywuNSBMLjkzMzMsLjVcIixodCksXCLilIhcIjoodXQ9e30sdXRbMV09XCJNLjA1LC41IEwuMiwuNSBNLjMsLjUgTC40NSwuNSBNLjU1LC41IEwuNywuNSBNLjgsLjUgTC45NSwuNVwiLHV0KSxcIuKUiVwiOihmdD17fSxmdFszXT1cIk0uMDUsLjUgTC4yLC41IE0uMywuNSBMLjQ1LC41IE0uNTUsLjUgTC43LC41IE0uOCwuNSBMLjk1LC41XCIsZnQpLFwi4pWOXCI6KF90PXt9LF90WzFdPVwiTS41LC4xIEwuNSwuNCBNLjUsLjYgTC41LC45XCIsX3QpLFwi4pWPXCI6KGR0PXt9LGR0WzNdPVwiTS41LC4xIEwuNSwuNCBNLjUsLjYgTC41LC45XCIsZHQpLFwi4pSGXCI6KHB0PXt9LHB0WzFdPVwiTS41LC4wNjY3IEwuNSwuMjY2NyBNLjUsLjQgTC41LC42IE0uNSwuNzMzMyBMLjUsLjkzMzNcIixwdCksXCLilIdcIjoodnQ9e30sdnRbM109XCJNLjUsLjA2NjcgTC41LC4yNjY3IE0uNSwuNCBMLjUsLjYgTS41LC43MzMzIEwuNSwuOTMzM1wiLHZ0KSxcIuKUilwiOih5dD17fSx5dFsxXT1cIk0uNSwuMDUgTC41LC4yIE0uNSwuMyBMLjUsLjQ1IEwuNSwuNTUgTS41LC43IEwuNSwuOTVcIix5dCksXCLilItcIjooZ3Q9e30sZ3RbM109XCJNLjUsLjA1IEwuNSwuMiBNLjUsLjMgTC41LC40NSBMLjUsLjU1IE0uNSwuNyBMLjUsLjk1XCIsZ3QpLFwi4pWtXCI6KG10PXt9LG10WzFdPVwiQy41LDEsLjUsLjUsMSwuNVwiLG10KSxcIuKVrlwiOihidD17fSxidFsxXT1cIkMuNSwxLC41LC41LDAsLjVcIixidCksXCLila9cIjooU3Q9e30sU3RbMV09XCJDLjUsMCwuNSwuNSwwLC41XCIsU3QpLFwi4pWwXCI6KEN0PXt9LEN0WzFdPVwiQy41LDAsLjUsLjUsMSwuNVwiLEN0KX0sdC5wb3dlcmxpbmVEZWZpbml0aW9ucz17XCLugrBcIjp7ZDpcIk0wLDAgTDEsLjUgTDAsMVwiLHR5cGU6MH0sXCLugrFcIjp7ZDpcIk0wLDAgTDEsLjUgTDAsMVwiLHR5cGU6MSxob3Jpem9udGFsUGFkZGluZzouNX0sXCLugrJcIjp7ZDpcIk0xLDAgTDAsLjUgTDEsMVwiLHR5cGU6MH0sXCLugrNcIjp7ZDpcIk0xLDAgTDAsLjUgTDEsMVwiLHR5cGU6MSxob3Jpem9udGFsUGFkZGluZzouNX19LHQudHJ5RHJhd0N1c3RvbUNoYXI9ZnVuY3Rpb24oZSxyLGksbixvLHMpe3ZhciBhPXQuYmxvY2tFbGVtZW50RGVmaW5pdGlvbnNbcl07aWYoYSlyZXR1cm4gZnVuY3Rpb24oZSx0LHIsaSxuLG8pe2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYT10W3NdLGM9bi84LGw9by84O2UuZmlsbFJlY3QocithLngqYyxpK2EueSpsLGEudypjLGEuaCpsKX19KGUsYSxpLG4sbyxzKSwhMDt2YXIgYz14dFtyXTtpZihjKXJldHVybiBmdW5jdGlvbihlLHQscixpLG4sbyl7dmFyIHMsYT1SdC5nZXQodCk7YXx8KGE9bmV3IE1hcCxSdC5zZXQodCxhKSk7dmFyIGM9ZS5maWxsU3R5bGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGMpdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGZpbGxTdHlsZSB0eXBlIFwiJytjKydcIicpO3ZhciBsPWEuZ2V0KGMpO2lmKCFsKXt2YXIgaD10WzBdLmxlbmd0aCx1PXQubGVuZ3RoLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtmLndpZHRoPWgsZi5oZWlnaHQ9dTt2YXIgXz0oMCxFdC50aHJvd0lmRmFsc3kpKGYuZ2V0Q29udGV4dChcIjJkXCIpKSxkPW5ldyBJbWFnZURhdGEoaCx1KSxwPXZvaWQgMCx2PXZvaWQgMCx5PXZvaWQgMCxnPXZvaWQgMDtpZihjLnN0YXJ0c1dpdGgoXCIjXCIpKXA9cGFyc2VJbnQoYy5zbGljZSgxLDMpLDE2KSx2PXBhcnNlSW50KGMuc2xpY2UoMyw1KSwxNikseT1wYXJzZUludChjLnNsaWNlKDUsNyksMTYpLGc9Yy5sZW5ndGg+NyYmcGFyc2VJbnQoYy5zbGljZSg3LDkpLDE2KXx8MTtlbHNle2lmKCFjLnN0YXJ0c1dpdGgoXCJyZ2JhXCIpKXRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBmaWxsU3R5bGUgY29sb3IgZm9ybWF0IFwiJytjKydcIiB3aGVuIGRyYXdpbmcgcGF0dGVybiBnbHlwaCcpO3A9KHM9d3QoYy5zdWJzdHJpbmcoNSxjLmxlbmd0aC0xKS5zcGxpdChcIixcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VGbG9hdChlKX0pKSw0KSlbMF0sdj1zWzFdLHk9c1syXSxnPXNbM119Zm9yKHZhciBtPTA7bTx1O20rKylmb3IodmFyIGI9MDtiPGg7YisrKWQuZGF0YVs0KihtKmgrYildPXAsZC5kYXRhWzQqKG0qaCtiKSsxXT12LGQuZGF0YVs0KihtKmgrYikrMl09eSxkLmRhdGFbNCoobSpoK2IpKzNdPXRbbV1bYl0qKDI1NSpnKTtfLnB1dEltYWdlRGF0YShkLDAsMCksbD0oMCxFdC50aHJvd0lmRmFsc3kpKGUuY3JlYXRlUGF0dGVybihmLG51bGwpKSxhLnNldChjLGwpfWUuZmlsbFN0eWxlPWwsZS5maWxsUmVjdChyLGksbixvKX0oZSxjLGksbixvLHMpLCEwO3ZhciBsPXQuYm94RHJhd2luZ0RlZmluaXRpb25zW3JdO2lmKGwpcmV0dXJuIGZ1bmN0aW9uKGUsdCxyLGksbixvKXt2YXIgcyxhLGMsbDtlLnN0cm9rZVN0eWxlPWUuZmlsbFN0eWxlO3RyeXtmb3IodmFyIGg9THQoT2JqZWN0LmVudHJpZXModCkpLHU9aC5uZXh0KCk7IXUuZG9uZTt1PWgubmV4dCgpKXt2YXIgZj13dCh1LnZhbHVlLDIpLF89ZlswXSxkPWZbMV07ZS5iZWdpblBhdGgoKSxlLmxpbmVXaWR0aD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbypOdW1iZXIucGFyc2VJbnQoXyk7dmFyIHA9dm9pZCAwO3A9XCJmdW5jdGlvblwiPT10eXBlb2YgZD9kKC4xNSwuMTUvbypuKTpkO3RyeXtmb3IodmFyIHY9KGM9dm9pZCAwLEx0KHAuc3BsaXQoXCIgXCIpKSkseT12Lm5leHQoKTsheS5kb25lO3k9di5uZXh0KCkpe3ZhciBnPXkudmFsdWUsbT1nWzBdLGI9TXRbbV07aWYoYil7dmFyIFM9Zy5zdWJzdHJpbmcoMSkuc3BsaXQoXCIsXCIpO1NbMF0mJlNbMV0mJmIoZSxBdChTLG4sbyxyLGkpKX1lbHNlIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGRyYXdpbmcgaW5zdHJ1Y3Rpb25zIGZvciBcIicrbSsnXCInKX19Y2F0Y2goZSl7Yz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7eSYmIXkuZG9uZSYmKGw9di5yZXR1cm4pJiZsLmNhbGwodil9ZmluYWxseXtpZihjKXRocm93IGMuZXJyb3J9fWUuc3Ryb2tlKCksZS5jbG9zZVBhdGgoKX19Y2F0Y2goZSl7cz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7dSYmIXUuZG9uZSYmKGE9aC5yZXR1cm4pJiZhLmNhbGwoaCl9ZmluYWxseXtpZihzKXRocm93IHMuZXJyb3J9fX0oZSxsLGksbixvLHMpLCEwO3ZhciBoPXQucG93ZXJsaW5lRGVmaW5pdGlvbnNbcl07cmV0dXJuISFoJiYoZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBzLGE7ZS5iZWdpblBhdGgoKSxlLmxpbmVXaWR0aD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzt0cnl7Zm9yKHZhciBjPUx0KHQuZC5zcGxpdChcIiBcIikpLGw9Yy5uZXh0KCk7IWwuZG9uZTtsPWMubmV4dCgpKXt2YXIgaD1sLnZhbHVlLHU9aFswXSxmPU10W3VdO2lmKGYpe3ZhciBfPWguc3Vic3RyaW5nKDEpLnNwbGl0KFwiLFwiKTtfWzBdJiZfWzFdJiZmKGUsQXQoXyxuLG8scixpLHQuaG9yaXpvbnRhbFBhZGRpbmcpKX1lbHNlIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGRyYXdpbmcgaW5zdHJ1Y3Rpb25zIGZvciBcIicrdSsnXCInKX19Y2F0Y2goZSl7cz17ZXJyb3I6ZX19ZmluYWxseXt0cnl7bCYmIWwuZG9uZSYmKGE9Yy5yZXR1cm4pJiZhLmNhbGwoYyl9ZmluYWxseXtpZihzKXRocm93IHMuZXJyb3J9fTE9PT10LnR5cGU/KGUuc3Ryb2tlU3R5bGU9ZS5maWxsU3R5bGUsZS5zdHJva2UoKSk6ZS5maWxsKCksZS5jbG9zZVBhdGgoKX0oZSxoLGksbixvLHMpLCEwKX07dmFyIFJ0PW5ldyBNYXA7ZnVuY3Rpb24ga3QoZSx0LHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0wKSxNYXRoLm1heChNYXRoLm1pbihlLHQpLHIpfXZhciBNdD17QzpmdW5jdGlvbihlLHQpe3JldHVybiBlLmJlemllckN1cnZlVG8odFswXSx0WzFdLHRbMl0sdFszXSx0WzRdLHRbNV0pfSxMOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGluZVRvKHRbMF0sdFsxXSl9LE06ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tb3ZlVG8odFswXSx0WzFdKX19O2Z1bmN0aW9uIEF0KGUsdCxyLGksbixvKXt2b2lkIDA9PT1vJiYobz0wKTt2YXIgcz1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl8fHBhcnNlSW50KGUpfSkpO2lmKHMubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiVG9vIGZldyBhcmd1bWVudHMgZm9yIGluc3RydWN0aW9uXCIpO2Zvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSs9MilzW2FdKj10LTIqbyp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywwIT09c1thXSYmKHNbYV09a3QoTWF0aC5yb3VuZChzW2FdKy41KS0uNSx0LDApKSxzW2FdKz1pK28qd2luZG93LmRldmljZVBpeGVsUmF0aW87Zm9yKHZhciBjPTE7YzxzLmxlbmd0aDtjKz0yKXNbY10qPXIsMCE9PXNbY10mJihzW2NdPWt0KE1hdGgucm91bmQoc1tjXSsuNSktLjUsciwwKSksc1tjXSs9bjtyZXR1cm4gc319LDM3MDA6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkdyaWRDYWNoZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jYWNoZT1bXX1yZXR1cm4gZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlO3IrKyl7dGhpcy5jYWNoZS5sZW5ndGg8PXImJnRoaXMuY2FjaGUucHVzaChbXSk7Zm9yKHZhciBpPXRoaXMuY2FjaGVbcl0ubGVuZ3RoO2k8dDtpKyspdGhpcy5jYWNoZVtyXS5wdXNoKHZvaWQgMCk7dGhpcy5jYWNoZVtyXS5sZW5ndGg9dH10aGlzLmNhY2hlLmxlbmd0aD1lfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5jYWNoZS5sZW5ndGg7ZSsrKWZvcih2YXIgdD0wO3Q8dGhpcy5jYWNoZVtlXS5sZW5ndGg7dCsrKXRoaXMuY2FjaGVbZV1bdF09dm9pZCAwfSxlfSgpO3QuR3JpZENhY2hlPXJ9LDUwOTg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTGlua1JlbmRlckxheWVyPXZvaWQgMDt2YXIgYT1yKDE1NDYpLGM9cig4ODAzKSxsPXIoMjA0MCksaD1yKDI1ODUpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyxhLGMsbCl7dmFyIGg9ZS5jYWxsKHRoaXMsdCxcImxpbmtcIixyLCEwLGksbixhLGMsbCl8fHRoaXM7cmV0dXJuIG8ub25TaG93TGlua1VuZGVybGluZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGguX29uU2hvd0xpbmtVbmRlcmxpbmUoZSl9KSksby5vbkhpZGVMaW5rVW5kZXJsaW5lKChmdW5jdGlvbihlKXtyZXR1cm4gaC5fb25IaWRlTGlua1VuZGVybGluZShlKX0pKSxzLm9uU2hvd0xpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBoLl9vblNob3dMaW5rVW5kZXJsaW5lKGUpfSkpLHMub25IaWRlTGlua1VuZGVybGluZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGguX29uSGlkZUxpbmtVbmRlcmxpbmUoZSl9KSksaH1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0KXtlLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLHQpLHRoaXMuX3N0YXRlPXZvaWQgMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckN1cnJlbnRMaW5rKCl9LHQucHJvdG90eXBlLl9jbGVhckN1cnJlbnRMaW5rPWZ1bmN0aW9uKCl7aWYodGhpcy5fc3RhdGUpe3RoaXMuX2NsZWFyQ2VsbHModGhpcy5fc3RhdGUueDEsdGhpcy5fc3RhdGUueTEsdGhpcy5fc3RhdGUuY29scy10aGlzLl9zdGF0ZS54MSwxKTt2YXIgZT10aGlzLl9zdGF0ZS55Mi10aGlzLl9zdGF0ZS55MS0xO2U+MCYmdGhpcy5fY2xlYXJDZWxscygwLHRoaXMuX3N0YXRlLnkxKzEsdGhpcy5fc3RhdGUuY29scyxlKSx0aGlzLl9jbGVhckNlbGxzKDAsdGhpcy5fc3RhdGUueTIsdGhpcy5fc3RhdGUueDIsMSksdGhpcy5fc3RhdGU9dm9pZCAwfX0sdC5wcm90b3R5cGUuX29uU2hvd0xpbmtVbmRlcmxpbmU9ZnVuY3Rpb24oZSl7aWYoZS5mZz09PWMuSU5WRVJURURfREVGQVVMVF9DT0xPUj90aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMuX2NvbG9ycy5iYWNrZ3JvdW5kLmNzczplLmZnJiYoMCxsLmlzMjU2Q29sb3IpKGUuZmcpP3RoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmFuc2lbZS5mZ10uY3NzOnRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzLGUueTE9PT1lLnkyKXRoaXMuX2ZpbGxCb3R0b21MaW5lQXRDZWxscyhlLngxLGUueTEsZS54Mi1lLngxKTtlbHNle3RoaXMuX2ZpbGxCb3R0b21MaW5lQXRDZWxscyhlLngxLGUueTEsZS5jb2xzLWUueDEpO2Zvcih2YXIgdD1lLnkxKzE7dDxlLnkyO3QrKyl0aGlzLl9maWxsQm90dG9tTGluZUF0Q2VsbHMoMCx0LGUuY29scyk7dGhpcy5fZmlsbEJvdHRvbUxpbmVBdENlbGxzKDAsZS55MixlLngyKX10aGlzLl9zdGF0ZT1lfSx0LnByb3RvdHlwZS5fb25IaWRlTGlua1VuZGVybGluZT1mdW5jdGlvbihlKXt0aGlzLl9jbGVhckN1cnJlbnRMaW5rKCl9LG8oW3MoNixoLklCdWZmZXJTZXJ2aWNlKSxzKDcsaC5JT3B0aW9uc1NlcnZpY2UpLHMoOCxoLklEZWNvcmF0aW9uU2VydmljZSldLHQpfShhLkJhc2VSZW5kZXJMYXllcik7dC5MaW5rUmVuZGVyTGF5ZXI9dX0sMzUyNTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxvPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LHM9dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX0sYT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJlbmRlcmVyPXZvaWQgMDt2YXIgYz1yKDk1OTYpLGw9cig0MTQ5KSxoPXIoMjUxMiksdT1yKDUwOTgpLGY9cig4NDQpLF89cig0NzI1KSxkPXIoMjU4NSkscD1yKDE0MjApLHY9cig4NDYwKSx5PTEsZz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzLGEsZil7dmFyIF89ZS5jYWxsKHRoaXMpfHx0aGlzO18uX2NvbG9ycz10LF8uX3NjcmVlbkVsZW1lbnQ9cixfLl9idWZmZXJTZXJ2aWNlPXMsXy5fY2hhclNpemVTZXJ2aWNlPWEsXy5fb3B0aW9uc1NlcnZpY2U9ZixfLl9pZD15KyssXy5fb25SZXF1ZXN0UmVkcmF3PW5ldyB2LkV2ZW50RW1pdHRlcjt2YXIgZD1fLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmFsbG93VHJhbnNwYXJlbmN5O3JldHVybiBfLl9yZW5kZXJMYXllcnM9W28uY3JlYXRlSW5zdGFuY2UoYy5UZXh0UmVuZGVyTGF5ZXIsXy5fc2NyZWVuRWxlbWVudCwwLF8uX2NvbG9ycyxkLF8uX2lkKSxvLmNyZWF0ZUluc3RhbmNlKGwuU2VsZWN0aW9uUmVuZGVyTGF5ZXIsXy5fc2NyZWVuRWxlbWVudCwxLF8uX2NvbG9ycyxfLl9pZCksby5jcmVhdGVJbnN0YW5jZSh1LkxpbmtSZW5kZXJMYXllcixfLl9zY3JlZW5FbGVtZW50LDIsXy5fY29sb3JzLF8uX2lkLGksbiksby5jcmVhdGVJbnN0YW5jZShoLkN1cnNvclJlbmRlckxheWVyLF8uX3NjcmVlbkVsZW1lbnQsMyxfLl9jb2xvcnMsXy5faWQsXy5fb25SZXF1ZXN0UmVkcmF3KV0sXy5kaW1lbnNpb25zPXtzY2FsZWRDaGFyV2lkdGg6MCxzY2FsZWRDaGFySGVpZ2h0OjAsc2NhbGVkQ2VsbFdpZHRoOjAsc2NhbGVkQ2VsbEhlaWdodDowLHNjYWxlZENoYXJMZWZ0OjAsc2NhbGVkQ2hhclRvcDowLHNjYWxlZENhbnZhc1dpZHRoOjAsc2NhbGVkQ2FudmFzSGVpZ2h0OjAsY2FudmFzV2lkdGg6MCxjYW52YXNIZWlnaHQ6MCxhY3R1YWxDZWxsV2lkdGg6MCxhY3R1YWxDZWxsSGVpZ2h0OjB9LF8uX2RldmljZVBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW8sXy5fdXBkYXRlRGltZW5zaW9ucygpLF8ub25PcHRpb25zQ2hhbmdlZCgpLF99cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlcXVlc3RSZWRyYXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFJlZHJhdy5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQscjt0cnl7Zm9yKHZhciBpPWEodGhpcy5fcmVuZGVyTGF5ZXJzKSxuPWkubmV4dCgpOyFuLmRvbmU7bj1pLm5leHQoKSluLnZhbHVlLmRpc3Bvc2UoKX1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19ZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLCgwLHAucmVtb3ZlVGVybWluYWxGcm9tQ2FjaGUpKHRoaXMuX2lkKX0sdC5wcm90b3R5cGUub25EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fZGV2aWNlUGl4ZWxSYXRpbyE9PXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvJiYodGhpcy5fZGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLm9uUmVzaXplKHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpKX0sdC5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5fY29sb3JzPWU7dHJ5e2Zvcih2YXIgaT1hKHRoaXMuX3JlbmRlckxheWVycyksbj1pLm5leHQoKTshbi5kb25lO249aS5uZXh0KCkpe3ZhciBvPW4udmFsdWU7by5zZXRDb2xvcnModGhpcy5fY29sb3JzKSxvLnJlc2V0KCl9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihyPWkucmV0dXJuKSYmci5jYWxsKGkpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX19LHQucHJvdG90eXBlLm9uUmVzaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaTt0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7dHJ5e2Zvcih2YXIgbj1hKHRoaXMuX3JlbmRlckxheWVycyksbz1uLm5leHQoKTshby5kb25lO289bi5uZXh0KCkpby52YWx1ZS5yZXNpemUodGhpcy5kaW1lbnNpb25zKX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtvJiYhby5kb25lJiYoaT1uLnJldHVybikmJmkuY2FsbChuKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dGhpcy5fc2NyZWVuRWxlbWVudC5zdHlsZS53aWR0aD10aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGgrXCJweFwiLHRoaXMuX3NjcmVlbkVsZW1lbnQuc3R5bGUuaGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQrXCJweFwifSx0LnByb3RvdHlwZS5vbkNoYXJTaXplQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMub25SZXNpemUodGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyl9LHQucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuX3J1bk9wZXJhdGlvbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUub25CbHVyKCl9KSl9LHQucHJvdG90eXBlLm9uRm9jdXM9ZnVuY3Rpb24oKXt0aGlzLl9ydW5PcGVyYXRpb24oKGZ1bmN0aW9uKGUpe3JldHVybiBlLm9uRm9jdXMoKX0pKX0sdC5wcm90b3R5cGUub25TZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5fcnVuT3BlcmF0aW9uKChmdW5jdGlvbihpKXtyZXR1cm4gaS5vblNlbGVjdGlvbkNoYW5nZWQoZSx0LHIpfSkpLHRoaXMuX2NvbG9ycy5zZWxlY3Rpb25Gb3JlZ3JvdW5kJiZ0aGlzLl9vblJlcXVlc3RSZWRyYXcuZmlyZSh7c3RhcnQ6MCxlbmQ6dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTF9KX0sdC5wcm90b3R5cGUub25DdXJzb3JNb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcnVuT3BlcmF0aW9uKChmdW5jdGlvbihlKXtyZXR1cm4gZS5vbkN1cnNvck1vdmUoKX0pKX0sdC5wcm90b3R5cGUub25PcHRpb25zQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX3J1bk9wZXJhdGlvbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUub25PcHRpb25zQ2hhbmdlZCgpfSkpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX3J1bk9wZXJhdGlvbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzZXQoKX0pKX0sdC5wcm90b3R5cGUuX3J1bk9wZXJhdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxyO3RyeXtmb3IodmFyIGk9YSh0aGlzLl9yZW5kZXJMYXllcnMpLG49aS5uZXh0KCk7IW4uZG9uZTtuPWkubmV4dCgpKWUobi52YWx1ZSl9Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fX0sdC5wcm90b3R5cGUucmVuZGVyUm93cz1mdW5jdGlvbihlLHQpe3ZhciByLGk7dHJ5e2Zvcih2YXIgbj1hKHRoaXMuX3JlbmRlckxheWVycyksbz1uLm5leHQoKTshby5kb25lO289bi5uZXh0KCkpby52YWx1ZS5vbkdyaWRDaGFuZ2VkKGUsdCl9Y2F0Y2goZSl7cj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKGk9bi5yZXR1cm4pJiZpLmNhbGwobil9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fX0sdC5wcm90b3R5cGUuY2xlYXJUZXh0dXJlQXRsYXM9ZnVuY3Rpb24oKXt2YXIgZSx0O3RyeXtmb3IodmFyIHI9YSh0aGlzLl9yZW5kZXJMYXllcnMpLGk9ci5uZXh0KCk7IWkuZG9uZTtpPXIubmV4dCgpKWkudmFsdWUuY2xlYXJUZXh0dXJlQXRsYXMoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1yLnJldHVybikmJnQuY2FsbChyKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSx0LnByb3RvdHlwZS5fdXBkYXRlRGltZW5zaW9ucz1mdW5jdGlvbigpe3RoaXMuX2NoYXJTaXplU2VydmljZS5oYXNWYWxpZFNpemUmJih0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoPU1hdGguZmxvb3IodGhpcy5fY2hhclNpemVTZXJ2aWNlLndpZHRoKndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodD1NYXRoLmNlaWwodGhpcy5fY2hhclNpemVTZXJ2aWNlLmhlaWdodCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQ9TWF0aC5mbG9vcih0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodCp0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxpbmVIZWlnaHQpLHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFyVG9wPTE9PT10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxpbmVIZWlnaHQ/MDpNYXRoLnJvdW5kKCh0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodC10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodCkvMiksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aD10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoK01hdGgucm91bmQodGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5sZXR0ZXJTcGFjaW5nKSx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckxlZnQ9TWF0aC5mbG9vcih0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmxldHRlclNwYWNpbmcvMiksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodD10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MqdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQsdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc1dpZHRoPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyp0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbFdpZHRoLHRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzSGVpZ2h0L3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGg9TWF0aC5yb3VuZCh0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzV2lkdGgvd2luZG93LmRldmljZVBpeGVsUmF0aW8pLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQvdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGg9dGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRoL3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scyl9LG8oW3MoNCxkLklJbnN0YW50aWF0aW9uU2VydmljZSkscyg1LGQuSUJ1ZmZlclNlcnZpY2UpLHMoNixfLklDaGFyU2l6ZVNlcnZpY2UpLHMoNyxkLklPcHRpb25zU2VydmljZSldLHQpfShmLkRpc3Bvc2FibGUpO3QuUmVuZGVyZXI9Z30sMTc1MjooZSx0KT0+e2Z1bmN0aW9uIHIoZSl7cmV0dXJuIDU3NTA4PD1lJiZlPD01NzU1OH1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4Y2x1ZGVGcm9tQ29udHJhc3RSYXRpb0RlbWFuZHM9dC5pc1Bvd2VybGluZUdseXBoPXQudGhyb3dJZkZhbHN5PXZvaWQgMCx0LnRocm93SWZGYWxzeT1mdW5jdGlvbihlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZSBtdXN0IG5vdCBiZSBmYWxzeVwiKTtyZXR1cm4gZX0sdC5pc1Bvd2VybGluZUdseXBoPXIsdC5leGNsdWRlRnJvbUNvbnRyYXN0UmF0aW9EZW1hbmRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gOTQ3Mjw9ZSYmZTw9OTYzMX0oZSl9fSw0MTQ5OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNlbGVjdGlvblJlbmRlckxheWVyPXZvaWQgMDt2YXIgYT1yKDE1NDYpLGM9cigyNTg1KSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLHMsYSl7dmFyIGM9ZS5jYWxsKHRoaXMsdCxcInNlbGVjdGlvblwiLHIsITAsaSxuLG8scyxhKXx8dGhpcztyZXR1cm4gYy5fY2xlYXJTdGF0ZSgpLGN9cmV0dXJuIG4odCxlKSx0LnByb3RvdHlwZS5fY2xlYXJTdGF0ZT1mdW5jdGlvbigpe3RoaXMuX3N0YXRlPXtzdGFydDp2b2lkIDAsZW5kOnZvaWQgMCxjb2x1bW5TZWxlY3RNb2RlOnZvaWQgMCx5ZGlzcDp2b2lkIDB9fSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7ZS5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcyx0KSx0aGlzLl9jbGVhclN0YXRlKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhdGUuc3RhcnQmJnRoaXMuX3N0YXRlLmVuZCYmKHRoaXMuX2NsZWFyU3RhdGUoKSx0aGlzLl9jbGVhckFsbCgpKX0sdC5wcm90b3R5cGUub25TZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKHQscixpKXtpZihlLnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZWQuY2FsbCh0aGlzLHQscixpKSx0aGlzLl9kaWRTdGF0ZUNoYW5nZSh0LHIsaSx0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCkpaWYodGhpcy5fY2xlYXJBbGwoKSx0JiZyKXt2YXIgbj10WzFdLXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLG89clsxXS10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCxzPU1hdGgubWF4KG4sMCksYT1NYXRoLm1pbihvLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKTtpZihzPj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3N8fGE8MCl0aGlzLl9zdGF0ZS55ZGlzcD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcDtlbHNle2lmKHRoaXMuX2N0eC5maWxsU3R5bGU9dGhpcy5fY29sb3JzLnNlbGVjdGlvblRyYW5zcGFyZW50LmNzcyxpKXt2YXIgYz10WzBdLGw9clswXS1jLGg9YS1zKzE7dGhpcy5fZmlsbENlbGxzKGMscyxsLGgpfWVsc2V7Yz1uPT09cz90WzBdOjA7dmFyIHU9cz09PW8/clswXTp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM7dGhpcy5fZmlsbENlbGxzKGMscyx1LWMsMSk7dmFyIGY9TWF0aC5tYXgoYS1zLTEsMCk7aWYodGhpcy5fZmlsbENlbGxzKDAscysxLHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyxmKSxzIT09YSl7dmFyIF89bz09PWE/clswXTp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM7dGhpcy5fZmlsbENlbGxzKDAsYSxfLDEpfX10aGlzLl9zdGF0ZS5zdGFydD1bdFswXSx0WzFdXSx0aGlzLl9zdGF0ZS5lbmQ9W3JbMF0sclsxXV0sdGhpcy5fc3RhdGUuY29sdW1uU2VsZWN0TW9kZT1pLHRoaXMuX3N0YXRlLnlkaXNwPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwfX1lbHNlIHRoaXMuX2NsZWFyU3RhdGUoKX0sdC5wcm90b3R5cGUuX2RpZFN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiF0aGlzLl9hcmVDb29yZGluYXRlc0VxdWFsKGUsdGhpcy5fc3RhdGUuc3RhcnQpfHwhdGhpcy5fYXJlQ29vcmRpbmF0ZXNFcXVhbCh0LHRoaXMuX3N0YXRlLmVuZCl8fHIhPT10aGlzLl9zdGF0ZS5jb2x1bW5TZWxlY3RNb2RlfHxpIT09dGhpcy5fc3RhdGUueWRpc3B9LHQucHJvdG90eXBlLl9hcmVDb29yZGluYXRlc0VxdWFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISghZXx8IXQpJiZlWzBdPT09dFswXSYmZVsxXT09PXRbMV19LG8oW3MoNCxjLklCdWZmZXJTZXJ2aWNlKSxzKDUsYy5JT3B0aW9uc1NlcnZpY2UpLHMoNixjLklEZWNvcmF0aW9uU2VydmljZSldLHQpfShhLkJhc2VSZW5kZXJMYXllcik7dC5TZWxlY3Rpb25SZW5kZXJMYXllcj1sfSw5NTk2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fSxhPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVGV4dFJlbmRlckxheWVyPXZvaWQgMDt2YXIgYz1yKDM3MDApLGw9cigxNTQ2KSxoPXIoMzczNCksdT1yKDY0MyksZj1yKDUxMSksXz1yKDI1ODUpLGQ9cig0NzI1KSxwPXIoNDI2OSksdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscixpLG4sbyxzLGEsbCxoKXt2YXIgdT1lLmNhbGwodGhpcyx0LFwidGV4dFwiLHIsbixpLG8scyxhLGgpfHx0aGlzO3JldHVybiB1Ll9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPWwsdS5fY2hhcmFjdGVyV2lkdGg9MCx1Ll9jaGFyYWN0ZXJGb250PVwiXCIsdS5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlPXt9LHUuX3dvcmtDZWxsPW5ldyBmLkNlbGxEYXRhLHUuX3N0YXRlPW5ldyBjLkdyaWRDYWNoZSx1fXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsdCk7dmFyIHI9dGhpcy5fZ2V0Rm9udCghMSwhMSk7dGhpcy5fY2hhcmFjdGVyV2lkdGg9PT10LnNjYWxlZENoYXJXaWR0aCYmdGhpcy5fY2hhcmFjdGVyRm9udD09PXJ8fCh0aGlzLl9jaGFyYWN0ZXJXaWR0aD10LnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jaGFyYWN0ZXJGb250PXIsdGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlPXt9KSx0aGlzLl9zdGF0ZS5jbGVhcigpLHRoaXMuX3N0YXRlLnJlc2l6ZSh0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGF0ZS5jbGVhcigpLHRoaXMuX2NsZWFyQWxsKCl9LHQucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPWU7aTw9dDtpKyspZm9yKHZhciBuPWkrdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3Asbz10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5nZXQobikscz10aGlzLl9jaGFyYWN0ZXJKb2luZXJTZXJ2aWNlLmdldEpvaW5lZENoYXJhY3RlcnMobiksYT0wO2E8dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzO2ErKyl7by5sb2FkQ2VsbChhLHRoaXMuX3dvcmtDZWxsKTt2YXIgYz10aGlzLl93b3JrQ2VsbCxsPSExLGg9YTtpZigwIT09Yy5nZXRXaWR0aCgpKXtpZihzLmxlbmd0aD4wJiZhPT09c1swXVswXSl7bD0hMDt2YXIgZj1zLnNoaWZ0KCk7Yz1uZXcgcC5Kb2luZWRDZWxsRGF0YSh0aGlzLl93b3JrQ2VsbCxvLnRyYW5zbGF0ZVRvU3RyaW5nKCEwLGZbMF0sZlsxXSksZlsxXS1mWzBdKSxoPWZbMV0tMX0hbCYmdGhpcy5faXNPdmVybGFwcGluZyhjKSYmaDxvLmxlbmd0aC0xJiZvLmdldENvZGVQb2ludChoKzEpPT09dS5OVUxMX0NFTExfQ09ERSYmKGMuY29udGVudCY9LTEyNTgyOTEzLGMuY29udGVudHw9Mjw8MjIpLHIoYyxhLGkpLGE9aH19fSx0LnByb3RvdHlwZS5fZHJhd0JhY2tncm91bmQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5fY3R4LG49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLG89MCxzPTAsYz1udWxsO2kuc2F2ZSgpLHRoaXMuX2ZvckVhY2hDZWxsKGUsdCwoZnVuY3Rpb24oZSx0LGwpe3ZhciB1LGYsXz1udWxsO2UuaXNJbnZlcnNlKCk/Xz1lLmlzRmdEZWZhdWx0KCk/ci5fY29sb3JzLmZvcmVncm91bmQuY3NzOmUuaXNGZ1JHQigpP1wicmdiKFwiK2guQXR0cmlidXRlRGF0YS50b0NvbG9yUkdCKGUuZ2V0RmdDb2xvcigpKS5qb2luKFwiLFwiKStcIilcIjpyLl9jb2xvcnMuYW5zaVtlLmdldEZnQ29sb3IoKV0uY3NzOmUuaXNCZ1JHQigpP189XCJyZ2IoXCIraC5BdHRyaWJ1dGVEYXRhLnRvQ29sb3JSR0IoZS5nZXRCZ0NvbG9yKCkpLmpvaW4oXCIsXCIpK1wiKVwiOmUuaXNCZ1BhbGV0dGUoKSYmKF89ci5fY29sb3JzLmFuc2lbZS5nZXRCZ0NvbG9yKCldLmNzcyk7dmFyIGQ9ITE7dHJ5e2Zvcih2YXIgcD1hKHIuX2RlY29yYXRpb25TZXJ2aWNlLmdldERlY29yYXRpb25zQXRDZWxsKHQsci5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3ArbCkpLHY9cC5uZXh0KCk7IXYuZG9uZTt2PXAubmV4dCgpKXt2YXIgeT12LnZhbHVlO1widG9wXCIhPT15Lm9wdGlvbnMubGF5ZXImJmR8fCh5LmJhY2tncm91bmRDb2xvclJHQiYmKF89eS5iYWNrZ3JvdW5kQ29sb3JSR0IuY3NzKSxkPVwidG9wXCI9PT15Lm9wdGlvbnMubGF5ZXIpfX1jYXRjaChlKXt1PXtlcnJvcjplfX1maW5hbGx5e3RyeXt2JiYhdi5kb25lJiYoZj1wLnJldHVybikmJmYuY2FsbChwKX1maW5hbGx5e2lmKHUpdGhyb3cgdS5lcnJvcn19bnVsbD09PWMmJihvPXQscz1sKSxsIT09cz8oaS5maWxsU3R5bGU9Y3x8XCJcIixyLl9maWxsQ2VsbHMobyxzLG4tbywxKSxvPXQscz1sKTpjIT09XyYmKGkuZmlsbFN0eWxlPWN8fFwiXCIsci5fZmlsbENlbGxzKG8scyx0LW8sMSksbz10LHM9bCksYz1ffSkpLG51bGwhPT1jJiYoaS5maWxsU3R5bGU9Yyx0aGlzLl9maWxsQ2VsbHMobyxzLG4tbywxKSksaS5yZXN0b3JlKCl9LHQucHJvdG90eXBlLl9kcmF3Rm9yZWdyb3VuZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5fZm9yRWFjaENlbGwoZSx0LChmdW5jdGlvbihlLHQsaSl7aWYoIWUuaXNJbnZpc2libGUoKSYmKHIuX2RyYXdDaGFycyhlLHQsaSksZS5pc1VuZGVybGluZSgpfHxlLmlzU3RyaWtldGhyb3VnaCgpKSl7aWYoci5fY3R4LnNhdmUoKSxlLmlzSW52ZXJzZSgpKWlmKGUuaXNCZ0RlZmF1bHQoKSlyLl9jdHguZmlsbFN0eWxlPXIuX2NvbG9ycy5iYWNrZ3JvdW5kLmNzcztlbHNlIGlmKGUuaXNCZ1JHQigpKXIuX2N0eC5maWxsU3R5bGU9XCJyZ2IoXCIraC5BdHRyaWJ1dGVEYXRhLnRvQ29sb3JSR0IoZS5nZXRCZ0NvbG9yKCkpLmpvaW4oXCIsXCIpK1wiKVwiO2Vsc2V7dmFyIG49ZS5nZXRCZ0NvbG9yKCk7ci5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5kcmF3Qm9sZFRleHRJbkJyaWdodENvbG9ycyYmZS5pc0JvbGQoKSYmbjw4JiYobis9OCksci5fY3R4LmZpbGxTdHlsZT1yLl9jb2xvcnMuYW5zaVtuXS5jc3N9ZWxzZSBpZihlLmlzRmdEZWZhdWx0KCkpci5fY3R4LmZpbGxTdHlsZT1yLl9jb2xvcnMuZm9yZWdyb3VuZC5jc3M7ZWxzZSBpZihlLmlzRmdSR0IoKSlyLl9jdHguZmlsbFN0eWxlPVwicmdiKFwiK2guQXR0cmlidXRlRGF0YS50b0NvbG9yUkdCKGUuZ2V0RmdDb2xvcigpKS5qb2luKFwiLFwiKStcIilcIjtlbHNle3ZhciBvPWUuZ2V0RmdDb2xvcigpO3IuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMmJmUuaXNCb2xkKCkmJm88OCYmKG8rPTgpLHIuX2N0eC5maWxsU3R5bGU9ci5fY29sb3JzLmFuc2lbb10uY3NzfWUuaXNTdHJpa2V0aHJvdWdoKCkmJnIuX2ZpbGxNaWRkbGVMaW5lQXRDZWxscyh0LGksZS5nZXRXaWR0aCgpKSxlLmlzVW5kZXJsaW5lKCkmJnIuX2ZpbGxCb3R0b21MaW5lQXRDZWxscyh0LGksZS5nZXRXaWR0aCgpKSxyLl9jdHgucmVzdG9yZSgpfX0pKX0sdC5wcm90b3R5cGUub25HcmlkQ2hhbmdlZD1mdW5jdGlvbihlLHQpezAhPT10aGlzLl9zdGF0ZS5jYWNoZS5sZW5ndGgmJih0aGlzLl9jaGFyQXRsYXMmJnRoaXMuX2NoYXJBdGxhcy5iZWdpbkZyYW1lKCksdGhpcy5fY2xlYXJDZWxscygwLGUsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHQtZSsxKSx0aGlzLl9kcmF3QmFja2dyb3VuZChlLHQpLHRoaXMuX2RyYXdGb3JlZ3JvdW5kKGUsdCkpfSx0LnByb3RvdHlwZS5vbk9wdGlvbnNDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5fc2V0VHJhbnNwYXJlbmN5KHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuYWxsb3dUcmFuc3BhcmVuY3kpfSx0LnByb3RvdHlwZS5faXNPdmVybGFwcGluZz1mdW5jdGlvbihlKXtpZigxIT09ZS5nZXRXaWR0aCgpKXJldHVybiExO2lmKGUuZ2V0Q29kZSgpPDI1NilyZXR1cm4hMTt2YXIgdD1lLmdldENoYXJzKCk7aWYodGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlLmhhc093blByb3BlcnR5KHQpKXJldHVybiB0aGlzLl9jaGFyYWN0ZXJPdmVybGFwQ2FjaGVbdF07dGhpcy5fY3R4LnNhdmUoKSx0aGlzLl9jdHguZm9udD10aGlzLl9jaGFyYWN0ZXJGb250O3ZhciByPU1hdGguZmxvb3IodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KHQpLndpZHRoKT50aGlzLl9jaGFyYWN0ZXJXaWR0aDtyZXR1cm4gdGhpcy5fY3R4LnJlc3RvcmUoKSx0aGlzLl9jaGFyYWN0ZXJPdmVybGFwQ2FjaGVbdF09cixyfSxvKFtzKDUsXy5JQnVmZmVyU2VydmljZSkscyg2LF8uSU9wdGlvbnNTZXJ2aWNlKSxzKDcsZC5JQ2hhcmFjdGVySm9pbmVyU2VydmljZSkscyg4LF8uSURlY29yYXRpb25TZXJ2aWNlKV0sdCl9KGwuQmFzZVJlbmRlckxheWVyKTt0LlRleHRSZW5kZXJMYXllcj12fSw5NjE2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CYXNlQ2hhckF0bGFzPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9kaWRXYXJtVXA9ITF9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLndhcm1VcD1mdW5jdGlvbigpe3RoaXMuX2RpZFdhcm1VcHx8KHRoaXMuX2RvV2FybVVwKCksdGhpcy5fZGlkV2FybVVwPSEwKX0sZS5wcm90b3R5cGUuX2RvV2FybVVwPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe30sZX0oKTt0LkJhc2VDaGFyQXRsYXM9cn0sMTQyMDooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yZW1vdmVUZXJtaW5hbEZyb21DYWNoZT10LmFjcXVpcmVDaGFyQXRsYXM9dm9pZCAwO3ZhciBpPXIoMjA0MCksbj1yKDE5MDYpLG89W107dC5hY3F1aXJlQ2hhckF0bGFzPWZ1bmN0aW9uKGUsdCxyLHMsYSl7Zm9yKHZhciBjPSgwLGkuZ2VuZXJhdGVDb25maWcpKHMsYSxlLHIpLGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIGg9KHU9b1tsXSkub3duZWRCeS5pbmRleE9mKHQpO2lmKGg+PTApe2lmKCgwLGkuY29uZmlnRXF1YWxzKSh1LmNvbmZpZyxjKSlyZXR1cm4gdS5hdGxhczsxPT09dS5vd25lZEJ5Lmxlbmd0aD8odS5hdGxhcy5kaXNwb3NlKCksby5zcGxpY2UobCwxKSk6dS5vd25lZEJ5LnNwbGljZShoLDEpO2JyZWFrfX1mb3IobD0wO2w8by5sZW5ndGg7bCsrKXt2YXIgdT1vW2xdO2lmKCgwLGkuY29uZmlnRXF1YWxzKSh1LmNvbmZpZyxjKSlyZXR1cm4gdS5vd25lZEJ5LnB1c2godCksdS5hdGxhc312YXIgZj17YXRsYXM6bmV3IG4uRHluYW1pY0NoYXJBdGxhcyhkb2N1bWVudCxjKSxjb25maWc6Yyxvd25lZEJ5Olt0XX07cmV0dXJuIG8ucHVzaChmKSxmLmF0bGFzfSx0LnJlbW92ZVRlcm1pbmFsRnJvbUNhY2hlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgcj1vW3RdLm93bmVkQnkuaW5kZXhPZihlKTtpZigtMSE9PXIpezE9PT1vW3RdLm93bmVkQnkubGVuZ3RoPyhvW3RdLmF0bGFzLmRpc3Bvc2UoKSxvLnNwbGljZSh0LDEpKTpvW3RdLm93bmVkQnkuc3BsaWNlKHIsMSk7YnJlYWt9fX19LDIwNDA6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXMyNTZDb2xvcj10LmNvbmZpZ0VxdWFscz10LmdlbmVyYXRlQ29uZmlnPXZvaWQgMDt2YXIgaT1yKDY0Myk7dC5nZW5lcmF0ZUNvbmZpZz1mdW5jdGlvbihlLHQscixpKXt2YXIgbj17Zm9yZWdyb3VuZDppLmZvcmVncm91bmQsYmFja2dyb3VuZDppLmJhY2tncm91bmQsY3Vyc29yOnZvaWQgMCxjdXJzb3JBY2NlbnQ6dm9pZCAwLHNlbGVjdGlvbjp2b2lkIDAsYW5zaTppLmFuc2kuc2xpY2UoKX07cmV0dXJue2RldmljZVBpeGVsUmF0aW86d2luZG93LmRldmljZVBpeGVsUmF0aW8sc2NhbGVkQ2hhcldpZHRoOmUsc2NhbGVkQ2hhckhlaWdodDp0LGZvbnRGYW1pbHk6ci5mb250RmFtaWx5LGZvbnRTaXplOnIuZm9udFNpemUsZm9udFdlaWdodDpyLmZvbnRXZWlnaHQsZm9udFdlaWdodEJvbGQ6ci5mb250V2VpZ2h0Qm9sZCxhbGxvd1RyYW5zcGFyZW5jeTpyLmFsbG93VHJhbnNwYXJlbmN5LGNvbG9yczpufX0sdC5jb25maWdFcXVhbHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUuY29sb3JzLmFuc2kubGVuZ3RoO3IrKylpZihlLmNvbG9ycy5hbnNpW3JdLnJnYmEhPT10LmNvbG9ycy5hbnNpW3JdLnJnYmEpcmV0dXJuITE7cmV0dXJuIGUuZGV2aWNlUGl4ZWxSYXRpbz09PXQuZGV2aWNlUGl4ZWxSYXRpbyYmZS5mb250RmFtaWx5PT09dC5mb250RmFtaWx5JiZlLmZvbnRTaXplPT09dC5mb250U2l6ZSYmZS5mb250V2VpZ2h0PT09dC5mb250V2VpZ2h0JiZlLmZvbnRXZWlnaHRCb2xkPT09dC5mb250V2VpZ2h0Qm9sZCYmZS5hbGxvd1RyYW5zcGFyZW5jeT09PXQuYWxsb3dUcmFuc3BhcmVuY3kmJmUuc2NhbGVkQ2hhcldpZHRoPT09dC5zY2FsZWRDaGFyV2lkdGgmJmUuc2NhbGVkQ2hhckhlaWdodD09PXQuc2NhbGVkQ2hhckhlaWdodCYmZS5jb2xvcnMuZm9yZWdyb3VuZD09PXQuY29sb3JzLmZvcmVncm91bmQmJmUuY29sb3JzLmJhY2tncm91bmQ9PT10LmNvbG9ycy5iYWNrZ3JvdW5kfSx0LmlzMjU2Q29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8aS5ERUZBVUxUX0NPTE9SfX0sODgwMzooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DSEFSX0FUTEFTX0NFTExfU1BBQ0lORz10LlRFWFRfQkFTRUxJTkU9dC5ESU1fT1BBQ0lUWT10LklOVkVSVEVEX0RFRkFVTFRfQ09MT1I9dm9pZCAwO3ZhciBpPXIoNjExNCk7dC5JTlZFUlRFRF9ERUZBVUxUX0NPTE9SPTI1Nyx0LkRJTV9PUEFDSVRZPS41LHQuVEVYVF9CQVNFTElORT1pLmlzRmlyZWZveHx8aS5pc0xlZ2FjeUVkZ2U/XCJib3R0b21cIjpcImlkZW9ncmFwaGljXCIsdC5DSEFSX0FUTEFTX0NFTExfU1BBQ0lORz0xfSwxOTA2OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTm9uZUNoYXJBdGxhcz10LkR5bmFtaWNDaGFyQXRsYXM9dC5nZXRHbHlwaENhY2hlS2V5PXZvaWQgMDt2YXIgbz1yKDg4MDMpLHM9cig5NjE2KSxhPXIoNTY4MCksYz1yKDcwMDEpLGw9cig2MTE0KSxoPXIoMTc1MiksdT1yKDgwNTUpLGY9MTAyNCxfPTEwMjQsZD17Y3NzOlwicmdiYSgwLCAwLCAwLCAwKVwiLHJnYmE6MH07ZnVuY3Rpb24gcChlKXtyZXR1cm4gZS5jb2RlPDwyMXxlLmJnPDwxMnxlLmZnPDwzfChlLmJvbGQ/MDo0KSsoZS5kaW0/MDoyKSsoZS5pdGFsaWM/MDoxKX10LmdldEdseXBoQ2FjaGVLZXk9cDt2YXIgdj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO2kuX2NvbmZpZz1yLGkuX2RyYXdUb0NhY2hlQ291bnQ9MCxpLl9nbHlwaHNXYWl0aW5nT25CaXRtYXA9W10saS5fYml0bWFwQ29tbWl0VGltZW91dD1udWxsLGkuX2JpdG1hcD1udWxsLGkuX2NhY2hlQ2FudmFzPXQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpLl9jYWNoZUNhbnZhcy53aWR0aD1mLGkuX2NhY2hlQ2FudmFzLmhlaWdodD1fLGkuX2NhY2hlQ3R4PSgwLGgudGhyb3dJZkZhbHN5KShpLl9jYWNoZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6ITB9KSk7dmFyIG49dC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO24ud2lkdGg9aS5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCxuLmhlaWdodD1pLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCxpLl90bXBDdHg9KDAsaC50aHJvd0lmRmFsc3kpKG4uZ2V0Q29udGV4dChcIjJkXCIse2FscGhhOmkuX2NvbmZpZy5hbGxvd1RyYW5zcGFyZW5jeX0pKSxpLl93aWR0aD1NYXRoLmZsb29yKGYvaS5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCksaS5faGVpZ2h0PU1hdGguZmxvb3IoXy9pLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCk7dmFyIG89aS5fd2lkdGgqaS5faGVpZ2h0O3JldHVybiBpLl9jYWNoZU1hcD1uZXcgYy5MUlVNYXAobyksaS5fY2FjaGVNYXAucHJlYWxsb2MobyksaX1yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCksdGhpcy5fYml0bWFwQ29tbWl0VGltZW91dD1udWxsKX0sdC5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuX2RyYXdUb0NhY2hlQ291bnQ9MH0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9jYWNoZU1hcC5zaXplPjApe3ZhciBlPXRoaXMuX3dpZHRoKnRoaXMuX2hlaWdodDt0aGlzLl9jYWNoZU1hcD1uZXcgYy5MUlVNYXAoZSksdGhpcy5fY2FjaGVNYXAucHJlYWxsb2MoZSl9dGhpcy5fY2FjaGVDdHguY2xlYXJSZWN0KDAsMCxmLF8pLHRoaXMuX3RtcEN0eC5jbGVhclJlY3QoMCwwLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgsdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHQpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKGUsdCxyLGkpe2lmKDMyPT09dC5jb2RlKXJldHVybiEwO2lmKCF0aGlzLl9jYW5DYWNoZSh0KSlyZXR1cm4hMTt2YXIgbj1wKHQpLG89dGhpcy5fY2FjaGVNYXAuZ2V0KG4pO2lmKG51bGwhPW8pcmV0dXJuIHRoaXMuX2RyYXdGcm9tQ2FjaGUoZSxvLHIsaSksITA7aWYodGhpcy5fZHJhd1RvQ2FjaGVDb3VudDwxMDApe3ZhciBzO3M9dGhpcy5fY2FjaGVNYXAuc2l6ZTx0aGlzLl9jYWNoZU1hcC5jYXBhY2l0eT90aGlzLl9jYWNoZU1hcC5zaXplOnRoaXMuX2NhY2hlTWFwLnBlZWsoKS5pbmRleDt2YXIgYT10aGlzLl9kcmF3VG9DYWNoZSh0LHMpO3JldHVybiB0aGlzLl9jYWNoZU1hcC5zZXQobixhKSx0aGlzLl9kcmF3RnJvbUNhY2hlKGUsYSxyLGkpLCEwfXJldHVybiExfSx0LnByb3RvdHlwZS5fY2FuQ2FjaGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZTwyNTZ9LHQucHJvdG90eXBlLl90b0Nvb3JkaW5hdGVYPWZ1bmN0aW9uKGUpe3JldHVybiBlJXRoaXMuX3dpZHRoKnRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGh9LHQucHJvdG90eXBlLl90b0Nvb3JkaW5hdGVZPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmZsb29yKGUvdGhpcy5fd2lkdGgpKnRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0fSx0LnByb3RvdHlwZS5fZHJhd0Zyb21DYWNoZT1mdW5jdGlvbihlLHQscixpKXtpZighdC5pc0VtcHR5KXt2YXIgbj10aGlzLl90b0Nvb3JkaW5hdGVYKHQuaW5kZXgpLG89dGhpcy5fdG9Db29yZGluYXRlWSh0LmluZGV4KTtlLmRyYXdJbWFnZSh0LmluQml0bWFwP3RoaXMuX2JpdG1hcDp0aGlzLl9jYWNoZUNhbnZhcyxuLG8sdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCxyLGksdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCl9fSx0LnByb3RvdHlwZS5fZ2V0Q29sb3JGcm9tQW5zaUluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiBlPHRoaXMuX2NvbmZpZy5jb2xvcnMuYW5zaS5sZW5ndGg/dGhpcy5fY29uZmlnLmNvbG9ycy5hbnNpW2VdOmEuREVGQVVMVF9BTlNJX0NPTE9SU1tlXX0sdC5wcm90b3R5cGUuX2dldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29uZmlnLmFsbG93VHJhbnNwYXJlbmN5P2Q6ZS5iZz09PW8uSU5WRVJURURfREVGQVVMVF9DT0xPUj90aGlzLl9jb25maWcuY29sb3JzLmZvcmVncm91bmQ6ZS5iZzwyNTY/dGhpcy5fZ2V0Q29sb3JGcm9tQW5zaUluZGV4KGUuYmcpOnRoaXMuX2NvbmZpZy5jb2xvcnMuYmFja2dyb3VuZH0sdC5wcm90b3R5cGUuX2dldEZvcmVncm91bmRDb2xvcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mZz09PW8uSU5WRVJURURfREVGQVVMVF9DT0xPUj91LmNvbG9yLm9wYXF1ZSh0aGlzLl9jb25maWcuY29sb3JzLmJhY2tncm91bmQpOmUuZmc8MjU2P3RoaXMuX2dldENvbG9yRnJvbUFuc2lJbmRleChlLmZnKTp0aGlzLl9jb25maWcuY29sb3JzLmZvcmVncm91bmR9LHQucHJvdG90eXBlLl9kcmF3VG9DYWNoZT1mdW5jdGlvbihlLHQpe3RoaXMuX2RyYXdUb0NhY2hlQ291bnQrKyx0aGlzLl90bXBDdHguc2F2ZSgpO3ZhciByPXRoaXMuX2dldEJhY2tncm91bmRDb2xvcihlKTt0aGlzLl90bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiY29weVwiLHRoaXMuX3RtcEN0eC5maWxsU3R5bGU9ci5jc3MsdGhpcy5fdG1wQ3R4LmZpbGxSZWN0KDAsMCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhcldpZHRoLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0KSx0aGlzLl90bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwic291cmNlLW92ZXJcIjt2YXIgaT1lLmJvbGQ/dGhpcy5fY29uZmlnLmZvbnRXZWlnaHRCb2xkOnRoaXMuX2NvbmZpZy5mb250V2VpZ2h0LG49ZS5pdGFsaWM/XCJpdGFsaWNcIjpcIlwiO3RoaXMuX3RtcEN0eC5mb250PW4rXCIgXCIraStcIiBcIit0aGlzLl9jb25maWcuZm9udFNpemUqdGhpcy5fY29uZmlnLmRldmljZVBpeGVsUmF0aW8rXCJweCBcIit0aGlzLl9jb25maWcuZm9udEZhbWlseSx0aGlzLl90bXBDdHgudGV4dEJhc2VsaW5lPW8uVEVYVF9CQVNFTElORSx0aGlzLl90bXBDdHguZmlsbFN0eWxlPXRoaXMuX2dldEZvcmVncm91bmRDb2xvcihlKS5jc3MsZS5kaW0mJih0aGlzLl90bXBDdHguZ2xvYmFsQWxwaGE9by5ESU1fT1BBQ0lUWSksdGhpcy5fdG1wQ3R4LmZpbGxUZXh0KGUuY2hhcnMsMCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCk7dmFyIHM9dGhpcy5fdG1wQ3R4LmdldEltYWdlRGF0YSgwLDAsdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aCx0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCksYT0hMTtpZih0aGlzLl9jb25maWcuYWxsb3dUcmFuc3BhcmVuY3l8fChhPWcocyxyKSksYSYmXCJfXCI9PT1lLmNoYXJzJiYhdGhpcy5fY29uZmlnLmFsbG93VHJhbnNwYXJlbmN5KWZvcih2YXIgYz0xO2M8PTUmJih0aGlzLl90bXBDdHguZmlsbFRleHQoZS5jaGFycywwLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0LWMpLGE9ZyhzPXRoaXMuX3RtcEN0eC5nZXRJbWFnZURhdGEoMCwwLHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgsdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHQpLHIpKTtjKyspO3RoaXMuX3RtcEN0eC5yZXN0b3JlKCk7dmFyIGw9dGhpcy5fdG9Db29yZGluYXRlWCh0KSxoPXRoaXMuX3RvQ29vcmRpbmF0ZVkodCk7dGhpcy5fY2FjaGVDdHgucHV0SW1hZ2VEYXRhKHMsbCxoKTt2YXIgdT17aW5kZXg6dCxpc0VtcHR5OmEsaW5CaXRtYXA6ITF9O3JldHVybiB0aGlzLl9hZGRHbHlwaFRvQml0bWFwKHUpLHV9LHQucHJvdG90eXBlLl9hZGRHbHlwaFRvQml0bWFwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7IShcImNyZWF0ZUltYWdlQml0bWFwXCJpbiB3aW5kb3cpfHxsLmlzRmlyZWZveHx8bC5pc1NhZmFyaXx8KHRoaXMuX2dseXBoc1dhaXRpbmdPbkJpdG1hcC5wdXNoKGUpLG51bGw9PT10aGlzLl9iaXRtYXBDb21taXRUaW1lb3V0JiYodGhpcy5fYml0bWFwQ29tbWl0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5fZ2VuZXJhdGVCaXRtYXAoKX0pLDEwMCkpKX0sdC5wcm90b3R5cGUuX2dlbmVyYXRlQml0bWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX2dseXBoc1dhaXRpbmdPbkJpdG1hcDt0aGlzLl9nbHlwaHNXYWl0aW5nT25CaXRtYXA9W10sd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKHRoaXMuX2NhY2hlQ2FudmFzKS50aGVuKChmdW5jdGlvbihyKXtlLl9iaXRtYXA9cjtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldLmluQml0bWFwPSEwfSkpLHRoaXMuX2JpdG1hcENvbW1pdFRpbWVvdXQ9bnVsbH0sdH0ocy5CYXNlQ2hhckF0bGFzKTt0LkR5bmFtaWNDaGFyQXRsYXM9djt2YXIgeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7cmV0dXJuIGUuY2FsbCh0aGlzKXx8dGhpc31yZXR1cm4gbih0LGUpLHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuITF9LHR9KHMuQmFzZUNoYXJBdGxhcyk7ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgcj0hMCxpPXQucmdiYT4+PjI0LG49dC5yZ2JhPj4+MTYmMjU1LG89dC5yZ2JhPj4+OCYyNTUscz0wO3M8ZS5kYXRhLmxlbmd0aDtzKz00KWUuZGF0YVtzXT09PWkmJmUuZGF0YVtzKzFdPT09biYmZS5kYXRhW3MrMl09PT1vP2UuZGF0YVtzKzNdPTA6cj0hMTtyZXR1cm4gcn10Lk5vbmVDaGFyQXRsYXM9eX0sNzAwMTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTFJVTWFwPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5jYXBhY2l0eT1lLHRoaXMuX21hcD17fSx0aGlzLl9oZWFkPW51bGwsdGhpcy5fdGFpbD1udWxsLHRoaXMuX25vZGVQb29sPVtdLHRoaXMuc2l6ZT0wfXJldHVybiBlLnByb3RvdHlwZS5fdW5saW5rTm9kZT1mdW5jdGlvbihlKXt2YXIgdD1lLnByZXYscj1lLm5leHQ7ZT09PXRoaXMuX2hlYWQmJih0aGlzLl9oZWFkPXIpLGU9PT10aGlzLl90YWlsJiYodGhpcy5fdGFpbD10KSxudWxsIT09dCYmKHQubmV4dD1yKSxudWxsIT09ciYmKHIucHJldj10KX0sZS5wcm90b3R5cGUuX2FwcGVuZE5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdGFpbDtudWxsIT09dCYmKHQubmV4dD1lKSxlLnByZXY9dCxlLm5leHQ9bnVsbCx0aGlzLl90YWlsPWUsbnVsbD09PXRoaXMuX2hlYWQmJih0aGlzLl9oZWFkPWUpfSxlLnByb3RvdHlwZS5wcmVhbGxvYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fbm9kZVBvb2wscj0wO3I8ZTtyKyspdC5wdXNoKHtwcmV2Om51bGwsbmV4dDpudWxsLGtleTpudWxsLHZhbHVlOm51bGx9KX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21hcFtlXTtyZXR1cm4gdm9pZCAwIT09dD8odGhpcy5fdW5saW5rTm9kZSh0KSx0aGlzLl9hcHBlbmROb2RlKHQpLHQudmFsdWUpOm51bGx9LGUucHJvdG90eXBlLnBlZWtWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tYXBbZV07cmV0dXJuIHZvaWQgMCE9PXQ/dC52YWx1ZTpudWxsfSxlLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faGVhZDtyZXR1cm4gbnVsbD09PWU/bnVsbDplLnZhbHVlfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tYXBbZV07aWYodm9pZCAwIT09cilyPXRoaXMuX21hcFtlXSx0aGlzLl91bmxpbmtOb2RlKHIpLHIudmFsdWU9dDtlbHNlIGlmKHRoaXMuc2l6ZT49dGhpcy5jYXBhY2l0eSlyPXRoaXMuX2hlYWQsdGhpcy5fdW5saW5rTm9kZShyKSxkZWxldGUgdGhpcy5fbWFwW3Iua2V5XSxyLmtleT1lLHIudmFsdWU9dCx0aGlzLl9tYXBbZV09cjtlbHNle3ZhciBpPXRoaXMuX25vZGVQb29sO2kubGVuZ3RoPjA/KChyPWkucG9wKCkpLmtleT1lLHIudmFsdWU9dCk6cj17cHJldjpudWxsLG5leHQ6bnVsbCxrZXk6ZSx2YWx1ZTp0fSx0aGlzLl9tYXBbZV09cix0aGlzLnNpemUrK310aGlzLl9hcHBlbmROb2RlKHIpfSxlfSgpO3QuTFJVTWFwPXJ9LDEyOTY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19LGE9dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Eb21SZW5kZXJlcj12b2lkIDA7dmFyIGM9cigzNzg3KSxsPXIoODgwMyksaD1yKDg0NCksdT1yKDQ3MjUpLGY9cigyNTg1KSxfPXIoODQ2MCksZD1yKDgwNTUpLHA9cig5NjMxKSx2PVwieHRlcm0tZG9tLXJlbmRlcmVyLW93bmVyLVwiLHk9XCJ4dGVybS1mZy1cIixnPVwieHRlcm0tYmctXCIsbT1cInh0ZXJtLWZvY3VzXCIsYj0xLFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyxhLGwsaCx1KXt2YXIgZj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGYuX2NvbG9ycz10LGYuX2VsZW1lbnQ9cixmLl9zY3JlZW5FbGVtZW50PWksZi5fdmlld3BvcnRFbGVtZW50PW4sZi5fbGlua2lmaWVyPW8sZi5fbGlua2lmaWVyMj1zLGYuX2NoYXJTaXplU2VydmljZT1sLGYuX29wdGlvbnNTZXJ2aWNlPWgsZi5fYnVmZmVyU2VydmljZT11LGYuX3Rlcm1pbmFsQ2xhc3M9YisrLGYuX3Jvd0VsZW1lbnRzPVtdLGYuX3Jvd0NvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGYuX3Jvd0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwieHRlcm0tcm93c1wiKSxmLl9yb3dDb250YWluZXIuc3R5bGUubGluZUhlaWdodD1cIm5vcm1hbFwiLGYuX3Jvd0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxmLl9yZWZyZXNoUm93RWxlbWVudHMoZi5fYnVmZmVyU2VydmljZS5jb2xzLGYuX2J1ZmZlclNlcnZpY2Uucm93cyksZi5fc2VsZWN0aW9uQ29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZi5fc2VsZWN0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1zZWxlY3Rpb25cIiksZi5fc2VsZWN0aW9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGYuZGltZW5zaW9ucz17c2NhbGVkQ2hhcldpZHRoOjAsc2NhbGVkQ2hhckhlaWdodDowLHNjYWxlZENlbGxXaWR0aDowLHNjYWxlZENlbGxIZWlnaHQ6MCxzY2FsZWRDaGFyTGVmdDowLHNjYWxlZENoYXJUb3A6MCxzY2FsZWRDYW52YXNXaWR0aDowLHNjYWxlZENhbnZhc0hlaWdodDowLGNhbnZhc1dpZHRoOjAsY2FudmFzSGVpZ2h0OjAsYWN0dWFsQ2VsbFdpZHRoOjAsYWN0dWFsQ2VsbEhlaWdodDowfSxmLl91cGRhdGVEaW1lbnNpb25zKCksZi5faW5qZWN0Q3NzKCksZi5fcm93RmFjdG9yeT1hLmNyZWF0ZUluc3RhbmNlKGMuRG9tUmVuZGVyZXJSb3dGYWN0b3J5LGRvY3VtZW50LGYuX2NvbG9ycyksZi5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKHYrZi5fdGVybWluYWxDbGFzcyksZi5fc2NyZWVuRWxlbWVudC5hcHBlbmRDaGlsZChmLl9yb3dDb250YWluZXIpLGYuX3NjcmVlbkVsZW1lbnQuYXBwZW5kQ2hpbGQoZi5fc2VsZWN0aW9uQ29udGFpbmVyKSxmLnJlZ2lzdGVyKGYuX2xpbmtpZmllci5vblNob3dMaW5rVW5kZXJsaW5lKChmdW5jdGlvbihlKXtyZXR1cm4gZi5fb25MaW5rSG92ZXIoZSl9KSkpLGYucmVnaXN0ZXIoZi5fbGlua2lmaWVyLm9uSGlkZUxpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkxpbmtMZWF2ZShlKX0pKSksZi5yZWdpc3RlcihmLl9saW5raWZpZXIyLm9uU2hvd0xpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkxpbmtIb3ZlcihlKX0pKSksZi5yZWdpc3RlcihmLl9saW5raWZpZXIyLm9uSGlkZUxpbmtVbmRlcmxpbmUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkxpbmtMZWF2ZShlKX0pKSksZn1yZXR1cm4gbih0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFJlZHJhd1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IF8uRXZlbnRFbWl0dGVyKS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHYrdGhpcy5fdGVybWluYWxDbGFzcyksKDAscC5yZW1vdmVFbGVtZW50RnJvbVBhcmVudCkodGhpcy5fcm93Q29udGFpbmVyLHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lcix0aGlzLl90aGVtZVN0eWxlRWxlbWVudCx0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50KSxlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl91cGRhdGVEaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIGUsdDt0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoPXRoaXMuX2NoYXJTaXplU2VydmljZS53aWR0aCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodD1NYXRoLmNlaWwodGhpcy5fY2hhclNpemVTZXJ2aWNlLmhlaWdodCp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aD10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoK01hdGgucm91bmQodGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5sZXR0ZXJTcGFjaW5nKSx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodD1NYXRoLmZsb29yKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFySGVpZ2h0KnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMubGluZUhlaWdodCksdGhpcy5kaW1lbnNpb25zLnNjYWxlZENoYXJMZWZ0PTAsdGhpcy5kaW1lbnNpb25zLnNjYWxlZENoYXJUb3A9MCx0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzV2lkdGg9dGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aCp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodD10aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbEhlaWdodCp0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MsdGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRoPU1hdGgucm91bmQodGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc1dpZHRoL3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSx0aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0PU1hdGgucm91bmQodGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodC93aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksdGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aD10aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGgvdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQvdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzO3RyeXtmb3IodmFyIHI9YSh0aGlzLl9yb3dFbGVtZW50cyksaT1yLm5leHQoKTshaS5kb25lO2k9ci5uZXh0KCkpe3ZhciBuPWkudmFsdWU7bi5zdHlsZS53aWR0aD10aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGgrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PXRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0K1wicHhcIixuLnN0eWxlLmxpbmVIZWlnaHQ9dGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQrXCJweFwiLG4uc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIn19Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHQ9ci5yZXR1cm4pJiZ0LmNhbGwocil9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXRoaXMuX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnR8fCh0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLl9zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnQpKTt2YXIgbz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1yb3dzIHNwYW4geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGhlaWdodDogMTAwJTsgdmVydGljYWwtYWxpZ246IHRvcDsgd2lkdGg6IFwiK3RoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgrXCJweH1cIjt0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50LnRleHRDb250ZW50PW8sdGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLnN0eWxlLmhlaWdodD10aGlzLl92aWV3cG9ydEVsZW1lbnQuc3R5bGUuaGVpZ2h0LHRoaXMuX3NjcmVlbkVsZW1lbnQuc3R5bGUud2lkdGg9dGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRoK1wicHhcIix0aGlzLl9zY3JlZW5FbGVtZW50LnN0eWxlLmhlaWdodD10aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0K1wicHhcIn0sdC5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9ycz1lLHRoaXMuX2luamVjdENzcygpfSx0LnByb3RvdHlwZS5faW5qZWN0Q3NzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl90aGVtZVN0eWxlRWxlbWVudHx8KHRoaXMuX3RoZW1lU3R5bGVFbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLl9zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3RoZW1lU3R5bGVFbGVtZW50KSk7dmFyIHQ9dGhpcy5fdGVybWluYWxTZWxlY3RvcitcIiAueHRlcm0tcm93cyB7IGNvbG9yOiBcIit0aGlzLl9jb2xvcnMuZm9yZWdyb3VuZC5jc3MrXCI7IGZvbnQtZmFtaWx5OiBcIit0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZvbnRGYW1pbHkrXCI7IGZvbnQtc2l6ZTogXCIrdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250U2l6ZStcInB4O31cIjt0Kz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIHNwYW46bm90KC5cIitjLkJPTERfQ0xBU1MrXCIpIHsgZm9udC13ZWlnaHQ6IFwiK3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udFdlaWdodCtcIjt9XCIrdGhpcy5fdGVybWluYWxTZWxlY3RvcitcIiBzcGFuLlwiK2MuQk9MRF9DTEFTUytcIiB7IGZvbnQtd2VpZ2h0OiBcIit0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmZvbnRXZWlnaHRCb2xkK1wiO31cIit0aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIHNwYW4uXCIrYy5JVEFMSUNfQ0xBU1MrXCIgeyBmb250LXN0eWxlOiBpdGFsaWM7fVwiLHQrPVwiQGtleWZyYW1lcyBibGlua19ib3hfc2hhZG93X1wiK3RoaXMuX3Rlcm1pbmFsQ2xhc3MrXCIgeyA1MCUgeyAgYm94LXNoYWRvdzogbm9uZTsgfX1cIix0Kz1cIkBrZXlmcmFtZXMgYmxpbmtfYmxvY2tfXCIrdGhpcy5fdGVybWluYWxDbGFzcytcIiB7IDAlIHsgIGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5jdXJzb3IuY3NzK1wiOyAgY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5jdXJzb3JBY2NlbnQuY3NzK1wiOyB9IDUwJSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiBcIit0aGlzLl9jb2xvcnMuY3Vyc29yQWNjZW50LmNzcytcIjsgIGNvbG9yOiBcIit0aGlzLl9jb2xvcnMuY3Vyc29yLmNzcytcIjsgfX1cIix0Kz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1yb3dzOm5vdCgueHRlcm0tZm9jdXMpIC5cIitjLkNVUlNPUl9DTEFTUytcIi5cIitjLkNVUlNPUl9TVFlMRV9CTE9DS19DTEFTUytcIiB7IG91dGxpbmU6IDFweCBzb2xpZCBcIit0aGlzLl9jb2xvcnMuY3Vyc29yLmNzcytcIjsgb3V0bGluZS1vZmZzZXQ6IC0xcHg7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MueHRlcm0tZm9jdXMgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX0JMSU5LX0NMQVNTK1wiOm5vdCguXCIrYy5DVVJTT1JfU1RZTEVfQkxPQ0tfQ0xBU1MrXCIpIHsgYW5pbWF0aW9uOiBibGlua19ib3hfc2hhZG93X1wiK3RoaXMuX3Rlcm1pbmFsQ2xhc3MrXCIgMXMgc3RlcC1lbmQgaW5maW5pdGU7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MueHRlcm0tZm9jdXMgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX0JMSU5LX0NMQVNTK1wiLlwiK2MuQ1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTK1wiIHsgYW5pbWF0aW9uOiBibGlua19ibG9ja19cIit0aGlzLl90ZXJtaW5hbENsYXNzK1wiIDFzIHN0ZXAtZW5kIGluZmluaXRlO31cIit0aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1yb3dzLnh0ZXJtLWZvY3VzIC5cIitjLkNVUlNPUl9DTEFTUytcIi5cIitjLkNVUlNPUl9TVFlMRV9CTE9DS19DTEFTUytcIiB7IGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5jdXJzb3IuY3NzK1wiOyBjb2xvcjogXCIrdGhpcy5fY29sb3JzLmN1cnNvckFjY2VudC5jc3MrXCI7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX1NUWUxFX0JBUl9DTEFTUytcIiB7IGJveC1zaGFkb3c6IFwiK3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yV2lkdGgrXCJweCAwIDAgXCIrdGhpcy5fY29sb3JzLmN1cnNvci5jc3MrXCIgaW5zZXQ7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXJvd3MgLlwiK2MuQ1VSU09SX0NMQVNTK1wiLlwiK2MuQ1VSU09SX1NUWUxFX1VOREVSTElORV9DTEFTUytcIiB7IGJveC1zaGFkb3c6IDAgLTFweCAwIFwiK3RoaXMuX2NvbG9ycy5jdXJzb3IuY3NzK1wiIGluc2V0O31cIix0Kz10aGlzLl90ZXJtaW5hbFNlbGVjdG9yK1wiIC54dGVybS1zZWxlY3Rpb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgei1pbmRleDogMTsgcG9pbnRlci1ldmVudHM6IG5vbmU7fVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLnh0ZXJtLXNlbGVjdGlvbiBkaXYgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMuX2NvbG9ycy5zZWxlY3Rpb25PcGFxdWUuY3NzK1wiO31cIix0aGlzLl9jb2xvcnMuYW5zaS5mb3JFYWNoKChmdW5jdGlvbihyLGkpe3QrPWUuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLlwiK3kraStcIiB7IGNvbG9yOiBcIityLmNzcytcIjsgfVwiK2UuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLlwiK2craStcIiB7IGJhY2tncm91bmQtY29sb3I6IFwiK3IuY3NzK1wiOyB9XCJ9KSksdCs9dGhpcy5fdGVybWluYWxTZWxlY3RvcitcIiAuXCIreStsLklOVkVSVEVEX0RFRkFVTFRfQ09MT1IrXCIgeyBjb2xvcjogXCIrZC5jb2xvci5vcGFxdWUodGhpcy5fY29sb3JzLmJhY2tncm91bmQpLmNzcytcIjsgfVwiK3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3IrXCIgLlwiK2crbC5JTlZFUlRFRF9ERUZBVUxUX0NPTE9SK1wiIHsgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzK1wiOyB9XCIsdGhpcy5fdGhlbWVTdHlsZUVsZW1lbnQudGV4dENvbnRlbnQ9dH0sdC5wcm90b3R5cGUub25EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlRGltZW5zaW9ucygpfSx0LnByb3RvdHlwZS5fcmVmcmVzaFJvd0VsZW1lbnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuX3Jvd0VsZW1lbnRzLmxlbmd0aDtyPD10O3IrKyl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLl9yb3dDb250YWluZXIuYXBwZW5kQ2hpbGQoaSksdGhpcy5fcm93RWxlbWVudHMucHVzaChpKX1mb3IoO3RoaXMuX3Jvd0VsZW1lbnRzLmxlbmd0aD50Oyl0aGlzLl9yb3dDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fcm93RWxlbWVudHMucG9wKCkpfSx0LnByb3RvdHlwZS5vblJlc2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMuX3JlZnJlc2hSb3dFbGVtZW50cyhlLHQpLHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKX0sdC5wcm90b3R5cGUub25DaGFyU2l6ZUNoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVEaW1lbnNpb25zKCl9LHQucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuX3Jvd0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKG0pfSx0LnByb3RvdHlwZS5vbkZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5fcm93Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQobSl9LHQucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbihlLHQscil7Zm9yKDt0aGlzLl9zZWxlY3Rpb25Db250YWluZXIuY2hpbGRyZW4ubGVuZ3RoOyl0aGlzLl9zZWxlY3Rpb25Db250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLmNoaWxkcmVuWzBdKTtpZih0aGlzLl9yb3dGYWN0b3J5Lm9uU2VsZWN0aW9uQ2hhbmdlZChlLHQsciksdGhpcy5yZW5kZXJSb3dzKDAsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEpLGUmJnQpe3ZhciBpPWVbMV0tdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3Asbj10WzFdLXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLG89TWF0aC5tYXgoaSwwKSxzPU1hdGgubWluKG4sdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEpO2lmKCEobz49dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzfHxzPDApKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYocil7dmFyIGM9ZVswXT50WzBdO2EuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU2VsZWN0aW9uRWxlbWVudChvLGM/dFswXTplWzBdLGM/ZVswXTp0WzBdLHMtbysxKSl9ZWxzZXt2YXIgbD1pPT09bz9lWzBdOjAsaD1vPT09bj90WzBdOnRoaXMuX2J1ZmZlclNlcnZpY2UuY29sczthLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNlbGVjdGlvbkVsZW1lbnQobyxsLGgpKTt2YXIgdT1zLW8tMTtpZihhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNlbGVjdGlvbkVsZW1lbnQobysxLDAsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHUpKSxvIT09cyl7dmFyIGY9bj09PXM/dFswXTp0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM7YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTZWxlY3Rpb25FbGVtZW50KHMsMCxmKSl9fXRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChhKX19fSx0LnByb3RvdHlwZS5fY3JlYXRlU2VsZWN0aW9uRWxlbWVudD1mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1pJiYoaT0xKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBuLnN0eWxlLmhlaWdodD1pKnRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0K1wicHhcIixuLnN0eWxlLnRvcD1lKnRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0K1wicHhcIixuLnN0eWxlLmxlZnQ9dCp0aGlzLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbFdpZHRoK1wicHhcIixuLnN0eWxlLndpZHRoPXRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgqKHItdCkrXCJweFwiLG59LHQucHJvdG90eXBlLm9uQ3Vyc29yTW92ZT1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUub25PcHRpb25zQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKSx0aGlzLl9pbmplY3RDc3MoKX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZSx0O3RyeXtmb3IodmFyIHI9YSh0aGlzLl9yb3dFbGVtZW50cyksaT1yLm5leHQoKTshaS5kb25lO2k9ci5uZXh0KCkpaS52YWx1ZS5pbm5lclRleHQ9XCJcIn1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1yLnJldHVybikmJnQuY2FsbChyKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19fSx0LnByb3RvdHlwZS5yZW5kZXJSb3dzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnliYXNlK3RoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnksaT1NYXRoLm1pbih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci54LHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scy0xKSxuPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuY3Vyc29yQmxpbmssbz1lO288PXQ7bysrKXt2YXIgcz10aGlzLl9yb3dFbGVtZW50c1tvXTtzLmlubmVyVGV4dD1cIlwiO3ZhciBhPW8rdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWRpc3AsYz10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5nZXQoYSksbD10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmN1cnNvclN0eWxlO3MuYXBwZW5kQ2hpbGQodGhpcy5fcm93RmFjdG9yeS5jcmVhdGVSb3coYyxhLGE9PT1yLGwsaSxuLHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJfdGVybWluYWxTZWxlY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIi5cIit2K3RoaXMuX3Rlcm1pbmFsQ2xhc3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX29uTGlua0hvdmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3NldENlbGxVbmRlcmxpbmUoZS54MSxlLngyLGUueTEsZS55MixlLmNvbHMsITApfSx0LnByb3RvdHlwZS5fb25MaW5rTGVhdmU9ZnVuY3Rpb24oZSl7dGhpcy5fc2V0Q2VsbFVuZGVybGluZShlLngxLGUueDIsZS55MSxlLnkyLGUuY29scywhMSl9LHQucHJvdG90eXBlLl9zZXRDZWxsVW5kZXJsaW5lPWZ1bmN0aW9uKGUsdCxyLGksbixvKXtmb3IoO2UhPT10fHxyIT09aTspe3ZhciBzPXRoaXMuX3Jvd0VsZW1lbnRzW3JdO2lmKCFzKXJldHVybjt2YXIgYT1zLmNoaWxkcmVuW2VdO2EmJihhLnN0eWxlLnRleHREZWNvcmF0aW9uPW8/XCJ1bmRlcmxpbmVcIjpcIm5vbmVcIiksKytlPj1uJiYoZT0wLHIrKyl9fSxvKFtzKDYsZi5JSW5zdGFudGlhdGlvblNlcnZpY2UpLHMoNyx1LklDaGFyU2l6ZVNlcnZpY2UpLHMoOCxmLklPcHRpb25zU2VydmljZSkscyg5LGYuSUJ1ZmZlclNlcnZpY2UpXSx0KX0oaC5EaXNwb3NhYmxlKTt0LkRvbVJlbmRlcmVyPVN9LDM3ODc6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LG49dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX0sbz10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRvbVJlbmRlcmVyUm93RmFjdG9yeT10LkNVUlNPUl9TVFlMRV9VTkRFUkxJTkVfQ0xBU1M9dC5DVVJTT1JfU1RZTEVfQkFSX0NMQVNTPXQuQ1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTPXQuQ1VSU09SX0JMSU5LX0NMQVNTPXQuQ1VSU09SX0NMQVNTPXQuU1RSSUtFVEhST1VHSF9DTEFTUz10LlVOREVSTElORV9DTEFTUz10LklUQUxJQ19DTEFTUz10LkRJTV9DTEFTUz10LkJPTERfQ0xBU1M9dm9pZCAwO3ZhciBzPXIoODgwMyksYT1yKDY0MyksYz1yKDUxMSksbD1yKDI1ODUpLGg9cig4MDU1KSx1PXIoNDcyNSksZj1yKDQyNjkpLF89cigxNzUyKTt0LkJPTERfQ0xBU1M9XCJ4dGVybS1ib2xkXCIsdC5ESU1fQ0xBU1M9XCJ4dGVybS1kaW1cIix0LklUQUxJQ19DTEFTUz1cInh0ZXJtLWl0YWxpY1wiLHQuVU5ERVJMSU5FX0NMQVNTPVwieHRlcm0tdW5kZXJsaW5lXCIsdC5TVFJJS0VUSFJPVUdIX0NMQVNTPVwieHRlcm0tc3RyaWtldGhyb3VnaFwiLHQuQ1VSU09SX0NMQVNTPVwieHRlcm0tY3Vyc29yXCIsdC5DVVJTT1JfQkxJTktfQ0xBU1M9XCJ4dGVybS1jdXJzb3ItYmxpbmtcIix0LkNVUlNPUl9TVFlMRV9CTE9DS19DTEFTUz1cInh0ZXJtLWN1cnNvci1ibG9ja1wiLHQuQ1VSU09SX1NUWUxFX0JBUl9DTEFTUz1cInh0ZXJtLWN1cnNvci1iYXJcIix0LkNVUlNPUl9TVFlMRV9VTkRFUkxJTkVfQ0xBU1M9XCJ4dGVybS1jdXJzb3ItdW5kZXJsaW5lXCI7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvKXt0aGlzLl9kb2N1bWVudD1lLHRoaXMuX2NvbG9ycz10LHRoaXMuX2NoYXJhY3RlckpvaW5lclNlcnZpY2U9cix0aGlzLl9vcHRpb25zU2VydmljZT1pLHRoaXMuX2NvcmVTZXJ2aWNlPW4sdGhpcy5fZGVjb3JhdGlvblNlcnZpY2U9byx0aGlzLl93b3JrQ2VsbD1uZXcgYy5DZWxsRGF0YSx0aGlzLl9jb2x1bW5TZWxlY3RNb2RlPSExfXJldHVybiBlLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JzPWV9LGUucHJvdG90eXBlLm9uU2VsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbihlLHQscil7dGhpcy5fc2VsZWN0aW9uU3RhcnQ9ZSx0aGlzLl9zZWxlY3Rpb25FbmQ9dCx0aGlzLl9jb2x1bW5TZWxlY3RNb2RlPXJ9LGUucHJvdG90eXBlLmNyZWF0ZVJvdz1mdW5jdGlvbihlLHIsaSxuLGMsbCx1LF8pe2Zvcih2YXIgZCx2LHk9dGhpcy5fZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGc9dGhpcy5fY2hhcmFjdGVySm9pbmVyU2VydmljZS5nZXRKb2luZWRDaGFyYWN0ZXJzKHIpLG09MCxiPU1hdGgubWluKGUubGVuZ3RoLF8pLTE7Yj49MDtiLS0paWYoZS5sb2FkQ2VsbChiLHRoaXMuX3dvcmtDZWxsKS5nZXRDb2RlKCkhPT1hLk5VTExfQ0VMTF9DT0RFfHxpJiZiPT09Yyl7bT1iKzE7YnJlYWt9Zm9yKGI9MDtiPG07YisrKXtlLmxvYWRDZWxsKGIsdGhpcy5fd29ya0NlbGwpO3ZhciBTPXRoaXMuX3dvcmtDZWxsLmdldFdpZHRoKCk7aWYoMCE9PVMpe3ZhciBDPSExLHc9YixMPXRoaXMuX3dvcmtDZWxsO2lmKGcubGVuZ3RoPjAmJmI9PT1nWzBdWzBdKXtDPSEwO3ZhciBFPWcuc2hpZnQoKTtMPW5ldyBmLkpvaW5lZENlbGxEYXRhKHRoaXMuX3dvcmtDZWxsLGUudHJhbnNsYXRlVG9TdHJpbmcoITAsRVswXSxFWzFdKSxFWzFdLUVbMF0pLHc9RVsxXS0xLFM9TC5nZXRXaWR0aCgpfXZhciB4PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2lmKFM+MSYmKHguc3R5bGUud2lkdGg9dSpTK1wicHhcIiksQyYmKHguc3R5bGUuZGlzcGxheT1cImlubGluZVwiLGM+PWImJmM8PXcmJihjPWIpKSwhdGhpcy5fY29yZVNlcnZpY2UuaXNDdXJzb3JIaWRkZW4mJmkmJmI9PT1jKXN3aXRjaCh4LmNsYXNzTGlzdC5hZGQodC5DVVJTT1JfQ0xBU1MpLGwmJnguY2xhc3NMaXN0LmFkZCh0LkNVUlNPUl9CTElOS19DTEFTUyksbil7Y2FzZVwiYmFyXCI6eC5jbGFzc0xpc3QuYWRkKHQuQ1VSU09SX1NUWUxFX0JBUl9DTEFTUyk7YnJlYWs7Y2FzZVwidW5kZXJsaW5lXCI6eC5jbGFzc0xpc3QuYWRkKHQuQ1VSU09SX1NUWUxFX1VOREVSTElORV9DTEFTUyk7YnJlYWs7ZGVmYXVsdDp4LmNsYXNzTGlzdC5hZGQodC5DVVJTT1JfU1RZTEVfQkxPQ0tfQ0xBU1MpfUwuaXNCb2xkKCkmJnguY2xhc3NMaXN0LmFkZCh0LkJPTERfQ0xBU1MpLEwuaXNJdGFsaWMoKSYmeC5jbGFzc0xpc3QuYWRkKHQuSVRBTElDX0NMQVNTKSxMLmlzRGltKCkmJnguY2xhc3NMaXN0LmFkZCh0LkRJTV9DTEFTUyksTC5pc1VuZGVybGluZSgpJiZ4LmNsYXNzTGlzdC5hZGQodC5VTkRFUkxJTkVfQ0xBU1MpLEwuaXNJbnZpc2libGUoKT94LnRleHRDb250ZW50PWEuV0hJVEVTUEFDRV9DRUxMX0NIQVI6eC50ZXh0Q29udGVudD1MLmdldENoYXJzKCl8fGEuV0hJVEVTUEFDRV9DRUxMX0NIQVIsTC5pc1N0cmlrZXRocm91Z2goKSYmeC5jbGFzc0xpc3QuYWRkKHQuU1RSSUtFVEhST1VHSF9DTEFTUyk7dmFyIFI9TC5nZXRGZ0NvbG9yKCksaz1MLmdldEZnQ29sb3JNb2RlKCksTT1MLmdldEJnQ29sb3IoKSxBPUwuZ2V0QmdDb2xvck1vZGUoKSxPPSEhTC5pc0ludmVyc2UoKTtpZihPKXt2YXIgRD1SO1I9TSxNPUQ7dmFyIFQ9aztrPUEsQT1UfXZhciBCPXZvaWQgMCxQPXZvaWQgMCxJPSExO3RyeXtmb3IodmFyIEg9KGQ9dm9pZCAwLG8odGhpcy5fZGVjb3JhdGlvblNlcnZpY2UuZ2V0RGVjb3JhdGlvbnNBdENlbGwoYixyKSkpLGo9SC5uZXh0KCk7IWouZG9uZTtqPUgubmV4dCgpKXt2YXIgRj1qLnZhbHVlO1widG9wXCIhPT1GLm9wdGlvbnMubGF5ZXImJkl8fChGLmJhY2tncm91bmRDb2xvclJHQiYmKEE9NTAzMzE2NDgsTT1GLmJhY2tncm91bmRDb2xvclJHQi5yZ2JhPj44JjE2Nzc3MjE1LEI9Ri5iYWNrZ3JvdW5kQ29sb3JSR0IpLEYuZm9yZWdyb3VuZENvbG9yUkdCJiYoaz01MDMzMTY0OCxSPUYuZm9yZWdyb3VuZENvbG9yUkdCLnJnYmE+PjgmMTY3NzcyMTUsUD1GLmZvcmVncm91bmRDb2xvclJHQiksST1cInRvcFwiPT09Ri5vcHRpb25zLmxheWVyKX19Y2F0Y2goZSl7ZD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aiYmIWouZG9uZSYmKHY9SC5yZXR1cm4pJiZ2LmNhbGwoSCl9ZmluYWxseXtpZihkKXRocm93IGQuZXJyb3J9fXZhciBXPXRoaXMuX2lzQ2VsbEluU2VsZWN0aW9uKGIscik7SXx8dGhpcy5fY29sb3JzLnNlbGVjdGlvbkZvcmVncm91bmQmJlcmJihrPTUwMzMxNjQ4LFI9dGhpcy5fY29sb3JzLnNlbGVjdGlvbkZvcmVncm91bmQucmdiYT4+OCYxNjc3NzIxNSxQPXRoaXMuX2NvbG9ycy5zZWxlY3Rpb25Gb3JlZ3JvdW5kKSxXJiYoQj10aGlzLl9jb2xvcnMuc2VsZWN0aW9uT3BhcXVlLEk9ITApLEkmJnguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWRlY29yYXRpb24tdG9wXCIpO3ZhciBVPXZvaWQgMDtzd2l0Y2goQSl7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOlU9dGhpcy5fY29sb3JzLmFuc2lbTV0seC5jbGFzc0xpc3QuYWRkKFwieHRlcm0tYmctXCIrTSk7YnJlYWs7Y2FzZSA1MDMzMTY0ODpVPWgucmdiYS50b0NvbG9yKE0+PjE2LE0+PjgmMjU1LDI1NSZNKSx0aGlzLl9hZGRTdHlsZSh4LFwiYmFja2dyb3VuZC1jb2xvcjojXCIrcCgoTT4+PjApLnRvU3RyaW5nKDE2KSxcIjBcIiw2KSk7YnJlYWs7ZGVmYXVsdDpPPyhVPXRoaXMuX2NvbG9ycy5mb3JlZ3JvdW5kLHguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWJnLVwiK3MuSU5WRVJURURfREVGQVVMVF9DT0xPUikpOlU9dGhpcy5fY29sb3JzLmJhY2tncm91bmR9c3dpdGNoKGspe2Nhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpMLmlzQm9sZCgpJiZSPDgmJnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMmJihSKz04KSx0aGlzLl9hcHBseU1pbmltdW1Db250cmFzdCh4LFUsdGhpcy5fY29sb3JzLmFuc2lbUl0sTCxCLHZvaWQgMCl8fHguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWZnLVwiK1IpO2JyZWFrO2Nhc2UgNTAzMzE2NDg6dmFyIHE9aC5yZ2JhLnRvQ29sb3IoUj4+MTYmMjU1LFI+PjgmMjU1LDI1NSZSKTt0aGlzLl9hcHBseU1pbmltdW1Db250cmFzdCh4LFUscSxMLEIsUCl8fHRoaXMuX2FkZFN0eWxlKHgsXCJjb2xvcjojXCIrcChSLnRvU3RyaW5nKDE2KSxcIjBcIiw2KSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9hcHBseU1pbmltdW1Db250cmFzdCh4LFUsdGhpcy5fY29sb3JzLmZvcmVncm91bmQsTCxCLHZvaWQgMCl8fE8mJnguY2xhc3NMaXN0LmFkZChcInh0ZXJtLWZnLVwiK3MuSU5WRVJURURfREVGQVVMVF9DT0xPUil9eS5hcHBlbmRDaGlsZCh4KSxiPXd9fXJldHVybiB5fSxlLnByb3RvdHlwZS5fYXBwbHlNaW5pbXVtQ29udHJhc3Q9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe2lmKDE9PT10aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLm1pbmltdW1Db250cmFzdFJhdGlvfHwoMCxfLmV4Y2x1ZGVGcm9tQ29udHJhc3RSYXRpb0RlbWFuZHMpKGkuZ2V0Q29kZSgpKSlyZXR1cm4hMTt2YXIgcz12b2lkIDA7cmV0dXJuIG58fG98fChzPXRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLmdldENvbG9yKHQucmdiYSxyLnJnYmEpKSx2b2lkIDA9PT1zJiYocz1oLmNvbG9yLmVuc3VyZUNvbnRyYXN0UmF0aW8obnx8dCxvfHxyLHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMubWluaW11bUNvbnRyYXN0UmF0aW8pLHRoaXMuX2NvbG9ycy5jb250cmFzdENhY2hlLnNldENvbG9yKChufHx0KS5yZ2JhLChvfHxyKS5yZ2JhLG51bGwhPXM/czpudWxsKSksISFzJiYodGhpcy5fYWRkU3R5bGUoZSxcImNvbG9yOlwiK3MuY3NzKSwhMCl9LGUucHJvdG90eXBlLl9hZGRTdHlsZT1mdW5jdGlvbihlLHQpe2Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIlwiKyhlLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKSt0K1wiO1wiKX0sZS5wcm90b3R5cGUuX2lzQ2VsbEluU2VsZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fc2VsZWN0aW9uU3RhcnQsaT10aGlzLl9zZWxlY3Rpb25FbmQ7cmV0dXJuISghcnx8IWkpJiYodGhpcy5fY29sdW1uU2VsZWN0TW9kZT9yWzBdPD1pWzBdP2U+PXJbMF0mJnQ+PXJbMV0mJmU8aVswXSYmdDw9aVsxXTplPHJbMF0mJnQ+PXJbMV0mJmU+PWlbMF0mJnQ8PWlbMV06dD5yWzFdJiZ0PGlbMV18fHJbMV09PT1pWzFdJiZ0PT09clsxXSYmZT49clswXSYmZTxpWzBdfHxyWzFdPGlbMV0mJnQ9PT1pWzFdJiZlPGlbMF18fHJbMV08aVsxXSYmdD09PXJbMV0mJmU+PXJbMF0pfSxpKFtuKDIsdS5JQ2hhcmFjdGVySm9pbmVyU2VydmljZSksbigzLGwuSU9wdGlvbnNTZXJ2aWNlKSxuKDQsbC5JQ29yZVNlcnZpY2UpLG4oNSxsLklEZWNvcmF0aW9uU2VydmljZSldLGUpfSgpO2Z1bmN0aW9uIHAoZSx0LHIpe2Zvcig7ZS5sZW5ndGg8cjspZT10K2U7cmV0dXJuIGV9dC5Eb21SZW5kZXJlclJvd0ZhY3Rvcnk9ZH0sNDU2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TZWxlY3Rpb25Nb2RlbD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLmlzU2VsZWN0QWxsQWN0aXZlPSExLHRoaXMuc2VsZWN0aW9uU3RhcnRMZW5ndGg9MH1yZXR1cm4gZS5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvblN0YXJ0PXZvaWQgMCx0aGlzLnNlbGVjdGlvbkVuZD12b2lkIDAsdGhpcy5pc1NlbGVjdEFsbEFjdGl2ZT0hMSx0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoPTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZpbmFsU2VsZWN0aW9uU3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNTZWxlY3RBbGxBY3RpdmU/WzAsMF06dGhpcy5zZWxlY3Rpb25FbmQmJnRoaXMuc2VsZWN0aW9uU3RhcnQmJnRoaXMuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKT90aGlzLnNlbGVjdGlvbkVuZDp0aGlzLnNlbGVjdGlvblN0YXJ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZpbmFsU2VsZWN0aW9uRW5kXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzU2VsZWN0QWxsQWN0aXZlP1t0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIueWJhc2UrdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTFdOnRoaXMuc2VsZWN0aW9uU3RhcnQ/IXRoaXMuc2VsZWN0aW9uRW5kfHx0aGlzLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkKCk/KGU9dGhpcy5zZWxlY3Rpb25TdGFydFswXSt0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoKT50aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM/ZSV0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM9PTA/W3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLnNlbGVjdGlvblN0YXJ0WzFdK01hdGguZmxvb3IoZS90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpLTFdOltlJXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLnNlbGVjdGlvblN0YXJ0WzFdK01hdGguZmxvb3IoZS90aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpXTpbZSx0aGlzLnNlbGVjdGlvblN0YXJ0WzFdXTp0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoJiZ0aGlzLnNlbGVjdGlvbkVuZFsxXT09PXRoaXMuc2VsZWN0aW9uU3RhcnRbMV0/KGU9dGhpcy5zZWxlY3Rpb25TdGFydFswXSt0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoKT50aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM/W2UldGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0rTWF0aC5mbG9vcihlL3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scyldOltNYXRoLm1heChlLHRoaXMuc2VsZWN0aW9uRW5kWzBdKSx0aGlzLnNlbGVjdGlvbkVuZFsxXV06dGhpcy5zZWxlY3Rpb25FbmQ6dm9pZCAwO3ZhciBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3Rpb25TdGFydCx0PXRoaXMuc2VsZWN0aW9uRW5kO3JldHVybiEoIWV8fCF0KSYmKGVbMV0+dFsxXXx8ZVsxXT09PXRbMV0mJmVbMF0+dFswXSl9LGUucHJvdG90eXBlLm9uVHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25TdGFydCYmKHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0tPWUpLHRoaXMuc2VsZWN0aW9uRW5kJiYodGhpcy5zZWxlY3Rpb25FbmRbMV0tPWUpLHRoaXMuc2VsZWN0aW9uRW5kJiZ0aGlzLnNlbGVjdGlvbkVuZFsxXTwwPyh0aGlzLmNsZWFyU2VsZWN0aW9uKCksITApOih0aGlzLnNlbGVjdGlvblN0YXJ0JiZ0aGlzLnNlbGVjdGlvblN0YXJ0WzFdPDAmJih0aGlzLnNlbGVjdGlvblN0YXJ0WzFdPTApLCExKX0sZX0oKTt0LlNlbGVjdGlvbk1vZGVsPXJ9LDQyODpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNoYXJTaXplU2VydmljZT12b2lkIDA7dmFyIG89cigyNTg1KSxzPXIoODQ2MCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuX29wdGlvbnNTZXJ2aWNlPXIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fb25DaGFyU2l6ZUNoYW5nZT1uZXcgcy5FdmVudEVtaXR0ZXIsdGhpcy5fbWVhc3VyZVN0cmF0ZWd5PW5ldyBjKGUsdCx0aGlzLl9vcHRpb25zU2VydmljZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhc1ZhbGlkU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aD4wJiZ0aGlzLmhlaWdodD4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ2hhclNpemVDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQ2hhclNpemVDaGFuZ2UuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lYXN1cmVTdHJhdGVneS5tZWFzdXJlKCk7ZS53aWR0aD09PXRoaXMud2lkdGgmJmUuaGVpZ2h0PT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5fb25DaGFyU2l6ZUNoYW5nZS5maXJlKCkpfSxpKFtuKDIsby5JT3B0aW9uc1NlcnZpY2UpXSxlKX0oKTt0LkNoYXJTaXplU2VydmljZT1hO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5fZG9jdW1lbnQ9ZSx0aGlzLl9wYXJlbnRFbGVtZW50PXQsdGhpcy5fb3B0aW9uc1NlcnZpY2U9cix0aGlzLl9yZXN1bHQ9e3dpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuX21lYXN1cmVFbGVtZW50PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMuX21lYXN1cmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ4dGVybS1jaGFyLW1lYXN1cmUtZWxlbWVudFwiKSx0aGlzLl9tZWFzdXJlRWxlbWVudC50ZXh0Q29udGVudD1cIldcIix0aGlzLl9tZWFzdXJlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX21lYXN1cmVFbGVtZW50KX1yZXR1cm4gZS5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbigpe3RoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnRGYW1pbHk9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5mb250RmFtaWx5LHRoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnRTaXplPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZm9udFNpemUrXCJweFwiO3ZhciBlPXRoaXMuX21lYXN1cmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiAwIT09ZS53aWR0aCYmMCE9PWUuaGVpZ2h0JiYodGhpcy5fcmVzdWx0LndpZHRoPWUud2lkdGgsdGhpcy5fcmVzdWx0LmhlaWdodD1NYXRoLmNlaWwoZS5oZWlnaHQpKSx0aGlzLl9yZXN1bHR9LGV9KCl9LDQyNjk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhcmFjdGVySm9pbmVyU2VydmljZT10LkpvaW5lZENlbGxEYXRhPXZvaWQgMDt2YXIgYT1yKDM3MzQpLGM9cig2NDMpLGw9cig1MTEpLGg9cigyNTg1KSx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGkpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5jb250ZW50PTAsbi5jb21iaW5lZERhdGE9XCJcIixuLmZnPXQuZmcsbi5iZz10LmJnLG4uY29tYmluZWREYXRhPXIsbi5fd2lkdGg9aSxufXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUuaXNDb21iaW5lZD1mdW5jdGlvbigpe3JldHVybiAyMDk3MTUyfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sdC5wcm90b3R5cGUuZ2V0Q2hhcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21iaW5lZERhdGF9LHQucHJvdG90eXBlLmdldENvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gMjA5NzE1MX0sdC5wcm90b3R5cGUuc2V0RnJvbUNoYXJEYXRhPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX0sdC5wcm90b3R5cGUuZ2V0QXNDaGFyRGF0YT1mdW5jdGlvbigpe3JldHVyblt0aGlzLmZnLHRoaXMuZ2V0Q2hhcnMoKSx0aGlzLmdldFdpZHRoKCksdGhpcy5nZXRDb2RlKCldfSx0fShhLkF0dHJpYnV0ZURhdGEpO3QuSm9pbmVkQ2VsbERhdGE9dTt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fYnVmZmVyU2VydmljZT1lLHRoaXMuX2NoYXJhY3RlckpvaW5lcnM9W10sdGhpcy5fbmV4dENoYXJhY3RlckpvaW5lcklkPTAsdGhpcy5fd29ya0NlbGw9bmV3IGwuQ2VsbERhdGF9cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXtpZDp0aGlzLl9uZXh0Q2hhcmFjdGVySm9pbmVySWQrKyxoYW5kbGVyOmV9O3JldHVybiB0aGlzLl9jaGFyYWN0ZXJKb2luZXJzLnB1c2godCksdC5pZH0sZS5wcm90b3R5cGUuZGVyZWdpc3Rlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuX2NoYXJhY3RlckpvaW5lcnMubGVuZ3RoO3QrKylpZih0aGlzLl9jaGFyYWN0ZXJKb2luZXJzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5fY2hhcmFjdGVySm9pbmVycy5zcGxpY2UodCwxKSwhMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0Sm9pbmVkQ2hhcmFjdGVycz1mdW5jdGlvbihlKXtpZigwPT09dGhpcy5fY2hhcmFjdGVySm9pbmVycy5sZW5ndGgpcmV0dXJuW107dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIubGluZXMuZ2V0KGUpO2lmKCF0fHwwPT09dC5sZW5ndGgpcmV0dXJuW107Zm9yKHZhciByPVtdLGk9dC50cmFuc2xhdGVUb1N0cmluZyghMCksbj0wLG89MCxzPTAsYT10LmdldEZnKDApLGw9dC5nZXRCZygwKSxoPTA7aDx0LmdldFRyaW1tZWRMZW5ndGgoKTtoKyspaWYodC5sb2FkQ2VsbChoLHRoaXMuX3dvcmtDZWxsKSwwIT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKSl7aWYodGhpcy5fd29ya0NlbGwuZmchPT1hfHx0aGlzLl93b3JrQ2VsbC5iZyE9PWwpe2lmKGgtbj4xKWZvcih2YXIgdT10aGlzLl9nZXRKb2luZWRSYW5nZXMoaSxzLG8sdCxuKSxmPTA7Zjx1Lmxlbmd0aDtmKyspci5wdXNoKHVbZl0pO249aCxzPW8sYT10aGlzLl93b3JrQ2VsbC5mZyxsPXRoaXMuX3dvcmtDZWxsLmJnfW8rPXRoaXMuX3dvcmtDZWxsLmdldENoYXJzKCkubGVuZ3RofHxjLldISVRFU1BBQ0VfQ0VMTF9DSEFSLmxlbmd0aH1pZih0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtbj4xKWZvcih1PXRoaXMuX2dldEpvaW5lZFJhbmdlcyhpLHMsbyx0LG4pLGY9MDtmPHUubGVuZ3RoO2YrKylyLnB1c2godVtmXSk7cmV0dXJuIHJ9LGUucHJvdG90eXBlLl9nZXRKb2luZWRSYW5nZXM9ZnVuY3Rpb24odCxyLGksbixvKXt2YXIgcz10LnN1YnN0cmluZyhyLGkpLGE9W107dHJ5e2E9dGhpcy5fY2hhcmFjdGVySm9pbmVyc1swXS5oYW5kbGVyKHMpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9Zm9yKHZhciBjPTE7Yzx0aGlzLl9jaGFyYWN0ZXJKb2luZXJzLmxlbmd0aDtjKyspdHJ5e2Zvcih2YXIgbD10aGlzLl9jaGFyYWN0ZXJKb2luZXJzW2NdLmhhbmRsZXIocyksaD0wO2g8bC5sZW5ndGg7aCsrKWUuX21lcmdlUmFuZ2VzKGEsbFtoXSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX1yZXR1cm4gdGhpcy5fc3RyaW5nUmFuZ2VzVG9DZWxsUmFuZ2VzKGEsbixvKSxhfSxlLnByb3RvdHlwZS5fc3RyaW5nUmFuZ2VzVG9DZWxsUmFuZ2VzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT0wLG49ITEsbz0wLHM9ZVtpXTtpZihzKXtmb3IodmFyIGE9cjthPHRoaXMuX2J1ZmZlclNlcnZpY2UuY29sczthKyspe3ZhciBsPXQuZ2V0V2lkdGgoYSksaD10LmdldFN0cmluZyhhKS5sZW5ndGh8fGMuV0hJVEVTUEFDRV9DRUxMX0NIQVIubGVuZ3RoO2lmKDAhPT1sKXtpZighbiYmc1swXTw9byYmKHNbMF09YSxuPSEwKSxzWzFdPD1vKXtpZihzWzFdPWEsIShzPWVbKytpXSkpYnJlYWs7c1swXTw9bz8oc1swXT1hLG49ITApOm49ITF9bys9aH19cyYmKHNbMV09dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKX19LGUuX21lcmdlUmFuZ2VzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPSExLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTtpZihyKXtpZih0WzFdPD1uWzBdKXJldHVybiBlW2ktMV1bMV09dFsxXSxlO2lmKHRbMV08PW5bMV0pcmV0dXJuIGVbaS0xXVsxXT1NYXRoLm1heCh0WzFdLG5bMV0pLGUuc3BsaWNlKGksMSksZTtlLnNwbGljZShpLDEpLGktLX1lbHNle2lmKHRbMV08PW5bMF0pcmV0dXJuIGUuc3BsaWNlKGksMCx0KSxlO2lmKHRbMV08PW5bMV0pcmV0dXJuIG5bMF09TWF0aC5taW4odFswXSxuWzBdKSxlO3RbMF08blsxXSYmKG5bMF09TWF0aC5taW4odFswXSxuWzBdKSxyPSEwKX19cmV0dXJuIHI/ZVtlLmxlbmd0aC0xXVsxXT10WzFdOmUucHVzaCh0KSxlfSxlPW8oW3MoMCxoLklCdWZmZXJTZXJ2aWNlKV0sZSl9KCk7dC5DaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPWZ9LDUxMTQ6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNvcmVCcm93c2VyU2VydmljZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3RleHRhcmVhPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzRm9jdXNlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fdGV4dGFyZWEuZ2V0Um9vdE5vZGU/dGhpcy5fdGV4dGFyZWEuZ2V0Um9vdE5vZGUoKTpkb2N1bWVudCkuYWN0aXZlRWxlbWVudD09PXRoaXMuX3RleHRhcmVhJiZkb2N1bWVudC5oYXNGb2N1cygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KCk7dC5Db3JlQnJvd3NlclNlcnZpY2U9cn0sODkzNDpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1vdXNlU2VydmljZT12b2lkIDA7dmFyIG89cig0NzI1KSxzPXIoOTgwNiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9yZW5kZXJTZXJ2aWNlPWUsdGhpcy5fY2hhclNpemVTZXJ2aWNlPXR9cmV0dXJuIGUucHJvdG90eXBlLmdldENvb3Jkcz1mdW5jdGlvbihlLHQscixpLG4pe3JldHVybigwLHMuZ2V0Q29vcmRzKSh3aW5kb3csZSx0LHIsaSx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UuaGFzVmFsaWRTaXplLHRoaXMuX3JlbmRlclNlcnZpY2UuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGgsdGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQsbil9LGUucHJvdG90eXBlLmdldFJhd0J5dGVDb29yZHM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcy5nZXRDb29yZHMoZSx0LHIsaSk7cmV0dXJuKDAscy5nZXRSYXdCeXRlQ29vcmRzKShuKX0saShbbigwLG8uSVJlbmRlclNlcnZpY2UpLG4oMSxvLklDaGFyU2l6ZVNlcnZpY2UpXSxlKX0oKTt0Lk1vdXNlU2VydmljZT1hfSwzMjMwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlJlbmRlclNlcnZpY2U9dm9pZCAwO3ZhciBhPXIoNjE5MyksYz1yKDg0NjApLGw9cig4NDQpLGg9cig1NTk2KSx1PXIoMzY1NiksZj1yKDI1ODUpLF89cig0NzI1KSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLHMsbCl7dmFyIGY9ZS5jYWxsKHRoaXMpfHx0aGlzO2lmKGYuX3JlbmRlcmVyPXQsZi5fcm93Q291bnQ9cixmLl9jaGFyU2l6ZVNlcnZpY2U9byxmLl9pc1BhdXNlZD0hMSxmLl9uZWVkc0Z1bGxSZWZyZXNoPSExLGYuX2lzTmV4dFJlbmRlclJlZHJhd09ubHk9ITAsZi5fbmVlZHNTZWxlY3Rpb25SZWZyZXNoPSExLGYuX2NhbnZhc1dpZHRoPTAsZi5fY2FudmFzSGVpZ2h0PTAsZi5fc2VsZWN0aW9uU3RhdGU9e3N0YXJ0OnZvaWQgMCxlbmQ6dm9pZCAwLGNvbHVtblNlbGVjdE1vZGU6ITF9LGYuX29uRGltZW5zaW9uc0NoYW5nZT1uZXcgYy5FdmVudEVtaXR0ZXIsZi5fb25SZW5kZXJlZFZpZXdwb3J0Q2hhbmdlPW5ldyBjLkV2ZW50RW1pdHRlcixmLl9vblJlbmRlcj1uZXcgYy5FdmVudEVtaXR0ZXIsZi5fb25SZWZyZXNoUmVxdWVzdD1uZXcgYy5FdmVudEVtaXR0ZXIsZi5yZWdpc3Rlcih7ZGlzcG9zZTpmdW5jdGlvbigpe3JldHVybiBmLl9yZW5kZXJlci5kaXNwb3NlKCl9fSksZi5fcmVuZGVyRGVib3VuY2VyPW5ldyBhLlJlbmRlckRlYm91bmNlcigoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5fcmVuZGVyUm93cyhlLHQpfSkpLGYucmVnaXN0ZXIoZi5fcmVuZGVyRGVib3VuY2VyKSxmLl9zY3JlZW5EcHJNb25pdG9yPW5ldyBoLlNjcmVlbkRwck1vbml0b3IsZi5fc2NyZWVuRHByTW9uaXRvci5zZXRMaXN0ZW5lcigoZnVuY3Rpb24oKXtyZXR1cm4gZi5vbkRldmljZVBpeGVsUmF0aW9DaGFuZ2UoKX0pKSxmLnJlZ2lzdGVyKGYuX3NjcmVlbkRwck1vbml0b3IpLGYucmVnaXN0ZXIobC5vblJlc2l6ZSgoZnVuY3Rpb24oKXtyZXR1cm4gZi5fZnVsbFJlZnJlc2goKX0pKSksZi5yZWdpc3RlcihsLmJ1ZmZlcnMub25CdWZmZXJBY3RpdmF0ZSgoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPWYuX3JlbmRlcmVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jbGVhcigpfSkpKSxmLnJlZ2lzdGVyKG4ub25PcHRpb25DaGFuZ2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGYuX2hhbmRsZU9wdGlvbnNDaGFuZ2VkKCl9KSkpLGYucmVnaXN0ZXIoZi5fY2hhclNpemVTZXJ2aWNlLm9uQ2hhclNpemVDaGFuZ2UoKGZ1bmN0aW9uKCl7cmV0dXJuIGYub25DaGFyU2l6ZUNoYW5nZWQoKX0pKSksZi5yZWdpc3RlcihzLm9uRGVjb3JhdGlvblJlZ2lzdGVyZWQoKGZ1bmN0aW9uKCl7cmV0dXJuIGYuX2Z1bGxSZWZyZXNoKCl9KSkpLGYucmVnaXN0ZXIocy5vbkRlY29yYXRpb25SZW1vdmVkKChmdW5jdGlvbigpe3JldHVybiBmLl9mdWxsUmVmcmVzaCgpfSkpKSxmLl9yZW5kZXJlci5vblJlcXVlc3RSZWRyYXcoKGZ1bmN0aW9uKGUpe3JldHVybiBmLnJlZnJlc2hSb3dzKGUuc3RhcnQsZS5lbmQsITApfSkpLGYucmVnaXN0ZXIoKDAsdS5hZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIpKHdpbmRvdyxcInJlc2l6ZVwiLChmdW5jdGlvbigpe3JldHVybiBmLm9uRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZSgpfSkpKSxcIkludGVyc2VjdGlvbk9ic2VydmVyXCJpbiB3aW5kb3cpe3ZhciBfPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYuX29uSW50ZXJzZWN0aW9uQ2hhbmdlKGVbZS5sZW5ndGgtMV0pfSkse3RocmVzaG9sZDowfSk7Xy5vYnNlcnZlKGkpLGYucmVnaXN0ZXIoe2Rpc3Bvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gXy5kaXNjb25uZWN0KCl9fSl9cmV0dXJuIGZ9cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkRpbWVuc2lvbnNDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRGltZW5zaW9uc0NoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlbmRlcmVkVmlld3BvcnRDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVuZGVyZWRWaWV3cG9ydENoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlbmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZW5kZXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZWZyZXNoUmVxdWVzdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZWZyZXNoUmVxdWVzdC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkaW1lbnNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlci5kaW1lbnNpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9vbkludGVyc2VjdGlvbkNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9pc1BhdXNlZD12b2lkIDA9PT1lLmlzSW50ZXJzZWN0aW5nPzA9PT1lLmludGVyc2VjdGlvblJhdGlvOiFlLmlzSW50ZXJzZWN0aW5nLHRoaXMuX2lzUGF1c2VkfHx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UuaGFzVmFsaWRTaXplfHx0aGlzLl9jaGFyU2l6ZVNlcnZpY2UubWVhc3VyZSgpLCF0aGlzLl9pc1BhdXNlZCYmdGhpcy5fbmVlZHNGdWxsUmVmcmVzaCYmKHRoaXMucmVmcmVzaFJvd3MoMCx0aGlzLl9yb3dDb3VudC0xKSx0aGlzLl9uZWVkc0Z1bGxSZWZyZXNoPSExKX0sdC5wcm90b3R5cGUucmVmcmVzaFJvd3M9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLl9pc1BhdXNlZD90aGlzLl9uZWVkc0Z1bGxSZWZyZXNoPSEwOihyfHwodGhpcy5faXNOZXh0UmVuZGVyUmVkcmF3T25seT0hMSksdGhpcy5fcmVuZGVyRGVib3VuY2VyLnJlZnJlc2goZSx0LHRoaXMuX3Jvd0NvdW50KSl9LHQucHJvdG90eXBlLl9yZW5kZXJSb3dzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVuZGVyZXIucmVuZGVyUm93cyhlLHQpLHRoaXMuX25lZWRzU2VsZWN0aW9uUmVmcmVzaCYmKHRoaXMuX3JlbmRlcmVyLm9uU2VsZWN0aW9uQ2hhbmdlZCh0aGlzLl9zZWxlY3Rpb25TdGF0ZS5zdGFydCx0aGlzLl9zZWxlY3Rpb25TdGF0ZS5lbmQsdGhpcy5fc2VsZWN0aW9uU3RhdGUuY29sdW1uU2VsZWN0TW9kZSksdGhpcy5fbmVlZHNTZWxlY3Rpb25SZWZyZXNoPSExKSx0aGlzLl9pc05leHRSZW5kZXJSZWRyYXdPbmx5fHx0aGlzLl9vblJlbmRlcmVkVmlld3BvcnRDaGFuZ2UuZmlyZSh7c3RhcnQ6ZSxlbmQ6dH0pLHRoaXMuX29uUmVuZGVyLmZpcmUoe3N0YXJ0OmUsZW5kOnR9KSx0aGlzLl9pc05leHRSZW5kZXJSZWRyYXdPbmx5PSEwfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9yb3dDb3VudD10LHRoaXMuX2ZpcmVPbkNhbnZhc1Jlc2l6ZSgpfSx0LnByb3RvdHlwZS5faGFuZGxlT3B0aW9uc0NoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJlci5vbk9wdGlvbnNDaGFuZ2VkKCksdGhpcy5yZWZyZXNoUm93cygwLHRoaXMuX3Jvd0NvdW50LTEpLHRoaXMuX2ZpcmVPbkNhbnZhc1Jlc2l6ZSgpfSx0LnByb3RvdHlwZS5fZmlyZU9uQ2FudmFzUmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyZXIuZGltZW5zaW9ucy5jYW52YXNXaWR0aD09PXRoaXMuX2NhbnZhc1dpZHRoJiZ0aGlzLl9yZW5kZXJlci5kaW1lbnNpb25zLmNhbnZhc0hlaWdodD09PXRoaXMuX2NhbnZhc0hlaWdodHx8dGhpcy5fb25EaW1lbnNpb25zQ2hhbmdlLmZpcmUodGhpcy5fcmVuZGVyZXIuZGltZW5zaW9ucyl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLnNldFJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fcmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmVyPWUsdGhpcy5fcmVuZGVyZXIub25SZXF1ZXN0UmVkcmF3KChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZWZyZXNoUm93cyhlLnN0YXJ0LGUuZW5kLCEwKX0pKSx0aGlzLl9uZWVkc1NlbGVjdGlvblJlZnJlc2g9ITAsdGhpcy5fZnVsbFJlZnJlc2goKX0sdC5wcm90b3R5cGUuYWRkUmVmcmVzaENhbGxiYWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yZW5kZXJEZWJvdW5jZXIuYWRkUmVmcmVzaENhbGxiYWNrKGUpfSx0LnByb3RvdHlwZS5fZnVsbFJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZD90aGlzLl9uZWVkc0Z1bGxSZWZyZXNoPSEwOnRoaXMucmVmcmVzaFJvd3MoMCx0aGlzLl9yb3dDb3VudC0xKX0sdC5wcm90b3R5cGUuY2xlYXJUZXh0dXJlQXRsYXM9ZnVuY3Rpb24oKXt2YXIgZSx0O251bGw9PT0odD1udWxsPT09KGU9dGhpcy5fcmVuZGVyZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNsZWFyVGV4dHVyZUF0bGFzKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpLHRoaXMuX2Z1bGxSZWZyZXNoKCl9LHQucHJvdG90eXBlLnNldENvbG9ycz1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJlci5zZXRDb2xvcnMoZSksdGhpcy5fZnVsbFJlZnJlc2goKX0sdC5wcm90b3R5cGUub25EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fY2hhclNpemVTZXJ2aWNlLm1lYXN1cmUoKSx0aGlzLl9yZW5kZXJlci5vbkRldmljZVBpeGVsUmF0aW9DaGFuZ2UoKSx0aGlzLnJlZnJlc2hSb3dzKDAsdGhpcy5fcm93Q291bnQtMSl9LHQucHJvdG90eXBlLm9uUmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVuZGVyZXIub25SZXNpemUoZSx0KSx0aGlzLl9mdWxsUmVmcmVzaCgpfSx0LnByb3RvdHlwZS5vbkNoYXJTaXplQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLm9uQ2hhclNpemVDaGFuZ2VkKCl9LHQucHJvdG90eXBlLm9uQmx1cj1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLm9uQmx1cigpfSx0LnByb3RvdHlwZS5vbkZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyZXIub25Gb2N1cygpfSx0LnByb3RvdHlwZS5vblNlbGVjdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3NlbGVjdGlvblN0YXRlLnN0YXJ0PWUsdGhpcy5fc2VsZWN0aW9uU3RhdGUuZW5kPXQsdGhpcy5fc2VsZWN0aW9uU3RhdGUuY29sdW1uU2VsZWN0TW9kZT1yLHRoaXMuX3JlbmRlcmVyLm9uU2VsZWN0aW9uQ2hhbmdlZChlLHQscil9LHQucHJvdG90eXBlLm9uQ3Vyc29yTW92ZT1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLm9uQ3Vyc29yTW92ZSgpfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLmNsZWFyKCl9LG8oW3MoMyxmLklPcHRpb25zU2VydmljZSkscyg0LF8uSUNoYXJTaXplU2VydmljZSkscyg1LGYuSURlY29yYXRpb25TZXJ2aWNlKSxzKDYsZi5JQnVmZmVyU2VydmljZSldLHQpfShsLkRpc3Bvc2FibGUpO3QuUmVuZGVyU2VydmljZT1kfSw5MzEyOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30scz10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNlbGVjdGlvblNlcnZpY2U9dm9pZCAwO3ZhciBhPXIoNjExNCksYz1yKDQ1NiksbD1yKDUxMSksaD1yKDg0NjApLHU9cig0NzI1KSxmPXIoMjU4NSksXz1yKDk4MDYpLGQ9cig5NTA0KSxwPXIoODQ0KSx2PXIoNDg0MSkseT1TdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCksZz1uZXcgUmVnRXhwKHksXCJnXCIpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIsaSxuLG8scyxhLHUpe3ZhciBmPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZi5fZWxlbWVudD10LGYuX3NjcmVlbkVsZW1lbnQ9cixmLl9saW5raWZpZXI9aSxmLl9idWZmZXJTZXJ2aWNlPW4sZi5fY29yZVNlcnZpY2U9byxmLl9tb3VzZVNlcnZpY2U9cyxmLl9vcHRpb25zU2VydmljZT1hLGYuX3JlbmRlclNlcnZpY2U9dSxmLl9kcmFnU2Nyb2xsQW1vdW50PTAsZi5fZW5hYmxlZD0hMCxmLl93b3JrQ2VsbD1uZXcgbC5DZWxsRGF0YSxmLl9tb3VzZURvd25UaW1lU3RhbXA9MCxmLl9vbGRIYXNTZWxlY3Rpb249ITEsZi5fb2xkU2VsZWN0aW9uU3RhcnQ9dm9pZCAwLGYuX29sZFNlbGVjdGlvbkVuZD12b2lkIDAsZi5fb25MaW51eE1vdXNlU2VsZWN0aW9uPWYucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxmLl9vblJlZHJhd1JlcXVlc3Q9Zi5yZWdpc3RlcihuZXcgaC5FdmVudEVtaXR0ZXIpLGYuX29uU2VsZWN0aW9uQ2hhbmdlPWYucmVnaXN0ZXIobmV3IGguRXZlbnRFbWl0dGVyKSxmLl9vblJlcXVlc3RTY3JvbGxMaW5lcz1mLnJlZ2lzdGVyKG5ldyBoLkV2ZW50RW1pdHRlciksZi5fbW91c2VNb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGYuX29uTW91c2VNb3ZlKGUpfSxmLl9tb3VzZVVwTGlzdGVuZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGYuX29uTW91c2VVcChlKX0sZi5fY29yZVNlcnZpY2Uub25Vc2VySW5wdXQoKGZ1bmN0aW9uKCl7Zi5oYXNTZWxlY3Rpb24mJmYuY2xlYXJTZWxlY3Rpb24oKX0pKSxmLl90cmltTGlzdGVuZXI9Zi5fYnVmZmVyU2VydmljZS5idWZmZXIubGluZXMub25UcmltKChmdW5jdGlvbihlKXtyZXR1cm4gZi5fb25UcmltKGUpfSkpLGYucmVnaXN0ZXIoZi5fYnVmZmVyU2VydmljZS5idWZmZXJzLm9uQnVmZmVyQWN0aXZhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBmLl9vbkJ1ZmZlckFjdGl2YXRlKGUpfSkpKSxmLmVuYWJsZSgpLGYuX21vZGVsPW5ldyBjLlNlbGVjdGlvbk1vZGVsKGYuX2J1ZmZlclNlcnZpY2UpLGYuX2FjdGl2ZVNlbGVjdGlvbk1vZGU9MCxmfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25MaW51eE1vdXNlU2VsZWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkxpbnV4TW91c2VTZWxlY3Rpb24uZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0UmVkcmF3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlZHJhd1JlcXVlc3QuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25TZWxlY3Rpb25DaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFNjcm9sbExpbmVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlcXVlc3RTY3JvbGxMaW5lcy5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlTW91c2VEb3duTGlzdGVuZXJzKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jbGVhclNlbGVjdGlvbigpfSx0LnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuX2VuYWJsZWQ9ITF9LHQucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNlbGVjdGlvblN0YXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNlbGVjdGlvbkVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaGFzU2VsZWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uU3RhcnQsdD10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZDtyZXR1cm4hKCFlfHwhdHx8ZVswXT09PXRbMF0mJmVbMV09PT10WzFdKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJzZWxlY3Rpb25UZXh0XCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uU3RhcnQsdD10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZDtpZighZXx8IXQpcmV0dXJuXCJcIjt2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcixpPVtdO2lmKDM9PT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlKXtpZihlWzBdPT09dFswXSlyZXR1cm5cIlwiO2Zvcih2YXIgbj1lWzBdPHRbMF0/ZVswXTp0WzBdLG89ZVswXTx0WzBdP3RbMF06ZVswXSxzPWVbMV07czw9dFsxXTtzKyspe3ZhciBjPXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKHMsITAsbixvKTtpLnB1c2goYyl9fWVsc2V7dmFyIGw9ZVsxXT09PXRbMV0/dFswXTp2b2lkIDA7Zm9yKGkucHVzaChyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhlWzFdLCEwLGVbMF0sbCkpLHM9ZVsxXSsxO3M8PXRbMV0tMTtzKyspe3ZhciBoPXIubGluZXMuZ2V0KHMpO2M9ci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcocywhMCksKG51bGw9PWg/dm9pZCAwOmguaXNXcmFwcGVkKT9pW2kubGVuZ3RoLTFdKz1jOmkucHVzaChjKX1lWzFdIT09dFsxXSYmKGg9ci5saW5lcy5nZXQodFsxXSksYz1yLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyh0WzFdLCEwLDAsdFswXSksaCYmaC5pc1dyYXBwZWQ/aVtpLmxlbmd0aC0xXSs9YzppLnB1c2goYykpfXJldHVybiBpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShnLFwiIFwiKX0pKS5qb2luKGEuaXNXaW5kb3dzP1wiXFxyXFxuXCI6XCJcXG5cIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLl9tb2RlbC5jbGVhclNlbGVjdGlvbigpLHRoaXMuX3JlbW92ZU1vdXNlRG93bkxpc3RlbmVycygpLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlLmZpcmUoKX0sdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZXx8KHRoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3JldHVybiB0Ll9yZWZyZXNoKCl9KSkpLGEuaXNMaW51eCYmZSYmdGhpcy5zZWxlY3Rpb25UZXh0Lmxlbmd0aCYmdGhpcy5fb25MaW51eE1vdXNlU2VsZWN0aW9uLmZpcmUodGhpcy5zZWxlY3Rpb25UZXh0KX0sdC5wcm90b3R5cGUuX3JlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWU9dm9pZCAwLHRoaXMuX29uUmVkcmF3UmVxdWVzdC5maXJlKHtzdGFydDp0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0LGVuZDp0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZCxjb2x1bW5TZWxlY3RNb2RlOjM9PT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlfSl9LHQucHJvdG90eXBlLl9pc0NsaWNrSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZSkscj10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0LGk9dGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQ7cmV0dXJuISEociYmaSYmdCkmJnRoaXMuX2FyZUNvb3Jkc0luU2VsZWN0aW9uKHQscixpKX0sdC5wcm90b3R5cGUuaXNDZWxsSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvblN0YXJ0LGk9dGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQ7cmV0dXJuISghcnx8IWkpJiZ0aGlzLl9hcmVDb29yZHNJblNlbGVjdGlvbihbZSx0XSxyLGkpfSx0LnByb3RvdHlwZS5fYXJlQ29vcmRzSW5TZWxlY3Rpb249ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzFdPnRbMV0mJmVbMV08clsxXXx8dFsxXT09PXJbMV0mJmVbMV09PT10WzFdJiZlWzBdPj10WzBdJiZlWzBdPHJbMF18fHRbMV08clsxXSYmZVsxXT09PXJbMV0mJmVbMF08clswXXx8dFsxXTxyWzFdJiZlWzFdPT09dFsxXSYmZVswXT49dFswXX0sdC5wcm90b3R5cGUuX3NlbGVjdFdvcmRBdEN1cnNvcj1mdW5jdGlvbihlLHQpe3ZhciByLGksbj1udWxsPT09KGk9bnVsbD09PShyPXRoaXMuX2xpbmtpZmllci5jdXJyZW50TGluayl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGluayl8fHZvaWQgMD09PWk/dm9pZCAwOmkucmFuZ2U7aWYobilyZXR1cm4gdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9W24uc3RhcnQueC0xLG4uc3RhcnQueS0xXSx0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydExlbmd0aD0oMCx2LmdldFJhbmdlTGVuZ3RoKShuLHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyksdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPXZvaWQgMCwhMDt2YXIgbz10aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhlKTtyZXR1cm4hIW8mJih0aGlzLl9zZWxlY3RXb3JkQXQobyx0KSx0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQ9dm9pZCAwLCEwKX0sdC5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKCl7dGhpcy5fbW9kZWwuaXNTZWxlY3RBbGxBY3RpdmU9ITAsdGhpcy5yZWZyZXNoKCksdGhpcy5fb25TZWxlY3Rpb25DaGFuZ2UuZmlyZSgpfSx0LnByb3RvdHlwZS5zZWxlY3RMaW5lcz1mdW5jdGlvbihlLHQpe3RoaXMuX21vZGVsLmNsZWFyU2VsZWN0aW9uKCksZT1NYXRoLm1heChlLDApLHQ9TWF0aC5taW4odCx0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5saW5lcy5sZW5ndGgtMSksdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9WzAsZV0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPVt0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdF0sdGhpcy5yZWZyZXNoKCksdGhpcy5fb25TZWxlY3Rpb25DaGFuZ2UuZmlyZSgpfSx0LnByb3RvdHlwZS5fb25UcmltPWZ1bmN0aW9uKGUpe3RoaXMuX21vZGVsLm9uVHJpbShlKSYmdGhpcy5yZWZyZXNoKCl9LHQucHJvdG90eXBlLl9nZXRNb3VzZUJ1ZmZlckNvb3Jkcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb3VzZVNlcnZpY2UuZ2V0Q29vcmRzKGUsdGhpcy5fc2NyZWVuRWxlbWVudCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLCEwKTtpZih0KXJldHVybiB0WzBdLS0sdFsxXS0tLHRbMV0rPXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLHR9LHQucHJvdG90eXBlLl9nZXRNb3VzZUV2ZW50U2Nyb2xsQW1vdW50PWZ1bmN0aW9uKGUpe3ZhciB0PSgwLF8uZ2V0Q29vcmRzUmVsYXRpdmVUb0VsZW1lbnQpKHdpbmRvdyxlLHRoaXMuX3NjcmVlbkVsZW1lbnQpWzFdLHI9dGhpcy5fcmVuZGVyU2VydmljZS5kaW1lbnNpb25zLmNhbnZhc0hlaWdodDtyZXR1cm4gdD49MCYmdDw9cj8wOih0PnImJih0LT1yKSx0PU1hdGgubWluKE1hdGgubWF4KHQsLTUwKSw1MCksKHQvPTUwKS9NYXRoLmFicyh0KStNYXRoLnJvdW5kKDE0KnQpKX0sdC5wcm90b3R5cGUuc2hvdWxkRm9yY2VTZWxlY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNNYWM/ZS5hbHRLZXkmJnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMubWFjT3B0aW9uQ2xpY2tGb3JjZXNTZWxlY3Rpb246ZS5zaGlmdEtleX0sdC5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oZSl7aWYodGhpcy5fbW91c2VEb3duVGltZVN0YW1wPWUudGltZVN0YW1wLCgyIT09ZS5idXR0b258fCF0aGlzLmhhc1NlbGVjdGlvbikmJjA9PT1lLmJ1dHRvbil7aWYoIXRoaXMuX2VuYWJsZWQpe2lmKCF0aGlzLnNob3VsZEZvcmNlU2VsZWN0aW9uKGUpKXJldHVybjtlLnN0b3BQcm9wYWdhdGlvbigpfWUucHJldmVudERlZmF1bHQoKSx0aGlzLl9kcmFnU2Nyb2xsQW1vdW50PTAsdGhpcy5fZW5hYmxlZCYmZS5zaGlmdEtleT90aGlzLl9vbkluY3JlbWVudGFsQ2xpY2soZSk6MT09PWUuZGV0YWlsP3RoaXMuX29uU2luZ2xlQ2xpY2soZSk6Mj09PWUuZGV0YWlsP3RoaXMuX29uRG91YmxlQ2xpY2soZSk6Mz09PWUuZGV0YWlsJiZ0aGlzLl9vblRyaXBsZUNsaWNrKGUpLHRoaXMuX2FkZE1vdXNlRG93bkxpc3RlbmVycygpLHRoaXMucmVmcmVzaCghMCl9fSx0LnByb3RvdHlwZS5fYWRkTW91c2VEb3duTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9zY3JlZW5FbGVtZW50Lm93bmVyRG9jdW1lbnQmJih0aGlzLl9zY3JlZW5FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKSx0aGlzLl9zY3JlZW5FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl9tb3VzZVVwTGlzdGVuZXIpKSx0aGlzLl9kcmFnU2Nyb2xsSW50ZXJ2YWxUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2RyYWdTY3JvbGwoKX0pLDUwKX0sdC5wcm90b3R5cGUuX3JlbW92ZU1vdXNlRG93bkxpc3RlbmVycz1mdW5jdGlvbigpe3RoaXMuX3NjcmVlbkVsZW1lbnQub3duZXJEb2N1bWVudCYmKHRoaXMuX3NjcmVlbkVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5fbW91c2VNb3ZlTGlzdGVuZXIpLHRoaXMuX3NjcmVlbkVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX21vdXNlVXBMaXN0ZW5lcikpLGNsZWFySW50ZXJ2YWwodGhpcy5fZHJhZ1Njcm9sbEludGVydmFsVGltZXIpLHRoaXMuX2RyYWdTY3JvbGxJbnRlcnZhbFRpbWVyPXZvaWQgMH0sdC5wcm90b3R5cGUuX29uSW5jcmVtZW50YWxDbGljaz1mdW5jdGlvbihlKXt0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydCYmKHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZD10aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhlKSl9LHQucHJvdG90eXBlLl9vblNpbmdsZUNsaWNrPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0TGVuZ3RoPTAsdGhpcy5fbW9kZWwuaXNTZWxlY3RBbGxBY3RpdmU9ITEsdGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZT10aGlzLnNob3VsZENvbHVtblNlbGVjdChlKT8zOjAsdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9dGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZSksdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQpe3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZD12b2lkIDA7dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIubGluZXMuZ2V0KHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzFdKTt0JiZ0Lmxlbmd0aCE9PXRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzBdJiYwPT09dC5oYXNXaWR0aCh0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydFswXSkmJnRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzBdKyt9fSx0LnByb3RvdHlwZS5fb25Eb3VibGVDbGljaz1mdW5jdGlvbihlKXt0aGlzLl9zZWxlY3RXb3JkQXRDdXJzb3IoZSwhMCkmJih0aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlPTEpfSx0LnByb3RvdHlwZS5fb25UcmlwbGVDbGljaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhlKTt0JiYodGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZT0yLHRoaXMuX3NlbGVjdExpbmVBdCh0WzFdKSl9LHQucHJvdG90eXBlLnNob3VsZENvbHVtblNlbGVjdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXkmJiEoYS5pc01hYyYmdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5tYWNPcHRpb25DbGlja0ZvcmNlc1NlbGVjdGlvbil9LHQucHJvdG90eXBlLl9vbk1vdXNlTW92ZT1mdW5jdGlvbihlKXtpZihlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0KXt2YXIgdD10aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQ/W3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSx0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV1dOm51bGw7aWYodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPXRoaXMuX2dldE1vdXNlQnVmZmVyQ29vcmRzKGUpLHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCl7Mj09PXRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGU/dGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdPHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzFdP3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXT0wOnRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXT10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM6MT09PXRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUmJnRoaXMuX3NlbGVjdFRvV29yZEF0KHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCksdGhpcy5fZHJhZ1Njcm9sbEFtb3VudD10aGlzLl9nZXRNb3VzZUV2ZW50U2Nyb2xsQW1vdW50KGUpLDMhPT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlJiYodGhpcy5fZHJhZ1Njcm9sbEFtb3VudD4wP3RoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXT10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHM6dGhpcy5fZHJhZ1Njcm9sbEFtb3VudDwwJiYodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdPTApKTt2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcjtpZih0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV08ci5saW5lcy5sZW5ndGgpe3ZhciBpPXIubGluZXMuZ2V0KHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFsxXSk7aSYmMD09PWkuaGFzV2lkdGgodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdKSYmdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdKyt9dCYmdFswXT09PXRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSYmdFsxXT09PXRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFsxXXx8dGhpcy5yZWZyZXNoKCEwKX1lbHNlIHRoaXMucmVmcmVzaCghMCl9fSx0LnByb3RvdHlwZS5fZHJhZ1Njcm9sbD1mdW5jdGlvbigpe2lmKHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCYmdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQmJnRoaXMuX2RyYWdTY3JvbGxBbW91bnQpe3RoaXMuX29uUmVxdWVzdFNjcm9sbExpbmVzLmZpcmUoe2Ftb3VudDp0aGlzLl9kcmFnU2Nyb2xsQW1vdW50LHN1cHByZXNzU2Nyb2xsRXZlbnQ6ITF9KTt2YXIgZT10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcjt0aGlzLl9kcmFnU2Nyb2xsQW1vdW50PjA/KDMhPT10aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlJiYodGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyksdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdPU1hdGgubWluKGUueWRpc3ArdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLGUubGluZXMubGVuZ3RoLTEpKTooMyE9PXRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUmJih0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMF09MCksdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdPWUueWRpc3ApLHRoaXMucmVmcmVzaCgpfX0sdC5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbihlKXt2YXIgdD1lLnRpbWVTdGFtcC10aGlzLl9tb3VzZURvd25UaW1lU3RhbXA7aWYodGhpcy5fcmVtb3ZlTW91c2VEb3duTGlzdGVuZXJzKCksdGhpcy5zZWxlY3Rpb25UZXh0Lmxlbmd0aDw9MSYmdDw1MDAmJmUuYWx0S2V5JiZ0aGlzLl9vcHRpb25zU2VydmljZS5nZXRPcHRpb24oXCJhbHRDbGlja01vdmVzQ3Vyc29yXCIpKXtpZih0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55YmFzZT09PXRoaXMuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwKXt2YXIgcj10aGlzLl9tb3VzZVNlcnZpY2UuZ2V0Q29vcmRzKGUsdGhpcy5fZWxlbWVudCx0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLCExKTtpZihyJiZ2b2lkIDAhPT1yWzBdJiZ2b2lkIDAhPT1yWzFdKXt2YXIgaT0oMCxkLm1vdmVUb0NlbGxTZXF1ZW5jZSkoclswXS0xLHJbMV0tMSx0aGlzLl9idWZmZXJTZXJ2aWNlLHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbkN1cnNvcktleXMpO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQoaSwhMCl9fX1lbHNlIHRoaXMuX2ZpcmVFdmVudElmU2VsZWN0aW9uQ2hhbmdlZCgpfSx0LnByb3RvdHlwZS5fZmlyZUV2ZW50SWZTZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25TdGFydCx0PXRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uRW5kLHI9ISghZXx8IXR8fGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSk7cj9lJiZ0JiYodGhpcy5fb2xkU2VsZWN0aW9uU3RhcnQmJnRoaXMuX29sZFNlbGVjdGlvbkVuZCYmZVswXT09PXRoaXMuX29sZFNlbGVjdGlvblN0YXJ0WzBdJiZlWzFdPT09dGhpcy5fb2xkU2VsZWN0aW9uU3RhcnRbMV0mJnRbMF09PT10aGlzLl9vbGRTZWxlY3Rpb25FbmRbMF0mJnRbMV09PT10aGlzLl9vbGRTZWxlY3Rpb25FbmRbMV18fHRoaXMuX2ZpcmVPblNlbGVjdGlvbkNoYW5nZShlLHQscikpOnRoaXMuX29sZEhhc1NlbGVjdGlvbiYmdGhpcy5fZmlyZU9uU2VsZWN0aW9uQ2hhbmdlKGUsdCxyKX0sdC5wcm90b3R5cGUuX2ZpcmVPblNlbGVjdGlvbkNoYW5nZT1mdW5jdGlvbihlLHQscil7dGhpcy5fb2xkU2VsZWN0aW9uU3RhcnQ9ZSx0aGlzLl9vbGRTZWxlY3Rpb25FbmQ9dCx0aGlzLl9vbGRIYXNTZWxlY3Rpb249cix0aGlzLl9vblNlbGVjdGlvbkNoYW5nZS5maXJlKCl9LHQucHJvdG90eXBlLl9vbkJ1ZmZlckFjdGl2YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuX3RyaW1MaXN0ZW5lci5kaXNwb3NlKCksdGhpcy5fdHJpbUxpc3RlbmVyPWUuYWN0aXZlQnVmZmVyLmxpbmVzLm9uVHJpbSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX29uVHJpbShlKX0pKX0sdC5wcm90b3R5cGUuX2NvbnZlcnRWaWV3cG9ydENvbFRvQ2hhcmFjdGVySW5kZXg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dFswXSxpPTA7dFswXT49aTtpKyspe3ZhciBuPWUubG9hZENlbGwoaSx0aGlzLl93b3JrQ2VsbCkuZ2V0Q2hhcnMoKS5sZW5ndGg7MD09PXRoaXMuX3dvcmtDZWxsLmdldFdpZHRoKCk/ci0tOm4+MSYmdFswXSE9PWkmJihyKz1uLTEpfXJldHVybiByfSx0LnByb3RvdHlwZS5zZXRTZWxlY3Rpb249ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX21vZGVsLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5fcmVtb3ZlTW91c2VEb3duTGlzdGVuZXJzKCksdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9W2UsdF0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRMZW5ndGg9cix0aGlzLnJlZnJlc2goKSx0aGlzLl9maXJlRXZlbnRJZlNlbGVjdGlvbkNoYW5nZWQoKX0sdC5wcm90b3R5cGUucmlnaHRDbGlja1NlbGVjdD1mdW5jdGlvbihlKXt0aGlzLl9pc0NsaWNrSW5TZWxlY3Rpb24oZSl8fCh0aGlzLl9zZWxlY3RXb3JkQXRDdXJzb3IoZSwhMSkmJnRoaXMucmVmcmVzaCghMCksdGhpcy5fZmlyZUV2ZW50SWZTZWxlY3Rpb25DaGFuZ2VkKCkpfSx0LnByb3RvdHlwZS5fZ2V0V29yZEF0PWZ1bmN0aW9uKGUsdCxyLGkpe2lmKHZvaWQgMD09PXImJihyPSEwKSx2b2lkIDA9PT1pJiYoaT0hMCksIShlWzBdPj10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpKXt2YXIgbj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcixvPW4ubGluZXMuZ2V0KGVbMV0pO2lmKG8pe3ZhciBzPW4udHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKGVbMV0sITEpLGE9dGhpcy5fY29udmVydFZpZXdwb3J0Q29sVG9DaGFyYWN0ZXJJbmRleChvLGUpLGM9YSxsPWVbMF0tYSxoPTAsdT0wLGY9MCxfPTA7aWYoXCIgXCI9PT1zLmNoYXJBdChhKSl7Zm9yKDthPjAmJlwiIFwiPT09cy5jaGFyQXQoYS0xKTspYS0tO2Zvcig7YzxzLmxlbmd0aCYmXCIgXCI9PT1zLmNoYXJBdChjKzEpOyljKyt9ZWxzZXt2YXIgZD1lWzBdLHA9ZVswXTswPT09by5nZXRXaWR0aChkKSYmKGgrKyxkLS0pLDI9PT1vLmdldFdpZHRoKHApJiYodSsrLHArKyk7dmFyIHY9by5nZXRTdHJpbmcocCkubGVuZ3RoO2Zvcih2PjEmJihfKz12LTEsYys9di0xKTtkPjAmJmE+MCYmIXRoaXMuX2lzQ2hhcldvcmRTZXBhcmF0b3Ioby5sb2FkQ2VsbChkLTEsdGhpcy5fd29ya0NlbGwpKTspe28ubG9hZENlbGwoZC0xLHRoaXMuX3dvcmtDZWxsKTt2YXIgeT10aGlzLl93b3JrQ2VsbC5nZXRDaGFycygpLmxlbmd0aDswPT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKT8oaCsrLGQtLSk6eT4xJiYoZis9eS0xLGEtPXktMSksYS0tLGQtLX1mb3IoO3A8by5sZW5ndGgmJmMrMTxzLmxlbmd0aCYmIXRoaXMuX2lzQ2hhcldvcmRTZXBhcmF0b3Ioby5sb2FkQ2VsbChwKzEsdGhpcy5fd29ya0NlbGwpKTspe28ubG9hZENlbGwocCsxLHRoaXMuX3dvcmtDZWxsKTt2YXIgZz10aGlzLl93b3JrQ2VsbC5nZXRDaGFycygpLmxlbmd0aDsyPT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKT8odSsrLHArKyk6Zz4xJiYoXys9Zy0xLGMrPWctMSksYysrLHArK319YysrO3ZhciBtPWErbC1oK2YsYj1NYXRoLm1pbih0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMsYy1hK2grdS1mLV8pO2lmKHR8fFwiXCIhPT1zLnNsaWNlKGEsYykudHJpbSgpKXtpZihyJiYwPT09bSYmMzIhPT1vLmdldENvZGVQb2ludCgwKSl7dmFyIFM9bi5saW5lcy5nZXQoZVsxXS0xKTtpZihTJiZvLmlzV3JhcHBlZCYmMzIhPT1TLmdldENvZGVQb2ludCh0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtMSkpe3ZhciBDPXRoaXMuX2dldFdvcmRBdChbdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLTEsZVsxXS0xXSwhMSwhMCwhMSk7aWYoQyl7dmFyIHc9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLUMuc3RhcnQ7bS09dyxiKz13fX19aWYoaSYmbStiPT09dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzJiYzMiE9PW8uZ2V0Q29kZVBvaW50KHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scy0xKSl7dmFyIEw9bi5saW5lcy5nZXQoZVsxXSsxKTtpZigobnVsbD09TD92b2lkIDA6TC5pc1dyYXBwZWQpJiYzMiE9PUwuZ2V0Q29kZVBvaW50KDApKXt2YXIgRT10aGlzLl9nZXRXb3JkQXQoWzAsZVsxXSsxXSwhMSwhMSwhMCk7RSYmKGIrPUUubGVuZ3RoKX19cmV0dXJue3N0YXJ0Om0sbGVuZ3RoOmJ9fX19fSx0LnByb3RvdHlwZS5fc2VsZWN0V29yZEF0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZ2V0V29yZEF0KGUsdCk7aWYocil7Zm9yKDtyLnN0YXJ0PDA7KXIuc3RhcnQrPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyxlWzFdLS07dGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9W3Iuc3RhcnQsZVsxXV0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRMZW5ndGg9ci5sZW5ndGh9fSx0LnByb3RvdHlwZS5fc2VsZWN0VG9Xb3JkQXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0V29yZEF0KGUsITApO2lmKHQpe2Zvcih2YXIgcj1lWzFdO3Quc3RhcnQ8MDspdC5zdGFydCs9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHItLTtpZighdGhpcy5fbW9kZWwuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKSlmb3IoO3Quc3RhcnQrdC5sZW5ndGg+dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzOyl0Lmxlbmd0aC09dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLHIrKzt0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQ9W3RoaXMuX21vZGVsLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkKCk/dC5zdGFydDp0LnN0YXJ0K3QubGVuZ3RoLHJdfX0sdC5wcm90b3R5cGUuX2lzQ2hhcldvcmRTZXBhcmF0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmdldFdpZHRoKCkmJnRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud29yZFNlcGFyYXRvci5pbmRleE9mKGUuZ2V0Q2hhcnMoKSk+PTB9LHQucHJvdG90eXBlLl9zZWxlY3RMaW5lQXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIuZ2V0V3JhcHBlZFJhbmdlRm9yTGluZShlKSxyPXtzdGFydDp7eDowLHk6dC5maXJzdH0sZW5kOnt4OnRoaXMuX2J1ZmZlclNlcnZpY2UuY29scy0xLHk6dC5sYXN0fX07dGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQ9WzAsdC5maXJzdF0sdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kPXZvaWQgMCx0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydExlbmd0aD0oMCx2LmdldFJhbmdlTGVuZ3RoKShyLHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyl9LG8oW3MoMyxmLklCdWZmZXJTZXJ2aWNlKSxzKDQsZi5JQ29yZVNlcnZpY2UpLHMoNSx1LklNb3VzZVNlcnZpY2UpLHMoNixmLklPcHRpb25zU2VydmljZSkscyg3LHUuSVJlbmRlclNlcnZpY2UpXSx0KX0ocC5EaXNwb3NhYmxlKTt0LlNlbGVjdGlvblNlcnZpY2U9bX0sNDcyNTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JQ2hhcmFjdGVySm9pbmVyU2VydmljZT10LklTb3VuZFNlcnZpY2U9dC5JU2VsZWN0aW9uU2VydmljZT10LklSZW5kZXJTZXJ2aWNlPXQuSU1vdXNlU2VydmljZT10LklDb3JlQnJvd3NlclNlcnZpY2U9dC5JQ2hhclNpemVTZXJ2aWNlPXZvaWQgMDt2YXIgaT1yKDgzNDMpO3QuSUNoYXJTaXplU2VydmljZT0oMCxpLmNyZWF0ZURlY29yYXRvcikoXCJDaGFyU2l6ZVNlcnZpY2VcIiksdC5JQ29yZUJyb3dzZXJTZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIkNvcmVCcm93c2VyU2VydmljZVwiKSx0LklNb3VzZVNlcnZpY2U9KDAsaS5jcmVhdGVEZWNvcmF0b3IpKFwiTW91c2VTZXJ2aWNlXCIpLHQuSVJlbmRlclNlcnZpY2U9KDAsaS5jcmVhdGVEZWNvcmF0b3IpKFwiUmVuZGVyU2VydmljZVwiKSx0LklTZWxlY3Rpb25TZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIlNlbGVjdGlvblNlcnZpY2VcIiksdC5JU291bmRTZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIlNvdW5kU2VydmljZVwiKSx0LklDaGFyYWN0ZXJKb2luZXJTZXJ2aWNlPSgwLGkuY3JlYXRlRGVjb3JhdG9yKShcIkNoYXJhY3RlckpvaW5lclNlcnZpY2VcIil9LDM1NzpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyYmdGhpcy5fX2RlY29yYXRlfHxmdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQscixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShuPWVbYV0pJiYocz0obzwzP24ocyk6bz4zP24odCxyLHMpOm4odCxyKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIscyksc30sbj10aGlzJiZ0aGlzLl9fcGFyYW18fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGksZSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNvdW5kU2VydmljZT12b2lkIDA7dmFyIG89cigyNTg1KSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9vcHRpb25zU2VydmljZT1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImF1ZGlvQ29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZighZS5fYXVkaW9Db250ZXh0KXt2YXIgdD13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O2lmKCF0KXJldHVybiBjb25zb2xlLndhcm4oXCJXZWIgQXVkaW8gQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiBDb25zaWRlciB1cGdyYWRpbmcgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uXCIpLG51bGw7ZS5fYXVkaW9Db250ZXh0PW5ldyB0fXJldHVybiBlLl9hdWRpb0NvbnRleHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucGxheUJlbGxTb3VuZD1mdW5jdGlvbigpe3ZhciB0PWUuYXVkaW9Db250ZXh0O2lmKHQpe3ZhciByPXQuY3JlYXRlQnVmZmVyU291cmNlKCk7dC5kZWNvZGVBdWRpb0RhdGEodGhpcy5fYmFzZTY0VG9BcnJheUJ1ZmZlcih0aGlzLl9yZW1vdmVNaW1lVHlwZSh0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmJlbGxTb3VuZCkpLChmdW5jdGlvbihlKXtyLmJ1ZmZlcj1lLHIuY29ubmVjdCh0LmRlc3RpbmF0aW9uKSxyLnN0YXJ0KDApfSkpfX0sZS5wcm90b3R5cGUuX2Jhc2U2NFRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXdpbmRvdy5hdG9iKGUpLHI9dC5sZW5ndGgsaT1uZXcgVWludDhBcnJheShyKSxuPTA7bjxyO24rKylpW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gaS5idWZmZXJ9LGUucHJvdG90eXBlLl9yZW1vdmVNaW1lVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIixcIilbMV19LGU9aShbbigwLG8uSU9wdGlvbnNTZXJ2aWNlKV0sZSl9KCk7dC5Tb3VuZFNlcnZpY2U9c30sNjM0OTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DaXJjdWxhckxpc3Q9dm9pZCAwO3ZhciBpPXIoODQ2MCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fbWF4TGVuZ3RoPWUsdGhpcy5vbkRlbGV0ZUVtaXR0ZXI9bmV3IGkuRXZlbnRFbWl0dGVyLHRoaXMub25JbnNlcnRFbWl0dGVyPW5ldyBpLkV2ZW50RW1pdHRlcix0aGlzLm9uVHJpbUVtaXR0ZXI9bmV3IGkuRXZlbnRFbWl0dGVyLHRoaXMuX2FycmF5PW5ldyBBcnJheSh0aGlzLl9tYXhMZW5ndGgpLHRoaXMuX3N0YXJ0SW5kZXg9MCx0aGlzLl9sZW5ndGg9MH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25EZWxldGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25EZWxldGVFbWl0dGVyLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uSW5zZXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uSW5zZXJ0RW1pdHRlci5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvblRyaW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25UcmltRW1pdHRlci5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtYXhMZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heExlbmd0aH0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX21heExlbmd0aCE9PWUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZSkscj0wO3I8TWF0aC5taW4oZSx0aGlzLmxlbmd0aCk7cisrKXRbcl09dGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgocildO3RoaXMuX2FycmF5PXQsdGhpcy5fbWF4TGVuZ3RoPWUsdGhpcy5fc3RhcnRJbmRleD0wfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH0sc2V0OmZ1bmN0aW9uKGUpe2lmKGU+dGhpcy5fbGVuZ3RoKWZvcih2YXIgdD10aGlzLl9sZW5ndGg7dDxlO3QrKyl0aGlzLl9hcnJheVt0XT12b2lkIDA7dGhpcy5fbGVuZ3RoPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChlKV19LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KGUpXT10fSxlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KHRoaXMuX2xlbmd0aCldPWUsdGhpcy5fbGVuZ3RoPT09dGhpcy5fbWF4TGVuZ3RoPyh0aGlzLl9zdGFydEluZGV4PSsrdGhpcy5fc3RhcnRJbmRleCV0aGlzLl9tYXhMZW5ndGgsdGhpcy5vblRyaW1FbWl0dGVyLmZpcmUoMSkpOnRoaXMuX2xlbmd0aCsrfSxlLnByb3RvdHlwZS5yZWN5Y2xlPWZ1bmN0aW9uKCl7aWYodGhpcy5fbGVuZ3RoIT09dGhpcy5fbWF4TGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbiBvbmx5IHJlY3ljbGUgd2hlbiB0aGUgYnVmZmVyIGlzIGZ1bGxcIik7cmV0dXJuIHRoaXMuX3N0YXJ0SW5kZXg9Kyt0aGlzLl9zdGFydEluZGV4JXRoaXMuX21heExlbmd0aCx0aGlzLm9uVHJpbUVtaXR0ZXIuZmlyZSgxKSx0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleCh0aGlzLl9sZW5ndGgtMSldfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0Z1bGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlbmd0aD09PXRoaXMuX21heExlbmd0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgodGhpcy5fbGVuZ3RoLS0tMSldfSxlLnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTJdPWFyZ3VtZW50c1tpXTtpZih0KXtmb3IodmFyIG49ZTtuPHRoaXMuX2xlbmd0aC10O24rKyl0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChuKV09dGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgobit0KV07dGhpcy5fbGVuZ3RoLT10LHRoaXMub25EZWxldGVFbWl0dGVyLmZpcmUoe2luZGV4OmUsYW1vdW50OnR9KX1mb3Iobj10aGlzLl9sZW5ndGgtMTtuPj1lO24tLSl0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChuK3IubGVuZ3RoKV09dGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgobildO2ZvcihuPTA7bjxyLmxlbmd0aDtuKyspdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgoZStuKV09cltuXTtpZihyLmxlbmd0aCYmdGhpcy5vbkluc2VydEVtaXR0ZXIuZmlyZSh7aW5kZXg6ZSxhbW91bnQ6ci5sZW5ndGh9KSx0aGlzLl9sZW5ndGgrci5sZW5ndGg+dGhpcy5fbWF4TGVuZ3RoKXt2YXIgbz10aGlzLl9sZW5ndGgrci5sZW5ndGgtdGhpcy5fbWF4TGVuZ3RoO3RoaXMuX3N0YXJ0SW5kZXgrPW8sdGhpcy5fbGVuZ3RoPXRoaXMuX21heExlbmd0aCx0aGlzLm9uVHJpbUVtaXR0ZXIuZmlyZShvKX1lbHNlIHRoaXMuX2xlbmd0aCs9ci5sZW5ndGh9LGUucHJvdG90eXBlLnRyaW1TdGFydD1mdW5jdGlvbihlKXtlPnRoaXMuX2xlbmd0aCYmKGU9dGhpcy5fbGVuZ3RoKSx0aGlzLl9zdGFydEluZGV4Kz1lLHRoaXMuX2xlbmd0aC09ZSx0aGlzLm9uVHJpbUVtaXR0ZXIuZmlyZShlKX0sZS5wcm90b3R5cGUuc2hpZnRFbGVtZW50cz1mdW5jdGlvbihlLHQscil7aWYoISh0PD0wKSl7aWYoZTwwfHxlPj10aGlzLl9sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwic3RhcnQgYXJndW1lbnQgb3V0IG9mIHJhbmdlXCIpO2lmKGUrcjwwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzaGlmdCBlbGVtZW50cyBpbiBsaXN0IGJleW9uZCBpbmRleCAwXCIpO2lmKHI+MCl7Zm9yKHZhciBpPXQtMTtpPj0wO2ktLSl0aGlzLnNldChlK2krcix0aGlzLmdldChlK2kpKTt2YXIgbj1lK3Qrci10aGlzLl9sZW5ndGg7aWYobj4wKWZvcih0aGlzLl9sZW5ndGgrPW47dGhpcy5fbGVuZ3RoPnRoaXMuX21heExlbmd0aDspdGhpcy5fbGVuZ3RoLS0sdGhpcy5fc3RhcnRJbmRleCsrLHRoaXMub25UcmltRW1pdHRlci5maXJlKDEpfWVsc2UgZm9yKGk9MDtpPHQ7aSsrKXRoaXMuc2V0KGUraStyLHRoaXMuZ2V0KGUraSkpfX0sZS5wcm90b3R5cGUuX2dldEN5Y2xpY0luZGV4PWZ1bmN0aW9uKGUpe3JldHVybih0aGlzLl9zdGFydEluZGV4K2UpJXRoaXMuX21heExlbmd0aH0sZX0oKTt0LkNpcmN1bGFyTGlzdD1ufSwxNDM5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jbG9uZT12b2lkIDAsdC5jbG9uZT1mdW5jdGlvbiBlKHQscil7aWYodm9pZCAwPT09ciYmKHI9NSksXCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIGk9QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIG4gaW4gdClpW25dPXI8PTE/dFtuXTp0W25dJiZlKHRbbl0sci0xKTtyZXR1cm4gaX19LDgwNTU6ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfTtmdW5jdGlvbiBhKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiB0Lmxlbmd0aDwyP1wiMFwiK3Q6dH1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGU8dD8odCsuMDUpLyhlKy4wNSk6KGUrLjA1KS8odCsuMDUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY29udHJhc3RSYXRpbz10LnRvUGFkZGVkSGV4PXQucmdiYT10LnJnYj10LmNzcz10LmNvbG9yPXQuY2hhbm5lbHM9dm9pZCAwLGZ1bmN0aW9uKGUpe2UudG9Dc3M9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHZvaWQgMCE9PWk/XCIjXCIrYShlKSthKHQpK2EocikrYShpKTpcIiNcIithKGUpK2EodCkrYShyKX0sZS50b1JnYmE9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTI1NSksKGU8PDI0fHQ8PDE2fHI8PDh8aSk+Pj4wfX0ocj10LmNoYW5uZWxzfHwodC5jaGFubmVscz17fSkpLChpPXQuY29sb3J8fCh0LmNvbG9yPXt9KSkuYmxlbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT0oMjU1JnQucmdiYSkvMjU1O2lmKDE9PT1pKXJldHVybntjc3M6dC5jc3MscmdiYTp0LnJnYmF9O3ZhciBuPXQucmdiYT4+MjQmMjU1LG89dC5yZ2JhPj4xNiYyNTUscz10LnJnYmE+PjgmMjU1LGE9ZS5yZ2JhPj4yNCYyNTUsYz1lLnJnYmE+PjE2JjI1NSxsPWUucmdiYT4+OCYyNTUsaD1hK01hdGgucm91bmQoKG4tYSkqaSksdT1jK01hdGgucm91bmQoKG8tYykqaSksZj1sK01hdGgucm91bmQoKHMtbCkqaSk7cmV0dXJue2NzczpyLnRvQ3NzKGgsdSxmKSxyZ2JhOnIudG9SZ2JhKGgsdSxmKX19LGkuaXNPcGFxdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI1NT09KDI1NSZlLnJnYmEpfSxpLmVuc3VyZUNvbnRyYXN0UmF0aW89ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW8uZW5zdXJlQ29udHJhc3RSYXRpbyhlLnJnYmEsdC5yZ2JhLHIpO2lmKGkpcmV0dXJuIG8udG9Db2xvcihpPj4yNCYyNTUsaT4+MTYmMjU1LGk+PjgmMjU1KX0saS5vcGFxdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9KDI1NXxlLnJnYmEpPj4+MCxpPXMoby50b0NoYW5uZWxzKHQpLDMpLG49aVswXSxhPWlbMV0sYz1pWzJdO3JldHVybntjc3M6ci50b0NzcyhuLGEsYykscmdiYTp0fX0saS5vcGFjaXR5PWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5yb3VuZCgyNTUqdCksbj1zKG8udG9DaGFubmVscyhlLnJnYmEpLDMpLGE9blswXSxjPW5bMV0sbD1uWzJdO3JldHVybntjc3M6ci50b0NzcyhhLGMsbCxpKSxyZ2JhOnIudG9SZ2JhKGEsYyxsLGkpfX0saS50b0NvbG9yUkdCPWZ1bmN0aW9uKGUpe3JldHVybltlLnJnYmE+PjI0JjI1NSxlLnJnYmE+PjE2JjI1NSxlLnJnYmE+PjgmMjU1XX0sKHQuY3NzfHwodC5jc3M9e30pKS50b0NvbG9yPWZ1bmN0aW9uKGUpe2lmKGUubWF0Y2goLyNbMC05YS1mXXszLDh9L2kpKXN3aXRjaChlLmxlbmd0aCl7Y2FzZSA0OnZhciB0PXBhcnNlSW50KGUuc2xpY2UoMSwyKS5yZXBlYXQoMiksMTYpLHI9cGFyc2VJbnQoZS5zbGljZSgyLDMpLnJlcGVhdCgyKSwxNiksaT1wYXJzZUludChlLnNsaWNlKDMsNCkucmVwZWF0KDIpLDE2KTtyZXR1cm4gby50b0NvbG9yKHQscixpKTtjYXNlIDU6dD1wYXJzZUludChlLnNsaWNlKDEsMikucmVwZWF0KDIpLDE2KSxyPXBhcnNlSW50KGUuc2xpY2UoMiwzKS5yZXBlYXQoMiksMTYpLGk9cGFyc2VJbnQoZS5zbGljZSgzLDQpLnJlcGVhdCgyKSwxNik7dmFyIG49cGFyc2VJbnQoZS5zbGljZSg0LDUpLnJlcGVhdCgyKSwxNik7cmV0dXJuIG8udG9Db2xvcih0LHIsaSxuKTtjYXNlIDc6cmV0dXJue2NzczplLHJnYmE6KHBhcnNlSW50KGUuc2xpY2UoMSksMTYpPDw4fDI1NSk+Pj4wfTtjYXNlIDk6cmV0dXJue2NzczplLHJnYmE6cGFyc2VJbnQoZS5zbGljZSgxKSwxNik+Pj4wfX12YXIgcz1lLm1hdGNoKC9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKCxcXHMqKDB8MXxcXGQ/XFwuKFxcZCspKVxccyopP1xcKS8pO2lmKHMpcmV0dXJuIHQ9cGFyc2VJbnQoc1sxXSkscj1wYXJzZUludChzWzJdKSxpPXBhcnNlSW50KHNbM10pLG49TWF0aC5yb3VuZCgyNTUqKHZvaWQgMD09PXNbNV0/MTpwYXJzZUZsb2F0KHNbNV0pKSksby50b0NvbG9yKHQscixpLG4pO3Rocm93IG5ldyBFcnJvcihcImNzcy50b0NvbG9yOiBVbnN1cHBvcnRlZCBjc3MgZm9ybWF0XCIpfSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyKXt2YXIgaT1lLzI1NSxuPXQvMjU1LG89ci8yNTU7cmV0dXJuLjIxMjYqKGk8PS4wMzkyOD9pLzEyLjkyOk1hdGgucG93KChpKy4wNTUpLzEuMDU1LDIuNCkpKy43MTUyKihuPD0uMDM5Mjg/bi8xMi45MjpNYXRoLnBvdygobisuMDU1KS8xLjA1NSwyLjQpKSsuMDcyMioobzw9LjAzOTI4P28vMTIuOTI6TWF0aC5wb3coKG8rLjA1NSkvMS4wNTUsMi40KSl9ZS5yZWxhdGl2ZUx1bWluYW5jZT1mdW5jdGlvbihlKXtyZXR1cm4gdChlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmUpfSxlLnJlbGF0aXZlTHVtaW5hbmNlMj10fShuPXQucmdifHwodC5yZ2I9e30pKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyKXtmb3IodmFyIGk9ZT4+MjQmMjU1LG89ZT4+MTYmMjU1LHM9ZT4+OCYyNTUsYT10Pj4yNCYyNTUsbD10Pj4xNiYyNTUsaD10Pj44JjI1NSx1PWMobi5yZWxhdGl2ZUx1bWluYW5jZTIoYSxsLGgpLG4ucmVsYXRpdmVMdW1pbmFuY2UyKGksbyxzKSk7dTxyJiYoYT4wfHxsPjB8fGg+MCk7KWEtPU1hdGgubWF4KDAsTWF0aC5jZWlsKC4xKmEpKSxsLT1NYXRoLm1heCgwLE1hdGguY2VpbCguMSpsKSksaC09TWF0aC5tYXgoMCxNYXRoLmNlaWwoLjEqaCkpLHU9YyhuLnJlbGF0aXZlTHVtaW5hbmNlMihhLGwsaCksbi5yZWxhdGl2ZUx1bWluYW5jZTIoaSxvLHMpKTtyZXR1cm4oYTw8MjR8bDw8MTZ8aDw8OHwyNTUpPj4+MH1mdW5jdGlvbiBpKGUsdCxyKXtmb3IodmFyIGk9ZT4+MjQmMjU1LG89ZT4+MTYmMjU1LHM9ZT4+OCYyNTUsYT10Pj4yNCYyNTUsbD10Pj4xNiYyNTUsaD10Pj44JjI1NSx1PWMobi5yZWxhdGl2ZUx1bWluYW5jZTIoYSxsLGgpLG4ucmVsYXRpdmVMdW1pbmFuY2UyKGksbyxzKSk7dTxyJiYoYTwyNTV8fGw8MjU1fHxoPDI1NSk7KWE9TWF0aC5taW4oMjU1LGErTWF0aC5jZWlsKC4xKigyNTUtYSkpKSxsPU1hdGgubWluKDI1NSxsK01hdGguY2VpbCguMSooMjU1LWwpKSksaD1NYXRoLm1pbigyNTUsaCtNYXRoLmNlaWwoLjEqKDI1NS1oKSkpLHU9YyhuLnJlbGF0aXZlTHVtaW5hbmNlMihhLGwsaCksbi5yZWxhdGl2ZUx1bWluYW5jZTIoaSxvLHMpKTtyZXR1cm4oYTw8MjR8bDw8MTZ8aDw8OHwyNTUpPj4+MH1lLmVuc3VyZUNvbnRyYXN0UmF0aW89ZnVuY3Rpb24oZSxyLG8pe3ZhciBzPW4ucmVsYXRpdmVMdW1pbmFuY2UoZT4+OCksYT1uLnJlbGF0aXZlTHVtaW5hbmNlKHI+PjgpO2lmKGMocyxhKTxvKXtpZihhPHMpe3ZhciBsPXQoZSxyLG8pLGg9YyhzLG4ucmVsYXRpdmVMdW1pbmFuY2UobD4+OCkpO2lmKGg8byl7dmFyIHU9aShlLGUsbyk7cmV0dXJuIGg+YyhzLG4ucmVsYXRpdmVMdW1pbmFuY2UodT4+OCkpP2w6dX1yZXR1cm4gbH12YXIgZj1pKGUscixvKSxfPWMocyxuLnJlbGF0aXZlTHVtaW5hbmNlKGY+PjgpKTtyZXR1cm4gXzxvPyh1PXQoZSxlLG8pLF8+YyhzLG4ucmVsYXRpdmVMdW1pbmFuY2UodT4+OCkpP2Y6dSk6Zn19LGUucmVkdWNlTHVtaW5hbmNlPXQsZS5pbmNyZWFzZUx1bWluYW5jZT1pLGUudG9DaGFubmVscz1mdW5jdGlvbihlKXtyZXR1cm5bZT4+MjQmMjU1LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV19LGUudG9Db2xvcj1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm57Y3NzOnIudG9Dc3MoZSx0LGksbikscmdiYTpyLnRvUmdiYShlLHQsaSxuKX19fShvPXQucmdiYXx8KHQucmdiYT17fSkpLHQudG9QYWRkZWRIZXg9YSx0LmNvbnRyYXN0UmF0aW89Y30sODk2OTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxvPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ29yZVRlcm1pbmFsPXZvaWQgMDt2YXIgcz1yKDg0NCksYT1yKDI1ODUpLGM9cig0MzQ4KSxsPXIoNzg2NiksaD1yKDc0NCksdT1yKDczMDIpLGY9cig2OTc1KSxfPXIoODQ2MCksZD1yKDE3NTMpLHA9cigzNzMwKSx2PXIoMTQ4MCkseT1yKDc5OTQpLGc9cig5MjgyKSxtPXIoNTQzNSksYj1yKDU5ODEpLFM9ITEsQz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciByPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fb25CaW5hcnk9bmV3IF8uRXZlbnRFbWl0dGVyLHIuX29uRGF0YT1uZXcgXy5FdmVudEVtaXR0ZXIsci5fb25MaW5lRmVlZD1uZXcgXy5FdmVudEVtaXR0ZXIsci5fb25SZXNpemU9bmV3IF8uRXZlbnRFbWl0dGVyLHIuX29uU2Nyb2xsPW5ldyBfLkV2ZW50RW1pdHRlcixyLl9vbldyaXRlUGFyc2VkPW5ldyBfLkV2ZW50RW1pdHRlcixyLl9pbnN0YW50aWF0aW9uU2VydmljZT1uZXcgYy5JbnN0YW50aWF0aW9uU2VydmljZSxyLm9wdGlvbnNTZXJ2aWNlPW5ldyB1Lk9wdGlvbnNTZXJ2aWNlKHQpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoYS5JT3B0aW9uc1NlcnZpY2Usci5vcHRpb25zU2VydmljZSksci5fYnVmZmVyU2VydmljZT1yLnJlZ2lzdGVyKHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGguQnVmZmVyU2VydmljZSkpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoYS5JQnVmZmVyU2VydmljZSxyLl9idWZmZXJTZXJ2aWNlKSxyLl9sb2dTZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGwuTG9nU2VydmljZSksci5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShhLklMb2dTZXJ2aWNlLHIuX2xvZ1NlcnZpY2UpLHIuY29yZVNlcnZpY2U9ci5yZWdpc3RlcihyLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZShmLkNvcmVTZXJ2aWNlLChmdW5jdGlvbigpe3JldHVybiByLnNjcm9sbFRvQm90dG9tKCl9KSkpLHIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLnNldFNlcnZpY2UoYS5JQ29yZVNlcnZpY2Usci5jb3JlU2VydmljZSksci5jb3JlTW91c2VTZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKGQuQ29yZU1vdXNlU2VydmljZSksci5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShhLklDb3JlTW91c2VTZXJ2aWNlLHIuY29yZU1vdXNlU2VydmljZSksci5fZGlydHlSb3dTZXJ2aWNlPXIuX2luc3RhbnRpYXRpb25TZXJ2aWNlLmNyZWF0ZUluc3RhbmNlKHAuRGlydHlSb3dTZXJ2aWNlKSxyLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGEuSURpcnR5Um93U2VydmljZSxyLl9kaXJ0eVJvd1NlcnZpY2UpLHIudW5pY29kZVNlcnZpY2U9ci5faW5zdGFudGlhdGlvblNlcnZpY2UuY3JlYXRlSW5zdGFuY2Uodi5Vbmljb2RlU2VydmljZSksci5faW5zdGFudGlhdGlvblNlcnZpY2Uuc2V0U2VydmljZShhLklVbmljb2RlU2VydmljZSxyLnVuaWNvZGVTZXJ2aWNlKSxyLl9jaGFyc2V0U2VydmljZT1yLl9pbnN0YW50aWF0aW9uU2VydmljZS5jcmVhdGVJbnN0YW5jZSh5LkNoYXJzZXRTZXJ2aWNlKSxyLl9pbnN0YW50aWF0aW9uU2VydmljZS5zZXRTZXJ2aWNlKGEuSUNoYXJzZXRTZXJ2aWNlLHIuX2NoYXJzZXRTZXJ2aWNlKSxyLl9pbnB1dEhhbmRsZXI9bmV3IG0uSW5wdXRIYW5kbGVyKHIuX2J1ZmZlclNlcnZpY2Usci5fY2hhcnNldFNlcnZpY2Usci5jb3JlU2VydmljZSxyLl9kaXJ0eVJvd1NlcnZpY2Usci5fbG9nU2VydmljZSxyLm9wdGlvbnNTZXJ2aWNlLHIuY29yZU1vdXNlU2VydmljZSxyLnVuaWNvZGVTZXJ2aWNlKSxyLnJlZ2lzdGVyKCgwLF8uZm9yd2FyZEV2ZW50KShyLl9pbnB1dEhhbmRsZXIub25MaW5lRmVlZCxyLl9vbkxpbmVGZWVkKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIpLHIucmVnaXN0ZXIoKDAsXy5mb3J3YXJkRXZlbnQpKHIuX2J1ZmZlclNlcnZpY2Uub25SZXNpemUsci5fb25SZXNpemUpKSxyLnJlZ2lzdGVyKCgwLF8uZm9yd2FyZEV2ZW50KShyLmNvcmVTZXJ2aWNlLm9uRGF0YSxyLl9vbkRhdGEpKSxyLnJlZ2lzdGVyKCgwLF8uZm9yd2FyZEV2ZW50KShyLmNvcmVTZXJ2aWNlLm9uQmluYXJ5LHIuX29uQmluYXJ5KSksci5yZWdpc3RlcihyLm9wdGlvbnNTZXJ2aWNlLm9uT3B0aW9uQ2hhbmdlKChmdW5jdGlvbihlKXtyZXR1cm4gci5fdXBkYXRlT3B0aW9ucyhlKX0pKSksci5yZWdpc3RlcihyLl9idWZmZXJTZXJ2aWNlLm9uU2Nyb2xsKChmdW5jdGlvbihlKXtyLl9vblNjcm9sbC5maXJlKHtwb3NpdGlvbjpyLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55ZGlzcCxzb3VyY2U6MH0pLHIuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eShyLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5zY3JvbGxUb3Asci5fYnVmZmVyU2VydmljZS5idWZmZXIuc2Nyb2xsQm90dG9tKX0pKSksci5yZWdpc3RlcihyLl9pbnB1dEhhbmRsZXIub25TY3JvbGwoKGZ1bmN0aW9uKGUpe3IuX29uU2Nyb2xsLmZpcmUoe3Bvc2l0aW9uOnIuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnlkaXNwLHNvdXJjZTowfSksci5fZGlydHlSb3dTZXJ2aWNlLm1hcmtSYW5nZURpcnR5KHIuX2J1ZmZlclNlcnZpY2UuYnVmZmVyLnNjcm9sbFRvcCxyLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5zY3JvbGxCb3R0b20pfSkpKSxyLl93cml0ZUJ1ZmZlcj1uZXcgYi5Xcml0ZUJ1ZmZlcigoZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5faW5wdXRIYW5kbGVyLnBhcnNlKGUsdCl9KSksci5yZWdpc3RlcigoMCxfLmZvcndhcmRFdmVudCkoci5fd3JpdGVCdWZmZXIub25Xcml0ZVBhcnNlZCxyLl9vbldyaXRlUGFyc2VkKSkscn1yZXR1cm4gbih0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQmluYXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJpbmFyeS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRGF0YS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkxpbmVGZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkxpbmVGZWVkLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlc2l6ZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbldyaXRlUGFyc2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbldyaXRlUGFyc2VkLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uU2Nyb2xsXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX29uU2Nyb2xsQXBpfHwodGhpcy5fb25TY3JvbGxBcGk9bmV3IF8uRXZlbnRFbWl0dGVyLHRoaXMucmVnaXN0ZXIodGhpcy5fb25TY3JvbGwuZXZlbnQoKGZ1bmN0aW9uKHQpe3ZhciByO251bGw9PT0ocj1lLl9vblNjcm9sbEFwaSl8fHZvaWQgMD09PXJ8fHIuZmlyZSh0LnBvc2l0aW9uKX0pKSkpLHRoaXMuX29uU2Nyb2xsQXBpLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvbHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNlcnZpY2UuY29sc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJyb3dzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYnVmZmVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9wdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc1NlcnZpY2Uub3B0aW9uc30sc2V0OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMub3B0aW9uc1NlcnZpY2Uub3B0aW9uc1t0XT1lW3RdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLl9pc0Rpc3Bvc2VkfHwoZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl93aW5kb3dzTW9kZSl8fHZvaWQgMD09PXR8fHQuZGlzcG9zZSgpLHRoaXMuX3dpbmRvd3NNb2RlPXZvaWQgMCl9LHQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fd3JpdGVCdWZmZXIud3JpdGUoZSx0KX0sdC5wcm90b3R5cGUud3JpdGVTeW5jPWZ1bmN0aW9uKGUsdCl7dGhpcy5fbG9nU2VydmljZS5sb2dMZXZlbDw9YS5Mb2dMZXZlbEVudW0uV0FSTiYmIVMmJih0aGlzLl9sb2dTZXJ2aWNlLndhcm4oXCJ3cml0ZVN5bmMgaXMgdW5yZWxpYWJsZSBhbmQgd2lsbCBiZSByZW1vdmVkIHNvb24uXCIpLFM9ITApLHRoaXMuX3dyaXRlQnVmZmVyLndyaXRlU3luYyhlLHQpfSx0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXtpc05hTihlKXx8aXNOYU4odCl8fChlPU1hdGgubWF4KGUsaC5NSU5JTVVNX0NPTFMpLHQ9TWF0aC5tYXgodCxoLk1JTklNVU1fUk9XUyksdGhpcy5fYnVmZmVyU2VydmljZS5yZXNpemUoZSx0KSl9LHQucHJvdG90eXBlLnNjcm9sbD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSExKSx0aGlzLl9idWZmZXJTZXJ2aWNlLnNjcm9sbChlLHQpfSx0LnByb3RvdHlwZS5zY3JvbGxMaW5lcz1mdW5jdGlvbihlLHQscil7dGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGxMaW5lcyhlLHQscil9LHQucHJvdG90eXBlLnNjcm9sbFBhZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsUGFnZXMoZSl9LHQucHJvdG90eXBlLnNjcm9sbFRvVG9wPWZ1bmN0aW9uKCl7dGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGxUb1RvcCgpfSx0LnByb3RvdHlwZS5zY3JvbGxUb0JvdHRvbT1mdW5jdGlvbigpe3RoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsVG9Cb3R0b20oKX0sdC5wcm90b3R5cGUuc2Nyb2xsVG9MaW5lPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsVG9MaW5lKGUpfSx0LnByb3RvdHlwZS5yZWdpc3RlckVzY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyRXNjSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3RlckRjc0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyRGNzSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3RlckNzaUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyQ3NpSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRIYW5kbGVyLnJlZ2lzdGVyT3NjSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5fc2V0dXA9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGUmJnRoaXMuX2VuYWJsZVdpbmRvd3NNb2RlKCl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5faW5wdXRIYW5kbGVyLnJlc2V0KCksdGhpcy5fYnVmZmVyU2VydmljZS5yZXNldCgpLHRoaXMuX2NoYXJzZXRTZXJ2aWNlLnJlc2V0KCksdGhpcy5jb3JlU2VydmljZS5yZXNldCgpLHRoaXMuY29yZU1vdXNlU2VydmljZS5yZXNldCgpfSx0LnByb3RvdHlwZS5fdXBkYXRlT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goZSl7Y2FzZVwic2Nyb2xsYmFja1wiOnRoaXMuYnVmZmVycy5yZXNpemUodGhpcy5jb2xzLHRoaXMucm93cyk7YnJlYWs7Y2FzZVwid2luZG93c01vZGVcIjp0aGlzLm9wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGU/dGhpcy5fZW5hYmxlV2luZG93c01vZGUoKToobnVsbD09PSh0PXRoaXMuX3dpbmRvd3NNb2RlKXx8dm9pZCAwPT09dHx8dC5kaXNwb3NlKCksdGhpcy5fd2luZG93c01vZGU9dm9pZCAwKX19LHQucHJvdG90eXBlLl9lbmFibGVXaW5kb3dzTW9kZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuX3dpbmRvd3NNb2RlKXt2YXIgdD1bXTt0LnB1c2godGhpcy5vbkxpbmVGZWVkKGcudXBkYXRlV2luZG93c01vZGVXcmFwcGVkU3RhdGUuYmluZChudWxsLHRoaXMuX2J1ZmZlclNlcnZpY2UpKSksdC5wdXNoKHRoaXMucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkhcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuKDAsZy51cGRhdGVXaW5kb3dzTW9kZVdyYXBwZWRTdGF0ZSkoZS5fYnVmZmVyU2VydmljZSksITF9KSkpLHRoaXMuX3dpbmRvd3NNb2RlPXtkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIGUscjt0cnl7Zm9yKHZhciBpPW8odCksbj1pLm5leHQoKTshbi5kb25lO249aS5uZXh0KCkpbi52YWx1ZS5kaXNwb3NlKCl9Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fX19fX0sdH0ocy5EaXNwb3NhYmxlKTt0LkNvcmVUZXJtaW5hbD1DfSw4NDYwOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5mb3J3YXJkRXZlbnQ9dC5FdmVudEVtaXR0ZXI9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2xpc3RlbmVycz1bXSx0aGlzLl9kaXNwb3NlZD0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZXZlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZXZlbnR8fCh0aGlzLl9ldmVudD1mdW5jdGlvbih0KXtyZXR1cm4gZS5fbGlzdGVuZXJzLnB1c2godCkse2Rpc3Bvc2U6ZnVuY3Rpb24oKXtpZighZS5fZGlzcG9zZWQpZm9yKHZhciByPTA7cjxlLl9saXN0ZW5lcnMubGVuZ3RoO3IrKylpZihlLl9saXN0ZW5lcnNbcl09PT10KXJldHVybiB2b2lkIGUuX2xpc3RlbmVycy5zcGxpY2UociwxKX19fSksdGhpcy5fZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTx0aGlzLl9saXN0ZW5lcnMubGVuZ3RoO2krKylyLnB1c2godGhpcy5fbGlzdGVuZXJzW2ldKTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXJbaV0uY2FsbCh2b2lkIDAsZSx0KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVycy5sZW5ndGg9MCksdGhpcy5fZGlzcG9zZWQ9ITB9LGV9KCk7dC5FdmVudEVtaXR0ZXI9cix0LmZvcndhcmRFdmVudD1mdW5jdGlvbihlLHQpe3JldHVybiBlKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maXJlKGUpfSkpfX0sNTQzNTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LklucHV0SGFuZGxlcj10LldpbmRvd3NPcHRpb25zUmVwb3J0VHlwZT12b2lkIDA7dmFyIG8scz1yKDI1ODQpLGE9cig3MTE2KSxjPXIoMjAxNSksbD1yKDg0NCksaD1yKDgyNzMpLHU9cig0ODIpLGY9cig4NDM3KSxfPXIoODQ2MCksZD1yKDY0MykscD1yKDUxMSksdj1yKDM3MzQpLHk9cigyNTg1KSxnPXIoNjI0MiksbT1yKDYzNTEpLGI9cig1OTQxKSxTPXtcIihcIjowLFwiKVwiOjEsXCIqXCI6MixcIitcIjozLFwiLVwiOjEsXCIuXCI6Mn0sQz0xMzEwNzI7ZnVuY3Rpb24gdyhlLHQpe2lmKGU+MjQpcmV0dXJuIHQuc2V0V2luTGluZXN8fCExO3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuISF0LnJlc3RvcmVXaW47Y2FzZSAyOnJldHVybiEhdC5taW5pbWl6ZVdpbjtjYXNlIDM6cmV0dXJuISF0LnNldFdpblBvc2l0aW9uO2Nhc2UgNDpyZXR1cm4hIXQuc2V0V2luU2l6ZVBpeGVscztjYXNlIDU6cmV0dXJuISF0LnJhaXNlV2luO2Nhc2UgNjpyZXR1cm4hIXQubG93ZXJXaW47Y2FzZSA3OnJldHVybiEhdC5yZWZyZXNoV2luO2Nhc2UgODpyZXR1cm4hIXQuc2V0V2luU2l6ZUNoYXJzO2Nhc2UgOTpyZXR1cm4hIXQubWF4aW1pemVXaW47Y2FzZSAxMDpyZXR1cm4hIXQuZnVsbHNjcmVlbldpbjtjYXNlIDExOnJldHVybiEhdC5nZXRXaW5TdGF0ZTtjYXNlIDEzOnJldHVybiEhdC5nZXRXaW5Qb3NpdGlvbjtjYXNlIDE0OnJldHVybiEhdC5nZXRXaW5TaXplUGl4ZWxzO2Nhc2UgMTU6cmV0dXJuISF0LmdldFNjcmVlblNpemVQaXhlbHM7Y2FzZSAxNjpyZXR1cm4hIXQuZ2V0Q2VsbFNpemVQaXhlbHM7Y2FzZSAxODpyZXR1cm4hIXQuZ2V0V2luU2l6ZUNoYXJzO2Nhc2UgMTk6cmV0dXJuISF0LmdldFNjcmVlblNpemVDaGFycztjYXNlIDIwOnJldHVybiEhdC5nZXRJY29uVGl0bGU7Y2FzZSAyMTpyZXR1cm4hIXQuZ2V0V2luVGl0bGU7Y2FzZSAyMjpyZXR1cm4hIXQucHVzaFRpdGxlO2Nhc2UgMjM6cmV0dXJuISF0LnBvcFRpdGxlO2Nhc2UgMjQ6cmV0dXJuISF0LnNldFdpbkxpbmVzfXJldHVybiExfSFmdW5jdGlvbihlKXtlW2UuR0VUX1dJTl9TSVpFX1BJWEVMUz0wXT1cIkdFVF9XSU5fU0laRV9QSVhFTFNcIixlW2UuR0VUX0NFTExfU0laRV9QSVhFTFM9MV09XCJHRVRfQ0VMTF9TSVpFX1BJWEVMU1wifShvPXQuV2luZG93c09wdGlvbnNSZXBvcnRUeXBlfHwodC5XaW5kb3dzT3B0aW9uc1JlcG9ydFR5cGU9e30pKTt2YXIgTD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5fYnVmZmVyU2VydmljZT1lLHRoaXMuX2NvcmVTZXJ2aWNlPXQsdGhpcy5fbG9nU2VydmljZT1yLHRoaXMuX29wdGlvbnNTZXJ2aWNlPWksdGhpcy5fZGF0YT1uZXcgVWludDMyQXJyYXkoMCl9cmV0dXJuIGUucHJvdG90eXBlLmhvb2s9ZnVuY3Rpb24oZSl7dGhpcy5fZGF0YT1uZXcgVWludDMyQXJyYXkoMCl9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7dGhpcy5fZGF0YT0oMCxoLmNvbmNhdCkodGhpcy5fZGF0YSxlLnN1YmFycmF5KHQscikpfSxlLnByb3RvdHlwZS51bmhvb2s9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDApLCEwO3ZhciB0PSgwLHUudXRmMzJUb1N0cmluZykodGhpcy5fZGF0YSk7c3dpdGNoKHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDApLHQpe2Nhc2UnXCJxJzp0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDKydQMSRyMFwicScrcy5DMC5FU0MrXCJcXFxcXCIpO2JyZWFrO2Nhc2UnXCJwJzp0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDKydQMSRyNjE7MVwicCcrcy5DMC5FU0MrXCJcXFxcXCIpO2JyZWFrO2Nhc2VcInJcIjp2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5zY3JvbGxUb3ArMStcIjtcIisodGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXIuc2Nyb2xsQm90dG9tKzEpK1wiclwiO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJQMSRyXCIrcitzLkMwLkVTQytcIlxcXFxcIik7YnJlYWs7Y2FzZVwibVwiOnRoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJQMSRyMG1cIitzLkMwLkVTQytcIlxcXFxcIik7YnJlYWs7Y2FzZVwiIHFcIjp2YXIgaT17YmxvY2s6Mix1bmRlcmxpbmU6NCxiYXI6Nn1bdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXJzb3JTdHlsZV07aS09dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5jdXJzb3JCbGluaz8xOjAsdGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIlAxJHJcIitpK1wiIHFcIitzLkMwLkVTQytcIlxcXFxcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBEQ1MgJHEgJXNcIix0KSx0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDK1wiUDAkclwiK3MuQzAuRVNDK1wiXFxcXFwiKX1yZXR1cm4hMH0sZX0oKSxFPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbixvLGwsaCxkLHYpe3ZvaWQgMD09PXYmJih2PW5ldyBjLkVzY2FwZVNlcXVlbmNlUGFyc2VyKTt2YXIgeT1lLmNhbGwodGhpcyl8fHRoaXM7eS5fYnVmZmVyU2VydmljZT10LHkuX2NoYXJzZXRTZXJ2aWNlPXIseS5fY29yZVNlcnZpY2U9aSx5Ll9kaXJ0eVJvd1NlcnZpY2U9bix5Ll9sb2dTZXJ2aWNlPW8seS5fb3B0aW9uc1NlcnZpY2U9bCx5Ll9jb3JlTW91c2VTZXJ2aWNlPWgseS5fdW5pY29kZVNlcnZpY2U9ZCx5Ll9wYXJzZXI9dix5Ll9wYXJzZUJ1ZmZlcj1uZXcgVWludDMyQXJyYXkoNDA5NikseS5fc3RyaW5nRGVjb2Rlcj1uZXcgdS5TdHJpbmdUb1V0ZjMyLHkuX3V0ZjhEZWNvZGVyPW5ldyB1LlV0ZjhUb1V0ZjMyLHkuX3dvcmtDZWxsPW5ldyBwLkNlbGxEYXRhLHkuX3dpbmRvd1RpdGxlPVwiXCIseS5faWNvbk5hbWU9XCJcIix5Ll93aW5kb3dUaXRsZVN0YWNrPVtdLHkuX2ljb25OYW1lU3RhY2s9W10seS5fY3VyQXR0ckRhdGE9Zi5ERUZBVUxUX0FUVFJfREFUQS5jbG9uZSgpLHkuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbD1mLkRFRkFVTFRfQVRUUl9EQVRBLmNsb25lKCkseS5fb25SZXF1ZXN0QmVsbD1uZXcgXy5FdmVudEVtaXR0ZXIseS5fb25SZXF1ZXN0UmVmcmVzaFJvd3M9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uUmVxdWVzdFJlc2V0PW5ldyBfLkV2ZW50RW1pdHRlcix5Ll9vblJlcXVlc3RTZW5kRm9jdXM9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uUmVxdWVzdFN5bmNTY3JvbGxCYXI9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0PW5ldyBfLkV2ZW50RW1pdHRlcix5Ll9vbkExMXlDaGFyPW5ldyBfLkV2ZW50RW1pdHRlcix5Ll9vbkExMXlUYWI9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uQ3Vyc29yTW92ZT1uZXcgXy5FdmVudEVtaXR0ZXIseS5fb25MaW5lRmVlZD1uZXcgXy5FdmVudEVtaXR0ZXIseS5fb25TY3JvbGw9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uVGl0bGVDaGFuZ2U9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX29uQ29sb3I9bmV3IF8uRXZlbnRFbWl0dGVyLHkuX3BhcnNlU3RhY2s9e3BhdXNlZDohMSxjdXJzb3JTdGFydFg6MCxjdXJzb3JTdGFydFk6MCxkZWNvZGVkTGVuZ3RoOjAscG9zaXRpb246MH0seS5fc3BlY2lhbENvbG9ycz1bMjU2LDI1NywyNThdLHkucmVnaXN0ZXIoeS5fcGFyc2VyKSx5Ll9hY3RpdmVCdWZmZXI9eS5fYnVmZmVyU2VydmljZS5idWZmZXIseS5yZWdpc3Rlcih5Ll9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMub25CdWZmZXJBY3RpdmF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHkuX2FjdGl2ZUJ1ZmZlcj1lLmFjdGl2ZUJ1ZmZlcn0pKSkseS5fcGFyc2VyLnNldENzaUhhbmRsZXJGYWxsYmFjaygoZnVuY3Rpb24oZSx0KXt5Ll9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBDU0kgY29kZTogXCIse2lkZW50aWZpZXI6eS5fcGFyc2VyLmlkZW50VG9TdHJpbmcoZSkscGFyYW1zOnQudG9BcnJheSgpfSl9KSkseS5fcGFyc2VyLnNldEVzY0hhbmRsZXJGYWxsYmFjaygoZnVuY3Rpb24oZSl7eS5fbG9nU2VydmljZS5kZWJ1ZyhcIlVua25vd24gRVNDIGNvZGU6IFwiLHtpZGVudGlmaWVyOnkuX3BhcnNlci5pZGVudFRvU3RyaW5nKGUpfSl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyRmFsbGJhY2soKGZ1bmN0aW9uKGUpe3kuX2xvZ1NlcnZpY2UuZGVidWcoXCJVbmtub3duIEVYRUNVVEUgY29kZTogXCIse2NvZGU6ZX0pfSkpLHkuX3BhcnNlci5zZXRPc2NIYW5kbGVyRmFsbGJhY2soKGZ1bmN0aW9uKGUsdCxyKXt5Ll9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBPU0MgY29kZTogXCIse2lkZW50aWZpZXI6ZSxhY3Rpb246dCxkYXRhOnJ9KX0pKSx5Ll9wYXJzZXIuc2V0RGNzSGFuZGxlckZhbGxiYWNrKChmdW5jdGlvbihlLHQscil7XCJIT09LXCI9PT10JiYocj1yLnRvQXJyYXkoKSkseS5fbG9nU2VydmljZS5kZWJ1ZyhcIlVua25vd24gRENTIGNvZGU6IFwiLHtpZGVudGlmaWVyOnkuX3BhcnNlci5pZGVudFRvU3RyaW5nKGUpLGFjdGlvbjp0LHBheWxvYWQ6cn0pfSkpLHkuX3BhcnNlci5zZXRQcmludEhhbmRsZXIoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4geS5wcmludChlLHQscil9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJAXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5pbnNlcnRDaGFycyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiIFwiLGZpbmFsOlwiQFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2Nyb2xsTGVmdChlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkFcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvclVwKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCIgXCIsZmluYWw6XCJBXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zY3JvbGxSaWdodChlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkJcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvckRvd24oZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJDXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JGb3J3YXJkKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiRFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuY3Vyc29yQmFja3dhcmQoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJFXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JOZXh0TGluZShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIkZcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvclByZWNlZGluZ0xpbmUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJHXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JDaGFyQWJzb2x1dGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJIXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5jdXJzb3JQb3NpdGlvbihlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIklcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvckZvcndhcmRUYWIoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJKXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5lcmFzZUluRGlzcGxheShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtwcmVmaXg6XCI/XCIsZmluYWw6XCJKXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5lcmFzZUluRGlzcGxheShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIktcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmVyYXNlSW5MaW5lKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe3ByZWZpeDpcIj9cIixmaW5hbDpcIktcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmVyYXNlSW5MaW5lKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiTFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuaW5zZXJ0TGluZXMoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJNXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5kZWxldGVMaW5lcyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIlBcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmRlbGV0ZUNoYXJzKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiU1wifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2Nyb2xsVXAoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJUXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zY3JvbGxEb3duKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiWFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuZXJhc2VDaGFycyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIlpcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmN1cnNvckJhY2t3YXJkVGFiKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiYFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuY2hhclBvc0Fic29sdXRlKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiYVwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuaFBvc2l0aW9uUmVsYXRpdmUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJiXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5yZXBlYXRQcmVjZWRpbmdDaGFyYWN0ZXIoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJjXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zZW5kRGV2aWNlQXR0cmlidXRlc1ByaW1hcnkoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7cHJlZml4OlwiPlwiLGZpbmFsOlwiY1wifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2VuZERldmljZUF0dHJpYnV0ZXNTZWNvbmRhcnkoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJkXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5saW5lUG9zQWJzb2x1dGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJlXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS52UG9zaXRpb25SZWxhdGl2ZShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcImZcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmhWUG9zaXRpb24oZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJnXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS50YWJDbGVhcihlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcImhcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNldE1vZGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7cHJlZml4OlwiP1wiLGZpbmFsOlwiaFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0TW9kZVByaXZhdGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJsXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5yZXNldE1vZGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7cHJlZml4OlwiP1wiLGZpbmFsOlwibFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkucmVzZXRNb2RlUHJpdmF0ZShlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcIm1cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmNoYXJBdHRyaWJ1dGVzKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwiblwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuZGV2aWNlU3RhdHVzKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe3ByZWZpeDpcIj9cIixmaW5hbDpcIm5cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmRldmljZVN0YXR1c1ByaXZhdGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIiFcIixmaW5hbDpcInBcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNvZnRSZXNldChlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiIFwiLGZpbmFsOlwicVwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0Q3Vyc29yU3R5bGUoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJyXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zZXRTY3JvbGxSZWdpb24oZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7ZmluYWw6XCJzXCJ9LChmdW5jdGlvbihlKXtyZXR1cm4geS5zYXZlQ3Vyc29yKGUpfSkpLHkuX3BhcnNlci5yZWdpc3RlckNzaUhhbmRsZXIoe2ZpbmFsOlwidFwifSwoZnVuY3Rpb24oZSl7cmV0dXJuIHkud2luZG93T3B0aW9ucyhlKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKHtmaW5hbDpcInVcIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LnJlc3RvcmVDdXJzb3IoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIidcIixmaW5hbDpcIn1cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5Lmluc2VydENvbHVtbnMoZSl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIidcIixmaW5hbDpcIn5cIn0sKGZ1bmN0aW9uKGUpe3JldHVybiB5LmRlbGV0ZUNvbHVtbnMoZSl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKHMuQzAuQkVMLChmdW5jdGlvbigpe3JldHVybiB5LmJlbGwoKX0pKSx5Ll9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIocy5DMC5MRiwoZnVuY3Rpb24oKXtyZXR1cm4geS5saW5lRmVlZCgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLlZULChmdW5jdGlvbigpe3JldHVybiB5LmxpbmVGZWVkKCl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKHMuQzAuRkYsKGZ1bmN0aW9uKCl7cmV0dXJuIHkubGluZUZlZWQoKX0pKSx5Ll9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIocy5DMC5DUiwoZnVuY3Rpb24oKXtyZXR1cm4geS5jYXJyaWFnZVJldHVybigpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLkJTLChmdW5jdGlvbigpe3JldHVybiB5LmJhY2tzcGFjZSgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLkhULChmdW5jdGlvbigpe3JldHVybiB5LnRhYigpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMwLlNPLChmdW5jdGlvbigpe3JldHVybiB5LnNoaWZ0T3V0KCl9KSkseS5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKHMuQzAuU0ksKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2hpZnRJbigpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMxLklORCwoZnVuY3Rpb24oKXtyZXR1cm4geS5pbmRleCgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMxLk5FTCwoZnVuY3Rpb24oKXtyZXR1cm4geS5uZXh0TGluZSgpfSkpLHkuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihzLkMxLkhUUywoZnVuY3Rpb24oKXtyZXR1cm4geS50YWJTZXQoKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDAsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0VGl0bGUoZSkseS5zZXRJY29uTmFtZShlKSwhMH0pKSkseS5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcigxLG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNldEljb25OYW1lKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDIsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0VGl0bGUoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoNCxuZXcgZy5Pc2NIYW5kbGVyKChmdW5jdGlvbihlKXtyZXR1cm4geS5zZXRPclJlcG9ydEluZGV4ZWRDb2xvcihlKX0pKSkseS5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcigxMCxuZXcgZy5Pc2NIYW5kbGVyKChmdW5jdGlvbihlKXtyZXR1cm4geS5zZXRPclJlcG9ydEZnQ29sb3IoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoMTEsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkuc2V0T3JSZXBvcnRCZ0NvbG9yKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDEyLG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnNldE9yUmVwb3J0Q3Vyc29yQ29sb3IoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoMTA0LG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnJlc3RvcmVJbmRleGVkQ29sb3IoZSl9KSkpLHkuX3BhcnNlci5yZWdpc3Rlck9zY0hhbmRsZXIoMTEwLG5ldyBnLk9zY0hhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5LnJlc3RvcmVGZ0NvbG9yKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJPc2NIYW5kbGVyKDExMSxuZXcgZy5Pc2NIYW5kbGVyKChmdW5jdGlvbihlKXtyZXR1cm4geS5yZXN0b3JlQmdDb2xvcihlKX0pKSkseS5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcigxMTIsbmV3IGcuT3NjSGFuZGxlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHkucmVzdG9yZUN1cnNvckNvbG9yKGUpfSkpKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtmaW5hbDpcIjdcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2F2ZUN1cnNvcigpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwiOFwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5yZXN0b3JlQ3Vyc29yKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJEXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LmluZGV4KCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJFXCJ9LChmdW5jdGlvbigpe3JldHVybiB5Lm5leHRMaW5lKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJIXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnRhYlNldCgpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwiTVwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5yZXZlcnNlSW5kZXgoKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtmaW5hbDpcIj1cIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkua2V5cGFkQXBwbGljYXRpb25Nb2RlKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCI+XCJ9LChmdW5jdGlvbigpe3JldHVybiB5LmtleXBhZE51bWVyaWNNb2RlKCl9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJjXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LmZ1bGxSZXNldCgpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwiblwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZXRnTGV2ZWwoMil9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJvXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnNldGdMZXZlbCgzKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtmaW5hbDpcInxcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2V0Z0xldmVsKDMpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ZpbmFsOlwifVwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZXRnTGV2ZWwoMil9KSkseS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJ+XCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnNldGdMZXZlbCgxKX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiJVwiLGZpbmFsOlwiQFwifSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3REZWZhdWx0Q2hhcnNldCgpfSkpLHkuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCIlXCIsZmluYWw6XCJHXCJ9LChmdW5jdGlvbigpe3JldHVybiB5LnNlbGVjdERlZmF1bHRDaGFyc2V0KCl9KSk7dmFyIG09ZnVuY3Rpb24oZSl7Yi5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIihcIixmaW5hbDplfSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3RDaGFyc2V0KFwiKFwiK2UpfSkpLGIuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCIpXCIsZmluYWw6ZX0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2VsZWN0Q2hhcnNldChcIilcIitlKX0pKSxiLl9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiKlwiLGZpbmFsOmV9LChmdW5jdGlvbigpe3JldHVybiB5LnNlbGVjdENoYXJzZXQoXCIqXCIrZSl9KSksYi5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIitcIixmaW5hbDplfSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3RDaGFyc2V0KFwiK1wiK2UpfSkpLGIuX3BhcnNlci5yZWdpc3RlckVzY0hhbmRsZXIoe2ludGVybWVkaWF0ZXM6XCItXCIsZmluYWw6ZX0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2VsZWN0Q2hhcnNldChcIi1cIitlKX0pKSxiLl9wYXJzZXIucmVnaXN0ZXJFc2NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiLlwiLGZpbmFsOmV9LChmdW5jdGlvbigpe3JldHVybiB5LnNlbGVjdENoYXJzZXQoXCIuXCIrZSl9KSksYi5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIi9cIixmaW5hbDplfSwoZnVuY3Rpb24oKXtyZXR1cm4geS5zZWxlY3RDaGFyc2V0KFwiL1wiK2UpfSkpfSxiPXRoaXM7Zm9yKHZhciBTIGluIGEuQ0hBUlNFVFMpbShTKTtyZXR1cm4geS5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcih7aW50ZXJtZWRpYXRlczpcIiNcIixmaW5hbDpcIjhcIn0sKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc2NyZWVuQWxpZ25tZW50UGF0dGVybigpfSkpLHkuX3BhcnNlci5zZXRFcnJvckhhbmRsZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB5Ll9sb2dTZXJ2aWNlLmVycm9yKFwiUGFyc2luZyBlcnJvcjogXCIsZSksZX0pKSx5Ll9wYXJzZXIucmVnaXN0ZXJEY3NIYW5kbGVyKHtpbnRlcm1lZGlhdGVzOlwiJFwiLGZpbmFsOlwicVwifSxuZXcgTCh5Ll9idWZmZXJTZXJ2aWNlLHkuX2NvcmVTZXJ2aWNlLHkuX2xvZ1NlcnZpY2UseS5fb3B0aW9uc1NlcnZpY2UpKSx5fXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0QmVsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZXF1ZXN0QmVsbC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblJlcXVlc3RSZWZyZXNoUm93c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZXF1ZXN0UmVmcmVzaFJvd3MuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0UmVzZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFJlc2V0LmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFNlbmRGb2N1c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZXF1ZXN0U2VuZEZvY3VzLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uUmVxdWVzdFN5bmNTY3JvbGxCYXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFN5bmNTY3JvbGxCYXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25SZXF1ZXN0V2luZG93c09wdGlvbnNSZXBvcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0LmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQTExeUNoYXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQTExeUNoYXIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25BMTF5VGFiXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkExMXlUYWIuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25DdXJzb3JNb3ZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkN1cnNvck1vdmUuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25MaW5lRmVlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25MaW5lRmVlZC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvblNjcm9sbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TY3JvbGwuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25UaXRsZUNoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25UaXRsZUNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkNvbG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkNvbG9yLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LHQucHJvdG90eXBlLl9wcmVzZXJ2ZVN0YWNrPWZ1bmN0aW9uKGUsdCxyLGkpe3RoaXMuX3BhcnNlU3RhY2sucGF1c2VkPSEwLHRoaXMuX3BhcnNlU3RhY2suY3Vyc29yU3RhcnRYPWUsdGhpcy5fcGFyc2VTdGFjay5jdXJzb3JTdGFydFk9dCx0aGlzLl9wYXJzZVN0YWNrLmRlY29kZWRMZW5ndGg9cix0aGlzLl9wYXJzZVN0YWNrLnBvc2l0aW9uPWl9LHQucHJvdG90eXBlLl9sb2dTbG93UmVzb2x2aW5nQXN5bmM9ZnVuY3Rpb24oZSl7dGhpcy5fbG9nU2VydmljZS5sb2dMZXZlbDw9eS5Mb2dMZXZlbEVudW0uV0FSTiYmUHJvbWlzZS5yYWNlKFtlLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3JldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB0KFwiI1NMT1dfVElNRU9VVFwiKX0pLDVlMyl9KSldKS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoXCIjU0xPV19USU1FT1VUXCIhPT1lKXRocm93IGU7Y29uc29sZS53YXJuKFwiYXN5bmMgcGFyc2VyIGhhbmRsZXIgdGFraW5nIGxvbmdlciB0aGFuIDUwMDAgbXNcIil9KSl9LHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaT10aGlzLl9hY3RpdmVCdWZmZXIueCxuPXRoaXMuX2FjdGl2ZUJ1ZmZlci55LG89MCxzPXRoaXMuX3BhcnNlU3RhY2sucGF1c2VkO2lmKHMpe2lmKHI9dGhpcy5fcGFyc2VyLnBhcnNlKHRoaXMuX3BhcnNlQnVmZmVyLHRoaXMuX3BhcnNlU3RhY2suZGVjb2RlZExlbmd0aCx0KSlyZXR1cm4gdGhpcy5fbG9nU2xvd1Jlc29sdmluZ0FzeW5jKHIpLHI7aT10aGlzLl9wYXJzZVN0YWNrLmN1cnNvclN0YXJ0WCxuPXRoaXMuX3BhcnNlU3RhY2suY3Vyc29yU3RhcnRZLHRoaXMuX3BhcnNlU3RhY2sucGF1c2VkPSExLGUubGVuZ3RoPkMmJihvPXRoaXMuX3BhcnNlU3RhY2sucG9zaXRpb24rQyl9aWYodGhpcy5fbG9nU2VydmljZS5sb2dMZXZlbDw9eS5Mb2dMZXZlbEVudW0uREVCVUcmJnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJwYXJzaW5nIGRhdGFcIisoXCJzdHJpbmdcIj09dHlwZW9mIGU/JyBcIicrZSsnXCInOicgXCInK0FycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLChmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlKX0pKS5qb2luKFwiXCIpKydcIicpLFwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCJcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQ29kZUF0KDApfSkpOmUpLHRoaXMuX3BhcnNlQnVmZmVyLmxlbmd0aDxlLmxlbmd0aCYmdGhpcy5fcGFyc2VCdWZmZXIubGVuZ3RoPEMmJih0aGlzLl9wYXJzZUJ1ZmZlcj1uZXcgVWludDMyQXJyYXkoTWF0aC5taW4oZS5sZW5ndGgsQykpKSxzfHx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UuY2xlYXJSYW5nZSgpLGUubGVuZ3RoPkMpZm9yKHZhciBhPW87YTxlLmxlbmd0aDthKz1DKXt2YXIgYz1hK0M8ZS5sZW5ndGg/YStDOmUubGVuZ3RoLGw9XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc3RyaW5nRGVjb2Rlci5kZWNvZGUoZS5zdWJzdHJpbmcoYSxjKSx0aGlzLl9wYXJzZUJ1ZmZlcik6dGhpcy5fdXRmOERlY29kZXIuZGVjb2RlKGUuc3ViYXJyYXkoYSxjKSx0aGlzLl9wYXJzZUJ1ZmZlcik7aWYocj10aGlzLl9wYXJzZXIucGFyc2UodGhpcy5fcGFyc2VCdWZmZXIsbCkpcmV0dXJuIHRoaXMuX3ByZXNlcnZlU3RhY2soaSxuLGwsYSksdGhpcy5fbG9nU2xvd1Jlc29sdmluZ0FzeW5jKHIpLHJ9ZWxzZSBpZighcyYmKGw9XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc3RyaW5nRGVjb2Rlci5kZWNvZGUoZSx0aGlzLl9wYXJzZUJ1ZmZlcik6dGhpcy5fdXRmOERlY29kZXIuZGVjb2RlKGUsdGhpcy5fcGFyc2VCdWZmZXIpLHI9dGhpcy5fcGFyc2VyLnBhcnNlKHRoaXMuX3BhcnNlQnVmZmVyLGwpKSlyZXR1cm4gdGhpcy5fcHJlc2VydmVTdGFjayhpLG4sbCwwKSx0aGlzLl9sb2dTbG93UmVzb2x2aW5nQXN5bmMocikscjt0aGlzLl9hY3RpdmVCdWZmZXIueD09PWkmJnRoaXMuX2FjdGl2ZUJ1ZmZlci55PT09bnx8dGhpcy5fb25DdXJzb3JNb3ZlLmZpcmUoKSx0aGlzLl9vblJlcXVlc3RSZWZyZXNoUm93cy5maXJlKHRoaXMuX2RpcnR5Um93U2VydmljZS5zdGFydCx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UuZW5kKX0sdC5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sbz10aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0LHM9dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5zY3JlZW5SZWFkZXJNb2RlLGE9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLGM9dGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLndyYXBhcm91bmQsbD10aGlzLl9jb3JlU2VydmljZS5tb2Rlcy5pbnNlcnRNb2RlLGg9dGhpcy5fY3VyQXR0ckRhdGEsZj10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSk7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSksdGhpcy5fYWN0aXZlQnVmZmVyLngmJnItdD4wJiYyPT09Zi5nZXRXaWR0aCh0aGlzLl9hY3RpdmVCdWZmZXIueC0xKSYmZi5zZXRDZWxsRnJvbUNvZGVQb2ludCh0aGlzLl9hY3RpdmVCdWZmZXIueC0xLDAsMSxoLmZnLGguYmcsaC5leHRlbmRlZCk7Zm9yKHZhciBfPXQ7XzxyOysrXyl7aWYoaT1lW19dLG49dGhpcy5fdW5pY29kZVNlcnZpY2Uud2N3aWR0aChpKSxpPDEyNyYmbyl7dmFyIHA9b1tTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXTtwJiYoaT1wLmNoYXJDb2RlQXQoMCkpfWlmKHMmJnRoaXMuX29uQTExeUNoYXIuZmlyZSgoMCx1LnN0cmluZ0Zyb21Db2RlUG9pbnQpKGkpKSxufHwhdGhpcy5fYWN0aXZlQnVmZmVyLngpe2lmKHRoaXMuX2FjdGl2ZUJ1ZmZlci54K24tMT49YSlpZihjKXtmb3IoO3RoaXMuX2FjdGl2ZUJ1ZmZlci54PGE7KWYuc2V0Q2VsbEZyb21Db2RlUG9pbnQodGhpcy5fYWN0aXZlQnVmZmVyLngrKywwLDEsaC5mZyxoLmJnLGguZXh0ZW5kZWQpO3RoaXMuX2FjdGl2ZUJ1ZmZlci54PTAsdGhpcy5fYWN0aXZlQnVmZmVyLnkrKyx0aGlzLl9hY3RpdmVCdWZmZXIueT09PXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20rMT8odGhpcy5fYWN0aXZlQnVmZmVyLnktLSx0aGlzLl9idWZmZXJTZXJ2aWNlLnNjcm9sbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCksITApKToodGhpcy5fYWN0aXZlQnVmZmVyLnk+PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKSx0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSkuaXNXcmFwcGVkPSEwKSxmPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55KX1lbHNlIGlmKHRoaXMuX2FjdGl2ZUJ1ZmZlci54PWEtMSwyPT09biljb250aW51ZTtpZihsJiYoZi5pbnNlcnRDZWxscyh0aGlzLl9hY3RpdmVCdWZmZXIueCxuLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbChoKSxoKSwyPT09Zi5nZXRXaWR0aChhLTEpJiZmLnNldENlbGxGcm9tQ29kZVBvaW50KGEtMSxkLk5VTExfQ0VMTF9DT0RFLGQuTlVMTF9DRUxMX1dJRFRILGguZmcsaC5iZyxoLmV4dGVuZGVkKSksZi5zZXRDZWxsRnJvbUNvZGVQb2ludCh0aGlzLl9hY3RpdmVCdWZmZXIueCsrLGksbixoLmZnLGguYmcsaC5leHRlbmRlZCksbj4wKWZvcig7LS1uOylmLnNldENlbGxGcm9tQ29kZVBvaW50KHRoaXMuX2FjdGl2ZUJ1ZmZlci54KyssMCwwLGguZmcsaC5iZyxoLmV4dGVuZGVkKX1lbHNlIGYuZ2V0V2lkdGgodGhpcy5fYWN0aXZlQnVmZmVyLngtMSk/Zi5hZGRDb2RlcG9pbnRUb0NlbGwodGhpcy5fYWN0aXZlQnVmZmVyLngtMSxpKTpmLmFkZENvZGVwb2ludFRvQ2VsbCh0aGlzLl9hY3RpdmVCdWZmZXIueC0yLGkpfXItdD4wJiYoZi5sb2FkQ2VsbCh0aGlzLl9hY3RpdmVCdWZmZXIueC0xLHRoaXMuX3dvcmtDZWxsKSwyPT09dGhpcy5fd29ya0NlbGwuZ2V0V2lkdGgoKXx8dGhpcy5fd29ya0NlbGwuZ2V0Q29kZSgpPjY1NTM1P3RoaXMuX3BhcnNlci5wcmVjZWRpbmdDb2RlcG9pbnQ9MDp0aGlzLl93b3JrQ2VsbC5pc0NvbWJpbmVkKCk/dGhpcy5fcGFyc2VyLnByZWNlZGluZ0NvZGVwb2ludD10aGlzLl93b3JrQ2VsbC5nZXRDaGFycygpLmNoYXJDb2RlQXQoMCk6dGhpcy5fcGFyc2VyLnByZWNlZGluZ0NvZGVwb2ludD10aGlzLl93b3JrQ2VsbC5jb250ZW50KSx0aGlzLl9hY3RpdmVCdWZmZXIueDxhJiZyLXQ+MCYmMD09PWYuZ2V0V2lkdGgodGhpcy5fYWN0aXZlQnVmZmVyLngpJiYhZi5oYXNDb250ZW50KHRoaXMuX2FjdGl2ZUJ1ZmZlci54KSYmZi5zZXRDZWxsRnJvbUNvZGVQb2ludCh0aGlzLl9hY3RpdmVCdWZmZXIueCwwLDEsaC5mZyxoLmJnLGguZXh0ZW5kZWQpLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnkpfSx0LnByb3RvdHlwZS5yZWdpc3RlckNzaUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVyblwidFwiIT09ZS5maW5hbHx8ZS5wcmVmaXh8fGUuaW50ZXJtZWRpYXRlcz90aGlzLl9wYXJzZXIucmVnaXN0ZXJDc2lIYW5kbGVyKGUsdCk6dGhpcy5fcGFyc2VyLnJlZ2lzdGVyQ3NpSGFuZGxlcihlLChmdW5jdGlvbihlKXtyZXR1cm4hdyhlLnBhcmFtc1swXSxyLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLndpbmRvd09wdGlvbnMpfHx0KGUpfSkpfSx0LnByb3RvdHlwZS5yZWdpc3RlckRjc0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGFyc2VyLnJlZ2lzdGVyRGNzSGFuZGxlcihlLG5ldyBtLkRjc0hhbmRsZXIodCkpfSx0LnByb3RvdHlwZS5yZWdpc3RlckVzY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGFyc2VyLnJlZ2lzdGVyRXNjSGFuZGxlcihlLHQpfSx0LnByb3RvdHlwZS5yZWdpc3Rlck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGFyc2VyLnJlZ2lzdGVyT3NjSGFuZGxlcihlLG5ldyBnLk9zY0hhbmRsZXIodCkpfSx0LnByb3RvdHlwZS5iZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uUmVxdWVzdEJlbGwuZmlyZSgpLCEwfSx0LnByb3RvdHlwZS5saW5lRmVlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSx0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLmNvbnZlcnRFb2wmJih0aGlzLl9hY3RpdmVCdWZmZXIueD0wKSx0aGlzLl9hY3RpdmVCdWZmZXIueSsrLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PT09dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSsxPyh0aGlzLl9hY3RpdmVCdWZmZXIueS0tLHRoaXMuX2J1ZmZlclNlcnZpY2Uuc2Nyb2xsKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSkpOnRoaXMuX2FjdGl2ZUJ1ZmZlci55Pj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MmJih0aGlzLl9hY3RpdmVCdWZmZXIueT10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSksdGhpcy5fYWN0aXZlQnVmZmVyLng+PXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyYmdGhpcy5fYWN0aXZlQnVmZmVyLngtLSx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSx0aGlzLl9vbkxpbmVGZWVkLmZpcmUoKSwhMH0sdC5wcm90b3R5cGUuY2FycmlhZ2VSZXR1cm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQnVmZmVyLng9MCwhMH0sdC5wcm90b3R5cGUuYmFja3NwYWNlPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5yZXZlcnNlV3JhcGFyb3VuZClyZXR1cm4gdGhpcy5fcmVzdHJpY3RDdXJzb3IoKSx0aGlzLl9hY3RpdmVCdWZmZXIueD4wJiZ0aGlzLl9hY3RpdmVCdWZmZXIueC0tLCEwO2lmKHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyksdGhpcy5fYWN0aXZlQnVmZmVyLng+MCl0aGlzLl9hY3RpdmVCdWZmZXIueC0tO2Vsc2UgaWYoMD09PXRoaXMuX2FjdGl2ZUJ1ZmZlci54JiZ0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wJiZ0aGlzLl9hY3RpdmVCdWZmZXIueTw9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSYmKG51bGw9PT0oZT10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzV3JhcHBlZCkpe3RoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55KS5pc1dyYXBwZWQ9ITEsdGhpcy5fYWN0aXZlQnVmZmVyLnktLSx0aGlzLl9hY3RpdmVCdWZmZXIueD10aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMtMTt2YXIgdD10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSk7dC5oYXNXaWR0aCh0aGlzLl9hY3RpdmVCdWZmZXIueCkmJiF0Lmhhc0NvbnRlbnQodGhpcy5fYWN0aXZlQnVmZmVyLngpJiZ0aGlzLl9hY3RpdmVCdWZmZXIueC0tfXJldHVybiB0aGlzLl9yZXN0cmljdEN1cnNvcigpLCEwfSx0LnByb3RvdHlwZS50YWI9ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKXJldHVybiEwO3ZhciBlPXRoaXMuX2FjdGl2ZUJ1ZmZlci54O3JldHVybiB0aGlzLl9hY3RpdmVCdWZmZXIueD10aGlzLl9hY3RpdmVCdWZmZXIubmV4dFN0b3AoKSx0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLnNjcmVlblJlYWRlck1vZGUmJnRoaXMuX29uQTExeVRhYi5maXJlKHRoaXMuX2FjdGl2ZUJ1ZmZlci54LWUpLCEwfSx0LnByb3RvdHlwZS5zaGlmdE91dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnTGV2ZWwoMSksITB9LHQucHJvdG90eXBlLnNoaWZ0SW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hhcnNldFNlcnZpY2Uuc2V0Z0xldmVsKDApLCEwfSx0LnByb3RvdHlwZS5fcmVzdHJpY3RDdXJzb3I9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLTEpLHRoaXMuX2FjdGl2ZUJ1ZmZlci54PU1hdGgubWluKGUsTWF0aC5tYXgoMCx0aGlzLl9hY3RpdmVCdWZmZXIueCkpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5vcmlnaW4/TWF0aC5taW4odGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSxNYXRoLm1heCh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSk6TWF0aC5taW4odGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEsTWF0aC5tYXgoMCx0aGlzLl9hY3RpdmVCdWZmZXIueSkpLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnkpfSx0LnByb3RvdHlwZS5fc2V0Q3Vyc29yPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSksdGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLm9yaWdpbj8odGhpcy5fYWN0aXZlQnVmZmVyLng9ZSx0aGlzLl9hY3RpdmVCdWZmZXIueT10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wK3QpOih0aGlzLl9hY3RpdmVCdWZmZXIueD1lLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXQpLHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKCksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSl9LHQucHJvdG90eXBlLl9tb3ZlQ3Vyc29yPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcmVzdHJpY3RDdXJzb3IoKSx0aGlzLl9zZXRDdXJzb3IodGhpcy5fYWN0aXZlQnVmZmVyLngrZSx0aGlzLl9hY3RpdmVCdWZmZXIueSt0KX0sdC5wcm90b3R5cGUuY3Vyc29yVXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYWN0aXZlQnVmZmVyLnktdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcDtyZXR1cm4gdD49MD90aGlzLl9tb3ZlQ3Vyc29yKDAsLU1hdGgubWluKHQsZS5wYXJhbXNbMF18fDEpKTp0aGlzLl9tb3ZlQ3Vyc29yKDAsLShlLnBhcmFtc1swXXx8MSkpLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JEb3duPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20tdGhpcy5fYWN0aXZlQnVmZmVyLnk7cmV0dXJuIHQ+PTA/dGhpcy5fbW92ZUN1cnNvcigwLE1hdGgubWluKHQsZS5wYXJhbXNbMF18fDEpKTp0aGlzLl9tb3ZlQ3Vyc29yKDAsZS5wYXJhbXNbMF18fDEpLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JGb3J3YXJkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tb3ZlQ3Vyc29yKGUucGFyYW1zWzBdfHwxLDApLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JCYWNrd2FyZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbW92ZUN1cnNvcigtKGUucGFyYW1zWzBdfHwxKSwwKSwhMH0sdC5wcm90b3R5cGUuY3Vyc29yTmV4dExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3Vyc29yRG93bihlKSx0aGlzLl9hY3RpdmVCdWZmZXIueD0wLCEwfSx0LnByb3RvdHlwZS5jdXJzb3JQcmVjZWRpbmdMaW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnNvclVwKGUpLHRoaXMuX2FjdGl2ZUJ1ZmZlci54PTAsITB9LHQucHJvdG90eXBlLmN1cnNvckNoYXJBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yKChlLnBhcmFtc1swXXx8MSktMSx0aGlzLl9hY3RpdmVCdWZmZXIueSksITB9LHQucHJvdG90eXBlLmN1cnNvclBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRDdXJzb3IoZS5sZW5ndGg+PTI/KGUucGFyYW1zWzFdfHwxKS0xOjAsKGUucGFyYW1zWzBdfHwxKS0xKSwhMH0sdC5wcm90b3R5cGUuY2hhclBvc0Fic29sdXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRDdXJzb3IoKGUucGFyYW1zWzBdfHwxKS0xLHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSwhMH0sdC5wcm90b3R5cGUuaFBvc2l0aW9uUmVsYXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX21vdmVDdXJzb3IoZS5wYXJhbXNbMF18fDEsMCksITB9LHQucHJvdG90eXBlLmxpbmVQb3NBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yKHRoaXMuX2FjdGl2ZUJ1ZmZlci54LChlLnBhcmFtc1swXXx8MSktMSksITB9LHQucHJvdG90eXBlLnZQb3NpdGlvblJlbGF0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9tb3ZlQ3Vyc29yKDAsZS5wYXJhbXNbMF18fDEpLCEwfSx0LnByb3RvdHlwZS5oVlBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnNvclBvc2l0aW9uKGUpLCEwfSx0LnByb3RvdHlwZS50YWJDbGVhcj1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtc1swXTtyZXR1cm4gMD09PXQ/ZGVsZXRlIHRoaXMuX2FjdGl2ZUJ1ZmZlci50YWJzW3RoaXMuX2FjdGl2ZUJ1ZmZlci54XTozPT09dCYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci50YWJzPXt9KSwhMH0sdC5wcm90b3R5cGUuY3Vyc29yRm9yd2FyZFRhYj1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci54PXRoaXMuX2FjdGl2ZUJ1ZmZlci5uZXh0U3RvcCgpO3JldHVybiEwfSx0LnByb3RvdHlwZS5jdXJzb3JCYWNrd2FyZFRhYj1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci54PXRoaXMuX2FjdGl2ZUJ1ZmZlci5wcmV2U3RvcCgpO3JldHVybiEwfSx0LnByb3RvdHlwZS5fZXJhc2VJbkJ1ZmZlckxpbmU9ZnVuY3Rpb24oZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBuPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK2UpO24ucmVwbGFjZUNlbGxzKHQscix0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0TnVsbENlbGwodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLGkmJihuLmlzV3JhcHBlZD0hMSl9LHQucHJvdG90eXBlLl9yZXNldEJ1ZmZlckxpbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrZSk7dC5maWxsKHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpKSx0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci5jbGVhck1hcmtlcnModGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK2UpLHQuaXNXcmFwcGVkPSExfSx0LnByb3RvdHlwZS5lcmFzZUluRGlzcGxheT1mdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2godGhpcy5fcmVzdHJpY3RDdXJzb3IodGhpcy5fYnVmZmVyU2VydmljZS5jb2xzKSxlLnBhcmFtc1swXSl7Y2FzZSAwOmZvcih0PXRoaXMuX2FjdGl2ZUJ1ZmZlci55LHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodCksdGhpcy5fZXJhc2VJbkJ1ZmZlckxpbmUodCsrLHRoaXMuX2FjdGl2ZUJ1ZmZlci54LHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scywwPT09dGhpcy5fYWN0aXZlQnVmZmVyLngpO3Q8dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzO3QrKyl0aGlzLl9yZXNldEJ1ZmZlckxpbmUodCk7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0KTticmVhaztjYXNlIDE6Zm9yKHQ9dGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0KSx0aGlzLl9lcmFzZUluQnVmZmVyTGluZSh0LDAsdGhpcy5fYWN0aXZlQnVmZmVyLngrMSwhMCksdGhpcy5fYWN0aXZlQnVmZmVyLngrMT49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzJiYodGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0KzEpLmlzV3JhcHBlZD0hMSk7dC0tOyl0aGlzLl9yZXNldEJ1ZmZlckxpbmUodCk7dGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSgwKTticmVhaztjYXNlIDI6Zm9yKHQ9dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodC0xKTt0LS07KXRoaXMuX3Jlc2V0QnVmZmVyTGluZSh0KTt0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KDApO2JyZWFrO2Nhc2UgMzp2YXIgcj10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMubGVuZ3RoLXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cztyPjAmJih0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMudHJpbVN0YXJ0KHIpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZT1NYXRoLm1heCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UtciwwKSx0aGlzLl9hY3RpdmVCdWZmZXIueWRpc3A9TWF0aC5tYXgodGhpcy5fYWN0aXZlQnVmZmVyLnlkaXNwLXIsMCksdGhpcy5fb25TY3JvbGwuZmlyZSgwKSl9cmV0dXJuITB9LHQucHJvdG90eXBlLmVyYXNlSW5MaW5lPWZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLl9yZXN0cmljdEN1cnNvcih0aGlzLl9idWZmZXJTZXJ2aWNlLmNvbHMpLGUucGFyYW1zWzBdKXtjYXNlIDA6dGhpcy5fZXJhc2VJbkJ1ZmZlckxpbmUodGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLngsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLDA9PT10aGlzLl9hY3RpdmVCdWZmZXIueCk7YnJlYWs7Y2FzZSAxOnRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHRoaXMuX2FjdGl2ZUJ1ZmZlci55LDAsdGhpcy5fYWN0aXZlQnVmZmVyLngrMSwhMSk7YnJlYWs7Y2FzZSAyOnRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHRoaXMuX2FjdGl2ZUJ1ZmZlci55LDAsdGhpcy5fYnVmZmVyU2VydmljZS5jb2xzLCEwKX1yZXR1cm4gdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSksITB9LHQucHJvdG90eXBlLmluc2VydExpbmVzPWZ1bmN0aW9uKGUpe3RoaXMuX3Jlc3RyaWN0Q3Vyc29yKCk7dmFyIHQ9ZS5wYXJhbXNbMF18fDE7aWYodGhpcy5fYWN0aXZlQnVmZmVyLnk+dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbXx8dGhpcy5fYWN0aXZlQnVmZmVyLnk8dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcClyZXR1cm4hMDtmb3IodmFyIHI9dGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55LGk9dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEtdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSxuPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xK3RoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZS1pKzE7dC0tOyl0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuc3BsaWNlKG4tMSwxKSx0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuc3BsaWNlKHIsMCx0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0QmxhbmtMaW5lKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSkpO3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya1JhbmdlRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSksdGhpcy5fYWN0aXZlQnVmZmVyLng9MCwhMH0sdC5wcm90b3R5cGUuZGVsZXRlTGluZXM9ZnVuY3Rpb24oZSl7dGhpcy5fcmVzdHJpY3RDdXJzb3IoKTt2YXIgdD1lLnBhcmFtc1swXXx8MTtpZih0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tfHx0aGlzLl9hY3RpdmVCdWZmZXIueTx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wKXJldHVybiEwO3ZhciByLGk9dGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55O2ZvcihyPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xLXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20scj10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSt0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2Utcjt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zcGxpY2UoaSwxKSx0aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuc3BsaWNlKHIsMCx0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0QmxhbmtMaW5lKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSkpO3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya1JhbmdlRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSksdGhpcy5fYWN0aXZlQnVmZmVyLng9MCwhMH0sdC5wcm90b3R5cGUuaW5zZXJ0Q2hhcnM9ZnVuY3Rpb24oZSl7dGhpcy5fcmVzdHJpY3RDdXJzb3IoKTt2YXIgdD10aGlzLl9hY3RpdmVCdWZmZXIubGluZXMuZ2V0KHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSk7cmV0dXJuIHQmJih0Lmluc2VydENlbGxzKHRoaXMuX2FjdGl2ZUJ1ZmZlci54LGUucGFyYW1zWzBdfHwxLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIueSkpLCEwfSx0LnByb3RvdHlwZS5kZWxldGVDaGFycz1mdW5jdGlvbihlKXt0aGlzLl9yZXN0cmljdEN1cnNvcigpO3ZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55KTtyZXR1cm4gdCYmKHQuZGVsZXRlQ2VsbHModGhpcy5fYWN0aXZlQnVmZmVyLngsZS5wYXJhbXNbMF18fDEsdGhpcy5fYWN0aXZlQnVmZmVyLmdldE51bGxDZWxsKHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksdGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya0RpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci55KSksITB9LHQucHJvdG90eXBlLnNjcm9sbFVwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zcGxpY2UodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3AsMSksdGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLnNwbGljZSh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSwwLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXRCbGFua0xpbmUodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSk7cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5zY3JvbGxEb3duPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MTt0LS07KXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zcGxpY2UodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20sMSksdGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLnNwbGljZSh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcCwwLHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXRCbGFua0xpbmUoZi5ERUZBVUxUX0FUVFJfREFUQSkpO3JldHVybiB0aGlzLl9kaXJ0eVJvd1NlcnZpY2UubWFya1JhbmdlRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcCx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tKSwhMH0sdC5wcm90b3R5cGUuc2Nyb2xsTGVmdD1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tfHx0aGlzLl9hY3RpdmVCdWZmZXIueTx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MSxyPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3A7cjw9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbTsrK3Ipe3ZhciBpPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3IpO2kuZGVsZXRlQ2VsbHMoMCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5zY3JvbGxSaWdodD1mdW5jdGlvbihlKXtpZih0aGlzLl9hY3RpdmVCdWZmZXIueT50aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tfHx0aGlzLl9hY3RpdmVCdWZmZXIueTx0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wKXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MSxyPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3A7cjw9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbTsrK3Ipe3ZhciBpPXRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5nZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3IpO2kuaW5zZXJ0Q2VsbHMoMCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5pbnNlcnRDb2x1bW5zPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PnRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b218fHRoaXMuX2FjdGl2ZUJ1ZmZlci55PHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3ApcmV0dXJuITA7Zm9yKHZhciB0PWUucGFyYW1zWzBdfHwxLHI9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcDtyPD10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tOysrcil7dmFyIGk9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2Urcik7aS5pbnNlcnRDZWxscyh0aGlzLl9hY3RpdmVCdWZmZXIueCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5kZWxldGVDb2x1bW5zPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PnRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b218fHRoaXMuX2FjdGl2ZUJ1ZmZlci55PHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3ApcmV0dXJuITA7Zm9yKHZhciB0PWUucGFyYW1zWzBdfHwxLHI9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcDtyPD10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tOysrcil7dmFyIGk9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2Urcik7aS5kZWxldGVDZWxscyh0aGlzLl9hY3RpdmVCdWZmZXIueCx0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXROdWxsQ2VsbCh0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2VyYXNlQXR0ckRhdGEoKSksaS5pc1dyYXBwZWQ9ITF9cmV0dXJuIHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrUmFuZ2VEaXJ0eSh0aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b20pLCEwfSx0LnByb3RvdHlwZS5lcmFzZUNoYXJzPWZ1bmN0aW9uKGUpe3RoaXMuX3Jlc3RyaWN0Q3Vyc29yKCk7dmFyIHQ9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldCh0aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnkpO3JldHVybiB0JiYodC5yZXBsYWNlQ2VsbHModGhpcy5fYWN0aXZlQnVmZmVyLngsdGhpcy5fYWN0aXZlQnVmZmVyLngrKGUucGFyYW1zWzBdfHwxKSx0aGlzLl9hY3RpdmVCdWZmZXIuZ2V0TnVsbENlbGwodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9lcmFzZUF0dHJEYXRhKCkpLHRoaXMuX2RpcnR5Um93U2VydmljZS5tYXJrRGlydHkodGhpcy5fYWN0aXZlQnVmZmVyLnkpKSwhMH0sdC5wcm90b3R5cGUucmVwZWF0UHJlY2VkaW5nQ2hhcmFjdGVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9wYXJzZXIucHJlY2VkaW5nQ29kZXBvaW50KXJldHVybiEwO2Zvcih2YXIgdD1lLnBhcmFtc1swXXx8MSxyPW5ldyBVaW50MzJBcnJheSh0KSxpPTA7aTx0OysraSlyW2ldPXRoaXMuX3BhcnNlci5wcmVjZWRpbmdDb2RlcG9pbnQ7cmV0dXJuIHRoaXMucHJpbnQociwwLHIubGVuZ3RoKSwhMH0sdC5wcm90b3R5cGUuc2VuZERldmljZUF0dHJpYnV0ZXNQcmltYXJ5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtc1swXT4wfHwodGhpcy5faXMoXCJ4dGVybVwiKXx8dGhpcy5faXMoXCJyeHZ0LXVuaWNvZGVcIil8fHRoaXMuX2lzKFwic2NyZWVuXCIpP3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbPzE7MmNcIik6dGhpcy5faXMoXCJsaW51eFwiKSYmdGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls/NmNcIikpLCEwfSx0LnByb3RvdHlwZS5zZW5kRGV2aWNlQXR0cmlidXRlc1NlY29uZGFyeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXNbMF0+MHx8KHRoaXMuX2lzKFwieHRlcm1cIik/dGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls+MDsyNzY7MGNcIik6dGhpcy5faXMoXCJyeHZ0LXVuaWNvZGVcIik/dGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls+ODU7OTU7MGNcIik6dGhpcy5faXMoXCJsaW51eFwiKT90aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KGUucGFyYW1zWzBdK1wiY1wiKTp0aGlzLl9pcyhcInNjcmVlblwiKSYmdGhpcy5fY29yZVNlcnZpY2UudHJpZ2dlckRhdGFFdmVudChzLkMwLkVTQytcIls+ODM7NDAwMDM7MGNcIikpLCEwfSx0LnByb3RvdHlwZS5faXM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT0odGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy50ZXJtTmFtZStcIlwiKS5pbmRleE9mKGUpfSx0LnByb3RvdHlwZS5zZXRNb2RlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKTQ9PT1lLnBhcmFtc1t0XSYmKHRoaXMuX2NvcmVTZXJ2aWNlLm1vZGVzLmluc2VydE1vZGU9ITApO3JldHVybiEwfSx0LnByb3RvdHlwZS5zZXRNb2RlUHJpdmF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylzd2l0Y2goZS5wYXJhbXNbdF0pe2Nhc2UgMTp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25DdXJzb3JLZXlzPSEwO2JyZWFrO2Nhc2UgMjp0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgwLGEuREVGQVVMVF9DSEFSU0VUKSx0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgxLGEuREVGQVVMVF9DSEFSU0VUKSx0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgyLGEuREVGQVVMVF9DSEFSU0VUKSx0aGlzLl9jaGFyc2V0U2VydmljZS5zZXRnQ2hhcnNldCgzLGEuREVGQVVMVF9DSEFSU0VUKTticmVhaztjYXNlIDM6dGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy53aW5kb3dPcHRpb25zLnNldFdpbkxpbmVzJiYodGhpcy5fYnVmZmVyU2VydmljZS5yZXNpemUoMTMyLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyksdGhpcy5fb25SZXF1ZXN0UmVzZXQuZmlyZSgpKTticmVhaztjYXNlIDY6dGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLm9yaWdpbj0hMCx0aGlzLl9zZXRDdXJzb3IoMCwwKTticmVhaztjYXNlIDc6dGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLndyYXBhcm91bmQ9ITA7YnJlYWs7Y2FzZSAxMjpicmVhaztjYXNlIDQ1OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5yZXZlcnNlV3JhcGFyb3VuZD0hMDticmVhaztjYXNlIDY2OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJTZXJpYWwgcG9ydCByZXF1ZXN0ZWQgYXBwbGljYXRpb24ga2V5cGFkLlwiKSx0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25LZXlwYWQ9ITAsdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCk7YnJlYWs7Y2FzZSA5OnRoaXMuX2NvcmVNb3VzZVNlcnZpY2UuYWN0aXZlUHJvdG9jb2w9XCJYMTBcIjticmVhaztjYXNlIDFlMzp0aGlzLl9jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZVByb3RvY29sPVwiVlQyMDBcIjticmVhaztjYXNlIDEwMDI6dGhpcy5fY29yZU1vdXNlU2VydmljZS5hY3RpdmVQcm90b2NvbD1cIkRSQUdcIjticmVhaztjYXNlIDEwMDM6dGhpcy5fY29yZU1vdXNlU2VydmljZS5hY3RpdmVQcm90b2NvbD1cIkFOWVwiO2JyZWFrO2Nhc2UgMTAwNDp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuc2VuZEZvY3VzPSEwLHRoaXMuX29uUmVxdWVzdFNlbmRGb2N1cy5maXJlKCk7YnJlYWs7Y2FzZSAxMDA1OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJERUNTRVQgMTAwNSBub3Qgc3VwcG9ydGVkIChzZWUgIzI1MDcpXCIpO2JyZWFrO2Nhc2UgMTAwNjp0aGlzLl9jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZUVuY29kaW5nPVwiU0dSXCI7YnJlYWs7Y2FzZSAxMDE1OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJERUNTRVQgMTAxNSBub3Qgc3VwcG9ydGVkIChzZWUgIzI1MDcpXCIpO2JyZWFrO2Nhc2UgMjU6dGhpcy5fY29yZVNlcnZpY2UuaXNDdXJzb3JIaWRkZW49ITE7YnJlYWs7Y2FzZSAxMDQ4OnRoaXMuc2F2ZUN1cnNvcigpO2JyZWFrO2Nhc2UgMTA0OTp0aGlzLnNhdmVDdXJzb3IoKTtjYXNlIDQ3OmNhc2UgMTA0Nzp0aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcnMuYWN0aXZhdGVBbHRCdWZmZXIodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSx0aGlzLl9jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkPSEwLHRoaXMuX29uUmVxdWVzdFJlZnJlc2hSb3dzLmZpcmUoMCx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSksdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCk7YnJlYWs7Y2FzZSAyMDA0OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5icmFja2V0ZWRQYXN0ZU1vZGU9ITB9cmV0dXJuITB9LHQucHJvdG90eXBlLnJlc2V0TW9kZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyk0PT09ZS5wYXJhbXNbdF0mJih0aGlzLl9jb3JlU2VydmljZS5tb2Rlcy5pbnNlcnRNb2RlPSExKTtyZXR1cm4hMH0sdC5wcm90b3R5cGUucmVzZXRNb2RlUHJpdmF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylzd2l0Y2goZS5wYXJhbXNbdF0pe2Nhc2UgMTp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMuYXBwbGljYXRpb25DdXJzb3JLZXlzPSExO2JyZWFrO2Nhc2UgMzp0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLndpbmRvd09wdGlvbnMuc2V0V2luTGluZXMmJih0aGlzLl9idWZmZXJTZXJ2aWNlLnJlc2l6ZSg4MCx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpLHRoaXMuX29uUmVxdWVzdFJlc2V0LmZpcmUoKSk7YnJlYWs7Y2FzZSA2OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5vcmlnaW49ITEsdGhpcy5fc2V0Q3Vyc29yKDAsMCk7YnJlYWs7Y2FzZSA3OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy53cmFwYXJvdW5kPSExO2JyZWFrO2Nhc2UgMTI6YnJlYWs7Y2FzZSA0NTp0aGlzLl9jb3JlU2VydmljZS5kZWNQcml2YXRlTW9kZXMucmV2ZXJzZVdyYXBhcm91bmQ9ITE7YnJlYWs7Y2FzZSA2Njp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiU3dpdGNoaW5nIGJhY2sgdG8gbm9ybWFsIGtleXBhZC5cIiksdGhpcy5fY29yZVNlcnZpY2UuZGVjUHJpdmF0ZU1vZGVzLmFwcGxpY2F0aW9uS2V5cGFkPSExLHRoaXMuX29uUmVxdWVzdFN5bmNTY3JvbGxCYXIuZmlyZSgpO2JyZWFrO2Nhc2UgOTpjYXNlIDFlMzpjYXNlIDEwMDI6Y2FzZSAxMDAzOnRoaXMuX2NvcmVNb3VzZVNlcnZpY2UuYWN0aXZlUHJvdG9jb2w9XCJOT05FXCI7YnJlYWs7Y2FzZSAxMDA0OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5zZW5kRm9jdXM9ITE7YnJlYWs7Y2FzZSAxMDA1OnRoaXMuX2xvZ1NlcnZpY2UuZGVidWcoXCJERUNSU1QgMTAwNSBub3Qgc3VwcG9ydGVkIChzZWUgIzI1MDcpXCIpO2JyZWFrO2Nhc2UgMTAwNjp0aGlzLl9jb3JlTW91c2VTZXJ2aWNlLmFjdGl2ZUVuY29kaW5nPVwiREVGQVVMVFwiO2JyZWFrO2Nhc2UgMTAxNTp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiREVDUlNUIDEwMTUgbm90IHN1cHBvcnRlZCAoc2VlICMyNTA3KVwiKTticmVhaztjYXNlIDI1OnRoaXMuX2NvcmVTZXJ2aWNlLmlzQ3Vyc29ySGlkZGVuPSEwO2JyZWFrO2Nhc2UgMTA0ODp0aGlzLnJlc3RvcmVDdXJzb3IoKTticmVhaztjYXNlIDEwNDk6Y2FzZSA0NzpjYXNlIDEwNDc6dGhpcy5fYnVmZmVyU2VydmljZS5idWZmZXJzLmFjdGl2YXRlTm9ybWFsQnVmZmVyKCksMTA0OT09PWUucGFyYW1zW3RdJiZ0aGlzLnJlc3RvcmVDdXJzb3IoKSx0aGlzLl9jb3JlU2VydmljZS5pc0N1cnNvckluaXRpYWxpemVkPSEwLHRoaXMuX29uUmVxdWVzdFJlZnJlc2hSb3dzLmZpcmUoMCx0aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MtMSksdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCk7YnJlYWs7Y2FzZSAyMDA0OnRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5icmFja2V0ZWRQYXN0ZU1vZGU9ITF9cmV0dXJuITB9LHQucHJvdG90eXBlLl91cGRhdGVBdHRyQ29sb3I9ZnVuY3Rpb24oZSx0LHIsaSxuKXtyZXR1cm4gMj09PXQ/KGV8PTUwMzMxNjQ4LGUmPS0xNjc3NzIxNixlfD12LkF0dHJpYnV0ZURhdGEuZnJvbUNvbG9yUkdCKFtyLGksbl0pKTo1PT09dCYmKGUmPS01MDMzMTkwNCxlfD0zMzU1NDQzMnwyNTUmciksZX0sdC5wcm90b3R5cGUuX2V4dHJhY3RDb2xvcj1mdW5jdGlvbihlLHQscil7dmFyIGk9WzAsMCwtMSwwLDAsMF0sbj0wLG89MDtkb3tpZihpW28rbl09ZS5wYXJhbXNbdCtvXSxlLmhhc1N1YlBhcmFtcyh0K28pKXt2YXIgcz1lLmdldFN1YlBhcmFtcyh0K28pLGE9MDtkb3s1PT09aVsxXSYmKG49MSksaVtvK2ErMStuXT1zW2FdfXdoaWxlKCsrYTxzLmxlbmd0aCYmYStvKzErbjxpLmxlbmd0aCk7YnJlYWt9aWYoNT09PWlbMV0mJm8rbj49Mnx8Mj09PWlbMV0mJm8rbj49NSlicmVhaztpWzFdJiYobj0xKX13aGlsZSgrK28rdDxlLmxlbmd0aCYmbytuPGkubGVuZ3RoKTtmb3IoYT0yO2E8aS5sZW5ndGg7KythKS0xPT09aVthXSYmKGlbYV09MCk7c3dpdGNoKGlbMF0pe2Nhc2UgMzg6ci5mZz10aGlzLl91cGRhdGVBdHRyQ29sb3Ioci5mZyxpWzFdLGlbM10saVs0XSxpWzVdKTticmVhaztjYXNlIDQ4OnIuYmc9dGhpcy5fdXBkYXRlQXR0ckNvbG9yKHIuYmcsaVsxXSxpWzNdLGlbNF0saVs1XSk7YnJlYWs7Y2FzZSA1ODpyLmV4dGVuZGVkPXIuZXh0ZW5kZWQuY2xvbmUoKSxyLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yPXRoaXMuX3VwZGF0ZUF0dHJDb2xvcihyLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yLGlbMV0saVszXSxpWzRdLGlbNV0pfXJldHVybiBvfSx0LnByb3RvdHlwZS5fcHJvY2Vzc1VuZGVybGluZT1mdW5jdGlvbihlLHQpe3QuZXh0ZW5kZWQ9dC5leHRlbmRlZC5jbG9uZSgpLCghfmV8fGU+NSkmJihlPTEpLHQuZXh0ZW5kZWQudW5kZXJsaW5lU3R5bGU9ZSx0LmZnfD0yNjg0MzU0NTYsMD09PWUmJih0LmZnJj0tMjY4NDM1NDU3KSx0LnVwZGF0ZUV4dGVuZGVkKCl9LHQucHJvdG90eXBlLmNoYXJBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUpe2lmKDE9PT1lLmxlbmd0aCYmMD09PWUucGFyYW1zWzBdKXJldHVybiB0aGlzLl9jdXJBdHRyRGF0YS5mZz1mLkRFRkFVTFRfQVRUUl9EQVRBLmZnLHRoaXMuX2N1ckF0dHJEYXRhLmJnPWYuREVGQVVMVF9BVFRSX0RBVEEuYmcsITA7Zm9yKHZhciB0LHI9ZS5sZW5ndGgsaT10aGlzLl9jdXJBdHRyRGF0YSxuPTA7bjxyO24rKykodD1lLnBhcmFtc1tuXSk+PTMwJiZ0PD0zNz8oaS5mZyY9LTUwMzMxOTA0LGkuZmd8PTE2Nzc3MjE2fHQtMzApOnQ+PTQwJiZ0PD00Nz8oaS5iZyY9LTUwMzMxOTA0LGkuYmd8PTE2Nzc3MjE2fHQtNDApOnQ+PTkwJiZ0PD05Nz8oaS5mZyY9LTUwMzMxOTA0LGkuZmd8PTE2Nzc3MjI0fHQtOTApOnQ+PTEwMCYmdDw9MTA3PyhpLmJnJj0tNTAzMzE5MDQsaS5iZ3w9MTY3NzcyMjR8dC0xMDApOjA9PT10PyhpLmZnPWYuREVGQVVMVF9BVFRSX0RBVEEuZmcsaS5iZz1mLkRFRkFVTFRfQVRUUl9EQVRBLmJnKToxPT09dD9pLmZnfD0xMzQyMTc3Mjg6Mz09PXQ/aS5iZ3w9NjcxMDg4NjQ6ND09PXQ/KGkuZmd8PTI2ODQzNTQ1Nix0aGlzLl9wcm9jZXNzVW5kZXJsaW5lKGUuaGFzU3ViUGFyYW1zKG4pP2UuZ2V0U3ViUGFyYW1zKG4pWzBdOjEsaSkpOjU9PT10P2kuZmd8PTUzNjg3MDkxMjo3PT09dD9pLmZnfD02NzEwODg2NDo4PT09dD9pLmZnfD0xMDczNzQxODI0Ojk9PT10P2kuZmd8PTIxNDc0ODM2NDg6Mj09PXQ/aS5iZ3w9MTM0MjE3NzI4OjIxPT09dD90aGlzLl9wcm9jZXNzVW5kZXJsaW5lKDIsaSk6MjI9PT10PyhpLmZnJj0tMTM0MjE3NzI5LGkuYmcmPS0xMzQyMTc3MjkpOjIzPT09dD9pLmJnJj0tNjcxMDg4NjU6MjQ9PT10P2kuZmcmPS0yNjg0MzU0NTc6MjU9PT10P2kuZmcmPS01MzY4NzA5MTM6Mjc9PT10P2kuZmcmPS02NzEwODg2NToyOD09PXQ/aS5mZyY9LTEwNzM3NDE4MjU6Mjk9PT10P2kuZmcmPTIxNDc0ODM2NDc6Mzk9PT10PyhpLmZnJj0tNjcxMDg4NjQsaS5mZ3w9MTY3NzcyMTUmZi5ERUZBVUxUX0FUVFJfREFUQS5mZyk6NDk9PT10PyhpLmJnJj0tNjcxMDg4NjQsaS5iZ3w9MTY3NzcyMTUmZi5ERUZBVUxUX0FUVFJfREFUQS5iZyk6Mzg9PT10fHw0OD09PXR8fDU4PT09dD9uKz10aGlzLl9leHRyYWN0Q29sb3IoZSxuLGkpOjU5PT09dD8oaS5leHRlbmRlZD1pLmV4dGVuZGVkLmNsb25lKCksaS5leHRlbmRlZC51bmRlcmxpbmVDb2xvcj0tMSxpLnVwZGF0ZUV4dGVuZGVkKCkpOjEwMD09PXQ/KGkuZmcmPS02NzEwODg2NCxpLmZnfD0xNjc3NzIxNSZmLkRFRkFVTFRfQVRUUl9EQVRBLmZnLGkuYmcmPS02NzEwODg2NCxpLmJnfD0xNjc3NzIxNSZmLkRFRkFVTFRfQVRUUl9EQVRBLmJnKTp0aGlzLl9sb2dTZXJ2aWNlLmRlYnVnKFwiVW5rbm93biBTR1IgYXR0cmlidXRlOiAlZC5cIix0KTtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZGV2aWNlU3RhdHVzPWZ1bmN0aW9uKGUpe3N3aXRjaChlLnBhcmFtc1swXSl7Y2FzZSA1OnRoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbMG5cIik7YnJlYWs7Y2FzZSA2OnZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci55KzEscj10aGlzLl9hY3RpdmVCdWZmZXIueCsxO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbXCIrdCtcIjtcIityK1wiUlwiKX1yZXR1cm4hMH0sdC5wcm90b3R5cGUuZGV2aWNlU3RhdHVzUHJpdmF0ZT1mdW5jdGlvbihlKXtpZig2PT09ZS5wYXJhbXNbMF0pe3ZhciB0PXRoaXMuX2FjdGl2ZUJ1ZmZlci55KzEscj10aGlzLl9hY3RpdmVCdWZmZXIueCsxO3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJEYXRhRXZlbnQocy5DMC5FU0MrXCJbP1wiK3QrXCI7XCIrcitcIlJcIil9cmV0dXJuITB9LHQucHJvdG90eXBlLnNvZnRSZXNldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29yZVNlcnZpY2UuaXNDdXJzb3JIaWRkZW49ITEsdGhpcy5fb25SZXF1ZXN0U3luY1Njcm9sbEJhci5maXJlKCksdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcD0wLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b209dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzLTEsdGhpcy5fY3VyQXR0ckRhdGE9Zi5ERUZBVUxUX0FUVFJfREFUQS5jbG9uZSgpLHRoaXMuX2NvcmVTZXJ2aWNlLnJlc2V0KCksdGhpcy5fY2hhcnNldFNlcnZpY2UucmVzZXQoKSx0aGlzLl9hY3RpdmVCdWZmZXIuc2F2ZWRYPTAsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkWT10aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuZmc9dGhpcy5fY3VyQXR0ckRhdGEuZmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuYmc9dGhpcy5fY3VyQXR0ckRhdGEuYmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ2hhcnNldD10aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0LHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5vcmlnaW49ITEsITB9LHQucHJvdG90eXBlLnNldEN1cnNvclN0eWxlPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zWzBdfHwxO3N3aXRjaCh0KXtjYXNlIDE6Y2FzZSAyOnRoaXMuX29wdGlvbnNTZXJ2aWNlLm9wdGlvbnMuY3Vyc29yU3R5bGU9XCJibG9ja1wiO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6dGhpcy5fb3B0aW9uc1NlcnZpY2Uub3B0aW9ucy5jdXJzb3JTdHlsZT1cInVuZGVybGluZVwiO2JyZWFrO2Nhc2UgNTpjYXNlIDY6dGhpcy5fb3B0aW9uc1NlcnZpY2Uub3B0aW9ucy5jdXJzb3JTdHlsZT1cImJhclwifXZhciByPXQlMj09MTtyZXR1cm4gdGhpcy5fb3B0aW9uc1NlcnZpY2Uub3B0aW9ucy5jdXJzb3JCbGluaz1yLCEwfSx0LnByb3RvdHlwZS5zZXRTY3JvbGxSZWdpb249ZnVuY3Rpb24oZSl7dmFyIHQscj1lLnBhcmFtc1swXXx8MTtyZXR1cm4oZS5sZW5ndGg8Mnx8KHQ9ZS5wYXJhbXNbMV0pPnRoaXMuX2J1ZmZlclNlcnZpY2Uucm93c3x8MD09PXQpJiYodD10aGlzLl9idWZmZXJTZXJ2aWNlLnJvd3MpLHQ+ciYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3A9ci0xLHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxCb3R0b209dC0xLHRoaXMuX3NldEN1cnNvcigwLDApKSwhMH0sdC5wcm90b3R5cGUud2luZG93T3B0aW9ucz1mdW5jdGlvbihlKXtpZighdyhlLnBhcmFtc1swXSx0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLndpbmRvd09wdGlvbnMpKXJldHVybiEwO3ZhciB0PWUubGVuZ3RoPjE/ZS5wYXJhbXNbMV06MDtzd2l0Y2goZS5wYXJhbXNbMF0pe2Nhc2UgMTQ6MiE9PXQmJnRoaXMuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0LmZpcmUoby5HRVRfV0lOX1NJWkVfUElYRUxTKTticmVhaztjYXNlIDE2OnRoaXMuX29uUmVxdWVzdFdpbmRvd3NPcHRpb25zUmVwb3J0LmZpcmUoby5HRVRfQ0VMTF9TSVpFX1BJWEVMUyk7YnJlYWs7Y2FzZSAxODp0aGlzLl9idWZmZXJTZXJ2aWNlJiZ0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHMuQzAuRVNDK1wiWzg7XCIrdGhpcy5fYnVmZmVyU2VydmljZS5yb3dzK1wiO1wiK3RoaXMuX2J1ZmZlclNlcnZpY2UuY29scytcInRcIik7YnJlYWs7Y2FzZSAyMjowIT09dCYmMiE9PXR8fCh0aGlzLl93aW5kb3dUaXRsZVN0YWNrLnB1c2godGhpcy5fd2luZG93VGl0bGUpLHRoaXMuX3dpbmRvd1RpdGxlU3RhY2subGVuZ3RoPjEwJiZ0aGlzLl93aW5kb3dUaXRsZVN0YWNrLnNoaWZ0KCkpLDAhPT10JiYxIT09dHx8KHRoaXMuX2ljb25OYW1lU3RhY2sucHVzaCh0aGlzLl9pY29uTmFtZSksdGhpcy5faWNvbk5hbWVTdGFjay5sZW5ndGg+MTAmJnRoaXMuX2ljb25OYW1lU3RhY2suc2hpZnQoKSk7YnJlYWs7Y2FzZSAyMzowIT09dCYmMiE9PXR8fHRoaXMuX3dpbmRvd1RpdGxlU3RhY2subGVuZ3RoJiZ0aGlzLnNldFRpdGxlKHRoaXMuX3dpbmRvd1RpdGxlU3RhY2sucG9wKCkpLDAhPT10JiYxIT09dHx8dGhpcy5faWNvbk5hbWVTdGFjay5sZW5ndGgmJnRoaXMuc2V0SWNvbk5hbWUodGhpcy5faWNvbk5hbWVTdGFjay5wb3AoKSl9cmV0dXJuITB9LHQucHJvdG90eXBlLnNhdmVDdXJzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZFg9dGhpcy5fYWN0aXZlQnVmZmVyLngsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkWT10aGlzLl9hY3RpdmVCdWZmZXIueWJhc2UrdGhpcy5fYWN0aXZlQnVmZmVyLnksdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuZmc9dGhpcy5fY3VyQXR0ckRhdGEuZmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ3VyQXR0ckRhdGEuYmc9dGhpcy5fY3VyQXR0ckRhdGEuYmcsdGhpcy5fYWN0aXZlQnVmZmVyLnNhdmVkQ2hhcnNldD10aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0LCEwfSx0LnByb3RvdHlwZS5yZXN0b3JlQ3Vyc29yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hY3RpdmVCdWZmZXIueD10aGlzLl9hY3RpdmVCdWZmZXIuc2F2ZWRYfHwwLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PU1hdGgubWF4KHRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZFktdGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlLDApLHRoaXMuX2N1ckF0dHJEYXRhLmZnPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZEN1ckF0dHJEYXRhLmZnLHRoaXMuX2N1ckF0dHJEYXRhLmJnPXRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZEN1ckF0dHJEYXRhLmJnLHRoaXMuX2NoYXJzZXRTZXJ2aWNlLmNoYXJzZXQ9dGhpcy5fc2F2ZWRDaGFyc2V0LHRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZENoYXJzZXQmJih0aGlzLl9jaGFyc2V0U2VydmljZS5jaGFyc2V0PXRoaXMuX2FjdGl2ZUJ1ZmZlci5zYXZlZENoYXJzZXQpLHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKCksITB9LHQucHJvdG90eXBlLnNldFRpdGxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl93aW5kb3dUaXRsZT1lLHRoaXMuX29uVGl0bGVDaGFuZ2UuZmlyZShlKSwhMH0sdC5wcm90b3R5cGUuc2V0SWNvbk5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ljb25OYW1lPWUsITB9LHQucHJvdG90eXBlLnNldE9yUmVwb3J0SW5kZXhlZENvbG9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPWUuc3BsaXQoXCI7XCIpO3IubGVuZ3RoPjE7KXt2YXIgaT1yLnNoaWZ0KCksbj1yLnNoaWZ0KCk7aWYoL15cXGQrJC8uZXhlYyhpKSl7dmFyIG89cGFyc2VJbnQoaSk7aWYoMDw9byYmbzwyNTYpaWYoXCI/XCI9PT1uKXQucHVzaCh7dHlwZTowLGluZGV4Om99KTtlbHNle3ZhciBzPSgwLGIucGFyc2VDb2xvcikobik7cyYmdC5wdXNoKHt0eXBlOjEsaW5kZXg6byxjb2xvcjpzfSl9fX1yZXR1cm4gdC5sZW5ndGgmJnRoaXMuX29uQ29sb3IuZmlyZSh0KSwhMH0sdC5wcm90b3R5cGUuX3NldE9yUmVwb3J0U3BlY2lhbENvbG9yPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUuc3BsaXQoXCI7XCIpLGk9MDtpPHIubGVuZ3RoJiYhKHQ+PXRoaXMuX3NwZWNpYWxDb2xvcnMubGVuZ3RoKTsrK2ksKyt0KWlmKFwiP1wiPT09cltpXSl0aGlzLl9vbkNvbG9yLmZpcmUoW3t0eXBlOjAsaW5kZXg6dGhpcy5fc3BlY2lhbENvbG9yc1t0XX1dKTtlbHNle3ZhciBuPSgwLGIucGFyc2VDb2xvcikocltpXSk7biYmdGhpcy5fb25Db2xvci5maXJlKFt7dHlwZToxLGluZGV4OnRoaXMuX3NwZWNpYWxDb2xvcnNbdF0sY29sb3I6bn1dKX1yZXR1cm4hMH0sdC5wcm90b3R5cGUuc2V0T3JSZXBvcnRGZ0NvbG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRPclJlcG9ydFNwZWNpYWxDb2xvcihlLDApfSx0LnByb3RvdHlwZS5zZXRPclJlcG9ydEJnQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldE9yUmVwb3J0U3BlY2lhbENvbG9yKGUsMSl9LHQucHJvdG90eXBlLnNldE9yUmVwb3J0Q3Vyc29yQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldE9yUmVwb3J0U3BlY2lhbENvbG9yKGUsMil9LHQucHJvdG90eXBlLnJlc3RvcmVJbmRleGVkQ29sb3I9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXMuX29uQ29sb3IuZmlyZShbe3R5cGU6Mn1dKSwhMDtmb3IodmFyIHQ9W10scj1lLnNwbGl0KFwiO1wiKSxpPTA7aTxyLmxlbmd0aDsrK2kpaWYoL15cXGQrJC8uZXhlYyhyW2ldKSl7dmFyIG49cGFyc2VJbnQocltpXSk7MDw9biYmbjwyNTYmJnQucHVzaCh7dHlwZToyLGluZGV4Om59KX1yZXR1cm4gdC5sZW5ndGgmJnRoaXMuX29uQ29sb3IuZmlyZSh0KSwhMH0sdC5wcm90b3R5cGUucmVzdG9yZUZnQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uQ29sb3IuZmlyZShbe3R5cGU6MixpbmRleDoyNTZ9XSksITB9LHQucHJvdG90eXBlLnJlc3RvcmVCZ0NvbG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vbkNvbG9yLmZpcmUoW3t0eXBlOjIsaW5kZXg6MjU3fV0pLCEwfSx0LnByb3RvdHlwZS5yZXN0b3JlQ3Vyc29yQ29sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uQ29sb3IuZmlyZShbe3R5cGU6MixpbmRleDoyNTh9XSksITB9LHQucHJvdG90eXBlLm5leHRMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJ1ZmZlci54PTAsdGhpcy5pbmRleCgpLCEwfSx0LnByb3RvdHlwZS5rZXlwYWRBcHBsaWNhdGlvbk1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nU2VydmljZS5kZWJ1ZyhcIlNlcmlhbCBwb3J0IHJlcXVlc3RlZCBhcHBsaWNhdGlvbiBrZXlwYWQuXCIpLHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbktleXBhZD0hMCx0aGlzLl9vblJlcXVlc3RTeW5jU2Nyb2xsQmFyLmZpcmUoKSwhMH0sdC5wcm90b3R5cGUua2V5cGFkTnVtZXJpY01vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nU2VydmljZS5kZWJ1ZyhcIlN3aXRjaGluZyBiYWNrIHRvIG5vcm1hbCBrZXlwYWQuXCIpLHRoaXMuX2NvcmVTZXJ2aWNlLmRlY1ByaXZhdGVNb2Rlcy5hcHBsaWNhdGlvbktleXBhZD0hMSx0aGlzLl9vblJlcXVlc3RTeW5jU2Nyb2xsQmFyLmZpcmUoKSwhMH0sdC5wcm90b3R5cGUuc2VsZWN0RGVmYXVsdENoYXJzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hhcnNldFNlcnZpY2Uuc2V0Z0xldmVsKDApLHRoaXMuX2NoYXJzZXRTZXJ2aWNlLnNldGdDaGFyc2V0KDAsYS5ERUZBVUxUX0NIQVJTRVQpLCEwfSx0LnByb3RvdHlwZS5zZWxlY3RDaGFyc2V0PWZ1bmN0aW9uKGUpe3JldHVybiAyIT09ZS5sZW5ndGg/KHRoaXMuc2VsZWN0RGVmYXVsdENoYXJzZXQoKSwhMCk6KFwiL1wiPT09ZVswXXx8dGhpcy5fY2hhcnNldFNlcnZpY2Uuc2V0Z0NoYXJzZXQoU1tlWzBdXSxhLkNIQVJTRVRTW2VbMV1dfHxhLkRFRkFVTFRfQ0hBUlNFVCksITApfSx0LnByb3RvdHlwZS5pbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN0cmljdEN1cnNvcigpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55KyssdGhpcy5fYWN0aXZlQnVmZmVyLnk9PT10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsQm90dG9tKzE/KHRoaXMuX2FjdGl2ZUJ1ZmZlci55LS0sdGhpcy5fYnVmZmVyU2VydmljZS5zY3JvbGwodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSk6dGhpcy5fYWN0aXZlQnVmZmVyLnk+PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyYmKHRoaXMuX2FjdGl2ZUJ1ZmZlci55PXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKSx0aGlzLl9yZXN0cmljdEN1cnNvcigpLCEwfSx0LnByb3RvdHlwZS50YWJTZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQnVmZmVyLnRhYnNbdGhpcy5fYWN0aXZlQnVmZmVyLnhdPSEwLCEwfSx0LnByb3RvdHlwZS5yZXZlcnNlSW5kZXg9ZnVuY3Rpb24oKXtpZih0aGlzLl9yZXN0cmljdEN1cnNvcigpLHRoaXMuX2FjdGl2ZUJ1ZmZlci55PT09dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbFRvcCl7dmFyIGU9dGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbS10aGlzLl9hY3RpdmVCdWZmZXIuc2Nyb2xsVG9wO3RoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zaGlmdEVsZW1lbnRzKHRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSxlLDEpLHRoaXMuX2FjdGl2ZUJ1ZmZlci5saW5lcy5zZXQodGhpcy5fYWN0aXZlQnVmZmVyLnliYXNlK3RoaXMuX2FjdGl2ZUJ1ZmZlci55LHRoaXMuX2FjdGl2ZUJ1ZmZlci5nZXRCbGFua0xpbmUodGhpcy5fZXJhc2VBdHRyRGF0YSgpKSksdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtSYW5nZURpcnR5KHRoaXMuX2FjdGl2ZUJ1ZmZlci5zY3JvbGxUb3AsdGhpcy5fYWN0aXZlQnVmZmVyLnNjcm9sbEJvdHRvbSl9ZWxzZSB0aGlzLl9hY3RpdmVCdWZmZXIueS0tLHRoaXMuX3Jlc3RyaWN0Q3Vyc29yKCk7cmV0dXJuITB9LHQucHJvdG90eXBlLmZ1bGxSZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJzZXIucmVzZXQoKSx0aGlzLl9vblJlcXVlc3RSZXNldC5maXJlKCksITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fY3VyQXR0ckRhdGE9Zi5ERUZBVUxUX0FUVFJfREFUQS5jbG9uZSgpLHRoaXMuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbD1mLkRFRkFVTFRfQVRUUl9EQVRBLmNsb25lKCl9LHQucHJvdG90eXBlLl9lcmFzZUF0dHJEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbC5iZyY9LTY3MTA4ODY0LHRoaXMuX2VyYXNlQXR0ckRhdGFJbnRlcm5hbC5iZ3w9NjcxMDg4NjMmdGhpcy5fY3VyQXR0ckRhdGEuYmcsdGhpcy5fZXJhc2VBdHRyRGF0YUludGVybmFsfSx0LnByb3RvdHlwZS5zZXRnTGV2ZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NoYXJzZXRTZXJ2aWNlLnNldGdMZXZlbChlKSwhMH0sdC5wcm90b3R5cGUuc2NyZWVuQWxpZ25tZW50UGF0dGVybj1mdW5jdGlvbigpe3ZhciBlPW5ldyBwLkNlbGxEYXRhO2UuY29udGVudD0xPDwyMnxcIkVcIi5jaGFyQ29kZUF0KDApLGUuZmc9dGhpcy5fY3VyQXR0ckRhdGEuZmcsZS5iZz10aGlzLl9jdXJBdHRyRGF0YS5iZyx0aGlzLl9zZXRDdXJzb3IoMCwwKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93czsrK3Qpe3ZhciByPXRoaXMuX2FjdGl2ZUJ1ZmZlci55YmFzZSt0aGlzLl9hY3RpdmVCdWZmZXIueSt0LGk9dGhpcy5fYWN0aXZlQnVmZmVyLmxpbmVzLmdldChyKTtpJiYoaS5maWxsKGUpLGkuaXNXcmFwcGVkPSExKX1yZXR1cm4gdGhpcy5fZGlydHlSb3dTZXJ2aWNlLm1hcmtBbGxEaXJ0eSgpLHRoaXMuX3NldEN1cnNvcigwLDApLCEwfSx0fShsLkRpc3Bvc2FibGUpO3QuSW5wdXRIYW5kbGVyPUV9LDg0NDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMmJnRoaXMuX192YWx1ZXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLHI9dCYmZVt0XSxpPTA7aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiBlJiZpPj1lLmxlbmd0aCYmKGU9dm9pZCAwKSx7dmFsdWU6ZSYmZVtpKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0RGlzcG9zZUFycmF5RGlzcG9zYWJsZT10LmRpc3Bvc2VBcnJheT10LkRpc3Bvc2FibGU9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2Rpc3Bvc2FibGVzPVtdLHRoaXMuX2lzRGlzcG9zZWQ9ITF9cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZSx0O3RoaXMuX2lzRGlzcG9zZWQ9ITA7dHJ5e2Zvcih2YXIgaT1yKHRoaXMuX2Rpc3Bvc2FibGVzKSxuPWkubmV4dCgpOyFuLmRvbmU7bj1pLm5leHQoKSluLnZhbHVlLmRpc3Bvc2UoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYodD1pLnJldHVybikmJnQuY2FsbChpKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19dGhpcy5fZGlzcG9zYWJsZXMubGVuZ3RoPTB9LGUucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKGUpLGV9LGUucHJvdG90eXBlLnVucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGlzcG9zYWJsZXMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX2Rpc3Bvc2FibGVzLnNwbGljZSh0LDEpfSxlfSgpO2Z1bmN0aW9uIG4oZSl7dmFyIHQsaTt0cnl7Zm9yKHZhciBuPXIoZSksbz1uLm5leHQoKTshby5kb25lO289bi5uZXh0KCkpby52YWx1ZS5kaXNwb3NlKCl9Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKGk9bi5yZXR1cm4pJiZpLmNhbGwobil9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fWUubGVuZ3RoPTB9dC5EaXNwb3NhYmxlPWksdC5kaXNwb3NlQXJyYXk9bix0LmdldERpc3Bvc2VBcnJheURpc3Bvc2FibGU9ZnVuY3Rpb24oZSl7cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gbihlKX19fX0sNjExNDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXNMaW51eD10LmlzV2luZG93cz10LmlzSXBob25lPXQuaXNJcGFkPXQuaXNNYWM9dC5pc1NhZmFyaT10LmlzTGVnYWN5RWRnZT10LmlzRmlyZWZveD12b2lkIDA7dmFyIHI9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcixpPXI/XCJub2RlXCI6bmF2aWdhdG9yLnVzZXJBZ2VudCxuPXI/XCJub2RlXCI6bmF2aWdhdG9yLnBsYXRmb3JtO3QuaXNGaXJlZm94PWkuaW5jbHVkZXMoXCJGaXJlZm94XCIpLHQuaXNMZWdhY3lFZGdlPWkuaW5jbHVkZXMoXCJFZGdlXCIpLHQuaXNTYWZhcmk9L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChpKSx0LmlzTWFjPVtcIk1hY2ludG9zaFwiLFwiTWFjSW50ZWxcIixcIk1hY1BQQ1wiLFwiTWFjNjhLXCJdLmluY2x1ZGVzKG4pLHQuaXNJcGFkPVwiaVBhZFwiPT09bix0LmlzSXBob25lPVwiaVBob25lXCI9PT1uLHQuaXNXaW5kb3dzPVtcIldpbmRvd3NcIixcIldpbjE2XCIsXCJXaW4zMlwiLFwiV2luQ0VcIl0uaW5jbHVkZXMobiksdC5pc0xpbnV4PW4uaW5kZXhPZihcIkxpbnV4XCIpPj0wfSw2MTA2OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobj0yJm9bMF0/aS5yZXR1cm46b1swXT9pLnRocm93fHwoKG49aS5yZXR1cm4pJiZuLmNhbGwoaSksMCk6aS5uZXh0KSYmIShuPW4uY2FsbChpLG9bMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChpPTAsbiYmKG89WzImb1swXSxuLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTpuPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISgobj0obj1zLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIW58fG9bMV0+blswXSYmb1sxXTxuWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPG5bMV0pe3MubGFiZWw9blsxXSxuPW87YnJlYWt9aWYobiYmcy5sYWJlbDxuWzJdKXtzLmxhYmVsPW5bMl0scy5vcHMucHVzaChvKTticmVha31uWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLGk9MH1maW5hbGx5e3I9bj0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Tb3J0ZWRMaXN0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fZ2V0S2V5PWUsdGhpcy5fYXJyYXk9W119cmV0dXJuIGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fYXJyYXkubGVuZ3RoPTB9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlKXtpZigwIT09dGhpcy5fYXJyYXkubGVuZ3RoKXt2YXIgdD10aGlzLl9zZWFyY2godGhpcy5fZ2V0S2V5KGUpLDAsdGhpcy5fYXJyYXkubGVuZ3RoLTEpO3RoaXMuX2FycmF5LnNwbGljZSh0LDAsZSl9ZWxzZSB0aGlzLl9hcnJheS5wdXNoKGUpfSxlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7aWYoMD09PXRoaXMuX2FycmF5Lmxlbmd0aClyZXR1cm4hMTt2YXIgdD10aGlzLl9nZXRLZXkoZSkscj10aGlzLl9zZWFyY2godCwwLHRoaXMuX2FycmF5Lmxlbmd0aC0xKTtpZih0aGlzLl9nZXRLZXkodGhpcy5fYXJyYXlbcl0pIT09dClyZXR1cm4hMTtkb3tpZih0aGlzLl9hcnJheVtyXT09PWUpcmV0dXJuIHRoaXMuX2FycmF5LnNwbGljZShyLDEpLCEwfXdoaWxlKCsrcjx0aGlzLl9hcnJheS5sZW5ndGgmJnRoaXMuX2dldEtleSh0aGlzLl9hcnJheVtyXSk9PT10KTtyZXR1cm4hMX0sZS5wcm90b3R5cGUuZ2V0S2V5SXRlcmF0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZigwPT09dGhpcy5fYXJyYXkubGVuZ3RoKXJldHVyblsyXTtpZigodD10aGlzLl9zZWFyY2goZSwwLHRoaXMuX2FycmF5Lmxlbmd0aC0xKSk8MHx8dD49dGhpcy5fYXJyYXkubGVuZ3RoKXJldHVyblsyXTtpZih0aGlzLl9nZXRLZXkodGhpcy5fYXJyYXlbdF0pIT09ZSlyZXR1cm5bMl07ci5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLl9hcnJheVt0XV07Y2FzZSAyOnIuc2VudCgpLHIubGFiZWw9MztjYXNlIDM6aWYoKyt0PHRoaXMuX2FycmF5Lmxlbmd0aCYmdGhpcy5fZ2V0S2V5KHRoaXMuX2FycmF5W3RdKT09PWUpcmV0dXJuWzMsMV07ci5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSkpfSxlLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXkudmFsdWVzKCl9LGUucHJvdG90eXBlLl9zZWFyY2g9ZnVuY3Rpb24oZSx0LHIpe2lmKHI8dClyZXR1cm4gdDt2YXIgaT1NYXRoLmZsb29yKCh0K3IpLzIpO2lmKHRoaXMuX2dldEtleSh0aGlzLl9hcnJheVtpXSk+ZSlyZXR1cm4gdGhpcy5fc2VhcmNoKGUsdCxpLTEpO2lmKHRoaXMuX2dldEtleSh0aGlzLl9hcnJheVtpXSk8ZSlyZXR1cm4gdGhpcy5fc2VhcmNoKGUsaSsxLHIpO2Zvcig7aT4wJiZ0aGlzLl9nZXRLZXkodGhpcy5fYXJyYXlbaS0xXSk9PT1lOylpLS07cmV0dXJuIGl9LGV9KCk7dC5Tb3J0ZWRMaXN0PWl9LDgyNzM6KGUsdCk9PntmdW5jdGlvbiByKGUsdCxyLGkpe2lmKHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWkmJihpPWUubGVuZ3RoKSxyPj1lLmxlbmd0aClyZXR1cm4gZTtyPShlLmxlbmd0aCtyKSVlLmxlbmd0aCxpPWk+PWUubGVuZ3RoP2UubGVuZ3RoOihlLmxlbmd0aCtpKSVlLmxlbmd0aDtmb3IodmFyIG49cjtuPGk7KytuKWVbbl09dDtyZXR1cm4gZX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbmNhdD10LmZpbGxGYWxsYmFjaz10LmZpbGw9dm9pZCAwLHQuZmlsbD1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gZS5maWxsP2UuZmlsbCh0LGksbik6cihlLHQsaSxuKX0sdC5maWxsRmFsbGJhY2s9cix0LmNvbmNhdD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBlLmNvbnN0cnVjdG9yKGUubGVuZ3RoK3QubGVuZ3RoKTtyZXR1cm4gci5zZXQoZSksci5zZXQodCxlLmxlbmd0aCkscn19LDkyODI6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQudXBkYXRlV2luZG93c01vZGVXcmFwcGVkU3RhdGU9dm9pZCAwO3ZhciBpPXIoNjQzKTt0LnVwZGF0ZVdpbmRvd3NNb2RlV3JhcHBlZFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYnVmZmVyLmxpbmVzLmdldChlLmJ1ZmZlci55YmFzZStlLmJ1ZmZlci55LTEpLHI9bnVsbD09dD92b2lkIDA6dC5nZXQoZS5jb2xzLTEpLG49ZS5idWZmZXIubGluZXMuZ2V0KGUuYnVmZmVyLnliYXNlK2UuYnVmZmVyLnkpO24mJnImJihuLmlzV3JhcHBlZD1yW2kuQ0hBUl9EQVRBX0NPREVfSU5ERVhdIT09aS5OVUxMX0NFTExfQ09ERSYmcltpLkNIQVJfREFUQV9DT0RFX0lOREVYXSE9PWkuV0hJVEVTUEFDRV9DRUxMX0NPREUpfX0sMzczNDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRXh0ZW5kZWRBdHRycz10LkF0dHJpYnV0ZURhdGE9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZmc9MCx0aGlzLmJnPTAsdGhpcy5leHRlbmRlZD1uZXcgaX1yZXR1cm4gZS50b0NvbG9yUkdCPWZ1bmN0aW9uKGUpe3JldHVybltlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZV19LGUuZnJvbUNvbG9yUkdCPWZ1bmN0aW9uKGUpe3JldHVybigyNTUmZVswXSk8PDE2fCgyNTUmZVsxXSk8PDh8MjU1JmVbMl19LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7cmV0dXJuIHQuZmc9dGhpcy5mZyx0LmJnPXRoaXMuYmcsdC5leHRlbmRlZD10aGlzLmV4dGVuZGVkLmNsb25lKCksdH0sZS5wcm90b3R5cGUuaXNJbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIDY3MTA4ODY0JnRoaXMuZmd9LGUucHJvdG90eXBlLmlzQm9sZD1mdW5jdGlvbigpe3JldHVybiAxMzQyMTc3MjgmdGhpcy5mZ30sZS5wcm90b3R5cGUuaXNVbmRlcmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gMjY4NDM1NDU2JnRoaXMuZmd9LGUucHJvdG90eXBlLmlzQmxpbms9ZnVuY3Rpb24oKXtyZXR1cm4gNTM2ODcwOTEyJnRoaXMuZmd9LGUucHJvdG90eXBlLmlzSW52aXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIDEwNzM3NDE4MjQmdGhpcy5mZ30sZS5wcm90b3R5cGUuaXNJdGFsaWM9ZnVuY3Rpb24oKXtyZXR1cm4gNjcxMDg4NjQmdGhpcy5iZ30sZS5wcm90b3R5cGUuaXNEaW09ZnVuY3Rpb24oKXtyZXR1cm4gMTM0MjE3NzI4JnRoaXMuYmd9LGUucHJvdG90eXBlLmlzU3RyaWtldGhyb3VnaD1mdW5jdGlvbigpe3JldHVybiAyMTQ3NDgzNjQ4JnRoaXMuZmd9LGUucHJvdG90eXBlLmdldEZnQ29sb3JNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwMzMxNjQ4JnRoaXMuZmd9LGUucHJvdG90eXBlLmdldEJnQ29sb3JNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwMzMxNjQ4JnRoaXMuYmd9LGUucHJvdG90eXBlLmlzRmdSR0I9ZnVuY3Rpb24oKXtyZXR1cm4gNTAzMzE2NDg9PSg1MDMzMTY0OCZ0aGlzLmZnKX0sZS5wcm90b3R5cGUuaXNCZ1JHQj1mdW5jdGlvbigpe3JldHVybiA1MDMzMTY0OD09KDUwMzMxNjQ4JnRoaXMuYmcpfSxlLnByb3RvdHlwZS5pc0ZnUGFsZXR0ZT1mdW5jdGlvbigpe3JldHVybiAxNjc3NzIxNj09KDUwMzMxNjQ4JnRoaXMuZmcpfHwzMzU1NDQzMj09KDUwMzMxNjQ4JnRoaXMuZmcpfSxlLnByb3RvdHlwZS5pc0JnUGFsZXR0ZT1mdW5jdGlvbigpe3JldHVybiAxNjc3NzIxNj09KDUwMzMxNjQ4JnRoaXMuYmcpfHwzMzU1NDQzMj09KDUwMzMxNjQ4JnRoaXMuYmcpfSxlLnByb3RvdHlwZS5pc0ZnRGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAwPT0oNTAzMzE2NDgmdGhpcy5mZyl9LGUucHJvdG90eXBlLmlzQmdEZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSg1MDMzMTY0OCZ0aGlzLmJnKX0sZS5wcm90b3R5cGUuaXNBdHRyaWJ1dGVEZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmZnJiYwPT09dGhpcy5iZ30sZS5wcm90b3R5cGUuZ2V0RmdDb2xvcj1mdW5jdGlvbigpe3N3aXRjaCg1MDMzMTY0OCZ0aGlzLmZnKXtjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6cmV0dXJuIDI1NSZ0aGlzLmZnO2Nhc2UgNTAzMzE2NDg6cmV0dXJuIDE2Nzc3MjE1JnRoaXMuZmc7ZGVmYXVsdDpyZXR1cm4tMX19LGUucHJvdG90eXBlLmdldEJnQ29sb3I9ZnVuY3Rpb24oKXtzd2l0Y2goNTAzMzE2NDgmdGhpcy5iZyl7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOnJldHVybiAyNTUmdGhpcy5iZztjYXNlIDUwMzMxNjQ4OnJldHVybiAxNjc3NzIxNSZ0aGlzLmJnO2RlZmF1bHQ6cmV0dXJuLTF9fSxlLnByb3RvdHlwZS5oYXNFeHRlbmRlZEF0dHJzPWZ1bmN0aW9uKCl7cmV0dXJuIDI2ODQzNTQ1NiZ0aGlzLmJnfSxlLnByb3RvdHlwZS51cGRhdGVFeHRlbmRlZD1mdW5jdGlvbigpe3RoaXMuZXh0ZW5kZWQuaXNFbXB0eSgpP3RoaXMuYmcmPS0yNjg0MzU0NTc6dGhpcy5iZ3w9MjY4NDM1NDU2fSxlLnByb3RvdHlwZS5nZXRVbmRlcmxpbmVDb2xvcj1mdW5jdGlvbigpe2lmKDI2ODQzNTQ1NiZ0aGlzLmJnJiZ+dGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcilzd2l0Y2goNTAzMzE2NDgmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcil7Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOnJldHVybiAyNTUmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcjtjYXNlIDUwMzMxNjQ4OnJldHVybiAxNjc3NzIxNSZ0aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZ2V0RmdDb2xvcigpfXJldHVybiB0aGlzLmdldEZnQ29sb3IoKX0sZS5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lQ29sb3JNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIDI2ODQzNTQ1NiZ0aGlzLmJnJiZ+dGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcj81MDMzMTY0OCZ0aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yOnRoaXMuZ2V0RmdDb2xvck1vZGUoKX0sZS5wcm90b3R5cGUuaXNVbmRlcmxpbmVDb2xvclJHQj1mdW5jdGlvbigpe3JldHVybiAyNjg0MzU0NTYmdGhpcy5iZyYmfnRoaXMuZXh0ZW5kZWQudW5kZXJsaW5lQ29sb3I/NTAzMzE2NDg9PSg1MDMzMTY0OCZ0aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yKTp0aGlzLmlzRmdSR0IoKX0sZS5wcm90b3R5cGUuaXNVbmRlcmxpbmVDb2xvclBhbGV0dGU9ZnVuY3Rpb24oKXtyZXR1cm4gMjY4NDM1NDU2JnRoaXMuYmcmJn50aGlzLmV4dGVuZGVkLnVuZGVybGluZUNvbG9yPzE2Nzc3MjE2PT0oNTAzMzE2NDgmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcil8fDMzNTU0NDMyPT0oNTAzMzE2NDgmdGhpcy5leHRlbmRlZC51bmRlcmxpbmVDb2xvcik6dGhpcy5pc0ZnUGFsZXR0ZSgpfSxlLnByb3RvdHlwZS5pc1VuZGVybGluZUNvbG9yRGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiAyNjg0MzU0NTYmdGhpcy5iZyYmfnRoaXMuZXh0ZW5kZWQudW5kZXJsaW5lQ29sb3I/MD09KDUwMzMxNjQ4JnRoaXMuZXh0ZW5kZWQudW5kZXJsaW5lQ29sb3IpOnRoaXMuaXNGZ0RlZmF1bHQoKX0sZS5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lU3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gMjY4NDM1NDU2JnRoaXMuZmc/MjY4NDM1NDU2JnRoaXMuYmc/dGhpcy5leHRlbmRlZC51bmRlcmxpbmVTdHlsZToxOjB9LGV9KCk7dC5BdHRyaWJ1dGVEYXRhPXI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09dCYmKHQ9LTEpLHRoaXMudW5kZXJsaW5lU3R5bGU9ZSx0aGlzLnVuZGVybGluZUNvbG9yPXR9cmV0dXJuIGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMudW5kZXJsaW5lU3R5bGUsdGhpcy51bmRlcmxpbmVDb2xvcil9LGUucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMudW5kZXJsaW5lU3R5bGV9LGV9KCk7dC5FeHRlbmRlZEF0dHJzPWl9LDkwOTI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfSxuPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXx8ZnVuY3Rpb24oZSx0LHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgaSxuPTAsbz10Lmxlbmd0aDtuPG87bisrKSFpJiZuIGluIHR8fChpfHwoaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDAsbikpLGlbbl09dFtuXSk7cmV0dXJuIGUuY29uY2F0KGl8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CdWZmZXJTdHJpbmdJdGVyYXRvcj10LkJ1ZmZlcj10Lk1BWF9CVUZGRVJfU0laRT12b2lkIDA7dmFyIG89cig2MzQ5KSxzPXIoODQzNyksYT1yKDUxMSksYz1yKDY0MyksbD1yKDQ2MzQpLGg9cig0ODYzKSx1PXIoNzExNiksZj1yKDM3MzQpO3QuTUFYX0JVRkZFUl9TSVpFPTQyOTQ5NjcyOTU7dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLl9oYXNTY3JvbGxiYWNrPWUsdGhpcy5fb3B0aW9uc1NlcnZpY2U9dCx0aGlzLl9idWZmZXJTZXJ2aWNlPXIsdGhpcy55ZGlzcD0wLHRoaXMueWJhc2U9MCx0aGlzLnk9MCx0aGlzLng9MCx0aGlzLnNhdmVkWT0wLHRoaXMuc2F2ZWRYPTAsdGhpcy5zYXZlZEN1ckF0dHJEYXRhPXMuREVGQVVMVF9BVFRSX0RBVEEuY2xvbmUoKSx0aGlzLnNhdmVkQ2hhcnNldD11LkRFRkFVTFRfQ0hBUlNFVCx0aGlzLm1hcmtlcnM9W10sdGhpcy5fbnVsbENlbGw9YS5DZWxsRGF0YS5mcm9tQ2hhckRhdGEoWzAsYy5OVUxMX0NFTExfQ0hBUixjLk5VTExfQ0VMTF9XSURUSCxjLk5VTExfQ0VMTF9DT0RFXSksdGhpcy5fd2hpdGVzcGFjZUNlbGw9YS5DZWxsRGF0YS5mcm9tQ2hhckRhdGEoWzAsYy5XSElURVNQQUNFX0NFTExfQ0hBUixjLldISVRFU1BBQ0VfQ0VMTF9XSURUSCxjLldISVRFU1BBQ0VfQ0VMTF9DT0RFXSksdGhpcy5faXNDbGVhcmluZz0hMSx0aGlzLl9jb2xzPXRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLl9yb3dzPXRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cyx0aGlzLmxpbmVzPW5ldyBvLkNpcmN1bGFyTGlzdCh0aGlzLl9nZXRDb3JyZWN0QnVmZmVyTGVuZ3RoKHRoaXMuX3Jvd3MpKSx0aGlzLnNjcm9sbFRvcD0wLHRoaXMuc2Nyb2xsQm90dG9tPXRoaXMuX3Jvd3MtMSx0aGlzLnNldHVwVGFiU3RvcHMoKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TnVsbENlbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KHRoaXMuX251bGxDZWxsLmZnPWUuZmcsdGhpcy5fbnVsbENlbGwuYmc9ZS5iZyx0aGlzLl9udWxsQ2VsbC5leHRlbmRlZD1lLmV4dGVuZGVkKToodGhpcy5fbnVsbENlbGwuZmc9MCx0aGlzLl9udWxsQ2VsbC5iZz0wLHRoaXMuX251bGxDZWxsLmV4dGVuZGVkPW5ldyBmLkV4dGVuZGVkQXR0cnMpLHRoaXMuX251bGxDZWxsfSxlLnByb3RvdHlwZS5nZXRXaGl0ZXNwYWNlQ2VsbD1mdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5fd2hpdGVzcGFjZUNlbGwuZmc9ZS5mZyx0aGlzLl93aGl0ZXNwYWNlQ2VsbC5iZz1lLmJnLHRoaXMuX3doaXRlc3BhY2VDZWxsLmV4dGVuZGVkPWUuZXh0ZW5kZWQpOih0aGlzLl93aGl0ZXNwYWNlQ2VsbC5mZz0wLHRoaXMuX3doaXRlc3BhY2VDZWxsLmJnPTAsdGhpcy5fd2hpdGVzcGFjZUNlbGwuZXh0ZW5kZWQ9bmV3IGYuRXh0ZW5kZWRBdHRycyksdGhpcy5fd2hpdGVzcGFjZUNlbGx9LGUucHJvdG90eXBlLmdldEJsYW5rTGluZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcy5CdWZmZXJMaW5lKHRoaXMuX2J1ZmZlclNlcnZpY2UuY29scyx0aGlzLmdldE51bGxDZWxsKGUpLHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYXNTY3JvbGxiYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNTY3JvbGxiYWNrJiZ0aGlzLmxpbmVzLm1heExlbmd0aD50aGlzLl9yb3dzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzQ3Vyc29ySW5WaWV3cG9ydFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnliYXNlK3RoaXMueS10aGlzLnlkaXNwO3JldHVybiBlPj0wJiZlPHRoaXMuX3Jvd3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2dldENvcnJlY3RCdWZmZXJMZW5ndGg9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2hhc1Njcm9sbGJhY2spcmV0dXJuIGU7dmFyIHI9ZSt0aGlzLl9vcHRpb25zU2VydmljZS5yYXdPcHRpb25zLnNjcm9sbGJhY2s7cmV0dXJuIHI+dC5NQVhfQlVGRkVSX1NJWkU/dC5NQVhfQlVGRkVSX1NJWkU6cn0sZS5wcm90b3R5cGUuZmlsbFZpZXdwb3J0Um93cz1mdW5jdGlvbihlKXtpZigwPT09dGhpcy5saW5lcy5sZW5ndGgpe3ZvaWQgMD09PWUmJihlPXMuREVGQVVMVF9BVFRSX0RBVEEpO2Zvcih2YXIgdD10aGlzLl9yb3dzO3QtLTspdGhpcy5saW5lcy5wdXNoKHRoaXMuZ2V0QmxhbmtMaW5lKGUpKX19LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy55ZGlzcD0wLHRoaXMueWJhc2U9MCx0aGlzLnk9MCx0aGlzLng9MCx0aGlzLmxpbmVzPW5ldyBvLkNpcmN1bGFyTGlzdCh0aGlzLl9nZXRDb3JyZWN0QnVmZmVyTGVuZ3RoKHRoaXMuX3Jvd3MpKSx0aGlzLnNjcm9sbFRvcD0wLHRoaXMuc2Nyb2xsQm90dG9tPXRoaXMuX3Jvd3MtMSx0aGlzLnNldHVwVGFiU3RvcHMoKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXROdWxsQ2VsbChzLkRFRkFVTFRfQVRUUl9EQVRBKSxpPXRoaXMuX2dldENvcnJlY3RCdWZmZXJMZW5ndGgodCk7aWYoaT50aGlzLmxpbmVzLm1heExlbmd0aCYmKHRoaXMubGluZXMubWF4TGVuZ3RoPWkpLHRoaXMubGluZXMubGVuZ3RoPjApe2lmKHRoaXMuX2NvbHM8ZSlmb3IodmFyIG49MDtuPHRoaXMubGluZXMubGVuZ3RoO24rKyl0aGlzLmxpbmVzLmdldChuKS5yZXNpemUoZSxyKTt2YXIgbz0wO2lmKHRoaXMuX3Jvd3M8dClmb3IodmFyIGE9dGhpcy5fcm93czthPHQ7YSsrKXRoaXMubGluZXMubGVuZ3RoPHQrdGhpcy55YmFzZSYmKHRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGU/dGhpcy5saW5lcy5wdXNoKG5ldyBzLkJ1ZmZlckxpbmUoZSxyKSk6dGhpcy55YmFzZT4wJiZ0aGlzLmxpbmVzLmxlbmd0aDw9dGhpcy55YmFzZSt0aGlzLnkrbysxPyh0aGlzLnliYXNlLS0sbysrLHRoaXMueWRpc3A+MCYmdGhpcy55ZGlzcC0tKTp0aGlzLmxpbmVzLnB1c2gobmV3IHMuQnVmZmVyTGluZShlLHIpKSk7ZWxzZSBmb3IoYT10aGlzLl9yb3dzO2E+dDthLS0pdGhpcy5saW5lcy5sZW5ndGg+dCt0aGlzLnliYXNlJiYodGhpcy5saW5lcy5sZW5ndGg+dGhpcy55YmFzZSt0aGlzLnkrMT90aGlzLmxpbmVzLnBvcCgpOih0aGlzLnliYXNlKyssdGhpcy55ZGlzcCsrKSk7aWYoaTx0aGlzLmxpbmVzLm1heExlbmd0aCl7dmFyIGM9dGhpcy5saW5lcy5sZW5ndGgtaTtjPjAmJih0aGlzLmxpbmVzLnRyaW1TdGFydChjKSx0aGlzLnliYXNlPU1hdGgubWF4KHRoaXMueWJhc2UtYywwKSx0aGlzLnlkaXNwPU1hdGgubWF4KHRoaXMueWRpc3AtYywwKSx0aGlzLnNhdmVkWT1NYXRoLm1heCh0aGlzLnNhdmVkWS1jLDApKSx0aGlzLmxpbmVzLm1heExlbmd0aD1pfXRoaXMueD1NYXRoLm1pbih0aGlzLngsZS0xKSx0aGlzLnk9TWF0aC5taW4odGhpcy55LHQtMSksbyYmKHRoaXMueSs9byksdGhpcy5zYXZlZFg9TWF0aC5taW4odGhpcy5zYXZlZFgsZS0xKSx0aGlzLnNjcm9sbFRvcD0wfWlmKHRoaXMuc2Nyb2xsQm90dG9tPXQtMSx0aGlzLl9pc1JlZmxvd0VuYWJsZWQmJih0aGlzLl9yZWZsb3coZSx0KSx0aGlzLl9jb2xzPmUpKWZvcihuPTA7bjx0aGlzLmxpbmVzLmxlbmd0aDtuKyspdGhpcy5saW5lcy5nZXQobikucmVzaXplKGUscik7dGhpcy5fY29scz1lLHRoaXMuX3Jvd3M9dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX2lzUmVmbG93RW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU2Nyb2xsYmFjayYmIXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMud2luZG93c01vZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3JlZmxvdz1mdW5jdGlvbihlLHQpe3RoaXMuX2NvbHMhPT1lJiYoZT50aGlzLl9jb2xzP3RoaXMuX3JlZmxvd0xhcmdlcihlLHQpOnRoaXMuX3JlZmxvd1NtYWxsZXIoZSx0KSl9LGUucHJvdG90eXBlLl9yZWZsb3dMYXJnZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj0oMCxsLnJlZmxvd0xhcmdlckdldExpbmVzVG9SZW1vdmUpKHRoaXMubGluZXMsdGhpcy5fY29scyxlLHRoaXMueWJhc2UrdGhpcy55LHRoaXMuZ2V0TnVsbENlbGwocy5ERUZBVUxUX0FUVFJfREFUQSkpO2lmKHIubGVuZ3RoPjApe3ZhciBpPSgwLGwucmVmbG93TGFyZ2VyQ3JlYXRlTmV3TGF5b3V0KSh0aGlzLmxpbmVzLHIpOygwLGwucmVmbG93TGFyZ2VyQXBwbHlOZXdMYXlvdXQpKHRoaXMubGluZXMsaS5sYXlvdXQpLHRoaXMuX3JlZmxvd0xhcmdlckFkanVzdFZpZXdwb3J0KGUsdCxpLmNvdW50UmVtb3ZlZCl9fSxlLnByb3RvdHlwZS5fcmVmbG93TGFyZ2VyQWRqdXN0Vmlld3BvcnQ9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT10aGlzLmdldE51bGxDZWxsKHMuREVGQVVMVF9BVFRSX0RBVEEpLG49cjtuLS0gPjA7KTA9PT10aGlzLnliYXNlPyh0aGlzLnk+MCYmdGhpcy55LS0sdGhpcy5saW5lcy5sZW5ndGg8dCYmdGhpcy5saW5lcy5wdXNoKG5ldyBzLkJ1ZmZlckxpbmUoZSxpKSkpOih0aGlzLnlkaXNwPT09dGhpcy55YmFzZSYmdGhpcy55ZGlzcC0tLHRoaXMueWJhc2UtLSk7dGhpcy5zYXZlZFk9TWF0aC5tYXgodGhpcy5zYXZlZFktciwwKX0sZS5wcm90b3R5cGUuX3JlZmxvd1NtYWxsZXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5nZXROdWxsQ2VsbChzLkRFRkFVTFRfQVRUUl9EQVRBKSxvPVtdLGE9MCxjPXRoaXMubGluZXMubGVuZ3RoLTE7Yz49MDtjLS0pe3ZhciBoPXRoaXMubGluZXMuZ2V0KGMpO2lmKCEoIWh8fCFoLmlzV3JhcHBlZCYmaC5nZXRUcmltbWVkTGVuZ3RoKCk8PWUpKXtmb3IodmFyIHU9W2hdO2guaXNXcmFwcGVkJiZjPjA7KWg9dGhpcy5saW5lcy5nZXQoLS1jKSx1LnVuc2hpZnQoaCk7dmFyIGY9dGhpcy55YmFzZSt0aGlzLnk7aWYoIShmPj1jJiZmPGMrdS5sZW5ndGgpKXt2YXIgXyxkPXVbdS5sZW5ndGgtMV0uZ2V0VHJpbW1lZExlbmd0aCgpLHA9KDAsbC5yZWZsb3dTbWFsbGVyR2V0TmV3TGluZUxlbmd0aHMpKHUsdGhpcy5fY29scyxlKSx2PXAubGVuZ3RoLXUubGVuZ3RoO189MD09PXRoaXMueWJhc2UmJnRoaXMueSE9PXRoaXMubGluZXMubGVuZ3RoLTE/TWF0aC5tYXgoMCx0aGlzLnktdGhpcy5saW5lcy5tYXhMZW5ndGgrdik6TWF0aC5tYXgoMCx0aGlzLmxpbmVzLmxlbmd0aC10aGlzLmxpbmVzLm1heExlbmd0aCt2KTtmb3IodmFyIHk9W10sZz0wO2c8djtnKyspe3ZhciBtPXRoaXMuZ2V0QmxhbmtMaW5lKHMuREVGQVVMVF9BVFRSX0RBVEEsITApO3kucHVzaChtKX15Lmxlbmd0aD4wJiYoby5wdXNoKHtzdGFydDpjK3UubGVuZ3RoK2EsbmV3TGluZXM6eX0pLGErPXkubGVuZ3RoKSx1LnB1c2guYXBwbHkodSxuKFtdLGkoeSksITEpKTt2YXIgYj1wLmxlbmd0aC0xLFM9cFtiXTswPT09UyYmKFM9cFstLWJdKTtmb3IodmFyIEM9dS5sZW5ndGgtdi0xLHc9ZDtDPj0wOyl7dmFyIEw9TWF0aC5taW4odyxTKTtpZih2b2lkIDA9PT11W2JdKWJyZWFrO2lmKHVbYl0uY29weUNlbGxzRnJvbSh1W0NdLHctTCxTLUwsTCwhMCksMD09KFMtPUwpJiYoUz1wWy0tYl0pLDA9PSh3LT1MKSl7Qy0tO3ZhciBFPU1hdGgubWF4KEMsMCk7dz0oMCxsLmdldFdyYXBwZWRMaW5lVHJpbW1lZExlbmd0aCkodSxFLHRoaXMuX2NvbHMpfX1mb3IoZz0wO2c8dS5sZW5ndGg7ZysrKXBbZ108ZSYmdVtnXS5zZXRDZWxsKHBbZ10scik7Zm9yKHZhciB4PXYtXzt4LS0gPjA7KTA9PT10aGlzLnliYXNlP3RoaXMueTx0LTE/KHRoaXMueSsrLHRoaXMubGluZXMucG9wKCkpOih0aGlzLnliYXNlKyssdGhpcy55ZGlzcCsrKTp0aGlzLnliYXNlPE1hdGgubWluKHRoaXMubGluZXMubWF4TGVuZ3RoLHRoaXMubGluZXMubGVuZ3RoK2EpLXQmJih0aGlzLnliYXNlPT09dGhpcy55ZGlzcCYmdGhpcy55ZGlzcCsrLHRoaXMueWJhc2UrKyk7dGhpcy5zYXZlZFk9TWF0aC5taW4odGhpcy5zYXZlZFkrdix0aGlzLnliYXNlK3QtMSl9fX1pZihvLmxlbmd0aD4wKXt2YXIgUj1bXSxrPVtdO2ZvcihnPTA7Zzx0aGlzLmxpbmVzLmxlbmd0aDtnKyspay5wdXNoKHRoaXMubGluZXMuZ2V0KGcpKTt2YXIgTT10aGlzLmxpbmVzLmxlbmd0aCxBPU0tMSxPPTAsRD1vW09dO3RoaXMubGluZXMubGVuZ3RoPU1hdGgubWluKHRoaXMubGluZXMubWF4TGVuZ3RoLHRoaXMubGluZXMubGVuZ3RoK2EpO3ZhciBUPTA7Zm9yKGc9TWF0aC5taW4odGhpcy5saW5lcy5tYXhMZW5ndGgtMSxNK2EtMSk7Zz49MDtnLS0paWYoRCYmRC5zdGFydD5BK1Qpe2Zvcih2YXIgQj1ELm5ld0xpbmVzLmxlbmd0aC0xO0I+PTA7Qi0tKXRoaXMubGluZXMuc2V0KGctLSxELm5ld0xpbmVzW0JdKTtnKyssUi5wdXNoKHtpbmRleDpBKzEsYW1vdW50OkQubmV3TGluZXMubGVuZ3RofSksVCs9RC5uZXdMaW5lcy5sZW5ndGgsRD1vWysrT119ZWxzZSB0aGlzLmxpbmVzLnNldChnLGtbQS0tXSk7dmFyIFA9MDtmb3IoZz1SLmxlbmd0aC0xO2c+PTA7Zy0tKVJbZ10uaW5kZXgrPVAsdGhpcy5saW5lcy5vbkluc2VydEVtaXR0ZXIuZmlyZShSW2ddKSxQKz1SW2ddLmFtb3VudDt2YXIgST1NYXRoLm1heCgwLE0rYS10aGlzLmxpbmVzLm1heExlbmd0aCk7ST4wJiZ0aGlzLmxpbmVzLm9uVHJpbUVtaXR0ZXIuZmlyZShJKX19LGUucHJvdG90eXBlLnN0cmluZ0luZGV4VG9CdWZmZXJJbmRleD1mdW5jdGlvbihlLHQscil7Zm9yKHZvaWQgMD09PXImJihyPSExKTt0Oyl7dmFyIGk9dGhpcy5saW5lcy5nZXQoZSk7aWYoIWkpcmV0dXJuWy0xLC0xXTtmb3IodmFyIG49cj9pLmdldFRyaW1tZWRMZW5ndGgoKTppLmxlbmd0aCxvPTA7bzxuOysrbylpZihpLmdldChvKVtjLkNIQVJfREFUQV9XSURUSF9JTkRFWF0mJih0LT1pLmdldChvKVtjLkNIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGh8fDEpLHQ8MClyZXR1cm5bZSxvXTtlKyt9cmV0dXJuW2UsMF19LGUucHJvdG90eXBlLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZz1mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1yJiYocj0wKTt2YXIgbj10aGlzLmxpbmVzLmdldChlKTtyZXR1cm4gbj9uLnRyYW5zbGF0ZVRvU3RyaW5nKHQscixpKTpcIlwifSxlLnByb3RvdHlwZS5nZXRXcmFwcGVkUmFuZ2VGb3JMaW5lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLHI9ZTt0PjAmJnRoaXMubGluZXMuZ2V0KHQpLmlzV3JhcHBlZDspdC0tO2Zvcig7cisxPHRoaXMubGluZXMubGVuZ3RoJiZ0aGlzLmxpbmVzLmdldChyKzEpLmlzV3JhcHBlZDspcisrO3JldHVybntmaXJzdDp0LGxhc3Q6cn19LGUucHJvdG90eXBlLnNldHVwVGFiU3RvcHM9ZnVuY3Rpb24oZSl7Zm9yKG51bGwhPWU/dGhpcy50YWJzW2VdfHwoZT10aGlzLnByZXZTdG9wKGUpKToodGhpcy50YWJzPXt9LGU9MCk7ZTx0aGlzLl9jb2xzO2UrPXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMudGFiU3RvcFdpZHRoKXRoaXMudGFic1tlXT0hMH0sZS5wcm90b3R5cGUucHJldlN0b3A9ZnVuY3Rpb24oZSl7Zm9yKG51bGw9PWUmJihlPXRoaXMueCk7IXRoaXMudGFic1stLWVdJiZlPjA7KTtyZXR1cm4gZT49dGhpcy5fY29scz90aGlzLl9jb2xzLTE6ZTwwPzA6ZX0sZS5wcm90b3R5cGUubmV4dFN0b3A9ZnVuY3Rpb24oZSl7Zm9yKG51bGw9PWUmJihlPXRoaXMueCk7IXRoaXMudGFic1srK2VdJiZlPHRoaXMuX2NvbHM7KTtyZXR1cm4gZT49dGhpcy5fY29scz90aGlzLl9jb2xzLTE6ZTwwPzA6ZX0sZS5wcm90b3R5cGUuY2xlYXJNYXJrZXJzPWZ1bmN0aW9uKGUpe3RoaXMuX2lzQ2xlYXJpbmc9ITA7Zm9yKHZhciB0PTA7dDx0aGlzLm1hcmtlcnMubGVuZ3RoO3QrKyl0aGlzLm1hcmtlcnNbdF0ubGluZT09PWUmJih0aGlzLm1hcmtlcnNbdF0uZGlzcG9zZSgpLHRoaXMubWFya2Vycy5zcGxpY2UodC0tLDEpKTt0aGlzLl9pc0NsZWFyaW5nPSExfSxlLnByb3RvdHlwZS5jbGVhckFsbE1hcmtlcnM9ZnVuY3Rpb24oKXt0aGlzLl9pc0NsZWFyaW5nPSEwO2Zvcih2YXIgZT0wO2U8dGhpcy5tYXJrZXJzLmxlbmd0aDtlKyspdGhpcy5tYXJrZXJzW2VdLmRpc3Bvc2UoKSx0aGlzLm1hcmtlcnMuc3BsaWNlKGUtLSwxKTt0aGlzLl9pc0NsZWFyaW5nPSExfSxlLnByb3RvdHlwZS5hZGRNYXJrZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW5ldyBoLk1hcmtlcihlKTtyZXR1cm4gdGhpcy5tYXJrZXJzLnB1c2gociksci5yZWdpc3Rlcih0aGlzLmxpbmVzLm9uVHJpbSgoZnVuY3Rpb24oZSl7ci5saW5lLT1lLHIubGluZTwwJiZyLmRpc3Bvc2UoKX0pKSksci5yZWdpc3Rlcih0aGlzLmxpbmVzLm9uSW5zZXJ0KChmdW5jdGlvbihlKXtyLmxpbmU+PWUuaW5kZXgmJihyLmxpbmUrPWUuYW1vdW50KX0pKSksci5yZWdpc3Rlcih0aGlzLmxpbmVzLm9uRGVsZXRlKChmdW5jdGlvbihlKXtyLmxpbmU+PWUuaW5kZXgmJnIubGluZTxlLmluZGV4K2UuYW1vdW50JiZyLmRpc3Bvc2UoKSxyLmxpbmU+ZS5pbmRleCYmKHIubGluZS09ZS5hbW91bnQpfSkpKSxyLnJlZ2lzdGVyKHIub25EaXNwb3NlKChmdW5jdGlvbigpe3JldHVybiB0Ll9yZW1vdmVNYXJrZXIocil9KSkpLHJ9LGUucHJvdG90eXBlLl9yZW1vdmVNYXJrZXI9ZnVuY3Rpb24oZSl7dGhpcy5faXNDbGVhcmluZ3x8dGhpcy5tYXJrZXJzLnNwbGljZSh0aGlzLm1hcmtlcnMuaW5kZXhPZihlKSwxKX0sZS5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oZSx0LHIsaSxuKXtyZXR1cm4gbmV3IGQodGhpcyxlLHQscixpLG4pfSxlfSgpO3QuQnVmZmVyPV87dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixvKXt2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1pJiYoaT1lLmxpbmVzLmxlbmd0aCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09byYmKG89MCksdGhpcy5fYnVmZmVyPWUsdGhpcy5fdHJpbVJpZ2h0PXQsdGhpcy5fc3RhcnRJbmRleD1yLHRoaXMuX2VuZEluZGV4PWksdGhpcy5fc3RhcnRPdmVyc2Nhbj1uLHRoaXMuX2VuZE92ZXJzY2FuPW8sdGhpcy5fc3RhcnRJbmRleDwwJiYodGhpcy5fc3RhcnRJbmRleD0wKSx0aGlzLl9lbmRJbmRleD50aGlzLl9idWZmZXIubGluZXMubGVuZ3RoJiYodGhpcy5fZW5kSW5kZXg9dGhpcy5fYnVmZmVyLmxpbmVzLmxlbmd0aCksdGhpcy5fY3VycmVudD10aGlzLl9zdGFydEluZGV4fXJldHVybiBlLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQ8dGhpcy5fZW5kSW5kZXh9LGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9idWZmZXIuZ2V0V3JhcHBlZFJhbmdlRm9yTGluZSh0aGlzLl9jdXJyZW50KTtlLmZpcnN0PHRoaXMuX3N0YXJ0SW5kZXgtdGhpcy5fc3RhcnRPdmVyc2NhbiYmKGUuZmlyc3Q9dGhpcy5fc3RhcnRJbmRleC10aGlzLl9zdGFydE92ZXJzY2FuKSxlLmxhc3Q+dGhpcy5fZW5kSW5kZXgrdGhpcy5fZW5kT3ZlcnNjYW4mJihlLmxhc3Q9dGhpcy5fZW5kSW5kZXgrdGhpcy5fZW5kT3ZlcnNjYW4pLGUuZmlyc3Q9TWF0aC5tYXgoZS5maXJzdCwwKSxlLmxhc3Q9TWF0aC5taW4oZS5sYXN0LHRoaXMuX2J1ZmZlci5saW5lcy5sZW5ndGgpO2Zvcih2YXIgdD1cIlwiLHI9ZS5maXJzdDtyPD1lLmxhc3Q7KytyKXQrPXRoaXMuX2J1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcocix0aGlzLl90cmltUmlnaHQpO3JldHVybiB0aGlzLl9jdXJyZW50PWUubGFzdCsxLHtyYW5nZTplLGNvbnRlbnQ6dH19LGV9KCk7dC5CdWZmZXJTdHJpbmdJdGVyYXRvcj1kfSw4NDM3OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkJ1ZmZlckxpbmU9dC5ERUZBVUxUX0FUVFJfREFUQT12b2lkIDA7dmFyIGk9cig0ODIpLG49cig2NDMpLG89cig1MTEpLHM9cigzNzM0KTt0LkRFRkFVTFRfQVRUUl9EQVRBPU9iamVjdC5mcmVlemUobmV3IHMuQXR0cmlidXRlRGF0YSk7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksdGhpcy5pc1dyYXBwZWQ9cix0aGlzLl9jb21iaW5lZD17fSx0aGlzLl9leHRlbmRlZEF0dHJzPXt9LHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDMqZSk7Zm9yKHZhciBpPXR8fG8uQ2VsbERhdGEuZnJvbUNoYXJEYXRhKFswLG4uTlVMTF9DRUxMX0NIQVIsbi5OVUxMX0NFTExfV0lEVEgsbi5OVUxMX0NFTExfQ09ERV0pLHM9MDtzPGU7KytzKXRoaXMuc2V0Q2VsbChzLGkpO3RoaXMubGVuZ3RoPWV9cmV0dXJuIGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhWzMqZSswXSxyPTIwOTcxNTEmdDtyZXR1cm5bdGhpcy5fZGF0YVszKmUrMV0sMjA5NzE1MiZ0P3RoaXMuX2NvbWJpbmVkW2VdOnI/KDAsaS5zdHJpbmdGcm9tQ29kZVBvaW50KShyKTpcIlwiLHQ+PjIyLDIwOTcxNTImdD90aGlzLl9jb21iaW5lZFtlXS5jaGFyQ29kZUF0KHRoaXMuX2NvbWJpbmVkW2VdLmxlbmd0aC0xKTpyXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGF0YVszKmUrMV09dFtuLkNIQVJfREFUQV9BVFRSX0lOREVYXSx0W24uQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aD4xPyh0aGlzLl9jb21iaW5lZFtlXT10WzFdLHRoaXMuX2RhdGFbMyplKzBdPTIwOTcxNTJ8ZXx0W24uQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTw8MjIpOnRoaXMuX2RhdGFbMyplKzBdPXRbbi5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgwKXx0W24uQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTw8MjJ9LGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kYXRhWzMqZSswXT4+MjJ9LGUucHJvdG90eXBlLmhhc1dpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiAxMjU4MjkxMiZ0aGlzLl9kYXRhWzMqZSswXX0sZS5wcm90b3R5cGUuZ2V0Rmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFbMyplKzFdfSxlLnByb3RvdHlwZS5nZXRCZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVszKmUrMl19LGUucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIDQxOTQzMDMmdGhpcy5fZGF0YVszKmUrMF19LGUucHJvdG90eXBlLmdldENvZGVQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhWzMqZSswXTtyZXR1cm4gMjA5NzE1MiZ0P3RoaXMuX2NvbWJpbmVkW2VdLmNoYXJDb2RlQXQodGhpcy5fY29tYmluZWRbZV0ubGVuZ3RoLTEpOjIwOTcxNTEmdH0sZS5wcm90b3R5cGUuaXNDb21iaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gMjA5NzE1MiZ0aGlzLl9kYXRhWzMqZSswXX0sZS5wcm90b3R5cGUuZ2V0U3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGFbMyplKzBdO3JldHVybiAyMDk3MTUyJnQ/dGhpcy5fY29tYmluZWRbZV06MjA5NzE1MSZ0PygwLGkuc3RyaW5nRnJvbUNvZGVQb2ludCkoMjA5NzE1MSZ0KTpcIlwifSxlLnByb3RvdHlwZS5sb2FkQ2VsbD1mdW5jdGlvbihlLHQpe3ZhciByPTMqZTtyZXR1cm4gdC5jb250ZW50PXRoaXMuX2RhdGFbciswXSx0LmZnPXRoaXMuX2RhdGFbcisxXSx0LmJnPXRoaXMuX2RhdGFbcisyXSwyMDk3MTUyJnQuY29udGVudCYmKHQuY29tYmluZWREYXRhPXRoaXMuX2NvbWJpbmVkW2VdKSwyNjg0MzU0NTYmdC5iZyYmKHQuZXh0ZW5kZWQ9dGhpcy5fZXh0ZW5kZWRBdHRyc1tlXSksdH0sZS5wcm90b3R5cGUuc2V0Q2VsbD1mdW5jdGlvbihlLHQpezIwOTcxNTImdC5jb250ZW50JiYodGhpcy5fY29tYmluZWRbZV09dC5jb21iaW5lZERhdGEpLDI2ODQzNTQ1NiZ0LmJnJiYodGhpcy5fZXh0ZW5kZWRBdHRyc1tlXT10LmV4dGVuZGVkKSx0aGlzLl9kYXRhWzMqZSswXT10LmNvbnRlbnQsdGhpcy5fZGF0YVszKmUrMV09dC5mZyx0aGlzLl9kYXRhWzMqZSsyXT10LmJnfSxlLnByb3RvdHlwZS5zZXRDZWxsRnJvbUNvZGVQb2ludD1mdW5jdGlvbihlLHQscixpLG4sbyl7MjY4NDM1NDU2Jm4mJih0aGlzLl9leHRlbmRlZEF0dHJzW2VdPW8pLHRoaXMuX2RhdGFbMyplKzBdPXR8cjw8MjIsdGhpcy5fZGF0YVszKmUrMV09aSx0aGlzLl9kYXRhWzMqZSsyXT1ufSxlLnByb3RvdHlwZS5hZGRDb2RlcG9pbnRUb0NlbGw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9kYXRhWzMqZSswXTsyMDk3MTUyJnI/dGhpcy5fY29tYmluZWRbZV0rPSgwLGkuc3RyaW5nRnJvbUNvZGVQb2ludCkodCk6KDIwOTcxNTEmcj8odGhpcy5fY29tYmluZWRbZV09KDAsaS5zdHJpbmdGcm9tQ29kZVBvaW50KSgyMDk3MTUxJnIpKygwLGkuc3RyaW5nRnJvbUNvZGVQb2ludCkodCksciY9LTIwOTcxNTIscnw9MjA5NzE1Mik6cj10fDE8PDIyLHRoaXMuX2RhdGFbMyplKzBdPXIpfSxlLnByb3RvdHlwZS5pbnNlcnRDZWxscz1mdW5jdGlvbihlLHQscixpKXtpZigoZSU9dGhpcy5sZW5ndGgpJiYyPT09dGhpcy5nZXRXaWR0aChlLTEpJiZ0aGlzLnNldENlbGxGcm9tQ29kZVBvaW50KGUtMSwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpLHQ8dGhpcy5sZW5ndGgtZSl7Zm9yKHZhciBuPW5ldyBvLkNlbGxEYXRhLGE9dGhpcy5sZW5ndGgtZS10LTE7YT49MDstLWEpdGhpcy5zZXRDZWxsKGUrdCthLHRoaXMubG9hZENlbGwoZSthLG4pKTtmb3IoYT0wO2E8dDsrK2EpdGhpcy5zZXRDZWxsKGUrYSxyKX1lbHNlIGZvcihhPWU7YTx0aGlzLmxlbmd0aDsrK2EpdGhpcy5zZXRDZWxsKGEscik7Mj09PXRoaXMuZ2V0V2lkdGgodGhpcy5sZW5ndGgtMSkmJnRoaXMuc2V0Q2VsbEZyb21Db2RlUG9pbnQodGhpcy5sZW5ndGgtMSwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpfSxlLnByb3RvdHlwZS5kZWxldGVDZWxscz1mdW5jdGlvbihlLHQscixpKXtpZihlJT10aGlzLmxlbmd0aCx0PHRoaXMubGVuZ3RoLWUpe2Zvcih2YXIgbj1uZXcgby5DZWxsRGF0YSxhPTA7YTx0aGlzLmxlbmd0aC1lLXQ7KythKXRoaXMuc2V0Q2VsbChlK2EsdGhpcy5sb2FkQ2VsbChlK3QrYSxuKSk7Zm9yKGE9dGhpcy5sZW5ndGgtdDthPHRoaXMubGVuZ3RoOysrYSl0aGlzLnNldENlbGwoYSxyKX1lbHNlIGZvcihhPWU7YTx0aGlzLmxlbmd0aDsrK2EpdGhpcy5zZXRDZWxsKGEscik7ZSYmMj09PXRoaXMuZ2V0V2lkdGgoZS0xKSYmdGhpcy5zZXRDZWxsRnJvbUNvZGVQb2ludChlLTEsMCwxLChudWxsPT1pP3ZvaWQgMDppLmZnKXx8MCwobnVsbD09aT92b2lkIDA6aS5iZyl8fDAsKG51bGw9PWk/dm9pZCAwOmkuZXh0ZW5kZWQpfHxuZXcgcy5FeHRlbmRlZEF0dHJzKSwwIT09dGhpcy5nZXRXaWR0aChlKXx8dGhpcy5oYXNDb250ZW50KGUpfHx0aGlzLnNldENlbGxGcm9tQ29kZVBvaW50KGUsMCwxLChudWxsPT1pP3ZvaWQgMDppLmZnKXx8MCwobnVsbD09aT92b2lkIDA6aS5iZyl8fDAsKG51bGw9PWk/dm9pZCAwOmkuZXh0ZW5kZWQpfHxuZXcgcy5FeHRlbmRlZEF0dHJzKX0sZS5wcm90b3R5cGUucmVwbGFjZUNlbGxzPWZ1bmN0aW9uKGUsdCxyLGkpe2ZvcihlJiYyPT09dGhpcy5nZXRXaWR0aChlLTEpJiZ0aGlzLnNldENlbGxGcm9tQ29kZVBvaW50KGUtMSwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpLHQ8dGhpcy5sZW5ndGgmJjI9PT10aGlzLmdldFdpZHRoKHQtMSkmJnRoaXMuc2V0Q2VsbEZyb21Db2RlUG9pbnQodCwwLDEsKG51bGw9PWk/dm9pZCAwOmkuZmcpfHwwLChudWxsPT1pP3ZvaWQgMDppLmJnKXx8MCwobnVsbD09aT92b2lkIDA6aS5leHRlbmRlZCl8fG5ldyBzLkV4dGVuZGVkQXR0cnMpO2U8dCYmZTx0aGlzLmxlbmd0aDspdGhpcy5zZXRDZWxsKGUrKyxyKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7aWYoZSE9PXRoaXMubGVuZ3RoKXtpZihlPnRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDMyQXJyYXkoMyplKTt0aGlzLmxlbmd0aCYmKDMqZTx0aGlzLl9kYXRhLmxlbmd0aD9yLnNldCh0aGlzLl9kYXRhLnN1YmFycmF5KDAsMyplKSk6ci5zZXQodGhpcy5fZGF0YSkpLHRoaXMuX2RhdGE9cjtmb3IodmFyIGk9dGhpcy5sZW5ndGg7aTxlOysraSl0aGlzLnNldENlbGwoaSx0KX1lbHNlIGlmKGUpeyhyPW5ldyBVaW50MzJBcnJheSgzKmUpKS5zZXQodGhpcy5fZGF0YS5zdWJhcnJheSgwLDMqZSkpLHRoaXMuX2RhdGE9cjt2YXIgbj1PYmplY3Qua2V5cyh0aGlzLl9jb21iaW5lZCk7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89cGFyc2VJbnQobltpXSwxMCk7bz49ZSYmZGVsZXRlIHRoaXMuX2NvbWJpbmVkW29dfX1lbHNlIHRoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KDApLHRoaXMuX2NvbWJpbmVkPXt9O3RoaXMubGVuZ3RoPWV9fSxlLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbWJpbmVkPXt9LHRoaXMuX2V4dGVuZGVkQXR0cnM9e307Zm9yKHZhciB0PTA7dDx0aGlzLmxlbmd0aDsrK3QpdGhpcy5zZXRDZWxsKHQsZSl9LGUucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLmxlbmd0aCE9PWUubGVuZ3RoP3RoaXMuX2RhdGE9bmV3IFVpbnQzMkFycmF5KGUuX2RhdGEpOnRoaXMuX2RhdGEuc2V0KGUuX2RhdGEpLHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuX2NvbWJpbmVkPXt9LGUuX2NvbWJpbmVkKXRoaXMuX2NvbWJpbmVkW3RdPWUuX2NvbWJpbmVkW3RdO2Zvcih2YXIgdCBpbiB0aGlzLl9leHRlbmRlZEF0dHJzPXt9LGUuX2V4dGVuZGVkQXR0cnMpdGhpcy5fZXh0ZW5kZWRBdHRyc1t0XT1lLl9leHRlbmRlZEF0dHJzW3RdO3RoaXMuaXNXcmFwcGVkPWUuaXNXcmFwcGVkfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBlKDApO2Zvcih2YXIgciBpbiB0Ll9kYXRhPW5ldyBVaW50MzJBcnJheSh0aGlzLl9kYXRhKSx0Lmxlbmd0aD10aGlzLmxlbmd0aCx0aGlzLl9jb21iaW5lZCl0Ll9jb21iaW5lZFtyXT10aGlzLl9jb21iaW5lZFtyXTtmb3IodmFyIHIgaW4gdGhpcy5fZXh0ZW5kZWRBdHRycyl0Ll9leHRlbmRlZEF0dHJzW3JdPXRoaXMuX2V4dGVuZGVkQXR0cnNbcl07cmV0dXJuIHQuaXNXcmFwcGVkPXRoaXMuaXNXcmFwcGVkLHR9LGUucHJvdG90eXBlLmdldFRyaW1tZWRMZW5ndGg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5sZW5ndGgtMTtlPj0wOy0tZSlpZig0MTk0MzAzJnRoaXMuX2RhdGFbMyplKzBdKXJldHVybiBlKyh0aGlzLl9kYXRhWzMqZSswXT4+MjIpO3JldHVybiAwfSxlLnByb3RvdHlwZS5jb3B5Q2VsbHNGcm9tPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG89ZS5fZGF0YTtpZihuKWZvcih2YXIgcz1pLTE7cz49MDtzLS0pZm9yKHZhciBhPTA7YTwzO2ErKyl0aGlzLl9kYXRhWzMqKHIrcykrYV09b1szKih0K3MpK2FdO2Vsc2UgZm9yKHM9MDtzPGk7cysrKWZvcihhPTA7YTwzO2ErKyl0aGlzLl9kYXRhWzMqKHIrcykrYV09b1szKih0K3MpK2FdO3ZhciBjPU9iamVjdC5rZXlzKGUuX2NvbWJpbmVkKTtmb3IoYT0wO2E8Yy5sZW5ndGg7YSsrKXt2YXIgbD1wYXJzZUludChjW2FdLDEwKTtsPj10JiYodGhpcy5fY29tYmluZWRbbC10K3JdPWUuX2NvbWJpbmVkW2xdKX19LGUucHJvdG90eXBlLnRyYW5zbGF0ZVRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ciYmKHI9dGhpcy5sZW5ndGgpLGUmJihyPU1hdGgubWluKHIsdGhpcy5nZXRUcmltbWVkTGVuZ3RoKCkpKTtmb3IodmFyIG89XCJcIjt0PHI7KXt2YXIgcz10aGlzLl9kYXRhWzMqdCswXSxhPTIwOTcxNTEmcztvKz0yMDk3MTUyJnM/dGhpcy5fY29tYmluZWRbdF06YT8oMCxpLnN0cmluZ0Zyb21Db2RlUG9pbnQpKGEpOm4uV0hJVEVTUEFDRV9DRUxMX0NIQVIsdCs9cz4+MjJ8fDF9cmV0dXJuIG99LGV9KCk7dC5CdWZmZXJMaW5lPWF9LDQ4NDE6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldFJhbmdlTGVuZ3RoPXZvaWQgMCx0LmdldFJhbmdlTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7aWYoZS5zdGFydC55PmUuZW5kLnkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyIHJhbmdlIGVuZCAoXCIrZS5lbmQueCtcIiwgXCIrZS5lbmQueStcIikgY2Fubm90IGJlIGJlZm9yZSBzdGFydCAoXCIrZS5zdGFydC54K1wiLCBcIitlLnN0YXJ0LnkrXCIpXCIpO3JldHVybiB0KihlLmVuZC55LWUuc3RhcnQueSkrKGUuZW5kLngtZS5zdGFydC54KzEpfX0sNDYzNDooZSx0KT0+e2Z1bmN0aW9uIHIoZSx0LHIpe2lmKHQ9PT1lLmxlbmd0aC0xKXJldHVybiBlW3RdLmdldFRyaW1tZWRMZW5ndGgoKTt2YXIgaT0hZVt0XS5oYXNDb250ZW50KHItMSkmJjE9PT1lW3RdLmdldFdpZHRoKHItMSksbj0yPT09ZVt0KzFdLmdldFdpZHRoKDApO3JldHVybiBpJiZuP3ItMTpyfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0V3JhcHBlZExpbmVUcmltbWVkTGVuZ3RoPXQucmVmbG93U21hbGxlckdldE5ld0xpbmVMZW5ndGhzPXQucmVmbG93TGFyZ2VyQXBwbHlOZXdMYXlvdXQ9dC5yZWZsb3dMYXJnZXJDcmVhdGVOZXdMYXlvdXQ9dC5yZWZsb3dMYXJnZXJHZXRMaW5lc1RvUmVtb3ZlPXZvaWQgMCx0LnJlZmxvd0xhcmdlckdldExpbmVzVG9SZW1vdmU9ZnVuY3Rpb24oZSx0LGksbixvKXtmb3IodmFyIHM9W10sYT0wO2E8ZS5sZW5ndGgtMTthKyspe3ZhciBjPWEsbD1lLmdldCgrK2MpO2lmKGwuaXNXcmFwcGVkKXtmb3IodmFyIGg9W2UuZ2V0KGEpXTtjPGUubGVuZ3RoJiZsLmlzV3JhcHBlZDspaC5wdXNoKGwpLGw9ZS5nZXQoKytjKTtpZihuPj1hJiZuPGMpYSs9aC5sZW5ndGgtMTtlbHNle2Zvcih2YXIgdT0wLGY9cihoLHUsdCksXz0xLGQ9MDtfPGgubGVuZ3RoOyl7dmFyIHA9cihoLF8sdCksdj1wLWQseT1pLWYsZz1NYXRoLm1pbih2LHkpO2hbdV0uY29weUNlbGxzRnJvbShoW19dLGQsZixnLCExKSwoZis9Zyk9PT1pJiYodSsrLGY9MCksKGQrPWcpPT09cCYmKF8rKyxkPTApLDA9PT1mJiYwIT09dSYmMj09PWhbdS0xXS5nZXRXaWR0aChpLTEpJiYoaFt1XS5jb3B5Q2VsbHNGcm9tKGhbdS0xXSxpLTEsZisrLDEsITEpLGhbdS0xXS5zZXRDZWxsKGktMSxvKSl9aFt1XS5yZXBsYWNlQ2VsbHMoZixpLG8pO2Zvcih2YXIgbT0wLGI9aC5sZW5ndGgtMTtiPjAmJihiPnV8fDA9PT1oW2JdLmdldFRyaW1tZWRMZW5ndGgoKSk7Yi0tKW0rKzttPjAmJihzLnB1c2goYStoLmxlbmd0aC1tKSxzLnB1c2gobSkpLGErPWgubGVuZ3RoLTF9fX1yZXR1cm4gc30sdC5yZWZsb3dMYXJnZXJDcmVhdGVOZXdMYXlvdXQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT0wLG49dFtpXSxvPTAscz0wO3M8ZS5sZW5ndGg7cysrKWlmKG49PT1zKXt2YXIgYT10WysraV07ZS5vbkRlbGV0ZUVtaXR0ZXIuZmlyZSh7aW5kZXg6cy1vLGFtb3VudDphfSkscys9YS0xLG8rPWEsbj10WysraV19ZWxzZSByLnB1c2gocyk7cmV0dXJue2xheW91dDpyLGNvdW50UmVtb3ZlZDpvfX0sdC5yZWZsb3dMYXJnZXJBcHBseU5ld0xheW91dD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspci5wdXNoKGUuZ2V0KHRbaV0pKTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKWUuc2V0KGkscltpXSk7ZS5sZW5ndGg9dC5sZW5ndGh9LHQucmVmbG93U21hbGxlckdldE5ld0xpbmVMZW5ndGhzPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49W10sbz1lLm1hcCgoZnVuY3Rpb24oaSxuKXtyZXR1cm4gcihlLG4sdCl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9KSkscz0wLGE9MCxjPTA7YzxvOyl7aWYoby1jPGkpe24ucHVzaChvLWMpO2JyZWFrfXMrPWk7dmFyIGw9cihlLGEsdCk7cz5sJiYocy09bCxhKyspO3ZhciBoPTI9PT1lW2FdLmdldFdpZHRoKHMtMSk7aCYmcy0tO3ZhciB1PWg/aS0xOmk7bi5wdXNoKHUpLGMrPXV9cmV0dXJuIG59LHQuZ2V0V3JhcHBlZExpbmVUcmltbWVkTGVuZ3RoPXJ9LDUyOTU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CdWZmZXJTZXQ9dm9pZCAwO3ZhciBvPXIoOTA5Mikscz1yKDg0NjApLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fb3B0aW9uc1NlcnZpY2U9dCxpLl9idWZmZXJTZXJ2aWNlPXIsaS5fb25CdWZmZXJBY3RpdmF0ZT1pLnJlZ2lzdGVyKG5ldyBzLkV2ZW50RW1pdHRlciksaS5yZXNldCgpLGl9cmV0dXJuIG4odCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkJ1ZmZlckFjdGl2YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJ1ZmZlckFjdGl2YXRlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fbm9ybWFsPW5ldyBvLkJ1ZmZlcighMCx0aGlzLl9vcHRpb25zU2VydmljZSx0aGlzLl9idWZmZXJTZXJ2aWNlKSx0aGlzLl9ub3JtYWwuZmlsbFZpZXdwb3J0Um93cygpLHRoaXMuX2FsdD1uZXcgby5CdWZmZXIoITEsdGhpcy5fb3B0aW9uc1NlcnZpY2UsdGhpcy5fYnVmZmVyU2VydmljZSksdGhpcy5fYWN0aXZlQnVmZmVyPXRoaXMuX25vcm1hbCx0aGlzLl9vbkJ1ZmZlckFjdGl2YXRlLmZpcmUoe2FjdGl2ZUJ1ZmZlcjp0aGlzLl9ub3JtYWwsaW5hY3RpdmVCdWZmZXI6dGhpcy5fYWx0fSksdGhpcy5zZXR1cFRhYlN0b3BzKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFsdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWx0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQnVmZmVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5vcm1hbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9ybWFsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmFjdGl2YXRlTm9ybWFsQnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlQnVmZmVyIT09dGhpcy5fbm9ybWFsJiYodGhpcy5fbm9ybWFsLng9dGhpcy5fYWx0LngsdGhpcy5fbm9ybWFsLnk9dGhpcy5fYWx0LnksdGhpcy5fYWx0LmNsZWFyKCksdGhpcy5fYWN0aXZlQnVmZmVyPXRoaXMuX25vcm1hbCx0aGlzLl9vbkJ1ZmZlckFjdGl2YXRlLmZpcmUoe2FjdGl2ZUJ1ZmZlcjp0aGlzLl9ub3JtYWwsaW5hY3RpdmVCdWZmZXI6dGhpcy5fYWx0fSkpfSx0LnByb3RvdHlwZS5hY3RpdmF0ZUFsdEJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl9hY3RpdmVCdWZmZXIhPT10aGlzLl9hbHQmJih0aGlzLl9hbHQuZmlsbFZpZXdwb3J0Um93cyhlKSx0aGlzLl9hbHQueD10aGlzLl9ub3JtYWwueCx0aGlzLl9hbHQueT10aGlzLl9ub3JtYWwueSx0aGlzLl9hY3RpdmVCdWZmZXI9dGhpcy5fYWx0LHRoaXMuX29uQnVmZmVyQWN0aXZhdGUuZmlyZSh7YWN0aXZlQnVmZmVyOnRoaXMuX2FsdCxpbmFjdGl2ZUJ1ZmZlcjp0aGlzLl9ub3JtYWx9KSl9LHQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMuX25vcm1hbC5yZXNpemUoZSx0KSx0aGlzLl9hbHQucmVzaXplKGUsdCl9LHQucHJvdG90eXBlLnNldHVwVGFiU3RvcHM9ZnVuY3Rpb24oZSl7dGhpcy5fbm9ybWFsLnNldHVwVGFiU3RvcHMoZSksdGhpcy5fYWx0LnNldHVwVGFiU3RvcHMoZSl9LHR9KHIoODQ0KS5EaXNwb3NhYmxlKTt0LkJ1ZmZlclNldD1hfSw1MTE6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5DZWxsRGF0YT12b2lkIDA7dmFyIG89cig0ODIpLHM9cig2NDMpLGE9cigzNzM0KSxjPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuY29udGVudD0wLHQuZmc9MCx0LmJnPTAsdC5leHRlbmRlZD1uZXcgYS5FeHRlbmRlZEF0dHJzLHQuY29tYmluZWREYXRhPVwiXCIsdH1yZXR1cm4gbih0LGUpLHQuZnJvbUNoYXJEYXRhPWZ1bmN0aW9uKGUpe3ZhciByPW5ldyB0O3JldHVybiByLnNldEZyb21DaGFyRGF0YShlKSxyfSx0LnByb3RvdHlwZS5pc0NvbWJpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIDIwOTcxNTImdGhpcy5jb250ZW50fSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnQ+PjIyfSx0LnByb3RvdHlwZS5nZXRDaGFycz1mdW5jdGlvbigpe3JldHVybiAyMDk3MTUyJnRoaXMuY29udGVudD90aGlzLmNvbWJpbmVkRGF0YToyMDk3MTUxJnRoaXMuY29udGVudD8oMCxvLnN0cmluZ0Zyb21Db2RlUG9pbnQpKDIwOTcxNTEmdGhpcy5jb250ZW50KTpcIlwifSx0LnByb3RvdHlwZS5nZXRDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNDb21iaW5lZCgpP3RoaXMuY29tYmluZWREYXRhLmNoYXJDb2RlQXQodGhpcy5jb21iaW5lZERhdGEubGVuZ3RoLTEpOjIwOTcxNTEmdGhpcy5jb250ZW50fSx0LnByb3RvdHlwZS5zZXRGcm9tQ2hhckRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5mZz1lW3MuQ0hBUl9EQVRBX0FUVFJfSU5ERVhdLHRoaXMuYmc9MDt2YXIgdD0hMTtpZihlW3MuQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aD4yKXQ9ITA7ZWxzZSBpZigyPT09ZVtzLkNIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGgpe3ZhciByPWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgwKTtpZig1NTI5Njw9ciYmcjw9NTYzMTkpe3ZhciBpPWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgxKTs1NjMyMDw9aSYmaTw9NTczNDM/dGhpcy5jb250ZW50PTEwMjQqKHItNTUyOTYpK2ktNTYzMjArNjU1MzZ8ZVtzLkNIQVJfREFUQV9XSURUSF9JTkRFWF08PDIyOnQ9ITB9ZWxzZSB0PSEwfWVsc2UgdGhpcy5jb250ZW50PWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0uY2hhckNvZGVBdCgwKXxlW3MuQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTw8MjI7dCYmKHRoaXMuY29tYmluZWREYXRhPWVbcy5DSEFSX0RBVEFfQ0hBUl9JTkRFWF0sdGhpcy5jb250ZW50PTIwOTcxNTJ8ZVtzLkNIQVJfREFUQV9XSURUSF9JTkRFWF08PDIyKX0sdC5wcm90b3R5cGUuZ2V0QXNDaGFyRGF0YT1mdW5jdGlvbigpe3JldHVyblt0aGlzLmZnLHRoaXMuZ2V0Q2hhcnMoKSx0aGlzLmdldFdpZHRoKCksdGhpcy5nZXRDb2RlKCldfSx0fShhLkF0dHJpYnV0ZURhdGEpO3QuQ2VsbERhdGE9Y30sNjQzOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XSElURVNQQUNFX0NFTExfQ09ERT10LldISVRFU1BBQ0VfQ0VMTF9XSURUSD10LldISVRFU1BBQ0VfQ0VMTF9DSEFSPXQuTlVMTF9DRUxMX0NPREU9dC5OVUxMX0NFTExfV0lEVEg9dC5OVUxMX0NFTExfQ0hBUj10LkNIQVJfREFUQV9DT0RFX0lOREVYPXQuQ0hBUl9EQVRBX1dJRFRIX0lOREVYPXQuQ0hBUl9EQVRBX0NIQVJfSU5ERVg9dC5DSEFSX0RBVEFfQVRUUl9JTkRFWD10LkRFRkFVTFRfQVRUUj10LkRFRkFVTFRfQ09MT1I9dm9pZCAwLHQuREVGQVVMVF9DT0xPUj0yNTYsdC5ERUZBVUxUX0FUVFI9MjU2fHQuREVGQVVMVF9DT0xPUjw8OSx0LkNIQVJfREFUQV9BVFRSX0lOREVYPTAsdC5DSEFSX0RBVEFfQ0hBUl9JTkRFWD0xLHQuQ0hBUl9EQVRBX1dJRFRIX0lOREVYPTIsdC5DSEFSX0RBVEFfQ09ERV9JTkRFWD0zLHQuTlVMTF9DRUxMX0NIQVI9XCJcIix0Lk5VTExfQ0VMTF9XSURUSD0xLHQuTlVMTF9DRUxMX0NPREU9MCx0LldISVRFU1BBQ0VfQ0VMTF9DSEFSPVwiIFwiLHQuV0hJVEVTUEFDRV9DRUxMX1dJRFRIPTEsdC5XSElURVNQQUNFX0NFTExfQ09ERT0zMn0sNDg2MzpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1hcmtlcj12b2lkIDA7dmFyIG89cig4NDYwKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQocil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmxpbmU9cixpLl9pZD10Ll9uZXh0SWQrKyxpLmlzRGlzcG9zZWQ9ITEsaS5fb25EaXNwb3NlPW5ldyBvLkV2ZW50RW1pdHRlcixpfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uRGlzcG9zZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25EaXNwb3NlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzRGlzcG9zZWR8fCh0aGlzLmlzRGlzcG9zZWQ9ITAsdGhpcy5saW5lPS0xLHRoaXMuX29uRGlzcG9zZS5maXJlKCksZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpKX0sdC5fbmV4dElkPTEsdH0ocig4NDQpLkRpc3Bvc2FibGUpO3QuTWFya2VyPXN9LDcxMTY6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRFRkFVTFRfQ0hBUlNFVD10LkNIQVJTRVRTPXZvaWQgMCx0LkNIQVJTRVRTPXt9LHQuREVGQVVMVF9DSEFSU0VUPXQuQ0hBUlNFVFMuQix0LkNIQVJTRVRTWzBdPXtcImBcIjpcIuKXhlwiLGE6XCLilpJcIixiOlwi4pCJXCIsYzpcIuKQjFwiLGQ6XCLikI1cIixlOlwi4pCKXCIsZjpcIsKwXCIsZzpcIsKxXCIsaDpcIuKQpFwiLGk6XCLikItcIixqOlwi4pSYXCIsazpcIuKUkFwiLGw6XCLilIxcIixtOlwi4pSUXCIsbjpcIuKUvFwiLG86XCLijrpcIixwOlwi4o67XCIscTpcIuKUgFwiLHI6XCLijrxcIixzOlwi4o69XCIsdDpcIuKUnFwiLHU6XCLilKRcIix2Olwi4pS0XCIsdzpcIuKUrFwiLHg6XCLilIJcIix5Olwi4omkXCIsejpcIuKJpVwiLFwie1wiOlwiz4BcIixcInxcIjpcIuKJoFwiLFwifVwiOlwiwqNcIixcIn5cIjpcIsK3XCJ9LHQuQ0hBUlNFVFMuQT17XCIjXCI6XCLCo1wifSx0LkNIQVJTRVRTLkI9dm9pZCAwLHQuQ0hBUlNFVFNbNF09e1wiI1wiOlwiwqNcIixcIkBcIjpcIsK+XCIsXCJbXCI6XCJpalwiLFwiXFxcXFwiOlwiwr1cIixcIl1cIjpcInxcIixcIntcIjpcIsKoXCIsXCJ8XCI6XCJmXCIsXCJ9XCI6XCLCvFwiLFwiflwiOlwiwrRcIn0sdC5DSEFSU0VUUy5DPXQuQ0hBUlNFVFNbNV09e1wiW1wiOlwiw4RcIixcIlxcXFxcIjpcIsOWXCIsXCJdXCI6XCLDhVwiLFwiXlwiOlwiw5xcIixcImBcIjpcIsOpXCIsXCJ7XCI6XCLDpFwiLFwifFwiOlwiw7ZcIixcIn1cIjpcIsOlXCIsXCJ+XCI6XCLDvFwifSx0LkNIQVJTRVRTLlI9e1wiI1wiOlwiwqNcIixcIkBcIjpcIsOgXCIsXCJbXCI6XCLCsFwiLFwiXFxcXFwiOlwiw6dcIixcIl1cIjpcIsKnXCIsXCJ7XCI6XCLDqVwiLFwifFwiOlwiw7lcIixcIn1cIjpcIsOoXCIsXCJ+XCI6XCLCqFwifSx0LkNIQVJTRVRTLlE9e1wiQFwiOlwiw6BcIixcIltcIjpcIsOiXCIsXCJcXFxcXCI6XCLDp1wiLFwiXVwiOlwiw6pcIixcIl5cIjpcIsOuXCIsXCJgXCI6XCLDtFwiLFwie1wiOlwiw6lcIixcInxcIjpcIsO5XCIsXCJ9XCI6XCLDqFwiLFwiflwiOlwiw7tcIn0sdC5DSEFSU0VUUy5LPXtcIkBcIjpcIsKnXCIsXCJbXCI6XCLDhFwiLFwiXFxcXFwiOlwiw5ZcIixcIl1cIjpcIsOcXCIsXCJ7XCI6XCLDpFwiLFwifFwiOlwiw7ZcIixcIn1cIjpcIsO8XCIsXCJ+XCI6XCLDn1wifSx0LkNIQVJTRVRTLlk9e1wiI1wiOlwiwqNcIixcIkBcIjpcIsKnXCIsXCJbXCI6XCLCsFwiLFwiXFxcXFwiOlwiw6dcIixcIl1cIjpcIsOpXCIsXCJgXCI6XCLDuVwiLFwie1wiOlwiw6BcIixcInxcIjpcIsOyXCIsXCJ9XCI6XCLDqFwiLFwiflwiOlwiw6xcIn0sdC5DSEFSU0VUUy5FPXQuQ0hBUlNFVFNbNl09e1wiQFwiOlwiw4RcIixcIltcIjpcIsOGXCIsXCJcXFxcXCI6XCLDmFwiLFwiXVwiOlwiw4VcIixcIl5cIjpcIsOcXCIsXCJgXCI6XCLDpFwiLFwie1wiOlwiw6ZcIixcInxcIjpcIsO4XCIsXCJ9XCI6XCLDpVwiLFwiflwiOlwiw7xcIn0sdC5DSEFSU0VUUy5aPXtcIiNcIjpcIsKjXCIsXCJAXCI6XCLCp1wiLFwiW1wiOlwiwqFcIixcIlxcXFxcIjpcIsORXCIsXCJdXCI6XCLCv1wiLFwie1wiOlwiwrBcIixcInxcIjpcIsOxXCIsXCJ9XCI6XCLDp1wifSx0LkNIQVJTRVRTLkg9dC5DSEFSU0VUU1s3XT17XCJAXCI6XCLDiVwiLFwiW1wiOlwiw4RcIixcIlxcXFxcIjpcIsOWXCIsXCJdXCI6XCLDhVwiLFwiXlwiOlwiw5xcIixcImBcIjpcIsOpXCIsXCJ7XCI6XCLDpFwiLFwifFwiOlwiw7ZcIixcIn1cIjpcIsOlXCIsXCJ+XCI6XCLDvFwifSx0LkNIQVJTRVRTW1wiPVwiXT17XCIjXCI6XCLDuVwiLFwiQFwiOlwiw6BcIixcIltcIjpcIsOpXCIsXCJcXFxcXCI6XCLDp1wiLFwiXVwiOlwiw6pcIixcIl5cIjpcIsOuXCIsXzpcIsOoXCIsXCJgXCI6XCLDtFwiLFwie1wiOlwiw6RcIixcInxcIjpcIsO2XCIsXCJ9XCI6XCLDvFwiLFwiflwiOlwiw7tcIn19LDI1ODQ6KGUsdCk9Pnt2YXIgcixpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQzFfRVNDQVBFRD10LkMxPXQuQzA9dm9pZCAwLGZ1bmN0aW9uKGUpe2UuTlVMPVwiXFwwXCIsZS5TT0g9XCJcdTAwMDFcIixlLlNUWD1cIlx1MDAwMlwiLGUuRVRYPVwiXHUwMDAzXCIsZS5FT1Q9XCJcdTAwMDRcIixlLkVOUT1cIlx1MDAwNVwiLGUuQUNLPVwiXHUwMDA2XCIsZS5CRUw9XCJcdTAwMDdcIixlLkJTPVwiXFxiXCIsZS5IVD1cIlxcdFwiLGUuTEY9XCJcXG5cIixlLlZUPVwiXFx2XCIsZS5GRj1cIlxcZlwiLGUuQ1I9XCJcXHJcIixlLlNPPVwiXHUwMDBlXCIsZS5TST1cIlx1MDAwZlwiLGUuRExFPVwiXHUwMDEwXCIsZS5EQzE9XCJcdTAwMTFcIixlLkRDMj1cIlx1MDAxMlwiLGUuREMzPVwiXHUwMDEzXCIsZS5EQzQ9XCJcdTAwMTRcIixlLk5BSz1cIlx1MDAxNVwiLGUuU1lOPVwiXHUwMDE2XCIsZS5FVEI9XCJcdTAwMTdcIixlLkNBTj1cIlx1MDAxOFwiLGUuRU09XCJcdTAwMTlcIixlLlNVQj1cIlx1MDAxYVwiLGUuRVNDPVwiXHUwMDFiXCIsZS5GUz1cIlx1MDAxY1wiLGUuR1M9XCJcdTAwMWRcIixlLlJTPVwiXHUwMDFlXCIsZS5VUz1cIlx1MDAxZlwiLGUuU1A9XCIgXCIsZS5ERUw9XCJ/XCJ9KHI9dC5DMHx8KHQuQzA9e30pKSwoaT10LkMxfHwodC5DMT17fSkpLlBBRD1cIsKAXCIsaS5IT1A9XCLCgVwiLGkuQlBIPVwiwoJcIixpLk5CSD1cIsKDXCIsaS5JTkQ9XCLChFwiLGkuTkVMPVwiwoVcIixpLlNTQT1cIsKGXCIsaS5FU0E9XCLCh1wiLGkuSFRTPVwiwohcIixpLkhUSj1cIsKJXCIsaS5WVFM9XCLCilwiLGkuUExEPVwiwotcIixpLlBMVT1cIsKMXCIsaS5SST1cIsKNXCIsaS5TUzI9XCLCjlwiLGkuU1MzPVwiwo9cIixpLkRDUz1cIsKQXCIsaS5QVTE9XCLCkVwiLGkuUFUyPVwiwpJcIixpLlNUUz1cIsKTXCIsaS5DQ0g9XCLClFwiLGkuTVc9XCLClVwiLGkuU1BBPVwiwpZcIixpLkVQQT1cIsKXXCIsaS5TT1M9XCLCmFwiLGkuU0dDST1cIsKZXCIsaS5TQ0k9XCLCmlwiLGkuQ1NJPVwiwptcIixpLlNUPVwiwpxcIixpLk9TQz1cIsKdXCIsaS5QTT1cIsKeXCIsaS5BUEM9XCLCn1wiLCh0LkMxX0VTQ0FQRUR8fCh0LkMxX0VTQ0FQRUQ9e30pKS5TVD1yLkVTQytcIlxcXFxcIn0sNzM5OTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ldmFsdWF0ZUtleWJvYXJkRXZlbnQ9dm9pZCAwO3ZhciBpPXIoMjU4NCksbj17NDg6W1wiMFwiLFwiKVwiXSw0OTpbXCIxXCIsXCIhXCJdLDUwOltcIjJcIixcIkBcIl0sNTE6W1wiM1wiLFwiI1wiXSw1MjpbXCI0XCIsXCIkXCJdLDUzOltcIjVcIixcIiVcIl0sNTQ6W1wiNlwiLFwiXlwiXSw1NTpbXCI3XCIsXCImXCJdLDU2OltcIjhcIixcIipcIl0sNTc6W1wiOVwiLFwiKFwiXSwxODY6W1wiO1wiLFwiOlwiXSwxODc6W1wiPVwiLFwiK1wiXSwxODg6W1wiLFwiLFwiPFwiXSwxODk6W1wiLVwiLFwiX1wiXSwxOTA6W1wiLlwiLFwiPlwiXSwxOTE6W1wiL1wiLFwiP1wiXSwxOTI6W1wiYFwiLFwiflwiXSwyMTk6W1wiW1wiLFwie1wiXSwyMjA6W1wiXFxcXFwiLFwifFwiXSwyMjE6W1wiXVwiLFwifVwiXSwyMjI6W1wiJ1wiLCdcIiddfTt0LmV2YWx1YXRlS2V5Ym9hcmRFdmVudD1mdW5jdGlvbihlLHQscixvKXt2YXIgcz17dHlwZTowLGNhbmNlbDohMSxrZXk6dm9pZCAwfSxhPShlLnNoaWZ0S2V5PzE6MCl8KGUuYWx0S2V5PzI6MCl8KGUuY3RybEtleT80OjApfChlLm1ldGFLZXk/ODowKTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDA6XCJVSUtleUlucHV0VXBBcnJvd1wiPT09ZS5rZXk/cy5rZXk9dD9pLkMwLkVTQytcIk9BXCI6aS5DMC5FU0MrXCJbQVwiOlwiVUlLZXlJbnB1dExlZnRBcnJvd1wiPT09ZS5rZXk/cy5rZXk9dD9pLkMwLkVTQytcIk9EXCI6aS5DMC5FU0MrXCJbRFwiOlwiVUlLZXlJbnB1dFJpZ2h0QXJyb3dcIj09PWUua2V5P3Mua2V5PXQ/aS5DMC5FU0MrXCJPQ1wiOmkuQzAuRVNDK1wiW0NcIjpcIlVJS2V5SW5wdXREb3duQXJyb3dcIj09PWUua2V5JiYocy5rZXk9dD9pLkMwLkVTQytcIk9CXCI6aS5DMC5FU0MrXCJbQlwiKTticmVhaztjYXNlIDg6aWYoZS5zaGlmdEtleSl7cy5rZXk9aS5DMC5CUzticmVha31pZihlLmFsdEtleSl7cy5rZXk9aS5DMC5FU0MraS5DMC5ERUw7YnJlYWt9cy5rZXk9aS5DMC5ERUw7YnJlYWs7Y2FzZSA5OmlmKGUuc2hpZnRLZXkpe3Mua2V5PWkuQzAuRVNDK1wiW1pcIjticmVha31zLmtleT1pLkMwLkhULHMuY2FuY2VsPSEwO2JyZWFrO2Nhc2UgMTM6cy5rZXk9ZS5hbHRLZXk/aS5DMC5FU0MraS5DMC5DUjppLkMwLkNSLHMuY2FuY2VsPSEwO2JyZWFrO2Nhc2UgMjc6cy5rZXk9aS5DMC5FU0MsZS5hbHRLZXkmJihzLmtleT1pLkMwLkVTQytpLkMwLkVTQykscy5jYW5jZWw9ITA7YnJlYWs7Y2FzZSAzNzppZihlLm1ldGFLZXkpYnJlYWs7YT8ocy5rZXk9aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkRcIixzLmtleT09PWkuQzAuRVNDK1wiWzE7M0RcIiYmKHMua2V5PWkuQzAuRVNDKyhyP1wiYlwiOlwiWzE7NURcIikpKTpzLmtleT10P2kuQzAuRVNDK1wiT0RcIjppLkMwLkVTQytcIltEXCI7YnJlYWs7Y2FzZSAzOTppZihlLm1ldGFLZXkpYnJlYWs7YT8ocy5rZXk9aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkNcIixzLmtleT09PWkuQzAuRVNDK1wiWzE7M0NcIiYmKHMua2V5PWkuQzAuRVNDKyhyP1wiZlwiOlwiWzE7NUNcIikpKTpzLmtleT10P2kuQzAuRVNDK1wiT0NcIjppLkMwLkVTQytcIltDXCI7YnJlYWs7Y2FzZSAzODppZihlLm1ldGFLZXkpYnJlYWs7YT8ocy5rZXk9aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkFcIixyfHxzLmtleSE9PWkuQzAuRVNDK1wiWzE7M0FcInx8KHMua2V5PWkuQzAuRVNDK1wiWzE7NUFcIikpOnMua2V5PXQ/aS5DMC5FU0MrXCJPQVwiOmkuQzAuRVNDK1wiW0FcIjticmVhaztjYXNlIDQwOmlmKGUubWV0YUtleSlicmVhazthPyhzLmtleT1pLkMwLkVTQytcIlsxO1wiKyhhKzEpK1wiQlwiLHJ8fHMua2V5IT09aS5DMC5FU0MrXCJbMTszQlwifHwocy5rZXk9aS5DMC5FU0MrXCJbMTs1QlwiKSk6cy5rZXk9dD9pLkMwLkVTQytcIk9CXCI6aS5DMC5FU0MrXCJbQlwiO2JyZWFrO2Nhc2UgNDU6ZS5zaGlmdEtleXx8ZS5jdHJsS2V5fHwocy5rZXk9aS5DMC5FU0MrXCJbMn5cIik7YnJlYWs7Y2FzZSA0NjpzLmtleT1hP2kuQzAuRVNDK1wiWzM7XCIrKGErMSkrXCJ+XCI6aS5DMC5FU0MrXCJbM35cIjticmVhaztjYXNlIDM2OnMua2V5PWE/aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIkhcIjp0P2kuQzAuRVNDK1wiT0hcIjppLkMwLkVTQytcIltIXCI7YnJlYWs7Y2FzZSAzNTpzLmtleT1hP2kuQzAuRVNDK1wiWzE7XCIrKGErMSkrXCJGXCI6dD9pLkMwLkVTQytcIk9GXCI6aS5DMC5FU0MrXCJbRlwiO2JyZWFrO2Nhc2UgMzM6ZS5zaGlmdEtleT9zLnR5cGU9MjplLmN0cmxLZXk/cy5rZXk9aS5DMC5FU0MrXCJbNTtcIisoYSsxKStcIn5cIjpzLmtleT1pLkMwLkVTQytcIls1flwiO2JyZWFrO2Nhc2UgMzQ6ZS5zaGlmdEtleT9zLnR5cGU9MzplLmN0cmxLZXk/cy5rZXk9aS5DMC5FU0MrXCJbNjtcIisoYSsxKStcIn5cIjpzLmtleT1pLkMwLkVTQytcIls2flwiO2JyZWFrO2Nhc2UgMTEyOnMua2V5PWE/aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIlBcIjppLkMwLkVTQytcIk9QXCI7YnJlYWs7Y2FzZSAxMTM6cy5rZXk9YT9pLkMwLkVTQytcIlsxO1wiKyhhKzEpK1wiUVwiOmkuQzAuRVNDK1wiT1FcIjticmVhaztjYXNlIDExNDpzLmtleT1hP2kuQzAuRVNDK1wiWzE7XCIrKGErMSkrXCJSXCI6aS5DMC5FU0MrXCJPUlwiO2JyZWFrO2Nhc2UgMTE1OnMua2V5PWE/aS5DMC5FU0MrXCJbMTtcIisoYSsxKStcIlNcIjppLkMwLkVTQytcIk9TXCI7YnJlYWs7Y2FzZSAxMTY6cy5rZXk9YT9pLkMwLkVTQytcIlsxNTtcIisoYSsxKStcIn5cIjppLkMwLkVTQytcIlsxNX5cIjticmVhaztjYXNlIDExNzpzLmtleT1hP2kuQzAuRVNDK1wiWzE3O1wiKyhhKzEpK1wiflwiOmkuQzAuRVNDK1wiWzE3flwiO2JyZWFrO2Nhc2UgMTE4OnMua2V5PWE/aS5DMC5FU0MrXCJbMTg7XCIrKGErMSkrXCJ+XCI6aS5DMC5FU0MrXCJbMTh+XCI7YnJlYWs7Y2FzZSAxMTk6cy5rZXk9YT9pLkMwLkVTQytcIlsxOTtcIisoYSsxKStcIn5cIjppLkMwLkVTQytcIlsxOX5cIjticmVhaztjYXNlIDEyMDpzLmtleT1hP2kuQzAuRVNDK1wiWzIwO1wiKyhhKzEpK1wiflwiOmkuQzAuRVNDK1wiWzIwflwiO2JyZWFrO2Nhc2UgMTIxOnMua2V5PWE/aS5DMC5FU0MrXCJbMjE7XCIrKGErMSkrXCJ+XCI6aS5DMC5FU0MrXCJbMjF+XCI7YnJlYWs7Y2FzZSAxMjI6cy5rZXk9YT9pLkMwLkVTQytcIlsyMztcIisoYSsxKStcIn5cIjppLkMwLkVTQytcIlsyM35cIjticmVhaztjYXNlIDEyMzpzLmtleT1hP2kuQzAuRVNDK1wiWzI0O1wiKyhhKzEpK1wiflwiOmkuQzAuRVNDK1wiWzI0flwiO2JyZWFrO2RlZmF1bHQ6aWYoIWUuY3RybEtleXx8ZS5zaGlmdEtleXx8ZS5hbHRLZXl8fGUubWV0YUtleSlpZihyJiYhb3x8IWUuYWx0S2V5fHxlLm1ldGFLZXkpIXJ8fGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUuc2hpZnRLZXl8fCFlLm1ldGFLZXk/ZS5rZXkmJiFlLmN0cmxLZXkmJiFlLmFsdEtleSYmIWUubWV0YUtleSYmZS5rZXlDb2RlPj00OCYmMT09PWUua2V5Lmxlbmd0aD9zLmtleT1lLmtleTplLmtleSYmZS5jdHJsS2V5JiYoXCJfXCI9PT1lLmtleSYmKHMua2V5PWkuQzAuVVMpLFwiQFwiPT09ZS5rZXkmJihzLmtleT1pLkMwLk5VTCkpOjY1PT09ZS5rZXlDb2RlJiYocy50eXBlPTEpO2Vsc2V7dmFyIGM9bltlLmtleUNvZGVdLGw9bnVsbD09Yz92b2lkIDA6Y1tlLnNoaWZ0S2V5PzE6MF07aWYobClzLmtleT1pLkMwLkVTQytsO2Vsc2UgaWYoZS5rZXlDb2RlPj02NSYmZS5rZXlDb2RlPD05MCl7dmFyIGg9ZS5jdHJsS2V5P2Uua2V5Q29kZS02NDplLmtleUNvZGUrMzIsdT1TdHJpbmcuZnJvbUNoYXJDb2RlKGgpO2Uuc2hpZnRLZXkmJih1PXUudG9VcHBlckNhc2UoKSkscy5rZXk9aS5DMC5FU0MrdX1lbHNlXCJEZWFkXCI9PT1lLmtleSYmZS5jb2RlLnN0YXJ0c1dpdGgoXCJLZXlcIikmJih1PWUuY29kZS5zbGljZSgzLDQpLGUuc2hpZnRLZXl8fCh1PXUudG9Mb3dlckNhc2UoKSkscy5rZXk9aS5DMC5FU0MrdSxzLmNhbmNlbD0hMCl9ZWxzZSBlLmtleUNvZGU+PTY1JiZlLmtleUNvZGU8PTkwP3Mua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlLTY0KTozMj09PWUua2V5Q29kZT9zLmtleT1pLkMwLk5VTDplLmtleUNvZGU+PTUxJiZlLmtleUNvZGU8PTU1P3Mua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlLTUxKzI3KTo1Nj09PWUua2V5Q29kZT9zLmtleT1pLkMwLkRFTDoyMTk9PT1lLmtleUNvZGU/cy5rZXk9aS5DMC5FU0M6MjIwPT09ZS5rZXlDb2RlP3Mua2V5PWkuQzAuRlM6MjIxPT09ZS5rZXlDb2RlJiYocy5rZXk9aS5DMC5HUyl9cmV0dXJuIHN9fSw0ODI6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlV0ZjhUb1V0ZjMyPXQuU3RyaW5nVG9VdGYzMj10LnV0ZjMyVG9TdHJpbmc9dC5zdHJpbmdGcm9tQ29kZVBvaW50PXZvaWQgMCx0LnN0cmluZ0Zyb21Db2RlUG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+NjU1MzU/KGUtPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGU+PjEwKSkrU3RyaW5nLmZyb21DaGFyQ29kZShlJTEwMjQrNTYzMjApKTpTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSx0LnV0ZjMyVG9TdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PXImJihyPWUubGVuZ3RoKTtmb3IodmFyIGk9XCJcIixuPXQ7bjxyOysrbil7dmFyIG89ZVtuXTtvPjY1NTM1PyhvLT02NTUzNixpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2KyhvPj4xMCkpK1N0cmluZy5mcm9tQ2hhckNvZGUobyUxMDI0KzU2MzIwKSk6aSs9U3RyaW5nLmZyb21DaGFyQ29kZShvKX1yZXR1cm4gaX07dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5faW50ZXJpbT0wfXJldHVybiBlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX2ludGVyaW09MH0sZS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGg7aWYoIXIpcmV0dXJuIDA7dmFyIGk9MCxuPTA7dGhpcy5faW50ZXJpbSYmKDU2MzIwPD0oYT1lLmNoYXJDb2RlQXQobisrKSkmJmE8PTU3MzQzP3RbaSsrXT0xMDI0Kih0aGlzLl9pbnRlcmltLTU1Mjk2KSthLTU2MzIwKzY1NTM2Oih0W2krK109dGhpcy5faW50ZXJpbSx0W2krK109YSksdGhpcy5faW50ZXJpbT0wKTtmb3IodmFyIG89bjtvPHI7KytvKXt2YXIgcz1lLmNoYXJDb2RlQXQobyk7aWYoNTUyOTY8PXMmJnM8PTU2MzE5KXtpZigrK28+PXIpcmV0dXJuIHRoaXMuX2ludGVyaW09cyxpO3ZhciBhOzU2MzIwPD0oYT1lLmNoYXJDb2RlQXQobykpJiZhPD01NzM0Mz90W2krK109MTAyNCoocy01NTI5NikrYS01NjMyMCs2NTUzNjoodFtpKytdPXMsdFtpKytdPWEpfWVsc2UgNjUyNzkhPT1zJiYodFtpKytdPXMpfXJldHVybiBpfSxlfSgpO3QuU3RyaW5nVG9VdGYzMj1yO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaW50ZXJpbT1uZXcgVWludDhBcnJheSgzKX1yZXR1cm4gZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmludGVyaW0uZmlsbCgwKX0sZS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGg7aWYoIXIpcmV0dXJuIDA7dmFyIGksbixvLHMsYT0wLGM9MCxsPTA7aWYodGhpcy5pbnRlcmltWzBdKXt2YXIgaD0hMSx1PXRoaXMuaW50ZXJpbVswXTt1Jj0xOTI9PSgyMjQmdSk/MzE6MjI0PT0oMjQwJnUpPzE1Ojc7Zm9yKHZhciBmPTAsXz12b2lkIDA7KF89NjMmdGhpcy5pbnRlcmltWysrZl0pJiZmPDQ7KXU8PD02LHV8PV87Zm9yKHZhciBkPTE5Mj09KDIyNCZ0aGlzLmludGVyaW1bMF0pPzI6MjI0PT0oMjQwJnRoaXMuaW50ZXJpbVswXSk/Mzo0LHA9ZC1mO2w8cDspe2lmKGw+PXIpcmV0dXJuIDA7aWYoMTI4IT0oMTkyJihfPWVbbCsrXSkpKXtsLS0saD0hMDticmVha310aGlzLmludGVyaW1bZisrXT1fLHU8PD02LHV8PTYzJl99aHx8KDI9PT1kP3U8MTI4P2wtLTp0W2ErK109dTozPT09ZD91PDIwNDh8fHU+PTU1Mjk2JiZ1PD01NzM0M3x8NjUyNzk9PT11fHwodFthKytdPXUpOnU8NjU1MzZ8fHU+MTExNDExMXx8KHRbYSsrXT11KSksdGhpcy5pbnRlcmltLmZpbGwoMCl9Zm9yKHZhciB2PXItNCx5PWw7eTxyOyl7Zm9yKDshKCEoeTx2KXx8MTI4JihpPWVbeV0pfHwxMjgmKG49ZVt5KzFdKXx8MTI4JihvPWVbeSsyXSl8fDEyOCYocz1lW3krM10pKTspdFthKytdPWksdFthKytdPW4sdFthKytdPW8sdFthKytdPXMseSs9NDtpZigoaT1lW3krK10pPDEyOCl0W2ErK109aTtlbHNlIGlmKDE5Mj09KDIyNCZpKSl7aWYoeT49cilyZXR1cm4gdGhpcy5pbnRlcmltWzBdPWksYTtpZigxMjghPSgxOTImKG49ZVt5KytdKSkpe3ktLTtjb250aW51ZX1pZigoYz0oMzEmaSk8PDZ8NjMmbik8MTI4KXt5LS07Y29udGludWV9dFthKytdPWN9ZWxzZSBpZigyMjQ9PSgyNDAmaSkpe2lmKHk+PXIpcmV0dXJuIHRoaXMuaW50ZXJpbVswXT1pLGE7aWYoMTI4IT0oMTkyJihuPWVbeSsrXSkpKXt5LS07Y29udGludWV9aWYoeT49cilyZXR1cm4gdGhpcy5pbnRlcmltWzBdPWksdGhpcy5pbnRlcmltWzFdPW4sYTtpZigxMjghPSgxOTImKG89ZVt5KytdKSkpe3ktLTtjb250aW51ZX1pZigoYz0oMTUmaSk8PDEyfCg2MyZuKTw8Nnw2MyZvKTwyMDQ4fHxjPj01NTI5NiYmYzw9NTczNDN8fDY1Mjc5PT09Yyljb250aW51ZTt0W2ErK109Y31lbHNlIGlmKDI0MD09KDI0OCZpKSl7aWYoeT49cilyZXR1cm4gdGhpcy5pbnRlcmltWzBdPWksYTtpZigxMjghPSgxOTImKG49ZVt5KytdKSkpe3ktLTtjb250aW51ZX1pZih5Pj1yKXJldHVybiB0aGlzLmludGVyaW1bMF09aSx0aGlzLmludGVyaW1bMV09bixhO2lmKDEyOCE9KDE5MiYobz1lW3krK10pKSl7eS0tO2NvbnRpbnVlfWlmKHk+PXIpcmV0dXJuIHRoaXMuaW50ZXJpbVswXT1pLHRoaXMuaW50ZXJpbVsxXT1uLHRoaXMuaW50ZXJpbVsyXT1vLGE7aWYoMTI4IT0oMTkyJihzPWVbeSsrXSkpKXt5LS07Y29udGludWV9aWYoKGM9KDcmaSk8PDE4fCg2MyZuKTw8MTJ8KDYzJm8pPDw2fDYzJnMpPDY1NTM2fHxjPjExMTQxMTEpY29udGludWU7dFthKytdPWN9fXJldHVybiBhfSxlfSgpO3QuVXRmOFRvVXRmMzI9aX0sMjI1OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlVuaWNvZGVWNj12b2lkIDA7dmFyIGksbj1yKDgyNzMpLG89W1s3NjgsODc5XSxbMTE1NSwxMTU4XSxbMTE2MCwxMTYxXSxbMTQyNSwxNDY5XSxbMTQ3MSwxNDcxXSxbMTQ3MywxNDc0XSxbMTQ3NiwxNDc3XSxbMTQ3OSwxNDc5XSxbMTUzNiwxNTM5XSxbMTU1MiwxNTU3XSxbMTYxMSwxNjMwXSxbMTY0OCwxNjQ4XSxbMTc1MCwxNzY0XSxbMTc2NywxNzY4XSxbMTc3MCwxNzczXSxbMTgwNywxODA3XSxbMTgwOSwxODA5XSxbMTg0MCwxODY2XSxbMTk1OCwxOTY4XSxbMjAyNywyMDM1XSxbMjMwNSwyMzA2XSxbMjM2NCwyMzY0XSxbMjM2OSwyMzc2XSxbMjM4MSwyMzgxXSxbMjM4NSwyMzg4XSxbMjQwMiwyNDAzXSxbMjQzMywyNDMzXSxbMjQ5MiwyNDkyXSxbMjQ5NywyNTAwXSxbMjUwOSwyNTA5XSxbMjUzMCwyNTMxXSxbMjU2MSwyNTYyXSxbMjYyMCwyNjIwXSxbMjYyNSwyNjI2XSxbMjYzMSwyNjMyXSxbMjYzNSwyNjM3XSxbMjY3MiwyNjczXSxbMjY4OSwyNjkwXSxbMjc0OCwyNzQ4XSxbMjc1MywyNzU3XSxbMjc1OSwyNzYwXSxbMjc2NSwyNzY1XSxbMjc4NiwyNzg3XSxbMjgxNywyODE3XSxbMjg3NiwyODc2XSxbMjg3OSwyODc5XSxbMjg4MSwyODgzXSxbMjg5MywyODkzXSxbMjkwMiwyOTAyXSxbMjk0NiwyOTQ2XSxbMzAwOCwzMDA4XSxbMzAyMSwzMDIxXSxbMzEzNCwzMTM2XSxbMzE0MiwzMTQ0XSxbMzE0NiwzMTQ5XSxbMzE1NywzMTU4XSxbMzI2MCwzMjYwXSxbMzI2MywzMjYzXSxbMzI3MCwzMjcwXSxbMzI3NiwzMjc3XSxbMzI5OCwzMjk5XSxbMzM5MywzMzk1XSxbMzQwNSwzNDA1XSxbMzUzMCwzNTMwXSxbMzUzOCwzNTQwXSxbMzU0MiwzNTQyXSxbMzYzMywzNjMzXSxbMzYzNiwzNjQyXSxbMzY1NSwzNjYyXSxbMzc2MSwzNzYxXSxbMzc2NCwzNzY5XSxbMzc3MSwzNzcyXSxbMzc4NCwzNzg5XSxbMzg2NCwzODY1XSxbMzg5MywzODkzXSxbMzg5NSwzODk1XSxbMzg5NywzODk3XSxbMzk1MywzOTY2XSxbMzk2OCwzOTcyXSxbMzk3NCwzOTc1XSxbMzk4NCwzOTkxXSxbMzk5Myw0MDI4XSxbNDAzOCw0MDM4XSxbNDE0MSw0MTQ0XSxbNDE0Niw0MTQ2XSxbNDE1MCw0MTUxXSxbNDE1Myw0MTUzXSxbNDE4NCw0MTg1XSxbNDQ0OCw0NjA3XSxbNDk1OSw0OTU5XSxbNTkwNiw1OTA4XSxbNTkzOCw1OTQwXSxbNTk3MCw1OTcxXSxbNjAwMiw2MDAzXSxbNjA2OCw2MDY5XSxbNjA3MSw2MDc3XSxbNjA4Niw2MDg2XSxbNjA4OSw2MDk5XSxbNjEwOSw2MTA5XSxbNjE1NSw2MTU3XSxbNjMxMyw2MzEzXSxbNjQzMiw2NDM0XSxbNjQzOSw2NDQwXSxbNjQ1MCw2NDUwXSxbNjQ1Nyw2NDU5XSxbNjY3OSw2NjgwXSxbNjkxMiw2OTE1XSxbNjk2NCw2OTY0XSxbNjk2Niw2OTcwXSxbNjk3Miw2OTcyXSxbNjk3OCw2OTc4XSxbNzAxOSw3MDI3XSxbNzYxNiw3NjI2XSxbNzY3OCw3Njc5XSxbODIwMyw4MjA3XSxbODIzNCw4MjM4XSxbODI4OCw4MjkxXSxbODI5OCw4MzAzXSxbODQwMCw4NDMxXSxbMTIzMzAsMTIzMzVdLFsxMjQ0MSwxMjQ0Ml0sWzQzMDE0LDQzMDE0XSxbNDMwMTksNDMwMTldLFs0MzA0NSw0MzA0Nl0sWzY0Mjg2LDY0Mjg2XSxbNjUwMjQsNjUwMzldLFs2NTA1Niw2NTA1OV0sWzY1Mjc5LDY1Mjc5XSxbNjU1MjksNjU1MzFdXSxzPVtbNjgwOTcsNjgwOTldLFs2ODEwMSw2ODEwMl0sWzY4MTA4LDY4MTExXSxbNjgxNTIsNjgxNTRdLFs2ODE1OSw2ODE1OV0sWzExOTE0MywxMTkxNDVdLFsxMTkxNTUsMTE5MTcwXSxbMTE5MTczLDExOTE3OV0sWzExOTIxMCwxMTkyMTNdLFsxMTkzNjIsMTE5MzY0XSxbOTE3NTA1LDkxNzUwNV0sWzkxNzUzNiw5MTc2MzFdLFs5MTc3NjAsOTE3OTk5XV0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZih0aGlzLnZlcnNpb249XCI2XCIsIWkpe2k9bmV3IFVpbnQ4QXJyYXkoNjU1MzYpLCgwLG4uZmlsbCkoaSwxKSxpWzBdPTAsKDAsbi5maWxsKShpLDAsMSwzMiksKDAsbi5maWxsKShpLDAsMTI3LDE2MCksKDAsbi5maWxsKShpLDIsNDM1Miw0NDQ4KSxpWzkwMDFdPTIsaVs5MDAyXT0yLCgwLG4uZmlsbCkoaSwyLDExOTA0LDQyMTkyKSxpWzEyMzUxXT0xLCgwLG4uZmlsbCkoaSwyLDQ0MDMyLDU1MjA0KSwoMCxuLmZpbGwpKGksMiw2Mzc0NCw2NDI1NiksKDAsbi5maWxsKShpLDIsNjUwNDAsNjUwNTApLCgwLG4uZmlsbCkoaSwyLDY1MDcyLDY1MTM2KSwoMCxuLmZpbGwpKGksMiw2NTI4MCw2NTM3NyksKDAsbi5maWxsKShpLDIsNjU1MDQsNjU1MTEpO2Zvcih2YXIgZT0wO2U8by5sZW5ndGg7KytlKSgwLG4uZmlsbCkoaSwwLG9bZV1bMF0sb1tlXVsxXSsxKX19cmV0dXJuIGUucHJvdG90eXBlLndjd2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MzI/MDplPDEyNz8xOmU8NjU1MzY/aVtlXTpmdW5jdGlvbihlLHQpe3ZhciByLGk9MCxuPXQubGVuZ3RoLTE7aWYoZTx0WzBdWzBdfHxlPnRbbl1bMV0pcmV0dXJuITE7Zm9yKDtuPj1pOylpZihlPnRbcj1pK24+PjFdWzFdKWk9cisxO2Vsc2V7aWYoIShlPHRbcl1bMF0pKXJldHVybiEwO249ci0xfXJldHVybiExfShlLHMpPzA6ZT49MTMxMDcyJiZlPD0xOTY2MDV8fGU+PTE5NjYwOCYmZTw9MjYyMTQxPzI6MX0sZX0oKTt0LlVuaWNvZGVWNj1hfSw1OTgxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LldyaXRlQnVmZmVyPXZvaWQgMDt2YXIgaT1yKDg0NjApLG49XCJ1bmRlZmluZWRcIj09dHlwZW9mIHF1ZXVlTWljcm90YXNrP2Z1bmN0aW9uKGUpe1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oZSl9OnF1ZXVlTWljcm90YXNrLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2FjdGlvbj1lLHRoaXMuX3dyaXRlQnVmZmVyPVtdLHRoaXMuX2NhbGxiYWNrcz1bXSx0aGlzLl9wZW5kaW5nRGF0YT0wLHRoaXMuX2J1ZmZlck9mZnNldD0wLHRoaXMuX2lzU3luY1dyaXRpbmc9ITEsdGhpcy5fc3luY0NhbGxzPTAsdGhpcy5fb25Xcml0ZVBhcnNlZD1uZXcgaS5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uV3JpdGVQYXJzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uV3JpdGVQYXJzZWQuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUud3JpdGVTeW5jPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCYmdGhpcy5fc3luY0NhbGxzPnQpdGhpcy5fc3luY0NhbGxzPTA7ZWxzZSBpZih0aGlzLl9wZW5kaW5nRGF0YSs9ZS5sZW5ndGgsdGhpcy5fd3JpdGVCdWZmZXIucHVzaChlKSx0aGlzLl9jYWxsYmFja3MucHVzaCh2b2lkIDApLHRoaXMuX3N5bmNDYWxscysrLCF0aGlzLl9pc1N5bmNXcml0aW5nKXt2YXIgcjtmb3IodGhpcy5faXNTeW5jV3JpdGluZz0hMDtyPXRoaXMuX3dyaXRlQnVmZmVyLnNoaWZ0KCk7KXt0aGlzLl9hY3Rpb24ocik7dmFyIGk9dGhpcy5fY2FsbGJhY2tzLnNoaWZ0KCk7aSYmaSgpfXRoaXMuX3BlbmRpbmdEYXRhPTAsdGhpcy5fYnVmZmVyT2Zmc2V0PTIxNDc0ODM2NDcsdGhpcy5faXNTeW5jV3JpdGluZz0hMSx0aGlzLl9zeW5jQ2FsbHM9MH19LGUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLl9wZW5kaW5nRGF0YT41ZTcpdGhyb3cgbmV3IEVycm9yKFwid3JpdGUgZGF0YSBkaXNjYXJkZWQsIHVzZSBmbG93IGNvbnRyb2wgdG8gYXZvaWQgbG9zaW5nIGRhdGFcIik7dGhpcy5fd3JpdGVCdWZmZXIubGVuZ3RofHwodGhpcy5fYnVmZmVyT2Zmc2V0PTAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gci5faW5uZXJXcml0ZSgpfSkpKSx0aGlzLl9wZW5kaW5nRGF0YSs9ZS5sZW5ndGgsdGhpcy5fd3JpdGVCdWZmZXIucHVzaChlKSx0aGlzLl9jYWxsYmFja3MucHVzaCh0KX0sZS5wcm90b3R5cGUuX2lubmVyV3JpdGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXQmJih0PSEwKTtmb3IodmFyIGk9ZXx8RGF0ZS5ub3coKTt0aGlzLl93cml0ZUJ1ZmZlci5sZW5ndGg+dGhpcy5fYnVmZmVyT2Zmc2V0Oyl7dmFyIG89dGhpcy5fd3JpdGVCdWZmZXJbdGhpcy5fYnVmZmVyT2Zmc2V0XSxzPXRoaXMuX2FjdGlvbihvLHQpO2lmKHMpcmV0dXJuIHZvaWQgcy5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4oKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKSxQcm9taXNlLnJlc29sdmUoITEpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBEYXRlLm5vdygpLWk+PTEyP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuX2lubmVyV3JpdGUoMCxlKX0pKTpyLl9pbm5lcldyaXRlKGksZSl9KSk7dmFyIGE9dGhpcy5fY2FsbGJhY2tzW3RoaXMuX2J1ZmZlck9mZnNldF07aWYoYSYmYSgpLHRoaXMuX2J1ZmZlck9mZnNldCsrLHRoaXMuX3BlbmRpbmdEYXRhLT1vLmxlbmd0aCxEYXRlLm5vdygpLWk+PTEyKWJyZWFrfXRoaXMuX3dyaXRlQnVmZmVyLmxlbmd0aD50aGlzLl9idWZmZXJPZmZzZXQ/KHRoaXMuX2J1ZmZlck9mZnNldD41MCYmKHRoaXMuX3dyaXRlQnVmZmVyPXRoaXMuX3dyaXRlQnVmZmVyLnNsaWNlKHRoaXMuX2J1ZmZlck9mZnNldCksdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrcy5zbGljZSh0aGlzLl9idWZmZXJPZmZzZXQpLHRoaXMuX2J1ZmZlck9mZnNldD0wKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiByLl9pbm5lcldyaXRlKCl9KSkpOih0aGlzLl93cml0ZUJ1ZmZlci5sZW5ndGg9MCx0aGlzLl9jYWxsYmFja3MubGVuZ3RoPTAsdGhpcy5fcGVuZGluZ0RhdGE9MCx0aGlzLl9idWZmZXJPZmZzZXQ9MCksdGhpcy5fb25Xcml0ZVBhcnNlZC5maXJlKCl9LGV9KCk7dC5Xcml0ZUJ1ZmZlcj1vfSw1OTQxOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyYmdGhpcy5fX3JlYWR8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXIpcmV0dXJuIGU7dmFyIGksbixvPXIuY2FsbChlKSxzPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT10fHx0LS0gPjApJiYhKGk9by5uZXh0KCkpLmRvbmU7KXMucHVzaChpLnZhbHVlKX1jYXRjaChlKXtuPXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYocj1vLnJldHVybikmJnIuY2FsbChvKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19cmV0dXJuIHN9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQudG9SZ2JTdHJpbmc9dC5wYXJzZUNvbG9yPXZvaWQgMDt2YXIgaT0vXihbXFxkYS1mXSlcXC8oW1xcZGEtZl0pXFwvKFtcXGRhLWZdKSR8XihbXFxkYS1mXXsyfSlcXC8oW1xcZGEtZl17Mn0pXFwvKFtcXGRhLWZdezJ9KSR8XihbXFxkYS1mXXszfSlcXC8oW1xcZGEtZl17M30pXFwvKFtcXGRhLWZdezN9KSR8XihbXFxkYS1mXXs0fSlcXC8oW1xcZGEtZl17NH0pXFwvKFtcXGRhLWZdezR9KSQvLG49L15bXFxkYS1mXSskLztmdW5jdGlvbiBvKGUsdCl7dmFyIHI9ZS50b1N0cmluZygxNiksaT1yLmxlbmd0aDwyP1wiMFwiK3I6cjtzd2l0Y2godCl7Y2FzZSA0OnJldHVybiByWzBdO2Nhc2UgODpyZXR1cm4gaTtjYXNlIDEyOnJldHVybihpK2kpLnNsaWNlKDAsMyk7ZGVmYXVsdDpyZXR1cm4gaStpfX10LnBhcnNlQ29sb3I9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9ZS50b0xvd2VyQ2FzZSgpO2lmKDA9PT10LmluZGV4T2YoXCJyZ2I6XCIpKXt0PXQuc2xpY2UoNCk7dmFyIHI9aS5leGVjKHQpO2lmKHIpe3ZhciBvPXJbMV0/MTU6cls0XT8yNTU6cls3XT80MDk1OjY1NTM1O3JldHVybltNYXRoLnJvdW5kKHBhcnNlSW50KHJbMV18fHJbNF18fHJbN118fHJbMTBdLDE2KS9vKjI1NSksTWF0aC5yb3VuZChwYXJzZUludChyWzJdfHxyWzVdfHxyWzhdfHxyWzExXSwxNikvbyoyNTUpLE1hdGgucm91bmQocGFyc2VJbnQoclszXXx8cls2XXx8cls5XXx8clsxMl0sMTYpL28qMjU1KV19fWVsc2UgaWYoMD09PXQuaW5kZXhPZihcIiNcIikmJih0PXQuc2xpY2UoMSksbi5leGVjKHQpJiZbMyw2LDksMTJdLmluY2x1ZGVzKHQubGVuZ3RoKSkpe2Zvcih2YXIgcz10Lmxlbmd0aC8zLGE9WzAsMCwwXSxjPTA7YzwzOysrYyl7dmFyIGw9cGFyc2VJbnQodC5zbGljZShzKmMscypjK3MpLDE2KTthW2NdPTE9PT1zP2w8PDQ6Mj09PXM/bDozPT09cz9sPj40Omw+Pjh9cmV0dXJuIGF9fX0sdC50b1JnYlN0cmluZz1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTE2KTt2YXIgaT1yKGUsMyksbj1pWzBdLHM9aVsxXSxhPWlbMl07cmV0dXJuXCJyZ2I6XCIrbyhuLHQpK1wiL1wiK28ocyx0KStcIi9cIitvKGEsdCl9fSw1NzcwOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QQVlMT0FEX0xJTUlUPXZvaWQgMCx0LlBBWUxPQURfTElNSVQ9MWU3fSw2MzUxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRjc0hhbmRsZXI9dC5EY3NQYXJzZXI9dm9pZCAwO3ZhciBpPXIoNDgyKSxuPXIoODc0Miksbz1yKDU3NzApLHM9W10sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9oYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FjdGl2ZT1zLHRoaXMuX2lkZW50PTAsdGhpcy5faGFuZGxlckZiPWZ1bmN0aW9uKCl7fSx0aGlzLl9zdGFjaz17cGF1c2VkOiExLGxvb3BQb3NpdGlvbjowLGZhbGxUaHJvdWdoOiExfX1yZXR1cm4gZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2hhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5faGFuZGxlckZiPWZ1bmN0aW9uKCl7fSx0aGlzLl9hY3RpdmU9c30sZS5wcm90b3R5cGUucmVnaXN0ZXJIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dGhpcy5faGFuZGxlcnNbZV0mJih0aGlzLl9oYW5kbGVyc1tlXT1bXSk7dmFyIHI9dGhpcy5faGFuZGxlcnNbZV07cmV0dXJuIHIucHVzaCh0KSx7ZGlzcG9zZTpmdW5jdGlvbigpe3ZhciBlPXIuaW5kZXhPZih0KTstMSE9PWUmJnIuc3BsaWNlKGUsMSl9fX0sZS5wcm90b3R5cGUuY2xlYXJIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZXJzW2VdJiZkZWxldGUgdGhpcy5faGFuZGxlcnNbZV19LGUucHJvdG90eXBlLnNldEhhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9oYW5kbGVyRmI9ZX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmUubGVuZ3RoKWZvcih2YXIgZT10aGlzLl9zdGFjay5wYXVzZWQ/dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTE6dGhpcy5fYWN0aXZlLmxlbmd0aC0xO2U+PTA7LS1lKXRoaXMuX2FjdGl2ZVtlXS51bmhvb2soITEpO3RoaXMuX3N0YWNrLnBhdXNlZD0hMSx0aGlzLl9hY3RpdmU9cyx0aGlzLl9pZGVudD0wfSxlLnByb3RvdHlwZS5ob29rPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5yZXNldCgpLHRoaXMuX2lkZW50PWUsdGhpcy5fYWN0aXZlPXRoaXMuX2hhbmRsZXJzW2VdfHxzLHRoaXMuX2FjdGl2ZS5sZW5ndGgpZm9yKHZhciByPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMTtyPj0wO3ItLSl0aGlzLl9hY3RpdmVbcl0uaG9vayh0KTtlbHNlIHRoaXMuX2hhbmRsZXJGYih0aGlzLl9pZGVudCxcIkhPT0tcIix0KX0sZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLl9hY3RpdmUubGVuZ3RoKWZvcih2YXIgbj10aGlzLl9hY3RpdmUubGVuZ3RoLTE7bj49MDtuLS0pdGhpcy5fYWN0aXZlW25dLnB1dChlLHQscik7ZWxzZSB0aGlzLl9oYW5kbGVyRmIodGhpcy5faWRlbnQsXCJQVVRcIiwoMCxpLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSl9LGUucHJvdG90eXBlLnVuaG9vaz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSEwKSx0aGlzLl9hY3RpdmUubGVuZ3RoKXt2YXIgcj0hMSxpPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMSxuPSExO2lmKHRoaXMuX3N0YWNrLnBhdXNlZCYmKGk9dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTEscj10LG49dGhpcy5fc3RhY2suZmFsbFRocm91Z2gsdGhpcy5fc3RhY2sucGF1c2VkPSExKSwhbiYmITE9PT1yKXtmb3IoO2k+PTAmJiEwIT09KHI9dGhpcy5fYWN0aXZlW2ldLnVuaG9vayhlKSk7aS0tKWlmKHIgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9zdGFjay5wYXVzZWQ9ITAsdGhpcy5fc3RhY2subG9vcFBvc2l0aW9uPWksdGhpcy5fc3RhY2suZmFsbFRocm91Z2g9ITEscjtpLS19Zm9yKDtpPj0wO2ktLSlpZigocj10aGlzLl9hY3RpdmVbaV0udW5ob29rKCExKSlpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3N0YWNrLnBhdXNlZD0hMCx0aGlzLl9zdGFjay5sb29wUG9zaXRpb249aSx0aGlzLl9zdGFjay5mYWxsVGhyb3VnaD0hMCxyfWVsc2UgdGhpcy5faGFuZGxlckZiKHRoaXMuX2lkZW50LFwiVU5IT09LXCIsZSk7dGhpcy5fYWN0aXZlPXMsdGhpcy5faWRlbnQ9MH0sZX0oKTt0LkRjc1BhcnNlcj1hO3ZhciBjPW5ldyBuLlBhcmFtcztjLmFkZFBhcmFtKDApO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9oYW5kbGVyPWUsdGhpcy5fZGF0YT1cIlwiLHRoaXMuX3BhcmFtcz1jLHRoaXMuX2hpdExpbWl0PSExfXJldHVybiBlLnByb3RvdHlwZS5ob29rPWZ1bmN0aW9uKGUpe3RoaXMuX3BhcmFtcz1lLmxlbmd0aD4xfHxlLnBhcmFtc1swXT9lLmNsb25lKCk6Yyx0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITF9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7dGhpcy5faGl0TGltaXR8fCh0aGlzLl9kYXRhKz0oMCxpLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSx0aGlzLl9kYXRhLmxlbmd0aD5vLlBBWUxPQURfTElNSVQmJih0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITApKX0sZS5wcm90b3R5cGUudW5ob29rPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0hMTtpZih0aGlzLl9oaXRMaW1pdClyPSExO2Vsc2UgaWYoZSYmKHI9dGhpcy5faGFuZGxlcih0aGlzLl9kYXRhLHRoaXMuX3BhcmFtcykpaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiByLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9wYXJhbXM9Yyx0Ll9kYXRhPVwiXCIsdC5faGl0TGltaXQ9ITEsZX0pKTtyZXR1cm4gdGhpcy5fcGFyYW1zPWMsdGhpcy5fZGF0YT1cIlwiLHRoaXMuX2hpdExpbWl0PSExLHJ9LGV9KCk7dC5EY3NIYW5kbGVyPWx9LDIwMTU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Fc2NhcGVTZXF1ZW5jZVBhcnNlcj10LlZUNTAwX1RSQU5TSVRJT05fVEFCTEU9dC5UcmFuc2l0aW9uVGFibGU9dm9pZCAwO3ZhciBvPXIoODQ0KSxzPXIoODI3MyksYT1yKDg3NDIpLGM9cig2MjQyKSxsPXIoNjM1MSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy50YWJsZT1uZXcgVWludDhBcnJheShlKX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0RGVmYXVsdD1mdW5jdGlvbihlLHQpeygwLHMuZmlsbCkodGhpcy50YWJsZSxlPDw0fHQpfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy50YWJsZVt0PDw4fGVdPXI8PDR8aX0sZS5wcm90b3R5cGUuYWRkTWFueT1mdW5jdGlvbihlLHQscixpKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLnRhYmxlW3Q8PDh8ZVtuXV09cjw8NHxpfSxlfSgpO3QuVHJhbnNpdGlvblRhYmxlPWg7dmFyIHU9MTYwO3QuVlQ1MDBfVFJBTlNJVElPTl9UQUJMRT1mdW5jdGlvbigpe3ZhciBlPW5ldyBoKDQwOTUpLHQ9QXJyYXkuYXBwbHkobnVsbCxBcnJheSgyNTYpKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSkscj1mdW5jdGlvbihlLHIpe3JldHVybiB0LnNsaWNlKGUscil9LGk9cigzMiwxMjcpLG49cigwLDI0KTtuLnB1c2goMjUpLG4ucHVzaC5hcHBseShuLHIoMjgsMzIpKTt2YXIgbyxzPXIoMCwxNCk7Zm9yKG8gaW4gZS5zZXREZWZhdWx0KDEsMCksZS5hZGRNYW55KGksMCwyLDApLHMpZS5hZGRNYW55KFsyNCwyNiwxNTMsMTU0XSxvLDMsMCksZS5hZGRNYW55KHIoMTI4LDE0NCksbywzLDApLGUuYWRkTWFueShyKDE0NCwxNTIpLG8sMywwKSxlLmFkZCgxNTYsbywwLDApLGUuYWRkKDI3LG8sMTEsMSksZS5hZGQoMTU3LG8sNCw4KSxlLmFkZE1hbnkoWzE1MiwxNTgsMTU5XSxvLDAsNyksZS5hZGQoMTU1LG8sMTEsMyksZS5hZGQoMTQ0LG8sMTEsOSk7cmV0dXJuIGUuYWRkTWFueShuLDAsMywwKSxlLmFkZE1hbnkobiwxLDMsMSksZS5hZGQoMTI3LDEsMCwxKSxlLmFkZE1hbnkobiw4LDAsOCksZS5hZGRNYW55KG4sMywzLDMpLGUuYWRkKDEyNywzLDAsMyksZS5hZGRNYW55KG4sNCwzLDQpLGUuYWRkKDEyNyw0LDAsNCksZS5hZGRNYW55KG4sNiwzLDYpLGUuYWRkTWFueShuLDUsMyw1KSxlLmFkZCgxMjcsNSwwLDUpLGUuYWRkTWFueShuLDIsMywyKSxlLmFkZCgxMjcsMiwwLDIpLGUuYWRkKDkzLDEsNCw4KSxlLmFkZE1hbnkoaSw4LDUsOCksZS5hZGQoMTI3LDgsNSw4KSxlLmFkZE1hbnkoWzE1NiwyNywyNCwyNiw3XSw4LDYsMCksZS5hZGRNYW55KHIoMjgsMzIpLDgsMCw4KSxlLmFkZE1hbnkoWzg4LDk0LDk1XSwxLDAsNyksZS5hZGRNYW55KGksNywwLDcpLGUuYWRkTWFueShuLDcsMCw3KSxlLmFkZCgxNTYsNywwLDApLGUuYWRkKDEyNyw3LDAsNyksZS5hZGQoOTEsMSwxMSwzKSxlLmFkZE1hbnkocig2NCwxMjcpLDMsNywwKSxlLmFkZE1hbnkocig0OCw2MCksMyw4LDQpLGUuYWRkTWFueShbNjAsNjEsNjIsNjNdLDMsOSw0KSxlLmFkZE1hbnkocig0OCw2MCksNCw4LDQpLGUuYWRkTWFueShyKDY0LDEyNyksNCw3LDApLGUuYWRkTWFueShbNjAsNjEsNjIsNjNdLDQsMCw2KSxlLmFkZE1hbnkocigzMiw2NCksNiwwLDYpLGUuYWRkKDEyNyw2LDAsNiksZS5hZGRNYW55KHIoNjQsMTI3KSw2LDAsMCksZS5hZGRNYW55KHIoMzIsNDgpLDMsOSw1KSxlLmFkZE1hbnkocigzMiw0OCksNSw5LDUpLGUuYWRkTWFueShyKDQ4LDY0KSw1LDAsNiksZS5hZGRNYW55KHIoNjQsMTI3KSw1LDcsMCksZS5hZGRNYW55KHIoMzIsNDgpLDQsOSw1KSxlLmFkZE1hbnkocigzMiw0OCksMSw5LDIpLGUuYWRkTWFueShyKDMyLDQ4KSwyLDksMiksZS5hZGRNYW55KHIoNDgsMTI3KSwyLDEwLDApLGUuYWRkTWFueShyKDQ4LDgwKSwxLDEwLDApLGUuYWRkTWFueShyKDgxLDg4KSwxLDEwLDApLGUuYWRkTWFueShbODksOTAsOTJdLDEsMTAsMCksZS5hZGRNYW55KHIoOTYsMTI3KSwxLDEwLDApLGUuYWRkKDgwLDEsMTEsOSksZS5hZGRNYW55KG4sOSwwLDkpLGUuYWRkKDEyNyw5LDAsOSksZS5hZGRNYW55KHIoMjgsMzIpLDksMCw5KSxlLmFkZE1hbnkocigzMiw0OCksOSw5LDEyKSxlLmFkZE1hbnkocig0OCw2MCksOSw4LDEwKSxlLmFkZE1hbnkoWzYwLDYxLDYyLDYzXSw5LDksMTApLGUuYWRkTWFueShuLDExLDAsMTEpLGUuYWRkTWFueShyKDMyLDEyOCksMTEsMCwxMSksZS5hZGRNYW55KHIoMjgsMzIpLDExLDAsMTEpLGUuYWRkTWFueShuLDEwLDAsMTApLGUuYWRkKDEyNywxMCwwLDEwKSxlLmFkZE1hbnkocigyOCwzMiksMTAsMCwxMCksZS5hZGRNYW55KHIoNDgsNjApLDEwLDgsMTApLGUuYWRkTWFueShbNjAsNjEsNjIsNjNdLDEwLDAsMTEpLGUuYWRkTWFueShyKDMyLDQ4KSwxMCw5LDEyKSxlLmFkZE1hbnkobiwxMiwwLDEyKSxlLmFkZCgxMjcsMTIsMCwxMiksZS5hZGRNYW55KHIoMjgsMzIpLDEyLDAsMTIpLGUuYWRkTWFueShyKDMyLDQ4KSwxMiw5LDEyKSxlLmFkZE1hbnkocig0OCw2NCksMTIsMCwxMSksZS5hZGRNYW55KHIoNjQsMTI3KSwxMiwxMiwxMyksZS5hZGRNYW55KHIoNjQsMTI3KSwxMCwxMiwxMyksZS5hZGRNYW55KHIoNjQsMTI3KSw5LDEyLDEzKSxlLmFkZE1hbnkobiwxMywxMywxMyksZS5hZGRNYW55KGksMTMsMTMsMTMpLGUuYWRkKDEyNywxMywwLDEzKSxlLmFkZE1hbnkoWzI3LDE1NiwyNCwyNl0sMTMsMTQsMCksZS5hZGQodSwwLDIsMCksZS5hZGQodSw4LDUsOCksZS5hZGQodSw2LDAsNiksZS5hZGQodSwxMSwwLDExKSxlLmFkZCh1LDEzLDEzLDEzKSxlfSgpO3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIocil7dm9pZCAwPT09ciYmKHI9dC5WVDUwMF9UUkFOU0lUSU9OX1RBQkxFKTt2YXIgaT1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkuX3RyYW5zaXRpb25zPXIsaS5fcGFyc2VTdGFjaz17c3RhdGU6MCxoYW5kbGVyczpbXSxoYW5kbGVyUG9zOjAsdHJhbnNpdGlvbjowLGNodW5rUG9zOjB9LGkuaW5pdGlhbFN0YXRlPTAsaS5jdXJyZW50U3RhdGU9aS5pbml0aWFsU3RhdGUsaS5fcGFyYW1zPW5ldyBhLlBhcmFtcyxpLl9wYXJhbXMuYWRkUGFyYW0oMCksaS5fY29sbGVjdD0wLGkucHJlY2VkaW5nQ29kZXBvaW50PTAsaS5fcHJpbnRIYW5kbGVyRmI9ZnVuY3Rpb24oZSx0LHIpe30saS5fZXhlY3V0ZUhhbmRsZXJGYj1mdW5jdGlvbihlKXt9LGkuX2NzaUhhbmRsZXJGYj1mdW5jdGlvbihlLHQpe30saS5fZXNjSGFuZGxlckZiPWZ1bmN0aW9uKGUpe30saS5fZXJyb3JIYW5kbGVyRmI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGkuX3ByaW50SGFuZGxlcj1pLl9wcmludEhhbmRsZXJGYixpLl9leGVjdXRlSGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSxpLl9jc2lIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLGkuX2VzY0hhbmRsZXJzPU9iamVjdC5jcmVhdGUobnVsbCksaS5fb3NjUGFyc2VyPW5ldyBjLk9zY1BhcnNlcixpLl9kY3NQYXJzZXI9bmV3IGwuRGNzUGFyc2VyLGkuX2Vycm9ySGFuZGxlcj1pLl9lcnJvckhhbmRsZXJGYixpLnJlZ2lzdGVyRXNjSGFuZGxlcih7ZmluYWw6XCJcXFxcXCJ9LChmdW5jdGlvbigpe3JldHVybiEwfSkpLGl9cmV0dXJuIG4ocixlKSxyLnByb3RvdHlwZS5faWRlbnRpZmllcj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PVs2NCwxMjZdKTt2YXIgcj0wO2lmKGUucHJlZml4KXtpZihlLnByZWZpeC5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IG9uZSBieXRlIGFzIHByZWZpeCBzdXBwb3J0ZWRcIik7aWYoKHI9ZS5wcmVmaXguY2hhckNvZGVBdCgwKSkmJjYwPnJ8fHI+NjMpdGhyb3cgbmV3IEVycm9yKFwicHJlZml4IG11c3QgYmUgaW4gcmFuZ2UgMHgzYyAuLiAweDNmXCIpfWlmKGUuaW50ZXJtZWRpYXRlcyl7aWYoZS5pbnRlcm1lZGlhdGVzLmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcihcIm9ubHkgdHdvIGJ5dGVzIGFzIGludGVybWVkaWF0ZXMgYXJlIHN1cHBvcnRlZFwiKTtmb3IodmFyIGk9MDtpPGUuaW50ZXJtZWRpYXRlcy5sZW5ndGg7KytpKXt2YXIgbj1lLmludGVybWVkaWF0ZXMuY2hhckNvZGVBdChpKTtpZigzMj5ufHxuPjQ3KXRocm93IG5ldyBFcnJvcihcImludGVybWVkaWF0ZSBtdXN0IGJlIGluIHJhbmdlIDB4MjAgLi4gMHgyZlwiKTtyPDw9OCxyfD1ufX1pZigxIT09ZS5maW5hbC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiZmluYWwgbXVzdCBiZSBhIHNpbmdsZSBieXRlXCIpO3ZhciBvPWUuZmluYWwuY2hhckNvZGVBdCgwKTtpZih0WzBdPm98fG8+dFsxXSl0aHJvdyBuZXcgRXJyb3IoXCJmaW5hbCBtdXN0IGJlIGluIHJhbmdlIFwiK3RbMF0rXCIgLi4gXCIrdFsxXSk7cmV0dXJuKHI8PD04KXxvfSxyLnByb3RvdHlwZS5pZGVudFRvU3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlOyl0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmZSkpLGU+Pj04O3JldHVybiB0LnJldmVyc2UoKS5qb2luKFwiXCIpfSxyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY3NpSGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9leGVjdXRlSGFuZGxlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9lc2NIYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX29zY1BhcnNlci5kaXNwb3NlKCksdGhpcy5fZGNzUGFyc2VyLmRpc3Bvc2UoKX0sci5wcm90b3R5cGUuc2V0UHJpbnRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX3ByaW50SGFuZGxlcj1lfSxyLnByb3RvdHlwZS5jbGVhclByaW50SGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuX3ByaW50SGFuZGxlcj10aGlzLl9wcmludEhhbmRsZXJGYn0sci5wcm90b3R5cGUucmVnaXN0ZXJFc2NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5faWRlbnRpZmllcihlLFs0OCwxMjZdKTt2b2lkIDA9PT10aGlzLl9lc2NIYW5kbGVyc1tyXSYmKHRoaXMuX2VzY0hhbmRsZXJzW3JdPVtdKTt2YXIgaT10aGlzLl9lc2NIYW5kbGVyc1tyXTtyZXR1cm4gaS5wdXNoKHQpLHtkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIGU9aS5pbmRleE9mKHQpOy0xIT09ZSYmaS5zcGxpY2UoZSwxKX19fSxyLnByb3RvdHlwZS5jbGVhckVzY0hhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZXNjSGFuZGxlcnNbdGhpcy5faWRlbnRpZmllcihlLFs0OCwxMjZdKV0mJmRlbGV0ZSB0aGlzLl9lc2NIYW5kbGVyc1t0aGlzLl9pZGVudGlmaWVyKGUsWzQ4LDEyNl0pXX0sci5wcm90b3R5cGUuc2V0RXNjSGFuZGxlckZhbGxiYWNrPWZ1bmN0aW9uKGUpe3RoaXMuX2VzY0hhbmRsZXJGYj1lfSxyLnByb3RvdHlwZS5zZXRFeGVjdXRlSGFuZGxlcj1mdW5jdGlvbihlLHQpe3RoaXMuX2V4ZWN1dGVIYW5kbGVyc1tlLmNoYXJDb2RlQXQoMCldPXR9LHIucHJvdG90eXBlLmNsZWFyRXhlY3V0ZUhhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZXhlY3V0ZUhhbmRsZXJzW2UuY2hhckNvZGVBdCgwKV0mJmRlbGV0ZSB0aGlzLl9leGVjdXRlSGFuZGxlcnNbZS5jaGFyQ29kZUF0KDApXX0sci5wcm90b3R5cGUuc2V0RXhlY3V0ZUhhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9leGVjdXRlSGFuZGxlckZiPWV9LHIucHJvdG90eXBlLnJlZ2lzdGVyQ3NpSGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2lkZW50aWZpZXIoZSk7dm9pZCAwPT09dGhpcy5fY3NpSGFuZGxlcnNbcl0mJih0aGlzLl9jc2lIYW5kbGVyc1tyXT1bXSk7dmFyIGk9dGhpcy5fY3NpSGFuZGxlcnNbcl07cmV0dXJuIGkucHVzaCh0KSx7ZGlzcG9zZTpmdW5jdGlvbigpe3ZhciBlPWkuaW5kZXhPZih0KTstMSE9PWUmJmkuc3BsaWNlKGUsMSl9fX0sci5wcm90b3R5cGUuY2xlYXJDc2lIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2NzaUhhbmRsZXJzW3RoaXMuX2lkZW50aWZpZXIoZSldJiZkZWxldGUgdGhpcy5fY3NpSGFuZGxlcnNbdGhpcy5faWRlbnRpZmllcihlKV19LHIucHJvdG90eXBlLnNldENzaUhhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9jc2lIYW5kbGVyRmI9ZX0sci5wcm90b3R5cGUucmVnaXN0ZXJEY3NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2Rjc1BhcnNlci5yZWdpc3RlckhhbmRsZXIodGhpcy5faWRlbnRpZmllcihlKSx0KX0sci5wcm90b3R5cGUuY2xlYXJEY3NIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2Rjc1BhcnNlci5jbGVhckhhbmRsZXIodGhpcy5faWRlbnRpZmllcihlKSl9LHIucHJvdG90eXBlLnNldERjc0hhbmRsZXJGYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLl9kY3NQYXJzZXIuc2V0SGFuZGxlckZhbGxiYWNrKGUpfSxyLnByb3RvdHlwZS5yZWdpc3Rlck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fb3NjUGFyc2VyLnJlZ2lzdGVySGFuZGxlcihlLHQpfSxyLnByb3RvdHlwZS5jbGVhck9zY0hhbmRsZXI9ZnVuY3Rpb24oZSl7dGhpcy5fb3NjUGFyc2VyLmNsZWFySGFuZGxlcihlKX0sci5wcm90b3R5cGUuc2V0T3NjSGFuZGxlckZhbGxiYWNrPWZ1bmN0aW9uKGUpe3RoaXMuX29zY1BhcnNlci5zZXRIYW5kbGVyRmFsbGJhY2soZSl9LHIucHJvdG90eXBlLnNldEVycm9ySGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9lcnJvckhhbmRsZXI9ZX0sci5wcm90b3R5cGUuY2xlYXJFcnJvckhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLl9lcnJvckhhbmRsZXI9dGhpcy5fZXJyb3JIYW5kbGVyRmJ9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U3RhdGU9dGhpcy5pbml0aWFsU3RhdGUsdGhpcy5fb3NjUGFyc2VyLnJlc2V0KCksdGhpcy5fZGNzUGFyc2VyLnJlc2V0KCksdGhpcy5fcGFyYW1zLnJlc2V0KCksdGhpcy5fcGFyYW1zLmFkZFBhcmFtKDApLHRoaXMuX2NvbGxlY3Q9MCx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wLDAhPT10aGlzLl9wYXJzZVN0YWNrLnN0YXRlJiYodGhpcy5fcGFyc2VTdGFjay5zdGF0ZT0yLHRoaXMuX3BhcnNlU3RhY2suaGFuZGxlcnM9W10pfSxyLnByb3RvdHlwZS5fcHJlc2VydmVTdGFjaz1mdW5jdGlvbihlLHQscixpLG4pe3RoaXMuX3BhcnNlU3RhY2suc3RhdGU9ZSx0aGlzLl9wYXJzZVN0YWNrLmhhbmRsZXJzPXQsdGhpcy5fcGFyc2VTdGFjay5oYW5kbGVyUG9zPXIsdGhpcy5fcGFyc2VTdGFjay50cmFuc2l0aW9uPWksdGhpcy5fcGFyc2VTdGFjay5jaHVua1Bvcz1ufSxyLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIGksbj0wLG89MCxzPTA7aWYodGhpcy5fcGFyc2VTdGFjay5zdGF0ZSlpZigyPT09dGhpcy5fcGFyc2VTdGFjay5zdGF0ZSl0aGlzLl9wYXJzZVN0YWNrLnN0YXRlPTAscz10aGlzLl9wYXJzZVN0YWNrLmNodW5rUG9zKzE7ZWxzZXtpZih2b2lkIDA9PT1yfHwxPT09dGhpcy5fcGFyc2VTdGFjay5zdGF0ZSl0aHJvdyB0aGlzLl9wYXJzZVN0YWNrLnN0YXRlPTEsbmV3IEVycm9yKFwiaW1wcm9wZXIgY29udGludWF0aW9uIGR1ZSB0byBwcmV2aW91cyBhc3luYyBoYW5kbGVyLCBnaXZpbmcgdXAgcGFyc2luZ1wiKTt2YXIgYT10aGlzLl9wYXJzZVN0YWNrLmhhbmRsZXJzLGM9dGhpcy5fcGFyc2VTdGFjay5oYW5kbGVyUG9zLTE7c3dpdGNoKHRoaXMuX3BhcnNlU3RhY2suc3RhdGUpe2Nhc2UgMzppZighMT09PXImJmM+LTEpZm9yKDtjPj0wJiYhMCE9PShpPWFbY10odGhpcy5fcGFyYW1zKSk7Yy0tKWlmKGkgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9wYXJzZVN0YWNrLmhhbmRsZXJQb3M9YyxpO3RoaXMuX3BhcnNlU3RhY2suaGFuZGxlcnM9W107YnJlYWs7Y2FzZSA0OmlmKCExPT09ciYmYz4tMSlmb3IoO2M+PTAmJiEwIT09KGk9YVtjXSgpKTtjLS0paWYoaSBpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3BhcnNlU3RhY2suaGFuZGxlclBvcz1jLGk7dGhpcy5fcGFyc2VTdGFjay5oYW5kbGVycz1bXTticmVhaztjYXNlIDY6aWYobj1lW3RoaXMuX3BhcnNlU3RhY2suY2h1bmtQb3NdLGk9dGhpcy5fZGNzUGFyc2VyLnVuaG9vaygyNCE9PW4mJjI2IT09bixyKSlyZXR1cm4gaTsyNz09PW4mJih0aGlzLl9wYXJzZVN0YWNrLnRyYW5zaXRpb258PTEpLHRoaXMuX3BhcmFtcy5yZXNldCgpLHRoaXMuX3BhcmFtcy5hZGRQYXJhbSgwKSx0aGlzLl9jb2xsZWN0PTA7YnJlYWs7Y2FzZSA1OmlmKG49ZVt0aGlzLl9wYXJzZVN0YWNrLmNodW5rUG9zXSxpPXRoaXMuX29zY1BhcnNlci5lbmQoMjQhPT1uJiYyNiE9PW4scikpcmV0dXJuIGk7Mjc9PT1uJiYodGhpcy5fcGFyc2VTdGFjay50cmFuc2l0aW9ufD0xKSx0aGlzLl9wYXJhbXMucmVzZXQoKSx0aGlzLl9wYXJhbXMuYWRkUGFyYW0oMCksdGhpcy5fY29sbGVjdD0wfXRoaXMuX3BhcnNlU3RhY2suc3RhdGU9MCxzPXRoaXMuX3BhcnNlU3RhY2suY2h1bmtQb3MrMSx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wLHRoaXMuY3VycmVudFN0YXRlPTE1JnRoaXMuX3BhcnNlU3RhY2sudHJhbnNpdGlvbn1mb3IodmFyIGw9cztsPHQ7KytsKXtzd2l0Y2gobj1lW2xdLChvPXRoaXMuX3RyYW5zaXRpb25zLnRhYmxlW3RoaXMuY3VycmVudFN0YXRlPDw4fChuPDE2MD9uOnUpXSk+PjQpe2Nhc2UgMjpmb3IodmFyIGg9bCsxOzsrK2gpe2lmKGg+PXR8fChuPWVbaF0pPDMyfHxuPjEyNiYmbjx1KXt0aGlzLl9wcmludEhhbmRsZXIoZSxsLGgpLGw9aC0xO2JyZWFrfWlmKCsraD49dHx8KG49ZVtoXSk8MzJ8fG4+MTI2JiZuPHUpe3RoaXMuX3ByaW50SGFuZGxlcihlLGwsaCksbD1oLTE7YnJlYWt9aWYoKytoPj10fHwobj1lW2hdKTwzMnx8bj4xMjYmJm48dSl7dGhpcy5fcHJpbnRIYW5kbGVyKGUsbCxoKSxsPWgtMTticmVha31pZigrK2g+PXR8fChuPWVbaF0pPDMyfHxuPjEyNiYmbjx1KXt0aGlzLl9wcmludEhhbmRsZXIoZSxsLGgpLGw9aC0xO2JyZWFrfX1icmVhaztjYXNlIDM6dGhpcy5fZXhlY3V0ZUhhbmRsZXJzW25dP3RoaXMuX2V4ZWN1dGVIYW5kbGVyc1tuXSgpOnRoaXMuX2V4ZWN1dGVIYW5kbGVyRmIobiksdGhpcy5wcmVjZWRpbmdDb2RlcG9pbnQ9MDticmVhaztjYXNlIDA6YnJlYWs7Y2FzZSAxOmlmKHRoaXMuX2Vycm9ySGFuZGxlcih7cG9zaXRpb246bCxjb2RlOm4sY3VycmVudFN0YXRlOnRoaXMuY3VycmVudFN0YXRlLGNvbGxlY3Q6dGhpcy5fY29sbGVjdCxwYXJhbXM6dGhpcy5fcGFyYW1zLGFib3J0OiExfSkuYWJvcnQpcmV0dXJuO2JyZWFrO2Nhc2UgNzpmb3IodmFyIGY9KGE9dGhpcy5fY3NpSGFuZGxlcnNbdGhpcy5fY29sbGVjdDw8OHxuXSk/YS5sZW5ndGgtMTotMTtmPj0wJiYhMCE9PShpPWFbZl0odGhpcy5fcGFyYW1zKSk7Zi0tKWlmKGkgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9wcmVzZXJ2ZVN0YWNrKDMsYSxmLG8sbCksaTtmPDAmJnRoaXMuX2NzaUhhbmRsZXJGYih0aGlzLl9jb2xsZWN0PDw4fG4sdGhpcy5fcGFyYW1zKSx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wO2JyZWFrO2Nhc2UgODpkb3tzd2l0Y2gobil7Y2FzZSA1OTp0aGlzLl9wYXJhbXMuYWRkUGFyYW0oMCk7YnJlYWs7Y2FzZSA1ODp0aGlzLl9wYXJhbXMuYWRkU3ViUGFyYW0oLTEpO2JyZWFrO2RlZmF1bHQ6dGhpcy5fcGFyYW1zLmFkZERpZ2l0KG4tNDgpfX13aGlsZSgrK2w8dCYmKG49ZVtsXSk+NDcmJm48NjApO2wtLTticmVhaztjYXNlIDk6dGhpcy5fY29sbGVjdDw8PTgsdGhpcy5fY29sbGVjdHw9bjticmVhaztjYXNlIDEwOmZvcih2YXIgXz10aGlzLl9lc2NIYW5kbGVyc1t0aGlzLl9jb2xsZWN0PDw4fG5dLGQ9Xz9fLmxlbmd0aC0xOi0xO2Q+PTAmJiEwIT09KGk9X1tkXSgpKTtkLS0paWYoaSBpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3ByZXNlcnZlU3RhY2soNCxfLGQsbyxsKSxpO2Q8MCYmdGhpcy5fZXNjSGFuZGxlckZiKHRoaXMuX2NvbGxlY3Q8PDh8biksdGhpcy5wcmVjZWRpbmdDb2RlcG9pbnQ9MDticmVhaztjYXNlIDExOnRoaXMuX3BhcmFtcy5yZXNldCgpLHRoaXMuX3BhcmFtcy5hZGRQYXJhbSgwKSx0aGlzLl9jb2xsZWN0PTA7YnJlYWs7Y2FzZSAxMjp0aGlzLl9kY3NQYXJzZXIuaG9vayh0aGlzLl9jb2xsZWN0PDw4fG4sdGhpcy5fcGFyYW1zKTticmVhaztjYXNlIDEzOmZvcih2YXIgcD1sKzE7OysrcClpZihwPj10fHwyND09PShuPWVbcF0pfHwyNj09PW58fDI3PT09bnx8bj4xMjcmJm48dSl7dGhpcy5fZGNzUGFyc2VyLnB1dChlLGwscCksbD1wLTE7YnJlYWt9YnJlYWs7Y2FzZSAxNDppZihpPXRoaXMuX2Rjc1BhcnNlci51bmhvb2soMjQhPT1uJiYyNiE9PW4pKXJldHVybiB0aGlzLl9wcmVzZXJ2ZVN0YWNrKDYsW10sMCxvLGwpLGk7Mjc9PT1uJiYob3w9MSksdGhpcy5fcGFyYW1zLnJlc2V0KCksdGhpcy5fcGFyYW1zLmFkZFBhcmFtKDApLHRoaXMuX2NvbGxlY3Q9MCx0aGlzLnByZWNlZGluZ0NvZGVwb2ludD0wO2JyZWFrO2Nhc2UgNDp0aGlzLl9vc2NQYXJzZXIuc3RhcnQoKTticmVhaztjYXNlIDU6Zm9yKHZhciB2PWwrMTs7disrKWlmKHY+PXR8fChuPWVbdl0pPDMyfHxuPjEyNyYmbjx1KXt0aGlzLl9vc2NQYXJzZXIucHV0KGUsbCx2KSxsPXYtMTticmVha31icmVhaztjYXNlIDY6aWYoaT10aGlzLl9vc2NQYXJzZXIuZW5kKDI0IT09biYmMjYhPT1uKSlyZXR1cm4gdGhpcy5fcHJlc2VydmVTdGFjayg1LFtdLDAsbyxsKSxpOzI3PT09biYmKG98PTEpLHRoaXMuX3BhcmFtcy5yZXNldCgpLHRoaXMuX3BhcmFtcy5hZGRQYXJhbSgwKSx0aGlzLl9jb2xsZWN0PTAsdGhpcy5wcmVjZWRpbmdDb2RlcG9pbnQ9MH10aGlzLmN1cnJlbnRTdGF0ZT0xNSZvfX0scn0oby5EaXNwb3NhYmxlKTt0LkVzY2FwZVNlcXVlbmNlUGFyc2VyPWZ9LDYyNDI6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuT3NjSGFuZGxlcj10Lk9zY1BhcnNlcj12b2lkIDA7dmFyIGk9cig1NzcwKSxuPXIoNDgyKSxvPVtdLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fc3RhdGU9MCx0aGlzLl9hY3RpdmU9byx0aGlzLl9pZD0tMSx0aGlzLl9oYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2hhbmRsZXJGYj1mdW5jdGlvbigpe30sdGhpcy5fc3RhY2s9e3BhdXNlZDohMSxsb29wUG9zaXRpb246MCxmYWxsVGhyb3VnaDohMX19cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVySGFuZGxlcj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXRoaXMuX2hhbmRsZXJzW2VdJiYodGhpcy5faGFuZGxlcnNbZV09W10pO3ZhciByPXRoaXMuX2hhbmRsZXJzW2VdO3JldHVybiByLnB1c2godCkse2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgZT1yLmluZGV4T2YodCk7LTEhPT1lJiZyLnNwbGljZShlLDEpfX19LGUucHJvdG90eXBlLmNsZWFySGFuZGxlcj1mdW5jdGlvbihlKXt0aGlzLl9oYW5kbGVyc1tlXSYmZGVsZXRlIHRoaXMuX2hhbmRsZXJzW2VdfSxlLnByb3RvdHlwZS5zZXRIYW5kbGVyRmFsbGJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5faGFuZGxlckZiPWV9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2hhbmRsZXJGYj1mdW5jdGlvbigpe30sdGhpcy5fYWN0aXZlPW99LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7aWYoMj09PXRoaXMuX3N0YXRlKWZvcih2YXIgZT10aGlzLl9zdGFjay5wYXVzZWQ/dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTE6dGhpcy5fYWN0aXZlLmxlbmd0aC0xO2U+PTA7LS1lKXRoaXMuX2FjdGl2ZVtlXS5lbmQoITEpO3RoaXMuX3N0YWNrLnBhdXNlZD0hMSx0aGlzLl9hY3RpdmU9byx0aGlzLl9pZD0tMSx0aGlzLl9zdGF0ZT0wfSxlLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmU9dGhpcy5faGFuZGxlcnNbdGhpcy5faWRdfHxvLHRoaXMuX2FjdGl2ZS5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLl9hY3RpdmVbZV0uc3RhcnQoKTtlbHNlIHRoaXMuX2hhbmRsZXJGYih0aGlzLl9pZCxcIlNUQVJUXCIpfSxlLnByb3RvdHlwZS5fcHV0PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLl9hY3RpdmUubGVuZ3RoKWZvcih2YXIgaT10aGlzLl9hY3RpdmUubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5fYWN0aXZlW2ldLnB1dChlLHQscik7ZWxzZSB0aGlzLl9oYW5kbGVyRmIodGhpcy5faWQsXCJQVVRcIiwoMCxuLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMuX3N0YXRlPTF9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7aWYoMyE9PXRoaXMuX3N0YXRlKXtpZigxPT09dGhpcy5fc3RhdGUpZm9yKDt0PHI7KXt2YXIgaT1lW3QrK107aWYoNTk9PT1pKXt0aGlzLl9zdGF0ZT0yLHRoaXMuX3N0YXJ0KCk7YnJlYWt9aWYoaTw0OHx8NTc8aSlyZXR1cm4gdm9pZCh0aGlzLl9zdGF0ZT0zKTstMT09PXRoaXMuX2lkJiYodGhpcy5faWQ9MCksdGhpcy5faWQ9MTAqdGhpcy5faWQraS00OH0yPT09dGhpcy5fc3RhdGUmJnItdD4wJiZ0aGlzLl9wdXQoZSx0LHIpfX0sZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITApLDAhPT10aGlzLl9zdGF0ZSl7aWYoMyE9PXRoaXMuX3N0YXRlKWlmKDE9PT10aGlzLl9zdGF0ZSYmdGhpcy5fc3RhcnQoKSx0aGlzLl9hY3RpdmUubGVuZ3RoKXt2YXIgcj0hMSxpPXRoaXMuX2FjdGl2ZS5sZW5ndGgtMSxuPSExO2lmKHRoaXMuX3N0YWNrLnBhdXNlZCYmKGk9dGhpcy5fc3RhY2subG9vcFBvc2l0aW9uLTEscj10LG49dGhpcy5fc3RhY2suZmFsbFRocm91Z2gsdGhpcy5fc3RhY2sucGF1c2VkPSExKSwhbiYmITE9PT1yKXtmb3IoO2k+PTAmJiEwIT09KHI9dGhpcy5fYWN0aXZlW2ldLmVuZChlKSk7aS0tKWlmKHIgaW5zdGFuY2VvZiBQcm9taXNlKXJldHVybiB0aGlzLl9zdGFjay5wYXVzZWQ9ITAsdGhpcy5fc3RhY2subG9vcFBvc2l0aW9uPWksdGhpcy5fc3RhY2suZmFsbFRocm91Z2g9ITEscjtpLS19Zm9yKDtpPj0wO2ktLSlpZigocj10aGlzLl9hY3RpdmVbaV0uZW5kKCExKSlpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHRoaXMuX3N0YWNrLnBhdXNlZD0hMCx0aGlzLl9zdGFjay5sb29wUG9zaXRpb249aSx0aGlzLl9zdGFjay5mYWxsVGhyb3VnaD0hMCxyfWVsc2UgdGhpcy5faGFuZGxlckZiKHRoaXMuX2lkLFwiRU5EXCIsZSk7dGhpcy5fYWN0aXZlPW8sdGhpcy5faWQ9LTEsdGhpcy5fc3RhdGU9MH19LGV9KCk7dC5Pc2NQYXJzZXI9czt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faGFuZGxlcj1lLHRoaXMuX2RhdGE9XCJcIix0aGlzLl9oaXRMaW1pdD0hMX1yZXR1cm4gZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITF9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQscil7dGhpcy5faGl0TGltaXR8fCh0aGlzLl9kYXRhKz0oMCxuLnV0ZjMyVG9TdHJpbmcpKGUsdCxyKSx0aGlzLl9kYXRhLmxlbmd0aD5pLlBBWUxPQURfTElNSVQmJih0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITApKX0sZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0hMTtpZih0aGlzLl9oaXRMaW1pdClyPSExO2Vsc2UgaWYoZSYmKHI9dGhpcy5faGFuZGxlcih0aGlzLl9kYXRhKSlpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIHIudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2RhdGE9XCJcIix0Ll9oaXRMaW1pdD0hMSxlfSkpO3JldHVybiB0aGlzLl9kYXRhPVwiXCIsdGhpcy5faGl0TGltaXQ9ITEscn0sZX0oKTt0Lk9zY0hhbmRsZXI9YX0sODc0MjooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuUGFyYW1zPXZvaWQgMDt2YXIgcj0yMTQ3NDgzNjQ3LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9MzIpLHZvaWQgMD09PXQmJih0PTMyKSx0aGlzLm1heExlbmd0aD1lLHRoaXMubWF4U3ViUGFyYW1zTGVuZ3RoPXQsdD4yNTYpdGhyb3cgbmV3IEVycm9yKFwibWF4U3ViUGFyYW1zTGVuZ3RoIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiAyNTZcIik7dGhpcy5wYXJhbXM9bmV3IEludDMyQXJyYXkoZSksdGhpcy5sZW5ndGg9MCx0aGlzLl9zdWJQYXJhbXM9bmV3IEludDMyQXJyYXkodCksdGhpcy5fc3ViUGFyYW1zTGVuZ3RoPTAsdGhpcy5fc3ViUGFyYW1zSWR4PW5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9yZWplY3REaWdpdHM9ITEsdGhpcy5fcmVqZWN0U3ViRGlnaXRzPSExLHRoaXMuX2RpZ2l0SXNTdWI9ITF9cmV0dXJuIGUuZnJvbUFycmF5PWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBlO2lmKCF0Lmxlbmd0aClyZXR1cm4gcjtmb3IodmFyIGk9QXJyYXkuaXNBcnJheSh0WzBdKT8xOjA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBuPXRbaV07aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIG89MDtvPG4ubGVuZ3RoOysrbylyLmFkZFN1YlBhcmFtKG5bb10pO2Vsc2Ugci5hZGRQYXJhbShuKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZSh0aGlzLm1heExlbmd0aCx0aGlzLm1heFN1YlBhcmFtc0xlbmd0aCk7cmV0dXJuIHQucGFyYW1zLnNldCh0aGlzLnBhcmFtcyksdC5sZW5ndGg9dGhpcy5sZW5ndGgsdC5fc3ViUGFyYW1zLnNldCh0aGlzLl9zdWJQYXJhbXMpLHQuX3N1YlBhcmFtc0xlbmd0aD10aGlzLl9zdWJQYXJhbXNMZW5ndGgsdC5fc3ViUGFyYW1zSWR4LnNldCh0aGlzLl9zdWJQYXJhbXNJZHgpLHQuX3JlamVjdERpZ2l0cz10aGlzLl9yZWplY3REaWdpdHMsdC5fcmVqZWN0U3ViRGlnaXRzPXRoaXMuX3JlamVjdFN1YkRpZ2l0cyx0Ll9kaWdpdElzU3ViPXRoaXMuX2RpZ2l0SXNTdWIsdH0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLmxlbmd0aDsrK3Qpe2UucHVzaCh0aGlzLnBhcmFtc1t0XSk7dmFyIHI9dGhpcy5fc3ViUGFyYW1zSWR4W3RdPj44LGk9MjU1JnRoaXMuX3N1YlBhcmFtc0lkeFt0XTtpLXI+MCYmZS5wdXNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX3N1YlBhcmFtcyxyLGkpKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wLHRoaXMuX3N1YlBhcmFtc0xlbmd0aD0wLHRoaXMuX3JlamVjdERpZ2l0cz0hMSx0aGlzLl9yZWplY3RTdWJEaWdpdHM9ITEsdGhpcy5fZGlnaXRJc1N1Yj0hMX0sZS5wcm90b3R5cGUuYWRkUGFyYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fZGlnaXRJc1N1Yj0hMSx0aGlzLmxlbmd0aD49dGhpcy5tYXhMZW5ndGgpdGhpcy5fcmVqZWN0RGlnaXRzPSEwO2Vsc2V7aWYoZTwtMSl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZXMgbGVzc2VyIHRoYW4gLTEgYXJlIG5vdCBhbGxvd2VkXCIpO3RoaXMuX3N1YlBhcmFtc0lkeFt0aGlzLmxlbmd0aF09dGhpcy5fc3ViUGFyYW1zTGVuZ3RoPDw4fHRoaXMuX3N1YlBhcmFtc0xlbmd0aCx0aGlzLnBhcmFtc1t0aGlzLmxlbmd0aCsrXT1lPnI/cjplfX0sZS5wcm90b3R5cGUuYWRkU3ViUGFyYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fZGlnaXRJc1N1Yj0hMCx0aGlzLmxlbmd0aClpZih0aGlzLl9yZWplY3REaWdpdHN8fHRoaXMuX3N1YlBhcmFtc0xlbmd0aD49dGhpcy5tYXhTdWJQYXJhbXNMZW5ndGgpdGhpcy5fcmVqZWN0U3ViRGlnaXRzPSEwO2Vsc2V7aWYoZTwtMSl0aHJvdyBuZXcgRXJyb3IoXCJ2YWx1ZXMgbGVzc2VyIHRoYW4gLTEgYXJlIG5vdCBhbGxvd2VkXCIpO3RoaXMuX3N1YlBhcmFtc1t0aGlzLl9zdWJQYXJhbXNMZW5ndGgrK109ZT5yP3I6ZSx0aGlzLl9zdWJQYXJhbXNJZHhbdGhpcy5sZW5ndGgtMV0rK319LGUucHJvdG90eXBlLmhhc1N1YlBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4oMjU1JnRoaXMuX3N1YlBhcmFtc0lkeFtlXSktKHRoaXMuX3N1YlBhcmFtc0lkeFtlXT4+OCk+MH0sZS5wcm90b3R5cGUuZ2V0U3ViUGFyYW1zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N1YlBhcmFtc0lkeFtlXT4+OCxyPTI1NSZ0aGlzLl9zdWJQYXJhbXNJZHhbZV07cmV0dXJuIHItdD4wP3RoaXMuX3N1YlBhcmFtcy5zdWJhcnJheSh0LHIpOm51bGx9LGUucHJvdG90eXBlLmdldFN1YlBhcmFtc0FsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTA7dDx0aGlzLmxlbmd0aDsrK3Qpe3ZhciByPXRoaXMuX3N1YlBhcmFtc0lkeFt0XT4+OCxpPTI1NSZ0aGlzLl9zdWJQYXJhbXNJZHhbdF07aS1yPjAmJihlW3RdPXRoaXMuX3N1YlBhcmFtcy5zbGljZShyLGkpKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuYWRkRGlnaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoISh0aGlzLl9yZWplY3REaWdpdHN8fCEodD10aGlzLl9kaWdpdElzU3ViP3RoaXMuX3N1YlBhcmFtc0xlbmd0aDp0aGlzLmxlbmd0aCl8fHRoaXMuX2RpZ2l0SXNTdWImJnRoaXMuX3JlamVjdFN1YkRpZ2l0cykpe3ZhciBpPXRoaXMuX2RpZ2l0SXNTdWI/dGhpcy5fc3ViUGFyYW1zOnRoaXMucGFyYW1zLG49aVt0LTFdO2lbdC0xXT1+bj9NYXRoLm1pbigxMCpuK2Uscik6ZX19LGV9KCk7dC5QYXJhbXM9aX0sNTc0MTooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQWRkb25NYW5hZ2VyPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9hZGRvbnM9W119cmV0dXJuIGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fYWRkb25zLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX2FkZG9uc1tlXS5pbnN0YW5jZS5kaXNwb3NlKCl9LGUucHJvdG90eXBlLmxvYWRBZGRvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT17aW5zdGFuY2U6dCxkaXNwb3NlOnQuZGlzcG9zZSxpc0Rpc3Bvc2VkOiExfTt0aGlzLl9hZGRvbnMucHVzaChpKSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gci5fd3JhcHBlZEFkZG9uRGlzcG9zZShpKX0sdC5hY3RpdmF0ZShlKX0sZS5wcm90b3R5cGUuX3dyYXBwZWRBZGRvbkRpc3Bvc2U9ZnVuY3Rpb24oZSl7aWYoIWUuaXNEaXNwb3NlZCl7Zm9yKHZhciB0PS0xLHI9MDtyPHRoaXMuX2FkZG9ucy5sZW5ndGg7cisrKWlmKHRoaXMuX2FkZG9uc1tyXT09PWUpe3Q9cjticmVha31pZigtMT09PXQpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRpc3Bvc2UgYW4gYWRkb24gdGhhdCBoYXMgbm90IGJlZW4gbG9hZGVkXCIpO2UuaXNEaXNwb3NlZD0hMCxlLmRpc3Bvc2UuYXBwbHkoZS5pbnN0YW5jZSksdGhpcy5fYWRkb25zLnNwbGljZSh0LDEpfX0sZX0oKTt0LkFkZG9uTWFuYWdlcj1yfSw4NzcxOihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkJ1ZmZlckFwaVZpZXc9dm9pZCAwO3ZhciBpPXIoMzc4NSksbj1yKDUxMSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9idWZmZXI9ZSx0aGlzLnR5cGU9dH1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYnVmZmVyPWUsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3Vyc29yWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3Vyc29yWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLnh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmlld3BvcnRZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXIueWRpc3B9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYmFzZVlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci55YmFzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5saW5lcy5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TGluZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9idWZmZXIubGluZXMuZ2V0KGUpO2lmKHQpcmV0dXJuIG5ldyBpLkJ1ZmZlckxpbmVBcGlWaWV3KHQpfSxlLnByb3RvdHlwZS5nZXROdWxsQ2VsbD1mdW5jdGlvbigpe3JldHVybiBuZXcgbi5DZWxsRGF0YX0sZX0oKTt0LkJ1ZmZlckFwaVZpZXc9b30sMzc4NTooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CdWZmZXJMaW5lQXBpVmlldz12b2lkIDA7dmFyIGk9cig1MTEpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2xpbmU9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNXcmFwcGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lLmlzV3JhcHBlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmUubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24oZSx0KXtpZighKGU8MHx8ZT49dGhpcy5fbGluZS5sZW5ndGgpKXJldHVybiB0Pyh0aGlzLl9saW5lLmxvYWRDZWxsKGUsdCksdCk6dGhpcy5fbGluZS5sb2FkQ2VsbChlLG5ldyBpLkNlbGxEYXRhKX0sZS5wcm90b3R5cGUudHJhbnNsYXRlVG9TdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9saW5lLnRyYW5zbGF0ZVRvU3RyaW5nKGUsdCxyKX0sZX0oKTt0LkJ1ZmZlckxpbmVBcGlWaWV3PW59LDgyODU6KGUsdCxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQnVmZmVyTmFtZXNwYWNlQXBpPXZvaWQgMDt2YXIgaT1yKDg3NzEpLG49cig4NDYwKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgdD10aGlzO3RoaXMuX2NvcmU9ZSx0aGlzLl9vbkJ1ZmZlckNoYW5nZT1uZXcgbi5FdmVudEVtaXR0ZXIsdGhpcy5fbm9ybWFsPW5ldyBpLkJ1ZmZlckFwaVZpZXcodGhpcy5fY29yZS5idWZmZXJzLm5vcm1hbCxcIm5vcm1hbFwiKSx0aGlzLl9hbHRlcm5hdGU9bmV3IGkuQnVmZmVyQXBpVmlldyh0aGlzLl9jb3JlLmJ1ZmZlcnMuYWx0LFwiYWx0ZXJuYXRlXCIpLHRoaXMuX2NvcmUuYnVmZmVycy5vbkJ1ZmZlckFjdGl2YXRlKChmdW5jdGlvbigpe3JldHVybiB0Ll9vbkJ1ZmZlckNoYW5nZS5maXJlKHQuYWN0aXZlKX0pKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25CdWZmZXJDaGFuZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQnVmZmVyQ2hhbmdlLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9jb3JlLmJ1ZmZlcnMuYWN0aXZlPT09dGhpcy5fY29yZS5idWZmZXJzLm5vcm1hbClyZXR1cm4gdGhpcy5ub3JtYWw7aWYodGhpcy5fY29yZS5idWZmZXJzLmFjdGl2ZT09PXRoaXMuX2NvcmUuYnVmZmVycy5hbHQpcmV0dXJuIHRoaXMuYWx0ZXJuYXRlO3Rocm93IG5ldyBFcnJvcihcIkFjdGl2ZSBidWZmZXIgaXMgbmVpdGhlciBub3JtYWwgbm9yIGFsdGVybmF0ZVwiKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJub3JtYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcm1hbC5pbml0KHRoaXMuX2NvcmUuYnVmZmVycy5ub3JtYWwpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFsdGVybmF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWx0ZXJuYXRlLmluaXQodGhpcy5fY29yZS5idWZmZXJzLmFsdCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZX0oKTt0LkJ1ZmZlck5hbWVzcGFjZUFwaT1vfSw3OTc1OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5QYXJzZXJBcGk9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9jb3JlPWV9cmV0dXJuIGUucHJvdG90eXBlLnJlZ2lzdGVyQ3NpSGFuZGxlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9jb3JlLnJlZ2lzdGVyQ3NpSGFuZGxlcihlLChmdW5jdGlvbihlKXtyZXR1cm4gdChlLnRvQXJyYXkoKSl9KSl9LGUucHJvdG90eXBlLmFkZENzaUhhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3RlckNzaUhhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJEY3NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJEY3NIYW5kbGVyKGUsKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZSxyLnRvQXJyYXkoKSl9KSl9LGUucHJvdG90eXBlLmFkZERjc0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3RlckRjc0hhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJFc2NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJFc2NIYW5kbGVyKGUsdCl9LGUucHJvdG90eXBlLmFkZEVzY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3RlckVzY0hhbmRsZXIoZSx0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJPc2NIYW5kbGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2NvcmUucmVnaXN0ZXJPc2NIYW5kbGVyKGUsdCl9LGUucHJvdG90eXBlLmFkZE9zY0hhbmRsZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWdpc3Rlck9zY0hhbmRsZXIoZSx0KX0sZX0oKTt0LlBhcnNlckFwaT1yfSw3MDkwOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Vbmljb2RlQXBpPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fY29yZT1lfXJldHVybiBlLnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbihlKXt0aGlzLl9jb3JlLnVuaWNvZGVTZXJ2aWNlLnJlZ2lzdGVyKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2ZXJzaW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29yZS51bmljb2RlU2VydmljZS52ZXJzaW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RpdmVWZXJzaW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3JlLnVuaWNvZGVTZXJ2aWNlLmFjdGl2ZVZlcnNpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb3JlLnVuaWNvZGVTZXJ2aWNlLmFjdGl2ZVZlcnNpb249ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfSgpO3QuVW5pY29kZUFwaT1yfSw3NDQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fChpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfSxpKGUsdCl9LGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIrU3RyaW5nKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1pKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSksbz10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxzPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQnVmZmVyU2VydmljZT10Lk1JTklNVU1fUk9XUz10Lk1JTklNVU1fQ09MUz12b2lkIDA7dmFyIGE9cigyNTg1KSxjPXIoNTI5NSksbD1yKDg0NjApLGg9cig4NDQpO3QuTUlOSU1VTV9DT0xTPTIsdC5NSU5JTVVNX1JPV1M9MTt2YXIgdT1mdW5jdGlvbihlKXtmdW5jdGlvbiByKHIpe3ZhciBpPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fb3B0aW9uc1NlcnZpY2U9cixpLmlzVXNlclNjcm9sbGluZz0hMSxpLl9vblJlc2l6ZT1uZXcgbC5FdmVudEVtaXR0ZXIsaS5fb25TY3JvbGw9bmV3IGwuRXZlbnRFbWl0dGVyLGkuY29scz1NYXRoLm1heChyLnJhd09wdGlvbnMuY29sc3x8MCx0Lk1JTklNVU1fQ09MUyksaS5yb3dzPU1hdGgubWF4KHIucmF3T3B0aW9ucy5yb3dzfHwwLHQuTUlOSU1VTV9ST1dTKSxpLmJ1ZmZlcnM9bmV3IGMuQnVmZmVyU2V0KHIsaSksaX1yZXR1cm4gbihyLGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcIm9uUmVzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlc2l6ZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJvblNjcm9sbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TY3JvbGwuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlcnMuYWN0aXZlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5idWZmZXJzLmRpc3Bvc2UoKX0sci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb2xzPWUsdGhpcy5yb3dzPXQsdGhpcy5idWZmZXJzLnJlc2l6ZShlLHQpLHRoaXMuYnVmZmVycy5zZXR1cFRhYlN0b3BzKHRoaXMuY29scyksdGhpcy5fb25SZXNpemUuZmlyZSh7Y29sczplLHJvd3M6dH0pfSxyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYnVmZmVycy5yZXNldCgpLHRoaXMuaXNVc2VyU2Nyb2xsaW5nPSExfSxyLnByb3RvdHlwZS5zY3JvbGw9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIHIsaT10aGlzLmJ1ZmZlcjsocj10aGlzLl9jYWNoZWRCbGFua0xpbmUpJiZyLmxlbmd0aD09PXRoaXMuY29scyYmci5nZXRGZygwKT09PWUuZmcmJnIuZ2V0QmcoMCk9PT1lLmJnfHwocj1pLmdldEJsYW5rTGluZShlLHQpLHRoaXMuX2NhY2hlZEJsYW5rTGluZT1yKSxyLmlzV3JhcHBlZD10O3ZhciBuPWkueWJhc2UraS5zY3JvbGxUb3Asbz1pLnliYXNlK2kuc2Nyb2xsQm90dG9tO2lmKDA9PT1pLnNjcm9sbFRvcCl7dmFyIHM9aS5saW5lcy5pc0Z1bGw7bz09PWkubGluZXMubGVuZ3RoLTE/cz9pLmxpbmVzLnJlY3ljbGUoKS5jb3B5RnJvbShyKTppLmxpbmVzLnB1c2goci5jbG9uZSgpKTppLmxpbmVzLnNwbGljZShvKzEsMCxyLmNsb25lKCkpLHM/dGhpcy5pc1VzZXJTY3JvbGxpbmcmJihpLnlkaXNwPU1hdGgubWF4KGkueWRpc3AtMSwwKSk6KGkueWJhc2UrKyx0aGlzLmlzVXNlclNjcm9sbGluZ3x8aS55ZGlzcCsrKX1lbHNle3ZhciBhPW8tbisxO2kubGluZXMuc2hpZnRFbGVtZW50cyhuKzEsYS0xLC0xKSxpLmxpbmVzLnNldChvLHIuY2xvbmUoKSl9dGhpcy5pc1VzZXJTY3JvbGxpbmd8fChpLnlkaXNwPWkueWJhc2UpLHRoaXMuX29uU2Nyb2xsLmZpcmUoaS55ZGlzcCl9LHIucHJvdG90eXBlLnNjcm9sbExpbmVzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmJ1ZmZlcjtpZihlPDApe2lmKDA9PT1pLnlkaXNwKXJldHVybjt0aGlzLmlzVXNlclNjcm9sbGluZz0hMH1lbHNlIGUraS55ZGlzcD49aS55YmFzZSYmKHRoaXMuaXNVc2VyU2Nyb2xsaW5nPSExKTt2YXIgbj1pLnlkaXNwO2kueWRpc3A9TWF0aC5tYXgoTWF0aC5taW4oaS55ZGlzcCtlLGkueWJhc2UpLDApLG4hPT1pLnlkaXNwJiYodHx8dGhpcy5fb25TY3JvbGwuZmlyZShpLnlkaXNwKSl9LHIucHJvdG90eXBlLnNjcm9sbFBhZ2VzPWZ1bmN0aW9uKGUpe3RoaXMuc2Nyb2xsTGluZXMoZSoodGhpcy5yb3dzLTEpKX0sci5wcm90b3R5cGUuc2Nyb2xsVG9Ub3A9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbExpbmVzKC10aGlzLmJ1ZmZlci55ZGlzcCl9LHIucHJvdG90eXBlLnNjcm9sbFRvQm90dG9tPWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxMaW5lcyh0aGlzLmJ1ZmZlci55YmFzZS10aGlzLmJ1ZmZlci55ZGlzcCl9LHIucHJvdG90eXBlLnNjcm9sbFRvTGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLXRoaXMuYnVmZmVyLnlkaXNwOzAhPT10JiZ0aGlzLnNjcm9sbExpbmVzKHQpfSxvKFtzKDAsYS5JT3B0aW9uc1NlcnZpY2UpXSxyKX0oaC5EaXNwb3NhYmxlKTt0LkJ1ZmZlclNlcnZpY2U9dX0sNzk5NDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQ2hhcnNldFNlcnZpY2U9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZ2xldmVsPTAsdGhpcy5fY2hhcnNldHM9W119cmV0dXJuIGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jaGFyc2V0PXZvaWQgMCx0aGlzLl9jaGFyc2V0cz1bXSx0aGlzLmdsZXZlbD0wfSxlLnByb3RvdHlwZS5zZXRnTGV2ZWw9ZnVuY3Rpb24oZSl7dGhpcy5nbGV2ZWw9ZSx0aGlzLmNoYXJzZXQ9dGhpcy5fY2hhcnNldHNbZV19LGUucHJvdG90eXBlLnNldGdDaGFyc2V0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2hhcnNldHNbZV09dCx0aGlzLmdsZXZlbD09PWUmJih0aGlzLmNoYXJzZXQ9dCl9LGV9KCk7dC5DaGFyc2V0U2VydmljZT1yfSwxNzUzOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxuPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19LG89dGhpcyYmdGhpcy5fX3ZhbHVlc3x8ZnVuY3Rpb24oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Iscj10JiZlW3RdLGk9MDtpZihyKXJldHVybiByLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmk+PWUubGVuZ3RoJiYoZT12b2lkIDApLHt2YWx1ZTplJiZlW2krK10sZG9uZTohZX19fTt0aHJvdyBuZXcgVHlwZUVycm9yKHQ/XCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiOlwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db3JlTW91c2VTZXJ2aWNlPXZvaWQgMDt2YXIgcz1yKDI1ODUpLGE9cig4NDYwKSxjPXtOT05FOntldmVudHM6MCxyZXN0cmljdDpmdW5jdGlvbigpe3JldHVybiExfX0sWDEwOntldmVudHM6MSxyZXN0cmljdDpmdW5jdGlvbihlKXtyZXR1cm4gNCE9PWUuYnV0dG9uJiYxPT09ZS5hY3Rpb24mJihlLmN0cmw9ITEsZS5hbHQ9ITEsZS5zaGlmdD0hMSwhMCl9fSxWVDIwMDp7ZXZlbnRzOjE5LHJlc3RyaWN0OmZ1bmN0aW9uKGUpe3JldHVybiAzMiE9PWUuYWN0aW9ufX0sRFJBRzp7ZXZlbnRzOjIzLHJlc3RyaWN0OmZ1bmN0aW9uKGUpe3JldHVybiAzMiE9PWUuYWN0aW9ufHwzIT09ZS5idXR0b259fSxBTlk6e2V2ZW50czozMSxyZXN0cmljdDpmdW5jdGlvbihlKXtyZXR1cm4hMH19fTtmdW5jdGlvbiBsKGUsdCl7dmFyIHI9KGUuY3RybD8xNjowKXwoZS5zaGlmdD80OjApfChlLmFsdD84OjApO3JldHVybiA0PT09ZS5idXR0b24/KHJ8PTY0LHJ8PWUuYWN0aW9uKToocnw9MyZlLmJ1dHRvbiw0JmUuYnV0dG9uJiYocnw9NjQpLDgmZS5idXR0b24mJihyfD0xMjgpLDMyPT09ZS5hY3Rpb24/cnw9MzI6MCE9PWUuYWN0aW9ufHx0fHwocnw9MykpLHJ9dmFyIGg9U3RyaW5nLmZyb21DaGFyQ29kZSx1PXtERUZBVUxUOmZ1bmN0aW9uKGUpe3ZhciB0PVtsKGUsITEpKzMyLGUuY29sKzMyLGUucm93KzMyXTtyZXR1cm4gdFswXT4yNTV8fHRbMV0+MjU1fHx0WzJdPjI1NT9cIlwiOlwiXHUwMDFiW01cIitoKHRbMF0pK2godFsxXSkraCh0WzJdKX0sU0dSOmZ1bmN0aW9uKGUpe3ZhciB0PTA9PT1lLmFjdGlvbiYmNCE9PWUuYnV0dG9uP1wibVwiOlwiTVwiO3JldHVyblwiXHUwMDFiWzxcIitsKGUsITApK1wiO1wiK2UuY29sK1wiO1wiK2Uucm93K3R9fSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciByLGksbixzO3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLl9jb3JlU2VydmljZT10LHRoaXMuX3Byb3RvY29scz17fSx0aGlzLl9lbmNvZGluZ3M9e30sdGhpcy5fYWN0aXZlUHJvdG9jb2w9XCJcIix0aGlzLl9hY3RpdmVFbmNvZGluZz1cIlwiLHRoaXMuX29uUHJvdG9jb2xDaGFuZ2U9bmV3IGEuRXZlbnRFbWl0dGVyLHRoaXMuX2xhc3RFdmVudD1udWxsO3RyeXtmb3IodmFyIGw9byhPYmplY3Qua2V5cyhjKSksaD1sLm5leHQoKTshaC5kb25lO2g9bC5uZXh0KCkpe3ZhciBmPWgudmFsdWU7dGhpcy5hZGRQcm90b2NvbChmLGNbZl0pfX1jYXRjaChlKXtyPXtlcnJvcjplfX1maW5hbGx5e3RyeXtoJiYhaC5kb25lJiYoaT1sLnJldHVybikmJmkuY2FsbChsKX1maW5hbGx5e2lmKHIpdGhyb3cgci5lcnJvcn19dHJ5e2Zvcih2YXIgXz1vKE9iamVjdC5rZXlzKHUpKSxkPV8ubmV4dCgpOyFkLmRvbmU7ZD1fLm5leHQoKSl7dmFyIHA9ZC52YWx1ZTt0aGlzLmFkZEVuY29kaW5nKHAsdVtwXSl9fWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2QmJiFkLmRvbmUmJihzPV8ucmV0dXJuKSYmcy5jYWxsKF8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX10aGlzLnJlc2V0KCl9cmV0dXJuIGUucHJvdG90eXBlLmFkZFByb3RvY29sPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcHJvdG9jb2xzW2VdPXR9LGUucHJvdG90eXBlLmFkZEVuY29kaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5jb2RpbmdzW2VdPXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZVByb3RvY29sXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVQcm90b2NvbH0sc2V0OmZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9wcm90b2NvbHNbZV0pdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHByb3RvY29sIFwiJytlKydcIicpO3RoaXMuX2FjdGl2ZVByb3RvY29sPWUsdGhpcy5fb25Qcm90b2NvbENoYW5nZS5maXJlKHRoaXMuX3Byb3RvY29sc1tlXS5ldmVudHMpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFyZU1vdXNlRXZlbnRzQWN0aXZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy5fcHJvdG9jb2xzW3RoaXMuX2FjdGl2ZVByb3RvY29sXS5ldmVudHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWN0aXZlRW5jb2RpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUVuY29kaW5nfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX2VuY29kaW5nc1tlXSl0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZW5jb2RpbmcgXCInK2UrJ1wiJyk7dGhpcy5fYWN0aXZlRW5jb2Rpbmc9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlUHJvdG9jb2w9XCJOT05FXCIsdGhpcy5hY3RpdmVFbmNvZGluZz1cIkRFRkFVTFRcIix0aGlzLl9sYXN0RXZlbnQ9bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25Qcm90b2NvbENoYW5nZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25Qcm90b2NvbENoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50cmlnZ2VyTW91c2VFdmVudD1mdW5jdGlvbihlKXtpZihlLmNvbDwwfHxlLmNvbD49dGhpcy5fYnVmZmVyU2VydmljZS5jb2xzfHxlLnJvdzwwfHxlLnJvdz49dGhpcy5fYnVmZmVyU2VydmljZS5yb3dzKXJldHVybiExO2lmKDQ9PT1lLmJ1dHRvbiYmMzI9PT1lLmFjdGlvbilyZXR1cm4hMTtpZigzPT09ZS5idXR0b24mJjMyIT09ZS5hY3Rpb24pcmV0dXJuITE7aWYoNCE9PWUuYnV0dG9uJiYoMj09PWUuYWN0aW9ufHwzPT09ZS5hY3Rpb24pKXJldHVybiExO2lmKGUuY29sKyssZS5yb3crKywzMj09PWUuYWN0aW9uJiZ0aGlzLl9sYXN0RXZlbnQmJnRoaXMuX2NvbXBhcmVFdmVudHModGhpcy5fbGFzdEV2ZW50LGUpKXJldHVybiExO2lmKCF0aGlzLl9wcm90b2NvbHNbdGhpcy5fYWN0aXZlUHJvdG9jb2xdLnJlc3RyaWN0KGUpKXJldHVybiExO3ZhciB0PXRoaXMuX2VuY29kaW5nc1t0aGlzLl9hY3RpdmVFbmNvZGluZ10oZSk7cmV0dXJuIHQmJihcIkRFRkFVTFRcIj09PXRoaXMuX2FjdGl2ZUVuY29kaW5nP3RoaXMuX2NvcmVTZXJ2aWNlLnRyaWdnZXJCaW5hcnlFdmVudCh0KTp0aGlzLl9jb3JlU2VydmljZS50cmlnZ2VyRGF0YUV2ZW50KHQsITApKSx0aGlzLl9sYXN0RXZlbnQ9ZSwhMH0sZS5wcm90b3R5cGUuZXhwbGFpbkV2ZW50cz1mdW5jdGlvbihlKXtyZXR1cm57ZG93bjohISgxJmUpLHVwOiEhKDImZSksZHJhZzohISg0JmUpLG1vdmU6ISEoOCZlKSx3aGVlbDohISgxNiZlKX19LGUucHJvdG90eXBlLl9jb21wYXJlRXZlbnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29sPT09dC5jb2wmJmUucm93PT09dC5yb3cmJmUuYnV0dG9uPT09dC5idXR0b24mJmUuYWN0aW9uPT09dC5hY3Rpb24mJmUuY3RybD09PXQuY3RybCYmZS5hbHQ9PT10LmFsdCYmZS5zaGlmdD09PXQuc2hpZnR9LGkoW24oMCxzLklCdWZmZXJTZXJ2aWNlKSxuKDEscy5JQ29yZVNlcnZpY2UpXSxlKX0oKTt0LkNvcmVNb3VzZVNlcnZpY2U9Zn0sNjk3NTpmdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8KGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKGVbcl09dFtyXSl9LGkoZSx0KX0sZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIitTdHJpbmcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWkoZSx0KSxlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9KSxvPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LHM9dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db3JlU2VydmljZT12b2lkIDA7dmFyIGE9cigyNTg1KSxjPXIoODQ2MCksbD1yKDE0MzkpLGg9cig4NDQpLHU9T2JqZWN0LmZyZWV6ZSh7aW5zZXJ0TW9kZTohMX0pLGY9T2JqZWN0LmZyZWV6ZSh7YXBwbGljYXRpb25DdXJzb3JLZXlzOiExLGFwcGxpY2F0aW9uS2V5cGFkOiExLGJyYWNrZXRlZFBhc3RlTW9kZTohMSxvcmlnaW46ITEscmV2ZXJzZVdyYXBhcm91bmQ6ITEsc2VuZEZvY3VzOiExLHdyYXBhcm91bmQ6ITB9KSxfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyLGksbil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLl9idWZmZXJTZXJ2aWNlPXIsby5fbG9nU2VydmljZT1pLG8uX29wdGlvbnNTZXJ2aWNlPW4sby5pc0N1cnNvckluaXRpYWxpemVkPSExLG8uaXNDdXJzb3JIaWRkZW49ITEsby5fb25EYXRhPW8ucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSxvLl9vblVzZXJJbnB1dD1vLnJlZ2lzdGVyKG5ldyBjLkV2ZW50RW1pdHRlciksby5fb25CaW5hcnk9by5yZWdpc3RlcihuZXcgYy5FdmVudEVtaXR0ZXIpLG8uX3Njcm9sbFRvQm90dG9tPXQsby5yZWdpc3Rlcih7ZGlzcG9zZTpmdW5jdGlvbigpe3JldHVybiBvLl9zY3JvbGxUb0JvdHRvbT12b2lkIDB9fSksby5tb2Rlcz0oMCxsLmNsb25lKSh1KSxvLmRlY1ByaXZhdGVNb2Rlcz0oMCxsLmNsb25lKShmKSxvfXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25EYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkRhdGEuZXZlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25Vc2VySW5wdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uVXNlcklucHV0LmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm9uQmluYXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkJpbmFyeS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubW9kZXM9KDAsbC5jbG9uZSkodSksdGhpcy5kZWNQcml2YXRlTW9kZXM9KDAsbC5jbG9uZSkoZil9LHQucHJvdG90eXBlLnRyaWdnZXJEYXRhRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD0hMSksIXRoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZGlzYWJsZVN0ZGluKXt2YXIgcj10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlcjtyLnliYXNlIT09ci55ZGlzcCYmdGhpcy5fc2Nyb2xsVG9Cb3R0b20oKSx0JiZ0aGlzLl9vblVzZXJJbnB1dC5maXJlKCksdGhpcy5fbG9nU2VydmljZS5kZWJ1Zygnc2VuZGluZyBkYXRhIFwiJytlKydcIicsKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3BsaXQoXCJcIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQ29kZUF0KDApfSkpfSkpLHRoaXMuX29uRGF0YS5maXJlKGUpfX0sdC5wcm90b3R5cGUudHJpZ2dlckJpbmFyeUV2ZW50PWZ1bmN0aW9uKGUpe3RoaXMuX29wdGlvbnNTZXJ2aWNlLnJhd09wdGlvbnMuZGlzYWJsZVN0ZGlufHwodGhpcy5fbG9nU2VydmljZS5kZWJ1Zygnc2VuZGluZyBiaW5hcnkgXCInK2UrJ1wiJywoZnVuY3Rpb24oKXtyZXR1cm4gZS5zcGxpdChcIlwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCl9KSl9KSksdGhpcy5fb25CaW5hcnkuZmlyZShlKSl9LG8oW3MoMSxhLklCdWZmZXJTZXJ2aWNlKSxzKDIsYS5JTG9nU2VydmljZSkscygzLGEuSU9wdGlvbnNTZXJ2aWNlKV0sdCl9KGguRGlzcG9zYWJsZSk7dC5Db3JlU2VydmljZT1ffSw5MDc0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuPXRoaXMmJnRoaXMuX19leHRlbmRzfHwoaT1mdW5jdGlvbihlLHQpe3JldHVybiBpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0saShlLHQpfSxmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9aShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0pLG89dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm5bMF0pdGhyb3cgblsxXTtyZXR1cm4gblsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKHI9MSxpJiYobj0yJm9bMF0/aS5yZXR1cm46b1swXT9pLnRocm93fHwoKG49aS5yZXR1cm4pJiZuLmNhbGwoaSksMCk6aS5uZXh0KSYmIShuPW4uY2FsbChpLG9bMV0pKS5kb25lKXJldHVybiBuO3N3aXRjaChpPTAsbiYmKG89WzImb1swXSxuLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTpuPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxpPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISgobj0obj1zLnRyeXMpLmxlbmd0aD4wJiZuW24ubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIW58fG9bMV0+blswXSYmb1sxXTxuWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPG5bMV0pe3MubGFiZWw9blsxXSxuPW87YnJlYWt9aWYobiYmcy5sYWJlbDxuWzJdKXtzLmxhYmVsPW5bMl0scy5vcHMucHVzaChvKTticmVha31uWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLGk9MH1maW5hbGx5e3I9bj0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX0scz10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRlY29yYXRpb25TZXJ2aWNlPXZvaWQgMDt2YXIgYT1yKDgwNTUpLGM9cig4NDYwKSxsPXIoODQ0KSxoPXIoNjEwNiksdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0Ll9kZWNvcmF0aW9ucz1uZXcgaC5Tb3J0ZWRMaXN0KChmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrZXIubGluZX0pKSx0Ll9vbkRlY29yYXRpb25SZWdpc3RlcmVkPXQucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSx0Ll9vbkRlY29yYXRpb25SZW1vdmVkPXQucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSx0fXJldHVybiBuKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib25EZWNvcmF0aW9uUmVnaXN0ZXJlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25EZWNvcmF0aW9uUmVnaXN0ZXJlZC5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvbkRlY29yYXRpb25SZW1vdmVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkRlY29yYXRpb25SZW1vdmVkLmV2ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRlY29yYXRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWNvcmF0aW9ucy52YWx1ZXMoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZWdpc3RlckRlY29yYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5tYXJrZXIuaXNEaXNwb3NlZCl7dmFyIHI9bmV3IGYoZSk7aWYocil7dmFyIGk9ci5tYXJrZXIub25EaXNwb3NlKChmdW5jdGlvbigpe3JldHVybiByLmRpc3Bvc2UoKX0pKTtyLm9uRGlzcG9zZSgoZnVuY3Rpb24oKXtyJiYodC5fZGVjb3JhdGlvbnMuZGVsZXRlKHIpJiZ0Ll9vbkRlY29yYXRpb25SZW1vdmVkLmZpcmUociksaS5kaXNwb3NlKCkpfSkpLHRoaXMuX2RlY29yYXRpb25zLmluc2VydChyKSx0aGlzLl9vbkRlY29yYXRpb25SZWdpc3RlcmVkLmZpcmUocil9cmV0dXJuIHJ9fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e2Zvcih2YXIgcj1zKHRoaXMuX2RlY29yYXRpb25zLnZhbHVlcygpKSxpPXIubmV4dCgpOyFpLmRvbmU7aT1yLm5leHQoKSlpLnZhbHVlLmRpc3Bvc2UoKX1jYXRjaCh0KXtlPXtlcnJvcjp0fX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYodD1yLnJldHVybikmJnQuY2FsbChyKX1maW5hbGx5e2lmKGUpdGhyb3cgZS5lcnJvcn19dGhpcy5fZGVjb3JhdGlvbnMuY2xlYXIoKX0sdC5wcm90b3R5cGUuZ2V0RGVjb3JhdGlvbnNBdExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcywoZnVuY3Rpb24odCl7cmV0dXJuWzIsdGhpcy5fZGVjb3JhdGlvbnMuZ2V0S2V5SXRlcmF0b3IoZSldfSkpfSx0LnByb3RvdHlwZS5nZXREZWNvcmF0aW9uc0F0Q2VsbD1mdW5jdGlvbihlLHQscil7dmFyIGksbixhLGMsbCxoLHUsZixfLGQscDtyZXR1cm4gbyh0aGlzLChmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOmk9MCxuPTAsby5sYWJlbD0xO2Nhc2UgMTpvLnRyeXMucHVzaChbMSw2LDcsOF0pLGE9cyh0aGlzLl9kZWNvcmF0aW9ucy5nZXRLZXlJdGVyYXRvcih0KSksYz1hLm5leHQoKSxvLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBjLmRvbmU/WzMsNV06KGw9Yy52YWx1ZSxpPW51bGwhPT0oXz1sLm9wdGlvbnMueCkmJnZvaWQgMCE9PV8/XzowLG49aSsobnVsbCE9PShkPWwub3B0aW9ucy53aWR0aCkmJnZvaWQgMCE9PWQ/ZDoxKSwhKGU+PWkmJmU8bil8fHImJihudWxsIT09KHA9bC5vcHRpb25zLmxheWVyKSYmdm9pZCAwIT09cD9wOlwiYm90dG9tXCIpIT09cj9bMyw0XTpbNCxsXSk7Y2FzZSAzOm8uc2VudCgpLG8ubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIGM9YS5uZXh0KCksWzMsMl07Y2FzZSA1OnJldHVyblszLDhdO2Nhc2UgNjpyZXR1cm4gaD1vLnNlbnQoKSx1PXtlcnJvcjpofSxbMyw4XTtjYXNlIDc6dHJ5e2MmJiFjLmRvbmUmJihmPWEucmV0dXJuKSYmZi5jYWxsKGEpfWZpbmFsbHl7aWYodSl0aHJvdyB1LmVycm9yfXJldHVybls3XTtjYXNlIDg6cmV0dXJuWzJdfX0pKX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e2Zvcih2YXIgcj1zKHRoaXMuX2RlY29yYXRpb25zLnZhbHVlcygpKSxpPXIubmV4dCgpOyFpLmRvbmU7aT1yLm5leHQoKSl7dmFyIG49aS52YWx1ZTt0aGlzLl9vbkRlY29yYXRpb25SZW1vdmVkLmZpcmUobil9fWNhdGNoKHQpe2U9e2Vycm9yOnR9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJih0PXIucmV0dXJuKSYmdC5jYWxsKHIpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10aGlzLnJlc2V0KCl9LHR9KGwuRGlzcG9zYWJsZSk7dC5EZWNvcmF0aW9uU2VydmljZT11O3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLm9wdGlvbnM9dCxyLmlzRGlzcG9zZWQ9ITEsci5vblJlbmRlckVtaXR0ZXI9ci5yZWdpc3RlcihuZXcgYy5FdmVudEVtaXR0ZXIpLHIub25SZW5kZXI9ci5vblJlbmRlckVtaXR0ZXIuZXZlbnQsci5fb25EaXNwb3NlPXIucmVnaXN0ZXIobmV3IGMuRXZlbnRFbWl0dGVyKSxyLm9uRGlzcG9zZT1yLl9vbkRpc3Bvc2UuZXZlbnQsci5fY2FjaGVkQmc9bnVsbCxyLl9jYWNoZWRGZz1udWxsLHIubWFya2VyPXQubWFya2VyLHIub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucyYmIXIub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbiYmKHIub3B0aW9ucy5vdmVydmlld1J1bGVyT3B0aW9ucy5wb3NpdGlvbj1cImZ1bGxcIikscn1yZXR1cm4gbih0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJhY2tncm91bmRDb2xvclJHQlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2NhY2hlZEJnJiYodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcj90aGlzLl9jYWNoZWRCZz1hLmNzcy50b0NvbG9yKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpOnRoaXMuX2NhY2hlZEJnPXZvaWQgMCksdGhpcy5fY2FjaGVkQmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZm9yZWdyb3VuZENvbG9yUkdCXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fY2FjaGVkRmcmJih0aGlzLm9wdGlvbnMuZm9yZWdyb3VuZENvbG9yP3RoaXMuX2NhY2hlZEZnPWEuY3NzLnRvQ29sb3IodGhpcy5vcHRpb25zLmZvcmVncm91bmRDb2xvcik6dGhpcy5fY2FjaGVkRmc9dm9pZCAwKSx0aGlzLl9jYWNoZWRGZ30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXNwb3NlZHx8KHRoaXMuX2lzRGlzcG9zZWQ9ITAsdGhpcy5fb25EaXNwb3NlLmZpcmUoKSxlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcykpfSx0fShsLkRpc3Bvc2FibGUpfSwzNzMwOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fZGVjb3JhdGV8fGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxyLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKG49ZVthXSkmJihzPShvPDM/bihzKTpvPjM/bih0LHIscyk6bih0LHIpKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixzKSxzfSxuPXRoaXMmJnRoaXMuX19wYXJhbXx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixpKXt0KHIsaSxlKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRGlydHlSb3dTZXJ2aWNlPXZvaWQgMDt2YXIgbz1yKDI1ODUpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2J1ZmZlclNlcnZpY2U9ZSx0aGlzLmNsZWFyUmFuZ2UoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmNsZWFyUmFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55LHRoaXMuX2VuZD10aGlzLl9idWZmZXJTZXJ2aWNlLmJ1ZmZlci55fSxlLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oZSl7ZTx0aGlzLl9zdGFydD90aGlzLl9zdGFydD1lOmU+dGhpcy5fZW5kJiYodGhpcy5fZW5kPWUpfSxlLnByb3RvdHlwZS5tYXJrUmFuZ2VEaXJ0eT1mdW5jdGlvbihlLHQpe2lmKGU+dCl7dmFyIHI9ZTtlPXQsdD1yfWU8dGhpcy5fc3RhcnQmJih0aGlzLl9zdGFydD1lKSx0PnRoaXMuX2VuZCYmKHRoaXMuX2VuZD10KX0sZS5wcm90b3R5cGUubWFya0FsbERpcnR5PWZ1bmN0aW9uKCl7dGhpcy5tYXJrUmFuZ2VEaXJ0eSgwLHRoaXMuX2J1ZmZlclNlcnZpY2Uucm93cy0xKX0saShbbigwLG8uSUJ1ZmZlclNlcnZpY2UpXSxlKX0oKTt0LkRpcnR5Um93U2VydmljZT1zfSw0MzQ4OmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzJiZ0aGlzLl9fdmFsdWVzfHxmdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPXQmJmVbdF0saT0wO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpcmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSYmaT49ZS5sZW5ndGgmJihlPXZvaWQgMCkse3ZhbHVlOmUmJmVbaSsrXSxkb25lOiFlfX19O3Rocm93IG5ldyBUeXBlRXJyb3IodD9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfSxuPXRoaXMmJnRoaXMuX19yZWFkfHxmdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiBlO3ZhciBpLG4sbz1yLmNhbGwoZSkscz1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylzLnB1c2goaS52YWx1ZSl9Y2F0Y2goZSl7bj17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKHI9by5yZXR1cm4pJiZyLmNhbGwobyl9ZmluYWxseXtpZihuKXRocm93IG4uZXJyb3J9fXJldHVybiBzfSxvPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXx8ZnVuY3Rpb24oZSx0LHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgaSxuPTAsbz10Lmxlbmd0aDtuPG87bisrKSFpJiZuIGluIHR8fChpfHwoaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDAsbikpLGlbbl09dFtuXSk7cmV0dXJuIGUuY29uY2F0KGl8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbnN0YW50aWF0aW9uU2VydmljZT10LlNlcnZpY2VDb2xsZWN0aW9uPXZvaWQgMDt2YXIgcz1yKDI1ODUpLGE9cig4MzQzKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZSx0LHI9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspcltvXT1hcmd1bWVudHNbb107dGhpcy5fZW50cmllcz1uZXcgTWFwO3RyeXtmb3IodmFyIHM9aShyKSxhPXMubmV4dCgpOyFhLmRvbmU7YT1zLm5leHQoKSl7dmFyIGM9bihhLnZhbHVlLDIpLGw9Y1swXSxoPWNbMV07dGhpcy5zZXQobCxoKX19Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7YSYmIWEuZG9uZSYmKHQ9cy5yZXR1cm4pJiZ0LmNhbGwocyl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fZW50cmllcy5nZXQoZSk7cmV0dXJuIHRoaXMuX2VudHJpZXMuc2V0KGUsdCkscn0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt0aGlzLl9lbnRyaWVzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7cmV0dXJuIGUocix0KX0pKX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbnRyaWVzLmhhcyhlKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbnRyaWVzLmdldChlKX0sZX0oKTt0LlNlcnZpY2VDb2xsZWN0aW9uPWM7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fc2VydmljZXM9bmV3IGMsdGhpcy5fc2VydmljZXMuc2V0KHMuSUluc3RhbnRpYXRpb25TZXJ2aWNlLHRoaXMpfXJldHVybiBlLnByb3RvdHlwZS5zZXRTZXJ2aWNlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc2VydmljZXMuc2V0KGUsdCl9LGUucHJvdG90eXBlLmdldFNlcnZpY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NlcnZpY2VzLmdldChlKX0sZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIscz1bXSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylzW2MtMV09YXJndW1lbnRzW2NdO3ZhciBsPSgwLGEuZ2V0U2VydmljZURlcGVuZGVuY2llcykoZSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleC10LmluZGV4fSkpLGg9W107dHJ5e2Zvcih2YXIgdT1pKGwpLGY9dS5uZXh0KCk7IWYuZG9uZTtmPXUubmV4dCgpKXt2YXIgXz1mLnZhbHVlLGQ9dGhpcy5fc2VydmljZXMuZ2V0KF8uaWQpO2lmKCFkKXRocm93IG5ldyBFcnJvcihcIltjcmVhdGVJbnN0YW5jZV0gXCIrZS5uYW1lK1wiIGRlcGVuZHMgb24gVU5LTk9XTiBzZXJ2aWNlIFwiK18uaWQrXCIuXCIpO2gucHVzaChkKX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7ZiYmIWYuZG9uZSYmKHI9dS5yZXR1cm4pJiZyLmNhbGwodSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fXZhciBwPWwubGVuZ3RoPjA/bFswXS5pbmRleDpzLmxlbmd0aDtpZihzLmxlbmd0aCE9PXApdGhyb3cgbmV3IEVycm9yKFwiW2NyZWF0ZUluc3RhbmNlXSBGaXJzdCBzZXJ2aWNlIGRlcGVuZGVuY3kgb2YgXCIrZS5uYW1lK1wiIGF0IHBvc2l0aW9uIFwiKyhwKzEpK1wiIGNvbmZsaWN0cyB3aXRoIFwiK3MubGVuZ3RoK1wiIHN0YXRpYyBhcmd1bWVudHNcIik7cmV0dXJuIG5ldyhlLmJpbmQuYXBwbHkoZSxvKFt2b2lkIDBdLG4obyhvKFtdLG4ocyksITEpLG4oaCksITEpKSwhMSkpKX0sZX0oKTt0Lkluc3RhbnRpYXRpb25TZXJ2aWNlPWx9LDc4NjY6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19kZWNvcmF0ZXx8ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LHIsaSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkobj1lW2FdKSYmKHM9KG88Mz9uKHMpOm8+Mz9uKHQscixzKTpuKHQscikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHMpLHN9LG49dGhpcyYmdGhpcy5fX3BhcmFtfHxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3QocixpLGUpfX0sbz10aGlzJiZ0aGlzLl9fcmVhZHx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXTtpZighcilyZXR1cm4gZTt2YXIgaSxuLG89ci5jYWxsKGUpLHM9W107dHJ5e2Zvcig7KHZvaWQgMD09PXR8fHQtLSA+MCkmJiEoaT1vLm5leHQoKSkuZG9uZTspcy5wdXNoKGkudmFsdWUpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihyPW8ucmV0dXJuKSYmci5jYWxsKG8pfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gc30scz10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXl8fGZ1bmN0aW9uKGUsdCxyKXtpZihyfHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGksbj0wLG89dC5sZW5ndGg7bjxvO24rKykhaSYmbiBpbiB0fHwoaXx8KGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLG4pKSxpW25dPXRbbl0pO3JldHVybiBlLmNvbmNhdChpfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuTG9nU2VydmljZT12b2lkIDA7dmFyIGE9cigyNTg1KSxjPXtkZWJ1ZzphLkxvZ0xldmVsRW51bS5ERUJVRyxpbmZvOmEuTG9nTGV2ZWxFbnVtLklORk8sd2FybjphLkxvZ0xldmVsRW51bS5XQVJOLGVycm9yOmEuTG9nTGV2ZWxFbnVtLkVSUk9SLG9mZjphLkxvZ0xldmVsRW51bS5PRkZ9LGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy5fb3B0aW9uc1NlcnZpY2U9ZSx0aGlzLmxvZ0xldmVsPWEuTG9nTGV2ZWxFbnVtLk9GRix0aGlzLl91cGRhdGVMb2dMZXZlbCgpLHRoaXMuX29wdGlvbnNTZXJ2aWNlLm9uT3B0aW9uQ2hhbmdlKChmdW5jdGlvbihlKXtcImxvZ0xldmVsXCI9PT1lJiZ0Ll91cGRhdGVMb2dMZXZlbCgpfSkpfXJldHVybiBlLnByb3RvdHlwZS5fdXBkYXRlTG9nTGV2ZWw9ZnVuY3Rpb24oKXt0aGlzLmxvZ0xldmVsPWNbdGhpcy5fb3B0aW9uc1NlcnZpY2UucmF3T3B0aW9ucy5sb2dMZXZlbF19LGUucHJvdG90eXBlLl9ldmFsTGF6eU9wdGlvbmFsUGFyYW1zPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKVwiZnVuY3Rpb25cIj09dHlwZW9mIGVbdF0mJihlW3RdPWVbdF0oKSl9LGUucHJvdG90eXBlLl9sb2c9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2V2YWxMYXp5T3B0aW9uYWxQYXJhbXMociksZS5jYWxsLmFwcGx5KGUscyhbY29uc29sZSxcInh0ZXJtLmpzOiBcIit0XSxvKHIpLCExKSl9LGUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3RoaXMubG9nTGV2ZWw8PWEuTG9nTGV2ZWxFbnVtLkRFQlVHJiZ0aGlzLl9sb2coY29uc29sZS5sb2csZSx0KX0sZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmxvZ0xldmVsPD1hLkxvZ0xldmVsRW51bS5JTkZPJiZ0aGlzLl9sb2coY29uc29sZS5pbmZvLGUsdCl9LGUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07dGhpcy5sb2dMZXZlbDw9YS5Mb2dMZXZlbEVudW0uV0FSTiYmdGhpcy5fbG9nKGNvbnNvbGUud2FybixlLHQpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTt0aGlzLmxvZ0xldmVsPD1hLkxvZ0xldmVsRW51bS5FUlJPUiYmdGhpcy5fbG9nKGNvbnNvbGUuZXJyb3IsZSx0KX0saShbbigwLGEuSU9wdGlvbnNTZXJ2aWNlKV0sZSl9KCk7dC5Mb2dTZXJ2aWNlPWx9LDczMDI6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxpPWFyZ3VtZW50cy5sZW5ndGg7cjxpO3IrKylmb3IodmFyIG4gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBlfSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5PcHRpb25zU2VydmljZT10LkRFRkFVTFRfT1BUSU9OUz10LkRFRkFVTFRfQkVMTF9TT1VORD12b2lkIDA7dmFyIG49cig4NDYwKSxvPXIoNjExNCk7dC5ERUZBVUxUX0JFTExfU09VTkQ9XCJkYXRhOmF1ZGlvL21wMztiYXNlNjQsU1VRekJBQUFBQUFBSTFSVFUwVUFBQUFQQUFBRFRHRjJaalU0TGpNeUxqRXdOQUFBQUFBQUFBQUFBQUFBLy90UXhBQURCOEFoU214aElJRVZDU2lKckRDUUJUY3UzVXJBSXdVZGtSZ1FiRkFaQzFDUUV3VEo5bWpSdkJBNFVPTEQ4bktWT1dmaCtVbEszei8xNzdPWHJmT2RLbDdweW4zWGYvL1dyZXlUUlVvQVdnQmdrT0FHYlpIQmdHMU9GNnpNODJEV2JaYVVtTUJwdGdRaEdqc3lZcWM5YWU5WEZ6MjgwOTQ4Tk1CV0lubGp5enNOUkZMUFdkblpHV3JkZERzaksxdW51U3JWTjlqSnNLOEt1UXRRQ3RNQmpDRXRJbUlTZE5LSk9vcElwQkZwTlNNYklIQ1NScFJSNWlha2pUaXl6TGhjaFVVQndDZ3lLaXdlQnYvN1VzUWJnOGlzVk5vTVBNakFBQUEwZ0FBQUJFVkZHbWdxSy8vLy85YlAvNlhDeWt4QlRVVXpMakV3TUtxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcVwiLHQuREVGQVVMVF9PUFRJT05TPXtjb2xzOjgwLHJvd3M6MjQsY3Vyc29yQmxpbms6ITEsY3Vyc29yU3R5bGU6XCJibG9ja1wiLGN1cnNvcldpZHRoOjEsY3VzdG9tR2x5cGhzOiEwLGJlbGxTb3VuZDp0LkRFRkFVTFRfQkVMTF9TT1VORCxiZWxsU3R5bGU6XCJub25lXCIsZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnM6ITAsZmFzdFNjcm9sbE1vZGlmaWVyOlwiYWx0XCIsZmFzdFNjcm9sbFNlbnNpdGl2aXR5OjUsZm9udEZhbWlseTpcImNvdXJpZXItbmV3LCBjb3VyaWVyLCBtb25vc3BhY2VcIixmb250U2l6ZToxNSxmb250V2VpZ2h0Olwibm9ybWFsXCIsZm9udFdlaWdodEJvbGQ6XCJib2xkXCIsbGluZUhlaWdodDoxLGxpbmtUb29sdGlwSG92ZXJEdXJhdGlvbjo1MDAsbGV0dGVyU3BhY2luZzowLGxvZ0xldmVsOlwiaW5mb1wiLHNjcm9sbGJhY2s6MWUzLHNjcm9sbFNlbnNpdGl2aXR5OjEsc2NyZWVuUmVhZGVyTW9kZTohMSxtYWNPcHRpb25Jc01ldGE6ITEsbWFjT3B0aW9uQ2xpY2tGb3JjZXNTZWxlY3Rpb246ITEsbWluaW11bUNvbnRyYXN0UmF0aW86MSxkaXNhYmxlU3RkaW46ITEsYWxsb3dQcm9wb3NlZEFwaTohMCxhbGxvd1RyYW5zcGFyZW5jeTohMSx0YWJTdG9wV2lkdGg6OCx0aGVtZTp7fSxyaWdodENsaWNrU2VsZWN0c1dvcmQ6by5pc01hYyxyZW5kZXJlclR5cGU6XCJjYW52YXNcIix3aW5kb3dPcHRpb25zOnt9LHdpbmRvd3NNb2RlOiExLHdvcmRTZXBhcmF0b3I6XCIgKClbXXt9JyxcXFwiYFwiLGFsdENsaWNrTW92ZXNDdXJzb3I6ITAsY29udmVydEVvbDohMSx0ZXJtTmFtZTpcInh0ZXJtXCIsY2FuY2VsRXZlbnRzOiExLG92ZXJ2aWV3UnVsZXJXaWR0aDp2b2lkIDB9O3ZhciBzPVtcIm5vcm1hbFwiLFwiYm9sZFwiLFwiMTAwXCIsXCIyMDBcIixcIjMwMFwiLFwiNDAwXCIsXCI1MDBcIixcIjYwMFwiLFwiNzAwXCIsXCI4MDBcIixcIjkwMFwiXSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9vbk9wdGlvbkNoYW5nZT1uZXcgbi5FdmVudEVtaXR0ZXI7dmFyIHI9aSh7fSx0LkRFRkFVTFRfT1BUSU9OUyk7Zm9yKHZhciBvIGluIGUpaWYobyBpbiByKXRyeXt2YXIgcz1lW29dO3Jbb109dGhpcy5fc2FuaXRpemVBbmRWYWxpZGF0ZU9wdGlvbihvLHMpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9dGhpcy5yYXdPcHRpb25zPXIsdGhpcy5vcHRpb25zPWkoe30sciksdGhpcy5fc2V0dXBPcHRpb25zKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uT3B0aW9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbk9wdGlvbkNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fc2V0dXBPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPWZ1bmN0aW9uKHIpe2lmKCEociBpbiB0LkRFRkFVTFRfT1BUSU9OUykpdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb24gd2l0aCBrZXkgXCInK3IrJ1wiJyk7cmV0dXJuIGUucmF3T3B0aW9uc1tyXX0saT1mdW5jdGlvbihyLGkpe2lmKCEociBpbiB0LkRFRkFVTFRfT1BUSU9OUykpdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb24gd2l0aCBrZXkgXCInK3IrJ1wiJyk7aT1lLl9zYW5pdGl6ZUFuZFZhbGlkYXRlT3B0aW9uKHIsaSksZS5yYXdPcHRpb25zW3JdIT09aSYmKGUucmF3T3B0aW9uc1tyXT1pLGUuX29uT3B0aW9uQ2hhbmdlLmZpcmUocikpfTtmb3IodmFyIG4gaW4gdGhpcy5yYXdPcHRpb25zKXt2YXIgbz17Z2V0OnIuYmluZCh0aGlzLG4pLHNldDppLmJpbmQodGhpcyxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3B0aW9ucyxuLG8pfX0sZS5wcm90b3R5cGUuc2V0T3B0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5vcHRpb25zW2VdPXR9LGUucHJvdG90eXBlLl9zYW5pdGl6ZUFuZFZhbGlkYXRlT3B0aW9uPWZ1bmN0aW9uKGUscil7c3dpdGNoKGUpe2Nhc2VcImJlbGxTdHlsZVwiOmNhc2VcImN1cnNvclN0eWxlXCI6Y2FzZVwicmVuZGVyZXJUeXBlXCI6Y2FzZVwid29yZFNlcGFyYXRvclwiOnJ8fChyPXQuREVGQVVMVF9PUFRJT05TW2VdKTticmVhaztjYXNlXCJmb250V2VpZ2h0XCI6Y2FzZVwiZm9udFdlaWdodEJvbGRcIjppZihcIm51bWJlclwiPT10eXBlb2YgciYmMTw9ciYmcjw9MWUzKWJyZWFrO3I9cy5pbmNsdWRlcyhyKT9yOnQuREVGQVVMVF9PUFRJT05TW2VdO2JyZWFrO2Nhc2VcImN1cnNvcldpZHRoXCI6cj1NYXRoLmZsb29yKHIpO2Nhc2VcImxpbmVIZWlnaHRcIjpjYXNlXCJ0YWJTdG9wV2lkdGhcIjppZihyPDEpdGhyb3cgbmV3IEVycm9yKGUrXCIgY2Fubm90IGJlIGxlc3MgdGhhbiAxLCB2YWx1ZTogXCIrcik7YnJlYWs7Y2FzZVwibWluaW11bUNvbnRyYXN0UmF0aW9cIjpyPU1hdGgubWF4KDEsTWF0aC5taW4oMjEsTWF0aC5yb3VuZCgxMCpyKS8xMCkpO2JyZWFrO2Nhc2VcInNjcm9sbGJhY2tcIjppZigocj1NYXRoLm1pbihyLDQyOTQ5NjcyOTUpKTwwKXRocm93IG5ldyBFcnJvcihlK1wiIGNhbm5vdCBiZSBsZXNzIHRoYW4gMCwgdmFsdWU6IFwiK3IpO2JyZWFrO2Nhc2VcImZhc3RTY3JvbGxTZW5zaXRpdml0eVwiOmNhc2VcInNjcm9sbFNlbnNpdGl2aXR5XCI6aWYocjw9MCl0aHJvdyBuZXcgRXJyb3IoZStcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDAsIHZhbHVlOiBcIityKTtjYXNlXCJyb3dzXCI6Y2FzZVwiY29sc1wiOmlmKCFyJiYwIT09cil0aHJvdyBuZXcgRXJyb3IoZStcIiBtdXN0IGJlIG51bWVyaWMsIHZhbHVlOiBcIityKX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuZ2V0T3B0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnNbZV19LGV9KCk7dC5PcHRpb25zU2VydmljZT1hfSw4MzQzOihlLHQpPT57ZnVuY3Rpb24gcihlLHQscil7dC5kaSR0YXJnZXQ9PT10P3QuZGkkZGVwZW5kZW5jaWVzLnB1c2goe2lkOmUsaW5kZXg6cn0pOih0LmRpJGRlcGVuZGVuY2llcz1be2lkOmUsaW5kZXg6cn1dLHQuZGkkdGFyZ2V0PXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlRGVjb3JhdG9yPXQuZ2V0U2VydmljZURlcGVuZGVuY2llcz10LnNlcnZpY2VSZWdpc3RyeT12b2lkIDAsdC5zZXJ2aWNlUmVnaXN0cnk9bmV3IE1hcCx0LmdldFNlcnZpY2VEZXBlbmRlbmNpZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGkkZGVwZW5kZW5jaWVzfHxbXX0sdC5jcmVhdGVEZWNvcmF0b3I9ZnVuY3Rpb24oZSl7aWYodC5zZXJ2aWNlUmVnaXN0cnkuaGFzKGUpKXJldHVybiB0LnNlcnZpY2VSZWdpc3RyeS5nZXQoZSk7dmFyIGk9ZnVuY3Rpb24oZSx0LG4pe2lmKDMhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkBJU2VydmljZU5hbWUtZGVjb3JhdG9yIGNhbiBvbmx5IGJlIHVzZWQgdG8gZGVjb3JhdGUgYSBwYXJhbWV0ZXJcIik7cihpLGUsbil9O3JldHVybiBpLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuc2VydmljZVJlZ2lzdHJ5LnNldChlLGkpLGl9fSwyNTg1OihlLHQscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LklEZWNvcmF0aW9uU2VydmljZT10LklVbmljb2RlU2VydmljZT10LklPcHRpb25zU2VydmljZT10LklMb2dTZXJ2aWNlPXQuTG9nTGV2ZWxFbnVtPXQuSUluc3RhbnRpYXRpb25TZXJ2aWNlPXQuSURpcnR5Um93U2VydmljZT10LklDaGFyc2V0U2VydmljZT10LklDb3JlU2VydmljZT10LklDb3JlTW91c2VTZXJ2aWNlPXQuSUJ1ZmZlclNlcnZpY2U9dm9pZCAwO3ZhciBpLG49cig4MzQzKTt0LklCdWZmZXJTZXJ2aWNlPSgwLG4uY3JlYXRlRGVjb3JhdG9yKShcIkJ1ZmZlclNlcnZpY2VcIiksdC5JQ29yZU1vdXNlU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJDb3JlTW91c2VTZXJ2aWNlXCIpLHQuSUNvcmVTZXJ2aWNlPSgwLG4uY3JlYXRlRGVjb3JhdG9yKShcIkNvcmVTZXJ2aWNlXCIpLHQuSUNoYXJzZXRTZXJ2aWNlPSgwLG4uY3JlYXRlRGVjb3JhdG9yKShcIkNoYXJzZXRTZXJ2aWNlXCIpLHQuSURpcnR5Um93U2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJEaXJ0eVJvd1NlcnZpY2VcIiksdC5JSW5zdGFudGlhdGlvblNlcnZpY2U9KDAsbi5jcmVhdGVEZWNvcmF0b3IpKFwiSW5zdGFudGlhdGlvblNlcnZpY2VcIiksKGk9dC5Mb2dMZXZlbEVudW18fCh0LkxvZ0xldmVsRW51bT17fSkpW2kuREVCVUc9MF09XCJERUJVR1wiLGlbaS5JTkZPPTFdPVwiSU5GT1wiLGlbaS5XQVJOPTJdPVwiV0FSTlwiLGlbaS5FUlJPUj0zXT1cIkVSUk9SXCIsaVtpLk9GRj00XT1cIk9GRlwiLHQuSUxvZ1NlcnZpY2U9KDAsbi5jcmVhdGVEZWNvcmF0b3IpKFwiTG9nU2VydmljZVwiKSx0LklPcHRpb25zU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJPcHRpb25zU2VydmljZVwiKSx0LklVbmljb2RlU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJVbmljb2RlU2VydmljZVwiKSx0LklEZWNvcmF0aW9uU2VydmljZT0oMCxuLmNyZWF0ZURlY29yYXRvcikoXCJEZWNvcmF0aW9uU2VydmljZVwiKX0sMTQ4MDooZSx0LHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Vbmljb2RlU2VydmljZT12b2lkIDA7dmFyIGk9cig4NDYwKSxuPXIoMjI1KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX3Byb3ZpZGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FjdGl2ZT1cIlwiLHRoaXMuX29uQ2hhbmdlPW5ldyBpLkV2ZW50RW1pdHRlcjt2YXIgZT1uZXcgbi5Vbmljb2RlVjY7dGhpcy5yZWdpc3RlcihlKSx0aGlzLl9hY3RpdmU9ZS52ZXJzaW9uLHRoaXMuX2FjdGl2ZVByb3ZpZGVyPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkNoYW5nZS5ldmVudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2ZXJzaW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5fcHJvdmlkZXJzKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RpdmVWZXJzaW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmV9LHNldDpmdW5jdGlvbihlKXtpZighdGhpcy5fcHJvdmlkZXJzW2VdKXRocm93IG5ldyBFcnJvcigndW5rbm93biBVbmljb2RlIHZlcnNpb24gXCInK2UrJ1wiJyk7dGhpcy5fYWN0aXZlPWUsdGhpcy5fYWN0aXZlUHJvdmlkZXI9dGhpcy5fcHJvdmlkZXJzW2VdLHRoaXMuX29uQ2hhbmdlLmZpcmUoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcHJvdmlkZXJzW2UudmVyc2lvbl09ZX0sZS5wcm90b3R5cGUud2N3aWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYWN0aXZlUHJvdmlkZXIud2N3aWR0aChlKX0sZS5wcm90b3R5cGUuZ2V0U3RyaW5nQ2VsbFdpZHRoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9ZS5sZW5ndGgsaT0wO2k8cjsrK2kpe3ZhciBuPWUuY2hhckNvZGVBdChpKTtpZig1NTI5Njw9biYmbjw9NTYzMTkpe2lmKCsraT49cilyZXR1cm4gdCt0aGlzLndjd2lkdGgobik7dmFyIG89ZS5jaGFyQ29kZUF0KGkpOzU2MzIwPD1vJiZvPD01NzM0Mz9uPTEwMjQqKG4tNTUyOTYpK28tNTYzMjArNjU1MzY6dCs9dGhpcy53Y3dpZHRoKG8pfXQrPXRoaXMud2N3aWR0aChuKX1yZXR1cm4gdH0sZX0oKTt0LlVuaWNvZGVTZXJ2aWNlPW99fSx0PXt9O3JldHVybiBmdW5jdGlvbiByKGkpe3ZhciBuPXRbaV07aWYodm9pZCAwIT09bilyZXR1cm4gbi5leHBvcnRzO3ZhciBvPXRbaV09e2V4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8uZXhwb3J0c30oNDM4OSl9KSgpfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eHRlcm0uanMubWFwIiwiLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcclxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcclxuICAgICAgICAvLyBsaWtlIE5vZGUuXHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXHJcbiAgICAgICAgcm9vdC5EZWNvZGVyID0gZmFjdG9yeSgpO1xyXG4gICAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICBcclxuICB2YXIgZ2xvYmFsO1xyXG4gIFxyXG4gIGZ1bmN0aW9uIGluaXRnbG9iYWwoKXtcclxuICAgIGdsb2JhbCA9IHRoaXM7XHJcbiAgICBpZiAoIWdsb2JhbCl7XHJcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgIGdsb2JhbCA9IHdpbmRvdztcclxuICAgICAgfWVsc2UgaWYgKHR5cGVvZiBzZWxmICE9IFwidW5kZWZpbmVkXCIpe1xyXG4gICAgICAgIGdsb2JhbCA9IHNlbGY7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgaW5pdGdsb2JhbCgpO1xyXG4gIFxyXG4gIFxyXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgfTtcclxuXHJcbiAgXHJcbiAgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xyXG4gICAgaWYgKCFjb25kaXRpb24pIHtcclxuICAgICAgZXJyb3IobWVzc2FnZSk7XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgXHJcbiAgdmFyIGdldE1vZHVsZSA9IGZ1bmN0aW9uKHBhcl9icm9hZHdheU9uSGVhZGVyc0RlY29kZWQsIHBhcl9icm9hZHdheU9uUGljdHVyZURlY29kZWQpe1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8qdmFyIE1vZHVsZVggPSB7XHJcbiAgICAgICdwcmludCc6IGZ1bmN0aW9uKHRleHQpIHsgY29uc29sZS5sb2coJ3N0ZG91dDogJyArIHRleHQpOyB9LFxyXG4gICAgICAncHJpbnRFcnInOiBmdW5jdGlvbih0ZXh0KSB7IGNvbnNvbGUubG9nKCdzdGRlcnI6ICcgKyB0ZXh0KTsgfVxyXG4gICAgfTsqL1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8qXHJcbiAgICBcclxuICAgICAgVGhlIHJlYXNvbiB3aHkgdGhpcyBpcyBhbGwgcGFja2VkIGludG8gb25lIGZpbGUgaXMgdGhhdCB0aGlzIGZpbGUgY2FuIGFsc28gZnVuY3Rpb24gYXMgd29ya2VyLlxyXG4gICAgICB5b3UgY2FuIGludGVncmF0ZSB0aGUgZmlsZSBpbnRvIHlvdXIgYnVpbGQgc3lzdGVtIGFuZCBwcm92aWRlIHRoZSBvcmlnaW5hbCBmaWxlIHRvIGJlIGxvYWRlZCBpbnRvIGEgd29ya2VyLlxyXG4gICAgXHJcbiAgICAqL1xyXG4gICAgXHJcbiAgICAvL3ZhciBNb2R1bGUgPSAoZnVuY3Rpb24oKXtcclxuICAgIFxyXG4gICAgXHJcbnZhciBNb2R1bGU9dHlwZW9mIE1vZHVsZSE9PVwidW5kZWZpbmVkXCI/TW9kdWxlOnt9O3ZhciBtb2R1bGVPdmVycmlkZXM9e307dmFyIGtleTtmb3Ioa2V5IGluIE1vZHVsZSl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpe21vZHVsZU92ZXJyaWRlc1trZXldPU1vZHVsZVtrZXldfX1Nb2R1bGVbXCJhcmd1bWVudHNcIl09W107TW9kdWxlW1widGhpc1Byb2dyYW1cIl09XCIuL3RoaXMucHJvZ3JhbVwiO01vZHVsZVtcInF1aXRcIl09KGZ1bmN0aW9uKHN0YXR1cyx0b1Rocm93KXt0aHJvdyB0b1Rocm93fSk7TW9kdWxlW1wicHJlUnVuXCJdPVtdO01vZHVsZVtcInBvc3RSdW5cIl09W107dmFyIEVOVklST05NRU5UX0lTX1dFQj1mYWxzZTt2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSPWZhbHNlO3ZhciBFTlZJUk9OTUVOVF9JU19OT0RFPWZhbHNlO3ZhciBFTlZJUk9OTUVOVF9JU19TSEVMTD1mYWxzZTtpZihNb2R1bGVbXCJFTlZJUk9OTUVOVFwiXSl7aWYoTW9kdWxlW1wiRU5WSVJPTk1FTlRcIl09PT1cIldFQlwiKXtFTlZJUk9OTUVOVF9JU19XRUI9dHJ1ZX1lbHNlIGlmKE1vZHVsZVtcIkVOVklST05NRU5UXCJdPT09XCJXT1JLRVJcIil7RU5WSVJPTk1FTlRfSVNfV09SS0VSPXRydWV9ZWxzZSBpZihNb2R1bGVbXCJFTlZJUk9OTUVOVFwiXT09PVwiTk9ERVwiKXtFTlZJUk9OTUVOVF9JU19OT0RFPXRydWV9ZWxzZSBpZihNb2R1bGVbXCJFTlZJUk9OTUVOVFwiXT09PVwiU0hFTExcIil7RU5WSVJPTk1FTlRfSVNfU0hFTEw9dHJ1ZX1lbHNle3Rocm93IG5ldyBFcnJvcihcIk1vZHVsZVsnRU5WSVJPTk1FTlQnXSB2YWx1ZSBpcyBub3QgdmFsaWQuIG11c3QgYmUgb25lIG9mOiBXRUJ8V09SS0VSfE5PREV8U0hFTEwuXCIpfX1lbHNle0VOVklST05NRU5UX0lTX1dFQj10eXBlb2Ygd2luZG93PT09XCJvYmplY3RcIjtFTlZJUk9OTUVOVF9JU19XT1JLRVI9dHlwZW9mIGltcG9ydFNjcmlwdHM9PT1cImZ1bmN0aW9uXCI7RU5WSVJPTk1FTlRfSVNfTk9ERT10eXBlb2YgcHJvY2Vzcz09PVwib2JqZWN0XCImJnR5cGVvZiBudWxsPT09XCJmdW5jdGlvblwiJiYhRU5WSVJPTk1FTlRfSVNfV0VCJiYhRU5WSVJPTk1FTlRfSVNfV09SS0VSO0VOVklST05NRU5UX0lTX1NIRUxMPSFFTlZJUk9OTUVOVF9JU19XRUImJiFFTlZJUk9OTUVOVF9JU19OT0RFJiYhRU5WSVJPTk1FTlRfSVNfV09SS0VSfWlmKEVOVklST05NRU5UX0lTX05PREUpe3ZhciBub2RlRlM7dmFyIG5vZGVQYXRoO01vZHVsZVtcInJlYWRcIl09ZnVuY3Rpb24gc2hlbGxfcmVhZChmaWxlbmFtZSxiaW5hcnkpe3ZhciByZXQ7aWYoIW5vZGVGUylub2RlRlM9KG51bGwpKFwiZnNcIik7aWYoIW5vZGVQYXRoKW5vZGVQYXRoPShudWxsKShcInBhdGhcIik7ZmlsZW5hbWU9bm9kZVBhdGhbXCJub3JtYWxpemVcIl0oZmlsZW5hbWUpO3JldD1ub2RlRlNbXCJyZWFkRmlsZVN5bmNcIl0oZmlsZW5hbWUpO3JldHVybiBiaW5hcnk/cmV0OnJldC50b1N0cmluZygpfTtNb2R1bGVbXCJyZWFkQmluYXJ5XCJdPWZ1bmN0aW9uIHJlYWRCaW5hcnkoZmlsZW5hbWUpe3ZhciByZXQ9TW9kdWxlW1wicmVhZFwiXShmaWxlbmFtZSx0cnVlKTtpZighcmV0LmJ1ZmZlcil7cmV0PW5ldyBVaW50OEFycmF5KHJldCl9YXNzZXJ0KHJldC5idWZmZXIpO3JldHVybiByZXR9O2lmKHByb2Nlc3NbXCJhcmd2XCJdLmxlbmd0aD4xKXtNb2R1bGVbXCJ0aGlzUHJvZ3JhbVwiXT1wcm9jZXNzW1wiYXJndlwiXVsxXS5yZXBsYWNlKC9cXFxcL2csXCIvXCIpfU1vZHVsZVtcImFyZ3VtZW50c1wiXT1wcm9jZXNzW1wiYXJndlwiXS5zbGljZSgyKTtpZih0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlW1wiZXhwb3J0c1wiXT1Nb2R1bGV9cHJvY2Vzc1tcIm9uXCJdKFwidW5jYXVnaHRFeGNlcHRpb25cIiwoZnVuY3Rpb24oZXgpe2lmKCEoZXggaW5zdGFuY2VvZiBFeGl0U3RhdHVzKSl7dGhyb3cgZXh9fSkpO3Byb2Nlc3NbXCJvblwiXShcInVuaGFuZGxlZFJlamVjdGlvblwiLChmdW5jdGlvbihyZWFzb24scCl7cHJvY2Vzc1tcImV4aXRcIl0oMSl9KSk7TW9kdWxlW1wiaW5zcGVjdFwiXT0oZnVuY3Rpb24oKXtyZXR1cm5cIltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdXCJ9KX1lbHNlIGlmKEVOVklST05NRU5UX0lTX1NIRUxMKXtpZih0eXBlb2YgcmVhZCE9XCJ1bmRlZmluZWRcIil7TW9kdWxlW1wicmVhZFwiXT1mdW5jdGlvbiBzaGVsbF9yZWFkKGYpe3JldHVybiByZWFkKGYpfX1Nb2R1bGVbXCJyZWFkQmluYXJ5XCJdPWZ1bmN0aW9uIHJlYWRCaW5hcnkoZil7dmFyIGRhdGE7aWYodHlwZW9mIHJlYWRidWZmZXI9PT1cImZ1bmN0aW9uXCIpe3JldHVybiBuZXcgVWludDhBcnJheShyZWFkYnVmZmVyKGYpKX1kYXRhPXJlYWQoZixcImJpbmFyeVwiKTthc3NlcnQodHlwZW9mIGRhdGE9PT1cIm9iamVjdFwiKTtyZXR1cm4gZGF0YX07aWYodHlwZW9mIHNjcmlwdEFyZ3MhPVwidW5kZWZpbmVkXCIpe01vZHVsZVtcImFyZ3VtZW50c1wiXT1zY3JpcHRBcmdzfWVsc2UgaWYodHlwZW9mIGFyZ3VtZW50cyE9XCJ1bmRlZmluZWRcIil7TW9kdWxlW1wiYXJndW1lbnRzXCJdPWFyZ3VtZW50c31pZih0eXBlb2YgcXVpdD09PVwiZnVuY3Rpb25cIil7TW9kdWxlW1wicXVpdFwiXT0oZnVuY3Rpb24oc3RhdHVzLHRvVGhyb3cpe3F1aXQoc3RhdHVzKX0pfX1lbHNlIGlmKEVOVklST05NRU5UX0lTX1dFQnx8RU5WSVJPTk1FTlRfSVNfV09SS0VSKXtNb2R1bGVbXCJyZWFkXCJdPWZ1bmN0aW9uIHNoZWxsX3JlYWQodXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbihcIkdFVFwiLHVybCxmYWxzZSk7eGhyLnNlbmQobnVsbCk7cmV0dXJuIHhoci5yZXNwb25zZVRleHR9O2lmKEVOVklST05NRU5UX0lTX1dPUktFUil7TW9kdWxlW1wicmVhZEJpbmFyeVwiXT1mdW5jdGlvbiByZWFkQmluYXJ5KHVybCl7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO3hoci5zZW5kKG51bGwpO3JldHVybiBuZXcgVWludDhBcnJheSh4aHIucmVzcG9uc2UpfX1Nb2R1bGVbXCJyZWFkQXN5bmNcIl09ZnVuY3Rpb24gcmVhZEFzeW5jKHVybCxvbmxvYWQsb25lcnJvcil7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oXCJHRVRcIix1cmwsdHJ1ZSk7eGhyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7eGhyLm9ubG9hZD1mdW5jdGlvbiB4aHJfb25sb2FkKCl7aWYoeGhyLnN0YXR1cz09MjAwfHx4aHIuc3RhdHVzPT0wJiZ4aHIucmVzcG9uc2Upe29ubG9hZCh4aHIucmVzcG9uc2UpO3JldHVybn1vbmVycm9yKCl9O3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9O01vZHVsZVtcInNldFdpbmRvd1RpdGxlXCJdPShmdW5jdGlvbih0aXRsZSl7ZG9jdW1lbnQudGl0bGU9dGl0bGV9KX1lbHNle3Rocm93IG5ldyBFcnJvcihcIm5vdCBjb21waWxlZCBmb3IgdGhpcyBlbnZpcm9ubWVudFwiKX1Nb2R1bGVbXCJwcmludFwiXT10eXBlb2YgY29uc29sZSE9PVwidW5kZWZpbmVkXCI/Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTp0eXBlb2YgcHJpbnQhPT1cInVuZGVmaW5lZFwiP3ByaW50Om51bGw7TW9kdWxlW1wicHJpbnRFcnJcIl09dHlwZW9mIHByaW50RXJyIT09XCJ1bmRlZmluZWRcIj9wcmludEVycjp0eXBlb2YgY29uc29sZSE9PVwidW5kZWZpbmVkXCImJmNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpfHxNb2R1bGVbXCJwcmludFwiXTtNb2R1bGUucHJpbnQ9TW9kdWxlW1wicHJpbnRcIl07TW9kdWxlLnByaW50RXJyPU1vZHVsZVtcInByaW50RXJyXCJdO2ZvcihrZXkgaW4gbW9kdWxlT3ZlcnJpZGVzKXtpZihtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSl7TW9kdWxlW2tleV09bW9kdWxlT3ZlcnJpZGVzW2tleV19fW1vZHVsZU92ZXJyaWRlcz11bmRlZmluZWQ7dmFyIFNUQUNLX0FMSUdOPTE2O2Z1bmN0aW9uIHN0YXRpY0FsbG9jKHNpemUpe2Fzc2VydCghc3RhdGljU2VhbGVkKTt2YXIgcmV0PVNUQVRJQ1RPUDtTVEFUSUNUT1A9U1RBVElDVE9QK3NpemUrMTUmLTE2O3JldHVybiByZXR9ZnVuY3Rpb24gYWxpZ25NZW1vcnkoc2l6ZSxmYWN0b3Ipe2lmKCFmYWN0b3IpZmFjdG9yPVNUQUNLX0FMSUdOO3ZhciByZXQ9c2l6ZT1NYXRoLmNlaWwoc2l6ZS9mYWN0b3IpKmZhY3RvcjtyZXR1cm4gcmV0fXZhciBhc20yd2FzbUltcG9ydHM9e1wiZjY0LXJlbVwiOihmdW5jdGlvbih4LHkpe3JldHVybiB4JXl9KSxcImRlYnVnZ2VyXCI6KGZ1bmN0aW9uKCl7ZGVidWdnZXJ9KX07dmFyIGZ1bmN0aW9uUG9pbnRlcnM9bmV3IEFycmF5KDApO3ZhciBHTE9CQUxfQkFTRT0xMDI0O3ZhciBBQk9SVD0wO3ZhciBFWElUU1RBVFVTPTA7ZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbix0ZXh0KXtpZighY29uZGl0aW9uKXthYm9ydChcIkFzc2VydGlvbiBmYWlsZWQ6IFwiK3RleHQpfX1mdW5jdGlvbiBQb2ludGVyX3N0cmluZ2lmeShwdHIsbGVuZ3RoKXtpZihsZW5ndGg9PT0wfHwhcHRyKXJldHVyblwiXCI7dmFyIGhhc1V0Zj0wO3ZhciB0O3ZhciBpPTA7d2hpbGUoMSl7dD1IRUFQVThbcHRyK2k+PjBdO2hhc1V0Znw9dDtpZih0PT0wJiYhbGVuZ3RoKWJyZWFrO2krKztpZihsZW5ndGgmJmk9PWxlbmd0aClicmVha31pZighbGVuZ3RoKWxlbmd0aD1pO3ZhciByZXQ9XCJcIjtpZihoYXNVdGY8MTI4KXt2YXIgTUFYX0NIVU5LPTEwMjQ7dmFyIGN1cnI7d2hpbGUobGVuZ3RoPjApe2N1cnI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsSEVBUFU4LnN1YmFycmF5KHB0cixwdHIrTWF0aC5taW4obGVuZ3RoLE1BWF9DSFVOSykpKTtyZXQ9cmV0P3JldCtjdXJyOmN1cnI7cHRyKz1NQVhfQ0hVTks7bGVuZ3RoLT1NQVhfQ0hVTkt9cmV0dXJuIHJldH1yZXR1cm4gVVRGOFRvU3RyaW5nKHB0cil9dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9PVwidW5kZWZpbmVkXCI/bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTp1bmRlZmluZWQ7ZnVuY3Rpb24gVVRGOEFycmF5VG9TdHJpbmcodThBcnJheSxpZHgpe3ZhciBlbmRQdHI9aWR4O3doaWxlKHU4QXJyYXlbZW5kUHRyXSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZ1OEFycmF5LnN1YmFycmF5JiZVVEY4RGVjb2Rlcil7cmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZSh1OEFycmF5LnN1YmFycmF5KGlkeCxlbmRQdHIpKX1lbHNle3ZhciB1MCx1MSx1Mix1Myx1NCx1NTt2YXIgc3RyPVwiXCI7d2hpbGUoMSl7dTA9dThBcnJheVtpZHgrK107aWYoIXUwKXJldHVybiBzdHI7aWYoISh1MCYxMjgpKXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApO2NvbnRpbnVlfXUxPXU4QXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyMjQpPT0xOTIpe3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgodTAmMzEpPDw2fHUxKTtjb250aW51ZX11Mj11OEFycmF5W2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mn1lbHNle3UzPXU4QXJyYXlbaWR4KytdJjYzO2lmKCh1MCYyNDgpPT0yNDApe3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fHUzfWVsc2V7dTQ9dThBcnJheVtpZHgrK10mNjM7aWYoKHUwJjI1Mik9PTI0OCl7dTA9KHUwJjMpPDwyNHx1MTw8MTh8dTI8PDEyfHUzPDw2fHU0fWVsc2V7dTU9dThBcnJheVtpZHgrK10mNjM7dTA9KHUwJjEpPDwzMHx1MTw8MjR8dTI8PDE4fHUzPDwxMnx1NDw8Nnx1NX19fWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApfWVsc2V7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9fX19ZnVuY3Rpb24gVVRGOFRvU3RyaW5nKHB0cil7cmV0dXJuIFVURjhBcnJheVRvU3RyaW5nKEhFQVBVOCxwdHIpfXZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT09XCJ1bmRlZmluZWRcIj9uZXcgVGV4dERlY29kZXIoXCJ1dGYtMTZsZVwiKTp1bmRlZmluZWQ7dmFyIFdBU01fUEFHRV9TSVpFPTY1NTM2O3ZhciBBU01KU19QQUdFX1NJWkU9MTY3NzcyMTY7ZnVuY3Rpb24gYWxpZ25VcCh4LG11bHRpcGxlKXtpZih4JW11bHRpcGxlPjApe3grPW11bHRpcGxlLXglbXVsdGlwbGV9cmV0dXJuIHh9dmFyIGJ1ZmZlcixIRUFQOCxIRUFQVTgsSEVBUDE2LEhFQVBVMTYsSEVBUDMyLEhFQVBVMzIsSEVBUEYzMixIRUFQRjY0O2Z1bmN0aW9uIHVwZGF0ZUdsb2JhbEJ1ZmZlcihidWYpe01vZHVsZVtcImJ1ZmZlclwiXT1idWZmZXI9YnVmfWZ1bmN0aW9uIHVwZGF0ZUdsb2JhbEJ1ZmZlclZpZXdzKCl7TW9kdWxlW1wiSEVBUDhcIl09SEVBUDg9bmV3IEludDhBcnJheShidWZmZXIpO01vZHVsZVtcIkhFQVAxNlwiXT1IRUFQMTY9bmV3IEludDE2QXJyYXkoYnVmZmVyKTtNb2R1bGVbXCJIRUFQMzJcIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGJ1ZmZlcik7TW9kdWxlW1wiSEVBUFU4XCJdPUhFQVBVOD1uZXcgVWludDhBcnJheShidWZmZXIpO01vZHVsZVtcIkhFQVBVMTZcIl09SEVBUFUxNj1uZXcgVWludDE2QXJyYXkoYnVmZmVyKTtNb2R1bGVbXCJIRUFQVTMyXCJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7TW9kdWxlW1wiSEVBUEYzMlwiXT1IRUFQRjMyPW5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtNb2R1bGVbXCJIRUFQRjY0XCJdPUhFQVBGNjQ9bmV3IEZsb2F0NjRBcnJheShidWZmZXIpfXZhciBTVEFUSUNfQkFTRSxTVEFUSUNUT1Asc3RhdGljU2VhbGVkO3ZhciBTVEFDS19CQVNFLFNUQUNLVE9QLFNUQUNLX01BWDt2YXIgRFlOQU1JQ19CQVNFLERZTkFNSUNUT1BfUFRSO1NUQVRJQ19CQVNFPVNUQVRJQ1RPUD1TVEFDS19CQVNFPVNUQUNLVE9QPVNUQUNLX01BWD1EWU5BTUlDX0JBU0U9RFlOQU1JQ1RPUF9QVFI9MDtzdGF0aWNTZWFsZWQ9ZmFsc2U7ZnVuY3Rpb24gYWJvcnRPbkNhbm5vdEdyb3dNZW1vcnkoKXthYm9ydChcIkNhbm5vdCBlbmxhcmdlIG1lbW9yeSBhcnJheXMuIEVpdGhlciAoMSkgY29tcGlsZSB3aXRoICAtcyBUT1RBTF9NRU1PUlk9WCAgd2l0aCBYIGhpZ2hlciB0aGFuIHRoZSBjdXJyZW50IHZhbHVlIFwiK1RPVEFMX01FTU9SWStcIiwgKDIpIGNvbXBpbGUgd2l0aCAgLXMgQUxMT1dfTUVNT1JZX0dST1dUSD0xICB3aGljaCBhbGxvd3MgaW5jcmVhc2luZyB0aGUgc2l6ZSBhdCBydW50aW1lLCBvciAoMykgaWYgeW91IHdhbnQgbWFsbG9jIHRvIHJldHVybiBOVUxMICgwKSBpbnN0ZWFkIG9mIHRoaXMgYWJvcnQsIGNvbXBpbGUgd2l0aCAgLXMgQUJPUlRJTkdfTUFMTE9DPTAgXCIpfWZ1bmN0aW9uIGVubGFyZ2VNZW1vcnkoKXthYm9ydE9uQ2Fubm90R3Jvd01lbW9yeSgpfXZhciBUT1RBTF9TVEFDSz1Nb2R1bGVbXCJUT1RBTF9TVEFDS1wiXXx8NTI0Mjg4MDt2YXIgVE9UQUxfTUVNT1JZPU1vZHVsZVtcIlRPVEFMX01FTU9SWVwiXXx8NTI0Mjg4MDA7aWYoVE9UQUxfTUVNT1JZPFRPVEFMX1NUQUNLKU1vZHVsZS5wcmludEVycihcIlRPVEFMX01FTU9SWSBzaG91bGQgYmUgbGFyZ2VyIHRoYW4gVE9UQUxfU1RBQ0ssIHdhcyBcIitUT1RBTF9NRU1PUlkrXCIhIChUT1RBTF9TVEFDSz1cIitUT1RBTF9TVEFDSytcIilcIik7aWYoTW9kdWxlW1wiYnVmZmVyXCJdKXtidWZmZXI9TW9kdWxlW1wiYnVmZmVyXCJdfWVsc2V7aWYodHlwZW9mIFdlYkFzc2VtYmx5PT09XCJvYmplY3RcIiYmdHlwZW9mIFdlYkFzc2VtYmx5Lk1lbW9yeT09PVwiZnVuY3Rpb25cIil7TW9kdWxlW1wid2FzbU1lbW9yeVwiXT1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtcImluaXRpYWxcIjpUT1RBTF9NRU1PUlkvV0FTTV9QQUdFX1NJWkUsXCJtYXhpbXVtXCI6VE9UQUxfTUVNT1JZL1dBU01fUEFHRV9TSVpFfSk7YnVmZmVyPU1vZHVsZVtcIndhc21NZW1vcnlcIl0uYnVmZmVyfWVsc2V7YnVmZmVyPW5ldyBBcnJheUJ1ZmZlcihUT1RBTF9NRU1PUlkpfU1vZHVsZVtcImJ1ZmZlclwiXT1idWZmZXJ9dXBkYXRlR2xvYmFsQnVmZmVyVmlld3MoKTtmdW5jdGlvbiBnZXRUb3RhbE1lbW9yeSgpe3JldHVybiBUT1RBTF9NRU1PUll9SEVBUDMyWzBdPTE2Njg1MDkwMjk7SEVBUDE2WzFdPTI1NDU5O2lmKEhFQVBVOFsyXSE9PTExNXx8SEVBUFU4WzNdIT09OTkpdGhyb3dcIlJ1bnRpbWUgZXJyb3I6IGV4cGVjdGVkIHRoZSBzeXN0ZW0gdG8gYmUgbGl0dGxlLWVuZGlhbiFcIjtmdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3Mpe3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7dmFyIGNhbGxiYWNrPWNhbGxiYWNrcy5zaGlmdCgpO2lmKHR5cGVvZiBjYWxsYmFjaz09XCJmdW5jdGlvblwiKXtjYWxsYmFjaygpO2NvbnRpbnVlfXZhciBmdW5jPWNhbGxiYWNrLmZ1bmM7aWYodHlwZW9mIGZ1bmM9PT1cIm51bWJlclwiKXtpZihjYWxsYmFjay5hcmc9PT11bmRlZmluZWQpe01vZHVsZVtcImR5bkNhbGxfdlwiXShmdW5jKX1lbHNle01vZHVsZVtcImR5bkNhbGxfdmlcIl0oZnVuYyxjYWxsYmFjay5hcmcpfX1lbHNle2Z1bmMoY2FsbGJhY2suYXJnPT09dW5kZWZpbmVkP251bGw6Y2FsbGJhY2suYXJnKX19fXZhciBfX0FUUFJFUlVOX189W107dmFyIF9fQVRJTklUX189W107dmFyIF9fQVRNQUlOX189W107dmFyIF9fQVRFWElUX189W107dmFyIF9fQVRQT1NUUlVOX189W107dmFyIHJ1bnRpbWVJbml0aWFsaXplZD1mYWxzZTt2YXIgcnVudGltZUV4aXRlZD1mYWxzZTtmdW5jdGlvbiBwcmVSdW4oKXtpZihNb2R1bGVbXCJwcmVSdW5cIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwcmVSdW5cIl09PVwiZnVuY3Rpb25cIilNb2R1bGVbXCJwcmVSdW5cIl09W01vZHVsZVtcInByZVJ1blwiXV07d2hpbGUoTW9kdWxlW1wicHJlUnVuXCJdLmxlbmd0aCl7YWRkT25QcmVSdW4oTW9kdWxlW1wicHJlUnVuXCJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pfWZ1bmN0aW9uIGVuc3VyZUluaXRSdW50aW1lKCl7aWYocnVudGltZUluaXRpYWxpemVkKXJldHVybjtydW50aW1lSW5pdGlhbGl6ZWQ9dHJ1ZTtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKX1mdW5jdGlvbiBwcmVNYWluKCl7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVE1BSU5fXyl9ZnVuY3Rpb24gZXhpdFJ1bnRpbWUoKXtjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FURVhJVF9fKTtydW50aW1lRXhpdGVkPXRydWV9ZnVuY3Rpb24gcG9zdFJ1bigpe2lmKE1vZHVsZVtcInBvc3RSdW5cIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwb3N0UnVuXCJdPT1cImZ1bmN0aW9uXCIpTW9kdWxlW1wicG9zdFJ1blwiXT1bTW9kdWxlW1wicG9zdFJ1blwiXV07d2hpbGUoTW9kdWxlW1wicG9zdFJ1blwiXS5sZW5ndGgpe2FkZE9uUG9zdFJ1bihNb2R1bGVbXCJwb3N0UnVuXCJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKX1mdW5jdGlvbiBhZGRPblByZVJ1bihjYil7X19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpfWZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYil7X19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKX12YXIgTWF0aF9hYnM9TWF0aC5hYnM7dmFyIE1hdGhfY29zPU1hdGguY29zO3ZhciBNYXRoX3Npbj1NYXRoLnNpbjt2YXIgTWF0aF90YW49TWF0aC50YW47dmFyIE1hdGhfYWNvcz1NYXRoLmFjb3M7dmFyIE1hdGhfYXNpbj1NYXRoLmFzaW47dmFyIE1hdGhfYXRhbj1NYXRoLmF0YW47dmFyIE1hdGhfYXRhbjI9TWF0aC5hdGFuMjt2YXIgTWF0aF9leHA9TWF0aC5leHA7dmFyIE1hdGhfbG9nPU1hdGgubG9nO3ZhciBNYXRoX3NxcnQ9TWF0aC5zcXJ0O3ZhciBNYXRoX2NlaWw9TWF0aC5jZWlsO3ZhciBNYXRoX2Zsb29yPU1hdGguZmxvb3I7dmFyIE1hdGhfcG93PU1hdGgucG93O3ZhciBNYXRoX2ltdWw9TWF0aC5pbXVsO3ZhciBNYXRoX2Zyb3VuZD1NYXRoLmZyb3VuZDt2YXIgTWF0aF9yb3VuZD1NYXRoLnJvdW5kO3ZhciBNYXRoX21pbj1NYXRoLm1pbjt2YXIgTWF0aF9tYXg9TWF0aC5tYXg7dmFyIE1hdGhfY2x6MzI9TWF0aC5jbHozMjt2YXIgTWF0aF90cnVuYz1NYXRoLnRydW5jO3ZhciBydW5EZXBlbmRlbmNpZXM9MDt2YXIgcnVuRGVwZW5kZW5jeVdhdGNoZXI9bnVsbDt2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkPW51bGw7ZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzKys7aWYoTW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXSl7TW9kdWxlW1wibW9uaXRvclJ1bkRlcGVuZGVuY2llc1wiXShydW5EZXBlbmRlbmNpZXMpfX1mdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKXtydW5EZXBlbmRlbmNpZXMtLTtpZihNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKXtNb2R1bGVbXCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzXCJdKHJ1bkRlcGVuZGVuY2llcyl9aWYocnVuRGVwZW5kZW5jaWVzPT0wKXtpZihydW5EZXBlbmRlbmN5V2F0Y2hlciE9PW51bGwpe2NsZWFySW50ZXJ2YWwocnVuRGVwZW5kZW5jeVdhdGNoZXIpO3J1bkRlcGVuZGVuY3lXYXRjaGVyPW51bGx9aWYoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKXt2YXIgY2FsbGJhY2s9ZGVwZW5kZW5jaWVzRnVsZmlsbGVkO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1udWxsO2NhbGxiYWNrKCl9fX1Nb2R1bGVbXCJwcmVsb2FkZWRJbWFnZXNcIl09e307TW9kdWxlW1wicHJlbG9hZGVkQXVkaW9zXCJdPXt9O3ZhciBkYXRhVVJJUHJlZml4PVwiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LFwiO2Z1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD9maWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpOmZpbGVuYW1lLmluZGV4T2YoZGF0YVVSSVByZWZpeCk9PT0wfWZ1bmN0aW9uIGludGVncmF0ZVdhc21KUygpe3ZhciB3YXNtVGV4dEZpbGU9XCJhdmMud2FzdFwiO3ZhciB3YXNtQmluYXJ5RmlsZT1cImF2Yy53YXNtXCI7dmFyIGFzbWpzQ29kZUZpbGU9XCJhdmMudGVtcC5hc20uanNcIjtpZih0eXBlb2YgTW9kdWxlW1wibG9jYXRlRmlsZVwiXT09PVwiZnVuY3Rpb25cIil7aWYoIWlzRGF0YVVSSSh3YXNtVGV4dEZpbGUpKXt3YXNtVGV4dEZpbGU9TW9kdWxlW1wibG9jYXRlRmlsZVwiXSh3YXNtVGV4dEZpbGUpfWlmKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKXt3YXNtQmluYXJ5RmlsZT1Nb2R1bGVbXCJsb2NhdGVGaWxlXCJdKHdhc21CaW5hcnlGaWxlKX1pZighaXNEYXRhVVJJKGFzbWpzQ29kZUZpbGUpKXthc21qc0NvZGVGaWxlPU1vZHVsZVtcImxvY2F0ZUZpbGVcIl0oYXNtanNDb2RlRmlsZSl9fXZhciB3YXNtUGFnZVNpemU9NjQqMTAyNDt2YXIgaW5mbz17XCJnbG9iYWxcIjpudWxsLFwiZW52XCI6bnVsbCxcImFzbTJ3YXNtXCI6YXNtMndhc21JbXBvcnRzLFwicGFyZW50XCI6TW9kdWxlfTt2YXIgZXhwb3J0cz1udWxsO2Z1bmN0aW9uIG1lcmdlTWVtb3J5KG5ld0J1ZmZlcil7dmFyIG9sZEJ1ZmZlcj1Nb2R1bGVbXCJidWZmZXJcIl07aWYobmV3QnVmZmVyLmJ5dGVMZW5ndGg8b2xkQnVmZmVyLmJ5dGVMZW5ndGgpe01vZHVsZVtcInByaW50RXJyXCJdKFwidGhlIG5ldyBidWZmZXIgaW4gbWVyZ2VNZW1vcnkgaXMgc21hbGxlciB0aGFuIHRoZSBwcmV2aW91cyBvbmUuIGluIG5hdGl2ZSB3YXNtLCB3ZSBzaG91bGQgZ3JvdyBtZW1vcnkgaGVyZVwiKX12YXIgb2xkVmlldz1uZXcgSW50OEFycmF5KG9sZEJ1ZmZlcik7dmFyIG5ld1ZpZXc9bmV3IEludDhBcnJheShuZXdCdWZmZXIpO25ld1ZpZXcuc2V0KG9sZFZpZXcpO3VwZGF0ZUdsb2JhbEJ1ZmZlcihuZXdCdWZmZXIpO3VwZGF0ZUdsb2JhbEJ1ZmZlclZpZXdzKCl9ZnVuY3Rpb24gZml4SW1wb3J0cyhpbXBvcnRzKXtyZXR1cm4gaW1wb3J0c31mdW5jdGlvbiBnZXRCaW5hcnkoKXt0cnl7aWYoTW9kdWxlW1wid2FzbUJpbmFyeVwiXSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KE1vZHVsZVtcIndhc21CaW5hcnlcIl0pfWlmKE1vZHVsZVtcInJlYWRCaW5hcnlcIl0pe3JldHVybiBNb2R1bGVbXCJyZWFkQmluYXJ5XCJdKHdhc21CaW5hcnlGaWxlKX1lbHNle3Rocm93XCJvbiB0aGUgd2ViLCB3ZSBuZWVkIHRoZSB3YXNtIGJpbmFyeSB0byBiZSBwcmVsb2FkZWQgYW5kIHNldCBvbiBNb2R1bGVbJ3dhc21CaW5hcnknXS4gZW1jYy5weSB3aWxsIGRvIHRoYXQgZm9yIHlvdSB3aGVuIGdlbmVyYXRpbmcgSFRNTCAoYnV0IG5vdCBKUylcIn19Y2F0Y2goZXJyKXthYm9ydChlcnIpfX1mdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKCl7aWYoIU1vZHVsZVtcIndhc21CaW5hcnlcIl0mJihFTlZJUk9OTUVOVF9JU19XRUJ8fEVOVklST05NRU5UX0lTX1dPUktFUikmJnR5cGVvZiBmZXRjaD09PVwiZnVuY3Rpb25cIil7cmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLHtjcmVkZW50aWFsczpcInNhbWUtb3JpZ2luXCJ9KS50aGVuKChmdW5jdGlvbihyZXNwb25zZSl7aWYoIXJlc3BvbnNlW1wib2tcIl0pe3Rocm93XCJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICdcIit3YXNtQmluYXJ5RmlsZStcIidcIn1yZXR1cm4gcmVzcG9uc2VbXCJhcnJheUJ1ZmZlclwiXSgpfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBnZXRCaW5hcnkoKX0pKX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZXNvbHZlKGdldEJpbmFyeSgpKX0pKX1mdW5jdGlvbiBkb05hdGl2ZVdhc20oZ2xvYmFsLGVudixwcm92aWRlZEJ1ZmZlcil7aWYodHlwZW9mIFdlYkFzc2VtYmx5IT09XCJvYmplY3RcIil7TW9kdWxlW1wicHJpbnRFcnJcIl0oXCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkXCIpO3JldHVybiBmYWxzZX1pZighKE1vZHVsZVtcIndhc21NZW1vcnlcIl1pbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lk1lbW9yeSkpe01vZHVsZVtcInByaW50RXJyXCJdKFwibm8gbmF0aXZlIHdhc20gTWVtb3J5IGluIHVzZVwiKTtyZXR1cm4gZmFsc2V9ZW52W1wibWVtb3J5XCJdPU1vZHVsZVtcIndhc21NZW1vcnlcIl07aW5mb1tcImdsb2JhbFwiXT17XCJOYU5cIjpOYU4sXCJJbmZpbml0eVwiOkluZmluaXR5fTtpbmZvW1wiZ2xvYmFsLk1hdGhcIl09TWF0aDtpbmZvW1wiZW52XCJdPWVudjtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXtleHBvcnRzPWluc3RhbmNlLmV4cG9ydHM7aWYoZXhwb3J0cy5tZW1vcnkpbWVyZ2VNZW1vcnkoZXhwb3J0cy5tZW1vcnkpO01vZHVsZVtcImFzbVwiXT1leHBvcnRzO01vZHVsZVtcInVzaW5nV2FzbVwiXT10cnVlO3JlbW92ZVJ1bkRlcGVuZGVuY3koXCJ3YXNtLWluc3RhbnRpYXRlXCIpfWFkZFJ1bkRlcGVuZGVuY3koXCJ3YXNtLWluc3RhbnRpYXRlXCIpO2lmKE1vZHVsZVtcImluc3RhbnRpYXRlV2FzbVwiXSl7dHJ5e3JldHVybiBNb2R1bGVbXCJpbnN0YW50aWF0ZVdhc21cIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpfWNhdGNoKGUpe01vZHVsZVtcInByaW50RXJyXCJdKFwiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogXCIrZSk7cmV0dXJuIGZhbHNlfX1mdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKG91dHB1dCl7cmVjZWl2ZUluc3RhbmNlKG91dHB1dFtcImluc3RhbmNlXCJdLG91dHB1dFtcIm1vZHVsZVwiXSl9ZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlcil7Z2V0QmluYXJ5UHJvbWlzZSgpLnRoZW4oKGZ1bmN0aW9uKGJpbmFyeSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSxpbmZvKX0pKS50aGVuKHJlY2VpdmVyKS5jYXRjaCgoZnVuY3Rpb24ocmVhc29uKXtNb2R1bGVbXCJwcmludEVyclwiXShcImZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206IFwiK3JlYXNvbik7YWJvcnQocmVhc29uKX0pKX1pZighTW9kdWxlW1wid2FzbUJpbmFyeVwiXSYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT09XCJmdW5jdGlvblwiJiYhaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSYmdHlwZW9mIGZldGNoPT09XCJmdW5jdGlvblwiKXtXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhmZXRjaCh3YXNtQmluYXJ5RmlsZSx7Y3JlZGVudGlhbHM6XCJzYW1lLW9yaWdpblwifSksaW5mbykudGhlbihyZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKS5jYXRjaCgoZnVuY3Rpb24ocmVhc29uKXtNb2R1bGVbXCJwcmludEVyclwiXShcIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiBcIityZWFzb24pO01vZHVsZVtcInByaW50RXJyXCJdKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIik7aW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKX0pKX1lbHNle2luc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRlZFNvdXJjZSl9cmV0dXJue319TW9kdWxlW1wiYXNtUHJlbG9hZFwiXT1Nb2R1bGVbXCJhc21cIl07dmFyIGFzbWpzUmVhbGxvY0J1ZmZlcj1Nb2R1bGVbXCJyZWFsbG9jQnVmZmVyXCJdO3ZhciB3YXNtUmVhbGxvY0J1ZmZlcj0oZnVuY3Rpb24oc2l6ZSl7dmFyIFBBR0VfTVVMVElQTEU9TW9kdWxlW1widXNpbmdXYXNtXCJdP1dBU01fUEFHRV9TSVpFOkFTTUpTX1BBR0VfU0laRTtzaXplPWFsaWduVXAoc2l6ZSxQQUdFX01VTFRJUExFKTt2YXIgb2xkPU1vZHVsZVtcImJ1ZmZlclwiXTt2YXIgb2xkU2l6ZT1vbGQuYnl0ZUxlbmd0aDtpZihNb2R1bGVbXCJ1c2luZ1dhc21cIl0pe3RyeXt2YXIgcmVzdWx0PU1vZHVsZVtcIndhc21NZW1vcnlcIl0uZ3Jvdygoc2l6ZS1vbGRTaXplKS93YXNtUGFnZVNpemUpO2lmKHJlc3VsdCE9PSgtMXwwKSl7cmV0dXJuIE1vZHVsZVtcImJ1ZmZlclwiXT1Nb2R1bGVbXCJ3YXNtTWVtb3J5XCJdLmJ1ZmZlcn1lbHNle3JldHVybiBudWxsfX1jYXRjaChlKXtyZXR1cm4gbnVsbH19fSk7TW9kdWxlW1wicmVhbGxvY0J1ZmZlclwiXT0oZnVuY3Rpb24oc2l6ZSl7aWYoZmluYWxNZXRob2Q9PT1cImFzbWpzXCIpe3JldHVybiBhc21qc1JlYWxsb2NCdWZmZXIoc2l6ZSl9ZWxzZXtyZXR1cm4gd2FzbVJlYWxsb2NCdWZmZXIoc2l6ZSl9fSk7dmFyIGZpbmFsTWV0aG9kPVwiXCI7TW9kdWxlW1wiYXNtXCJdPShmdW5jdGlvbihnbG9iYWwsZW52LHByb3ZpZGVkQnVmZmVyKXtlbnY9Zml4SW1wb3J0cyhlbnYpO2lmKCFlbnZbXCJ0YWJsZVwiXSl7dmFyIFRBQkxFX1NJWkU9TW9kdWxlW1wid2FzbVRhYmxlU2l6ZVwiXTtpZihUQUJMRV9TSVpFPT09dW5kZWZpbmVkKVRBQkxFX1NJWkU9MTAyNDt2YXIgTUFYX1RBQkxFX1NJWkU9TW9kdWxlW1wid2FzbU1heFRhYmxlU2l6ZVwiXTtpZih0eXBlb2YgV2ViQXNzZW1ibHk9PT1cIm9iamVjdFwiJiZ0eXBlb2YgV2ViQXNzZW1ibHkuVGFibGU9PT1cImZ1bmN0aW9uXCIpe2lmKE1BWF9UQUJMRV9TSVpFIT09dW5kZWZpbmVkKXtlbnZbXCJ0YWJsZVwiXT1uZXcgV2ViQXNzZW1ibHkuVGFibGUoe1wiaW5pdGlhbFwiOlRBQkxFX1NJWkUsXCJtYXhpbXVtXCI6TUFYX1RBQkxFX1NJWkUsXCJlbGVtZW50XCI6XCJhbnlmdW5jXCJ9KX1lbHNle2VudltcInRhYmxlXCJdPW5ldyBXZWJBc3NlbWJseS5UYWJsZSh7XCJpbml0aWFsXCI6VEFCTEVfU0laRSxlbGVtZW50OlwiYW55ZnVuY1wifSl9fWVsc2V7ZW52W1widGFibGVcIl09bmV3IEFycmF5KFRBQkxFX1NJWkUpfU1vZHVsZVtcIndhc21UYWJsZVwiXT1lbnZbXCJ0YWJsZVwiXX1pZighZW52W1wibWVtb3J5QmFzZVwiXSl7ZW52W1wibWVtb3J5QmFzZVwiXT1Nb2R1bGVbXCJTVEFUSUNfQkFTRVwiXX1pZighZW52W1widGFibGVCYXNlXCJdKXtlbnZbXCJ0YWJsZUJhc2VcIl09MH12YXIgZXhwb3J0cztleHBvcnRzPWRvTmF0aXZlV2FzbShnbG9iYWwsZW52LHByb3ZpZGVkQnVmZmVyKTthc3NlcnQoZXhwb3J0cyxcIm5vIGJpbmFyeWVuIG1ldGhvZCBzdWNjZWVkZWQuXCIpO3JldHVybiBleHBvcnRzfSl9aW50ZWdyYXRlV2FzbUpTKCk7U1RBVElDX0JBU0U9R0xPQkFMX0JBU0U7U1RBVElDVE9QPVNUQVRJQ19CQVNFKzk4ODg7X19BVElOSVRfXy5wdXNoKCk7dmFyIFNUQVRJQ19CVU1QPTk4ODg7TW9kdWxlW1wiU1RBVElDX0JBU0VcIl09U1RBVElDX0JBU0U7TW9kdWxlW1wiU1RBVElDX0JVTVBcIl09U1RBVElDX0JVTVA7U1RBVElDVE9QKz0xNjt2YXIgU1lTQ0FMTFM9e3ZhcmFyZ3M6MCxnZXQ6KGZ1bmN0aW9uKHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3MrPTQ7dmFyIHJldD1IRUFQMzJbU1lTQ0FMTFMudmFyYXJncy00Pj4yXTtyZXR1cm4gcmV0fSksZ2V0U3RyOihmdW5jdGlvbigpe3ZhciByZXQ9UG9pbnRlcl9zdHJpbmdpZnkoU1lTQ0FMTFMuZ2V0KCkpO3JldHVybiByZXR9KSxnZXQ2NDooZnVuY3Rpb24oKXt2YXIgbG93PVNZU0NBTExTLmdldCgpLGhpZ2g9U1lTQ0FMTFMuZ2V0KCk7aWYobG93Pj0wKWFzc2VydChoaWdoPT09MCk7ZWxzZSBhc3NlcnQoaGlnaD09PS0xKTtyZXR1cm4gbG93fSksZ2V0WmVybzooZnVuY3Rpb24oKXthc3NlcnQoU1lTQ0FMTFMuZ2V0KCk9PT0wKX0pfTtmdW5jdGlvbiBfX19zeXNjYWxsMTQwKHdoaWNoLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoKSxvZmZzZXRfaGlnaD1TWVNDQUxMUy5nZXQoKSxvZmZzZXRfbG93PVNZU0NBTExTLmdldCgpLHJlc3VsdD1TWVNDQUxMUy5nZXQoKSx3aGVuY2U9U1lTQ0FMTFMuZ2V0KCk7dmFyIG9mZnNldD1vZmZzZXRfbG93O0ZTLmxsc2VlayhzdHJlYW0sb2Zmc2V0LHdoZW5jZSk7SEVBUDMyW3Jlc3VsdD4+Ml09c3RyZWFtLnBvc2l0aW9uO2lmKHN0cmVhbS5nZXRkZW50cyYmb2Zmc2V0PT09MCYmd2hlbmNlPT09MClzdHJlYW0uZ2V0ZGVudHM9bnVsbDtyZXR1cm4gMH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSlhYm9ydChlKTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbDE0Nih3aGljaCx2YXJhcmdzKXtTWVNDQUxMUy52YXJhcmdzPXZhcmFyZ3M7dHJ5e3ZhciBzdHJlYW09U1lTQ0FMTFMuZ2V0KCksaW92PVNZU0NBTExTLmdldCgpLGlvdmNudD1TWVNDQUxMUy5nZXQoKTt2YXIgcmV0PTA7aWYoIV9fX3N5c2NhbGwxNDYuYnVmZmVycyl7X19fc3lzY2FsbDE0Ni5idWZmZXJzPVtudWxsLFtdLFtdXTtfX19zeXNjYWxsMTQ2LnByaW50Q2hhcj0oZnVuY3Rpb24oc3RyZWFtLGN1cnIpe3ZhciBidWZmZXI9X19fc3lzY2FsbDE0Ni5idWZmZXJzW3N0cmVhbV07YXNzZXJ0KGJ1ZmZlcik7aWYoY3Vycj09PTB8fGN1cnI9PT0xMCl7KHN0cmVhbT09PTE/TW9kdWxlW1wicHJpbnRcIl06TW9kdWxlW1wicHJpbnRFcnJcIl0pKFVURjhBcnJheVRvU3RyaW5nKGJ1ZmZlciwwKSk7YnVmZmVyLmxlbmd0aD0wfWVsc2V7YnVmZmVyLnB1c2goY3Vycil9fSl9Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVAzMltpb3YraSo4Pj4yXTt2YXIgbGVuPUhFQVAzMltpb3YrKGkqOCs0KT4+Ml07Zm9yKHZhciBqPTA7ajxsZW47aisrKXtfX19zeXNjYWxsMTQ2LnByaW50Q2hhcihzdHJlYW0sSEVBUFU4W3B0citqXSl9cmV0Kz1sZW59cmV0dXJuIHJldH1jYXRjaChlKXtpZih0eXBlb2YgRlM9PT1cInVuZGVmaW5lZFwifHwhKGUgaW5zdGFuY2VvZiBGUy5FcnJub0Vycm9yKSlhYm9ydChlKTtyZXR1cm4tZS5lcnJub319ZnVuY3Rpb24gX19fc3lzY2FsbDU0KHdoaWNoLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7cmV0dXJuIDB9Y2F0Y2goZSl7aWYodHlwZW9mIEZTPT09XCJ1bmRlZmluZWRcInx8IShlIGluc3RhbmNlb2YgRlMuRXJybm9FcnJvcikpYWJvcnQoZSk7cmV0dXJuLWUuZXJybm99fWZ1bmN0aW9uIF9fX3N5c2NhbGw2KHdoaWNoLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnczt0cnl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoKTtGUy5jbG9zZShzdHJlYW0pO3JldHVybiAwfWNhdGNoKGUpe2lmKHR5cGVvZiBGUz09PVwidW5kZWZpbmVkXCJ8fCEoZSBpbnN0YW5jZW9mIEZTLkVycm5vRXJyb3IpKWFib3J0KGUpO3JldHVybi1lLmVycm5vfX1mdW5jdGlvbiBfYnJvYWR3YXlPbkhlYWRlcnNEZWNvZGVkKCl7cGFyX2Jyb2Fkd2F5T25IZWFkZXJzRGVjb2RlZCgpfU1vZHVsZVtcIl9icm9hZHdheU9uSGVhZGVyc0RlY29kZWRcIl09X2Jyb2Fkd2F5T25IZWFkZXJzRGVjb2RlZDtmdW5jdGlvbiBfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkKCRidWZmZXIsd2lkdGgsaGVpZ2h0KXtwYXJfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkKCRidWZmZXIsd2lkdGgsaGVpZ2h0KX1Nb2R1bGVbXCJfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkXCJdPV9icm9hZHdheU9uUGljdHVyZURlY29kZWQ7ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LHNyYyxudW0pe0hFQVBVOC5zZXQoSEVBUFU4LnN1YmFycmF5KHNyYyxzcmMrbnVtKSxkZXN0KTtyZXR1cm4gZGVzdH1mdW5jdGlvbiBfX19zZXRFcnJObyh2YWx1ZSl7aWYoTW9kdWxlW1wiX19fZXJybm9fbG9jYXRpb25cIl0pSEVBUDMyW01vZHVsZVtcIl9fX2Vycm5vX2xvY2F0aW9uXCJdKCk+PjJdPXZhbHVlO3JldHVybiB2YWx1ZX1EWU5BTUlDVE9QX1BUUj1zdGF0aWNBbGxvYyg0KTtTVEFDS19CQVNFPVNUQUNLVE9QPWFsaWduTWVtb3J5KFNUQVRJQ1RPUCk7U1RBQ0tfTUFYPVNUQUNLX0JBU0UrVE9UQUxfU1RBQ0s7RFlOQU1JQ19CQVNFPWFsaWduTWVtb3J5KFNUQUNLX01BWCk7SEVBUDMyW0RZTkFNSUNUT1BfUFRSPj4yXT1EWU5BTUlDX0JBU0U7c3RhdGljU2VhbGVkPXRydWU7TW9kdWxlW1wid2FzbVRhYmxlU2l6ZVwiXT0xMDtNb2R1bGVbXCJ3YXNtTWF4VGFibGVTaXplXCJdPTEwO01vZHVsZS5hc21HbG9iYWxBcmc9e307TW9kdWxlLmFzbUxpYnJhcnlBcmc9e1wiYWJvcnRcIjphYm9ydCxcImVubGFyZ2VNZW1vcnlcIjplbmxhcmdlTWVtb3J5LFwiZ2V0VG90YWxNZW1vcnlcIjpnZXRUb3RhbE1lbW9yeSxcImFib3J0T25DYW5ub3RHcm93TWVtb3J5XCI6YWJvcnRPbkNhbm5vdEdyb3dNZW1vcnksXCJfX19zZXRFcnJOb1wiOl9fX3NldEVyck5vLFwiX19fc3lzY2FsbDE0MFwiOl9fX3N5c2NhbGwxNDAsXCJfX19zeXNjYWxsMTQ2XCI6X19fc3lzY2FsbDE0NixcIl9fX3N5c2NhbGw1NFwiOl9fX3N5c2NhbGw1NCxcIl9fX3N5c2NhbGw2XCI6X19fc3lzY2FsbDYsXCJfYnJvYWR3YXlPbkhlYWRlcnNEZWNvZGVkXCI6X2Jyb2Fkd2F5T25IZWFkZXJzRGVjb2RlZCxcIl9icm9hZHdheU9uUGljdHVyZURlY29kZWRcIjpfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkLFwiX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZ1wiOl9lbXNjcmlwdGVuX21lbWNweV9iaWcsXCJEWU5BTUlDVE9QX1BUUlwiOkRZTkFNSUNUT1BfUFRSLFwiU1RBQ0tUT1BcIjpTVEFDS1RPUH07dmFyIGFzbT1Nb2R1bGVbXCJhc21cIl0oTW9kdWxlLmFzbUdsb2JhbEFyZyxNb2R1bGUuYXNtTGlicmFyeUFyZyxidWZmZXIpO01vZHVsZVtcImFzbVwiXT1hc207dmFyIF9icm9hZHdheUNyZWF0ZVN0cmVhbT1Nb2R1bGVbXCJfYnJvYWR3YXlDcmVhdGVTdHJlYW1cIl09KGZ1bmN0aW9uKCl7cmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcIl9icm9hZHdheUNyZWF0ZVN0cmVhbVwiXS5hcHBseShudWxsLGFyZ3VtZW50cyl9KTt2YXIgX2Jyb2Fkd2F5RXhpdD1Nb2R1bGVbXCJfYnJvYWR3YXlFeGl0XCJdPShmdW5jdGlvbigpe3JldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfYnJvYWR3YXlFeGl0XCJdLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pO3ZhciBfYnJvYWR3YXlHZXRNYWpvclZlcnNpb249TW9kdWxlW1wiX2Jyb2Fkd2F5R2V0TWFqb3JWZXJzaW9uXCJdPShmdW5jdGlvbigpe3JldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfYnJvYWR3YXlHZXRNYWpvclZlcnNpb25cIl0uYXBwbHkobnVsbCxhcmd1bWVudHMpfSk7dmFyIF9icm9hZHdheUdldE1pbm9yVmVyc2lvbj1Nb2R1bGVbXCJfYnJvYWR3YXlHZXRNaW5vclZlcnNpb25cIl09KGZ1bmN0aW9uKCl7cmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcIl9icm9hZHdheUdldE1pbm9yVmVyc2lvblwiXS5hcHBseShudWxsLGFyZ3VtZW50cyl9KTt2YXIgX2Jyb2Fkd2F5SW5pdD1Nb2R1bGVbXCJfYnJvYWR3YXlJbml0XCJdPShmdW5jdGlvbigpe3JldHVybiBNb2R1bGVbXCJhc21cIl1bXCJfYnJvYWR3YXlJbml0XCJdLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pO3ZhciBfYnJvYWR3YXlQbGF5U3RyZWFtPU1vZHVsZVtcIl9icm9hZHdheVBsYXlTdHJlYW1cIl09KGZ1bmN0aW9uKCl7cmV0dXJuIE1vZHVsZVtcImFzbVwiXVtcIl9icm9hZHdheVBsYXlTdHJlYW1cIl0uYXBwbHkobnVsbCxhcmd1bWVudHMpfSk7TW9kdWxlW1wiYXNtXCJdPWFzbTtmdW5jdGlvbiBFeGl0U3RhdHVzKHN0YXR1cyl7dGhpcy5uYW1lPVwiRXhpdFN0YXR1c1wiO3RoaXMubWVzc2FnZT1cIlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoXCIrc3RhdHVzK1wiKVwiO3RoaXMuc3RhdHVzPXN0YXR1c31FeGl0U3RhdHVzLnByb3RvdHlwZT1uZXcgRXJyb3I7RXhpdFN0YXR1cy5wcm90b3R5cGUuY29uc3RydWN0b3I9RXhpdFN0YXR1czt2YXIgaW5pdGlhbFN0YWNrVG9wO2RlcGVuZGVuY2llc0Z1bGZpbGxlZD1mdW5jdGlvbiBydW5DYWxsZXIoKXtpZighTW9kdWxlW1wiY2FsbGVkUnVuXCJdKXJ1bigpO2lmKCFNb2R1bGVbXCJjYWxsZWRSdW5cIl0pZGVwZW5kZW5jaWVzRnVsZmlsbGVkPXJ1bkNhbGxlcn07ZnVuY3Rpb24gcnVuKGFyZ3Mpe2FyZ3M9YXJnc3x8TW9kdWxlW1wiYXJndW1lbnRzXCJdO2lmKHJ1bkRlcGVuZGVuY2llcz4wKXtyZXR1cm59cHJlUnVuKCk7aWYocnVuRGVwZW5kZW5jaWVzPjApcmV0dXJuO2lmKE1vZHVsZVtcImNhbGxlZFJ1blwiXSlyZXR1cm47ZnVuY3Rpb24gZG9SdW4oKXtpZihNb2R1bGVbXCJjYWxsZWRSdW5cIl0pcmV0dXJuO01vZHVsZVtcImNhbGxlZFJ1blwiXT10cnVlO2lmKEFCT1JUKXJldHVybjtlbnN1cmVJbml0UnVudGltZSgpO3ByZU1haW4oKTtpZihNb2R1bGVbXCJvblJ1bnRpbWVJbml0aWFsaXplZFwiXSlNb2R1bGVbXCJvblJ1bnRpbWVJbml0aWFsaXplZFwiXSgpO3Bvc3RSdW4oKX1pZihNb2R1bGVbXCJzZXRTdGF0dXNcIl0pe01vZHVsZVtcInNldFN0YXR1c1wiXShcIlJ1bm5pbmcuLi5cIik7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe01vZHVsZVtcInNldFN0YXR1c1wiXShcIlwiKX0pLDEpO2RvUnVuKCl9KSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVtcInJ1blwiXT1ydW47ZnVuY3Rpb24gZXhpdChzdGF0dXMsaW1wbGljaXQpe2lmKGltcGxpY2l0JiZNb2R1bGVbXCJub0V4aXRSdW50aW1lXCJdJiZzdGF0dXM9PT0wKXtyZXR1cm59aWYoTW9kdWxlW1wibm9FeGl0UnVudGltZVwiXSl7fWVsc2V7QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPXN0YXR1cztTVEFDS1RPUD1pbml0aWFsU3RhY2tUb3A7ZXhpdFJ1bnRpbWUoKTtpZihNb2R1bGVbXCJvbkV4aXRcIl0pTW9kdWxlW1wib25FeGl0XCJdKHN0YXR1cyl9aWYoRU5WSVJPTk1FTlRfSVNfTk9ERSl7cHJvY2Vzc1tcImV4aXRcIl0oc3RhdHVzKX1Nb2R1bGVbXCJxdWl0XCJdKHN0YXR1cyxuZXcgRXhpdFN0YXR1cyhzdGF0dXMpKX1Nb2R1bGVbXCJleGl0XCJdPWV4aXQ7ZnVuY3Rpb24gYWJvcnQod2hhdCl7aWYoTW9kdWxlW1wib25BYm9ydFwiXSl7TW9kdWxlW1wib25BYm9ydFwiXSh3aGF0KX1pZih3aGF0IT09dW5kZWZpbmVkKXtNb2R1bGUucHJpbnQod2hhdCk7TW9kdWxlLnByaW50RXJyKHdoYXQpO3doYXQ9SlNPTi5zdHJpbmdpZnkod2hhdCl9ZWxzZXt3aGF0PVwiXCJ9QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPTE7dGhyb3dcImFib3J0KFwiK3doYXQrXCIpLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLlwifU1vZHVsZVtcImFib3J0XCJdPWFib3J0O2lmKE1vZHVsZVtcInByZUluaXRcIl0pe2lmKHR5cGVvZiBNb2R1bGVbXCJwcmVJbml0XCJdPT1cImZ1bmN0aW9uXCIpTW9kdWxlW1wicHJlSW5pdFwiXT1bTW9kdWxlW1wicHJlSW5pdFwiXV07d2hpbGUoTW9kdWxlW1wicHJlSW5pdFwiXS5sZW5ndGg+MCl7TW9kdWxlW1wicHJlSW5pdFwiXS5wb3AoKSgpfX1Nb2R1bGVbXCJub0V4aXRSdW50aW1lXCJdPXRydWU7cnVuKClcclxuXHJcblxyXG5cclxuICAgIC8vICAgcmV0dXJuIE1vZHVsZTtcclxuICAgIC8vfSkoKTtcclxuICAgIFxyXG4gICAgdmFyIHJlc3VsdE1vZHVsZTtcclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgaWYgKGdsb2JhbC5Nb2R1bGUpe1xyXG4gICAgICAgIHJlc3VsdE1vZHVsZSA9IGdsb2JhbC5Nb2R1bGU7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGVvZiBNb2R1bGUgIT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgIHJlc3VsdE1vZHVsZSA9IE1vZHVsZTtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdWx0TW9kdWxlLl9icm9hZHdheU9uSGVhZGVyc0RlY29kZWQgPSBwYXJfYnJvYWR3YXlPbkhlYWRlcnNEZWNvZGVkO1xyXG4gICAgcmVzdWx0TW9kdWxlLl9icm9hZHdheU9uUGljdHVyZURlY29kZWQgPSBwYXJfYnJvYWR3YXlPblBpY3R1cmVEZWNvZGVkO1xyXG4gICAgXHJcbiAgICB2YXIgbW9kdWxlSXNSZWFkeSA9IGZhbHNlO1xyXG4gICAgdmFyIGNiRnVuO1xyXG4gICAgdmFyIG1vZHVsZVJlYWR5ID0gZnVuY3Rpb24oKXtcclxuICAgICAgbW9kdWxlSXNSZWFkeSA9IHRydWU7XHJcbiAgICAgIGlmIChjYkZ1bil7XHJcbiAgICAgICAgY2JGdW4ocmVzdWx0TW9kdWxlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmVzdWx0TW9kdWxlLm9uUnVudGltZUluaXRpYWxpemVkID0gZnVuY3Rpb24oKXtcclxuICAgICAgbW9kdWxlUmVhZHkocmVzdWx0TW9kdWxlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2spe1xyXG4gICAgICBpZiAobW9kdWxlSXNSZWFkeSl7XHJcbiAgICAgICAgY2FsbGJhY2socmVzdWx0TW9kdWxlKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgY2JGdW4gPSBjYWxsYmFjaztcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChmdW5jdGlvbigpe1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgXHJcbiAgXHJcbiAgdmFyIG5vd1ZhbHVlID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gIH07XHJcbiAgXHJcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPSBcInVuZGVmaW5lZFwiKXtcclxuICAgIGlmIChwZXJmb3JtYW5jZS5ub3cpe1xyXG4gICAgICBub3dWYWx1ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9O1xyXG4gIFxyXG4gIFxyXG4gIHZhciBEZWNvZGVyID0gZnVuY3Rpb24ocGFyT3B0aW9ucyl7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBwYXJPcHRpb25zIHx8IHt9O1xyXG4gICAgXHJcbiAgICB0aGlzLm5vdyA9IG5vd1ZhbHVlO1xyXG4gICAgXHJcbiAgICB2YXIgYXNtSW5zdGFuY2U7XHJcbiAgICBcclxuICAgIHZhciBmYWtlV2luZG93ID0ge1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIHRvVThBcnJheTtcclxuICAgIHZhciB0b1UzMkFycmF5O1xyXG4gICAgXHJcbiAgICB2YXIgb25QaWNGdW4gPSBmdW5jdGlvbiAoJGJ1ZmZlciwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICB2YXIgYnVmZmVyID0gdGhpcy5waWN0dXJlQnVmZmVyc1skYnVmZmVyXTtcclxuICAgICAgaWYgKCFidWZmZXIpIHtcclxuICAgICAgICBidWZmZXIgPSB0aGlzLnBpY3R1cmVCdWZmZXJzWyRidWZmZXJdID0gdG9VOEFycmF5KCRidWZmZXIsICh3aWR0aCAqIGhlaWdodCAqIDMpIC8gMik7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICB2YXIgaW5mb3M7XHJcbiAgICAgIHZhciBkb0luZm8gPSBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMuaW5mb0FyLmxlbmd0aCl7XHJcbiAgICAgICAgZG9JbmZvID0gdHJ1ZTtcclxuICAgICAgICBpbmZvcyA9IHRoaXMuaW5mb0FyO1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmluZm9BciA9IFtdO1xyXG4gICAgICBcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZ2Ipe1xyXG4gICAgICAgIGlmICghYXNtSW5zdGFuY2Upe1xyXG4gICAgICAgICAgYXNtSW5zdGFuY2UgPSBnZXRBc20od2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhc21JbnN0YW5jZS5pbnAuc2V0KGJ1ZmZlcik7XHJcbiAgICAgICAgYXNtSW5zdGFuY2UuZG9pdCgpO1xyXG5cclxuICAgICAgICB2YXIgY29weVU4ID0gbmV3IFVpbnQ4QXJyYXkoYXNtSW5zdGFuY2Uub3V0U2l6ZSk7XHJcbiAgICAgICAgY29weVU4LnNldCggYXNtSW5zdGFuY2Uub3V0ICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRvSW5mbyl7XHJcbiAgICAgICAgICBpbmZvc1swXS5maW5pc2hEZWNvZGluZyA9IG5vd1ZhbHVlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm9uUGljdHVyZURlY29kZWQoY29weVU4LCB3aWR0aCwgaGVpZ2h0LCBpbmZvcyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgaWYgKGRvSW5mbyl7XHJcbiAgICAgICAgaW5mb3NbMF0uZmluaXNoRGVjb2RpbmcgPSBub3dWYWx1ZSgpO1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLm9uUGljdHVyZURlY29kZWQoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBpbmZvcyk7XHJcbiAgICB9LmJpbmQodGhpcyk7XHJcbiAgICBcclxuICAgIHZhciBpZ25vcmUgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbGljZU1vZGUpe1xyXG4gICAgICBvblBpY0Z1biA9IGZ1bmN0aW9uICgkYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCAkc2xpY2VJbmZvKSB7XHJcbiAgICAgICAgaWYgKGlnbm9yZSl7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5waWN0dXJlQnVmZmVyc1skYnVmZmVyXTtcclxuICAgICAgICBpZiAoIWJ1ZmZlcikge1xyXG4gICAgICAgICAgYnVmZmVyID0gdGhpcy5waWN0dXJlQnVmZmVyc1skYnVmZmVyXSA9IHRvVThBcnJheSgkYnVmZmVyLCAod2lkdGggKiBoZWlnaHQgKiAzKSAvIDIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNsaWNlSW5mbyA9IHRoaXMucGljdHVyZUJ1ZmZlcnNbJHNsaWNlSW5mb107XHJcbiAgICAgICAgaWYgKCFzbGljZUluZm8pIHtcclxuICAgICAgICAgIHNsaWNlSW5mbyA9IHRoaXMucGljdHVyZUJ1ZmZlcnNbJHNsaWNlSW5mb10gPSB0b1UzMkFycmF5KCRzbGljZUluZm8sIDE4KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgaW5mb3M7XHJcbiAgICAgICAgdmFyIGRvSW5mbyA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmluZm9Bci5sZW5ndGgpe1xyXG4gICAgICAgICAgZG9JbmZvID0gdHJ1ZTtcclxuICAgICAgICAgIGluZm9zID0gdGhpcy5pbmZvQXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmluZm9BciA9IFtdO1xyXG5cclxuICAgICAgICAvKmlmICh0aGlzLm9wdGlvbnMucmdiKXtcclxuICAgICAgICBcclxuICAgICAgICBubyByZ2IgaW4gc2xpY2UgbW9kZVxyXG5cclxuICAgICAgICB9OyovXHJcblxyXG4gICAgICAgIGluZm9zWzBdLmZpbmlzaERlY29kaW5nID0gbm93VmFsdWUoKTtcclxuICAgICAgICB2YXIgc2xpY2VJbmZvQXIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwOyArK2kpe1xyXG4gICAgICAgICAgc2xpY2VJbmZvQXIucHVzaChzbGljZUluZm9baV0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW5mb3NbMF0uc2xpY2VJbmZvQXIgPSBzbGljZUluZm9BcjtcclxuXHJcbiAgICAgICAgdGhpcy5vblBpY3R1cmVEZWNvZGVkKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgaW5mb3MpO1xyXG4gICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB2YXIgTW9kdWxlQ2FsbGJhY2sgPSBnZXRNb2R1bGUuYXBwbHkoZmFrZVdpbmRvdywgW2Z1bmN0aW9uICgpIHtcclxuICAgIH0sIG9uUGljRnVuXSk7XHJcbiAgICBcclxuXHJcbiAgICB2YXIgTUFYX1NUUkVBTV9CVUZGRVJfTEVOR1RIID0gMTAyNCAqIDEwMjQ7XHJcbiAgICBcclxuICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB0aGlzLm9uUGljdHVyZURlY29kZWQgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBpbmZvcykge1xyXG5cclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMub25EZWNvZGVyUmVhZHkgPSBmdW5jdGlvbigpe307XHJcbiAgICBcclxuICAgIHZhciBidWZmZXJlZENhbGxzID0gW107XHJcbiAgICB0aGlzLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZSh0eXBlZEFyLCBwYXJJbmZvLCBjb3B5RG9uZUZ1bikge1xyXG4gICAgICBidWZmZXJlZENhbGxzLnB1c2goW3R5cGVkQXIsIHBhckluZm8sIGNvcHlEb25lRnVuXSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBNb2R1bGVDYWxsYmFjayhmdW5jdGlvbihNb2R1bGUpe1xyXG4gICAgICB2YXIgSEVBUDggPSBNb2R1bGUuSEVBUDg7XHJcbiAgICAgIHZhciBIRUFQVTggPSBNb2R1bGUuSEVBUFU4O1xyXG4gICAgICB2YXIgSEVBUDE2ID0gTW9kdWxlLkhFQVAxNjtcclxuICAgICAgdmFyIEhFQVAzMiA9IE1vZHVsZS5IRUFQMzI7XHJcbiAgICAgIC8vIGZyb20gb2xkIGNvbnN0cnVjdG9yXHJcbiAgICAgIE1vZHVsZS5fYnJvYWR3YXlJbml0KCk7XHJcbiAgICAgIFxyXG4gICAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSB0eXBlZCBhcnJheSBmcm9tIGEgSEVBUDggcG9pbnRlci4gXHJcbiAgICAgKi9cclxuICAgICAgdG9VOEFycmF5ID0gZnVuY3Rpb24ocHRyLCBsZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gSEVBUFU4LnN1YmFycmF5KHB0ciwgcHRyICsgbGVuZ3RoKTtcclxuICAgICAgfTtcclxuICAgICAgdG9VMzJBcnJheSA9IGZ1bmN0aW9uKHB0ciwgbGVuZ3RoKSB7XHJcbiAgICAgICAgLy92YXIgdG1wID0gSEVBUFU4LnN1YmFycmF5KHB0ciwgcHRyICsgKGxlbmd0aCAqIDQpKTtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KEhFQVBVOC5idWZmZXIsIHB0ciwgbGVuZ3RoKTtcclxuICAgICAgfTtcclxuICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyID0gdG9VOEFycmF5KE1vZHVsZS5fYnJvYWR3YXlDcmVhdGVTdHJlYW0oTUFYX1NUUkVBTV9CVUZGRVJfTEVOR1RIKSwgTUFYX1NUUkVBTV9CVUZGRVJfTEVOR1RIKTtcclxuICAgICAgaW5zdGFuY2UucGljdHVyZUJ1ZmZlcnMgPSB7fTtcclxuICAgICAgLy8gY29sbGVjdCBleHRyYSBpbmZvcyB0aGF0IGFyZSBwcm92aWRlZCB3aXRoIHRoZSBuYWwgdW5pdHNcclxuICAgICAgaW5zdGFuY2UuaW5mb0FyID0gW107XHJcblxyXG4gICAgICAvKipcclxuICAgICAqIERlY29kZXMgYSBzdHJlYW0gYnVmZmVyLiBUaGlzIG1heSBiZSBvbmUgc2luZ2xlICh1bmZyYW1lZCkgTkFMIHVuaXQgd2l0aG91dCB0aGVcclxuICAgICAqIHN0YXJ0IGNvZGUsIG9yIGEgc2VxdWVuY2Ugb2YgTkFMIHVuaXRzIHdpdGggZnJhbWluZyBzdGFydCBjb2RlIHByZWZpeGVzLiBUaGlzXHJcbiAgICAgKiBmdW5jdGlvbiBvdmVyd3JpdGVzIHN0cmVhbSBidWZmZXIgYWxsb2NhdGVkIGJ5IHRoZSBjb2RlYyB3aXRoIHRoZSBzdXBwbGllZCBidWZmZXIuXHJcbiAgICAgKi9cclxuXHJcbiAgICAgIHZhciBzbGljZU51bSA9IDA7XHJcbiAgICAgIGlmIChpbnN0YW5jZS5vcHRpb25zLnNsaWNlTW9kZSl7XHJcbiAgICAgICAgc2xpY2VOdW0gPSBpbnN0YW5jZS5vcHRpb25zLnNsaWNlTnVtO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUodHlwZWRBciwgcGFySW5mbywgY29weURvbmVGdW4pIHtcclxuICAgICAgICAgIGluc3RhbmNlLmluZm9Bci5wdXNoKHBhckluZm8pO1xyXG4gICAgICAgICAgcGFySW5mby5zdGFydERlY29kaW5nID0gbm93VmFsdWUoKTtcclxuICAgICAgICAgIHZhciBuYWxzID0gcGFySW5mby5uYWxzO1xyXG4gICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICBpZiAoIW5hbHMpe1xyXG4gICAgICAgICAgICBuYWxzID0gW107XHJcbiAgICAgICAgICAgIHBhckluZm8ubmFscyA9IG5hbHM7XHJcbiAgICAgICAgICAgIHZhciBsID0gdHlwZWRBci5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZFNvbWV0aGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgbGFzdEZvdW5kID0gMDtcclxuICAgICAgICAgICAgdmFyIGxhc3RTdGFydCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyArK2kpe1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlZEFyW2ldID09PSAxKXtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgdHlwZWRBcltpIC0gMV0gPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgdHlwZWRBcltpIC0gMl0gPT09IDBcclxuICAgICAgICAgICAgICAgICl7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBzdGFydFBvcyA9IGkgLSAyO1xyXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZWRBcltpIC0gM10gPT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zID0gaSAtIDM7XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIG5hbDtcclxuICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kU29tZXRoaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICBuYWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBsYXN0Rm91bmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHN0YXJ0UG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZWRBcltsYXN0U3RhcnRdICYgMzFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgbGFzdEZvdW5kID0gc3RhcnRQb3M7XHJcbiAgICAgICAgICAgICAgICAgIGxhc3RTdGFydCA9IHN0YXJ0UG9zICsgMztcclxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVkQXJbaSAtIDNdID09PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0U3RhcnQgPSBzdGFydFBvcyArIDQ7XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIGZvdW5kU29tZXRoaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGZvdW5kU29tZXRoaW5nKXtcclxuICAgICAgICAgICAgICBuYWxzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBsYXN0Rm91bmQsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IGksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlZEFyW2xhc3RTdGFydF0gJiAzMVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgY3VycmVudFNsaWNlID0gMDtcclxuICAgICAgICAgIHZhciBwbGF5QXI7XHJcbiAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcclxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuYWxzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgaWYgKG5hbHNbaV0udHlwZSA9PT0gMSB8fCBuYWxzW2ldLnR5cGUgPT09IDUpe1xyXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50U2xpY2UgPT09IHNsaWNlTnVtKXtcclxuICAgICAgICAgICAgICAgIHBsYXlBciA9IHR5cGVkQXIuc3ViYXJyYXkobmFsc1tpXS5vZmZzZXQsIG5hbHNbaV0uZW5kKTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN0cmVhbUJ1ZmZlcltvZmZzZXRdID0gMDtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyLnNldChwbGF5QXIsIG9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gcGxheUFyLmxlbmd0aDtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRTbGljZSArPSAxO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICBwbGF5QXIgPSB0eXBlZEFyLnN1YmFycmF5KG5hbHNbaV0ub2Zmc2V0LCBuYWxzW2ldLmVuZCk7XHJcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyW29mZnNldF0gPSAwO1xyXG4gICAgICAgICAgICAgIG9mZnNldCArPSAxO1xyXG4gICAgICAgICAgICAgIGluc3RhbmNlLnN0cmVhbUJ1ZmZlci5zZXQocGxheUFyLCBvZmZzZXQpO1xyXG4gICAgICAgICAgICAgIG9mZnNldCArPSBwbGF5QXIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIE1vZHVsZS5fYnJvYWR3YXlQbGF5U3RyZWFtKG9mZnNldCk7XHJcbiAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBjb3B5RG9uZUZ1bigpO1xyXG4gICAgICAgICAgTW9kdWxlLl9icm9hZHdheVBsYXlTdHJlYW0ob2Zmc2V0KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgaW5zdGFuY2UuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHR5cGVkQXIsIHBhckluZm8pIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbyhcIkRlY29kaW5nOiBcIiArIGJ1ZmZlci5sZW5ndGgpO1xyXG4gICAgICAgICAgLy8gY29sbGVjdCBpbmZvc1xyXG4gICAgICAgICAgaWYgKHBhckluZm8pe1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5pbmZvQXIucHVzaChwYXJJbmZvKTtcclxuICAgICAgICAgICAgcGFySW5mby5zdGFydERlY29kaW5nID0gbm93VmFsdWUoKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaW5zdGFuY2Uuc3RyZWFtQnVmZmVyLnNldCh0eXBlZEFyKTtcclxuICAgICAgICAgIE1vZHVsZS5fYnJvYWR3YXlQbGF5U3RyZWFtKHR5cGVkQXIubGVuZ3RoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgaWYgKGJ1ZmZlcmVkQ2FsbHMubGVuZ3RoKXtcclxuICAgICAgICB2YXIgYmkgPSAwO1xyXG4gICAgICAgIGZvciAoYmkgPSAwOyBiaSA8IGJ1ZmZlcmVkQ2FsbHMubGVuZ3RoOyArK2JpKXtcclxuICAgICAgICAgIGluc3RhbmNlLmRlY29kZShidWZmZXJlZENhbGxzW2JpXVswXSwgYnVmZmVyZWRDYWxsc1tiaV1bMV0sIGJ1ZmZlcmVkQ2FsbHNbYmldWzJdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGJ1ZmZlcmVkQ2FsbHMgPSBbXTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGluc3RhbmNlLm9uRGVjb2RlclJlYWR5KGluc3RhbmNlKTtcclxuXHJcbiAgICB9KTtcclxuICBcclxuXHJcbiAgfTtcclxuXHJcbiAgXHJcbiAgRGVjb2Rlci5wcm90b3R5cGUgPSB7XHJcbiAgICBcclxuICB9O1xyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIC8qXHJcbiAgXHJcbiAgICBhc20uanMgaW1wbGVtZW50YXRpb24gb2YgYSB5dXYgdG8gcmdiIGNvbnZlcnRvclxyXG4gICAgcHJvdmlkZWQgYnkgQHNvbGl0b240XHJcbiAgICBcclxuICAgIGJhc2VkIG9uIFxyXG4gICAgaHR0cDovL3d3dy53b3Jkc2FyZXRveXMuY29tLzIwMTMvMTAvMTgvbWFraW5nLXl1di1jb252ZXJzaW9uLWEtbGl0dGxlLWZhc3Rlci9cclxuICBcclxuICAqL1xyXG4gIFxyXG4gIFxyXG4gIC8vIGZhY3RvcnkgdG8gY3JlYXRlIGFzbS5qcyB5dXYgLT4gcmdiIGNvbnZlcnRvciBmb3IgYSBnaXZlbiByZXNvbHV0aW9uXHJcbiAgdmFyIGFzbUluc3RhbmNlcyA9IHt9O1xyXG4gIHZhciBnZXRBc20gPSBmdW5jdGlvbihwYXJXaWR0aCwgcGFySGVpZ2h0KXtcclxuICAgIHZhciBpZFN0ciA9IFwiXCIgKyBwYXJXaWR0aCArIFwieFwiICsgcGFySGVpZ2h0O1xyXG4gICAgaWYgKGFzbUluc3RhbmNlc1tpZFN0cl0pe1xyXG4gICAgICByZXR1cm4gYXNtSW5zdGFuY2VzW2lkU3RyXTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGx1bWFTaXplID0gcGFyV2lkdGggKiBwYXJIZWlnaHQ7XHJcbiAgICB2YXIgY2hyb21hU2l6ZSA9IChsdW1hU2l6ZXwwKSA+PiAyO1xyXG5cclxuICAgIHZhciBpbnBTaXplID0gbHVtYVNpemUgKyBjaHJvbWFTaXplICsgY2hyb21hU2l6ZTtcclxuICAgIHZhciBvdXRTaXplID0gcGFyV2lkdGggKiBwYXJIZWlnaHQgKiA0O1xyXG4gICAgdmFyIGNhY2hlU2l6ZSA9IE1hdGgucG93KDIsIDI0KSAqIDQ7XHJcbiAgICB2YXIgc2l6ZSA9IGlucFNpemUgKyBvdXRTaXplICsgY2FjaGVTaXplO1xyXG5cclxuICAgIHZhciBjaHVua1NpemUgPSBNYXRoLnBvdygyLCAyNCk7XHJcbiAgICB2YXIgaGVhcFNpemUgPSBjaHVua1NpemU7XHJcbiAgICB3aGlsZSAoaGVhcFNpemUgPCBzaXplKXtcclxuICAgICAgaGVhcFNpemUgKz0gY2h1bmtTaXplO1xyXG4gICAgfTtcclxuICAgIHZhciBoZWFwID0gbmV3IEFycmF5QnVmZmVyKGhlYXBTaXplKTtcclxuXHJcbiAgICB2YXIgcmVzID0gYXNtRmFjdG9yeShnbG9iYWwsIHt9LCBoZWFwKTtcclxuICAgIHJlcy5pbml0KHBhcldpZHRoLCBwYXJIZWlnaHQpO1xyXG4gICAgYXNtSW5zdGFuY2VzW2lkU3RyXSA9IHJlcztcclxuXHJcbiAgICByZXMuaGVhcCA9IGhlYXA7XHJcbiAgICByZXMub3V0ID0gbmV3IFVpbnQ4QXJyYXkoaGVhcCwgMCwgb3V0U2l6ZSk7XHJcbiAgICByZXMuaW5wID0gbmV3IFVpbnQ4QXJyYXkoaGVhcCwgb3V0U2l6ZSwgaW5wU2l6ZSk7XHJcbiAgICByZXMub3V0U2l6ZSA9IG91dFNpemU7XHJcblxyXG4gICAgcmV0dXJuIHJlcztcclxuICB9O1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gYXNtRmFjdG9yeShzdGRsaWIsIGZvcmVpZ24sIGhlYXApIHtcclxuICAgIFwidXNlIGFzbVwiO1xyXG5cclxuICAgIHZhciBpbXVsID0gc3RkbGliLk1hdGguaW11bDtcclxuICAgIHZhciBtaW4gPSBzdGRsaWIuTWF0aC5taW47XHJcbiAgICB2YXIgbWF4ID0gc3RkbGliLk1hdGgubWF4O1xyXG4gICAgdmFyIHBvdyA9IHN0ZGxpYi5NYXRoLnBvdztcclxuICAgIHZhciBvdXQgPSBuZXcgc3RkbGliLlVpbnQ4QXJyYXkoaGVhcCk7XHJcbiAgICB2YXIgb3V0MzIgPSBuZXcgc3RkbGliLlVpbnQzMkFycmF5KGhlYXApO1xyXG4gICAgdmFyIGlucCA9IG5ldyBzdGRsaWIuVWludDhBcnJheShoZWFwKTtcclxuICAgIHZhciBtZW0gPSBuZXcgc3RkbGliLlVpbnQ4QXJyYXkoaGVhcCk7XHJcbiAgICB2YXIgbWVtMzIgPSBuZXcgc3RkbGliLlVpbnQzMkFycmF5KGhlYXApO1xyXG5cclxuICAgIC8vIGZvciBkb3VibGUgYWxnb1xyXG4gICAgLyp2YXIgdnQgPSAxLjM3MDcwNTtcclxuICAgIHZhciBndCA9IDAuNjk4MDAxO1xyXG4gICAgdmFyIGd0MiA9IDAuMzM3NjMzO1xyXG4gICAgdmFyIGJ0ID0gMS43MzI0NDY7Ki9cclxuXHJcbiAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgdmFyIGhlaWdodCA9IDA7XHJcbiAgICB2YXIgbHVtYVNpemUgPSAwO1xyXG4gICAgdmFyIGNocm9tYVNpemUgPSAwO1xyXG4gICAgdmFyIGlucFNpemUgPSAwO1xyXG4gICAgdmFyIG91dFNpemUgPSAwO1xyXG5cclxuICAgIHZhciBpbnBTdGFydCA9IDA7XHJcbiAgICB2YXIgb3V0U3RhcnQgPSAwO1xyXG5cclxuICAgIHZhciB3aWR0aEZvdXIgPSAwO1xyXG5cclxuICAgIHZhciBjYWNoZVN0YXJ0ID0gMDtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdChwYXJXaWR0aCwgcGFySGVpZ2h0KXtcclxuICAgICAgcGFyV2lkdGggPSBwYXJXaWR0aHwwO1xyXG4gICAgICBwYXJIZWlnaHQgPSBwYXJIZWlnaHR8MDtcclxuXHJcbiAgICAgIHZhciBpID0gMDtcclxuICAgICAgdmFyIHMgPSAwO1xyXG5cclxuICAgICAgd2lkdGggPSBwYXJXaWR0aDtcclxuICAgICAgd2lkdGhGb3VyID0gaW11bChwYXJXaWR0aCwgNCl8MDtcclxuICAgICAgaGVpZ2h0ID0gcGFySGVpZ2h0O1xyXG4gICAgICBsdW1hU2l6ZSA9IGltdWwod2lkdGh8MCwgaGVpZ2h0fDApfDA7XHJcbiAgICAgIGNocm9tYVNpemUgPSAobHVtYVNpemV8MCkgPj4gMjtcclxuICAgICAgb3V0U2l6ZSA9IGltdWwoaW11bCh3aWR0aCwgaGVpZ2h0KXwwLCA0KXwwO1xyXG4gICAgICBpbnBTaXplID0gKChsdW1hU2l6ZSArIGNocm9tYVNpemUpfDAgKyBjaHJvbWFTaXplKXwwO1xyXG5cclxuICAgICAgb3V0U3RhcnQgPSAwO1xyXG4gICAgICBpbnBTdGFydCA9IChvdXRTdGFydCArIG91dFNpemUpfDA7XHJcbiAgICAgIGNhY2hlU3RhcnQgPSAoaW5wU3RhcnQgKyBpbnBTaXplKXwwO1xyXG5cclxuICAgICAgLy8gaW5pdGlhbGl6aW5nIG1lbW9yeSAodG8gYmUgb24gdGhlIHNhZmUgc2lkZSlcclxuICAgICAgcyA9IH5+KCtwb3coKzIsICsyNCkpO1xyXG4gICAgICBzID0gaW11bChzLCA0KXwwO1xyXG5cclxuICAgICAgZm9yIChpID0gMHwwOyAoKGl8MCkgPCAoc3wwKSl8MDsgaSA9IChpICsgNCl8MCl7XHJcbiAgICAgICAgbWVtMzJbKChjYWNoZVN0YXJ0ICsgaSl8MCkgPj4gMl0gPSAwO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBkb2l0KCl7XHJcbiAgICAgIHZhciB5c3RhcnQgPSAwO1xyXG4gICAgICB2YXIgdXN0YXJ0ID0gMDtcclxuICAgICAgdmFyIHZzdGFydCA9IDA7XHJcblxyXG4gICAgICB2YXIgeSA9IDA7XHJcbiAgICAgIHZhciB5biA9IDA7XHJcbiAgICAgIHZhciB1ID0gMDtcclxuICAgICAgdmFyIHYgPSAwO1xyXG5cclxuICAgICAgdmFyIG8gPSAwO1xyXG5cclxuICAgICAgdmFyIGxpbmUgPSAwO1xyXG4gICAgICB2YXIgY29sID0gMDtcclxuXHJcbiAgICAgIHZhciB1c2F2ZSA9IDA7XHJcbiAgICAgIHZhciB2c2F2ZSA9IDA7XHJcblxyXG4gICAgICB2YXIgb3N0YXJ0ID0gMDtcclxuICAgICAgdmFyIGNhY2hlQWRyID0gMDtcclxuXHJcbiAgICAgIG9zdGFydCA9IG91dFN0YXJ0fDA7XHJcblxyXG4gICAgICB5c3RhcnQgPSBpbnBTdGFydHwwO1xyXG4gICAgICB1c3RhcnQgPSAoeXN0YXJ0ICsgbHVtYVNpemV8MCl8MDtcclxuICAgICAgdnN0YXJ0ID0gKHVzdGFydCArIGNocm9tYVNpemUpfDA7XHJcblxyXG4gICAgICBmb3IgKGxpbmUgPSAwOyAobGluZXwwKSA8IChoZWlnaHR8MCk7IGxpbmUgPSAobGluZSArIDIpfDApe1xyXG4gICAgICAgIHVzYXZlID0gdXN0YXJ0O1xyXG4gICAgICAgIHZzYXZlID0gdnN0YXJ0O1xyXG4gICAgICAgIGZvciAoY29sID0gMDsgKGNvbHwwKSA8ICh3aWR0aHwwKTsgY29sID0gKGNvbCArIDIpfDApe1xyXG4gICAgICAgICAgeSA9IGlucFt5c3RhcnQgPj4gMF18MDtcclxuICAgICAgICAgIHluID0gaW5wWygoeXN0YXJ0ICsgd2lkdGgpfDApID4+IDBdfDA7XHJcblxyXG4gICAgICAgICAgdSA9IGlucFt1c3RhcnQgPj4gMF18MDtcclxuICAgICAgICAgIHYgPSBpbnBbdnN0YXJ0ID4+IDBdfDA7XHJcblxyXG4gICAgICAgICAgY2FjaGVBZHIgPSAoKCgoKHkgPDwgMTYpfDApICsgKCh1IDw8IDgpfDApKXwwKSArIHYpfDA7XHJcbiAgICAgICAgICBvID0gbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdfDA7XHJcbiAgICAgICAgICBpZiAobyl7fWVsc2V7XHJcbiAgICAgICAgICAgIG8gPSB5dXYycmdiY2FsYyh5LHUsdil8MDtcclxuICAgICAgICAgICAgbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdID0gb3wwO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG1lbTMyW29zdGFydCA+PiAyXSA9IG87XHJcblxyXG4gICAgICAgICAgY2FjaGVBZHIgPSAoKCgoKHluIDw8IDE2KXwwKSArICgodSA8PCA4KXwwKSl8MCkgKyB2KXwwO1xyXG4gICAgICAgICAgbyA9IG1lbTMyWygoY2FjaGVTdGFydCArIGNhY2hlQWRyKXwwKSA+PiAyXXwwO1xyXG4gICAgICAgICAgaWYgKG8pe31lbHNle1xyXG4gICAgICAgICAgICBvID0geXV2MnJnYmNhbGMoeW4sdSx2KXwwO1xyXG4gICAgICAgICAgICBtZW0zMlsoKGNhY2hlU3RhcnQgKyBjYWNoZUFkcil8MCkgPj4gMl0gPSBvfDA7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgbWVtMzJbKChvc3RhcnQgKyB3aWR0aEZvdXIpfDApID4+IDJdID0gbztcclxuXHJcbiAgICAgICAgICAvL3l1djJyZ2I1KHksIHUsIHYsIG9zdGFydCk7XHJcbiAgICAgICAgICAvL3l1djJyZ2I1KHluLCB1LCB2LCAob3N0YXJ0ICsgd2lkdGhGb3VyKXwwKTtcclxuICAgICAgICAgIG9zdGFydCA9IChvc3RhcnQgKyA0KXwwO1xyXG5cclxuICAgICAgICAgIC8vIG5leHQgc3RlcCBvbmx5IGZvciB5LiB1IGFuZCB2IHN0YXkgdGhlIHNhbWVcclxuICAgICAgICAgIHlzdGFydCA9ICh5c3RhcnQgKyAxKXwwO1xyXG4gICAgICAgICAgeSA9IGlucFt5c3RhcnQgPj4gMF18MDtcclxuICAgICAgICAgIHluID0gaW5wWygoeXN0YXJ0ICsgd2lkdGgpfDApID4+IDBdfDA7XHJcblxyXG4gICAgICAgICAgLy95dXYycmdiNSh5LCB1LCB2LCBvc3RhcnQpO1xyXG4gICAgICAgICAgY2FjaGVBZHIgPSAoKCgoKHkgPDwgMTYpfDApICsgKCh1IDw8IDgpfDApKXwwKSArIHYpfDA7XHJcbiAgICAgICAgICBvID0gbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdfDA7XHJcbiAgICAgICAgICBpZiAobyl7fWVsc2V7XHJcbiAgICAgICAgICAgIG8gPSB5dXYycmdiY2FsYyh5LHUsdil8MDtcclxuICAgICAgICAgICAgbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdID0gb3wwO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIG1lbTMyW29zdGFydCA+PiAyXSA9IG87XHJcblxyXG4gICAgICAgICAgLy95dXYycmdiNSh5biwgdSwgdiwgKG9zdGFydCArIHdpZHRoRm91cil8MCk7XHJcbiAgICAgICAgICBjYWNoZUFkciA9ICgoKCgoeW4gPDwgMTYpfDApICsgKCh1IDw8IDgpfDApKXwwKSArIHYpfDA7XHJcbiAgICAgICAgICBvID0gbWVtMzJbKChjYWNoZVN0YXJ0ICsgY2FjaGVBZHIpfDApID4+IDJdfDA7XHJcbiAgICAgICAgICBpZiAobyl7fWVsc2V7XHJcbiAgICAgICAgICAgIG8gPSB5dXYycmdiY2FsYyh5bix1LHYpfDA7XHJcbiAgICAgICAgICAgIG1lbTMyWygoY2FjaGVTdGFydCArIGNhY2hlQWRyKXwwKSA+PiAyXSA9IG98MDtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBtZW0zMlsoKG9zdGFydCArIHdpZHRoRm91cil8MCkgPj4gMl0gPSBvO1xyXG4gICAgICAgICAgb3N0YXJ0ID0gKG9zdGFydCArIDQpfDA7XHJcblxyXG4gICAgICAgICAgLy9hbGwgcG9zaXRpb25zIGluYyAxXHJcblxyXG4gICAgICAgICAgeXN0YXJ0ID0gKHlzdGFydCArIDEpfDA7XHJcbiAgICAgICAgICB1c3RhcnQgPSAodXN0YXJ0ICsgMSl8MDtcclxuICAgICAgICAgIHZzdGFydCA9ICh2c3RhcnQgKyAxKXwwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb3N0YXJ0ID0gKG9zdGFydCArIHdpZHRoRm91cil8MDtcclxuICAgICAgICB5c3RhcnQgPSAoeXN0YXJ0ICsgd2lkdGgpfDA7XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24geXV2MnJnYmNhbGMoeSwgdSwgdil7XHJcbiAgICAgIHkgPSB5fDA7XHJcbiAgICAgIHUgPSB1fDA7XHJcbiAgICAgIHYgPSB2fDA7XHJcblxyXG4gICAgICB2YXIgciA9IDA7XHJcbiAgICAgIHZhciBnID0gMDtcclxuICAgICAgdmFyIGIgPSAwO1xyXG5cclxuICAgICAgdmFyIG8gPSAwO1xyXG5cclxuICAgICAgdmFyIGEwID0gMDtcclxuICAgICAgdmFyIGExID0gMDtcclxuICAgICAgdmFyIGEyID0gMDtcclxuICAgICAgdmFyIGEzID0gMDtcclxuICAgICAgdmFyIGE0ID0gMDtcclxuXHJcbiAgICAgIGEwID0gaW11bCgxMTkyLCAoeSAtIDE2KXwwKXwwO1xyXG4gICAgICBhMSA9IGltdWwoMTYzNCwgKHYgLSAxMjgpfDApfDA7XHJcbiAgICAgIGEyID0gaW11bCg4MzIsICh2IC0gMTI4KXwwKXwwO1xyXG4gICAgICBhMyA9IGltdWwoNDAwLCAodSAtIDEyOCl8MCl8MDtcclxuICAgICAgYTQgPSBpbXVsKDIwNjYsICh1IC0gMTI4KXwwKXwwO1xyXG5cclxuICAgICAgciA9ICgoKGEwICsgYTEpfDApID4+IDEwKXwwO1xyXG4gICAgICBnID0gKCgoKChhMCAtIGEyKXwwKSAtIGEzKXwwKSA+PiAxMCl8MDtcclxuICAgICAgYiA9ICgoKGEwICsgYTQpfDApID4+IDEwKXwwO1xyXG5cclxuICAgICAgaWYgKCgoKHIgJiAyNTUpfDApICE9IChyfDApKXwwKXtcclxuICAgICAgICByID0gbWluKDI1NSwgbWF4KDAsIHJ8MCl8MCl8MDtcclxuICAgICAgfTtcclxuICAgICAgaWYgKCgoKGcgJiAyNTUpfDApICE9IChnfDApKXwwKXtcclxuICAgICAgICBnID0gbWluKDI1NSwgbWF4KDAsIGd8MCl8MCl8MDtcclxuICAgICAgfTtcclxuICAgICAgaWYgKCgoKGIgJiAyNTUpfDApICE9IChifDApKXwwKXtcclxuICAgICAgICBiID0gbWluKDI1NSwgbWF4KDAsIGJ8MCl8MCl8MDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIG8gPSAyNTU7XHJcbiAgICAgIG8gPSAobyA8PCA4KXwwO1xyXG4gICAgICBvID0gKG8gKyBiKXwwO1xyXG4gICAgICBvID0gKG8gPDwgOCl8MDtcclxuICAgICAgbyA9IChvICsgZyl8MDtcclxuICAgICAgbyA9IChvIDw8IDgpfDA7XHJcbiAgICAgIG8gPSAobyArIHIpfDA7XHJcblxyXG4gICAgICByZXR1cm4gb3wwO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbml0OiBpbml0LFxyXG4gICAgICBkb2l0OiBkb2l0XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIFxyXG4gIC8qXHJcbiAgICBwb3RlbnRpYWwgd29ya2VyIGluaXRpYWxpemF0aW9uXHJcbiAgXHJcbiAgKi9cclxuICBcclxuICBcclxuICBpZiAodHlwZW9mIHNlbGYgIT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICB2YXIgaXNXb3JrZXIgPSBmYWxzZTtcclxuICAgIHZhciBkZWNvZGVyO1xyXG4gICAgdmFyIHJldXNlTWVtb3J5ID0gZmFsc2U7XHJcbiAgICB2YXIgc2xpY2VNb2RlID0gZmFsc2U7XHJcbiAgICB2YXIgc2xpY2VOdW0gPSAwO1xyXG4gICAgdmFyIHNsaWNlQ250ID0gMDtcclxuICAgIHZhciBsYXN0U2xpY2VOdW0gPSAwO1xyXG4gICAgdmFyIHNsaWNlSW5mb0FyO1xyXG4gICAgdmFyIGxhc3RCdWY7XHJcbiAgICB2YXIgYXdhaXRpbmcgPSAwO1xyXG4gICAgdmFyIHBpbGUgPSBbXTtcclxuICAgIHZhciBzdGFydERlY29kaW5nO1xyXG4gICAgdmFyIGZpbmlzaERlY29kaW5nO1xyXG4gICAgdmFyIHRpbWVEZWNvZGluZztcclxuICAgIFxyXG4gICAgdmFyIG1lbUFyID0gW107XHJcbiAgICB2YXIgZ2V0TWVtID0gZnVuY3Rpb24obGVuZ3RoKXtcclxuICAgICAgaWYgKG1lbUFyLmxlbmd0aCl7XHJcbiAgICAgICAgdmFyIHUgPSBtZW1Bci5zaGlmdCgpO1xyXG4gICAgICAgIHdoaWxlICh1ICYmIHUuYnl0ZUxlbmd0aCAhPT0gbGVuZ3RoKXtcclxuICAgICAgICAgIHUgPSBtZW1Bci5zaGlmdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHUpe1xyXG4gICAgICAgICAgcmV0dXJuIHU7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xyXG4gICAgfTsgXHJcbiAgICBcclxuICAgIHZhciBjb3B5U2xpY2UgPSBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgaW5mb0FyLCB3aWR0aCwgaGVpZ2h0KXtcclxuICAgICAgXHJcbiAgICAgIHZhciBsZW5ndGggPSB3aWR0aCAqIGhlaWdodDtcclxuICAgICAgdmFyIGxlbmd0aDQgPSBsZW5ndGggLyA0XHJcbiAgICAgIHZhciBwbGFuZTIgPSBsZW5ndGg7XHJcbiAgICAgIHZhciBwbGFuZTMgPSBsZW5ndGggKyBsZW5ndGg0O1xyXG4gICAgICBcclxuICAgICAgdmFyIGNvcHkxNiA9IGZ1bmN0aW9uKHBhckJlZ2luLCBwYXJFbmQpe1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7ICsraSl7XHJcbiAgICAgICAgICB2YXIgYmVnaW4gPSBwYXJCZWdpbiArICh3aWR0aCAqIGkpO1xyXG4gICAgICAgICAgdmFyIGVuZCA9IHBhckVuZCArICh3aWR0aCAqIGkpXHJcbiAgICAgICAgICB0YXJnZXQuc2V0KHNvdXJjZS5zdWJhcnJheShiZWdpbiwgZW5kKSwgYmVnaW4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciBjb3B5OCA9IGZ1bmN0aW9uKHBhckJlZ2luLCBwYXJFbmQpe1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgKytpKXtcclxuICAgICAgICAgIHZhciBiZWdpbiA9IHBhckJlZ2luICsgKCh3aWR0aCAvIDIpICogaSk7XHJcbiAgICAgICAgICB2YXIgZW5kID0gcGFyRW5kICsgKCh3aWR0aCAvIDIpICogaSlcclxuICAgICAgICAgIHRhcmdldC5zZXQoc291cmNlLnN1YmFycmF5KGJlZ2luLCBlbmQpLCBiZWdpbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuICAgICAgdmFyIGNvcHlDaHVuayA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpe1xyXG4gICAgICAgIHRhcmdldC5zZXQoc291cmNlLnN1YmFycmF5KGJlZ2luLCBlbmQpLCBiZWdpbik7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICB2YXIgYmVnaW4gPSBpbmZvQXJbMF07XHJcbiAgICAgIHZhciBlbmQgPSBpbmZvQXJbMV07XHJcbiAgICAgIGlmIChlbmQgPiAwKXtcclxuICAgICAgICBjb3B5MTYoYmVnaW4sIGVuZCk7XHJcbiAgICAgICAgY29weTgoaW5mb0FyWzJdLCBpbmZvQXJbM10pO1xyXG4gICAgICAgIGNvcHk4KGluZm9Bcls0XSwgaW5mb0FyWzVdKTtcclxuICAgICAgfTtcclxuICAgICAgYmVnaW4gPSBpbmZvQXJbNl07XHJcbiAgICAgIGVuZCA9IGluZm9Bcls3XTtcclxuICAgICAgaWYgKGVuZCA+IDApe1xyXG4gICAgICAgIGNvcHkxNihiZWdpbiwgZW5kKTtcclxuICAgICAgICBjb3B5OChpbmZvQXJbOF0sIGluZm9Bcls5XSk7XHJcbiAgICAgICAgY29weTgoaW5mb0FyWzEwXSwgaW5mb0FyWzExXSk7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBiZWdpbiA9IGluZm9BclsxMl07XHJcbiAgICAgIGVuZCA9IGluZm9BclsxNV07XHJcbiAgICAgIGlmIChlbmQgPiAwKXtcclxuICAgICAgICBjb3B5Q2h1bmsoYmVnaW4sIGVuZCk7XHJcbiAgICAgICAgY29weUNodW5rKGluZm9BclsxM10sIGluZm9BclsxNl0pO1xyXG4gICAgICAgIGNvcHlDaHVuayhpbmZvQXJbMTRdLCBpbmZvQXJbMTddKTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB2YXIgc2xpY2VNc2dGdW4gPSBmdW5jdGlvbigpe307XHJcbiAgICBcclxuICAgIHZhciBzZXRTbGljZUNudCA9IGZ1bmN0aW9uKHBhclNsaWNlQ250KXtcclxuICAgICAgc2xpY2VDbnQgPSBwYXJTbGljZUNudDtcclxuICAgICAgbGFzdFNsaWNlTnVtID0gc2xpY2VDbnQgLSAxO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaXNXb3JrZXIpe1xyXG4gICAgICAgIGlmIChyZXVzZU1lbW9yeSl7XHJcbiAgICAgICAgICBpZiAoZS5kYXRhLnJldXNlKXtcclxuICAgICAgICAgICAgbWVtQXIucHVzaChlLmRhdGEucmV1c2UpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChlLmRhdGEuYnVmKXtcclxuICAgICAgICAgIGlmIChzbGljZU1vZGUgJiYgYXdhaXRpbmcgIT09IDApe1xyXG4gICAgICAgICAgICBwaWxlLnB1c2goZS5kYXRhKTtcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkZWNvZGVyLmRlY29kZShcclxuICAgICAgICAgICAgICBuZXcgVWludDhBcnJheShlLmRhdGEuYnVmLCBlLmRhdGEub2Zmc2V0IHx8IDAsIGUuZGF0YS5sZW5ndGgpLCBcclxuICAgICAgICAgICAgICBlLmRhdGEuaW5mbywgXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmIChzbGljZU1vZGUgJiYgc2xpY2VOdW0gIT09IGxhc3RTbGljZU51bSl7XHJcbiAgICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKGUuZGF0YSwgW2UuZGF0YS5idWZdKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChlLmRhdGEuc2xpY2Upe1xyXG4gICAgICAgICAgLy8gdXBkYXRlIHJlZiBwaWNcclxuICAgICAgICAgIHZhciBjb3B5U3RhcnQgPSBub3dWYWx1ZSgpO1xyXG4gICAgICAgICAgY29weVNsaWNlKG5ldyBVaW50OEFycmF5KGUuZGF0YS5zbGljZSksIGxhc3RCdWYsIGUuZGF0YS5pbmZvc1swXS5zbGljZUluZm9BciwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTtcclxuICAgICAgICAgIC8vIGlzIGl0IHRoZSBvbmU/IHRoZW4gd2UgbmVlZCB0byB1cGRhdGUgaXRcclxuICAgICAgICAgIGlmIChlLmRhdGEudGhlT25lKXtcclxuICAgICAgICAgICAgY29weVNsaWNlKGxhc3RCdWYsIG5ldyBVaW50OEFycmF5KGUuZGF0YS5zbGljZSksIHNsaWNlSW5mb0FyLCBlLmRhdGEud2lkdGgsIGUuZGF0YS5oZWlnaHQpO1xyXG4gICAgICAgICAgICBpZiAodGltZURlY29kaW5nID4gZS5kYXRhLmluZm9zWzBdLnRpbWVEZWNvZGluZyl7XHJcbiAgICAgICAgICAgICAgZS5kYXRhLmluZm9zWzBdLnRpbWVEZWNvZGluZyA9IHRpbWVEZWNvZGluZztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZS5kYXRhLmluZm9zWzBdLnRpbWVDb3B5ICs9IChub3dWYWx1ZSgpIC0gY29weVN0YXJ0KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAvLyBtb3ZlIG9uXHJcbiAgICAgICAgICBwb3N0TWVzc2FnZShlLmRhdGEsIFtlLmRhdGEuc2xpY2VdKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gbmV4dCBmcmFtZSBpbiB0aGUgcGlwZT9cclxuICAgICAgICAgIGF3YWl0aW5nIC09IDE7XHJcbiAgICAgICAgICBpZiAoYXdhaXRpbmcgPT09IDAgJiYgcGlsZS5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHBpbGUuc2hpZnQoKTtcclxuICAgICAgICAgICAgZGVjb2Rlci5kZWNvZGUoXHJcbiAgICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoZGF0YS5idWYsIGRhdGEub2Zmc2V0IHx8IDAsIGRhdGEubGVuZ3RoKSwgXHJcbiAgICAgICAgICAgICAgZGF0YS5pbmZvLCBcclxuICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsaWNlTW9kZSAmJiBzbGljZU51bSAhPT0gbGFzdFNsaWNlTnVtKXtcclxuICAgICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2UoZGF0YSwgW2RhdGEuYnVmXSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZS5kYXRhLnNldFNsaWNlQ250KXtcclxuICAgICAgICAgIHNldFNsaWNlQ250KGUuZGF0YS5zbGljZUNudCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgaWYgKGUuZGF0YSAmJiBlLmRhdGEudHlwZSA9PT0gXCJCcm9hZHdheS5qcyAtIFdvcmtlciBpbml0XCIpe1xyXG4gICAgICAgICAgaXNXb3JrZXIgPSB0cnVlO1xyXG4gICAgICAgICAgZGVjb2RlciA9IG5ldyBEZWNvZGVyKGUuZGF0YS5vcHRpb25zKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGUuZGF0YS5vcHRpb25zLnNsaWNlTW9kZSl7XHJcbiAgICAgICAgICAgIHJldXNlTWVtb3J5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2xpY2VNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2xpY2VOdW0gPSBlLmRhdGEub3B0aW9ucy5zbGljZU51bTtcclxuICAgICAgICAgICAgc2V0U2xpY2VDbnQoZS5kYXRhLm9wdGlvbnMuc2xpY2VDbnQpO1xyXG5cclxuICAgICAgICAgICAgZGVjb2Rlci5vblBpY3R1cmVEZWNvZGVkID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgaW5mb3MpIHtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBidWZmZXIgbmVlZHMgdG8gYmUgY29waWVkIGJlY2F1c2Ugd2UgZ2l2ZSB1cCBvd25lcnNoaXBcclxuICAgICAgICAgICAgICB2YXIgY29weVU4ID0gbmV3IFVpbnQ4QXJyYXkoZ2V0TWVtKGJ1ZmZlci5sZW5ndGgpKTtcclxuICAgICAgICAgICAgICBjb3B5U2xpY2UoYnVmZmVyLCBjb3B5VTgsIGluZm9zWzBdLnNsaWNlSW5mb0FyLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBzdGFydERlY29kaW5nID0gaW5mb3NbMF0uc3RhcnREZWNvZGluZztcclxuICAgICAgICAgICAgICBmaW5pc2hEZWNvZGluZyA9IGluZm9zWzBdLmZpbmlzaERlY29kaW5nO1xyXG4gICAgICAgICAgICAgIHRpbWVEZWNvZGluZyA9IGZpbmlzaERlY29kaW5nIC0gc3RhcnREZWNvZGluZztcclxuICAgICAgICAgICAgICBpbmZvc1swXS50aW1lRGVjb2RpbmcgPSB0aW1lRGVjb2Rpbmc7XHJcbiAgICAgICAgICAgICAgaW5mb3NbMF0udGltZUNvcHkgPSAwO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHNsaWNlOiBjb3B5VTguYnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgc2xpY2VOdW06IHNsaWNlTnVtLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLCBcclxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LCBcclxuICAgICAgICAgICAgICAgIGluZm9zOiBpbmZvc1xyXG4gICAgICAgICAgICAgIH0sIFtjb3B5VTguYnVmZmVyXSk7IC8vIDJuZCBwYXJhbWV0ZXIgaXMgdXNlZCB0byBpbmRpY2F0ZSB0cmFuc2ZlciBvZiBvd25lcnNoaXBcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBhd2FpdGluZyA9IHNsaWNlQ250IC0gMTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBsYXN0QnVmID0gYnVmZmVyO1xyXG4gICAgICAgICAgICAgIHNsaWNlSW5mb0FyID0gaW5mb3NbMF0uc2xpY2VJbmZvQXI7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH1lbHNlIGlmIChlLmRhdGEub3B0aW9ucy5yZXVzZU1lbW9yeSl7XHJcbiAgICAgICAgICAgIHJldXNlTWVtb3J5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZGVjb2Rlci5vblBpY3R1cmVEZWNvZGVkID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgaW5mb3MpIHtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBidWZmZXIgbmVlZHMgdG8gYmUgY29waWVkIGJlY2F1c2Ugd2UgZ2l2ZSB1cCBvd25lcnNoaXBcclxuICAgICAgICAgICAgICB2YXIgY29weVU4ID0gbmV3IFVpbnQ4QXJyYXkoZ2V0TWVtKGJ1ZmZlci5sZW5ndGgpKTtcclxuICAgICAgICAgICAgICBjb3B5VTguc2V0KCBidWZmZXIsIDAsIGJ1ZmZlci5sZW5ndGggKTtcclxuXHJcbiAgICAgICAgICAgICAgcG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgYnVmOiBjb3B5VTguYnVmZmVyLCBcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogYnVmZmVyLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCwgXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCwgXHJcbiAgICAgICAgICAgICAgICBpbmZvczogaW5mb3NcclxuICAgICAgICAgICAgICB9LCBbY29weVU4LmJ1ZmZlcl0pOyAvLyAybmQgcGFyYW1ldGVyIGlzIHVzZWQgdG8gaW5kaWNhdGUgdHJhbnNmZXIgb2Ygb3duZXJzaGlwXHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkZWNvZGVyLm9uUGljdHVyZURlY29kZWQgPSBmdW5jdGlvbiAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBpbmZvcykge1xyXG4gICAgICAgICAgICAgIGlmIChidWZmZXIpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gYnVmZmVyIG5lZWRzIHRvIGJlIGNvcGllZCBiZWNhdXNlIHdlIGdpdmUgdXAgb3duZXJzaGlwXHJcbiAgICAgICAgICAgICAgdmFyIGNvcHlVOCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgIGNvcHlVOC5zZXQoIGJ1ZmZlciwgMCwgYnVmZmVyLmxlbmd0aCApO1xyXG5cclxuICAgICAgICAgICAgICBwb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICBidWY6IGNvcHlVOC5idWZmZXIsIFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBidWZmZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLCBcclxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LCBcclxuICAgICAgICAgICAgICAgIGluZm9zOiBpbmZvc1xyXG4gICAgICAgICAgICAgIH0sIFtjb3B5VTguYnVmZmVyXSk7IC8vIDJuZCBwYXJhbWV0ZXIgaXMgdXNlZCB0byBpbmRpY2F0ZSB0cmFuc2ZlciBvZiBvd25lcnNoaXBcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcG9zdE1lc3NhZ2UoeyBjb25zb2xlTG9nOiBcImJyb2Fkd2F5IHdvcmtlciBpbml0aWFsaXplZFwiIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcblxyXG5cclxuICAgIH0sIGZhbHNlKTtcclxuICB9O1xyXG4gIFxyXG4gIERlY29kZXIubm93VmFsdWUgPSBub3dWYWx1ZTtcclxuICBcclxuICByZXR1cm4gRGVjb2RlcjtcclxuICBcclxuICB9KSgpO1xyXG4gIFxyXG4gIFxyXG59KSk7XHJcblxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZzOyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2U7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0ICcuLi9zdHlsZS9hcHAuY3NzJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudFNjcmNweSB9IGZyb20gJy4vZ29vZ0RldmljZS9jbGllbnQvU3RyZWFtQ2xpZW50U2NyY3B5JztcbmltcG9ydCB7IEhvc3RUcmFja2VyIH0gZnJvbSAnLi9jbGllbnQvSG9zdFRyYWNrZXInO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gJy4vY2xpZW50L1Rvb2wnO1xuXG53aW5kb3cub25sb2FkID0gYXN5bmMgZnVuY3Rpb24gKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGhhc2ggPSBsb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jIS8sICcnKTtcbiAgICBjb25zdCBwYXJzZWRRdWVyeSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoaGFzaCk7XG4gICAgY29uc3QgYWN0aW9uID0gcGFyc2VkUXVlcnkuZ2V0KCdhY3Rpb24nKTtcbiAgICBjb25zdCBudW1iZXIgPSBwYXJzZWRRdWVyeS5nZXQoJ251bWJlcicpO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgY29uc3QgeyBCcm9hZHdheVBsYXllciB9ID0gYXdhaXQgaW1wb3J0KCcuL3BsYXllci9Ccm9hZHdheVBsYXllcicpO1xuICAgIFN0cmVhbUNsaWVudFNjcmNweS5yZWdpc3RlclBsYXllcihCcm9hZHdheVBsYXllcik7XG4vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IE1zZVBsYXllciB9ID0gYXdhaXQgaW1wb3J0KCcuL3BsYXllci9Nc2VQbGF5ZXInKTtcbiAgICBTdHJlYW1DbGllbnRTY3JjcHkucmVnaXN0ZXJQbGF5ZXIoTXNlUGxheWVyKTtcbi8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IFRpbnlIMjY0UGxheWVyIH0gPSBhd2FpdCBpbXBvcnQoJy4vcGxheWVyL1RpbnlIMjY0UGxheWVyJyk7XG4gICAgU3RyZWFtQ2xpZW50U2NyY3B5LnJlZ2lzdGVyUGxheWVyKFRpbnlIMjY0UGxheWVyKTtcbi8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IFdlYkNvZGVjc1BsYXllciB9ID0gYXdhaXQgaW1wb3J0KCcuL3BsYXllci9XZWJDb2RlY3NQbGF5ZXInKTtcbiAgICBTdHJlYW1DbGllbnRTY3JjcHkucmVnaXN0ZXJQbGF5ZXIoV2ViQ29kZWNzUGxheWVyKTtcbi8vLy8vLy8vLy8vLy8vXG5cbiAgICBpZiAoYWN0aW9uID09PSBTdHJlYW1DbGllbnRTY3JjcHkuQUNUSU9OICYmIHR5cGVvZiBwYXJzZWRRdWVyeS5nZXQoJ3VkaWQnKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgJHtudW1iZXJ9IFske3BhcnNlZFF1ZXJ5LmdldCgndWRpZCcpfV1gO1xuICAgICAgICBTdHJlYW1DbGllbnRTY3JjcHkuc3RhcnQocGFyc2VkUXVlcnkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vXG4vLy8vLy8vLy8vLy8vL1xuXG4gICAgY29uc3QgdG9vbHM6IFRvb2xbXSA9IFtdO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGNvbnN0IHsgU2hlbGxDbGllbnQgfSA9IGF3YWl0IGltcG9ydCgnLi9nb29nRGV2aWNlL2NsaWVudC9TaGVsbENsaWVudCcpO1xuICAgIGlmIChhY3Rpb24gPT09IFNoZWxsQ2xpZW50LkFDVElPTiAmJiB0eXBlb2YgcGFyc2VkUXVlcnkuZ2V0KCd1ZGlkJykgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIFNoZWxsQ2xpZW50LnN0YXJ0KFNoZWxsQ2xpZW50LnBhcnNlUGFyYW1ldGVycyhwYXJzZWRRdWVyeSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvb2xzLnB1c2goU2hlbGxDbGllbnQpO1xuLy8vLy8vLy8vLy8vLy9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBjb25zdCB7IERldnRvb2xzQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJy4vZ29vZ0RldmljZS9jbGllbnQvRGV2dG9vbHNDbGllbnQnKTtcbiAgICBpZiAoYWN0aW9uID09PSBEZXZ0b29sc0NsaWVudC5BQ1RJT04pIHtcbiAgICAgICAgRGV2dG9vbHNDbGllbnQuc3RhcnQoRGV2dG9vbHNDbGllbnQucGFyc2VQYXJhbWV0ZXJzKHBhcnNlZFF1ZXJ5KSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9vbHMucHVzaChEZXZ0b29sc0NsaWVudCk7XG4vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGNvbnN0IHsgRmlsZUxpc3RpbmdDbGllbnQgfSA9IGF3YWl0IGltcG9ydCgnLi9nb29nRGV2aWNlL2NsaWVudC9GaWxlTGlzdGluZ0NsaWVudCcpO1xuICAgIGlmIChhY3Rpb24gPT09IEZpbGVMaXN0aW5nQ2xpZW50LkFDVElPTikge1xuICAgICAgICBGaWxlTGlzdGluZ0NsaWVudC5zdGFydChGaWxlTGlzdGluZ0NsaWVudC5wYXJzZVBhcmFtZXRlcnMocGFyc2VkUXVlcnkpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b29scy5wdXNoKEZpbGVMaXN0aW5nQ2xpZW50KTtcbi8vLy8vLy8vLy8vLy8vXG5cbiAgICBpZiAodG9vbHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHsgRGV2aWNlVHJhY2tlciB9ID0gYXdhaXQgaW1wb3J0KCcuL2dvb2dEZXZpY2UvY2xpZW50L0RldmljZVRyYWNrZXInKTtcbiAgICAgICAgdG9vbHMuZm9yRWFjaCgodG9vbCkgPT4ge1xuICAgICAgICAgICAgRGV2aWNlVHJhY2tlci5yZWdpc3RlclRvb2wodG9vbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBIb3N0VHJhY2tlci5zdGFydCgpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==